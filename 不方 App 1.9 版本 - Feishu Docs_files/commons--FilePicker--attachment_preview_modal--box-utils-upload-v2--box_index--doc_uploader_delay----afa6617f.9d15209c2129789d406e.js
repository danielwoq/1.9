(this.webpackJsonp=this.webpackJsonp||[]).push([["commons--FilePicker--attachment_preview_modal--box-utils-upload-v2--box_index--doc_uploader_delay----afa6617f"],{"3tWU":function(e,t,n){"use strict";n.d(t,"a",function(){return Qt});var i=n("cDf5"),u=n.n(i),c=function(){return(c=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};function a(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var i,r,o=n.call(e),s=[];try{for(;(void 0===t||0<t--)&&!(i=o.next()).done;)s.push(i.value)}catch(e){r={error:e}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return s}function l(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(a(arguments[t]));return e}var r=function(e,a){var t,n,i,r,o,s=function(e){var t=document.createElement("a");return t.href=e,t},c=window.screen.width,u=window.screen.height,l=window.navigator.appVersion,h=window.navigator.userAgent,d=window.navigator.language,p=document.referrer,f=p?s(p).hostname:"",g=(i=window.location.href,r=(r=s(i).search).slice(1),o={},r.split("&").forEach(function(e){var t,n,i=e.split("=");i.length&&(t=i[0],n=i[1]);try{o[t]=decodeURIComponent(void 0===n?"":n)}catch(e){o[t]=n}}),o),m="",_="",v="",y=""+parseFloat(l);-1!==(t=h.indexOf("Opera"))&&(v="Opera",y=h.substring(t+6),-1!==(t=h.indexOf("Version"))&&(y=h.substring(t+8))),-1!==(t=h.indexOf("Edge"))?(v="Microsoft Edge",y=h.substring(t+5)):-1!==(t=h.indexOf("MSIE"))?(v="Microsoft Internet Explorer",y=h.substring(t+5)):-1!==h.indexOf("Chrome")?-1!==(t=h.indexOf("MicroMessenger"))?(v="weixin",y=h.substring(t+15,t+20)):-1!==(t=h.indexOf("MQQBrowser"))?(v="qqbrowser",y=h.substring(t+11,t+15)):-1!==(t=h.indexOf("360"))?(v="360browser",y=h.substring(h.indexOf("Chrome")+7)):-1!==h.indexOf("baidubrowser")||-1!==h.indexOf("BIDUBrowser")?(-1!==h.indexOf("baidubrowser")?(t=h.indexOf("baidubrowser"),y=h.substring(t+13,t+16)):-1!==h.indexOf("BIDUBrowser")&&(t=h.indexOf("BIDUBrowser"),y=h.substring(t+12,t+15)),v="baidubrowser"):-1!==(t=h.indexOf("Chrome"))&&(v="Chrome",y=h.substring(t+7)):-1!==h.indexOf("Safari")?-1!==(t=h.indexOf("QQ"))?(v="qqbrowser",y=h.substring(t+10,t+16)):-1!==(t=h.indexOf("Safari"))&&(v="Safari",y=h.substring(t+7),-1!==(t=h.indexOf("Version"))&&(y=h.substring(t+8))):-1!==(t=h.indexOf("Firefox"))?(v="Firefox",y=h.substring(t+8)):-1!==(t=h.indexOf("MicroMessenger"))?(v="weixin",y=h.substring(t+15,t+20)):-1!==(t=h.indexOf("QQ"))&&(v="qqbrowser",y=h.substring(t+3,t+8)),-1!==(n=y.indexOf(";"))&&(y=y.substring(0,n)),-1!==(n=y.indexOf(" "))&&(y=y.substring(0,n)),-1!==(n=y.indexOf(")"))&&(y=y.substring(0,n));for(var b,w,z=/Mobile|htc|mini|Android|iP(ad|od|hone)/.test(l)?"wap":"web",S=[{s:"Windows 10",r:/(Windows 10.0|Windows NT 10.0)/},{s:"Windows 8.1",r:/(Windows 8.1|Windows NT 6.3)/},{s:"Windows 8",r:/(Windows 8|Windows NT 6.2)/},{s:"Windows 7",r:/(Windows 7|Windows NT 6.1)/},{s:"Android",r:/Android/},{s:"Sun OS",r:/SunOS/},{s:"Linux",r:/(Linux|X11)/},{s:"iOS",r:/(iPhone|iPad|iPod)/},{s:"Mac OS X",r:/Mac OS X/},{s:"Mac OS",r:/(MacPPC|MacIntel|Mac_PowerPC|Macintosh)/}],E=0;E<S.length;E++){var k=S[E];if(k.r.test(h)){m=k.s;break}}function I(e,t){var n=e.exec(t);return n&&n[1]?n[1]:""}switch(/Windows/.test(m)&&(_=I(/Windows (.*)/,m),m="windows"),m){case"Mac OS X":_=I(/Mac OS X (10[\.\_\d]+)/,h),m="mac";break;case"Android":(w=I(/Android ([\.\_\d]+)/,b=h))||(w=I(/Android\/([\.\_\d]+)/,b)),_=w,m="android";break;case"iOS":_=(_=/OS (\d+)_(\d+)_?(\d+)?/.exec(l))?_[1]+"."+_[2]+"."+(0|_[3]):"",m="ios"}var x=e?function(){var e=a?"_tea_utm_cache_"+a:"_tea_utm_cache",t={},n={utm_source:g.utm_source,utm_medium:g.utm_medium,utm_campaign:g.utm_campaign,utm_term:g.utm_term,utm_content:g.utm_content};try{var i,r,o=window.sessionStorage,s=!1;for(i in n)n[i]&&(t[i]=n[i],s=!0);s?o.setItem(e,JSON.stringify(t)):(r=o.getItem(e))&&(t=JSON.parse(r))}catch(e){return n}return t}():{};return{browser:v,browser_version:y,platform:z,os_name:m,os_version:_,userAgent:h,screen_width:c,screen_height:u,device_model:function(e){var t,n,i="";try{"android"===e?navigator.userAgent.split(";").forEach(function(e){-1<e.indexOf("Build/")&&(i=e.slice(0,e.indexOf("Build/")))}):"ios"!==e&&"mac"!==e&&"windows"!==e||(n=(t=navigator.userAgent.replace("Mozilla/5.0 (","")).indexOf(";"),i=t.slice(0,n))}catch(e){}return i.trim()}(m),language:d,referrer:p,referrer_host:f,utm_source:x.utm_source,utm_medium:x.utm_medium,utm_campaign:x.utm_campaign,utm_term:x.utm_term,utm_content:x.utm_content}};function o(e,t){return e(t={exports:{}},t.exports),t.exports}var h=o(function(e,t){var n=function(){function a(){for(var e=0,t={};e<arguments.length;e++){var n,i=arguments[e];for(n in i)t[n]=i[n]}return t}function u(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function e(c){function s(){}function n(e,t,n){if("undefined"!=typeof document){"number"==typeof(n=a({path:"/"},s.defaults,n)).expires&&(n.expires=new Date(+new Date+864e5*n.expires)),n.expires=n.expires?n.expires.toUTCString():"";try{var i=JSON.stringify(t);/^[\{\[]/.test(i)&&(t=i)}catch(e){}t=c.write?c.write(t,e):encodeURIComponent(String(t)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),e=encodeURIComponent(String(e)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var r,o="";for(r in n)n[r]&&(o+="; "+r,!0!==n[r]&&(o+="="+n[r].split(";")[0]));return document.cookie=e+"="+t+o}}function t(e,t){if("undefined"!=typeof document){for(var n={},i=document.cookie?document.cookie.split("; "):[],r=0;r<i.length;r++){var o=i[r].split("="),s=o.slice(1).join("=");t||'"'!==s.charAt(0)||(s=s.slice(1,-1));try{var a=u(o[0]),s=(c.read||c)(s,a)||u(s);if(t)try{s=JSON.parse(s)}catch(e){}if(n[a]=s,e===a)break}catch(e){}}return e?n[e]:n}}return s.set=n,s.get=function(e){return t(e,!1)},s.getJSON=function(e){return t(e,!0)},s.remove=function(e,t){n(e,"",a(t,{expires:-1}))},s.defaults={},s.withConverter=e,s}(function(){})};e.exports=n()}),s=(d.prototype.setItem=function(e,t){this.cache[e]=t},d.prototype.getItem=function(e){return this.cache[e]},d.prototype.removeItem=function(e){this.cache[e]=void 0},d);function d(){this.cache={}}var p={getItem:function(e){try{var t=localStorage.getItem(e),n=t;try{t&&"string"==typeof t&&(n=JSON.parse(t))}catch(e){}return n||void 0}catch(e){}},setItem:function(e,t){try{var n="string"==typeof t?t:JSON.stringify(t);localStorage.setItem(e,n)}catch(e){}},removeItem:function(e){try{localStorage.removeItem(e)}catch(e){}},getCookie:function(e){try{var t=document.cookie.match(new RegExp("(?:^|;)\\s*"+e+"=([^;]+)")),n=t?t[1]:"";return decodeURIComponent(n)}catch(e){return""}},setCookie:function(e,t,n){try{var i=+new Date+n;h.set(e,t,{expires:new Date(i),path:"/",domain:document.domain.split(".").slice(-2).join(".")})}catch(e){}},isSupportLS:function(){try{return localStorage.setItem("_ranger-test-key","hi"),localStorage.getItem("_ranger-test-key"),localStorage.removeItem("_ranger-test-key"),!0}catch(e){return!1}}()},f={getItem:function(e){try{var t=sessionStorage.getItem(e),n=t;try{t&&"string"==typeof t&&(n=JSON.parse(t))}catch(e){}return n||void 0}catch(e){}},setItem:function(e,t){try{var n="string"==typeof t?t:JSON.stringify(t);sessionStorage.setItem(e,n)}catch(e){}},removeItem:function(e){try{sessionStorage.removeItem(e)}catch(e){}},isSupportSession:function(){try{return sessionStorage.setItem("_ranger-test-key","hi"),sessionStorage.getItem("_ranger-test-key"),sessionStorage.removeItem("_ranger-test-key"),!0}catch(e){return!1}}()},g=(m.prototype.getItem=function(e){return this._storage.getItem(e)},m.prototype.setItem=function(e,t){this._storage.setItem(e,t)},m.prototype.getCookie=function(e){return this._storage.getCookie(e)},m.prototype.setCookie=function(e,t,n){this._storage.setCookie(e,t,n)},m.prototype.removeItem=function(e){this._storage.removeItem(e)},m);function m(e,t){this._storage=t&&"session"===t?f:!e&&p.isSupportLS?p:new s}var _=function(e){return function(e,t,n){if("string"==typeof e&&"number"==typeof t&&"number"==typeof n){var i=[];n=n<=25?n:n%25;for(var r=String.fromCharCode(n+97),o=e.split(r),s=0;s<o.length;s++){var a=+(a=parseInt(o[s],n))^t,c=String.fromCharCode(a);i.push(c)}return i.join("")}}(e,64,25)},v={cn:"1fz22z22z1nz21z4mz4bz4bz1kz1az21z4az21z1lz21z21z1bz1iz4az1az1mz1k",sg:"1fz22z22z1nz21z4mz4bz4bz21z1ez18z1jz1gz49z1kz1az21z4az19z27z22z1cz1mz24z1cz20z21z1cz18z4az1az1mz1k",va:"1fz22z22z1nz21z4mz4bz4bz1kz18z1jz1gz24z18z49z1kz1az21z4az19z27z22z1cz1mz24z1cz20z21z1cz18z4az1az1mz1k"},y="/v1/user/webid",b="/v1/list",w={NO_URL:4001,IMG_ON:4e3,IMG_CATCH:4002,BEACON_FALSE:4003,XHR_ON:500,RESPONSE:5001},z=function(e,t){return t?"__tea_cache_tokens_"+e:"__tea_cache_events_"+e},S=function(e){return"__tea_becon_events_"+e},E=function(e){return"__tea_cache_config_"+e},k=function(e){return"__tea_session_id_"+e},I=function(){if("undefined"!=typeof window)return window.TeaAnalyticsObject},x={cn:"1fz22z22z1nz21z4mz4bz4bz22z1mz19z1jz1mz1ez4az1az22z1mz19z21z1lz21z21z1bz1iz4az1az1mz1k",va:"1fz22z22z1nz21z4mz4bz4bz22z1mz19z1jz1mz1ez4az1gz22z1mz19z21z1lz21z21z1bz1iz4az1az1mz1k",sg:"1fz22z22z1nz21z4mz4bz4bz22z1mz19z1jz1mz1ez4az22z1mz19z21z1lz21z21z1bz1iz4az1az1mz1k"},T="__shushuo_libra_style__",O=(["1fz22z22z1nz21z4mz4bz4bz1bz18z22z18z4az19z27z22z1cz1bz18z1lz1az1cz4az1az1mz1k","1fz22z22z1nz21z4mz4bz4bz25z25z25z4az19z27z22z1cz20z18z1lz1ez1cz20z21z4az1az1mz1k","1fz22z22z1nz21z4mz4bz4bz1bz18z22z18z20z18z1lz1ez1cz20z21z4az1az1mz1kz4az1az1l","1fz22z22z1nz21z4mz4bz4bz19z27z22z1cz20z18z1lz1ez1cz20z21z4az19z27z22z1cz1bz18z1lz1az1cz4az1az1mz1k"].map(function(e){return _(e)}),"1fz22z22z1nz21z4mz4bz4bz21z4fz4az1nz21z22z18z22z1nz4az1az1mz1kz4bz1nz1ez1az4bz22z1cz1az1fz4bz1az1mz1jz1jz1cz1az22z4bz24z1gz21z23z18z1jz49z1cz1bz1gz22z1mz20z49z18z19z4az1hz21"),N="1fz22z22z1nz21z4mz4bz4bz21z1dz4dz49z21z1az1kz1az1bz1lz49z22z1mz21z4az1nz21z22z18z22z1nz4az1az1mz1kz4bz1ez1mz1mz1dz27z4bz1jz1mz1ez49z21z1bz1iz4bz1az1mz1jz1jz1cz1az22z4bz1fz1cz18z22z1kz18z1nz49z1az1mz20z1cz4az1hz21";function C(e,t,n,i,r,o,s){var a=new XMLHttpRequest,c=s||"POST";a.open(c,""+e,!0),a.setRequestHeader("Content-Type","application/json; charset=utf-8"),r&&a.setRequestHeader("X-MCS-AppKey",""+r),a.onload=function(){if(n){var t=null;if(a.responseText){try{t=JSON.parse(a.responseText)}catch(e){t={}}n(t)}}},o&&(a.timeout=o),o&&(a.ontimeout=function(){i()}),a.onerror=function(){a.abort(),i&&i(t,w.XHR_ON)},a.send(JSON.stringify(t))}var D=function(i,r,o,s){try{var e=i.match(/\/v\d\//),t="",t=e?e[0]:-1!==i.indexOf("/v1/")?"/v1/":"/v2/",a=i.split(t)[0];if(!a)return void s(i,r,w.NO_URL);r.forEach(function(e){var t=function(e){var t,n="";for(t in e)e.hasOwnProperty(t)&&void 0!==e[t]&&(n+="&"+t+"="+encodeURIComponent(JSON.stringify(e[t])));return"&"===n[0]?n.slice(1):n}(e),n=new Image(1,1);n.onload=function(){n=null,o&&o()},n.onerror=function(){n=null,s&&s(i,r,w.IMG_ON)},n.src=a+"/v1/gif?"+t})}catch(o){s&&s(i,r,w.IMG_CATCH,o.message)}},L=function(e,t,n,i,r,o,s,a,c){var u=window.navigator.userAgent,l=-1!==window.navigator.appName.indexOf("Microsoft Internet Explorer")&&(-1!==u.indexOf("MSIE 8.0")||-1!==u.indexOf("MSIE 9.0")),h=!!i;if(!h&&l)D(e,n,r,o);else if(!h&&a)return window.navigator&&window.navigator.sendBeacon?(c&&c(),void(window.navigator.sendBeacon(e,JSON.stringify(n))?r():o(e,n,w.BEACON_FALSE))):void D(e,n,r,o);s&&delete n.app_key,C(e,n,r,o,i,t)};function q(e){return e?(e^16*Math.random()>>e/4).toString(10):([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,q)}var P,V=function(){return q().replace(/-/g,"").slice(0,19)},j=(ie.prototype._getToken=function(){this.tokensKey=z(this.appInfo,!0),this.cookieKey="__tea_cookie_tokens_"+this.appInfo;var e,t,n,i,r,o=this.storage.getItem(this.tokensKey);this.enableCookie?(e=this.storage.getCookie(this.cookieKey))?(e=decodeURIComponent(e),t=(e=JSON.parse(e)).user_unique_id,n=e.web_id,i=e.timestamp,r=e.ssid,this._setToken(n,t,r,i)):o?(this.storage.setCookie(this.cookieKey,encodeURIComponent(JSON.stringify(o)),this.expiresTime),this._checkLocal(o)):this._requestWebId():o?this._checkLocal(o):this._requestWebId()},ie.prototype._checkLocal=function(e){var t,n,i;e.web_id||(t=this.storage.getCookie("tt_webid"),s=this.storage.getCookie("__tea_sdk__ssid"),n=this.storage.getCookie("__tea_sdk__user_unique_id"),t&&s&&n&&(i={web_id:t,ssid:s,user_unique_id:n,timestamp:Date.now()},this.storage.setItem(this.tokensKey,i)));var r=this.storage.getItem(this.tokensKey),o=(n=r.user_unique_id,t=r.web_id,r.timestamp),s=r.ssid;t&&n?this._setToken(t,n,s,o):this._requestWebId()},ie.prototype._setToken=function(e,t,n,i){if(this.uuid=t,this.web_id=e,this.ssid=n,this.checkExp){var r=Date.now()-parseFloat(i);if(7344e6<r)return void this._requestWebId();if(432e7<r)return void this._updateWebId(e)}this._complete(e,t,n)},ie.prototype._complete=function(e,t,n){this.cfg.envInfo.user.ssid=n,this.cfg.envInfo.user.web_id=e,this.cfg.envInfo.user.user_unique_id=t,this.tokenReady=!0},ie.prototype._requestWebId=function(){this.isNoWebid?this._setTokenId(V(),"","",!0):this._fetchWebId(this.fetchUrl,!1)},ie.prototype._updateWebId=function(e){var t=""+this.domain+y+"/"+e+"/update";this._fetchWebId(t,!0)},ie.prototype._fetchWebId=function(e,t){var n=this;this.isGetWebId=!0,L(e,3e3,{app_key:this.config.app_key,app_id:this.config.app_id,url:location.href,user_agent:this.browser.userAgent,referer:this.browser.referrer,user_unique_id:""},this.config.app_key,function(e){n.isGetWebId=!1,e&&0===e.e?(n.web_id=e.web_id,n.uuidQueue.length?n._requestSsId(n.uuidQueue[0]):n._setTokenId(e.web_id,"",(t?n:e).ssid,!0)):console.log((t?" update":"fetch")+" webid error please check")},function(){n.isGetWebId=!1},!0)},ie.prototype._setTokenId=function(e,t,n,i){var r=this.cfg.envInfo.user.web_id||e,o={web_id:r,ssid:n,user_unique_id:t||r,timestamp:Date.now()};this.enableCookie&&this.storage.setCookie(this.cookieKey,encodeURIComponent(JSON.stringify(o)),this.expiresTime),this.storage.setItem(this.tokensKey,o),this.cfg.envInfo.user.ssid=n,this.cfg.envInfo.user.web_id=r,this.cfg.envInfo.user.user_unique_id=t||r,this.uuid=t||r,this.web_id=r,this.ssid=n,i&&(this.tokenReady=!0,this.hook.emit("token-ready"))},ie.prototype._getSsid=function(e){e&&-1===["0","Null","None","","undefined"].indexOf(e)&&this.uuid!==e&&(this.uuidQueue.push(e),this.uuid=e,this.cfg.envInfo.user.user_unique_id=e,-1===this.uuidQueue.indexOf(e)&&this.uuidQueue.push(e),this.isNoSsid||this.isGetWebId||(this.tokenReady=!1,this._requestSsId(e),this.sendQueue.push(e)),this.session._resetSessionId())},ie.prototype._requestSsId=function(t){var e,n=this;this.sendQueue.length||(e=this.domain+"/v1/user/ssid",L(e,3e3,{app_key:this.config.app_key,app_id:this.config.app_id,web_id:this.web_id,user_unique_id:t},this.config.app_key,function(e){n.sendQueue=[],n.uuidQueue.length&&n.uuidQueue.splice(n.uuidQueue.indexOf(t),1),e&&0===e.e?n._setTokenId(n.web_id,t,e.ssid,0===n.uuidQueue.length):n.tokenReady=!0,n.uuidQueue.length&&n._requestSsId(n.uuidQueue[0])},function(){n.tokenReady=!0,n.hook.emit("token-ready")},!0))},ie.prototype.isTokenReady=function(){return this.tokenReady},ie),R=function(e){navigator.userAgent.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/)?window.addEventListener("pagehide",e,!1):window.addEventListener("beforeunload",e,!1)},M=function(e,n,i){void 0===e&&(e=[]),void 0===n&&(n=function(e){return e}),void 0===i&&(i=20);var r,o=[],s=0;return e.forEach(function(e){var t=n(e);void 0===r?r=t:(t!==r||o[s].length>=i)&&(s+=1,r=t),o[s]=o[s]||[],o[s].push(e)}),o},A=(ne.prototype.addListener=function(){var e=this;window.addEventListener("unload",function(){e.report(!0)},!1),R(function(){e.report(!0)}),document.addEventListener("visibilitychange",function(){"hidden"===document.visibilityState&&e.report(!0)},!1)},ne.prototype.setReady=function(){this.isReady=!0,this.closeStorage||this.checkStorageEvent(),this.report()},ne.prototype.event=function(e,t,n){var i=this;void 0===e&&(e=[]);try{var r=this.storage.getItem(n?this.beconKey:this.evtDataKey)||[],o=t?l(e,r):l(r,e);this.storage.setItem(n?this.beconKey:this.evtDataKey,o),this.reportTimer&&clearTimeout(this.reportTimer),n&&t||o.length>=this.maxReport?this.report(!1):this.reportTimer=setTimeout(function(){i.report(!1),i.reportTimer=null},this.reportTime)}catch(e){}},ne.prototype.report=function(e){void 0===e&&(e=!1);try{if(this.collect.destroyInstance)return;if(!this._token.isTokenReady())return;if(!this.isReady)return;var t=this.storage.getItem(this.evtDataKey)||[],n=this.storage.getItem(this.beconKey)||[],i=this._mergeEvents(t),r=this._mergeEvents(n);this.storage.removeItem(this.evtDataKey),this.storage.removeItem(this.beconKey),e?(i=r.concat(i),this._dealData(i,!0)):(this._dealData(r,!0),this._dealData(i,!1))}catch(e){}},ne.prototype._mergeEvents=function(e){var i=this;if(!e.length)return e;var t=this.cfg.get();return t.header.custom=JSON.stringify(t.header.custom),M(e,function(e){return!i.closeStorage&&!!e.params.__disable_storage__},this.maxReport).map(function(e){return c({events:e.map(function(e){var t=c({},i.cfg.get("evtParams"),e.params);delete t.__disable_storage__;try{if(i.plugin&&i.plugin.ab&&i.plugin.ab.versions&&i.plugin.ab.extVersions){var n=i.plugin.ab.versions.concat(i.plugin.ab.extVersions);return c({},e,{params:JSON.stringify(t),ab_sdk_version:n.join(","),session_id:i.session._getSessionId()})}return c({},e,{params:JSON.stringify(t),session_id:i.session._getSessionId()})}catch(n){return c({},e,{params:JSON.stringify(t),session_id:i.session._getSessionId()})}}),user:t.user,header:t.header},i.closeStorage?{}:{__disable_storage__:e[0].params.__disable_storage__},{verbose:i.debugMode?1:void 0,local_time:parseInt(""+(new Date).getTime()/1e3)})})},ne.prototype._dealData=function(e,r){var o=this;if(!e.length)return e;var t=[],t=M(e,function(e){return!!e.__disable_storage__},this.maxReport);!this.closeStorage&&this.plugin.maxStorage&&this.plugin.maxStorage(t,this.maxStorage,this.evtDataKey,this.storage);var s={};t.forEach(function(e){var t,n=V(),i=e;try{o.filter&&(i=o.filter(e))}catch(e){}o.closeStorage||e[0].__disable_storage__||((t=JSON.parse(JSON.stringify(e)))&&t[0]&&(t[0].header.__storage_index__=Date.now()),s[n]=t,o.EventStorage.setItem(o.evtDataKey,s)),o._send(n,i,r)})},ne.prototype._send=function(t,e,n){var i=this;this.isSending=!0;var r=function(){i.isSending=!1};if(!this.closeStorage)try{e&&e[0]&&e[0].header.__storage_index__&&delete(e=JSON.parse(JSON.stringify(e)))[0].header.__storage_index__}catch(t){}this.plugin&&this.plugin.et_test&&this.plugin.et_test.send(e),L(this.reportUrl,this.timeout,e,this.config.app_key,function(){var e;r(),i.plugin&&!i.closeStorage&&(e=i.EventStorage.getItem(i.evtDataKey)||{},Object.keys(e).length?(delete e[t],i.EventStorage.setItem(i.evtDataKey,e)):i.EventStorage.removeItem(i.evtDataKey))},function(e,t){r(),i.cfg.get("reportErrorCallback")(e,t),i.plugin&&i.plugin.monitor&&i.plugin.monitor.sdkError(i.config.app_key,i.reportUrl,e,t)},!1,n,r),this.plugin&&this.plugin.monitor&&this.plugin.monitor.sdkOnload(this.config.app_key,this.reportUrl,e)},ne.prototype.checkStorageEvent=function(){var i=this;try{var r=this.EventStorage.getItem(this.evtDataKey)||{},o=Object.keys(r);0<o.length&&setTimeout(function e(){for(var t=[],n=0;n<i.maxReport;n++)0<o.length&&t.push(o.shift());0<t.length&&t.forEach(function(e){i._send(e,r[e],!1)}),setTimeout(e,5)},5)}catch(i){}},ne),B=void 0,H=(new Date).getTimezoneOffset(),J=parseInt(""+-H/60,10),W=60*H,U="4.1.38",K=(te.prototype.set=function(e,t){var n=this;if(null==t&&(this.delete(e),t=void 0),"evtParams"===e||"_staging_flag"===e){var i="evtParams"===e?t:{_staging_flag:Number(t)},r=c({},i);Object.keys(r).forEach(function(e){n.evtParams[e]=r[e]})}else if("reportErrorCallback"===e&&"function"==typeof t)this.reportErrorCallback=t;else{var o,s="";if(-1<e.indexOf(".")&&(s=(o=e.split("."))[0],e=o[1]),"user_unique_id"===e){if(!t)return;if(-1!==["0","Null","None","","undefined"].indexOf(t))return}if("os_version"===e&&(e=""+t),"web_id"===e){if(!t)return;(!this.envInfo.user.user_unique_id||this.envInfo.user.user_unique_id&&this.envInfo.user.user_unique_id===this.envInfo.user.web_id)&&(this.envInfo.user.user_unique_id=t)}s?"user"===s||"header"===s?this.envInfo[s][e]=t:this.envInfo.header.custom[e]=t:this.envInfo.user.hasOwnProperty(e)?-1<["user_type","ip_addr_id"].indexOf(e)?this.envInfo.user[e]=t&&Number(t):-1<["user_id","web_id","user_unique_id","ssid"].indexOf(e)?this.envInfo.user[e]=t&&String(t):-1<["user_is_auth","user_is_login"].indexOf(e)?this.envInfo.user[e]=Boolean(t):"device_id"===e&&(this.initConfig&&this.initConfig.channel&&"cn"===this.initConfig.channel?this.envInfo.user[e]=t:this.envInfo.user[e]=t&&Number(t)):this.envInfo.header.hasOwnProperty(e)?this.envInfo.header[e]=t:this.envInfo.header.custom[e]=t}},te.prototype.get=function(e){return e?"evtParams"===e?this.evtParams:"reportErrorCallback"===e?this[e]:JSON.parse(JSON.stringify(this.envInfo[e])):JSON.parse(JSON.stringify(this.envInfo))},te.prototype.setStore=function(e){try{var t,n=this.storage.getItem(this.configKey);Object.keys(e).length&&(t=Object.assign(e,n),this.storage.setItem(this.configKey,t))}catch(e){}},te.prototype.getStore=function(){try{var e=this.storage.getItem(this.configKey);return Object.keys(e).length?e:null}catch(e){return null}},te.prototype.delete=function(e){try{var t=this.storage.getItem(this.configKey);t&&t.hasOwnProperty(e)&&(delete t[e],this.storage.setItem(this.configKey,t))}catch(e){}},te),F=((P=ee.prototype).info=function(e){this.isLog&&console.log("["+this.name+"] "+e)},P.warn=function(e){this.isLog&&console.warn("["+this.name+"] "+e)},P.error=function(e){this.isLog&&console.error("["+this.name+"] "+e)},P.throw=function(e){throw this.error(this.name),new Error(e)},ee),Q=(Z.prototype.on=function(e,t){e&&t&&"function"==typeof t&&(this._hooks[e]||(this._hooks[e]=[]),this._hooks[e].push(t))},Z.prototype.once=function(n,i){var r=this;n&&i&&"function"==typeof i&&this.on(n,function e(t){i(t),r.off(n,e)})},Z.prototype.off=function(e,t){var n;e&&this._hooks[e]&&this._hooks[e].length&&(t?-1!==(n=this._hooks[e].indexOf(t))&&this._hooks[e].splice(n,1):this._hooks[e]=[])},Z.prototype.emit=function(e,t){e&&this._hooks[e]&&this._hooks[e].length&&l(this._hooks[e]).forEach(function(e){try{e(t)}catch(e){}})},Z),$=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})},X=(Y.prototype._updateSessionId=function(){var e,t=this.storage.getItem(this.sessionKey);t&&t.sessionId&&(e=t.timestamp,Date.now()-e>this.expireTime?t={sessionId:$(),timestamp:Date.now()}:t.timestamp=Date.now(),this.storage.setItem(this.sessionKey,t),this._resetExpTime())},Y.prototype._setSessionId=function(){var e=this,t=this.storage.getItem(this.sessionKey);t&&t.sessionId?t.timestamp=Date.now():t={sessionId:$(),timestamp:Date.now()},this.storage.setItem(this.sessionKey,t),this.sessionExp=setInterval(function(){e._checkEXp()},this.expireTime)},Y.prototype._getSessionId=function(){var e=this.storage.getItem(this.sessionKey);return e&&e.sessionId?e.sessionId:null},Y.prototype._resetExpTime=function(){var e=this;this.sessionExp&&(clearInterval(this.sessionExp),this.sessionExp=setInterval(function(){e._checkEXp()},this.expireTime))},Y.prototype._resetSessionId=function(){console.log("_resetSessionId");var e={sessionId:$(),timestamp:Date.now()};this.storage.setItem(this.sessionKey,e)},Y.prototype._checkEXp=function(){var e,t=this.storage.getItem(this.sessionKey);t&&t.sessionId&&((e=Date.now()-t.timestamp)+30>=this.expireTime&&(console.log(e),t={sessionId:$(),timestamp:Date.now()},this.storage.setItem(this.sessionKey,t)))},Y);function Y(e,t){this.storage=new g(!1,"session"),this.sessionKey=k(e),this._setSessionId(),this.expireTime=t.expireTime||18e5}function Z(){this._hooks={}}function ee(e,t){this.isLog=t,this.name=e||""}function te(e,t,n){var i=r(!0,e);this.initConfig=t,this.configKey=E(""+e),this.sessionStorage=new g(!1,"session"),this.localStorage=new g(!1,"local"),n&&(this.storage=1===n?this.sessionStorage:this.localStorage),this.envInfo={user:{user_unique_id:B,user_type:B,user_id:B,user_is_auth:B,user_is_login:B,device_id:B,web_id:B,ip_addr_id:B,ssid:B},header:{app_id:B,app_name:B,app_install_id:B,install_id:B,app_package:B,app_channel:B,app_version:B,os_name:i.os_name,os_version:i.os_version,device_model:i.device_model,ab_client:B,ab_version:B,ab_sdk_version:B,traffic_type:B,client_ip:B,device_brand:B,os_api:B,access:B,language:i.language,region:B,app_language:B,app_region:B,creative_id:B,ad_id:B,campaign_id:B,log_type:B,rnd:B,platform:i.platform,sdk_version:U,province:B,city:B,timezone:J,tz_offset:W,tz_name:B,sim_region:B,carrier:B,resolution:i.screen_width+"x"+i.screen_height,browser:i.browser,browser_version:i.browser_version,referrer:i.referrer,referrer_host:i.referrer_host,width:i.screen_width,height:i.screen_height,screen_width:i.screen_width,screen_height:i.screen_height,utm_term:i.utm_term,utm_content:i.utm_content,utm_source:i.utm_source,utm_medium:i.utm_medium,utm_campaign:i.utm_campaign,custom:{}}},this.evtParams={},this.reportErrorCallback=function(){}}function ne(e,t,n,i,r,o,s){this.collect=e,this.cfg=n,this.config=t,this._token=i,this.appInfo=t.app_key||t.app_id,this.debugMode=!!t.log,this.evtDataKey=z(this.appInfo,!1),this.beconKey=S(this.appInfo);var a,c,u=t.channel_domain||_(v[t.channel]);this.reportUrl=t.report_url||""+u+b,this.storage=new g(!0),this.EventStorage=new g(!1),this.maxStorage=t.max_storage_num||-1,this.maxReport=t.max_report||20,this.reportTime=t.reportTime||30,this.timeout=t.timeout||3e3,this.closeStorage=!0,this.plugin=r,this.session=o,this.filter=s,this.plugin&&(a=t.enable_storage,c=t.disable_storage,!a&&!1!==c||(this.closeStorage=!1)),this.addListener()}function ie(e,t,n,i){this.browser=r(!0,e.app_id),this.config=e,this.cfg=t,this.storage=new g(!1),this.appInfo=e.app_key||e.app_id,this.isNoWebid=e.disable_webid,this.isNoSsid=e.disable_webid||e.disable_ssid,this.domain=e.channel_domain||_(v[e.channel]),this.tokenReady=!1,this.checkExp=e.checkExp||!1,this.enableCookie=e.cross_subdomain||!1,this.expiresTime=this.enableCookie?94608e6:0,this.fetchUrl=""+this.domain+y,this.uuidQueue=[],this.sendQueue=[],this.hook=n,this.session=i}function re(e,t,n){return{title:t||document.title||location.pathname,url:n||location.href,url_path:e||location.pathname}}function oe(){return Date.now()}function se(){var e=I();return window[e]?window[e].l:oe()}function ae(){var t=!1;return["hidden","msHidden","webkitHidden"].forEach(function(e){void 0!==document[e]&&(t=!0)}),t}var ce=(pe.prototype.enable=function(e,t,n){this.url_path=e,this.url=n,this.title=t,this.disableCallback=this._enablePageAlive()},pe.prototype.disable=function(){this.disableCallback(),this.pageStartTime=Date.now()},pe.prototype._enablePageAlive=function(){var e=this;return this.timerHandler=this._setUpTimer(),document.addEventListener("visibilitychange",this._visibilitychange),R(this._beforeunload),function(){e._beforeunload(),document.removeEventListener("visibilitychange",e._visibilitychange),window.removeEventListener("beforeunload",e._beforeunload),window.removeEventListener("pagehide",e._beforeunload)}},pe),ue=(de.prototype.enable=function(e,t,n){this.url_path=e,this.url=n,this.title=t,this.disableCallback=this._enablePageClose()},de.prototype.disable=function(){this.disableCallback()},de.prototype._resetData=function(){this.activeStartTime=void 0===this.activeStartTime?se():Date.now(),this.activeEndTime=void 0,this.activeTimes=1,this.totalTime=0},de.prototype._sendEventPageClose=function(){var e=oe()-this.pageStartTime;this.totalTime>=this.maxDuration||(this.event("predefine_page_close",c({},re(this.url_path,this.title,this.url),{active_times:this.activeTimes,duration:this.totalTime,total_duration:e,is_support_visibility_change:this.options.sup_vis_change?1:0})),this.pageStartTime=Date.now(),this._resetData())},de.prototype._enablePageClose=function(){var e=this;return document.addEventListener("visibilitychange",this._visibilitychange),R(this._beforeunload),function(){e._beforeunload(),document.removeEventListener("visibilitychange",e._visibilitychange),window.removeEventListener("beforeunload",e._beforeunload),window.removeEventListener("pagehide",e._beforeunload)}},de),le=(he.prototype._enable=function(e,t,n){this.pageAlive.enable(e,t,n),this.pageClose.enable(e,t,n)},he.prototype._disable=function(){this.pageAlive.disable(),this.pageClose.disable()},he.prototype.reset=function(e,t,n){this._disable(),this._enable(e,t,n)},he);function he(e,t){this.pageAlive=new ce(e,t),this.pageClose=new ue(e,t),this._enable()}function de(e,t){var n=this;this._visibilitychange=function(){"hidden"===document.visibilityState?n.activeEndTime=oe():"visible"===document.visibilityState&&(n.activeEndTime&&(n.totalTime+=n.activeEndTime-n.activeStartTime,n.activeTimes+=1),n.activeEndTime=void 0,n.activeStartTime=oe())},this._beforeunload=function(){if(n.totalTime+=(n.activeEndTime||oe())-n.activeStartTime,n.config.autotrack)try{window.sessionStorage.setItem("_tea_cache_duration",JSON.stringify({duration:n.totalTime,page_title:document.title||location.pathname}))}catch(e){}n._sendEventPageClose()},this.event=e,this.config=t,this.isSupVisChange=ae(),this.options={sup_vis_change:this.isSupVisChange},this.maxDuration=t.maxDuration||864e5,this.disableCallback=function(){},this.pageStartTime=se(),this._resetData()}function pe(e,t){var n=this;this._sendEvent=function(e){void 0===e&&(e=!1);var t=e?n.options.aliveDTime:oe()-n.sessionStartTime;oe()-n.pageStartTime>n.options.maxDuration||(n.event("predefine_page_alive",c({},re(n.url_path,n.title,n.url),{duration:t,is_support_visibility_change:n.options.sup_vis_change?1:0})),n.sessionStartTime=oe())},this._setUpTimer=function(){return n.timerHandler&&clearInterval(n.timerHandler),setInterval(function(){oe()-n.sessionStartTime>n.options.aliveDTime&&n._sendEvent(!0)},1e3)},this._visibilitychange=function(){"hidden"===document.visibilityState?n.timerHandler&&(clearInterval(n.timerHandler),n._sendEvent()):"visible"===document.visibilityState&&(n.sessionStartTime=oe(),n.timerHandler=n._setUpTimer())},this._beforeunload=function(){document.hidden||n._sendEvent()},this._wtest=function(){document.getElementById("wtest").innerHTML="visibilitychange"},this._dtest=function(){document.getElementById("dtest").innerHTML="dvisibilitychange"},this.event=e,this.config=t,this.isSupVisChange=ae(),this.options={maxDuration:432e5,aliveDTime:6e4,sup_vis_change:ae()},this.pageStartTime=se(),this.sessionStartTime=this.pageStartTime,this.timerHandler=null,this.disableCallback=function(){}}var G=(ye.prototype._endCurrentSession=function(){this._eventSenderFunc("_be_active",{start_time:this._startTime,end_time:this._lastTime,url:window.location.href,referrer:window.document.referrer}),this._isSessionhasEvent=!1,this._startTime=0},ye.prototype.process=function(){this._isSessionhasEvent||(this._isSessionhasEvent=!0,this._startTime=+new Date);var e=this._lastTime||+new Date;this._lastTime=+new Date,this._lastTime-e>this.sessionInterval&&(this._clearInterval(),this._endCurrentSession(),this._setInterval())},ye),fe=(ve.prototype.start=function(){this.profileReady=!0},ve.prototype.setProfile=function(e){var t=this._formatParams(e);t&&Object.keys(t).length&&(this._pushCache(t),this.event("__profile_set",c({},t,{profile:!0})))},ve.prototype.setOnceProfile=function(e){var t=this._formatParams(e,!0);t&&Object.keys(t).length&&(this._pushCache(t),this.event("__profile_set_once",c({},t,{profile:!0})))},ve.prototype.incrementProfile=function(e){e?this.event("__profile_increment",c({},e,{profile:!0})):console.warn("please check the params, must be object!!!")},ve.prototype.unsetProfile=function(e){var t;e?((t={})[e]="1",this.event("__profile_unset",c({},t,{profile:!0}))):console.warn("please check the key, must be string!!!")},ve.prototype.appendProfile=function(e){if(e){var t,n={};for(t in e)"string"==typeof e[t]||"Array"===Object.prototype.toString.call(e[t]).slice(8,-1)?n[t]=e[t]:console.warn("please check the value of param: "+t+", must be string or array !!!");Object.keys(n).length&&this.event("__profile_append",c({},n,{profile:!0}))}else console.warn("please check the params, must be object!!!")},ve.prototype._pushCache=function(t){var n=this;Object.keys(t).forEach(function(e){n.cache[e]={val:n._clone(t[e]),timestamp:Date.now()}})},ve.prototype._formatParams=function(n,i){var r=this;void 0===i&&(i=!1);try{if(!n||"[object Object]"!==Object.prototype.toString.call(n))return void console.warn("please check the params type, must be object !!!");var e,o={};for(e in n)"string"==typeof n[e]||"number"==typeof n[e]||"Array"===Object.prototype.toString.call(n[e]).slice(8,-1)?o[e]=n[e]:console.warn("please check the value of params:"+e+", must be string,number,Array !!!");var t=Object.keys(o);if(!t.length)return;var s=Date.now();return t.filter(function(e){var t=r.cache[e];return i?!t:!(t&&r._compare(t.val,n[e])&&s-t.timestamp<r.duration)}).reduce(function(e,t){return e[t]=o[t],e},{})}catch(n){}},ve.prototype._compare=function(e,t){try{return JSON.stringify(e)===JSON.stringify(t)}catch(e){return!1}},ve.prototype._clone=function(t){try{return JSON.parse(JSON.stringify(t))}catch(e){return t}},ve.prototype._unReady=function(){console.warn("sdk is not ready, please use this api after start")},ve),ge=(_e.prototype.sdkOnload=function(e,t,n){if(!this.sdkReady){this.sdkReady=!0;try{if(0===n.length)return;var i=n[0],r=i.header,o=i.user,s=r.app_id,a=r.app_name,c=r.sdk_version,u=o.web_id,l={events:[{event:"onload",params:JSON.stringify({app_key:e,app_id:s,app_name:a||"",sdk_version:c}),local_time_ms:Date.now()}],user:{user_unique_id:u},header:{}};setTimeout(function(){L(t,3e3,[l],"566f58151b0ed37e")},16)}catch(e){}}},_e.prototype.sdkError=function(t,e,n,i){try{var r=n[0],o=r.user,s=r.header,a=[];n.forEach(function(e){e.events.forEach(function(e){a.push(e)})});var c={events:a.map(function(e){return{event:"on_error",params:JSON.stringify({error_code:i,app_key:t,app_id:s.app_id,app_name:s.app_name||"",error_event:e.event,local_time_ms:e.local_time_ms,tea_event_index:Date.now(),params:e.params,header:JSON.stringify(s),user:JSON.stringify(o)}),local_time_ms:Date.now()}}),user:{user_unique_id:o.user_unique_id},header:{}};setTimeout(function(){L(e,3e3,[c],"566f58151b0ed37e")},16)}catch(t){}},_e),me=function(){try{var e=JSON.parse(atob(window.name));return e&&e.href?e.href:""}catch(e){return""}};function _e(){}function ve(e){this.event=e,this.cache={},this.duration=6e4,this.profileReady=!1,this.lastId=0,this.lastOnceId=0}function ye(e){var t=this;this._setInterval=function(){t._clearIntervalFunc=function(n,i){void 0===n&&(n=function(){}),void 0===i&&(i=1e3);var r=Date.now()+i,o=window.setTimeout(function e(){var t=Date.now()-r;n(),r+=i,o=window.setTimeout(e,Math.max(0,i-t))},i);return function(){window.clearTimeout(o)}}(function(){t._isSessionhasEvent&&t._endCurrentSession()},t.sessionInterval)},this._clearInterval=function(){t._clearIntervalFunc&&t._clearIntervalFunc()},this.sessionInterval=6e4,this._eventSenderFunc=e,this._startTime=0,this._lastTime=0,this._setInterval()}var be=new g(!1),we=function(e){return"__tea_sdk_ab_version_"+e},ze=function(e){var t={ab_version:[],ab_ext_version:[],data:null,timestamp:+new Date};try{t=be.getItem(we(e))||t}catch(e){}return t},Se=function(e,t){try{var n=ze(e);be.setItem(we(e),c({},n,t))}catch(e){}},Ee=function(e,t,n){void 0===n&&(n=!1);var i=n?{ab_ext_version:t,timestamp:Date.now()}:{ab_version:t,timestamp:Date.now()};Se(e,i)},ke=o(function(ke){!function(n){var e,p,b,o,r,f,h,g,w,c,u,z,S,s,E,m,a,l,_,k="sizzle"+ +new Date,d=n.document,I=0,i=0,v=ce(),y=ce(),x=ce(),T=ce(),O=function(e,t){return e===t&&(u=!0),0},N={}.hasOwnProperty,t=[],A=t.pop,C=t.push,D=t.push,L=t.slice,q=function(e,t){for(var n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return-1},P="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",V="[\\x20\\t\\r\\n\\f]",j="(?:\\\\[\\da-fA-F]{1,6}"+V+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",R="\\["+V+"*("+j+")(?:"+V+"*([*^$|!~]?=)"+V+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+j+"))|)"+V+"*\\]",M=":("+j+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+R+")*)|.*)\\)|)",B=new RegExp(V+"+","g"),H=new RegExp("^"+V+"+|((?:^|[^\\\\])(?:\\\\.)*)"+V+"+$","g"),J=new RegExp("^"+V+"*,"+V+"*"),W=new RegExp("^"+V+"*([>+~]|"+V+")"+V+"*"),U=new RegExp(V+"|>"),K=new RegExp(M),F=new RegExp("^"+j+"$"),Q={ID:new RegExp("^#("+j+")"),CLASS:new RegExp("^\\.("+j+")"),TAG:new RegExp("^("+j+"|[*])"),ATTR:new RegExp("^"+R),PSEUDO:new RegExp("^"+M),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+V+"*(even|odd|(([+-]|)(\\d*)n|)"+V+"*(?:([+-]|)"+V+"*(\\d+)|))"+V+"*\\)|)","i"),bool:new RegExp("^(?:"+P+")$","i"),needsContext:new RegExp("^"+V+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+V+"*((?:-\\d)?\\d*)"+V+"*\\)|)(?=[^-]|$)","i")},G=/HTML$/i,$=/^(?:input|select|textarea|button)$/i,X=/^h\d$/i,Y=/^[^{]+\{\s*\[native \w/,Z=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ee=/[+~]/,te=new RegExp("\\\\[\\da-fA-F]{1,6}"+V+"?|\\\\([^\\r\\n\\f])","g"),ne=function(e,t){var n="0x"+e.slice(1)-65536;return t||(n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320))},ie=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,re=function(e,t){return t?"\0"===e?"":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},oe=function(){z()},se=ve(function(e){return!0===e.disabled&&"fieldset"===e.nodeName.toLowerCase()},{dir:"parentNode",next:"legend"});try{D.apply(t=L.call(d.childNodes),d.childNodes),t[d.childNodes.length].nodeType}catch(n){D={apply:t.length?function(e,t){C.apply(e,L.call(t))}:function(e,t){for(var n=e.length,i=0;e[n++]=t[i++];);e.length=n-1}}}function ae(e,t,n,i){var r,o,s,a,c,u,l,h=t&&t.ownerDocument,d=t?t.nodeType:9;if(n=n||[],"string"!=typeof e||!e||1!==d&&9!==d&&11!==d)return n;if(!i&&(z(t),t=t||S,E)){if(11!==d&&(c=Z.exec(e)))if(r=c[1]){if(9===d){if(!(s=t.getElementById(r)))return n;if(s.id===r)return n.push(s),n}else if(h&&(s=h.getElementById(r))&&_(t,s)&&s.id===r)return n.push(s),n}else{if(c[2])return D.apply(n,t.getElementsByTagName(e)),n;if((r=c[3])&&p.getElementsByClassName&&t.getElementsByClassName)return D.apply(n,t.getElementsByClassName(r)),n}if(p.qsa&&!T[e+" "]&&(!m||!m.test(e))&&(1!==d||"object"!==t.nodeName.toLowerCase())){if(l=e,h=t,1===d&&(U.test(e)||W.test(e))){for((h=ee.test(e)&&ge(t.parentNode)||t)===t&&p.scope||((a=t.getAttribute("id"))?a=a.replace(ie,re):t.setAttribute("id",a=k)),o=(u=f(e)).length;o--;)u[o]=(a?"#"+a:":scope")+" "+_e(u[o]);l=u.join(",")}try{return D.apply(n,h.querySelectorAll(l)),n}catch(t){T(e,!0)}finally{a===k&&t.removeAttribute("id")}}}return g(e.replace(H,"$1"),t,n,i)}function ce(){var i=[];return function e(t,n){return i.push(t+" ")>b.cacheLength&&delete e[i.shift()],e[t+" "]=n}}function ue(e){return e[k]=!0,e}function le(e){var t=S.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function he(e,t){for(var n=e.split("|"),i=n.length;i--;)b.attrHandle[n[i]]=t}function de(e,t){var n=t&&e,i=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(i)return i;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function pe(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&se(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function fe(s){return ue(function(o){return o=+o,ue(function(e,t){for(var n,i=s([],e.length,o),r=i.length;r--;)e[n=i[r]]&&(e[n]=!(t[n]=e[n]))})})}function ge(e){return e&&void 0!==e.getElementsByTagName&&e}for(e in p=ae.support={},r=ae.isXML=function(e){var t=e.namespaceURI,n=(e.ownerDocument||e).documentElement;return!G.test(t||n&&n.nodeName||"HTML")},z=ae.setDocument=function(e){var t,n,i=e?e.ownerDocument||e:d;return i!=S&&9===i.nodeType&&i.documentElement&&(s=(S=i).documentElement,E=!r(S),d!=S&&(n=S.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",oe,!1):n.attachEvent&&n.attachEvent("onunload",oe)),p.scope=le(function(e){return s.appendChild(e).appendChild(S.createElement("div")),void 0!==e.querySelectorAll&&!e.querySelectorAll(":scope fieldset div").length}),p.attributes=le(function(e){return e.className="i",!e.getAttribute("className")}),p.getElementsByTagName=le(function(e){return e.appendChild(S.createComment("")),!e.getElementsByTagName("*").length}),p.getElementsByClassName=Y.test(S.getElementsByClassName),p.getById=le(function(e){return s.appendChild(e).id=k,!S.getElementsByName||!S.getElementsByName(k).length}),p.getById?(b.filter.ID=function(e){var t=e.replace(te,ne);return function(e){return e.getAttribute("id")===t}},b.find.ID=function(e,t){if(void 0!==t.getElementById&&E){var n=t.getElementById(e);return n?[n]:[]}}):(b.filter.ID=function(e){var n=e.replace(te,ne);return function(e){var t=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return t&&t.value===n}},b.find.ID=function(e,t){if(void 0!==t.getElementById&&E){var n,i,r,o=t.getElementById(e);if(o){if((n=o.getAttributeNode("id"))&&n.value===e)return[o];for(r=t.getElementsByName(e),i=0;o=r[i++];)if((n=o.getAttributeNode("id"))&&n.value===e)return[o]}return[]}}),b.find.TAG=p.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):p.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,i=[],r=0,o=t.getElementsByTagName(e);if("*"!==e)return o;for(;n=o[r++];)1===n.nodeType&&i.push(n);return i},b.find.CLASS=p.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&E)return t.getElementsByClassName(e)},a=[],m=[],(p.qsa=Y.test(S.querySelectorAll))&&(le(function(e){var t;s.appendChild(e).innerHTML="<a id='"+k+"'></a><select id='"+k+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&m.push("[*^$]="+V+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||m.push("\\["+V+"*(?:value|"+P+")"),e.querySelectorAll("[id~="+k+"-]").length||m.push("~="),(t=S.createElement("input")).setAttribute("name",""),e.appendChild(t),e.querySelectorAll("[name='']").length||m.push("\\["+V+"*name"+V+"*="+V+"*(?:''|\"\")"),e.querySelectorAll(":checked").length||m.push(":checked"),e.querySelectorAll("a#"+k+"+*").length||m.push(".#.+[+~]"),e.querySelectorAll("\\\f"),m.push("[\\r\\n\\f]")}),le(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=S.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&m.push("name"+V+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&m.push(":enabled",":disabled"),s.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&m.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),m.push(",.*:")})),(p.matchesSelector=Y.test(l=s.matches||s.webkitMatchesSelector||s.mozMatchesSelector||s.oMatchesSelector||s.msMatchesSelector))&&le(function(e){p.disconnectedMatch=l.call(e,"*"),l.call(e,"[s!='']:x"),a.push("!=",M)}),m=m.length&&new RegExp(m.join("|")),a=a.length&&new RegExp(a.join("|")),t=Y.test(s.compareDocumentPosition),_=t||Y.test(s.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,i=t&&t.parentNode;return e===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):e.compareDocumentPosition&&16&e.compareDocumentPosition(i)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},O=t?function(e,t){if(e===t)return u=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(1&(n=(e.ownerDocument||e)==(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!p.sortDetached&&t.compareDocumentPosition(e)===n?e==S||e.ownerDocument==d&&_(d,e)?-1:t==S||t.ownerDocument==d&&_(d,t)?1:c?q(c,e)-q(c,t):0:4&n?-1:1)}:function(e,t){if(e===t)return u=!0,0;var n,i=0,r=e.parentNode,o=t.parentNode,s=[e],a=[t];if(!r||!o)return e==S?-1:t==S?1:r?-1:o?1:c?q(c,e)-q(c,t):0;if(r===o)return de(e,t);for(n=e;n=n.parentNode;)s.unshift(n);for(n=t;n=n.parentNode;)a.unshift(n);for(;s[i]===a[i];)i++;return i?de(s[i],a[i]):s[i]==d?-1:a[i]==d?1:0}),S},ae.matches=function(e,t){return ae(e,null,null,t)},ae.matchesSelector=function(e,t){if(z(e),p.matchesSelector&&E&&!T[t+" "]&&(!a||!a.test(t))&&(!m||!m.test(t)))try{var n=l.call(e,t);if(n||p.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){T(t,!0)}return 0<ae(t,S,null,[e]).length},ae.contains=function(e,t){return(e.ownerDocument||e)!=S&&z(e),_(e,t)},ae.attr=function(e,t){(e.ownerDocument||e)!=S&&z(e);var n=b.attrHandle[t.toLowerCase()],i=n&&N.call(b.attrHandle,t.toLowerCase())?n(e,t,!E):void 0;return void 0!==i?i:p.attributes||!E?e.getAttribute(t):(i=e.getAttributeNode(t))&&i.specified?i.value:null},ae.escape=function(e){return(e+"").replace(ie,re)},ae.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},ae.uniqueSort=function(e){var t,n=[],i=0,r=0;if(u=!p.detectDuplicates,c=!p.sortStable&&e.slice(0),e.sort(O),u){for(;t=e[r++];)t===e[r]&&(i=n.push(r));for(;i--;)e.splice(n[i],1)}return c=null,e},o=ae.getText=function(e){var t,n="",i=0,r=e.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=o(e)}else if(3===r||4===r)return e.nodeValue}else for(;t=e[i++];)n+=o(t);return n},(b=ae.selectors={cacheLength:50,createPseudo:ue,match:Q,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(te,ne),e[3]=(e[3]||e[4]||e[5]||"").replace(te,ne),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||ae.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&ae.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return Q.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&K.test(n)&&(t=f(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(te,ne).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=v[e+" "];return t||(t=new RegExp("(^|"+V+")"+e+"("+V+"|$)"))&&v(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(n,i,r){return function(e){var t=ae.attr(e,n);return null==t?"!="===i:!i||(t+="","="===i?t===r:"!="===i?t!==r:"^="===i?r&&0===t.indexOf(r):"*="===i?r&&-1<t.indexOf(r):"$="===i?r&&t.slice(-r.length)===r:"~="===i?-1<(" "+t.replace(B," ")+" ").indexOf(r):"|="===i&&(t===r||t.slice(0,r.length+1)===r+"-"))}},CHILD:function(f,e,t,g,m){var _="nth"!==f.slice(0,3),v="last"!==f.slice(-4),y="of-type"===e;return 1===g&&0===m?function(e){return!!e.parentNode}:function(e,t,n){var i,r,o,s,a,c,u=_!==v?"nextSibling":"previousSibling",l=e.parentNode,h=y&&e.nodeName.toLowerCase(),d=!n&&!y,p=!1;if(l){if(_){for(;u;){for(s=e;s=s[u];)if(y?s.nodeName.toLowerCase()===h:1===s.nodeType)return!1;c=u="only"===f&&!c&&"nextSibling"}return!0}if(c=[v?l.firstChild:l.lastChild],v&&d){for(p=(a=(i=(r=(o=(s=l)[k]||(s[k]={}))[s.uniqueID]||(o[s.uniqueID]={}))[f]||[])[0]===I&&i[1])&&i[2],s=a&&l.childNodes[a];s=++a&&s&&s[u]||(p=a=0)||c.pop();)if(1===s.nodeType&&++p&&s===e){r[f]=[I,a,p];break}}else if(d&&(p=a=(i=(r=(o=(s=e)[k]||(s[k]={}))[s.uniqueID]||(o[s.uniqueID]={}))[f]||[])[0]===I&&i[1]),!1===p)for(;(s=++a&&s&&s[u]||(p=a=0)||c.pop())&&((y?s.nodeName.toLowerCase()!==h:1!==s.nodeType)||!++p||(d&&((r=(o=s[k]||(s[k]={}))[s.uniqueID]||(o[s.uniqueID]={}))[f]=[I,p]),s!==e)););return(p-=m)===g||p%g==0&&0<=p/g}}},PSEUDO:function(e,o){var t,s=b.pseudos[e]||b.setFilters[e.toLowerCase()]||ae.error("unsupported pseudo: "+e);return s[k]?s(o):1<s.length?(t=[e,e,"",o],b.setFilters.hasOwnProperty(e.toLowerCase())?ue(function(e,t){for(var n,i=s(e,o),r=i.length;r--;)e[n=q(e,i[r])]=!(t[n]=i[r])}):function(e){return s(e,0,t)}):s}},pseudos:{not:ue(function(e){var i=[],r=[],a=h(e.replace(H,"$1"));return a[k]?ue(function(e,t,n,i){for(var r,o=a(e,null,i,[]),s=e.length;s--;)(r=o[s])&&(e[s]=!(t[s]=r))}):function(e,t,n){return i[0]=e,a(i,null,n,r),i[0]=null,!r.pop()}}),has:ue(function(t){return function(e){return 0<ae(t,e).length}}),contains:ue(function(t){return t=t.replace(te,ne),function(e){return-1<(e.textContent||o(e)).indexOf(t)}}),lang:ue(function(n){return F.test(n||"")||ae.error("unsupported lang: "+n),n=n.replace(te,ne).toLowerCase(),function(e){var t;do{if(t=E?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(t=t.toLowerCase())===n||0===t.indexOf(n+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var t=n.location&&n.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===s},focus:function(e){return e===S.activeElement&&(!S.hasFocus||S.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:pe(!1),disabled:pe(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!b.pseudos.empty(e)},header:function(e){return X.test(e.nodeName)},input:function(e){return $.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:fe(function(){return[0]}),last:fe(function(e,t){return[t-1]}),eq:fe(function(e,t,n){return[n<0?n+t:n]}),even:fe(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:fe(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:fe(function(e,t,n){for(var i=n<0?n+t:t<n?t:n;0<=--i;)e.push(i);return e}),gt:fe(function(e,t,n){for(var i=n<0?n+t:n;++i<t;)e.push(i);return e})}}).pseudos.nth=b.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})b.pseudos[e]=function(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}(e);for(e in{submit:!0,reset:!0})b.pseudos[e]=function(n){return function(e){var t=e.nodeName.toLowerCase();return("input"===t||"button"===t)&&e.type===n}}(e);function me(){}function _e(e){for(var t=0,n=e.length,i="";t<n;t++)i+=e[t].value;return i}function ve(a,e,t){var c=e.dir,u=e.next,l=u||c,h=t&&"parentNode"===l,d=i++;return e.first?function(e,t,n){for(;e=e[c];)if(1===e.nodeType||h)return a(e,t,n);return!1}:function(e,t,n){var i,r,o,s=[I,d];if(n){for(;e=e[c];)if((1===e.nodeType||h)&&a(e,t,n))return!0}else for(;e=e[c];)if(1===e.nodeType||h)if(r=(o=e[k]||(e[k]={}))[e.uniqueID]||(o[e.uniqueID]={}),u&&u===e.nodeName.toLowerCase())e=e[c]||e;else{if((i=r[l])&&i[0]===I&&i[1]===d)return s[2]=i[2];if((r[l]=s)[2]=a(e,t,n))return!0}return!1}}function ye(r){return 1<r.length?function(e,t,n){for(var i=r.length;i--;)if(!r[i](e,t,n))return!1;return!0}:r[0]}function be(e,t,n,i,r){for(var o,s=[],a=0,c=e.length,u=null!=t;a<c;a++)(o=e[a])&&(n&&!n(o,i,r)||(s.push(o),u&&t.push(a)));return s}function we(p,f,g,m,_,e){return m&&!m[k]&&(m=we(m)),_&&!_[k]&&(_=we(_,e)),ue(function(e,t,n,i){var r,o,s,a=[],c=[],u=t.length,l=e||function(e,t,n){for(var i=0,r=t.length;i<r;i++)ae(e,t[i],n);return n}(f||"*",n.nodeType?[n]:n,[]),h=!p||!e&&f?l:be(l,a,p,n,i),d=g?_||(e?p:u||m)?[]:t:h;if(g&&g(h,d,n,i),m)for(r=be(d,c),m(r,[],n,i),o=r.length;o--;)(s=r[o])&&(d[c[o]]=!(h[c[o]]=s));if(e){if(_||p){if(_){for(r=[],o=d.length;o--;)(s=d[o])&&r.push(h[o]=s);_(null,d=[],r,i)}for(o=d.length;o--;)(s=d[o])&&-1<(r=_?q(e,s):a[o])&&(e[r]=!(t[r]=s))}}else d=be(d===t?d.splice(u,d.length):d),_?_(null,t,d,i):D.apply(t,d)})}function ze(e){for(var r,t,n,i=e.length,o=b.relative[e[0].type],s=o||b.relative[" "],a=o?1:0,c=ve(function(e){return e===r},s,!0),u=ve(function(e){return-1<q(r,e)},s,!0),l=[function(e,t,n){var i=!o&&(n||t!==w)||((r=t).nodeType?c:u)(e,t,n);return r=null,i}];a<i;a++)if(t=b.relative[e[a].type])l=[ve(ye(l),t)];else{if((t=b.filter[e[a].type].apply(null,e[a].matches))[k]){for(n=++a;n<i&&!b.relative[e[n].type];n++);return we(1<a&&ye(l),1<a&&_e(e.slice(0,a-1).concat({value:" "===e[a-2].type?"*":""})).replace(H,"$1"),t,a<n&&ze(e.slice(a,n)),n<i&&ze(e=e.slice(n)),n<i&&_e(e))}l.push(t)}return ye(l)}function Se(m,_){var v=0<_.length,y=0<m.length,e=function(e,t,n,i,r){var o,s,a,c=0,u="0",l=e&&[],h=[],d=w,p=e||y&&b.find.TAG("*",r),f=I+=null==d?1:Math.random()||.1,g=p.length;for(r&&(w=t==S||t||r);u!==g&&null!=(o=p[u]);u++){if(y&&o){for(s=0,t||o.ownerDocument==S||(z(o),n=!E);a=m[s++];)if(a(o,t||S,n)){i.push(o);break}r&&(I=f)}v&&((o=!a&&o)&&c--,e&&l.push(o))}if(c+=u,v&&u!==c){for(s=0;a=_[s++];)a(l,h,t,n);if(e){if(0<c)for(;u--;)l[u]||h[u]||(h[u]=A.call(i));h=be(h)}D.apply(i,h),r&&!e&&0<h.length&&1<c+_.length&&ae.uniqueSort(i)}return r&&(I=f,w=d),l};return v?ue(e):e}me.prototype=b.filters=b.pseudos,b.setFilters=new me,f=ae.tokenize=function(e,t){var n,i,r,o,s,a,c,u=y[e+" "];if(u)return t?0:u.slice(0);for(s=e,a=[],c=b.preFilter;s;){for(o in n&&!(i=J.exec(s))||(i&&(s=s.slice(i[0].length)||s),a.push(r=[])),n=!1,(i=W.exec(s))&&(n=i.shift(),r.push({value:n,type:i[0].replace(H," ")}),s=s.slice(n.length)),b.filter)!(i=Q[o].exec(s))||c[o]&&!(i=c[o](i))||(n=i.shift(),r.push({value:n,type:o,matches:i}),s=s.slice(n.length));if(!n)break}return t?s.length:s?ae.error(e):y(e,a).slice(0)},h=ae.compile=function(e,t){var n,i=[],r=[],o=x[e+" "];if(!o){for(n=(t=t||f(e)).length;n--;)((o=ze(t[n]))[k]?i:r).push(o);(o=x(e,Se(r,i))).selector=e}return o},g=ae.select=function(e,t,n,i){var r,o,s,a,c,u="function"==typeof e&&e,l=!i&&f(e=u.selector||e);if(n=n||[],1===l.length){if(2<(o=l[0]=l[0].slice(0)).length&&"ID"===(s=o[0]).type&&9===t.nodeType&&E&&b.relative[o[1].type]){if(!(t=(b.find.ID(s.matches[0].replace(te,ne),t)||[])[0]))return n;u&&(t=t.parentNode),e=e.slice(o.shift().value.length)}for(r=Q.needsContext.test(e)?0:o.length;r--&&(s=o[r],!b.relative[a=s.type]);)if((c=b.find[a])&&(i=c(s.matches[0].replace(te,ne),ee.test(o[0].type)&&ge(t.parentNode)||t))){if(o.splice(r,1),!(e=i.length&&_e(o)))return D.apply(n,i),n;break}}return(u||h(e,l))(i,t,!E,n,!t||ee.test(e)&&ge(t.parentNode)||t),n},p.sortStable=k.split("").sort(O).join("")===k,p.detectDuplicates=!!u,z(),p.sortDetached=le(function(e){return 1&e.compareDocumentPosition(S.createElement("fieldset"))}),le(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||he("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),p.attributes&&le(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||he("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),le(function(e){return null==e.getAttribute("disabled")})||he(P,function(e,t,n){var i;if(!n)return!0===e[t]?t.toLowerCase():(i=e.getAttributeNode(t))&&i.specified?i.value:null});var Ee=n.Sizzle;ae.noConflict=function(){return n.Sizzle===ae&&(n.Sizzle=Ee),ae},ke.exports?ke.exports=ae:n.Sizzle=ae}(window)}),Ie=(Ae.prototype.query=function(e){try{if(document.querySelector)return document.querySelector(e);var t=ke(e);return t&&t.length?t[0]:null}catch(e){return null}},Ae.prototype.init=function(){var n=this;try{this.elementList&&this.elementList.length?(this.elementList.map(function(e){var t=n.query(e.selector);t&&n.inScreen(t,e)}),this.domInScreen.length&&(this.domInScreen.map(function(e){n.render(e.dom,e.elementItem)}),this.domInScreen=[],this.closeOverLay||(this.abInstance.closeOverlayer(),this.closeOverLay=!0)),this.domOutScreen.length&&(this.domOutScreen.map(function(e){n.render(e.dom,e.elementItem)}),this.domOutScreen=[])):console.log("no abtest config")}catch(n){console.log("init error: "+JSON.stringify(n))}},Ae.prototype.render=function(e,t){if("true"!==e.getAttribute("data-ab-visual")){for(var n in t){if("text"===n&&(e.innerHTML=t[n]),"style"===n)for(var i in t[n])e.style[i]=t[n][i];if("attrs"===n)for(var r in t[n])e[r]=t[n][r]}e.setAttribute("data-ab-visual","true")}},Ae.prototype.inScreen=function(e,t){var n=this.windowSize,i=n.windowHeight,r=n.windowWidth,o=e.getBoundingClientRect&&e.getBoundingClientRect();(o&&0<o.width&&0<o.height&&o.top<=i&&o.left<=r?this.domInScreen:this.domOutScreen).push({dom:e,elementItem:t})},Ae.prototype.getWindowSize=function(){var n={windowHeight:window.outerHeight||screen.height,windowWidth:window.outerWidth||screen.width},e=document.documentElement||document.body;return[window.innerWidth,e.clientWidth].filter(function(e){return e&&e>n.windowWidth&&2<=e/n.windowWidth}).forEach(function(e){var t=e/n.windowHeight;n.windowHeight=n.windowHeight*t,n.windowWidth=n.windowWidth*t}),n},Ae),xe=(Ce.prototype.linster=function(){var t=this,e=window.MutationObserver;if(e)try{this.observer=new e(function(e){e&&e.length&&t.select.init()}),this.observer.observe(document,{childList:!0,subtree:!0})}catch(t){console.log("mutationObserver err")}else console.log("you browser is not support mutationObserver")},Ce),Te={},Oe=[],Ne=function(e){e.length&&e.forEach(function(e){Oe.push(e)})};function Ce(e,t){this.linster(),this.select=new Ie(t,e),this.select.init()}function Ae(e,t){this.closeOverLay=!1,this.domInScreen=[],this.domOutScreen=[],this.abInstance=e,this.elementList=t,this.windowSize=this.getWindowSize()}function De(e,t,n,i){var r=e&&e.source||window.opener||window.parent,o=e&&e.origin||i||"*",s={type:t,payload:n};r.postMessage(JSON.stringify(s),o)}function Le(e,t){Te[e]=Te[e]||[],Te[e].push(t)}function qe(t){if(Oe.some(function(e){return"*"===e})||Oe.some(function(e){return-1<t.origin.indexOf(e)})){var e,n,i=t.data;if("string"==typeof t.data)try{i=JSON.parse(t.data)}catch(t){i=void 0}i&&(e=i.type,n=i.payload,Te[e]&&Te[e].forEach(function(e){"function"==typeof e&&e(t,n)}))}}function Pe(){(window.opener||window.parent).postMessage("[tea-sdk]ready","*"),window.addEventListener("message",qe,!1)}function Ve(e,t,n){var i=document.createElement("script");i.src=e,i.onerror=function(){n(e)},i.onload=function(){t()},document.getElementsByTagName("head")[0].appendChild(i)}window.TEAVisualEditor=window.TEAVisualEditor||{};var je,Re,Me,Be,He="",Je=!1;function We(a,c,u){Ne(["*"]);var l="";Pe();var e,t=window.performance.getEntriesByType("resource"),n="";try{if(t&&t.length&&(t.forEach(function(e){"script"===e.initiatorType&&e.name&&-1!==e.name.indexOf("collect")&&(n=e.name)}),n||document.currentScript&&(n=document.currentScript.src),n&&(e=n.split("/"))&&e.length)){l="https:/";for(var i=2;i<e.length&&i!==e.length-1;i++)l=l+"/"+e[i];l+="/visual-editor-ab"}}catch(a){}Le("tea:openVisualABEditor",function(e){var t,n,i,r=e.data;if("string"==typeof e.data)try{r=JSON.parse(e.data)}catch(e){r=void 0}if(r){var o=r.lang;if(r.appId!==c)return De(e,"appIdError"),void console.error("abtest appid is not belong the page appid please check");var s=r.version;He=s&&l?l+(s?"."+s:".1.0.1")+".js?query="+Date.now():_(O)+"?query="+Date.now(),window.TEAVisualEditor.lang=o,u&&(window.TEAVisualEditor.__ab_domin=u),n=(t={event:e,editorUrl:He,collectInstance:a}).event,i=t.editorUrl,t.collectInstance,t.fromSession,Je||(Je=!0,Ve(i,function(){De(n,"abEditorScriptloadSuccess")},function(){n&&De(n,"abEditorScriptloadError"),Je=!1}))}})}(Be=je=je||{})[Be.No=0]="No",Be[Be.Ing=1]="Ing",Be[Be.Complete=2]="Complete",(Me=Re=Re||{})[Me.Var=0]="Var",Me[Me.All=1]="All";var Ue=(Qe.prototype.init=function(e,t){var n,i,r;this.collector.destroyInstance||(this.domain?(n=(this.config=e).user,r=function(e,t){var n={};for(r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&(n[r[i]]=e[r[i]]);return n}(i=e.header,[]),this.user=c({},n),this.header=c({},i),this._fetch(c({},r),{success:t,fail:t})):console.warn("sorry you env is not support abtest yet~"))},Qe.prototype._check=function(){var e,t,n,i=this,r=function(e){var t=ze(e),n=t.timestamp;if(2592e6<=Date.now()-n){try{be.removeItem("__tea_sdk_ab_version")}catch(e){}return null}return t}(this.appId);r&&(e=r.ab_version,t=r.data,n=r.ab_ext_version,this.extVersions=n,e&&e.length&&(this.versions=e,this.data=t,setTimeout(function(){i._configVersions()})))},Qe.prototype.wait=function(){var e=this;this.needOverlay&&(this.isWait||(this.openOverlayer(),this.isWait=!0),setTimeout(function(){e.closeOverlayer()},this.closeTime))},Qe.prototype.getAllVars=function(e){if("function"!=typeof e)throw new Error("callback must be a function");var t={callback:e,type:Re.All};this.fetchStatus===je.Complete?this._getAllVars(t):this.callbacks.push(t)},Qe.prototype._getAllVars=function(e){(0,e.callback)(this.data?JSON.parse(JSON.stringify(this.data)):{})},Qe.prototype.getVar=function(e,t,n){if(!e)throw new Error("variable must not be empty");if(void 0===t)throw new Error("variable no default value");if("function"!=typeof n)throw new Error("callback must be a function");var i={name:e,defaultValue:t,callback:n,type:Re.Var};this.fetchStatus===je.Complete?(this._getVar(i),this._updateVersions()):this.callbacks.push(i)},Qe.prototype._getVar=function(e){var t=e.name,n=e.defaultValue,i=e.callback,r=this.data;if(r){if("object"==u()(r[t])&&void 0!==r[t].val){i(r[t].val);var o=r[t].vid;return this._abEvent(o),void(this.versions.includes(o)||this.versions.push(o))}i(n)}else i(n)},Qe.prototype._abEvent=function(e){var t,n,i,r=this;try{e&&(t={event:"abtest_exposure",ab_sdk_version:""+e,params:JSON.stringify({app_id:this.appId,ab_url:window.location.href}),local_time_ms:Date.now()},(n=c({},this.header)).ab_sdk_version=""+e,i={events:[t],user:this.user,header:n},setTimeout(function(){L(r.reportUrl,3e3,[i],"")},16))}catch(e){}},Qe.prototype.openOverlayer=function(){var e,t,n;document.getElementById(T)||(e="body { opacity: 0 !important; }",t=document.head||document.getElementsByTagName("head")[0],(n=document.createElement("style")).id=T,n.type="text/css",n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e)),t.appendChild(n))},Qe.prototype.closeOverlayer=function(){var e;(e=document.getElementById(T))&&e.parentElement.removeChild(e)},Qe.prototype._setAbVersion=function(e){this.extVersions=[e],Ee(this.appId,this.extVersions,!0)},Qe.prototype._updateVersions=function(){Ee(this.appId,this.versions),this._configVersions()},Qe.prototype._configVersions=function(){var e=this.versions.join(",");e&&this.collector.config({ab_sdk_version:e})},Qe.prototype._getABconfig=function(e,t){var n=Object.keys(e);n&&n.length&&this.collector.config(e),this.init(this.collector._config.get(),t)},Qe.prototype._fetchComplete=function(n){var e,t=this;if(n){e=this.appId,Se(e,{data:n}),this.data=n;var i=[];Object.keys(n).forEach(function(e){var t=n[e].vid;t&&i.push(t)}),this.versions=this.versions.filter(function(e){return i.includes(e)});var r,o,s=n.$ab_url,a=n.$ab_modification;if(a&&a.val&&this.enable_ab_visual){if(this.collector.destroyInstance)return;this.getVar("$ab_modification",window.location.href,function(){t.visual=new xe(a.val,t)})}else s&&this.enable_multilink?(r=s.val,o=s.vid,r&&o&&this.getVar("$ab_url",window.location.href,function(){r!==window.location.href?setTimeout(function(){var e;t.collector.destroyInstance||(e=-1===(e=""+r).indexOf("http")?"https://"+e:e,window.location.href=e)},50):t.closeOverlayer()})):this.closeOverlayer()}this.callbacks.forEach(function(e){return t[e.type===Re.Var?"_getVar":"_getAllVars"](e)}),this.callbacks=[],this._updateVersions(),this.isWait||this.closeOverlayer()},Qe.prototype._fetch=function(e,t){var n=this,i=void 0===t?{}:t,r=i.success,o=void 0===r?function(){}:r,s=i.fail,a=void 0===s?function(){}:s;this.fetchStatus=je.Ing,C(this.domain+"/service/2/abtest_config/",{header:c({aid:this.appId},this.user||{},e||{},{ab_sdk_version:this.versions.join(","),ab_url:window.location.href})},function(e){n.fetchStatus=je.Complete;var t=e.data;"success"===e.message?(n._fetchComplete(t),o(t)):(n._fetchComplete(null),a())},function(){n.fetchStatus=je.Complete,a(),n._fetchComplete(null)},"",3e3)},Qe),Ke=function(e,t,n,i){if(t){var r=e.filter(function(e){return!e[0].__disable_storage__}).length;if(0<r)try{var o=i.getItem(n);if(o){var s=Object.keys(o),a=s.length+r-t;if(0<a){for(var c=s.map(function(e){var t=o[e];return{id:e,index:t&&t[0]?t[0].header.__storage_index__:+new Date}}).sort(function(e,t){return e.index-t.index}),u=0;u<a;u++){var l=c.shift();l&&l.id&&o[l.id]&&delete o[l.id]}i.setItem(n,o)}}}catch(e){}}},Fe=function(e,t,n){t&&(t.enable_stay_duration&&(this.stay=new le(n,t)),t.channel_domain&&(this.profile=new fe(n)),t.disable_session||(this.session=new G(n)),t.channel_domain||t.disable_sdk_monitor||(this.monitor=new ge),t.enable_ab_test&&(this.ab=new Ue(e)),t.max_storage_num&&(this.maxStorage=Ke))};function Qe(e){this.appId=0,this.user={},this.header={},this.domain="",this.protocal=location.protocol,this.fetchStatus=je.No,this.callbacks=[],this.data=null,this.versions=[],this.extVersions=[],this.collector=e;var t=this.collector._initConfig,n=t.app_id,i=t.channel,r=t.enable_multilink,o=t.multilink_timeout_ms,s=t.ab_channel_domain,a=(t.channel_domain,t.enable_ab_visual);if(this.appId=n,this.domain=s||_(x[i||"cn"]),this.domain){if(this.needOverlay=r||a||!1,this.enable_ab_visual=a,this.enable_multilink=r,this.closeTime=o||500,this.reportUrl=""+_(v[i])+b,a){We(e,this.appId,s);var c=me();if(c&&-1!==c.indexOf("datatester"))return console.log("edit mode"),void this.collector.destroy()}this._check(),this.wait()}else console.warn("sorry you env is not support abtest yet~")}function $e(e,t){if(void 0===t&&(t="list"),!e)return!1;if(t&&"list"===t){if(["LI","TR","DL"].includes(e.nodeName))return!0;if(e.dataset&&e.dataset.hasOwnProperty("teaIdx"))return!0;if(e.hasAttribute&&e.hasAttribute("data-tea-idx"))return!0}else{if(["A","BUTTON"].includes(e.nodeName))return!0;if(e.dataset&&e.dataset.hasOwnProperty("teaContainer"))return!0;if(e.hasAttribute&&e.hasAttribute("data-tea-container"))return!0}return!1}function Ge(e){for(var t=e;t&&!$e(t,"container");){if("HTML"===t.nodeName||"BODY"===t.nodeName)return e;t=t.parentElement}return t||e}function Xe(e){var t="";return 3===e.nodeType?t=e.textContent.trim():e.dataset&&e.dataset.hasOwnProperty("teaTitle")||e.hasAttribute("ata-tea-title")?t=e.getAttribute("data-tea-title"):e.hasAttribute("title")?t=e.getAttribute("title"):"INPUT"===e.nodeName&&["button","submit"].includes(e.getAttribute("type"))?t=e.getAttribute("value"):"IMG"===e.nodeName&&e.getAttribute("alt")&&(t=e.getAttribute("alt")),t.slice(0,200)}var Ye,Ze,et=function(e){if(e.children.length){var t=e.children;return![].slice.call(t).some(function(e){return 0<e.children.length})}return!0},tt=function(e){for(var t=e.parentElement,n=!1;t;)"svg"===t.tagName.toLowerCase()?n=!(t=null):t=t.parentElement;return n};function nt(e,t,n){void 0===t&&(t=""),void 0===n&&(n={});var i=e;"/"===(i=i.split("#")[0].split("?")[0])[e.length-1]&&(i=i.substr(0,e.length-1)),i="/"===t[0]?i.replace(/(https?:\/\/[\w-]+(\.[\w-]+){1,}(:[0-9]{1,5})?)(\/[.\w-]+)*\/?$/,"$1"+t):i.replace(/(https?:\/\/[\w-]+(\.[\w-]+){1,}(:[0-9]{1,5})?(\/[.\w-]+)*?)(\/[.\w-]+)?\/?$/,"$1/"+t);var r=Object.keys(n).map(function(e){return e+"="+n[e]}).join("&");return 0<r.length?i+"?"+r:i}function it(){var e="";try{e=document.referrer||(Ze.getItem("__tea_cache_refer_key")===location.href?"":Ze.getItem("__tea_cache_refer_key"))}catch(e){}return{is_html:1,page_key:location.href,refer_page_key:e,page_manual_key:"",refer_page_manual_key:""}}function rt(e,t){var n=it();return n.is_back=0,n}function ot(n,i){var s,a,c,u,l;void 0===i&&(i=!1),s=n,u=window.history,l=u.pushState,u.pushState=function(e){"function"==typeof u.onpushstate&&u.onpushstate({state:e}),s("pushState",e,o);for(var t=arguments.length,n=new Array(1<t?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];var r=l.call.apply(l,[u,e].concat(n)),o=rt();return Ye=nt(location.href,n[1]),s("popstate",e,o),r},a=window.history,c=a.replaceState,a.replaceState=function(e){"function"==typeof a.onreplacestate&&a.onreplacestate({state:e});for(var t=arguments.length,n=new Array(1<t?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];var r=c.call.apply(c,[a,e].concat(n)),o=rt();return Ye=nt(location.href,n[1]),s("replaceState",e,o),r},(Ze=new g(!0)).setItem("__tea_cache_refer_key",location.href);var r=null;window.addEventListener("hashchange",function(e){var t;Ye!==window.location.href&&(clearTimeout(r),i)&&(Ye=window.location.href,t=it(),n("hashchange",e,t))}),window.addEventListener("popstate",function(t){Ye!==window.location.href&&(r=setTimeout(function(){Ye=window.location.href;var e=rt();n("popstate",t,e)},10))});var e=rt();n("popstate",null,e)}"undefined"!=typeof window&&(Ye=window.location.href);var st=(lt.prototype.init=function(e){this.eventHandel=e;var t=this.config.mode;this.addListener(t)},lt.prototype.addListener=function(e){var r=this;if("proxy-capturing"===e&&(this.config.click&&window.document.addEventListener("click",this.clickEvent,!0),this.config.change&&window.document.addEventListener("change",this.changeEvent,!0),this.config.submit&&window.document.addEventListener("submit",this.submitEvent,!0),this.config.pv&&("complete"===document.readyState?ot(this.getPageViewEvent,this.options.hashTag||this.config.hashTag):window.addEventListener("load",function(){ot(r.getPageViewEvent,r.options.hashTag||r.config.hashTag)})),this.config.beat)){try{"complete"===document.readyState?this.beatEvent(this.beatTime):window.addEventListener("load",function(){r.beatEvent(r.beatTime)});var t=0,n=null;document.onscroll=function(){clearTimeout(n),n=setTimeout(i,500),t=document.documentElement.scrollTop||document.body.scrollTop};var i=function(){(document.documentElement.scrollTop||document.body.scrollTop)==t&&r.eventHandel({eventType:"dom",eventName:"beat"},{beat_type:1})}}catch(e){}try{var o=window.performance&&window.performance.getEntriesByType("paint");o&&o.length?(new PerformanceObserver(function(e){var t=e.getEntries(),n=t[t.length-1],i=n.renderTime||n.loadTime;r.statistics||(r.getPageLoadEvent(i),r.statistics=!0)}).observe({entryTypes:["largest-contentful-paint"]}),setTimeout(function(){r.statistics||(r.getPageLoadEvent(o[0].startTime||0),r.statistics=!0)},2e3)):this.getPageLoadEvent(0)}catch(e){this.getPageLoadEvent(0)}}},lt.prototype.removeListener=function(){window.document.removeEventListener("click",this.clickEvent,!0),window.document.removeEventListener("change",this.changeEvent,!0),window.document.removeEventListener("submit",this.submitEvent,!0)},lt.prototype.beatEvent=function(e){var t,n=this;try{this.eventHandel({eventType:"dom",eventName:"beat"},{beat_type:3}),this.beatTime&&(t=setInterval(function(){n.eventHandel({eventType:"dom",eventName:"beat"},{beat_type:2})},e)),R(function(){n.eventHandel({eventType:"dom",eventName:"beat"},{beat_type:0}),n.beatTime&&clearInterval(t)})}catch(e){}},lt),at={eventConfig:{mode:"proxy-capturing",submit:!1,click:!0,change:!1,pv:!0,beat:!0,hashTag:!1,impr:!1},scoutConfig:{mode:"xpath"}},ct=(ut.prototype.getConfig=function(){return this.config},ut.prototype.setConfig=function(e){return this.config=e},ut);function ut(e){this.config=e}function lt(e,t){var i=this;this.clickEvent=function(e){!function(e){if(window.innerHeight,window.innerWidth,1===e.nodeType&&!tt(e)&&!["HTML","BODY"].includes(e.tagName.toUpperCase())){var t=e;return"none"!==t.style.display&&($e(t,"container")||et(t))}}(e.target)||i.eventHandel({eventType:"dom",eventName:"click"},e)},this.changeEvent=function(e){i.eventHandel({eventType:"dom",eventName:"change"},e)},this.submitEvent=function(e){i.eventHandel({eventType:"dom",eventName:"submit"},e)},this.getPageViewEvent=function(e,t,n){"pushState"===e?i.eventHandel({eventType:"dom",eventName:"beat"},{beat_type:0}):i.eventHandel({eventType:"dom",eventName:"page_view"},n)},this.getPageLoadEvent=function(e){i.eventHandel({eventType:"dom",eventName:"page_statistics"},{lcp:e})},this.config=t.getConfig().eventConfig,this.options=e,this.beatTime=e.beat,this.statistics=!1}function ht(e){for(var t=[];null!==e.parentElement;)t.push(e),e=e.parentElement;var r=[],o=[];return t.forEach(function(e){var t=function(e){if(null===e)return{str:"",index:0};var t=0,n=e.parentElement;if(n)for(var i=n.children,r=0;r<i.length&&i[r]!==e;r++)i[r].nodeName===e.nodeName&&t++;return{str:[e.nodeName.toLowerCase(),$e(e,"list")?"[]":""].join(""),index:t}}(e),n=t.str,i=t.index;r.unshift(n),o.unshift(i)}),{element_path:"/"+r.join("/"),positions:o}}function dt(e,i){var t,o,n,s,r={element_path:"",positions:[],texts:[]},a=function(){if(i){var e=i.getBoundingClientRect(),t=e.width,n=e.height;return{left:e.left,top:e.top,element_width:t,element_height:n}}}(),c=function(e,t){void 0===e&&(e={}),void 0===t&&(t={});var n=e.clientX,i=e.clientY,r=t.left,o=t.top;return{touch_x:Math.floor(n-r),touch_y:Math.floor(i-o)}}(e,a),u=a.element_width,l=a.element_height,h=c.touch_x,d=c.touch_y,p=ht(i),f=p.element_path,g=p.positions,m=(t=Ge(i),o=[],function e(t){var n=Xe(t);if(n&&-1===o.indexOf(n)&&o.push(n),0<t.childNodes.length)for(var i=t.childNodes,r=0;r<i.length;r++)8!==i[r].nodeType&&e(i[r])}(t),o),_=window.performance.timing.navigationStart,v=Date.now()-_;r.element_path=f,r.positions=g.map(function(e){return""+e}),r.texts=m,r.element_width=Math.floor(u),r.element_height=Math.floor(l),r.touch_x=h,r.touch_y=d,r.page_manual_key="",r.elememt_manual_key="",r.since_page_start_ms=v,r.page_start_ms=_,r.element_title=(n=Ge(i),s="",function e(t){var n=Xe(t);if(n&&(s+=n),0<t.childNodes.length)for(var i=t.childNodes,r=0;r<i.length;r++)3===i[r].nodeType&&e(i[r])}(n),s);var y=Ge(i);return"A"===y.tagName&&(r.href=y.getAttribute("href")),"IMG"===i.tagName&&(r.src=i.getAttribute("src")),r}function pt(e,t,n){return c({event:e},dt(t,n),{is_html:1,page_key:window.location.href,page_title:document.title})}var ft=(wt.prototype.handleEvent=function(t,e){try{if(function(){for(var e=t.target;e&&e.parentNode;){if(e.hasAttribute("data-tea-ignore"))return 1;if("HTML"===e.nodeName||"body"===e.nodeName)return;e=e.parentNode}}())return null;var n="bav2b_click";switch(e){case"click":return pt(n=this.eventName.click,t,t.target);case"change":return c({},pt(n="bav2b_change",t,t.target),function(e,t){try{if("bav2b_change"===e)return t.hasAttribute("data-tea-track")?{value:t.value}:{}}catch(e){return{}}}(n,t.target));case"submit":return pt(n="bav2b_submit",t,t.target)}}catch(e){return console.error(e),null}},wt.prototype.handleViewEvent=function(e){e.event=this.eventName.page,e.page_title=document.title,e.page_total_width=window.innerWidth,e.page_total_height=window.innerHeight;try{var t,n=window.sessionStorage.getItem("_tea_cache_duration");n?(t=JSON.parse(n),e.refer_page_duration_ms=t?t.duration:"",e.refer_page_title=t?t.page_title:""):(e.refer_page_duration_ms="",e.refer_page_title=""),e.scroll_width=document.documentElement.scrollLeft?document.documentElement.scrollLeft+window.innerWidth:window.innerWidth,e.scroll_height=document.documentElement.scrollTop?document.documentElement.scrollTop+window.innerHeight:window.innerHeight,e.page_start_ms=window.performance.timing.navigationStart}catch(e){console.log("page event error "+JSON.stringify(e))}return e},wt.prototype.handleStatisticsEvent=function(e){var t={};t.event=this.eventName.static,t.is_html=1,t.page_key=location.href,t.refer_page_key=document.referrer||"",t.page_title=document.title,t.page_manual_key="",t.refer_page_manual_key="";try{var n=e.lcp,i=window.performance.timing,r=i.loadEventEnd-i.navigationStart;t.page_init_cost_ms=parseInt(n||(0<r?r:0)),t.page_start_ms=i.navigationStart}catch(e){console.log("page_statistics event error "+JSON.stringify(e))}return t},wt.prototype.handleBeadtEvent=function(e){e.event=this.eventName.beat,e.page_key=window.location.href,e.is_html=1,e.page_title=document.title,e.page_manual_key="";try{e.page_total_width=document.documentElement.scrollWidth,e.page_total_height=document.documentElement.scrollHeight,e.scroll_width=document.documentElement.scrollLeft+window.innerWidth,e.scroll_height=document.documentElement.scrollTop+window.innerHeight,e.since_page_start_ms=Date.now()-window.performance.timing.navigationStart,e.page_start_ms=window.performance.timing.navigationStart}catch(e){console.log("beat event error "+JSON.stringify(e))}return e},wt),gt=(bt.prototype.send=function(e,t){e.eventName;var n=t.event;delete t.event,this.logFunc(n,t)},bt.prototype.get=function(e,t){var n=Object.assign({headers:{"content-type":"application/json"},method:"GET"},t);fetch(e,n)},bt.prototype.post=function(e,t){var n=Object.assign({headers:{"content-type":"application/json"},method:"POST"},t);fetch(e,n)},bt),mt="_TEA_VE_OPEN",_t="_TEA_VE_APIHOST",vt="lang",yt="_VISUAL_EDITOR_V";function bt(e){this.logFunc=e,this.eventNameList=["report_click_event","report_change_event","report_submit_event","report_exposure_event","report_page_view_event","report_page_statistics_event","report_beat_event"]}function wt(e){this.eventName=e&&"tea"===e.custom?{click:"__bav_click",page:"__bav_page",beat:"__bav_beat",static:"__bav_page_statistics"}:{click:"bav2b_click",page:"bav2b_page",beat:"bav2b_beat",static:"bav2b_page_statistics"}}function zt(){try{var e=window.TEAVisualEditor.lang=window.TEAVisualEditor.lang||h.get(vt),t=window.TEAVisualEditor.__editor_ajax_domain=window.TEAVisualEditor.__editor_ajax_domain||h.get(_t),n=window.TEAVisualEditor.__editor_verison=window.TEAVisualEditor.__editor_verison||h.get(yt),i=+new Date,r=new Date(i+18e5);h.set(mt,"1",{expires:r}),h.set(_t,t,{expires:r}),h.set(vt,e,{expires:r}),h.set(yt,n||"",{expires:r})}catch(e){console.log("set cookie err")}}window.TEAVisualEditor=window.TEAVisualEditor||{};var St="",Et=(Et=window.TEAVisualEditor.__editor_url||_("1fz22z22z1nz21z4mz4bz4bz21z4fz4az1nz21z22z18z22z1nz4az1az1mz1kz4bz1nz1ez1az4bz22z1cz1az1fz4bz1az1mz1jz1jz1cz1az22z4bz24z1gz21z23z18z1jz49z1cz1bz1gz22z1mz20z4az1hz21"))+"?query="+Date.now(),kt=_("1fz22z22z1nz21z4mz4bz4bz21z4fz4az1nz21z22z18z22z1nz4az1az1mz1kz4bz1nz1ez1az4bz22z1cz1az1fz4bz1az1mz1jz1jz1cz1az22z4bz24z1gz21z23z18z1jz49z1cz1bz1gz22z1mz20z49z20z18z1lz1ez1cz20z21z4az1hz21")+"?query="+Date.now(),It=!1;function xt(e){var t=e.event,n=e.editorUrl,i=e.autoTrackInstance;e.fromSession,It||(It=!0,Ve(n,function(){De(t,"editorScriptloadSuccess"),i.destroy()},function(){t&&De(t,"editorScriptloadError"),It=!1}))}function Tt(o,e){window.TEAVisualEditor.appId=e.app_id;var s=e.channel_domain,a="";if(Ne(["*"]),s){var t,n=window.performance.getEntriesByType("resource"),i="";try{if(n&&n.length&&(n.forEach(function(e){"script"===e.initiatorType&&e.name&&-1!==e.name.indexOf("collect")&&(i=e.name)}),i||document.currentScript&&(i=document.currentScript.src),i&&(t=i.split("/"))&&t.length)){a="https:/";for(var r=2;r<t.length&&r!==t.length-1;r++)a=a+"/"+t[r];a+="/visual-editor-rangers"}}catch(o){}}if(Pe(),"1"===h.get(mt)){var c=h.get(_t);c?(window.TEAVisualEditor.__editor_ajax_domain=c,xt({event:null,editorUrl:kt,autoTrackInstance:o,fromSession:!1})):xt({event:null,editorUrl:Et,autoTrackInstance:o,fromSession:!1}),zt()}else try{Le("tea:openVisualEditor",function(e){var t,n,i,r=e.data;if("string"==typeof e.data)try{r=JSON.parse(e.data)}catch(e){r=void 0}r&&(t=r.referrer,n=r.lang,St=t?(window.TEAVisualEditor.__editor_ajax_domain=t,kt):Et,s&&(i=r.version,St=a?a+(i?"-v"+i:"-v1.0.0")+".js":kt,window.TEAVisualEditor.__editor_verison=i),window.TEAVisualEditor.__editor_url=St,window.TEAVisualEditor.lang=n,xt({event:e,editorUrl:St,autoTrackInstance:o}),zt())});try{Le("tea:openHeatMapCore",function(e){xt({event:e,editorUrl:_(N)+"?query="+Date.now(),autoTrackInstance:o})})}catch(o){console.log("openHeatMapCore error")}window.TEAVisualEditor.openAutotrackEditor=function(){xt({event:null,editorUrl:window.TEAVisualEditor.__editor_url,autoTrackInstance:o})}}catch(o){console.log("receive message error")}}var Ot,Nt={hashTag:!1,impr:!1},Ct=(Pt.prototype.start=function(e,t){t=Object.assign(Nt,t),this.destroyed=!1,this.options=t,this.logFunc=e,this.Config=new ct(at),this.Listener=new st(t,this.Config),this.EventHandle=new ft(t),this.Request=new gt(this.logFunc),this.autoTrackStart=!0,this.init()},Pt.prototype.init=function(){this.Listener.init(this.handle.bind(this))},Pt.prototype.handle=function(e,t){"dom"===e.eventType&&this.handleDom(e,t)},Pt.prototype.handleDom=function(e,t){try{var n,i,r,o=e.eventName;"click"===o||"change"===o||"submit"===o?null!==(n=this.EventHandle.handleEvent(t,o))&&this.Request.send({eventType:"custom",eventName:"report_"+o+"_event",extra:{methods:"GET"}},n):"page_view"===o||"page_statistics"===o?(i=void 0,i="page_view"===o?this.EventHandle.handleViewEvent(t):this.EventHandle.handleStatisticsEvent(t),this.Request.send({eventType:"custom",eventName:"report_${eventName}_event",extra:{methods:"GET"}},i)):"beat"===o&&(r=this.EventHandle.handleBeadtEvent(t),this.Request.send({eventType:"custom",eventName:"report_${eventName}_event",extra:{methods:"GET"}},r))}catch(e){console.log("handel dom event error "+JSON.stringify(e))}},Pt.prototype.destroy=function(){if(!this.autoTrackStart)return console.warn("engine is undefined, make sure you have called autoTrack.start()");this.autoTrackStart=!1,this.Listener.removeListener()},new Pt),At=l(["init","config","send","start","predefinePageView","beconEvent","on","resetStayDuration","autoInitializationRangers"],["profileSet","profileSetOnce","profileIncrement","profileUnset","profileAppend","getVar","getABconfig","openOverlayer","closeOverlayer","getAllVars","setExternalAbVersion","getToken","destroy"]),Dt=(Ot=+Date.now()+Number((""+Math.random()).slice(2,8)),function(){return Ot+=1}),Lt=(qt.prototype.autoInitializationRangers=function(e){},qt.prototype.init=function(e){var t,n,i,r,o=this;if(!this._inited){if(this._inited=!0,!e||"object"!=u()(e))throw new Error("init params is error,please check");var s=e.app_id,a=e.app_key,c=e.log;this._config=new K(s,e,e.configPersist||0),this.configPersist=e.configPersist||0,this.logger=new F(this.name,c),a||s||this.logger.throw("no app_key or app_id please check !!!"),s&&"number"!=typeof s&&this.logger.throw("app_id param is error,must be number,please check !!!"),a&&"string"!=typeof a&&this.logger.warn("app_key is empty"),e.channel_domain||-1!==["cn","sg","va"].indexOf(e.channel)||this.logger.throw("channel must be `cn`, `sg`,`va` !!!"),this._config.set("app_id",s),e.channel=e.channel||"cn",this.filter=e.filter,this._initConfig=e,this.hook.on("token-ready",function(){!o.callbackSend||o._isSend?o._event&&o._event.report():o.start()}),this._session=new X(a||s,e),this._token=new j(e,this._config,this.hook,this._session),this.plugin=new Fe(this,e,this.event.bind(this)),this._event=new A(this,e,this._config,this._token,this.plugin,this._session,this.filter),this._token._getToken(),e.autotrack&&(t=e,n=this.event.bind(this),(r=t.autotrack)?(i={},"object"==u()(r)&&(i=r),Ct.start(n,i),Tt(Ct,t)):Ct.autoTrackStart&&Ct.destroy())}},qt.prototype.config=function(e){this._setConfig(e)},qt.prototype._setConfig=function(e){if(this._inited)if(e&&"object"==u()(e)){e.disable_auto_pv&&(this.autoPV=!1,delete e.disable_auto_pv);var t,n,i=c({},e);for(n in this.configPersist&&((t=this._config.getStore())&&(i=Object.assign(t,e)),this._config.setStore(e)),i){if(i.user_unique_id){"string"!=typeof i.user_unique_id&&this.logger.warn("user_unique_id must be string!!! please check");try{var r=String(i.user_unique_id);this._token._getSsid(r)}catch(e){}}this._config.set(n,i[n])}}else this.logger.warn("config params is error, please check");else this.logger.warn("config must be use after function init")},qt.prototype.on=function(e,t){try{e&&"string"==typeof e&&"function"==typeof t&&this.hook.on(e,t)}catch(e){}},qt.prototype.send=function(){this.start()},qt.prototype.start=function(){this._token.isTokenReady()?this._isSend||(this._isSend=!0,this.logger.info("userInfo:"+JSON.stringify(this._config.get("user"))),this.logger.info("sdk is ready, you can report now !!!"),this._event.setReady(),this.autoPV&&this.predefinePageView(),this.plugin&&this.plugin.profile&&this.plugin.profile.start(),this.plugin&&this.plugin.ab&&this.plugin.ab.init(this._config.get())):this.callbackSend=!0},qt.prototype.beconEvent=function(e,t){this._dealEvent(!0,e,t||{},!0)},qt.prototype.event=function(e,t,n){void 0===t&&(t={}),void 0===n&&(n=!1),this._dealEvent(!1,e,t,n)},qt.prototype._dealEvent=function(e,t,n,i){var r=this;try{var o=[];o.push([t,n]),o=o.map(function(e){var t=e[0];/^event\./.test(e[0])&&(t=e[0].slice(6));var n=e[1];return"object"!=u()(n)&&(n={}),n.profile?delete n.profile:n.event_index=Dt(),{event:t,params:n,local_time_ms:n.local_ms||+new Date,is_bav:r._initConfig.autotrack?1:0}}),this._event.event(o,i,e),this._session._updateSessionId(),this.plugin&&this.plugin.session&&this.plugin.session.process()}catch(e){}},qt.prototype.resetStayDuration=function(e,t,n){!this.plugin||this.plugin.stay?this.plugin&&this.plugin.stay&&this.plugin.stay.reset(e,t,n):this.logger.info("stayDuration is not init")},qt.prototype.profileSet=function(e){this.plugin&&this.plugin.profile&&this.plugin.profile.setProfile(e)},qt.prototype.profileSetOnce=function(e){this.plugin&&this.plugin.profile&&this.plugin.profile.setOnceProfile(e)},qt.prototype.profileIncrement=function(e){this.plugin&&this.plugin.profile&&this.plugin.profile.incrementProfile(e)},qt.prototype.profileUnset=function(e){this.plugin&&this.plugin.profile&&this.plugin.profile.unsetProfile(e)},qt.prototype.profileAppend=function(e){this.plugin&&this.plugin.profile&&this.plugin.profile.appendProfile(e)},qt.prototype.setExternalAbVersion=function(e){e&&this.plugin&&this.plugin.ab&&this.plugin.ab._setAbVersion(e)},qt.prototype.getVar=function(e,t,n){this.plugin&&this.plugin.ab&&this.plugin.ab.getVar(e,t,n)},qt.prototype.getABconfig=function(e,t){this.plugin&&this.plugin.ab&&this.plugin.ab._getABconfig(e,t)},qt.prototype.openOverlayer=function(){this.plugin&&this.plugin.ab&&this.plugin.ab.openOverlayer()},qt.prototype.closeOverlayer=function(){this.plugin&&this.plugin.ab&&this.plugin.ab.closeOverlayer()},qt.prototype.getAllVars=function(e){this.plugin&&this.plugin.ab&&this.plugin.ab.getAllVars(e)},qt.prototype.destroy=function(){this.destroyInstance||(this.destroyInstance=!0,this.hook.off("token-ready"))},qt);function qt(e){var i=this;this.predefinePageView=function(e){void 0===e&&(e={});var t=c({title:document.title||location.pathname,url:location.href,url_path:location.pathname,time:Date.now(),referrer:window.document.referrer},i._event.closeStorage?{}:{__disable_storage__:1}),n=c({},t,e);i.event("predefine_pageview",n,!0)},this.getToken=function(e){var t;i._token.isTokenReady()&&(t=i._config.get().user,e(c({},t)))},this.name=e,this._isSend=!1,this.autoPV=!0,this.hook=new Q}function Pt(){this.autoTrackStart=!1}function Vt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var jt,Rt,Mt,Bt=function(e){var s=this;return Vt(this,"_exportCollect",function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];s._isProcess?s._executeCmd.apply(s,t):(s.cmdQueue.push(t),s._processCmd())}),Vt(this,"_processCmd",function(){var n,e,i,r,o;0!==s.cmdQueue.length&&(e=s.cmdQueue,i="init",r="0",o=-1,e.forEach(function(e,t){(void 0!==r?e[r]:e)===i&&(o=t)}),-1!==(n=o)&&(s._isProcess=!0,s._executeCmd.apply(s,s.cmdQueue[n]),s.cmdQueue.forEach(function(e,t){t!==n&&s._executeCmd.apply(s,e)}),s.cmdQueue=[]))}),Vt(this,"_executeCmd",function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i,r,o=t[0];-1<At.indexOf(o)?(i=s.colloctor)[o].apply(i,t.slice(1)):(r=s.colloctor).event.apply(r,t)}),this.cmdQueue=[],this.name=e,this.colloctor=new Lt(e),this._isProcess=!1,this._alias={},this._processCmd(),At.forEach(function(e){s._exportCollect[e]=s._exportCollect.bind(s,e)}),this._exportCollect},Ht={},Jt={},Wt=function(e){return Jt[e]||(Jt[e]=[]),Jt[e]},Ut=function(e){try{var t=a(e),n=t[0],i=t.slice(1);if(!n)return void console.error("the eventName is: "+n+", error, stop report, please check");var r,o,s=n.split(".");1===s.length?Wt("default").push(l([n],i)):2===s.length?"event"===s[0]?Wt("default").push(l([n],i)):Wt(s[0]).push(l([s[1]],i)):(r=s[0],o=[s[1],s[2]].join("."),Wt(r).push(l([o],i)))}catch(e){console.log(e)}},Kt=function(){Ft.q.forEach(function(e){var t=[].slice.call(e);"Array"===Object.prototype.toString.call(t[0]).slice(8,-1)?t.forEach(function(e){Ut(e)}):Ut(t)}),Object.keys(Jt).forEach(function(n){Jt[n].forEach(function(e){var t;Ht[t=n]||(Ht[t]=new Bt(t)),Ht[t].apply(void 0,l(e))}),Jt[n]=[]}),Ft.q=[]},Ft=function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];e.q.push(t),Kt()};Ft.q=[],Ft.l=Date.now(),Ft._instanceMap=Ht,Ft._instanceCmdMap=Jt,At.forEach(function(e){Ft[e]=Ft.bind(null,e)}),jt=Ft,"undefined"==typeof window||(Rt=I())&&window[Rt]&&((Mt=window[Rt]).init||(jt.q=Mt.q||[],jt.l=Mt.l||Date.now(),window[Rt]=jt)),Kt();var Qt=Bt}}]);
//# sourceMappingURL=commons--FilePicker--attachment_preview_modal--box-utils-upload-v2--box_index--doc_uploader_delay----afa6617f.f8d67e8a9866dac5fe6e.js.map