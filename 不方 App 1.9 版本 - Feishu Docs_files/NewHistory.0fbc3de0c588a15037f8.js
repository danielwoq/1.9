(this.webpackJsonp=this.webpackJsonp||[]).push([["NewHistory"],{"0c85":function(e,t,n){},"6qYW":function(e,t,n){"use strict";var r=n("pVnL"),a=n.n(r),i=n("QILm"),o=n.n(i),s=n("q1tI"),c=n.n(s);t.a=function(e){e.styles;var t=o()(e,["styles"]);return c.a.createElement("svg",a()({viewBox:"0 0 120 120",fill:"none",xmlnsXlink:"http://www.w3.org/1999/xlink"},t),c.a.createElement("path",{fill:"url(#8c9562c168a6189ac61a94349c1720ba-pattern0)",d:"M-14.5-16h150v150h-150z"}),c.a.createElement("defs",null,c.a.createElement("pattern",{id:"8c9562c168a6189ac61a94349c1720ba-pattern0",patternContentUnits:"objectBoundingBox",width:"1",height:"1"},c.a.createElement("use",{xlinkHref:"#8c9562c168a6189ac61a94349c1720ba-image0",transform:"scale(.002)"})),c.a.createElement("image",{id:"8c9562c168a6189ac61a94349c1720ba-image0",width:"500",height:"500",xlinkHref:"data:image/png;base64,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"})))}},"96np":function(e,t,n){},AChx:function(e,t,n){"use strict";var r=n("pVnL"),a=n.n(r),i=n("QILm"),o=n.n(i),s=n("q1tI"),c=n.n(s);t.a=function(e){e.styles;var t=o()(e,["styles"]);return c.a.createElement("svg",a()({width:"80",height:"80",viewBox:"0 0 80 80",fill:"none"},t),c.a.createElement("mask",{id:"2d502a9a67a1e73d96a1e3a5aeaa45b2-a",maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"80",height:"80"},c.a.createElement("path",{fill:"#C4C4C4",d:"M0 0h80v80H0z"})),c.a.createElement("g",{mask:"url(#2d502a9a67a1e73d96a1e3a5aeaa45b2-a)"},c.a.createElement("path",{fill:"#D7DAE0",d:"M2 12h41v48H2z"}),c.a.createElement("path",{d:"M9 18h41v48H9V18z",fill:"#fff"}),c.a.createElement("path",{d:"M19 68.56s1.24-11.78 9.11-11.34c7.87.44 9.53 11.78 9.53 11.78S43.5 37 53 36",stroke:"#2B2F36",strokeLinecap:"round",strokeLinejoin:"round"}),c.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M55.88 18.39L48 24.54l6.16 7.88 7.88-6.15-6.16-7.88zM65.34 11l-7.88 6.16 6.15 7.88 7.88-6.16L65.34 11zm-9.95 23l7.88-6.16 6.15 7.88-7.88 6.16L55.4 34zm17.33-13.54l-7.88 6.15L71 34.5l7.88-6.15-6.16-7.88z",fill:"#FFC60A"}),c.a.createElement("rect",{x:"13",y:"25",width:"27",height:"1",rx:".5",fill:"#2B2F36"}),c.a.createElement("rect",{x:"13",y:"28",width:"27",height:"1",rx:".5",fill:"#2B2F36"}),c.a.createElement("rect",{x:"13",y:"31",width:"27",height:"1",rx:".5",fill:"#2B2F36"})))}},BdQV:function(e,t,n){"use strict";n.d(t,"e",function(){return o}),n.d(t,"f",function(){return u}),n.d(t,"b",function(){return f}),n.d(t,"d",function(){return g}),n.d(t,"c",function(){return m}),n.d(t,"a",function(){return p});var r=n("RIqP"),s=n.n(r),a=n("3Hq1"),c=n("1myf"),i=n("Ss5W");function o(e,t,n,r){if(!t.length)return[];var a="edit_time",i=e.filter(function(e){return e[a]>=n&&e[a]<r}),o=[].concat(s()(i),s()(t));return Object(c.a)(o,function(e){return-e[a]})}var l,u=function(t){return new Promise(function(e){return setTimeout(e,t)})},d=(l=0,function(){return l++});function h(){for(var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:20,t="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",n="",r=0;r<e;r++)n+=t[Math.floor(Math.random()*t.length)];return n}function f(){return h(10)+"-"+d()}function g(e){return[i.e.add,i.e.del,i.e.change].includes(e)}function m(e,t){return"".concat(i.r).concat(e).concat(Object(a.default)(t)?"":"-".concat(t))}function p(e){var t={};return e.forEach(function(e){t[e[0]]=e[1]}),t}},BtkK:function(e,t,n){},CbGb:function(e,t,n){"use strict";var r=n("pVnL"),a=n.n(r),i=n("QILm"),o=n.n(i),s=n("q1tI"),c=n.n(s);t.a=function(e){e.styles;var t=o()(e,["styles"]);return c.a.createElement("svg",a()({width:"12",height:"12",viewBox:"0 0 12 12",fill:"none"},t),c.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.17 6.24l-4.7 3.41A.3.3 0 014 9.41V2.6a.3.3 0 01.48-.24l4.69 3.4a.3.3 0 010 .5z",fill:"#646A73"}))}},"DH/q":function(e,t,n){"use strict";var r=n("J4zp"),x=n.n(r),a=n("o0o1"),i=n.n(a),o=n("yXPU"),c=n.n(o),s=n("lwsE"),l=n.n(s),u=n("W8MJ"),d=n.n(u),h=n("Muja"),S=n("XIp8"),E=n("3Hq1"),B=n("FJEn"),O=n("H6oK"),f=n("Hj9z"),w=n("FSVF"),N=n("Ss5W"),L=n("BdQV"),H=n("bLEF"),j=n("x1e+"),v=n("mwUk"),b=n("uPGt"),g=function(){function s(e,t,n,r){var a=!(4<arguments.length&&void 0!==arguments[4])||arguments[4],i=!(5<arguments.length&&void 0!==arguments[5])||arguments[5],o=6<arguments.length&&void 0!==arguments[6]?arguments[6]:0;l()(this,s),this.editor=e,this.onDiffCountChange=t,this.blockHistoryLocate=n,this.pluginExtensionHelper=r,this.shouldCollectSheet=a,this.shouldCollectBitable=i,this.scrollBufferDistance=o,this.className="historyChangeSelection",this.changeRecordList=[],this.confirmedRecordList=[],this.lastChangeRecordIndex=0,this.lastIndex=-1,this.tableZoneMaps={},this.tableCellZoneForTableMap={},this.getConfirmedChangeRecordList=function(e){return e.filter(function(e){return e.status===w.b.Confirmed})},this.sheetPromiseManager=this.generatePromiseManager(),this.bitablePromiseManager=this.generatePromiseManager(),this.highlightDom=this.addHighlightStyleDom()}function e(){return t.apply(this,arguments)}var t;return d()(s,[{key:"generatePromiseManager",value:function(){var t=function(e){};return{promiseObj:new Promise(function(e){t=e}),resolveFn:t}}},{key:"onMount",value:function(e,t){var n=this.getChangeSelectionList(this.editor),r=this.getChangeRecordList(this.editor,n);this.changeRecordList=this.removeEmptyEnterCharInTableOrBlock(r),this.emitRecordChangeCount()}},{key:"emitRecordChangeCount",value:(t=c()(i.a.mark(function e(){var t;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.checkExisitedBlock(w.a.Sheet)&&this.shouldCollectSheet||this.sheetPromiseManager.resolveFn(),this.checkExisitedBlock(w.a.Bitable)&&this.shouldCollectBitable||this.bitablePromiseManager.resolveFn(),e.next=4,this.sheetPromiseManager.promiseObj;case 4:return e.next=6,this.bitablePromiseManager.promiseObj;case 6:this.confirmedRecordList=this.getConfirmedChangeRecordList(this.changeRecordList),t=this.confirmedRecordList.length,this.onDiffCountChange(t);case 9:case"end":return e.stop()}},e,this)})),e)},{key:"checkExisitedBlock",value:function(t){return this.changeRecordList.some(function(e){return e.type===t})}},{key:"getChangeSelectionList",value:function(e){for(var t=e.getMatchedAttributePositionOnSelection(null,this.findMatchAttibutes,{shouldMerge:!1}),n=[],r=0;r<t.length;r++){var a=t[r],i=t[r+1];a&&i&&a.attrKey===O.BLOCK_DATA_META_BLOCK_PROPS&&i.attrKey===N.q&&Object(h.default)(a.docPosition,i.docPosition)?(n.push(i,a),r++):n.push(a)}return n}},{key:"findMatchAttibutes",value:function(e,t){if(e===N.o)return!0;var n,r=!1,a=!1;e===O.BLOCK_DATA_META_BLOCK_PROPS&&(n=Object(H.a)(t),r=Object(H.i)(n),a=Object(H.g)(n));var i=e===N.q;return!!(r||a||i)}},{key:"getLineEntry",value:function(e,t,n){var r=e.getRep(t).lines.atIndex(n);return r||null}},{key:"getChangeRecordList",value:function(p,e){var v=this;if(0===e.length)return[];var b=null,y=[],k=null,C=null;return e.forEach(function(r,e){var t,n=r.attrKey,a=r.attrValue,i=r.docPosition,o=i.selZone,s=i.selStart,c=i.selEnd,l=p.getAttributesOnSelection(o,{selStart:s,selEnd:c},!1).attribs,u=Object(L.a)(l),d=w.a.Normal,h=n===N.q?w.b.Confirmed:w.b.Pending;if(n===O.BLOCK_DATA_META_BLOCK_PROPS){var f=Object(H.a)(a),g=Object(H.i)(f),m=Object(H.g)(f);if(g?d=w.a.Sheet:m&&(d=w.a.Bitable),d!==w.a.Normal&&h===w.b.Pending&&u[N.e.del])return}else if(n===N.o)return d=w.a.Table,void v.buildTableValueMap(a);if(!Object(E.default)(u.gallery)&&!Object(E.default)(u[N.e.change]))return JSON.parse(u[N.e.change]).image.forEach(function(e,t){var n;e.changeType!==N.e.add&&e.changeType!==N.e.del||(n={type:d,selection:r.docPosition,firstSelection:Object(S.default)(r.docPosition),highlightValue:a,galleryIndex:t,status:h,author:u.author,linkHighlightValueList:[],mergeSelectionList:[{selection:Object(S.default)(r.docPosition),attrValues:u}]},y.push(n))}),void(C=k=null);if(b&&(d===w.a.Normal&&k&&C&&v.checkIsSameChange({lastNormalChangeRecord:b,lastChangeSelection:k,curChangeSelection:r,prevAttributes:C,selectionAttributes:u})))return b.selection.selZone===o&&(b.selection.selEnd=c),k=r,C=u,void b.mergeSelectionList.push({selection:Object(S.default)(r.docPosition),attrValues:u});u.lmkr&&!u[N.e.change]||(t={type:d,selection:r.docPosition,firstSelection:Object(S.default)(r.docPosition),highlightValue:a,status:h,author:u.author,linkHighlightValueList:[],mergeSelectionList:[{selection:Object(S.default)(r.docPosition),attrValues:u}]},y.push(t),t.type===w.a.Normal&&(b=t),k=r,C=u)}),y}},{key:"removeEmptyEnterCharInTableOrBlock",value:function(e){var o=this;return e.filter(function(e){var t=e.type,n=e.selection,r=n.selStart,a=n.selZone;if(t!==w.a.Normal)return!0;if(!Object(b.isOnlyOneChar)(n))return!0;if(!Object(H.h)(o.editor,n))return!0;var i=a||B.DEFAULT_REP_ZONE;return!Object(H.j)(o.editor,i,r[0])})}},{key:"checkIsSameChange",value:function(e){var t=e.lastNormalChangeRecord,n=e.lastChangeSelection,r=e.curChangeSelection,a=e.prevAttributes,i=e.selectionAttributes,o=i[N.q];if(t.highlightValue===o)return!0;if(a[N.q]===o)return!0;if(Object(j.b)(a,i)){var s=n.docPosition,c=r.docPosition,l=this.editor.getReps()[B.DEFAULT_REP_ZONE];if(!c.selZone||!s.selZone)return!1;if(s.selZone===c.selZone)return!1;if(s.selZone===B.DEFAULT_REP_ZONE){if(0!==c.selStart[0]||0!==c.selStart[1])return!1;var u=this.getLastCharPosition(s.selZone,s.selEnd[0]),d=x()(u,2)[1];if(s.selEnd[1]!==d)return!1;var h=this.editor.managers.getLineEntryContainingZone(c.selZone);if(!h)return!1;var f=l.lines.indexOfEntry(h);if(s.selEnd[0]+1!==f)return!1;var g=this.tableCellZoneForTableMap[c.selZone];if(!this.tableZoneMaps[g])return!1;if(0!==this.tableZoneMaps[g][c.selZone])return!1}else if(c.selZone===B.DEFAULT_REP_ZONE){var m=this.editor.managers.getLineEntryContainingZone(s.selZone);if(!m)return!1;if(l.lines.indexOfEntry(m)!==c.selStart[0])return!1;var p=this.getLastCharPosition(s.selZone),v=x()(p,2),b=v[0],y=v[1];if(s.selEnd[0]!==b||1<y-s.selEnd[1])return!1;var k=this.tableCellZoneForTableMap[s.selZone];if(!this.tableZoneMaps[k])return!1;if(this.tableZoneMaps[k][s.selZone]!==Object.keys(this.tableZoneMaps[k]).length-1)return!1}else{if(0!==c.selStart[0]||0!==c.selStart[1])return!1;var C=s.selZone,S=c.selZone,E=this.tableCellZoneForTableMap[C],O=this.tableCellZoneForTableMap[S];if(E!==O)return!1;if(this.tableZoneMaps[E][C]+1!==this.tableZoneMaps[O][S])return!1;var w=this.getLastCharPosition(s.selZone),L=x()(w,2),H=L[0],I=L[1],T=this.editor.selection.flatten([s.selEnd[0],s.selEnd[1],s.selZone]);if(1<this.editor.selection.flatten([H,I,s.selZone])-T)return!1}return t.linkHighlightValueList.push(o),!0}}},{key:"getLastCharPosition",value:function(e,t){var n=this.editor.getReps()[e],r=Object(E.default)(t)?n.alines.length-1:t;return[r,n.alinesWidth[r]]}},{key:"buildTableValueMap",value:function(o){var s=this;this.tableZoneMaps[o]||(this.tableZoneMaps[o]={});var e=o.split(" "),t=x()(e,2),n=t[0],c=t[1],l=this.editor.getVectorReps();l[n].vectorIds.forEach(function(r,a){var i=l[c].vectorIds.length;l[c].vectorIds.forEach(function(e,t){var n="x".concat(r,"x").concat(e);s.tableZoneMaps[o][n]=a*i+t,s.tableCellZoneForTableMap[n]=o})})}},{key:"updateBlockRecordStatus",value:function(o,s,c){0!==o.length&&(this.changeRecordList=this.changeRecordList.reduce(function(e,t){var n,r,a=t.highlightValue,i=t.type;return e.push(t),i===s&&(n=JSON.parse(a),(r=c(n.token||""))&&o.includes(r)&&t.status===w.b.Pending&&(t.status=w.b.Confirmed)),e},[]))}},{key:"updateSheetRecord",value:function(e){this.updateBlockRecordStatus(e,w.a.Sheet,function(e){return f.SheetBlock.processToken(e||"").sheetId}),this.sheetPromiseManager.resolveFn()}},{key:"updateBitableRecord",value:function(e){this.updateBlockRecordStatus(e,w.a.Bitable,function(e){return f.DocBitableBlock.processToken(e||"").bitableId}),this.bitablePromiseManager.resolveFn()}},{key:"showChangeRecord",value:function(e){var t,n,r,a,i=this,o=this.confirmedRecordList.length;0<=e&&e<o&&(t=this.confirmedRecordList[e],n=t.type,r=Object(S.default)(t.firstSelection),a=n===w.a.Normal,(0,(this.pluginExtensionHelper||b).requestRenderAndScroll)({editor:this.editor,animate:!0,autoScroll:a,complete:function(e){n!==w.a.Normal?i.locateBlock(t,e):(r.selZone!==B.DEFAULT_REP_ZONE&&i.scrollToTableCellZone(t),i.addHighlightStyle(t))},targetSelection:r,offset:this.scrollBufferDistance}),this.removeHighlightStyle(),this.lastIndex=e)}},{key:"locateBlock",value:function(e,t){this.blockHistoryLocate.locateBlock(this.editor,e,t)}},{key:"scrollToTableCellZone",value:function(e){var t=e.selection;Object(b.horizontalScrollToZone)(this.editor,t)}},{key:"addHighlightStyleDom",value:function(){var e=document.createElement("style");return e.id="histry-highlight-style",$("head").append(e),e}},{key:"addHighlightStyle",value:function(e){var r=this,t=e.author,n=e.highlightValue,a=e.galleryIndex,i=e.linkHighlightValueList,o=e.selection,s=e.mergeSelectionList,c=v.a.getUserInfoById(t),l=c.labelColor,u=c.backgroundColor,d=Object(L.c)(n,a),h=[],f=s.findIndex(function(e){return e.selection.selZone!==o.selZone}),g=!(-1===f?s:s.slice(0,f)).some(function(e){var t=e.attrValues,n=e.selection;return!Object(b.isOnlyOneChar)(n)||!(t.lmkr&&!t[N.e.change]||Object(H.h)(r.editor,n))}),m=".".concat(d,"[").concat(g?"data-enterchar-highlight-index":"data-highlight-index",'="0"] .history-user');h.push("\n      ".concat(m," {\n        display: inline-block!important;\n      }\n    "));var p=i.map(function(e){return Object(L.c)(e)}).concat(d).map(function(e){return"\n        .".concat(e," {\n          border-bottom: 2px solid ").concat(l,"!important;\n        }\n        .").concat(N.c.DEL,".").concat(e," {\n          background-color: ").concat(u,";\n        }\n        .").concat(e," .history-user {\n          display: none!important;\n        }\n      ")});this.highlightDom.innerText="".concat(h.join("")).concat(p.join("")),Object(b.makeNameLabelVisible)(this.editor,this.editor.getDocBody().querySelector(m))}},{key:"removeHighlightStyle",value:function(){this.highlightDom.innerText="";var e=this.changeRecordList[this.lastIndex];e&&e.type!==w.a.Normal&&this.blockHistoryLocate.clearBlockHighlight(this.editor,e)}},{key:"reset",value:function(){this.removeHighlightStyle()}}]),s}();t.a=g},ENcd:function(e,t,n){"use strict";var r=n("q1tI"),a=n.n(r),i=n("dN/q"),o=function(t){return a.a.createElement(r.Fragment,null,t.data.map(function(e){return a.a.createElement("div",{key:e.id,className:"minor-history"},a.a.createElement(i.a,Object.assign({},t,{data:e})))}))};t.a=o},EQvf:function(e,t,n){"use strict";var r=n("lwsE"),a=n.n(r),i=n("W8MJ"),o=n.n(i),s=(n("dfqw"),"history-checkbox"),c=function(){function e(){var r=this;a()(this,e),this.acePreWriteDomLineHTML=function(e,t){var n;t.info&&(n=t.info.lineClass,r.isCheckbox(n)&&(t.isPocket=!0))},this.getPocketTypesOfLine=function(e,t){if(t.lineEntry.domInfo)return s}}return o()(e,[{key:"isCheckbox",value:function(e){return-1<e.indexOf("list-checkbox")}},{key:"addPocketToLine",value:function(e,t){var n,r=t.lineEntry,a=t.linePocket;r.domInfo&&r.domInfo.lineClass.includes("list-checkbox")&&(n='<span class="checkbox"> </span>',a.put([{uniqueClass:s,mount:function(e){return e.innerHTML=n,e},unmount:function(e){return e}}]))}}]),e}();t.a=c},FSVF:function(e,t,n){"use strict";var r,a,i,o;n.d(t,"a",function(){return r}),n.d(t,"b",function(){return i}),(a=r=r||{}).Normal="Normal",a.Sheet="Sheet",a.Bitable="Bitable",a.Table="Table",(o=i=i||{}).Pending="Pending",o.Confirmed="Confirmed"},GRDh:function(e,t,n){"use strict";var r=n("lwsE"),a=n.n(r),i=function e(t){a()(this,e),this.requestRenderAndScroll=t},o=n("jU1f");n.d(t,"a",function(){return s});var s=new i(o.h)},GX9J:function(e,t,n){},"Kp/3":function(e,t,n){"use strict";n.d(t,"b",function(){return o}),n.d(t,"a",function(){return c});var r=n("Ngi8"),a=n("Zss7"),i=n.n(a),o=[{labelColor:r.P400,textColor:r.P500},{labelColor:r.C500,textColor:r.C600},{labelColor:r.O600,textColor:r.O700},{labelColor:r.L600,textColor:r.L700},{labelColor:r.T600,textColor:r.T700},{labelColor:r.B400,textColor:r.B500},{labelColor:r.V400,textColor:r.V500},{labelColor:r.R500,textColor:r.R600},{labelColor:r.Y600,textColor:r.Y700},{labelColor:r.G600,textColor:r.G700},{labelColor:r.W600,textColor:r.W700},{labelColor:r.I400,textColor:r.I500},{labelColor:r.V500,textColor:r.V600},{labelColor:r.R600,textColor:r.R700},{labelColor:r.Y700,textColor:r.Y800},{labelColor:r.G700,textColor:r.G800},{labelColor:r.W700,textColor:r.W800},{labelColor:r.I500,textColor:r.I600},{labelColor:r.C600,textColor:r.C700},{labelColor:r.O700,textColor:r.O800},{labelColor:r.L700,textColor:r.L800},{labelColor:r.T700,textColor:r.T800},{labelColor:r.B500,textColor:r.B600},{labelColor:r.P500,textColor:r.P600},{labelColor:r.C700,textColor:r.C800},{labelColor:r.B600,textColor:r.B700},{labelColor:r.P600,textColor:r.P700},{labelColor:r.R700,textColor:r.R800},{labelColor:r.I600,textColor:r.I700},{labelColor:r.V600,textColor:r.V700}],s=.12,c={labelColor:r.N600,textColor:r.N700};c.backgroundColor=i()(c.labelColor).setAlpha(s).toRgbString(),o.forEach(function(e){var t=i()(e.labelColor).setAlpha(s).toRgbString();e.backgroundColor=t})},MsAb:function(e,t,n){"use strict";var r,a,i,o,s,c=n("o0o1"),g=n.n(c),l=n("yXPU"),u=n.n(l),d=n("lwsE"),h=n.n(d),f=n("W8MJ"),m=n.n(f),p=n("cDf5"),v=n.n(p),b=n("7EGn"),y=n("BdQV"),k=n("lSNA"),C=n.n(k),S={fetchHistorySnapshot:(r={},C()(r,"default",{code:0,msg:"Success",data:{snapshot:{revision:3,content:'{"text":"\nabc\n\n","attribs":"|1+1*0*1+3*0|1+1|1+1","pool":"{"numToAttrib":{"0":["author","6809803548256108546"],"1":["lineguid","t2dTZD"]},"nextNum":2}","attributed_texts":"{"texts":{"0":"\\nabc\\n\\n"},"attribs":{"0":"|1+1*0*1+3*0|1+1|1+1"}}","table_meta":"{"rows":{},"cols":{},"attribs":{}}"}'}}}),C()(r,"error",{code:0,msg:"Fail"}),r),fetchNewHistoryList:(a={},C()(a,"default",{code:0,msg:"Success",data:{major_history:[{id:"major_history_id1",version:0,name:"需求评审定稿",create_time:0,update_time:1594051200,minor_history:[{id:"minor_history1",version:0,name:"string",create_time:12345678,update_time:123456789,type:1,user_id:["12345678"],content:{changes:[{block_token:"doccnYlCS3JnaulaZC1qXVOfNCh",block_type:"DOC_BLOCK",rev_range:[1,10]}],revert_version:{time:123456789,id:"string"},origin:{icon:{type:1,key:"string",fs_unit:"string"},title:"string"},now:{icon:{type:1,key:"string",fs_unit:"string"},title:"string"}}},{id:"minor_history2",version:0,name:"string",create_time:12345678,update_time:123456789,type:1,user_id:["12345678"],content:{changes:[{block_token:"doccnYlCS3JnaulaZC1qXVOfNCh",block_type:"DOC_BLOCK",rev_range:[1,27]},{block_token:"bascnW1nVcill2UU1OZ2CSKVr1g_tblDrQXOW9",block_type:"BITABLE_BLOCK",rev_range:[1,3]}],revert_version:{time:123456789,id:"string"},origin:{icon:{type:1,key:"string",fs_unit:"string"},title:"string"},now:{icon:{type:1,key:"string",fs_unit:"string"},title:"string"}}},{id:"minor_history3",version:0,name:"string",create_time:12345678,update_time:123456789,type:1,user_id:["12345678"],content:{changes:[{block_token:"doccnYlCS3JnaulaZC1qXVOfNCh",block_type:"DOC_BLOCK",rev_range:[1,30]},{block_token:"bascnW1nVcill2UU1OZ2CSKVr1g_tblDrQXOW9",block_type:"BITABLE_BLOCK",rev_range:[1,3]}],revert_version:{time:123456789,id:"string"},origin:{icon:{type:1,key:"string",fs_unit:"string"},title:"string"},now:{icon:{type:1,key:"string",fs_unit:"string"},title:"string"}}}],type:1,user_id:["12345678"],content:{changes:[{block_token:"doccnYlCS3JnaulaZC1qXVOfNCh",block_type:"DOC_BLOCK",rev_range:[1,10]}],revert_version:{time:143456789},origin:{icon:{type:2,key:"531967b7-d010-4404-8f89-41348976becg",fs_unit:"eu_nc-cdn"}},now:{icon:{type:2,key:"41d41fdb-6e22-4df2-b913-6932df85516g",fs_unit:"heu_nc-cdn"}}}},{id:"major_history_id2",version:0,name:"",create_time:0,update_time:1594176346,minor_history:[{id:"minor_history1",version:0,create_time:12345678,update_time:123456789,type:1,user_id:["12345678"],content:{changes:[{block_token:"doccnYlCS3JnaulaZC1qXVOfNCh",block_type:"DOC_BLOCK",rev_range:[1,10]}],revert_version:{time:123456789,id:"string"},origin:{icon:{type:1,key:"string",fs_unit:"string"},title:"需求测试"},now:{icon:{type:1,key:"string",fs_unit:"string"},title:"string"}}}],type:1,user_id:["12345678"],content:{changes:[{block_token:"doccnYlCS3JnaulaZC1qXVOfNCh",block_type:"DOC_BLOCK",rev_range:[1,33]},{block_token:"bascnW1nVcill2UU1OZ2CSKVr1g_tblDrQXOW9",block_type:"BITABLE_BLOCK",rev_range:[1,3]}],origin:{icon:{type:2,key:"531967b7-d010-4404-8f89-41348976becg",fs_unit:"eu_nc-cdn"},title:"测试文档初稿"},now:{icon:{type:2,key:"41d41fdb-6e22-4df2-b913-6932df85516g",fs_unit:"heu_nc-cdn"},title:"测试文档二稿"}}},{id:"major_history_id4",version:0,name:"string 4",create_time:0,update_time:1594051200,minor_history:[{id:"minor_history1",version:0,name:"string",create_time:12345678,update_time:123456789,type:1,user_id:["string"],content:{changes:[{block_token:"doccnYlCS3JnaulaZC1qXVOfNCh",block_type:"DOC_BLOCK",rev_range:[1,10]}],revert:{time:123456789,id:"string"},origin:{icon:{type:1,key:"string",fs_unit:"string"},title:"string"},now:{icon:{type:1,key:"string",fs_unit:"string"},title:"string"}}}],type:1,user_id:["string"],content:{changes:[{block_token:"doccnYlCS3JnaulaZC1qXVOfNCh",block_type:"DOC_BLOCK",rev_range:[1,53]},{block_token:"bascnW1nVcill2UU1OZ2CSKVr1g_tblDrQXOW9",block_type:"BITABLE_BLOCK",rev_range:[1,3]},{block_token:"shtcnyNekk4juKGw6uJKis1yrCg",block_type:"SHEET_BLOCK",rev_range:[1,4]}],revert_version:{time:123456789},origin:{icon:{type:1,key:"string",fs_unit:"string"},title:"string"},now:{icon:{type:"int",key:"string",fs_unit:"string"},title:"string"}}}],entities:{user:{12345678:{avatar_url:"https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1594965243083&di=356d7b282289e1eea7c176feb08062af&imgtype=0&src=http%3A%2F%2Fgss0.baidu.com%2F7Po3dSag_xI4khGko9WTAnF6hhy%2Fzhidao%2Fpic%2Fitem%2F267f9e2f07082838685c484ab999a9014c08f11f.jpg",cn_name:"中文名字",email:"guohui@abc.com",en_name:"english name",id:"12345678",suid:"string",tanant_id:"string",anonymity:!1}}},has_more:!0}}),C()(a,"no-data",{code:0,msg:"Success",data:{major_history:[],entities:{user:{}},has_more:!1}}),C()(a,"error",{code:0,msg:"Fail"}),a),revertHistory:(i={},C()(i,"default",{code:0,msg:"Success",data:{query_duration:10,event_id:"mock_event_id"}}),C()(i,"error",{code:0,msg:"Fail"}),i),getRevertStatus:(o={},C()(o,"default",{code:0,msg:"Success",data:{status:1}}),C()(o,"running",{code:0,msg:"Success",data:{status:0}}),C()(o,"fail",{code:0,msg:"Success",data:{status:2}}),C()(o,"error",{code:0,msg:"Fail"}),o)},E=(s={},C()(s,"fetchNewHistoryList",{isUseMock:!1,scene:"default",delay:0}),C()(s,"fetchHistorySnapshot",{isUseMock:!1,scene:"default",delay:0}),C()(s,"revertHistory",{isUseMock:!1,scene:"default",delay:0}),C()(s,"getRevertStatus",{isUseMock:!1,scene:"default",delay:0}),s),O=function(o){Object.keys(E).forEach(function(n){var e,r,t,a,i=E[n];i&&i.isUseMock&&(e=i.scene,r=void 0===e?"default":e,t=i.delay,a=void 0===t?0:t,o.prototype[n]=u()(g.a.mark(function e(){var t;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("[history service] mock ".concat(n,', scene: "').concat(r,'"'),E[n]),e.next=3,Object(y.f)(a);case 3:return(t=S[n][r]).__isMock__=!0,e.abrupt("return",t);case 6:case"end":return e.stop()}},e)})))})};n.d(t,"b",function(){return I}),n.d(t,"a",function(){return T});var w,L={HISTORY_SNAPSHOT_URL:"/api/doc/history/snapshot/",HISTORY_LIST_URL:"/api/doc/history/",REVERT_HISTORY:"/api/doc/history/revert/",REVERT_STATUS:"/api/doc/history/revert/status/",HISTORY_CHANGESET:"/api/doc/history/changeset/"},H=null,I={RUNNING:0,SUCCESSES:1,FAILED:2},T=w=function(e,t,n,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":v()(Reflect))&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;0<=s;s--)(a=e[s])&&(o=(i<3?a(o):3<i?a(t,n,o):a(t,n))||o);return 3<i&&o&&Object.defineProperty(t,n,o),o}([O],T=w=function(){function t(e){h()(this,t),this.request=e}function e(e){return n.apply(this,arguments)}var n,r;function a(e){return r.apply(this,arguments)}return m()(t,[{key:"fetchHistorySnapshot",value:function(e){return this.request.get(L.HISTORY_SNAPSHOT_URL,e)}},{key:"checkNewHistoryEnabled",value:(r=u()(g.a.mark(function e(t){var n,r;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n={doc_token:t.doc_token,version:0,page_size:1},e.next=3,this.fetchNewHistoryList(n).catch(function(e){return e});case 3:return r=e.sent,e.abrupt("return",0!==Object(b.default)(r,["data","major_history","length"]));case 5:case"end":return e.stop()}},e,this)})),a)},{key:"fetchNewHistoryList",value:function(e){return this.request.get(L.HISTORY_LIST_URL,e)}},{key:"revertHistory",value:function(e){return this.request.post(L.REVERT_HISTORY,e)}},{key:"getRevertStatus",value:function(e){return this.request.get(L.REVERT_STATUS,e)}},{key:"revertHistoryAndGetStatus",value:(n=u()(g.a.mark(function e(t){var n,r,a,i,o,s,c,l,u,d,h,f;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.revertHistory(t);case 2:return n=e.sent,r=2,a=n.data,i=a.event_id,o=a.query_duration,s=void 0===o?60:o,c=Math.round(s/r),l=!!i,u=0,e.next=10,Object(y.f)(1e3*r);case 10:if(0,l){e.next=13;break}return e.abrupt("break",29);case 13:return u++,e.next=16,this.getRevertStatus({doc_token:t.doc_token,event_id:i});case 16:if(d=e.sent,h=d.data.status,f=c<=u,l=h===I.RUNNING&&!f)return e.next=23,Object(y.f)(1e3*r);e.next=25;break;case 23:e.next=27;break;case 25:return f&&(d.isTimeout=!0),e.abrupt("return",d);case 27:e.next=10;break;case 29:return e.abrupt("return",n);case 30:case"end":return e.stop()}},e,this)})),e)},{key:"fetchHistoryChangesetList",value:function(e){return this.request.get(L.HISTORY_CHANGESET,e)}}],[{key:"getInstance",value:function(e){return H=H||new w(e)}}]),t}())},PgAo:function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n("lwsE"),a=n.n(r),i=n("W8MJ"),o=n.n(i),c=n("FSVF"),l=n("Hj9z"),s=function(){function r(e){var t=e.sheetBridgePlugin,n=e.bitableBridgePlugin;a()(this,r),this.sheetBridgePlugin=t,this.bitableBridgePlugin=n}return o()(r,[{key:"locateBlock",value:function(e,t,n){var r=t.type,a=t.highlightValue,i=JSON.parse(a);switch(r){case c.a.Sheet:var o=l.SheetBlock.processToken(i.token||"").sheetId;this.sheetBridgePlugin.locateHistory(o,n);break;case c.a.Bitable:var s=l.DocBitableBlock.processToken(i.token||"").bitableId;this.bitableBridgePlugin.locateHistory(s,n)}}},{key:"clearBlockHighlight",value:function(e,t){var n=t.type,r=t.highlightValue,a=JSON.parse(r);switch(n){case c.a.Sheet:var i=l.SheetBlock.processToken(a.token||"").sheetId;this.sheetBridgePlugin.clearHistoryLabel(i);break;case c.a.Bitable:var o=l.DocBitableBlock.processToken(a.token||"").bitableId;this.bitableBridgePlugin.clearHistoryLabel(o)}}}]),r}()},QmPh:function(e,t,n){"use strict";var r=n("lwsE"),a=n.n(r),i=n("W8MJ"),o=n.n(i),s=n("a1gu"),c=n.n(s),l=n("Nsbk"),u=n.n(l),d=n("7W2i"),h=n.n(d),f=n("q1tI"),g=n.n(f),m=(n("ejGD"),130),p=function(e){function t(){return a()(this,t),c()(this,u()(t).apply(this,arguments))}return h()(t,e),o()(t,[{key:"render",value:function(){var e=this.props.size||m,t={width:"".concat(e,"px"),height:"".concat(e,"px")};return g.a.createElement("div",{className:"loading-container",style:t},g.a.createElement("svg",{viewBox:"0 0 230 230",fill:"none",xmlns:"http://www.w3.org/2000/svg"},g.a.createElement("rect",{opacity:"0.01",x:"0.5",y:"0.5",width:"229",height:"229",fill:"#D8D8D8",stroke:"#979797"}),g.a.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M26.6115 167.928H81.3134V222.631H26.6115V167.928Z",fill:"white"}),g.a.createElement("g",{className:"line-ball-group group1"},g.a.createElement("path",{d:"M54.1605 120.824L53.7645 184.642",stroke:"#18263C","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),g.a.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M81.3134\n            195.28C81.3134\n            210.385\n            69.0675\n            222.631\n            53.9625\n            222.631C38.8565\n            222.631\n            26.6115\n            210.385\n            26.6115\n            195.28C26.6115\n            180.174\n            38.8565\n            167.928\n            53.9625\n            167.928C69.0675\n            167.928\n            81.3134\n            180.174\n            81.3134\n            195.28Z",fill:"#00D4B7"})),g.a.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M85.8723 167.928H140.574V222.631H85.8723V167.928Z",fill:"white"}),g.a.createElement("g",{className:"line-ball-group group2"},g.a.createElement("path",{d:"M113.421 117.785L113.025 181.603",stroke:"#18263C","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),g.a.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M140.574\n              195.28C140.574\n              210.385\n              128.328\n              222.631\n              113.223\n              222.631C98.1173\n              222.631\n              85.8723\n              210.385\n              85.8723\n              195.28C85.8723\n              180.174\n              98.1173\n              167.928\n              113.223\n              167.928C128.328\n              167.928\n              140.574\n              180.174\n              140.574\n              195.28Z",fill:"#FFC000"})),g.a.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M144.373 167.928H199.075V222.631H144.373V167.928Z",fill:"white"}),g.a.createElement("g",{className:"line-ball-group group3"},g.a.createElement("path",{d:"M171.922 117.785L171.526 181.603",stroke:"#18263C","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),g.a.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M199.075\n              195.28C199.075\n              210.385\n              186.829\n              222.631\n              171.724\n              222.631C156.618\n              222.631\n              144.373\n              210.385\n              144.373\n              195.28C144.373\n              180.174\n              156.618\n              167.928\n              171.724\n              167.928C186.829\n              167.928\n              199.075\n              180.174\n              199.075\n              195.28Z",fill:"#FF0000"})),g.a.createElement("path",{d:"M191.914\n              9.10929C194.984\n              7.92429\n              157.984\n              16.6003\n              132.847\n              25.2843C112.458\n              32.3273\n              83.7199\n              39.8213\n              73.1559\n              48.1593C63.1529\n              56.0543\n              104.389\n              54.7113\n              103.906\n              50.7893C102.977\n              43.2453\n              67.4699\n              64.1763\n              69.9519\n              72.5633C72.5339\n              81.2873\n              114.017\n              67.3433\n              109.493\n              60.8633C104.97\n              54.3823\n              74.2069\n              86.9423\n              78.7309\n              93.4223C84.3169\n              101.424\n              118.896\n              75.0223\n              115.925\n              69.3853C112.954\n              63.7493\n              91.2879\n              96.2223\n              108.234\n              109.452C115.336\n              114.997\n              119.581\n              67.7003\n              132.076\n              78.9463C141.364\n              87.3053\n              107.641\n              114.027\n              121.145\n              113.45C126.292\n              113.23\n              148.323\n              100.985\n              163.67\n              72.1983C172.063\n              56.4543\n              205.522\n              50.6923\n              205.522\n              50.6923",stroke:"#18263C","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),g.a.createElement("path",{d:"M22.0001 117.781H208.108",stroke:"#18263C","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})))}}]),t}(f.Component);t.a=p},RPAe:function(e,i,o){"use strict";(function(n){var e=o("q1tI"),r=o.n(e),a=o("UlbS"),t=function(t){function e(e){t.showMoreHistory(t.startTime,e),t.collectEvent("history",{action:"click_old_history",source:"old_history_btn"})}return r.a.createElement("div",{className:"early-history-warpper"},r.a.createElement(a.Button,{onClick:e},n("history.time_line.old_history")))};i.a=t}).call(this,o("2vAP"))},SDQK:function(e,L,H){"use strict";(function(i){H.d(L,"a",function(){return p}),H.d(L,"f",function(){return y}),H.d(L,"g",function(){return k}),H.d(L,"e",function(){return C}),H.d(L,"c",function(){return S}),H.d(L,"b",function(){return O}),H.d(L,"d",function(){return w});var e=H("o0o1"),a=H.n(e),t=H("yXPU"),n=H.n(t),r=H("RIqP"),u=H.n(r),o=H("Ss5W"),s=H("wd/R"),c=H.n(s),l=H("mwUk"),d={BEFORE_MONTH:i("history.date.before_month"),BEFORE_YEAR:i("history.date.before_year"),TITLE_DATE:i("space.date_format.same_year")};function h(e){return(e-=o.p)-e%o.k+o.p}function f(e,t){return(e-t)/o.k}function g(e){return e.sort(function(e,t){return t[1][0].edit_time-e[1][0].edit_time})}function m(e){if(e.length<=1)return!0;for(var t=e.length,n=0;n<t-1&&!(e[n].edit_time<e[n+1].edit_time);n++);return n===t-1}function p(e){return c()(e).format(d.TITLE_DATE)}function v(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:new Date,n=f(h(t.getTime()),h(e)),r={0:i("history.date.sunday"),1:i("history.date.monday"),2:i("history.date.tuesday"),3:i("history.date.wednesday"),4:i("history.date.thursday"),5:i("history.date.friday"),6:i("history.date.saturday")};if(0===n)return i("history.date.today");if(1===n)return i("history.date.yesterday");if(n<=t.getDay())return r[t.getDay()-n];if(n-7<=t.getDay())return i("history.date.last_week");var a=new Date(e);return t.getFullYear()===a.getFullYear()?t.getMonth()===a.getMonth()?i("history.date.this_month"):c()(e).format(d.BEFORE_MONTH):c()(e).format(d.BEFORE_YEAR)}function b(e){e.length<=1||m(e)||e.sort(function(e,t){return t.edit_time-e.edit_time})}function y(e){b(e),e[0].isCurrent=!0;var t=e[0].minor_history;return 0<t.length&&(b(t),t[0].isCurrent=!0),{id:e[0].id,majorID:e[0].id}}function k(e){var r,a=new Map;return b(e),e.forEach(function(e){var t,n=Number(e.edit_time);r=v(1e3*n),t=Array.isArray(a.get(r))?(t=a.get(r),[].concat(u()(t),[e])):[e],a.set(r,t)}),g(u()(a))}function C(e,t){var n=e[e.length-1];if(!n)return t;var r=t[0],a=r[0],i=n[0],o=[];if(a===i){for(var s=[i,[].concat(u()(n[1]),u()(r[1]))],c=0;c<e.length-1;c++)o.push(e[c]);o.push(s);for(var l=1;l<t.length;l++)o.push(t[l])}else o=[].concat(u()(e),u()(t));return o}function S(e,t){return E.apply(this,arguments)}function E(){return(E=n()(a.a.mark(function e(t,n){var r;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=null,e.prev=1,e.next=4,t.fetchNewHistoryList(n);case 4:r=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),console.error("history get new list error"),e.abrupt("return",null);case 11:if(r){e.next=13;break}return e.abrupt("return",null);case 13:return console.info("fetch historyListResult success"),e.abrupt("return",r.data);case 15:case"end":return e.stop()}},e,null,[[1,7]])}))).apply(this,arguments)}function O(e){var t=e.content,n={};return e.name&&(n.versionTime=p(1e3*e.edit_time)),1===e.type&&(n.created=!0),t&&(t.revert_version?n.revertTime=p(1e3*t.revert_version.time):t.now&&t.origin&&(t.now.title!==t.origin.title&&(n.rename=t.now.title),t.now.icon&&t.origin.icon&&(n.icon={now:t.now.icon,origin:t.origin.icon}))),n}function w(e,t){var n=[];if(e.isLocalRecord||Object.keys(t).length<=0)return n;var r=null;return l.a.setUsersConfig(t),e.user_id.forEach(function(e){t[e]&&(t[e].anonymity&&!r?r=l.a.getUserInfoById(e):n.push(l.a.getUserInfoById(e)))}),r&&n.push(r),n}}).call(this,H("2vAP"))},TSyV:function(e,n,r){"use strict";(function(u){var e=r("q1tI"),d=r.n(e),h=r("KiYW"),f=r("Ss5W"),t=function(t){var n=t.desc,e=t.isCurrent;function r(){var e=u("history.doc_events.renamed_doc",t.desc.rename);return d.a.createElement("div",{className:"desc-item"},e)}function a(){return d.a.createElement("div",{className:"desc-item"},u("history.doc_events.created_doc"))}function i(e){return e.split(f.f)}function o(e,t){return""===e.key?d.a.createElement("span",null,u("common.default")):d.a.createElement("img",{alt:"",key:t,src:Object(h.e)(e),className:"history-diy-icon"})}function s(t){var e=f.f+f.l+f.f,n=f.f+f.j+f.f,r=i(u("doc.diy_icon.history_icon_change",e,n));return d.a.createElement("div",{className:"desc-item"},r.map(function(e){return e===f.l?o(t.origin,e):e===f.j?o(t.now,e):d.a.createElement("span",{key:e},e)}))}function c(){var e=u("history.doc_events.restored_from_version",n.revertTime);return d.a.createElement("div",{className:"desc-item"},e)}function l(){return d.a.createElement("div",null,"string"==typeof n.rename?r():null,n.icon?s(n.icon):null)}return d.a.createElement("div",{className:"version-desc"},e?d.a.createElement("div",{className:"desc-item"},u("history.time_line.current_version")):null,n.versionTime?d.a.createElement("div",{className:"desc-item"},n.versionTime):null,(n.revertTime?c:l)(),n.created?a():null)};n.a=t}).call(this,r("2vAP"))},VwWz:function(e,L,H){"use strict";(function(n){var e=H("lwsE"),i=H.n(e),t=H("W8MJ"),r=H.n(t),o=H("3Hq1"),a=H("q1tI"),m=H.n(a),s=H("i8i4"),c=H.n(s),l=H("EVdn"),v=H.n(l),y=H("mwUk"),k=H("FJEn"),u=(H("GX9J"),H("H6oK")),d=H("Hj9z"),C=H("Ss5W"),b=H("BdQV"),h=H("uPGt"),f=H("kESg"),p=H("y2sV"),g=H("TSYQ"),S=H.n(g),E=4;function Mask(e){var t=e.cls,n=e.backgroundColor,r=e.domAttributes,a=void 0===r?{}:r;return m.a.createElement("div",Object.assign({className:"".concat(t.join(" ")," new-history-mask new-history-add-mask")},a),m.a.createElement("div",{className:"border",style:{border:"4px solid ".concat(n)}}),e.children)}function O(){return m.a.createElement("span",{className:"history-doc-separator ignore-collect","data-faketext":""}," ")}var w=function(){function a(e,t){var o=this,n=t.collectHistoryEvent,r=t.MaskCross;i()(this,a),this.className="historyDiff",this.lineIndex=0,this.areaIndex=0,this.lastEditType="",this.lastAuthor="",this.highlightCountMap={},this.entercharHighlightCountMap={},this.needSetSecondTitle=!1,this.secondTitleIndex=-1,this.handleSheetAndBitableRectChange=function(e){var t=e.blockId,n=e.width,r=(e.height,e.x),a=o.editor.plugins.blockPlugin.blockInfos.get(t).instance.mountPoint,i=v()(a).closest(".".concat(C.c.EDIT)).find(".new-history-mask")[0];o.setStyle(i,{left:r-E+"px",width:n+2*E-r+"px",maxWidth:"none"})},this.editorWillCopy=function(e){var t=e.deltaSet;Object.keys(t.deltas).forEach(function(e){t.deltas[e].ops.forEach(function(t){[C.e.add,C.e.del,C.e.change,C.q].forEach(function(e){delete t.attributes[e]})})})},this.acePreWriteDomLineHTML=function(e,t){var n;t.info&&(n=t.info.lineClass,o.isCheckbox(n)&&(t.isPocket=!0),0<o.secondTitleIndex&&o.needSetSecondTitle&&(t.info.lineClass+=" history-doc-title",o.needSetSecondTitle=!1))},this.handleEditSpanMouseEnter=function(e){var t=o.findFirstSpanNode(e);t&&o.editor.getObserver().withoutRecordingMutations(function(){v()(t).addClass("user-show-name"),Object(h.makeNameLabelVisible)(o.editor,t.querySelector(".history-user")),o.collectHistoryEvent("history",{action:"hover_change_detail"})})},this.handleEditSpanMouseLeave=function(e){var t=o.findFirstSpanNode(e);t&&o.editor.getObserver().withoutRecordingMutations(function(){v()(t).removeClass("user-show-name")})},this.findFirstSpanNode=function(e){var t=v()(e.target).closest(".ace-line")[0],n=v()(e.target).closest(".".concat(C.c.EDIT))[0].getAttribute("data-areaindex");return t.querySelectorAll(".".concat(C.c.EDIT,"[data-areaindex='").concat(n,"']"))[0]},this.handleEditChangeMouseEnter=function(e){var t=v()(e.target).closest(".".concat(C.c.EDIT,".").concat(C.c.CHANGE))[0];o.editor.getObserver().withoutRecordingMutations(function(){v()(t).addClass("user-show-name")})},this.handleEditChangeMouseLeave=function(e){var t=v()(e.target).closest(".".concat(C.c.EDIT,".").concat(C.c.CHANGE))[0];o.editor.getObserver().withoutRecordingMutations(function(){v()(t).removeClass("user-show-name")})},e&&(this.editor=e,this.MaskCross=r,this.collectHistoryEvent=n,this.aceInitialized())}return r()(a,[{key:"bindEvents",value:function(){v()(this.editor.getDocBody()).on("mouseenter.add",".".concat(C.c.ADD),this.handleEditSpanMouseEnter).on("mouseleave.add",".".concat(C.c.ADD),this.handleEditSpanMouseLeave),v()(this.editor.getDocBody()).on("mouseenter.del",".".concat(C.c.DEL),this.handleEditSpanMouseEnter).on("mouseleave.del",".".concat(C.c.DEL),this.handleEditSpanMouseLeave),v()(this.editor.getDocBody()).on("mouseenter.change",".".concat(C.c.CHANGE),this.handleEditChangeMouseEnter).on("mouseleave.change",".".concat(C.c.CHANGE),this.handleEditChangeMouseLeave),this.editor.on("onSheetRectChange",this.handleSheetAndBitableRectChange),this.editor.on("onBitableRectChange",this.handleSheetAndBitableRectChange)}},{key:"setStyle",value:function(e,t){e&&Object.assign(e.style,t)}},{key:"aceInitialized",value:function(){this.bindEvents()}},{key:"updateAreaIndex",value:function(e,t,n){e!==this.lineIndex&&(this.areaIndex=0,this.lastEditType="",this.lastAuthor="",this.lineIndex=e),t!==this.lastAuthor?(this.lastAuthor=t,this.lastEditType=n,this.areaIndex++):n!==this.lastEditType&&(this.lastEditType=n,this.lastAuthor=t,this.areaIndex++)}},{key:"getHighlightCurrentIndex",value:function(e){return Object(o.default)(this.highlightCountMap[e])&&(this.highlightCountMap[e]=0),this.highlightCountMap[e]++}},{key:"getEnterCharHighlightCurrentIndex",value:function(e){return Object(o.default)(this.entercharHighlightCountMap[e])&&(this.entercharHighlightCountMap[e]=0),this.entercharHighlightCountMap[e]++}},{key:"isImage",value:function(e){return!(!e["image-uploaded"]&&!e.gallery)}},{key:"isTable",value:function(e){return!!e.aceTable}},{key:"isNewZone",value:function(e){return!!e[f.k.ZoneType]}},{key:"isBlock",value:function(e){return!!e[u.BLOCK_DATA_META_BLOCK_PROPS]}},{key:"isCheckbox",value:function(e){return-1<e.indexOf("list-checkbox")}},{key:"addContextStyle",value:function(e,t){var n=e.style;Object.assign(n,t)}},{key:"filterBackgroundColorJsx",value:function(e,t,n){var r=e.attributes,a=e.style;return this.isTable(r)||this.isImage(r)||this.isNewZone(r)||this.isBlock(r)&&!this.isInlineBlock(r)?{}:(delete a.background,delete a.color,r[C.e.add]?{color:"".concat(t),backgroundColor:"".concat(n)}:r[C.e.del]?{color:"".concat(t)}:{})}},{key:"getNameTextByEditType",value:function(e,t){if(e===C.e.add)return n("history.edit_add",t);if(e===C.e.del)return n("history.edit_del",t);if(e===C.e.change)return n("history.edit_change",t);throw new Error("Invalid edit type")}},{key:"getHistoryUserJsx",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[],n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};return t.push("history-user","ignore-collect"),m.a.createElement("span",{className:t.join(" "),style:n,"data-faketext":""},e)}},{key:"getHistoryLabelJsx",value:function(e,t){return m.a.createElement("span",{className:"history-user ignore-collect","data-faketext":"",style:{backgroundColor:t}},e)}},{key:"createNameSpanJsx",value:function(e,t,n,r){var a,i=this.getNameTextByEditType(e,t),o={backgroundColor:n},s=[];return e===C.e.del&&this.isInlineBlock(r)&&((a=this.getInlineBlockType(r))===u.BlockType.REMINDER_BLOCK?s.push("history-reminder-user"):a===u.BlockType.AT_USER_BLOCK&&s.push("history-at-user")),(this.isImage(r)||this.isBlock(r)&&!this.isInlineBlock(r))&&s.push("history-image-user"),this.getHistoryUserJsx(i,s,o)}},{key:"createMaskJsx",value:function(e){var t=e.backgroundColor,n=e.highlightClass,r=e.highlightIndex,a=e.children,i=S()("new-history-mask new-history-add-mask",n);return m.a.createElement("div",{className:i,"data-highlight-index":r||""},m.a.createElement("div",{className:"border",style:{border:"4px solid ".concat(t)}}),a)}},{key:"createDeleteMaskJSX",value:function(e){var t=e.labelColor,n=e.backgroundColor,r=e.highlightClass,a=e.highlightIndex,i=e.children,o=v()(this.MaskCross);o.find("path").attr("fill",t),o.addClass("cross");var s=o[0].outerHTML,c=S()("new-history-mask new-history-deleted-mask",r);return m.a.createElement("div",{className:c,style:this.getHighlightStyle(n),"data-highlight-index":a||""},m.a.createElement("div",{dangerouslySetInnerHTML:{__html:s}}),i)}},{key:"getSpanClassNameForAdd",value:function(){return"".concat(C.c.EDIT," ").concat(C.c.ADD)}},{key:"getSpanClassNameForDel",value:function(){return"".concat(C.c.EDIT," ").concat(C.c.DEL)}},{key:"getSpanClassNameForChange",value:function(){return"".concat(C.c.EDIT," ").concat(C.c.CHANGE)}},{key:"handlePlaceholderJsx",value:function(e,t){var n=e.children,r=e.attributes,a=t.name,i=t.labelColor,o=t.backgroundColor,s=this.createNameSpanJsx(C.e.change,a,i,r);e.class+=" ".concat(C.c.EDIT," ").concat(C.c.CHANGE," history-placeholder");var c,l=r[C.q],u=[],d={};return l&&(c=Object(b.c)(l),u.push(c),d["data-highlight-index"]=this.getHighlightCurrentIndex(l)),m.a.createElement(m.a.Fragment,null,m.a.createElement(Mask,{cls:u,domAttributes:d,backgroundColor:o},s),n)}},{key:"appendJSXToContainer",value:function(e,t){var n=document.createElement("span");e.appendChild(n),c.a.render(t,n)}},{key:"handleImageEdit",value:function(e,t,n,r,a){var i=y.a.getUserInfoById(t),o=n[C.q],s=n[C.e.change],c=i.name,l=i.backgroundColor,u=i.labelColor,d=this.createNameSpanJsx(e,c,u,n),h="",f="";o&&(f=s?(h=Object(b.c)(o,a),"0"):(h=Object(b.c)(o),"".concat(this.getHighlightCurrentIndex(o))));var g=null,m={labelColor:u,backgroundColor:l,highlightClass:h,highlightIndex:f,children:d},g=e===C.e.add?(v()(r).addClass(this.getSpanClassNameForAdd()),this.createMaskJsx(m)):(v()(r).addClass(this.getSpanClassNameForDel()),this.createDeleteMaskJSX(m)),p=r.querySelector(".history-deleted-mask");p&&v()(p).remove(),g&&this.appendJSXToContainer(r,g),r.setAttribute("data-areaindex",a.toString())}},{key:"handleImageHistoryAfterRender",value:function(e,t){var n,r,a,i,o,s,c=this,l=t.attributes,u=e.querySelectorAll(".image-container-wrap>div");u.length&&(n=l[C.e.add],r=l[C.e.del],a=l[C.e.change],i=l.author,o=a&&JSON.parse(a).image||[],s="",n&&(s=C.e.add),r&&(s=C.e.del),u.forEach(function(e,t){var n=o[t],r="";(r=n&&n.changeType?(i=n.author,n.changeType):s)&&c.handleImageEdit(r,i,l,e,t)}))}},{key:"getBlockType",value:function(e){return this.isBlock(e)?JSON.parse(e.dataMetaBlockProps).blockType:""}},{key:"isInlineBlock",value:function(e){return this.isBlock(e)&&"inline"===JSON.parse(e.dataMetaBlockProps).props.displayMode}},{key:"getInlineBlockType",value:function(e){if(!this.isInlineBlock(e))throw new Error("This is not inline-block");return JSON.parse(e.dataMetaBlockProps).blockType}},{key:"getHighlightStyle",value:function(e){return{backgroundColor:e}}},{key:"isBlockShowPlaceholder",value:function(e){var t=this.editor.plugins.blockPlugin;if(!t)return!1;var n=t.getBlockManager().getBlockCreator(e).ExternalServices.mountOptions;return!!n&&n.historyMode===d.HISTORY_MODE.PLACEHOLDER_NEW}},{key:"handleBlockHistory",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=e.attributes,r=e.domAttributes,a=e.style,i=n[C.e.add],o=n[C.e.del],s=n[C.q];e.class+=" ".concat(C.d),i?e.class+=" ".concat(this.getSpanClassNameForAdd()):o&&(e.class+=" ".concat(this.getSpanClassNameForDel()));var c,l=this.getBlockType(n);this.isBlockShowPlaceholder(l)&&Object.assign(a,{maxWidth:"none"}),Object.assign(a,t),r["data-areaindex"]="0",this.isInlineBlock(n)&&(r["data-areaindex"]=this.areaIndex.toString(),e.class+=" clear-border-radius",s&&(c=Object(b.c)(s),e.class+=" ".concat(c),r["data-highlight-index"]="".concat(this.getHighlightCurrentIndex(s))))}},{key:"handleBlockHistoryAfterRender",value:function(e,t,n){var r=t.attributes;this.isInlineBlock(r)?this.addBlockElementNameSpan(e,t,n):this.addBlockElementMask(e,t,n)}},{key:"handleNewZoneHistory",value:function(e){e.domAttributes["data-areaindex"]=0}},{key:"handleNewZoneHistoryAfterRender",value:function(e,t,n){this.addBlockElementMask(e,t,n)}},{key:"addBlockElementNameSpan",value:function(e,t,n){var r,a,i,o,s,c=t.attributes,l=c[C.e.add],u=c[C.e.del];(l||u)&&(r=n.name,a=n.labelColor,v()(e).addClass(C.d),i=null,o="",l?(o=this.getSpanClassNameForAdd(),i=C.e.add):u&&(o=this.getSpanClassNameForDel(),i=C.e.del),o&&v()(e).addClass(o),i&&(s=this.createNameSpanJsx(i,r,a,c),this.appendJSXToContainer(e,s)))}},{key:"addBlockElementMask",value:function(e,t,n){var r=t.attributes,a=n.name,i=n.labelColor,o=n.backgroundColor,s=r[C.q],c="",l="";s&&(c=Object(b.c)(s),l="".concat(this.getHighlightCurrentIndex(s)));var u=r[C.e.add]?C.e.add:C.e.del,d={labelColor:i,backgroundColor:o,highlightClass:c,highlightIndex:l,children:this.createNameSpanJsx(u,a,i,r)},h=r[C.e.add]?this.createMaskJsx(d):this.createDeleteMaskJSX(d),f=e.querySelector(".block-autonomous-region");f&&this.appendJSXToContainer(f,h)}},{key:"addCheckBoxMask",value:function(e,t,n,r){var a=y.a.getUserInfoById(n),i=a.name,o=a.labelColor,s=a.backgroundColor,c=C.e.change,l=this.getNameTextByEditType(c,i),u=this.getHistoryLabelJsx(l,o),d=r?"".concat(this.getHighlightCurrentIndex(r)):"",h=r?Object(b.c)(r):"",f=m.a.createElement("span",{style:this.getHighlightStyle(s),className:S()("history-checkbox",this.getSpanClassNameForChange(),h),"data-highlight-index":d},u);this.appendJSXToContainer(e,f)}},{key:"handleTextHistoryJsx",value:function(e,t,n){var r=e.attributes,a=e.children;if(this.isTable(r))return a;var i=r[C.e.add],o=r[C.e.del];if(!i&&!o)return a;var s=r[C.q];return s&&(e.class+=" ".concat(Object(b.c)(s)),e.domAttributes["data-highlight-index"]="".concat(this.getHighlightCurrentIndex(s))),this.getDiffTextChildren(r,a,t,n)}},{key:"getDiffTextChildren",value:function(e,t,n,r){if(this.isTable(e))return t;var a=e[C.e.add],i=e[C.e.del];if(!a&&!i)return t;var o=n.name,s=n.textColor,c=n.labelColor,l=this.areaIndex.toString();if(a){var u=this.getNameTextByEditType(C.e.add,o);return m.a.createElement(p.w,{className:C.d,style:r},m.a.createElement(O,null),m.a.createElement("span",{className:"content ".concat(this.getSpanClassNameForAdd()),"data-areaindex":l},t,this.getHistoryLabelJsx(u,c)),m.a.createElement(O,null))}if(i){var d=this.getNameTextByEditType(C.e.del,o);return m.a.createElement(p.w,{className:this.getSpanClassNameForDel(),style:r},m.a.createElement(O,null),m.a.createElement("span",{className:"content ".concat(this.getSpanClassNameForAdd()," ").concat(C.d),style:{textDecoration:"line-through",color:"".concat(s)},"data-areaindex":l},t,this.getHistoryLabelJsx(d,c)),m.a.createElement(O,null))}return t}},{key:"match",value:function(e){return Object(b.d)(e)}},{key:"render",value:function(e){var t=e.lineState,n=e.attributes,r=e.children,a=e.index,i=t.parent.getZoneId(),o=n[C.e.add],s=n[C.e.del],c=n[C.e.change],l=n.author,u=n.historyPlaceholder,d=o?C.e.add:s?C.e.del:c?C.e.change:"";this.updateAreaIndex(a,l,d);var h=o||s||c,f=this.isImage(n),g=this.isNewZone(n);if(!h||f||g||n.lmkr)return r;0===a&&i===k.DEFAULT_REP_ZONE&&s&&(this.needSetSecondTitle=!0),0<a&&i===k.DEFAULT_REP_ZONE&&this.needSetSecondTitle&&!s&&!e.lineClass.includes("history-doc-title")&&(e.lineClass+=" history-doc-title",this.needSetSecondTitle=!1);var m=y.a.getUserInfoById(l),p=m.textColor,v=m.backgroundColor,b=this.filterBackgroundColorJsx(e,p,v);if(u)return this.handlePlaceholderJsx(e,m);if(this.isBlock(n))this.handleBlockHistory(e,b);else{if(!this.isNewZone(n))return this.handleTextHistoryJsx(e,m,b);this.handleNewZoneHistory(e)}return r}},{key:"renderLine",value:function(e){var t=e.lineState,n=t.getOps(),r=n[n.length-1];if(!r)return e.children;var a=t.getAttributes().toMap();if(this.isTable(a)||this.isBlock(a)||this.isImage(a))return e.children;var i=r.attributes;if(!i)return e.children;var o=i.author,s=y.a.getUserInfoById(o),c=s.textColor,l=s.backgroundColor,u=this.filterBackgroundColorJsx({attributes:i,style:{}},c,l),d=this.getDiffTextChildren(i,m.a.createElement(p.w,null," "),s,u),h=i[C.q],f="",g=this.getEnterCharHighlightCurrentIndex(h);return h&&(f=Object(b.c)(h)),m.a.createElement(m.a.Fragment,null,e.children,m.a.createElement("span",{className:f,"data-enterchar-highlight-index":g},d))}},{key:"renderAfterMount",value:function(e,t){var n,r,a;!this.checkIsEditDiff(t)||(r=(n=t.attributes).author)&&(a=y.a.getUserInfoById(r),this.isImage(n)?this.handleImageHistoryAfterRender(e,t):this.isBlock(n)&&this.handleBlockHistoryAfterRender(e,t,a))}},{key:"checkIsEditDiff",value:function(e){var t=e.attributes,n=t[C.e.add],r=t[C.e.del],a=t[C.e.change];return!!(n||r||a)}},{key:"addPocketToLine",value:function(e,t){var n,r,a,i,o,s,c,l,u,d=t.lineEntry,h=t.editor;d&&d.lineNode&&(n=d.zone,r=d.lineMarker,i={selStart:[a=h.getRep(n).lines.indexOfEntry(d),0,n],selEnd:[a,r,n]},o=h.getAttributesOnSelection(n,i,!1).attribs,(s=Object(b.a)(o))[C.e.change]&&(c=s[C.q],l=s.author,c&&l&&((u=d.lineNode.querySelector(".checkbox"))&&this.addCheckBoxMask(u,t,l,c))))}},{key:"unBindEvents",value:function(){v()(this.editor.getDocBody()).off("mouseenter.add",".".concat(C.c.ADD),this.handleEditSpanMouseEnter).off("mouseleave.add",".".concat(C.c.ADD),this.handleEditSpanMouseLeave),v()(this.editor.getDocBody()).off("mouseenter.del",".".concat(C.c.DEL),this.handleEditSpanMouseEnter).off("mouseleave.del",".".concat(C.c.DEL),this.handleEditSpanMouseLeave),v()(this.editor.getDocBody()).off("mouseenter.change",".".concat(C.c.CHANGE),this.handleEditChangeMouseEnter).off("mouseleave.change",".".concat(C.c.CHANGE),this.handleEditChangeMouseLeave),this.editor.off("onSheetRectChange",this.handleSheetAndBitableRectChange),this.editor.off("onBitableRectChange",this.handleSheetAndBitableRectChange),this.editor=null}},{key:"reset",value:function(){this.unBindEvents()}}]),a}();L.a=w}).call(this,H("2vAP"))},YweF:function(e,t,n){"use strict";var r=n("pVnL"),a=n.n(r),i=n("QILm"),o=n.n(i),s=n("q1tI"),c=n.n(s);t.a=function(e){e.styles;var t=o()(e,["styles"]);return c.a.createElement("svg",a()({width:"24",height:"24",viewBox:"0 0 24 24",fill:"none"},t),c.a.createElement("path",{d:"M5.75 5c-.38 0-.7.28-.74.65l-.01.1v12.5c0 .39.28.7.65.75h5.47c.19 0 .34-.12.37-.3V17.89a.38.38 0 00-.29-.37H6.5V6.5h10.05v4.13c0 .2.16.37.37.37h.75c.2 0 .38-.16.38-.37V5.37a.38.38 0 00-.3-.36L17.67 5H5.75zm8.28 6.54a.47.47 0 00-.3.11l-3.14 2.66a.47.47 0 000 .72l3.14 2.66a.47.47 0 00.77-.36v-1.82h4.63c.2 0 .37-.17.37-.38v-.75c0-.2-.17-.37-.37-.37H14.5v-2c0-.26-.21-.47-.47-.47z",fill:"#2B2F36"}))}},a3Hi:function(e,h,f){"use strict";(function(t){var e=f("lSNA"),n=f.n(e),r=f("lwsE"),a=f.n(r),i=f("W8MJ"),o=f.n(i),g=f("ifKl"),m=f("XIp8"),s=f("q1tI"),c=f.n(s),p=f("FJEn"),v=f("uPGt"),l=f("H6oK"),b=f("Ss5W"),u=(f("mIwt"),f("kESg")),d=function(){function r(e,t,n){var f=this;a()(this,r),this.editor=e,this.historyDragPlaceholder=t,this.pluginExtensionHelper=n,this.handleHistoryJump=function(e){var t=e.target;if(t){var n=$(t).closest(".".concat(b.c.EDIT));if(n){var r=n.attr("data-historyplaceholder");if(r){var a=JSON.parse(r),i=Object.keys(a)[0]||"",o=a[i],s=f.matcherFnMap(o)[i];if(!s)return console.info("you should implement your scroll matcher function in `matcherFnMap`");var c,l,u,d,h=f.editor.getMatchedAttributePositionOnSelection(null,s);h&&(u={selStart:(c=h[0].docPosition).selStart,selEnd:c.selEnd,selZone:void 0===(l=c.selZone)?p.DEFAULT_REP_ZONE:l},d=Object(m.default)(u),(0,(f.pluginExtensionHelper||v).requestRenderAndScroll)({editor:f.editor,animate:!0,complete:g.default,targetSelection:d}))}}}},this.historyDragPlaceholder=t,this.editor=e,this.bindEvents()}return o()(r,[{key:"bindEvents",value:function(){$(this.editor.getDocBody()).on("click",".history-jump",this.handleHistoryJump)}},{key:"unBindEvents",value:function(){$(this.editor.getDocBody()).off("click",".history-jump",this.handleHistoryJump)}},{key:"getDragPlaceholderJsx",value:function(){var e=this.historyDragPlaceholder;return c.a.createElement("div",{className:"placeholder-wrapper"},c.a.createElement(e,null),c.a.createElement("span",{className:"text"},t("CreationDoc_Doc_History_Drag_Desc1"),c.a.createElement("span",{className:"history-jump"},t("CreationDoc_Doc_History_Drag_Desc2"))))}},{key:"match",value:function(e){return"historyPlaceholder"===e}},{key:"render",value:function(e){var t=e.attributes;return e.domAttributes["data-historyPlaceholder"]=t.historyPlaceholder,e.lineClass+=" single-line",this.getDragPlaceholderJsx()}},{key:"reset",value:function(){this.unBindEvents()}},{key:"matcherFnMap",value:function(a){var e={};return n()(e,b.o,function(e,t){return e===b.o&&t===a}),n()(e,u.k.ZoneId,function(e,t){return e===u.k.ZoneId&&t===a}),n()(e,l.BLOCK_DATA_META_BLOCK_PROPS,function(e,t){if(e!==l.BLOCK_DATA_META_BLOCK_PROPS)return!1;var n=JSON.parse(a),r=JSON.parse(t);return n.blockId===r.blockId}),e}}]),r}();h.a=d}).call(this,f("2vAP"))},a6LE:function(e,t){e.exports='<svg width="42" height="42" viewBox="0 0 42 42" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path fill-rule="evenodd" clip-rule="evenodd" d="M21.0001 17.4645L37.7939 0.670667C38.2821 0.182511 39.0735 0.182511 39.5617 0.670667L41.3294 2.43843C41.8176 2.92659 41.8176 3.71804 41.3294 4.2062L24.5357 21L41.3294 37.7938C41.8176 38.2819 41.8176 39.0734 41.3294 39.5615L39.5617 41.3293C39.0735 41.8175 38.2821 41.8175 37.7939 41.3293L21.0001 24.5355L4.20634 41.3293C3.71818 41.8175 2.92673 41.8175 2.43857 41.3293L0.670804 39.5615C0.182649 39.0734 0.182649 38.2819 0.670804 37.7938L17.4646 21L0.670804 4.2062C0.182649 3.71804 0.182649 2.92659 0.670804 2.43843L2.43857 0.670667C2.92673 0.182511 3.71818 0.182511 4.20634 0.670667L21.0001 17.4645Z" fill="#2EA121"/>\n</svg>\n'},bLEF:function(e,t,n){"use strict";var r=n("RIqP"),c=n.n(r),a=n("o0o1"),l=n.n(a),i=n("J4zp"),o=n.n(i),s=n("yXPU"),u=n.n(s),d=n("FJEn");function b(t){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;try{return JSON.parse(t)}catch(e){return console.error(t),n}}var h=n("Ss5W"),f=n("mwUk"),g=n("H6oK"),m=n("kESg");n("y2sV");function p(e,t){return v.apply(this,arguments)}function v(){return(v=u()(l.a.mark(function e(t,n){var r,a;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=null,e.prev=1,e.next=4,t.fetchHistorySnapshot(n);case 4:r=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),console.error("history get snapshot error"),e.abrupt("return",null);case 11:if(r){e.next=13;break}return e.abrupt("return",null);case 13:return a=r.data.snapshot.content,e.abrupt("return",k(a));case 15:case"end":return e.stop()}},e,null,[[1,7]])}))).apply(this,arguments)}function y(e){try{return(new d.AttributePool).fromJsonable(e)}catch(e){console.error("parse apool error")}return null}function k(e){var t=null;try{t=JSON.parse(e)}catch(e){console.error("convert history snapshot content to clientVars error")}if(!t)return null;var n=t.pool,r=t.attributed_texts,a=t.table_meta,i=t.text,o=t.attribs,s=b(r);if(null===s)return null;var c=b(a);if(null===c)return null;var l=b(n);if(null===l)return null;var u=s.texts,d=s.attribs,h=c.cols,f=c.rows,g=c.attribs,m=Object.assign({},u,{0:i}),p={attribs:Object.assign({},d,{},g,{0:o}),cols:h,rows:f,text:m},v=y(l);return null===v?null:{initialAttributedTexts:p,apool:v}}function C(t,e){return e.filter(function(e){return e.block_type===t})}function S(i,e){return e.reduce(function(e,t){var n,r,a;return t.block_type===i&&(r=(n=o()(t.rev_range,2))[0],a=n[1],e.datas[t.block_token]={firstRev:r,lastRev:a}),e},{datas:{},options:{}})}function E(e,t){var n=C(h.b.DOC_BLOCK,e);if(0<n.length){var r=o()(n[0].rev_range,2),a=r[0],i=r[1];return t?a:i}return-1}function O(e){var t=C(h.b.DOC_BLOCK,e);if(0<t.length){var n=o()(t[0].rev_range,2),r=n[0],a=n[1];return a<=r?null:[r+1,a]}return null}function w(e){var r=S(g.BlockType.BITABLE_BLOCK,e);return Object.keys(r.datas).reduce(function(e,t){var n=t.split("_");return 1<n.length&&(e.datas[n[1]]=r.datas[t]),e},{datas:{},options:{}})}function L(e){return S(g.BlockType.SHEET_BLOCK,e)}function H(e){if(e&&e.content){var t=e.content.changes;return{bitableBlockVersionMap:w(t),sheetBlockVersionMap:L(t)}}if(e&&e.extra){var n=e.extra,r=n.bitableVersions,a=void 0===r?{}:r,i=n.sheetVersion,o=void 0===i?-1:i;return{bitableBlockVersionMap:Object.keys(a).reduce(function(e,t){return e.datas[t]={firstRev:0,lastRev:a[t]},e},{datas:{},options:{}}),sheetBlockVersionMap:0<=o?{datas:{fakeSheetToken:{firstRev:0,lastRev:o}},options:{}}:{datas:{},options:{}}}}return null}function I(){return Object.keys(f.a.usersConfig).reduce(function(e,t){var n=f.a.usersConfig[t];return e[t]=Object.assign({},n,{bgColor:n.backgroundColor,mobile:"",tenant_name:""}),e},{})}function T(e,t){var n,r=H(e);return r&&(n={isHighlight:t,users:I()},r.bitableBlockVersionMap.options=Object.assign({},n),r.sheetBlockVersionMap.options=Object.assign({},n)),r}function x(e,t){return B.apply(this,arguments)}function B(){return(B=u()(l.a.mark(function e(t,n){var r,a,i,o,s;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=[],a=n.start_revision,i=n.end_revision;case 3:if(a<=i)return o=Object.assign({},n,{start_revision:a,end_revision:Math.min(a+h.i,i)}),e.prev=5,e.next=8,t.fetchHistoryChangesetList(o);e.next=19;break;case 8:s=e.sent,r.push(s),e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(5),console.error("history get changeset error"),e.abrupt("return",null);case 16:a=o.end_revision+1,e.next=3;break;case 19:return e.abrupt("return",r.reduce(function(e,t){return e.data.changeset=[].concat(c()(e.data.changeset),c()(t.data.changeset)),e},{data:{changeset:[]}}));case 20:case"end":return e.stop()}},e,null,[[5,12]])}))).apply(this,arguments)}function N(e){return e?b(e):null}function j(e){return!(!e||e.blockType!==g.BlockType.SHEET_BLOCK)}function D(e){return!(!e||e.blockType!==g.BlockType.BITABLE_BLOCK)}function P(e,t,n){return e.getAllAttributesOnLine(t,n).some(function(e){var t=o()(e,2),n=t[0],r=t[1];if([h.g,h.h,h.o,m.k.ZoneType].includes(n))return!0;if(n===g.BLOCK_DATA_META_BLOCK_PROPS){var a=JSON.parse(r);if(a&&!Object(g.isInlineBlock)(a))return!0}return!1})}function R(e,t){var n=t.selStart,r=t.selEnd,a=t.selZone||d.DEFAULT_REP_ZONE,i=e.selection.flatten([n[0],n[1],a]),o=e.selection.flatten([r[0],r[1],a]);return e.getReps()[a].alltext.substring(i,o)}function Z(e,t){return"\n"===R(e,t)}n.d(t,"f",function(){return p}),n.d(t,"b",function(){return E}),n.d(t,"c",function(){return O}),n.d(t,"d",function(){return T}),n.d(t,"e",function(){return x}),n.d(t,"a",function(){return N}),n.d(t,"i",function(){return j}),n.d(t,"g",function(){return D}),n.d(t,"j",function(){return P}),n.d(t,"h",function(){return Z})},bRDH:function(e,t,n){},"dN/q":function(e,t,n){"use strict";var r=n("sO2k");t.a=r.a},dfqw:function(e,t,n){},ejGD:function(e,t,n){},fIA3:function(e,t,n){"use strict";var S=n("q1tI"),f=n.n(S),r=n("TSYQ"),g=n.n(r),m=n("px+E"),p=n("lQZd"),v=n("DVUE"),a=n("RIqP"),b=n.n(a),i=n("lSNA"),y=n.n(i),k=n("OIAp"),C=n("chgP"),E=n("nMtL"),O=n("0Hpa"),w=n("njD1"),L=n("5Ucn"),H=n("bqU8"),I=n("A9Q4"),T=n("bPgG"),x=n("IcLG"),B=n("46iY"),N=n("WtIE"),j=n("KhPb"),D=n("TBry"),P=n("3UIW"),R=n("ZuTZ"),Z=n("CXkg"),F=n("CJfy"),J=n("QgWq"),M=n("raF6"),W=n("RooE"),V=n("euE0"),_=n("trzc"),K=n("MEJ+"),Y=n("SLR9"),q=n("EIW1"),U=n("gX+J"),X=n("WP/d"),Q=n("DKi5"),z=n("mELL"),$=n("k8MZ"),ee=n("CZAk"),te=n("nyf+"),ne=n("jnLa"),re=n("VwWz"),ae=n("DH/q"),ie=n("EQvf"),oe=n("a3Hi"),se=n("OX8E"),o=n("4O8T"),ce=n.n(o),le=n("/kQF"),ue=n("LghI"),de=n("FrgG"),he=n("4PFL"),fe=n("5UUe"),Ae=n("KhU0"),ge=n("bNqd"),me=n("+I4n"),pe=n("Hj9z"),ve=n("EBUI"),be=n("gBrI"),ye=n("H6oK"),ke=n("BkG1"),Ce=n("PIJw"),s=n("a6LE"),Se=n.n(s),Ee=n("AChx"),Oe=n("PgAo"),we=n("uk6g"),Le=n("/2EM"),He=n("rLED"),Ie=n("gUre"),Te=n("y2sV"),xe=n("RPIr"),Be=n("GRDh");function Ne(e,t,n){var r,a=t.bitableBlockVersionMap,i=t.sheetBlockVersionMap,o=t.isHighLight,s=new ce.a,c=new he.a({editor:e,isInHistory:!0,sheetBlockVersionMap:i}),l=new fe.a({editor:e,isInHistory:!0,bitableBlockVersionMap:a}),u=new Ae.a({editor:e}),d=Object(Le.b)({editor:e,eventEmitter:s,newGalleryEnable:Object(He.Q)(),moduleMap:Object(Le.a)(),containerCls:e.containerCls,pure:!0}),h=Object(me.a)(e,{sheetBridgePlugin:c,bitableBridgePlugin:l,mindnoteBridgePlugin:u,historyMode:(r={},y()(r,ye.BlockType.IFRAME_BLOCK,pe.HISTORY_MODE.CONTENT),y()(r,ye.BlockType.POLL_BLOCK,pe.HISTORY_MODE.PLACEHOLDER_NEW),y()(r,ye.BlockType.JIRA_ISSUE_BLOCK,pe.HISTORY_MODE.PLACEHOLDER_NEW),y()(r,ye.BlockType.JIRA_FILTER_BLOCK,pe.HISTORY_MODE.PLACEHOLDER_NEW),y()(r,ye.BlockType.SHEET_BLOCK,pe.HISTORY_MODE.CONTENT),y()(r,ye.BlockType.BITABLE_BLOCK,pe.HISTORY_MODE.CONTENT),y()(r,ye.BlockType.CHAT_CARD_BLOCK,pe.HISTORY_MODE.CONTENT),y()(r,ye.BlockType.DIAGRAM_BLOCK,pe.HISTORY_MODE.PLACEHOLDER_NEW),y()(r,ye.BlockType.MINDNOTE_BLOCK,pe.HISTORY_MODE.PLACEHOLDER_NEW),y()(r,ye.BlockType.ISV_BLOCK,pe.HISTORY_MODE.PLACEHOLDER),r),modules:{iframe:{regionSelector:".history-editor-wrapper"},mindnote:{regionSelector:".history-editor-wrapper .innerdocbody"}}});c.setBlockEventEmitter(h.event),l.setBlockEventEmitter(h.event);var f,g=new Oe.a({sheetBridgePlugin:c,bitableBridgePlugin:l}),m=[new Te.x,new Te.b,new xe.a(e),new k.default(e),new C.default(e),new T.a(e),new E.default(e),new P.a(e),new H.c(e),new O.a(e,{hasCollapse:!0}),new Ie.a(e),new F.a,new M.a(e),new J.a,new R.a(e),Z.b,new w.a(e),new L.HyperLinks({editor:e}),te.a,d,new I.a(e),Object(ne.a)(e,{fullWidth:!0,platform:"pc",docInfo:{paddingLeft:0,paddingRight:0,withoutComment:!0}}),new x.a(e),new B.b(e),new N.b(e),new D.b(e),new W.b(e),new ve.b({editor:e,adaptor:new be.a}),new V.a(e),new _.a(e),Y.c,new K.a(e),new q.a(e),new U.a(e),new X.a(e),new Q.a(e),new z.a(e),new $.a(e),new ee.a({editor:e,eventEmitter:se.a}),new ge.a({editor:e,bitableBridgePlugin:l,eventEmitter:se.a}),h,c,new de.a(e)].concat(b()(Object(ke.a)(e)),b()(Object(Ce.a)(e)),[new ie.a]);return Object(ue.a)()&&(f=new le.a(".doc-history-main","\n      height: 0;\n      overflow: hidden;\n      margin: 10px 0 !important;\n    "),m.unshift(f)),o&&m.push(new j.b(e),new oe.a(e,Ee.a,Be.a),new ae.a(e,n,g,Be.a),new re.a(e,{collectHistoryEvent:we.a,MaskCross:Se.a})),m}var je=n("Vr4U"),c=(n("joW7"),n("o0o1")),De=n.n(c),l=n("yXPU"),Pe=n.n(l),u=n("J4zp"),Re=n.n(u),Ze=n("bLEF"),Fe=n("FJEn"),Je=n("Ss5W"),Me=n("x1e+");function We(e){var r=e.docToken,d=e.request,a=e.currentVersionMessage,h=e.showLoading,f=e.hideLoading,g=e.showError,m=e.isShowDiff,t=(e.pluginChangesetHelper,e.highLightChangeIndex),n=Object(S.useState)(null),i=Re()(n,2),o=i[0],p=i[1],s=Object(S.useState)(""),c=Re()(s,2),l=c[0],u=c[1],v=Object(S.useRef)(null),b=function(e){var t=a.content.changes,n=Object(Ze.b)(t,e);return{doc_token:r,block_token:r,block_type:Je.b.DOC_BLOCK,revision:n}},y=function(){var e=a.content.changes,t=Object(Ze.c)(e);return t?{doc_token:r,block_token:r,block_type:Je.b.DOC_BLOCK,start_revision:t[0],end_revision:t[1]}:null},k=function(){var e=Pe()(De.a.mark(function e(){var t,n,r,a,i,o,s,c,l,u;return De.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return h(),e.next=3,Object(Ze.f)(d,b(m));case 3:if(!(t=e.sent)||!m){e.next=24;break}if(n=y())return e.next=9,Object(Ze.e)(d,n);e.next=24;break;case 9:if(!(r=e.sent)){e.next=21;break}a=t.apool,i=Object(Me.e)(r,a),o=Object(Me.a)(i,a),s=Object(Me.c)(o,a),c=Object(Me.d)(s,t),l=t.initialAttributedTexts,u=Object(Fe.applyChangesetsToZatext)(c,l,a),t=Object(Me.f)({initialAttributedTexts:u,apool:a}),e.next=24;break;case 21:return f(),g(),e.abrupt("return");case 24:f(),t?p(t):g();case 26:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),C=function(){var e=Pe()(De.a.mark(function e(){return De.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return h(),e.next=3,new Promise(function(e){return setTimeout(e,100)});case 3:u(a.UIData||""),f(),p(Te.h.getDefaultClientVars());case 6:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();return Object(S.useEffect)(function(){p(null),u(""),(a.content?k:C)()},[a,m]),Object(S.useEffect)(function(){v.current?window.historyEditor=v.current:delete window.historyEditor}),Object(S.useEffect)(function(){var e;!v.current||(e=v.current.plugins.historyChangeSelection)&&e.showChangeRecord(t)},[t,a]),{editorHtml:l,clientVars:o,editorRef:v}}var Ve=n("QM+C"),d=(n("HWuX"),n("U5G9")),_e=n("OyiX"),Ke=Object(d.b)({module:d.a.HISTORY_NEW});function h(e){var n=e.currentVersionMessage,t=e.showLoading,r=e.hideLoading,a=e.renderHistoryFailView,i=e.isShowDiff,o=e.onDiffCountChange,s=e.highLightChangeIndex,c=We({currentVersionMessage:n,docToken:Object(p.g)(),request:m.a,showLoading:t,hideLoading:r,showError:a,isShowDiff:i,pluginChangesetHelper:Ke,highLightChangeIndex:s}),l=c.clientVars,u=c.editorHtml,d=c.editorRef,h=g()("doc-history-main innerdocbody syntax flex doc-new-layout");return f.a.createElement("div",{className:"history-editor-wrapper"},l&&f.a.createElement("div",{className:"doc-history-main-wrap"},f.a.createElement(v.a,{className:h,role:"application",spellCheck:!1,contentEditable:!1,editable:!1,idleWorkTimer:!1,autoCorrect:"false",defaultHtml:u,clientVars:l,onInit:function(e){return d.current=e},renderConfig:Ve.USE_BLOCK_RENDER,scroller:document.querySelector(".history-editor-wrapper"),registerPlugin:function(e){e.pure=!0;var t=Object(Ze.d)(n,i)||{};return[new je.default(Object.assign({editor:e},e,{type:"doc",postAddMentionId:!1,hoverArea:".doc-history-main",showChatCards:!1,source:"history-new",container:".doc-position"}))].concat(Ne(e,Object.assign({},t,{isHighLight:i}),o))},schema:_e.a})))}t.a=h},hCK2:function(e,t,n){"use strict";var r=n("lwsE"),a=n.n(r),i=n("W8MJ"),o=n.n(i),s=n("a1gu"),c=n.n(s),l=n("Nsbk"),u=n.n(l),d=n("7W2i"),h=n.n(d),f=n("q1tI"),g=n.n(f),m=n("TSYQ"),p=n.n(m),v=(n("96np"),function(e){function t(){var n;return a()(this,t),(n=c()(this,u()(t).apply(this,arguments))).onClick=function(e){var t=!n.props.isOpen;n.props.onChange(t,e)},n}return h()(t,e),o()(t,[{key:"render",value:function(){return g.a.createElement("div",{className:"switch-root"},g.a.createElement("div",{className:p()({switch:!0,open:this.props.isOpen}),onClick:this.onClick},g.a.createElement("div",{className:"ball"})))}}]),t}(f.Component));t.a=v},hHA3:function(e,t,n){"use strict";var r=n("pVnL"),a=n.n(r),i=n("QILm"),o=n.n(i),s=n("q1tI"),c=n.n(s);t.a=function(e){e.styles;var t=o()(e,["styles"]);return c.a.createElement("svg",a()({width:"36",height:"36",viewBox:"0 0 36 36"},t),c.a.createElement("path",{d:"M18 29a11 11 0 110-22 11 11 0 010 22zm0-2a9 9 0 100-18 9 9 0 000 18zm1.88-8.89a2.48 2.48 0 00-1.05 2.03h-1.66v-.12h1.66v.12h-1.66a4.14 4.14 0 011.75-3.38l.48-.36a.69.69 0 00.25-.5c0-.62-.64-1.25-1.65-1.25-1 0-1.65.63-1.65 1.24v.83h-1.66v-.83C14.7 14.35 16.1 13 18 13c1.9 0 3.3 1.35 3.3 2.9 0 .65-.28 1.26-.78 1.72l-.64.5zM18 23a1 1 0 110-2 1 1 0 010 2z",fill:"#424E5D",fillRule:"nonzero"}))}},jHQo:function(e,t,n){"use strict";var r=n("pVnL"),a=n.n(r),i=n("QILm"),o=n.n(i),s=n("q1tI"),c=n.n(s);t.a=function(e){e.styles;var t=o()(e,["styles"]);return c.a.createElement("svg",a()({viewBox:"0 0 162 138"},t),c.a.createElement("g",{fill:"none",fillRule:"evenodd"},c.a.createElement("path",{fill:"#18263C",d:"M76.23 53.16l-3 12.03-45.55 15.04s-2.4-10.83 19.78-24.07c8.45-5.04 3.45-7.68 1.8-9.62-3.6-4.21 1.2-7.22 8.39-10.23 7.18-3 0-6.01-1.2-11.73-1.2-5.71 9.6-19.55 22.78-22.55C92.42-.98 112.55.4 109.8 22.48c-.6 4.81-1.2 8.42-1.2 8.42s-1.2-4.21-6-2.4c-3.87 1.45-1.8 4.2-7.18 0-4.8-2.41-10.8-7.83-10.2-15.04-3.6 5.41-6.59 10.82-13.78 13.23-1.8 21.65 4.8 26.47 4.8 26.47"}),c.a.createElement("path",{stroke:"#18263C",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.39",d:"M98.41 38.72s10.2-.6 9.6-7.22c-.6-6.62-8.4-.6-8.4-.6M71.44 26.1s-2.61 28.5 10.19 28.87"}),c.a.createElement("path",{stroke:"#18263C",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.39",d:"M28.28 79.63l44.96-14.44 3-11.43m-23 23.36s8.06 28.05 34.13 20.45c26.06-7.61 21.32-39 21.32-39M85.22 12.86c-1.2.6-3 10.22-17.38 15.03m31.17 3.01s-11.39-5.41-12.59-12.63"}),c.a.createElement("path",{fill:"#18263C",d:"M78.75 35.24a2.17 2.17 0 01-3.08 0 2.2 2.2 0 010-3.1 2.18 2.18 0 013.08 0 2.2 2.2 0 010 3.1m13.29-.51a2.18 2.18 0 01-2.18 2.19 2.18 2.18 0 01-2.18-2.2 2.18 2.18 0 114.36 0"}),c.a.createElement("path",{stroke:"#18263C",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.39",d:"M82.83 45.94l-3.6.6 3-13.23"}),c.a.createElement("path",{fill:"#18263C",d:"M107.4 34.51l-3 19.25-11.38 4.21v-7.82s4.8-8.42 5.4-10.83c0 0 3.2-.83 4.19-1.2 1.3-.48 4.8-3.61 4.8-3.61"}),c.a.createElement("path",{fill:"#D6DAE1",d:"M19.64 137.03h122.79V49.19H19.63z"}),c.a.createElement("path",{stroke:"#FFF",strokeWidth:"1.39",d:"M80.09 48.14l-5.67 44.44h11.33l-6.6 44.45"}),c.a.createElement("path",{fill:"#FFC200",d:"M126.46 49.02h15.79v-7.93h-15.79z"}),c.a.createElement("path",{stroke:"#18263C",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.39",d:"M2.06 73.96l9.86-.83c9.97-.83 22.43-16.67 28.24-15.84 5.82.83-8.3 12.5-3.32 18.34 5.57 6.52 32.4-1.67 31.57 5.84-.83 7.5-30.74 10-31.57 5.83-.83-4.17 35.72 0 35.72 7.5s-35.72 6.67-36.55 3.34c-.83-3.34 31.57.83 31.57 7.5s-33.23 6.67-34.06 3.33c-.83-3.33 29.12 2.27 28.24 6.67-1.66 8.34-60.53 5-60.53 5m158.59-46.68l-9.86-.83c-9.97-.83-22.43-16.67-28.25-15.84-5.81.83 8.31 12.5 3.33 18.34-5.57 6.52-32.4-1.67-31.57 5.84.83 7.5 30.74 10 31.57 5.83.83-4.17-35.72 0-35.72 7.5s35.72 6.67 36.55 3.34c.83-3.34-31.57.83-31.57 7.5s33.23 6.67 34.06 3.33c.83-3.33-29.12 2.27-28.24 6.67 1.66 8.34 60.52 5 60.52 5"})))}},jhSQ:function(e,t,n){"use strict";var r=n("o0o1"),Q=n.n(r),a=n("yXPU"),z=n.n(a),i=n("J4zp"),$=n.n(i),ee=n("q1tI"),te=n.n(ee),ne=n("m/+l"),o=n("lwsE"),s=n.n(o),c=n("W8MJ"),l=n.n(c),u=n("a1gu"),d=n.n(u),h=n("Nsbk"),f=n.n(h),g=n("7W2i"),m=n.n(g),p=function(e){function t(){return s()(this,t),d()(this,f()(t).apply(this,arguments))}return m()(t,e),l()(t,[{key:"render",value:function(){return te.a.createElement("div",{className:"title-date"},te.a.createElement("div",{className:"date-word"},this.props.data))}}]),t}(ee.Component),v=n("qy47").a,re=function(n){return te.a.createElement("div",{className:"history-group"},te.a.createElement(p,{data:n.data[0]}),n.data[1].map(function(e,t){return te.a.createElement("div",{key:e.id},te.a.createElement(v,Object.assign({},n,{data:e,index:n.index+t})))}))},ae=n("RPAe").a,ie=n("SDQK"),oe=n("BdQV"),se=n("Ss5W"),ce=(n("bRDH"),n("SGN9")),le=n("G8Hj"),ue=n("n3ZB"),b=function(i){var e=Object(ee.useState)([]),t=$()(e,2),n=t[0],c=t[1],r=Object(ee.useState)({}),a=$()(r,2),o=a[0],s=a[1],l=Object(ee.useState)(!0),u=$()(l,2),d=u[0],h=u[1],f=Object(ee.useState)(""),g=$()(f,2),m=g[0],p=g[1],v=Object(ee.useState)(""),b=$()(v,2),y=b[0],k=b[1],C=Object(ee.useState)(!1),S=$()(C,2),E=S[0],O=S[1],w=Object(ee.useState)(-1),L=$()(w,2),H=L[0],I=L[1],T=Object(ee.useRef)(0),x=Object(ee.useRef)(0),B=Object(ee.useRef)(!1),N=Object(ee.useRef)(!0),j=Object(ee.useRef)(null),D=Object(ee.useRef)(0);function P(e){return{doc_token:i.getToken(),version:e,page_size:se.m}}function R(e){var t,n,r;e.length?(n=(t=Object(ie.f)(e)).id,r=t.majorID,p(n),k(r)):i.renderHistoryNoneView()}function Z(e){var t=e.entities.user,n=e.major_history;n.length&&(n[n.length-1].type===se.a.DOC_CREAT&&(N.current=!1,i.isFilterCreatedRecord&&n.pop()),s(function(e){return Object.assign({},e,{},t)}),h(e.has_more),0===T.current&&R(n))}function F(e){var t=(new Date).getTime(),n=0===T.current?t/1e3:x.current,r=e[e.length-1];return x.current=r&&r.edit_time,{startTime:x.current,endTime:n}}function J(e,t){var n,r,a,i,o,s;e.length&&(i=t&&t.length?(r=(n=F(e)).startTime,a=n.endTime,Object(oe.e)(t,e,r,a)):e,o=e[e.length-1],T.current=o.version,D.current=o.create_time,s=Object(ie.g)(i),c(function(e){return Object(ie.e)(e,s)}))}var M=!0;function W(){return V.apply(this,arguments)}function V(){return(V=z()(Q.a.mark(function e(){var t,n,r,a;return Q.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return B.current=!0,t=i.getLocalHistoryRecords&&i.getLocalHistoryRecords(),n=Object(ie.c)(i.request,P(T.current)),e.next=5,t;case 5:return r=e.sent,e.next=8,n;case 8:if(a=e.sent,M&&(M=!1,q(a)),B.current=!1,a){e.next=14;break}return 0===T.current&&i.renderHistoryFailView(W),e.abrupt("return");case 14:Z(a),J(a.major_history,r);case 17:case"end":return e.stop()}},e)}))).apply(this,arguments)}function _(e){return e+"component"}function K(e,t){p(e),k(t)}function Y(e){var t=e.currentTarget;d&&!B.current&&t.scrollTop+t.offsetHeight>=t.scrollHeight-se.n&&W()}function q(e){var t;e&&((t=e.major_history.find(function(e){return 1<e.minor_history.length}))?(t.show_on_boarding=!0,I(1)):I(0))}var U=!1,X=Object(ne.useSelector)(ue.i);return Object(ee.useEffect)(function(){var e=i.currentVersionDiffCount;if(!U&&-1!==e&&-1!==H){switch(H+(0===e?0:2)){case 1:Object(ce.b)({type:le.STEP_TYPES.doc_history_v2_guide,extra:{shouldShowRedoGuide:!1}});break;case 2:Object(ce.e)(le.STEP_TYPES.doc_history_v2_guide),Object(ce.b)(le.STEP_TYPES.doc_history_v2_redo_edit);break;case 3:var t=!Object(ce.n)(X,le.STEP_TYPES.doc_history_v2_redo_edit);t?Object(ce.b)({type:le.STEP_TYPES.doc_history_v2_guide,extra:{shouldShowRedoGuide:t}},le.STEP_TYPES.doc_history_v2_redo_edit):Object(ce.b)({type:le.STEP_TYPES.doc_history_v2_guide,extra:{shouldShowRedoGuide:t}})}U=!0}},[H,i.currentVersionDiffCount]),Object(ee.useEffect)(function(){z()(Q.a.mark(function e(){return Q.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W();case 2:O(!0);case 3:case"end":return e.stop()}},e)}))()},[]),Object(ee.useEffect)(function(){E&&j.current&&j.current.scrollHeight<=j.current.clientHeight&&d&&W()},[E]),te.a.createElement("div",{ref:j,className:"time-line-wrapper",onScroll:function(e){Y(e)}},n.map(function(e,t){return te.a.createElement("div",{key:_(e[0])},te.a.createElement(re,{data:e,index:t,users:o,selectedID:m,selectedMajorID:y,versionItemClick:i.onVersionItemClick,handleChecked:K,collectEvent:i.collectEvent,getFromVersionTime:i.getFromVersionTime,ArrowDownImg:i.ArrowDownImg}))}),!d&&N.current?te.a.createElement(ae,{showMoreHistory:i.onShowMoreHistory,startTime:D.current,collectEvent:i.collectEvent}):null)};t.a=b},joW7:function(e,t,n){},l31Q:function(e,t,n){"use strict";var r=n("q1tI"),a=n.n(r),i=(n("BtkK"),function(e){return a.a.createElement("div",{className:"ellipse-container"},a.a.createElement("div",{className:"ellipse",style:{backgroundColor:e.color}}))});t.a=i},lOzp:function(e,t,n){"use strict";n.d(t,"b",function(){return f}),n.d(t,"a",function(){return g});var r=n("q1tI"),i=n.n(r),a=n("i8i4"),o=n.n(a),s=n("Ngi8"),c=n("QmPh"),l={size:130},u="css-loading-container",d={position:"absolute",width:"100%",height:"100%",left:"0",top:"0",backgroundColor:s.N00},h={};function f(e,t,n){var r,a;e&&(h[t]||((r=h[t]=document.createElement("div")).className=u,Object.assign(r.style,d),e.appendChild(r),a=Object.assign({},l,n).size,o.a.render(i.a.createElement(c.a,{size:a}),r)))}function g(e){var t=h[e];t&&(o.a.unmountComponentAtNode(t),delete h[e],t.parentElement.removeChild(t))}},mIwt:function(e,t,n){},mwUk:function(e,u,d){"use strict";(function(e){var a=d("Kp/3"),r=e("history.user.anonymity_user"),o=-1,t="unknow_user_id",i=function(e){return{name:e?r:"",textColor:s("textColor",o),id:t,anonymity:!0,backgroundColor:s("backgroundColor",o),labelColor:s("labelColor",o)}},s=function(e,t){var n=Object.keys(a.b).length,r=a.b[t%n];return(r||a.a)[e]},n=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:c(),n=2<arguments.length?arguments[2]:void 0;return!e||e.anonymity?i(n):{name:e[t+"_name"]||e.name||r,textColor:e.textColor,id:e.id,anonymity:e.anonymity,backgroundColor:e.backgroundColor,labelColor:e.labelColor}},c=function(){return window.User&&(-1<window.User.language.indexOf("zh")?"cn":"en")},l={usersConfig:{},maxColorId:-1,isShowName:!0,setShowName:function(e){this.isShowName=e},setUsersConfig:function(i){Object.keys(i).forEach(function(e,t){var n,r,a;!l.usersConfig[e]&&(r=(n=i[e]).anonymity?o:++l.maxColorId,a=Object.assign({},n,{textColor:s("textColor",r),backgroundColor:s("backgroundColor",r),labelColor:s("labelColor",r)}),l.usersConfig[e]=a)})},resetUsersConfig:function(){l.usersConfig={},l.maxColorId=-1},getUserInfoById:function(e){return n(l.usersConfig[e],void 0,this.isShowName)}};u.a=l}).call(this,d("2vAP"))},pQ2j:function(e,t,n){"use strict";n.r(t);var r=n("m/+l"),a=n("vrQc"),i=n("qKwb"),o=n("n3ZB"),s=function(e){return{editor:Object(i.c)(e),userGuide:Object(o.i)(e)}};t.default=Object(r.connect)(s,{})(a.a)},pfmj:function(e,t,n){"use strict";var r=n("pVnL"),a=n.n(r),i=n("QILm"),o=n.n(i),s=n("q1tI"),c=n.n(s);t.a=function(e){e.styles;var t=o()(e,["styles"]);return c.a.createElement("svg",a()({width:"16",height:"16",viewBox:"0 0 16 16",fill:"none"},t),c.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 10.58l5.42-5.43a.33.33 0 01.47 0l.47.48c.13.13.13.34 0 .47l-5.89 5.89a.67.67 0 01-.94 0l-5.9-5.9a.33.33 0 010-.46l.48-.48a.33.33 0 01.47 0L8 10.58z",fill:"#646A73"}))}},"px+E":function(e,t,n){"use strict";var r=n("lwsE"),a=n.n(r),i=n("W8MJ"),o=n.n(i),s=n("MsAb"),c=n("toa8"),l=function(){function e(){a()(this,e)}return o()(e,[{key:"get",value:function(e,t){return c.d.get(e,{params:t})}},{key:"post",value:function(e,t){return c.d.post(e,t)}}]),e}();t.a=s.a.getInstance(new l)},qy47:function(e,n,r){"use strict";(function(k){var e=r("J4zp"),C=r.n(e),S=r("q1tI"),E=r.n(S),O=r("dN/q"),w=r("ENcd"),L=r("UlbS"),H=r("CbGb"),I=r("SGN9"),T=r("G8Hj"),t=function(t){var e=Object(S.useState)(!1),n=C()(e,2),r=n[0],a=n[1],i=Object(S.useState)(!1),o=C()(i,2),s=o[0],c=o[1],l=Object(S.useState)(!1),u=C()(l,2),d=u[0],h=u[1],f=Object(S.useRef)(null),g=Object(S.useRef)(null),m=t.data,p=function(e){t.handleChecked(e,m.id)},v=Object(S.useCallback)(function(){h(!0),console.info("mouseEnter")},[]),b=Object(S.useCallback)(function(){h(!1),console.info("mouseLeave")},[]),y=function(){var e;Object(I.f)(T.STEP_TYPES.doc_history_v2_guide,T.STEP_TYPES.doc_history_v2_redo_edit),r?(t.selectedMajorID===m.id&&(t.handleChecked(m.id,m.id),t.versionItemClick(m,!!m.isCurrent)),t.collectEvent("history",{action:"fold",source:"fold_icon",from_version_time:t.getFromVersionTime(m.edit_time)})):(t.selectedID===m.id&&(e=m.minor_history[0],t.handleChecked(e.id,m.id),t.versionItemClick(e,!!e.isCurrent)),t.collectEvent("history",{action:"unfold",source:"fold_icon",from_version_time:t.getFromVersionTime(m.minor_history[0].edit_time)})),a(!r)};return Object(S.useEffect)(function(){var e=m.minor_history;e&&1<e.length&&c(!0)},[]),E.a.createElement("div",{className:d?"history-container icon-hover":"history-container"},E.a.createElement(L.Tooltip,{title:k(r?"history.time_line.unfold":"history.time_line.fold"),placement:"top"},E.a.createElement("div",{className:s?"icon-wrapper":"icon-wrapper notShow","data-selector":m.show_on_boarding?"doc-history-v2-guide":void 0,onClick:y,onMouseEnter:v,onMouseLeave:b},E.a.createElement(H.a,{className:r?"icon pulldown-icon":"icon"}))),r?E.a.createElement("div",{ref:f},E.a.createElement(w.a,{data:m.minor_history,users:t.users,selectedID:t.selectedID,handleItemChecked:p,versionItemClick:t.versionItemClick,collectEvent:t.collectEvent,getFromVersionTime:t.getFromVersionTime,ArrowDownImg:t.ArrowDownImg})):E.a.createElement("div",{className:"major-history",ref:g},E.a.createElement(O.a,{data:m,users:t.users,selectedID:t.selectedID,handleItemChecked:p,versionItemClick:t.versionItemClick,collectEvent:t.collectEvent,getFromVersionTime:t.getFromVersionTime,ArrowDownImg:t.ArrowDownImg})))};n.a=t}).call(this,r("2vAP"))},sO2k:function(e,r,a){"use strict";(function(v){var e=a("J4zp"),b=a.n(e),y=a("q1tI"),k=a.n(y),C=a("zuJL"),S=a("SDQK"),E=a("l31Q"),t=a("TSYQ"),O=a.n(t),w=10,n=function(r){var e=Object(y.useState)(!1),t=b()(e,2),n=t[0],a=t[1],i=Object(y.useState)(!1),o=b()(i,2),s=o[0],c=o[1],l=Object(y.useRef)(null),u=r.ArrowDownImg,d=r.data;function h(){r.selectedID!==d.id&&(r.handleItemChecked(d.id),r.collectEvent("history",{action:"select_version",source:"history_list_item",from_version_time:r.getFromVersionTime(d.edit_time)}))}function f(e){e.stopPropagation(),c(!s)}function g(){var e=d;return k.a.createElement(k.a.Fragment,null,k.a.createElement("div",{className:"version-title"},e.name||Object(S.a)(1e3*e.edit_time)),k.a.createElement("div",{className:"version-desc"},k.a.createElement("div",{className:"desc-item"},v("history.time_line.local_record"))))}function m(e){var t=e.length;if(!(w+2<=t))return null;var n=t-w,r=O()(["user-list-switch-icon",{open:s}]),a=s?v("history.user_list_switch_text_total",t):v("history.user_list_switch_text_more",n);return k.a.createElement("div",{className:"user-list-switch",onClick:f},k.a.createElement(u,{className:r}),k.a.createElement("span",null,a))}function p(){var e=d,t=Object(S.d)(d,r.users),n=[],n=t.length>=w+2&&!s?t.slice(0,w):t;return k.a.createElement(k.a.Fragment,null,k.a.createElement("div",{className:"version-title"},e.name||Object(S.a)(1e3*e.edit_time)),k.a.createElement(C.a,{desc:Object(S.b)(e),isCurrent:e.isCurrent}),n.map(function(e){return k.a.createElement("div",{className:"user-item",key:e.id},k.a.createElement(E.a,{color:e.labelColor}),k.a.createElement("div",{className:"user-name"},e.name))}),m(t))}return Object(y.useEffect)(function(){r.selectedID===d.id?(a(!0),r.versionItemClick(d,!!d.isCurrent)):a(!1)},[r.selectedID]),k.a.createElement("div",{ref:l,className:n?"checked item-wrapper":"item-wrapper",onClick:h},k.a.createElement("div",{className:"version-item"},k.a.createElement("div",{className:"item-inner"},(d.isLocalRecord?g:p)())))};r.a=n}).call(this,a("2vAP"))},shdu:function(e,t,n){"use strict";var r=n("pVnL"),a=n.n(r),i=n("QILm"),o=n.n(i),s=n("q1tI"),c=n.n(s);t.a=function(e){e.styles;var t=o()(e,["styles"]);return c.a.createElement("svg",a()({viewBox:"0 0 120 120",fill:"none",xmlnsXlink:"http://www.w3.org/1999/xlink"},t),c.a.createElement("path",{fill:"url(#ca3924174f3a88a3271eab75e76fc86f-pattern0)",d:"M-14.5-16h150v150h-150z"}),c.a.createElement("defs",null,c.a.createElement("pattern",{id:"ca3924174f3a88a3271eab75e76fc86f-pattern0",patternContentUnits:"objectBoundingBox",width:"1",height:"1"},c.a.createElement("use",{xlinkHref:"#ca3924174f3a88a3271eab75e76fc86f-image0",transform:"scale(.002)"})),c.a.createElement("image",{id:"ca3924174f3a88a3271eab75e76fc86f-image0",width:"500",height:"500",xlinkHref:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAfQAAAH0CAYAAADL1t+KAAABS2lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDAgNzkuMTYwNDUxLCAyMDE3LzA1LzA2LTAxOjA4OjIxICAgICAgICAiPgogPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIi8+CiA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgo8P3hwYWNrZXQgZW5kPSJyIj8+LUNEtwAAIABJREFUeJzt3Xd8G/X9x/H3SfKOV5yhhNAAARFSQlgNoQgDAcoIJZTRAmVDf8yyQlkNZe89CpSUllIKtKwywyYYkYYRZkiImCFLIcPO8rb0+8OxIjnDQ9J9T6fX8/Hg8dCd5Ls3JOjtO50+JwEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAL1mmAwC99eKb026QdJHpHHC0GZLGjhs7ZrHpIECmeUwHAHpr3NgxF0u60XQOONYnosyRQzhCR9bjSB3r8b6kX4wbO2a56SCAXSh0uAKljgSUOXIShQ7XoNQhyhw5jM/Q4RprPlOfaDoHjKHMkdM4QofrvPjmtIslXW86B2w1TdL+lDlyGUfocJ1xY8fcIOkS0zlgm7ck7U2ZI9dxhA7X4kg9J7wl6aBxY8fUmw4CmEahw9UodVejzIEEFDpc78U3p50t6U7TOZBWlDnQCYWOnPDim9NOl3Sv6RxIC8ocWA8uikNOGDd2zH2SzjCdAyl7Xu1Xs1PmQCccoSOncKSe1Z6XdPi4sWOaTQcBnIhCR86h1LMSZQ50gUJ3uZnhOTHTGZxo5ep6Lanla8vZoLiwUAOqKmRZOfV2deKIwNCHTIdAduEzdOSk0pJi9e9bYToGupCjZQ70is90AMCUPsVFkqTFy+oMJ8H69CkuUr/KCtHlQPdQ6MhplLoz9Sku4gwK0EOcckfOozychT8PoHc4QgfUXiKWpMW1dYpxGaExlDnQexyhA2uUFBdpQN9KPrM1hDIHUkOhAwmKiwopdQP41gGQOgod6IRSt1dpSbH6VZabjgFkPQodWA9K3R6UOZA+FDqwAcVFhRpQVclQkwyhzIH0otCBjSguLNTAfn0p9TSjzIH0o9CBLhQV5FPqaVReWkKZAxlAoQPdQKmnR3lpH/UtLzMdA3AlCh3oJko9Ne1lXmo6BuBaFDrQAx2l7qHUe4QyBzKPQgd6qKggX/7+VfJ4KPXuoMwBe1DoQC8U5OfJ349S70pFGWUO2IVCB3qJUt+4yvJSVZZR5oBdKHQgBZT6+lWWl6qitI/pGEBOodCBFFHqyShzwAwKHUiDgvw8DerfT15Pbv8vRZkD5uT2uw+QRvl5Pvn7V+VsqfctL6PMAYNy850HyJBcLfWqinKVl5aYjgHktNx61wFskGulXlVRrrI+xaZjADkvN95xAJvlSqlT5oBzuPvdBjAoP8+nQQOq5PV6TUfJCMoccBYKHcigPJ9Pg/r3dV2p96ukzAGnodCBDHNbqffvW6HSEsoccBoKHbCBW0q9f98K9SkuMh0DwHpQ6IBNsr3UKXPA2Sh0wEZ5Pp8GD6hSni+7Sp0yB5yPQgds5vN65e+fHaVuiTIHsgWFDhiQDaVuWdKAqkrKHMgSFDpgiJNL3bKkAX0rVVxUaDoKgG6i0AGDnFjqlDmQnXymAwC5zuf1alD/KkWWLFNzS6vRLJZlaVD/viop6sVpdkvyWKkfI1iWJSvlW8tbsnq4kabmZkWj0VR3DBhDocN2ZaUlKioo6PHPWZalVN/pLUmWJ+W2kMey1mwthSyWkkpnyKCB+nTWV1rd0Jhiut7msfTTrTZXVWW5kf2b9uOSZWpsajYdA+g1Ch22y/P5VFCQbzqG4+Tl+TRqm62MlLrH49HIrbdQRVmprfsFkD58hg44SEepl9j4+TVlDrgDhQ44jJ2lTpkD7kGhAw7UUeqZvAkKZQ64C4UOOFRenk/bbbOlSjNwm1LKHHAfCh1wMJ/Xq+2Gp7fUvV6vRm2zJWUOuAyFDtvFYjHTEbJKOkvd6/Vqu+HDVNanJA3JXCb1L78DRlHosB193nPpKHXKfOOsFOcKAKZR6ECW6Cj18tI+Pf5ZyhxwPwodyCK+NcVcUdb9UqfMgdxAoQNZpv0K9e6Vep7Pp+232YoyB3IAhQ5koe6Uep7Pp1HbbKk+JdzPHMgFFDqQpTZW6h1lXlJMmQO5gkIHslhHqVeWr/1OOWUO5CYKHchyHaVeVVlOmQM5jNunAi7QcS/zxqZmFRX2/F7zALIfR+iAS1iWRZkDOYxCBwDABSh0AABcgEIHAMAFKHQAAFyAQgcAwAUodAAAXIBCBwDABSh0AABcgEIHAMAFKHQAAFyAQgcAwAUodAAAXIBCBwDABSh0AABcgEIHAMAFKHQYEDMdAABch0KH7aIxCh3O4/FYpiMAKfGZDgCkm2VZvX5zjqXhl43UN9H7DfC7EpC7KHS4jtdrqSCfv9q9ldovBan9RtGdfTc0tqS0D8CteNcDkMRK6cxzaqetU9s3kNv4DB0AABfgCB2u09YaVX1b16dlUz0atNKxkVT2n3J+w0fTHI0DaUWhw3ViUrc+jE3PBWRchQbAGTjlDgCAC1DoAAC4AIUOAIALUOgAALgAhQ4AgAtQ6AAAuACFDgCAC1DoAAC4AIUOAIALUOgAALgAhQ4AgAtQ6AAAuACFDgCAC1DoAAC4AIUOAIALUOgAALiAz3QAIB3yfF55PFbSuphivd9gCj8a//GUdp96gBS3kNruY+nMH1OqmwNyAYUOV/B6LXm9nHByo9bWqJqaW03HAByPd0AAAFyAI3TYLhZN//nTaCwmq5fbtayuX9PFFlL76ZT3j3Sw+INAlqPQYbtMfBza3NwmqS0DW3a+bP+FpKsiTfnz+DTlAJyOQgeyXOp9l9oGTO8fQDs+QwcAwAUodAAAXIBCBwDABSh0AABcgEIHAMAFKHQAAFyAQs8QfyC4qz8Q3Ml0DgBAbqDQM8AfCJ4raaqkD/2B4GR/ILit6UwAAHej0DNjbMLj/SV94g8E7/cHggNMBQIAuBuFnhmzOy17JZ0q6Wt/IHixPxAsMpAJAOBiFHpmTN/A+lJJ10ua5Q8Ej/IHggyPBgCkBYWeGZ0LfVmn5aGSHpU0zR8I7mZPJACAm1HomfG1pBUJy5MkHSHp206vGy0p5A8E/+MPBDe3KxwA2M0fCA72B4JHci1R5lDoGRAJh2JKPkrfKRIOPSlpG0kXSFre6UeOkPSlPxC82R8IVtgUEwBs4Q8E95Y0S9Jjav/2D9cRZQCFnjlJhS5JkXCoORIO3SppmKR7JLUmvCZf7WX/lT8QPMsfCHJrWwBZzx8InihpsqSyNas2ldTfXCL3otAzJ7HQK/2B4BYdC5FwaGkkHPq9pG0lPd/p5/pJulvSDH8geFDmYwJA+vkDQcsfCF4t6W+S8hKeejQSDv1gKJarUeiZ0/nCuHWmxkXCodmRcOhgtX9v/ZNOT28t6Xl/IPiGPxAclaGMAJB2/kAwX9IjkiZ2euo2ScfZnyg3UOiZ0/nCuA2OgY2EQ2+tef4kSQs6PT1W0sf+QPBBfyA4KO0pASCN1lwH9LqkoxNWRyWdFQmHJkTCoTYzydyPQs+Q9V0Y18Xro5Fw6O+SApKulFSf8LSl9rL/yh8I/skfCBanOy8ApMofCA6R9I6k3RNW10saHwmH/mwmVe6g0DOr24XeIRIOrY6EQ1eovdgfkhRLeLpE7WUf9geCx/sDQf78ADiCPxAcrvZ7WCTeuyIiafdIOPSCmVS5hULIrA1eGNeVSDg0PxIOnaj2XwSmdHp6E7WX/Qf+QHCPVEMCQCr8geAYSSG1X8HeYbakXSLh0EdmUuUeCj2zurwwriuRcOjjSDi0l6TxksKdnt5R0hR/IPjomotQAMBW/kDwQElvSqpKWP2e2o/MuZrdRhR6ZnX7wriuRMKh59R+KutsrTtK9ii139UNAGzjDwR/K+lZSYmDYl6WNDYSDi02kyp3UegZ1NML47qxvZZIOHS32gfT3CapZc1TUUlzU9m2rWKxrl8DwNH8geCpkh6WlDgE62FJB0fCofr1/xQyiULPvLQVeodIOFQXCYcmSBou6UJJ+0bCoY/TsW07RCl0OJDH4uaH3eUPBCdIul/JHXKrpBMi4VDL+n8KmcZ40cxb58K4SDjU+SYtvbJmOzenY1tAzqPPu8UfCF4p6U+dVl8WCYeuMZEHa1Hombe+C+PSUugAYBd/IGip/Sj8vE5PnRMJh+4yEAmdcMo989J2YRwAmLCmzO9VcplHJZ1MmTsHhZ5h6b4wDgDslFDmpyWsbpF0dCQc+puZVFgfCt0eFDqArLORMj88Eg7920wqbAiFbo9eT4wDABO6KPPnzKTCxlDo9kh5YhwA2IUyz04Uuj24MA5ANrldyWXeLMrc8Sh0GzjxwjhLrSps+cx0DAAO4w8Eb5B0TsKqRkkHUObOR6HbxzGF7o3WadNlx2qzZUeosGWGySgAHMQfCF4q6aKEVS2SfhMJh940FAk9QKHbxxEXxhW0ztbmS3+pkuapsmKNGlL3O/miS0xEAeAg/kDwAknXJqyKSjqSI/PsQaHbx/iFcaVNr2qzpb9SXtvaOxrmtS3QkNr/kxVj/DKQq/yB4MlKHiMdlXRcJBx62lAk9AKFbh+DF8bF1G/V3RpS+zt5YqvXebaoZbr8K/5oXxwAjuEPBH8l6YFOq0+PhEP/MpEHvUeh28TUhXGeWIM2qTtT/VfdstHXVTT8W33rH7IjEgCH8AeCe0p6TMldcG4kHOpc8MgCFLq9Egt9y0zvLFajoUOXHaqyxhe79fqBK65SSfPUDKcC4AT+QHAHSc9KKkhYfU0kHLrTUCSkiEK31zNq/2xKkj7M5I5iNaqW9EFhy8we/FSbNqk7PekzdgDu4w8Et5T0iqSyhNWTIuHQZYYiIQ0odBtFwqGpkn4m6deSjs3UfmI1OlXS65L69/RnvdE6bVp78no/aweQ/fyBYH9Jk5X8/vCUpNPNJEK6cD90m0XCoY8kfZSJbcdqlCfpDklnpLKdgtawBtedo3mVkyRZackGwDx/IFgk6b9K/sjvTbXfOa3NTCqkC0foLhGrUT9JryrFMu9Q2vSa+q+6NR2bAuAA/kDQI+mfkn6esPpTSb+KhEPNZlIhnSh0F4jVaDu1fya/Zzq322/V3SprfCGdmwRgzk2SDktYni9pXCQcWrGB1yPLUOhZLlajQyVNlTQ0E9sfvHyCClu+yMSmAdjEHwieKWlCwqoVai/z+YYiIQMo9CwVq5EVq9Hlar+YpSRT+2kfD3sK42GBLOUPBPeRdFfCqlZJv46EQ58aioQModCzUKxGfSQ9KekKO/aX17ZAm9SdxnhYIMv4A8GtJT2h5Pf6UyPh0CuGIiGDKPQsE6vRZmo/xX6onfstbv5A/hUT7dwlgBT4A8EKtQ+OqUhYfXMkHPqboUjIMAo9i8RqtKfaL34baWL/FQ2Pq7L+HyZ2DaAH/IGgV9K/JW2dsPoFSZeYSQQ7UOhZIlaj0yW9JqnKZA7/iitTHg8bi8XSlAZIH8tdMxdukfSLhOWZkn7Ld83djULPArEaeSUdI0cMAkp9PCx9DieyLHcUuj8QPFrSuQmrlkk6iK+nuR+FngWsarWp/TPzuaazSIyHBZzKHwiOlDQpYVWrpMMi4dB3hiLBRhR6lrCqtUjSIZIaTGeR1o6HlTjcBpxgzUVwz0gqTlh9QSQcmmImEexGoWcRq1ofSTrJdI4OjIcFnMEfCFpqH+s6LGH1o9wKNbdQ6FnGqtbjkq4znaMD42EBR7hU0kEJy59L+j9DWWAIhZ6dLpP0vOkQHRgPC5jjDwT3kHRVwqrlkg6NhENc5JJjKPQsZFUrKum3av8qinGMhwXM8AeC/SQ9quT38uMi4dDXhiLBIAo9S1nVWinpYEm1prNIjIcF7JbwufnghNW3RsKh5wxFgmEUehazqvWNpCMkOWJYBONhAVv9QdL+CcvTxCS4nEahZzmrWm9IOt90jg6MhwUyzx8IjpF0bcKqOklHR8IhTpHlMArdBaxq3SXpQdM5OqRjPCyA9fMHgn0kPaLkyZEnMTwGFLp7nKH2u7A5QOrjYQFs0O1K/r75vZFw6BlTYeAcFLpLWNVqFuNhAVfzB4LjJZ2SsGqWpAmG4sBhKHQXYTws4F7+QNAv6a8Jq1rUfge1RkOR4DAUusswHhZwrQcl9UtYviwSDn1sKgych0J3IcbDAu7iDwRPkHRgwqoaSTebSQOnotDdi/GwgAv4A8FNJN2RsGql2qfBRQ1FgkNR6C7VMR62ybeV6SiSGA8LpOABSeUJyxMi4dAcU2HgXBS6i1nVWjmv8kG1ecq7frENGA8L9Iw/EDxOyafaX1PyhXFAHIXucs3eoZpfcZ8kr+koktrHw/ZddpHpGIDjrbmq/faEVSslnRIJh/jaCNaLQs8Bq/N306Kyy0zHiCtd+S/l/Xif6RiA090hqW/C8iWRcIhpTdggCj1HLCs+UXVFvzEdIy5/3gR5V04xHQNwpL8/8uRISYn/w06RdK+ZNMgWFHoOiZRdq4a8nUzHaBdrU8G3R8lq+t50EsBRmpqa9dSzk49NXCXpVE61oysUeg6JWXmaV/mAWryDu36xDazWZSr85lBZ0VWmowCO8fDjz6i+obF/wqobIuFQ2FggZA0KPce0evppXsUkxaxC01EkSZ6GL1Tw3QliPCwgff/DPP3n6RcTV4UlXW8oDrIMhZ6DGvO21YJy5wyZ8tY9r/wFV5mOARh3570Pqa2tLXHVaZFwqMlUHmQXCj1HrSg8WEtKzjIdIy5v4XXy1T5lOgZymOWxjO5/yjvT9OmMWYmrHo6EQ2+ZyoPsQ6HnsMWlE7SqYB/TMeIKvj9FnvpPTcdAjjJZ501Nzbr/wUfjyz6ft1HSheYSIRtR6DnNo/kVd8kp42EVrVfhN4fJal1sOglgq8eefF4/LlkaXx6z8w7PRsKhRQYjIQtR6DkuapXISeNhrea5KvjmSCnWbDoKYIvIosV6/Km191HadMggXTzh9NcMRkKWotDhuPGw3lUhFfxwnukYgC0eeOhxNTevvb/Bmb87VsVFhW0b+RFgvSh0SHLeeFjfkr8qb/H9pmMAGTX7q2815Z1p8eVdR++o0TuNMpgI2YxCR5zjxsPOnSDvyrdNxwAy5t6/PhJ/7PF4dNpJRxtMg2xHoSOJs8bDtqrg2yMZDwtX+t/7H+nzL2bHlw/af6w2HTLIYCJkOwodSdaOh3XGGwvjYeFGbW1teuDvj8eXCwsLdPzRhxpMBDeg0LEOxsMCmfXy6zWaM3d+fPnIww5SZYUzvmmC7EWhY70a80ZqQflNpmPEMR4WbtHa2qp/PvZMfLlvZYV+/atxBhPBLSh0bNCKwvFaWnKG6RhxjIeFG0x+7e2kITLHH32oCgsLDCaCW1Do2KgfS/+gVQV7m44Rx3hYZLOm5mY9/NjT8eUB/ap0wL57GEwEN6HQ0YWO8bBbmg7SjvGwyGIvTH5TS5fVxZePOfIQ+Xw+g4ngJhQ6uhS1+jAeFkhRU3OzHnty7YjXwYMGcnSOtKLQ0S3N3s00v+JeOeWvDONhkW1eePlNLatNODr/zSHyep0xbhnu4Ix3Z2SF1flBxsMCvdDa2qonnn4pvjx40EDtu9duBhPBjSh09Miy4pNUV/Rr0zHiGA+LbPD6lHeTrmw/6vBfcnSOtKPQ0WORsuvUkLej6RjtGA8Lh4vFYnr0ibWfnVf1rdR+e+9uMBHcikJHjzEeFui+mnff17z5C+PLvzl0HFe2IyModPRKq6c/42GBbnj8qRfij8tK+2jc/nsZTAM3o9DRa4yHBTbu85mzNfurb+PLv/rlL1RU6IxfguE+FDpSwnhYYMOeevbl+OO8vDyNH7evwTRwOwodKWM8LLCuyKLFemfqB/HlfffaTRXlZQYTwe0odKQB42GBzp5+/hXFYmuv6Tj04P0NpkEuoNCRFoyHBdaqb2jUS69OiS/vtP222mKzTc0FQk6g0JE2jIcF2r359lTV1zfElw8bz9E5Ms8Z77xwDcbDIlt5POl7O3z2xdfijwcN7K9ddt4+bdsGNoRCR9oxHha57MvwN/rmux/iy788cB9ZlmUwEXIFhY6MYDwsctVzL70ef+zzebX/3tUG0yCXUOjICMbDIhetWl2vt2qmxZerfz5aFRV8VQ32oNCRMc4cD3uSGA+LTHljyrtqal77zYqDDnDOfAa4H4WOjHLeeNhnlb/gatMx4FIvv14TfzxksF+jth1uMA1yDYWOjHPeeNhr5at9xnQMuMycufOT5rbvt081F8PBVhQ6bOG88bAnydPwmekYcJFX33gn/tiyLP1iLPc8h70odNjEgeNhv2Y8LNIjFovp1TdD8eUdthuh/v36GkyEXEShwzYd42GjjhkP+4MKvjmK8bBI2fRPZmjpstr48n778FU12I9Ch62avZspUvWAnPJXz7vqHRXMPd90DGS5t2r+F39cVFio3Xf9mcE0yFXOeFdFTmko3F3Nm95sOkacb/Ek5S3+i+kYyFItLS1Jt0kN7rqzCgsLDCZCrqLQYUTLgLPUWnW86Rhx+XPPl3dlTdcvBDr58OPPtWp1fXx5z913MZgGuYxChzFNQ+9RtGSM6RjtOsbDNs8xnQRZZso778UfFxcXaecdRhpMg1xGocMcK1+Nw/6jWP4mppNIkqzWpSr8mvGw6L6Wlha9+970+PLuu+6svLw8g4mQyyh0GBXLG6jGYU9KniLTUSRJnoYZjIdFt3348edJ9z3fq3pXg2mQ6yh0GBct3lFNQ51zz3LGw6K73pn6Yfxxn5Ji7ThqW4NpkOsodDhCa98j1eK/wHSMOMbDoiuxWEzTPvw4vrzLz7aXz+c1mAi5jkKHYzQPvkpt5QeYjhHHeFhszMwvv1Jd3Yr48s932clgGoBCh5NYXjVt/rCihVubTtLOwHjY5uYWNTQ22bY/9N7U9z6KP/b5vBq943YG0wCSz3QAIFHMW6amLZ9W4azdZLXVmY4THw/bGHhJsvIzuq+PPv1CJ555sVavrtfmQ4do5IitNWrkcO046qcaMXwreT38/u0kiYU+auQIlZQUG0wDUOhwoGjBlmra4lEVfnWQpKjpOPHxsE0/uSej+3niv5O1es2Aku/mzNN3c+bpuclvSJKKigq18w4jNWbn7RUcs5NGDN+SW3MatHDRYs2ZOz++vNsuOxpMA7TjV344UlvZ3moecqPpGHF2jIfdY7fRG3yuoaFR70z9QDffNUnjjz5Nu+x9uCZMvF4vvTol/ksA7PPhR8nXVuyy8/aGkgBrcYQOx2oZeLY8DZ/Lt/Rh01EktY+HjRZuo7bSzNxJa/99qjX5yQc17YNP9OmML/X5F7P17Zy5isXW/U78sto6Pfvi63r2xdeVl+fTz0fvqP33qdZ+e++ustI+GcmHtT5IKPTBgwZqkH+AwTRAO87ZudzM8BzHTUjJz8uTf0BV914ca1LR7H3lWf1e16+1QcxXpYZt/qdY/lBb9le3fKU++mSG3pv+qd6f/plmzAqvt+A75OX5VP3z0Tr4gL217167KT+fqWXd1dDYpMVLa7t8XTQa1fijTo2fGRk/bl+dc/oJ6Y5z4ojA0IfSvVG4G0fosN3GCmkdVoEahz2holljZLUsyFyo7sZZMx62cfjbinkyfyRcUV6qsXvsqrF7tE8gq1u+QqFp0/XO1A/01jvvaVlt8oWDLS2teuPtqXrj7akqLyvVwQfurSPGH6ARw7fMeNZcMWv210kfczC7HU7BEbrLOfEI3ef1arC/f49+xlM/XUWzx0rRxgyl6pm2ivFqHPZvmfxfKBqNafonM/TalJBefSOkeQsiG3ztqG2H65jfjNe4X+zFUfsGNDY168cly7p83T8efVr/ePQpSZLH49Fzjz+g4uK0jy7mCB09xkVxyArR4p3UNNQ59yx3wnhYj8fSz3YcqUvPP11vvfCInvjH3Tr2yEPUt7Jindd+OuNL/eGyGxXc/0jdfu/ftaQbp5ZzTXd/Nfvks5nxxyOGb5mJMgd6hUJH1mA87IZZlqUdthuhyy/6vaa++m/df/tVGrvHrut8d31ZbZ3+POkR7XHg0Zp4ze36/of5G9gi1qelpUUzZ38dX95+5AiDaYBkFDqyCuNhu+bz+bTPnrvpgTuu0TuvPK6zTzteA/olX4TY1Nysx596QfsecrzOufhqff0t94Hvji+/+lYtLS3x5e22HW4wDZCMQkd2YTxsjwzoV6WzTz1ONZMf1R03TNSoTgUUi8X04itTdMDhJ+uci6/WN9//YChpdvj0s1nxxx6PRz/dZiuDaYBkFDqyTsd42Jh33c+KTegYD6tYs+koG+Tz+XTQfnvpqX/+WY89eIf22n1M0vMdxX7gYSfr0qtu1Y+LlxpK6myfz5wdf7z1VluoqLDQYBogGYWOrNQxHtYpf4U7xsNmg5/tOFKT7rpWk598UOP22zNphGxbNKr/PPOS9jroGN1y94NMoUsQjUaTCn3kiIDBNMC6nPFuCPRCLo6HTaethm2mO2+4TJOffFD775M8/a6puVn3/+1R7T3+OD313CuKRh337Ufbff/DPDUm3Alv5E/5/BzOQqEjq7UMPFutVceZjhGXP/d8eVfWmI7RI1tuMVT33Hy5nvnXvdp19A5Jzy1ZWquLLr9Jhx17pj77YvYGtrBWLBZTNJrqP1G1trWl/E9LS6uae/BPS1vbRv/dZs3+Jml5m62H9fw/NpBBTIqD7dqiUS2tXd7jn4vFYlrfkDmrz7Xyr/pCBU3T05AuRbFW5X39ay0a+LJafZtu/KWKKZaGI99YLKaUtxKLqby8XNf+6QJ9+PHnuu+vj+i7OfPiT38+c7YOO/ZMHXzgPjrluF/n5K0mS2shAAAPN0lEQVRCvwyvLfQB/arW+31/wCQKHbaLxWJaXd+Q1m3+UP4Xbb70IPnaNjwtzS7eaK38i4/X91VPK2qVmI7TYzvvMFIP3HWdXnzlLT34zye0cuUqSe1/bs+++Jpq3n1fZ592vPYI7mI4qb0Sj9A5OocTccodrtDq6a+5FZMUswpMR5EkFbR+qcHLz5NSP3Y2wuv16uAD99Ejk27TwQfuk3ThXG3dcl15w13607W3rzNL3q0aG5v03Zy58eXhAQodzkOhwzUa87bTgvKbTceIK218Rf1W3Wk6RkpK+5To3DNO1J9vvVJbDdss6bnQ/z7UiWdcpNfeCpkJZ6Ovvv0+6aZCwzlChwNR6HCVFYXjtbTkdNMx4vqvul2ljS+bjpGy4YFhuu/2q3XGKceoID8/vn7lylW6/tb7dOUNd2nFmlPzbvRNp0l6Ww3b3FASYMModLjOj6V/0KqCsaZjxA1efp4KWmd1/UKH83g8OvyQA/TXP9+g7Uduk/Tc26H3dPKZF+uDj5w1Bjddvvlu7QS9Qf4BKi5ioAych0KHC3k1v+JuNfuccVrUE6vXprUnyxvt+tac2WCTQQN163V/1NmnnZB0tL50Wa0u+tONeuDvj6m1deNfAcs2iYU+bLOfGEwCbBiFDleKWn00t/JBtXnKTEeRJOW1zdeQutNlqdV0lLSwLEuHHLSvJt19nbbeaouk5x5/6gWdc9FVWrjImfPteyoajSZdEDdsCwodzkShw7WavZtrfsW9cspf8+LmaRq44nLTMdJqyCaDdM8tV+jYI3+VdCX8rNlf69SzL9X/3v/IYLr0mL9gkZqa1s7pH7b5UINpgA1zxjsdkCGr83fXotI/mo4RV1n/iCrrHzEdI628Xq9OPOZw3Xb9H1XVtzK+ftXqev3xqlv1t38+oWg0ajBhahKPziVpi802PjAIMIVCh+stKzlFy4uOMB0jbuCKy1XcPM10jLQbte02+us912uXnbdPWv/Iv/+rCy+7IWuvgv9h7oL44/z8PA3yDzCYBtgwCh05YWHZdWrI26HrF9rAUquG1J2uvLZ5Xb84y5SXleq6yy/QSccckXQK/qNPv9Dp505MGiebLeYuWBh/PGTwoKR/L8BJKHTkhJiVr3mVk9Tq9ZuOIknyRpdp09pT5Im57/aklmXpmCMP0U1XXaTystL4+oWLFuusCZfr3WkOmLnfA4lH6JsOGWQwCbBxFDpyhvPGw87K6vGwXdlph5H6y53XJk2Ya2hs1GXX3KbHn3rBXLAemrdg7f0BfjJksMEkwMZR6MgpzhsP+3LWj4fdmAH9q3TXTZdrr93HJK1/4O+P6bZ7HlRbF7csNa22brlWr157FmXIYGec4QHWh0JHzmE8rL0KCvI18cKzdNKxyRcmvvDym7rkipuTCtNp5s1PvnvfTzblCB3ORaEjJ7WPh93LdIw4t4yH3RDLsnTMbw7Rny76vfLz8+LrP/z4c513yTWqrVtuMN2GRX5MHo4zmCvc4WAUOnJUx3jYLbp+qQ3cNh52Q/bcfYxuuebSpIvlvv52js664ArNX7jIYLL1W7RoSfxxYWGBSkv7GEwDbByFjpwVtUo1t4LxsHbbdkRA9952lQYPGhhftzDyo86acLnCX39nMNm6Eo/Q/QP6G0wCdI1CR05r9m2h+eX3yCn/K7hxPOz6DPIP0D23XKHAlmtvQ7p8xUqdf+m1mjEzbDBZskjCPHr/QAodzuaMdzHAoNUFe2hR6aWmY8S5cTzs+lSUl+m26ydqpx1GxtfV1zfoDxOv1/RPZhhMtlbkx7Wn3P0D+xlMAnSNQgckLSv5nZYXHWY6Rpxbx8N2VlxUqOsvv0B77DY6vq6puVmXXHGTpr5n/sYuPy5eGn88sD+FDmej0IE1FpbdwHhYA3w+ny676Pfab+/d4+taW9t0xfV3GC31FStXqbV17fUM/ar6GssCdAeFDqzRPh72AbV6Bnb9Yhu4eTxsZx6PRxeee6oOOWjf+DrTpV5bm/xVur6V5UZyAN1FoQMJWj0DNK+S8bAmWJals087QUcd/sv4uo5Sr3n3fdvzLFlWm7Tct2+F7RmAnqDQgU4a8kZpYdlNpmPEuX08bGe/O+HIdUr9mpvvsf1Iva5uRdJy30oKHc5GoQPrsbzoEC0tOc10jDi3j4ftbH2lfsX1d2j6x5/blmHJ0rVDfvLy8lTap8S2fQO9QaEDG/Bj6YWMhzVofaU+8erb9MlnM23Zf+3ytUfolRXOGD4EbAyFDmwQ42FNO+X43+iXB+wdX25qbtbEa27T7K++zfi+V61aHX+cOKoWcCoKHdgIxsOaZVmWzj3jRI3bb+2Zkvr6Bl18+U2aO29hRve9MqHQOd2ObEChA11gPKxZlmXpvDNPSrqn+vIVK3XBxOu0eEnmzlZQ6Mg2zniHAhyO8bBmeTweXTLhdP1sx+3i6xYvWaYLL7shqXjTacWKVfHH3GUN2YBCB7qJ8bBm+Xw+XfXH8zRi+JbxdXPmztfEq25Vc3NL2ve3iiN0ZBkKHegBxsOaVVCQrxuuvEhDf7JJfN3nM2frulvvVTQaTeu+Vjc0xB/3odCRBSh0oAcYD2ten5Ji3XjlRarqWxlfV/Pu+7rvwX+ldT+rV6/9b1pYkJ/WbQOZQKEDPcR4WPMG9K/SDVdeqOLiovi6p559Wc+99Hpatt/SknwKv6ioaAOvBJyDQgd6gfGw5g3b/Ce66o/nyefzxtfded9Den/6pylvu6nTZ/IcoSMbUOhALzlzPOwrpmPYasdRP9X5Z50cX47FYrrqxrv13ZzUriuor29IWs7Pp9DhfBQ6kALnjYc9VwWtX5qOYav999lDRx1xcHy5vr5Bl155s5avWNnrbTZ3OuWeeGofcCoKHUiJU8fD1nb9Yhc55bhfa4/dRseXF/24RFdcd6daW9t6tb3Gxqak5YL8vJTyAXag0IEUOW887DwNqTstZ8bDSu3T5C4+/3RtNWyz+LpPZ8zS3X/5R1q2n5dHocP5KHQgDZw5HvZK0zFsVVCQr6svO1+VFeXxdc9PfkMvvPxmj7fV+Sp3IBs4490HcAHnjYd9WJX16f1uttMN6FelqyeeJ5/PF1931/0PaeaXX/doO52vcgeyAYUOpJHzxsP+ScXN75mOYasRw7fS+WedFF9ubW3T5dfdoWW1db3eZmGhM2YOABtDoQNp5szxsPNNR7HV/vvsofHj9o0vL11Wq6tuvLvXF8n5vN6uXwQYRqEDaea88bBLNaT25JwaDytJZ/7umKQbuXw240s98NBjBhMBmUWhAxngtPGwha2zNGj5BOXSeFifz6crLz036SK5J/87WaH/fWgwFZA5FDqQIU4bD1vW+JL6rbrLdAxbVfWt1BWXnCOPZ+1b3Y13/EULFi4ymArIDAodyCDnjYe9LefGw4786dY6+dgj4surV9fryhvuysg91AGTKHQgwxgPa96Rh/9Su45ee6HiV99836PbrdY3NGYiFpBWFDqQcYyHNc2yLF183mkaOKBffN2zL77W7c/To9FopqIBaWOZDgDkiliNtpb0nqTyrl5rkymSfmFVK2fOPfsDwTGS3pHUMXmmVtKoSDg0t9PrdpQ0PWHVDpFw6BN7UgK9wxE6YBOrWrMlHSnJKYd7e0q6w3QIO0XCoWmSJiasqpT0mD8Q7PxF885/RiUZDQakAYUO2Miq1suSLjKdI8EZsRqdajqEzW6S9FrC8m5KLnlJWt5pmbuzwPEodMBmVrVukfRP0zkS3B2rUbXpEHaJhEMxScdKSvzu2mX+QHDXhOXOX9jvk/FgQIoodMCM/5P0vukQa+RJejJWo6Gmg9glEg4tknRiwiqvpEf8gWBHcXc+QvcJcDgKHTDAqlajpEMkLTSdZY3+kp6N1eTOZ8WRcGiypHsSVm0hqWPyTnOnl5faEgpIAYUOGGJVa6HaS73JdJY1Rkl6KFaTU99++YOkmQnLJ/oDwUMi4dBqJZ92L7M3FtBzFDpgkFWt9yWdYjpHgsMlXWY6hF0i4VCjpKOVfEQ+yR8I9pe0ImEdR+hwPAodMMyq1iOSbjGdI8GVsRodYjqEXSLh0KdK/iWmn6S/KPlzdAodjkehA85wsaTJpkMkeCRWo5GmQ9joVklTE5Z/JWnThGUKHY5HoQMOYFWrTe2nfmebzrJGiaTnYjWqMh3EDpFwqE3SCZISbxqfeC1Bpa2BgF6g0AGHsKpVJ2m81v3KlCmbqf3rbDkxVCUSDn0l6cINPN3XzixAb1DogIMwHta4eyW9uZ71OXGmAtmNQgcchvGw5qyZIneKpNWdnuIIHY5HoQMO5NDxsLuZDmGHSDj0ndb9hYojdDgehQ44l5PGw/5PUth0CBvdKymUsMxV7nA8Ch1wKAeNh/2LpH2tai02nMM2a069nyjF/50fNxgH6JZcGvEIZKVYjUZLqpFUYPOuWySdbVXrfpv36xj+QLBU7d9Hn7Wm5AHHotCBLBCr0TGy9zP1JZIOt6r1to37BJACTrkDWcDm8bCfSfoZZQ5kFwodyB52jId9StLPrWp9n+H9AEgzCh3IEjaMh71c0hFW9TrfwQaQBfgMHcgysRptLek9SeVp2uRqScdY1fpvmrYHwACO0IEsk+bxsN9L2pUyB7IfhQ5koTSNh50iaWerWp+nngiAaRQ6kKVSHA/7Z7UPi1maxkgADOIzdCCLxWpUKOltSaO7+SMtks60qjUpc6kAmEChA1kuVqNBkqZLGtTFS39U+7CYdzKfCoDdOOUOZDmrWgvVPvO9aSMv+1jSaMoccC8KHXABq1rvq/0+3uvzb0lBq1pzbIwEwGYUOuAS6xkPG5M0UdJRVrXqzaQCAAA9FquRN1ajl2I1Whmr0cGm8wAAgF6K1agiVqMRpnMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAs8f8sztlkYgdZnAAAAABJRU5ErkJggg=="})))}},uPGt:function(e,t,n){"use strict";n.r(t),n.d(t,"makeNameLabelVisible",function(){return o}),n.d(t,"isOnlyOneChar",function(){return s}),n.d(t,"requestRenderAndScroll",function(){return c}),n.d(t,"horizontalScrollToZone",function(){return l});var r=n("o0o1"),f=n.n(r),a=n("yXPU"),g=n.n(a),i=n("EVdn"),E=n.n(i),O=n("FJEn");function o(e,t){if(t){var n=E()(t).parents(".tb-scrollable-content")[0],r=t.getBoundingClientRect(),a=0;if(n)var i=n.getBoundingClientRect(),a=r.right-i.right;else{var o=e.getScrollContainer().getBoundingClientRect();if(!o)return;a=r.right-o.right}0<a&&e.getObserver().withoutRecordingMutations(function(){E()(t).css("left","-".concat(a,"px"))})}}function s(e){var t=e.selStart,n=e.selEnd;return t[0]===n[0]&&n[1]-t[1]==1}var c=function(){var t=g()(f.a.mark(function e(t){var a,n,i,r,o,s,c,l,u,d,h;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.editor,n=t.animate,i=void 0===n||n,r=t.targetSelection,o=void 0===r?null:r,s=t.autoScroll,c=void 0===s||s,l=t.complete,u=t.offset,d=void 0===u?0:u,o&&(h=o),h)return e.next=5,a.scrollToSelection(h,{scrollFn:function(){var t=g()(f.a.mark(function e(t){var n,r;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=a.getScrollContainer())){e.next=8;break}if(c)return r=i?80:0,e.abrupt("return",new Promise(function(e){E()(n).animate({scrollTop:Math.max(t-d,0)},r,function(){e(),l()})}));e.next=7;break;case 7:l(t);case 8:case"end":return e.stop()}},e)}));function e(e){return t.apply(this,arguments)}return e}()});e.next=5;break;case 5:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}();function w(e,t){var n=t.selZone,r=t.selStart,a=t.selEnd,i=e.getRep(n).lines.atIndex(r[0]);if(!i)return null;var o=i.getCharRect(r[1]),s=o.top,c=o.height,l=o.left,u=i.getCharRect(a[1],!0),d=u.top,h=u.left;return s+c<d?{left:0,width:i.lineNode.offsetWidth}:{left:l,width:h-l}}function L(e,t){var n=t.selZone,r=t.selStart,a=t.selEnd,i=e.getRep(n),o=i.lines.atIndex(r[0]),s=i.lines.atIndex(a[0]);if(!o||!s)return null;var c=r[0];if(c===a[0])return w(e,{selZone:n,selStart:r,selEnd:a});var l=w(e,{selZone:n,selStart:r,selEnd:[c,o.width]});if(l){var u=l.left,d=l.width,h=w(e,{selZone:n,selStart:[a[0],0],selEnd:a});if(h){for(var f=h.left,g=h.width,m=u<f?u:f,p=g<d?d:g,v=a[0]-c,b=0;b<v;b++){var y,k,C=c+b,S=i.lines.atIndex(C);S&&0<S.width-S.lineMarker&&((y=0)<m&&(m=y),p<(k=S.lineNode.offsetWidth)&&(p=k))}return{left:m,width:p}}}}function l(e,t){var n=t.selZone,r=void 0===n?O.DEFAULT_REP_ZONE:n,a=t.selStart,i=e.getInnerContainer().querySelector("[data-ace-inner-zone-content-wrapper-zone-id=".concat(r,"]"));if(i){var o=L(e,t);if(o){for(var s=o.left,c=o.width,l=e.dom.getEntryForNode(i),u=0,d=E()(i).closest(".ace-table-cell")[0].previousSibling;d&&"TD"===d.tagName;)u+=d.offsetWidth,d=d.previousSibling;var h=e.getRep(r).lines.atIndex(a[0]);if(h){var f=u+h.getLineRect().left+h.getCharRect(a[1]).left,g=u+s;if(l){var m=l.domInfo.node.lineManager;if(m){var p=m.getScrollable(),v=0;p.style.marginLeft&&(g+=v=-parseInt(p.style.marginLeft,10));var b=p.clientWidth,y=p.scrollLeft,k=y+b;if(c<b){var C=g+c;if(g<y)return C<u+b?void(p.scrollLeft=u):void(p.scrollLeft=g);if(k<C){if(C<u+b){var S=i.offsetWidth;return void(p.scrollLeft=v+u+S-b)}p.scrollLeft=C-b}}else(k<g||g+c<y)&&(p.scrollLeft=f)}}}}}}},uk6g:function(e,t,n){"use strict";n.d(t,"b",function(){return f}),n.d(t,"a",function(){return g});var r=n("3Hq1"),a=n("2ACu"),i=n("snzu"),o="feature_version",s="V2",c="is_owner",l="owner_id",u="create_time",d="create_date",h="from_create_date";function f(e){var t=(new Date).getTime();return Math.floor(t/1e3)-e}var g=function(e){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};[c,l,u,d,h].forEach(function(e){var t;n[e]||(t=i.a[e]&&i.a[e](),Object(r.default)(t)||(n[e]=t))}),n[o]||(n[o]=s),Object(a.default)(e,n)}},vrQc:function(e,z,ee){"use strict";(function(p){var e=ee("o0o1"),v=ee.n(e),t=ee("yXPU"),r=ee.n(t),n=ee("lwsE"),a=ee.n(n),i=ee("W8MJ"),o=ee.n(i),s=ee("a1gu"),c=ee.n(s),l=ee("Nsbk"),u=ee.n(l),d=ee("7W2i"),h=ee.n(d),f=ee("1myf"),g=ee("q1tI"),m=ee.n(g),b=ee("jhSQ"),y=ee("SDQK"),k=ee("fIA3"),C=ee("px+E"),S=ee("lQZd"),E=ee("OX8E"),O=ee("hHA3"),w=ee("UlbS"),L=ee("6s36"),H=ee("F4ZU"),I=ee("sLU5"),T=ee("kGVy"),x=ee("MsAb"),B=ee("6jTl"),N=ee("n/R6"),j=ee("TSYQ"),D=ee.n(j),P=ee("uk6g"),R=ee("lOzp"),Z=ee("jHQo"),F=ee("YweF"),J=ee("pfmj"),M=ee("shdu"),W=ee("6qYW"),V=ee("U6jp"),_=ee("gfe6"),K=ee("hCK2"),Y=ee("SGN9"),q=ee("G8Hj"),U=(ee("0c85"),"history-init-loading"),X={SUCCESS:"SUCCESS",PARTIAL_SUCCESS:"PARTIAL_SUCCESS",FAIL:"FAIL"},Q=!1,Container=function(e){function Container(e){var m;return a()(this,Container),(m=c()(this,u()(Container).call(this,e))).leftContentContainerRef=null,m.isAnnouncement=Object(V.o)(),m.state={isShowNewHistory:!1,isShowOldHistory:!1,currentVersion:-1,currentVersionMessage:null,isLastVersion:!1,revertButtonDisabled:!0,highLightChangeIndex:-1,diffCount:-1,isShowDiff:!0,lock:!1,isRenderFailed:!1,isHistoryNone:!1,isShowOfflineView:!1},m.showLoading=function(){Object(R.b)(m.leftContentContainerRef,U)},m.hideLoading=function(){Object(R.a)(U)},m.onToggleHistory=function(){var n=r()(v.a.mark(function e(t,n){var r;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if($(".note-title__history").hasClass("g-cp")){e.next=2;break}return e.abrupt("return");case 2:if(m.state.isShowNewHistory)return m.hideNewHistory(),e.abrupt("return");e.next=5;break;case 5:if(m.state.isShowOldHistory)return m.hideOldHistory({event:t}),e.abrupt("return");e.next=8;break;case 8:return e.next=10,m.getNewHistoryEnabled();case 10:if(r=e.sent)return m.showNewHistory({source:n}),e.abrupt("return");e.next=14;break;case 14:if(r){e.next=17;break}return m.showOldHistory({event:t,source:n}),e.abrupt("return");case 17:case"end":return e.stop()}},e)}));return function(e,t){return n.apply(this,arguments)}}(),m.onOldHistoryIsHidden=function(){console.info("[new history] onOldHistoryIsHidden"),m.setState({isShowOldHistory:!1})},m.onShowMoreHistory=function(e,t){m.hideNewHistory(),m.showOldHistory({lastRecordTime:e,event:t,source:"newHistoryMoreRecords"})},m.onQuitNewHistory=function(e){Object(P.a)("history",{action:"close",source:"btn or keyboard"}),m.hideNewHistory(),Object(Y.f)(q.STEP_TYPES.doc_history_v2_guide,q.STEP_TYPES.doc_history_v2_redo_edit)},m.onEscEvent=function(e){27===e.keyCode&&m.state.isShowNewHistory&&m.onQuitNewHistory(e)},m.onVersionItemClick=function(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1];m.setState({currentVersionMessage:e,currentVersion:e.version,highLightChangeIndex:-1,diffCount:-1,isLastVersion:t,revertButtonDisabled:t,isRenderFailed:!1,isHistoryNone:!1,isShowOfflineView:!1})},m.onPlayPrev=function(e){var t;m.state.diffCount<=0||(Object(Y.f)(q.STEP_TYPES.doc_history_v2_redo_edit),(t=m.state.highLightChangeIndex-1)<0&&(t=m.state.diffCount-1),m.setState({highLightChangeIndex:t}),Object(P.a)("history",{action:"click_previous",source:"btn"}))},m.onPlayNext=function(e){var t;m.state.diffCount<=0||(Object(Y.f)(q.STEP_TYPES.doc_history_v2_redo_edit),(t=m.state.highLightChangeIndex+1)>=m.state.diffCount&&(t=0),m.setState({highLightChangeIndex:t}),Object(P.a)("history",{action:"click_next",source:"btn"}))},m.onShowDiffChange=function(e,t){m.setState({isShowDiff:!m.state.isShowDiff,highLightChangeIndex:-1}),Object(P.a)("history",{action:"view_change"})},m.onDiffCountChange=function(e){m.setState({diffCount:e})},m.getLocalHistoryRecords=r()(v.a.mark(function e(){var t;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],e.prev=1,e.next=4,Object(L.a)(H.a,Object(S.g)());case 4:t=e.sent,e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),console.log("history get local record error",e.t0);case 10:return e.abrupt("return",m.formatHistoryRecordsFromLocal(t));case 11:case"end":return e.stop()}},e,null,[[1,7]])})),m.onCreateLocalRecordCopy=function(){var n=r()(v.a.mark(function e(t,n){var r,a,i,o,s,c;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.id,a=m.props.editor.getAuthor(),i=Object(S.g)(),o=m.props.editor.hooks,m.setState({lock:!0}),m.showCreateCopyLoading(),e.next=8,T.a.fetchRevertHistory({historyId:r,userId:a,token:i,hooks:o});case 8:return s=e.sent,c=s.clientVars,e.next=12,T.a.revert(n,c);case 12:m.setState({lock:!1}),m.hideCreateCopyLoading();case 14:case"end":return e.stop()}},e)}));return function(e,t){return n.apply(this,arguments)}}(),m.onCreateCopy=function(e){var t,n=m.state.currentVersionMessage;n&&n.isLocalRecord&&(t=e.target||document.body,m.onCreateLocalRecordCopy(n,t),Object(P.a)("history",{action:"make_copy_cofirm",source:"btn"}))},m.onRevert=function(){var t=r()(v.a.mark(function e(t){var n,r,a,i,o,s,c,l,u,d,h,f,g;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(m.checkNetwork()){e.next=2;break}return e.abrupt("return");case 2:if(n=m.state.currentVersionMessage,m.state.revertButtonDisabled)return e.abrupt("return");e.next=6;break;case 6:if(console.info("[new history] onRevert"),n){e.next=9;break}return e.abrupt("return");case 9:if(n.isLocalRecord)return e.abrupt("return");e.next=11;break;case 11:return Object(Y.f)(q.STEP_TYPES.doc_history_v2_guide,q.STEP_TYPES.doc_history_v2_redo_edit),n.minor_history&&n.minor_history[0]&&(n=n.minor_history[0]),Object(P.a)("history",{action:"restore_popup",source:"restore_btn"}),r=1e3*n.edit_time,a=Object(y.a)(r),e.next=18,m.showRevertComfirmModal(a);case 18:if(e.sent){e.next=20;break}return e.abrupt("return");case 20:if(m.checkNetwork()){e.next=22;break}return e.abrupt("return");case 22:return Object(P.a)("history",{action:"restore",source:"restore_confirm_btn"}),i=n.content,o=n.version,s={doc_token:Object(S.g)(),content:JSON.stringify(i),minor_version:o},c=(new Date).getTime(),m.setState({lock:!0}),m.showRevertLoading(),e.next=30,C.a.revertHistoryAndGetStatus(s).catch(function(e){return e});case 30:l=e.sent,m.setState({lock:!1}),u=(new Date).getTime(),d=parseInt(((u-c)/1e3).toFixed(0),10),m.hideRevertLoading(),(h=m.getRevertResult(l.data))===X.SUCCESS?(N.a.success({content:p("history.restore_success.message",a)}),m.hideNewHistory(),Object(P.a)("history",{action:"restore_success",restore_status:"none",restore_duration:d})):h===X.PARTIAL_SUCCESS?(console.info("[new history] Revert partial success"),N.a.error({content:p("history.restore_partial_success.message"),keepAlive:!0,closable:!0}),Object(P.a)("history",{action:"restore_partial_success",restore_status:l.isTimeout?"overtime":"none",restore_duration:d})):(f={204:p("history.other_user_restoring"),fail:p("history.operate_error")},console.info("[new history] Revert failed"),g=f[l.code]||f.fail,N.a.error({content:g}),Object(P.a)("history",{action:"restore_failed",restore_status:l.isTimeout?"overtime":"none",restore_duration:d}));case 37:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}(),m.onHistoryHelp=function(e){Object(P.a)("history",{action:"click_help_histroy",source:"help_history_btn"});var t={LARK:p("history.helpurl.lark"),FEISHU:p("history.helpurl.feishu")},n="feishu"!==window.globalConfig.common.product?t.LARK:t.FEISHU;window.open(n)},m.onRenderHistoryListFail=function(e){m.reloadList=e||null,m.renderHistoryFailView()},m.renderHistoryFailView=function(){m.setState({isRenderFailed:!0}),m.hideLoading()},m.renderHistoryNoneView=function(){m.setState({isHistoryNone:!0}),m.hideLoading()},m.renderOfflineView=function(){m.setState({isShowOfflineView:!0}),m.hideLoading()},m.onReload=function(){m.reloadList?(m.showLoading(),m.reloadList(),m.reloadList=null):m.setState({isRenderFailed:!1})},m.bindEvent(),m}function t(){return n.apply(this,arguments)}var n;return h()(Container,e),o()(Container,[{key:"componentWillUnmount",value:function(){this.unBindEvent()}},{key:"componentDidUpdate",value:function(e,t){var n=this.getIsShowControlContainer(),r=this.getIsShowControlContainer(t),a=this.props.userGuide;this.state.currentVersion!==t.currentVersion&&(Object(Y.n)(a,q.STEP_TYPES.doc_history_v2_guide)?r&&Object(Y.f)(q.STEP_TYPES.doc_history_v2_redo_edit):Object(Y.f)(q.STEP_TYPES.doc_history_v2_guide)),!Object(Y.n)(a,q.STEP_TYPES.doc_history_v2_guide)||Object(Y.n)(a,q.STEP_TYPES.doc_history_v2_redo_edit)||!n||r||Q||(Q=!0,Object(Y.r)(q.STEP_TYPES.doc_history_v2_redo_edit))}},{key:"getIsShowControlContainer",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.state;return e.isShowDiff&&0<e.diffCount}},{key:"bindEvent",value:function(){this.handleEventBinding("on")}},{key:"unBindEvent",value:function(){this.handleEventBinding("off")}},{key:"handleEventBinding",value:function(e){E.a[e]("oldHistoryIsHidden",this.onOldHistoryIsHidden),E.a[e](I.a.PC.DOCS.HISTORY.TOGGLE,this.onToggleHistory),"on"===e?document.addEventListener("keydown",this.onEscEvent):document.removeEventListener("keydown",this.onEscEvent)}},{key:"showNewHistory",value:function(e){var t=e.source;console.info("[new history] showNewHistory"),Object(P.a)("history",{action:"open",source:t||"btn"}),this.setState({isShowNewHistory:!0}),this.checkNetwork(!1)?this.showLoading():this.renderOfflineView(),$(document.body).addClass("showing-history")}},{key:"hideNewHistory",value:function(){console.info("[new history] hideNewHistory"),this.resetState(),$(document.body).removeClass("showing-history")}},{key:"resetState",value:function(){this.setState({isShowNewHistory:!1,isShowOldHistory:!1,currentVersionMessage:null,isLastVersion:!1,revertButtonDisabled:!0,highLightChangeIndex:-1,diffCount:-1,isShowDiff:!0,lock:!1,isRenderFailed:!1,isHistoryNone:!1,isShowOfflineView:!1})}},{key:"showOldHistory",value:function(e){var t=e.lastRecordTime,n=void 0===t?0:t,r=e.event,a=e.source;console.info("[new history] showOldHistory"),this.setState({isShowOldHistory:!0}),E.a.emit("showOldHistory",{timestamp:n,event:r,source:a})}},{key:"hideOldHistory",value:function(e){var t=e.event;console.info("[new history] hideOldHistory"),this.setState({isShowOldHistory:!1}),E.a.emit("hideOldHistory",{event:t})}},{key:"getNewHistoryEnabled",value:(n=r()(v.a.mark(function e(){var t;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.a.checkNewHistoryEnabled({doc_token:Object(S.g)()});case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}},e)})),t)},{key:"formatHistoryRecordsFromLocal",value:function(e){var s=function(e){return Math.ceil(e/1e3)};return Object(f.a)(e,function(e){return-e.startTime}).map(function(e){var t=e.type,n=e.memberId,r=e.startTime,a=e.extra,i="".concat(t,"-").concat(n,"-").concat(r),o=a?a.updateTime:r;return Object.assign({isLocalRecord:!0,id:i,create_time:s(r),update_time:s(o),edit_time:s(o),user_id:[n+""]},e)})}},{key:"getRevertResult",value:function(e){var t=e.status,n=e.block_status,r=X.FAIL;return t===x.b.SUCCESSES?r=X.SUCCESS:n&&Object.keys(n).some(function(e){return n[e].status===x.b.SUCCESSES})&&(r=X.PARTIAL_SUCCESS),r}},{key:"showRevertComfirmModal",value:function(n){return new Promise(function(e,t){B.a.show({title:p("history.restore_history.title"),body:p("history.restore_confirm.message",n),confirmText:p("history.new.restore"),cancelText:p("history.cancel"),maskClosable:!1,onConfirm:function(){return e(!0)},onCancel:function(){return e(!1)}})})}},{key:"showRevertLoading",value:function(){N.a.show({key:"history-revert",type:"loading",content:p("history.restoring"),duration:0})}},{key:"hideRevertLoading",value:function(){N.a.remove("history-revert")}},{key:"showCreateCopyLoading",value:function(){N.a.show({key:"history-create-copy",type:"loading",content:p("history.please_wait"),duration:0})}},{key:"hideCreateCopyLoading",value:function(){N.a.remove("history-create-copy")}},{key:"checkNetwork",value:function(){var e=!(0<arguments.length&&void 0!==arguments[0])||arguments[0];return!!Object(_.c)()||(e&&N.a.error({content:p("common.network_error")}),!1)}},{key:"renderHistoryEditor",value:function(){var e=this.state,t=e.isShowOfflineView,n=e.isHistoryNone,r=e.isRenderFailed,a=e.currentVersionMessage,i=e.highLightChangeIndex,o=e.isShowDiff;return t?this.getOfflineView():n?this.getNoneView():r?this.getFailedView():a?m.a.createElement(k.a,{currentVersionMessage:a,highLightChangeIndex:i,isShowDiff:o,onDiffCountChange:this.onDiffCountChange,renderHistoryFailView:this.renderHistoryFailView,showLoading:this.showLoading,hideLoading:this.hideLoading}):null}},{key:"getFailedView",value:function(){return m.a.createElement("div",{className:"render-failed"},m.a.createElement("div",{className:"fail-img"},m.a.createElement(Z.a,null)),m.a.createElement("div",{className:"fail-text"},p("feed.load_failed")),m.a.createElement("div",{className:"fail-btn"},m.a.createElement(w.Button,{type:"primary",onClick:this.onReload},m.a.createElement("span",null,p("history.reload")))))}},{key:"getNoneView",value:function(){return m.a.createElement("div",{className:"render-failed"},m.a.createElement("div",{className:"fail-img"},m.a.createElement(M.a,null)),m.a.createElement("div",{className:"fail-text"},p("nav.tips.no_history_record")))}},{key:"getOfflineView",value:function(){return m.a.createElement("div",{className:"render-failed"},m.a.createElement("div",{className:"fail-img"},m.a.createElement(W.a,null)),m.a.createElement("div",{className:"fail-text"},p("common.network_error")))}},{key:"getChangeCountText",value:function(){var e=this.state,t=e.diffCount,n=e.highLightChangeIndex+1,r=1<t,a=0<n,i="".concat(n,"/").concat(t),o="";return r||a?r&&!a?o=p("history.change_count_plural",t):!r&&a?o=p("history.change_count_has_heighlight_singular",i):r&&a&&(o=p("history.change_count_has_heighlight_plural",i)):o=p("history.change_count_singular",t),o}},{key:"render",value:function(){var t=this;if(!this.state.isShowNewHistory)return null;var e=this.state,n=e.currentVersionMessage,r=e.diffCount,a=this.state.isShowDiff&&0<r,i=n&&n.isLocalRecord;return m.a.createElement("div",{id:"new-history-root"},m.a.createElement("div",{className:"new-history-container"},m.a.createElement("div",{className:"left-container"},m.a.createElement("div",{className:"editor-header-container"},m.a.createElement("div",{className:"editor-header-item back",onClick:this.onQuitNewHistory},m.a.createElement(F.a,{className:"exit-btn"}),m.a.createElement("span",{className:"back-text"},p("docs.history.back_btn"))),this.state.currentVersionMessage?m.a.createElement("div",{className:"editor-header-item recover"},i?m.a.createElement(w.Button,{type:"primary",onClick:this.onCreateCopy},m.a.createElement("span",{className:"recover-button-text"},p("common.copy_doc"))):m.a.createElement(w.Tooltip,{disable:!this.state.isLastVersion,title:p("history.restore_tips"),placement:"bottom"},m.a.createElement(w.Button,{type:"primary",className:D()({disabled:this.state.revertButtonDisabled}),onClick:this.onRevert},m.a.createElement("span",{className:"recover-button-text"}," ",p("docs.history.recover_btn")," ")))):null,a?m.a.createElement("div",{className:"editor-header-item play-control"},m.a.createElement("span",{className:"change-count"}," ",this.getChangeCountText()," "),m.a.createElement(w.Tooltip,{title:p("history.prev_edit"),placement:"bottom"},m.a.createElement("span",{className:"up",onClick:this.onPlayPrev,"data-selector":"doc-history-v2-redo-edit"},m.a.createElement(J.a,null))),m.a.createElement(w.Tooltip,{title:p("history.next_edit"),placement:"bottom"},m.a.createElement("span",{className:"down",onClick:this.onPlayNext},m.a.createElement(J.a,null)))):null),m.a.createElement("div",{className:"left-content-container",ref:function(e){return t.leftContentContainerRef=e}},this.renderHistoryEditor())),m.a.createElement("div",{className:"right-container"},m.a.createElement("div",{className:"timeline-header-container"},m.a.createElement("span",{className:"timeline-title"}," ",p("nav.tips.history_record")," "),m.a.createElement(w.Tooltip,{title:p("guide.help_doc"),placement:"bottom"},m.a.createElement("div",null,m.a.createElement(O.a,{className:"history-help-icon",onClick:this.onHistoryHelp})))),m.a.createElement(b.a,{request:C.a,currentVersionDiffCount:r,getLocalHistoryRecords:this.getLocalHistoryRecords,onVersionItemClick:this.onVersionItemClick,onShowMoreHistory:this.onShowMoreHistory,getToken:S.g,collectEvent:P.a,getFromVersionTime:P.b,renderHistoryNoneView:this.renderHistoryNoneView,renderHistoryFailView:this.onRenderHistoryListFail,isFilterCreatedRecord:this.isAnnouncement,ArrowDownImg:J.a}),m.a.createElement("div",{className:"history-control-container"},m.a.createElement("div",{className:"control-item"},m.a.createElement("span",{className:"control-item-title"},p("history.showDiff")),m.a.createElement(K.a,{isOpen:this.state.isShowDiff,onChange:this.onShowDiffChange})))),this.state.lock&&m.a.createElement("div",{className:"lock-mark"})))}}]),Container}(g.Component);z.a=Container}).call(this,ee("2vAP"))},"x1e+":function(e,t,n){"use strict";n.d(t,"e",function(){return b}),n.d(t,"a",function(){return k}),n.d(t,"c",function(){return C}),n.d(t,"d",function(){return L}),n.d(t,"f",function(){return fe}),n.d(t,"b",function(){return Ae});var D,r,a=n("RIqP"),c=n.n(a),i=n("lSNA"),E=n.n(i),o=n("J4zp"),l=n.n(o),P=n("Muja"),s=n("3Hq1"),u=n("XIp8"),d=n("7EGn"),h=n("FJEn"),Z=n("+om4"),F=n("Ss5W"),v=n("BdQV"),f=n("H6oK"),g=n("kESg");(r=D=D||{}).DEFAULT="default",r.DELETED="deleted";var R="=",J="+",M="-",m="deleted-";function p(e,t){var n=JSON.parse(e),r=n.zone_changesets_str,a=n.changeset_str,i=n.changeset_apool,o=JSON.parse(i),s=Object(Z.formatCsFromObj)(r)||a,c=(new h.AttributePool).fromJsonable(o);return{cs:Object(Z.moveOpsToNewPool)(s,c,t)}}function b(e,t){return e.data.changeset.map(function(e){return Object.assign({},e,{},p(e.content,t))})}function O(o,s){return Object.keys(o.numToAttrib).reduce(function(e,t){var n,r=l()(o.numToAttrib[t],2),a=r[0],i=r[1];return s(a,i)&&(n=Object(Z.numToString)(Number(t)),e.add(n)),e},new Set)}function w(e){return new RegExp("\\*(".concat(Array.from(e).join("|"),")(\\*|$)"),"i")}function y(e,t,m){var p=["author",t],v={},b=Object(Z.formatCs)(e),y=O(m,function(e){return"author"===e}),k=w(y),C=O(m,function(e,t){return"list"===e&&/^(check|done)/.test(t)}),S=w(C);return Object.keys(b).forEach(function(e){for(var t=b[e],n=Object(Z.unpack)(t)[e],r=n.itemType,a=n.ops,i=Object(Z.opIterator)(a),o=Object(Z.opAssembler)();i.hasNext();){var s,c,l=i.next(),u=[],d=l.opcode===M,h=l.opcode===J,f=l.opcode===R&&l.attribs&&C.size&&S.test(l.attribs);y.size&&h&&k.test(l.attribs)&&(l.attribs=l.attribs.replace(k,"$2")),(f||d||h)&&(s=m.putAttrib(p),c=Object(Z.numToString)(s),u.push(c),y.add(c),k=w(y)),l.attribs+=0<u.length?"*".concat(u.join("*")):"",o.append(l)}var g=Object(Z._pack)(E()({},e,{itemType:r,oldLen:n.oldLen,newLen:n.newLen,ops:o.toString(),charBank:n.charBank}));v[e]=g}),Object(Z.formatCsFromObj)(v)}function k(a,i){return a.forEach(function(e,t){var n=e.user_id,r=e.cs;a[t].cs=y(r,n,i)}),a}function C(e,r){var a="";return e.forEach(function(e,t){var n=e.cs;a=a?Object(Z.compose)(a,n,r,!0):n}),a}function S(e){var t=e.match(/\n/g);return t?t.length:0}function L(e,t){var n,r,a=t.apool,i=Object(Z.formatCs)(e),o=Object(Z.formatCs)(z(e,t)),s={},c={},l={};for(n in i){var u=i[n],d=o[n],h=X(u,n,a,F.e.add),f=ce(a,h,X(d,n,a,F.e.del),{beforeHandleRetainOp:V,beforeHandleInsertOp:Y,beforeHandleDeleteOp:q},[B,T,W,I],c);l[n]={diffOps:f,cs:h}}for(r in l){var g=l[r],m=g.diffOps,p=g.cs;s[r]=H(m,r,p)}return Object(Z.formatCsFromObj)(s)}function H(e,t,n){var r=Object(Z.smartOpAssembler)(),a=n.itemType,i=n.oldLen,o=Object(Z.bankAssembler)(a);return e.forEach(function(e){var t,n;e.status!==D.DELETED&&(t=e.op,n=e.bank,r.append(t),n.length&&o.append(n))}),r.endDocument(),Object(Z._pack)(E()({},t,{itemType:a,oldLen:i,newLen:i+r.getLengthChange(),ops:r.toString(),charBank:o.toResult()}))}function I(e){var t=e.diffOp,n=function(e){return console.error(e,t)},r=t.op,a=t.bank;r.opcode||n("[new history] op has not opcode"),r.opcode===J&&(a||n("[new history] insert op but bank is null"),r.chars!==a.length&&n("[new history] op.chars !== bank.length"),"string"==typeof a&&r.lines!==S(a)&&n("[new history] op.lines !== calLine(bank)")),r.lines<0&&(n("[new history] op.lines < 0"),r.lines=0)}function T(e){var t,n,r,a=e.diffOp,i=e.apool,o=e.hookCache,s=a.attributes[f.BLOCK_DATA_META_BLOCK_PROPS];s&&((n=(t=JSON.parse(s)).blockType)!==f.BlockType.SHEET_BLOCK&&n!==f.BlockType.BITABLE_BLOCK||(r=t.blockId,j(f.BLOCK_DATA_META_BLOCK_PROPS,r,{diffOp:a,apool:i,hookCache:o})))}var x=[{mainKey:F.o},{mainKey:g.k.ZoneId,redundantKeys:[g.k.ZoneType]}];function B(r){x.forEach(function(e){var t=e.mainKey,n=e.redundantKeys;return N(t,r,n)})}function N(e,t,n){var r=t.diffOp,a=t.apool,i=t.hookCache,o=r.attributes[e];o&&j(e,o,{diffOp:r,apool:a,hookCache:i},n)}function j(e,t,n){var r=n.diffOp,a=n.apool,i=n.hookCache,o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:[],s=e+"Ops";i[s]=i[s]||{};var c,l,u,d,h,f,g,m,p,v,b=i[s][t];b?(l=(c=!!r.attributes[F.e.del]?r:b).attributes[e])&&(u=[e,F.e.del].concat(o),d=ue(c.op,a,u),f="{}",g=["historyPlaceholder",h=JSON.stringify(E()({},e,l))],m=[F.e.change,f],p=Object(Z.numToString)(a.putAttrib(g)),v=Object(Z.numToString)(a.putAttrib(m)),d.attribs=Object(Z.composeAttributes)(d.attribs,"*".concat(p,"*").concat(v),!0,a),c.attributes.historyPlaceholder=h,c.attributes[F.e.change]=f,c.op=d,delete c.attributes[e],delete c.attributes[F.e.del],o.forEach(function(e){delete c.attributes[e]})):i[s][t]=r}function W(e){var t,n,r,a,i,o,s,c,l=e.diffOp,u=e.apool;l.status!==D.DELETED&&l.attributes[F.e.del]&&(t=l.op,(n=l.attributes[f.BLOCK_DATA_META_BLOCK_PROPS])&&(a=(r=JSON.parse(n)).blockId,(i=r.blockType)===f.BlockType.SHEET_BLOCK||i===f.BlockType.BITABLE_BLOCK||a&&(o=m+a,r.blockId=o,s=[f.BLOCK_DATA_META_BLOCK_PROPS,JSON.stringify(r)],c=Object(Z.numToString)(u.putAttrib(s)),t.attribs=Object(Z.composeAttributes)(t.attribs,"*".concat(c),!0,u))))}function V(e){var t=e.csOpArray,n=e.reverseOpArray,r=e.currentCsOpIndex,a=e.currentReverseCsOpIndex,i=e.appendOpAndBank,o=e.apool,s=e.csOpNext,c=e.reverseCsOpNext,l="",u=t[r],d=n[a],h=u.chars<=d.chars?u:d,f=Object(Z.opAssembler)();f.opcode=R,f.chars=h.chars,f.attribs=h.attribs,f.lines=h.lines;var g,m,p,v,b,y=u.getAttribute("list",o),k=d.getAttribute("list",o);y&&k&&y!==k&&(g=h.getAttribute(F.e.change,o),m=JSON.parse(g||"{}"),p=Object.assign({},m,{list:{from:k,to:y}}),v=[F.e.change,JSON.stringify(p)],b=Object(Z.numToString)(o.putAttrib(v)),f.attribs=Object(Z.composeAttributes)(f.attribs,"*".concat(b),!0,o),i(f,""),l="continue",s(),c());var C,S,E,O,w,L,H,I=ae(u,o),T=ae(d,o),x=$(d,o);return I.length!==T.length&&x&&(S=U(I,T,C=_(u,o),!1),E=U(I,T,C,!0),O=[F.e.change,JSON.stringify({image:E})],w=["gallery",JSON.stringify({items:S})],L=Object(Z.numToString)(o.putAttrib(O)),H=Object(Z.numToString)(o.putAttrib(w)),f.attribs=Object(Z.composeAttributes)(f.attribs,"*".concat(L),!0,o),f.attribs=Object(Z.composeAttributes)(f.attribs,"*".concat(H),!0,o),i(f,""),l="continue",s(),c()),{status:l}}function _(e,t){return e.getAttribute("author",t)}function K(t,n){var e=2<arguments.length&&void 0!==arguments[2]?arguments[2]:["src","width","height"],r=t.type,a=n.type;if("image"!==r)return!1;if("image"!==a)return!1;var i=!0;return e.forEach(function(e){!1!==i&&t[e]!==n[e]&&(i=!1)}),i}function Y(e){var t=e.csOpArray,n=e.reverseOpArray,r=e.currentCsOpIndex,a=e.currentReverseCsOpIndex,i=e.si,o=(e.reverseSi,e.appendOpAndBank),s=e.apool,c=e.csOpNext,l=e.reverseCsOpNext,u="",d=t[r],h=n[a],f=1===d.chars,g=oe(d,s);return f&&g&&(o(d,i.take(d.chars)),c(),h.chars-=d.chars,h.lines-=d.lines,0===h.chars&&l(),u="continue"),{status:u}}function q(e){var t=e.csOpArray,n=e.reverseOpArray,r=e.currentCsOpIndex,a=e.currentReverseCsOpIndex,i=e.si,o=e.reverseSi,s=e.appendOpAndBank,c=e.apool,l=e.csOpNext,u=e.reverseCsOpNext,d="",h=t[r],f=n[a],g=1===h.chars&&1===f.chars,m=oe(f,c);if(g&&m){var p=Object(Z.opAssembler)();return p.opcode=M,p.chars=f.chars,p.attribs=f.attribs,p.lines=f.lines,o.take(p.chars),s(p,""),h.chars-=f.chars,h.lines-=f.lines,0===h.chars&&l(),u(),{status:d="continue"}}var v=t[r+1];if(!(v&&v.opcode===J))return{status:d};var b=te(v,c),y=te(f,c),k=!(!b||!y)&&b===y,C=ae(v,c),S=ae(f,c),E=C.length&&S.length,O=ne(v,c),w=ne(f,c);if(k||O&&w&&O===w){var L=de(v,c,F.e.add+",true");s(h,"");var H=i.take(v.chars);return o.take(f.chars),s(L,H),u(Object.assign({},h)),l(),u(Object.assign({},h)),l(),{status:d="continue"}}if(E){var I=_(h,c),T=U(C,S,I,!1),x=U(C,S,I,!0),B=[F.e.change,JSON.stringify({image:x})],N=["gallery",JSON.stringify({items:T})],j=Object(Z.numToString)(c.putAttrib(B)),D=Object(Z.numToString)(c.putAttrib(N)),P=de(v,c,F.e.add+",true");P.attribs=Object(Z.composeAttributes)(P.attribs,"*".concat(j),!0,c),P.attribs=Object(Z.composeAttributes)(P.attribs,"*".concat(D),!0,c),s(h,"");var R=o.take(h.chars);return i.take(P.chars),s(P,R),u(Object.assign({},h)),l(),u(Object.assign({},h)),l(),{status:d="continue"}}return{status:d}}function U(e,t,n,r){e=Object(u.default)(e),t=Object(u.default)(t),e.forEach(function(e){-1===ee(e,t,-1,["src"])&&(e.changeType=F.e.add,e.author=n)});for(var a,i=[],o=t.shift(),s=e.shift();o&&s;)s.changeType?(i.push(s),s=e.shift()):K(o,s,["src"])?(s.changeType="",s.author="",i.push(s),o=t.shift(),s=e.shift()):(o.changeType=F.e.del,o.author=n,i.push(o),e[a=ee(o,e)]&&(e[a].changeType=F.e.add),e[a]&&(e[a].author=n),o=t.shift());return e.forEach(function(e){e.changeType=F.e.add,e.author=n}),s&&(s.changeType=F.e.add),s&&(s.author=n),o&&(o.changeType=F.e.del),o&&(o.author=n),i.push.apply(i,[o,s].concat(c()(e))),i=i.filter(function(e){return e}),r||i.forEach(function(e){delete e.changeType,delete e.author}),i}function X(e,t,n,r){var a=4<arguments.length&&void 0!==arguments[4]?arguments[4]:"true",i=Object(h.addAttributesToChangesetByOp)(e,t,n,[[r,a]],["+"]);return Object(Z.unpack)(i)[t]}function Q(e,t){t=c()(t);for(var n=Object(Z.opIterator)(e),r=[],a="",i=0;n.hasNext();){var o=n.next();if("+"!==o.opcode)throw new Error("transformAttribsToAlines opcode must be +");if(0!==o.lines)if(0<o.lines)for(;o.lines;)r.push("".concat(a).concat(o.attribs,"|1+").concat(Object(Z.numToString)(t[i].length+1))),a="",--o.lines,o.chars-=t[i].length+1,i++;else;else a+="".concat(o.attribs,"+").concat(Object(Z.numToString)(o.chars)),t[i]=t[i].substr(o.chars)}return a&&r.push(a),r}function z(e,t){var n=t.initialAttributedTexts,s=t.apool,c=n.attribs,l=n.text,r=n.rows,u=void 0===r?{}:r,a=n.cols,d=void 0===a?{}:a;return Object(Z.csMapPack)(e,function(e,t){var n=c[e]||"|1+1",r="",a=[];"R"===t.itemType?a=u[e]&&0<u[e].length?u[e]:["\n"]:"C"===t.itemType?a=d[e]&&0<d[e].length?d[e]:["\n"]:"Z"===t.itemType&&(r=l[e]||"\n",a=r.split("\n"));var i=Q(n,a),o={get:function(e){return["R","C"].includes(t.itemType)?a:a[e]+"\n"}};return Object(h.reverse)(t,o,i,s)})}function $(e,t){return"image"===re(e,t).type}function ee(e,t){for(var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,r=3<arguments.length?arguments[3]:void 0,a=-1,i=0;i<t.length;i++)if(K(e,t[i],r)&&n<=i){a=i;break}return a}function te(e,t){var n=!(2<arguments.length&&void 0!==arguments[2])||arguments[2],r=ie(e,t).blockId;return r&&n&&(r=r.replace(m,"")),r}function ne(e,t){return e.getAttribute("aceTable",t)}function re(e,t){var n=e.getAttribute("gallery",t),r=JSON.parse(n||"{}");return Object(d.default)(r,"items.[0]",{})}function ae(e,t){var n=e.getAttribute("gallery",t),r=JSON.parse(n||"{}");return Object(d.default)(r,"items",[])}function ie(e,t){var n=e.getAttribute(f.BLOCK_DATA_META_BLOCK_PROPS,t);return JSON.parse(n||"{}")}function oe(e,t){return!!e.getAttribute("lmkr",t)}function se(e,t){return e.opcode===J&&t.opcode===M||e.opcode===M&&t.opcode===J||e.opcode===R&&t.opcode===R}function ce(r,e,t,n,a,i){var o,s,c,l,u,d,h,f,g=e.itemType,m=Object(Z.bankIterator)(e.charBank),p=Object(Z.bankIterator)(t.charBank),v=Object(Z.opIterator)(e.ops),b=Object(Z.opIterator)(t.ops),y=le(v),k=le(b),C=[],S=0,E=0,O=y[S]||{},w=k[E]||{},L=function(e){if(e)if(se(e,O))for(;;){if(e.chars-=O.chars,e.lines-=O.lines,e.chars<0){O.chars=Math.abs(e.chars),O.lines=Math.abs(e.lines);break}O=y[++S]}else console.error("history diff cs: csOpNext cs&invercs not match");else O=y[++S];return O},H=function(e){if(e)if(se(e,w))for(;;){if(e.chars-=w.chars,e.lines-=w.lines,e.chars<0){w.chars=Math.abs(e.chars),w.lines=Math.abs(e.lines);break}w=k[++E]}else console.error("history diff cs: csOpNext cs&invercs not match");else w=k[++E];return w},I=function(e,t){var n={op:e,bank:t,attributes:he(e.attribs,r),status:D.DEFAULT};a.forEach(function(e){return e({diffOp:n,apool:r,hookCache:i})}),C.push(n)};do{if(!O.opcode||!w.opcode)break;if(O.opcode!==R)if(O.opcode!==J){if(O.opcode!==M){console.error("computeDiffChangeset error");break}if(w.opcode!==J){console.error("changeset and its reverse changeset mismatched, changeset=".concat(e));break}n.beforeHandleDeleteOp&&"continue"===n.beforeHandleDeleteOp({csOpArray:y,reverseOpArray:k,currentCsOpIndex:S,currentReverseCsOpIndex:E,si:m,reverseSi:p,appendOpAndBank:I,apool:r,csOpNext:L,reverseCsOpNext:H}).status||(w.chars<=O.chars?((o=Object(Z.opAssembler)()).opcode=M,s=p.take(w.chars),o.lines=w.lines,o.chars=w.chars,o.attribs="",I(o,""),w.attribs=Object(Z.composeAttributes)(w.attribs,O.attribs,!0,r),I(w,s),O.chars-=w.chars,O.lines=O.lines-o.lines,0===O.chars&&L(),H()):(I(O,""),c=p.take(O.chars),(l=Object(Z.opAssembler)()).opcode=J,l.chars=O.chars,l.lines=O.lines,l.attribs=w.attribs,I(l,c),w.chars-=O.chars,w.lines=w.lines-O.lines,L()))}else{if(w.opcode!==M){console.error("changeset and its reverse changeset mismatched, changeset=".concat(e));break}n.beforeHandleInsertOp&&"continue"===n.beforeHandleInsertOp({csOpArray:y,reverseOpArray:k,currentCsOpIndex:S,currentReverseCsOpIndex:E,si:m,reverseSi:p,appendOpAndBank:I,apool:r,csOpNext:L,reverseCsOpNext:H}).status||(O.chars<=w.chars?(u=m.take(O.chars),"C"!==g&&"R"!==g||(d=C[C.length-1])&&d.op.chars===O.chars&&d.op.opcode===O.opcode&&Object(P.default)(u,d.bank)&&C.pop(),I(O,u),w.chars-=O.chars,0===w.chars&&H(),L()):(h=p.take(w.chars),(f=Object(Z.opAssembler)()).opcode=J,f.chars=w.chars,f.lines=w.lines,f.attribs=O.attribs,I(f,h),O.chars-=w.chars,O.lines=O.lines-f.lines,H()))}else{if(w.opcode!==R){console.error("changeset and its reverse changeset mismatched, changeset=".concat(e));break}var T=O.chars<=w.chars?w:O,x=O.chars<=w.chars?O:w;if(n.beforeHandleRetainOp){var B=n.beforeHandleRetainOp({csOpArray:y,reverseOpArray:k,currentCsOpIndex:S,currentReverseCsOpIndex:E,si:m,appendOpAndBank:I,apool:r,csOpNext:L,reverseCsOpNext:H}).status;if("continue"===(void 0===B?"":B))continue}I(x,""),T.chars-=x.chars,T.lines=T.lines-x.lines;var N=T===O?L:H,j=x===O?L:H;0===T.chars&&N(),j()}}while(O&&w&&O.opcode&&w.opcode);return C}function le(e){for(var t=[];e.hasNext();){var n=e.next(),r={attribs:n.attribs,chars:n.chars,getAttribute:n.getAttribute,lines:n.lines,opcode:n.opcode};t.push(r)}return t}function ue(e,t,n){for(var r=0;r<n.length;r++)e=de(e,t,n[r]);return e}function de(e,t,n){n.split(",")[1]||(n+=","+e.getAttribute(n,t));var r=t.attribToNum[n];if(!(0<=r))return e;var a=Object(Z.numToString)(r);return{attribs:e.attribs.split("*").filter(function(e){return e!==a}).join("*"),chars:e.chars,getAttribute:e.getAttribute,lines:e.lines,opcode:e.opcode}}function he(e,a){var i={};return Object(Z.eachAttribNumber)(e,function(e){var t,n,r;a.numToAttrib[e]&&(n=(t=l()(a.numToAttrib[e],2))[0],r=t[1],i[n]=r)}),i}function fe(e){var t=e.initialAttributedTexts,d=e.apool,h=t.attribs,f=O(d,function(e){return Object(v.d)(e)}),g=w(f),m=O(d,function(e){return"aceTable"===e}),p=w(m);return Object.keys(h).forEach(function(e){for(var t=h[e],n=Object(Z.opIterator)(t),r=Object(Z.opAssembler)(),a="",i=null;n.hasNext();){var o,s,c=n.next(),l=f.size&&g.test(c.attribs),u=m.size&&p.test(c.attribs),i=l&&!u?(o=he(c.attribs,d),i&&Ae(i,o)||(a=Object(v.b)()),s=Object(Z.numToString)(d.putAttrib([F.q,a])),c.attribs=Object(Z.composeAttributes)(c.attribs,"*".concat(s),!0,d),o):null;r.append(c)}h[e]=r.toString()}),{initialAttributedTexts:t,apool:d}}function Ae(e,t){if(t[F.e.change])return!1;if(!(!Object(s.default)(e.author)&&e.author===t.author))return!1;var n=!Object(s.default)(e[F.e.add])&&e[F.e.add]===t[F.e.add],r=!Object(s.default)(e[F.e.del])&&e[F.e.del]===t[F.e.del];return!(!n&&!r)}},zuJL:function(e,t,n){"use strict";var r=n("TSyV");t.a=r.a}}]);
//# sourceMappingURL=NewHistory.0f5173a64e7acf4e204a.js.map