(this.webpackJsonp=this.webpackJsonp||[]).push([["bear-bitable-external","commons--FilePicker--attachment_preview_modal--box-utils-upload-v2--box_index--doc_uploader_delay----afa6617f","commons--box-utils-upload-v2--box_right_bar--doc_uploader_delay--lark-upload-progress-viewer--nativ--93a0e733",7,9,"commons--attachment_preview_modal--box_index--file-card","commons--beginner-modal--box-preview-box-media--introduction_modal","commons--comment_list--list_component","commons--createRichEditor--notification_center",16,17,"i18n","list_component","sheet_module","vendors--account_main","vendors--box_message","vendors--create_smart_collection","vendors--doc_collector_security_audit","vendors--docs_user_profile","vendors--global-comment","vendors--hash-tags","vendors--import_center_modal","vendors--introduction_modal","vendors--modal_template_preview","vendors--pc_anonymous_space_route","vendors--switch_account_modal","vendors--template-page","vendors--template_preview_new_layout","vendors--zip_download_modal",40,44,48,51,52,53,59,62,68,71],{"+/Fj":function(e,t,n){"use strict";var r=n("pVnL"),i=n.n(r),o=n("QILm"),a=n.n(o),s=n("q1tI"),c=n.n(s);t.a=function(e){e.styles;var t=a()(e,["styles"]);return c.a.createElement("svg",i()({width:"18",height:"18",viewBox:"0 0 18 18"},t),c.a.createElement("path",{d:"M0 9a9 9 0 1018 0A9 9 0 000 9zm8.94 2.81h.69c.27 0 .5.23.5.5V13a.5.5 0 01-.5.5h-.7a.5.5 0 01-.5-.5v-.69c0-.27.23-.5.5-.5zm0-7.31h.69c.27 0 .5.22.5.5v4.63a.5.5 0 01-.5.5h-.7a.5.5 0 01-.5-.5V5c0-.28.23-.5.5-.5z",fill:"#FFC60A",fillRule:"evenodd"}))}},"+00W":function(e,t,n){e.exports=n("RF0s").default,e.exports.default=e.exports},"+0ye":function(e,t,n){"use strict";n.d(t,"b",function(){return o}),n.d(t,"c",function(){return a}),n.d(t,"a",function(){return s});var r=n("HmyT"),i=n("182n"),o=function(e){for(var t=["heading-h1","heading-h2","heading-h3","heading-h4","heading-h5","heading-h6","heading-h7","heading-h8","heading-h9"],n=0;n<t.length;n++)if(Object(r.$)(e).hasClass(t[n]))return t[n];return null},a=function(e){return Number(e.match(/\d+/)[0])},s=function(e){var t=/heading-(\S+)/.exec(e);return!!t&&i.a.includes(t[1])}},"+8Ar":function(e,t,n){"use strict";var r=n("+aGp"),i=/^ms-/;function o(e){return r(e).replace(i,"-ms-")}e.exports=o},"+8zG":function(e,t,n){t.f=n("A2Ma")},"+Bun":function(e,t,n){e.exports=n("0P9G")},"+EwR":function(e,o,t){var a=t("eQlZ"),n=t("Shz6"),s=n.domEach,c=t("hS6j").DomUtils.uniqueSort,u=n.isTag,l={bind:t("JpaV"),forEach:t("bNQv"),reject:t("HTIP"),filter:t("k4Da"),reduce:t("xaJk")};o.find=function(e){var t,n=l.reduce(this,function(e,t){return e.concat(l.filter(t.children,u))},[]),r=this.constructor.contains;if(e&&"string"!=typeof e)return t=e.cheerio?e.get():[e],this._make(t.filter(function(e){for(var t=0,n=this.length;t<n;++t)if(r(this[t],e))return!0},this));var i={__proto__:this.options,context:this.toArray()};return this._make(a(e,n,i))},o.parent=function(e){var r=[];return s(this,function(e,t){var n=t.parent;n&&r.indexOf(n)<0&&r.push(n)}),arguments.length&&(r=o.filter.call(r,e,this)),this._make(r)},o.parents=function(t){var n=[];return this.get().reverse().forEach(function(e){d(this,e.parent,t,1/0).forEach(function(e){-1===n.indexOf(e)&&n.push(e)})},this),this._make(n)},o.parentsUntil=function(e,t){var n,r,i=[];return"string"==typeof e?n=a(e,this.parents().toArray(),this.options)[0]:e&&e.cheerio?r=e.toArray():e&&(n=e),this.toArray().reverse().forEach(function(e){for(;(e=e.parent)&&(n&&e!==n||r&&-1===r.indexOf(e)||!n&&!r);)u(e)&&-1===i.indexOf(e)&&i.push(e)},this),this._make(t?a(t,i,this.options):i)},o.closest=function(r){var i=[];return r&&s(this,function(e,t){var n=d(this,t,r,1)[0];n&&i.indexOf(n)<0&&i.push(n)}.bind(this)),this._make(i)},o.next=function(e){if(!this[0])return this;var t=[];return l.forEach(this,function(e){for(;e=e.next;)if(u(e))return void t.push(e)}),e?o.filter.call(t,e,this):this._make(t)},o.nextAll=function(e){if(!this[0])return this;var t=[];return l.forEach(this,function(e){for(;e=e.next;)u(e)&&-1===t.indexOf(e)&&t.push(e)}),e?o.filter.call(t,e,this):this._make(t)},o.nextUntil=function(e,t){if(!this[0])return this;var n,r,i=[];return"string"==typeof e?n=a(e,this.nextAll().get(),this.options)[0]:e&&e.cheerio?r=e.get():e&&(n=e),l.forEach(this,function(e){for(;(e=e.next)&&(n&&e!==n||r&&-1===r.indexOf(e)||!n&&!r);)u(e)&&-1===i.indexOf(e)&&i.push(e)}),t?o.filter.call(i,t,this):this._make(i)},o.prev=function(e){if(!this[0])return this;var t=[];return l.forEach(this,function(e){for(;e=e.prev;)if(u(e))return void t.push(e)}),e?o.filter.call(t,e,this):this._make(t)},o.prevAll=function(e){if(!this[0])return this;var t=[];return l.forEach(this,function(e){for(;e=e.prev;)u(e)&&-1===t.indexOf(e)&&t.push(e)}),e?o.filter.call(t,e,this):this._make(t)},o.prevUntil=function(e,t){if(!this[0])return this;var n,r,i=[];return"string"==typeof e?n=a(e,this.prevAll().get(),this.options)[0]:e&&e.cheerio?r=e.get():e&&(n=e),l.forEach(this,function(e){for(;(e=e.prev)&&(n&&e!==n||r&&-1===r.indexOf(e)||!n&&!r);)u(e)&&-1===i.indexOf(e)&&i.push(e)}),t?o.filter.call(i,t,this):this._make(i)},o.siblings=function(e){var t=this.parent(),n=l.filter(t?t.children():this.siblingsAndMe(),l.bind(function(e){return u(e)&&!this.is(e)},this));return void 0!==e?o.filter.call(n,e,this):this._make(n)},o.children=function(e){var t=l.reduce(this,function(e,t){return e.concat(l.filter(t.children,u))},[]);return void 0===e?this._make(t):o.filter.call(t,e,this)},o.contents=function(){return this._make(l.reduce(this,function(e,t){return e.push.apply(e,t.children),e},[]))},o.each=function(e){for(var t=0,n=this.length;t<n&&!1!==e.call(this[t],t,this[t]);)++t;return this},o.map=function(i){return this._make(l.reduce(this,function(e,t,n){var r=i.call(t,n,t);return null==r?e:e.concat(r)},[]))};var r=function(r){return function(n,e){var t;return e=e||this,t="string"==typeof n?a.compile(n,e.options):"function"==typeof n?function(e,t){return n.call(e,t,e)}:n.cheerio?n.is.bind(n):function(e){return n===e},e._make(r(this,t))}};function d(e,t,n,r){for(var i=[];t&&i.length<r;)n&&!o.filter.call([t],n,e).length||i.push(t),t=t.parent;return i}o.filter=r(l.filter),o.not=r(l.reject),o.has=function(e){var t=this;return o.filter.call(this,function(){return 0<t._make(this).find(e).length})},o.first=function(){return 1<this.length?this._make(this[0]):this},o.last=function(){return 1<this.length?this._make(this[this.length-1]):this},o.eq=function(e){return 0===(e=+e)&&this.length<=1?this:(e<0&&(e=this.length+e),this[e]?this._make(this[e]):this._make([]))},o.get=function(e){return null==e?Array.prototype.slice.call(this):this[e<0?this.length+e:e]},o.index=function(e){var t,n=0===arguments.length?(t=this.parent().children(),this[0]):"string"==typeof e?(t=this._make(e),this[0]):(t=this,e.cheerio?e[0]:e);return t.get().indexOf(n)},o.slice=function(){return this._make([].slice.apply(this,arguments))},o.end=function(){return this.prevObject||this._make([])},o.add=function(e,t){for(var n=this._make(e,t),r=c(n.get().concat(this.get())),i=0;i<r.length;++i)n[i]=r[i];return n.length=r.length,n},o.addBack=function(e){return this.add(arguments.length?this.prevObject.filter(e):this.prevObject)}},"+FT0":function(e,t,n){"use strict";n.d(t,"a",function(){return r});n("FJEn");function r(e){var t=e.getRep(),n=t.zoneId,r=t.selStart,i=t.selEnd;return"0"===n&&0===r[0]&&0===i[0]}},"+Gkg":function(e,y,b){"use strict";(function(n){b.d(y,"a",function(){return v});var e=b("lwsE"),r=b.n(e),t=b("W8MJ"),i=b.n(t),o=b("a1gu"),a=b.n(o),s=b("Nsbk"),c=b.n(s),u=b("7W2i"),l=b.n(u),d=b("q1tI"),p=b.n(d),f=b("ahx2"),h=b("JyuV"),g=b("6jHd"),m=b("3VXv"),v=function(e){function t(){return r()(this,t),a()(this,c()(t).apply(this,arguments))}return l()(t,e),i()(t,[{key:"render",value:function(){var e=this.props.className,t=this.coverInfo,n=t.cover,r=t.text;return p.a.createElement(m.a,{className:e},n&&p.a.createElement(n,null),Boolean(r)&&p.a.createElement(m.b,null,r))}},{key:"coverInfo",get:function(){var e={cover:null,text:""};switch(this.props.code){case f.SpecitalSuiteCodeMap[9009]:e.cover=h.a,e.text=n("common.cover.empty_doc");break;case f.SpecitalSuiteCodeMap[9010]:e.cover=g.a}return e}}]),t}(p.a.Component)}).call(this,b("2vAP"))},"+K+b":function(e,t,n){var r=n("JHRd");function i(e){var t=new e.constructor(e.byteLength);return new r(t).set(new r(e)),t}e.exports=i},"+M9m":function(e,t,n){"use strict";e.exports=new Uint16Array([4,52,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,106,303,412,810,1432,1701,1796,1987,2114,2360,2420,2484,3170,3251,4140,4393,4575,4610,5106,5512,5728,6117,6274,6315,6345,6427,6516,7002,7910,8733,9323,9870,10170,10631,10893,11318,11386,11467,12773,13092,14474,14922,15448,15542,16419,17666,18166,18611,19004,19095,19298,19397,4,16,69,77,97,98,99,102,103,108,109,110,111,112,114,115,116,117,140,150,158,169,176,194,199,210,216,222,226,242,256,266,283,294,108,105,103,5,198,1,59,148,1,198,80,5,38,1,59,156,1,38,99,117,116,101,5,193,1,59,167,1,193,114,101,118,101,59,1,258,4,2,105,121,182,191,114,99,5,194,1,59,189,1,194,59,1,1040,114,59,3,55349,56580,114,97,118,101,5,192,1,59,208,1,192,112,104,97,59,1,913,97,99,114,59,1,256,100,59,1,10835,4,2,103,112,232,237,111,110,59,1,260,102,59,3,55349,56632,112,108,121,70,117,110,99,116,105,111,110,59,1,8289,105,110,103,5,197,1,59,264,1,197,4,2,99,115,272,277,114,59,3,55349,56476,105,103,110,59,1,8788,105,108,100,101,5,195,1,59,292,1,195,109,108,5,196,1,59,301,1,196,4,8,97,99,101,102,111,114,115,117,321,350,354,383,388,394,400,405,4,2,99,114,327,336,107,115,108,97,115,104,59,1,8726,4,2,118,119,342,345,59,1,10983,101,100,59,1,8966,121,59,1,1041,4,3,99,114,116,362,369,379,97,117,115,101,59,1,8757,110,111,117,108,108,105,115,59,1,8492,97,59,1,914,114,59,3,55349,56581,112,102,59,3,55349,56633,101,118,101,59,1,728,99,114,59,1,8492,109,112,101,113,59,1,8782,4,14,72,79,97,99,100,101,102,104,105,108,111,114,115,117,442,447,456,504,542,547,569,573,577,616,678,784,790,796,99,121,59,1,1063,80,89,5,169,1,59,454,1,169,4,3,99,112,121,464,470,497,117,116,101,59,1,262,4,2,59,105,476,478,1,8914,116,97,108,68,105,102,102,101,114,101,110,116,105,97,108,68,59,1,8517,108,101,121,115,59,1,8493,4,4,97,101,105,111,514,520,530,535,114,111,110,59,1,268,100,105,108,5,199,1,59,528,1,199,114,99,59,1,264,110,105,110,116,59,1,8752,111,116,59,1,266,4,2,100,110,553,560,105,108,108,97,59,1,184,116,101,114,68,111,116,59,1,183,114,59,1,8493,105,59,1,935,114,99,108,101,4,4,68,77,80,84,591,596,603,609,111,116,59,1,8857,105,110,117,115,59,1,8854,108,117,115,59,1,8853,105,109,101,115,59,1,8855,111,4,2,99,115,623,646,107,119,105,115,101,67,111,110,116,111,117,114,73,110,116,101,103,114,97,108,59,1,8754,101,67,117,114,108,121,4,2,68,81,658,671,111,117,98,108,101,81,117,111,116,101,59,1,8221,117,111,116,101,59,1,8217,4,4,108,110,112,117,688,701,736,753,111,110,4,2,59,101,696,698,1,8759,59,1,10868,4,3,103,105,116,709,717,722,114,117,101,110,116,59,1,8801,110,116,59,1,8751,111,117,114,73,110,116,101,103,114,97,108,59,1,8750,4,2,102,114,742,745,59,1,8450,111,100,117,99,116,59,1,8720,110,116,101,114,67,108,111,99,107,119,105,115,101,67,111,110,116,111,117,114,73,110,116,101,103,114,97,108,59,1,8755,111,115,115,59,1,10799,99,114,59,3,55349,56478,112,4,2,59,67,803,805,1,8915,97,112,59,1,8781,4,11,68,74,83,90,97,99,101,102,105,111,115,834,850,855,860,865,888,903,916,921,1011,1415,4,2,59,111,840,842,1,8517,116,114,97,104,100,59,1,10513,99,121,59,1,1026,99,121,59,1,1029,99,121,59,1,1039,4,3,103,114,115,873,879,883,103,101,114,59,1,8225,114,59,1,8609,104,118,59,1,10980,4,2,97,121,894,900,114,111,110,59,1,270,59,1,1044,108,4,2,59,116,910,912,1,8711,97,59,1,916,114,59,3,55349,56583,4,2,97,102,927,998,4,2,99,109,933,992,114,105,116,105,99,97,108,4,4,65,68,71,84,950,957,978,985,99,117,116,101,59,1,180,111,4,2,116,117,964,967,59,1,729,98,108,101,65,99,117,116,101,59,1,733,114,97,118,101,59,1,96,105,108,100,101,59,1,732,111,110,100,59,1,8900,102,101,114,101,110,116,105,97,108,68,59,1,8518,4,4,112,116,117,119,1021,1026,1048,1249,102,59,3,55349,56635,4,3,59,68,69,1034,1036,1041,1,168,111,116,59,1,8412,113,117,97,108,59,1,8784,98,108,101,4,6,67,68,76,82,85,86,1065,1082,1101,1189,1211,1236,111,110,116,111,117,114,73,110,116,101,103,114,97,108,59,1,8751,111,4,2,116,119,1089,1092,59,1,168,110,65,114,114,111,119,59,1,8659,4,2,101,111,1107,1141,102,116,4,3,65,82,84,1117,1124,1136,114,114,111,119,59,1,8656,105,103,104,116,65,114,114,111,119,59,1,8660,101,101,59,1,10980,110,103,4,2,76,82,1149,1177,101,102,116,4,2,65,82,1158,1165,114,114,111,119,59,1,10232,105,103,104,116,65,114,114,111,119,59,1,10234,105,103,104,116,65,114,114,111,119,59,1,10233,105,103,104,116,4,2,65,84,1199,1206,114,114,111,119,59,1,8658,101,101,59,1,8872,112,4,2,65,68,1218,1225,114,114,111,119,59,1,8657,111,119,110,65,114,114,111,119,59,1,8661,101,114,116,105,99,97,108,66,97,114,59,1,8741,110,4,6,65,66,76,82,84,97,1264,1292,1299,1352,1391,1408,114,114,111,119,4,3,59,66,85,1276,1278,1283,1,8595,97,114,59,1,10515,112,65,114,114,111,119,59,1,8693,114,101,118,101,59,1,785,101,102,116,4,3,82,84,86,1310,1323,1334,105,103,104,116,86,101,99,116,111,114,59,1,10576,101,101,86,101,99,116,111,114,59,1,10590,101,99,116,111,114,4,2,59,66,1345,1347,1,8637,97,114,59,1,10582,105,103,104,116,4,2,84,86,1362,1373,101,101,86,101,99,116,111,114,59,1,10591,101,99,116,111,114,4,2,59,66,1384,1386,1,8641,97,114,59,1,10583,101,101,4,2,59,65,1399,1401,1,8868,114,114,111,119,59,1,8615,114,114,111,119,59,1,8659,4,2,99,116,1421,1426,114,59,3,55349,56479,114,111,107,59,1,272,4,16,78,84,97,99,100,102,103,108,109,111,112,113,115,116,117,120,1466,1470,1478,1489,1515,1520,1525,1536,1544,1593,1609,1617,1650,1664,1668,1677,71,59,1,330,72,5,208,1,59,1476,1,208,99,117,116,101,5,201,1,59,1487,1,201,4,3,97,105,121,1497,1503,1512,114,111,110,59,1,282,114,99,5,202,1,59,1510,1,202,59,1,1069,111,116,59,1,278,114,59,3,55349,56584,114,97,118,101,5,200,1,59,1534,1,200,101,109,101,110,116,59,1,8712,4,2,97,112,1550,1555,99,114,59,1,274,116,121,4,2,83,86,1563,1576,109,97,108,108,83,113,117,97,114,101,59,1,9723,101,114,121,83,109,97,108,108,83,113,117,97,114,101,59,1,9643,4,2,103,112,1599,1604,111,110,59,1,280,102,59,3,55349,56636,115,105,108,111,110,59,1,917,117,4,2,97,105,1624,1640,108,4,2,59,84,1631,1633,1,10869,105,108,100,101,59,1,8770,108,105,98,114,105,117,109,59,1,8652,4,2,99,105,1656,1660,114,59,1,8496,109,59,1,10867,97,59,1,919,109,108,5,203,1,59,1675,1,203,4,2,105,112,1683,1689,115,116,115,59,1,8707,111,110,101,110,116,105,97,108,69,59,1,8519,4,5,99,102,105,111,115,1713,1717,1722,1762,1791,121,59,1,1060,114,59,3,55349,56585,108,108,101,100,4,2,83,86,1732,1745,109,97,108,108,83,113,117,97,114,101,59,1,9724,101,114,121,83,109,97,108,108,83,113,117,97,114,101,59,1,9642,4,3,112,114,117,1770,1775,1781,102,59,3,55349,56637,65,108,108,59,1,8704,114,105,101,114,116,114,102,59,1,8497,99,114,59,1,8497,4,12,74,84,97,98,99,100,102,103,111,114,115,116,1822,1827,1834,1848,1855,1877,1882,1887,1890,1896,1978,1984,99,121,59,1,1027,5,62,1,59,1832,1,62,109,109,97,4,2,59,100,1843,1845,1,915,59,1,988,114,101,118,101,59,1,286,4,3,101,105,121,1863,1869,1874,100,105,108,59,1,290,114,99,59,1,284,59,1,1043,111,116,59,1,288,114,59,3,55349,56586,59,1,8921,112,102,59,3,55349,56638,101,97,116,101,114,4,6,69,70,71,76,83,84,1915,1933,1944,1953,1959,1971,113,117,97,108,4,2,59,76,1925,1927,1,8805,101,115,115,59,1,8923,117,108,108,69,113,117,97,108,59,1,8807,114,101,97,116,101,114,59,1,10914,101,115,115,59,1,8823,108,97,110,116,69,113,117,97,108,59,1,10878,105,108,100,101,59,1,8819,99,114,59,3,55349,56482,59,1,8811,4,8,65,97,99,102,105,111,115,117,2005,2012,2026,2032,2036,2049,2073,2089,82,68,99,121,59,1,1066,4,2,99,116,2018,2023,101,107,59,1,711,59,1,94,105,114,99,59,1,292,114,59,1,8460,108,98,101,114,116,83,112,97,99,101,59,1,8459,4,2,112,114,2055,2059,102,59,1,8461,105,122,111,110,116,97,108,76,105,110,101,59,1,9472,4,2,99,116,2079,2083,114,59,1,8459,114,111,107,59,1,294,109,112,4,2,68,69,2097,2107,111,119,110,72,117,109,112,59,1,8782,113,117,97,108,59,1,8783,4,14,69,74,79,97,99,100,102,103,109,110,111,115,116,117,2144,2149,2155,2160,2171,2189,2194,2198,2209,2245,2307,2329,2334,2341,99,121,59,1,1045,108,105,103,59,1,306,99,121,59,1,1025,99,117,116,101,5,205,1,59,2169,1,205,4,2,105,121,2177,2186,114,99,5,206,1,59,2184,1,206,59,1,1048,111,116,59,1,304,114,59,1,8465,114,97,118,101,5,204,1,59,2207,1,204,4,3,59,97,112,2217,2219,2238,1,8465,4,2,99,103,2225,2229,114,59,1,298,105,110,97,114,121,73,59,1,8520,108,105,101,115,59,1,8658,4,2,116,118,2251,2281,4,2,59,101,2257,2259,1,8748,4,2,103,114,2265,2271,114,97,108,59,1,8747,115,101,99,116,105,111,110,59,1,8898,105,115,105,98,108,101,4,2,67,84,2293,2300,111,109,109,97,59,1,8291,105,109,101,115,59,1,8290,4,3,103,112,116,2315,2320,2325,111,110,59,1,302,102,59,3,55349,56640,97,59,1,921,99,114,59,1,8464,105,108,100,101,59,1,296,4,2,107,109,2347,2352,99,121,59,1,1030,108,5,207,1,59,2358,1,207,4,5,99,102,111,115,117,2372,2386,2391,2397,2414,4,2,105,121,2378,2383,114,99,59,1,308,59,1,1049,114,59,3,55349,56589,112,102,59,3,55349,56641,4,2,99,101,2403,2408,114,59,3,55349,56485,114,99,121,59,1,1032,107,99,121,59,1,1028,4,7,72,74,97,99,102,111,115,2436,2441,2446,2452,2467,2472,2478,99,121,59,1,1061,99,121,59,1,1036,112,112,97,59,1,922,4,2,101,121,2458,2464,100,105,108,59,1,310,59,1,1050,114,59,3,55349,56590,112,102,59,3,55349,56642,99,114,59,3,55349,56486,4,11,74,84,97,99,101,102,108,109,111,115,116,2508,2513,2520,2562,2585,2981,2986,3004,3011,3146,3167,99,121,59,1,1033,5,60,1,59,2518,1,60,4,5,99,109,110,112,114,2532,2538,2544,2548,2558,117,116,101,59,1,313,98,100,97,59,1,923,103,59,1,10218,108,97,99,101,116,114,102,59,1,8466,114,59,1,8606,4,3,97,101,121,2570,2576,2582,114,111,110,59,1,317,100,105,108,59,1,315,59,1,1051,4,2,102,115,2591,2907,116,4,10,65,67,68,70,82,84,85,86,97,114,2614,2663,2672,2728,2735,2760,2820,2870,2888,2895,4,2,110,114,2620,2633,103,108,101,66,114,97,99,107,101,116,59,1,10216,114,111,119,4,3,59,66,82,2644,2646,2651,1,8592,97,114,59,1,8676,105,103,104,116,65,114,114,111,119,59,1,8646,101,105,108,105,110,103,59,1,8968,111,4,2,117,119,2679,2692,98,108,101,66,114,97,99,107,101,116,59,1,10214,110,4,2,84,86,2699,2710,101,101,86,101,99,116,111,114,59,1,10593,101,99,116,111,114,4,2,59,66,2721,2723,1,8643,97,114,59,1,10585,108,111,111,114,59,1,8970,105,103,104,116,4,2,65,86,2745,2752,114,114,111,119,59,1,8596,101,99,116,111,114,59,1,10574,4,2,101,114,2766,2792,101,4,3,59,65,86,2775,2777,2784,1,8867,114,114,111,119,59,1,8612,101,99,116,111,114,59,1,10586,105,97,110,103,108,101,4,3,59,66,69,2806,2808,2813,1,8882,97,114,59,1,10703,113,117,97,108,59,1,8884,112,4,3,68,84,86,2829,2841,2852,111,119,110,86,101,99,116,111,114,59,1,10577,101,101,86,101,99,116,111,114,59,1,10592,101,99,116,111,114,4,2,59,66,2863,2865,1,8639,97,114,59,1,10584,101,99,116,111,114,4,2,59,66,2881,2883,1,8636,97,114,59,1,10578,114,114,111,119,59,1,8656,105,103,104,116,97,114,114,111,119,59,1,8660,115,4,6,69,70,71,76,83,84,2922,2936,2947,2956,2962,2974,113,117,97,108,71,114,101,97,116,101,114,59,1,8922,117,108,108,69,113,117,97,108,59,1,8806,114,101,97,116,101,114,59,1,8822,101,115,115,59,1,10913,108,97,110,116,69,113,117,97,108,59,1,10877,105,108,100,101,59,1,8818,114,59,3,55349,56591,4,2,59,101,2992,2994,1,8920,102,116,97,114,114,111,119,59,1,8666,105,100,111,116,59,1,319,4,3,110,112,119,3019,3110,3115,103,4,4,76,82,108,114,3030,3058,3070,3098,101,102,116,4,2,65,82,3039,3046,114,114,111,119,59,1,10229,105,103,104,116,65,114,114,111,119,59,1,10231,105,103,104,116,65,114,114,111,119,59,1,10230,101,102,116,4,2,97,114,3079,3086,114,114,111,119,59,1,10232,105,103,104,116,97,114,114,111,119,59,1,10234,105,103,104,116,97,114,114,111,119,59,1,10233,102,59,3,55349,56643,101,114,4,2,76,82,3123,3134,101,102,116,65,114,114,111,119,59,1,8601,105,103,104,116,65,114,114,111,119,59,1,8600,4,3,99,104,116,3154,3158,3161,114,59,1,8466,59,1,8624,114,111,107,59,1,321,59,1,8810,4,8,97,99,101,102,105,111,115,117,3188,3192,3196,3222,3227,3237,3243,3248,112,59,1,10501,121,59,1,1052,4,2,100,108,3202,3213,105,117,109,83,112,97,99,101,59,1,8287,108,105,110,116,114,102,59,1,8499,114,59,3,55349,56592,110,117,115,80,108,117,115,59,1,8723,112,102,59,3,55349,56644,99,114,59,1,8499,59,1,924,4,9,74,97,99,101,102,111,115,116,117,3271,3276,3283,3306,3422,3427,4120,4126,4137,99,121,59,1,1034,99,117,116,101,59,1,323,4,3,97,101,121,3291,3297,3303,114,111,110,59,1,327,100,105,108,59,1,325,59,1,1053,4,3,103,115,119,3314,3380,3415,97,116,105,118,101,4,3,77,84,86,3327,3340,3365,101,100,105,117,109,83,112,97,99,101,59,1,8203,104,105,4,2,99,110,3348,3357,107,83,112,97,99,101,59,1,8203,83,112,97,99,101,59,1,8203,101,114,121,84,104,105,110,83,112,97,99,101,59,1,8203,116,101,100,4,2,71,76,3389,3405,114,101,97,116,101,114,71,114,101,97,116,101,114,59,1,8811,101,115,115,76,101,115,115,59,1,8810,76,105,110,101,59,1,10,114,59,3,55349,56593,4,4,66,110,112,116,3437,3444,3460,3464,114,101,97,107,59,1,8288,66,114,101,97,107,105,110,103,83,112,97,99,101,59,1,160,102,59,1,8469,4,13,59,67,68,69,71,72,76,78,80,82,83,84,86,3492,3494,3517,3536,3578,3657,3685,3784,3823,3860,3915,4066,4107,1,10988,4,2,111,117,3500,3510,110,103,114,117,101,110,116,59,1,8802,112,67,97,112,59,1,8813,111,117,98,108,101,86,101,114,116,105,99,97,108,66,97,114,59,1,8742,4,3,108,113,120,3544,3552,3571,101,109,101,110,116,59,1,8713,117,97,108,4,2,59,84,3561,3563,1,8800,105,108,100,101,59,3,8770,824,105,115,116,115,59,1,8708,114,101,97,116,101,114,4,7,59,69,70,71,76,83,84,3600,3602,3609,3621,3631,3637,3650,1,8815,113,117,97,108,59,1,8817,117,108,108,69,113,117,97,108,59,3,8807,824,114,101,97,116,101,114,59,3,8811,824,101,115,115,59,1,8825,108,97,110,116,69,113,117,97,108,59,3,10878,824,105,108,100,101,59,1,8821,117,109,112,4,2,68,69,3666,3677,111,119,110,72,117,109,112,59,3,8782,824,113,117,97,108,59,3,8783,824,101,4,2,102,115,3692,3724,116,84,114,105,97,110,103,108,101,4,3,59,66,69,3709,3711,3717,1,8938,97,114,59,3,10703,824,113,117,97,108,59,1,8940,115,4,6,59,69,71,76,83,84,3739,3741,3748,3757,3764,3777,1,8814,113,117,97,108,59,1,8816,114,101,97,116,101,114,59,1,8824,101,115,115,59,3,8810,824,108,97,110,116,69,113,117,97,108,59,3,10877,824,105,108,100,101,59,1,8820,101,115,116,101,100,4,2,71,76,3795,3812,114,101,97,116,101,114,71,114,101,97,116,101,114,59,3,10914,824,101,115,115,76,101,115,115,59,3,10913,824,114,101,99,101,100,101,115,4,3,59,69,83,3838,3840,3848,1,8832,113,117,97,108,59,3,10927,824,108,97,110,116,69,113,117,97,108,59,1,8928,4,2,101,105,3866,3881,118,101,114,115,101,69,108,101,109,101,110,116,59,1,8716,103,104,116,84,114,105,97,110,103,108,101,4,3,59,66,69,3900,3902,3908,1,8939,97,114,59,3,10704,824,113,117,97,108,59,1,8941,4,2,113,117,3921,3973,117,97,114,101,83,117,4,2,98,112,3933,3952,115,101,116,4,2,59,69,3942,3945,3,8847,824,113,117,97,108,59,1,8930,101,114,115,101,116,4,2,59,69,3963,3966,3,8848,824,113,117,97,108,59,1,8931,4,3,98,99,112,3981,4e3,4045,115,101,116,4,2,59,69,3990,3993,3,8834,8402,113,117,97,108,59,1,8840,99,101,101,100,115,4,4,59,69,83,84,4015,4017,4025,4037,1,8833,113,117,97,108,59,3,10928,824,108,97,110,116,69,113,117,97,108,59,1,8929,105,108,100,101,59,3,8831,824,101,114,115,101,116,4,2,59,69,4056,4059,3,8835,8402,113,117,97,108,59,1,8841,105,108,100,101,4,4,59,69,70,84,4080,4082,4089,4100,1,8769,113,117,97,108,59,1,8772,117,108,108,69,113,117,97,108,59,1,8775,105,108,100,101,59,1,8777,101,114,116,105,99,97,108,66,97,114,59,1,8740,99,114,59,3,55349,56489,105,108,100,101,5,209,1,59,4135,1,209,59,1,925,4,14,69,97,99,100,102,103,109,111,112,114,115,116,117,118,4170,4176,4187,4205,4212,4217,4228,4253,4259,4292,4295,4316,4337,4346,108,105,103,59,1,338,99,117,116,101,5,211,1,59,4185,1,211,4,2,105,121,4193,4202,114,99,5,212,1,59,4200,1,212,59,1,1054,98,108,97,99,59,1,336,114,59,3,55349,56594,114,97,118,101,5,210,1,59,4226,1,210,4,3,97,101,105,4236,4241,4246,99,114,59,1,332,103,97,59,1,937,99,114,111,110,59,1,927,112,102,59,3,55349,56646,101,110,67,117,114,108,121,4,2,68,81,4272,4285,111,117,98,108,101,81,117,111,116,101,59,1,8220,117,111,116,101,59,1,8216,59,1,10836,4,2,99,108,4301,4306,114,59,3,55349,56490,97,115,104,5,216,1,59,4314,1,216,105,4,2,108,109,4323,4332,100,101,5,213,1,59,4330,1,213,101,115,59,1,10807,109,108,5,214,1,59,4344,1,214,101,114,4,2,66,80,4354,4380,4,2,97,114,4360,4364,114,59,1,8254,97,99,4,2,101,107,4372,4375,59,1,9182,101,116,59,1,9140,97,114,101,110,116,104,101,115,105,115,59,1,9180,4,9,97,99,102,104,105,108,111,114,115,4413,4422,4426,4431,4435,4438,4448,4471,4561,114,116,105,97,108,68,59,1,8706,121,59,1,1055,114,59,3,55349,56595,105,59,1,934,59,1,928,117,115,77,105,110,117,115,59,1,177,4,2,105,112,4454,4467,110,99,97,114,101,112,108,97,110,101,59,1,8460,102,59,1,8473,4,4,59,101,105,111,4481,4483,4526,4531,1,10939,99,101,100,101,115,4,4,59,69,83,84,4498,4500,4507,4519,1,8826,113,117,97,108,59,1,10927,108,97,110,116,69,113,117,97,108,59,1,8828,105,108,100,101,59,1,8830,109,101,59,1,8243,4,2,100,112,4537,4543,117,99,116,59,1,8719,111,114,116,105,111,110,4,2,59,97,4555,4557,1,8759,108,59,1,8733,4,2,99,105,4567,4572,114,59,3,55349,56491,59,1,936,4,4,85,102,111,115,4585,4594,4599,4604,79,84,5,34,1,59,4592,1,34,114,59,3,55349,56596,112,102,59,1,8474,99,114,59,3,55349,56492,4,12,66,69,97,99,101,102,104,105,111,114,115,117,4636,4642,4650,4681,4704,4763,4767,4771,5047,5069,5081,5094,97,114,114,59,1,10512,71,5,174,1,59,4648,1,174,4,3,99,110,114,4658,4664,4668,117,116,101,59,1,340,103,59,1,10219,114,4,2,59,116,4675,4677,1,8608,108,59,1,10518,4,3,97,101,121,4689,4695,4701,114,111,110,59,1,344,100,105,108,59,1,342,59,1,1056,4,2,59,118,4710,4712,1,8476,101,114,115,101,4,2,69,85,4722,4748,4,2,108,113,4728,4736,101,109,101,110,116,59,1,8715,117,105,108,105,98,114,105,117,109,59,1,8651,112,69,113,117,105,108,105,98,114,105,117,109,59,1,10607,114,59,1,8476,111,59,1,929,103,104,116,4,8,65,67,68,70,84,85,86,97,4792,4840,4849,4905,4912,4972,5022,5040,4,2,110,114,4798,4811,103,108,101,66,114,97,99,107,101,116,59,1,10217,114,111,119,4,3,59,66,76,4822,4824,4829,1,8594,97,114,59,1,8677,101,102,116,65,114,114,111,119,59,1,8644,101,105,108,105,110,103,59,1,8969,111,4,2,117,119,4856,4869,98,108,101,66,114,97,99,107,101,116,59,1,10215,110,4,2,84,86,4876,4887,101,101,86,101,99,116,111,114,59,1,10589,101,99,116,111,114,4,2,59,66,4898,4900,1,8642,97,114,59,1,10581,108,111,111,114,59,1,8971,4,2,101,114,4918,4944,101,4,3,59,65,86,4927,4929,4936,1,8866,114,114,111,119,59,1,8614,101,99,116,111,114,59,1,10587,105,97,110,103,108,101,4,3,59,66,69,4958,4960,4965,1,8883,97,114,59,1,10704,113,117,97,108,59,1,8885,112,4,3,68,84,86,4981,4993,5004,111,119,110,86,101,99,116,111,114,59,1,10575,101,101,86,101,99,116,111,114,59,1,10588,101,99,116,111,114,4,2,59,66,5015,5017,1,8638,97,114,59,1,10580,101,99,116,111,114,4,2,59,66,5033,5035,1,8640,97,114,59,1,10579,114,114,111,119,59,1,8658,4,2,112,117,5053,5057,102,59,1,8477,110,100,73,109,112,108,105,101,115,59,1,10608,105,103,104,116,97,114,114,111,119,59,1,8667,4,2,99,104,5087,5091,114,59,1,8475,59,1,8625,108,101,68,101,108,97,121,101,100,59,1,10740,4,13,72,79,97,99,102,104,105,109,111,113,115,116,117,5134,5150,5157,5164,5198,5203,5259,5265,5277,5283,5374,5380,5385,4,2,67,99,5140,5146,72,99,121,59,1,1065,121,59,1,1064,70,84,99,121,59,1,1068,99,117,116,101,59,1,346,4,5,59,97,101,105,121,5176,5178,5184,5190,5195,1,10940,114,111,110,59,1,352,100,105,108,59,1,350,114,99,59,1,348,59,1,1057,114,59,3,55349,56598,111,114,116,4,4,68,76,82,85,5216,5227,5238,5250,111,119,110,65,114,114,111,119,59,1,8595,101,102,116,65,114,114,111,119,59,1,8592,105,103,104,116,65,114,114,111,119,59,1,8594,112,65,114,114,111,119,59,1,8593,103,109,97,59,1,931,97,108,108,67,105,114,99,108,101,59,1,8728,112,102,59,3,55349,56650,4,2,114,117,5289,5293,116,59,1,8730,97,114,101,4,4,59,73,83,85,5306,5308,5322,5367,1,9633,110,116,101,114,115,101,99,116,105,111,110,59,1,8851,117,4,2,98,112,5329,5347,115,101,116,4,2,59,69,5338,5340,1,8847,113,117,97,108,59,1,8849,101,114,115,101,116,4,2,59,69,5358,5360,1,8848,113,117,97,108,59,1,8850,110,105,111,110,59,1,8852,99,114,59,3,55349,56494,97,114,59,1,8902,4,4,98,99,109,112,5395,5420,5475,5478,4,2,59,115,5401,5403,1,8912,101,116,4,2,59,69,5411,5413,1,8912,113,117,97,108,59,1,8838,4,2,99,104,5426,5468,101,101,100,115,4,4,59,69,83,84,5440,5442,5449,5461,1,8827,113,117,97,108,59,1,10928,108,97,110,116,69,113,117,97,108,59,1,8829,105,108,100,101,59,1,8831,84,104,97,116,59,1,8715,59,1,8721,4,3,59,101,115,5486,5488,5507,1,8913,114,115,101,116,4,2,59,69,5498,5500,1,8835,113,117,97,108,59,1,8839,101,116,59,1,8913,4,11,72,82,83,97,99,102,104,105,111,114,115,5536,5546,5552,5567,5579,5602,5607,5655,5695,5701,5711,79,82,78,5,222,1,59,5544,1,222,65,68,69,59,1,8482,4,2,72,99,5558,5563,99,121,59,1,1035,121,59,1,1062,4,2,98,117,5573,5576,59,1,9,59,1,932,4,3,97,101,121,5587,5593,5599,114,111,110,59,1,356,100,105,108,59,1,354,59,1,1058,114,59,3,55349,56599,4,2,101,105,5613,5631,4,2,114,116,5619,5627,101,102,111,114,101,59,1,8756,97,59,1,920,4,2,99,110,5637,5647,107,83,112,97,99,101,59,3,8287,8202,83,112,97,99,101,59,1,8201,108,100,101,4,4,59,69,70,84,5668,5670,5677,5688,1,8764,113,117,97,108,59,1,8771,117,108,108,69,113,117,97,108,59,1,8773,105,108,100,101,59,1,8776,112,102,59,3,55349,56651,105,112,108,101,68,111,116,59,1,8411,4,2,99,116,5717,5722,114,59,3,55349,56495,114,111,107,59,1,358,4,14,97,98,99,100,102,103,109,110,111,112,114,115,116,117,5758,5789,5805,5823,5830,5835,5846,5852,5921,5937,6089,6095,6101,6108,4,2,99,114,5764,5774,117,116,101,5,218,1,59,5772,1,218,114,4,2,59,111,5781,5783,1,8607,99,105,114,59,1,10569,114,4,2,99,101,5796,5800,121,59,1,1038,118,101,59,1,364,4,2,105,121,5811,5820,114,99,5,219,1,59,5818,1,219,59,1,1059,98,108,97,99,59,1,368,114,59,3,55349,56600,114,97,118,101,5,217,1,59,5844,1,217,97,99,114,59,1,362,4,2,100,105,5858,5905,101,114,4,2,66,80,5866,5892,4,2,97,114,5872,5876,114,59,1,95,97,99,4,2,101,107,5884,5887,59,1,9183,101,116,59,1,9141,97,114,101,110,116,104,101,115,105,115,59,1,9181,111,110,4,2,59,80,5913,5915,1,8899,108,117,115,59,1,8846,4,2,103,112,5927,5932,111,110,59,1,370,102,59,3,55349,56652,4,8,65,68,69,84,97,100,112,115,5955,5985,5996,6009,6026,6033,6044,6075,114,114,111,119,4,3,59,66,68,5967,5969,5974,1,8593,97,114,59,1,10514,111,119,110,65,114,114,111,119,59,1,8645,111,119,110,65,114,114,111,119,59,1,8597,113,117,105,108,105,98,114,105,117,109,59,1,10606,101,101,4,2,59,65,6017,6019,1,8869,114,114,111,119,59,1,8613,114,114,111,119,59,1,8657,111,119,110,97,114,114,111,119,59,1,8661,101,114,4,2,76,82,6052,6063,101,102,116,65,114,114,111,119,59,1,8598,105,103,104,116,65,114,114,111,119,59,1,8599,105,4,2,59,108,6082,6084,1,978,111,110,59,1,933,105,110,103,59,1,366,99,114,59,3,55349,56496,105,108,100,101,59,1,360,109,108,5,220,1,59,6115,1,220,4,9,68,98,99,100,101,102,111,115,118,6137,6143,6148,6152,6166,6250,6255,6261,6267,97,115,104,59,1,8875,97,114,59,1,10987,121,59,1,1042,97,115,104,4,2,59,108,6161,6163,1,8873,59,1,10982,4,2,101,114,6172,6175,59,1,8897,4,3,98,116,121,6183,6188,6238,97,114,59,1,8214,4,2,59,105,6194,6196,1,8214,99,97,108,4,4,66,76,83,84,6209,6214,6220,6231,97,114,59,1,8739,105,110,101,59,1,124,101,112,97,114,97,116,111,114,59,1,10072,105,108,100,101,59,1,8768,84,104,105,110,83,112,97,99,101,59,1,8202,114,59,3,55349,56601,112,102,59,3,55349,56653,99,114,59,3,55349,56497,100,97,115,104,59,1,8874,4,5,99,101,102,111,115,6286,6292,6298,6303,6309,105,114,99,59,1,372,100,103,101,59,1,8896,114,59,3,55349,56602,112,102,59,3,55349,56654,99,114,59,3,55349,56498,4,4,102,105,111,115,6325,6330,6333,6339,114,59,3,55349,56603,59,1,926,112,102,59,3,55349,56655,99,114,59,3,55349,56499,4,9,65,73,85,97,99,102,111,115,117,6365,6370,6375,6380,6391,6405,6410,6416,6422,99,121,59,1,1071,99,121,59,1,1031,99,121,59,1,1070,99,117,116,101,5,221,1,59,6389,1,221,4,2,105,121,6397,6402,114,99,59,1,374,59,1,1067,114,59,3,55349,56604,112,102,59,3,55349,56656,99,114,59,3,55349,56500,109,108,59,1,376,4,8,72,97,99,100,101,102,111,115,6445,6450,6457,6472,6477,6501,6505,6510,99,121,59,1,1046,99,117,116,101,59,1,377,4,2,97,121,6463,6469,114,111,110,59,1,381,59,1,1047,111,116,59,1,379,4,2,114,116,6483,6497,111,87,105,100,116,104,83,112,97,99,101,59,1,8203,97,59,1,918,114,59,1,8488,112,102,59,1,8484,99,114,59,3,55349,56501,4,16,97,98,99,101,102,103,108,109,110,111,112,114,115,116,117,119,6550,6561,6568,6612,6622,6634,6645,6672,6699,6854,6870,6923,6933,6963,6974,6983,99,117,116,101,5,225,1,59,6559,1,225,114,101,118,101,59,1,259,4,6,59,69,100,105,117,121,6582,6584,6588,6591,6600,6609,1,8766,59,3,8766,819,59,1,8767,114,99,5,226,1,59,6598,1,226,116,101,5,180,1,59,6607,1,180,59,1,1072,108,105,103,5,230,1,59,6620,1,230,4,2,59,114,6628,6630,1,8289,59,3,55349,56606,114,97,118,101,5,224,1,59,6643,1,224,4,2,101,112,6651,6667,4,2,102,112,6657,6663,115,121,109,59,1,8501,104,59,1,8501,104,97,59,1,945,4,2,97,112,6678,6692,4,2,99,108,6684,6688,114,59,1,257,103,59,1,10815,5,38,1,59,6697,1,38,4,2,100,103,6705,6737,4,5,59,97,100,115,118,6717,6719,6724,6727,6734,1,8743,110,100,59,1,10837,59,1,10844,108,111,112,101,59,1,10840,59,1,10842,4,7,59,101,108,109,114,115,122,6753,6755,6758,6762,6814,6835,6848,1,8736,59,1,10660,101,59,1,8736,115,100,4,2,59,97,6770,6772,1,8737,4,8,97,98,99,100,101,102,103,104,6790,6793,6796,6799,6802,6805,6808,6811,59,1,10664,59,1,10665,59,1,10666,59,1,10667,59,1,10668,59,1,10669,59,1,10670,59,1,10671,116,4,2,59,118,6821,6823,1,8735,98,4,2,59,100,6830,6832,1,8894,59,1,10653,4,2,112,116,6841,6845,104,59,1,8738,59,1,197,97,114,114,59,1,9084,4,2,103,112,6860,6865,111,110,59,1,261,102,59,3,55349,56658,4,7,59,69,97,101,105,111,112,6886,6888,6891,6897,6900,6904,6908,1,8776,59,1,10864,99,105,114,59,1,10863,59,1,8778,100,59,1,8779,115,59,1,39,114,111,120,4,2,59,101,6917,6919,1,8776,113,59,1,8778,105,110,103,5,229,1,59,6931,1,229,4,3,99,116,121,6941,6946,6949,114,59,3,55349,56502,59,1,42,109,112,4,2,59,101,6957,6959,1,8776,113,59,1,8781,105,108,100,101,5,227,1,59,6972,1,227,109,108,5,228,1,59,6981,1,228,4,2,99,105,6989,6997,111,110,105,110,116,59,1,8755,110,116,59,1,10769,4,16,78,97,98,99,100,101,102,105,107,108,110,111,112,114,115,117,7036,7041,7119,7135,7149,7155,7219,7224,7347,7354,7463,7489,7786,7793,7814,7866,111,116,59,1,10989,4,2,99,114,7047,7094,107,4,4,99,101,112,115,7058,7064,7073,7080,111,110,103,59,1,8780,112,115,105,108,111,110,59,1,1014,114,105,109,101,59,1,8245,105,109,4,2,59,101,7088,7090,1,8765,113,59,1,8909,4,2,118,119,7100,7105,101,101,59,1,8893,101,100,4,2,59,103,7113,7115,1,8965,101,59,1,8965,114,107,4,2,59,116,7127,7129,1,9141,98,114,107,59,1,9142,4,2,111,121,7141,7146,110,103,59,1,8780,59,1,1073,113,117,111,59,1,8222,4,5,99,109,112,114,116,7167,7181,7188,7193,7199,97,117,115,4,2,59,101,7176,7178,1,8757,59,1,8757,112,116,121,118,59,1,10672,115,105,59,1,1014,110,111,117,59,1,8492,4,3,97,104,119,7207,7210,7213,59,1,946,59,1,8502,101,101,110,59,1,8812,114,59,3,55349,56607,103,4,7,99,111,115,116,117,118,119,7241,7262,7288,7305,7328,7335,7340,4,3,97,105,117,7249,7253,7258,112,59,1,8898,114,99,59,1,9711,112,59,1,8899,4,3,100,112,116,7270,7275,7281,111,116,59,1,10752,108,117,115,59,1,10753,105,109,101,115,59,1,10754,4,2,113,116,7294,7300,99,117,112,59,1,10758,97,114,59,1,9733,114,105,97,110,103,108,101,4,2,100,117,7318,7324,111,119,110,59,1,9661,112,59,1,9651,112,108,117,115,59,1,10756,101,101,59,1,8897,101,100,103,101,59,1,8896,97,114,111,119,59,1,10509,4,3,97,107,111,7362,7436,7458,4,2,99,110,7368,7432,107,4,3,108,115,116,7377,7386,7394,111,122,101,110,103,101,59,1,10731,113,117,97,114,101,59,1,9642,114,105,97,110,103,108,101,4,4,59,100,108,114,7411,7413,7419,7425,1,9652,111,119,110,59,1,9662,101,102,116,59,1,9666,105,103,104,116,59,1,9656,107,59,1,9251,4,2,49,51,7442,7454,4,2,50,52,7448,7451,59,1,9618,59,1,9617,52,59,1,9619,99,107,59,1,9608,4,2,101,111,7469,7485,4,2,59,113,7475,7478,3,61,8421,117,105,118,59,3,8801,8421,116,59,1,8976,4,4,112,116,119,120,7499,7504,7517,7523,102,59,3,55349,56659,4,2,59,116,7510,7512,1,8869,111,109,59,1,8869,116,105,101,59,1,8904,4,12,68,72,85,86,98,100,104,109,112,116,117,118,7549,7571,7597,7619,7655,7660,7682,7708,7715,7721,7728,7750,4,4,76,82,108,114,7559,7562,7565,7568,59,1,9559,59,1,9556,59,1,9558,59,1,9555,4,5,59,68,85,100,117,7583,7585,7588,7591,7594,1,9552,59,1,9574,59,1,9577,59,1,9572,59,1,9575,4,4,76,82,108,114,7607,7610,7613,7616,59,1,9565,59,1,9562,59,1,9564,59,1,9561,4,7,59,72,76,82,104,108,114,7635,7637,7640,7643,7646,7649,7652,1,9553,59,1,9580,59,1,9571,59,1,9568,59,1,9579,59,1,9570,59,1,9567,111,120,59,1,10697,4,4,76,82,108,114,7670,7673,7676,7679,59,1,9557,59,1,9554,59,1,9488,59,1,9484,4,5,59,68,85,100,117,7694,7696,7699,7702,7705,1,9472,59,1,9573,59,1,9576,59,1,9516,59,1,9524,105,110,117,115,59,1,8863,108,117,115,59,1,8862,105,109,101,115,59,1,8864,4,4,76,82,108,114,7738,7741,7744,7747,59,1,9563,59,1,9560,59,1,9496,59,1,9492,4,7,59,72,76,82,104,108,114,7766,7768,7771,7774,7777,7780,7783,1,9474,59,1,9578,59,1,9569,59,1,9566,59,1,9532,59,1,9508,59,1,9500,114,105,109,101,59,1,8245,4,2,101,118,7799,7804,118,101,59,1,728,98,97,114,5,166,1,59,7812,1,166,4,4,99,101,105,111,7824,7829,7834,7846,114,59,3,55349,56503,109,105,59,1,8271,109,4,2,59,101,7841,7843,1,8765,59,1,8909,108,4,3,59,98,104,7855,7857,7860,1,92,59,1,10693,115,117,98,59,1,10184,4,2,108,109,7872,7885,108,4,2,59,101,7879,7881,1,8226,116,59,1,8226,112,4,3,59,69,101,7894,7896,7899,1,8782,59,1,10926,4,2,59,113,7905,7907,1,8783,59,1,8783,4,15,97,99,100,101,102,104,105,108,111,114,115,116,117,119,121,7942,8021,8075,8080,8121,8126,8157,8279,8295,8430,8446,8485,8491,8707,8726,4,3,99,112,114,7950,7956,8007,117,116,101,59,1,263,4,6,59,97,98,99,100,115,7970,7972,7977,7984,7998,8003,1,8745,110,100,59,1,10820,114,99,117,112,59,1,10825,4,2,97,117,7990,7994,112,59,1,10827,112,59,1,10823,111,116,59,1,10816,59,3,8745,65024,4,2,101,111,8013,8017,116,59,1,8257,110,59,1,711,4,4,97,101,105,117,8031,8046,8056,8061,4,2,112,114,8037,8041,115,59,1,10829,111,110,59,1,269,100,105,108,5,231,1,59,8054,1,231,114,99,59,1,265,112,115,4,2,59,115,8069,8071,1,10828,109,59,1,10832,111,116,59,1,267,4,3,100,109,110,8088,8097,8104,105,108,5,184,1,59,8095,1,184,112,116,121,118,59,1,10674,116,5,162,2,59,101,8112,8114,1,162,114,100,111,116,59,1,183,114,59,3,55349,56608,4,3,99,101,105,8134,8138,8154,121,59,1,1095,99,107,4,2,59,109,8146,8148,1,10003,97,114,107,59,1,10003,59,1,967,114,4,7,59,69,99,101,102,109,115,8174,8176,8179,8258,8261,8268,8273,1,9675,59,1,10691,4,3,59,101,108,8187,8189,8193,1,710,113,59,1,8791,101,4,2,97,100,8200,8223,114,114,111,119,4,2,108,114,8210,8216,101,102,116,59,1,8634,105,103,104,116,59,1,8635,4,5,82,83,97,99,100,8235,8238,8241,8246,8252,59,1,174,59,1,9416,115,116,59,1,8859,105,114,99,59,1,8858,97,115,104,59,1,8861,59,1,8791,110,105,110,116,59,1,10768,105,100,59,1,10991,99,105,114,59,1,10690,117,98,115,4,2,59,117,8288,8290,1,9827,105,116,59,1,9827,4,4,108,109,110,112,8305,8326,8376,8400,111,110,4,2,59,101,8313,8315,1,58,4,2,59,113,8321,8323,1,8788,59,1,8788,4,2,109,112,8332,8344,97,4,2,59,116,8339,8341,1,44,59,1,64,4,3,59,102,108,8352,8354,8358,1,8705,110,59,1,8728,101,4,2,109,120,8365,8371,101,110,116,59,1,8705,101,115,59,1,8450,4,2,103,105,8382,8395,4,2,59,100,8388,8390,1,8773,111,116,59,1,10861,110,116,59,1,8750,4,3,102,114,121,8408,8412,8417,59,3,55349,56660,111,100,59,1,8720,5,169,2,59,115,8424,8426,1,169,114,59,1,8471,4,2,97,111,8436,8441,114,114,59,1,8629,115,115,59,1,10007,4,2,99,117,8452,8457,114,59,3,55349,56504,4,2,98,112,8463,8474,4,2,59,101,8469,8471,1,10959,59,1,10961,4,2,59,101,8480,8482,1,10960,59,1,10962,100,111,116,59,1,8943,4,7,100,101,108,112,114,118,119,8507,8522,8536,8550,8600,8697,8702,97,114,114,4,2,108,114,8516,8519,59,1,10552,59,1,10549,4,2,112,115,8528,8532,114,59,1,8926,99,59,1,8927,97,114,114,4,2,59,112,8545,8547,1,8630,59,1,10557,4,6,59,98,99,100,111,115,8564,8566,8573,8587,8592,8596,1,8746,114,99,97,112,59,1,10824,4,2,97,117,8579,8583,112,59,1,10822,112,59,1,10826,111,116,59,1,8845,114,59,1,10821,59,3,8746,65024,4,4,97,108,114,118,8610,8623,8663,8672,114,114,4,2,59,109,8618,8620,1,8631,59,1,10556,121,4,3,101,118,119,8632,8651,8656,113,4,2,112,115,8639,8645,114,101,99,59,1,8926,117,99,99,59,1,8927,101,101,59,1,8910,101,100,103,101,59,1,8911,101,110,5,164,1,59,8670,1,164,101,97,114,114,111,119,4,2,108,114,8684,8690,101,102,116,59,1,8630,105,103,104,116,59,1,8631,101,101,59,1,8910,101,100,59,1,8911,4,2,99,105,8713,8721,111,110,105,110,116,59,1,8754,110,116,59,1,8753,108,99,116,121,59,1,9005,4,19,65,72,97,98,99,100,101,102,104,105,106,108,111,114,115,116,117,119,122,8773,8778,8783,8821,8839,8854,8887,8914,8930,8944,9036,9041,9058,9197,9227,9258,9281,9297,9305,114,114,59,1,8659,97,114,59,1,10597,4,4,103,108,114,115,8793,8799,8805,8809,103,101,114,59,1,8224,101,116,104,59,1,8504,114,59,1,8595,104,4,2,59,118,8816,8818,1,8208,59,1,8867,4,2,107,108,8827,8834,97,114,111,119,59,1,10511,97,99,59,1,733,4,2,97,121,8845,8851,114,111,110,59,1,271,59,1,1076,4,3,59,97,111,8862,8864,8880,1,8518,4,2,103,114,8870,8876,103,101,114,59,1,8225,114,59,1,8650,116,115,101,113,59,1,10871,4,3,103,108,109,8895,8902,8907,5,176,1,59,8900,1,176,116,97,59,1,948,112,116,121,118,59,1,10673,4,2,105,114,8920,8926,115,104,116,59,1,10623,59,3,55349,56609,97,114,4,2,108,114,8938,8941,59,1,8643,59,1,8642,4,5,97,101,103,115,118,8956,8986,8989,8996,9001,109,4,3,59,111,115,8965,8967,8983,1,8900,110,100,4,2,59,115,8975,8977,1,8900,117,105,116,59,1,9830,59,1,9830,59,1,168,97,109,109,97,59,1,989,105,110,59,1,8946,4,3,59,105,111,9009,9011,9031,1,247,100,101,5,247,2,59,111,9020,9022,1,247,110,116,105,109,101,115,59,1,8903,110,120,59,1,8903,99,121,59,1,1106,99,4,2,111,114,9048,9053,114,110,59,1,8990,111,112,59,1,8973,4,5,108,112,116,117,119,9070,9076,9081,9130,9144,108,97,114,59,1,36,102,59,3,55349,56661,4,5,59,101,109,112,115,9093,9095,9109,9116,9122,1,729,113,4,2,59,100,9102,9104,1,8784,111,116,59,1,8785,105,110,117,115,59,1,8760,108,117,115,59,1,8724,113,117,97,114,101,59,1,8865,98,108,101,98,97,114,119,101,100,103,101,59,1,8966,110,4,3,97,100,104,9153,9160,9172,114,114,111,119,59,1,8595,111,119,110,97,114,114,111,119,115,59,1,8650,97,114,112,111,111,110,4,2,108,114,9184,9190,101,102,116,59,1,8643,105,103,104,116,59,1,8642,4,2,98,99,9203,9211,107,97,114,111,119,59,1,10512,4,2,111,114,9217,9222,114,110,59,1,8991,111,112,59,1,8972,4,3,99,111,116,9235,9248,9252,4,2,114,121,9241,9245,59,3,55349,56505,59,1,1109,108,59,1,10742,114,111,107,59,1,273,4,2,100,114,9264,9269,111,116,59,1,8945,105,4,2,59,102,9276,9278,1,9663,59,1,9662,4,2,97,104,9287,9292,114,114,59,1,8693,97,114,59,1,10607,97,110,103,108,101,59,1,10662,4,2,99,105,9311,9315,121,59,1,1119,103,114,97,114,114,59,1,10239,4,18,68,97,99,100,101,102,103,108,109,110,111,112,113,114,115,116,117,120,9361,9376,9398,9439,9444,9447,9462,9495,9531,9585,9598,9614,9659,9755,9771,9792,9808,9826,4,2,68,111,9367,9372,111,116,59,1,10871,116,59,1,8785,4,2,99,115,9382,9392,117,116,101,5,233,1,59,9390,1,233,116,101,114,59,1,10862,4,4,97,105,111,121,9408,9414,9430,9436,114,111,110,59,1,283,114,4,2,59,99,9421,9423,1,8790,5,234,1,59,9428,1,234,108,111,110,59,1,8789,59,1,1101,111,116,59,1,279,59,1,8519,4,2,68,114,9453,9458,111,116,59,1,8786,59,3,55349,56610,4,3,59,114,115,9470,9472,9482,1,10906,97,118,101,5,232,1,59,9480,1,232,4,2,59,100,9488,9490,1,10902,111,116,59,1,10904,4,4,59,105,108,115,9505,9507,9515,9518,1,10905,110,116,101,114,115,59,1,9191,59,1,8467,4,2,59,100,9524,9526,1,10901,111,116,59,1,10903,4,3,97,112,115,9539,9544,9564,99,114,59,1,275,116,121,4,3,59,115,118,9554,9556,9561,1,8709,101,116,59,1,8709,59,1,8709,112,4,2,49,59,9571,9583,4,2,51,52,9577,9580,59,1,8196,59,1,8197,1,8195,4,2,103,115,9591,9594,59,1,331,112,59,1,8194,4,2,103,112,9604,9609,111,110,59,1,281,102,59,3,55349,56662,4,3,97,108,115,9622,9635,9640,114,4,2,59,115,9629,9631,1,8917,108,59,1,10723,117,115,59,1,10865,105,4,3,59,108,118,9649,9651,9656,1,949,111,110,59,1,949,59,1,1013,4,4,99,115,117,118,9669,9686,9716,9747,4,2,105,111,9675,9680,114,99,59,1,8790,108,111,110,59,1,8789,4,2,105,108,9692,9696,109,59,1,8770,97,110,116,4,2,103,108,9705,9710,116,114,59,1,10902,101,115,115,59,1,10901,4,3,97,101,105,9724,9729,9734,108,115,59,1,61,115,116,59,1,8799,118,4,2,59,68,9741,9743,1,8801,68,59,1,10872,112,97,114,115,108,59,1,10725,4,2,68,97,9761,9766,111,116,59,1,8787,114,114,59,1,10609,4,3,99,100,105,9779,9783,9788,114,59,1,8495,111,116,59,1,8784,109,59,1,8770,4,2,97,104,9798,9801,59,1,951,5,240,1,59,9806,1,240,4,2,109,114,9814,9822,108,5,235,1,59,9820,1,235,111,59,1,8364,4,3,99,105,112,9834,9838,9843,108,59,1,33,115,116,59,1,8707,4,2,101,111,9849,9859,99,116,97,116,105,111,110,59,1,8496,110,101,110,116,105,97,108,101,59,1,8519,4,12,97,99,101,102,105,106,108,110,111,112,114,115,9896,9910,9914,9921,9954,9960,9967,9989,9994,10027,10036,10164,108,108,105,110,103,100,111,116,115,101,113,59,1,8786,121,59,1,1092,109,97,108,101,59,1,9792,4,3,105,108,114,9929,9935,9950,108,105,103,59,1,64259,4,2,105,108,9941,9945,103,59,1,64256,105,103,59,1,64260,59,3,55349,56611,108,105,103,59,1,64257,108,105,103,59,3,102,106,4,3,97,108,116,9975,9979,9984,116,59,1,9837,105,103,59,1,64258,110,115,59,1,9649,111,102,59,1,402,4,2,112,114,1e4,10005,102,59,3,55349,56663,4,2,97,107,10011,10016,108,108,59,1,8704,4,2,59,118,10022,10024,1,8916,59,1,10969,97,114,116,105,110,116,59,1,10765,4,2,97,111,10042,10159,4,2,99,115,10048,10155,4,6,49,50,51,52,53,55,10062,10102,10114,10135,10139,10151,4,6,50,51,52,53,54,56,10076,10083,10086,10093,10096,10099,5,189,1,59,10081,1,189,59,1,8531,5,188,1,59,10091,1,188,59,1,8533,59,1,8537,59,1,8539,4,2,51,53,10108,10111,59,1,8532,59,1,8534,4,3,52,53,56,10122,10129,10132,5,190,1,59,10127,1,190,59,1,8535,59,1,8540,53,59,1,8536,4,2,54,56,10145,10148,59,1,8538,59,1,8541,56,59,1,8542,108,59,1,8260,119,110,59,1,8994,99,114,59,3,55349,56507,4,17,69,97,98,99,100,101,102,103,105,106,108,110,111,114,115,116,118,10206,10217,10247,10254,10268,10273,10358,10363,10374,10380,10385,10406,10458,10464,10470,10497,10610,4,2,59,108,10212,10214,1,8807,59,1,10892,4,3,99,109,112,10225,10231,10244,117,116,101,59,1,501,109,97,4,2,59,100,10239,10241,1,947,59,1,989,59,1,10886,114,101,118,101,59,1,287,4,2,105,121,10260,10265,114,99,59,1,285,59,1,1075,111,116,59,1,289,4,4,59,108,113,115,10283,10285,10288,10308,1,8805,59,1,8923,4,3,59,113,115,10296,10298,10301,1,8805,59,1,8807,108,97,110,116,59,1,10878,4,4,59,99,100,108,10318,10320,10324,10345,1,10878,99,59,1,10921,111,116,4,2,59,111,10332,10334,1,10880,4,2,59,108,10340,10342,1,10882,59,1,10884,4,2,59,101,10351,10354,3,8923,65024,115,59,1,10900,114,59,3,55349,56612,4,2,59,103,10369,10371,1,8811,59,1,8921,109,101,108,59,1,8503,99,121,59,1,1107,4,4,59,69,97,106,10395,10397,10400,10403,1,8823,59,1,10898,59,1,10917,59,1,10916,4,4,69,97,101,115,10416,10419,10434,10453,59,1,8809,112,4,2,59,112,10426,10428,1,10890,114,111,120,59,1,10890,4,2,59,113,10440,10442,1,10888,4,2,59,113,10448,10450,1,10888,59,1,8809,105,109,59,1,8935,112,102,59,3,55349,56664,97,118,101,59,1,96,4,2,99,105,10476,10480,114,59,1,8458,109,4,3,59,101,108,10489,10491,10494,1,8819,59,1,10894,59,1,10896,5,62,6,59,99,100,108,113,114,10512,10514,10527,10532,10538,10545,1,62,4,2,99,105,10520,10523,59,1,10919,114,59,1,10874,111,116,59,1,8919,80,97,114,59,1,10645,117,101,115,116,59,1,10876,4,5,97,100,101,108,115,10557,10574,10579,10599,10605,4,2,112,114,10563,10570,112,114,111,120,59,1,10886,114,59,1,10616,111,116,59,1,8919,113,4,2,108,113,10586,10592,101,115,115,59,1,8923,108,101,115,115,59,1,10892,101,115,115,59,1,8823,105,109,59,1,8819,4,2,101,110,10616,10626,114,116,110,101,113,113,59,3,8809,65024,69,59,3,8809,65024,4,10,65,97,98,99,101,102,107,111,115,121,10653,10658,10713,10718,10724,10760,10765,10786,10850,10875,114,114,59,1,8660,4,4,105,108,109,114,10668,10674,10678,10684,114,115,112,59,1,8202,102,59,1,189,105,108,116,59,1,8459,4,2,100,114,10690,10695,99,121,59,1,1098,4,3,59,99,119,10703,10705,10710,1,8596,105,114,59,1,10568,59,1,8621,97,114,59,1,8463,105,114,99,59,1,293,4,3,97,108,114,10732,10748,10754,114,116,115,4,2,59,117,10741,10743,1,9829,105,116,59,1,9829,108,105,112,59,1,8230,99,111,110,59,1,8889,114,59,3,55349,56613,115,4,2,101,119,10772,10779,97,114,111,119,59,1,10533,97,114,111,119,59,1,10534,4,5,97,109,111,112,114,10798,10803,10809,10839,10844,114,114,59,1,8703,116,104,116,59,1,8763,107,4,2,108,114,10816,10827,101,102,116,97,114,114,111,119,59,1,8617,105,103,104,116,97,114,114,111,119,59,1,8618,102,59,3,55349,56665,98,97,114,59,1,8213,4,3,99,108,116,10858,10863,10869,114,59,3,55349,56509,97,115,104,59,1,8463,114,111,107,59,1,295,4,2,98,112,10881,10887,117,108,108,59,1,8259,104,101,110,59,1,8208,4,15,97,99,101,102,103,105,106,109,110,111,112,113,115,116,117,10925,10936,10958,10977,10990,11001,11039,11045,11101,11192,11220,11226,11237,11285,11299,99,117,116,101,5,237,1,59,10934,1,237,4,3,59,105,121,10944,10946,10955,1,8291,114,99,5,238,1,59,10953,1,238,59,1,1080,4,2,99,120,10964,10968,121,59,1,1077,99,108,5,161,1,59,10975,1,161,4,2,102,114,10983,10986,59,1,8660,59,3,55349,56614,114,97,118,101,5,236,1,59,10999,1,236,4,4,59,105,110,111,11011,11013,11028,11034,1,8520,4,2,105,110,11019,11024,110,116,59,1,10764,116,59,1,8749,102,105,110,59,1,10716,116,97,59,1,8489,108,105,103,59,1,307,4,3,97,111,112,11053,11092,11096,4,3,99,103,116,11061,11065,11088,114,59,1,299,4,3,101,108,112,11073,11076,11082,59,1,8465,105,110,101,59,1,8464,97,114,116,59,1,8465,104,59,1,305,102,59,1,8887,101,100,59,1,437,4,5,59,99,102,111,116,11113,11115,11121,11136,11142,1,8712,97,114,101,59,1,8453,105,110,4,2,59,116,11129,11131,1,8734,105,101,59,1,10717,100,111,116,59,1,305,4,5,59,99,101,108,112,11154,11156,11161,11179,11186,1,8747,97,108,59,1,8890,4,2,103,114,11167,11173,101,114,115,59,1,8484,99,97,108,59,1,8890,97,114,104,107,59,1,10775,114,111,100,59,1,10812,4,4,99,103,112,116,11202,11206,11211,11216,121,59,1,1105,111,110,59,1,303,102,59,3,55349,56666,97,59,1,953,114,111,100,59,1,10812,117,101,115,116,5,191,1,59,11235,1,191,4,2,99,105,11243,11248,114,59,3,55349,56510,110,4,5,59,69,100,115,118,11261,11263,11266,11271,11282,1,8712,59,1,8953,111,116,59,1,8949,4,2,59,118,11277,11279,1,8948,59,1,8947,59,1,8712,4,2,59,105,11291,11293,1,8290,108,100,101,59,1,297,4,2,107,109,11305,11310,99,121,59,1,1110,108,5,239,1,59,11316,1,239,4,6,99,102,109,111,115,117,11332,11346,11351,11357,11363,11380,4,2,105,121,11338,11343,114,99,59,1,309,59,1,1081,114,59,3,55349,56615,97,116,104,59,1,567,112,102,59,3,55349,56667,4,2,99,101,11369,11374,114,59,3,55349,56511,114,99,121,59,1,1112,107,99,121,59,1,1108,4,8,97,99,102,103,104,106,111,115,11404,11418,11433,11438,11445,11450,11455,11461,112,112,97,4,2,59,118,11413,11415,1,954,59,1,1008,4,2,101,121,11424,11430,100,105,108,59,1,311,59,1,1082,114,59,3,55349,56616,114,101,101,110,59,1,312,99,121,59,1,1093,99,121,59,1,1116,112,102,59,3,55349,56668,99,114,59,3,55349,56512,4,23,65,66,69,72,97,98,99,100,101,102,103,104,106,108,109,110,111,112,114,115,116,117,118,11515,11538,11544,11555,11560,11721,11780,11818,11868,12136,12160,12171,12203,12208,12246,12275,12327,12509,12523,12569,12641,12732,12752,4,3,97,114,116,11523,11528,11532,114,114,59,1,8666,114,59,1,8656,97,105,108,59,1,10523,97,114,114,59,1,10510,4,2,59,103,11550,11552,1,8806,59,1,10891,97,114,59,1,10594,4,9,99,101,103,109,110,112,113,114,116,11580,11586,11594,11600,11606,11624,11627,11636,11694,117,116,101,59,1,314,109,112,116,121,118,59,1,10676,114,97,110,59,1,8466,98,100,97,59,1,955,103,4,3,59,100,108,11615,11617,11620,1,10216,59,1,10641,101,59,1,10216,59,1,10885,117,111,5,171,1,59,11634,1,171,114,4,8,59,98,102,104,108,112,115,116,11655,11657,11669,11673,11677,11681,11685,11690,1,8592,4,2,59,102,11663,11665,1,8676,115,59,1,10527,115,59,1,10525,107,59,1,8617,112,59,1,8619,108,59,1,10553,105,109,59,1,10611,108,59,1,8610,4,3,59,97,101,11702,11704,11709,1,10923,105,108,59,1,10521,4,2,59,115,11715,11717,1,10925,59,3,10925,65024,4,3,97,98,114,11729,11734,11739,114,114,59,1,10508,114,107,59,1,10098,4,2,97,107,11745,11758,99,4,2,101,107,11752,11755,59,1,123,59,1,91,4,2,101,115,11764,11767,59,1,10635,108,4,2,100,117,11774,11777,59,1,10639,59,1,10637,4,4,97,101,117,121,11790,11796,11811,11815,114,111,110,59,1,318,4,2,100,105,11802,11807,105,108,59,1,316,108,59,1,8968,98,59,1,123,59,1,1083,4,4,99,113,114,115,11828,11832,11845,11864,97,59,1,10550,117,111,4,2,59,114,11840,11842,1,8220,59,1,8222,4,2,100,117,11851,11857,104,97,114,59,1,10599,115,104,97,114,59,1,10571,104,59,1,8626,4,5,59,102,103,113,115,11880,11882,12008,12011,12031,1,8804,116,4,5,97,104,108,114,116,11895,11913,11935,11947,11996,114,114,111,119,4,2,59,116,11905,11907,1,8592,97,105,108,59,1,8610,97,114,112,111,111,110,4,2,100,117,11925,11931,111,119,110,59,1,8637,112,59,1,8636,101,102,116,97,114,114,111,119,115,59,1,8647,105,103,104,116,4,3,97,104,115,11959,11974,11984,114,114,111,119,4,2,59,115,11969,11971,1,8596,59,1,8646,97,114,112,111,111,110,115,59,1,8651,113,117,105,103,97,114,114,111,119,59,1,8621,104,114,101,101,116,105,109,101,115,59,1,8907,59,1,8922,4,3,59,113,115,12019,12021,12024,1,8804,59,1,8806,108,97,110,116,59,1,10877,4,5,59,99,100,103,115,12043,12045,12049,12070,12083,1,10877,99,59,1,10920,111,116,4,2,59,111,12057,12059,1,10879,4,2,59,114,12065,12067,1,10881,59,1,10883,4,2,59,101,12076,12079,3,8922,65024,115,59,1,10899,4,5,97,100,101,103,115,12095,12103,12108,12126,12131,112,112,114,111,120,59,1,10885,111,116,59,1,8918,113,4,2,103,113,12115,12120,116,114,59,1,8922,103,116,114,59,1,10891,116,114,59,1,8822,105,109,59,1,8818,4,3,105,108,114,12144,12150,12156,115,104,116,59,1,10620,111,111,114,59,1,8970,59,3,55349,56617,4,2,59,69,12166,12168,1,8822,59,1,10897,4,2,97,98,12177,12198,114,4,2,100,117,12184,12187,59,1,8637,4,2,59,108,12193,12195,1,8636,59,1,10602,108,107,59,1,9604,99,121,59,1,1113,4,5,59,97,99,104,116,12220,12222,12227,12235,12241,1,8810,114,114,59,1,8647,111,114,110,101,114,59,1,8990,97,114,100,59,1,10603,114,105,59,1,9722,4,2,105,111,12252,12258,100,111,116,59,1,320,117,115,116,4,2,59,97,12267,12269,1,9136,99,104,101,59,1,9136,4,4,69,97,101,115,12285,12288,12303,12322,59,1,8808,112,4,2,59,112,12295,12297,1,10889,114,111,120,59,1,10889,4,2,59,113,12309,12311,1,10887,4,2,59,113,12317,12319,1,10887,59,1,8808,105,109,59,1,8934,4,8,97,98,110,111,112,116,119,122,12345,12359,12364,12421,12446,12467,12474,12490,4,2,110,114,12351,12355,103,59,1,10220,114,59,1,8701,114,107,59,1,10214,103,4,3,108,109,114,12373,12401,12409,101,102,116,4,2,97,114,12382,12389,114,114,111,119,59,1,10229,105,103,104,116,97,114,114,111,119,59,1,10231,97,112,115,116,111,59,1,10236,105,103,104,116,97,114,114,111,119,59,1,10230,112,97,114,114,111,119,4,2,108,114,12433,12439,101,102,116,59,1,8619,105,103,104,116,59,1,8620,4,3,97,102,108,12454,12458,12462,114,59,1,10629,59,3,55349,56669,117,115,59,1,10797,105,109,101,115,59,1,10804,4,2,97,98,12480,12485,115,116,59,1,8727,97,114,59,1,95,4,3,59,101,102,12498,12500,12506,1,9674,110,103,101,59,1,9674,59,1,10731,97,114,4,2,59,108,12517,12519,1,40,116,59,1,10643,4,5,97,99,104,109,116,12535,12540,12548,12561,12564,114,114,59,1,8646,111,114,110,101,114,59,1,8991,97,114,4,2,59,100,12556,12558,1,8651,59,1,10605,59,1,8206,114,105,59,1,8895,4,6,97,99,104,105,113,116,12583,12589,12594,12597,12614,12635,113,117,111,59,1,8249,114,59,3,55349,56513,59,1,8624,109,4,3,59,101,103,12606,12608,12611,1,8818,59,1,10893,59,1,10895,4,2,98,117,12620,12623,59,1,91,111,4,2,59,114,12630,12632,1,8216,59,1,8218,114,111,107,59,1,322,5,60,8,59,99,100,104,105,108,113,114,12660,12662,12675,12680,12686,12692,12698,12705,1,60,4,2,99,105,12668,12671,59,1,10918,114,59,1,10873,111,116,59,1,8918,114,101,101,59,1,8907,109,101,115,59,1,8905,97,114,114,59,1,10614,117,101,115,116,59,1,10875,4,2,80,105,12711,12716,97,114,59,1,10646,4,3,59,101,102,12724,12726,12729,1,9667,59,1,8884,59,1,9666,114,4,2,100,117,12739,12746,115,104,97,114,59,1,10570,104,97,114,59,1,10598,4,2,101,110,12758,12768,114,116,110,101,113,113,59,3,8808,65024,69,59,3,8808,65024,4,14,68,97,99,100,101,102,104,105,108,110,111,112,115,117,12803,12809,12893,12908,12914,12928,12933,12937,13011,13025,13032,13049,13052,13069,68,111,116,59,1,8762,4,4,99,108,112,114,12819,12827,12849,12887,114,5,175,1,59,12825,1,175,4,2,101,116,12833,12836,59,1,9794,4,2,59,101,12842,12844,1,10016,115,101,59,1,10016,4,2,59,115,12855,12857,1,8614,116,111,4,4,59,100,108,117,12869,12871,12877,12883,1,8614,111,119,110,59,1,8615,101,102,116,59,1,8612,112,59,1,8613,107,101,114,59,1,9646,4,2,111,121,12899,12905,109,109,97,59,1,10793,59,1,1084,97,115,104,59,1,8212,97,115,117,114,101,100,97,110,103,108,101,59,1,8737,114,59,3,55349,56618,111,59,1,8487,4,3,99,100,110,12945,12954,12985,114,111,5,181,1,59,12952,1,181,4,4,59,97,99,100,12964,12966,12971,12976,1,8739,115,116,59,1,42,105,114,59,1,10992,111,116,5,183,1,59,12983,1,183,117,115,4,3,59,98,100,12995,12997,13e3,1,8722,59,1,8863,4,2,59,117,13006,13008,1,8760,59,1,10794,4,2,99,100,13017,13021,112,59,1,10971,114,59,1,8230,112,108,117,115,59,1,8723,4,2,100,112,13038,13044,101,108,115,59,1,8871,102,59,3,55349,56670,59,1,8723,4,2,99,116,13058,13063,114,59,3,55349,56514,112,111,115,59,1,8766,4,3,59,108,109,13077,13079,13087,1,956,116,105,109,97,112,59,1,8888,97,112,59,1,8888,4,24,71,76,82,86,97,98,99,100,101,102,103,104,105,106,108,109,111,112,114,115,116,117,118,119,13142,13165,13217,13229,13247,13330,13359,13414,13420,13508,13513,13579,13602,13626,13631,13762,13767,13855,13936,13995,14214,14285,14312,14432,4,2,103,116,13148,13152,59,3,8921,824,4,2,59,118,13158,13161,3,8811,8402,59,3,8811,824,4,3,101,108,116,13173,13200,13204,102,116,4,2,97,114,13181,13188,114,114,111,119,59,1,8653,105,103,104,116,97,114,114,111,119,59,1,8654,59,3,8920,824,4,2,59,118,13210,13213,3,8810,8402,59,3,8810,824,105,103,104,116,97,114,114,111,119,59,1,8655,4,2,68,100,13235,13241,97,115,104,59,1,8879,97,115,104,59,1,8878,4,5,98,99,110,112,116,13259,13264,13270,13275,13308,108,97,59,1,8711,117,116,101,59,1,324,103,59,3,8736,8402,4,5,59,69,105,111,112,13287,13289,13293,13298,13302,1,8777,59,3,10864,824,100,59,3,8779,824,115,59,1,329,114,111,120,59,1,8777,117,114,4,2,59,97,13316,13318,1,9838,108,4,2,59,115,13325,13327,1,9838,59,1,8469,4,2,115,117,13336,13344,112,5,160,1,59,13342,1,160,109,112,4,2,59,101,13352,13355,3,8782,824,59,3,8783,824,4,5,97,101,111,117,121,13371,13385,13391,13407,13411,4,2,112,114,13377,13380,59,1,10819,111,110,59,1,328,100,105,108,59,1,326,110,103,4,2,59,100,13399,13401,1,8775,111,116,59,3,10861,824,112,59,1,10818,59,1,1085,97,115,104,59,1,8211,4,7,59,65,97,100,113,115,120,13436,13438,13443,13466,13472,13478,13494,1,8800,114,114,59,1,8663,114,4,2,104,114,13450,13454,107,59,1,10532,4,2,59,111,13460,13462,1,8599,119,59,1,8599,111,116,59,3,8784,824,117,105,118,59,1,8802,4,2,101,105,13484,13489,97,114,59,1,10536,109,59,3,8770,824,105,115,116,4,2,59,115,13503,13505,1,8708,59,1,8708,114,59,3,55349,56619,4,4,69,101,115,116,13523,13527,13563,13568,59,3,8807,824,4,3,59,113,115,13535,13537,13559,1,8817,4,3,59,113,115,13545,13547,13551,1,8817,59,3,8807,824,108,97,110,116,59,3,10878,824,59,3,10878,824,105,109,59,1,8821,4,2,59,114,13574,13576,1,8815,59,1,8815,4,3,65,97,112,13587,13592,13597,114,114,59,1,8654,114,114,59,1,8622,97,114,59,1,10994,4,3,59,115,118,13610,13612,13623,1,8715,4,2,59,100,13618,13620,1,8956,59,1,8954,59,1,8715,99,121,59,1,1114,4,7,65,69,97,100,101,115,116,13647,13652,13656,13661,13665,13737,13742,114,114,59,1,8653,59,3,8806,824,114,114,59,1,8602,114,59,1,8229,4,4,59,102,113,115,13675,13677,13703,13725,1,8816,116,4,2,97,114,13684,13691,114,114,111,119,59,1,8602,105,103,104,116,97,114,114,111,119,59,1,8622,4,3,59,113,115,13711,13713,13717,1,8816,59,3,8806,824,108,97,110,116,59,3,10877,824,4,2,59,115,13731,13734,3,10877,824,59,1,8814,105,109,59,1,8820,4,2,59,114,13748,13750,1,8814,105,4,2,59,101,13757,13759,1,8938,59,1,8940,105,100,59,1,8740,4,2,112,116,13773,13778,102,59,3,55349,56671,5,172,3,59,105,110,13787,13789,13829,1,172,110,4,4,59,69,100,118,13800,13802,13806,13812,1,8713,59,3,8953,824,111,116,59,3,8949,824,4,3,97,98,99,13820,13823,13826,59,1,8713,59,1,8951,59,1,8950,105,4,2,59,118,13836,13838,1,8716,4,3,97,98,99,13846,13849,13852,59,1,8716,59,1,8958,59,1,8957,4,3,97,111,114,13863,13892,13899,114,4,4,59,97,115,116,13874,13876,13883,13888,1,8742,108,108,101,108,59,1,8742,108,59,3,11005,8421,59,3,8706,824,108,105,110,116,59,1,10772,4,3,59,99,101,13907,13909,13914,1,8832,117,101,59,1,8928,4,2,59,99,13920,13923,3,10927,824,4,2,59,101,13929,13931,1,8832,113,59,3,10927,824,4,4,65,97,105,116,13946,13951,13971,13982,114,114,59,1,8655,114,114,4,3,59,99,119,13961,13963,13967,1,8603,59,3,10547,824,59,3,8605,824,103,104,116,97,114,114,111,119,59,1,8603,114,105,4,2,59,101,13990,13992,1,8939,59,1,8941,4,7,99,104,105,109,112,113,117,14011,14036,14060,14080,14085,14090,14106,4,4,59,99,101,114,14021,14023,14028,14032,1,8833,117,101,59,1,8929,59,3,10928,824,59,3,55349,56515,111,114,116,4,2,109,112,14045,14050,105,100,59,1,8740,97,114,97,108,108,101,108,59,1,8742,109,4,2,59,101,14067,14069,1,8769,4,2,59,113,14075,14077,1,8772,59,1,8772,105,100,59,1,8740,97,114,59,1,8742,115,117,4,2,98,112,14098,14102,101,59,1,8930,101,59,1,8931,4,3,98,99,112,14114,14157,14171,4,4,59,69,101,115,14124,14126,14130,14133,1,8836,59,3,10949,824,59,1,8840,101,116,4,2,59,101,14141,14144,3,8834,8402,113,4,2,59,113,14151,14153,1,8840,59,3,10949,824,99,4,2,59,101,14164,14166,1,8833,113,59,3,10928,824,4,4,59,69,101,115,14181,14183,14187,14190,1,8837,59,3,10950,824,59,1,8841,101,116,4,2,59,101,14198,14201,3,8835,8402,113,4,2,59,113,14208,14210,1,8841,59,3,10950,824,4,4,103,105,108,114,14224,14228,14238,14242,108,59,1,8825,108,100,101,5,241,1,59,14236,1,241,103,59,1,8824,105,97,110,103,108,101,4,2,108,114,14254,14269,101,102,116,4,2,59,101,14263,14265,1,8938,113,59,1,8940,105,103,104,116,4,2,59,101,14279,14281,1,8939,113,59,1,8941,4,2,59,109,14291,14293,1,957,4,3,59,101,115,14301,14303,14308,1,35,114,111,59,1,8470,112,59,1,8199,4,9,68,72,97,100,103,105,108,114,115,14332,14338,14344,14349,14355,14369,14376,14408,14426,97,115,104,59,1,8877,97,114,114,59,1,10500,112,59,3,8781,8402,97,115,104,59,1,8876,4,2,101,116,14361,14365,59,3,8805,8402,59,3,62,8402,110,102,105,110,59,1,10718,4,3,65,101,116,14384,14389,14393,114,114,59,1,10498,59,3,8804,8402,4,2,59,114,14399,14402,3,60,8402,105,101,59,3,8884,8402,4,2,65,116,14414,14419,114,114,59,1,10499,114,105,101,59,3,8885,8402,105,109,59,3,8764,8402,4,3,65,97,110,14440,14445,14468,114,114,59,1,8662,114,4,2,104,114,14452,14456,107,59,1,10531,4,2,59,111,14462,14464,1,8598,119,59,1,8598,101,97,114,59,1,10535,4,18,83,97,99,100,101,102,103,104,105,108,109,111,112,114,115,116,117,118,14512,14515,14535,14560,14597,14603,14618,14643,14657,14662,14701,14741,14747,14769,14851,14877,14907,14916,59,1,9416,4,2,99,115,14521,14531,117,116,101,5,243,1,59,14529,1,243,116,59,1,8859,4,2,105,121,14541,14557,114,4,2,59,99,14548,14550,1,8858,5,244,1,59,14555,1,244,59,1,1086,4,5,97,98,105,111,115,14572,14577,14583,14587,14591,115,104,59,1,8861,108,97,99,59,1,337,118,59,1,10808,116,59,1,8857,111,108,100,59,1,10684,108,105,103,59,1,339,4,2,99,114,14609,14614,105,114,59,1,10687,59,3,55349,56620,4,3,111,114,116,14626,14630,14640,110,59,1,731,97,118,101,5,242,1,59,14638,1,242,59,1,10689,4,2,98,109,14649,14654,97,114,59,1,10677,59,1,937,110,116,59,1,8750,4,4,97,99,105,116,14672,14677,14693,14698,114,114,59,1,8634,4,2,105,114,14683,14687,114,59,1,10686,111,115,115,59,1,10683,110,101,59,1,8254,59,1,10688,4,3,97,101,105,14709,14714,14719,99,114,59,1,333,103,97,59,1,969,4,3,99,100,110,14727,14733,14736,114,111,110,59,1,959,59,1,10678,117,115,59,1,8854,112,102,59,3,55349,56672,4,3,97,101,108,14755,14759,14764,114,59,1,10679,114,112,59,1,10681,117,115,59,1,8853,4,7,59,97,100,105,111,115,118,14785,14787,14792,14831,14837,14841,14848,1,8744,114,114,59,1,8635,4,4,59,101,102,109,14802,14804,14817,14824,1,10845,114,4,2,59,111,14811,14813,1,8500,102,59,1,8500,5,170,1,59,14822,1,170,5,186,1,59,14829,1,186,103,111,102,59,1,8886,114,59,1,10838,108,111,112,101,59,1,10839,59,1,10843,4,3,99,108,111,14859,14863,14873,114,59,1,8500,97,115,104,5,248,1,59,14871,1,248,108,59,1,8856,105,4,2,108,109,14884,14893,100,101,5,245,1,59,14891,1,245,101,115,4,2,59,97,14901,14903,1,8855,115,59,1,10806,109,108,5,246,1,59,14914,1,246,98,97,114,59,1,9021,4,12,97,99,101,102,104,105,108,109,111,114,115,117,14948,14992,14996,15033,15038,15068,15090,15189,15192,15222,15427,15441,114,4,4,59,97,115,116,14959,14961,14976,14989,1,8741,5,182,2,59,108,14968,14970,1,182,108,101,108,59,1,8741,4,2,105,108,14982,14986,109,59,1,10995,59,1,11005,59,1,8706,121,59,1,1087,114,4,5,99,105,109,112,116,15009,15014,15019,15024,15027,110,116,59,1,37,111,100,59,1,46,105,108,59,1,8240,59,1,8869,101,110,107,59,1,8241,114,59,3,55349,56621,4,3,105,109,111,15046,15057,15063,4,2,59,118,15052,15054,1,966,59,1,981,109,97,116,59,1,8499,110,101,59,1,9742,4,3,59,116,118,15076,15078,15087,1,960,99,104,102,111,114,107,59,1,8916,59,1,982,4,2,97,117,15096,15119,110,4,2,99,107,15103,15115,107,4,2,59,104,15110,15112,1,8463,59,1,8462,118,59,1,8463,115,4,9,59,97,98,99,100,101,109,115,116,15140,15142,15148,15151,15156,15168,15171,15179,15184,1,43,99,105,114,59,1,10787,59,1,8862,105,114,59,1,10786,4,2,111,117,15162,15165,59,1,8724,59,1,10789,59,1,10866,110,5,177,1,59,15177,1,177,105,109,59,1,10790,119,111,59,1,10791,59,1,177,4,3,105,112,117,15200,15208,15213,110,116,105,110,116,59,1,10773,102,59,3,55349,56673,110,100,5,163,1,59,15220,1,163,4,10,59,69,97,99,101,105,110,111,115,117,15244,15246,15249,15253,15258,15334,15347,15367,15416,15421,1,8826,59,1,10931,112,59,1,10935,117,101,59,1,8828,4,2,59,99,15264,15266,1,10927,4,6,59,97,99,101,110,115,15280,15282,15290,15299,15303,15329,1,8826,112,112,114,111,120,59,1,10935,117,114,108,121,101,113,59,1,8828,113,59,1,10927,4,3,97,101,115,15311,15319,15324,112,112,114,111,120,59,1,10937,113,113,59,1,10933,105,109,59,1,8936,105,109,59,1,8830,109,101,4,2,59,115,15342,15344,1,8242,59,1,8473,4,3,69,97,115,15355,15358,15362,59,1,10933,112,59,1,10937,105,109,59,1,8936,4,3,100,102,112,15375,15378,15404,59,1,8719,4,3,97,108,115,15386,15392,15398,108,97,114,59,1,9006,105,110,101,59,1,8978,117,114,102,59,1,8979,4,2,59,116,15410,15412,1,8733,111,59,1,8733,105,109,59,1,8830,114,101,108,59,1,8880,4,2,99,105,15433,15438,114,59,3,55349,56517,59,1,968,110,99,115,112,59,1,8200,4,6,102,105,111,112,115,117,15462,15467,15472,15478,15485,15491,114,59,3,55349,56622,110,116,59,1,10764,112,102,59,3,55349,56674,114,105,109,101,59,1,8279,99,114,59,3,55349,56518,4,3,97,101,111,15499,15520,15534,116,4,2,101,105,15506,15515,114,110,105,111,110,115,59,1,8461,110,116,59,1,10774,115,116,4,2,59,101,15528,15530,1,63,113,59,1,8799,116,5,34,1,59,15540,1,34,4,21,65,66,72,97,98,99,100,101,102,104,105,108,109,110,111,112,114,115,116,117,120,15586,15609,15615,15620,15796,15855,15893,15931,15977,16001,16039,16183,16204,16222,16228,16285,16312,16318,16363,16408,16416,4,3,97,114,116,15594,15599,15603,114,114,59,1,8667,114,59,1,8658,97,105,108,59,1,10524,97,114,114,59,1,10511,97,114,59,1,10596,4,7,99,100,101,110,113,114,116,15636,15651,15656,15664,15687,15696,15770,4,2,101,117,15642,15646,59,3,8765,817,116,101,59,1,341,105,99,59,1,8730,109,112,116,121,118,59,1,10675,103,4,4,59,100,101,108,15675,15677,15680,15683,1,10217,59,1,10642,59,1,10661,101,59,1,10217,117,111,5,187,1,59,15694,1,187,114,4,11,59,97,98,99,102,104,108,112,115,116,119,15721,15723,15727,15739,15742,15746,15750,15754,15758,15763,15767,1,8594,112,59,1,10613,4,2,59,102,15733,15735,1,8677,115,59,1,10528,59,1,10547,115,59,1,10526,107,59,1,8618,112,59,1,8620,108,59,1,10565,105,109,59,1,10612,108,59,1,8611,59,1,8605,4,2,97,105,15776,15781,105,108,59,1,10522,111,4,2,59,110,15788,15790,1,8758,97,108,115,59,1,8474,4,3,97,98,114,15804,15809,15814,114,114,59,1,10509,114,107,59,1,10099,4,2,97,107,15820,15833,99,4,2,101,107,15827,15830,59,1,125,59,1,93,4,2,101,115,15839,15842,59,1,10636,108,4,2,100,117,15849,15852,59,1,10638,59,1,10640,4,4,97,101,117,121,15865,15871,15886,15890,114,111,110,59,1,345,4,2,100,105,15877,15882,105,108,59,1,343,108,59,1,8969,98,59,1,125,59,1,1088,4,4,99,108,113,115,15903,15907,15914,15927,97,59,1,10551,100,104,97,114,59,1,10601,117,111,4,2,59,114,15922,15924,1,8221,59,1,8221,104,59,1,8627,4,3,97,99,103,15939,15966,15970,108,4,4,59,105,112,115,15950,15952,15957,15963,1,8476,110,101,59,1,8475,97,114,116,59,1,8476,59,1,8477,116,59,1,9645,5,174,1,59,15975,1,174,4,3,105,108,114,15985,15991,15997,115,104,116,59,1,10621,111,111,114,59,1,8971,59,3,55349,56623,4,2,97,111,16007,16028,114,4,2,100,117,16014,16017,59,1,8641,4,2,59,108,16023,16025,1,8640,59,1,10604,4,2,59,118,16034,16036,1,961,59,1,1009,4,3,103,110,115,16047,16167,16171,104,116,4,6,97,104,108,114,115,116,16063,16081,16103,16130,16143,16155,114,114,111,119,4,2,59,116,16073,16075,1,8594,97,105,108,59,1,8611,97,114,112,111,111,110,4,2,100,117,16093,16099,111,119,110,59,1,8641,112,59,1,8640,101,102,116,4,2,97,104,16112,16120,114,114,111,119,115,59,1,8644,97,114,112,111,111,110,115,59,1,8652,105,103,104,116,97,114,114,111,119,115,59,1,8649,113,117,105,103,97,114,114,111,119,59,1,8605,104,114,101,101,116,105,109,101,115,59,1,8908,103,59,1,730,105,110,103,100,111,116,115,101,113,59,1,8787,4,3,97,104,109,16191,16196,16201,114,114,59,1,8644,97,114,59,1,8652,59,1,8207,111,117,115,116,4,2,59,97,16214,16216,1,9137,99,104,101,59,1,9137,109,105,100,59,1,10990,4,4,97,98,112,116,16238,16252,16257,16278,4,2,110,114,16244,16248,103,59,1,10221,114,59,1,8702,114,107,59,1,10215,4,3,97,102,108,16265,16269,16273,114,59,1,10630,59,3,55349,56675,117,115,59,1,10798,105,109,101,115,59,1,10805,4,2,97,112,16291,16304,114,4,2,59,103,16298,16300,1,41,116,59,1,10644,111,108,105,110,116,59,1,10770,97,114,114,59,1,8649,4,4,97,99,104,113,16328,16334,16339,16342,113,117,111,59,1,8250,114,59,3,55349,56519,59,1,8625,4,2,98,117,16348,16351,59,1,93,111,4,2,59,114,16358,16360,1,8217,59,1,8217,4,3,104,105,114,16371,16377,16383,114,101,101,59,1,8908,109,101,115,59,1,8906,105,4,4,59,101,102,108,16394,16396,16399,16402,1,9657,59,1,8885,59,1,9656,116,114,105,59,1,10702,108,117,104,97,114,59,1,10600,59,1,8478,4,19,97,98,99,100,101,102,104,105,108,109,111,112,113,114,115,116,117,119,122,16459,16466,16472,16572,16590,16672,16687,16746,16844,16850,16924,16963,16988,17115,17121,17154,17206,17614,17656,99,117,116,101,59,1,347,113,117,111,59,1,8218,4,10,59,69,97,99,101,105,110,112,115,121,16494,16496,16499,16513,16518,16531,16536,16556,16564,16569,1,8827,59,1,10932,4,2,112,114,16505,16508,59,1,10936,111,110,59,1,353,117,101,59,1,8829,4,2,59,100,16524,16526,1,10928,105,108,59,1,351,114,99,59,1,349,4,3,69,97,115,16544,16547,16551,59,1,10934,112,59,1,10938,105,109,59,1,8937,111,108,105,110,116,59,1,10771,105,109,59,1,8831,59,1,1089,111,116,4,3,59,98,101,16582,16584,16587,1,8901,59,1,8865,59,1,10854,4,7,65,97,99,109,115,116,120,16606,16611,16634,16642,16646,16652,16668,114,114,59,1,8664,114,4,2,104,114,16618,16622,107,59,1,10533,4,2,59,111,16628,16630,1,8600,119,59,1,8600,116,5,167,1,59,16640,1,167,105,59,1,59,119,97,114,59,1,10537,109,4,2,105,110,16659,16665,110,117,115,59,1,8726,59,1,8726,116,59,1,10038,114,4,2,59,111,16679,16682,3,55349,56624,119,110,59,1,8994,4,4,97,99,111,121,16697,16702,16716,16739,114,112,59,1,9839,4,2,104,121,16708,16713,99,121,59,1,1097,59,1,1096,114,116,4,2,109,112,16724,16729,105,100,59,1,8739,97,114,97,108,108,101,108,59,1,8741,5,173,1,59,16744,1,173,4,2,103,109,16752,16770,109,97,4,3,59,102,118,16762,16764,16767,1,963,59,1,962,59,1,962,4,8,59,100,101,103,108,110,112,114,16788,16790,16795,16806,16817,16828,16832,16838,1,8764,111,116,59,1,10858,4,2,59,113,16801,16803,1,8771,59,1,8771,4,2,59,69,16812,16814,1,10910,59,1,10912,4,2,59,69,16823,16825,1,10909,59,1,10911,101,59,1,8774,108,117,115,59,1,10788,97,114,114,59,1,10610,97,114,114,59,1,8592,4,4,97,101,105,116,16860,16883,16891,16904,4,2,108,115,16866,16878,108,115,101,116,109,105,110,117,115,59,1,8726,104,112,59,1,10803,112,97,114,115,108,59,1,10724,4,2,100,108,16897,16900,59,1,8739,101,59,1,8995,4,2,59,101,16910,16912,1,10922,4,2,59,115,16918,16920,1,10924,59,3,10924,65024,4,3,102,108,112,16932,16938,16958,116,99,121,59,1,1100,4,2,59,98,16944,16946,1,47,4,2,59,97,16952,16954,1,10692,114,59,1,9023,102,59,3,55349,56676,97,4,2,100,114,16970,16985,101,115,4,2,59,117,16978,16980,1,9824,105,116,59,1,9824,59,1,8741,4,3,99,115,117,16996,17028,17089,4,2,97,117,17002,17015,112,4,2,59,115,17009,17011,1,8851,59,3,8851,65024,112,4,2,59,115,17022,17024,1,8852,59,3,8852,65024,117,4,2,98,112,17035,17062,4,3,59,101,115,17043,17045,17048,1,8847,59,1,8849,101,116,4,2,59,101,17056,17058,1,8847,113,59,1,8849,4,3,59,101,115,17070,17072,17075,1,8848,59,1,8850,101,116,4,2,59,101,17083,17085,1,8848,113,59,1,8850,4,3,59,97,102,17097,17099,17112,1,9633,114,4,2,101,102,17106,17109,59,1,9633,59,1,9642,59,1,9642,97,114,114,59,1,8594,4,4,99,101,109,116,17131,17136,17142,17148,114,59,3,55349,56520,116,109,110,59,1,8726,105,108,101,59,1,8995,97,114,102,59,1,8902,4,2,97,114,17160,17172,114,4,2,59,102,17167,17169,1,9734,59,1,9733,4,2,97,110,17178,17202,105,103,104,116,4,2,101,112,17188,17197,112,115,105,108,111,110,59,1,1013,104,105,59,1,981,115,59,1,175,4,5,98,99,109,110,112,17218,17351,17420,17423,17427,4,9,59,69,100,101,109,110,112,114,115,17238,17240,17243,17248,17261,17267,17279,17285,17291,1,8834,59,1,10949,111,116,59,1,10941,4,2,59,100,17254,17256,1,8838,111,116,59,1,10947,117,108,116,59,1,10945,4,2,69,101,17273,17276,59,1,10955,59,1,8842,108,117,115,59,1,10943,97,114,114,59,1,10617,4,3,101,105,117,17299,17335,17339,116,4,3,59,101,110,17308,17310,17322,1,8834,113,4,2,59,113,17317,17319,1,8838,59,1,10949,101,113,4,2,59,113,17330,17332,1,8842,59,1,10955,109,59,1,10951,4,2,98,112,17345,17348,59,1,10965,59,1,10963,99,4,6,59,97,99,101,110,115,17366,17368,17376,17385,17389,17415,1,8827,112,112,114,111,120,59,1,10936,117,114,108,121,101,113,59,1,8829,113,59,1,10928,4,3,97,101,115,17397,17405,17410,112,112,114,111,120,59,1,10938,113,113,59,1,10934,105,109,59,1,8937,105,109,59,1,8831,59,1,8721,103,59,1,9834,4,13,49,50,51,59,69,100,101,104,108,109,110,112,115,17455,17462,17469,17476,17478,17481,17496,17509,17524,17530,17536,17548,17554,5,185,1,59,17460,1,185,5,178,1,59,17467,1,178,5,179,1,59,17474,1,179,1,8835,59,1,10950,4,2,111,115,17487,17491,116,59,1,10942,117,98,59,1,10968,4,2,59,100,17502,17504,1,8839,111,116,59,1,10948,115,4,2,111,117,17516,17520,108,59,1,10185,98,59,1,10967,97,114,114,59,1,10619,117,108,116,59,1,10946,4,2,69,101,17542,17545,59,1,10956,59,1,8843,108,117,115,59,1,10944,4,3,101,105,117,17562,17598,17602,116,4,3,59,101,110,17571,17573,17585,1,8835,113,4,2,59,113,17580,17582,1,8839,59,1,10950,101,113,4,2,59,113,17593,17595,1,8843,59,1,10956,109,59,1,10952,4,2,98,112,17608,17611,59,1,10964,59,1,10966,4,3,65,97,110,17622,17627,17650,114,114,59,1,8665,114,4,2,104,114,17634,17638,107,59,1,10534,4,2,59,111,17644,17646,1,8601,119,59,1,8601,119,97,114,59,1,10538,108,105,103,5,223,1,59,17664,1,223,4,13,97,98,99,100,101,102,104,105,111,112,114,115,119,17694,17709,17714,17737,17742,17749,17754,17860,17905,17957,17964,18090,18122,4,2,114,117,17700,17706,103,101,116,59,1,8982,59,1,964,114,107,59,1,9140,4,3,97,101,121,17722,17728,17734,114,111,110,59,1,357,100,105,108,59,1,355,59,1,1090,111,116,59,1,8411,108,114,101,99,59,1,8981,114,59,3,55349,56625,4,4,101,105,107,111,17764,17805,17836,17851,4,2,114,116,17770,17786,101,4,2,52,102,17777,17780,59,1,8756,111,114,101,59,1,8756,97,4,3,59,115,118,17795,17797,17802,1,952,121,109,59,1,977,59,1,977,4,2,99,110,17811,17831,107,4,2,97,115,17818,17826,112,112,114,111,120,59,1,8776,105,109,59,1,8764,115,112,59,1,8201,4,2,97,115,17842,17846,112,59,1,8776,105,109,59,1,8764,114,110,5,254,1,59,17858,1,254,4,3,108,109,110,17868,17873,17901,100,101,59,1,732,101,115,5,215,3,59,98,100,17884,17886,17898,1,215,4,2,59,97,17892,17894,1,8864,114,59,1,10801,59,1,10800,116,59,1,8749,4,3,101,112,115,17913,17917,17953,97,59,1,10536,4,4,59,98,99,102,17927,17929,17934,17939,1,8868,111,116,59,1,9014,105,114,59,1,10993,4,2,59,111,17945,17948,3,55349,56677,114,107,59,1,10970,97,59,1,10537,114,105,109,101,59,1,8244,4,3,97,105,112,17972,17977,18082,100,101,59,1,8482,4,7,97,100,101,109,112,115,116,17993,18051,18056,18059,18066,18072,18076,110,103,108,101,4,5,59,100,108,113,114,18009,18011,18017,18032,18035,1,9653,111,119,110,59,1,9663,101,102,116,4,2,59,101,18026,18028,1,9667,113,59,1,8884,59,1,8796,105,103,104,116,4,2,59,101,18045,18047,1,9657,113,59,1,8885,111,116,59,1,9708,59,1,8796,105,110,117,115,59,1,10810,108,117,115,59,1,10809,98,59,1,10701,105,109,101,59,1,10811,101,122,105,117,109,59,1,9186,4,3,99,104,116,18098,18111,18116,4,2,114,121,18104,18108,59,3,55349,56521,59,1,1094,99,121,59,1,1115,114,111,107,59,1,359,4,2,105,111,18128,18133,120,116,59,1,8812,104,101,97,100,4,2,108,114,18143,18154,101,102,116,97,114,114,111,119,59,1,8606,105,103,104,116,97,114,114,111,119,59,1,8608,4,18,65,72,97,98,99,100,102,103,104,108,109,111,112,114,115,116,117,119,18204,18209,18214,18234,18250,18268,18292,18308,18319,18343,18379,18397,18413,18504,18547,18553,18584,18603,114,114,59,1,8657,97,114,59,1,10595,4,2,99,114,18220,18230,117,116,101,5,250,1,59,18228,1,250,114,59,1,8593,114,4,2,99,101,18241,18245,121,59,1,1118,118,101,59,1,365,4,2,105,121,18256,18265,114,99,5,251,1,59,18263,1,251,59,1,1091,4,3,97,98,104,18276,18281,18287,114,114,59,1,8645,108,97,99,59,1,369,97,114,59,1,10606,4,2,105,114,18298,18304,115,104,116,59,1,10622,59,3,55349,56626,114,97,118,101,5,249,1,59,18317,1,249,4,2,97,98,18325,18338,114,4,2,108,114,18332,18335,59,1,8639,59,1,8638,108,107,59,1,9600,4,2,99,116,18349,18374,4,2,111,114,18355,18369,114,110,4,2,59,101,18363,18365,1,8988,114,59,1,8988,111,112,59,1,8975,114,105,59,1,9720,4,2,97,108,18385,18390,99,114,59,1,363,5,168,1,59,18395,1,168,4,2,103,112,18403,18408,111,110,59,1,371,102,59,3,55349,56678,4,6,97,100,104,108,115,117,18427,18434,18445,18470,18475,18494,114,114,111,119,59,1,8593,111,119,110,97,114,114,111,119,59,1,8597,97,114,112,111,111,110,4,2,108,114,18457,18463,101,102,116,59,1,8639,105,103,104,116,59,1,8638,117,115,59,1,8846,105,4,3,59,104,108,18484,18486,18489,1,965,59,1,978,111,110,59,1,965,112,97,114,114,111,119,115,59,1,8648,4,3,99,105,116,18512,18537,18542,4,2,111,114,18518,18532,114,110,4,2,59,101,18526,18528,1,8989,114,59,1,8989,111,112,59,1,8974,110,103,59,1,367,114,105,59,1,9721,99,114,59,3,55349,56522,4,3,100,105,114,18561,18566,18572,111,116,59,1,8944,108,100,101,59,1,361,105,4,2,59,102,18579,18581,1,9653,59,1,9652,4,2,97,109,18590,18595,114,114,59,1,8648,108,5,252,1,59,18601,1,252,97,110,103,108,101,59,1,10663,4,15,65,66,68,97,99,100,101,102,108,110,111,112,114,115,122,18643,18648,18661,18667,18847,18851,18857,18904,18909,18915,18931,18937,18943,18949,18996,114,114,59,1,8661,97,114,4,2,59,118,18656,18658,1,10984,59,1,10985,97,115,104,59,1,8872,4,2,110,114,18673,18679,103,114,116,59,1,10652,4,7,101,107,110,112,114,115,116,18695,18704,18711,18720,18742,18754,18810,112,115,105,108,111,110,59,1,1013,97,112,112,97,59,1,1008,111,116,104,105,110,103,59,1,8709,4,3,104,105,114,18728,18732,18735,105,59,1,981,59,1,982,111,112,116,111,59,1,8733,4,2,59,104,18748,18750,1,8597,111,59,1,1009,4,2,105,117,18760,18766,103,109,97,59,1,962,4,2,98,112,18772,18791,115,101,116,110,101,113,4,2,59,113,18784,18787,3,8842,65024,59,3,10955,65024,115,101,116,110,101,113,4,2,59,113,18803,18806,3,8843,65024,59,3,10956,65024,4,2,104,114,18816,18822,101,116,97,59,1,977,105,97,110,103,108,101,4,2,108,114,18834,18840,101,102,116,59,1,8882,105,103,104,116,59,1,8883,121,59,1,1074,97,115,104,59,1,8866,4,3,101,108,114,18865,18884,18890,4,3,59,98,101,18873,18875,18880,1,8744,97,114,59,1,8891,113,59,1,8794,108,105,112,59,1,8942,4,2,98,116,18896,18901,97,114,59,1,124,59,1,124,114,59,3,55349,56627,116,114,105,59,1,8882,115,117,4,2,98,112,18923,18927,59,3,8834,8402,59,3,8835,8402,112,102,59,3,55349,56679,114,111,112,59,1,8733,116,114,105,59,1,8883,4,2,99,117,18955,18960,114,59,3,55349,56523,4,2,98,112,18966,18981,110,4,2,69,101,18973,18977,59,3,10955,65024,59,3,8842,65024,110,4,2,69,101,18988,18992,59,3,10956,65024,59,3,8843,65024,105,103,122,97,103,59,1,10650,4,7,99,101,102,111,112,114,115,19020,19026,19061,19066,19072,19075,19089,105,114,99,59,1,373,4,2,100,105,19032,19055,4,2,98,103,19038,19043,97,114,59,1,10847,101,4,2,59,113,19050,19052,1,8743,59,1,8793,101,114,112,59,1,8472,114,59,3,55349,56628,112,102,59,3,55349,56680,59,1,8472,4,2,59,101,19081,19083,1,8768,97,116,104,59,1,8768,99,114,59,3,55349,56524,4,14,99,100,102,104,105,108,109,110,111,114,115,117,118,119,19125,19146,19152,19157,19173,19176,19192,19197,19202,19236,19252,19269,19286,19291,4,3,97,105,117,19133,19137,19142,112,59,1,8898,114,99,59,1,9711,112,59,1,8899,116,114,105,59,1,9661,114,59,3,55349,56629,4,2,65,97,19163,19168,114,114,59,1,10234,114,114,59,1,10231,59,1,958,4,2,65,97,19182,19187,114,114,59,1,10232,114,114,59,1,10229,97,112,59,1,10236,105,115,59,1,8955,4,3,100,112,116,19210,19215,19230,111,116,59,1,10752,4,2,102,108,19221,19225,59,3,55349,56681,117,115,59,1,10753,105,109,101,59,1,10754,4,2,65,97,19242,19247,114,114,59,1,10233,114,114,59,1,10230,4,2,99,113,19258,19263,114,59,3,55349,56525,99,117,112,59,1,10758,4,2,112,116,19275,19281,108,117,115,59,1,10756,114,105,59,1,9651,101,101,59,1,8897,101,100,103,101,59,1,8896,4,8,97,99,101,102,105,111,115,117,19316,19335,19349,19357,19362,19367,19373,19379,99,4,2,117,121,19323,19332,116,101,5,253,1,59,19330,1,253,59,1,1103,4,2,105,121,19341,19346,114,99,59,1,375,59,1,1099,110,5,165,1,59,19355,1,165,114,59,3,55349,56630,99,121,59,1,1111,112,102,59,3,55349,56682,99,114,59,3,55349,56526,4,2,99,109,19385,19389,121,59,1,1102,108,5,255,1,59,19395,1,255,4,10,97,99,100,101,102,104,105,111,115,119,19419,19426,19441,19446,19462,19467,19472,19480,19486,19492,99,117,116,101,59,1,378,4,2,97,121,19432,19438,114,111,110,59,1,382,59,1,1079,111,116,59,1,380,4,2,101,116,19452,19458,116,114,102,59,1,8488,97,59,1,950,114,59,3,55349,56631,99,121,59,1,1078,103,114,97,114,114,59,1,8669,112,102,59,3,55349,56683,99,114,59,3,55349,56527,4,2,106,110,19498,19501,59,1,8205,106,59,1,8204])},"+Qka":function(e,t,n){var c=n("fmRc"),u=n("t2Dn"),l=n("cq/+"),d=n("T1AV"),p=n("GoyQ"),f=n("mTTR"),h=n("itsj");function g(r,i,o,a,s){r!==i&&l(i,function(e,t){var n;s=s||new c,p(e)?d(r,i,t,o,g,a,s):(void 0===(n=a?a(h(r,t),e,t+"",r,i,s):void 0)&&(n=e),u(r,t,n))},f)}e.exports=g},"+RiE":function(e,t,n){"use strict";n.r(t);n("526F"),n("q1tI");var r=n("q7cj");n.d(t,"CommentType",function(){return r.g}),n.d(t,"default",function(){return r.f});var i=n("BmhO");n.d(t,"APP_ID",function(){return i.a}),n.d(t,"BOX_ARCHIVE_FILE_TYPE",function(){return i.I}),n.d(t,"BOX_AUDIO_FILE_TYPE",function(){return i.E}),n.d(t,"BOX_EXCEL_FILE_TYPE",function(){return i.B}),n.d(t,"BOX_FILE_TYPE",function(){return i.s}),n.d(t,"BOX_IMAGE_FILE_TYPE",function(){return i.C}),n.d(t,"BOX_IMAGE_FILE_TYPES_WITH_NATIVE_SUPPORT",function(){return i.t}),n.d(t,"BOX_IWORK_FILE_TYPES",function(){return i.y}),n.d(t,"BOX_MD_FILE_TYPES",function(){return i.z}),n.d(t,"BOX_PPT_FILE_TYPE",function(){return i.H}),n.d(t,"BOX_PREVIEWABLE_ARCHIVE_TYPE",function(){return i.J}),n.d(t,"BOX_PREVIEWABLE_AUDIO_FILE_TYPES",function(){return i.x}),n.d(t,"BOX_PREVIEWABLE_CODE_FILE_TYPES",function(){return i.A}),n.d(t,"BOX_PREVIEWABLE_IMAGE_FILE_TYPES",function(){return i.u}),n.d(t,"BOX_PREVIEWABLE_VIDEO_FILE_TYPES",function(){return i.w}),n.d(t,"BOX_PREVIEW_EVENTS",function(){return i.b}),n.d(t,"BOX_TEXT_LIKE_FILE_TYPE",function(){return i.K}),n.d(t,"BOX_TXT_FILE_TYPE",function(){return i.F}),n.d(t,"BOX_VIDEO_FILE_TYPE",function(){return i.D}),n.d(t,"BOX_VIDEO_FILE_TYPES_WITH_NATIVE_SUPPORT",function(){return i.v}),n.d(t,"BOX_WORD_FILE_TYPE",function(){return i.G}),n.d(t,"DIRECT_PREVIEW_TYPES",function(){return i.d}),n.d(t,"HEADER_BUTTON_TYPE",function(){return i.e}),n.d(t,"IMAGE_TOOLBAR_BUTTON_TYPE",function(){return i.p}),n.d(t,"INACCESSIBLE_CODE",function(){return i.f}),n.d(t,"INACCESSIBLE_CODE_LIST",function(){return i.o}),n.d(t,"INDIRECT_PREVIEW_TYPES",function(){return i.L}),n.d(t,"LISTEN_STATUS",function(){return i.g}),n.d(t,"MOUNT_POINT_TYPE",function(){return i.h}),n.d(t,"OPERATION_TYPE",function(){return i.i}),n.d(t,"PDF_TOOLBAR_BUTTON_TYPE",function(){return i.r}),n.d(t,"PDF_ZOOM_VALUE",function(){return i.q}),n.d(t,"PREVIEW_COMPONENT",function(){return i.n}),n.d(t,"PREVIEW_STATUS",function(){return i.j}),n.d(t,"PREVIEW_TYPE",function(){return i.m}),n.d(t,"WPS_OFFICE_SUPPORTED_TYPES",function(){return i.l}),n.d(t,"WPS_SAVED_STATUS",function(){return i.c});var o=n("S/x3");n.d(t,"canNativelySupportedAudioType",function(){return o.h}),n.d(t,"canNativelySupportedCodeType",function(){return o.e}),n.d(t,"canNativelySupportedImageType",function(){return o.j}),n.d(t,"canNativelySupportedPDFType",function(){return o.i}),n.d(t,"canNativelySupportedTextType",function(){return o.f}),n.d(t,"canNativelySupportedVideoType",function(){return o.c}),n.d(t,"getCurrentlySupportedPreviewTypesByFileType",function(){return o.a}),n.d(t,"getIsWPSFallbackPreviewReady",function(){return o.l}),n.d(t,"getMainPreviewType",function(){return o.k}),n.d(t,"getPreviewComponent",function(){return o.d});var a=n("EbbD");n.d(t,"EventBus",function(){return a.a}),n.d(t,"MediaFollowStatus",function(){return a.b});var s=n("Zz/9");n.d(t,"BoxXgPlayer",function(){return s.a})},"+Wds":function(e,t,n){"use strict";var r=String.prototype.indexOf;e.exports=function(e){return-1<r.call(this,e,arguments[1])}},"+XMV":function(e,t,n){"use strict";e.exports=n("GOzd")()?String.prototype.contains:n("+Wds")},"+Xq6":function(e,t,n){"use strict";var r=n("wN88");n.d(t,"d",function(){return r.a}),n.d(t,"e",function(){return r.b}),n.d(t,"g",function(){return r.d}),n.d(t,"h",function(){return r.e});var i=n("qkqw");n.d(t,"a",function(){return i.a}),n.d(t,"c",function(){return i.b});var o=n("PiJo");n.d(t,"f",function(){return o.generatePublicUrl}),n.d(t,"i",function(){return o.makePulicUrlEffective})},"+aGp":function(e,t,n){"use strict";var r=/([A-Z])/g;function i(e){return e.replace(r,"-$1").toLowerCase()}e.exports=i},"+c4W":function(e,t,n){var r=n("711d"),i=n("4/ic"),o=n("9ggG"),a=n("9Nap");function s(e){return o(e)?r(a(e)):i(e)}e.exports=s},"+iFO":function(e,t,n){var r=n("dTAl"),i=n("LcsW"),o=n("6sVZ");function a(e){return"function"!=typeof e.constructor||o(e)?{}:r(i(e))}e.exports=a},"+oHS":function(e,t,n){e.exports=n("XEyi")},"+om4":function(e,t,n){"use strict";n.r(t),n.d(t,"AttributePool",function(){return Pe}),n.d(t,"OpIterator",function(){return x}),n.d(t,"ZONE_CHANGESETS",function(){return h}),n.d(t,"_applyToAttribution",function(){return re}),n.d(t,"_builder",function(){return Re}),n.d(t,"_compose",function(){return N}),n.d(t,"_follow",function(){return Z}),n.d(t,"_mapFollow",function(){return ke}),n.d(t,"_moveOpsToNewPool",function(){return H}),n.d(t,"_opIterator",function(){return ne}),n.d(t,"_pack",function(){return Q}),n.d(t,"_slicerZipperFunc",function(){return we}),n.d(t,"_stringAssembler",function(){return se}),n.d(t,"_unpack",function(){return ee}),n.d(t,"appendATextToAssembler",function(){return De}),n.d(t,"applyToText_",function(){return ie}),n.d(t,"applyToZatext",function(){return D}),n.d(t,"applyZip",function(){return me}),n.d(t,"arrayIterator",function(){return fe}),n.d(t,"assert",function(){return xe}),n.d(t,"attribsAttributeValue",function(){return Se}),n.d(t,"attributeTester",function(){return Ae}),n.d(t,"bankAssembler",function(){return oe}),n.d(t,"bankIterator",function(){return pe}),n.d(t,"builder",function(){return Ne}),n.d(t,"clearAtext",function(){return be}),n.d(t,"clearOp",function(){return g}),n.d(t,"compose",function(){return R}),n.d(t,"composeAttributes",function(){return Ie}),n.d(t,"composeOps",function(){return Me}),n.d(t,"composeUnpacked",function(){return ge}),n.d(t,"copyOp",function(){return m}),n.d(t,"csMap",function(){return q}),n.d(t,"csMapPack",function(){return Y}),n.d(t,"doInverse",function(){return Le}),n.d(t,"eachAttribNumber",function(){return le}),n.d(t,"follow",function(){return M}),n.d(t,"followAttributes",function(){return J}),n.d(t,"formatCs",function(){return F}),n.d(t,"formatCsFromObj",function(){return P}),n.d(t,"getAttribNumbers",function(){return y}),n.d(t,"getEmptyAttrib",function(){return _e}),n.d(t,"getEmptyText",function(){return Ee}),n.d(t,"listAssembler",function(){return ce}),n.d(t,"makeAttribsString",function(){return ye}),n.d(t,"mapAttribNumbers",function(){return W}),n.d(t,"mergingOpAssembler",function(){return Te}),n.d(t,"moveOpsToNewPool",function(){return K}),n.d(t,"newOp",function(){return _}),n.d(t,"numToString",function(){return V}),n.d(t,"opAssembler",function(){return Ce}),n.d(t,"opIterator",function(){return te}),n.d(t,"pack",function(){return X}),n.d(t,"parseNum",function(){return U}),n.d(t,"reverseBuilder",function(){return Oe}),n.d(t,"smartOpAssembler",function(){return ve}),n.d(t,"stringAssembler",function(){return ae}),n.d(t,"stringIterator",function(){return he}),n.d(t,"toObject",function(){return B}),n.d(t,"toString",function(){return j}),n.d(t,"unpack",function(){return $});var r=n("cDf5"),o=n.n(r),i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function a(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function d(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function s(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||0<t--)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}var c,z=(a(u,c=Error),u);function u(e,t){void 0===t&&(t=!1);var n=c.call(this,e)||this;return n.silence=t,n}function l(e,t,n,r){var i;if(void 0===n&&(n=!1),void 0===r&&(r={}),!e)throw"object"===o()(r)&&Object.keys(r).length&&(i=Object.entries(r).map(function(e){var t=s(e,2);return t[0]+": "+t[1]}).join(", "),console.log("oops debug: "+i)),new z("Failed assertion: "+t,n)}var p=(f.prototype.putAttrib=function(e,t){var n=[String(e[0]||""),String(e[1]||"")],r=String(n);if(r in this.attribToNum)return this.attribToNum[r];if(t)return-1;var i=this.nextNum++;return this.attribToNum[r]=i,this.numToAttrib[i]=n,this.dirty=!0,i},f.prototype.getAttrib=function(e){var t=this.numToAttrib[e];return t&&[t[0],t[1]]},f.prototype.updateAttrib=function(e,t){var n,r,i=this.getAttrib(e);i&&(n=String(i),r=String(t),null!=this.attribToNum[n]&&delete this.attribToNum[n],this.attribToNum[r]=e,this.numToAttrib[e]=t)},f.prototype.getAttribKey=function(e){var t=this.numToAttrib[e];return t?t[0]:""},f.prototype.getAttribValue=function(e){var t=this.numToAttrib[e];return t?t[1]:""},f.prototype.getAttribNum=function(e){var t=e;return"string"!=typeof t&&(t=String(t)),this.attribToNum[t]},f.prototype.eachAttrib=function(e){for(var t in this.numToAttrib){var n;this.numToAttrib.hasOwnProperty(t)&&e((n=this.numToAttrib[t])[0],n[1])}},f.prototype.toJsonableNoCloning=function(){return{numToAttrib:this.numToAttrib,nextNum:this.nextNum}},f.prototype.fromJsonableNoCloning=function(e){for(var t in this.numToAttrib=e.numToAttrib,this.nextNum=e.nextNum,this.attribToNum={},this.numToAttrib)this.numToAttrib.hasOwnProperty(t)&&(this.attribToNum[String(this.numToAttrib[t])]=Number(t));try{this.checkConsistent()}catch(e){this.handleError(e)}return this},f.prototype.handleError=function(e){throw e},f.prototype.copy=function(){var e,t,n,r=new f;for(e in this.numToAttrib)this.numToAttrib.hasOwnProperty(e)&&(t=this.numToAttrib[e],r.numToAttrib[e]=[t[0],t[1]]);for(n in this.attribToNum)this.attribToNum.hasOwnProperty(n)&&(r.attribToNum[n]=this.attribToNum[n]);return r.nextNum=this.nextNum,r},f);function f(){var o=this;this.toJsonable=function(){var e,t,n={};for(e in o.numToAttrib)o.numToAttrib.hasOwnProperty(e)&&(t=o.numToAttrib[e],n[e]=[t[0],t[1]]);return{numToAttrib:n,nextNum:o.nextNum}},this.fromJsonable=function(e){for(var t in o.numToAttrib={},o.nextNum=e.nextNum,o.attribToNum={},e.numToAttrib){var n;e.numToAttrib.hasOwnProperty(t)&&(n=e.numToAttrib[t],o.attribToNum[String(n)]=Number(t),o.numToAttrib[t]=[n[0],n[1]])}try{o.checkConsistent()}catch(e){o.handleError(e)}return o.dirty=!0,o},this.checkConsistent=function(){for(var e=0;e<o.nextNum;e++)l(e in o.numToAttrib,"AttribPool: "+e+" is not in this.numToAttrib");var t,n,r,i={};for(t in o.numToAttrib)o.numToAttrib.hasOwnProperty(t)&&(l(0<=Number(t)&&Number(t)<o.nextNum,"AttribPool: "+t+" is not in range [0,"+o.nextNum+"]"),n=o.numToAttrib[t],l("[object Array]"===Object.prototype.toString.call(n),"AttribPool: attrib should be an array"),l(2===n.length,"AttribPool: attrib length should be 2"),l("string"==typeof n[0],"AttribPool: key should be string"),l("string"==typeof n[1],"AttribPool: value should be string"),l(!(String(n)in i),"AttribPool: attrib was already seen"),i[String(n)]=!0,l(o.attribToNum[String(n)]===Number(t),"AttribPool: attribToNum does not match"));for(r in o.attribToNum)o.attribToNum.hasOwnProperty(r)&&l(r in i,"AttribPool: attr was not seen")},this.numToAttrib={},this.attribToNum={},this.nextNum=0,this.dirty=!1}var h="zone_changesets";function _(e){return{opcode:e||"",chars:0,lines:0,attribs:"",getAttribute:function(e,t){return v(this.attribs,e,t)}}}function g(e){e.opcode="",e.chars=0,e.lines=0,e.attribs=""}function m(e,t){t.opcode=e.opcode,t.chars=e.chars,t.lines=e.lines,t.attribs=e.attribs}function v(e,t,n){for(var r=y(e),i=r.length-1;0<=i;i--){var o=r[i];if(n.getAttribKey(o)===t)return n.getAttribValue(o)}return""}function y(e){for(var t=36,n=[],r=!1,i=!1,o=0,a=0;a<e.length;a++){var s=e.charCodeAt(a);if(r||i)if(48<=s&&s<=57)o*=t,o+=s-48;else if(97<=s&&s<=122)o*=t,o+=s-97+10;else if(65<=s&&s<=90)o*=t,o+=s-65+10;else{if(!r){a+=o,o=0,i=!1;continue}n.push(o),o=0,r=!1}switch(s){case 42:r=!0;break;case 36:return n;case 35:i=!0}}return r&&n.push(o),n}var b=57,E=97,C=122,T=124,O=43,k=45,S=61,w=36,I=48,x=(L.prototype.hasNext=function(){return this.index<this.opStr.length},L.prototype.next=function(e){var t=e||this.op;if(this.index===this.opStr.length)return g(t),t;for(var n=void(t.lines=0),r=this.index;this.index<this.opStr.length;){var i=this.opStr.charCodeAt(this.index);if(i===T){for(n=this.index,this.index++;this.index<this.opStr.length;){if((o=this.opStr.charCodeAt(this.index))===O||o===k||o===S){t.opcode=this.opStr.charAt(this.index);break}I<=o&&o<=b?(t.lines*=w,t.lines+=o-I):E<=o&&o<=C&&(t.lines*=w,t.lines+=o-E+10),this.index++}break}if(i===O||i===k||i===S){n=this.index,t.opcode=this.opStr.charAt(this.index);break}this.index++}for(t.attribs=this.opStr.substring(r,n),t.chars=0,this.index++;this.index<this.opStr.length;){var o=this.opStr.charCodeAt(this.index);if(I<=o&&o<=b)t.chars*=w,t.chars+=o-I;else{if(!(E<=o&&o<=C))break;t.chars*=w,t.chars+=o-E+10}this.index++}return t},L);function L(e,t){void 0===t&&(t=0),this.opStr=e,this.index=t,this.op=_()}function R(e,t,n,r){return void 0===r&&(r=!1),N(e,t,n,r)}function N(e,t,n,r){return void 0===r&&(r=!1),Q(ge($(e),$(t),n,r))}function D(e,t,r){function n(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}xe("0"in t.text,"0 must be in zatext.text"),xe("0"in t.attribs,"0 must be in zatext.attribs");var i={text:n(t.text),attribs:n(t.attribs),rows:{},cols:{}};return t.rows&&(i.rows=n(t.rows)),t.cols&&(i.cols=n(t.cols)),q(e,function(e,t){var n=i.text;"Z"===t.itemType?n=i.text:"R"===t.itemType?(i.rows||(i.rows={}),n=i.rows):"C"===t.itemType?(i.cols||(i.cols={}),n=i.cols):xe(!1,"bad item type",!1,{itemType:t.itemType}),e in n||(n[e]=Ee(t.itemType)),e in i.attribs||(i.attribs[e]=_e(t.itemType)),n[e]=ie(t,n[e],e),i.attribs[e]=re(t,i.attribs[e],r)}),be(i),i}function M(e,t,r,i){return Q(ke($(e),$(t),function(e,t,n){return t?n?Z(t,n,r,i):null:n}))}function P(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&Object.assign(n,ee(e[t]));return Q(n)}function j(e){return P(e)}function F(e){var t,n,r,i,o,a,s,c=$(e),u={};for(t in c)c.hasOwnProperty(t)&&(r=(n=c[t]).oldLen,i=n.newLen,o=n.ops,a=n.itemType,s=n.charBank,u[t]=X(r,i,o,s,t,a));return u}function B(e){return F(e)}function U(e){return parseInt(e,36)}function V(e){return e.toString(36).toLowerCase()}function H(e,n,r){return W(e,function(e){var t=n.getAttrib(e);return t?r.putAttrib(t):null})}function K(e,t,n){return H(e,t,n)}function W(e,r){function n(e){for(var t=ve(),n=te(e);n.hasNext();){var r=n.next();r.attribs=i(r.attribs),t.append(r)}return t.endDocument(),t.toString()}function i(e){return e.replace(/\*([0-9a-z]+)/g,function(e,t){var n=r(U(t));return!0===n?e:"number"==typeof n?"*"+V(n):""})}return 0<e.length&&"Z"===e[0]?Y(e,function(e,t){return t.ops=n(t.ops),t}):(-1!==e.indexOf("+")||-1!==e.indexOf("=")?n:i)(e)}function Y(e,t){return Q(q(e,t))}function q(e,t){var n,r=$(e),i={};for(n in r)r.hasOwnProperty(n)&&(i[n]=t(n,r[n]));return i}function Z(e,t,s,c){xe(e.oldLen===t.oldLen,"mismatched follow - cannot transform cs1 on top of cs2",!1,{unpacked1:JSON.stringify(e),unpacked2:JSON.stringify(t)});var u=pe(e.charBank),l=pe(t.charBank),n=e.newLen,d=0,p=0,f=Ae(["insertorder","first"],c),r=me(e.ops,0,t.ops,0,function(e,t,n){var r,i,o,a;switch("+"===e.opcode||"+"===t.opcode?1===("+"!==t.opcode?1:"+"!==e.opcode?2:(r=u.peek(1),i=l.peek(1),o=f(e.attribs),a=f(t.attribs),(!o||a)&&(a&&!o||"\n"===r&&"\n"!==i||("\n"===r||"\n"!==i)&&s)?2:1))?(u.skip(e.chars),n.opcode="=",n.lines=e.lines,n.chars=e.chars,n.attribs="",e.opcode=""):(l.skip(t.chars),m(t,n),t.opcode=""):"-"===e.opcode?t.opcode?e.chars<=t.chars?(t.chars-=e.chars,t.lines-=e.lines,e.opcode="",t.chars||(t.opcode="")):(e.chars-=t.chars,e.lines-=t.lines,t.opcode=""):e.opcode="":"-"===t.opcode?(m(t,n),e.opcode?t.chars<=e.chars?(e.chars-=t.chars,e.lines-=t.lines,t.opcode="",e.chars||(e.opcode="")):(n.lines=e.lines,n.chars=e.chars,t.lines-=e.lines,t.chars-=e.chars,e.opcode=""):t.opcode=""):e.opcode?t.opcode?(n.opcode="=",n.attribs=J(e.attribs,t.attribs,c),e.chars<=t.chars?(n.chars=e.chars,n.lines=e.lines,t.chars-=e.chars,t.lines-=e.lines,e.opcode="",t.chars||(t.opcode="")):(n.chars=t.chars,n.lines=t.lines,e.chars-=t.chars,e.lines-=t.lines,t.opcode="")):e.opcode="":(m(t,n),t.opcode=""),n.opcode){case"=":d+=n.chars,p+=n.chars;break;case"-":d+=n.chars;break;case"+":p+=n.chars}});return p+=n-d,{itemType:t.itemType,oldLen:n,newLen:p,ops:r,charBank:t.charBank}}function X(e,t,n,r,i,o){var a;return void 0===i&&(i="0"),void 0===o&&(o="Z"),Q(((a={})[i]={charBank:r,itemType:o,newLen:t,oldLen:e,ops:n},a))}function Q(e){for(var u="",t=Object.keys(e).sort(),n=0;n<t.length;n++){var r=t[n];if(xe("string"==typeof r,"pack: zoneId must be string"),xe(""!==r,"pack: zoneId cannot be empty string"),0!==n&&t[n]===t[n-1]){for(var i in e)e.hasOwnProperty(i)&&"Z"===e[i].itemType&&(e[i].charBank="obfuscated "+e[i].charBank.length);xe(!1,"pack: zoneIds must be distinct zoneIds",!1,{zoneIds:t,csMap:JSON.stringify(e)})}var o=e[r];!function(e,t,n,r,i,o,a){xe("Z"===e||"R"===e||"C"===e,"itemType error"),"Z"!==e&&(i=i.join("|")),"Z"!==e&&xe(-1===r.indexOf("|"),"ops |");var s=n-t,c=0<=s?">"+V(s):"<"+V(-s);u+=("Z"!==e?"Z":"")+e+("0"===a?"":a)+":"+V(t)+c+r,o||(u+="#"+V(i.length)),u+="$"+i}(o.itemType,o.oldLen,o.newLen,o.ops,o.charBank,n===t.length-1,r)}return u}function J(e,t,o){var n,r;if(!t||!o)return"";if(!e)return t;var a=[];t.replace(/\*([0-9a-z]+)/g,function(e,t){return a.push(o.getAttrib(U(t))),""}),e.replace(/\*([0-9a-z]+)/g,function(e,t){for(var n=o.getAttrib(U(t)),r=0;r<a.length;r++){var i=a[r];if(n[0]===i[0]){n[1]<=i[1]&&a.splice(r,1);break}}return""});var i=ae();try{for(var s=d(a),c=s.next();!c.done;c=s.next()){var u=c.value;i.append("*"),i.append(V(o.putAttrib(u)))}}catch(e){n={error:e}}finally{try{c&&!c.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}return i.toString()}function $(e){return ee(e)}function ee(e){for(var t={},n=0;n<e.length;){var r=/^(Z|ZR|ZC)([0-9a-z]*):([0-9a-z]+)([><])([0-9a-z]+)|/.exec(e.substring(n));if(!r||!r[0])throw new z("Changeset: Not a changeset: "+e+" at position "+n);var i=r[1].charAt(r[1].length-1),o=""===r[2]?"0":r[2];if(o in t){for(var a in t)t.hasOwnProperty(a)&&"Z"===t[a].itemType&&(t[a].charBank="obfuscated "+t[a].charBank.length);xe(!1,"zoneIds should be unique",!1,{zoneId:o,cssObj:JSON.stringify(t)})}"0"===o&&xe("Z"===i,"itemType must be Z");var s=U(r[3]),c=s+(">"===r[4]?1:-1)*U(r[5]),u=n+r[0].length,l=e.indexOf("$",n),d=e.indexOf("#",n),p=0<=d&&0<=l&&d<l,f=e.length;0<=l&&(f=l),p&&(f=d);var h=0<=l?l+1:e.length,g=p?h+U(e.substring(d+1,l)):e.length;t[o]={itemType:i,oldLen:s,newLen:c,ops:e.substring(u,f),charBank:e.substring(h,g)},"Z"!==i&&(xe(-1===t[o].ops.indexOf("|"),"ops must has |"),t[o].charBank=""===t[o].charBank?[]:t[o].charBank.split("|")),n=g}return t}function te(e,t){return void 0===t&&(t=0),ne(e||"",t)}function ne(e,t){return void 0===t&&(t=0),new x(e||"",t)}function re(e,o,t){var r,a=97,s=122,c=48,u=57,l=124,d=43,n=61,i=42,p=45,f="",h=0,g=0,m=0,v=0,y=0,b=0,E="",_=!0,C=0,T=te(e.ops);function O(){0<h&&(f+=r+"|"+V(h)+"+"+V(g)),0<m&&(f+=r+"+"+V(m)),m=g=h=0}function k(e,t,n){0!==e&&((0<g||0<m)&&r===n?t?(g+=e+m,h+=t,m=0):m+=e:(O(),t?(h=t,g=e):m=e,r=n))}function S(){if(v>=o.length)throw new z("astr not long enough");for(var e=v;o.charCodeAt(v)!==l&&o.charCodeAt(v)!==d;)v++;var t,n=v,r=0;if(o.charCodeAt(v)===l)for(v++;(t=o.charCodeAt(v))!==d;)r=a<=t&&t<=s?36*r+(t-a+10):36*r+(t-c),v++;var i=0;for(v++;;){if(t=o.charCodeAt(v),a<=t&&t<=s)i=36*i+(t-a+10);else{if(!(c<=t&&t<=u))break;i=36*i+(t-c)}v++}return{attribStart:e,attribEnd:n,chars:i,lines:r}}for(;T.hasNext();){var w=T.next();if("+"===w.opcode)if(_){for(var I,x,L=-1,R=C,N=T.index,D=T.index,M=!1,P=e.ops;;){var j=P.charCodeAt(D);if(!M||j!==l&&j!==i&&j!==d&&j!==p&&j!==n&&D!==P.length||(M=!1,L=R,R=N,N=D),D===P.length||j===p||j===n)break;j===d&&(M=!0),D++}-1===L?k(w.chars,w.lines,w.attribs):(C<L?(O(),f+=P.substring(C,L),T.index=L,k((I=T.next()).chars,I.lines,I.attribs)):k(w.chars,w.lines,w.attribs),k((x=T.next()).chars,x.lines,x.attribs))}else k(w.chars,w.lines,w.attribs),_=!0,C=T.index;else if("-"===w.opcode)if(_=!1,w.chars<=b)y-=w.lines,b-=w.chars;else for(w.lines-=y,w.chars-=b,b=y=0;;){if((U=S()).chars>=w.chars){b=U.chars-w.chars,y=U.lines-w.lines,E=o.substring(U.attribStart,U.attribEnd);break}w.chars-=U.chars,w.lines-=U.lines}else if(_=!1,""===w.attribs)if(0===b&&(b=(U=S()).chars,y=U.lines,E=o.substring(U.attribStart,U.attribEnd)),w.chars<=b)k(w.chars,w.lines,E),y-=w.lines,b-=w.chars;else{k(b,y,E),w.lines-=y,w.chars-=b,b=y=0;for(var F=v,B=null,U=null;!((U=S()).chars>=w.chars);)w.chars-=U.chars,w.lines-=U.lines,B=U;B&&(B.attribStart>F&&(O(),f+=o.substring(F,B.attribStart)),k(B.chars,B.lines,o.substring(B.attribStart,B.attribEnd))),E=o.substring(U.attribStart,U.attribEnd),k(w.chars,w.lines,E),b=U.chars-w.chars,y=U.lines-w.lines}else if(w.chars<=b)k(w.chars,w.lines,de(E,w.attribs,!1,t)),y-=w.lines,b-=w.chars;else for(k(b,y,de(E,w.attribs,!1,t)),w.lines-=y,w.chars-=b,b=y=0;;){U=S();var H=o.substring(U.attribStart,U.attribEnd);if(U.chars>=w.chars){k(w.chars,w.lines,de(H,w.attribs,!1,t)),b=U.chars-w.chars,y=U.lines-w.lines,E=H;break}k(U.chars,U.lines,de(H,w.attribs,!1,t)),w.chars-=U.chars,w.lines-=U.lines}}return 0===b&&v<o.length&&(b=(U=S()).chars,y=U.lines,E=o.substring(U.attribStart,U.attribEnd)),0<b&&k(b,y,E),O(),v<o.length&&(f+=o.substring(v,o.length)),f}function ie(e,t,n){xe(t.length===e.oldLen,"mismatched apply: charBank.length / csObj.oldLen",!1,{charBank:t.length,oldLen:e.oldLen}),console.log("[changeset applyToText_] itemType, csObj newLen, oldLen, ops, zoneId",e.itemType,e.newLen,e.oldLen,e.ops,n);for(var r=te(e.ops),i=pe(e.charBank),o=pe(t),a=oe(e.itemType);r.hasNext();){var s=r.next();switch(s.opcode){case"+":a.append(i.take(s.chars));break;case"-":o.skip(s.chars);break;case"=":a.append(o.take(s.chars))}}return a.append(o.take(o.remaining())),a.toResult()}function oe(e){return xe(e,"itemType should be defined"),("Z"===e?ae:ce)()}function ae(){return se()}function se(){var t=[];function e(){return t.join("")}return{append:function(e){t.push(String(e))},toString:e,toResult:e}}function ce(){var t=[];function e(){return t}return{append:function(e){t=t.concat(e)},toList:e,toResult:e}}var ue=/\*([0-9a-z]+)/g;function le(e,t){var n=e.indexOf("$");n<0&&(n=e.length);for(var r=e.substring(0,n).match(ue)||[],i=0;i<r.length;i++)t(U(r[i].substring(1)))}function de(e,t,o,a){var n,r;if(!e&&o)return t;if(!t)return e;var s=[];le(e,function(e){s.push(a.getAttrib(e))}),le(t,function(e){for(var t=a.getAttrib(e),n=!1,r=0;r<s.length;r++){var i=s[r];if(i[0]===t[0]){t[1]||o?i[1]=t[1]:s.splice(r,1),n=!0;break}}n||!t[1]&&!o||s.push(t)}),s.sort();var i="";try{for(var c=d(s),u=c.next();!u.done;u=c.next()){var l=u.value;i+="*"+V(a.putAttrib(l))}}catch(e){n={error:e}}finally{try{u&&!u.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}return i}function pe(e){return("string"==typeof e?he:fe)(e)}function fe(n){function r(e){xe(e<=t(),"!(n <= remaining())",!1,{n:e,remaining:t()})}var i=0;function t(){return n.length-i}return{take:function(e){r(e);var t=n.slice(i,i+e);return i+=e,t},skip:function(e){r(e),i+=e},remaining:t,peek:function(e){return r(e),n.slice(i,i+e)}}}function he(n){var r=0,i=n.split("\n").length-1;function e(){return i}function o(e){xe(e<=c(),"!(n <= remaining())",!1,{n:e,remaining:c()})}function t(e){o(e);var t=n.substr(r,e);return i-=t.split("\n").length-1,r+=e,t}function a(e){return o(e),n.substr(r,e)}function s(e){o(e),r+=e}function c(){return n.length-r}return{take:t,skip:s,remaining:c,peek:a,newlines:e}}function ge(e,t,l,d){function n(e,t,n){if(!t)return n;if(!n)return t;var r=t.oldLen;xe(t.newLen===n.oldLen,"mismatched composition");var i=n.newLen,o=pe(t.charBank),a=pe(n.charBank),s=oe(t.itemType),c=me(t.ops,0,n.ops,0,function(e,t,n){var r=e.opcode,i=t.opcode;"+"===r&&"-"===i&&o.skip(Math.min(e.chars,t.chars)),we(e,t,n,l,d),"+"===n.opcode&&("+"===i?s.append(a.take(n.chars)):s.append(o.take(n.chars)))}),u=s.toResult();return{itemType:t.itemType,oldLen:r,newLen:i,ops:c,charBank:u}}void 0===d&&(d=!1);var r,i,o={};for(i in e)e.hasOwnProperty(i)&&(t[i]&&xe(e[i].itemType===t[i].itemType,"cs1 and cs2 itemType error"),null!==(r=n(i,e[i],t[i]||null))&&(o[i]=r));for(i in t)t.hasOwnProperty(i)&&(i in e||null!==(r=n(i,null,t[i]))&&(o[i]=r));return o}function me(e,t,n,r,i){for(var o=te(e,t),a=te(n,r),s=ve(),c=_(),u=_(),l=_();c.opcode||o.hasNext()||u.opcode||a.hasNext();)!c.opcode&&o.hasNext()&&o.next(c),!u.opcode&&a.hasNext()&&a.next(u),i(c,u,l),l.opcode&&(s.append(l),l.opcode="");return s.endDocument(),s.toString()}function ve(){var t=Te(),n=Te(),r=Te(),e=ae(),i="",o=0;function a(){e.append(r.toString()),r.clear()}function s(){e.append(t.toString()),t.clear(),e.append(n.toString()),n.clear()}function c(e){e.opcode&&e.chars&&("-"===e.opcode?("="===i&&a(),t.append(e),o-=e.chars):"+"===e.opcode?("="===i&&a(),n.append(e),o+=e.chars):"="===e.opcode&&("="!==i&&s(),r.append(e)),i=e.opcode)}function u(e,t,n,r){var i=_(e);i.attribs=ye(e,n,r);var o=t.lastIndexOf("\n");o<0?i.chars=t.length:(i.chars=o+1,i.lines=t.match(/\n/g).length,c(i),i.chars=t.length-(o+1)),i.lines=0,c(i)}function l(){return s(),a(),e.toString()}function d(){t.clear(),n.clear(),r.clear(),o=0}function p(){r.endDocument()}function f(){return o}return{append:c,toString:l,clear:d,endDocument:p,appendOpWithText:u,getLengthChange:f}}function ye(e,t,n){if(!t)return"";if("string"==typeof t)return t;if(n&&t&&t.length){1<t.length&&(t=t.slice()).sort();for(var r=[],i=0;i<t.length;i++){var o=t[i];("="===e||"+"===e&&o[1])&&r.push("*"+V(n.putAttrib(o)))}return r.join("")}return""}function be(e){for(var t in e.text)"0"!==t&&"\n"===e.text[t]&&(delete e.text[t],delete e.attribs[t]);if(e.rows)for(var t in e.rows)e.rows[t]&&0!==e.rows[t].length||(delete e.rows[t],t in e.attribs&&delete e.attribs[t]);if(e.cols)for(var t in e.cols)e.cols[t]&&0!==e.cols[t].length||(delete e.cols[t],t in e.attribs&&delete e.attribs[t])}function Ee(e){return"Z"===e?"\n":"R"===e||"C"===e?[]:(xe(!1,"itemType error"),"")}function _e(e){if("Z"===e)return"|1+1";if("R"===e||"C"===e)return"";throw new z("unrecognized itemType "+e)}function Ae(e,t){if(!t)return i;var n=t.putAttrib(e,!0);if(n<0)return i;var r=new RegExp("\\*"+V(n)+"(?!\\w)");return function(e){return r.test(e)};function i(){return!1}}function Ce(){var t=[];function e(e){t.push(e.attribs),e.lines&&t.push("|",V(e.lines)),t.push(e.opcode),t.push(V(e.chars))}function n(){return t.join("")}function r(){t.length=0}return{append:e,toString:n,clear:r}}function Te(){var t=Ce(),n=_(),r=0;function i(e){n.opcode&&(e&&"="===n.opcode&&!n.attribs||(t.append(n),r&&(n.chars=r,n.lines=0,t.append(n),r=0)),n.opcode="")}function e(e){0<e.chars&&(n.opcode===e.opcode&&n.attribs===e.attribs?0<e.lines?(n.chars+=r+e.chars,n.lines+=e.lines,r=0):0===n.lines?n.chars+=e.chars:r+=e.chars:(i(),m(e,n)))}function o(){i(!0)}function a(){return i(),t.toString()}function s(){t.clear(),g(n)}return{append:e,toString:a,clear:s,endDocument:o}}function Oe(e,r){var t=Te(),i=_(),o=oe(r),n=0;function a(e){"-"===e.opcode&&(n-=e.chars),"+"===e.opcode&&(n+=e.chars),t.append(e)}function s(e,t,n,r){var i=_(e);i.attribs=ye(e,n,r);var o=t.lastIndexOf("\n");o<0?i.chars=t.length:(i.chars=o+1,i.lines=t.match(/\n/g).length,a(i),i.chars=t.length-(o+1)),i.lines=0,a(i)}var c={keep:function(e,t,n,r){return i.opcode="=",i.attribs=n&&ye("=",n,r)||"",i.chars=e,i.lines=t||0,a(i),c},keepText:function(e,t,n){return s("=",e,t,n),c},insert:function(e,t,n){return"Z"===r?s("+",e,t,n):a({opcode:"+",chars:e.length,attribs:t,lines:0}),o.append(e),c},remove:function(e,t){return i.opcode="-",i.attribs="",i.chars=e,i.lines=t||0,a(i),c},toString:function(){return t.endDocument(),X(e,e+n,t.toString(),o.toResult())},toUnpacked:function(){return t.endDocument(),{itemType:r,oldLen:e,newLen:e+n,ops:t.toString(),charBank:o.toResult()}}};return c}function ke(e,t,n){var r,i,o={};for(r in e)e.hasOwnProperty(r)&&(t[r]&&xe(e[r].itemType===t[r].itemType,"map follow itemType error"),null!==(i=n(r,e[r],t[r]||null))&&(o[r]=i));for(r in t)r in e||null!==(i=n(r,null,t[r]))&&(o[r]=i);return o}function Se(e,t,n){var r="";return e&&le(e,function(e){n.getAttribKey(e)===t&&(r=n.getAttribValue(e))}),r}function we(e,t,n,r,i){if(void 0===i&&(i=!1),"-"===e.opcode)m(e,n),e.opcode="";else if(e.opcode)switch(t.opcode){case"-":t.chars<=e.chars?("="===e.opcode&&(n.opcode="-",n.chars=t.chars,n.lines=t.lines,n.attribs=i?t.attribs:""),e.chars-=t.chars,e.lines-=t.lines,t.opcode="",e.chars||(e.opcode="")):("="===e.opcode&&(n.opcode="-",n.chars=e.chars,n.lines=e.lines,n.attribs=i?t.attribs:""),t.chars-=e.chars,t.lines-=e.lines,e.opcode="");break;case"+":m(t,n),t.opcode="";break;case"=":t.chars<=e.chars?(n.opcode=e.opcode,n.chars=t.chars,n.lines=t.lines,n.attribs=Ie(e.attribs,t.attribs,"="===e.opcode,r),t.opcode="",e.chars-=t.chars,e.lines-=t.lines,e.chars||(e.opcode="")):(n.opcode=e.opcode,n.chars=e.chars,n.lines=e.lines,n.attribs=Ie(e.attribs,t.attribs,"="===e.opcode,r),e.opcode="",t.chars-=e.chars,t.lines-=e.lines);break;case"":m(e,n),e.opcode=""}else m(t,n),t.opcode=""}function Ie(e,t,a,s){var n,r;if(!e&&a)return t;if(!t)return e;var c=[];e.replace(/\*([0-9a-z]+)/g,function(e,t){return c.push(s.getAttrib(U(t))),""}),t.replace(/\*([0-9a-z]+)/g,function(e,t){for(var n=s.getAttrib(U(t)),r=!1,i=0;i<c.length;i++){var o=c[i];if(o[0]===n[0]){n[1]||a?o[1]=n[1]:c.splice(i,1),r=!0;break}}return r||!n[1]&&!a||c.push(n),""}),c.sort();var i=ae();try{for(var o=d(c),u=o.next();!u.done;u=o.next()){var l=u.value;i.append("*"),i.append(V(s.putAttrib(l)))}}catch(e){n={error:e}}finally{try{u&&!u.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return i.toString()}function xe(e,t,n,r){var i;if(void 0===n&&(n=!1),void 0===r&&(r={}),!e)throw"object"===o()(r)&&Object.keys(r).length&&(i=Object.entries(r).map(function(e){var t=s(e,2);return t[0]+": "+t[1]}).join(", "),console.log("oops debug: "+i)),new z("Failed assertion: "+t,n)}function Le(s,t,o,a){var c,u=0,l=0,d=null,p=_("+"),n=te(s.ops),f=Ne(s.newLen,s.itemType),h=[],g=[];function m(e){return t.atIndex?t.atIndex(e).text+"\n":t.get?t.get(e):t[e]}function v(e,t){if(!d||c!==u){d=te(o[u]),c=u;for(var n=0,r=!1;!r;)xe(d.hasNext(),"curLineOpIter has next 1"),d.next(p),n+p.chars>=l?(p.chars-=l-n,r=!0):n+=p.chars}for(;0<e;){p.chars||d.hasNext()||(l=0,c=++u,p.chars=0,d=te(o[u])),p.chars||(xe(d.hasNext(),"curLineOpIter has next 2"),d.next(p));var i=Math.min(e,p.chars);t(i,p.attribs,i===p.chars&&0<p.lines),e-=i,p.chars-=i,l+=i}p.chars||d.hasNext()||(u++,l=0)}function y(e,t){t?(u+=t,l=0):d&&c===u?v(e,function(){}):l+=e}function b(e){var t=0,n=oe(s.itemType),r=pe(m(u));r.skip(l);var i=r.take(r.remaining());t+=i.length,n.append(i);for(var o=u+1;t<e;){var a=m(o);t+=a.length,n.append(a),o++}return(r=pe(n.toResult())).take(Math.min(e,r.remaining()))}function E(t){var n={};return function(e){return n[e]||(n[e]=t(e)),n[e]}}for(var e=function(){var r,i,o,e=n.next();"="===e.opcode?e.attribs?(h.length=0,g.length=0,le(e.attribs,function(e){h.push(a.getAttribKey(e)),g.push(a.getAttribValue(e))}),r=E(function(e){for(var t=[],n=0;n<h.length;n++){var r=h[n],i=g[n],o=Se(e,r,a);i!==o&&t.push([r,o])}return ye("=",t,a)}),v(e.chars,function(e,t,n){f.keep(e,n?1:0,r(t))})):(y(e.chars,e.lines),f.keep(e.chars,e.lines)):"+"===e.opcode?f.remove(e.chars,e.lines):"-"===e.opcode&&(i=b(e.chars),o=0,v(e.chars,function(e,t,n){var r=pe(i);r.skip(o),f.insert(r.take(Math.min(r.remaining(),e)),t),o+=e}))};n.hasNext();)e();return f.toUnpacked()}function Re(t,r,n){void 0===r&&(r="Z"),void 0===n&&(n="0"),r=r||"Z";var i=ve(),o=_(),a=oe(r),s={keepOverOp:function(e){s.keep(e.chars,e.lines)},keepOverOpWithNewAttributes:function(e,t,n){s.keep(e.chars,e.lines,t,n)},keepOverOpWithoutAttribute:function(e,t,n){s.keep(e.chars,e.lines,[[t,""]],n)},keep:function(e,t,n,r){return o.opcode="=",o.attribs=n&&ye("=",n,r)||"",o.chars=e,o.lines=t||0,i.append(o),s},keepText:function(e,t,n){return i.appendOpWithText("=",e,t,n),s},insert:function(e,t,n){return"Z"===r?i.appendOpWithText("+",e,t,n):i.append({opcode:"+",chars:e.length,attribs:t,lines:0}),a.append(e),s},remove:function(e,t){return o.opcode="-",o.attribs="",o.chars=e,o.lines=t||0,i.append(o),s},removeText:function(e){i.appendOpWithText("-",e)},insertAText:function(e){if("\n"!==e.text.charAt(e.text.length-1))throw new z("insertAText: text must end in newline");return De(e,i),a.append(e.text.slice(0,-1)),s},toChangeset:function(){if(!n)throw new z("Changeset: zoneId should be non-trivial");var e={};return e[n]=s.toUnpacked(),Q(e)},toString:function(){if(!n)throw new z("Changeset: zoneId should be non-trivial");var e={};return e[n]=s.toUnpacked(),Q(e)},toUnpacked:function(){i.endDocument();var e=t+i.getLengthChange();return{itemType:r,oldLen:t,newLen:e,ops:i.toString(),charBank:a.toResult()}}};return s}function Ne(e,t,n){return void 0===t&&(t="Z"),void 0===n&&(n="0"),Re(e,t,n)}function De(e,t){for(var n,r,i=te(e.attribs),o=_();i.hasNext();)i.next(o),i.hasNext()?t.append(o):(o.lines<=1?(o.lines=0,o.chars--):(n=e.text.lastIndexOf("\n",e.text.length-2)+1,r=e.text.length-n-1,o.lines--,o.chars-=r+1,t.append(o),o.lines=0,o.chars=r),o.chars&&t.append(o))}function Me(e,t){var n,r,i,o=(new p).fromJsonableNoCloning(e.apool),a=(new p).fromJsonableNoCloning(t.apool),s={};for(i in e[h])e[h].hasOwnProperty(i)&&(r=K(e[h][i],o,a),s[i]=R(r,t[h][i]||"",a));for(i in t[h])e[h][i]||(s[i]=R("",t[h][i],a));return(n={})[h]=s,n.apool=a.toJsonable(),n}var Pe=p},"+v7G":function(e,k,S){"use strict";(function(oe){var e=S("pVnL"),ae=S.n(e),t=S("lSNA"),se=S.n(t),n=S("o0o1"),i=S.n(n),r=S("yXPU"),o=S.n(r),a=S("lwsE"),c=S.n(a),s=S("W8MJ"),u=S.n(s),l=S("a1gu"),d=S.n(l),p=S("Nsbk"),f=S.n(p),h=S("PJYZ"),g=S.n(h),m=S("7W2i"),v=S.n(m),ce=S("7EGn"),ue=S("NZ+B"),y=S("hbEN"),b=S("q1tI"),le=S.n(b),E=S("i8i4"),_=(S("17x9"),S("TSYQ")),de=S.n(_),pe=S("JXNz"),fe=S("dd8S"),he=(S("QuVm"),S("iP/4")),ge=S("VI6H"),C=S("peh1"),me=S("cHHt"),ve=S("Sjdk"),T=S("2ACu"),ye=378,O=function(e){function t(e){var s;return c()(this,t),(s=d()(this,f()(t).call(this,e))).observe=function(){s.props.observer&&!s.isObverse&&(s.isObverse=!0,s.props.observer.observe(Object(E.findDOMNode)(g()(s))))},s.unobserve=function(){s.props.observer&&s.props.observer.unobserve(Object(E.findDOMNode)(g()(s)))},s.handleCommentDraft=function(){var t=o()(i.a.mark(function e(t){var n,r;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.replyId,r=t.html,e.prev=1,e.next=4,s.waitUntilTextareaLoaded();case 4:s.setPrevContentToTextarea({type:n?"update":"add",replyId:n,html:r,entities:null}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),console.error(e.t0);case 10:case"end":return e.stop()}},e,null,[[1,7]])}));return function(e){return t.apply(this,arguments)}}(),s.setPrevContentToTextarea=function(e){var t=e.type,n=e.replyId,r=e.content,i=e.html,o=e.entities;"update"!==t?s.textareaRef&&(s.textareaRef.handleFillHtml(r,i,o),s.textareaRef.focus(),s.textareaRef.setCursorEnd()):s.commentListRef.setContentToUpdateTextarea(n,i)},s.hasText=function(){if(s.textareaRef&&s.textareaRef.isEmpty)return s.textareaRef&&!s.textareaRef.isEmpty()},s.setLastHaveUpdateTextarea=function(){var e,t,n=s.props.list;n.length<1?s.setState({lastHaveUpdateTextarea:!1}):(e=n[n.length-1].reply_id,t=s.updateTextareaRefs&&s.updateTextareaRefs.get(e),s.setState({lastHaveUpdateTextarea:!!t}))},s.hasUnFinishComment=function(){if(s.hasText())return!0;for(var e=0;e<=s.props.list.length-1;e++){var t=s.props.list[e],n=t.content,r=t.sending,i=t.error,o=t.reply_id;if(r||i)return!0;var a=s.updateTextareaRefs&&s.updateTextareaRefs.get(o);if(a)if(n!==a.getCurrentTextareaValue())return!0}return!1},s.getPanelRef=function(e){s.panelRef=e},s.getTextareaRef=function(e){s.textareaRef=e,s.handleTextareaLoaded();var t=s.props.textareaProps;t.ref&&t.ref(e)},s.getUpdateTextareaRef=function(e,t){t?s.updateTextareaRefs.set(e,t):s.updateTextareaRefs.delete(e)},s.getCurTextareaRef=function(){return s.textareaRef},s.getCurPanelNode=function(){return s.panelRef},s.handlePanelResize=Object(y.default)(function(){var e=s.props.onPanelResize;e&&e()},100),s.handleTextareaResize=function(){var e=s.props,t=e.textareaProps,n=e.onPanelResize;t.onResize&&t.onResize.apply(t,arguments),n&&n.apply(void 0,arguments),s.setLastHaveUpdateTextarea()},s.handleListResize=function(){var e=s.props,t=e.onPanelResize,n=e.listProps;n.onResize&&n.onResize.apply(n,arguments),t&&t.apply(void 0,arguments),s.setLastHaveUpdateTextarea()},s.setFocusIfNecessary=o()(i.a.mark(function e(){var t,n;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(s.props.readOnly)return e.abrupt("return");e.next=3;break;case 3:return e.next=5,s.waitUntilTextareaLoaded();case 5:t=g()(s),(n=t.textareaRef)&&!n.isFocus()&&(n.focus(),n.setCursorEnd());case 7:case"end":return e.stop()}},e)})),s.waitUntilTextareaLoaded=function(){return s.textareaRef?Promise.resolve():new Promise(function(e){s.handleTextareaLoadedQueue.push(function(){e()})})},s.handleTextareaLoaded=function(){s.handleTextareaLoadedQueue.forEach(function(e){return e()}),s.handleTextareaLoadedQueue=[]},s.triggerPanelClick=function(e){var t=s.props.onPanelClick;t&&t(e)},s.handlePanelMouseDown=function(e){s.props.enableFullCommentStyle||(s.mouseDownContext={pageX:e.pageX,pageY:e.pageY})},s.handlePanelClick=function(e){var t=e.pageX,n=e.pageY;0===t&&0===n?s.triggerPanelClick(e):s.mouseDownContext&&(5<Math.abs(s.mouseDownContext.pageX-t)||5<Math.abs(s.mouseDownContext.pageY-n)||(s.mouseDownContext=null,s.triggerPanelClick(e)))},s.handleItemEdit=function(e,t){var n=s.props.onItemEdit;n&&n(e)},s.handlePanelReply=function(){var n=o()(i.a.mark(function e(t,n){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s.triggerPanelClick(t),e.next=3,s.setFocusIfNecessary();case 3:n&&(s.performUserToTextareaHead(n),Object(T.default)("orientation_comment_click",{from:"part_comment"}));case 4:case"end":return e.stop()}},e)}));return function(e,t){return n.apply(this,arguments)}}(),s.mentionOptions=Object.assign({},e.mentionOptions||{},{type:"part_comment"}),s.updateTextareaRefs=new Map,s.getUpdateTextAreaProps=Object(C.createSelector)(function(e){return e.updateTextAreaProps},function(e){return e.textareaProps},function(e,t){var n="comment-panel",r=de()("".concat(n,"__textarea"),t.className),i=t.cancelText||oe("common.cancel");return Object.assign({},e,{confirmText:oe("common.confirm"),className:r,limit:t.limit,cancelText:i,onResize:s.handleTextareaResize,mentionOptions:s.mentionOptions,getUpdateTextareaRef:s.getUpdateTextareaRef})}),s.commentListRef=null,s.handleTextareaLoadedQueue=[],s.mouseDownContext=null,s.isObverse=!1,s.state={lastHaveUpdateTextarea:!1},s}return v()(t,e),u()(t,[{key:"componentDidMount",value:function(){this.observe()}},{key:"componentDidUpdate",value:function(){this.observe()}},{key:"componentWillUnmount",value:function(){this.handlePanelResize.cancel(),this.handlePanelResize=null,this.getUpdateTextAreaProps=null,this.panelRef=null,this.textareaRef=null,this.updateTextareaRefs.clear(),this.unobserve()}},{key:"isFocusOnTextarea",value:function(){var e=this.textareaRef;return e&&e.isFocus()}},{key:"renderNoInPositionComment",value:function(){var e=this.props,t=e.finish,n=e.onPanelReopenComment,r="comment-panel";return le.a.createElement("div",{className:"".concat(r,"__tip-wrapper")},le.a.createElement("div",{className:"".concat(r,"__tip-container")},"[".concat(oe(t?"feed.comment_resolve":"feed.comment_deleted"),"]")),t?le.a.createElement("button",{onClick:n},oe("etherpad.comment.reopen")):null)}},{key:"getReplyOffsets",value:function(e){return this.commentListRef?this.commentListRef.getReplyOffsets(e):!e&&this.panelRef?{listToContainerOffsetTop:this.panelRef.offsetTop,replyToListOffsetTop:0,replyOffsetHeight:0}:null}},{key:"startHighlightAnimation",value:function(e,t){this.commentListRef&&this.commentListRef.startHighlightAnimation(e,t)}},{key:"performUserToTextareaHead",value:function(e){this.textareaRef&&this.textareaRef.performUserToTextareaHead(e)}},{key:"render",value:function(){var e,t,n=this,r=this.props,i=r.reference,o=r.className,a=r.style,s=r.userName,c=r.myUserId,u=r.userAvatarUrl,l=r.list,d=r.expand,p=r.deleted,f=r.finish,h=r.readOnly,g=r.listProps,m=r.textareaProps,v=r.canSwitchToPrevComment,y=r.canSwitchToNextComment,b=r.onSwitchToPrevComment,E=r.onSwitchToNextComment,_=r.onPanelMouseEnter,C=r.onPanelMouseLeave,T=r.onTransitionEnd,O=r.quote,k=r.ellipsisAuthorClass,S=r.onCommentListCopy,w=r.enableReaction,I=r.translateContentCompare,x=r.transEnabled,L=r.commentId,R=r.haveContentAfter,N=r.embedObjShareEnable,D=r.enableFullCommentStyle,M=r.blockLoaded,P=r.commentImageEnabled,j=r.isCalcCommentPosition,F=this.state.lastHaveUpdateTextarea,B="comment-panel",U=l&&0<l.length,H=this.hasText(),z=de()("".concat(B,"__arrow"),se()({},"".concat(B,"__arrow--expand"),d)),V=Object(ce.default)(l,"[0].error"),K=Object(ce.default)(l,"[0].sending"),W=!(V||Object(ue.a)(K)&&!1!==K),Y=!h&&d&&W,q=W,Z=de()("".concat(B,"__list"),g.className),X=de()("".concat(B),(e={},se()(e,"".concat(B,"_safari"),he.a.isSafari),se()(e,"".concat(B,"_firefox"),he.a.isFF),se()(e,"".concat(B,"--read"),h),se()(e,"".concat(B,"--expand"),d),se()(e,"".concat(B,"--new"),!U),se()(e,"".concat(B,"--has-text"),H),se()(e,"".concat(B,"--unresolvable"),!d),se()(e,"".concat(B,"--unreply"),p||f),se()(e,"".concat(B,"--no-bottom"),F),e),o),Q=de()("".concat(B,"__textarea"),se()({},"".concat(B,"__textarea--expand"),H||d),m.className),J="",$=m.cancelText||oe("common.cancel"),J=m.confirmText||oe(U?"etherpad.reply":"comment.post"),ee=this.getUpdateTextAreaProps(this.props),te=!(void 0===O||f||p&&M),ne=H||d,re=!0===F||!1===R||D,ie=oe(U?"comment.placeholder.reply_comment":"comment.placeholder.add_comment");return m.placeholder&&(ie=m.placeholder),U||(t=Object(me.a)())&&(ie=t),le.a.createElement("div",{className:X,style:a,ref:this.getPanelRef,onMouseDown:this.handlePanelMouseDown,onClick:this.handlePanelClick,onMouseEnter:_,onMouseLeave:C,onTransitionEnd:T,"content-after":re?"":"".concat(oe("etherpad.reply"),"...")},te||D?null:le.a.createElement("div",{className:z}),te&&d?le.a.createElement("div",{className:"".concat(B,"__quote-hat")}):null,te?le.a.createElement("div",{className:"".concat(B,"__quote-wrapper"),onCopy:S,onCut:S},le.a.createElement("div",{className:"".concat(B,"__quote-container")},O)):null,p&&M||f?this.renderNoInPositionComment():null,U?le.a.createElement(pe.a,ae()({ref:function(e){return n.commentListRef=e},readonly:h,enableReaction:w},g,{reference:i,myUserId:c,commentId:L,canSwitchToPrevComment:v,canSwitchToNextComment:y,onSwitchToPrevComment:b,onSwitchToNextComment:E,className:Z,resolvable:Y,onResize:this.handleListResize,list:l,showContentLimit:ye,ellipsisAuthorClass:k,updateTextAreaProps:ee,panelExpand:d,source:"part_comment",onCopy:S,onCut:S,translateContentCompare:I,transEnabled:x,embedObjShareEnable:N,enableFullCommentStyle:this.props.enableFullCommentStyle,onReply:this.handlePanelReply,onEdit:this.handleItemEdit,commentImageEnabled:P,isCalcCommentPosition:j})):le.a.createElement("div",{className:"".concat(B,"__meta")},le.a.createElement(fe.a,{reference:i,token:c,userName:Object(ge.o)(c)||s,avatar:u,ellipsisAuthorClass:k})),!h&&ne&&le.a.createElement(ve.a,ae()({},m,{getRef:this.getTextareaRef,className:Q,limit:m.limit,confirmText:J,cancelText:$,sendable:q,onResize:this.handleTextareaResize,mentionOptions:this.mentionOptions,placeholder:ie,commentId:L,commentImageEnabled:P})))}}]),t}(le.a.PureComponent);k.a=O}).call(this,S("2vAP"))},"/FZm":function(e,t,n){e.exports=n("Kxu3")},"/GXw":function(e,t,n){"use strict";n.d(t,"a",function(){return c}),n.d(t,"b",function(){return s}),n.d(t,"c",function(){return a}),n.d(t,"d",function(){return o}),n.d(t,"e",function(){return u}),n.d(t,"f",function(){return i}),n.d(t,"g",function(){return r}),n.d(t,"h",function(){return ie}),n.d(t,"i",function(){return re}),n.d(t,"j",function(){return ne}),n.d(t,"k",function(){return te}),n.d(t,"l",function(){return oe}),n.d(t,"m",function(){return ee}),n.d(t,"n",function(){return $}),n.d(t,"o",function(){return J}),n.d(t,"p",function(){return X}),n.d(t,"q",function(){return z}),n.d(t,"r",function(){return Z}),n.d(t,"s",function(){return q}),n.d(t,"t",function(){return Y}),n.d(t,"u",function(){return Q}),n.d(t,"v",function(){return W}),n.d(t,"w",function(){return K}),n.d(t,"x",function(){return V}),n.d(t,"y",function(){return k}),n.d(t,"z",function(){return O}),n.d(t,"A",function(){return T}),n.d(t,"B",function(){return C}),n.d(t,"C",function(){return S}),n.d(t,"D",function(){return _}),n.d(t,"E",function(){return E}),n.d(t,"F",function(){return U}),n.d(t,"G",function(){return B}),n.d(t,"H",function(){return F}),n.d(t,"I",function(){return j}),n.d(t,"J",function(){return H}),n.d(t,"K",function(){return P}),n.d(t,"L",function(){return M}),n.d(t,"M",function(){return N}),n.d(t,"N",function(){return R}),n.d(t,"O",function(){return L}),n.d(t,"P",function(){return x}),n.d(t,"Q",function(){return D}),n.d(t,"R",function(){return I}),n.d(t,"S",function(){return w}),n.d(t,"T",function(){return h}),n.d(t,"U",function(){return f}),n.d(t,"V",function(){return p}),n.d(t,"W",function(){return d}),n.d(t,"X",function(){return g}),n.d(t,"Y",function(){return l}),n.d(t,"Z",function(){return b}),n.d(t,"ab",function(){return y}),n.d(t,"bb",function(){return v}),n.d(t,"cb",function(){return m});var r="#245bdb",i="#3370ff",o="#4e83fd",a="#82a7fc",s="#bacefd",c="#e1eaff",u="#f0f4ff",l="#ffe928",d="#fff258",p="#fff67a",f="#fffca3",h="#ffffcc",g="#fefff0",m="#dc9b04",v="#ffc60a",y="#fad355",b="#f8e6ab",E="#de7802",_="#ff8800",C="#ffa53d",T="#ffba6b",O="#fed4a4",k="#feead2",S="#fff5eb",w="#d83931",I="#f54a45",x="#f76964",L="#f98e8b",R="#fbbfbc",N="#fde2e2",D="#fef1f1",M="#6425d0",P="#7f3bf5",j="#935af6",F="#ad82f7",B="#cdb2fa",U="#ece2fe",H="#f6f1fe",z="#000000",V="#1f2329",K="#646a73",W="#8f959e",Y="#bbbfc4",q="#dee0e3",Z="#eff0f1",X="#f5f6f7",Q="#f8f9fa",J="#ffffff",$="#2ea121",ee="#34c724",te="#62d256",ne="#8ee085",re="#b7edb1",ie="#d9f5d6",oe="#f0fbef"},"/OS9":function(e,t,n){var r=n("D5Sy"),o=r.isTag,a=r.getParent,i=r.getChildren,s=r.getSiblings,c=r.getName;e.exports={__proto__:null,attribute:n("VdqC").compile,pseudo:n("nryN").compile,tag:function(t,e){var n=e.name;return function(e){return c(e)===n&&t(e)}},descendant:function(n,e,t,r,i){return function(e){if(i&&n(e))return!0;for(var t=!1;!t&&(e=a(e));)t=n(e);return t}},parent:function(t,e,n){if(n&&n.strict)throw SyntaxError("Parent selector isn't part of CSS3");return function(e){return i(e).some(r)};function r(e){return o(e)&&t(e)}},child:function(n){return function(e){var t=a(e);return!!t&&n(t)}},sibling:function(r){return function(e){for(var t=s(e),n=0;n<t.length;n++)if(o(t[n])){if(t[n]===e)break;if(r(t[n]))return!0}return!1}},adjacent:function(i){return function(e){for(var t,n=s(e),r=0;r<n.length;r++)if(o(n[r])){if(n[r]===e)break;t=n[r]}return!!t&&i(t)}},universal:function(e){return e}}},"/Y+E":function(e,t,n){var i=n("cUew");e.exports=function(e,t,n){for(var r=n?e:e.parentNode;r&&r!==document;){if(i(r,t))return r;r=r.parentNode}}},"/fVd":function(e,t,n){"use strict";n.d(t,"a",function(){return y});var r=n("J4zp"),d=n.n(r),i=n("UXvI"),o=n("kohC"),p=n("AiBH"),s=n("OX8E"),c=n("2ACu"),f=n("tp5K"),a=[p.E.FILE,p.E.SHEET,p.E.MINDNOTE,p.E.BITABLE,p.E.SLIDE,p.E.BOX,p.E.WIKI];function h(){console.error("Instance EmbedObjPermissionManager is not existed")}function u(e){Object(c.default)("page_visit_embed_info_collect",{initially_request_embed_num:e.length})}function l(){var t=!0;return new o.a({onPermissionChange:function(e){t&&(u(e),t=!1);var o=0,a=0;e.forEach(function(e){var t,n,r=e.token,i=e.permission;i&&(t=i.cantRead,n=i.canInvite,t&&++o,n&&++a,y.hasEmbedObj(r)&&(y.cantReadFiles[r]=t,s.a.trigger(p.D,[r,t])))}),(o||a)&&Object(c.default)("page_visit_embed_info_collect",{self_can_not_access_doc_num:o,collaborator_can_not_access_doc_num:a})},onError:function(e){return console.error(e)}})}var g=1e3,m=500,v=500,y={embedObjCountMap:{},cantReadFiles:{},embedObjPermissionManager:null,embedObjMap:{},zoneToLineNodeIdMap:{},waitingIntoBufferMap:new Map,getInstance:function(){return this.embedObjPermissionManager},initEmbedObjMap:function(u){var l=this;this.recreateEmbedObjPermissionManager();var t=new RegExp("^mention-type_(".concat(a.join("|"),")$")),d=u.getMatchedAttributePositionOnSelection(null,function(e){return t.test(e)},{shouldMerge:!1});u.getMatchedAttributePositionOnSelection(null,function(e){return/mention-token/.test(e)},{shouldMerge:!1}).forEach(function(e){var i,t,n,r=e.attrKey,o=e.docPosition,a=o.selEnd,s=o.selStart,c=o.selZone;d.some(function(e){var t=e.attrKey,n=e.docPosition;if(n.selEnd[0]!==a[0]||n.selEnd[1]!==a[1]||n.selStart[0]!==s[0]||n.selStart[1]!==s[1]||n.selZone!==c)return!1;var r=t.split("_")[1];return i=p.v[r],!0}),i&&(t=Object(f.c)(r),l.embedObjCountMap[t]?++l.embedObjCountMap[t]:l.embedObjCountMap[t]=1,n=l.getTitle(s,a,c,u),l.embedObjMap[t]={token:t,type:i,title:n})})},getTitle:function(e,t,n,r){var i=r.selection.flatten([e[0],e[1],n]),o=r.selection.flatten([t[0],t[1],n]);return r.getRep(n).alltext.slice(i,o)},createEmbedObjPermissionManager:function(){this.embedObjPermissionManager||(this.embedObjPermissionManager=l())},destroyEmbedObjPermissionManager:function(){this.embedObjPermissionManager&&(this.embedObjPermissionManager.destroy(),this.embedObjPermissionManager=null,this.embedObjMap={},this.embedObjCountMap={},this.cantReadFiles={},this.addStash={},this.zoneToLineNodeIdMap={},this.waitingIntoBufferMap.clear())},embedObjPermissionManagerUpdateEmbedObjList:Object(i.default)(function(){this.embedObjPermissionManager&&this.embedObjPermissionManager.updateEmbedObjList(Object.values(this.embedObjMap))},v),recreateEmbedObjPermissionManager:function(){this.destroyEmbedObjPermissionManager(),this.createEmbedObjPermissionManager()},hasEmbedObj:function(e){return this.embedObjCountMap[e]&&this.embedObjMap[e]},addEmbedObj:function(e){if(!this.embedObjPermissionManager)return h();var t=!0,n=!1,r=void 0;try{for(var i,o=e[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var a=i.value,s=a.num,c=a.obj,u=c.token,l=c.title;this.hasEmbedObj(u)?(this.embedObjCountMap[u]+=s,this.embedObjMap[u].title!==l&&(this.embedObjMap[u].title=l)):(this.embedObjCountMap[u]=s,this.embedObjMap[u]=c)}}catch(e){n=!0,r=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw r}}},sendEmbedObjsToManager:function(e){var t;this.embedObjPermissionManager&&0<e.length&&(t=Object(f.b)(e).filter(function(e){return!!e}),this.embedObjPermissionManager.addEmbedObjs(t),Object(c.default)("page_visit_embed_info_collect",{total_request_embed_doc_num:t.length}))},debounceSendEmbedObjsToManager:Object(f.a)(function(e){return y.sendEmbedObjsToManager(e)},m,{maxWait:g}),removeEmbedObj:function(e){if(!this.embedObjPermissionManager)return h();var t=[],n=!0,r=!1,i=void 0;try{for(var o,a=e[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value,c=s.num,u=s.obj.token;this.embedObjCountMap[u]&&(this.embedObjCountMap[u]-=c,0===this.embedObjCountMap[u]&&(t.push(this.embedObjMap[u]),delete this.embedObjCountMap[u],delete this.embedObjMap[u]))}}catch(e){r=!0,i=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}this.embedObjPermissionManager.removeEmbedObjs(t)},addStash:{},addTokenInStash:function(e){var t=!0,n=!1,r=void 0;try{for(var i,o=e[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var a,s=i.value,c=d()(Object.entries(s)[0],2),u=c[0],l=c[1];this.addStash[u]?this.addStash[u].num+=l:(a={token:u,type:void 0,title:void 0},this.addStash[u]={num:l,obj:a})}}catch(e){n=!0,r=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw r}}},completeInStash:function(e){var t,n=e.token,r=e.type,i=e.title;!1===this.isCompleteInStash(n)&&((t=this.addStash[n].obj).type=r,t.title=i,this.execStashList())},removeFromStash:function(e){var t=[],n=!0,r=!1,i=void 0;try{for(var o,a=e[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value,c=d()(Object.entries(s)[0],2),u=c[0],l=c[1];this.addStash[u]?this.addStash[u].num&&(this.addStash[u].num-=l,0===this.addStash[u].num&&delete this.addStash[u]):this.hasEmbedObj(u)&&t.push({num:l,obj:this.embedObjMap[u]})}}catch(e){r=!0,i=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}this.removeEmbedObj(t)},isEmptyStash:function(){return!Object.keys(this.addStash).length},isCompleteInStash:function(e){return this.addStash[e]?Object.values(this.addStash[e].obj).every(function(e){return void 0!==e}):null},execStashList:function(){var t=this;if(!this.embedObjPermissionManager)return h();var n=[],e=Object.keys(this.addStash);0<e.length&&(e.forEach(function(e){t.isCompleteInStash(e)&&(n.push(t.addStash[e]),delete t.addStash[e])}),this.addEmbedObj(n))},fetchEmbedObjsPerm:function(){this.embedObjPermissionManager&&this.embedObjPermissionManager.fetchEmbedObjsAllPerm()}}},"/lCS":function(e,t,n){var i=n("gFfm"),o=n("jbM+"),a=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]];function r(n,r){return i(a,function(e){var t="_."+e[0];r&e[1]&&!o(n,t)&&n.push(t)}),n.sort()}e.exports=r},"/lcV":function(e,t,n){"use strict";var r,i=n("J4zp"),o=n.n(i),a={reaction_type_18x:"reaction_type_18x",reaction_type_angry:"reaction_type_angry",reaction_type_applause:"reaction_type_applause",reaction_type_attention:"reaction_type_attention",reaction_type_awesome:"reaction_type_awesome",reaction_type_bear:"reaction_type_bear",reaction_type_beer:"reaction_type_beer",reaction_type_betrayed:"reaction_type_betrayed",reaction_type_bigkiss:"reaction_type_bigkiss",reaction_type_blackface:"reaction_type_blackface",reaction_type_blubber:"reaction_type_blubber",reaction_type_blush:"reaction_type_blush",reaction_type_bomb:"reaction_type_bomb",reaction_type_cake:"reaction_type_cake",reaction_type_chuckle:"reaction_type_chuckle",reaction_type_clap:"reaction_type_clap",reaction_type_cleaver:"reaction_type_cleaver",reaction_type_comfort:"reaction_type_comfort",reaction_type_crazy:"reaction_type_crazy",reaction_type_cry:"reaction_type_cry",reaction_type_cucumber:"reaction_type_cucumber",reaction_type_detergent:"reaction_type_detergent",reaction_type_dizzy:"reaction_type_dizzy",reaction_type_done:"reaction_type_done",reaction_type_donnotgo:"reaction_type_donnotgo",reaction_type_drool:"reaction_type_drool",reaction_type_drowsy:"reaction_type_drowsy",reaction_type_dull:"reaction_type_dull",reaction_type_dullstare:"reaction_type_dullstare",reaction_type_eating:"reaction_type_eating",reaction_type_embarrassed:"reaction_type_embarrassed",reaction_type_enough:"reaction_type_enough",reaction_type_error:"reaction_type_error",reaction_type_eyesclosed:"reaction_type_eyesclosed",reaction_type_facepalm:"reaction_type_facepalm",reaction_type_fingerheart:"reaction_type_fingerheart",reaction_type_fistbump:"reaction_type_fistbump",reaction_type_followme:"reaction_type_followme",reaction_type_frown:"reaction_type_frown",reaction_type_gift:"reaction_type_gift",reaction_type_glance:"reaction_type_glance",reaction_type_goodjob:"reaction_type_goodjob",reaction_type_hammer:"reaction_type_hammer",reaction_type_haughty:"reaction_type_haughty",reaction_type_headset:"reaction_type_headset",reaction_type_heart:"reaction_type_heart",reaction_type_heartbroken:"reaction_type_heartbroken",reaction_type_highfive:"reaction_type_highfive",reaction_type_hug:"reaction_type_hug",reaction_type_husky:"reaction_type_husky",reaction_type_innocentsmile:"reaction_type_innocentsmile",reaction_type_jiayi:"reaction_type_jiayi",reaction_type_joyful:"reaction_type_joyful",reaction_type_kiss:"reaction_type_kiss",reaction_type_laugh:"reaction_type_laugh",reaction_type_lips:"reaction_type_lips",reaction_type_lol:"reaction_type_lol",reaction_type_lookdown:"reaction_type_lookdown",reaction_type_love:"reaction_type_love",reaction_type_money:"reaction_type_money",reaction_type_muscle:"reaction_type_muscle",reaction_type_nosepick:"reaction_type_nosepick",reaction_type_obsessed:"reaction_type_obsessed",reaction_type_ok:"reaction_type_ok",reaction_type_party:"reaction_type_party",reaction_type_petrified:"reaction_type_petrified",reaction_type_poop:"reaction_type_poop",reaction_type_praise:"reaction_type_praise",reaction_type_proud:"reaction_type_proud",reaction_type_puke:"reaction_type_puke",reaction_type_rainbowpuke:"reaction_type_rainbowpuke",reaction_type_rose:"reaction_type_rose",reaction_type_salute:"reaction_type_salute",reaction_type_scowl:"reaction_type_scowl",reaction_type_shake:"reaction_type_shake",reaction_type_shhh:"reaction_type_shhh",reaction_type_shocked:"reaction_type_shocked",reaction_type_showoff:"reaction_type_showoff",reaction_type_shy:"reaction_type_shy",reaction_type_sick:"reaction_type_sick",reaction_type_silent:"reaction_type_silent",reaction_type_skull:"reaction_type_skull",reaction_type_slap:"reaction_type_slap",reaction_type_sleep:"reaction_type_sleep",reaction_type_slight:"reaction_type_slight",reaction_type_smart:"reaction_type_smart",reaction_type_smile:"reaction_type_smile",reaction_type_smirk:"reaction_type_smirk",reaction_type_smooch:"reaction_type_smooch",reaction_type_smug:"reaction_type_smug",reaction_type_sob:"reaction_type_sob",reaction_type_speechless:"reaction_type_speechless",reaction_type_spitblood:"reaction_type_spitblood",reaction_type_strive:"reaction_type_strive",reaction_type_sweat:"reaction_type_sweat",reaction_type_tears:"reaction_type_tears",reaction_type_tease:"reaction_type_tease",reaction_type_terror:"reaction_type_terror",reaction_type_thanks:"reaction_type_thanks",reaction_type_thinking:"reaction_type_thinking",reaction_type_thumbs_up:"reaction_type_thumbs_up",reaction_type_toasted:"reaction_type_toasted",reaction_type_tongue:"reaction_type_tongue",reaction_type_trick:"reaction_type_trick",reaction_type_upperleft:"reaction_type_upperleft",reaction_type_wail:"reaction_type_wail",reaction_type_wave:"reaction_type_wave",reaction_type_welldone:"reaction_type_welldone",reaction_type_what:"reaction_type_what",reaction_type_whimper:"reaction_type_whimper",reaction_type_wink:"reaction_type_wink",reaction_type_witty:"reaction_type_witty",reaction_type_wow:"reaction_type_wow",reaction_type_wronged:"reaction_type_wronged",reaction_type_xblush:"reaction_type_xblush",reaction_type_yawn:"reaction_type_yawn",reaction_type_yeah:"reaction_type_yeah",reaction_type_fireworks:"reaction_type_fireworks",reaction_type_bull:"reaction_type_bull",reaction_type_calf:"reaction_type_calf",reaction_type_awesomen:"reaction_type_awesomen",reaction_type_2021:"reaction_type_2021",reaction_type_candiedhaws:"reaction_type_candiedhaws",reaction_type_redpacket:"reaction_type_redpacket",reaction_type_fortune:"reaction_type_fortune",reaction_type_luck:"reaction_type_luck",reaction_type_firecracker:"reaction_type_firecracker"},s=["BETRAYED","OK","MONEY","AWESOMEN","2021","FORTUNE"],c={BLUSH:"grin",XBLUSH:"blush",ERROR:"errr",APPLAUSE:"applaud",MUSCLE:"fighting",JIAYI:"plus"},u={SMILE:a.reaction_type_smile,DROOL:a.reaction_type_drool,SCOWL:a.reaction_type_scowl,HAUGHTY:a.reaction_type_haughty,NOSEPICK:a.reaction_type_nosepick,SOB:a.reaction_type_sob,ANGRY:a.reaction_type_angry,BLUSH:a.reaction_type_blush,SLEEP:a.reaction_type_sleep,SHY:a.reaction_type_shy,WINK:a.reaction_type_wink,DIZZY:a.reaction_type_dizzy,TOASTED:a.reaction_type_toasted,SILENT:a.reaction_type_silent,SMART:a.reaction_type_smart,ATTENTION:a.reaction_type_attention,WITTY:a.reaction_type_witty,YEAH:a.reaction_type_yeah,FACEPALM:a.reaction_type_facepalm,SLAP:a.reaction_type_slap,LAUGH:a.reaction_type_laugh,YAWN:a.reaction_type_yawn,SHOCKED:a.reaction_type_shocked,LOVE:a.reaction_type_love,DROWSY:a.reaction_type_drowsy,WHAT:a.reaction_type_what,CRY:a.reaction_type_cry,CLAP:a.reaction_type_clap,SHOWOFF:a.reaction_type_showoff,CHUCKLE:a.reaction_type_chuckle,PETRIFIED:a.reaction_type_petrified,THINKING:a.reaction_type_thinking,SPITBLOOD:a.reaction_type_spitblood,WHIMPER:a.reaction_type_whimper,SHHH:a.reaction_type_shhh,SMUG:a.reaction_type_smug,ERROR:a.reaction_type_error,LOL:a.reaction_type_lol,SICK:a.reaction_type_sick,SMIRK:a.reaction_type_smirk,PROUD:a.reaction_type_proud,TRICK:a.reaction_type_trick,CRAZY:a.reaction_type_crazy,TEARS:a.reaction_type_tears,MONEY:a.reaction_type_money,KISS:a.reaction_type_kiss,TERROR:a.reaction_type_terror,JOYFUL:a.reaction_type_joyful,BLUBBER:a.reaction_type_blubber,HUSKY:a.reaction_type_husky,FOLLOWME:a.reaction_type_followme,THUMBSUP:a.reaction_type_thumbs_up,APPLAUSE:a.reaction_type_applause,THANKS:a.reaction_type_thanks,MUSCLE:a.reaction_type_muscle,OK:a.reaction_type_ok,HEART:a.reaction_type_heart,LIPS:a.reaction_type_lips,DETERGENT:a.reaction_type_detergent,AWESOME:a.reaction_type_awesome,ROSE:a.reaction_type_rose,CUCUMBER:a.reaction_type_cucumber,BEER:a.reaction_type_beer,ENOUGH:a.reaction_type_enough,WRONGED:a.reaction_type_wronged,OBSESSED:a.reaction_type_obsessed,LOOKDOWN:a.reaction_type_lookdown,SMOOCH:a.reaction_type_smooch,WAVE:a.reaction_type_wave,DONNOTGO:a.reaction_type_donnotgo,HEADSET:a.reaction_type_headset,HUG:a.reaction_type_hug,DULLSTARE:a.reaction_type_dullstare,INNOCENTSMILE:a.reaction_type_innocentsmile,TONGUE:a.reaction_type_tongue,DULL:a.reaction_type_dull,GLANCE:a.reaction_type_glance,SLIGHT:a.reaction_type_slight,BEAR:a.reaction_type_bear,SKULL:a.reaction_type_skull,BLACKFACE:a.reaction_type_blackface,EATING:a.reaction_type_eating,BETRAYED:a.reaction_type_betrayed,SWEAT:a.reaction_type_sweat,COMFORT:a.reaction_type_comfort,FROWN:a.reaction_type_frown,SPEECHLESS:a.reaction_type_speechless,XBLUSH:a.reaction_type_xblush,EMBARRASSED:a.reaction_type_embarrassed,TEASE:a.reaction_type_tease,PRAISE:a.reaction_type_praise,BIGKISS:a.reaction_type_bigkiss,PUKE:a.reaction_type_puke,WOW:a.reaction_type_wow,HAMMER:a.reaction_type_hammer,STRIVE:a.reaction_type_strive,RAINBOWPUKE:a.reaction_type_rainbowpuke,WAIL:a.reaction_type_wail,FINGERHEART:a.reaction_type_fingerheart,FISTBUMP:a.reaction_type_fistbump,HIGHFIVE:a.reaction_type_highfive,UPPERLEFT:a.reaction_type_upperleft,SHAKE:a.reaction_type_shake,SALUTE:a.reaction_type_salute,DONE:a.reaction_type_done,"18X":a.reaction_type_18x,CLEAVER:a.reaction_type_cleaver,JIAYI:a.reaction_type_jiayi,WELLDONE:a.reaction_type_welldone,GOODJOB:a.reaction_type_goodjob,HEARTBROKEN:a.reaction_type_heartbroken,POOP:a.reaction_type_poop,GIFT:a.reaction_type_gift,CAKE:a.reaction_type_cake,PARTY:a.reaction_type_party,EYESCLOSED:a.reaction_type_eyesclosed,BOMB:a.reaction_type_bomb,FIREWORKS:a.reaction_type_fireworks,BULL:a.reaction_type_bull,CALF:a.reaction_type_calf,AWESOMEN:a.reaction_type_awesomen,2021:a.reaction_type_2021,CANDIEDHAWS:a.reaction_type_candiedhaws,REDPACKET:a.reaction_type_redpacket,FORTUNE:a.reaction_type_fortune,LUCK:a.reaction_type_luck,FIRECRACKER:a.reaction_type_firecracker},l={Lark_Emoji_Smile_0:"SMILE",Lark_Emoji_Drool_0:"DROOL",Lark_Emoji_Scowl_0:"SCOWL",Lark_Emoji_haughty_0:"HAUGHTY",Lark_Emoji_NosePick_0:"NOSEPICK",Lark_Emoji_Sob_0:"SOB",Lark_Emoji_Angry_0:"ANGRY",Lark_Emoji_Grin_0:"BLUSH",Lark_Emoji_Sleep_0:"SLEEP",Lark_Emoji_Shy_0:"SHY",Lark_Emoji_Wink_0:"WINK",Lark_Emoji_Dizzy_0:"DIZZY",Lark_Emoji_Toasted_0:"TOASTED",Lark_Emoji_Silent_0:"SILENT",Lark_Emoji_Smart_0:"SMART",Lark_Emoji_Attention_0:"ATTENTION",Lark_Emoji_Witty_0:"WITTY",Lark_Emoji_Yeah_0:"YEAH",Lark_Emoji_Facepalm_0:"FACEPALM",Lark_Emoji_Slap_0:"SLAP",Lark_Emoji_Laugh_0:"LAUGH",Lark_Emoji_Yawn_0:"YAWN",Lark_Emoji_Shocked_0:"SHOCKED",Lark_Emoji_Love_0:"LOVE",Lark_Emoji_Drowsy_0:"DROWSY",Lark_Emoji_What_0:"WHAT",Lark_Emoji_Cry_0:"CRY",Lark_Emoji_Clap_0:"CLAP",Lark_Emoji_ShowOff_0:"SHOWOFF",Lark_Emoji_Chuckle_0:"CHUCKLE",Lark_Emoji_Petrified_0:"PETRIFIED",Lark_Emoji_Thinking_0:"THINKING",Lark_Emoji_SpitBlood_0:"SPITBLOOD",Lark_Emoji_Whimper_0:"WHIMPER",Lark_Emoji_Shhh_0:"SHHH",Lark_Emoji_Smug_0:"SMUG",Lark_Emoji_Errr_0:"ERROR",Lark_Emoji_Lol_0:"LOL",Lark_Emoji_Sick_0:"SICK",Lark_Emoji_Smirk_0:"SMIRK",Lark_Emoji_Proud_0:"PROUD",Lark_Emoji_Trick_0:"TRICK",Lark_Emoji_Crazy_0:"CRAZY",Lark_Emoji_Tears_0:"TEARS",Lark_Emoji_Money_0:"MONEY",Lark_Emoji_Kiss_0:"KISS",Lark_Emoji_Terror_0:"TERROR",Lark_Emoji_Joyful_0:"JOYFUL",Lark_Emoji_Blubber_0:"BLUBBER",Lark_Emoji_Husky_0:"HUSKY",Lark_Emoji_FollowMe_0:"FOLLOWME",Lark_Emoji_Thumbsup_0:"THUMBSUP",Lark_Emoji_Applaud_0:"APPLAUSE",Lark_Emoji_Thanks_0:"THANKS",Lark_Emoji_Fighting_0:"MUSCLE",Lark_Emoji_OK_0:"OK",Lark_Emoji_Heart_0:"HEART",Lark_Emoji_Lips_0:"LIPS",Lark_Emoji_Detergent_0:"DETERGENT",Lark_Emoji_Awesome_0:"AWESOME",Lark_Emoji_Rose_0:"ROSE",Lark_Emoji_Cucumber_0:"CUCUMBER",Lark_Emoji_Beer_0:"BEER",Lark_Emoji_Enough_0:"ENOUGH",Lark_Emoji_Wronged_0:"WRONGED",Lark_Emoji_Obsessed_0:"OBSESSED",Lark_Emoji_LookDown_0:"LOOKDOWN",Lark_Emoji_Smooch_0:"SMOOCH",Lark_Emoji_Wave_0:"WAVE",Lark_Emoji_DonnotGo_0:"DONNOTGO",Lark_Emoji_Headset_0:"HEADSET",Lark_Emoji_Hug_0:"HUG",Lark_Emoji_DullStare_0:"DULLSTARE",Lark_Emoji_InnocentSmile_0:"INNOCENTSMILE",Lark_Emoji_Tongue_0:"TONGUE",Lark_Emoji_Dull_0:"DULL",Lark_Emoji_Glance_0:"GLANCE",Lark_Emoji_Slight_0:"SLIGHT",Lark_Emoji_Bear_0:"BEAR",Lark_Emoji_Skull_0:"SKULL",Lark_Emoji_BlackFace_0:"BLACKFACE",Lark_Emoji_Eating_0:"EATING",Lark_Emoji_Betrayed_0:"BETRAYED",Lark_Emoji_Sweat_0:"SWEAT",Lark_Emoji_Comfort_0:"COMFORT",Lark_Emoji_Frown_0:"FROWN",Lark_Emoji_Speechless_0:"SPEECHLESS",Lark_Emoji_Blush_0:"XBLUSH",Lark_Emoji_Embarrassed_0:"EMBARRASSED",Lark_Emoji_Tease_0:"TEASE",Lark_Emoji_Praise_0:"PRAISE",Lark_Emoji_BigKiss_0:"BIGKISS",Lark_Emoji_Puke_0:"PUKE",Lark_Emoji_Wow_0:"WOW",Lark_Emoji_Hammer_0:"HAMMER",Lark_Emoji_Strive_0:"STRIVE",Lark_Emoji_RainbowPuke_0:"RAINBOWPUKE",Lark_Emoji_Wail_0:"WAIL",Lark_Emoji_FingerHeart_0:"FINGERHEART",Lark_Emoji_FistBump_0:"FISTBUMP",Lark_Emoji_HighFive_0:"HIGHFIVE",Lark_Emoji_UpperLeft_0:"UPPERLEFT",Lark_Emoji_Shake_0:"SHAKE",Salute:"SALUTE",Done:"DONE",Lark_Emoji_18x_0:"18X",Lark_Emoji_Cleaver_0:"CLEAVER","+1":"JIAYI",Lark_Emoji_WellDone_0:"WELLDONE",Lark_Emoji_GoodJob_0:"GOODJOB",Lark_Emoji_HeartBroken_0:"HEARTBROKEN",Lark_Emoji_Poop_0:"POOP",Lark_Emoji_Gift_0:"GIFT",Lark_Emoji_Cake_0:"CAKE",Lark_Emoji_Party_0:"PARTY",Lark_Emoji_EyesClosed_0:"EYESCLOSED",Lark_Emoji_Bomb_0:"BOMB",Fireworks:"FIREWORKS",Bull:"BULL",Calf:"CALF",Awesomen:"AWESOMEN",2021:"2021",Candiedhaws:"CANDIEDHAWS",Redpacket:"REDPACKET",Fortune:"FORTUNE",Luck:"LUCK",Firecracker:"FIRECRACKER"},d={666:"AWESOME","":"SMILE","":"DROOL","":"SCOWL","":"HAUGHTY","":"NOSEPICK","":"SOB","":"ANGRY","":"BLUSH","":"SLEEP","":"SHY","":"WINK","":"DIZZY","":"TOASTED","":"SILENT","":"SMART","":"ATTENTION","":"WITTY","":"YEAH","":"FACEPALM","":"SLAP","":"LAUGH","":"YAWN","":"SHOCKED","":"LOVE","":"DROWSY",what:"WHAT","":"CRY","":"CLAP","":"SHOWOFF","":"CHUCKLE","":"PETRIFIED","":"THINKING","":"SPITBLOOD","":"WHIMPER","":"SHHH","":"SMUG","":"ERROR","":"LOL","":"SICK","":"SMIRK","":"PROUD","":"TRICK","":"CRAZY","":"TEARS","":"MONEY","":"KISS","":"TERROR","":"JOYFUL","":"BLUBBER","":"HUSKY","":"FOLLOWME","":"THUMBSUP","":"APPLAUSE","":"THANKS","":"MUSCLE",OK:"OK","":"HEART",kiss:"LIPS","":"DETERGENT","":"ROSE","":"CUCUMBER","":"BEER","":"ENOUGH","":"WRONGED","":"OBSESSED","":"LOOKDOWN","":"SMOOCH","":"WAVE","":"DONNOTGO","":"HEADSET","":"HUG","":"DULLSTARE","":"INNOCENTSMILE","":"TONGUE","":"DULL","":"GLANCE","":"SLIGHT","":"BEAR","":"SKULL","":"BLACKFACE","":"EATING","":"BETRAYED","":"SWEAT","":"COMFORT","":"FROWN","":"SPEECHLESS","":"XBLUSH","":"EMBARRASSED","":"TEASE","":"PRAISE","":"BIGKISS","":"PUKE","":"WOW","":"HAMMER","":"STRIVE","":"RAINBOWPUKE","":"WAIL","":"FINGERHEART","":"FISTBUMP","":"HIGHFIVE","":"UPPERLEFT","":"SHAKE","":"SALUTE","":"DONE","18":"18X","":"CLEAVER","+1":"JIAYI",V5:"WELLDONE","":"GOODJOB","":"HEARTBROKEN","":"POOP","":"GIFT","":"CAKE","":"PARTY","":"EYESCLOSED","":"BOMB"},p=(Object.entries(u).reduce(function(e,t){var n=o()(t,2),r=n[0];return e[n[1]]=r,e},{}),Object.entries(l).reduce(function(e,t){var n=o()(t,2),r=n[0];return e[n[1]]=r,e},{}),n("KhQE"));function f(e){return e?u[e]?e:u[l[e]]?l[e]:u[d[e]]?d[e]:"":""}function h(e,t){var n=f(e),r=u[n];return t&&t.emoji&&t.emoji[r]||e}function g(e,t){var n=c[e]||e.toLowerCase();return t&&s.includes(e)?"".concat(n,"--oversea"):n}n.d(t,"a",function(){return r}),n.d(t,"d",function(){return f}),n.d(t,"e",function(){return h}),n.d(t,"c",function(){return g}),(r=r||{}).UNKNOWN="UNKNOWN";t.b=Object(p.a)({getFallbackSrc:function(e){return Promise.resolve(e&&"")}})},"/spq":function(e,t,n){"use strict";function r(a){var s=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"pure";return function(e){var t=e;function r(o){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};a.forEach(function(e){var r=(t.editor||t)[s],i=o[e];o[e]=function(){if(!r){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return i.apply(o,t)}}})}function n(e,t){var n=function(){return r(this,t),e.call(this,t)};return n.prototype=e.prototype,new n}var i=function(e){return n(t,e)};return i.prototype=t.prototype,i}}n.d(t,"a",function(){return r})},"/xWd":function(e,t,n){"use strict";var r=n("uT1x"),i=n("fshX");function o(e,t){return(null==e?0:e.length)?(t=void 0===t?1:Object(i.a)(t),Object(r.a)(e,t)):[]}t.a=o},"0+OW":function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"c",function(){return s}),n.d(t,"d",function(){return c});var r=n("q1tI"),i=n.n(r),o=n("H2hp");function a(){return function(t){return i.a.createElement(o.b.Consumer,null,function(e){return t.children(e)})}}function s(n){return function(t){return i.a.createElement(o.b.Consumer,null,function(e){return i.a.createElement(n,Object.assign({config:e},t))})}}function c(r){var e=i.a.forwardRef(function(t,n){return i.a.createElement(o.b.Consumer,null,function(e){return i.a.createElement(r,Object.assign({ref:n,config:e},t))})});return e.displayName=r.displayName||r.name,e}t.b=a()},"01jY":function(e,t,n){var r;r=function(n,r){return o=[function(e,t,n){"use strict";function r(e,t){for(var n=0,r=e.length;n<r;n++)if(t.apply(t,[e[n],n,e]))return e[n]}function i(e){return"function"==typeof e||"[object Function]"===Object.prototype.toString.call(e)}function o(e){return"number"==typeof e&&!isNaN(e)}function a(e){return parseInt(e,10)}function s(e,t,n){if(e[t])return new Error("Invalid prop "+t+" passed to "+n+" - do not set this, set it on the child.")}Object.defineProperty(t,"__esModule",{value:!0}),t.findInArray=r,t.isFunction=i,t.isNum=o,t.int=a,t.dontSetMe=s},function(e,t,n){"use strict";function r(e){return function(){return e}}var i=function(){};i.thatReturns=r,i.thatReturnsFalse=r(!1),i.thatReturnsTrue=r(!0),i.thatReturnsNull=r(null),i.thatReturnsThis=function(){return this},i.thatReturnsArgument=function(e){return e},e.exports=i},function(e,t,n){"use strict";var d=function(e){};function r(e,t,n,r,i,o,a,s){var c,u,l;if(d(t),!e)throw void 0===t?l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings."):(c=[n,r,i,o,a,s],u=0,(l=new Error(t.replace(/%s/g,function(){return c[u++]}))).name="Invariant Violation"),l.framesToPop=1,l}"production"!==Object({DRAGGABLE_DEBUG:void 0}).NODE_ENV&&(d=function(e){if(void 0===e)throw new Error("invariant requires an error message argument")}),e.exports=r},function(e,t,n){"use strict";var r="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";e.exports=r},function(e,t){e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};t.matchesSelector=l,t.matchesSelectorAndParentsTo=d,t.addEvent=p,t.removeEvent=f,t.outerHeight=h,t.outerWidth=g,t.innerHeight=m,t.innerWidth=v,t.offsetXYFromParent=y,t.createCSSTransform=b,t.createSVGTransform=E,t.getTouch=_,t.getTouchIdentifier=C,t.addUserSelectStyles=T,t.removeUserSelectStyles=O,t.styleHacks=k,t.addClassName=S,t.removeClassName=w;var i=n(0),o=n(19),a=s(o);function s(e){return e&&e.__esModule?e:{default:e}}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u="";function l(t,e){return u=u||(0,i.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(e){return(0,i.isFunction)(t[e])}),!!(0,i.isFunction)(t[u])&&t[u](e)}function d(e,t,n){var r=e;do{if(l(r,t))return!0;if(r===n)return!1}while(r=r.parentNode);return!1}function p(e,t,n){e&&(e.attachEvent?e.attachEvent("on"+t,n):e.addEventListener?e.addEventListener(t,n,!0):e["on"+t]=n)}function f(e,t,n){e&&(e.detachEvent?e.detachEvent("on"+t,n):e.removeEventListener?e.removeEventListener(t,n,!0):e["on"+t]=null)}function h(e){var t=e.clientHeight,n=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,i.int)(n.borderTopWidth),t+=(0,i.int)(n.borderBottomWidth)}function g(e){var t=e.clientWidth,n=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,i.int)(n.borderLeftWidth),t+=(0,i.int)(n.borderRightWidth)}function m(e){var t=e.clientHeight,n=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,i.int)(n.paddingTop),t-=(0,i.int)(n.paddingBottom)}function v(e){var t=e.clientWidth,n=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,i.int)(n.paddingLeft),t-=(0,i.int)(n.paddingRight)}function y(e,t){var n=t===t.ownerDocument.body?{left:0,top:0}:t.getBoundingClientRect();return{x:e.clientX+t.scrollLeft-n.left,y:e.clientY+t.scrollTop-n.top}}function b(e){var t=e.x,n=e.y;return c({},(0,o.browserPrefixToKey)("transform",a.default),"translate("+t+"px,"+n+"px)")}function E(e){return"translate("+e.x+","+e.y+")"}function _(e,t){return e.targetTouches&&(0,i.findInArray)(e.targetTouches,function(e){return t===e.identifier})||e.changedTouches&&(0,i.findInArray)(e.changedTouches,function(e){return t===e.identifier})}function C(e){return e.targetTouches&&e.targetTouches[0]?e.targetTouches[0].identifier:e.changedTouches&&e.changedTouches[0]?e.changedTouches[0].identifier:void 0}function T(e){var t;e&&((t=e.getElementById("react-draggable-style-el"))||((t=e.createElement("style")).type="text/css",t.id="react-draggable-style-el",t.innerHTML=".react-draggable-transparent-selection *::-moz-selection {background: transparent;}\n",t.innerHTML+=".react-draggable-transparent-selection *::selection {background: transparent;}\n",e.getElementsByTagName("head")[0].appendChild(t)),e.body&&S(e.body,"react-draggable-transparent-selection"))}function O(e){try{e&&e.body&&w(e.body,"react-draggable-transparent-selection"),window.getSelection().removeAllRanges()}catch(e){}}function k(){return r({touchAction:"none"},0<arguments.length&&void 0!==arguments[0]?arguments[0]:{})}function S(e,t){e.classList?e.classList.add(t):e.className.match(new RegExp("(?:^|\\s)"+t+"(?!\\S)"))||(e.className+=" "+t)}function w(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(?:^|\\s)"+t+"(?!\\S)","g"),"")}},function(e,t){e.exports=r},function(e,t,n){var r,i,o;"production"!==Object({DRAGGABLE_DEBUG:void 0}).NODE_ENV?(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,i=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===r},o=!0,e.exports=n(14)(i,o)):e.exports=n(17)()},function(e,t,n){"use strict";var o,r=n(1);"production"!==Object({DRAGGABLE_DEBUG:void 0}).NODE_ENV&&(o=function(e){for(var t=arguments.length,n=Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=0,o="Warning: "+e.replace(/%s/g,function(){return n[i++]});"undefined"!=typeof console&&console.error(o);try{throw new Error(o)}catch(e){}},r=function(e,t){if(void 0===t)throw new Error("`warning(condition, format, ...args)` requires a warning message argument");if(0!==t.indexOf("Failed Composite propType: ")&&!e){for(var n=arguments.length,r=Array(2<n?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];o.apply(void 0,[t].concat(r))}}),e.exports=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getBoundPosition=o,t.snapToGrid=a,t.canDragX=s,t.canDragY=c,t.getControlPosition=u,t.createCoreData=p,t.createDraggableData=f;var l=n(0),r=i(n(4)),d=n(5);function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){if(!e.props.bounds)return[t,n];u="string"==typeof(u=e.props.bounds)?u:h(u);var r=g(e);if("string"==typeof u){var i=r.ownerDocument,o=i.defaultView,a=void 0;if(!((a="parent"===u?r.parentNode:i.querySelector(u))instanceof HTMLElement))throw new Error('Bounds selector "'+u+'" could not find an element.');var s=o.getComputedStyle(r),c=o.getComputedStyle(a),u={left:-r.offsetLeft+(0,l.int)(c.paddingLeft)+(0,l.int)(s.marginLeft),top:-r.offsetTop+(0,l.int)(c.paddingTop)+(0,l.int)(s.marginTop),right:(0,d.innerWidth)(a)-(0,d.outerWidth)(r)-r.offsetLeft+(0,l.int)(c.paddingRight)-(0,l.int)(s.marginRight),bottom:(0,d.innerHeight)(a)-(0,d.outerHeight)(r)-r.offsetTop+(0,l.int)(c.paddingBottom)-(0,l.int)(s.marginBottom)}}return(0,l.isNum)(u.right)&&(t=Math.min(t,u.right)),(0,l.isNum)(u.bottom)&&(n=Math.min(n,u.bottom)),(0,l.isNum)(u.left)&&(t=Math.max(t,u.left)),(0,l.isNum)(u.top)&&(n=Math.max(n,u.top)),[t,n]}function a(e,t,n){return[Math.round(t/e[0])*e[0],Math.round(n/e[1])*e[1]]}function s(e){return"both"===e.props.axis||"x"===e.props.axis}function c(e){return"both"===e.props.axis||"y"===e.props.axis}function u(e,t,n){var r="number"==typeof t?(0,d.getTouch)(e,t):null;if("number"==typeof t&&!r)return null;var i=g(n),o=n.props.offsetParent||i.offsetParent||i.ownerDocument.body;return(0,d.offsetXYFromParent)(r||e,o)}function p(e,t,n){var r=e.state,i=!(0,l.isNum)(r.lastX),o=g(e);return i?{node:o,deltaX:0,deltaY:0,lastX:t,lastY:n,x:t,y:n}:{node:o,deltaX:t-r.lastX,deltaY:n-r.lastY,lastX:r.lastX,lastY:r.lastY,x:t,y:n}}function f(e,t){return{node:t.node,x:e.state.x+t.deltaX,y:e.state.y+t.deltaY,deltaX:t.deltaX,deltaY:t.deltaY,lastX:e.state.x,lastY:e.state.y}}function h(e){return{left:e.left,top:e.top,right:e.right,bottom:e.bottom}}function g(e){var t=r.default.findDOMNode(e);if(!t)throw new Error("<DraggableCore>: Unmounted during event!");return t}},function(e,E,_){"use strict";(function(n){Object.defineProperty(E,"__esModule",{value:!0});var d=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return r(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};function r(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}var e=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e};function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var t=s(_(6)),o=s(_(7)),c=s(_(4)),u=_(5),p=_(9),a=_(0),f=s(_(11));function s(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var m={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}},v=m.mouse,y=(l(b,t.default.Component),e(b,[{key:"componentWillUnmount",value:function(){var e,t=c.default.findDOMNode(this);t&&(e=t.ownerDocument,(0,u.removeEvent)(e,m.mouse.move,this.handleDrag),(0,u.removeEvent)(e,m.touch.move,this.handleDrag),(0,u.removeEvent)(e,m.mouse.stop,this.handleDragStop),(0,u.removeEvent)(e,m.touch.stop,this.handleDragStop),this.props.enableUserSelectHack&&(0,u.removeUserSelectStyles)(e))}},{key:"render",value:function(){return t.default.cloneElement(t.default.Children.only(this.props.children),{style:(0,u.styleHacks)(this.props.children.props.style),onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}}]),b);function b(){var e,t,l;h(this,b);for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=l=g(this,(e=b.__proto__||Object.getPrototypeOf(b)).call.apply(e,[this].concat(r)))).state={dragging:!1,lastX:NaN,lastY:NaN,touchIdentifier:null},l.handleDragStart=function(e){if(l.props.onMouseDown(e),!l.props.allowAnyClick&&"number"==typeof e.button&&0!==e.button)return!1;var t=c.default.findDOMNode(l);if(!t||!t.ownerDocument||!t.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");var n,r,i,o,a,s=t.ownerDocument;l.props.disabled||!(e.target instanceof s.defaultView.Node)||l.props.handle&&!(0,u.matchesSelectorAndParentsTo)(e.target,l.props.handle,t)||l.props.cancel&&(0,u.matchesSelectorAndParentsTo)(e.target,l.props.cancel,t)||(n=(0,u.getTouchIdentifier)(e),l.setState({touchIdentifier:n}),null!=(r=(0,p.getControlPosition)(e,n,l))&&(i=r.x,o=r.y,a=(0,p.createCoreData)(l,i,o),(0,f.default)("DraggableCore: handleDragStart: %j",a),(0,f.default)("calling",l.props.onStart),!1!==l.props.onStart(e,a)&&(l.props.enableUserSelectHack&&(0,u.addUserSelectStyles)(s),l.setState({dragging:!0,lastX:i,lastY:o}),(0,u.addEvent)(s,v.move,l.handleDrag),(0,u.addEvent)(s,v.stop,l.handleDragStop))))},l.handleDrag=function(e){"touchmove"===e.type&&e.preventDefault();var t=(0,p.getControlPosition)(e,l.state.touchIdentifier,l);if(null!=t){var n=t.x,r=t.y;if(Array.isArray(l.props.grid)){var i=n-l.state.lastX,o=r-l.state.lastY,a=(0,p.snapToGrid)(l.props.grid,i,o),s=d(a,2),i=s[0],o=s[1];if(!i&&!o)return;n=l.state.lastX+i,r=l.state.lastY+o}var c=(0,p.createCoreData)(l,n,r);if((0,f.default)("DraggableCore: handleDrag: %j",c),!1!==l.props.onDrag(e,c))l.setState({lastX:n,lastY:r});else try{l.handleDragStop(new MouseEvent("mouseup"))}catch(e){var u=document.createEvent("MouseEvents");u.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),l.handleDragStop(u)}}},l.handleDragStop=function(e){var t,n,r,i,o;!l.state.dragging||null!=(t=(0,p.getControlPosition)(e,l.state.touchIdentifier,l))&&(n=t.x,r=t.y,i=(0,p.createCoreData)(l,n,r),(o=c.default.findDOMNode(l))&&l.props.enableUserSelectHack&&(0,u.removeUserSelectStyles)(o.ownerDocument),(0,f.default)("DraggableCore: handleDragStop: %j",i),l.setState({dragging:!1,lastX:NaN,lastY:NaN}),l.props.onStop(e,i),o&&((0,f.default)("DraggableCore: Removing handlers"),(0,u.removeEvent)(o.ownerDocument,v.move,l.handleDrag),(0,u.removeEvent)(o.ownerDocument,v.stop,l.handleDragStop)))},l.onMouseDown=function(e){return v=m.mouse,l.handleDragStart(e)},l.onMouseUp=function(e){return v=m.mouse,l.handleDragStop(e)},l.onTouchStart=function(e){return v=m.touch,l.handleDragStart(e)},l.onTouchEnd=function(e){return v=m.touch,l.handleDragStop(e)},g(l,t)}y.displayName="DraggableCore",y.propTypes={allowAnyClick:o.default.bool,disabled:o.default.bool,enableUserSelectHack:o.default.bool,offsetParent:function(e,t){if(!0===n.browser&&e[t]&&1!==e[t].nodeType)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:o.default.arrayOf(o.default.number),handle:o.default.string,cancel:o.default.string,onStart:o.default.func,onDrag:o.default.func,onStop:o.default.func,onMouseDown:o.default.func,className:a.dontSetMe,style:a.dontSetMe,transform:a.dontSetMe},y.defaultProps={allowAnyClick:!1,cancel:null,disabled:!1,enableUserSelectHack:!0,offsetParent:null,handle:null,grid:null,transform:null,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){}},E.default=y}).call(E,_(20))},function(e,t,n){"use strict";function r(){}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},function(e,t,n){"use strict";var r=n(13).default;e.exports=r,e.exports.default=r,e.exports.DraggableCore=n(10).default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},d=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return r(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};function r(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}var i=function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e};function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var f=u(n(6)),a=u(n(7)),s=u(n(4)),h=u(n(18)),g=n(5),m=n(9),c=n(0),v=u(n(10)),y=u(n(11));function u(e){return e&&e.__esModule?e:{default:e}}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function E(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var C=(l(T,f.default.Component),i(T,[{key:"componentWillMount",value:function(){!this.props.position||this.props.onDrag||this.props.onStop||console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.")}},{key:"componentDidMount",value:function(){void 0!==window.SVGElement&&s.default.findDOMNode(this)instanceof window.SVGElement&&this.setState({isElementSVG:!0})}},{key:"componentWillReceiveProps",value:function(e){!e.position||this.props.position&&e.position.x===this.props.position.x&&e.position.y===this.props.position.y||this.setState({x:e.position.x,y:e.position.y})}},{key:"componentWillUnmount",value:function(){this.setState({dragging:!1})}},{key:"render",value:function(){var e,t={},n=null,r=!Boolean(this.props.position)||this.state.dragging,i=this.props.position||this.props.defaultPosition,o={x:((0,m.canDragX)(this)&&r?this.state:i).x,y:((0,m.canDragY)(this)&&r?this.state:i).y};this.state.isElementSVG?n=(0,g.createSVGTransform)(o):t=(0,g.createCSSTransform)(o);var a=this.props,s=a.defaultClassName,c=a.defaultClassNameDragging,u=a.defaultClassNameDragged,l=f.default.Children.only(this.props.children),d=(0,h.default)(l.props.className||"",s,(b(e={},c,this.state.dragging),b(e,u,this.state.dragged),e));return f.default.createElement(v.default,p({},this.props,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),f.default.cloneElement(l,{className:d,style:p({},l.props.style,t),transform:n}))}}]),T);function T(e){E(this,T);var l=_(this,(T.__proto__||Object.getPrototypeOf(T)).call(this,e));return l.onDragStart=function(e,t){if((0,y.default)("Draggable: onDragStart: %j",t),!1===l.props.onStart(e,(0,m.createDraggableData)(l,t)))return!1;l.setState({dragging:!0,dragged:!0})},l.onDrag=function(e,t){if(!l.state.dragging)return!1;(0,y.default)("Draggable: onDrag: %j",t);var n,r,i,o,a,s,c=(0,m.createDraggableData)(l,t),u={x:c.x,y:c.y};if(l.props.bounds&&(n=u.x,r=u.y,u.x+=l.state.slackX,u.y+=l.state.slackY,i=(0,m.getBoundPosition)(l,u.x,u.y),a=(o=d(i,2))[0],s=o[1],u.x=a,u.y=s,u.slackX=l.state.slackX+(n-u.x),u.slackY=l.state.slackY+(r-u.y),c.x=u.x,c.y=u.y,c.deltaX=u.x-l.state.x,c.deltaY=u.y-l.state.y),!1===l.props.onDrag(e,c))return!1;l.setState(u)},l.onDragStop=function(e,t){if(!l.state.dragging)return!1;if(!1===l.props.onStop(e,(0,m.createDraggableData)(l,t)))return!1;(0,y.default)("Draggable: onDragStop: %j",t);var n,r,i,o={dragging:!1,slackX:0,slackY:0};Boolean(l.props.position)&&(r=(n=l.props.position).x,i=n.y,o.x=r,o.y=i),l.setState(o)},l.state={dragging:!1,dragged:!1,x:(e.position||e.defaultPosition).x,y:(e.position||e.defaultPosition).y,slackX:0,slackY:0,isElementSVG:!1},l}C.displayName="Draggable",C.propTypes=p({},v.default.propTypes,{axis:a.default.oneOf(["both","x","y","none"]),bounds:a.default.oneOfType([a.default.shape({left:a.default.number,right:a.default.number,top:a.default.number,bottom:a.default.number}),a.default.string,a.default.oneOf([!1])]),defaultClassName:a.default.string,defaultClassNameDragging:a.default.string,defaultClassNameDragged:a.default.string,defaultPosition:a.default.shape({x:a.default.number,y:a.default.number}),position:a.default.shape({x:a.default.number,y:a.default.number}),className:c.dontSetMe,style:c.dontSetMe,transform:c.dontSetMe}),C.defaultProps=p({},v.default.defaultProps,{axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},position:null}),t.default=C},function(e,t,n){"use strict";var w=n(1),I=n(2),x=n(8),L=n(15),R=n(3),N=n(16);e.exports=function(a,d){var n="function"==typeof Symbol&&Symbol.iterator,r="@@iterator";function o(e){var t=e&&(n&&e[n]||e[r]);if("function"==typeof t)return t}var p="<<anonymous>>",e={array:t("array"),bool:t("boolean"),func:t("function"),number:t("number"),object:t("object"),string:t("string"),symbol:t("symbol"),any:s(),arrayOf:u,element:l(),instanceOf:h,node:y(),objectOf:m,oneOf:g,oneOfType:v,shape:b,exact:E};function c(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function f(e){this.message=e,this.stack=""}function i(c){var u,l;function e(e,t,n,r,i,o,a){var s;return r=r||p,o=o||n,a!==R&&(d?I(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types"):"production"===Object({DRAGGABLE_DEBUG:void 0}).NODE_ENV||"undefined"==typeof console||!u[s=r+":"+n]&&l<3&&(x(!1,"You are manually calling a React.PropTypes validation function for the `%s` prop on `%s`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details.",o,r),u[s]=!0,l++)),null==t[n]?e?null===t[n]?new f("The "+i+" `"+o+"` is marked as required in `"+r+"`, but its value is `null`."):new f("The "+i+" `"+o+"` is marked as required in `"+r+"`, but its value is `undefined`."):null:c(t,n,r,i,o)}"production"!==Object({DRAGGABLE_DEBUG:void 0}).NODE_ENV&&(u={},l=0);var t=e.bind(null,!1);return t.isRequired=e.bind(null,!0),t}function t(s){function e(e,t,n,r,i,o){var a=e[t];return T(a)===s?null:new f("Invalid "+r+" `"+i+"` of type `"+O(a)+"` supplied to `"+n+"`, expected `"+s+"`.")}return i(e)}function s(){return i(w.thatReturnsNull)}function u(c){function e(e,t,n,r,i){if("function"!=typeof c)return new f("Property `"+i+"` of component `"+n+"` has invalid PropType notation inside arrayOf.");var o=e[t];if(!Array.isArray(o))return new f("Invalid "+r+" `"+i+"` of type `"+T(o)+"` supplied to `"+n+"`, expected an array.");for(var a=0;a<o.length;a++){var s=c(o,a,n,r,i+"["+a+"]",R);if(s instanceof Error)return s}return null}return i(e)}function l(){function e(e,t,n,r,i){var o=e[t];return a(o)?null:new f("Invalid "+r+" `"+i+"` of type `"+T(o)+"` supplied to `"+n+"`, expected a single ReactElement.")}return i(e)}function h(a){function e(e,t,n,r,i){if(e[t]instanceof a)return null;var o=a.name||p;return new f("Invalid "+r+" `"+i+"` of type `"+S(e[t])+"` supplied to `"+n+"`, expected instance of `"+o+"`.")}return i(e)}function g(s){return Array.isArray(s)?i(e):("production"!==Object({DRAGGABLE_DEBUG:void 0}).NODE_ENV&&x(!1,"Invalid argument supplied to oneOf, expected an instance of array."),w.thatReturnsNull);function e(e,t,n,r,i){for(var o=e[t],a=0;a<s.length;a++)if(c(o,s[a]))return null;return new f("Invalid "+r+" `"+i+"` of value `"+o+"` supplied to `"+n+"`, expected one of "+JSON.stringify(s)+".")}}function m(u){function e(e,t,n,r,i){if("function"!=typeof u)return new f("Property `"+i+"` of component `"+n+"` has invalid PropType notation inside objectOf.");var o,a=e[t],s=T(a);if("object"!==s)return new f("Invalid "+r+" `"+i+"` of type `"+s+"` supplied to `"+n+"`, expected an object.");for(o in a)if(a.hasOwnProperty(o)){var c=u(a,o,n,r,i+"."+o,R);if(c instanceof Error)return c}return null}return i(e)}function v(a){if(!Array.isArray(a))return"production"!==Object({DRAGGABLE_DEBUG:void 0}).NODE_ENV&&x(!1,"Invalid argument supplied to oneOfType, expected an instance of array."),w.thatReturnsNull;for(var e=0;e<a.length;e++){var t=a[e];if("function"!=typeof t)return x(!1,"Invalid argument supplied to oneOfType. Expected an array of check functions, but received %s at index %s.",k(t),e),w.thatReturnsNull}function n(e,t,n,r,i){for(var o=0;o<a.length;o++)if(null==(0,a[o])(e,t,n,r,i,R))return null;return new f("Invalid "+r+" `"+i+"` supplied to `"+n+"`.")}return i(n)}function y(){function e(e,t,n,r,i){return _(e[t])?null:new f("Invalid "+r+" `"+i+"` supplied to `"+n+"`, expected a ReactNode.")}return i(e)}function b(l){function e(e,t,n,r,i){var o,a=e[t],s=T(a);if("object"!==s)return new f("Invalid "+r+" `"+i+"` of type `"+s+"` supplied to `"+n+"`, expected `object`.");for(o in l){var c=l[o];if(c){var u=c(a,o,n,r,i+"."+o,R);if(u)return u}}return null}return i(e)}function E(l){function e(e,t,n,r,i){var o,a=e[t],s=T(a);if("object"!==s)return new f("Invalid "+r+" `"+i+"` of type `"+s+"` supplied to `"+n+"`, expected `object`.");for(o in L({},e[t],l)){var c=l[o];if(!c)return new f("Invalid "+r+" `"+i+"` key `"+o+"` supplied to `"+n+"`.\nBad object: "+JSON.stringify(e[t],null,"  ")+"\nValid keys: "+JSON.stringify(Object.keys(l),null,"  "));var u=c(a,o,n,r,i+"."+o,R);if(u)return u}return null}return i(e)}function _(e){switch(typeof e){case"number":case"string":case"undefined":return!0;case"boolean":return!e;case"object":if(Array.isArray(e))return e.every(_);if(null===e||a(e))return!0;var t=o(e);if(!t)return!1;var n,r=t.call(e);if(t!==e.entries){for(;!(n=r.next()).done;)if(!_(n.value))return!1}else for(;!(n=r.next()).done;){var i=n.value;if(i&&!_(i[1]))return!1}return!0;default:return!1}}function C(e,t){return"symbol"===e||("Symbol"===t["@@toStringTag"]||"function"==typeof Symbol&&t instanceof Symbol)}function T(e){var t=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":C(t,e)?"symbol":t}function O(e){if(null==e)return""+e;var t=T(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}function k(e){var t=O(e);switch(t){case"array":case"object":return"an "+t;case"boolean":case"date":case"regexp":return"a "+t;default:return t}}function S(e){return e.constructor&&e.constructor.name?e.constructor.name:p}return f.prototype=Error.prototype,e.checkPropTypes=N,e.PropTypes=e}},function(e,t,n){"use strict";var c=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable;function d(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function r(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(e){r[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}e.exports=r()?Object.assign:function(e,t){for(var n,r,i=d(e),o=1;o<arguments.length;o++){for(var a in n=Object(arguments[o]))u.call(n,a)&&(i[a]=n[a]);if(c){r=c(n);for(var s=0;s<r.length;s++)l.call(n,r[s])&&(i[r[s]]=n[r[s]])}}return i}},function(e,t,n){"use strict";var c,u,l,d;function r(e,t,n,r,i){if("production"!==Object({DRAGGABLE_DEBUG:void 0}).NODE_ENV)for(var o in e)if(e.hasOwnProperty(o)){var a,s;try{c("function"==typeof e[o],"%s: %s type `%s` is invalid; it must be a function, usually from the `prop-types` package, but received `%s`.",r||"React class",n,o,typeof e[o]),a=e[o](t,o,r,n,null,l)}catch(e){a=e}u(!a||a instanceof Error,"%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",r||"React class",n,o,typeof a),a instanceof Error&&!(a.message in d)&&(d[a.message]=!0,s=i?i():"",u(!1,"Failed %s type: %s%s",n,a.message,null!=s?s:""))}}"production"!==Object({DRAGGABLE_DEBUG:void 0}).NODE_ENV&&(c=n(2),u=n(8),l=n(3),d={}),e.exports=r},function(e,t,n){"use strict";var r=n(1),a=n(2),s=n(3);e.exports=function(){function e(e,t,n,r,i,o){o!==s&&a(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}var n={array:e.isRequired=e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return n.checkPropTypes=r,n.PropTypes=n}},function(e,t,n){var r;!function(){"use strict";var o={}.hasOwnProperty;function a(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var r=typeof n;if("string"===r||"number"===r)e.push(n);else if(Array.isArray(n))e.push(a.apply(null,n));else if("object"===r)for(var i in n)o.call(n,i)&&n[i]&&e.push(i)}}return e.join(" ")}void 0!==e&&e.exports?e.exports=a:void 0===(r=function(){return a}.apply(t,[]))||(e.exports=r)}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getPrefix=i,t.browserPrefixToKey=o,t.browserPrefixToStyle=a;var r=["Moz","Webkit","O","ms"];function i(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"transform";if("undefined"==typeof window||void 0===window.document)return"";var t=window.document.documentElement.style;if(e in t)return"";for(var n=0;n<r.length;n++)if(o(e,r[n])in t)return r[n];return""}function o(e,t){return t?""+t+s(e):e}function a(e,t){return t?"-"+t.toLowerCase()+"-"+e:e}function s(e){for(var t="",n=!0,r=0;r<e.length;r++)n?(t+=e[r].toUpperCase(),n=!1):"-"===e[r]?n=!0:t+=e[r];return t}t.default=i()},function(e,t){var n,r,i=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(t){if(n===setTimeout)return setTimeout(t,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}function c(t){if(r===clearTimeout)return clearTimeout(t);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{return r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(e){n=o}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var u,l=[],d=!1,p=-1;function f(){d&&u&&(d=!1,u.length?l=u.concat(l):p=-1,l.length&&h())}function h(){if(!d){var e=s(f);d=!0;for(var t=l.length;t;){for(u=l,l=[];++p<t;)u&&u[p].run();p=-1,t=l.length}u=null,d=!1,c(e)}}function g(e,t){this.fun=e,this.array=t}function m(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new g(e,t)),1!==l.length||d||s(h)},g.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=m,i.addListener=m,i.once=m,i.off=m,i.removeListener=m,i.removeAllListeners=m,i.emit=m,i.prependListener=m,i.prependOnceListener=m,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}}],a={},i.m=o,i.c=a,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=12);function i(e){if(a[e])return a[e].exports;var t=a[e]={i:e,l:!1,exports:{}};return o[e].call(t.exports,t,t.exports,i),t.l=!0,t.exports}var o,a},e.exports=r(n("i8i4"),n("q1tI"))},"03A+":function(e,t,n){var r=n("JTzB"),i=n("ExA7"),o=Object.prototype,a=o.hasOwnProperty,s=o.propertyIsEnumerable,c=r(function(){return arguments}())?r:function(e){return i(e)&&a.call(e,"callee")&&!s.call(e,"callee")};e.exports=c},"04Ix":function(e,t,n){var r=n("hdMt");function i(e,t,n){return t in e?r(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}e.exports=i},"04M5":function(e,t,n){"use strict";var r=n("mIMY"),i=n("QYBB"),o=n("A2Ma"),a=n("wbIY"),s=o("species");e.exports=function(e){var t=r(e),n=i.f;a&&t&&!t[s]&&n(t,s,{configurable:!0,get:function(){return this}})}},"06Pm":function(e,t){function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}e.exports=n},"093l":function(e,t,n){"use strict";function r(e){var t=!0;return function(){t?t=!1:e()}}n.d(t,"a",function(){return r})},"0ADi":function(e,t,n){var p=n("heNW"),r=n("EldB"),f=n("Kz5y"),i=1;function o(a,e,s,c){var u=e&i,l=r(a);function d(){for(var e=-1,t=arguments.length,n=-1,r=c.length,i=Array(r+t),o=this&&this!==f&&this instanceof d?l:a;++n<r;)i[n]=c[n];for(;t--;)i[n++]=arguments[++e];return p(o,u?s:this,i)}return d}e.exports=o},"0AMS":function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n("0+OW");function i(e){return Object(r.c)(e)}Object(r.a)()},"0Cz8":function(e,t,n){var i=n("Xi7e"),o=n("ebwN"),a=n("e4Nc"),s=200;function r(e,t){var n=this.__data__;if(n instanceof i){var r=n.__data__;if(!o||r.length<s-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new a(r)}return n.set(e,t),this.size=n.size,this}e.exports=r},"0P9G":function(e,t,n){e.exports=n("9Mno")},"0RZP":function(e,c,n){var r=n("GIBT"),u=n("yE7x").default,l=n("yE7x").flatten,i=n("eQlZ"),d=n("cs4F"),p={merge:n("QkVN"),defaults:n("la6v")};function o(e,t,n){if(t)"string"==typeof t&&(t=i(t,e._root,n));else{if(!e._root||!e._root.children)return"";t=e._root.children}return r(t,n)}function a(e){if(Array.isArray(e))return!0;if("object"!=typeof e)return!1;if(!e.hasOwnProperty("length"))return!1;if("number"!=typeof e.length)return!1;if(e.length<0)return!1;for(var t=0;t<e.length;){if(!(t in e))return!1;t++}return!0}c.load=function(e,i,t){var o=n("U6MA");i=p.defaults(l(i||{}),u),void 0===t&&(t=!0);var a=d(e,i,t),s=function(e,t,n,r){return this instanceof s?(r=p.defaults(r||{},i),o.call(this,e,t,n||a,r)):new s(e,t,n,r)};return s.prototype=Object.create(o.prototype),(s.prototype.constructor=s).fn=s.prototype,s.prototype._originalRoot=a,p.merge(s,c),s._root=a,s._options=i,s},c.html=function(e,t){return"[object Object]"!==Object.prototype.toString.call(e)||t||"length"in e||"type"in e||(t=e,e=void 0),o(this,e,t=p.defaults(l(t||{}),this._options,u))},c.xml=function(e){return o(this,e,p.defaults({xml:!0},this._options))},c.text=function(e){for(var t,n="",r=(e=e||this.root()).length,i=0;i<r;i++)"text"===(t=e[i]).type?n+=t.data:t.children&&"comment"!==t.type&&"script"!==t.tagName&&"style"!==t.tagName&&(n+=c.text(t.children));return n},c.parseHTML=function(e,t,n){var r;return e&&"string"==typeof e?("boolean"==typeof t&&(n=t),r=this.load(e,u,!1),n||r("script").remove(),r.root()[0].children.slice()):null},c.root=function(){return this(this._root)},c.contains=function(e,t){if(t===e)return!1;for(;t&&t!==t.parent;)if((t=t.parent)===e)return!0;return!1},c.merge=function(e,t){if(a(e)&&a(t)){for(var n=e.length+t.length,r=0;r<t.length;)e[r+e.length]=t[r],r++;return e.length=n,e}}},"0VPD":function(e,t,n){"use strict";var r=n("twO/"),i=n("Meht"),o=n("LV2V"),a=n("GCEQ"),s=Object(o.a)(function(e){var t=Object(r.a)(e,a.a);return t.length&&t[0]===e[0]?Object(i.a)(t):[]});t.a=s},"0X7r":function(e,t,n){"use strict";var r=n("J4zp"),o=n.n(r),i=n("lwsE"),a=n.n(i),s=n("W8MJ"),c=n.n(s),f=n("LrWZ"),h=n("Muja"),u=n("Mpt7"),l=n("D7h9"),d=n("WzBf"),p=n("MUo5"),g=n("5cZX"),m=function(){function e(){a()(this,e),this.instances={}}return c()(e,[{key:"reroll",value:function(e){var t=this.getUserList(e),n=this.selectPermissions(e),r=[],i=!0,o=!1,a=void 0;try{for(var s,c=n.keys()[Symbol.iterator]();!(i=(s=c.next()).done);i=!0){var u=s.value;t.has(u)||r.push(u)}}catch(e){o=!0,a=e}finally{try{i||null==c.return||c.return()}finally{if(o)throw a}}r.length&&l.default.dispatch(Object(p.removeAuthorizedUsers)(e,r))}},{key:"selectPermissions",value:function(e){var t=Object(g.K)(l.default.getState()).getIn([e,"authorizedUsers"]);return t||Object(u.Map)({})}},{key:"getUserList",value:function(e){var t=new Set,n=!0,r=!1,i=void 0;try{for(var o,a=this.instances[e][Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value.getUsers(),c=!0,u=!1,l=void 0;try{for(var d,p=s[Symbol.iterator]();!(c=(d=p.next()).done);c=!0){var f=d.value;t.add(f)}}catch(e){u=!0,l=e}finally{try{c||null==p.return||p.return()}finally{if(u)throw l}}}}catch(e){r=!0,i=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}return t}},{key:"ensureToken",value:function(e){this.instances[e]||(this.instances[e]=new Set)}},{key:"add",value:function(e,t){this.ensureToken(e),this.instances[e].add(t),this.reroll(e)}},{key:"delete",value:function(e,t){this.ensureToken(e),this.instances[e].delete(t),this.reroll(e)}},{key:"destroyToken",value:function(e){delete this.instances[e]}}]),e}(),v=n("vc5i"),y=n("eL/v"),b=n("IyQe"),E=n("/PhZ"),_=n("o0o1"),C=n.n(_),T=n("yXPU"),O=n.n(T),k=n("2spZ"),S=10,w=new(function(){function e(){a()(this,e),this.fetchingStatus={},this.pendingUserMap=new Map}function t(e,t){return n.apply(this,arguments)}var n;return c()(e,[{key:"addPendingUserList",value:function(e,t,n){var r,i=this.pendingUserMap.get(e);i=i?(r=n.filter(function(e){return!i.includes(e)}),i.concat(r)):n,this.pendingUserMap.set(e,i),this.startFetchUserPerm(e,t)}},{key:"startFetchUserPerm",value:function(e,t){this.fetchingStatus[e]||(this.fetchingStatus[e]=!0,this.fetchUserPerm(e,t))}},{key:"fetchUserPerm",value:(n=O()(C.a.mark(function e(t,n){var r,i;return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((r=this.pendingUserMap.get(t))&&0!==r.length){e.next=4;break}return this.fetchingStatus[t]=!1,e.abrupt("return");case 4:return i=r.splice(0,S),l.default.dispatch(Object(p.fetchAuthorizedUsers)(t,n,i)),e.next=8,Object(k.c)(1e3);case 8:this.fetchUserPerm(t,n);case 9:case"end":return e.stop()}},e,this)})),t)}]),e}()),I=new m;function x(e){return{token:"PERMISSION_CHANGE_".concat(e),resourceType:"PERMISSION_CHANGE",routeType:"token",routeKey:e}}var L=function(){function i(e){var p=this,t=e.userList,n=e.onPermissionChange,r=e.onError;a()(this,i),this.ready=!1,this.envInfos=null,this.onError=function(){},this.oldPermissions=Object(u.Map)({}),this.oldUserList=new Set,this.handleStoreChangeForNetworkState=function(){var e=Object(y.a)(l.default.getState());e&&!p.isOnline?(p.isOnline=e,p.fetchUserPermissions()):p.isOnline=e},this.handleStoreChangeForPermission=function(){if(p.ready){var e=p.selectPermissions();if(e!==p.oldPermissions||!Object(h.default)(p.userList,p.oldUserList)){var n=p.oldUserList,t=p.oldPermissions.filter(function(e,t){return n.has(t)});p.oldPermissions=e,p.oldUserList=new Set(p.userList);var r={},i=!0,o=!1,a=void 0;try{for(var s,c=p.userList[Symbol.iterator]();!(i=(s=c.next()).done);i=!0){var u=s.value,l=p.userList.has(u)&&e.get(u),d=t.get(u);Object(f.a)(l)&&!Object(f.a)(d)?r[u]=null:(!Object(f.a)(l)&&Object(f.a)(d)||l!==d)&&(r[u]=null!=e.get(u)?e.get(u):null)}}catch(e){o=!0,a=e}finally{try{i||null==c.return||c.return()}finally{if(o)throw a}}Object.keys(r).length&&p.emitChanges(r)}}else p.checkEnvReady()},this.handleMessage=function(){p.fetchUserPermissions()},this.userList=new Set(t),this.onPermissionChange=n,r&&(this.onError=r),this.unsubscribePermission=l.default.subscribe(this.handleStoreChangeForPermission),this.unsubscribeNetworkState=l.default.subscribe(this.handleStoreChangeForNetworkState),this.isOnline=Object(y.a)(l.default.getState()),this.checkEnvReady()}return c()(i,[{key:"bootstrap",value:function(){var e=this.envInfos.token,t=x(e);d.a.register(t,this.handleMessage),I.add(e,this)}},{key:"checkEnvReady",value:function(){var e=l.default.getState(),t=Object(v.n)(e),n=Object(v.o)(e);Object(f.a)(t)||Object(f.a)(n)||(this.ready=!0,this.envInfos={token:t,suiteType:n},this.bootstrap(),this.fetchUserPermissions())}},{key:"fetchUserPermissions",value:function(e){var t,n,r,i;this.ready&&this.isOnline&&(n=(t=this.envInfos).token,r=t.suiteType,i=e||Array.from(this.userList),w.addPendingUserList(n,r,i))}},{key:"emitChanges",value:function(e){var i=this,t=Object.entries(e).map(function(e){var t=o()(e,2),n=t[0],r=t[1];return{userId:n,permission:null!=r?i.convert(r):null}});this.onPermissionChange(t)}},{key:"convert",value:function(e){return Object(b.permission2Booleans)(e)}},{key:"selectPermissions",value:function(){if(!this.ready)return Object(u.Map)({});var e=this.envInfos.token,t=Object(g.K)(l.default.getState()).getIn([e,"authorizedUsers"]);return t||Object(u.Map)({})}},{key:"updateUserPerm",value:function(e){this.fetchUserPermissions(e)}},{key:"updateUserList",value:function(e){var t=new Set(e);Object(h.default)(this.userList,t)||(this.userList=t,this.fetchUserPermissions())}},{key:"addUsers",value:function(e){var t=[],n=!0,r=!1,i=void 0;try{for(var o,a=e[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;this.userList.has(s)||(this.userList.add(s),t.push(s))}}catch(e){r=!0,i=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}0<t.length&&this.fetchUserPermissions(t)}},{key:"fetchUsers",value:function(e){return l.default.dispatch(Object(E.fetchUserDetail)({mentioned_users:e}))}},{key:"removeUsers",value:function(e){var t=!0,n=!1,r=void 0;try{for(var i,o=e[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var a=i.value;this.userList.has(a)&&this.userList.delete(a)}}catch(e){n=!0,r=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw r}}}},{key:"getUsers",value:function(){return Array.from(this.userList)}},{key:"getUserPermissions",value:function(){var e=this.selectPermissions(),t={},n=!0,r=!1,i=void 0;try{for(var o,a=this.userList[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;t[s]=e.has(s)?this.convert(e.get(s)):null}}catch(e){r=!0,i=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}return t}},{key:"getPermissionByUser",value:function(e){var t=this.selectPermissions();return t.has(e)?this.convert(t.get(e)):null}},{key:"destroy",value:function(){var e,t;this.userList.clear(),this.unsubscribePermission&&this.unsubscribePermission(),this.unsubscribeNetworkState&&this.unsubscribeNetworkState(),this.ready&&(t=x(e=this.envInfos.token),d.a.deregister(t,this.handleMessage),I.delete(e,this))}}],[{key:"destroyToken",value:function(e){I.destroyToken(e)}}]),i}();t.b=L},"0ejA":function(e,t,n){e.exports=i;var r=n("h2lD");function i(e){r.call(this,new o(this),e)}function o(e){this.scope=e}n("P7XM")(i,r),i.prototype.readable=!0;var a=n("hS6j").EVENTS;Object.keys(a).forEach(function(n){if(0===a[n])o.prototype["on"+n]=function(){this.scope.emit(n)};else if(1===a[n])o.prototype["on"+n]=function(e){this.scope.emit(n,e)};else{if(2!==a[n])throw Error("wrong number of arguments!");o.prototype["on"+n]=function(e,t){this.scope.emit(n,e,t)}}})},"0fF6":function(e,t,n){function r(e){this._cbs=e||{},this.events=[]}e.exports=r;var i=n("hS6j").EVENTS;Object.keys(i).forEach(function(n){if(0===i[n])n="on"+n,r.prototype[n]=function(){this.events.push([n]),this._cbs[n]&&this._cbs[n]()};else if(1===i[n])n="on"+n,r.prototype[n]=function(e){this.events.push([n,e]),this._cbs[n]&&this._cbs[n](e)};else{if(2!==i[n])throw Error("wrong number of arguments");n="on"+n,r.prototype[n]=function(e,t){this.events.push([n,e,t]),this._cbs[n]&&this._cbs[n](e,t)}}}),r.prototype.onreset=function(){this.events=[],this._cbs.onreset&&this._cbs.onreset()},r.prototype.restart=function(){this._cbs.onreset&&this._cbs.onreset();for(var e,t=0,n=this.events.length;t<n;t++)this._cbs[this.events[t][0]]&&(1===(e=this.events[t].length)?this._cbs[this.events[t][0]]():2===e?this._cbs[this.events[t][0]](this.events[t][1]):this._cbs[this.events[t][0]](this.events[t][1],this.events[t][2]))}},"0seG":function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"a",function(){return i});var o="undefined"!=typeof window&&window.location&&-1<window.location.href.indexOf("xgplayerdebug=1"),a={info:"color: #525252; background-color: #90ee90;",error:"color: #525252; background-color: #90ee90;",warn:"color: #525252; background-color: red; "},s="%c[xgplayer]",r={config:{debug:"undefined"!=typeof window&&window.location&&-1<window.location.href.indexOf("playerdebug")},logInfo:function(e){for(var t,n=arguments.length,r=Array(1<n?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];(o||this.config.debug)&&(t=console).log.apply(t,[s,a.info,e].concat(r))},logWarn:function(e){for(var t,n=arguments.length,r=Array(1<n?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];(o||this.config.debug)&&(t=console).warn.apply(t,[s,a.warn,e].concat(r))},logError:function(e){for(var t,n=arguments.length,r=Array(1<n?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];(o||this.config.debug)&&(t=console).error.apply(t,[s,a.error,e].concat(r))}};function i(e){e.logInfo=r.logInfo.bind(e),e.logWarn=r.logWarn.bind(e),e.logError=r.logError.bind(e)}},"0ycA":function(e,t){function n(){return[]}e.exports=n},"0zm+":function(e,t,n){e.exports=n("9EaA")},"0zrf":function(e,t,r){var i={"./":["2C+q",13],"./de-DE":["3AUJ",19],"./de-DE.js":["3AUJ",19],"./en-US":["nGoF",20],"./en-US.js":["nGoF",20],"./es-ES":["NlVp",21],"./es-ES.js":["NlVp",21],"./fr-FR":["gJsQ",22],"./fr-FR.js":["gJsQ",22],"./hi-IN":["wpGd",23],"./hi-IN.js":["wpGd",23],"./id-ID":["Jgxz",24],"./id-ID.js":["Jgxz",24],"./index":["2C+q",13],"./index.js":["2C+q",13],"./it-IT":["K4jQ",25],"./it-IT.js":["K4jQ",25],"./ja-JP":["Pkk5",26],"./ja-JP.js":["Pkk5",26],"./ko-KR":["fRIe",27],"./ko-KR.js":["fRIe",27],"./pt-BR":["ezSg",28],"./pt-BR.js":["ezSg",28],"./ru-RU":["JdEb",29],"./ru-RU.js":["JdEb",29],"./th-TH":["hmln",30],"./th-TH.js":["hmln",30],"./vi-VN":["DMXk",31],"./vi-VN.js":["DMXk",31],"./zh-CN":["LeJW",32],"./zh-CN.js":["LeJW",32]};function n(t){if(!r.o(i,t))return Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e});var e=i[t],n=e[0];return r.e(e[1]).then(function(){return r(n)})}n.keys=function(){return Object.keys(i)},n.id="0zrf",e.exports=n},"1+5i":function(e,t,n){var r=n("w/wX"),i=n("sEf8"),o=n("mdPL"),a=o&&o.isSet,s=a?i(a):r;e.exports=s},"1+jt":function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"a",function(){return c}),n.d(t,"c",function(){return u});var i=n("lQZd"),o=n("Ngi8"),a=function(e){var t=0,n=0,r=e.length;if(0<r)for(;n<r;)t=(t<<5)-t+e.charCodeAt(n++)|0;return t},s=new Map,r=function(e){if(r=s.get(e))return r;var t=Object(i.h)()+e,n=a(t),r=Math.abs(n)%o.CURSOR_COLOR_PALETTE.length;return s.set(e,r),r},c=function(e){var t=r(e);return o.CURSOR_COLOR_PALETTE[t]},u=function(){s.clear()}},"15JJ":function(e,t,n){"use strict";n.d(t,"a",function(){return c});var i=n("mrSG"),r=n("MGBS"),o=n("zotm"),a=n("67Y/"),s=n("0/uQ");function c(t,i){return"function"==typeof i?function(e){return e.pipe(c(function(n,r){return Object(s.a)(t(n,r)).pipe(Object(a.map)(function(e,t){return i(n,e,r,t)}))}))}:function(e){return e.lift(new u(t))}}var u=function(){function e(e){this.project=e}return e.prototype.call=function(e,t){return t.subscribe(new l(e,this.project))},e}(),l=function(r){function e(e,t){var n=r.call(this,e)||this;return n.project=t,n.index=0,n}return i.__extends(e,r),e.prototype._next=function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(e){return void this.destination.error(e)}this._innerSub(t,e,n)},e.prototype._innerSub=function(e,t,n){var r=this.innerSubscription;r&&r.unsubscribe(),this.add(this.innerSubscription=Object(o.a)(this,e,t,n))},e.prototype._complete=function(){var e=this.innerSubscription;e&&!e.closed||r.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.innerSubscription=null},e.prototype.notifyComplete=function(e){this.remove(e),this.innerSubscription=null,this.isStopped&&r.prototype._complete.call(this)},e.prototype.notifyNext=function(e,t,n,r,i){this.destination.next(t)},e}(r.a)},"15MJ":function(e,t,n){"use strict";n.d(t,"u",function(){return d}),n.d(t,"s",function(){return p}),n.d(t,"m",function(){return f}),n.d(t,"q",function(){return h}),n.d(t,"h",function(){return g}),n.d(t,"j",function(){return m}),n.d(t,"l",function(){return v}),n.d(t,"i",function(){return y}),n.d(t,"e",function(){return b}),n.d(t,"a",function(){return E}),n.d(t,"p",function(){return _}),n.d(t,"o",function(){return C}),n.d(t,"n",function(){return T}),n.d(t,"b",function(){return O}),n.d(t,"k",function(){return k}),n.d(t,"t",function(){return S}),n.d(t,"f",function(){return w}),n.d(t,"g",function(){return I}),n.d(t,"d",function(){return x}),n.d(t,"c",function(){return L});var r=n("NSt8"),i=n.n(r),o=n("K6ZQ"),a=n.n(o),s=n("bCqk"),c=n.n(s),u=n("bIgJ"),l=n.n(u);n.d(t,"r",function(){return l.a});var d="image-upload",p="imageUpload",f=20,h=["tl","tc","tr","cr","br","bc","bl","lc"],g=9e4,m=20971520,v="mark_decode_image",y=6,b="gallery",E="data-ace-gallery-json",_="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII=",C={zh:a.a,en:i.a,ja:c.a},T=i.a,O="doc_decrypt_img_display",k="doc_insert_image",S=["list","heading"],w="gif-load-icon-active",I="gif-load-icon",x=/\/api\/box\/stream\/download\/(?:v\d+\/)?(all|cover)\/(\w*)/,L=/\/api\/file\/f\/(\w*)/},"16UX":function(e,t,n){"use strict";var r=n("q1tI"),o=n.n(r),i=n("CnBM"),a=n.n(i),s=n("yKd+"),c=n("lwsE"),u=n.n(c),l=n("W8MJ"),d=n.n(l),p=n("a1gu"),f=n.n(p),h=n("Nsbk"),g=n.n(h),m=n("7W2i"),v=n.n(m),y=n("iWIM"),b=n.n(y),E=n("D0c4"),_=n("QILm"),C=n.n(_),T=n("i8i4"),O=n.n(T),k=n("hKza"),S=function(){function e(){var n=this;u()(this,e),this.ghost=null,this.popoverProps=null,this.childProps=null,this.triggerId=0,this.handleMouseEnter=function(e){var t=n.popoverProps;t&&t.onMouseEnter&&t.onMouseEnter(e)},this.handleMouseLeave=function(e){n.hideGhost(n.triggerId);var t=n.popoverProps;t&&t.onMouseLeave&&t.onMouseLeave(e)}}return d()(e,[{key:"generateGhost",value:function(e){var t=document.createElement("div");t.style.position="absolute",t.style.display="none";var n=this.getDefaultStyle()||{},r=e.style||{},i=Object.assign({},n,{},r);return Object.keys(i).forEach(function(e){t.style[e]=i[e]}),document.body.appendChild(t),t}},{key:"renderContent",value:function(e,t,n){O.a.render(o.a.createElement("div",{onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},this.getContent(t)),e,n)}},{key:"showGhost",value:function(e){var t=this.getDefaultPopupPositionOptions();e.popupPositionOptions&&(t=Object.assign({},t,{},e.popupPositionOptions)),this.ghost.style.display="block";var n,r,i,o=Object(k.a)(Object.assign({popup:this.ghost,referTarget:e.target},t)),a=(i=o?o.position:(n=e.target.getBoundingClientRect(),r=this.ghost.getBoundingClientRect(),{direction:{left:n.left-r.width,top:n.bottom}})).left,s=i.top,c=i.right;void 0!==a&&(this.ghost.style.left="".concat(a,"px")),void 0!==s&&(this.ghost.style.top="".concat(s,"px")),void 0!==c&&(this.ghost.style.right="".concat(c,"px")),this.onShow&&this.onShow()}},{key:"hideGhost",value:function(e){e===this.triggerId&&this.ghost&&(this.ghost.style.display="none",this.popoverProps&&(this.popoverProps.destroyAfterHide&&this.destroy(),this.popoverProps.onHide&&this.popoverProps.onHide()),this.onHide&&this.onHide(),this.popoverProps=null)}},{key:"getChildProps",value:function(){return this.childProps}},{key:"getPopoverProps",value:function(){return this.popoverProps}},{key:"onShow",value:function(){}},{key:"hide",value:function(){this.hideGhost(this.triggerId)}},{key:"show",value:function(e){var t=this,n=e.target,r=e.style,i=e.container,o=e.destroyAfterHide,a=e.onMouseEnter,s=e.onMouseLeave,c=e.onHide,u=C()(e,["target","style","container","destroyAfterHide","onMouseEnter","onMouseLeave","onHide"]),l={target:n,style:r,container:i,destroyAfterHide:o,onMouseEnter:a,onMouseLeave:s,onHide:c};this.hideGhost(this.triggerId),this.popoverProps=l,this.childProps=u;var d=this.triggerId+1;return this.ghost?this.showGhost(l):(this.ghost=this.generateGhost(l),this.renderContent(this.ghost,u,function(){t.popoverProps===l&&t.showGhost(l)})),this.triggerId=d,function(){t.hideGhost(d)}}},{key:"destroy",value:function(){this.ghost&&(O.a.unmountComponentAtNode(this.ghost),this.ghost.remove(),this.ghost=null)}}]),e}(),w=n("716e"),I={width:"320px",height:"500px"},x=function(n,r,i){var e=function e(t){i(t),n.removeEventListener(r,e)};return n.addEventListener(r,e),function(){n.removeEventListener(r,e)}},L=function(e){function r(){var t,e=0<arguments.length&&void 0!==arguments[0]&&arguments[0];return u()(this,r),(t=f()(this,g()(r).call(this))).removeMouseLeaveHandler=null,t.hideTimer=null,t.handleTargetMouseLeave=function(e){t.clearTimer(),t.hideTimer=window.setTimeout(function(){e()},100)},t.isSamplePopup=e,t}return v()(r,e),d()(r,[{key:"clearTimer",value:function(){this.hideTimer&&window.clearTimeout(this.hideTimer)}},{key:"handlePopoverMouseEnter",value:function(e,t){this.clearTimer(),e&&e(t)}},{key:"onHide",value:function(){this.clearTimer(),this.removeMouseLeaveHandler&&this.removeMouseLeaveHandler(),this.removeMouseLeaveHandler=null}},{key:"getDefaultStyle",value:function(){return this.isSamplePopup?{}:I}},{key:"getDefaultPopupPositionOptions",value:function(){return{placement:[w.a.left,w.b.center],gapToTarget:10,isSamplePopup:this.isSamplePopup}}},{key:"getContent",value:function(e){var t={};return this.isSamplePopup?(t.position="static",t.WebkitTransform="translateY(-50%)",t.msTransform="translateY(-50%)",t.transform="translateY(-50%)",t.border="none"):t=Object.assign({},I),o.a.createElement("div",{className:"mention-popover reaction-mention-profile comment-ignore-blur",style:t},o.a.createElement(E.default,Object.assign({closePopover:this.onHide},e,{triangle:this.isSamplePopup?"right":void 0})))}},{key:"show",value:function(e){var t=this.handlePopoverMouseEnter.bind(this,e.onMouseEnter),n=b()(g()(r.prototype),"show",this).call(this,Object.assign({},e,{onMouseEnter:t}));return this.removeMouseLeaveHandler=x(e.target,"mouseleave",this.handleTargetMouseLeave.bind(this,n)),n}}]),r}(S),R=null,N=function(){return R=R||new L(0<arguments.length&&void 0!==arguments[0]&&arguments[0])},D=n("chSF"),M=n("8Km3"),P=n("YlgD"),j=n("JO1u"),F=(n("dccM"),function(e){function t(e){var r;return u()(this,t),(r=f()(this,g()(t).call(this,e))).isOversea=!1,r.getUserByChatter=function(t){return r.props.reaction.userList.find(function(e){return e.userId===t.id})},r.handleChatterClick=function(e,t){var n;!r.props.onUserClick||(n=r.getUserByChatter(e))&&r.props.onUserClick(n,t)},r.handleMoreClick=function(e){r.props.onMoreClick&&r.props.onMoreClick(r.props.reaction.reactionKey,e)},r.handleReactionClick=function(e){e.stopPropagation(),r.props.onReactionClick&&r.props.onReactionClick(r.props.reaction.reactionKey,e)},r.isOversea=Object(j.c)(),r}return v()(t,e),d()(t,[{key:"render",value:function(){var e=this.props.reaction;return o.a.createElement(M.a,{emojiProps:{code:e.reactionKey,isOversea:this.isOversea,onClick:this.handleReactionClick},chatterCount:e.totalCount,chatters:e.userList.map(function(e){return Object(P.a)(e)}),onChatterClick:this.handleChatterClick,onMoreClick:this.handleMoreClick})}}]),t}(o.a.PureComponent)),B=n("VI6H"),U=n("iP/4"),H=n("ECq1"),z=n("kUgE"),V=(n("Va3G"),function(e){function t(e){var n;return u()(this,t),(n=f()(this,g()(t).call(this,e))).handleUserClick=function(e,t){t.stopPropagation(),e.anonymous||Object(B.j)()||U.a.isOpendoc||N(Object(B.y)()).show({token:e.userId,name:e.userName,target:t.target,destroyAfterHide:!0,style:{zIndex:1001}})},n.handleClose=function(){n.setState({dialogVisible:!1,dialogActiveReactionKey:n.getDefaultReactionKey()}),n.props.onReactionDetailClose&&n.props.onReactionDetailClose()},n.handleMoreClick=function(e,t){n.setState({dialogVisible:!0,dialogActiveReactionKey:e}),n.props.onMoreClick&&n.props.onMoreClick(e,t)},n.state={dialogVisible:!1,dialogActiveReactionKey:n.getDefaultReactionKey()},n.locale=Object(z.getLocale)(),n}return v()(t,e),d()(t,[{key:"getDefaultReactionKey",value:function(){return this.props.reactions&&0<this.props.reactions.length?this.props.reactions[0].reactionKey:"THUMBSUP"}},{key:"render",value:function(){var n=this,e=this.props,t=e.reactions,r=e.lang,i=e.onReactionClick;return o.a.createElement(H.b,{locale:this.locale,theme:H.a.light,lang:r},o.a.createElement("div",{className:"reaction-list-rewrite"},t.map(function(e,t){return o.a.createElement(F,{key:t,reaction:e,onUserClick:n.handleUserClick,onReactionClick:i,onMoreClick:n.handleMoreClick})})),this.state.dialogVisible&&o.a.createElement(D.a,{reactions:t,activeReactionType:this.state.dialogActiveReactionKey,onUserClick:this.handleUserClick,onClose:this.handleClose}))}}]),t}(o.a.PureComponent));n.d(t,"b",function(){return K}),n.d(t,"a",function(){return W}),Object(j.b)();var K=a()({loader:function(){return Object(j.a)(Object(z.getLocale)())},loading:function(){return null},render:function(e,t){return o.a.createElement(V,Object.assign({},t,{lang:e}))}});K.preload();var W=a()({loader:function(){return Promise.all([Object(j.a)(Object(z.getLocale)()),Promise.all([n.e("commons--home_banner--reaction--user_profile--whats_new_request"),n.e("commons--reaction--user_profile"),n.e("reaction")]).then(n.bind(null,"buzE"))])},loading:function(){return o.a.createElement(s.a,{width:"16",height:"16",className:"reaction-svg-placeholder"})},render:function(e,t){var n=e[0],r=e[1].Reaction;return o.a.createElement(r,Object.assign({},t,{lang:n}))}})},"182n":function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n("YNKm"),i=[r.s,r.t,r.u,r.v,r.w,r.x,r.y,r.z,r.A]},"1QvZ":function(e,t,n){"use strict";var r=n("pVnL"),i=n.n(r),o=n("QILm"),a=n.n(o),s=n("q1tI"),c=n.n(s);t.a=function(e){var t=e.styles,n=void 0===t?{}:t,r=a()(e,["styles"]);return c.a.createElement("svg",i()({width:"200",height:"200",className:n.icon||"icon",viewBox:"0 0 1024 1024"},r),c.a.createElement("defs",null),c.a.createElement("path",{fill:"#AFAFAF",d:"M624.66 785.14A38.94 38.94 0 01639 731.97a38.94 38.94 0 0153.21 14.17l90.13 156.1A38.94 38.94 0 01768 955.4a38.94 38.94 0 01-53.21-14.17l-90.13-156.1z"}),c.a.createElement("path",{fill:"#D1D1D1",d:"M241.66 121.76A38.94 38.94 0 01256 68.6a38.94 38.94 0 0153.21 14.17l90.13 156.1A38.94 38.94 0 01385 292.03a38.94 38.94 0 01-53.21-14.17l-90.13-156.1z"}),c.a.createElement("path",{fill:"#9D9D9D",d:"M238.86 624.66A38.94 38.94 0 01292.03 639a38.94 38.94 0 01-14.17 53.21l-156.1 90.13A38.94 38.94 0 0168.6 768a38.94 38.94 0 0114.17-53.21l156.1-90.13z"}),c.a.createElement("path",{fill:"#C2C2C2",d:"M902.24 241.66A38.94 38.94 0 01955.4 256a38.94 38.94 0 01-14.16 53.21l-156.1 90.13A38.94 38.94 0 01731.97 385a38.94 38.94 0 0114.17-53.21l156.1-90.13z"}),c.a.createElement("path",{fill:"#A3A3A3",d:"M331.79 746.14A38.94 38.94 0 01385 731.97a38.94 38.94 0 0114.34 53.17l-90.13 156.1A38.94 38.94 0 01256 955.4a38.94 38.94 0 01-14.34-53.17l90.13-156.1z"}),c.a.createElement("path",{fill:"#C8C8C8",d:"M714.79 82.76A38.94 38.94 0 01768 68.6a38.94 38.94 0 0114.34 53.17l-90.13 156.1A38.94 38.94 0 01639 292.03a38.94 38.94 0 01-14.34-53.17l90.13-156.1z"}),c.a.createElement("path",{fill:"#949494",d:"M277.86 331.79c18.6 10.73 24.94 34.56 14.17 53.21s-34.57 25.07-53.17 14.34L82.76 309.2A38.94 38.94 0 0168.6 256a38.94 38.94 0 0153.17-14.34l156.1 90.13z"}),c.a.createElement("path",{fill:"#B6B6B6",d:"M941.24 714.79A38.94 38.94 0 01955.4 768a38.94 38.94 0 01-53.16 14.34l-156.1-90.13A38.94 38.94 0 01731.97 639a38.94 38.94 0 0153.17-14.34l156.1 90.13z"}),c.a.createElement("path",{fill:"#999",d:"M219.12 473c21.47 0 38.88 17.46 38.88 39s-17.4 39-38.88 39H38.88C17.4 551 0 533.54 0 512s17.4-39 38.88-39h180.24z"}),c.a.createElement("path",{fill:"#BBB",d:"M985.12 473c21.47 0 38.88 17.46 38.88 39s-17.4 39-38.88 39H804.88C783.4 551 766 533.54 766 512s17.4-39 38.88-39h180.24z"}),c.a.createElement("path",{fill:"#CDCDCD",d:"M551 219.12c0 21.47-17.46 38.88-39 38.88s-39-17.4-39-38.88V38.88C473 17.4 490.46 0 512 0s39 17.4 39 38.88v180.24z"}),c.a.createElement("path",{fill:"#A9A9A9",d:"M551 985.12c0 21.47-17.46 38.88-39 38.88s-39-17.4-39-38.88V804.88c0-21.47 17.46-38.88 39-38.88s39 17.4 39 38.88v180.24z"}))}},"1a6t":function(e,t,n){"use strict";var i,r,l=n("h6S9");(r=i=i||{}).init="init",r.opened="opened",r.loaded="loaded",r.cancelled="cancelled";var o=n("7/sA"),a=n("skFV");function d(e){return e?null!=e.info?e:null!=e.code?{info:"code: ".concat(e.code)}:e.toString?{info:e.toString()}:{}:{}}function p(e){if(!e)return"unknown";if(e.specialSuite){var t=e.info;return"SpecialSuite-".concat(t.code)}return e.info}function s(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"";return e&&o.a&&/^https?:\/\//.test(e)?e.replace(/^https?:\/\/[^/]+/,a.a):e}var c=n("lwsE"),u=n.n(c),f=n("W8MJ"),h=n.n(f),g=n("sLU5"),m=n("OX8E"),v=n("093l"),y=n("Ibn6"),b=n("bdgK"),E=n("ifKl"),_=n("4TP3"),C=n("TGBA"),T=function(){function t(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:15;u()(this,t),this.runningPool={},this.currentRunningSize=0,this.waitingQueue=[],this.maxRunningSize=e}return h()(t,[{key:"addTask",value:function(e){this.isInRunningOrWaitingQueue(e)||(this.currentRunningSize<this.maxRunningSize?this.runTask(e):this.waitTask(e))}},{key:"runTask",value:function(e){var t=this,n=function(){t.onFinishRunningTask(e.id)};e.onLoad=n,e.onCancel=n,this.currentRunningSize++,(this.runningPool[e.id]=e).send()}},{key:"waitTask",value:function(e){var t=this;e.onCancel=function(){t.onFinishWaitingTask(e)},this.waitingQueue.push(e)}},{key:"onFinishRunningTask",value:function(e){delete this.runningPool[e],this.currentRunningSize--;var t=this.waitingQueue.shift();t&&this.runTask(t)}},{key:"onFinishWaitingTask",value:function(e){Object(_.a)(this.waitingQueue,e)}},{key:"removeAllTasks",value:function(){var t=this;0<this.waitingQueue.length&&(this.waitingQueue.forEach(function(e){e.onCancel=E.default,e.cancel()}),this.waitingQueue.length=0),0<this.currentRunningSize&&Object(C.a)(this.runningPool).forEach(function(e){e.onCancel=E.default,e.onLoad=E.default,e.cancel(),delete t.runningPool[e.id],t.currentRunningSize--})}},{key:"isInRunningOrWaitingQueue",value:function(t){var e=this.runningPool[t.id],n=this.waitingQueue.find(function(e){return e.id===t.id});return!(!e&&!n)}}]),t}(),O=n("o0o1"),k=n.n(O),S=n("lSNA"),w=n.n(S),I=n("yXPU"),x=n.n(I),L=n("Olm7"),R=n("jp/M"),N=n("toa8"),D=n("3doy"),M=function(){function e(){var t=this;u()(this,e),this.sendDatas={},this.responses={},this.getResponsePromiseCallbacks={},this.fetchs=[],this.timer=null,this.sendRequests=function(){t.timer=null;var e=Object.values(t.sendDatas).map(function(e){return t.convertSendDataToRequestSendData(e)});t.sendDatas={},t.doSendRequests(e)}}function t(e){return n.apply(this,arguments)}var n;return h()(e,[{key:"addRequest",value:function(e){var t=e.token;this.responses[t]||this.isCurrentTokenInRequest(t)||(this.sendDatas[t]=e,this.timer&&window.clearTimeout(this.timer),this.timer=window.setTimeout(this.sendRequests,100))}},{key:"getResponse",value:function(r){var i=this,e=new Promise(function(e,t){var n=i.responses[r.token];n?n.isSuccess?e(n.data):t():i.isCurrentTokenInRequest(r.token)?i.getResponsePromiseCallbacks[r.token]={resolve:e,reject:t}:(i.getResponsePromiseCallbacks[r.token]={resolve:e,reject:t},i.doSendRequests([i.convertSendDataToRequestSendData(r)]))});return e.abort=function(){var e=i.getResponsePromiseCallbacks[r.token];e&&(e.reject(),delete i.getResponsePromiseCallbacks[r.token])},e}},{key:"doSendRequests",value:(n=x()(k.a.mark(function e(t){var n,r,i,o=this;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(N.d)({url:R.apiUrls.POST_FILE_CDN_URL,method:R.apiUrls.METHOD.POST,headers:{"Content-Type":"application/json"},data:t}),this.fetchs.push({fetch:n,tokens:t.reduce(function(e,t){return Object.assign({},e,w()({},t.file_token,!0))},{})}),e.prev=2,e.next=5,n;case 5:r=e.sent,i={},r&&r.data&&r.data.forEach(function(e){i[e.file_token]=e}),t.forEach(function(e){var t=e.file_token,n=i[t];o.responses[t]={data:n,isSuccess:Boolean(n)};var r=o.getResponsePromiseCallbacks[t];r&&(n?r.resolve(n):r.reject(),delete o.getResponsePromiseCallbacks[t])}),e.next=13;break;case 11:e.prev=11,e.t0=e.catch(2);case 13:return e.prev=13,Object(L.a)(this.fetchs,function(e){return e.fetch===n}),e.finish(13);case 16:case"end":return e.stop()}},e,this,[[2,11,13,16]])})),t)},{key:"convertSendDataToRequestSendData",value:function(e){return{file_token:e.token,width:e.width,height:e.height,policy:D.PostFileCdnUrlPolicy.allow_up}}},{key:"isCurrentTokenInRequest",value:function(t){return Boolean(this.sendDatas[t]||this.fetchs.find(function(e){return e.tokens[t]}))}},{key:"reset",value:function(){this.fetchs.forEach(function(e){e.fetch.abort()}),this.fetchs=[],this.sendDatas={},this.responses={},this.timer&&window.clearTimeout(this.timer)}}]),e}();function P(e,t){var n="function"==typeof e?e():e;return void 0!==n?n:t}var j=function(){function i(){var n=this,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};u()(this,i),this.isStoppedFetchImgSrc=!1,this.viewportParam={},this.scrollEvent=g.a.PC.DRIVE.GridView.gridScroll,this.resizeEvent=g.a.PC.DRIVE.GridView.gridResize,this.onResizeEnd=function(){n.isStoppedFetchImgSrc=!1,m.a.emit(n.resizeEvent)},this.onScrollEnd=function(){n.isStoppedFetchImgSrc=!1,m.a.emit(n.scrollEvent)},this.onScrollStart=function(){n.isStoppedFetchImgSrc=!0},this.onResizeStart=function(){n.isStoppedFetchImgSrc=!0,n.parallelRequestKeyManager.reset()},this.toggleBindEvent=function(e,t){t?n.bindEvent(e):n.unbindEvent()};var t=e.scrollEvent,r=e.resizeEvent;this.fetchImgSrcTaskQueue=new T,this.parallelRequestKeyManager=new M,t&&(this.scrollEvent=t),r&&(this.resizeEvent=r)}return h()(i,[{key:"bindEvent",value:function(e){this.resizeEventRemover=this.detectResizeEvent(e,this.onResizeStart,this.onResizeEnd),this.scrollEventRemover=this.detectScrollEvent(e,this.onScrollStart,this.onScrollEnd)}},{key:"unbindEvent",value:function(){this.resizeEventRemover&&this.resizeEventRemover.removeEvent(),this.scrollEventRemover&&this.scrollEventRemover.removeEvent()}},{key:"isInViewport",value:function(e){if(!e)return!1;var t={top:0,bottom:window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight},n=P(this.viewportParam.top,t.top),r=P(this.viewportParam.bottom,t.bottom),i=e.getBoundingClientRect(),o=i.top,a=i.bottom;return!(!o&&!a)&&(n<=a&&o<=r)}},{key:"setViewportParam",value:function(e){this.viewportParam=e}},{key:"removeAllTasks",value:function(){this.fetchImgSrcTaskQueue.removeAllTasks(),this.parallelRequestKeyManager.reset()}},{key:"detectScrollEvent",value:function(e,t,n){var r=new F(t,n);return e.addEventListener("scroll",r.handleEvent,!!y.a&&{passive:!0}),{removeEvent:function(){r.destroyEvent(),e.removeEventListener("scroll",r.handleEvent)}}}},{key:"detectResizeEvent",value:function(e,t,n){var r=new F(t,n),i=new b.default(Object(v.a)(r.handleEvent));return i.observe(e),{removeEvent:function(){r.destroyEvent(),i.disconnect()}}}}]),i}(),F=function(){function r(e,t){var n=this;u()(this,r),this.handleEvent=function(){window.clearTimeout(n.isEventProcessing),n.isEventProcessing||n.onStart(),n.isEventProcessing=window.setTimeout(function(){n.isEventProcessing=void 0,n.onEnd()},200)},this.onStart=e,this.onEnd=t}return h()(r,[{key:"destroyEvent",value:function(){this.isEventProcessing&&window.clearTimeout(this.isEventProcessing)}}]),r}(),B=n("fp5s"),U=n("mbpr"),H=n("lAOT"),z=function(){function t(e){var n=this;u()(this,t),this.state=i.init,this.onCancel=E.default,this.onLoad=E.default,this.cancelSource=H.b.source(),this.logger=new U.a,this.wrapWithCancel=function(t){return function(e){if(n.isCancelled())throw new Error;return t(e)}},this.id=e||Object(B.a)("_FetchImgSrcTask_")}return h()(t,[{key:"setState",value:function(e){this.state=e}},{key:"getLog",value:function(){return this.logger.getLog()}},{key:"isCancelled",value:function(){return this.state===i.cancelled}},{key:"open",value:function(e){var n=this,r=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];return this.sendData=e,this.setState(i.opened),this.logger.logStartTime("display_time_cost"),this.logger.logStartTime("queue_time_cost"),new Promise(function(e,t){n.resolve=e,n.reject=t,r&&n.send()})}},{key:"send",value:function(){var t=this;if(this.state!==i.opened)throw new Error("cannot start fetch when state is not ".concat(i.opened));this.logger.logEndTime("queue_time_cost"),this.logger.logStartTime("request_time_cost"),this.doSend().then(function(e){t.load(e)}).catch(function(e){t.fail(e)})}},{key:"load",value:function(e){this.logger.logEndTime("request_time_cost"),this.logger.logEndTime("display_time_cost"),this.logger.sendLog("client_grid_cover_load"),this.resolve&&this.resolve(e),this.setState(i.loaded),this.onLoad()}},{key:"fail",value:function(e){this.reject&&this.reject(e),e&&Object(H.c)(e)||(this.setState(i.loaded),this.onLoad(),this.logger.logValue("request_img_fail",!0),this.logger.logValue("request_img_fail_reason",p(e)),this.logger.sendLog("client_grid_cover_load"))}},{key:"cancel",value:function(){this.fail(new H.a),this.setState(i.cancelled),this.onCancel(),this.cancelSource.cancel()}}]),t}(),V=n("a1gu"),K=n.n(V),W=n("Nsbk"),Y=n.n(W),q=n("7W2i"),Z=n.n(q),X=n("7EGn"),Q=n("AESI"),J=n("ahx2"),$=n("rLED"),ee=n("2IHA"),te=n("D1oa"),ne={"use-new-default-thumbnail":"true"};function re(e){var o=e.url,a=e.key,s=e.cancelToken,c=e.logger,u=!1;return new Promise(function(n,r){c&&(c.logValue("request_suite_necessary",!0),c.logStartTime("request_suite_time_cost"));var t=Object(N.d)({url:o,params:{adapter:"front"},headers:Object.assign({},Object($.P)()&&ne),responseType:"arraybuffer",withCredentials:!0,ignoreInterceptors:!0});function e(t){return function(e){if(u)throw new Error;return t(e)}}s&&s.promise.then(function(e){r(e),t.abort(),u=!0});var i=!1;t.then(function(e){var t=e.headers,n=e.data;if(c&&c.logEndTime("request_suite_time_cost"),i=!!t["access-new-default-thumbnail"],t["content-type"].includes("json")){var r=JSON.parse(Object(te.b)(n));if(J.SpecitalSuiteCodeList.includes(r.code))throw{specialSuite:!0,info:r};if(r.code===J.STATUS_CODE.FORBIDDEN)throw{noPermitted:!0,info:"no permission"};throw{info:"[".concat(r.code,"]").concat(r.msg)}}return c&&(c.logValue("size",n.byteLength),c.logValue("decrypt_necessary",!0),c.logStartTime("decrypt_time_cost")),Object(ee.d)(a,ee.b["SHA-256"]).then(function(e){return Object(ee.c)(n.slice(16),e.slice(0,32),n.slice(0,16),ee.a["AES-CBC"])})}).then(e(function(e){c&&c.logEndTime("decrypt_time_cost");var t=Object(te.a)(e);n(Object.assign({},t,{isIcon:i}))})).catch(function(e){var t,n;u||(t=d(e),c&&(n=p(t),c.getLogValue("decrypt_necessary")?(c.logValue("decrypt_fail",!0),c.logValue("decrypt_fail_reason",n)):(c.logValue("request_suite_failed",!0),c.logValue("request_suite_fail_reason",n))),r(t))})})}function ie(i){var o=i.url,a=i.key,s=i.iv,c=i.cancelToken,u=i.logger,l=!1;return new Promise(function(n,r){u&&(u.logValue("request_cdn_necessary",!0),u.logStartTime("request_cdn_time_cost"));var t=Object(N.d)({url:o,responseType:"arraybuffer",withCredentials:!1,ignoreInterceptors:!0,timeout:i.timeout});function e(t){return function(e){if(l)throw new Error;return t(e)}}c&&c.promise.then(function(e){r(e),t.abort(),l=!0}),t.then(function(e){var t=e.data;return u&&(u.logEndTime("request_cdn_time_cost"),u.logValue("size",t.byteLength),u.logValue("decrypt_necessary",!0),u.logStartTime("decrypt_time_cost")),Object(ee.c)(t,window.atob(a),window.atob(s),ee.a["AES-GCM"])}).then(e(function(e){u&&u.logEndTime("decrypt_time_cost");var t=Object(te.a)(e);n(t)})).catch(function(e){var t,n;l||(t=d(e),u&&(n=p(t),u.getLogValue("decrypt_necessary")?(u.logValue("decrypt_fail",!0),u.logValue("decrypt_fail_reason",n)):(u.logValue("request_cdn_fail",!0),u.logValue("request_cdn_fail_reason",n))),r(t))})})}var oe=function(e){function t(){return u()(this,t),K()(this,Y()(t).apply(this,arguments))}function n(e,t,n){return r.apply(this,arguments)}var r,i;function o(){return i.apply(this,arguments)}return Z()(t,e),h()(t,[{key:"doSend",value:(i=x()(k.a.mark(function e(){var t,n,r,i,o,a,s,c;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.sendData,n=t.token,r=t.type,i=t.hash,this.logger.setNotSendLog(!0),e.next=4,this.getThumbnail(n,r,i);case 4:return o=e.sent,e.next=7,re({url:o.thumbnail,key:o.decrypt_key,cancelToken:this.cancelSource.token,logger:this.logger});case 7:return a=e.sent,s=a.blobUrl,c=a.isIcon,e.abrupt("return",{src:s,isIcon:c});case 11:case"end":return e.stop()}},e,this)})),o)},{key:"getThumbnail",value:(r=x()(k.a.mark(function e(t,n,r){var i,o,a;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i=this.sendData.thumbnail,this.isCorrectThumbnail(i))return e.abrupt("return",Object.assign({},i,{thumbnail:s(i.thumbnail)}));e.next=3;break;case 3:return e.prev=3,e.next=6,Object(N.d)({url:Q.GET_THUMBNAIL_URL,method:"GET",params:Object.assign({obj_type:n,obj_token:t},r?{hash:r}:null)});case 6:if(o=e.sent,a={thumbnail:s(Object(X.default)(o,"data.url")),decrypt_key:Object(X.default)(o,"data.decrypt_key")},this.isCorrectThumbnail(a)){e.next=10;break}throw new Error("thumbnail info error");case 10:return e.abrupt("return",a);case 13:throw e.prev=13,e.t0=e.catch(3),e.t0&&e.t0.code===J.STATUS_CODE.FORBIDDEN&&(e.t0={noPermitted:!0,info:"no permission"}),d(e.t0);case 18:case"end":return e.stop()}},e,this,[[3,13]])})),n)},{key:"isCorrectThumbnail",value:function(e){return Boolean(e&&e.thumbnail&&e.decrypt_key)}}]),t}(z),ae=n("QILm"),se=n.n(ae),ce=n("6omo"),ue=function(e){function t(){return u()(this,t),K()(this,Y()(t).apply(this,arguments))}function n(e){return r.apply(this,arguments)}var r,i;function o(){return i.apply(this,arguments)}return Z()(t,e),h()(t,[{key:"doSend",value:(i=x()(k.a.mark(function e(){var t;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.logger.setNotSendLog(!0),e.next=3,this.getCdnUrl(this.sendData);case 3:return t=e.sent,e.abrupt("return",ie({url:t.url,key:t.secret,iv:t.nonce,cancelToken:this.cancelSource.token,logger:this.logger}).then(function(e){return{src:e.blobUrl,isIcon:!1}}));case 5:case"end":return e.stop()}},e,this)})),o)},{key:"getCdnUrl",value:(r=x()(k.a.mark(function e(t){var n,r,i,o,a,s,c,u;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.token,r=t.width,i=t.height,o=t.policy,a=void 0===o?l.a.NEAR:o,s=this.sendData.cdnUrl,this.isCorrectCdnUrl(s))return e.abrupt("return",s);e.next=4;break;case 4:return e.prev=4,e.next=7,Object(N.d)({url:Q.FETCH_BOX_FILE_CDN_URL,method:Q.METHOD.POST,headers:{"Content-Type":"application/json"},data:[{file_token:n,width:r,height:i,policy:a}]});case 7:if(c=e.sent,u=Object(X.default)(c,"data[0]",{}),this.isCorrectCdnUrl(u)){e.next=11;break}throw new Error("thumbnail info error");case 11:return e.abrupt("return",u);case 14:throw e.prev=14,e.t0=e.catch(4),e.t0&&e.t0.code===J.STATUS_CODE.FORBIDDEN&&(e.t0={noPermitted:!0,info:"no permission"}),d(e.t0);case 19:case"end":return e.stop()}},e,this,[[4,14]])})),n)},{key:"isCorrectCdnUrl",value:function(e){return Boolean(e&&e.url&&e.secret&&e.nonce)}}]),t}(z),le=function(e,t){var n=t.uniqueId,r=e===ce.n.THUMBNAIL?new oe("FetchCoverSrc_".concat(n)):new ue("FetchCdnSrc_".concat(n));return r},de=function(e){var t=e.fetchImgSrcManager,n=e.fetchType,r=se()(e,["fetchImgSrcManager","fetchType"]),i=le(n,r),o=i.open(r,!1);t?t.fetchImgSrcTaskQueue.addTask(i):i.send();var a=o;return a.task=i,a};n.d(t,"a",function(){return j}),n.d(t,"b",function(){return de})},"1hJj":function(e,t,n){var r=n("e4Nc"),i=n("ftKO"),o=n("3A9y");function a(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}a.prototype.add=a.prototype.push=i,a.prototype.has=o,e.exports=a},"1lbP":function(e,t,n){"use strict";n.d(t,"b",function(){return p}),n.d(t,"a",function(){return f});var r=n("lwsE"),i=n.n(r),o=n("W8MJ"),a=n.n(o),s=n("K9Ia"),c=n("0/uQ"),u=n("VnD/"),l=n("t9fZ"),d=n("ny24");function p(t){return function(e){return e.pipe(Object(u.a)(t),Object(l.a)(1))}}var f=function(){function e(){i()(this,e),this.destroy$=new s.a}return a()(e,[{key:"takeUntil",value:function(){return Object(d.a)(this.destroy$)}},{key:"from",value:function(e){return Object(c.a)(e).pipe(this.takeUntil())}},{key:"toPromise",value:function(s){var c=this;return new Promise(function(e,t){var n,r=!1,i=function(e){r=!0,n=e},o=t,a=function(){r&&e(n)};c.from(s).subscribe(i,o,a)})}},{key:"destroy",value:function(){this.destroy$.next(),this.destroy$.complete()}}]),e}()},"1xqC":function(e,p,f){"use strict";(function(n){f.d(p,"a",function(){return d});var e=f("lwsE"),r=f.n(e),t=f("W8MJ"),i=f.n(t),o=f("HIeq"),a=f("2ACu"),s=f("Mvmg"),c=f("XDjv"),u=f("uEBw"),l=f("OX8E"),d=function(){function t(e){r()(this,t),this.progress=0,this.started=!1,this.canceled=!1,this.isDone=!1,this.editorInfo=e.editorInfo,this.file=e.file,this.id=this.file.uuid,this.handleUploadEnd=e.handleUploadEnd,this.driveUploader=e.docUploaderCreator({parentToken:Object(o.e)(),mountPoint:s.a},{onTasksAdded:this.onTasksAdded.bind(this),onTaskSuccess:this.onTaskSuccess.bind(this),onTaskError:this.onTaskError.bind(this),onComplete:this.onComplete.bind(this),onFileProgress:this.onFileProgress.bind(this)}),this.createFileController()}return i()(t,[{key:"startUpload",value:function(){var e=this.file.event;this.handleTeaLog({status:"start_upload"}),this.driveUploader.addFile(this.file,e)}},{key:"onTasksAdded",value:function(){this.driveUploader.upload()}},{key:"onTaskSuccess",value:function(e){this.isDone=!0;var t=e.fileToken;this.updateFileController(t),this.handleUploadEnd(this.id),this.handleTeaLog({status:"success"})}},{key:"onTaskError",value:function(e){this.isDone=!0,this.canceled||Object(u.g)("".concat(this.file.name.substring(0,10)," ").concat(n("mention.uploader_failure"))),this.deleteFileController(),this.handleTeaLog({status:"fail"}),this.handleUploadEnd(this.id)}},{key:"onComplete",value:function(){}},{key:"onFileProgress",value:function(){var e=this.driveUploader.progress,e=Math.round(100*e);this.progress!==e&&(this.progress=e,l.a.emit(s.b,e,this.id))}},{key:"cancelUpload",value:function(){this.canceled=!0,this.driveUploader.cancelAll(),this.isDone=!0,this.handleUploadEnd(this.id),this.handleTeaLog({status:"cancel"})}},{key:"createFileController",value:function(){var e=this.file,t=Object(o.d)();this.fileController=new c.a(this.id,{editorInfo:this.editorInfo}),this.fileController.insertPlaceholder(e,{uploadOwner:t,atUuid:e.atUuid})}},{key:"updateFileController",value:function(e){e&&this.fileController.updateDriveKey(e)}},{key:"deleteFileController",value:function(){this.fileController.deleteFileCard()}},{key:"handleTeaLog",value:function(e){var t=this.file,n=e.status,r=t.source,i=r===s.i.DRAG?"mention_drag_upload":"client_uploader_file",o=t.name.split(".").pop()||"unknown";Object(a.default)(i,{upload_status:n||"fail",mention_file_length:t.size,mention_file_type:o,create_source:r})}},{key:"isUploading",get:function(){return this.driveUploader.isUploading}}]),t}()}).call(this,f("2vAP"))},"29OK":function(e,t,n){"use strict";var r=n("pVnL"),i=n.n(r),o=n("QILm"),a=n.n(o),s=n("q1tI"),c=n.n(s);t.a=function(e){e.styles;var t=a()(e,["styles"]);return c.a.createElement("svg",i()({width:"16",height:"16",viewBox:"0 0 16 16"},t),c.a.createElement("g",{fillRule:"evenodd"},c.a.createElement("path",{d:"M-54-4h16v16h-16z"}),c.a.createElement("path",{d:"M3.7 7c.17 0 .3.13.3.3v1.4a.3.3 0 01-.3.3H2.3a.3.3 0 01-.3-.3V7.3c0-.17.13-.3.3-.3h1.4zm5 0c.17 0 .3.13.3.3v1.4a.3.3 0 01-.3.3H7.3a.3.3 0 01-.3-.3V7.3c0-.17.13-.3.3-.3h1.4zm5 0c.17 0 .3.13.3.3v1.4a.3.3 0 01-.3.3h-1.4a.3.3 0 01-.3-.3V7.3c0-.17.13-.3.3-.3h1.4z"})))}},"2HcF":function(e,t,n){n("WUpD");var r=n("oWnS");e.exports=r("Array").findIndex},"2IHA":function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return o}),n.d(t,"c",function(){return a}),n.d(t,"d",function(){return s});var r,i,o,u=n("gSGL"),l=n("D1oa"),d=Boolean(window.crypto&&window.crypto.subtle);function a(o,a,s,c){return new Promise(function(e,t){var n,r,i;d?(n=window.crypto.subtle,r=Object(u.a)(a)?Object(l.c)(a):a,i=Object(u.a)(s)?Object(l.c)(s):s,n.importKey("raw",r,c,!1,["decrypt"]).then(function(e){return n.decrypt({name:c,iv:i,tagLength:128},e,o)}).then(e).catch(t)):t(new Error("web crypto not support for decrypt"))})}function s(i,o){return new Promise(function(e,t){var n,r;d?(n=window.crypto.subtle,r=Object(u.a)(i)?Object(l.c)(i):i,n.digest(o,r).then(e)):t(new Error("web crypto not support for digest"))})}(i=r=r||{})["AES-GCM"]="AES-GCM",i["AES-CBC"]="AES-CBC",(o=o||{})["SHA-256"]="SHA-256"},"2M8O":function(e,t,n){},"2SXh":function(e,t,n){n("pevS")({target:"Object",stat:!0,sham:!n("wbIY")},{create:n("SJYm")})},"2WpN":function(e,t,n){"use strict";n.d(t,"a",function(){return a});var i=n("mrSG"),r=n("FFOo"),o=n("pugT");function a(t){return function(e){return e.lift(new s(t))}}var s=function(){function e(e){this.callback=e}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.callback))},e}(),c=function(r){function e(e,t){var n=r.call(this,e)||this;return n.add(new o.a(t)),n}return i.__extends(e,r),e}(r.a)},"2ajD":function(e,t){function n(e){return e!=e}e.exports=n},"2bL9":function(e,t,n){"use strict";e.exports=i;var r=n("RNEt");function i(e,t,n,r,i){this.prop=e,this.value=t,this.selector=n,this.priority=r||0,this.additionalPriority=i||[]}i.prototype.compareFunc=function(e){var t=[];t.push.apply(t,this.selector.specificity()),t.push.apply(t,this.additionalPriority),t[0]+=this.priority;var n=[];return n.push.apply(n,e.selector.specificity()),n.push.apply(n,e.additionalPriority),n[0]+=e.priority,r.compareFunc(t,n)},i.prototype.compare=function(e){return 1===this.compareFunc(e)?this:e},i.prototype.toString=function(){return this.prop+": "+this.value.replace(/['"]+/g,"")+";"}},"2fOL":function(e,t,n){var r=n("b42z"),i=n("C3ug");e.exports=function(e){var t=i(e);if("function"!=typeof t)throw TypeError(String(e)+" is not iterable");return r(t.call(e))}},"2iEm":function(e,t,n){"use strict";var r=n("q1tI"),s=n.n(r),i=n("17x9"),o=n.n(i),a=n("QLaP"),c=n.n(a),u=n("YHGo"),l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};function d(e,t){var n,r={};for(n in e)0<=t.indexOf(n)||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var g,m=function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)},v=(h(y,g=s.a.Component),y.prototype.render=function(){var e=this.props,t=(e.replace,e.to),n=e.innerRef,r=d(e,["replace","to","innerRef"]);c()(this.context.router,"You should not use <Link> outside a <Router>"),c()(void 0!==t,'You must specify the "to" property');var i=this.context.router.history,o="string"==typeof t?Object(u.c)(t,null,null,i.location):t,a=i.createHref(o);return s.a.createElement("a",l({},r,{onClick:this.handleClick,href:a,ref:n}))},y);function y(){var e,o;p(this,y);for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=o=f(this,g.call.apply(g,[this].concat(n)))).handleClick=function(e){var t,n,r,i;o.props.onClick&&o.props.onClick(e),e.defaultPrevented||0!==e.button||o.props.target||m(e)||(e.preventDefault(),t=o.context.router.history,r=(n=o.props).replace,i=n.to,r?t.replace(i):t.push(i))},f(o,e)}v.propTypes={onClick:o.a.func,target:o.a.string,replace:o.a.bool,to:o.a.oneOfType([o.a.string,o.a.object]).isRequired,innerRef:o.a.oneOfType([o.a.string,o.a.func])},v.defaultProps={replace:!1},v.contextTypes={router:o.a.shape({history:o.a.shape({push:o.a.func.isRequired,replace:o.a.func.isRequired,createHref:o.a.func.isRequired}).isRequired}).isRequired},t.a=v},"2lMS":function(e,t){var i=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/;function n(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(1<n?"& ":"")+t[r],t=t.join(2<n?", ":" "),e.replace(i,"{\n/* [wrapped with "+t+"] */\n")}e.exports=n},"2q7i":function(e,t,n){e.exports=function s(e){"use strict";var M=/^\0+/g,P=/[\0\r\f]/g,c=/: */g,u=/zoo|gra/,l=/([,: ])(transform)/g,d=/,+\s*(?![^(]*[)])/g,p=/ +\s*(?![^(]*[)])/g,f=/ *[\0] */g,h=/,\r+?/g,a=/([\t\r\n ])*\f?&/g,g=/:global\(((?:[^\(\)\[\]]*|\[.*\]|\([^\(\)]*\))*)\)/g,m=/\W+/g,j=/@(k\w+)\s*(\S*)\s*/,F=/::(place)/g,B=/:(read-only)/g,t=/\s+(?=[{\];=:>])/g,n=/([[}=:>])\s+/g,r=/(\{[^{]+?);(?=\})/g,i=/\s{2,}/g,v=/([^\(])(:+) */g,y=/[svh]\w+-[tblr]{2}/,U=/\(\s*(.*)\s*\)/g,o=/([\s\S]*?);/g,b=/-self|flex-/g,E=/[^]*?(:[rp][el]a[\w-]+)[^]*/,_=/stretch|:\s*\w+\-(?:conte|avail)/,C=/([^-])(image-set\()/,H="-webkit-",z="-moz-",V="-ms-",K=59,W=125,Y=123,q=40,Z=41,X=91,Q=93,J=10,$=13,ee=9,te=64,ne=32,re=38,ie=45,T=95,oe=42,ae=44,se=58,ce=39,ue=34,le=47,de=62,pe=43,fe=126,he=0,ge=12,me=11,ve=107,ye=109,be=115,Ee=112,_e=111,Ae=105,Ce=99,Te=100,Oe=112,ke=1,Se=1,we=0,Ie=1,xe=1,O=1,k=0,Le=0,Re=0,Ne=[],S=[],De=0,w=null,I=-2,x=-1,Me=0,Pe=1,je=2,Fe=3,Be=0,Ue=1,He="",ze="",Ve="";function Ke(e,t,n,r,i){for(var o,a,s=0,c=0,u=0,l=0,d=0,p=0,f=0,h=0,g=0,m=0,v=0,y=0,b=0,E=0,_=0,C=0,T=0,O=0,k=0,S=n.length,w=S-1,I="",x="",L="",R="",N="",D="";_<S;){if(f=n.charCodeAt(_),_===w&&c+l+u+s!==0&&(0!==c&&(f=c===le?J:le),l=u=s=0,S++,w++),c+l+u+s===0){if(_===w&&(0<C&&(x=x.replace(P,"")),0<x.trim().length)){switch(f){case ne:case ee:case K:case $:case J:break;default:x+=n.charAt(_)}f=K}if(1===T)switch(f){case Y:case W:case K:case ue:case ce:case q:case Z:case ae:T=0;case ee:case $:case J:case ne:break;default:for(T=0,k=_,d=f,_--,f=K;k<S;)switch(n.charCodeAt(k++)){case J:case $:case K:++_,f=d,k=S;break;case se:0<C&&(++_,f=d);case Y:k=S}}switch(f){case Y:for(d=(x=x.trim()).charCodeAt(0),v=1,k=++_;_<S;){switch(f=n.charCodeAt(_)){case Y:v++;break;case W:v--;break;case le:switch(p=n.charCodeAt(_+1)){case oe:case le:_=Qe(p,_,w,n)}break;case X:f++;case q:f++;case ue:case ce:for(;_++<w&&n.charCodeAt(_)!==f;);}if(0===v)break;_++}if(L=n.substring(k,_),d===he&&(d=(x=x.replace(M,"").trim()).charCodeAt(0)),d===te){switch(0<C&&(x=x.replace(P,"")),p=x.charCodeAt(1)){case Te:case ye:case be:case ie:o=t;break;default:o=Ne}if(k=(L=Ke(t,o,L,p,i+1)).length,0<Re&&0===k&&(k=x.length),0<De&&(o=Ge(Ne,x,O),a=Xe(Fe,L,o,t,Se,ke,k,p,i,r),x=o.join(""),void 0!==a&&0===(k=(L=a.trim()).length)&&(p=0,L="")),0<k)switch(p){case be:x=x.replace(U,qe);case Te:case ye:case ie:L=x+"{"+L+"}";break;case ve:L=(x=x.replace(j,"$1 $2"+(0<Ue?He:"")))+"{"+L+"}",L=1===xe||2===xe&&Ye("@"+L,3)?"@"+H+L+"@"+L:"@"+L;break;default:L=x+L,r===Oe&&(R+=L,L="")}else L=""}else L=Ke(t,Ge(t,x,O),L,r,i+1);N+=L,b=O=C=E=T=y=0,L=x="",f=n.charCodeAt(++_);break;case W:case K:if(1<(k=(x=(0<C?x.replace(P,""):x).trim()).length))switch(0===E&&((d=x.charCodeAt(0))===ie||96<d&&d<123)&&(k=(x=x.replace(" ",":")).length),0<De&&void 0!==(a=Xe(Pe,x,t,e,Se,ke,R.length,r,i,r))&&0===(k=(x=a.trim()).length)&&(x="\0\0"),d=x.charCodeAt(0),p=x.charCodeAt(1),d){case he:break;case te:if(p===Ae||p===Ce){D+=x+n.charAt(_);break}default:if(x.charCodeAt(k-1)===se)break;R+=We(x,d,p,x.charCodeAt(2))}O=C=E=T=y=0,x="",f=n.charCodeAt(++_)}}switch(f){case $:case J:if(c+l+u+s+Le===0)switch(m){case Z:case ce:case ue:case te:case fe:case de:case oe:case pe:case le:case ie:case se:case ae:case K:case Y:case W:break;default:0<E&&(T=1)}c===le?c=0:Ie+y===0&&r!==ve&&0<x.length&&(C=1,x+="\0"),0<De*Be&&Xe(Me,x,t,e,Se,ke,R.length,r,i,r),ke=1,Se++;break;case K:case W:if(c+l+u+s===0){ke++;break}default:switch(ke++,I=n.charAt(_),f){case ee:case ne:if(l+s+c===0)switch(h){case ae:case se:case ee:case ne:I="";break;default:f!==ne&&(I=" ")}break;case he:I="\\0";break;case ge:I="\\f";break;case me:I="\\v";break;case re:l+c+s===0&&0<Ie&&(C=O=1,I="\f"+I);break;case 108:if(l+c+s+we===0&&0<E)switch(_-E){case 2:h===Ee&&n.charCodeAt(_-3)===se&&(we=h);case 8:g===_e&&(we=g)}break;case se:l+c+s===0&&(E=_);break;case ae:c+u+l+s===0&&(C=1,I+="\r");break;case ue:case ce:0===c&&(l=l===f?0:0===l?f:l);break;case X:l+c+u===0&&s++;break;case Q:l+c+u===0&&s--;break;case Z:l+c+s===0&&u--;break;case q:l+c+s===0&&(0===y&&(2*h+3*g==533||(v=0,y=1)),u++);break;case te:c+u+l+s+E+b===0&&(b=1);break;case oe:case le:if(0<l+s+u)break;switch(c){case 0:switch(2*f+3*n.charCodeAt(_+1)){case 235:c=le;break;case 220:k=_,c=oe}break;case oe:f===le&&h===oe&&k+2!==_&&(33===n.charCodeAt(k+2)&&(R+=n.substring(k,_+1)),I="",c=0)}}if(0===c){if(Ie+l+s+b===0&&r!==ve&&f!==K)switch(f){case ae:case fe:case de:case pe:case Z:case q:if(0===y){switch(h){case ee:case ne:case J:case $:I+="\0";break;default:I="\0"+I+(f===ae?"":"\0")}C=1}else switch(f){case q:E+7===_&&108===h&&(E=0),y=++v;break;case Z:0==(y=--v)&&(C=1,I+="\0")}break;case ee:case ne:switch(h){case he:case Y:case W:case K:case ae:case ge:case ee:case ne:case J:case $:break;default:0===y&&(C=1,I+="\0")}}x+=I,f!==ne&&f!==ee&&(m=f)}}g=h,h=f,_++}if(k=R.length,0<Re&&0===k&&0===N.length&&0===t[0].length==!1&&(r!==ye||1===t.length&&(0<Ie?ze:Ve)===t[0])&&(k=t.join(",").length+2),0<k){if(o=0===Ie&&r!==ve?Ze(t):t,0<De&&void 0!==(a=Xe(je,R,o,e,Se,ke,k,r,i,r))&&0===(R=a).length)return D+R+N;if(R=o.join(",")+"{"+R+"}",xe*we!=0){switch(2!==xe||Ye(R,2)||(we=0),we){case _e:R=R.replace(B,":"+z+"$1")+R;break;case Ee:R=R.replace(F,"::"+H+"input-$1")+R.replace(F,"::"+z+"$1")+R.replace(F,":"+V+"input-$1")+R}we=0}}return D+R+N}function Ge(e,t,n){var r=t.trim().split(h),i=r,o=r.length,a=e.length;switch(a){case 0:case 1:for(var s=0,c=0===a?"":e[0]+" ";s<o;++s)i[s]=L(c,i[s],n,a).trim();break;default:for(var s=0,u=0,i=[];s<o;++s)for(var l=0;l<a;++l)i[u++]=L(e[l]+" ",r[s],n,a).trim()}return i}function L(e,t,n,r){var i=t,o=i.charCodeAt(0);switch(o<33&&(o=(i=i.trim()).charCodeAt(0)),o){case re:switch(Ie+r){case 0:case 1:if(0===e.trim().length)break;default:return i.replace(a,"$1"+e.trim())}break;case se:if(103!==i.charCodeAt(1))return e.trim()+i.replace(a,"$1"+e.trim());if(0<O&&0<Ie)return i.replace(g,"$1").replace(a,"$1"+Ve);default:if(0<n*Ie&&0<i.indexOf("\f"))return i.replace(a,(e.charCodeAt(0)===se?"":"$1")+e.trim())}return e+i}function We(e,t,n,r){var i,o=0,a=e+";",s=2*t+3*n+4*r;if(944===s)return R(a);if(0===xe||2===xe&&!Ye(a,1))return a;switch(s){case 1015:return 97===a.charCodeAt(10)?H+a+a:a;case 951:return 116===a.charCodeAt(3)?H+a+a:a;case 963:return 110===a.charCodeAt(5)?H+a+a:a;case 1009:if(100!==a.charCodeAt(4))break;case 969:case 942:return H+a+a;case 978:return H+a+z+a+a;case 1019:case 983:return H+a+z+a+V+a+a;case 883:return a.charCodeAt(8)===ie?H+a+a:0<a.indexOf("image-set(",11)?a.replace(C,"$1"+H+"$2")+a:a;case 932:if(a.charCodeAt(4)===ie)switch(a.charCodeAt(5)){case 103:return H+"box-"+a.replace("-grow","")+H+a+V+a.replace("grow","positive")+a;case 115:return H+a+V+a.replace("shrink","negative")+a;case 98:return H+a+V+a.replace("basis","preferred-size")+a}return H+a+V+a+a;case 964:return H+a+V+"flex-"+a+a;case 1023:if(99!==a.charCodeAt(8))break;return i=a.substring(a.indexOf(":",15)).replace("flex-","").replace("space-between","justify"),H+"box-pack"+i+H+a+V+"flex-pack"+i+a;case 1005:return u.test(a)?a.replace(c,":"+H)+a.replace(c,":"+z)+a:a;case 1e3:switch(o=(i=a.substring(13).trim()).indexOf("-")+1,i.charCodeAt(0)+i.charCodeAt(o)){case 226:i=a.replace(y,"tb");break;case 232:i=a.replace(y,"tb-rl");break;case 220:i=a.replace(y,"lr");break;default:return a}return H+a+V+i+a;case 1017:if(-1===a.indexOf("sticky",9))return a;case 975:switch(o=(a=e).length-10,s=(i=(33===a.charCodeAt(o)?a.substring(0,o):a).substring(e.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|i.charCodeAt(7))){case 203:if(i.charCodeAt(8)<111)break;case 115:a=a.replace(i,H+i)+";"+a;break;case 207:case 102:a=a.replace(i,H+(102<s?"inline-":"")+"box")+";"+a.replace(i,H+i)+";"+a.replace(i,V+i+"box")+";"+a}return a+";";case 938:if(a.charCodeAt(5)===ie)switch(a.charCodeAt(6)){case 105:return i=a.replace("-items",""),H+a+H+"box-"+i+V+"flex-"+i+a;case 115:return H+a+V+"flex-item-"+a.replace(b,"")+a;default:return H+a+V+"flex-line-pack"+a.replace("align-content","").replace(b,"")+a}break;case 973:case 989:if(a.charCodeAt(3)!==ie||122===a.charCodeAt(4))break;case 931:case 953:if(!0===_.test(e))return 115===(i=e.substring(e.indexOf(":")+1)).charCodeAt(0)?We(e.replace("stretch","fill-available"),t,n,r).replace(":fill-available",":stretch"):a.replace(i,H+i)+a.replace(i,z+i.replace("fill-",""))+a;break;case 962:if(a=H+a+(102===a.charCodeAt(5)?V+a:"")+a,n+r===211&&105===a.charCodeAt(13)&&0<a.indexOf("transform",10))return a.substring(0,a.indexOf(";",27)+1).replace(l,"$1"+H+"$2")+a}return a}function Ye(e,t){var n=e.indexOf(1===t?":":"{"),r=e.substring(0,3!==t?n:10),i=e.substring(n+1,e.length-1);return w(2!==t?r:r.replace(E,"$1"),i,t)}function qe(e,t){var n=We(t,t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2));return n!==t+";"?n.replace(o," or ($1)").substring(4):"("+t+")"}function R(e){var t=e.length,n=e.indexOf(":",9)+1,r=e.substring(0,n).trim(),i=e.substring(n,t-1).trim();switch(e.charCodeAt(9)*Ue){case 0:break;case ie:if(110!==e.charCodeAt(10))break;default:for(var o=i.split((i="",d)),a=0,n=0,t=o.length;a<t;n=0,++a){for(var s=o[a],c=s.split(p);s=c[n];){var u=s.charCodeAt(0);if(1===Ue&&(te<u&&u<90||96<u&&u<123||u===T||u===ie&&s.charCodeAt(1)!==ie)&&isNaN(parseFloat(s))+(-1!==s.indexOf("("))===1)switch(s){case"infinite":case"alternate":case"backwards":case"running":case"normal":case"forwards":case"both":case"none":case"linear":case"ease":case"ease-in":case"ease-out":case"ease-in-out":case"paused":case"reverse":case"alternate-reverse":case"inherit":case"initial":case"unset":case"step-start":case"step-end":break;default:s+=He}c[n++]=s}i+=(0===a?"":",")+c.join(" ")}}return i=r+i+";",1===xe||2===xe&&Ye(i,1)?H+i+i:i}function Ze(e){for(var t,n,r=0,i=e.length,o=Array(i);r<i;++r){for(var a=e[r].split(f),s="",c=0,u=0,l=0,d=0,p=a.length;c<p;++c)if(!(0===(u=(n=a[c]).length)&&1<p)){if(l=s.charCodeAt(s.length-1),d=n.charCodeAt(0),t="",0!==c)switch(l){case oe:case fe:case de:case pe:case ne:case q:break;default:t=" "}switch(d){case re:n=t+ze;case fe:case de:case pe:case ne:case Z:case q:break;case X:n=t+n+ze;break;case se:switch(2*n.charCodeAt(1)+3*n.charCodeAt(2)){case 530:if(0<O){n=t+n.substring(8,u-1);break}default:(c<1||a[c-1].length<1)&&(n=t+ze+n)}break;case ae:t="";default:n=1<u&&0<n.indexOf(":")?t+n.replace(v,"$1"+ze+"$2"):t+n+ze}s+=n}o[r]=s.replace(P,"").trim()}return o}function Xe(e,t,n,r,i,o,a,s,c,u){for(var l,d=0,p=t;d<De;++d)switch(l=S[d].call($e,e,p,n,r,i,o,a,s,c,u)){case void 0:case!1:case!0:case null:break;default:p=l}if(p!==t)return p}function Qe(e,t,n,r){for(var i=t+1;i<n;++i)switch(r.charCodeAt(i)){case le:if(e===oe&&r.charCodeAt(i-1)===oe&&t+2!==i)return i+1;break;case J:if(e===le)return i+1}return i}function N(e){return e.replace(P,"").replace(t,"").replace(n,"$1").replace(r,"$1").replace(i," ")}function D(e){switch(e){case void 0:case null:De=S.length=0;break;default:if("function"==typeof e)S[De++]=e;else if("object"==typeof e)for(var t=0,n=e.length;t<n;++t)D(e[t]);else Be=0|!!e}return D}function Je(e){for(var t in e){var n=e[t];switch(t){case"keyframe":Ue=0|n;break;case"global":O=0|n;break;case"cascade":Ie=0|n;break;case"compress":k=0|n;break;case"semicolon":Le=0|n;break;case"preserve":Re=0|n;break;case"prefix":w=null,n?"function"!=typeof n?xe=1:(xe=2,w=n):xe=0}}return Je}function $e(e,t){if(void 0!==this&&this.constructor===$e)return s(e);var n=e,r=n.charCodeAt(0);r<33&&(r=(n=n.trim()).charCodeAt(0)),0<Ue&&(He=n.replace(m,r===X?"":"-")),(r=1)===Ie?Ve=n:ze=n;var i,o=[Ve];0<De&&void 0!==(i=Xe(x,t,o,o,Se,ke,0,0,0,0))&&"string"==typeof i&&(t=i);var a=Ke(Ne,o,t,0,0);return 0<De&&void 0!==(i=Xe(I,a,o,o,Se,ke,a.length,0,0,0))&&"string"!=typeof(a=i)&&(r=0),ze=Ve=He="",ke=Se=1,k*r==(we=0)?a:N(a)}return $e.use=D,$e.set=Je,void 0!==e&&Je(e),$e}(null)},"2sVE":function(e,m,v){"use strict";(function(e){v.d(m,"b",function(){return g}),v.d(m,"a",function(){return h});var t=v("lSNA"),n=v.n(t),r=v("RIqP"),i=v.n(r),o=v("AiBH"),a=v("DNsP"),s=v("YNKm"),c=v("rUU8"),u=v("4D8z"),l=v("bsrO"),d=v("VI6H"),p=v("m3ds"),f=v("rLED"),h=p.a.isMac?"osx":"other",g={menuLeft:[{dataKey:"undo",className:"",des:"",dataId:"undo-btn",toolTips:{tipText:e("common.undo"),keyText:{osx:"Z",other:"Ctrl+Z"}}},{dataKey:"redo",className:"",des:"",dataId:"redo-btn",toolTips:{tipText:e("common.redo"),keyText:{osx:"+Shift+Z",other:"Ctrl+Shift+Z"}}},{separator:null}].concat(i()(c.e),[{separator:null},{dataKey:"bold",className:"",des:"",toolTips:{tipText:e("editorbar.bold"),keyText:{osx:"B",other:"Ctrl+B"},markdown:!0}},{dataKey:"italic",className:"",des:"",toolTips:{tipText:e("common.italic"),keyText:{osx:"I",other:"Ctrl+I"},markdown:!0}},{dataKey:"underline",className:"",des:"",toolTips:{tipText:e("common.underline"),keyText:{osx:"U",other:"Ctrl+U"},markdown:!0}},{dataKey:"strikethrough",className:"",des:"",toolTips:{tipText:e("common.strikethrough"),keyText:{osx:"+Shift+X",other:"Ctrl+Shift+X"},markdown:!0}},{dataKey:s.B,className:"",des:"",toolTips:{tipText:e("editorbar.hight"),keyText:{osx:"+Option+H",other:"Ctrl+Alt+H"}}},{separator:null}],i()(c.d),[{separator:null},{dataKey:"insertorderedlist",className:"ol",toolTips:{tipText:e("common.ordered_list"),keyText:{osx:"+Shift+7",other:"Ctrl+Shift+7"},markdown:!0}},{dataKey:"insertunorderedlist",className:"ul",des:"",toolTips:{tipText:e("common.unordered_list"),keyText:{osx:"+Shift+8",other:"Ctrl+Shift+8"},markdown:!0}},{dataKey:"checkbox",className:"",des:"",toolTips:{tipText:e("common.task_list"),keyText:{osx:"+Option+T",other:"Ctrl+Alt+T"},markdown:!0}},{dataKey:"blockquote",className:"",des:"",toolTips:{tipText:e("common.reference"),keyText:{osx:"+Shift+>",other:"Ctrl+Shift+>"},markdown:!0}},{separator:null},{dataKey:"sheet",className:"",des:"",toolTips:{tipText:e("common.form"),keyText:null}},{dataKey:"link",className:"",des:"",toolTips:{tipText:e("common.link"),keyText:{osx:"K",other:"Ctrl+K"}}},{dataKey:"insertimage",className:"image",des:"",dataId:"image-upload",toolTips:{tipText:e("editorbar.image"),keyText:{osx:"+Shift+U",other:"Ctrl+Shift+U"}}},{dataKey:"insertseparator",className:"separator",des:"",dataId:"horizontal-btn",toolTips:{tipText:e("common.divider"),keyText:{osx:"+Option+S",other:"Ctrl+Alt+S"},markdown:!0}}]),menuText:[{dataKey:"bold",className:"",des:"",toolTips:{tipText:e("editorbar.bold"),keyText:{osx:"B",other:"Ctrl+B"},markdown:!0}},{dataKey:"strikethrough",className:"",des:"",toolTips:{tipText:e("common.strikethrough"),keyText:{osx:"+Shift+X",other:"Ctrl+Shift+X"},markdown:!0}},{dataKey:s.B,className:"",des:"",toolTips:{tipText:e("editorbar.hight"),keyText:{osx:"+Option+H",other:"Ctrl+Alt+H"}}},{dataKey:"insertorderedlist",className:"ol",toolTips:{tipText:e("common.ordered_list"),keyText:{osx:"+Shift+7",other:"Ctrl+Shift+7"},markdown:!0}},{dataKey:"insertunorderedlist",className:"ul",des:"",toolTips:{tipText:e("common.unordered_list"),keyText:{osx:"+Shift+8",other:"Ctrl+Shift+8"},markdown:!0}},{dataKey:"checkbox",className:"",des:"",feature:["panel_checkbox_use"],dataSelector:"selection-checkbox",toolTips:{tipText:e("common.task_list"),keyText:{osx:"+Option+T",other:"Ctrl+Alt+T"},markdown:!0}},{dataKey:"link",className:"",des:"",toolTips:{tipText:e("common.link"),keyText:{osx:"K",other:"Ctrl+K"}}}],menuHeading:c.e,menuMore:[{dataKey:"blockquote",className:"",des:"",toolTips:{tipText:e("common.reference"),keyText:{osx:"+Shift+>",other:"Ctrl+Shift+>"},markdown:!0}},{dataKey:"underline",className:"",des:"",toolTips:{tipText:e("common.underline"),keyText:{osx:"U",other:"Ctrl+U"},markdown:!0}},{dataKey:"italic",className:"",des:"",toolTips:{tipText:e("common.italic"),keyText:{osx:"I",other:"Ctrl+I"},markdown:!0}},{dataKey:"inlinecode",className:"",des:"",toolTips:{tipText:e("common.inline_code"),keyText:{osx:"Ctrl++C",other:"Ctrl+Shift+C"},markdown:!0}},{dataKey:s.E,className:"insertCalloutBlock",des:"",toolTips:{tipText:e("CreationDoc_Docs_CalloutBlock_Tab"),markdown:!1},hidden:!Object(f.f)()},{dataKey:s.G,className:"codeblock",des:"",toolTips:{tipText:e("help.siderbar.code_block"),keyText:{osx:"+Option+C",other:"Ctrl+Alt+C"},markdown:!0}},{dataKey:s.F,className:"codeblock",des:"",toolTips:{tipText:e("help.siderbar.code_block"),keyText:{osx:"+Option+C",other:"Ctrl+Alt+C"},markdown:!0}}].concat(i()(c.d)),commentTranslated:{dataKey:"comment",className:"",des:"",toolTips:{tipText:e("CreationDoc_TranslateView_AddComment_Tooltip")}},comment:{dataKey:"comment",className:"",des:"",toolTips:{tipText:e("editorbar.comment"),keyText:{osx:"+Option+M",other:"Ctrl+Alt+M"}}},heading:{dataKey:"heading",className:"",des:"",toolTips:{tipText:"editorbar.heading",keyText:{osx:"P",other:"Ctrl+P"}}},align:{dataKey:"align",className:"",des:"",toolTips:{tipText:"editorbar.align",keyText:{osx:"P",other:"Ctrl+P"}}},menuImages:[].concat(i()(c.f),[{dataKey:"alignfull",className:"imageFullScreen",des:"",dataId:"",toolTips:{tipText:e("editorbar.image_full_screen")}},{separator:null}]),menuCallout:[{dataKey:s.k,className:"",des:"",toolTips:{tipText:e("editorbar.hight")}},{separator:null}],table:[].concat(i()(c.f),[{dataKey:"alignfull",className:"imageFullScreen",des:"",dataId:"",toolTips:{tipText:e("editorbar.image_full_screen")}},{separator:null}]),menuCards:[],menuLineA:[{dataKey:"insertorderedlist",className:"ol",toolTips:{tipText:e("common.ordered_list"),keyText:{osx:"+Shift+7",other:"Ctrl+Shift+7"},markdown:!0},type:"style"},{dataKey:"insertunorderedlist",className:"ul",des:"",toolTips:{tipText:e("common.unordered_list"),keyText:{osx:"+Shift+8",other:"Ctrl+Shift+8"},markdown:!0},type:"style"},{dataKey:"blockquote",className:"",des:"",toolTips:{tipText:e("common.reference"),keyText:{osx:"+Shift+>",other:"Ctrl+Shift+>"},markdown:!0},type:"style"},{dataKey:"insertseparator",className:"separator",des:"",dataId:"horizontal-btn",toolTips:{tipText:e("common.divider"),keyText:{osx:"+Option+S",other:"Ctrl+Alt+S"},markdown:!0},type:"style"},{dataKey:s.G,className:"codeblock",des:"",toolTips:{tipText:e("help.siderbar.code_block"),keyText:{osx:"+Option+C",other:"Ctrl+Alt+C"},markdown:!0},type:"style"},{dataKey:s.F,className:"codeblock",des:"",toolTips:{tipText:e("help.siderbar.code_block"),keyText:{osx:"+Option+C",other:"Ctrl+Alt+C"},markdown:!0},type:"style"}].concat(i()(c.d)),menuLineB:[{dataKey:"insertorderedlist",className:"ol",toolTips:{tipText:e("common.ordered_list"),keyText:{osx:"+Shift+7",other:"Ctrl+Shift+7"},markdown:!0},type:"style"},{dataKey:"insertunorderedlist",className:"ul",des:"",toolTips:{tipText:e("common.unordered_list"),keyText:{osx:"+Shift+8",other:"Ctrl+Shift+8"},markdown:!0},type:"style"},{dataKey:"checkbox",className:"",des:"",toolTips:{tipText:e("common.task_list"),keyText:{osx:"+Option+T",other:"Ctrl+Alt+T"},markdown:!0}},{dataKey:"blockquote",className:"",des:"",toolTips:{tipText:e("common.reference"),keyText:{osx:"+Shift+>",other:"Ctrl+Shift+>"},markdown:!0},type:"style"},{dataKey:s.E,className:"insertCalloutBlock",des:"",toolTips:{tipText:e("CreationDoc_Docs_CalloutBlock_Tab"),markdown:!1},type:"style",hidden:function(){return!Object(f.f)()}},{dataKey:"insertseparator",className:"separator",des:"",dataId:"horizontal-btn",toolTips:{tipText:e("common.divider"),keyText:{osx:"+Option+S",other:"Ctrl+Alt+S"},markdown:!0},type:"style"},{dataKey:s.G,className:"codeblock",des:"",toolTips:{tipText:e("help.siderbar.code_block"),keyText:{osx:"+Option+C",other:"Ctrl+Alt+C"},markdown:!0},type:"style"},{dataKey:s.F,className:"codeblock",des:"",toolTips:{tipText:e("help.siderbar.code_block"),keyText:{osx:"+Option+C",other:"Ctrl+Alt+C"},markdown:!0},type:"style"}],insertList:[{dataKey:o.b.CHECKBOX,name:e("common.task_list"),className:"",dataSelector:"panel-checkbox",feature:["panel_checkbox_use"],toolTips:{tipText:e("common.task_list.tip"),keyText:{osx:"+Option+T",other:"Ctrl+Alt+T"},markdown:!0},type:"style"},{dataKey:o.b.INSERTIMAGE,name:e("common.image"),className:"image",des:"",dataId:"image-upload",toolTips:{tipText:e("editorbar.image"),keyText:{osx:"+Shift+U",other:"Ctrl+Shift+U"}}},{dataKey:o.b.IMAGE,name:e("common.image"),className:"image",dataId:"image-upload",toolTips:null,type:"style"},{dataKey:o.b.INSERT_TABLE,commandKey:o.F[o.b.INSERT_TABLE],actionName:"table",name:e("common.table_abtest"),className:"table",toolTips:null,type:"mention"},{dataKey:o.b.DRIVE,commandKey:o.F[o.b.DRIVE],actionName:"attachment",name:e("common.file"),className:"file",toolTips:{tipText:e("editorbar.file.des")},type:"mention"},{dataKey:o.b.BITABLE,commandKey:o.F[o.b.BITABLE],feature:["doc_create_gridview_from_list_intr"],className:"bitable",name:e("doc.a-panel.bitable.single-product"),actionName:"bitable_grid",toolTips:{tipText:e("doc.a-panel.bitable.tooltip")},type:"mention",hidden:!1},{dataKey:o.b.KANBAN,commandKey:o.F[o.b.KANBAN],name:e("doc.a-panel.kanban.single-product"),toolTips:{tipText:e("doc.a-panel.kanban.tooltip")},feature:["doc_create_kanbanview_from_list_intr"],className:"",type:"mention",hidden:!1},{dataKey:o.b.MINDNOTE,commandKey:o.F[o.b.MINDNOTE],className:"mindnote",name:e("mindnote.block_menu_item_name"),toolTips:{tipText:e("mindnote.block_menu_tips")},type:"mention"},{dataKey:o.b.SHEET,commandKey:o.F[o.b.SHEET],actionName:"sheet",name:e("common.sheet"),className:"",toolTips:null,type:"mention"},{dataKey:o.b.LINK,name:e("common.link"),className:"",toolTips:{tipText:e("editorbar.link.des"),keyText:{osx:"+K",other:"Ctrl+K"}},type:"style"},{dataKey:o.b.DOCUMENT,commandKey:o.F[o.b.DOCUMENT],actionName:"link_file",name:Object(d.x)()?e("common.docs_name"):e("common.sheet-docs"),className:"docs",toolTips:{tipText:Object(d.x)()?e("editorbar.add_docs"):e("editorbar.doc.des")},type:"mention",isLastItem:!0},{dataKey:o.b.USER,commandKey:o.F[o.b.USER],actionName:"user",name:e("common.user"),className:"user",toolTips:{tipText:e("editorbar.user.des")},type:"mention"},{dataKey:o.b.CHAT,commandKey:o.F[o.b.CHAT],actionName:"chat",name:e("common.chat"),className:"chat",toolTips:{tipText:e("editorbar.chat.des")},type:"mention"},{dataKey:o.b.POLL_BLOCK,commandKey:o.F[o.b.POLL_BLOCK],name:e("block.poll"),className:"poll",toolTips:null,type:"mention",isLastItem:!0},{dataKey:o.b.JIRA_BLOCK,commandKey:o.F[o.b.JIRA_BLOCK],name:e("doc.jira.jira"),className:"jira",actionName:"isv_jiramaster",toolTips:null,type:"mention",hidden:!Object(l.f)()||!Object(l.d)()},{dataKey:o.b.JIRA_FILTER_BLOCK,commandKey:o.F[o.b.JIRA_FILTER_BLOCK],name:e("doc.jira.jira_filter"),className:"jira",actionName:"isv_jiramaster",newUserNoShowFeature:!0,feature:[l.b],toolTips:null,type:"mention",hidden:!Object(l.d)()||Object(l.d)()&&Object(l.f)()}],embedIframeList:[{dataKey:o.b.YOUTUBE,commandKey:o.p.YOUTUBE,actionName:"iframe_youtube",name:e("common.YouTube"),className:"iframe",toolTips:{tipText:e("editorbar.youtube.des")},type:"mention"},{dataKey:o.b.TIKTOK,commandKey:o.p.TIKTOK,actionName:"iframe_tiktok",name:"TikTok",className:"iframe",toolTips:{tipText:e("editorbar.tiktok.des")},type:"mention"},{dataKey:o.b.BILIBILI,commandKey:o.p.BILIBILI,actionName:"iframe_bilibili",name:e("common.bilibili"),className:"iframe",toolTips:{tipText:e("editorbar.bilibili.des")},type:"mention"},{dataKey:o.b.XIGUA,commandKey:o.p.XIGUA,actionName:"iframe_xigua",name:e("common.xigua"),className:"iframe",toolTips:{tipText:e("editorbar.xigua.des")},type:"mention"},{dataKey:o.b.YOUKU,commandKey:o.p.YOUKU,actionName:"iframe_youku",name:e("common.youku"),className:"iframe",toolTips:{tipText:e("editorbar.youku.des")},type:"mention"},{dataKey:o.b.FIGMA,commandKey:o.p.FIGMA,actionName:"iframe_figma",name:e("common.figma"),className:"iframe",toolTips:{tipText:e("editorbar.figma.des")},type:"mention"},{dataKey:o.b.MODAO,commandKey:o.p.MODAO,actionName:"iframe_modao",name:e("common.modao"),className:"iframe",toolTips:{tipText:e("editorbar.modao.des")},type:"mention"},{dataKey:o.b.CANVA,commandKey:o.p.CANVA,actionName:"iframe_canva",name:e("common.canva"),className:"iframe",toolTips:{tipText:e("editorbar.canva.des")},type:"mention"},{dataKey:o.b.CODEPEN,commandKey:o.p.CODEPEN,actionName:"iframe_codepen",name:e("common.codepen"),className:"iframe",toolTips:{tipText:e("editorbar.codepen.des")},type:"mention"},{dataKey:o.b.JINSHUJU,commandKey:o.p.JINSHUJU,actionName:"iframe_jinshuju",name:e("common.jinshuju"),className:"iframe",toolTips:{tipText:e("editorbar.jinshuju.des")},type:"mention"},{dataKey:o.b.FEISHU_SURVEY,commandKey:o.p.FEISHU_SURVEY,actionName:"iframe_feishu_survey",name:e("common.feishu_survey"),className:"iframe",toolTips:{tipText:e("editorbar.feishu_survey.des")},type:"mention"},{dataKey:o.b.LARK_SURVEY,commandKey:o.p.LARK_SURVEY,actionName:"iframe_lark_survey",name:e("common.lark_survey"),className:"iframe",toolTips:{tipText:e("editorbar.lark_survey.des")},type:"mention"},{dataKey:o.b.AIRTABLE,commandKey:o.p.AIRTABLE,actionName:"iframe_airtable",name:e("common.Airtable"),className:"iframe",toolTips:{tipText:e("editorbar.Airtable.des")},type:"mention"},{dataKey:o.b.BAIDUMAP,commandKey:o.p.BAIDUMAP,actionName:"iframe_baidumap",name:e("block.iframe_map_baidu"),className:"iframe",toolTips:{tipText:e("editorbar.baidumap.des")},type:"mention"},{dataKey:o.b.AUTONAVI,commandKey:o.p.AUTONAVI,actionName:"iframe_autonavi",name:e("block.iframe_map_autonavi"),className:"iframe",toolTips:{tipText:e("editorbar.navimap.des")},type:"mention"},{dataKey:o.b.GMAPS,commandKey:o.p.GMAPS,actionName:"iframe_gmaps",name:e("block.iframe_map_gmaps"),className:"iframe",toolTips:{tipText:e("editorbar.gmaps.des")},type:"mention"}],menuBackColorMenu:[{dataKey:a.e.COLOR_PINK,color:a.f[a.e.COLOR_PINK]},{dataKey:a.e.COLOR_ORANGE,color:a.f[a.e.COLOR_ORANGE]},{dataKey:a.e.COLOR_YELLOW,color:a.f[a.e.COLOR_YELLOW]},{dataKey:a.e.COLOR_GREEN,color:a.f[a.e.COLOR_GREEN]},{dataKey:a.e.COLOR_BLUE,color:a.f[a.e.COLOR_BLUE]},{dataKey:a.e.COLOR_PURPLE,color:a.f[a.e.COLOR_PURPLE]},{dataKey:"separator",color:[]},{dataKey:a.e.COLOR_CLEAR,color:[]}],menuTableCell:[{dataKey:u.f.DO_MERGE_CELL,className:"mergecell",feature:["table_merge_cell"],des:"",dataId:"merge-cell-btn",toolTips:{tipText:e("editorbar.merge_cell")}},{dataKey:u.f.DO_UN_MERGE_CELL,className:"mergecell",feature:["table_merge_cell"],des:"",dataId:"merge-cell-btn",toolTips:{tipText:e("editorbar.split_cell")}},{dataKey:"alignleft",className:"",des:"",dataId:"align-left-btn",toolTips:{tipText:e("editorbar.align_left"),keyText:{osx:"+Shift+L",other:"Ctrl+Shift+L"}}},{dataKey:"aligncenter",className:"",des:"",dataId:"align-center-btn",toolTips:{tipText:e("editorbar.align_center"),keyText:{osx:"+Shift+E",other:"Ctrl+Shift+E"}}},{dataKey:"alignright",className:"",des:"",dataId:"align-right-btn",toolTips:{tipText:e("editorbar.align_right"),keyText:{osx:"+Shift+R",other:"Ctrl+Shift+R"}}},{separator:null},{dataKey:"bold",className:"",des:"",toolTips:{tipText:e("editorbar.bold"),keyText:{osx:"B",other:"Ctrl+B"},markdown:!0}},{dataKey:"strikethrough",className:"",des:"",toolTips:{tipText:e("common.strikethrough"),keyText:{osx:"+Shift+X",other:"Ctrl+Shift+X"},markdown:!0}},{dataKey:s.B,className:"",des:"",toolTips:{tipText:e("editorbar.hight"),keyText:{osx:"+Option+H",other:"Ctrl+Alt+H"}}}],menuTableCellMore:[{dataKey:"italic",className:"",des:"",toolTips:{tipText:e("common.italic"),keyText:{osx:"I",other:"Ctrl+I"},markdown:!0}},{dataKey:"underline",className:"",des:"",toolTips:{tipText:e("common.underline"),keyText:{osx:"U",other:"Ctrl+U"},markdown:!0}},{dataKey:"insertorderedlist",className:"ol",toolTips:{tipText:e("common.ordered_list"),keyText:{osx:"+Shift+7",other:"Ctrl+Shift+7"},markdown:!0}},{dataKey:"insertunorderedlist",className:"ul",des:"",toolTips:{tipText:e("common.unordered_list"),keyText:{osx:"+Shift+8",other:"Ctrl+Shift+8"},markdown:!0}},{dataKey:"checkbox",className:"",des:"",feature:["panel_checkbox_use"],dataSelector:"selection-checkbox",toolTips:{tipText:e("common.task_list"),keyText:{osx:"+Option+T",other:"Ctrl+Alt+T"},markdown:!0}},{dataKey:"blockquote",className:"",des:"",toolTips:{tipText:e("common.reference"),keyText:{osx:"+Shift+>",other:"Ctrl+Shift+>"},markdown:!0}},{dataKey:"inlinecode",className:"",des:"",toolTips:{tipText:e("common.inline_code"),keyText:{osx:"Ctrl++C",other:"Ctrl+Shift+C"},markdown:!0}},{dataKey:s.G,className:"codeblock",des:"",toolTips:{tipText:e("help.siderbar.code_block"),keyText:{osx:"+Option+C",other:"Ctrl+Alt+C"},markdown:!0}},{dataKey:s.F,className:"codeblock",des:"",toolTips:{tipText:e("help.siderbar.code_block"),keyText:{osx:"+Option+C",other:"Ctrl+Alt+C"},markdown:!0}}]};n()({},o.b.JIRA_FILTER_BLOCK,"jira_filter_enable");g.insertList=g.insertList.filter(function(e){return!e.hidden}),g.menuMore=g.menuMore.filter(function(e){return!e.hidden});o.b.USER,o.b.CHAT,o.b.DRIVE,o.b.DOCUMENT,o.b.IMAGE,o.b.INSERTIMAGE}).call(this,v("2vAP"))},"2uPm":function(e,t,n){e.exports=n("R9qo")},"2z0X":function(e,t,n){"use strict";var o=n("hbEN");function r(t,e){var n=[],r=Object(o.default)(function(){var e=n;n=[],t.call(void 0,e)},e),i=function(){var e=Array.prototype.slice.call(arguments,0);n=Array.from(new Set(n.concat(e))),r()};return i.cancel=r.cancel.bind(r),i.flush=r.flush.bind(r),i}t.a=r},"32lH":function(e,t,n){"use strict";n.d(t,"h",function(){return r}),n.d(t,"g",function(){return i}),n.d(t,"e",function(){return o}),n.d(t,"f",function(){return s}),n.d(t,"b",function(){return c}),n.d(t,"c",function(){return u}),n.d(t,"a",function(){return l}),n.d(t,"d",function(){return d});var r="larkw",i=function(){},o=["OK","THUMBSUP","JIAYI","DONE","FACEPALM","HEART","BLUSH"],a=["OK","THUMBSUP","THANKS","MUSCLE","FINGERHEART","APPLAUSE","FISTBUMP","JIAYI","DONE","SMILE","BLUSH","LAUGH","SMIRK","LOL","FACEPALM","LOVE","WINK","PROUD","WITTY","SMART","SCOWL","THINKING","SOB","CRY","ERROR","NOSEPICK","HAUGHTY","SLAP","SPITBLOOD","TOASTED","BLACKFACE","GLANCE","DULL","ROSE","HEART","PARTY","INNOCENTSMILE","SHY","CHUCKLE","JOYFUL","WOW","TRICK","YEAH","ENOUGH","TEARS","EMBARRASSED","KISS","SMOOCH","DROOL","OBSESSED","MONEY","TEASE","SHOWOFF","COMFORT","CLAP","PRAISE","STRIVE","XBLUSH","SILENT","WAVE","EATING","WHAT","FROWN","DULLSTARE","DIZZY","LOOKDOWN","WAIL","CRAZY","WHIMPER","HUG","BLUBBER","WRONGED","HUSKY","SHHH","SMUG","ANGRY","HAMMER","SHOCKED","TERROR","PETRIFIED","SKULL","SWEAT","SPEECHLESS","SLEEP","DROWSY","YAWN","SICK","PUKE","BIGKISS","BETRAYED","HEADSET","DONNOTGO","RAINBOWPUKE","SALUTE","SHAKE","HIGHFIVE","UPPERLEFT","SLIGHT","TONGUE","EYESCLOSED","BEAR","LIPS","BEER","CAKE","GIFT","CUCUMBER","HEARTBROKEN","BOMB","POOP","18X","CLEAVER"],s=["MUSCLE","APPLAUSE","OK","THUMBSUP","HEART","JIAYI","DONE","BLUSH","FACEPALM"],c=["FIREWORKS","BULL","CALF","AWESOMEN","2021","CANDIEDHAWS","REDPACKET","FORTUNE","LUCK","FIRECRACKER"],u=["OK","THUMBSUP","HEART","APPLAUSE","BLUSH","MUSCLE","JIAYI","GLANCE","CUCUMBER","FINGERHEART","FACEPALM","CRY","LOVE","WITTY","FISTBUMP","SLIGHT","LAUGH","PARTY","CLAP","SMIRK","TOASTED","DULL","BOMB","EYESCLOSED","INNOCENTSMILE","PRAISE","LOL","SLAP","PROUD","DULLSTARE","ROSE","SPITBLOOD","YEAH","SMILE","EATING","SMOOCH","SMART","SILENT","SHY","TONGUE","BEER","BLACKFACE","BEAR","DIZZY","YAWN","DROOL","SCOWL","HAUGHTY","NOSEPICK","SOB","ANGRY","SLEEP","WINK","SHOCKED","DROWSY","WHAT","SHOWOFF","CHUCKLE","PETRIFIED","THINKING","WHIMPER","SHHH","SMUG","ERROR","SICK","TRICK","CRAZY","TEARS","MONEY","KISS","TERROR","JOYFUL","BLUBBER","HUSKY","THANKS","LIPS","ENOUGH","WRONGED","OBSESSED","LOOKDOWN","WAVE","DONNOTGO","HEADSET","HUG","SKULL","BETRAYED","SWEAT","COMFORT","FROWN","SPEECHLESS","XBLUSH","EMBARRASSED","TEASE","BIGKISS","PUKE","WOW","HAMMER","STRIVE","RAINBOWPUKE","WAIL","HIGHFIVE","UPPERLEFT","SHAKE","SALUTE","DONE","18X","CLEAVER","HEARTBROKEN","POOP","GIFT","CAKE"].concat(c),l=a.concat(c),d={"ru-RU":". -   .   ","it-IT":"Ops... Si  verificato un errore. Riprova pi tardi","de-DE":"Hoppla... Etwas ist schiefgelaufen. Versuchen Sie es spter erneut","id-ID":"Ups... Ada yang salah. Coba lagi nanti","hi-IN":"...   .       ","es-ES":"Vaya!... Algo ha fallado. Intntalo ms tarde, por favor.","ja-JP":"","th-TH":"...  ","fr-FR":"Dsol! Une erreur est survenue. Veuillez ressayer plus tard","pt-BR":"Ops... Ocorreu um problema. Tente novamente mais tarde","ko-KR":"...  .   .","vi-VN":"Rt tic...  c li xy ra. Vui lng th li sau","zh-CN":"","en-US":"Oops... Something went wrong. Please try again later"}},"3A9y":function(e,t){function n(e){return this.__data__.has(e)}e.exports=n},"3BXJ":function(e,t,n){var r=n("pevS"),i=n("Qub4"),o=n("Bvq2"),a=n("39uu"),s=n("ZZQp").onFreeze,c=Object.freeze;r({target:"Object",stat:!0,forced:o(function(){c(1)}),sham:!i},{freeze:function(e){return c&&a(e)?c(s(e)):e}})},"3DAz":function(e,t,n){"use strict";n.d(t,"a",function(){return T});var d,r,u=n("oaNE"),l=n("BeL+"),i="/api",o=i+"/reaction/key/",a=i+"/reaction/recent_used_key/",p=i+"/reaction/add/",f=i+"/reaction/delete/",s=i+"/reaction/get_by_refer/";(r=d=d||{}).POST="post",r.GET="get";var c=function(e,t){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function h(e,t){function n(){this.constructor=e}c(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var g=function(){return(g=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function m(o,a,s,c){return new(s=s||Promise)(function(e,t){function n(e){try{i(c.next(e))}catch(e){t(e)}}function r(e){try{i(c.throw(e))}catch(e){t(e)}}function i(t){t.done?e(t.value):new s(function(e){e(t.value)}).then(n,r)}i((c=c.apply(o,a||[])).next())})}function v(e,n){var r,i,o,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},t={next:s(0),throw:s(1),return:s(2)};return"function"==typeof Symbol&&(t[Symbol.iterator]=function(){return this}),t;function s(t){return function(e){return c([t,e])}}function c(t){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,i&&(o=2&t[0]?i.return:t[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,t[1])).done)return o;switch(i=0,o&&(t=[2&t[0],o.value]),t[0]){case 0:case 1:o=t;break;case 4:return a.label++,{value:t[1],done:!1};case 5:a.label++,i=t[1],t=[0];continue;case 7:t=a.ops.pop(),a.trys.pop();continue;default:if(!(o=0<(o=a.trys).length&&o[o.length-1])&&(6===t[0]||2===t[0])){a=0;continue}if(3===t[0]&&(!o||t[1]>o[0]&&t[1]<o[3])){a.label=t[1];break}if(6===t[0]&&a.label<o[1]){a.label=o[1],o=t;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(t);break}o[2]&&a.ops.pop(),a.trys.pop();continue}t=n.call(e,a)}catch(e){t=[6,e],i=0}finally{r=o=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}}var y=(b.prototype.fire=function(){var t=this;if(0===this.queue.length)throw new Error("schedule: nothing to fire");this.isFiring=!0,this.onFire(this.queue[0]).catch(function(e){throw t.isFiring=!1,e}).then(function(){t.isFiring=!1,t.queue.splice(0,1),0<t.getUnFire().length&&t.fire()})},b.prototype.push=function(e){this.queue.push(e),1===this.queue.length&&this.fire()},b.prototype.pop=function(){this.queue.pop()},b.prototype.length=function(){return this.queue.length},b.prototype.getFistFire=function(){return this.queue[0]},b.prototype.getLastFire=function(){return this.queue[this.queue.length-1]},b.prototype.getUnFire=function(){return this.isFiring?this.queue.slice(1):this.queue.slice()},b.prototype.getLastUnFire=function(){var e=this.getUnFire();return e[e.length-1]},b.prototype.destroy=function(){},b);function b(e){this.queue=[],this.isFiring=!1,this.onFire=e.onFire}var E=(_.notifyRecentReactionKeysChange=function(){_.registerRecentReactionKeysChange.forEach(function(e){return e(_.recentReactionKeys)})},_.setRequestMethod=function(e){_.requestMethod=e},_.setMessageBox=function(e,t){_.messageBox=e,_.messageBox.register("REACTION_"+t,_.handleRecentReactionKeysMessage)},_.request=function(t){return m(this,void 0,void 0,function(){return v(this,function(e){switch(e.label){case 0:if(!_.requestMethod)throw new Error("no request method found, please setRequestMethod");return[4,_.requestMethod(t)];case 1:return[2,e.sent().data]}})})},_.fetchReactionKeys=function(){return m(this,void 0,void 0,function(){return v(this,function(e){return[2,_.request({url:o,method:d.GET}).then(function(e){var t=e.reaction_keys,n=e.recent_used;return _.recentReactionKeys=n,_.notifyRecentReactionKeysChange(),{reactionKeys:t,recentReactionKeys:n}})]})})},_.fetchRecentUsedKeys=function(){return _.request({url:a,method:d.GET}).then(function(e){var t=e.recent_used;return _.recentReactionKeys=t,_.notifyRecentReactionKeysChange(),{recentReactionKeys:t}})},_.onRecentReactionKeysChange=function(e){_.registerRecentReactionKeysChange.push(e)},_.offRecentReactionKeysChange=function(t){_.registerRecentReactionKeysChange=_.registerRecentReactionKeysChange.filter(function(e){return e!==t})},_.setRecentReactionKeys=function(e){_.recentReactionKeys=e,_.notifyRecentReactionKeysChange()},_.getRecentReactionKeys=function(){return _.recentReactionKeys.slice()},_.requestMethod=null,_.messageBox=null,_.recentReactionKeys=[],_.registerRecentReactionKeysChange=[],_.handleRecentReactionKeysMessage=function(e){var t=JSON.parse(e);"RECENT_USED_REACTION_KEYS"===t.type&&(_.recentReactionKeys=t.data.recent_used,_.notifyRecentReactionKeysChange())},_);function _(){}var C,T=(h(O,C=E),O.prototype.getUserName=function(e){return"zh"===this.getLang()?e.cn_name:e.en_name},O.prototype.getScheduleKey=function(e){return e.referType+":"+e.referKey+":"+e.reactionKey},O.prototype.getReaction=function(e,t,n){var r=this.reactionMap.get(e);if(r){var i=r.get(t);if(i)return i.find(function(e){return e.reactionKey===n})}return null},O.prototype.keyOfRemoteReactionsByCurrentUser=function(e){return e.referType+":"+e.referKey+":"+e.reactionKey},O.prototype.followUserList=function(e,t){var n=this.getUserId();if(!0===e){if(!t[0]||t[0].userId!==n)return[this.remoteUserToUser(this.entities.users[n])].concat(t.filter(function(e){return e.userId!==n}))}else if(t.find(function(e){return e.userId===n}))return t.filter(function(e){return e.userId!==n});return t},O.prototype.followTotalCount=function(e,t,n){return e===t?n:n+(t?1:-1)},O.prototype.followRemoteChangeWithLocalChange=function(e,t){var n=this.scheduleQueue.get(this.getScheduleKey(e));if(!n||0===n.length())return e.userList=this.followUserList(t,e.userList),e;var r=n.getLastFire(),i=g({},e);return i.userList=this.followUserList(r.status,e.userList),i.totalCount=this.followTotalCount(t,r.status,e.totalCount),i},O.prototype.remoteUserToUser=function(e){var t=e.work_status;return{userId:e.id,userName:this.getUserName(e),avatarUrl:e.avatar_url,isRegistered:e.is_registered,description:e.description,descType:e.description_flag,workStatusDesc:t.description_templates[t.status]||"",anonymous:!!e.is_anonymous}},O.prototype.remoteUserListToUserList=function(e,t){var r=this,i=t.users;return e.sort(function(e,t){return t.create_time-e.create_time}).map(function(e){var t=e.user_id,n=i[t];return r.remoteUserToUser(n)})},O.prototype.remoteReactionMetaToReactionMeta=function(e,t){return{referType:e.refer_type,referKey:e.refer_key,reactionKey:e.reaction_key,totalCount:e.count,userList:this.remoteUserListToUserList(e.ahead_users,t)}},O.prototype.update=function(e,t,n){var r,i=this.reactionMap.get(e),o=this.entities,a=i?(r=n?{users:Object(u.a)(o.users,n.users)}:o,new Map(i)):(r=n||{users:{}},new Map);t.forEach(function(t){var e=0<t.totalCount,n=a.get(t.referKey);if(n){var r=n.slice(),i=n.findIndex(function(e){return e.reactionKey===t.reactionKey});return-1===i?e&&r.push(t):e?r[i]=t:r.splice(i,1),void a.set(t.referKey,r)}e&&a.set(t.referKey,[t])});var s={reactions:a,entities:r};this.reactionMap.set(e,a),this.entities=r;var c=this.registerModules.get(e);c&&c.forEach(function(e){e(s,{reactions:t,entities:n})})},O.prototype.react=function(e,t,n,r){var i=this.getScheduleKey({referType:e,referKey:t,reactionKey:n}),o=this.scheduleQueue.get(i);o||(o=new y({onFire:this.handleOnFire}),this.scheduleQueue.set(i,o)),0<o.getUnFire().length&&o.getLastUnFire()!==r?o.pop():o.push({referType:e,referKey:t,reactionKey:n,status:r});var a,s,c=this.getReaction(e,t,n),u=g({},c=c||{referType:e,referKey:t,reactionKey:n,totalCount:0,userList:[]});u.userList=this.followUserList(r,c.userList),u.totalCount=this.followTotalCount(!r,r,c.totalCount),this.update(e,[u]),!0===r&&(a=[n].concat(O.getRecentReactionKeys()),s=Object(l.a)(a).slice(0,6),O.setRecentReactionKeys(s))},O.prototype.register=function(e,t){var n=this.registerModules.get(e);n||(n=[],this.registerModules.set(e,n)),n.push(t)},O.prototype.unregister=function(e,t){var n=this.registerModules.get(e);n&&this.registerModules.set(e,n.filter(function(e){return e!==t}))},O.prototype.fetchReactionData=function(){return this.broadcast.fetchClientVars(this.broadcastType)},O.prototype.fetchReactionDetail=function(o,e){var a=this;return O.request({url:s,method:d.GET,params:{obj_type:this.getSuiteType(),obj_token:this.getSuiteToken(),refer_type:o,refer_key:e}}).then(function(e){var r=a.getUserId(),t=e.reactions,i=e.entities,n=t.map(function(e){var t=a.remoteReactionMetaToReactionMeta(g({},e,{ahead_users:e.users}),i),n=t.userList.some(function(e){return e.userId===r});return a.followRemoteChangeWithLocalChange(t,n)});a.update(o,n,i)})},O.prototype.addReaction=function(e,t,n){this.react(e,t,n,!0)},O.prototype.removeReaction=function(e,t,n){this.react(e,t,n,!1)},O.prototype.getReactionData=function(e){return{reactions:this.reactionMap.get(e)||new Map,entities:this.entities}},O.prototype.destroy=function(){this.broadcast.unregister(this.broadcastType,this.handleReactionDatChange)},O);function O(e){var l=C.call(this)||this;l.registerModules=new Map,l.scheduleQueue=new Map,l.remoteReactionsByCurrentUser=new Set,l.reactionMap=new Map,l.entities={users:{}},l.handleOnFire=function(t){return m(l,void 0,void 0,function(){var o,a,s,c,u=this;return v(this,function(e){return o=t.referType,a=t.referKey,s=t.reactionKey,c=t.status,[2,O.request({url:c?p:f,method:d.POST,data:{obj_type:this.getSuiteType(),obj_token:this.getSuiteToken(),refer_type:o,refer_key:a,reaction_key:s}}).catch(function(e){var t,n,r,i=u.scheduleQueue.get(u.getScheduleKey({referType:o,referKey:a,reactionKey:s}));i&&0<i.getUnFire().length||(t=u.getReaction(o,a,s),n=!c,(r=g({},t=t||{referType:o,referKey:a,reactionKey:s,totalCount:0,userList:[]})).userList=u.followUserList(n,t.userList),r.totalCount=t.totalCount+(n?1:-1),u.update(o,[r]))})]})})},l.handleReactionDatChange=function(e){var u=l.getUserId();e.reduce(function(s,e){var t,n=[];e.reactions?((t=e).reactions.map(function(e){n.push(e)}),l.entities.users=g({},t.entities.users)):n.push(e.reaction);var c=e.entities;return n.forEach(function(e){var t=l.remoteReactionMetaToReactionMeta(e,c),n=l.keyOfRemoteReactionsByCurrentUser(t),r=null;e.cur_user?r=e.cur_user.react:e.act_user.user_id===u&&(r=e.act_user.react),!0===r?l.remoteReactionsByCurrentUser.add(n):!1===r&&l.remoteReactionsByCurrentUser.delete(n);var i=l.remoteReactionsByCurrentUser.has(n),o=l.followRemoteChangeWithLocalChange(t,i),a=s.get(o.referType);a?(a.reactions.push(o),a.entities.users=g({},a.entities.users,c.users)):s.set(t.referType,{reactions:[o],entities:c})}),s},new Map).forEach(function(e,t){l.update(t,e.reactions,e.entities)})};var t=e.broadcastType,n=e.broadcast,r=e.getLang,i=e.getUserId,o=e.getSuiteType,a=e.getSuiteToken;return l.broadcastType=t,l.broadcast=n,l.getLang=r,l.getUserId=i,l.getSuiteType=o,l.getSuiteToken=a,l.broadcast.register(t,l.handleReactionDatChange),l}},"3EEQ":function(e,t,n){"use strict";n.r(t);var r=n("pVnL"),o=n.n(r),i=n("lwsE"),a=n.n(i),s=n("q1tI"),c=n.n(s),u=n("i8i4"),l=n.n(u),d=n("W8MJ"),p=n.n(d),f=n("a1gu"),h=n.n(f),g=n("Nsbk"),m=n.n(g),v=n("7W2i"),y=n.n(v),b=(n("xD9Q"),n("Si88")),E=n.n(b),_=(n("17x9"),function(e){function n(e){var t;return a()(this,n),(t=h()(this,m()(n).call(this,e))).handleVisibilityChange=function(){"visible"===document.visibilityState&&t.exit()},t.close=function(){t.setState({show:!1})},t.exit=function(){t.props.onExited()},t.state=Object.assign({},e,{show:!0}),document.addEventListener("visibilitychange",t.handleVisibilityChange),t}return y()(n,e),p()(n,[{key:"componentWillUnmount",value:function(){document.removeEventListener("visibilitychange",this.handleVisibilityChange)}},{key:"render",value:function(){var e=this.state,t=e.style,n=e.component,r=e.show,i=e.className,o=this.props,a=o.handlePopOverEnter,s=o.handlePopOverLeave;return c.a.createElement(E.a,{in:r,timeout:250,className:"mention-popover comment-ignore-blur ".concat(i),classNames:"popover-fade",onExited:this.props.onExited},c.a.createElement("section",{style:t,onMouseEnter:a,onMouseLeave:s},n))}}]),n}(s.Component)),C=n("VI6H");n.d(t,"default",function(){return T});var T=function e(t){a()(this,e);var n=t.container,r=document.createElement("div");function i(){l.a.unmountComponentAtNode(r),n.removeChild(r)}return Object(C.x)()&&n===document.body&&(r.style.position="absolute",r.style.top=0,r.style.left=0),n.appendChild(r),l.a.render(c.a.createElement(_,o()({},t,{onExited:i})),r)}},"3HGU":function(e,t,n){"use strict";var r=n("pVnL"),i=n.n(r),o=n("QILm"),a=n.n(o),s=n("q1tI"),c=n.n(s);t.a=function(e){e.styles;var t=a()(e,["styles"]);return c.a.createElement("svg",i()({width:"16",height:"16",viewBox:"0 0 16 16"},t),c.a.createElement("path",{d:"M13.44 2c.31 0 .56.26.56.58v8.56c0 .32-.25.58-.56.58h-2.51l-2.4 2.1a.54.54 0 01-.79 0l-2.4-2.1H2.57a.57.57 0 01-.56-.58V2.58c0-.32.25-.58.56-.58h10.88zM5.91 6H4.79a.28.28 0 00-.28.28v1.16c0 .15.13.27.28.27h1.12c.15 0 .28-.12.28-.27V6.28A.28.28 0 005.9 6zM8.7 6H7.58a.28.28 0 00-.28.28v1.16c0 .15.13.27.28.27H8.7c.15 0 .28-.12.28-.27V6.28A.28.28 0 008.7 6zm2.79 0h-1.12a.28.28 0 00-.28.28v1.16c0 .15.13.27.28.27h1.12c.15 0 .28-.12.28-.27V6.28a.28.28 0 00-.28-.28z",fill:"#8F959E",fillRule:"evenodd"}))}},"3J/R":function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n("26FU"),i=n("xlPZ");function o(t){return function(e){return Object(i.a)(new r.a(t))(e)}}},"3L66":function(e,t,n){var r=n("MMmD"),i=n("ExA7");function o(e){return i(e)&&r(e)}e.exports=o},"3OWR":function(e,t,n){var r=n("MrPd"),i=n("juv8"),o=n("LsHQ"),a=n("MMmD"),s=n("6sVZ"),c=n("7GkX"),u=Object.prototype.hasOwnProperty,l=o(function(e,t){if(s(t)||a(t))i(t,c(t),e);else for(var n in t)u.call(t,n)&&r(e,n,t[n])});e.exports=l},"3SUL":function(e,t,n){var r=n("nhkr"),i=n("hO3g");function o(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?i(e):t}e.exports=o},"3U0i":function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n("mrSG"),i=function(t){function n(){var e=t.call(this,"Timeout has occurred")||this;return e.name="TimeoutError",Object.setPrototypeOf(e,n.prototype),e}return r.__extends(n,t),n}(Error)},"3VXv":function(e,t,n){"use strict";n.d(t,"a",function(){return Container}),n.d(t,"b",function(){return Text});var r=n("VkAN"),i=n.n(r),o=n("vOnD"),a=n("MjSh");function s(){var e=i()(["\n  margin-top: 7px;\n  color: ",";\n  font-size: 12px;\n  line-height: 1;\n"]);return s=function(){return e},e}function c(){var e=i()(["\n  background-color: ",";\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n"]);return c=function(){return e},e}var Container=o.default.div(c(),a.N00),Text=o.default.div(s(),a.N600)},"3WF5":function(e,t,n){var r=n("eUgh"),i=n("ut/Y"),o=n("l9OW"),a=n("Z0cm");function s(e,t){return(a(e)?r:o)(e,i(t,3))}e.exports=s},"3doy":function(e,t,n){"use strict";n.r(t);var r,i,o=n("lSNA"),a=n.n(o),s=n("RIqP"),c=n.n(s),u=n("BmhO"),l=n("QM+C"),d=n("ahx2"),p=n("hNo0");(i=r=r||{}).ADD="ADD",i.TASK_PROGRESS="TASK_PROGRESS",i.FILE_PROGRESS="FILE_PROGRESS",i.SUCCESS="SUCCESS",i.ERROR="ERROR",i.CANCEL="CANCEL",i.CANCEL_ALL="CANCEL_ALL",i.PAUSE="PAUSE",i.PAUSE_ALL="PAUSE_ALL",i.PENDING="PENDING";var f,h,g,m,v,y,b,E,_,C,T,O,k,S,w,I,x,L,R,N,D,M,P=n("658s");n.d(t,"BoxUploadStatus",function(){return h}),n.d(t,"BoxDownloadStatus",function(){return m}),n.d(t,"BoxLarkUploadStatus",function(){return y}),n.d(t,"CallerType",function(){return E}),n.d(t,"RegenerateType",function(){return _}),n.d(t,"RedirectType",function(){return T}),n.d(t,"PreviewRightPanelType",function(){return k}),n.d(t,"VersionPreviewType",function(){return w}),n.d(t,"WarningType",function(){return x}),n.d(t,"FileErrorType",function(){return R}),n.d(t,"PostFileCdnUrlPolicy",function(){return D}),n.d(t,"PDFPreviewTypes",function(){return H}),n.d(t,"mountPointTypeMap",function(){return z}),n.d(t,"IOMessageDataType",function(){return j}),n.d(t,"CommentType",function(){return B}),n.d(t,"FeedToolbarHiddenWidth",function(){return Y}),n.d(t,"COMPLETE_DELETE_CALLER",function(){return V}),n.d(t,"NoteMetaSyncTypes",function(){return K}),n.d(t,"MountPointType",function(){return p.a}),n.d(t,"ACTION",function(){return r}),n.d(t,"NEW_FILE_VERSION_SOURCE",function(){return P.a}),(g=h=h||{}).PENDING="pending",g.UPLOADING="uploading",g.SUCCESS="success",g.ERROR="error",g.PAUSE="pause",(v=m=m||{}).PENDING="downloadPending",v.DOWNLOADING="downloading",v.SUCCESS="downloadSuccess",v.ERROR="downloadError",v.PAUSE="downloadPause",(b=y=y||{}).PENDING="uploadPending",b.UPLOADING="uploading",b.CONVERTING="importConverting",b.SUCCESS="uploadSuccess",b.ERROR="uploadError",b.PAUSE="uploadPause",(E=E||{}).EXPLORER="explorer",(C=_=_||{})[C.DEFAULT=0]="DEFAULT",C[C.MANUAL=1]="MANUAL",(O=T=T||{})[O.OFF=0]="OFF",O[O.ON=1]="ON",(S=k=k||{}).Comment="Comment",S.FileInfo="FileInfo",(I=w=w||{}).Revert="Revert",I.Download="Download",I.Delete="Delete",(L=x=x||{})[L.ColumnCut=1]="ColumnCut",L[L.CellCut=2]="CellCut",L[L.ColumnAndCellCut=3]="ColumnAndCellCut",(N=R=R||{})[N.Other=1]="Other",N[N.NumLimited=88]="NumLimited",N[N.UnknownProblem=100]="UnknownProblem",N[N.xmlVersionNotSupport=101]="xmlVersionNotSupport",N[N.FileEncrypted=102]="FileEncrypted",N[N.ForderNumLimited=4001]="ForderNumLimited",N[N.SizeLimited=9004]="SizeLimited",N[N.EmptyFile=9011]="EmptyFile",N[N.FolderNodeLimited=d.NODE_OUT_OF_LIMIT_BY_EXPLORER_ERROR_CODE]="FolderNodeLimited",(M=D=D||{}).equal="equal",M.near="near",M.allow_up="allow_up",M.allow_down="allow_down";var j,F,B,U,H=[u.s.PDF].concat(c()(u.F),c()(u.G),c()(u.B),c()(u.H)),z=(f={},a()(f,l.NUM_FILE_TYPE.DOC,p.a.DOC),a()(f,l.NUM_FILE_TYPE.BITABLE,p.a.BITABLE),a()(f,p.a.BITABLE,p.a.BITABLE),f);(F=j=j||{}).USER_NEWINFO="USER_NEWINFO",F.USER_LEAVE="USER_LEAVE",F.ROOM_MEMBERS="ROOM_MEMBERS",F.USER_CHANGES="USER_CHANGES",F.MESSAGE_CHANNEL="MESSAGE_CHANNEL",F.PUSH_COMMENT="driveCommonPushChannel",F.DELETE_FILE_VERSION="DELETE_FILE_VERSION",F.UPLOAD_FILE_VERSION="UPLOAD_FILE_VERSION",F.UPDATE_FILE_META="UPDATE_FILE_META",(U=B=B||{})[U.RECT=1]="RECT",U[U.OLD=2]="OLD",U[U.FULL=3]="FULL",U[U.TEXT=4]="TEXT";var V,K,W,Y=300;(V=V||{}).STORAGE_CENTER="quota_center",(W=K=K||{}).USER_CHANGES="USER_CHANGES",W.ACCEPT_COMMIT="ACCEPT_COMMIT",W.NEW_CHANGES="NEW_CHANGES"},"3fWJ":function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n("mrSG"),i=function(t){function n(){var e=t.call(this,"no elements in sequence")||this;return e.name="EmptyError",Object.setPrototypeOf(e,n.prototype),e}return r.__extends(n,t),n}(Error)},"3ftV":function(e,t,n){"use strict";var o=n("G3A0"),a=n("fywt"),s=n("fshX"),c=Math.max,u=Math.min;function r(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=r-1;return void 0!==n&&(i=Object(s.a)(n),i=n<0?c(r+i,0):u(i,r-1)),Object(o.a)(e,Object(a.a)(t,3),i,!0)}t.a=r},"3mr1":function(e,t,n){var r=n("pevS"),i=n("Bvq2"),o=n("T/97"),a=n("V3kF"),s=n("9fuf");r({target:"Object",stat:!0,forced:i(function(){a(1)}),sham:!s},{getPrototypeOf:function(e){return a(o(e))}})},"3tWU":function(e,t,n){"use strict";n.d(t,"a",function(){return qt});var r=n("cDf5"),u=n.n(r),c=function(){return(c=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function s(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||0<t--)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function l(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(s(arguments[t]));return e}var i=function(e,s){var t,n,r,i,o,a=function(e){var t=document.createElement("a");return t.href=e,t},c=window.screen.width,u=window.screen.height,l=window.navigator.appVersion,d=window.navigator.userAgent,p=window.navigator.language,f=document.referrer,h=f?a(f).hostname:"",g=(r=window.location.href,i=(i=a(r).search).slice(1),o={},i.split("&").forEach(function(e){var t,n,r=e.split("=");r.length&&(t=r[0],n=r[1]);try{o[t]=decodeURIComponent(void 0===n?"":n)}catch(e){o[t]=n}}),o),m="",v="",y="",b=""+parseFloat(l);-1!==(t=d.indexOf("Opera"))&&(y="Opera",b=d.substring(t+6),-1!==(t=d.indexOf("Version"))&&(b=d.substring(t+8))),-1!==(t=d.indexOf("Edge"))?(y="Microsoft Edge",b=d.substring(t+5)):-1!==(t=d.indexOf("MSIE"))?(y="Microsoft Internet Explorer",b=d.substring(t+5)):-1!==d.indexOf("Chrome")?-1!==(t=d.indexOf("MicroMessenger"))?(y="weixin",b=d.substring(t+15,t+20)):-1!==(t=d.indexOf("MQQBrowser"))?(y="qqbrowser",b=d.substring(t+11,t+15)):-1!==(t=d.indexOf("360"))?(y="360browser",b=d.substring(d.indexOf("Chrome")+7)):-1!==d.indexOf("baidubrowser")||-1!==d.indexOf("BIDUBrowser")?(-1!==d.indexOf("baidubrowser")?(t=d.indexOf("baidubrowser"),b=d.substring(t+13,t+16)):-1!==d.indexOf("BIDUBrowser")&&(t=d.indexOf("BIDUBrowser"),b=d.substring(t+12,t+15)),y="baidubrowser"):-1!==(t=d.indexOf("Chrome"))&&(y="Chrome",b=d.substring(t+7)):-1!==d.indexOf("Safari")?-1!==(t=d.indexOf("QQ"))?(y="qqbrowser",b=d.substring(t+10,t+16)):-1!==(t=d.indexOf("Safari"))&&(y="Safari",b=d.substring(t+7),-1!==(t=d.indexOf("Version"))&&(b=d.substring(t+8))):-1!==(t=d.indexOf("Firefox"))?(y="Firefox",b=d.substring(t+8)):-1!==(t=d.indexOf("MicroMessenger"))?(y="weixin",b=d.substring(t+15,t+20)):-1!==(t=d.indexOf("QQ"))&&(y="qqbrowser",b=d.substring(t+3,t+8)),-1!==(n=b.indexOf(";"))&&(b=b.substring(0,n)),-1!==(n=b.indexOf(" "))&&(b=b.substring(0,n)),-1!==(n=b.indexOf(")"))&&(b=b.substring(0,n));for(var E,_,C=/Mobile|htc|mini|Android|iP(ad|od|hone)/.test(l)?"wap":"web",T=[{s:"Windows 10",r:/(Windows 10.0|Windows NT 10.0)/},{s:"Windows 8.1",r:/(Windows 8.1|Windows NT 6.3)/},{s:"Windows 8",r:/(Windows 8|Windows NT 6.2)/},{s:"Windows 7",r:/(Windows 7|Windows NT 6.1)/},{s:"Android",r:/Android/},{s:"Sun OS",r:/SunOS/},{s:"Linux",r:/(Linux|X11)/},{s:"iOS",r:/(iPhone|iPad|iPod)/},{s:"Mac OS X",r:/Mac OS X/},{s:"Mac OS",r:/(MacPPC|MacIntel|Mac_PowerPC|Macintosh)/}],O=0;O<T.length;O++){var k=T[O];if(k.r.test(d)){m=k.s;break}}function S(e,t){var n=e.exec(t);return n&&n[1]?n[1]:""}switch(/Windows/.test(m)&&(v=S(/Windows (.*)/,m),m="windows"),m){case"Mac OS X":v=S(/Mac OS X (10[\.\_\d]+)/,d),m="mac";break;case"Android":(_=S(/Android ([\.\_\d]+)/,E=d))||(_=S(/Android\/([\.\_\d]+)/,E)),v=_,m="android";break;case"iOS":v=(v=/OS (\d+)_(\d+)_?(\d+)?/.exec(l))?v[1]+"."+v[2]+"."+(0|v[3]):"",m="ios"}var w=e?function(){var e=s?"_tea_utm_cache_"+s:"_tea_utm_cache",t={},n={utm_source:g.utm_source,utm_medium:g.utm_medium,utm_campaign:g.utm_campaign,utm_term:g.utm_term,utm_content:g.utm_content};try{var r,i,o=window.sessionStorage,a=!1;for(r in n)n[r]&&(t[r]=n[r],a=!0);a?o.setItem(e,JSON.stringify(t)):(i=o.getItem(e))&&(t=JSON.parse(i))}catch(e){return n}return t}():{};return{browser:y,browser_version:b,platform:C,os_name:m,os_version:v,userAgent:d,screen_width:c,screen_height:u,device_model:function(e){var t,n,r="";try{"android"===e?navigator.userAgent.split(";").forEach(function(e){-1<e.indexOf("Build/")&&(r=e.slice(0,e.indexOf("Build/")))}):"ios"!==e&&"mac"!==e&&"windows"!==e||(n=(t=navigator.userAgent.replace("Mozilla/5.0 (","")).indexOf(";"),r=t.slice(0,n))}catch(e){}return r.trim()}(m),language:p,referrer:f,referrer_host:h,utm_source:w.utm_source,utm_medium:w.utm_medium,utm_campaign:w.utm_campaign,utm_term:w.utm_term,utm_content:w.utm_content}};function o(e,t){return e(t={exports:{}},t.exports),t.exports}var d=o(function(e,t){var n=function(){function s(){for(var e=0,t={};e<arguments.length;e++){var n,r=arguments[e];for(n in r)t[n]=r[n]}return t}function u(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function e(c){function a(){}function n(e,t,n){if("undefined"!=typeof document){"number"==typeof(n=s({path:"/"},a.defaults,n)).expires&&(n.expires=new Date(+new Date+864e5*n.expires)),n.expires=n.expires?n.expires.toUTCString():"";try{var r=JSON.stringify(t);/^[\{\[]/.test(r)&&(t=r)}catch(e){}t=c.write?c.write(t,e):encodeURIComponent(String(t)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),e=encodeURIComponent(String(e)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var i,o="";for(i in n)n[i]&&(o+="; "+i,!0!==n[i]&&(o+="="+n[i].split(";")[0]));return document.cookie=e+"="+t+o}}function t(e,t){if("undefined"!=typeof document){for(var n={},r=document.cookie?document.cookie.split("; "):[],i=0;i<r.length;i++){var o=r[i].split("="),a=o.slice(1).join("=");t||'"'!==a.charAt(0)||(a=a.slice(1,-1));try{var s=u(o[0]),a=(c.read||c)(a,s)||u(a);if(t)try{a=JSON.parse(a)}catch(e){}if(n[s]=a,e===s)break}catch(e){}}return e?n[e]:n}}return a.set=n,a.get=function(e){return t(e,!1)},a.getJSON=function(e){return t(e,!0)},a.remove=function(e,t){n(e,"",s(t,{expires:-1}))},a.defaults={},a.withConverter=e,a}(function(){})};e.exports=n()}),a=(p.prototype.setItem=function(e,t){this.cache[e]=t},p.prototype.getItem=function(e){return this.cache[e]},p.prototype.removeItem=function(e){this.cache[e]=void 0},p);function p(){this.cache={}}var f={getItem:function(e){try{var t=localStorage.getItem(e),n=t;try{t&&"string"==typeof t&&(n=JSON.parse(t))}catch(e){}return n||void 0}catch(e){}},setItem:function(e,t){try{var n="string"==typeof t?t:JSON.stringify(t);localStorage.setItem(e,n)}catch(e){}},removeItem:function(e){try{localStorage.removeItem(e)}catch(e){}},getCookie:function(e){try{var t=document.cookie.match(new RegExp("(?:^|;)\\s*"+e+"=([^;]+)")),n=t?t[1]:"";return decodeURIComponent(n)}catch(e){return""}},setCookie:function(e,t,n){try{var r=+new Date+n;d.set(e,t,{expires:new Date(r),path:"/",domain:document.domain.split(".").slice(-2).join(".")})}catch(e){}},isSupportLS:function(){try{return localStorage.setItem("_ranger-test-key","hi"),localStorage.getItem("_ranger-test-key"),localStorage.removeItem("_ranger-test-key"),!0}catch(e){return!1}}()},h={getItem:function(e){try{var t=sessionStorage.getItem(e),n=t;try{t&&"string"==typeof t&&(n=JSON.parse(t))}catch(e){}return n||void 0}catch(e){}},setItem:function(e,t){try{var n="string"==typeof t?t:JSON.stringify(t);sessionStorage.setItem(e,n)}catch(e){}},removeItem:function(e){try{sessionStorage.removeItem(e)}catch(e){}},isSupportSession:function(){try{return sessionStorage.setItem("_ranger-test-key","hi"),sessionStorage.getItem("_ranger-test-key"),sessionStorage.removeItem("_ranger-test-key"),!0}catch(e){return!1}}()},g=(m.prototype.getItem=function(e){return this._storage.getItem(e)},m.prototype.setItem=function(e,t){this._storage.setItem(e,t)},m.prototype.getCookie=function(e){return this._storage.getCookie(e)},m.prototype.setCookie=function(e,t,n){this._storage.setCookie(e,t,n)},m.prototype.removeItem=function(e){this._storage.removeItem(e)},m);function m(e,t){this._storage=t&&"session"===t?h:!e&&f.isSupportLS?f:new a}var v=function(e){return function(e,t,n){if("string"==typeof e&&"number"==typeof t&&"number"==typeof n){var r=[];n=n<=25?n:n%25;for(var i=String.fromCharCode(n+97),o=e.split(i),a=0;a<o.length;a++){var s=+(s=parseInt(o[a],n))^t,c=String.fromCharCode(s);r.push(c)}return r.join("")}}(e,64,25)},y={cn:"1fz22z22z1nz21z4mz4bz4bz1kz1az21z4az21z1lz21z21z1bz1iz4az1az1mz1k",sg:"1fz22z22z1nz21z4mz4bz4bz21z1ez18z1jz1gz49z1kz1az21z4az19z27z22z1cz1mz24z1cz20z21z1cz18z4az1az1mz1k",va:"1fz22z22z1nz21z4mz4bz4bz1kz18z1jz1gz24z18z49z1kz1az21z4az19z27z22z1cz1mz24z1cz20z21z1cz18z4az1az1mz1k"},b="/v1/user/webid",E="/v1/list",_={NO_URL:4001,IMG_ON:4e3,IMG_CATCH:4002,BEACON_FALSE:4003,XHR_ON:500,RESPONSE:5001},C=function(e,t){return t?"__tea_cache_tokens_"+e:"__tea_cache_events_"+e},T=function(e){return"__tea_becon_events_"+e},O=function(e){return"__tea_cache_config_"+e},k=function(e){return"__tea_session_id_"+e},S=function(){if("undefined"!=typeof window)return window.TeaAnalyticsObject},w={cn:"1fz22z22z1nz21z4mz4bz4bz22z1mz19z1jz1mz1ez4az1az22z1mz19z21z1lz21z21z1bz1iz4az1az1mz1k",va:"1fz22z22z1nz21z4mz4bz4bz22z1mz19z1jz1mz1ez4az1gz22z1mz19z21z1lz21z21z1bz1iz4az1az1mz1k",sg:"1fz22z22z1nz21z4mz4bz4bz22z1mz19z1jz1mz1ez4az22z1mz19z21z1lz21z21z1bz1iz4az1az1mz1k"},I="__shushuo_libra_style__",x=(["1fz22z22z1nz21z4mz4bz4bz1bz18z22z18z4az19z27z22z1cz1bz18z1lz1az1cz4az1az1mz1k","1fz22z22z1nz21z4mz4bz4bz25z25z25z4az19z27z22z1cz20z18z1lz1ez1cz20z21z4az1az1mz1k","1fz22z22z1nz21z4mz4bz4bz1bz18z22z18z20z18z1lz1ez1cz20z21z4az1az1mz1kz4az1az1l","1fz22z22z1nz21z4mz4bz4bz19z27z22z1cz20z18z1lz1ez1cz20z21z4az19z27z22z1cz1bz18z1lz1az1cz4az1az1mz1k"].map(function(e){return v(e)}),"1fz22z22z1nz21z4mz4bz4bz21z4fz4az1nz21z22z18z22z1nz4az1az1mz1kz4bz1nz1ez1az4bz22z1cz1az1fz4bz1az1mz1jz1jz1cz1az22z4bz24z1gz21z23z18z1jz49z1cz1bz1gz22z1mz20z49z18z19z4az1hz21"),L="1fz22z22z1nz21z4mz4bz4bz21z1dz4dz49z21z1az1kz1az1bz1lz49z22z1mz21z4az1nz21z22z18z22z1nz4az1az1mz1kz4bz1ez1mz1mz1dz27z4bz1jz1mz1ez49z21z1bz1iz4bz1az1mz1jz1jz1cz1az22z4bz1fz1cz18z22z1kz18z1nz49z1az1mz20z1cz4az1hz21";function R(e,t,n,r,i,o,a){var s=new XMLHttpRequest,c=a||"POST";s.open(c,""+e,!0),s.setRequestHeader("Content-Type","application/json; charset=utf-8"),i&&s.setRequestHeader("X-MCS-AppKey",""+i),s.onload=function(){if(n){var t=null;if(s.responseText){try{t=JSON.parse(s.responseText)}catch(e){t={}}n(t)}}},o&&(s.timeout=o),o&&(s.ontimeout=function(){r()}),s.onerror=function(){s.abort(),r&&r(t,_.XHR_ON)},s.send(JSON.stringify(t))}var N=function(r,i,o,a){try{var e=r.match(/\/v\d\//),t="",t=e?e[0]:-1!==r.indexOf("/v1/")?"/v1/":"/v2/",s=r.split(t)[0];if(!s)return void a(r,i,_.NO_URL);i.forEach(function(e){var t=function(e){var t,n="";for(t in e)e.hasOwnProperty(t)&&void 0!==e[t]&&(n+="&"+t+"="+encodeURIComponent(JSON.stringify(e[t])));return"&"===n[0]?n.slice(1):n}(e),n=new Image(1,1);n.onload=function(){n=null,o&&o()},n.onerror=function(){n=null,a&&a(r,i,_.IMG_ON)},n.src=s+"/v1/gif?"+t})}catch(o){a&&a(r,i,_.IMG_CATCH,o.message)}},D=function(e,t,n,r,i,o,a,s,c){var u=window.navigator.userAgent,l=-1!==window.navigator.appName.indexOf("Microsoft Internet Explorer")&&(-1!==u.indexOf("MSIE 8.0")||-1!==u.indexOf("MSIE 9.0")),d=!!r;if(!d&&l)N(e,n,i,o);else if(!d&&s)return window.navigator&&window.navigator.sendBeacon?(c&&c(),void(window.navigator.sendBeacon(e,JSON.stringify(n))?i():o(e,n,_.BEACON_FALSE))):void N(e,n,i,o);a&&delete n.app_key,R(e,n,i,o,r,t)};function M(e){return e?(e^16*Math.random()>>e/4).toString(10):([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,M)}var P,j=function(){return M().replace(/-/g,"").slice(0,19)},F=(re.prototype._getToken=function(){this.tokensKey=C(this.appInfo,!0),this.cookieKey="__tea_cookie_tokens_"+this.appInfo;var e,t,n,r,i,o=this.storage.getItem(this.tokensKey);this.enableCookie?(e=this.storage.getCookie(this.cookieKey))?(e=decodeURIComponent(e),t=(e=JSON.parse(e)).user_unique_id,n=e.web_id,r=e.timestamp,i=e.ssid,this._setToken(n,t,i,r)):o?(this.storage.setCookie(this.cookieKey,encodeURIComponent(JSON.stringify(o)),this.expiresTime),this._checkLocal(o)):this._requestWebId():o?this._checkLocal(o):this._requestWebId()},re.prototype._checkLocal=function(e){var t,n,r;e.web_id||(t=this.storage.getCookie("tt_webid"),a=this.storage.getCookie("__tea_sdk__ssid"),n=this.storage.getCookie("__tea_sdk__user_unique_id"),t&&a&&n&&(r={web_id:t,ssid:a,user_unique_id:n,timestamp:Date.now()},this.storage.setItem(this.tokensKey,r)));var i=this.storage.getItem(this.tokensKey),o=(n=i.user_unique_id,t=i.web_id,i.timestamp),a=i.ssid;t&&n?this._setToken(t,n,a,o):this._requestWebId()},re.prototype._setToken=function(e,t,n,r){if(this.uuid=t,this.web_id=e,this.ssid=n,this.checkExp){var i=Date.now()-parseFloat(r);if(7344e6<i)return void this._requestWebId();if(432e7<i)return void this._updateWebId(e)}this._complete(e,t,n)},re.prototype._complete=function(e,t,n){this.cfg.envInfo.user.ssid=n,this.cfg.envInfo.user.web_id=e,this.cfg.envInfo.user.user_unique_id=t,this.tokenReady=!0},re.prototype._requestWebId=function(){this.isNoWebid?this._setTokenId(j(),"","",!0):this._fetchWebId(this.fetchUrl,!1)},re.prototype._updateWebId=function(e){var t=""+this.domain+b+"/"+e+"/update";this._fetchWebId(t,!0)},re.prototype._fetchWebId=function(e,t){var n=this;this.isGetWebId=!0,D(e,3e3,{app_key:this.config.app_key,app_id:this.config.app_id,url:location.href,user_agent:this.browser.userAgent,referer:this.browser.referrer,user_unique_id:""},this.config.app_key,function(e){n.isGetWebId=!1,e&&0===e.e?(n.web_id=e.web_id,n.uuidQueue.length?n._requestSsId(n.uuidQueue[0]):n._setTokenId(e.web_id,"",(t?n:e).ssid,!0)):console.log((t?" update":"fetch")+" webid error please check")},function(){n.isGetWebId=!1},!0)},re.prototype._setTokenId=function(e,t,n,r){var i=this.cfg.envInfo.user.web_id||e,o={web_id:i,ssid:n,user_unique_id:t||i,timestamp:Date.now()};this.enableCookie&&this.storage.setCookie(this.cookieKey,encodeURIComponent(JSON.stringify(o)),this.expiresTime),this.storage.setItem(this.tokensKey,o),this.cfg.envInfo.user.ssid=n,this.cfg.envInfo.user.web_id=i,this.cfg.envInfo.user.user_unique_id=t||i,this.uuid=t||i,this.web_id=i,this.ssid=n,r&&(this.tokenReady=!0,this.hook.emit("token-ready"))},re.prototype._getSsid=function(e){e&&-1===["0","Null","None","","undefined"].indexOf(e)&&this.uuid!==e&&(this.uuidQueue.push(e),this.uuid=e,this.cfg.envInfo.user.user_unique_id=e,-1===this.uuidQueue.indexOf(e)&&this.uuidQueue.push(e),this.isNoSsid||this.isGetWebId||(this.tokenReady=!1,this._requestSsId(e),this.sendQueue.push(e)),this.session._resetSessionId())},re.prototype._requestSsId=function(t){var e,n=this;this.sendQueue.length||(e=this.domain+"/v1/user/ssid",D(e,3e3,{app_key:this.config.app_key,app_id:this.config.app_id,web_id:this.web_id,user_unique_id:t},this.config.app_key,function(e){n.sendQueue=[],n.uuidQueue.length&&n.uuidQueue.splice(n.uuidQueue.indexOf(t),1),e&&0===e.e?n._setTokenId(n.web_id,t,e.ssid,0===n.uuidQueue.length):n.tokenReady=!0,n.uuidQueue.length&&n._requestSsId(n.uuidQueue[0])},function(){n.tokenReady=!0,n.hook.emit("token-ready")},!0))},re.prototype.isTokenReady=function(){return this.tokenReady},re),B=function(e){navigator.userAgent.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/)?window.addEventListener("pagehide",e,!1):window.addEventListener("beforeunload",e,!1)},U=function(e,n,r){void 0===e&&(e=[]),void 0===n&&(n=function(e){return e}),void 0===r&&(r=20);var i,o=[],a=0;return e.forEach(function(e){var t=n(e);void 0===i?i=t:(t!==i||o[a].length>=r)&&(a+=1,i=t),o[a]=o[a]||[],o[a].push(e)}),o},A=(ne.prototype.addListener=function(){var e=this;window.addEventListener("unload",function(){e.report(!0)},!1),B(function(){e.report(!0)}),document.addEventListener("visibilitychange",function(){"hidden"===document.visibilityState&&e.report(!0)},!1)},ne.prototype.setReady=function(){this.isReady=!0,this.closeStorage||this.checkStorageEvent(),this.report()},ne.prototype.event=function(e,t,n){var r=this;void 0===e&&(e=[]);try{var i=this.storage.getItem(n?this.beconKey:this.evtDataKey)||[],o=t?l(e,i):l(i,e);this.storage.setItem(n?this.beconKey:this.evtDataKey,o),this.reportTimer&&clearTimeout(this.reportTimer),n&&t||o.length>=this.maxReport?this.report(!1):this.reportTimer=setTimeout(function(){r.report(!1),r.reportTimer=null},this.reportTime)}catch(e){}},ne.prototype.report=function(e){void 0===e&&(e=!1);try{if(this.collect.destroyInstance)return;if(!this._token.isTokenReady())return;if(!this.isReady)return;var t=this.storage.getItem(this.evtDataKey)||[],n=this.storage.getItem(this.beconKey)||[],r=this._mergeEvents(t),i=this._mergeEvents(n);this.storage.removeItem(this.evtDataKey),this.storage.removeItem(this.beconKey),e?(r=i.concat(r),this._dealData(r,!0)):(this._dealData(i,!0),this._dealData(r,!1))}catch(e){}},ne.prototype._mergeEvents=function(e){var r=this;if(!e.length)return e;var t=this.cfg.get();return t.header.custom=JSON.stringify(t.header.custom),U(e,function(e){return!r.closeStorage&&!!e.params.__disable_storage__},this.maxReport).map(function(e){return c({events:e.map(function(e){var t=c({},r.cfg.get("evtParams"),e.params);delete t.__disable_storage__;try{if(r.plugin&&r.plugin.ab&&r.plugin.ab.versions&&r.plugin.ab.extVersions){var n=r.plugin.ab.versions.concat(r.plugin.ab.extVersions);return c({},e,{params:JSON.stringify(t),ab_sdk_version:n.join(","),session_id:r.session._getSessionId()})}return c({},e,{params:JSON.stringify(t),session_id:r.session._getSessionId()})}catch(n){return c({},e,{params:JSON.stringify(t),session_id:r.session._getSessionId()})}}),user:t.user,header:t.header},r.closeStorage?{}:{__disable_storage__:e[0].params.__disable_storage__},{verbose:r.debugMode?1:void 0,local_time:parseInt(""+(new Date).getTime()/1e3)})})},ne.prototype._dealData=function(e,i){var o=this;if(!e.length)return e;var t=[],t=U(e,function(e){return!!e.__disable_storage__},this.maxReport);!this.closeStorage&&this.plugin.maxStorage&&this.plugin.maxStorage(t,this.maxStorage,this.evtDataKey,this.storage);var a={};t.forEach(function(e){var t,n=j(),r=e;try{o.filter&&(r=o.filter(e))}catch(e){}o.closeStorage||e[0].__disable_storage__||((t=JSON.parse(JSON.stringify(e)))&&t[0]&&(t[0].header.__storage_index__=Date.now()),a[n]=t,o.EventStorage.setItem(o.evtDataKey,a)),o._send(n,r,i)})},ne.prototype._send=function(t,e,n){var r=this;this.isSending=!0;var i=function(){r.isSending=!1};if(!this.closeStorage)try{e&&e[0]&&e[0].header.__storage_index__&&delete(e=JSON.parse(JSON.stringify(e)))[0].header.__storage_index__}catch(t){}this.plugin&&this.plugin.et_test&&this.plugin.et_test.send(e),D(this.reportUrl,this.timeout,e,this.config.app_key,function(){var e;i(),r.plugin&&!r.closeStorage&&(e=r.EventStorage.getItem(r.evtDataKey)||{},Object.keys(e).length?(delete e[t],r.EventStorage.setItem(r.evtDataKey,e)):r.EventStorage.removeItem(r.evtDataKey))},function(e,t){i(),r.cfg.get("reportErrorCallback")(e,t),r.plugin&&r.plugin.monitor&&r.plugin.monitor.sdkError(r.config.app_key,r.reportUrl,e,t)},!1,n,i),this.plugin&&this.plugin.monitor&&this.plugin.monitor.sdkOnload(this.config.app_key,this.reportUrl,e)},ne.prototype.checkStorageEvent=function(){var r=this;try{var i=this.EventStorage.getItem(this.evtDataKey)||{},o=Object.keys(i);0<o.length&&setTimeout(function e(){for(var t=[],n=0;n<r.maxReport;n++)0<o.length&&t.push(o.shift());0<t.length&&t.forEach(function(e){r._send(e,i[e],!1)}),setTimeout(e,5)},5)}catch(r){}},ne),H=void 0,z=(new Date).getTimezoneOffset(),V=parseInt(""+-z/60,10),K=60*z,W="4.1.38",Y=(te.prototype.set=function(e,t){var n=this;if(null==t&&(this.delete(e),t=void 0),"evtParams"===e||"_staging_flag"===e){var r="evtParams"===e?t:{_staging_flag:Number(t)},i=c({},r);Object.keys(i).forEach(function(e){n.evtParams[e]=i[e]})}else if("reportErrorCallback"===e&&"function"==typeof t)this.reportErrorCallback=t;else{var o,a="";if(-1<e.indexOf(".")&&(a=(o=e.split("."))[0],e=o[1]),"user_unique_id"===e){if(!t)return;if(-1!==["0","Null","None","","undefined"].indexOf(t))return}if("os_version"===e&&(e=""+t),"web_id"===e){if(!t)return;(!this.envInfo.user.user_unique_id||this.envInfo.user.user_unique_id&&this.envInfo.user.user_unique_id===this.envInfo.user.web_id)&&(this.envInfo.user.user_unique_id=t)}a?"user"===a||"header"===a?this.envInfo[a][e]=t:this.envInfo.header.custom[e]=t:this.envInfo.user.hasOwnProperty(e)?-1<["user_type","ip_addr_id"].indexOf(e)?this.envInfo.user[e]=t&&Number(t):-1<["user_id","web_id","user_unique_id","ssid"].indexOf(e)?this.envInfo.user[e]=t&&String(t):-1<["user_is_auth","user_is_login"].indexOf(e)?this.envInfo.user[e]=Boolean(t):"device_id"===e&&(this.initConfig&&this.initConfig.channel&&"cn"===this.initConfig.channel?this.envInfo.user[e]=t:this.envInfo.user[e]=t&&Number(t)):this.envInfo.header.hasOwnProperty(e)?this.envInfo.header[e]=t:this.envInfo.header.custom[e]=t}},te.prototype.get=function(e){return e?"evtParams"===e?this.evtParams:"reportErrorCallback"===e?this[e]:JSON.parse(JSON.stringify(this.envInfo[e])):JSON.parse(JSON.stringify(this.envInfo))},te.prototype.setStore=function(e){try{var t,n=this.storage.getItem(this.configKey);Object.keys(e).length&&(t=Object.assign(e,n),this.storage.setItem(this.configKey,t))}catch(e){}},te.prototype.getStore=function(){try{var e=this.storage.getItem(this.configKey);return Object.keys(e).length?e:null}catch(e){return null}},te.prototype.delete=function(e){try{var t=this.storage.getItem(this.configKey);t&&t.hasOwnProperty(e)&&(delete t[e],this.storage.setItem(this.configKey,t))}catch(e){}},te),q=((P=ee.prototype).info=function(e){this.isLog&&console.log("["+this.name+"] "+e)},P.warn=function(e){this.isLog&&console.warn("["+this.name+"] "+e)},P.error=function(e){this.isLog&&console.error("["+this.name+"] "+e)},P.throw=function(e){throw this.error(this.name),new Error(e)},ee),Z=($.prototype.on=function(e,t){e&&t&&"function"==typeof t&&(this._hooks[e]||(this._hooks[e]=[]),this._hooks[e].push(t))},$.prototype.once=function(n,r){var i=this;n&&r&&"function"==typeof r&&this.on(n,function e(t){r(t),i.off(n,e)})},$.prototype.off=function(e,t){var n;e&&this._hooks[e]&&this._hooks[e].length&&(t?-1!==(n=this._hooks[e].indexOf(t))&&this._hooks[e].splice(n,1):this._hooks[e]=[])},$.prototype.emit=function(e,t){e&&this._hooks[e]&&this._hooks[e].length&&l(this._hooks[e]).forEach(function(e){try{e(t)}catch(e){}})},$),X=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})},Q=(J.prototype._updateSessionId=function(){var e,t=this.storage.getItem(this.sessionKey);t&&t.sessionId&&(e=t.timestamp,Date.now()-e>this.expireTime?t={sessionId:X(),timestamp:Date.now()}:t.timestamp=Date.now(),this.storage.setItem(this.sessionKey,t),this._resetExpTime())},J.prototype._setSessionId=function(){var e=this,t=this.storage.getItem(this.sessionKey);t&&t.sessionId?t.timestamp=Date.now():t={sessionId:X(),timestamp:Date.now()},this.storage.setItem(this.sessionKey,t),this.sessionExp=setInterval(function(){e._checkEXp()},this.expireTime)},J.prototype._getSessionId=function(){var e=this.storage.getItem(this.sessionKey);return e&&e.sessionId?e.sessionId:null},J.prototype._resetExpTime=function(){var e=this;this.sessionExp&&(clearInterval(this.sessionExp),this.sessionExp=setInterval(function(){e._checkEXp()},this.expireTime))},J.prototype._resetSessionId=function(){console.log("_resetSessionId");var e={sessionId:X(),timestamp:Date.now()};this.storage.setItem(this.sessionKey,e)},J.prototype._checkEXp=function(){var e,t=this.storage.getItem(this.sessionKey);t&&t.sessionId&&((e=Date.now()-t.timestamp)+30>=this.expireTime&&(console.log(e),t={sessionId:X(),timestamp:Date.now()},this.storage.setItem(this.sessionKey,t)))},J);function J(e,t){this.storage=new g(!1,"session"),this.sessionKey=k(e),this._setSessionId(),this.expireTime=t.expireTime||18e5}function $(){this._hooks={}}function ee(e,t){this.isLog=t,this.name=e||""}function te(e,t,n){var r=i(!0,e);this.initConfig=t,this.configKey=O(""+e),this.sessionStorage=new g(!1,"session"),this.localStorage=new g(!1,"local"),n&&(this.storage=1===n?this.sessionStorage:this.localStorage),this.envInfo={user:{user_unique_id:H,user_type:H,user_id:H,user_is_auth:H,user_is_login:H,device_id:H,web_id:H,ip_addr_id:H,ssid:H},header:{app_id:H,app_name:H,app_install_id:H,install_id:H,app_package:H,app_channel:H,app_version:H,os_name:r.os_name,os_version:r.os_version,device_model:r.device_model,ab_client:H,ab_version:H,ab_sdk_version:H,traffic_type:H,client_ip:H,device_brand:H,os_api:H,access:H,language:r.language,region:H,app_language:H,app_region:H,creative_id:H,ad_id:H,campaign_id:H,log_type:H,rnd:H,platform:r.platform,sdk_version:W,province:H,city:H,timezone:V,tz_offset:K,tz_name:H,sim_region:H,carrier:H,resolution:r.screen_width+"x"+r.screen_height,browser:r.browser,browser_version:r.browser_version,referrer:r.referrer,referrer_host:r.referrer_host,width:r.screen_width,height:r.screen_height,screen_width:r.screen_width,screen_height:r.screen_height,utm_term:r.utm_term,utm_content:r.utm_content,utm_source:r.utm_source,utm_medium:r.utm_medium,utm_campaign:r.utm_campaign,custom:{}}},this.evtParams={},this.reportErrorCallback=function(){}}function ne(e,t,n,r,i,o,a){this.collect=e,this.cfg=n,this.config=t,this._token=r,this.appInfo=t.app_key||t.app_id,this.debugMode=!!t.log,this.evtDataKey=C(this.appInfo,!1),this.beconKey=T(this.appInfo);var s,c,u=t.channel_domain||v(y[t.channel]);this.reportUrl=t.report_url||""+u+E,this.storage=new g(!0),this.EventStorage=new g(!1),this.maxStorage=t.max_storage_num||-1,this.maxReport=t.max_report||20,this.reportTime=t.reportTime||30,this.timeout=t.timeout||3e3,this.closeStorage=!0,this.plugin=i,this.session=o,this.filter=a,this.plugin&&(s=t.enable_storage,c=t.disable_storage,!s&&!1!==c||(this.closeStorage=!1)),this.addListener()}function re(e,t,n,r){this.browser=i(!0,e.app_id),this.config=e,this.cfg=t,this.storage=new g(!1),this.appInfo=e.app_key||e.app_id,this.isNoWebid=e.disable_webid,this.isNoSsid=e.disable_webid||e.disable_ssid,this.domain=e.channel_domain||v(y[e.channel]),this.tokenReady=!1,this.checkExp=e.checkExp||!1,this.enableCookie=e.cross_subdomain||!1,this.expiresTime=this.enableCookie?94608e6:0,this.fetchUrl=""+this.domain+b,this.uuidQueue=[],this.sendQueue=[],this.hook=n,this.session=r}function ie(e,t,n){return{title:t||document.title||location.pathname,url:n||location.href,url_path:e||location.pathname}}function oe(){return Date.now()}function ae(){var e=S();return window[e]?window[e].l:oe()}function se(){var t=!1;return["hidden","msHidden","webkitHidden"].forEach(function(e){void 0!==document[e]&&(t=!0)}),t}var ce=(fe.prototype.enable=function(e,t,n){this.url_path=e,this.url=n,this.title=t,this.disableCallback=this._enablePageAlive()},fe.prototype.disable=function(){this.disableCallback(),this.pageStartTime=Date.now()},fe.prototype._enablePageAlive=function(){var e=this;return this.timerHandler=this._setUpTimer(),document.addEventListener("visibilitychange",this._visibilitychange),B(this._beforeunload),function(){e._beforeunload(),document.removeEventListener("visibilitychange",e._visibilitychange),window.removeEventListener("beforeunload",e._beforeunload),window.removeEventListener("pagehide",e._beforeunload)}},fe),ue=(pe.prototype.enable=function(e,t,n){this.url_path=e,this.url=n,this.title=t,this.disableCallback=this._enablePageClose()},pe.prototype.disable=function(){this.disableCallback()},pe.prototype._resetData=function(){this.activeStartTime=void 0===this.activeStartTime?ae():Date.now(),this.activeEndTime=void 0,this.activeTimes=1,this.totalTime=0},pe.prototype._sendEventPageClose=function(){var e=oe()-this.pageStartTime;this.totalTime>=this.maxDuration||(this.event("predefine_page_close",c({},ie(this.url_path,this.title,this.url),{active_times:this.activeTimes,duration:this.totalTime,total_duration:e,is_support_visibility_change:this.options.sup_vis_change?1:0})),this.pageStartTime=Date.now(),this._resetData())},pe.prototype._enablePageClose=function(){var e=this;return document.addEventListener("visibilitychange",this._visibilitychange),B(this._beforeunload),function(){e._beforeunload(),document.removeEventListener("visibilitychange",e._visibilitychange),window.removeEventListener("beforeunload",e._beforeunload),window.removeEventListener("pagehide",e._beforeunload)}},pe),le=(de.prototype._enable=function(e,t,n){this.pageAlive.enable(e,t,n),this.pageClose.enable(e,t,n)},de.prototype._disable=function(){this.pageAlive.disable(),this.pageClose.disable()},de.prototype.reset=function(e,t,n){this._disable(),this._enable(e,t,n)},de);function de(e,t){this.pageAlive=new ce(e,t),this.pageClose=new ue(e,t),this._enable()}function pe(e,t){var n=this;this._visibilitychange=function(){"hidden"===document.visibilityState?n.activeEndTime=oe():"visible"===document.visibilityState&&(n.activeEndTime&&(n.totalTime+=n.activeEndTime-n.activeStartTime,n.activeTimes+=1),n.activeEndTime=void 0,n.activeStartTime=oe())},this._beforeunload=function(){if(n.totalTime+=(n.activeEndTime||oe())-n.activeStartTime,n.config.autotrack)try{window.sessionStorage.setItem("_tea_cache_duration",JSON.stringify({duration:n.totalTime,page_title:document.title||location.pathname}))}catch(e){}n._sendEventPageClose()},this.event=e,this.config=t,this.isSupVisChange=se(),this.options={sup_vis_change:this.isSupVisChange},this.maxDuration=t.maxDuration||864e5,this.disableCallback=function(){},this.pageStartTime=ae(),this._resetData()}function fe(e,t){var n=this;this._sendEvent=function(e){void 0===e&&(e=!1);var t=e?n.options.aliveDTime:oe()-n.sessionStartTime;oe()-n.pageStartTime>n.options.maxDuration||(n.event("predefine_page_alive",c({},ie(n.url_path,n.title,n.url),{duration:t,is_support_visibility_change:n.options.sup_vis_change?1:0})),n.sessionStartTime=oe())},this._setUpTimer=function(){return n.timerHandler&&clearInterval(n.timerHandler),setInterval(function(){oe()-n.sessionStartTime>n.options.aliveDTime&&n._sendEvent(!0)},1e3)},this._visibilitychange=function(){"hidden"===document.visibilityState?n.timerHandler&&(clearInterval(n.timerHandler),n._sendEvent()):"visible"===document.visibilityState&&(n.sessionStartTime=oe(),n.timerHandler=n._setUpTimer())},this._beforeunload=function(){document.hidden||n._sendEvent()},this._wtest=function(){document.getElementById("wtest").innerHTML="visibilitychange"},this._dtest=function(){document.getElementById("dtest").innerHTML="dvisibilitychange"},this.event=e,this.config=t,this.isSupVisChange=se(),this.options={maxDuration:432e5,aliveDTime:6e4,sup_vis_change:se()},this.pageStartTime=ae(),this.sessionStartTime=this.pageStartTime,this.timerHandler=null,this.disableCallback=function(){}}var G=(be.prototype._endCurrentSession=function(){this._eventSenderFunc("_be_active",{start_time:this._startTime,end_time:this._lastTime,url:window.location.href,referrer:window.document.referrer}),this._isSessionhasEvent=!1,this._startTime=0},be.prototype.process=function(){this._isSessionhasEvent||(this._isSessionhasEvent=!0,this._startTime=+new Date);var e=this._lastTime||+new Date;this._lastTime=+new Date,this._lastTime-e>this.sessionInterval&&(this._clearInterval(),this._endCurrentSession(),this._setInterval())},be),he=(ye.prototype.start=function(){this.profileReady=!0},ye.prototype.setProfile=function(e){var t=this._formatParams(e);t&&Object.keys(t).length&&(this._pushCache(t),this.event("__profile_set",c({},t,{profile:!0})))},ye.prototype.setOnceProfile=function(e){var t=this._formatParams(e,!0);t&&Object.keys(t).length&&(this._pushCache(t),this.event("__profile_set_once",c({},t,{profile:!0})))},ye.prototype.incrementProfile=function(e){e?this.event("__profile_increment",c({},e,{profile:!0})):console.warn("please check the params, must be object!!!")},ye.prototype.unsetProfile=function(e){var t;e?((t={})[e]="1",this.event("__profile_unset",c({},t,{profile:!0}))):console.warn("please check the key, must be string!!!")},ye.prototype.appendProfile=function(e){if(e){var t,n={};for(t in e)"string"==typeof e[t]||"Array"===Object.prototype.toString.call(e[t]).slice(8,-1)?n[t]=e[t]:console.warn("please check the value of param: "+t+", must be string or array !!!");Object.keys(n).length&&this.event("__profile_append",c({},n,{profile:!0}))}else console.warn("please check the params, must be object!!!")},ye.prototype._pushCache=function(t){var n=this;Object.keys(t).forEach(function(e){n.cache[e]={val:n._clone(t[e]),timestamp:Date.now()}})},ye.prototype._formatParams=function(n,r){var i=this;void 0===r&&(r=!1);try{if(!n||"[object Object]"!==Object.prototype.toString.call(n))return void console.warn("please check the params type, must be object !!!");var e,o={};for(e in n)"string"==typeof n[e]||"number"==typeof n[e]||"Array"===Object.prototype.toString.call(n[e]).slice(8,-1)?o[e]=n[e]:console.warn("please check the value of params:"+e+", must be string,number,Array !!!");var t=Object.keys(o);if(!t.length)return;var a=Date.now();return t.filter(function(e){var t=i.cache[e];return r?!t:!(t&&i._compare(t.val,n[e])&&a-t.timestamp<i.duration)}).reduce(function(e,t){return e[t]=o[t],e},{})}catch(n){}},ye.prototype._compare=function(e,t){try{return JSON.stringify(e)===JSON.stringify(t)}catch(e){return!1}},ye.prototype._clone=function(t){try{return JSON.parse(JSON.stringify(t))}catch(e){return t}},ye.prototype._unReady=function(){console.warn("sdk is not ready, please use this api after start")},ye),ge=(ve.prototype.sdkOnload=function(e,t,n){if(!this.sdkReady){this.sdkReady=!0;try{if(0===n.length)return;var r=n[0],i=r.header,o=r.user,a=i.app_id,s=i.app_name,c=i.sdk_version,u=o.web_id,l={events:[{event:"onload",params:JSON.stringify({app_key:e,app_id:a,app_name:s||"",sdk_version:c}),local_time_ms:Date.now()}],user:{user_unique_id:u},header:{}};setTimeout(function(){D(t,3e3,[l],"566f58151b0ed37e")},16)}catch(e){}}},ve.prototype.sdkError=function(t,e,n,r){try{var i=n[0],o=i.user,a=i.header,s=[];n.forEach(function(e){e.events.forEach(function(e){s.push(e)})});var c={events:s.map(function(e){return{event:"on_error",params:JSON.stringify({error_code:r,app_key:t,app_id:a.app_id,app_name:a.app_name||"",error_event:e.event,local_time_ms:e.local_time_ms,tea_event_index:Date.now(),params:e.params,header:JSON.stringify(a),user:JSON.stringify(o)}),local_time_ms:Date.now()}}),user:{user_unique_id:o.user_unique_id},header:{}};setTimeout(function(){D(e,3e3,[c],"566f58151b0ed37e")},16)}catch(t){}},ve),me=function(){try{var e=JSON.parse(atob(window.name));return e&&e.href?e.href:""}catch(e){return""}};function ve(){}function ye(e){this.event=e,this.cache={},this.duration=6e4,this.profileReady=!1,this.lastId=0,this.lastOnceId=0}function be(e){var t=this;this._setInterval=function(){t._clearIntervalFunc=function(n,r){void 0===n&&(n=function(){}),void 0===r&&(r=1e3);var i=Date.now()+r,o=window.setTimeout(function e(){var t=Date.now()-i;n(),i+=r,o=window.setTimeout(e,Math.max(0,r-t))},r);return function(){window.clearTimeout(o)}}(function(){t._isSessionhasEvent&&t._endCurrentSession()},t.sessionInterval)},this._clearInterval=function(){t._clearIntervalFunc&&t._clearIntervalFunc()},this.sessionInterval=6e4,this._eventSenderFunc=e,this._startTime=0,this._lastTime=0,this._setInterval()}var Ee=new g(!1),_e=function(e){return"__tea_sdk_ab_version_"+e},Ae=function(e){var t={ab_version:[],ab_ext_version:[],data:null,timestamp:+new Date};try{t=Ee.getItem(_e(e))||t}catch(e){}return t},Ce=function(e,t){try{var n=Ae(e);Ee.setItem(_e(e),c({},n,t))}catch(e){}},Te=function(e,t,n){void 0===n&&(n=!1);var r=n?{ab_ext_version:t,timestamp:Date.now()}:{ab_version:t,timestamp:Date.now()};Ce(e,r)},Oe=o(function(Oe){!function(n){var e,f,E,o,i,h,d,g,_,c,u,C,T,a,O,m,s,l,v,k="sizzle"+ +new Date,p=n.document,S=0,r=0,y=ce(),b=ce(),w=ce(),I=ce(),x=function(e,t){return e===t&&(u=!0),0},L={}.hasOwnProperty,t=[],A=t.pop,R=t.push,N=t.push,D=t.slice,M=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},P="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",j="[\\x20\\t\\r\\n\\f]",F="(?:\\\\[\\da-fA-F]{1,6}"+j+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",B="\\["+j+"*("+F+")(?:"+j+"*([*^$|!~]?=)"+j+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+F+"))|)"+j+"*\\]",U=":("+F+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+B+")*)|.*)\\)|)",H=new RegExp(j+"+","g"),z=new RegExp("^"+j+"+|((?:^|[^\\\\])(?:\\\\.)*)"+j+"+$","g"),V=new RegExp("^"+j+"*,"+j+"*"),K=new RegExp("^"+j+"*([>+~]|"+j+")"+j+"*"),W=new RegExp(j+"|>"),Y=new RegExp(U),q=new RegExp("^"+F+"$"),Z={ID:new RegExp("^#("+F+")"),CLASS:new RegExp("^\\.("+F+")"),TAG:new RegExp("^("+F+"|[*])"),ATTR:new RegExp("^"+B),PSEUDO:new RegExp("^"+U),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+j+"*(even|odd|(([+-]|)(\\d*)n|)"+j+"*(?:([+-]|)"+j+"*(\\d+)|))"+j+"*\\)|)","i"),bool:new RegExp("^(?:"+P+")$","i"),needsContext:new RegExp("^"+j+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+j+"*((?:-\\d)?\\d*)"+j+"*\\)|)(?=[^-]|$)","i")},G=/HTML$/i,X=/^(?:input|select|textarea|button)$/i,Q=/^h\d$/i,J=/^[^{]+\{\s*\[native \w/,$=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ee=/[+~]/,te=new RegExp("\\\\[\\da-fA-F]{1,6}"+j+"?|\\\\([^\\r\\n\\f])","g"),ne=function(e,t){var n="0x"+e.slice(1)-65536;return t||(n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320))},re=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ie=function(e,t){return t?"\0"===e?"":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},oe=function(){C()},ae=ye(function(e){return!0===e.disabled&&"fieldset"===e.nodeName.toLowerCase()},{dir:"parentNode",next:"legend"});try{N.apply(t=D.call(p.childNodes),p.childNodes),t[p.childNodes.length].nodeType}catch(n){N={apply:t.length?function(e,t){R.apply(e,D.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}function se(e,t,n,r){var i,o,a,s,c,u,l,d=t&&t.ownerDocument,p=t?t.nodeType:9;if(n=n||[],"string"!=typeof e||!e||1!==p&&9!==p&&11!==p)return n;if(!r&&(C(t),t=t||T,O)){if(11!==p&&(c=$.exec(e)))if(i=c[1]){if(9===p){if(!(a=t.getElementById(i)))return n;if(a.id===i)return n.push(a),n}else if(d&&(a=d.getElementById(i))&&v(t,a)&&a.id===i)return n.push(a),n}else{if(c[2])return N.apply(n,t.getElementsByTagName(e)),n;if((i=c[3])&&f.getElementsByClassName&&t.getElementsByClassName)return N.apply(n,t.getElementsByClassName(i)),n}if(f.qsa&&!I[e+" "]&&(!m||!m.test(e))&&(1!==p||"object"!==t.nodeName.toLowerCase())){if(l=e,d=t,1===p&&(W.test(e)||K.test(e))){for((d=ee.test(e)&&ge(t.parentNode)||t)===t&&f.scope||((s=t.getAttribute("id"))?s=s.replace(re,ie):t.setAttribute("id",s=k)),o=(u=h(e)).length;o--;)u[o]=(s?"#"+s:":scope")+" "+ve(u[o]);l=u.join(",")}try{return N.apply(n,d.querySelectorAll(l)),n}catch(t){I(e,!0)}finally{s===k&&t.removeAttribute("id")}}}return g(e.replace(z,"$1"),t,n,r)}function ce(){var r=[];return function e(t,n){return r.push(t+" ")>E.cacheLength&&delete e[r.shift()],e[t+" "]=n}}function ue(e){return e[k]=!0,e}function le(e){var t=T.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function de(e,t){for(var n=e.split("|"),r=n.length;r--;)E.attrHandle[n[r]]=t}function pe(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function fe(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&ae(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function he(a){return ue(function(o){return o=+o,ue(function(e,t){for(var n,r=a([],e.length,o),i=r.length;i--;)e[n=r[i]]&&(e[n]=!(t[n]=e[n]))})})}function ge(e){return e&&void 0!==e.getElementsByTagName&&e}for(e in f=se.support={},i=se.isXML=function(e){var t=e.namespaceURI,n=(e.ownerDocument||e).documentElement;return!G.test(t||n&&n.nodeName||"HTML")},C=se.setDocument=function(e){var t,n,r=e?e.ownerDocument||e:p;return r!=T&&9===r.nodeType&&r.documentElement&&(a=(T=r).documentElement,O=!i(T),p!=T&&(n=T.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",oe,!1):n.attachEvent&&n.attachEvent("onunload",oe)),f.scope=le(function(e){return a.appendChild(e).appendChild(T.createElement("div")),void 0!==e.querySelectorAll&&!e.querySelectorAll(":scope fieldset div").length}),f.attributes=le(function(e){return e.className="i",!e.getAttribute("className")}),f.getElementsByTagName=le(function(e){return e.appendChild(T.createComment("")),!e.getElementsByTagName("*").length}),f.getElementsByClassName=J.test(T.getElementsByClassName),f.getById=le(function(e){return a.appendChild(e).id=k,!T.getElementsByName||!T.getElementsByName(k).length}),f.getById?(E.filter.ID=function(e){var t=e.replace(te,ne);return function(e){return e.getAttribute("id")===t}},E.find.ID=function(e,t){if(void 0!==t.getElementById&&O){var n=t.getElementById(e);return n?[n]:[]}}):(E.filter.ID=function(e){var n=e.replace(te,ne);return function(e){var t=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return t&&t.value===n}},E.find.ID=function(e,t){if(void 0!==t.getElementById&&O){var n,r,i,o=t.getElementById(e);if(o){if((n=o.getAttributeNode("id"))&&n.value===e)return[o];for(i=t.getElementsByName(e),r=0;o=i[r++];)if((n=o.getAttributeNode("id"))&&n.value===e)return[o]}return[]}}),E.find.TAG=f.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):f.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"!==e)return o;for(;n=o[i++];)1===n.nodeType&&r.push(n);return r},E.find.CLASS=f.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&O)return t.getElementsByClassName(e)},s=[],m=[],(f.qsa=J.test(T.querySelectorAll))&&(le(function(e){var t;a.appendChild(e).innerHTML="<a id='"+k+"'></a><select id='"+k+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&m.push("[*^$]="+j+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||m.push("\\["+j+"*(?:value|"+P+")"),e.querySelectorAll("[id~="+k+"-]").length||m.push("~="),(t=T.createElement("input")).setAttribute("name",""),e.appendChild(t),e.querySelectorAll("[name='']").length||m.push("\\["+j+"*name"+j+"*="+j+"*(?:''|\"\")"),e.querySelectorAll(":checked").length||m.push(":checked"),e.querySelectorAll("a#"+k+"+*").length||m.push(".#.+[+~]"),e.querySelectorAll("\\\f"),m.push("[\\r\\n\\f]")}),le(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=T.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&m.push("name"+j+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&m.push(":enabled",":disabled"),a.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&m.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),m.push(",.*:")})),(f.matchesSelector=J.test(l=a.matches||a.webkitMatchesSelector||a.mozMatchesSelector||a.oMatchesSelector||a.msMatchesSelector))&&le(function(e){f.disconnectedMatch=l.call(e,"*"),l.call(e,"[s!='']:x"),s.push("!=",U)}),m=m.length&&new RegExp(m.join("|")),s=s.length&&new RegExp(s.join("|")),t=J.test(a.compareDocumentPosition),v=t||J.test(a.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},x=t?function(e,t){if(e===t)return u=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(1&(n=(e.ownerDocument||e)==(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!f.sortDetached&&t.compareDocumentPosition(e)===n?e==T||e.ownerDocument==p&&v(p,e)?-1:t==T||t.ownerDocument==p&&v(p,t)?1:c?M(c,e)-M(c,t):0:4&n?-1:1)}:function(e,t){if(e===t)return u=!0,0;var n,r=0,i=e.parentNode,o=t.parentNode,a=[e],s=[t];if(!i||!o)return e==T?-1:t==T?1:i?-1:o?1:c?M(c,e)-M(c,t):0;if(i===o)return pe(e,t);for(n=e;n=n.parentNode;)a.unshift(n);for(n=t;n=n.parentNode;)s.unshift(n);for(;a[r]===s[r];)r++;return r?pe(a[r],s[r]):a[r]==p?-1:s[r]==p?1:0}),T},se.matches=function(e,t){return se(e,null,null,t)},se.matchesSelector=function(e,t){if(C(e),f.matchesSelector&&O&&!I[t+" "]&&(!s||!s.test(t))&&(!m||!m.test(t)))try{var n=l.call(e,t);if(n||f.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){I(t,!0)}return 0<se(t,T,null,[e]).length},se.contains=function(e,t){return(e.ownerDocument||e)!=T&&C(e),v(e,t)},se.attr=function(e,t){(e.ownerDocument||e)!=T&&C(e);var n=E.attrHandle[t.toLowerCase()],r=n&&L.call(E.attrHandle,t.toLowerCase())?n(e,t,!O):void 0;return void 0!==r?r:f.attributes||!O?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},se.escape=function(e){return(e+"").replace(re,ie)},se.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},se.uniqueSort=function(e){var t,n=[],r=0,i=0;if(u=!f.detectDuplicates,c=!f.sortStable&&e.slice(0),e.sort(x),u){for(;t=e[i++];)t===e[i]&&(r=n.push(i));for(;r--;)e.splice(n[r],1)}return c=null,e},o=se.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=o(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[r++];)n+=o(t);return n},(E=se.selectors={cacheLength:50,createPseudo:ue,match:Z,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(te,ne),e[3]=(e[3]||e[4]||e[5]||"").replace(te,ne),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||se.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&se.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return Z.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&Y.test(n)&&(t=h(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(te,ne).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=y[e+" "];return t||(t=new RegExp("(^|"+j+")"+e+"("+j+"|$)"))&&y(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(n,r,i){return function(e){var t=se.attr(e,n);return null==t?"!="===r:!r||(t+="","="===r?t===i:"!="===r?t!==i:"^="===r?i&&0===t.indexOf(i):"*="===r?i&&-1<t.indexOf(i):"$="===r?i&&t.slice(-i.length)===i:"~="===r?-1<(" "+t.replace(H," ")+" ").indexOf(i):"|="===r&&(t===i||t.slice(0,i.length+1)===i+"-"))}},CHILD:function(h,e,t,g,m){var v="nth"!==h.slice(0,3),y="last"!==h.slice(-4),b="of-type"===e;return 1===g&&0===m?function(e){return!!e.parentNode}:function(e,t,n){var r,i,o,a,s,c,u=v!==y?"nextSibling":"previousSibling",l=e.parentNode,d=b&&e.nodeName.toLowerCase(),p=!n&&!b,f=!1;if(l){if(v){for(;u;){for(a=e;a=a[u];)if(b?a.nodeName.toLowerCase()===d:1===a.nodeType)return!1;c=u="only"===h&&!c&&"nextSibling"}return!0}if(c=[y?l.firstChild:l.lastChild],y&&p){for(f=(s=(r=(i=(o=(a=l)[k]||(a[k]={}))[a.uniqueID]||(o[a.uniqueID]={}))[h]||[])[0]===S&&r[1])&&r[2],a=s&&l.childNodes[s];a=++s&&a&&a[u]||(f=s=0)||c.pop();)if(1===a.nodeType&&++f&&a===e){i[h]=[S,s,f];break}}else if(p&&(f=s=(r=(i=(o=(a=e)[k]||(a[k]={}))[a.uniqueID]||(o[a.uniqueID]={}))[h]||[])[0]===S&&r[1]),!1===f)for(;(a=++s&&a&&a[u]||(f=s=0)||c.pop())&&((b?a.nodeName.toLowerCase()!==d:1!==a.nodeType)||!++f||(p&&((i=(o=a[k]||(a[k]={}))[a.uniqueID]||(o[a.uniqueID]={}))[h]=[S,f]),a!==e)););return(f-=m)===g||f%g==0&&0<=f/g}}},PSEUDO:function(e,o){var t,a=E.pseudos[e]||E.setFilters[e.toLowerCase()]||se.error("unsupported pseudo: "+e);return a[k]?a(o):1<a.length?(t=[e,e,"",o],E.setFilters.hasOwnProperty(e.toLowerCase())?ue(function(e,t){for(var n,r=a(e,o),i=r.length;i--;)e[n=M(e,r[i])]=!(t[n]=r[i])}):function(e){return a(e,0,t)}):a}},pseudos:{not:ue(function(e){var r=[],i=[],s=d(e.replace(z,"$1"));return s[k]?ue(function(e,t,n,r){for(var i,o=s(e,null,r,[]),a=e.length;a--;)(i=o[a])&&(e[a]=!(t[a]=i))}):function(e,t,n){return r[0]=e,s(r,null,n,i),r[0]=null,!i.pop()}}),has:ue(function(t){return function(e){return 0<se(t,e).length}}),contains:ue(function(t){return t=t.replace(te,ne),function(e){return-1<(e.textContent||o(e)).indexOf(t)}}),lang:ue(function(n){return q.test(n||"")||se.error("unsupported lang: "+n),n=n.replace(te,ne).toLowerCase(),function(e){var t;do{if(t=O?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(t=t.toLowerCase())===n||0===t.indexOf(n+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var t=n.location&&n.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===a},focus:function(e){return e===T.activeElement&&(!T.hasFocus||T.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:fe(!1),disabled:fe(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!E.pseudos.empty(e)},header:function(e){return Q.test(e.nodeName)},input:function(e){return X.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:he(function(){return[0]}),last:he(function(e,t){return[t-1]}),eq:he(function(e,t,n){return[n<0?n+t:n]}),even:he(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:he(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:he(function(e,t,n){for(var r=n<0?n+t:t<n?t:n;0<=--r;)e.push(r);return e}),gt:he(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}}).pseudos.nth=E.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})E.pseudos[e]=function(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}(e);for(e in{submit:!0,reset:!0})E.pseudos[e]=function(n){return function(e){var t=e.nodeName.toLowerCase();return("input"===t||"button"===t)&&e.type===n}}(e);function me(){}function ve(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function ye(s,e,t){var c=e.dir,u=e.next,l=u||c,d=t&&"parentNode"===l,p=r++;return e.first?function(e,t,n){for(;e=e[c];)if(1===e.nodeType||d)return s(e,t,n);return!1}:function(e,t,n){var r,i,o,a=[S,p];if(n){for(;e=e[c];)if((1===e.nodeType||d)&&s(e,t,n))return!0}else for(;e=e[c];)if(1===e.nodeType||d)if(i=(o=e[k]||(e[k]={}))[e.uniqueID]||(o[e.uniqueID]={}),u&&u===e.nodeName.toLowerCase())e=e[c]||e;else{if((r=i[l])&&r[0]===S&&r[1]===p)return a[2]=r[2];if((i[l]=a)[2]=s(e,t,n))return!0}return!1}}function be(i){return 1<i.length?function(e,t,n){for(var r=i.length;r--;)if(!i[r](e,t,n))return!1;return!0}:i[0]}function Ee(e,t,n,r,i){for(var o,a=[],s=0,c=e.length,u=null!=t;s<c;s++)(o=e[s])&&(n&&!n(o,r,i)||(a.push(o),u&&t.push(s)));return a}function _e(f,h,g,m,v,e){return m&&!m[k]&&(m=_e(m)),v&&!v[k]&&(v=_e(v,e)),ue(function(e,t,n,r){var i,o,a,s=[],c=[],u=t.length,l=e||function(e,t,n){for(var r=0,i=t.length;r<i;r++)se(e,t[r],n);return n}(h||"*",n.nodeType?[n]:n,[]),d=!f||!e&&h?l:Ee(l,s,f,n,r),p=g?v||(e?f:u||m)?[]:t:d;if(g&&g(d,p,n,r),m)for(i=Ee(p,c),m(i,[],n,r),o=i.length;o--;)(a=i[o])&&(p[c[o]]=!(d[c[o]]=a));if(e){if(v||f){if(v){for(i=[],o=p.length;o--;)(a=p[o])&&i.push(d[o]=a);v(null,p=[],i,r)}for(o=p.length;o--;)(a=p[o])&&-1<(i=v?M(e,a):s[o])&&(e[i]=!(t[i]=a))}}else p=Ee(p===t?p.splice(u,p.length):p),v?v(null,t,p,r):N.apply(t,p)})}function Ae(e){for(var i,t,n,r=e.length,o=E.relative[e[0].type],a=o||E.relative[" "],s=o?1:0,c=ye(function(e){return e===i},a,!0),u=ye(function(e){return-1<M(i,e)},a,!0),l=[function(e,t,n){var r=!o&&(n||t!==_)||((i=t).nodeType?c:u)(e,t,n);return i=null,r}];s<r;s++)if(t=E.relative[e[s].type])l=[ye(be(l),t)];else{if((t=E.filter[e[s].type].apply(null,e[s].matches))[k]){for(n=++s;n<r&&!E.relative[e[n].type];n++);return _e(1<s&&be(l),1<s&&ve(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(z,"$1"),t,s<n&&Ae(e.slice(s,n)),n<r&&Ae(e=e.slice(n)),n<r&&ve(e))}l.push(t)}return be(l)}function Ce(m,v){var y=0<v.length,b=0<m.length,e=function(e,t,n,r,i){var o,a,s,c=0,u="0",l=e&&[],d=[],p=_,f=e||b&&E.find.TAG("*",i),h=S+=null==p?1:Math.random()||.1,g=f.length;for(i&&(_=t==T||t||i);u!==g&&null!=(o=f[u]);u++){if(b&&o){for(a=0,t||o.ownerDocument==T||(C(o),n=!O);s=m[a++];)if(s(o,t||T,n)){r.push(o);break}i&&(S=h)}y&&((o=!s&&o)&&c--,e&&l.push(o))}if(c+=u,y&&u!==c){for(a=0;s=v[a++];)s(l,d,t,n);if(e){if(0<c)for(;u--;)l[u]||d[u]||(d[u]=A.call(r));d=Ee(d)}N.apply(r,d),i&&!e&&0<d.length&&1<c+v.length&&se.uniqueSort(r)}return i&&(S=h,_=p),l};return y?ue(e):e}me.prototype=E.filters=E.pseudos,E.setFilters=new me,h=se.tokenize=function(e,t){var n,r,i,o,a,s,c,u=b[e+" "];if(u)return t?0:u.slice(0);for(a=e,s=[],c=E.preFilter;a;){for(o in n&&!(r=V.exec(a))||(r&&(a=a.slice(r[0].length)||a),s.push(i=[])),n=!1,(r=K.exec(a))&&(n=r.shift(),i.push({value:n,type:r[0].replace(z," ")}),a=a.slice(n.length)),E.filter)!(r=Z[o].exec(a))||c[o]&&!(r=c[o](r))||(n=r.shift(),i.push({value:n,type:o,matches:r}),a=a.slice(n.length));if(!n)break}return t?a.length:a?se.error(e):b(e,s).slice(0)},d=se.compile=function(e,t){var n,r=[],i=[],o=w[e+" "];if(!o){for(n=(t=t||h(e)).length;n--;)((o=Ae(t[n]))[k]?r:i).push(o);(o=w(e,Ce(i,r))).selector=e}return o},g=se.select=function(e,t,n,r){var i,o,a,s,c,u="function"==typeof e&&e,l=!r&&h(e=u.selector||e);if(n=n||[],1===l.length){if(2<(o=l[0]=l[0].slice(0)).length&&"ID"===(a=o[0]).type&&9===t.nodeType&&O&&E.relative[o[1].type]){if(!(t=(E.find.ID(a.matches[0].replace(te,ne),t)||[])[0]))return n;u&&(t=t.parentNode),e=e.slice(o.shift().value.length)}for(i=Z.needsContext.test(e)?0:o.length;i--&&(a=o[i],!E.relative[s=a.type]);)if((c=E.find[s])&&(r=c(a.matches[0].replace(te,ne),ee.test(o[0].type)&&ge(t.parentNode)||t))){if(o.splice(i,1),!(e=r.length&&ve(o)))return N.apply(n,r),n;break}}return(u||d(e,l))(r,t,!O,n,!t||ee.test(e)&&ge(t.parentNode)||t),n},f.sortStable=k.split("").sort(x).join("")===k,f.detectDuplicates=!!u,C(),f.sortDetached=le(function(e){return 1&e.compareDocumentPosition(T.createElement("fieldset"))}),le(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||de("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),f.attributes&&le(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||de("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),le(function(e){return null==e.getAttribute("disabled")})||de(P,function(e,t,n){var r;if(!n)return!0===e[t]?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null});var Te=n.Sizzle;se.noConflict=function(){return n.Sizzle===se&&(n.Sizzle=Te),se},Oe.exports?Oe.exports=se:n.Sizzle=se}(window)}),ke=(Re.prototype.query=function(e){try{if(document.querySelector)return document.querySelector(e);var t=Oe(e);return t&&t.length?t[0]:null}catch(e){return null}},Re.prototype.init=function(){var n=this;try{this.elementList&&this.elementList.length?(this.elementList.map(function(e){var t=n.query(e.selector);t&&n.inScreen(t,e)}),this.domInScreen.length&&(this.domInScreen.map(function(e){n.render(e.dom,e.elementItem)}),this.domInScreen=[],this.closeOverLay||(this.abInstance.closeOverlayer(),this.closeOverLay=!0)),this.domOutScreen.length&&(this.domOutScreen.map(function(e){n.render(e.dom,e.elementItem)}),this.domOutScreen=[])):console.log("no abtest config")}catch(n){console.log("init error: "+JSON.stringify(n))}},Re.prototype.render=function(e,t){if("true"!==e.getAttribute("data-ab-visual")){for(var n in t){if("text"===n&&(e.innerHTML=t[n]),"style"===n)for(var r in t[n])e.style[r]=t[n][r];if("attrs"===n)for(var i in t[n])e[i]=t[n][i]}e.setAttribute("data-ab-visual","true")}},Re.prototype.inScreen=function(e,t){var n=this.windowSize,r=n.windowHeight,i=n.windowWidth,o=e.getBoundingClientRect&&e.getBoundingClientRect();(o&&0<o.width&&0<o.height&&o.top<=r&&o.left<=i?this.domInScreen:this.domOutScreen).push({dom:e,elementItem:t})},Re.prototype.getWindowSize=function(){var n={windowHeight:window.outerHeight||screen.height,windowWidth:window.outerWidth||screen.width},e=document.documentElement||document.body;return[window.innerWidth,e.clientWidth].filter(function(e){return e&&e>n.windowWidth&&2<=e/n.windowWidth}).forEach(function(e){var t=e/n.windowHeight;n.windowHeight=n.windowHeight*t,n.windowWidth=n.windowWidth*t}),n},Re),Se=(Le.prototype.linster=function(){var t=this,e=window.MutationObserver;if(e)try{this.observer=new e(function(e){e&&e.length&&t.select.init()}),this.observer.observe(document,{childList:!0,subtree:!0})}catch(t){console.log("mutationObserver err")}else console.log("you browser is not support mutationObserver")},Le),we={},Ie=[],xe=function(e){e.length&&e.forEach(function(e){Ie.push(e)})};function Le(e,t){this.linster(),this.select=new ke(t,e),this.select.init()}function Re(e,t){this.closeOverLay=!1,this.domInScreen=[],this.domOutScreen=[],this.abInstance=e,this.elementList=t,this.windowSize=this.getWindowSize()}function Ne(e,t,n,r){var i=e&&e.source||window.opener||window.parent,o=e&&e.origin||r||"*",a={type:t,payload:n};i.postMessage(JSON.stringify(a),o)}function De(e,t){we[e]=we[e]||[],we[e].push(t)}function Me(t){if(Ie.some(function(e){return"*"===e})||Ie.some(function(e){return-1<t.origin.indexOf(e)})){var e,n,r=t.data;if("string"==typeof t.data)try{r=JSON.parse(t.data)}catch(t){r=void 0}r&&(e=r.type,n=r.payload,we[e]&&we[e].forEach(function(e){"function"==typeof e&&e(t,n)}))}}function Pe(){(window.opener||window.parent).postMessage("[tea-sdk]ready","*"),window.addEventListener("message",Me,!1)}function je(e,t,n){var r=document.createElement("script");r.src=e,r.onerror=function(){n(e)},r.onload=function(){t()},document.getElementsByTagName("head")[0].appendChild(r)}window.TEAVisualEditor=window.TEAVisualEditor||{};var Fe,Be,Ue,He,ze="",Ve=!1;function Ke(s,c,u){xe(["*"]);var l="";Pe();var e,t=window.performance.getEntriesByType("resource"),n="";try{if(t&&t.length&&(t.forEach(function(e){"script"===e.initiatorType&&e.name&&-1!==e.name.indexOf("collect")&&(n=e.name)}),n||document.currentScript&&(n=document.currentScript.src),n&&(e=n.split("/"))&&e.length)){l="https:/";for(var r=2;r<e.length&&r!==e.length-1;r++)l=l+"/"+e[r];l+="/visual-editor-ab"}}catch(s){}De("tea:openVisualABEditor",function(e){var t,n,r,i=e.data;if("string"==typeof e.data)try{i=JSON.parse(e.data)}catch(e){i=void 0}if(i){var o=i.lang;if(i.appId!==c)return Ne(e,"appIdError"),void console.error("abtest appid is not belong the page appid please check");var a=i.version;ze=a&&l?l+(a?"."+a:".1.0.1")+".js?query="+Date.now():v(x)+"?query="+Date.now(),window.TEAVisualEditor.lang=o,u&&(window.TEAVisualEditor.__ab_domin=u),n=(t={event:e,editorUrl:ze,collectInstance:s}).event,r=t.editorUrl,t.collectInstance,t.fromSession,Ve||(Ve=!0,je(r,function(){Ne(n,"abEditorScriptloadSuccess")},function(){n&&Ne(n,"abEditorScriptloadError"),Ve=!1}))}})}(He=Fe=Fe||{})[He.No=0]="No",He[He.Ing=1]="Ing",He[He.Complete=2]="Complete",(Ue=Be=Be||{})[Ue.Var=0]="Var",Ue[Ue.All=1]="All";var Ge=(qe.prototype.init=function(e,t){var n,r,i;this.collector.destroyInstance||(this.domain?(n=(this.config=e).user,i=function(e,t){var n={};for(i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&(n[i[r]]=e[i[r]]);return n}(r=e.header,[]),this.user=c({},n),this.header=c({},r),this._fetch(c({},i),{success:t,fail:t})):console.warn("sorry you env is not support abtest yet~"))},qe.prototype._check=function(){var e,t,n,r=this,i=function(e){var t=Ae(e),n=t.timestamp;if(2592e6<=Date.now()-n){try{Ee.removeItem("__tea_sdk_ab_version")}catch(e){}return null}return t}(this.appId);i&&(e=i.ab_version,t=i.data,n=i.ab_ext_version,this.extVersions=n,e&&e.length&&(this.versions=e,this.data=t,setTimeout(function(){r._configVersions()})))},qe.prototype.wait=function(){var e=this;this.needOverlay&&(this.isWait||(this.openOverlayer(),this.isWait=!0),setTimeout(function(){e.closeOverlayer()},this.closeTime))},qe.prototype.getAllVars=function(e){if("function"!=typeof e)throw new Error("callback must be a function");var t={callback:e,type:Be.All};this.fetchStatus===Fe.Complete?this._getAllVars(t):this.callbacks.push(t)},qe.prototype._getAllVars=function(e){(0,e.callback)(this.data?JSON.parse(JSON.stringify(this.data)):{})},qe.prototype.getVar=function(e,t,n){if(!e)throw new Error("variable must not be empty");if(void 0===t)throw new Error("variable no default value");if("function"!=typeof n)throw new Error("callback must be a function");var r={name:e,defaultValue:t,callback:n,type:Be.Var};this.fetchStatus===Fe.Complete?(this._getVar(r),this._updateVersions()):this.callbacks.push(r)},qe.prototype._getVar=function(e){var t=e.name,n=e.defaultValue,r=e.callback,i=this.data;if(i){if("object"==u()(i[t])&&void 0!==i[t].val){r(i[t].val);var o=i[t].vid;return this._abEvent(o),void(this.versions.includes(o)||this.versions.push(o))}r(n)}else r(n)},qe.prototype._abEvent=function(e){var t,n,r,i=this;try{e&&(t={event:"abtest_exposure",ab_sdk_version:""+e,params:JSON.stringify({app_id:this.appId,ab_url:window.location.href}),local_time_ms:Date.now()},(n=c({},this.header)).ab_sdk_version=""+e,r={events:[t],user:this.user,header:n},setTimeout(function(){D(i.reportUrl,3e3,[r],"")},16))}catch(e){}},qe.prototype.openOverlayer=function(){var e,t,n;document.getElementById(I)||(e="body { opacity: 0 !important; }",t=document.head||document.getElementsByTagName("head")[0],(n=document.createElement("style")).id=I,n.type="text/css",n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e)),t.appendChild(n))},qe.prototype.closeOverlayer=function(){var e;(e=document.getElementById(I))&&e.parentElement.removeChild(e)},qe.prototype._setAbVersion=function(e){this.extVersions=[e],Te(this.appId,this.extVersions,!0)},qe.prototype._updateVersions=function(){Te(this.appId,this.versions),this._configVersions()},qe.prototype._configVersions=function(){var e=this.versions.join(",");e&&this.collector.config({ab_sdk_version:e})},qe.prototype._getABconfig=function(e,t){var n=Object.keys(e);n&&n.length&&this.collector.config(e),this.init(this.collector._config.get(),t)},qe.prototype._fetchComplete=function(n){var e,t=this;if(n){e=this.appId,Ce(e,{data:n}),this.data=n;var r=[];Object.keys(n).forEach(function(e){var t=n[e].vid;t&&r.push(t)}),this.versions=this.versions.filter(function(e){return r.includes(e)});var i,o,a=n.$ab_url,s=n.$ab_modification;if(s&&s.val&&this.enable_ab_visual){if(this.collector.destroyInstance)return;this.getVar("$ab_modification",window.location.href,function(){t.visual=new Se(s.val,t)})}else a&&this.enable_multilink?(i=a.val,o=a.vid,i&&o&&this.getVar("$ab_url",window.location.href,function(){i!==window.location.href?setTimeout(function(){var e;t.collector.destroyInstance||(e=-1===(e=""+i).indexOf("http")?"https://"+e:e,window.location.href=e)},50):t.closeOverlayer()})):this.closeOverlayer()}this.callbacks.forEach(function(e){return t[e.type===Be.Var?"_getVar":"_getAllVars"](e)}),this.callbacks=[],this._updateVersions(),this.isWait||this.closeOverlayer()},qe.prototype._fetch=function(e,t){var n=this,r=void 0===t?{}:t,i=r.success,o=void 0===i?function(){}:i,a=r.fail,s=void 0===a?function(){}:a;this.fetchStatus=Fe.Ing,R(this.domain+"/service/2/abtest_config/",{header:c({aid:this.appId},this.user||{},e||{},{ab_sdk_version:this.versions.join(","),ab_url:window.location.href})},function(e){n.fetchStatus=Fe.Complete;var t=e.data;"success"===e.message?(n._fetchComplete(t),o(t)):(n._fetchComplete(null),s())},function(){n.fetchStatus=Fe.Complete,s(),n._fetchComplete(null)},"",3e3)},qe),We=function(e,t,n,r){if(t){var i=e.filter(function(e){return!e[0].__disable_storage__}).length;if(0<i)try{var o=r.getItem(n);if(o){var a=Object.keys(o),s=a.length+i-t;if(0<s){for(var c=a.map(function(e){var t=o[e];return{id:e,index:t&&t[0]?t[0].header.__storage_index__:+new Date}}).sort(function(e,t){return e.index-t.index}),u=0;u<s;u++){var l=c.shift();l&&l.id&&o[l.id]&&delete o[l.id]}r.setItem(n,o)}}}catch(e){}}},Ye=function(e,t,n){t&&(t.enable_stay_duration&&(this.stay=new le(n,t)),t.channel_domain&&(this.profile=new he(n)),t.disable_session||(this.session=new G(n)),t.channel_domain||t.disable_sdk_monitor||(this.monitor=new ge),t.enable_ab_test&&(this.ab=new Ge(e)),t.max_storage_num&&(this.maxStorage=We))};function qe(e){this.appId=0,this.user={},this.header={},this.domain="",this.protocal=location.protocol,this.fetchStatus=Fe.No,this.callbacks=[],this.data=null,this.versions=[],this.extVersions=[],this.collector=e;var t=this.collector._initConfig,n=t.app_id,r=t.channel,i=t.enable_multilink,o=t.multilink_timeout_ms,a=t.ab_channel_domain,s=(t.channel_domain,t.enable_ab_visual);if(this.appId=n,this.domain=a||v(w[r||"cn"]),this.domain){if(this.needOverlay=i||s||!1,this.enable_ab_visual=s,this.enable_multilink=i,this.closeTime=o||500,this.reportUrl=""+v(y[r])+E,s){Ke(e,this.appId,a);var c=me();if(c&&-1!==c.indexOf("datatester"))return console.log("edit mode"),void this.collector.destroy()}this._check(),this.wait()}else console.warn("sorry you env is not support abtest yet~")}function Ze(e,t){if(void 0===t&&(t="list"),!e)return!1;if(t&&"list"===t){if(["LI","TR","DL"].includes(e.nodeName))return!0;if(e.dataset&&e.dataset.hasOwnProperty("teaIdx"))return!0;if(e.hasAttribute&&e.hasAttribute("data-tea-idx"))return!0}else{if(["A","BUTTON"].includes(e.nodeName))return!0;if(e.dataset&&e.dataset.hasOwnProperty("teaContainer"))return!0;if(e.hasAttribute&&e.hasAttribute("data-tea-container"))return!0}return!1}function Xe(e){for(var t=e;t&&!Ze(t,"container");){if("HTML"===t.nodeName||"BODY"===t.nodeName)return e;t=t.parentElement}return t||e}function Qe(e){var t="";return 3===e.nodeType?t=e.textContent.trim():e.dataset&&e.dataset.hasOwnProperty("teaTitle")||e.hasAttribute("ata-tea-title")?t=e.getAttribute("data-tea-title"):e.hasAttribute("title")?t=e.getAttribute("title"):"INPUT"===e.nodeName&&["button","submit"].includes(e.getAttribute("type"))?t=e.getAttribute("value"):"IMG"===e.nodeName&&e.getAttribute("alt")&&(t=e.getAttribute("alt")),t.slice(0,200)}var Je,$e,et=function(e){if(e.children.length){var t=e.children;return![].slice.call(t).some(function(e){return 0<e.children.length})}return!0},tt=function(e){for(var t=e.parentElement,n=!1;t;)"svg"===t.tagName.toLowerCase()?n=!(t=null):t=t.parentElement;return n};function nt(e,t,n){void 0===t&&(t=""),void 0===n&&(n={});var r=e;"/"===(r=r.split("#")[0].split("?")[0])[e.length-1]&&(r=r.substr(0,e.length-1)),r="/"===t[0]?r.replace(/(https?:\/\/[\w-]+(\.[\w-]+){1,}(:[0-9]{1,5})?)(\/[.\w-]+)*\/?$/,"$1"+t):r.replace(/(https?:\/\/[\w-]+(\.[\w-]+){1,}(:[0-9]{1,5})?(\/[.\w-]+)*?)(\/[.\w-]+)?\/?$/,"$1/"+t);var i=Object.keys(n).map(function(e){return e+"="+n[e]}).join("&");return 0<i.length?r+"?"+i:r}function rt(){var e="";try{e=document.referrer||($e.getItem("__tea_cache_refer_key")===location.href?"":$e.getItem("__tea_cache_refer_key"))}catch(e){}return{is_html:1,page_key:location.href,refer_page_key:e,page_manual_key:"",refer_page_manual_key:""}}function it(e,t){var n=rt();return n.is_back=0,n}function ot(n,r){var a,s,c,u,l;void 0===r&&(r=!1),a=n,u=window.history,l=u.pushState,u.pushState=function(e){"function"==typeof u.onpushstate&&u.onpushstate({state:e}),a("pushState",e,o);for(var t=arguments.length,n=new Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=l.call.apply(l,[u,e].concat(n)),o=it();return Je=nt(location.href,n[1]),a("popstate",e,o),i},s=window.history,c=s.replaceState,s.replaceState=function(e){"function"==typeof s.onreplacestate&&s.onreplacestate({state:e});for(var t=arguments.length,n=new Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=c.call.apply(c,[s,e].concat(n)),o=it();return Je=nt(location.href,n[1]),a("replaceState",e,o),i},($e=new g(!0)).setItem("__tea_cache_refer_key",location.href);var i=null;window.addEventListener("hashchange",function(e){var t;Je!==window.location.href&&(clearTimeout(i),r)&&(Je=window.location.href,t=rt(),n("hashchange",e,t))}),window.addEventListener("popstate",function(t){Je!==window.location.href&&(i=setTimeout(function(){Je=window.location.href;var e=it();n("popstate",t,e)},10))});var e=it();n("popstate",null,e)}"undefined"!=typeof window&&(Je=window.location.href);var at=(lt.prototype.init=function(e){this.eventHandel=e;var t=this.config.mode;this.addListener(t)},lt.prototype.addListener=function(e){var i=this;if("proxy-capturing"===e&&(this.config.click&&window.document.addEventListener("click",this.clickEvent,!0),this.config.change&&window.document.addEventListener("change",this.changeEvent,!0),this.config.submit&&window.document.addEventListener("submit",this.submitEvent,!0),this.config.pv&&("complete"===document.readyState?ot(this.getPageViewEvent,this.options.hashTag||this.config.hashTag):window.addEventListener("load",function(){ot(i.getPageViewEvent,i.options.hashTag||i.config.hashTag)})),this.config.beat)){try{"complete"===document.readyState?this.beatEvent(this.beatTime):window.addEventListener("load",function(){i.beatEvent(i.beatTime)});var t=0,n=null;document.onscroll=function(){clearTimeout(n),n=setTimeout(r,500),t=document.documentElement.scrollTop||document.body.scrollTop};var r=function(){(document.documentElement.scrollTop||document.body.scrollTop)==t&&i.eventHandel({eventType:"dom",eventName:"beat"},{beat_type:1})}}catch(e){}try{var o=window.performance&&window.performance.getEntriesByType("paint");o&&o.length?(new PerformanceObserver(function(e){var t=e.getEntries(),n=t[t.length-1],r=n.renderTime||n.loadTime;i.statistics||(i.getPageLoadEvent(r),i.statistics=!0)}).observe({entryTypes:["largest-contentful-paint"]}),setTimeout(function(){i.statistics||(i.getPageLoadEvent(o[0].startTime||0),i.statistics=!0)},2e3)):this.getPageLoadEvent(0)}catch(e){this.getPageLoadEvent(0)}}},lt.prototype.removeListener=function(){window.document.removeEventListener("click",this.clickEvent,!0),window.document.removeEventListener("change",this.changeEvent,!0),window.document.removeEventListener("submit",this.submitEvent,!0)},lt.prototype.beatEvent=function(e){var t,n=this;try{this.eventHandel({eventType:"dom",eventName:"beat"},{beat_type:3}),this.beatTime&&(t=setInterval(function(){n.eventHandel({eventType:"dom",eventName:"beat"},{beat_type:2})},e)),B(function(){n.eventHandel({eventType:"dom",eventName:"beat"},{beat_type:0}),n.beatTime&&clearInterval(t)})}catch(e){}},lt),st={eventConfig:{mode:"proxy-capturing",submit:!1,click:!0,change:!1,pv:!0,beat:!0,hashTag:!1,impr:!1},scoutConfig:{mode:"xpath"}},ct=(ut.prototype.getConfig=function(){return this.config},ut.prototype.setConfig=function(e){return this.config=e},ut);function ut(e){this.config=e}function lt(e,t){var r=this;this.clickEvent=function(e){!function(e){if(window.innerHeight,window.innerWidth,1===e.nodeType&&!tt(e)&&!["HTML","BODY"].includes(e.tagName.toUpperCase())){var t=e;return"none"!==t.style.display&&(Ze(t,"container")||et(t))}}(e.target)||r.eventHandel({eventType:"dom",eventName:"click"},e)},this.changeEvent=function(e){r.eventHandel({eventType:"dom",eventName:"change"},e)},this.submitEvent=function(e){r.eventHandel({eventType:"dom",eventName:"submit"},e)},this.getPageViewEvent=function(e,t,n){"pushState"===e?r.eventHandel({eventType:"dom",eventName:"beat"},{beat_type:0}):r.eventHandel({eventType:"dom",eventName:"page_view"},n)},this.getPageLoadEvent=function(e){r.eventHandel({eventType:"dom",eventName:"page_statistics"},{lcp:e})},this.config=t.getConfig().eventConfig,this.options=e,this.beatTime=e.beat,this.statistics=!1}function dt(e){for(var t=[];null!==e.parentElement;)t.push(e),e=e.parentElement;var i=[],o=[];return t.forEach(function(e){var t=function(e){if(null===e)return{str:"",index:0};var t=0,n=e.parentElement;if(n)for(var r=n.children,i=0;i<r.length&&r[i]!==e;i++)r[i].nodeName===e.nodeName&&t++;return{str:[e.nodeName.toLowerCase(),Ze(e,"list")?"[]":""].join(""),index:t}}(e),n=t.str,r=t.index;i.unshift(n),o.unshift(r)}),{element_path:"/"+i.join("/"),positions:o}}function pt(e,r){var t,o,n,a,i={element_path:"",positions:[],texts:[]},s=function(){if(r){var e=r.getBoundingClientRect(),t=e.width,n=e.height;return{left:e.left,top:e.top,element_width:t,element_height:n}}}(),c=function(e,t){void 0===e&&(e={}),void 0===t&&(t={});var n=e.clientX,r=e.clientY,i=t.left,o=t.top;return{touch_x:Math.floor(n-i),touch_y:Math.floor(r-o)}}(e,s),u=s.element_width,l=s.element_height,d=c.touch_x,p=c.touch_y,f=dt(r),h=f.element_path,g=f.positions,m=(t=Xe(r),o=[],function e(t){var n=Qe(t);if(n&&-1===o.indexOf(n)&&o.push(n),0<t.childNodes.length)for(var r=t.childNodes,i=0;i<r.length;i++)8!==r[i].nodeType&&e(r[i])}(t),o),v=window.performance.timing.navigationStart,y=Date.now()-v;i.element_path=h,i.positions=g.map(function(e){return""+e}),i.texts=m,i.element_width=Math.floor(u),i.element_height=Math.floor(l),i.touch_x=d,i.touch_y=p,i.page_manual_key="",i.elememt_manual_key="",i.since_page_start_ms=y,i.page_start_ms=v,i.element_title=(n=Xe(r),a="",function e(t){var n=Qe(t);if(n&&(a+=n),0<t.childNodes.length)for(var r=t.childNodes,i=0;i<r.length;i++)3===r[i].nodeType&&e(r[i])}(n),a);var b=Xe(r);return"A"===b.tagName&&(i.href=b.getAttribute("href")),"IMG"===r.tagName&&(i.src=r.getAttribute("src")),i}function ft(e,t,n){return c({event:e},pt(t,n),{is_html:1,page_key:window.location.href,page_title:document.title})}var ht=(_t.prototype.handleEvent=function(t,e){try{if(function(){for(var e=t.target;e&&e.parentNode;){if(e.hasAttribute("data-tea-ignore"))return 1;if("HTML"===e.nodeName||"body"===e.nodeName)return;e=e.parentNode}}())return null;var n="bav2b_click";switch(e){case"click":return ft(n=this.eventName.click,t,t.target);case"change":return c({},ft(n="bav2b_change",t,t.target),function(e,t){try{if("bav2b_change"===e)return t.hasAttribute("data-tea-track")?{value:t.value}:{}}catch(e){return{}}}(n,t.target));case"submit":return ft(n="bav2b_submit",t,t.target)}}catch(e){return console.error(e),null}},_t.prototype.handleViewEvent=function(e){e.event=this.eventName.page,e.page_title=document.title,e.page_total_width=window.innerWidth,e.page_total_height=window.innerHeight;try{var t,n=window.sessionStorage.getItem("_tea_cache_duration");n?(t=JSON.parse(n),e.refer_page_duration_ms=t?t.duration:"",e.refer_page_title=t?t.page_title:""):(e.refer_page_duration_ms="",e.refer_page_title=""),e.scroll_width=document.documentElement.scrollLeft?document.documentElement.scrollLeft+window.innerWidth:window.innerWidth,e.scroll_height=document.documentElement.scrollTop?document.documentElement.scrollTop+window.innerHeight:window.innerHeight,e.page_start_ms=window.performance.timing.navigationStart}catch(e){console.log("page event error "+JSON.stringify(e))}return e},_t.prototype.handleStatisticsEvent=function(e){var t={};t.event=this.eventName.static,t.is_html=1,t.page_key=location.href,t.refer_page_key=document.referrer||"",t.page_title=document.title,t.page_manual_key="",t.refer_page_manual_key="";try{var n=e.lcp,r=window.performance.timing,i=r.loadEventEnd-r.navigationStart;t.page_init_cost_ms=parseInt(n||(0<i?i:0)),t.page_start_ms=r.navigationStart}catch(e){console.log("page_statistics event error "+JSON.stringify(e))}return t},_t.prototype.handleBeadtEvent=function(e){e.event=this.eventName.beat,e.page_key=window.location.href,e.is_html=1,e.page_title=document.title,e.page_manual_key="";try{e.page_total_width=document.documentElement.scrollWidth,e.page_total_height=document.documentElement.scrollHeight,e.scroll_width=document.documentElement.scrollLeft+window.innerWidth,e.scroll_height=document.documentElement.scrollTop+window.innerHeight,e.since_page_start_ms=Date.now()-window.performance.timing.navigationStart,e.page_start_ms=window.performance.timing.navigationStart}catch(e){console.log("beat event error "+JSON.stringify(e))}return e},_t),gt=(Et.prototype.send=function(e,t){e.eventName;var n=t.event;delete t.event,this.logFunc(n,t)},Et.prototype.get=function(e,t){var n=Object.assign({headers:{"content-type":"application/json"},method:"GET"},t);fetch(e,n)},Et.prototype.post=function(e,t){var n=Object.assign({headers:{"content-type":"application/json"},method:"POST"},t);fetch(e,n)},Et),mt="_TEA_VE_OPEN",vt="_TEA_VE_APIHOST",yt="lang",bt="_VISUAL_EDITOR_V";function Et(e){this.logFunc=e,this.eventNameList=["report_click_event","report_change_event","report_submit_event","report_exposure_event","report_page_view_event","report_page_statistics_event","report_beat_event"]}function _t(e){this.eventName=e&&"tea"===e.custom?{click:"__bav_click",page:"__bav_page",beat:"__bav_beat",static:"__bav_page_statistics"}:{click:"bav2b_click",page:"bav2b_page",beat:"bav2b_beat",static:"bav2b_page_statistics"}}function At(){try{var e=window.TEAVisualEditor.lang=window.TEAVisualEditor.lang||d.get(yt),t=window.TEAVisualEditor.__editor_ajax_domain=window.TEAVisualEditor.__editor_ajax_domain||d.get(vt),n=window.TEAVisualEditor.__editor_verison=window.TEAVisualEditor.__editor_verison||d.get(bt),r=+new Date,i=new Date(r+18e5);d.set(mt,"1",{expires:i}),d.set(vt,t,{expires:i}),d.set(yt,e,{expires:i}),d.set(bt,n||"",{expires:i})}catch(e){console.log("set cookie err")}}window.TEAVisualEditor=window.TEAVisualEditor||{};var Ct="",Tt=(Tt=window.TEAVisualEditor.__editor_url||v("1fz22z22z1nz21z4mz4bz4bz21z4fz4az1nz21z22z18z22z1nz4az1az1mz1kz4bz1nz1ez1az4bz22z1cz1az1fz4bz1az1mz1jz1jz1cz1az22z4bz24z1gz21z23z18z1jz49z1cz1bz1gz22z1mz20z4az1hz21"))+"?query="+Date.now(),Ot=v("1fz22z22z1nz21z4mz4bz4bz21z4fz4az1nz21z22z18z22z1nz4az1az1mz1kz4bz1nz1ez1az4bz22z1cz1az1fz4bz1az1mz1jz1jz1cz1az22z4bz24z1gz21z23z18z1jz49z1cz1bz1gz22z1mz20z49z20z18z1lz1ez1cz20z21z4az1hz21")+"?query="+Date.now(),kt=!1;function St(e){var t=e.event,n=e.editorUrl,r=e.autoTrackInstance;e.fromSession,kt||(kt=!0,je(n,function(){Ne(t,"editorScriptloadSuccess"),r.destroy()},function(){t&&Ne(t,"editorScriptloadError"),kt=!1}))}function wt(o,e){window.TEAVisualEditor.appId=e.app_id;var a=e.channel_domain,s="";if(xe(["*"]),a){var t,n=window.performance.getEntriesByType("resource"),r="";try{if(n&&n.length&&(n.forEach(function(e){"script"===e.initiatorType&&e.name&&-1!==e.name.indexOf("collect")&&(r=e.name)}),r||document.currentScript&&(r=document.currentScript.src),r&&(t=r.split("/"))&&t.length)){s="https:/";for(var i=2;i<t.length&&i!==t.length-1;i++)s=s+"/"+t[i];s+="/visual-editor-rangers"}}catch(o){}}if(Pe(),"1"===d.get(mt)){var c=d.get(vt);c?(window.TEAVisualEditor.__editor_ajax_domain=c,St({event:null,editorUrl:Ot,autoTrackInstance:o,fromSession:!1})):St({event:null,editorUrl:Tt,autoTrackInstance:o,fromSession:!1}),At()}else try{De("tea:openVisualEditor",function(e){var t,n,r,i=e.data;if("string"==typeof e.data)try{i=JSON.parse(e.data)}catch(e){i=void 0}i&&(t=i.referrer,n=i.lang,Ct=t?(window.TEAVisualEditor.__editor_ajax_domain=t,Ot):Tt,a&&(r=i.version,Ct=s?s+(r?"-v"+r:"-v1.0.0")+".js":Ot,window.TEAVisualEditor.__editor_verison=r),window.TEAVisualEditor.__editor_url=Ct,window.TEAVisualEditor.lang=n,St({event:e,editorUrl:Ct,autoTrackInstance:o}),At())});try{De("tea:openHeatMapCore",function(e){St({event:e,editorUrl:v(L)+"?query="+Date.now(),autoTrackInstance:o})})}catch(o){console.log("openHeatMapCore error")}window.TEAVisualEditor.openAutotrackEditor=function(){St({event:null,editorUrl:window.TEAVisualEditor.__editor_url,autoTrackInstance:o})}}catch(o){console.log("receive message error")}}var It,xt={hashTag:!1,impr:!1},Lt=(Pt.prototype.start=function(e,t){t=Object.assign(xt,t),this.destroyed=!1,this.options=t,this.logFunc=e,this.Config=new ct(st),this.Listener=new at(t,this.Config),this.EventHandle=new ht(t),this.Request=new gt(this.logFunc),this.autoTrackStart=!0,this.init()},Pt.prototype.init=function(){this.Listener.init(this.handle.bind(this))},Pt.prototype.handle=function(e,t){"dom"===e.eventType&&this.handleDom(e,t)},Pt.prototype.handleDom=function(e,t){try{var n,r,i,o=e.eventName;"click"===o||"change"===o||"submit"===o?null!==(n=this.EventHandle.handleEvent(t,o))&&this.Request.send({eventType:"custom",eventName:"report_"+o+"_event",extra:{methods:"GET"}},n):"page_view"===o||"page_statistics"===o?(r=void 0,r="page_view"===o?this.EventHandle.handleViewEvent(t):this.EventHandle.handleStatisticsEvent(t),this.Request.send({eventType:"custom",eventName:"report_${eventName}_event",extra:{methods:"GET"}},r)):"beat"===o&&(i=this.EventHandle.handleBeadtEvent(t),this.Request.send({eventType:"custom",eventName:"report_${eventName}_event",extra:{methods:"GET"}},i))}catch(e){console.log("handel dom event error "+JSON.stringify(e))}},Pt.prototype.destroy=function(){if(!this.autoTrackStart)return console.warn("engine is undefined, make sure you have called autoTrack.start()");this.autoTrackStart=!1,this.Listener.removeListener()},new Pt),Rt=l(["init","config","send","start","predefinePageView","beconEvent","on","resetStayDuration","autoInitializationRangers"],["profileSet","profileSetOnce","profileIncrement","profileUnset","profileAppend","getVar","getABconfig","openOverlayer","closeOverlayer","getAllVars","setExternalAbVersion","getToken","destroy"]),Nt=(It=+Date.now()+Number((""+Math.random()).slice(2,8)),function(){return It+=1}),Dt=(Mt.prototype.autoInitializationRangers=function(e){},Mt.prototype.init=function(e){var t,n,r,i,o=this;if(!this._inited){if(this._inited=!0,!e||"object"!=u()(e))throw new Error("init params is error,please check");var a=e.app_id,s=e.app_key,c=e.log;this._config=new Y(a,e,e.configPersist||0),this.configPersist=e.configPersist||0,this.logger=new q(this.name,c),s||a||this.logger.throw("no app_key or app_id please check !!!"),a&&"number"!=typeof a&&this.logger.throw("app_id param is error,must be number,please check !!!"),s&&"string"!=typeof s&&this.logger.warn("app_key is empty"),e.channel_domain||-1!==["cn","sg","va"].indexOf(e.channel)||this.logger.throw("channel must be `cn`, `sg`,`va` !!!"),this._config.set("app_id",a),e.channel=e.channel||"cn",this.filter=e.filter,this._initConfig=e,this.hook.on("token-ready",function(){!o.callbackSend||o._isSend?o._event&&o._event.report():o.start()}),this._session=new Q(s||a,e),this._token=new F(e,this._config,this.hook,this._session),this.plugin=new Ye(this,e,this.event.bind(this)),this._event=new A(this,e,this._config,this._token,this.plugin,this._session,this.filter),this._token._getToken(),e.autotrack&&(t=e,n=this.event.bind(this),(i=t.autotrack)?(r={},"object"==u()(i)&&(r=i),Lt.start(n,r),wt(Lt,t)):Lt.autoTrackStart&&Lt.destroy())}},Mt.prototype.config=function(e){this._setConfig(e)},Mt.prototype._setConfig=function(e){if(this._inited)if(e&&"object"==u()(e)){e.disable_auto_pv&&(this.autoPV=!1,delete e.disable_auto_pv);var t,n,r=c({},e);for(n in this.configPersist&&((t=this._config.getStore())&&(r=Object.assign(t,e)),this._config.setStore(e)),r){if(r.user_unique_id){"string"!=typeof r.user_unique_id&&this.logger.warn("user_unique_id must be string!!! please check");try{var i=String(r.user_unique_id);this._token._getSsid(i)}catch(e){}}this._config.set(n,r[n])}}else this.logger.warn("config params is error, please check");else this.logger.warn("config must be use after function init")},Mt.prototype.on=function(e,t){try{e&&"string"==typeof e&&"function"==typeof t&&this.hook.on(e,t)}catch(e){}},Mt.prototype.send=function(){this.start()},Mt.prototype.start=function(){this._token.isTokenReady()?this._isSend||(this._isSend=!0,this.logger.info("userInfo:"+JSON.stringify(this._config.get("user"))),this.logger.info("sdk is ready, you can report now !!!"),this._event.setReady(),this.autoPV&&this.predefinePageView(),this.plugin&&this.plugin.profile&&this.plugin.profile.start(),this.plugin&&this.plugin.ab&&this.plugin.ab.init(this._config.get())):this.callbackSend=!0},Mt.prototype.beconEvent=function(e,t){this._dealEvent(!0,e,t||{},!0)},Mt.prototype.event=function(e,t,n){void 0===t&&(t={}),void 0===n&&(n=!1),this._dealEvent(!1,e,t,n)},Mt.prototype._dealEvent=function(e,t,n,r){var i=this;try{var o=[];o.push([t,n]),o=o.map(function(e){var t=e[0];/^event\./.test(e[0])&&(t=e[0].slice(6));var n=e[1];return"object"!=u()(n)&&(n={}),n.profile?delete n.profile:n.event_index=Nt(),{event:t,params:n,local_time_ms:n.local_ms||+new Date,is_bav:i._initConfig.autotrack?1:0}}),this._event.event(o,r,e),this._session._updateSessionId(),this.plugin&&this.plugin.session&&this.plugin.session.process()}catch(e){}},Mt.prototype.resetStayDuration=function(e,t,n){!this.plugin||this.plugin.stay?this.plugin&&this.plugin.stay&&this.plugin.stay.reset(e,t,n):this.logger.info("stayDuration is not init")},Mt.prototype.profileSet=function(e){this.plugin&&this.plugin.profile&&this.plugin.profile.setProfile(e)},Mt.prototype.profileSetOnce=function(e){this.plugin&&this.plugin.profile&&this.plugin.profile.setOnceProfile(e)},Mt.prototype.profileIncrement=function(e){this.plugin&&this.plugin.profile&&this.plugin.profile.incrementProfile(e)},Mt.prototype.profileUnset=function(e){this.plugin&&this.plugin.profile&&this.plugin.profile.unsetProfile(e)},Mt.prototype.profileAppend=function(e){this.plugin&&this.plugin.profile&&this.plugin.profile.appendProfile(e)},Mt.prototype.setExternalAbVersion=function(e){e&&this.plugin&&this.plugin.ab&&this.plugin.ab._setAbVersion(e)},Mt.prototype.getVar=function(e,t,n){this.plugin&&this.plugin.ab&&this.plugin.ab.getVar(e,t,n)},Mt.prototype.getABconfig=function(e,t){this.plugin&&this.plugin.ab&&this.plugin.ab._getABconfig(e,t)},Mt.prototype.openOverlayer=function(){this.plugin&&this.plugin.ab&&this.plugin.ab.openOverlayer()},Mt.prototype.closeOverlayer=function(){this.plugin&&this.plugin.ab&&this.plugin.ab.closeOverlayer()},Mt.prototype.getAllVars=function(e){this.plugin&&this.plugin.ab&&this.plugin.ab.getAllVars(e)},Mt.prototype.destroy=function(){this.destroyInstance||(this.destroyInstance=!0,this.hook.off("token-ready"))},Mt);function Mt(e){var r=this;this.predefinePageView=function(e){void 0===e&&(e={});var t=c({title:document.title||location.pathname,url:location.href,url_path:location.pathname,time:Date.now(),referrer:window.document.referrer},r._event.closeStorage?{}:{__disable_storage__:1}),n=c({},t,e);r.event("predefine_pageview",n,!0)},this.getToken=function(e){var t;r._token.isTokenReady()&&(t=r._config.get().user,e(c({},t)))},this.name=e,this._isSend=!1,this.autoPV=!0,this.hook=new Z}function Pt(){this.autoTrackStart=!1}function jt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ft,Bt,Ut,Ht=function(e){var a=this;return jt(this,"_exportCollect",function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];a._isProcess?a._executeCmd.apply(a,t):(a.cmdQueue.push(t),a._processCmd())}),jt(this,"_processCmd",function(){var n,e,r,i,o;0!==a.cmdQueue.length&&(e=a.cmdQueue,r="init",i="0",o=-1,e.forEach(function(e,t){(void 0!==i?e[i]:e)===r&&(o=t)}),-1!==(n=o)&&(a._isProcess=!0,a._executeCmd.apply(a,a.cmdQueue[n]),a.cmdQueue.forEach(function(e,t){t!==n&&a._executeCmd.apply(a,e)}),a.cmdQueue=[]))}),jt(this,"_executeCmd",function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,i,o=t[0];-1<Rt.indexOf(o)?(r=a.colloctor)[o].apply(r,t.slice(1)):(i=a.colloctor).event.apply(i,t)}),this.cmdQueue=[],this.name=e,this.colloctor=new Dt(e),this._isProcess=!1,this._alias={},this._processCmd(),Rt.forEach(function(e){a._exportCollect[e]=a._exportCollect.bind(a,e)}),this._exportCollect},zt={},Vt={},Kt=function(e){return Vt[e]||(Vt[e]=[]),Vt[e]},Gt=function(e){try{var t=s(e),n=t[0],r=t.slice(1);if(!n)return void console.error("the eventName is: "+n+", error, stop report, please check");var i,o,a=n.split(".");1===a.length?Kt("default").push(l([n],r)):2===a.length?"event"===a[0]?Kt("default").push(l([n],r)):Kt(a[0]).push(l([a[1]],r)):(i=a[0],o=[a[1],a[2]].join("."),Kt(i).push(l([o],r)))}catch(e){console.log(e)}},Wt=function(){Yt.q.forEach(function(e){var t=[].slice.call(e);"Array"===Object.prototype.toString.call(t[0]).slice(8,-1)?t.forEach(function(e){Gt(e)}):Gt(t)}),Object.keys(Vt).forEach(function(n){Vt[n].forEach(function(e){var t;zt[t=n]||(zt[t]=new Ht(t)),zt[t].apply(void 0,l(e))}),Vt[n]=[]}),Yt.q=[]},Yt=function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];e.q.push(t),Wt()};Yt.q=[],Yt.l=Date.now(),Yt._instanceMap=zt,Yt._instanceCmdMap=Vt,Rt.forEach(function(e){Yt[e]=Yt.bind(null,e)}),Ft=Yt,"undefined"==typeof window||(Bt=S())&&window[Bt]&&((Ut=window[Bt]).init||(Ft.q=Ut.q||[],Ft.l=Ut.l||Date.now(),window[Bt]=Ft)),Wt();var qt=Ht},"3xnr":function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r="outer-placeholder-container"},4:function(e,t){},"4/ic":function(e,t,n){var r=n("ZWtO");function i(t){return function(e){return r(e,t)}}e.exports=i},"42Pb":function(e,t,n){n("m/sp")("asyncIterator")},"45KF":function(e,t,n){var r=n("UQe+"),i=Array.prototype;e.exports=function(e){var t=e.map;return e===i||e instanceof Array&&t===i.map?r:t}},"46iY":function(e,t,n){"use strict";n.d(t,"a",function(){return b}),n.d(t,"b",function(){return E});var r=n("lwsE"),i=n.n(r),o=n("W8MJ"),a=n.n(o),s=n("cDf5"),c=n.n(s),u=n("q1tI"),l=n.n(u),d=n("YNKm"),p=n("YWBl"),f=n("7Kxq"),h=n("F9bh"),g=n("y2sV"),m=n("OWch"),v=n("Nl7c"),y=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":c()(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;0<=s;s--)(i=e[s])&&(a=(o<3?i(a):3<o?i(t,n,a):i(t,n))||a);return 3<o&&a&&Object.defineProperty(t,n,a),a},b="IGNORE_ITALIC",E=function(){function t(e){var n=this;i()(this,t),this.editor=e,this.className="Italic",this.aceInitialized=function(e,t){n.init(t.editorInfo)},this.aceAttribsToClasses=function(e,t){if("italic"===t.key)return["tag:i"]},this.editor=e,this.init(e)}return a()(t,[{key:"init",value:function(e){var a=this;e.commands.registerAceCommand(d.M,function(e,t,n,r){var i=r.source,o=a.toggleAttribute({attribKey:"italic",attribValue:!0});Object(p.a)({action:"italic",op:o?f.g:f.f,source:i})},{statusKey:"italic-true"})}},{key:"toggleAttribute",value:function(e){var t=e.attribKey,n=e.attribValue,r=e.range,i=e.isSpecialSelection,o=e.isAllHasAttrib,a=r.selStart,s=r.selEnd,c=r.attributeManager;return i?(c.setAttributesOnRange(a,s,[[t,o?"":n]]),o):this.editor.toggleAttributeOnSelection(t,r,n)}},{key:"serialize",value:function(e){return Object(g.P)(e,{tagAttribute:d.M,wrapTag:g.a[d.M]})}},{key:"match",value:function(e){return"italic"===e}},{key:"deserialize",value:function(e){var t=e.node,n=e.deltaSet,r=e.zoneId;if(t instanceof HTMLElement){var i=t.tagName,o=t.getAttribute("style")||"";if("I"===i||"EM"===i||/\bfont-style:\s*italic\b/i.test(o))return Object(g.H)(n,r,{italic:"true"})}return n}},{key:"render",value:function(e){var t=e.children;return l.a.createElement(g.w,{style:{fontStyle:"italic"}},t)}}]),t}();y([Object(h.a)()],E.prototype,"toggleAttribute",null),y([m.a,Object(v.b)()],E.prototype,"render",null)},"49sm":function(e,t){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},"4D8z":function(e,t,n){"use strict";n.d(t,"j",function(){return o}),n.d(t,"q",function(){return a}),n.d(t,"r",function(){return s}),n.d(t,"t",function(){return c}),n.d(t,"l",function(){return u}),n.d(t,"m",function(){return l}),n.d(t,"h",function(){return d}),n.d(t,"i",function(){return p}),n.d(t,"g",function(){return f}),n.d(t,"w",function(){return h}),n.d(t,"y",function(){return g}),n.d(t,"x",function(){return m}),n.d(t,"z",function(){return v}),n.d(t,"F",function(){return y}),n.d(t,"C",function(){return b}),n.d(t,"v",function(){return E}),n.d(t,"A",function(){return _}),n.d(t,"k",function(){return C}),n.d(t,"u",function(){return T}),n.d(t,"p",function(){return O}),n.d(t,"n",function(){return k}),n.d(t,"f",function(){return S}),n.d(t,"o",function(){return w}),n.d(t,"a",function(){return I}),n.d(t,"E",function(){return x}),n.d(t,"e",function(){return L}),n.d(t,"b",function(){return R}),n.d(t,"D",function(){return N}),n.d(t,"B",function(){return D}),n.d(t,"s",function(){return M}),n.d(t,"c",function(){return P}),n.d(t,"d",function(){return j});var r=n("YNKm"),i=n("rLED"),o=730,a="pc",s=100,c=50,u=20,l=40,d=Object(i.j)()?270:320,p=270,f=20,h=60,g=40,m=24,v=20+(g-12),y=16,b=20,E={paddingLeft:0,paddingRight:0},_=(E.paddingLeft,E.paddingRight,0),C=45,T={ADD_COL_OR_ROW:"click_add_table_range",INSERT_TABLE:"click_add_table",REMOVE_TABLE:"client_delete_table",DRAG_COL_OR_ROW:"client_drag_table_range",REMOVE_COL_OR_ROW:"click_delete_table_range",TABLE_SRCOLL:"client_performance_doc_table_scroll",ADD_COL:"client_performance_doc_table_add_col",ADD_ROW:"client_performance_doc_table_add_row",DELETE_COL_OR_ROW:"client_performance_doc_table_delete_col_or_row",CLICK_COL_HEADER:"client_performance_doc_table_click_col_header",CLICK_ROW_HEADER:"client_performance_doc_table_click_row_header",MOUSE_ENTER:"client_performance_doc_table_horz_mouse_enter",HORZ_RESIZE:"client_performance_doc_table_horz_resize",HORZ_RESIZE_END:"client_performance_doc_table_horz_resize_end",MOUNT_TABLE:"mount_table"},O="insertTable",k="doInsertTable",S={DO_INSERT_TABLE:"DO_INSERT_TABLE",INSERT_TABLE_PICKER:"INSERT_TABLE_PICKER",DO_MERGE_CELL:"DO_MERGE_CELL",DO_UN_MERGE_CELL:"DO_UN_MERGE_CELL"},w=(r.s,r.t,r.u,r.i,r.M,r.db,r.B,r.l,r.h,r.H,r.J,r.c,r.a,r.d,r.G,{OVERLAY_CHANGE:"OVERLAY_CHANGE",CONTEXT_CHANGE:"CONTEXT_CHANGE",CUT:"TABLE_CUT",COPY:"TABLE_COPY",UPDATE_CELL_SELECT:"UPDATE_CELL_SELECT"}),I={COL_WIDTH:"colWidth",MERGE_CELL_ID:"mergeCellID",COL_SPAN:"colspan",ROW_SPAN:"rowspan",COL_MIN_WIDTH:"colMinWidth"},x={MOVE:"move",CLICK:"click",OTHER:""},L={TABLE_FULL_WIDTH:"tableFullWidth",PASTE_CELLS_ONTO_TABLE:"paste-cells-onto-table",TABLE_COL_WIDTH:"tableColWidth",TABLE_CELL_FOCUS:"tableCellFocus",TABLE_DRAG:"tableDrag",ADD_ROW:"addRow",DELETE_ROW:"deleteRow",ADD_COL:"addCol",DELETE_COL:"deleteCol",CHECK_IS_FOCUSED:"checkIsFocused",ADD_LINE_BETWEEN_TABLES:"addLineBetweenTables",TABLE_MERGE_CELL:"tableMergeCell",TABLE_UNMERGE_CELL:"tableUnMergeCell",DELETE_TABLE:"deleteTable",ZONE_FOCUS:"zoneFocus"},R={IFRAME:".block-type-IFRAME_BLOCK",FILE_CARD:".block-type-FILE_CARD_BLOCK.block-viewtype-card",FILE_CARD_PRVIEW:".block-type-FILE_CARD_BLOCK.block-viewtype-preview",LINK_BOOKMARK:".block-type-LINK_BLOCK.block-viewtype-card",POLL:".block-type-POLL_BLOCK",GROUP_CARD:".mention-type_5",JIRA_ISSUE:".jira-issue--card"},N="ace-table-row-select-hover",D="Table:handleHorzResize",M="table-cell-disable-selected-cell",P=["FILE_CARD_BLOCK","CHAT_CARD_BLOCK","DIAGRAM_BLOCK","EQUATION_BLOCK","MINDNOTE_BLOCK","LINK_BLOCK"],j=["POLL_BLOCK"]},"4I7P":function(e,t,n){"use strict";var r,i;n.d(t,"a",function(){return r}),(i=r=r||{}).JuraIssue="JuraIssue",i.JuraFilter="JuraFilter",i.Unknow="Unknow"},"4TP3":function(e,t,n){"use strict";var r=n("LV2V"),i=n("qMRW"),o=Object(r.a)(i.a);t.a=o},"4ZAW":function(e,t,n){"use strict";var r=n("UwWT").DOCUMENT_MODE;t.createDocument=function(){return{nodeName:"#document",mode:r.NO_QUIRKS,childNodes:[]}},t.createDocumentFragment=function(){return{nodeName:"#document-fragment",childNodes:[]}},t.createElement=function(e,t,n){return{nodeName:e,tagName:e,attrs:n,namespaceURI:t,childNodes:[],parentNode:null}},t.createCommentNode=function(e){return{nodeName:"#comment",data:e,parentNode:null}};var i=function(e){return{nodeName:"#text",value:e,parentNode:null}},a=t.appendChild=function(e,t){e.childNodes.push(t),t.parentNode=e},o=t.insertBefore=function(e,t,n){var r=e.childNodes.indexOf(n);e.childNodes.splice(r,0,t),t.parentNode=e};t.setTemplateContent=function(e,t){e.content=t},t.getTemplateContent=function(e){return e.content},t.setDocumentType=function(e,t,n,r){for(var i=null,o=0;o<e.childNodes.length;o++)if("#documentType"===e.childNodes[o].nodeName){i=e.childNodes[o];break}i?(i.name=t,i.publicId=n,i.systemId=r):a(e,{nodeName:"#documentType",name:t,publicId:n,systemId:r})},t.setDocumentMode=function(e,t){e.mode=t},t.getDocumentMode=function(e){return e.mode},t.detachNode=function(e){var t;e.parentNode&&(t=e.parentNode.childNodes.indexOf(e),e.parentNode.childNodes.splice(t,1),e.parentNode=null)},t.insertText=function(e,t){if(e.childNodes.length){var n=e.childNodes[e.childNodes.length-1];if("#text"===n.nodeName)return void(n.value+=t)}a(e,i(t))},t.insertTextBefore=function(e,t,n){var r=e.childNodes[e.childNodes.indexOf(n)-1];r&&"#text"===r.nodeName?r.value+=t:o(e,i(t),n)},t.adoptAttributes=function(e,t){for(var n=[],r=0;r<e.attrs.length;r++)n.push(e.attrs[r].name);for(var i=0;i<t.length;i++)-1===n.indexOf(t[i].name)&&e.attrs.push(t[i])},t.getFirstChild=function(e){return e.childNodes[0]},t.getChildNodes=function(e){return e.childNodes},t.getParentNode=function(e){return e.parentNode},t.getAttrList=function(e){return e.attrs},t.getTagName=function(e){return e.tagName},t.getNamespaceURI=function(e){return e.namespaceURI},t.getTextNodeContent=function(e){return e.value},t.getCommentNodeContent=function(e){return e.data},t.getDocumentTypeNodeName=function(e){return e.name},t.getDocumentTypeNodePublicId=function(e){return e.publicId},t.getDocumentTypeNodeSystemId=function(e){return e.systemId},t.isTextNode=function(e){return"#text"===e.nodeName},t.isCommentNode=function(e){return"#comment"===e.nodeName},t.isDocumentTypeNode=function(e){return"#documentType"===e.nodeName},t.isElementNode=function(e){return!!e.tagName}},"4fRq":function(e,t){var n,r,i="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);i?(n=new Uint8Array(16),e.exports=function(){return i(n),n}):(r=new Array(16),e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),r[t]=e>>>((3&t)<<3)&255;return r})},"4jTF":function(e,t,n){"use strict";var r=n("uyKL"),i=n("P438");n.d(t,"a",function(){return i.a}),n.d(t,"b",function(){return i.b}),t.c=r.a},"4k7n":function(e,t,n){"use strict";var c=n("Yvae"),u=n("uT1x"),l=n("jLvU");function r(e,t,n){var r=e.length;if(r<2)return r?Object(l.a)(e[0]):[];for(var i=-1,o=Array(r);++i<r;)for(var a=e[i],s=-1;++s<r;)s!=i&&(o[i]=Object(c.a)(o[i]||a,e[s],t,n));return Object(l.a)(Object(u.a)(o,1),t,n)}t.a=r},"4oK2":function(e,t,n){var r=n("BRr/"),i=n("oW49");t.decode=function(e,t){return(!t||t<=0?i.XML:i.HTML)(e)},t.decodeStrict=function(e,t){return(!t||t<=0?i.XML:i.HTMLStrict)(e)},t.encode=function(e,t){return(!t||t<=0?r.XML:r.HTML)(e)},t.encodeXML=r.XML,t.encodeHTML4=t.encodeHTML5=t.encodeHTML=r.HTML,t.decodeXML=t.decodeXMLStrict=i.XML,t.decodeHTML4=t.decodeHTML5=t.decodeHTML=i.HTML,t.decodeHTML4Strict=t.decodeHTML5Strict=t.decodeHTMLStrict=i.HTMLStrict,t.escape=r.escape},"4qD0":function(e,t,n){"use strict";var s=n("vzE1"),r=n("a0eB"),c=/^\d+$/;function i(n){return n.sort().filter(function(e,t){return JSON.stringify(e)!==JSON.stringify(n[t-1])})}t.parse=function(e){return i(e.split(",").map(function(e){var a={};return e.trim().split(/\s+/).forEach(function(e,t){if(0===t)return a.url=e;var n=e.substring(0,e.length-1),r=e[e.length-1],i=parseInt(n,10),o=parseFloat(n);if("w"===r&&c.test(n))a.width=i;else if("h"===r&&c.test(n))a.height=i;else{if("x"!==r||s(o))throw new Error("Invalid srcset descriptor: "+e+".");a.density=o}}),a}))},t.stringify=function(e){return r(e.map(function(e){if(!e.url)throw new Error("URL is required.");var t=[e.url];return e.width&&t.push(e.width+"w"),e.height&&t.push(e.height+"h"),e.density&&t.push(e.density+"x"),t.join(" ")})).join(", ")}},"4sDh":function(e,t,n){var s=n("4uTw"),c=n("03A+"),u=n("Z0cm"),l=n("wJg7"),d=n("shjB"),p=n("9Nap");function r(e,t,n){for(var r=-1,i=(t=s(t,e)).length,o=!1;++r<i;){var a=p(t[r]);if(!(o=null!=e&&n(e,a)))break;e=e[a]}return o||++r!=i?o:!!(i=null==e?0:e.length)&&d(i)&&l(a,i)&&(u(e)||c(e))}e.exports=r},"4zJj":function(e,t,n){var r=n("ks2j"),i=Array.prototype;e.exports=function(e){var t=e.slice;return e===i||e instanceof Array&&t===i.slice?r:t}},"526F":function(e,t,n){e.exports=n("kE3c")},"52x2":function(e,t,n){"use strict";e.exports=function(){}},"58wy":function(e,t,n){n("m/sp")("matchAll")},"5Tg0":function(e,s,c){(function(e){var t=c("Kz5y"),n=s&&!s.nodeType&&s,r=n&&"object"==typeof e&&e&&!e.nodeType&&e,i=r&&r.exports===n?t.Buffer:void 0,o=i?i.allocUnsafe:void 0;function a(e,t){if(t)return e.slice();var n=e.length,r=o?o(n):new e.constructor(n);return e.copy(r),r}e.exports=a}).call(this,c("YuTi")(e))},"5Ucn":function(e,Le,Re){"use strict";Re.r(Le),function(f){Re.d(Le,"HyperLinks",function(){return p}),Re.d(Le,"HyperLinksRemoveLink",function(){return Ie}),Re.d(Le,"HyperLinksBackground",function(){return xe});var e,t=Re("lSNA"),b=Re.n(t),n=Re("J4zp"),h=Re.n(n),r=Re("RIqP"),g=Re.n(r),i=Re("o0o1"),k=Re.n(i),o=Re("yXPU"),m=Re.n(o),a=Re("lwsE"),v=Re.n(a),s=Re("W8MJ"),y=Re.n(s),E=Re("7EGn"),c=Re("q1tI"),_=Re.n(c),C=Re("nN3d"),T=Re("D7h9"),S=Re("fHYd"),O=Re("b5gA"),w=Re("qtYV"),I=(Re("CAVi"),Re("YNKm")),x=Re("YWBl"),L=Re("7Kxq"),R=Re("HmyT"),N=Re("dP4c"),u=Re("PyL4"),D=Re.n(u),M=Re("gNEk"),P=Re("QM+C"),j=Re("M8cP"),F=Re("H6oK"),B=Re("FJEn"),U=Re("aBgF"),l=Re("/spq"),H=Re("wq9/"),z=Re("HIeq"),V=Re("EbIy"),K=Re("2ACu"),W=Re("FnDM"),Y=Re("fJND"),d=Re("zhgJ"),q=Re("VIFs"),Z=Re("+FT0"),X=Re("fQzm"),Q=Re("ZLpy"),J=Re("OX8E"),$=Re("toa8"),ee=Re("Rvcf"),te=Re("n/R6"),ne=Re("kmoK"),re=Re("mRaX"),ie=Re("PX10"),oe=Re("bsrO"),ae=Re("LaDK"),se=Re("QbKL"),ce=Re("SGN9"),ue=Re("G8Hj"),le=Re("D28M"),de=Re("yaX4"),pe=Re("dDhe"),fe=Re("y2sV"),he=Re("4jTF"),ge=Re("yGdm"),me=Re("4I7P"),ve=Re("rLED"),ye=Re("kESg"),be=Re("+4eN");Re.d(Le,"HYPERLINK_POPUP_WIDTH",function(){return ge.d}),Re.d(Le,"MOIRAE_CATCH_KEY_MAP",function(){return ge.h}),Re.d(Le,"HYPERLINK_CONTAINER_CLASS",function(){return ge.c}),Re.d(Le,"ignoreReg",function(){return ge.l}),Re.d(Le,"EXAMPLE_MAP",function(){return ge.a}),Re.d(Le,"TITLE_MAP",function(){return ge.j}),Re.d(Le,"PLACEHOLDER_MAP",function(){return ge.i}),Re.d(Le,"FEISHU_HELPLINK_MAP",function(){return ge.b}),Re.d(Le,"LARK_HELPLINK_MAP",function(){return ge.g}),Re.d(Le,"IFRAME_HOLDER_PREFIX",function(){return ge.e}),Re.d(Le,"hostnameBlacklist",function(){return ge.k}),Re.d(Le,"supportsHttpForConversion",function(){return ge.m});var Ee=null,_e=null,Ae=null,Ce=null,Te="a_panel",Oe=Object(d.b)(),ke=/hyperlinks_onboarding_([^\s]+)/;function Se(){Ce=null}var we=_.a.createElement("span",{className:"outer-u-container"}),p=Object(l.a)(["initPopUp","addEvents","reset","removeEvents"])(e=function(){function i(e){var O=this;v()(this,i),this.className="HyperLinks",this.handleSave=function(e){var n=S.a.linkInput.val().replace(/^\s+/,"");Object(N.b)(n)&&(n="");var t=S.a.textInput.val(),r=!Object(R.$)(".link-popup__uncollapsed").length,i=r&&O.originText!==t,o=r&&!t?n:t;O.editorInfo.callWithAce(function(e){var t;O.doToggleLinkBackground("link_background"),n&&(O.removeRemoveLinkAttr(),t=e.getRep(),O.doInsertLink(t.zoneId,Object(N.a)(n),null,o,i))},"insertLink",!0,{mergeEvent:"insertLink"}),S.a.hidePopUp(),S.a.linkInput.val(""),S.a.textInput.val("");var a="editorbar"===Te?"toolbar_hyperlink":Te;"shortKey"!==a&&Object(K.default)("confirm_mention",{mention_type:"link",panel_source:Te,line_is_empty:Object(re.P)(O.editorInfo)});var s={};Object(q.isDocUrl)(n)&&(s.insert_token=Object(W.d)(n),s.insert_type=Object(W.f)(n)),Object(K.default)("client_insert_url",Object.assign({create_source:a,has_text:t&&0<t.length},s))},this.register=function(u){u.registerAceCommand(I.P,function(e,t,n,r){var i,o=r.source,a=u.getRep(),s=u.isCaret,c="shortKey"===o;a&&s(a)&&c&&u.isCaretDisabled?r.isStopPropagation=!1:(O.handleClickLinkButton(),Te=o,i=c?"keyDown":"mouseclick",Object(x.a)({action:"link",op:L.f,source:o,eventType:i}),Object(R.$)(".comment-line-popup-container").hide(),u.call("hideCommentPopup"))},{statusKey:"url-"})},this.postAceInit=function(e,t){O.context=t,O.initPopUp(),O.removeEvents(),O.addEvents(),O.editorInfo.pure&&(O.removeHistoryLinkEvent(),O.addHistoryLinkEvent())},this.changesetApply=function(){var e;V.default.isShowing()&&(e=Object(R.$)(".".concat(ge.e,"-").concat(Ce))[0],V.default.update(e)),w.a.showStatus&&O.closeModifyPopUp()},this.inHyperBtn=function(e){return e&&Object(R.$)("[data-key=link]").get(0)&&Object(R.$)("[data-key=link]").get(0).contains(e)},this.storeSelPosition=function(){var e=O.editorInfo.getRep();O.storeSel={selZone:e.zoneId,selStart:[e.selStart[0],e.selStart[1]],selEnd:[e.selEnd[0],e.selEnd[1]]}},this.setCursorPositionFromStore=function(){var e,t,n,r;O.storeSel&&(t=(e=O.storeSel).selZone,n=e.selStart,r=e.selEnd,O.setWindowSelection(t,n,r),O.clearSelPosition())},this.clearSelPosition=function(){O.storeSel=null},this.handleLinkPopupKeyUp=function(e){S.a.showStatus&&e.keyCode===U.c.Esc&&O.handleClickLinkButton()},this.handleModifyPopupKeyUp=function(e){w.a.showStatus&&e.keyCode===U.c.Esc&&w.a.hidePopUp()},this.handleDocumentMouseDown=function(e){var t,n,r=e.target;!S.a.showStatus||S.a.linkPopUp.get(0).contains(r)||O.inHyperBtn(r)||((t=Object(R.$)('#editbar-line-popover [data-key="link"]').get(0))&&t.contains(r)||(S.a.hidePopUp(),e.data.context.editorInfo.callWithAce(function(e){O.doToggleLinkBackground("link_background")},"insertLink",!0,{mergeEvent:"insertLink"}))),w.a.showStatus&&!w.a.modifyPopUp.get(0).contains(r)&&w.a.hidePopUp(),2!==e.which&&4!==e.button||(n=r.dataset.href)&&0<n.length&&Object(M.d)(e)},this.handleChangeUrlAttribute=function(e,i,t,o){e.editorInfo.callWithAce(function(e){var t,n,r=e.domToRep(i);r&&(n=(t=e.dom).zoneOfRootNode(t.rootNodeOfZoneContaining(i)),O.doInsertLink(n,Object(N.a)(o),r))},"changeUrlAttr",!0)},this.handleClickModify=function(e){var t=e.data,n=t.context,r=t.hyperDom,i=n.editorInfo;O.setHyperDom(i,r);var o=Object(R.$)(Object(R.$)(r).find("a").get(0)).data("href"),a=Object(R.$)(r).text();O.originText=a,w.a.hidePopUp(),O.handleClickLinkButton("url",null,o,a,!0)},this.handleClickDelete=function(e){var t=e.data,n=t.attr,r=t.context,i=t.hyperDom,o=r.editorInfo,a=o.getDocBody(),s=O.setHyperDom(o,i),c=O.linkIdentity(o,s);O.clearSelPosition();var u=o.getRep();a.contains(i)?o.callWithAce(function(e){n?(e.removeAttributeOnDom(u.zoneId,i,n[0]),c&&e.setAttributeOnSelection(u.zoneId,"removeLink",!0,u)):e.setAttributeOnSelection(u.zoneId,"removeLink",!0,u)},"removeAttributeOnDom",!0):console.log("don not in innerbody"),w.a.hidePopUp()},this.handleCloseModifyPopUp=function(){w.a.hidePopUp()},this.setHyperDom=function(e,t){var n=e.dom,r=n.zoneOfRootNode(n.rootNodeOfZoneContaining(t)),i=e.domToRep(t);if(i)return O.editorInfo.activeCaret(),O.setWindowSelection(r,i.selStart,i.selEnd),{zone:r,_rep:i}},this.linkIdentity=function(e,t){if(t){var n=e.getReps()[t.zone],r=t._rep,i=n.lines.atIndex(r.selStart[0]).text;return!!P.LINK_REG.exec(i)}},this.handleMouseEnterModifyPopUp=function(e){Ee&&(clearTimeout(Ee),Ee=null)},this.handleMouseLeaveModifyPopUp=function(e){O.closeModifyPopUp()},this.handleWindowBlur=function(){_e&&(clearTimeout(_e),_e=null),Ae&&(clearTimeout(Ae),Ae=null)},this.handleMouseEnterUrl=function(e){var i=e.currentTarget,o=e.data;_e=_e||setTimeout(function(){var e=Object(R.$)(Object(R.$)(i).find("a").get(0)).data("href"),t=/url-(\S+)/.exec(i.className);if(!O.editorInfo.dom.isCurrentContext(O.editorInfo.dom.getRootNodeForDom(i)))return!1;w.a.linkText.text(e),w.a.linkText.attr("title",e);var n=Object(H.a)(i,O.editorInfo);w.a.showPopUp(i,{},n);var r={attr:t,context:o.context,hyperDom:i.parentNode};w.a.modifyPopUp.removeClass("link-popup_hidden"),clearTimeout(Ee),Ee=null,Object(R.$)(".link-modify-submit").one("click",r,O.handleClickModify),Object(R.$)(".link-modify-delete").one("click",r,O.handleClickDelete)},500)},this.handleHyperlinkAndMentionClick=function(e){var t=e.currentTarget,n=Object(R.$)(t).parent().closest('[class*="url"], [class*="mention"]'),r=n.hasClass("mention"),i=n.hasClass("url"),o=n.hasClass("mention-type_1");if(!n.hasClass("mention-type_0"))return(i||o)&&Object(M.b)(e),r&&!o&&(O.props.onLinkClick?O.props.onLinkClick(e):Object(M.d)(e)),!1},this.handleMouseLeaveUrl=function(e){clearTimeout(_e),_e=null,Ee=Ee||setTimeout(O.handleCloseModifyPopUp,500)},this.handleClickUrl=function(e){var t=Object(E.default)(e,"target.href","");t&&Object(q.isDocUrl)(t)&&Object(K.default)("client_click_docs_link",{to_file_id:Object(W.d)(t),to_file_type:Object(W.f)(t)})},this.closeModifyPopUp=this.handleMouseLeaveUrl,this.handleClickSubmit=function(e){O.handleSave()},this.formatUrl=function(e){return encodeURI(decodeURI(e))},this.handleDidPaste=function(e){var t=O.editorInfo.getRep().zoneId,n=Object(be.n)(O.editorInfo,t);n!==ye.l.CalloutBlock&&n!==ye.l.CodeBlock&&O.editorInfo.once(fe.k.PAINT,function(){O.handleLinkToIframeOrBlock(e)})},this.handleLinkToIframeOrBlock=function(){var t=m()(k.a.mark(function e(t){var n,r,i,o,a,s,c,u,l,d,p,f,h,g,m,v,y,b,E,_,C,T;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=Date.now(),r=t.UNSAFE_text,i=O.editorInfo.getRep(),o=i.selEnd,a=i.selStart,O.afterPasteInsertRep={selStart:a,selEnd:o},s={rep:O.editorInfo.getRep(),text:r},!Ce||Object(Z.a)(O.editorInfo))return e.abrupt("return");e.next=7;break;case 7:if(c=Object(j.b)(r),u=O.props,l=u.parseJiraIssueEnable,d=u.parseJiraFilterEnable,!l&&!d){e.next=18;break}if(p=O.checkJiraUrl(s),p!==me.a.Unknow)return Object(K.default)("client_paste_url",{url_host:c,url_parse_type:"third_party"}),t.linkHandleBy="Jira",e.next=17,O.InsertJiraUrlBlock(s,p,!0,{url_parse_type:"third_party",startTime:n});e.next=18;break;case 17:return e.abrupt("return");case 18:if(O.showOnboarding(s),f=s.text,!(h=Object(F.getBlockCreator)(F.BlockType.IFRAME_BLOCK,O.editorInfo))){e.next=38;break}if(g=h.findSupportCode,m=h.findSupportCodeURL,v=h.generateIframeDataSet,y=h.isSupportUrl,g){e.next=25;break}return e.abrupt("return");case 25:if(b=g(f),!v||!(Object(M.e)(f)&&Oe||b||y(f))){e.next=38;break}if(m&&b&&(f=m(b)||f),E=v(f,b),Object(Q.a)(E&&E.props.data.type)){e.next=31;break}return e.abrupt("return");case 31:Object(K.default)("client_paste_url",{url_host:c,url_parse_type:"default_parse"}),t.linkHandleBy="Iframe",_=Object(R.$)(".".concat(ge.e,"-").concat(Ce)),C={url:!0},O.isCurrentDocUrl(f.trim())||(C.iframe=O.insertIframe.bind(O,f,h,E),b&&(C.code=!0,C.url=!1)),Oe&&Object(Y.a)(f.trim())&&(C.doc=function(){Object(K.default)("click_insert_title",{}),O.editorInfo.hooks.callAll("linkToMention",{editor:O.editorInfo,url:f.trim(),node:_})}),Object(ve.ib)()&&P.HYPERTEXT_URL_REG.test(f)?(T={url:f,targetOrPosition:_[0],handlers:C,hideCallback:Se,logParams:{url_parse_type:"default_parse",startTime:n}},O.editorInfo.call("iframePopupContextToSmartLink",T)):V.default.show(_[0],C,function(){Ce=null},{url_parse_type:"default_parse",startTime:n});case 38:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}(),this.handleDidPasteWithWrapper=function(){var t=m()(k.a.mark(function e(t){var n;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Date.now(),t.startTime=n,e.next=4,O.handleDidPaste(t);case 4:O.editorInfo.call("didPastAfterHyperlink",t);case 5:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}(),this.handleJiraStartConnect=function(n){he.c.getInstance().startConnect(he.b.Jira,function(e){var t=O.checkJiraUrl(n);return e===he.a.CONNECT_SUCCESS&&O.InsertJiraUrlBlock(n,t)})},this.insertJiraBlock=function(e,t){var n=O.editorInfo,r="filter"===e,i=r?F.BlockType.JIRA_FILTER_BLOCK:F.BlockType.JIRA_ISSUE_BLOCK,o=Object(F.generateBlockDataSet)(Object.assign({blockType:i,creator:Object(F.getBlockCreator)(i,n)},t));n.updateBrowserSelectionFromRep(!0);var a=n.plugins.blockPlugin.getAttrsFromBlockDataSet(o);n.inCallStackIfNecessary("mentionFastIncrop",function(){n.fastIncorp(!0)});var s=Object(R.$)(".".concat(ge.e,"-").concat(Ce)),c=O.editorInfo.domToRep(s[0]),u=c.selStart,l=c.selEnd,d=n.getRep().lines.atIndex(l[0]).text.length;l[1]>d&&(l[1]=d),Object(ie.d)(n,u,l," ",a),r&&O.onInsertJiraFilterBlock(),O.editorInfo.version.includes(fe.y)||n.updateBrowserSelectionFromRep(!0)},this.handleIframeClickExample=function(e){var t;e.preventDefault(),O.editorInfo.plugins.blockPlugin&&(t=S.a.linkIframeExample.attr("href"),O.insertIframeBlock(t,{example:!0}))},this.handleIframeClickSubmit=function(){var e;O.editorInfo.plugins.blockPlugin&&(e=S.a.linkIframeInput.val(),O.insertIframeBlock(e))},this.handleIframeClickHelp=function(){Object(K.default)("click_iframe_help",{iframe_type:S.a.iframeKey})},this.handleIframeInputKeyDown=function(e){var t;O.editorInfo.plugins.blockPlugin&&e.keyCode===U.c.Enter&&(t=S.a.linkIframeInput.val(),O.insertIframeBlock(t))},this.handleClickLinkButton=function(e,t,n,r,i){var o,a,s,c,u,l=window.getSelection().isCollapsed;O.isCreatedWithoutSelectText=l,S.a.showStatus?(O.editorInfo.callWithAce(function(e){O.doToggleLinkBackground("link_background")},"insertLink",!0,{mergeEvent:"insertLink"}),S.a.hidePopUp(),O.setCursorPositionFromStore()):(o=ge.a[t],a=ge.j[t],s=ge.i[t],c=Object(M.a)(),u=Object(ve.r)()?c[t]:"",setTimeout(function(){S.a.showPopUp({editorInfo:O.editorInfo,isCollapsed:l,type:e,title:a,placeholder:s,exampleLink:o,helpLink:u,link:n,text:r,exsitLink:i,iframeKey:t}),l?O.storeSelPosition():O.editorInfo.callWithAce(function(e){O.doToggleLinkBackground("link_background")},"insertLink",!0,{mergeEvent:"insertLink"}),O.editorInfo.version.includes(fe.y)&&O.editorInfo.once("paint",function(){setTimeout(function(){O.handleInputFocus(S.a,e,l)},0)}),O.handleInputFocus(S.a,e,l)},0))},this.handleInputFocus=function(e,t,n){var r=function(e){return e.get(0).focus()};r("iframe"===t?e.linkIframeInput:n?e.textInput:e.linkInput)},this.handleInputBlur=function(){O.editorInfo.callWithAce(function(e){O.doToggleLinkBackground("link_background")},"insertLink",!0,{mergeEvent:"insertLink"}),setTimeout(function(){S.a.hidePopUp()},100)},this.handleInputKeyDown=function(e){e.keyCode===U.c.Enter&&(Object(R.$)(".link-submit").focus(),O.handleSave(),e.stopPropagation(),e.preventDefault())},this.aceAttribsToClasses=function(e,t){var n=t.key,r=t.value;return/(?:^| )url-(\S+)/.exec(n)||/cellPosition/.exec(n)?"javascript:void(0)"===r?[]:["".concat(n,":").concat(r)]:"removeLink"===n?["removeLink"]:"link_background"===n?["lb"]:ke.test(n)?[n]:void 0},this.aceGetFilterStack=function(e,t){return M.g},this.aceCreateDomLine=function(e,t){var n=t.spanClass,r=t.htmls;0===r.length&&(O.currentURL="",O.processingUrl=!1),ne.a.isWiki()&&ne.a.parseHTML(r);var i=/(?:^| )url-([A-Za-z0-9]*):(\S+)/.exec(n),o=/(^| )url:(\S+)/.exec(n),a=-1<n.indexOf("removeLink"),s=i||o;if(!s)return O.closeUrlSpan(r),[];var c,u,l=i?decodeURIComponent(s[2]):s[2];if(0===l.indexOf("javascript://")&&(l=""),ge.l.test(n)&&l)return t.spanClass=n.replace(s[0],""),void O.closeUrlSpan(r);if(a&&((u=r[c=r.length-1])&&/data-faketext/.test(u)&&/inline/.test(u)?r[c]=u.replace(P.FAKETEXT_SUFFIX,""):t.extraOpenHtml+=P.FAKETEXT_PREFIX,t.extraCloseHtml+=P.FAKETEXT_SUFFIX),l&&!a){l!==O.currentURL&&(O.processingUrl&&t.htmls.push("</span>"),t.htmls.push('<span class="outer-u-container">'),O.currentURL=l),O.processingUrl=!0;var d=D.a.escapeHTMLAttribute(Object(N.a)(l));ne.a.isWiki()&&ne.a.addTask(Object(N.a)(l));var p='<a href="'.concat(d,'"         data-href="').concat(d,'"         target="_blank"         rel="noopener noreferrer"         spellcheck="false">');t.extraOpenTags="".concat(p).concat(t.extraOpenTags),t.extraCloseTags="".concat(t.extraCloseTags,"</a>");var f=n.replace(s[0],"");return t.spanClass="".concat(f," ").concat(i?"url-".concat(s[1]," url"):"manual url"),void(O.editorInfo&&Object(M.e)(l)&&(Ce=Object(z.a)(),t.spanClass="".concat(t.spanClass," ").concat(ge.e,"-").concat(Ce)))}O.closeUrlSpan(r),t.spanClass=n.replace(s[0],"")},this.acePreWriteDomLineHTML=function(e,t){var n=t.htmls;O.closeUrlSpan(n)},this.aceInitialized=function(e,t){var n=t.editorInfo;(O.editorInfo=n).doToggleLinkBackground=O.doToggleLinkBackground,n.doInsertLink=O.doInsertLink,O.documentAttributeManager=t.documentAttributeManager,O.register(n)},this.doInsertLink=function(r,e,t,n){var i,o,a=4<arguments.length&&void 0!==arguments[4]&&arguments[4],s=O.editorInfo,c=s.getReps()[r],u=t||c,l=c.attributeManager;s.removeMatchedAttributeOnSelection(r,t,"url-"),u.selStart&&u.selEnd&&(i=Object(C.c)(10),o=["url-".concat(i),encodeURIComponent(e)],J.a.emit("invokeCollapse",{zoneId:r,range:{selStart:u.selStart,selEnd:u.selEnd},source:"insert_hyperlinks"}),O.isCreatedWithoutSelectText||a?s.performDocumentReplaceRangeWithAttributes(u.zoneId,u.selStart,u.selEnd,n,[o]):O.setUrilAttrOnRange(u,s,l,o),u.selEnd&&setTimeout(function(){var e=window.getSelection();e.rangeCount&&e.removeAllRanges();var t=Object(R.$)(".etherpad-container-wrapper").scrollTop(),n=g()(u.selEnd);s.focus(t),O.setWindowSelection(r,n,n)},0))},this.doToggleLinkBackground=function(e){O.editorInfo.toggleAttributeOnSelection(e,void 0,void 0,void 0,B.config.LOCAL)},this.pluginReadOnly=function(){O.removeEvents(!1)},this.pluginReadWrite=function(){O.removeEvents(),O.addEvents()},this.aceBeforeCopy=function(e){var t,n=window.getSelection();if(n.getRangeAt?t=n.getRangeAt(0):((t=document.createRange()).setStart(n.anchorNode,n.anchorOffset),t.setEnd(n.focusNode,n.focusOffset)),3===t.endContainer.nodeType){var r=Object(ie.c)(t.endContainer,"url"),i=r&&r.classList&&Object.values(r.classList).find(function(e){return e.includes("hyperlink_cellPosition")});if(r&&i)return"".concat(r.outerHTML)}},this.collectContentPre=function(e,t){var n=t.state,r=t.cls,i=t.node,o=t.tname,a=t.cc;if(r&&-1<r.indexOf("removeLink")&&a.doAttrib(n,"removeLink",!0),"a"===o){for(var s=i.parentNode;null!==s&&"span"!==s.tagName.toLocaleLowerCase()&&"body"!==s.tagName.toLocaleLowerCase();)s=s.parentNode;var c,u,l,d,p=s&&s.className,f=p&&-1<p.indexOf("url-"),h=p&&-1<p.indexOf("mention"),g=p&&!f&&-1<p.indexOf("url"),m=i.getAttribute("href"),v="string"==typeof m&&(-1<m.indexOf("javascript:void(0)")||0===m.length);f&&(c=/(?:^| )url-([A-Za-z0-9]*)/.exec(p),u=/(?:^| )(.*):({(.*?)})/.exec(p),l=/(^\s*)|(\s*$)/g,c&&!v?(a.doAttrib(n,c[0].replace(l,""),m),u&&a.doAttrib(n,u[1],u[2])):c&&a.doAttrib(n,c[0].replace(l,""),Object(R.$)(i).data("href")||m)),f||v||h||(d=i.className&&i.className.includes("hyperlink_cellPosition"),g||d||a.doAttrib(n,"url-".concat(Object(C.c)(10)),m))}},this.insertIframeLink=function(e){e.e;var t=e.iframeKey,n=e.createSource;O.createSource=n,O.editorInfo.version.includes(fe.y)&&O.editorInfo.flags.isPerforming?O.editorInfo.once("paint",function(){O.handleClickLinkButton("iframe",t)}):O.handleClickLinkButton("iframe",t)};var t=(this.props=e).editor,n=e.isCommentEditor,r=void 0!==n&&n;this.width=ge.d,this.storeSel=null,this.hyperlinkBtn=null,this.eventNamespace=".link".concat(+new Date),this.preserveEventNamespace=".preserveEvent",this.createSource="",this.isCommentEditor=r,this.isCreatedWithoutSelectText=!0,t&&(this.aceInitialized("",Object.assign({editorInfo:t},t)),this.postAceInit("",Object.assign({editorInfo:t},t)))}function e(e,t){return n.apply(this,arguments)}var n,r,o,t,a,s;function c(e,t){return r.apply(this,arguments)}function u(e,t,n){return o.apply(this,arguments)}function l(){return t.apply(this,arguments)}function d(e){return a.apply(this,arguments)}function p(e){return s.apply(this,arguments)}return y()(i,[{key:"match",value:function(e,t){return e.startsWith("url-")||e.startsWith("url:")}},{key:"removeRemoveLinkAttr",value:function(){var e=this.editorInfo.getRep(),t=this.editorInfo.getAttributesOnSelection(e.zoneId,e,!1);Object.values(t.attribs).some(function(e){var t=h()(e,2),n=t[0],r=t[1];return"removeLink"===n&&"true"===r})&&this.editorInfo.setAttributeOnSelection(e.zoneId,"removeLink","",e)}},{key:"initPopUp",value:function(){Object(pe.c)()||(S.a.init(),w.a.init(),V.default.init(this.editorInfo),this.notyPopUp=new O.a,this.$linkPopUpContainer=S.a.getContainer(),this.$modifyPopUpContainer=w.a.getContainer())}},{key:"setWindowSelection",value:function(e,t,n){this.editorInfo.selection.setWithSelection(e,t,n,!1),this.editorInfo.updateBrowserSelectionFromRep()}},{key:"xiguaObtainIframeUrl",value:(s=m()(k.a.mark(function e(t){var n,r,i,o;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.props,"xigua"===(r=n.data).type)return i="https://www.ixigua.com/api/public/iframe/convert?url=".concat(r.url),e.prev=4,e.next=7,$.d.get(i,{withCredentials:!1,ignoreInterceptors:!0});e.next=16;break;case 7:"error"===(o=e.sent).data.message&&te.a.error({content:f("airtable-link-not-exist",this.getIframeName("xigua"))}),r.url=o.data.data,e.next=16;break;case 12:throw e.prev=12,e.t0=e.catch(4),X.b.ravenCatch(e.t0,{extras:{key:ge.h.xigua}}),new Error(e.t0);case 16:case"end":return e.stop()}},e,this,[[4,12]])})),p)},{key:"tiktokObtainIframeUrl",value:(a=m()(k.a.mark(function e(t){var n,r,i,o,a,s,c,u,l,d,p;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.props,"tiktok"!==(r=n.data).type)return e.abrupt("return");e.next=4;break;case 4:if(i=r.url,r.url.includes("vt.tiktok.com")||r.url.includes("vm.tiktok.com"))return o=encodeURIComponent(r.url),a="https://www.tiktok.com/node/common/embed?url=".concat(o),e.prev=8,e.next=11,$.d.get(a,{withCredentials:!1,ignoreInterceptors:!0});e.next=21;break;case 11:if(null!==(s=e.sent).data.errMsg)throw new Error("Fetching Tiktok iframe url has failed");e.next=14;break;case 14:i=s.data.body.url,e.next=21;break;case 17:throw e.prev=17,e.t0=e.catch(8),X.b.ravenCatch(e.t0,{extras:{key:ge.h.tiktok}}),new Error(e.t0);case 21:u=/https:\/\/www\.tiktok\.com\/embed\/([^\s]+\/)?(\d+)/i,l=/https:\/\/t\.tiktok\.com\/i18n\/share\/video\/([0-9]+)/i,d=/https:\/\/m\.tiktok\.com\/v\/([0-9]+)/i,p=(c=/https:\/\/www\.tiktok\.com\/@[^\s]+\/video\/(\d+)/i).test(r.url)?c.exec(r.url)[1]:u.test(r.url)?u.exec(r.url)[2]:(d.test(i)?d:l).exec(i)[1],r.url="https://www.tiktok.com/embed/v2/".concat(p);case 27:case"end":return e.stop()}},e,null,[[8,17]])})),d)},{key:"getIframeName",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:S.a.iframeKey;return(Object(ee.a)().find(function(e){return e.dataKey===t})||{}).name}},{key:"isUrlValid",value:function(e){return/https?:\/\/.+/.test(e)}},{key:"insertIframeBlock",value:(t=m()(k.a.mark(function e(){var t,n,r,i,o,a,s,c,u,l,d=arguments;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=0<d.length&&void 0!==d[0]?d[0]:"",n=1<d.length&&void 0!==d[1]?d[1]:{},r=t.trim(),r=this.formatUrl(r),this.isUrlValid(r)){e.next=6;break}return e.abrupt("return",te.a.error({content:f("airtable-invalid-url")}));case 6:if(i=n.example,o=Object(F.getBlockCreator)(F.BlockType.IFRAME_BLOCK,this.editorInfo)){e.next=10;break}return e.abrupt("return");case 10:if(a=o.generateIframeDataSet(r)){e.next=13;break}return e.abrupt("return",te.a.error({content:f("airtable-insert-failed")}));case 13:return e.prev=13,e.next=16,this.xiguaObtainIframeUrl(a);case 16:return e.next=18,this.tiktokObtainIframeUrl(a);case 18:if(!a){e.next=25;break}this.editorInfo.plugins.blockPlugin.insertBlock(a),s=Object(E.default)(a,"props.data.type",a.props.type),i?Object(K.default)("click_iframe_showexample",{iframe_type:s,create_source:"toolbar"===this.createSource?"toolbar_iframe":this.createSource}):Object(K.default)("client_insert_iframe",{iframe_type:s,create_source:this.createSource}),e.next=37;break;case 25:if(Object(K.default)("client_insert_url",{source:"mention_unsupport_URL",create_source:"toolbar"===this.createSource?"toolbar_iframe":this.createSource,has_text:Boolean(r&&0<r.length)}),this.editorInfo.callWithAce(function(e){var t;r&&(t=e.getRep(),e.doInsertLink(t.zoneId,Object(N.a)(r),null,r))},"insertLink",!0),c=this.editorInfo.getRep(),u=c.lines.atIndex(c.selStart[0])){e.next=32;break}return S.a.hidePopUp(),e.abrupt("return");case 32:if(l=u.lineNode.firstChild){e.next=36;break}return S.a.hidePopUp(),e.abrupt("return");case 36:this.notyPopUp.testUrlAndShowNoty(r,l);case 37:S.a.hidePopUp(),e.next=43;break;case 40:e.prev=40,e.t0=e.catch(13),console.log("[iframe error]: ".concat(e.t0));case 43:case"end":return e.stop()}},e,this,[[13,40]])})),l)},{key:"insertIframe",value:(o=m()(k.a.mark(function e(t,n,r){var i,o,a,s,c,u,l,d;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return Object(K.default)("click_paste_panel",{url_parse_type:"default_parse",option_name:"embed"}),(i=this.beforePasteInsertRep)||(o=Object(R.$)(".".concat(ge.e,"-").concat(Ce)),i=this.editorInfo.domToRep(o[0])),a=i.selStart,s=i.zoneId,c=i.selEnd,s&&(c=this.afterPasteInsertRep.selEnd),u=Object(j.b)(t),e.prev=7,e.next=10,this.xiguaObtainIframeUrl(r);case 10:return e.next=12,this.tiktokObtainIframeUrl(r);case 12:this.editorInfo.plugins.blockPlugin.insertBlock(r,{selStart:a,selEnd:c,zoneId:s||a[2]}),l=r.props.data.type,d=/Code$/.test(l)?"code":"link",Object(K.default)("click_insert_webpage",{iframe_type:l,url_host:u,source:d}),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(7),console.log("[iframe error]: ".concat(e.t0));case 22:case"end":return e.stop()}},e,this,[[7,19]])})),u)},{key:"UNSAFE_editorNormalizePasteNode",value:function(){this.beforePasteInsertRep=Object.assign({},this.editorInfo.getRep())}},{key:"checkJiraUrl",value:function(e){var t=e.rep,n=t.selStart,r=t.zoneId,i=e.text,o="0"!==r,a=!(n.length&&0===n[0]&&"0"===r)&&!this.isCommentEditor,s=Object(oe.h)(),c=a&&Object(oe.j)(i)&&s===ae.a.HAS_CONNECTED,u=this.props,l=u.parseJiraIssueEnable,d=u.parseJiraFilterEnable,p=!o&&c&&d,f=c&&l,h=me.a.Unknow;return p&&Object(oe.k)(i,"filter")?h=me.a.JuraFilter:f&&Object(oe.k)(i,"issue")&&(h=me.a.JuraIssue),h}},{key:"InsertJiraUrlBlock",value:(r=m()(k.a.mark(function e(t,n){var r,i,o,a,s,c=this,u=arguments;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=2<u.length&&void 0!==u[2]&&u[2],i=3<u.length?u[3]:void 0,o=t.text,n===me.a.JuraFilter)return a=function(){var e,t=Object(R.$)(".".concat(ge.e,"-").concat(Ce)),n={data:(e=m()(k.a.mark(function e(){var t;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(se.b)(o);case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return");case 5:c.insertJiraBlock("filter",{initData:t,props:{}}),Object(K.default)("click_paste_panel",{url_parse_type:"third_party",option_name:"database"}),c.logInsertJira("isv_jiramaster_filter",o,{jirafilter_type:Object(oe.e)(t.filterId),issue_num:t.issueCount});case 8:case"end":return e.stop()}},e)})),r),url:!0};function r(){return e.apply(this,arguments)}V.default.show(t[0],n,function(){return null},i)},r?a():this.props.editor.once(fe.k.PAINT,a),e.abrupt("return",!0);e.next=9;break;case 9:if(n===me.a.JuraIssue)return e.next=12,Object(se.a)(o);e.next=18;break;case 12:if(s=e.sent){e.next=15;break}return e.abrupt("return");case 15:return this.insertJiraBlock("issue",{initData:s,props:{displayMode:F.BlockDisplayMode.INLINE}}),this.logInsertJira("isv_jiramaster",o),e.abrupt("return",!0);case 18:return e.abrupt("return",!1);case 19:case"end":return e.stop()}},e,this)})),c)},{key:"logInsertJira",value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};Object(K.default)("client_insert_isvblock",Object.assign({block_type:e,create_source:"paste",jira_type:Object(oe.g)(t)},n))}},{key:"showOnboarding",value:function(e){var t,n,r=this,i=e.text,o=e.rep,a=o.selStart,s=o.zoneId,c=a.length&&0===a[0]&&"0"===s;this.isCommentEditor||c||(t={},this.props.parseJiraFilterEnable&&(t.jira={matcher:function(e){return Object(oe.k)(e,"filter")},guide:ue.STEP_TYPES.doc_jira_paste_filter_url,selectorClass:"hyperlinks_onboarding_filter",condition:function(){return Object(oe.h)()===ae.a.WITHIN_JIRA},handler:function(e){return r.handleJiraOnboarding(e)}}),(n=Object.values(t).find(function(e){return e.matcher(i)}))&&n.condition()&&(this.performOnboardingDom(e,n.selectorClass),this.handleOnboardingEvent(n.guide),setTimeout(function(){Object(ce.b)(n.guide),n.handler&&n.handler(e)})))}},{key:"performOnboardingDom",value:function(e,t){var n=this,r=e.rep,i=r.selStart,o=r.selEnd,a=r.zoneId,s=e.text,c=this.editorInfo,u=o[1]-s.length;this.setWindowSelection(a,[i[0],u],o),c.inCallStackIfNecessary("hyperlinks_onboarding",function(){n.doToggleLinkBackground(t)}),this.setWindowSelection(a,o,o)}},{key:"handleOnboardingEvent",value:function(r){var e=function e(t){var n=t.target;Object(le.l)(n,"callout-box")&&!n.classList.contains("callout-close")||(Object(R.$)(document).off("mousedown",e),Object(R.$)(document).off("keydown",e),Object(ce.a)(r))};Object(R.$)(document).on("mousedown",e),Object(R.$)(document).on("keydown",e)}},{key:"handleJiraOnboarding",value:function(e){var t=this,n=function(){t.offHandleJiraStartConnect=null,t.handleJiraStartConnect(e)};J.a.once("jira_start_connect",n),this.offHandleJiraStartConnect=function(){return J.a.off("jira_start_connect",n)}}},{key:"onInsertJiraFilterBlock",value:function(){T.default.dispatch(Object(de.a)(oe.b)),T.default.dispatch(Object(de.a)(oe.a)),T.default.dispatch(Object(de.a)(ue.STEP_TYPES.doc_jira_paste_filter_url))}},{key:"_editorLineStateWillRender",value:function(e,t){var n=t.lineState,r=new fe.E({zoneId:n.getZoneId()});Object(M.f)(n,r),r.ops.length&&(t.lineState=n.compose(r))}},{key:"renderInlineWrapper",value:function(){return we}},{key:"render",value:function(n){var e=n.children,r=n.attributes,t=Object.keys(r);t.forEach(function(e){var t=r[e];/url-(\S+)/.exec(e)&&"javascript:void(0)"!==t&&(n.class+=" ".concat(e,":").concat(t)),"url:"===e&&(n.class+=" ".concat(e).concat(t)),ke.test(e)&&(n.class+=e)});var i=/(?:^| )url-([A-Za-z0-9]*):(\S+)/.exec(n.class),o=/(^| )url:(\S+)/.exec(n.class),a=t.find(function(e){return"removeLink"===e}),s=i||o,c=decodeURIComponent(s[2]);if(0===c.indexOf("javascript://")&&(c=""),ge.l.test(n.class)&&c)return n.spanClass=n.class.replace(s[0],""),e;if(!c||a)return n.class=n.class.replace(s[0],""),e;var u=Object(N.a)(c),l=_.a.createElement("a",{href:u,"data-href":u,target:"_blank",rel:"noopener noreferrer",spellCheck:"false"},e),d=n.class.replace(s[0],"");return n.class="".concat(d," ").concat(i?"url-".concat(s[1]," url"):"manual url"),this.editorInfo&&Object(M.e)(c)&&(Ce=Object(z.a)(),n.class="".concat(n.class," ").concat(ge.e,"-").concat(Ce)),n.class=n.class.replace(s[0],""),l}},{key:"closeUrlSpan",value:function(e){this.processingUrl&&(this.currentURL="",this.processingUrl=!1,e.push("</span>"))}},{key:"setUrilAttrOnRange",value:function(e,t,r,i){B.RangeHelper.splitSelectionWithClassName(e,t.domToRep,ge.IGNORE_HYPERLINK_CLASS).forEach(function(e){var t=e.selStart,n=e.selEnd;r.setAttributesOnRange(t,n,[i])})}},{key:"reset",value:function(){this.removeEvents(),this.removeHistoryLinkEvent(),V.default.destroy(),this.notyPopUp&&this.notyPopUp.destroy(),S.a.destroy(),w.a.destroy(),this.notyPopUp=null,this.processingUrl=!1,this.currentUrl="",this.$linkPopUpContainer=null,this.$modifyPopUpContainer=null,this.editorInfo=null,this.offHandleJiraStartConnect&&this.offHandleJiraStartConnect()}},{key:"addEvents",value:function(){var e;this.isCommentEditor||(e=this.context,Object(R.$)(this.editorInfo.getInnerContainer()).on("mouseenter".concat(this.eventNamespace),'[class*="url-"], .manual',{context:e},this.handleMouseEnterUrl).on("mouseleave".concat(this.eventNamespace),'[class*="url-"], .manual',this.handleMouseLeaveUrl).on("click".concat(this.eventNamespace),'[class*="url-"], .manual, [class*="mention-link"]',this.handleClickUrl).on("click".concat(this.preserveEventNamespace),'[class*="url"] a, [class*="mention"] a',{context:e},this.handleHyperlinkAndMentionClick).on("mousedown".concat(this.preserveEventNamespace),'[class*="url"] a, [class*="mention-type_1"] a',M.c),w.a.modifyPopUp&&w.a.modifyPopUp.on("mouseenter".concat(this.eventNamespace),{context:e},this.handleMouseEnterModifyPopUp).on("mouseleave".concat(this.eventNamespace),{context:e},this.handleMouseLeaveModifyPopUp).on("keyup".concat(this.eventNamespace),this.handleModifyPopupKeyUp),S.a.linkPopUp&&S.a.linkPopUp.on("blur".concat(this.eventNamespace),{context:e},this.handleInputBlur).on("keyup".concat(this.eventNamespace),this.handleLinkPopupKeyUp).find("input").on("keydown".concat(this.eventNamespace),{context:e},this.handleInputKeyDown),Object(R.$)(".link-submit").on("click".concat(this.eventNamespace),{context:e},this.handleClickSubmit),Object(R.$)(window).on("blur".concat(this.eventNamespace),this.handleWindowBlur),Object(R.$)(document).on("mousedown".concat(this.eventNamespace),{context:e},this.handleDocumentMouseDown),"sheet"!==this.props.type&&(S.a.linkIframeSubmit&&S.a.linkIframeSubmit.on("click".concat(this.eventNamespace),this.handleIframeClickSubmit),S.a.linkIframeInput&&S.a.linkIframeInput.on("keydown".concat(this.eventNamespace),this.handleIframeInputKeyDown),S.a.linkIframeExample&&S.a.linkIframeExample.on("click".concat(this.eventNamespace),this.handleIframeClickExample),S.a.linkIframeHelp&&S.a.linkIframeHelp.off("click".concat(this.eventNamespace),this.handleIframeClickHelp),this.editorInfo.on("insertIframeLink",this.insertIframeLink)),this.editorInfo.on(fe.k.DID_PASTE,this.handleDidPasteWithWrapper))}},{key:"addHistoryLinkEvent",value:function(){this.isCommentEditor||Object(R.$)(this.editorInfo.getInnerContainer()).on("click".concat(this.preserveEventNamespace),'[class*="url"] > a, [class*="mention"] > a',M.d)}},{key:"removeHistoryLinkEvent",value:function(){this.isCommentEditor||Object(R.$)(this.editorInfo.getInnerContainer()).off(this.preserveEventNamespace)}},{key:"serialize",value:function(e){var t,n,r=e.type,i=e.node,o=e.op;return r!==fe.u.LEAF||(t=o.attributes&&Object.keys(o.attributes).find(function(e){return e.includes("url-")}))&&((n=document.createElement("a")).setAttribute("href",decodeURIComponent(o.attributes[t])),n.setAttribute("target","_blank"),n.setAttribute("rel","noopener noreferrer"),n.appendChild(i),e.node=n),e}},{key:"deserialize",value:function(e){var t=e.node,n=e.deltaSet,r=e.zoneId,i=n;if(t instanceof HTMLElement){var o=t.className,a=t.tagName;if(-1<o.indexOf("removeLink")&&(i=Object(fe.H)(i,r,{removeLink:"true"})),"A"===a){for(var s=t.parentNode;null!==s&&"span"!==s.tagName.toLocaleLowerCase()&&"body"!==s.tagName.toLocaleLowerCase();)s=s.parentNode;var c,u,l,d,p,f=s&&s.className,h=f&&-1<f.indexOf("url-"),g=f&&-1<f.indexOf("mention"),m=f&&!h&&-1<f.indexOf("url"),v=t.href,y="string"==typeof v&&(-1<v.indexOf("javascript:void(0)")||0===v.length);h&&(u=/(^\s*)|(\s*$)/g,(c=/(?:^| )url-([A-Za-z0-9]*)/.exec(f))&&!y?(l=c[0].replace(u,""),i=Object(fe.H)(i,r,b()({},l,v))):c&&(d=c[0].replace(u,""),i=Object(fe.H)(i,r,b()({},d,Object(R.$)(t).data("href")||v)))),h||y||g||m||(p="url-".concat(Object(C.c)(10)),i=Object(fe.H)(i,r,b()({},p,v)))}}return i}},{key:"aceAfterPaste",value:function(){this.beforePasteInsertRep=Object.assign({},this.editorInfo.getRep())}},{key:"afterPasteInsert",value:(n=m()(k.a.mark(function e(t,n){var r,i,o,a,s,c,u,l,d,p,f=this;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=this.editorInfo.getRep(),i=r.selEnd,o=r.selStart,this.afterPasteInsertRep={selStart:o,selEnd:i},!Ce||Object(Z.a)(this.editorInfo))return e.abrupt("return");e.next=4;break;case 4:return a=this.checkJiraUrl(n),e.next=7,this.InsertJiraUrlBlock(n,a);case 7:if(e.sent)return e.abrupt("return");e.next=10;break;case 10:if(this.showOnboarding(n),s=n.text,!(c=Object(F.getBlockCreator)(F.BlockType.IFRAME_BLOCK,this.editorInfo))){e.next=25;break}if(u=c.findSupportCode(s),!(Object(M.e)(s)&&Oe||u||c.isSupportUrl(s))){e.next=25;break}if(u&&(s=c.findSupportCodeURL(u)||s),l=c.generateIframeDataSet(s,u),Object(Q.a)(l&&l.props.data.type)){e.next=20;break}return e.abrupt("return");case 20:d=Object(R.$)(".".concat(ge.e,"-").concat(Ce)),p={url:!0},this.isCurrentDocUrl(s.trim())||(p.iframe=this.insertIframe.bind(this,s,c,l),u&&(p.code=!0,p.url=!1)),Oe&&Object(Y.a)(s.trim())&&(p.doc=function(){Object(K.default)("click_insert_title",{}),f.editorInfo.hooks.callAll("linkToMention",{editor:f.editorInfo,url:s.trim(),node:d})}),V.default.show(d[0],p,Se);case 25:case"end":return e.stop()}},e,this)})),e)},{key:"aceCopy",value:function(e,t){var n=t.html;if(!n||n.includes("hyperlink_cellPosition"))return t;var r=Object(R.$)("<div></div>").html(n);t.html=r.html()}},{key:"removeEvents",value:function(){var e,t=!(0<arguments.length&&void 0!==arguments[0])||arguments[0];this.isCommentEditor||((e=Object(R.$)(this.editorInfo.getInnerContainer())).off(this.eventNamespace),Object(R.$)(".link-popup").off(this.eventNamespace).find("input").off(this.eventNamespace),Object(R.$)(".link-modify-popup").off(this.eventNamespace).find("input").off(this.eventNamespace),Object(R.$)(window).off(this.eventNamespace),Object(R.$)(document).off(this.eventNamespace),Object(R.$)(".link-submit").off(this.eventNamespace),Object(R.$)(".link-modify-submit").off("click",this.handleClickModify),this.editorInfo.off(fe.k.DID_PASTE,this.handleDidPasteWithWrapper),this.isCommentEditor||("sheet"!==this.props.type&&(S.a.linkIframeSubmit&&S.a.linkIframeSubmit.off("click".concat(this.eventNamespace)),S.a.linkIframeInput&&S.a.linkIframeInput.off("keydown".concat(this.eventNamespace)),S.a.linkIframeExample&&S.a.linkIframeExample.off("click".concat(this.eventNamespace)),S.a.linkIframeHelp&&S.a.linkIframeHelp.off("click".concat(this.eventNamespace)),this.editorInfo.off("insertIframeLink",this.insertIframeLink)),t&&e.off(this.preserveEventNamespace)))}},{key:"isCurrentDocUrl",value:function(e){var t=this.editorInfo.getDocId(),n=Object(Y.a)(e);return!!n&&(n.token===t&&"doc"===n.type)}}]),i}())||e,Ie=function(){function e(){v()(this,e)}return y()(e,[{key:"match",value:function(e){return"removeLink"===e}},{key:"render",value:function(e){return e.class+=" removeLink",e.children}}]),e}(),xe=function(){function e(){v()(this,e)}return y()(e,[{key:"match",value:function(e){return"link_background"===e}},{key:"render",value:function(e){return e.class+=" lb",e.children}}]),e}()}.call(this,Re("2vAP"))},"5f2W":function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r={owner:null,userPermissions:0,permission:0,ownersWithPerm:[],ownersWithoutPerm:[]}},"5gSl":function(e,t,n){"use strict";var r=function(e){e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),e.nativeEvent.stopImmediatePropagation()};t.a=r},"5niR":function(e,t,n){"use strict";n.r(t),n.d(t,"ActiveSource",function(){return r}),n.d(t,"EventBindingAction",function(){return o});var r,i,o,a,s=n("x/Yo");n.d(t,"Comment",function(){return s.Comment}),n.d(t,"CHANGE_TYPE",function(){return s.CHANGE_TYPE}),(i=r=r||{}).CLICK_SWITCH_CONTROL="switchCommentByClick",i.SWITCH_SHORTCUT="switchCommentByShortCuts",i.CLICK_ON_SUITE="clickOnSuite",i.CLICK_ON_PANEL="clickOnPanel",i.START_NEW_COMMENT_PATCH="startNewCommentPatch",i.START_NEW_COMMENT_PATCH_NO_FOCUS="startNewCommentPatchNoFocus",i.SAVE_COMMENT_OK_PATCH="saveCommentOkPatch",i.REOPEN_COMMENT="reopenCommentPatch",i.CUSTOM_ACTIVE="customActive",i.ITEM_EDIT="itemEdit",i.ITEM_EDIT_TEXTAREA_CLICK="itemEditTextareaClick",i.EMPTY="",(a=o=o||{}).ON="on",a.OFF="off"},"5pn2":function(e,t,n){n("m/sp")("match")},"5sOR":function(e,t,n){var f=n("N4mw"),h=n("99Ms"),g=n("T8tx"),m=1,v=2,y=4,b=8,E=32,_=64;function r(e,t,n,r,i,o,a,s,c,u){var l=t&b;t|=l?E:_,(t&=~(l?_:E))&y||(t&=~(m|v));var d=[e,t,i,l?o:void 0,l?a:void 0,l?void 0:o,l?void 0:a,s,c,u],p=n.apply(void 0,d);return f(e)&&h(p,d),p.placeholder=r,g(p,e,t)}e.exports=r},"5tAl":function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n("mrSG"),i=n("FFOo");function o(t){return void 0===t&&(t=-1),function(e){return e.lift(new a(t,e))}}var a=function(){function e(e,t){this.count=e,this.source=t}return e.prototype.call=function(e,t){return t.subscribe(new s(e,this.count,this.source))},e}(),s=function(i){function e(e,t,n){var r=i.call(this,e)||this;return r.count=t,r.source=n,r}return r.__extends(e,i),e.prototype.error=function(e){if(!this.isStopped){var t=this,n=t.source,r=t.count;if(0===r)return i.prototype.error.call(this,e);-1<r&&(this.count=r-1),n.subscribe(this._unsubscribeAndRecycle())}},e}(i.a)},"5wDT":function(e){e.exports=JSON.parse('{"universal":50,"tag":30,"attribute":1,"pseudo":0,"descendant":-1,"child":-1,"parent":-1,"sibling":-1,"adjacent":-1}')},"5wek":function(e,t){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iNDBweCIgaGVpZ2h0PSI0MHB4IiB2aWV3Qm94PSIwIDAgNDAgNDAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDU0LjEgKDc2NDkwKSAtIGh0dHBzOi8vc2tldGNoYXBwLmNvbSAtLT4KICAgIDx0aXRsZT5UcmlhbmdsZTwvdGl0bGU+CiAgICA8ZGVzYz5DcmVhdGVkIHdpdGggU2tldGNoLjwvZGVzYz4KICAgIDxnIGlkPSJQYWdlLTEiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnIGlkPSIyLjRfSU3ogYrlpKnpobVf5YWt57G76K+t6Z+z5raI5oGvX+aLluWKqOeKtuaAgSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTEzNi4wMDAwMDAsIC0zODMuMDAwMDAwKSIgc3Ryb2tlPSIjMTQxRjMzIiBzdHJva2Utd2lkdGg9IjQiPgogICAgICAgICAgICA8ZyBpZD0iR3JvdXAtNC1Db3B5IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgzMi4wMDAwMDAsIDMyMC4wMDAwMDApIj4KICAgICAgICAgICAgICAgIDxnIGlkPSJCdWJibGUtMS1Db3B5IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg4MC4wMDAwMDAsIDAuMDAwMDAwKSI+CiAgICAgICAgICAgICAgICAgICAgPGcgaWQ9Ikdyb3VwLTMiPgogICAgICAgICAgICAgICAgICAgICAgICA8ZyBpZD0iR3JvdXAtNiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjQuMDAwMDAwLCA2My4wMDAwMDApIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0yMCwxMS43NzM1OTI1IEw4LjYwODQ5NTI4LDMwIEwzMS4zOTE1MDQ3LDMwIEwyMCwxMS43NzM1OTI1IFoiIGlkPSJUcmlhbmdsZSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjAuMDAwMDAwLCAyMC4wMDAwMDApIHJvdGF0ZSgtMjcwLjAwMDAwMCkgdHJhbnNsYXRlKC0yMC4wMDAwMDAsIC0yMC4wMDAwMDApICI+PC9wYXRoPgogICAgICAgICAgICAgICAgICAgICAgICA8L2c+CiAgICAgICAgICAgICAgICAgICAgPC9nPgogICAgICAgICAgICAgICAgPC9nPgogICAgICAgICAgICA8L2c+CiAgICAgICAgPC9nPgogICAgPC9nPgo8L3N2Zz4="},"5xSS":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={LANG:"jp",TEXT:{HAVE_NOTHING:"/",HAVE_METADATA:"/",HAVE_CURRENT_DATA:"/",HAVE_FUTURE_DATA:"",HAVE_ENOUGH_DATA:"",NETWORK_EMPTY:"/",NETWORK_IDLE:"/",NETWORK_LOADING:"",NETWORK_NO_SOURCE:"/ ",MEDIA_ERR_ABORTED:"",MEDIA_ERR_NETWORK:"",MEDIA_ERR_DECODE:"",MEDIA_ERR_SRC_NOT_SUPPORTED:"/ ",REPLAY:"",ERROR:"",PLAY_TIPS:"",PAUSE_TIPS:"",PLAYNEXT_TIPS:"",DOWNLOAD_TIPS:"",ROTATE_TIPS:"",RELOAD_TIPS:"",FULLSCREEN_TIPS:"",EXITFULLSCREEN_TIPS:"",CSSFULLSCREEN_TIPS:"",EXITCSSFULLSCREEN_TIPS:"",TEXTTRACK:"",PIP:"",SCREENSHOT:"",LIVE:"",OFF:"",OPEN:"",MINI_DRAG:"",MINISCREEN:"",REFRESH:"",REFRESH_TIPS:""}}},"5ydi":function(e,t,n){"use strict";n.d(t,"e",function(){return r}),n.d(t,"b",function(){return v}),n.d(t,"c",function(){return y}),n.d(t,"a",function(){return b}),n.d(t,"d",function(){return E});var r,i,o=n("lwsE"),a=n.n(o),s=n("a1gu"),c=n.n(s),u=n("Nsbk"),l=n.n(u),d=n("7W2i"),p=n.n(d),f=n("Mpt7"),h=n("658s");(i=r=r||{})[i.NewVersion=1]="NewVersion",i[i.RenameFile=2]="RenameFile",i[i.DeleteVersion=3]="DeleteVersion",i[i.RestoreVersion=4]="RestoreVersion";var g={version:"",edit_uid:"",edit_time:0},m={name:"",size:0,tag:0},v=function(e){function t(){return a()(this,t),c()(this,l()(t).apply(this,arguments))}return p()(t,e),t}(Object(f.Record)(Object.assign({type:r.NewVersion},g,{},m,{data_version:"",is_deleted:!1,user_source:h.a.OTHER}))),y=function(e){function t(){return a()(this,t),c()(this,l()(t).apply(this,arguments))}return p()(t,e),t}(Object(f.Record)(Object.assign({type:r.RenameFile},g,{name:"",source_tag:0}))),b=function(e){function t(){return a()(this,t),c()(this,l()(t).apply(this,arguments))}return p()(t,e),t}(Object(f.Record)(Object.assign({type:r.DeleteVersion},g,{source_tag:0,source_name:""}))),E=function(e){function t(){return a()(this,t),c()(this,l()(t).apply(this,arguments))}return p()(t,e),t}(Object(f.Record)(Object.assign({type:r.RestoreVersion},g,{},m,{source_tag:0,data_version:"",is_deleted:!1})))},"62pP":function(e,t,n){"use strict";var r=n("JWLt");function i(e,t){this.text=e,this.spec=void 0,this.styleAttribute=t||!1}function h(e){try{return r(e)[0]}catch(e){return[]}}(e.exports=i).prototype.parsed=function(){return this.tokens||(this.tokens=h(this.text)),this.tokens},i.prototype.specificity=function(){var p=this.styleAttribute;return this.spec||(this.spec=f(this.text,this.parsed())),this.spec;function f(e,t){for(var n=t||h(e),r=[p?1:0,0,0,0],i=[],o=0;o<n.length;o++){var a=n[o],s=a.pseudos;if(a.id&&r[1]++,a.attributes&&(r[2]+=a.attributes.length),a.classList&&(r[2]+=a.classList.length),a.tag&&"*"!==a.tag&&r[3]++,s){r[3]+=s.length;for(var c=0;c<s.length;c++)"not"===s[c].name&&(i.push(s[c].value),r[3]--)}}for(var u=i.length;u--;)for(var l=f(i[u]),d=4;d--;)r[d]+=l[d];return r}}},"658s":function(e,t,n){"use strict";var r,i;n.d(t,"a",function(){return r}),(i=r=r||{})[i.WEB=0]="WEB",i[i.CLIENT=1]="CLIENT",i[i.ANDRIOD=2]="ANDRIOD",i[i.IOS=3]="IOS",i[i.LARK=4]="LARK",i[i.OTHER=5]="OTHER",i[i.SYNC_DISK=6]="SYNC_DISK",i[i.WPS=7]="WPS"},"6AXZ":function(e,t,r){"use strict";r.d(t,"b",function(){return o});var i={},n=null;function o(){return n=n||new Promise(function(n,t){r.e("iframe_images").then(r.bind(null,"t4nh")).then(function(e){var t=e.default;Object.keys(t).forEach(function(e){return i[e]=t[e]}),n()},function(e){console.error("load iframe image error",e),t()})})}t.a=i},"6Do3":function(e,t,n){"use strict";n.d(t,"a",function(){return m});var r=n("o0o1"),a=n.n(r),i=n("pVnL"),s=n.n(i),o=n("yXPU"),c=n.n(o),u=n("q1tI"),l=n.n(u),d=n("i8i4"),p=n.n(d),f=n("D7h9"),h=n("pf04"),g=null;function m(e){return v.apply(this,arguments)}function v(){return(v=c()(a.a.mark(function e(t){var n,r,i,o;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(o=function(e){p.a.unmountComponentAtNode(r),t.onClose&&t.onClose(e)},g){e.next=5;break}return e.next=4,Object(h.a)();case 4:g=e.sent.default;case 5:return n=t.boxContainer,r=document.createElement("div"),n.appendChild(r),i=Object.assign({},t,{store:f.default,onClose:o}),e.abrupt("return",new Promise(function(t){var n;p.a.render(l.a.createElement(g,s()({ref:function(e){e&&e.getWrappedInstance&&(n=e.getWrappedInstance()),t(n)}},i)),r)}));case 10:case"end":return e.stop()}},e)}))).apply(this,arguments)}},"6IgM":function(e,t,n){"use strict";n.d(t,"o",function(){return u}),n.d(t,"s",function(){return l}),n.d(t,"n",function(){return d}),n.d(t,"c",function(){return p}),n.d(t,"d",function(){return f}),n.d(t,"t",function(){return h}),n.d(t,"e",function(){return g}),n.d(t,"j",function(){return m}),n.d(t,"q",function(){return v}),n.d(t,"a",function(){return y}),n.d(t,"u",function(){return b}),n.d(t,"r",function(){return E}),n.d(t,"k",function(){return _}),n.d(t,"i",function(){return C}),n.d(t,"f",function(){return T}),n.d(t,"b",function(){return O}),n.d(t,"h",function(){return k}),n.d(t,"p",function(){return S}),n.d(t,"g",function(){return w}),n.d(t,"l",function(){return I}),n.d(t,"m",function(){return x});var r=n("o0o1"),i=n.n(r),o=n("yXPU"),a=n.n(o),s=function(){console.error("No Moirae Instance")},c=function(e){console.error("No Toast Instance")},u={teaLog:s,ravenCatch:s,suspend:s,resume:s},l={show:c,info:c,success:c,error:c,remove:c,removeAll:c,destroy:c},d={askUserShouldDelEmptyCellsAndContinuePaste:function(){var e=a()(i.a.mark(function e(){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.error("No askUserShouldDelEmptyCellsAndContinuePaste Instance"),e.abrupt("return",!1);case 2:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),showCopyDataOutdatedModal:function(){console.error("No showCopyDataOutdatedModal Instance")},showPastePageOutdatedModal:function(){console.error("No showPastePageOutdatedModal Instance")}},p=function(){console.error("No CollectSuiteEvent Instance")},f=function(){console.error("No CollectToAdmin Instance")},h=function(){console.error("No TransformPerformanceData Instance")},g=function(){return console.error("No EncryptTea Instance"),""},m=function(){return console.error("No GetFileType Instance"),""},v=function(){return console.error("No PrependSpace Instance"),""},y=function(){return console.error("No BeforeCopy Instance"),!1},b=function(){return console.error("No isLarkProduct Instance"),!1},E=function(e){return console.error("No ReplaceImageDataSrc Instance"),e},_=function(){return console.error("No GetSegmentArray Instance"),{}},C=function(){return console.error("No GetCustomIconUrl Instance"),""},T=function(){console.error("No GenerateEditorValue Instance")},O={setIsSsd:function(){console.log("No CollectLoadPerformance Instance")},setLoadStartTime:function(){console.log("No CollectLoadPerformance Instance")},getLoadStartTime:function(){console.log("No CollectLoadPerformance Instance")},setBlockCount:function(e){console.log("No CollectLoadPerformance Instance")},collectData:function(e,t){console.log("No CollectLoadPerformance Instance")}},k=function(){return!1},S={updateStage:function(){console.error("No PerformanceStageCollector Instance")},renderFail:function(){console.error("No PerformanceStageCollector Instance")}},w=function(){return console.error("no getCellLimit instance"),0},I=function(){return console.error("no getSheetCopyDataVersion instance"),0},x=function(){return console.error("no getSheetDropdown2DataValidationEnable instance"),!1}},"6KkN":function(e,t){var s="__lodash_placeholder__";function n(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var a=e[n];a!==t&&a!==s||(e[n]=s,o[i++]=n)}return o}e.exports=n},"6O0K":function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n("n/R6"),i=n("SnPR"),o="TOAST_WITH_LOGIN",a="@";function s(e){r.a.remove(o),r.a.error({key:o,closable:!0,content:Object(i.a)(e,a)})}},"6T1N":function(e,t,n){var g=n("s0N+"),m=n("ieoY"),v=n("Rw8+"),y=n("a1zH"),b=n("0ADi"),E=n("KF6i"),_=n("q3TU"),C=n("99Ms"),T=n("T8tx"),O=n("Sxd8"),k="Expected a function",S=1,w=2,I=8,x=16,L=32,R=64,N=Math.max;function r(e,t,n,r,i,o,a,s){var c=t&w;if(!c&&"function"!=typeof e)throw new TypeError(k);var u,l,d=r?r.length:0;d||(t&=~(L|R),r=i=void 0),a=void 0===a?a:N(O(a),0),s=void 0===s?s:O(s),d-=i?i.length:0,t&R&&(u=r,l=i,r=i=void 0);var p,f=c?void 0:E(e),h=[e,t,n,r,i,u,l,o,a,s];return f&&_(h,f),e=h[0],t=h[1],n=h[2],r=h[3],i=h[4],!(s=h[9]=void 0===h[9]?c?0:e.length:N(h[9]-d,0))&&t&(I|x)&&(t&=~(I|x)),p=t&&t!=S?t==I||t==x?v(e,t,s):t!=L&&t!=(S|L)||i.length?y.apply(void 0,h):b(e,t,n,r):m(e,t,n),T((f?g:C)(p,h),e,t)}e.exports=r},"6UaR":function(e,t,n){e.exports=n("qpuQ")},"6ae/":function(e,t,n){var r=n("dTAl"),i=n("RrRF");function o(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=void 0}o.prototype=r(i.prototype),o.prototype.constructor=o,e.exports=o},"6dGb":function(e,t,n){"use strict";var r=n("pVnL"),i=n.n(r),o=n("QILm"),a=n.n(o),s=n("q1tI"),c=n.n(s);t.a=function(e){e.styles;var t=a()(e,["styles"]);return c.a.createElement("svg",i()({width:"20",height:"20",viewBox:"0 0 20 20"},t),c.a.createElement("path",{d:"M10 8.59l1.41-1.42a1 1 0 111.42 1.42L11.4 10l1.42 1.41a1 1 0 11-1.42 1.42L10 11.4l-1.41 1.42a1 1 0 01-1.42-1.42L8.6 10 7.17 8.59A1 1 0 118.6 7.17L10 8.6zM10 20a10 10 0 110-20 10 10 0 010 20zm0-2a8 8 0 100-16 8 8 0 000 16z",fillRule:"nonzero",fill:"#424E5D"}))}},"6dl6":function(e,t,n){"use strict";var o=n("zJQS"),a=n("39uu"),s=[].slice,c={},u=function(e,t,n){if(!(t in c)){for(var r=[],i=0;i<t;i++)r[i]="a["+i+"]";c[t]=Function("C,a","return new C("+r.join(",")+")")}return c[t](e,n)};e.exports=Function.bind||function(t){var n=o(this),r=s.call(arguments,1),i=function(){var e=r.concat(s.call(arguments));return this instanceof i?u(n,e.length,e):n.apply(t,e)};return a(n.prototype)&&(i.prototype=n.prototype),i}},"6jHd":function(e,t,n){"use strict";var r=n("pVnL"),i=n.n(r),o=n("QILm"),a=n.n(o),s=n("q1tI"),c=n.n(s);t.a=function(e){e.styles;var t=a()(e,["styles"]);return c.a.createElement("svg",i()({width:"62",height:"62",xmlnsXlink:"http://www.w3.org/1999/xlink"},t),c.a.createElement("defs",null,c.a.createElement("path",{id:"404ac0689f14bedd562f636044c5a684-a",d:"M.86 48.9h51.12V.53H.86z"})),c.a.createElement("g",{transform:"translate(8 8)",fill:"none",fillRule:"evenodd"},c.a.createElement("path",{fill:"#D6DAE1",d:"M.86 41.37h43.18V6.07H.86z"}),c.a.createElement("path",{fill:"#F4F5F9",d:"M37.9 15.04l-3.77 24.24-29.66-4.6 3.77-24.25z"}),c.a.createElement("path",{stroke:"#FFF",strokeWidth:".79",strokeLinecap:"round",strokeLinejoin:"round",d:"M10.85 32.14l2.26-17.51m.69 18.17l2.25-17.52"}),c.a.createElement("path",{d:"M51.64 35.94a15.18 15.18 0 11-30.08-4.1 15.18 15.18 0 0130.08 4.1",fill:"#FFDDDB"}),c.a.createElement("path",{d:"M30.67 27.96l11.57 11.57m0-11.57L30.67 39.53",stroke:"#EE5050",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:".71"}),c.a.createElement("mask",{id:"404ac0689f14bedd562f636044c5a684-b",fill:"#fff"},c.a.createElement("use",{xlinkHref:"#404ac0689f14bedd562f636044c5a684-a"})),c.a.createElement("path",{fill:"#B5BEC8",mask:"url(#404ac0689f14bedd562f636044c5a684-b)",d:"M.86 6.32h12.9V.54H.86z"})))}},"6omo":function(e,t,n){"use strict";n.d(t,"e",function(){return r}),n.d(t,"f",function(){return N}),n.d(t,"c",function(){return a}),n.d(t,"b",function(){return c}),n.d(t,"j",function(){return l}),n.d(t,"n",function(){return p}),n.d(t,"l",function(){return h}),n.d(t,"o",function(){return m}),n.d(t,"a",function(){return y}),n.d(t,"i",function(){return E}),n.d(t,"d",function(){return C}),n.d(t,"p",function(){return O}),n.d(t,"g",function(){return S}),n.d(t,"m",function(){return I}),n.d(t,"k",function(){return L});var r,i,o=n("QM+C");(i=r=r||{})[i.ALL_TYPES=0]="ALL_TYPES",i[i.DOC=o.NUM_SUITE_TYPE.DOC]="DOC",i[i.SHEET=o.NUM_SUITE_TYPE.SHEET]="SHEET",i[i.MINDNOTE=o.NUM_SUITE_TYPE.MINDNOTE]="MINDNOTE";var a,s,c,u,l,d,p,f,h,g,m,v,y,b,E,_,C,T,O,k,S,w,I,x,L,R,N=0;(s=a=a||{})[s.OWN=5]="OWN",s[s.SHARE=6]="SHARE",(u=c=c||{})[u.TENANT=7]="TENANT",(d=l=l||{}).GALLERY="gallery",d.CUSTOM="custom",d.CORPORATE="corporate",(f=p=p||{})[f.WALLPAPER=1]="WALLPAPER",f[f.THUMBNAIL=2]="THUMBNAIL",f[f.SCREENSHOT=3]="SCREENSHOT",(g=h=h||{})[g.HEAT=1]="HEAT",g[g.CREATE_BY_MYSELF=2]="CREATE_BY_MYSELF",g[g.SHARED_BY_USER=3]="SHARED_BY_USER",(v=m=m||{})[v.GALLERY=1]="GALLERY",v[v.CUSTOM=2]="CUSTOM",v[v.CORPORATE=3]="CORPORATE",(b=y=y||{})[b.TEMPLATE=1]="TEMPLATE",b[b.TOPIC=2]="TOPIC",(_=E=E||{})[_.GALLERY=1]="GALLERY",_[_.CUSTOM=2]="CUSTOM",_[_.CORPORATE=3]="CORPORATE",(T=C=C||{})[T.CREATE_BY_MYSELF=1]="CREATE_BY_MYSELF",T[T.SHARED_BY_USER=2]="SHARED_BY_USER",(k=O=O||{})[k.V3=3]="V3",k[k.V4=4]="V4",(w=S=S||{}).INIT="INIT",w.PENDING="PENDING",w.SUCCESS="SUCCESS",w.FAILED="FAILED",w.SPECIAL_ICON="SPECIAL_ICON",(x=I=I||{}).BANNER="templatecenter_banner",x.SEARCH="templatecenter_searchresult",x.NORMAL="templatecenter_normalcreate",(R=L=L||{}).USE_BUTTON="use_button",R.PICTURE="picture",R.PREVIEW="from_preview"},"6sVZ":function(e,t){var n=Object.prototype;function r(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||n)}e.exports=r},"711d":function(e,t){function n(t){return function(e){return null==e?void 0:e[t]}}e.exports=n},"716e":function(e,t,n){"use strict";var r,i,o,a;n.d(t,"a",function(){return r}),n.d(t,"b",function(){return o}),(i=r=r||{}).left="left",i.top="top",i.right="right",i.bottom="bottom",(a=o=o||{}).start="start",a.center="center",a.end="end"},"77Zs":function(e,t,n){var r=n("Xi7e");function i(){this.__data__=new r,this.size=0}e.exports=i},"7ESD":function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n("lwsE"),i=n.n(r),o=n("W8MJ"),a=n.n(o),s=new(function(){function e(){i()(this,e),this.rendererMap={}}return a()(e,[{key:"setupCommentFindProvider",value:function(){var t=this;return this.commentFindProvider?new Promise(function(e){e(t.commentFindProvider)}):n.e("comment_find_provider").then(n.bind(null,"v3vQ")).then(function(e){return t.commentFindProvider=e.commentFindProvider,e.commentFindProvider})}},{key:"setupGlobalCommentFindProvider",value:function(){var t=this;return this.globalCommentFindProvider?new Promise(function(e){e(t.globalCommentFindProvider)}):n.e("g_comment_find_provider").then(n.bind(null,"S5QH")).then(function(e){return t.globalCommentFindProvider=e.globalCommentFindProvider,e.globalCommentFindProvider})}},{key:"triggerFind",value:function(e){this.commentFindProvider&&this.commentFindProvider.triggerFind(e),this.globalCommentFindProvider&&this.globalCommentFindProvider.triggerFind(e)}},{key:"register",value:function(e,t,n,r){this.rendererMap["".concat(e,"-").concat(t,"-").concat(n)]=r}},{key:"unRegister",value:function(e,t,n){delete this.rendererMap["".concat(e,"-").concat(t,"-").concat(n)]}}]),e}())},"7GkX":function(e,t,n){var r=n("b80T"),i=n("A90E"),o=n("MMmD");function a(e){return(o(e)?r:i)(e)}e.exports=a},"7HY0":function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n("o0o1"),d=n.n(r),i=n("yXPU"),p=n.n(i),o=n("lwsE"),f=n.n(o),a=n("W8MJ"),s=n.n(a),h=n("VN5G"),c=n("paQS"),g=n("wQna"),m=n("QM+C"),u=function(){function l(e){var c=this;f()(this,l),this.wrapperDispatchAction=function(i,o,a){var s=c.requestCommentActions;return i(s.begin(o)),new Promise(function(){var n=p()(d.a.mark(function e(t,n){var r;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a();case 3:r=e.sent,i(s.complete(o,r)),t(r),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),n(e.t0),i(s.error(o,e.t0));case 12:case"end":return e.stop()}},e,null,[[0,8]])}));return function(e,t){return n.apply(this,arguments)}}())},this.requestCommentActions={begin:function(e){return{type:e.type+"_BEGIN",payload:Object.assign({rootType:c.rootType,rootToken:c.rootToken,subCommentToken:c.subCommentToken},e.payload),meta:{previousAction:e}}},complete:function(e,t){var n=e.payload,r=n?Object.assign({},n,{},t):t;return{type:e.type+"_COMPLETE",payload:Object.assign({rootType:c.rootType,rootToken:c.rootToken,subCommentToken:c.subCommentToken},r),meta:{previousAction:e}}},error:function(e,t){return{type:e.type+"_ERROR",error:t,payload:Object.assign({rootType:c.rootType,rootToken:c.rootToken,subCommentToken:c.subCommentToken},e.payload),meta:{previousAction:e}}}};var t,n=e.rootType,r=e.rootToken,i=e.subCommentToken,o=e.enableAutoTranslate,a=e.translateLang,s=e.shouldSetBroadcast,u=e.transEnabled;this.rootType=n,this.rootToken=r,this.subCommentToken=i,this.commentService=Object(h.a)(n,r),m.isAnonymousAccess?s&&(t=g.a.getOrCreate({suiteType:this.rootType,suiteToken:this.rootToken}),this.commentService.setupBroadcast(t)):this.setUpCommentTranslate(o,a,s,u)}return s()(l,[{key:"setUpCommentTranslate",value:function(e,t,n,r){var i;this.commentTranslate=c.a.getOrCreate({suiteType:this.rootType,suiteToken:this.rootToken,subCommentToken:this.subCommentToken,enableAutoTranslate:e,translateLang:t}),n&&(i=!1!==r?(this.commentTranslate=c.a.getOrCreate({suiteType:this.rootType,suiteToken:this.rootToken,subCommentToken:this.subCommentToken,enableAutoTranslate:e,translateLang:t}),this.commentTranslate.getTranslateBroadcast()):(g.a.destroy({suiteType:this.rootType,suiteToken:this.rootToken}),g.a.getOrCreate({suiteType:this.rootType,suiteToken:this.rootToken})),this.commentService.setupBroadcast(i))}},{key:"setCommentTranslateEnableLang",value:function(e,t){this.commentTranslate=c.a.getOrCreate({suiteType:this.rootType,suiteToken:this.rootToken,subCommentToken:this.subCommentToken,enableAutoTranslate:e,translateLang:t}),this.commentTranslate.setCommentTranslateEnableLang(e,t)}},{key:"addTranslateCommentId",value:function(e){this.commentTranslate&&this.commentTranslate.addTranslateCommentId(e)}},{key:"destroy",value:function(){Object(h.b)(this.rootType,this.rootToken,this.subCommentToken)}},{key:"getCommentService",value:function(){return this.commentService}},{key:"getCommentTranslate",value:function(){return this.commentTranslate}}]),l}()},"7I3H":function(e,t,n){"use strict";var r=n("pVnL"),i=n.n(r),o=n("QILm"),a=n.n(o),s=n("q1tI"),c=n.n(s);t.a=function(e){e.styles;var t=a()(e,["styles"]);return c.a.createElement("svg",i()({width:"16",height:"16",viewBox:"0 0 48 48"},t),c.a.createElement("path",{d:"M41.18 24a17.18 17.18 0 00-28.53-12.9L10.7 7.74a21 21 0 0131.4 26.92L39.8 30.7v-.01L35.98 24h5.21zM9.96 14.1l3 5.13H7.5a17.2 17.2 0 0030.1 15.27l2.04 3.52A21 21 0 017.9 10.52l2.06 3.57z",fill:"#123",fillRule:"evenodd"}))}},"7Ix3":function(e,t){function n(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}e.exports=n},"7Kxq":function(e,t,n){"use strict";n.d(t,"f",function(){return i}),n.d(t,"g",function(){return o}),n.d(t,"a",function(){return a}),n.d(t,"d",function(){return s}),n.d(t,"c",function(){return c}),n.d(t,"e",function(){return u});var r=n("jSUa");n.d(t,"b",function(){return r.a});var i="effective",o="cancel",a="at-uuid_",s="horizontal-line",c=["author","lmkr","lineguid","insertorder"],u={ACE_TABLE:"ACE_TABLE",CODE_BLOCK:"CODE_BLOCK",CALLOUT:"CALLOUT"}},"7P1s":function(e,t,n){"use strict";n.d(t,"a",function(){return u});var o,r=n("lwsE"),i=n.n(r),a=n("W8MJ"),s=n.n(a),c=function(){function e(){i()(this,e),this.delegateHandlersMap={},this.eventHandlerMap={},this.eventOptionMap={},this.id=0}return s()(e,[{key:"genUuid",value:function(){return++this.id}},{key:"delegate",value:function(e,t,n,r){var i={parentSelector:e,childSelector:t,event:n,handler:r,options:4<arguments.length&&void 0!==arguments[4]?arguments[4]:{}},o=this.getEventPath(i),a=this.eventHandlerMap[o],s=this.addHandler(i);return a||this.initEventListener(i),this.removeHandler.bind(this,i,s)}},{key:"initEventListener",value:function(e){var t,n,r=e.parentSelector,i=e.event,o=e.options,a=void 0===o?{}:o,s=document.querySelector(r);s&&(t=this.getEventPath(e),n=this.getEventHandler(e),Object.assign(a,{capture:!0}),this.eventOptionMap[t]=a,s.addEventListener(i,n,a),this.eventHandlerMap[t]=n)}},{key:"getEventHandler",value:function(e){var a=this,s=this.getEventPath(e);return function(t){var e,n=t&&t.target;for(e in a.delegateHandlersMap){var r=e.startsWith(s),i=e.slice(s.length),o=i&&n.matches&&n.matches(i);if(r&&o)return void a.delegateHandlersMap[e].map(function(e){return e&&e.handler}).forEach(function(e){return e&&e(t)})}}}},{key:"addHandler",value:function(e){var t=e.handler,n=this.getDelegatePath(e),r=this.delegateHandlersMap[n]||[],i=this.genUuid();return r.push({id:i,handler:t}),this.delegateHandlersMap[n]=r,i}},{key:"removeHandler",value:function(e,t){var n=this.getDelegatePath(e),r=this.getEventPath(e),i=this.delegateHandlersMap[n];this.delegateHandlersMap[n]=i.filter(function(e){return e.id!==t}),this.isHandlersEmpty(r)&&this.removeEventHandler(e)}},{key:"isHandlersEmpty",value:function(e){if(!e)return!1;var t,n=!0;for(t in this.delegateHandlersMap){var r=this.delegateHandlersMap[t]||[];if(t.startsWith(e)&&0<r.length){n=!1;break}}return n}},{key:"removeEventHandler",value:function(e){var t,n=e.parentSelector,r=e.event,i=this.getEventPath(e),o=this.eventHandlerMap[i],a=document.querySelector(n);a&&o&&(t=this.eventOptionMap[i],a.removeEventListener(r,o,t),this.eventHandlerMap[i]=null,this.eventOptionMap[i]={})}},{key:"getDelegatePath",value:function(e){var t=e.parentSelector,n=e.childSelector;return[t,e.event,n].join("")}},{key:"getEventPath",value:function(e){return[e.parentSelector,e.event].join("")}}]),e}(),u=function(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:{};return(o=o||new c).delegate(e,t,n,r,i)}},"7PmA":function(e,t,n){"use strict";e.exports=function(){try{return Object.keys("primitive"),!0}catch(e){return!1}}},"7ZH0":function(e,t,n){"use strict";var r=n("q1tI"),u=n.n(r),l=n("n/R6"),d=n("Ngi8"),i={show:function(e){var t=e.tip,n=e.type,r=void 0===n?"info":n,i=e.actionText,o=e.handle,a=void 0===o?function(){return null}:o,s=e.positive,c=void 0===s||s;l.a.show({key:"JIRA",type:r,content:u.a.createElement("div",null,c&&u.a.createElement("span",null,t),i&&u.a.createElement("span",{style:{cursor:"pointer",color:d.B500},onClick:a},i),!c&&u.a.createElement("span",null,t))})}};t.a=i},"7fqy":function(e,t){function n(e){var n=-1,r=Array(e.size);return e.forEach(function(e,t){r[++n]=[t,e]}),r}e.exports=n},"7wkN":function(e,t,n){n("m/sp")("toStringTag")},"85Se":function(e,t,n){},"86bp":function(e,t,n){"use strict";var r=n("YsTz"),i=Array.prototype.forEach,o=Object.create,a=function(e,t){for(var n in e)t[n]=e[n]};e.exports=function(e){var t=o(null);return i.call(arguments,function(e){r(e)&&a(Object(e),t)}),t}},"88Gu":function(e,t){var o=800,a=16,s=Date.now;function n(n){var r=0,i=0;return function(){var e=s(),t=a-(e-i);if(i=e,0<t){if(++r>=o)return arguments[0]}else r=0;return n.apply(void 0,arguments)}}e.exports=n},"8KlA":function(e,t){e.exports=navigator.cdn_host+"/ccm/pc/web/resource/bear/images/sprite-min.ddf9d9e3cda1509b1f61.png"},"8Km3":function(e,t,n){"use strict";var r=n("lwsE"),i=n.n(r),o=n("W8MJ"),a=n.n(o),s=n("a1gu"),c=n.n(s),u=n("Nsbk"),l=n.n(u),d=n("7W2i"),p=n.n(d),f=n("q1tI"),h=n.n(f),g=n("TSYQ"),m=n.n(g),v=n("sCEj"),y=n.n(v),b=n("rdWV"),E=n("quEg"),_=n("32lH"),C=n("0AMS"),T=n("Uy1N"),O=5,k=41;function S(e,t){if(!e)return 0;var n=document.createElement("canvas"),r=window.getComputedStyle(e,null),i=r.getPropertyValue("font-family"),o=r.getPropertyValue("font-size"),a=n.getContext("2d");return a?(a.font="".concat(o," ").concat(i),a.measureText(t).width):0}var w=function(e){function t(){var r;return i()(this,t),(r=c()(this,l()(t).apply(this,arguments))).reactionRef=Object(f.createRef)(),r.state={visibleUsersLength:r.props.chatters.length},r.handleResize=function(){var e,t=r.reactionRef.current;t&&t.parentElement&&(e=t.parentElement.offsetWidth-k,r.setVisibleNamesLen(e))},r.handleReactionClick=function(e){var t=r.props.onReactionClick;t&&t(e)},r.handleUserClick=function(e,t){var n=r.props.onChatterClick;n&&n(e,t)},r}return p()(t,e),a()(t,[{key:"calcVisibleCount",value:function(n,r){var i=this,e=this.props.chatters,o=0;return e.forEach(function(e,t){o||(n-=S(i.reactionRef.current,e.name+",")+r)<0&&(o=t+1)}),o}},{key:"setVisibleNamesLen",value:function(e){var t,n,r,i,o,a=this.props,s=a.chatters,c=a.config,u=a.chatterCount,l=s.length,d=this.reactionRef.current;d&&(t=d.children?parseInt(getComputedStyle(d.children[0],null).marginRight||"",10):5,n=O+1<l?O:l,r=s.slice(0,n).reduce(function(e,t){return e+t.name+","},""),S(this.reactionRef.current,r)+t*(l-1)<e?this.setState({visibleUsersLength:n}):(i=Object(E.a)(c.lang.emoji.Lark_Legacy_PostReactionAppend,{count:u||s.length}),o=S(this.reactionRef.current,i),this.setState({visibleUsersLength:this.calcVisibleCount(e-o-t,t)||l})))}},{key:"renderUserNames",value:function(){var t=this,e=this.props.chatters;if(!e||!e.length)return null;var n=this.state.visibleUsersLength;return e.slice(0,n).map(function(e){return h.a.createElement("span",{className:"".concat(_.h,"-reaction__user"),key:"user-name-".concat(e.id),onClick:t.handleUserClick.bind(t,e)},e.name)})}},{key:"renderMoreLink",value:function(){var e=this.props,t=e.chatters,n=e.onMoreClick,r=e.config,i=e.chatterCount,o=this.state.visibleUsersLength,a=(i||t.length)-o;if(!a||!o)return null;var s=t.slice(o).map(function(e){return h.a.createElement("span",{className:"".concat(_.h,"-reaction__user"),key:e.id},e.name)}),c=Object(E.a)(r.lang.emoji.Lark_Legacy_PostReactionAppend,{count:a});return h.a.createElement(b.a,{content:s,className:"".concat(_.h,"-reaction__more-users-tip")},h.a.createElement("span",{className:"".concat(_.h,"-reaction__more-users"),onClick:n},h.a.createElement("span",{className:"".concat(_.h,"-reaction__user")},c)))}},{key:"render",value:function(){var e=this,t=this.props,n=t.chatters,r=t.emojiProps,i=t.onReactionClick;if(!n||!n.length)return null;var o=m()("".concat(_.h,"-reaction ").concat(_.h,"-reaction--ellipsis"));return h.a.createElement(y.a,{onResize:function(){return e.handleResize()}},h.a.createElement("div",{ref:this.reactionRef,className:o,onClick:i},h.a.createElement(T.a,Object.assign({},r)),h.a.createElement("span",{className:"".concat(_.h,"-reaction__separate")}),h.a.createElement("div",{className:"".concat(_.h,"-reaction__users-wrapper")},h.a.createElement("div",{className:"".concat(_.h,"-reaction__users")},this.renderUserNames()),this.renderMoreLink())))}}]),t}(h.a.PureComponent);t.a=Object(C.a)(w)},"8MJW":function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r="comment"},"8PLQ":function(e){e.exports=JSON.parse('{"Aacute":"","aacute":"","Abreve":"","abreve":"","ac":"","acd":"","acE":"","Acirc":"","acirc":"","acute":"","Acy":"","acy":"","AElig":"","aelig":"","af":"","Afr":"","afr":"","Agrave":"","agrave":"","alefsym":"","aleph":"","Alpha":"","alpha":"","Amacr":"","amacr":"","amalg":"","amp":"&","AMP":"&","andand":"","And":"","and":"","andd":"","andslope":"","andv":"","ang":"","ange":"","angle":"","angmsdaa":"","angmsdab":"","angmsdac":"","angmsdad":"","angmsdae":"","angmsdaf":"","angmsdag":"","angmsdah":"","angmsd":"","angrt":"","angrtvb":"","angrtvbd":"","angsph":"","angst":"","angzarr":"","Aogon":"","aogon":"","Aopf":"","aopf":"","apacir":"","ap":"","apE":"","ape":"","apid":"","apos":"\'","ApplyFunction":"","approx":"","approxeq":"","Aring":"","aring":"","Ascr":"","ascr":"","Assign":"","ast":"*","asymp":"","asympeq":"","Atilde":"","atilde":"","Auml":"","auml":"","awconint":"","awint":"","backcong":"","backepsilon":"","backprime":"","backsim":"","backsimeq":"","Backslash":"","Barv":"","barvee":"","barwed":"","Barwed":"","barwedge":"","bbrk":"","bbrktbrk":"","bcong":"","Bcy":"","bcy":"","bdquo":"","becaus":"","because":"","Because":"","bemptyv":"","bepsi":"","bernou":"","Bernoullis":"","Beta":"","beta":"","beth":"","between":"","Bfr":"","bfr":"","bigcap":"","bigcirc":"","bigcup":"","bigodot":"","bigoplus":"","bigotimes":"","bigsqcup":"","bigstar":"","bigtriangledown":"","bigtriangleup":"","biguplus":"","bigvee":"","bigwedge":"","bkarow":"","blacklozenge":"","blacksquare":"","blacktriangle":"","blacktriangledown":"","blacktriangleleft":"","blacktriangleright":"","blank":"","blk12":"","blk14":"","blk34":"","block":"","bne":"=","bnequiv":"","bNot":"","bnot":"","Bopf":"","bopf":"","bot":"","bottom":"","bowtie":"","boxbox":"","boxdl":"","boxdL":"","boxDl":"","boxDL":"","boxdr":"","boxdR":"","boxDr":"","boxDR":"","boxh":"","boxH":"","boxhd":"","boxHd":"","boxhD":"","boxHD":"","boxhu":"","boxHu":"","boxhU":"","boxHU":"","boxminus":"","boxplus":"","boxtimes":"","boxul":"","boxuL":"","boxUl":"","boxUL":"","boxur":"","boxuR":"","boxUr":"","boxUR":"","boxv":"","boxV":"","boxvh":"","boxvH":"","boxVh":"","boxVH":"","boxvl":"","boxvL":"","boxVl":"","boxVL":"","boxvr":"","boxvR":"","boxVr":"","boxVR":"","bprime":"","breve":"","Breve":"","brvbar":"","bscr":"","Bscr":"","bsemi":"","bsim":"","bsime":"","bsolb":"","bsol":"\\\\","bsolhsub":"","bull":"","bullet":"","bump":"","bumpE":"","bumpe":"","Bumpeq":"","bumpeq":"","Cacute":"","cacute":"","capand":"","capbrcup":"","capcap":"","cap":"","Cap":"","capcup":"","capdot":"","CapitalDifferentialD":"","caps":"","caret":"","caron":"","Cayleys":"","ccaps":"","Ccaron":"","ccaron":"","Ccedil":"","ccedil":"","Ccirc":"","ccirc":"","Cconint":"","ccups":"","ccupssm":"","Cdot":"","cdot":"","cedil":"","Cedilla":"","cemptyv":"","cent":"","centerdot":"","CenterDot":"","cfr":"","Cfr":"","CHcy":"","chcy":"","check":"","checkmark":"","Chi":"","chi":"","circ":"","circeq":"","circlearrowleft":"","circlearrowright":"","circledast":"","circledcirc":"","circleddash":"","CircleDot":"","circledR":"","circledS":"","CircleMinus":"","CirclePlus":"","CircleTimes":"","cir":"","cirE":"","cire":"","cirfnint":"","cirmid":"","cirscir":"","ClockwiseContourIntegral":"","CloseCurlyDoubleQuote":"","CloseCurlyQuote":"","clubs":"","clubsuit":"","colon":":","Colon":"","Colone":"","colone":"","coloneq":"","comma":",","commat":"@","comp":"","compfn":"","complement":"","complexes":"","cong":"","congdot":"","Congruent":"","conint":"","Conint":"","ContourIntegral":"","copf":"","Copf":"","coprod":"","Coproduct":"","copy":"","COPY":"","copysr":"","CounterClockwiseContourIntegral":"","crarr":"","cross":"","Cross":"","Cscr":"","cscr":"","csub":"","csube":"","csup":"","csupe":"","ctdot":"","cudarrl":"","cudarrr":"","cuepr":"","cuesc":"","cularr":"","cularrp":"","cupbrcap":"","cupcap":"","CupCap":"","cup":"","Cup":"","cupcup":"","cupdot":"","cupor":"","cups":"","curarr":"","curarrm":"","curlyeqprec":"","curlyeqsucc":"","curlyvee":"","curlywedge":"","curren":"","curvearrowleft":"","curvearrowright":"","cuvee":"","cuwed":"","cwconint":"","cwint":"","cylcty":"","dagger":"","Dagger":"","daleth":"","darr":"","Darr":"","dArr":"","dash":"","Dashv":"","dashv":"","dbkarow":"","dblac":"","Dcaron":"","dcaron":"","Dcy":"","dcy":"","ddagger":"","ddarr":"","DD":"","dd":"","DDotrahd":"","ddotseq":"","deg":"","Del":"","Delta":"","delta":"","demptyv":"","dfisht":"","Dfr":"","dfr":"","dHar":"","dharl":"","dharr":"","DiacriticalAcute":"","DiacriticalDot":"","DiacriticalDoubleAcute":"","DiacriticalGrave":"`","DiacriticalTilde":"","diam":"","diamond":"","Diamond":"","diamondsuit":"","diams":"","die":"","DifferentialD":"","digamma":"","disin":"","div":"","divide":"","divideontimes":"","divonx":"","DJcy":"","djcy":"","dlcorn":"","dlcrop":"","dollar":"$","Dopf":"","dopf":"","Dot":"","dot":"","DotDot":"","doteq":"","doteqdot":"","DotEqual":"","dotminus":"","dotplus":"","dotsquare":"","doublebarwedge":"","DoubleContourIntegral":"","DoubleDot":"","DoubleDownArrow":"","DoubleLeftArrow":"","DoubleLeftRightArrow":"","DoubleLeftTee":"","DoubleLongLeftArrow":"","DoubleLongLeftRightArrow":"","DoubleLongRightArrow":"","DoubleRightArrow":"","DoubleRightTee":"","DoubleUpArrow":"","DoubleUpDownArrow":"","DoubleVerticalBar":"","DownArrowBar":"","downarrow":"","DownArrow":"","Downarrow":"","DownArrowUpArrow":"","DownBreve":"","downdownarrows":"","downharpoonleft":"","downharpoonright":"","DownLeftRightVector":"","DownLeftTeeVector":"","DownLeftVectorBar":"","DownLeftVector":"","DownRightTeeVector":"","DownRightVectorBar":"","DownRightVector":"","DownTeeArrow":"","DownTee":"","drbkarow":"","drcorn":"","drcrop":"","Dscr":"","dscr":"","DScy":"","dscy":"","dsol":"","Dstrok":"","dstrok":"","dtdot":"","dtri":"","dtrif":"","duarr":"","duhar":"","dwangle":"","DZcy":"","dzcy":"","dzigrarr":"","Eacute":"","eacute":"","easter":"","Ecaron":"","ecaron":"","Ecirc":"","ecirc":"","ecir":"","ecolon":"","Ecy":"","ecy":"","eDDot":"","Edot":"","edot":"","eDot":"","ee":"","efDot":"","Efr":"","efr":"","eg":"","Egrave":"","egrave":"","egs":"","egsdot":"","el":"","Element":"","elinters":"","ell":"","els":"","elsdot":"","Emacr":"","emacr":"","empty":"","emptyset":"","EmptySmallSquare":"","emptyv":"","EmptyVerySmallSquare":"","emsp13":"","emsp14":"","emsp":"","ENG":"","eng":"","ensp":"","Eogon":"","eogon":"","Eopf":"","eopf":"","epar":"","eparsl":"","eplus":"","epsi":"","Epsilon":"","epsilon":"","epsiv":"","eqcirc":"","eqcolon":"","eqsim":"","eqslantgtr":"","eqslantless":"","Equal":"","equals":"=","EqualTilde":"","equest":"","Equilibrium":"","equiv":"","equivDD":"","eqvparsl":"","erarr":"","erDot":"","escr":"","Escr":"","esdot":"","Esim":"","esim":"","Eta":"","eta":"","ETH":"","eth":"","Euml":"","euml":"","euro":"","excl":"!","exist":"","Exists":"","expectation":"","exponentiale":"","ExponentialE":"","fallingdotseq":"","Fcy":"","fcy":"","female":"","ffilig":"","fflig":"","ffllig":"","Ffr":"","ffr":"","filig":"","FilledSmallSquare":"","FilledVerySmallSquare":"","fjlig":"fj","flat":"","fllig":"","fltns":"","fnof":"","Fopf":"","fopf":"","forall":"","ForAll":"","fork":"","forkv":"","Fouriertrf":"","fpartint":"","frac12":"","frac13":"","frac14":"","frac15":"","frac16":"","frac18":"","frac23":"","frac25":"","frac34":"","frac35":"","frac38":"","frac45":"","frac56":"","frac58":"","frac78":"","frasl":"","frown":"","fscr":"","Fscr":"","gacute":"","Gamma":"","gamma":"","Gammad":"","gammad":"","gap":"","Gbreve":"","gbreve":"","Gcedil":"","Gcirc":"","gcirc":"","Gcy":"","gcy":"","Gdot":"","gdot":"","ge":"","gE":"","gEl":"","gel":"","geq":"","geqq":"","geqslant":"","gescc":"","ges":"","gesdot":"","gesdoto":"","gesdotol":"","gesl":"","gesles":"","Gfr":"","gfr":"","gg":"","Gg":"","ggg":"","gimel":"","GJcy":"","gjcy":"","gla":"","gl":"","glE":"","glj":"","gnap":"","gnapprox":"","gne":"","gnE":"","gneq":"","gneqq":"","gnsim":"","Gopf":"","gopf":"","grave":"`","GreaterEqual":"","GreaterEqualLess":"","GreaterFullEqual":"","GreaterGreater":"","GreaterLess":"","GreaterSlantEqual":"","GreaterTilde":"","Gscr":"","gscr":"","gsim":"","gsime":"","gsiml":"","gtcc":"","gtcir":"","gt":">","GT":">","Gt":"","gtdot":"","gtlPar":"","gtquest":"","gtrapprox":"","gtrarr":"","gtrdot":"","gtreqless":"","gtreqqless":"","gtrless":"","gtrsim":"","gvertneqq":"","gvnE":"","Hacek":"","hairsp":"","half":"","hamilt":"","HARDcy":"","hardcy":"","harrcir":"","harr":"","hArr":"","harrw":"","Hat":"^","hbar":"","Hcirc":"","hcirc":"","hearts":"","heartsuit":"","hellip":"","hercon":"","hfr":"","Hfr":"","HilbertSpace":"","hksearow":"","hkswarow":"","hoarr":"","homtht":"","hookleftarrow":"","hookrightarrow":"","hopf":"","Hopf":"","horbar":"","HorizontalLine":"","hscr":"","Hscr":"","hslash":"","Hstrok":"","hstrok":"","HumpDownHump":"","HumpEqual":"","hybull":"","hyphen":"","Iacute":"","iacute":"","ic":"","Icirc":"","icirc":"","Icy":"","icy":"","Idot":"","IEcy":"","iecy":"","iexcl":"","iff":"","ifr":"","Ifr":"","Igrave":"","igrave":"","ii":"","iiiint":"","iiint":"","iinfin":"","iiota":"","IJlig":"","ijlig":"","Imacr":"","imacr":"","image":"","ImaginaryI":"","imagline":"","imagpart":"","imath":"","Im":"","imof":"","imped":"","Implies":"","incare":"","in":"","infin":"","infintie":"","inodot":"","intcal":"","int":"","Int":"","integers":"","Integral":"","intercal":"","Intersection":"","intlarhk":"","intprod":"","InvisibleComma":"","InvisibleTimes":"","IOcy":"","iocy":"","Iogon":"","iogon":"","Iopf":"","iopf":"","Iota":"","iota":"","iprod":"","iquest":"","iscr":"","Iscr":"","isin":"","isindot":"","isinE":"","isins":"","isinsv":"","isinv":"","it":"","Itilde":"","itilde":"","Iukcy":"","iukcy":"","Iuml":"","iuml":"","Jcirc":"","jcirc":"","Jcy":"","jcy":"","Jfr":"","jfr":"","jmath":"","Jopf":"","jopf":"","Jscr":"","jscr":"","Jsercy":"","jsercy":"","Jukcy":"","jukcy":"","Kappa":"","kappa":"","kappav":"","Kcedil":"","kcedil":"","Kcy":"","kcy":"","Kfr":"","kfr":"","kgreen":"","KHcy":"","khcy":"","KJcy":"","kjcy":"","Kopf":"","kopf":"","Kscr":"","kscr":"","lAarr":"","Lacute":"","lacute":"","laemptyv":"","lagran":"","Lambda":"","lambda":"","lang":"","Lang":"","langd":"","langle":"","lap":"","Laplacetrf":"","laquo":"","larrb":"","larrbfs":"","larr":"","Larr":"","lArr":"","larrfs":"","larrhk":"","larrlp":"","larrpl":"","larrsim":"","larrtl":"","latail":"","lAtail":"","lat":"","late":"","lates":"","lbarr":"","lBarr":"","lbbrk":"","lbrace":"{","lbrack":"[","lbrke":"","lbrksld":"","lbrkslu":"","Lcaron":"","lcaron":"","Lcedil":"","lcedil":"","lceil":"","lcub":"{","Lcy":"","lcy":"","ldca":"","ldquo":"","ldquor":"","ldrdhar":"","ldrushar":"","ldsh":"","le":"","lE":"","LeftAngleBracket":"","LeftArrowBar":"","leftarrow":"","LeftArrow":"","Leftarrow":"","LeftArrowRightArrow":"","leftarrowtail":"","LeftCeiling":"","LeftDoubleBracket":"","LeftDownTeeVector":"","LeftDownVectorBar":"","LeftDownVector":"","LeftFloor":"","leftharpoondown":"","leftharpoonup":"","leftleftarrows":"","leftrightarrow":"","LeftRightArrow":"","Leftrightarrow":"","leftrightarrows":"","leftrightharpoons":"","leftrightsquigarrow":"","LeftRightVector":"","LeftTeeArrow":"","LeftTee":"","LeftTeeVector":"","leftthreetimes":"","LeftTriangleBar":"","LeftTriangle":"","LeftTriangleEqual":"","LeftUpDownVector":"","LeftUpTeeVector":"","LeftUpVectorBar":"","LeftUpVector":"","LeftVectorBar":"","LeftVector":"","lEg":"","leg":"","leq":"","leqq":"","leqslant":"","lescc":"","les":"","lesdot":"","lesdoto":"","lesdotor":"","lesg":"","lesges":"","lessapprox":"","lessdot":"","lesseqgtr":"","lesseqqgtr":"","LessEqualGreater":"","LessFullEqual":"","LessGreater":"","lessgtr":"","LessLess":"","lesssim":"","LessSlantEqual":"","LessTilde":"","lfisht":"","lfloor":"","Lfr":"","lfr":"","lg":"","lgE":"","lHar":"","lhard":"","lharu":"","lharul":"","lhblk":"","LJcy":"","ljcy":"","llarr":"","ll":"","Ll":"","llcorner":"","Lleftarrow":"","llhard":"","lltri":"","Lmidot":"","lmidot":"","lmoustache":"","lmoust":"","lnap":"","lnapprox":"","lne":"","lnE":"","lneq":"","lneqq":"","lnsim":"","loang":"","loarr":"","lobrk":"","longleftarrow":"","LongLeftArrow":"","Longleftarrow":"","longleftrightarrow":"","LongLeftRightArrow":"","Longleftrightarrow":"","longmapsto":"","longrightarrow":"","LongRightArrow":"","Longrightarrow":"","looparrowleft":"","looparrowright":"","lopar":"","Lopf":"","lopf":"","loplus":"","lotimes":"","lowast":"","lowbar":"_","LowerLeftArrow":"","LowerRightArrow":"","loz":"","lozenge":"","lozf":"","lpar":"(","lparlt":"","lrarr":"","lrcorner":"","lrhar":"","lrhard":"","lrm":"","lrtri":"","lsaquo":"","lscr":"","Lscr":"","lsh":"","Lsh":"","lsim":"","lsime":"","lsimg":"","lsqb":"[","lsquo":"","lsquor":"","Lstrok":"","lstrok":"","ltcc":"","ltcir":"","lt":"<","LT":"<","Lt":"","ltdot":"","lthree":"","ltimes":"","ltlarr":"","ltquest":"","ltri":"","ltrie":"","ltrif":"","ltrPar":"","lurdshar":"","luruhar":"","lvertneqq":"","lvnE":"","macr":"","male":"","malt":"","maltese":"","Map":"","map":"","mapsto":"","mapstodown":"","mapstoleft":"","mapstoup":"","marker":"","mcomma":"","Mcy":"","mcy":"","mdash":"","mDDot":"","measuredangle":"","MediumSpace":"","Mellintrf":"","Mfr":"","mfr":"","mho":"","micro":"","midast":"*","midcir":"","mid":"","middot":"","minusb":"","minus":"","minusd":"","minusdu":"","MinusPlus":"","mlcp":"","mldr":"","mnplus":"","models":"","Mopf":"","mopf":"","mp":"","mscr":"","Mscr":"","mstpos":"","Mu":"","mu":"","multimap":"","mumap":"","nabla":"","Nacute":"","nacute":"","nang":"","nap":"","napE":"","napid":"","napos":"","napprox":"","natural":"","naturals":"","natur":"","nbsp":"","nbump":"","nbumpe":"","ncap":"","Ncaron":"","ncaron":"","Ncedil":"","ncedil":"","ncong":"","ncongdot":"","ncup":"","Ncy":"","ncy":"","ndash":"","nearhk":"","nearr":"","neArr":"","nearrow":"","ne":"","nedot":"","NegativeMediumSpace":"","NegativeThickSpace":"","NegativeThinSpace":"","NegativeVeryThinSpace":"","nequiv":"","nesear":"","nesim":"","NestedGreaterGreater":"","NestedLessLess":"","NewLine":"\\n","nexist":"","nexists":"","Nfr":"","nfr":"","ngE":"","nge":"","ngeq":"","ngeqq":"","ngeqslant":"","nges":"","nGg":"","ngsim":"","nGt":"","ngt":"","ngtr":"","nGtv":"","nharr":"","nhArr":"","nhpar":"","ni":"","nis":"","nisd":"","niv":"","NJcy":"","njcy":"","nlarr":"","nlArr":"","nldr":"","nlE":"","nle":"","nleftarrow":"","nLeftarrow":"","nleftrightarrow":"","nLeftrightarrow":"","nleq":"","nleqq":"","nleqslant":"","nles":"","nless":"","nLl":"","nlsim":"","nLt":"","nlt":"","nltri":"","nltrie":"","nLtv":"","nmid":"","NoBreak":"","NonBreakingSpace":"","nopf":"","Nopf":"","Not":"","not":"","NotCongruent":"","NotCupCap":"","NotDoubleVerticalBar":"","NotElement":"","NotEqual":"","NotEqualTilde":"","NotExists":"","NotGreater":"","NotGreaterEqual":"","NotGreaterFullEqual":"","NotGreaterGreater":"","NotGreaterLess":"","NotGreaterSlantEqual":"","NotGreaterTilde":"","NotHumpDownHump":"","NotHumpEqual":"","notin":"","notindot":"","notinE":"","notinva":"","notinvb":"","notinvc":"","NotLeftTriangleBar":"","NotLeftTriangle":"","NotLeftTriangleEqual":"","NotLess":"","NotLessEqual":"","NotLessGreater":"","NotLessLess":"","NotLessSlantEqual":"","NotLessTilde":"","NotNestedGreaterGreater":"","NotNestedLessLess":"","notni":"","notniva":"","notnivb":"","notnivc":"","NotPrecedes":"","NotPrecedesEqual":"","NotPrecedesSlantEqual":"","NotReverseElement":"","NotRightTriangleBar":"","NotRightTriangle":"","NotRightTriangleEqual":"","NotSquareSubset":"","NotSquareSubsetEqual":"","NotSquareSuperset":"","NotSquareSupersetEqual":"","NotSubset":"","NotSubsetEqual":"","NotSucceeds":"","NotSucceedsEqual":"","NotSucceedsSlantEqual":"","NotSucceedsTilde":"","NotSuperset":"","NotSupersetEqual":"","NotTilde":"","NotTildeEqual":"","NotTildeFullEqual":"","NotTildeTilde":"","NotVerticalBar":"","nparallel":"","npar":"","nparsl":"","npart":"","npolint":"","npr":"","nprcue":"","nprec":"","npreceq":"","npre":"","nrarrc":"","nrarr":"","nrArr":"","nrarrw":"","nrightarrow":"","nRightarrow":"","nrtri":"","nrtrie":"","nsc":"","nsccue":"","nsce":"","Nscr":"","nscr":"","nshortmid":"","nshortparallel":"","nsim":"","nsime":"","nsimeq":"","nsmid":"","nspar":"","nsqsube":"","nsqsupe":"","nsub":"","nsubE":"","nsube":"","nsubset":"","nsubseteq":"","nsubseteqq":"","nsucc":"","nsucceq":"","nsup":"","nsupE":"","nsupe":"","nsupset":"","nsupseteq":"","nsupseteqq":"","ntgl":"","Ntilde":"","ntilde":"","ntlg":"","ntriangleleft":"","ntrianglelefteq":"","ntriangleright":"","ntrianglerighteq":"","Nu":"","nu":"","num":"#","numero":"","numsp":"","nvap":"","nvdash":"","nvDash":"","nVdash":"","nVDash":"","nvge":"","nvgt":">","nvHarr":"","nvinfin":"","nvlArr":"","nvle":"","nvlt":"<","nvltrie":"","nvrArr":"","nvrtrie":"","nvsim":"","nwarhk":"","nwarr":"","nwArr":"","nwarrow":"","nwnear":"","Oacute":"","oacute":"","oast":"","Ocirc":"","ocirc":"","ocir":"","Ocy":"","ocy":"","odash":"","Odblac":"","odblac":"","odiv":"","odot":"","odsold":"","OElig":"","oelig":"","ofcir":"","Ofr":"","ofr":"","ogon":"","Ograve":"","ograve":"","ogt":"","ohbar":"","ohm":"","oint":"","olarr":"","olcir":"","olcross":"","oline":"","olt":"","Omacr":"","omacr":"","Omega":"","omega":"","Omicron":"","omicron":"","omid":"","ominus":"","Oopf":"","oopf":"","opar":"","OpenCurlyDoubleQuote":"","OpenCurlyQuote":"","operp":"","oplus":"","orarr":"","Or":"","or":"","ord":"","order":"","orderof":"","ordf":"","ordm":"","origof":"","oror":"","orslope":"","orv":"","oS":"","Oscr":"","oscr":"","Oslash":"","oslash":"","osol":"","Otilde":"","otilde":"","otimesas":"","Otimes":"","otimes":"","Ouml":"","ouml":"","ovbar":"","OverBar":"","OverBrace":"","OverBracket":"","OverParenthesis":"","para":"","parallel":"","par":"","parsim":"","parsl":"","part":"","PartialD":"","Pcy":"","pcy":"","percnt":"%","period":".","permil":"","perp":"","pertenk":"","Pfr":"","pfr":"","Phi":"","phi":"","phiv":"","phmmat":"","phone":"","Pi":"","pi":"","pitchfork":"","piv":"","planck":"","planckh":"","plankv":"","plusacir":"","plusb":"","pluscir":"","plus":"+","plusdo":"","plusdu":"","pluse":"","PlusMinus":"","plusmn":"","plussim":"","plustwo":"","pm":"","Poincareplane":"","pointint":"","popf":"","Popf":"","pound":"","prap":"","Pr":"","pr":"","prcue":"","precapprox":"","prec":"","preccurlyeq":"","Precedes":"","PrecedesEqual":"","PrecedesSlantEqual":"","PrecedesTilde":"","preceq":"","precnapprox":"","precneqq":"","precnsim":"","pre":"","prE":"","precsim":"","prime":"","Prime":"","primes":"","prnap":"","prnE":"","prnsim":"","prod":"","Product":"","profalar":"","profline":"","profsurf":"","prop":"","Proportional":"","Proportion":"","propto":"","prsim":"","prurel":"","Pscr":"","pscr":"","Psi":"","psi":"","puncsp":"","Qfr":"","qfr":"","qint":"","qopf":"","Qopf":"","qprime":"","Qscr":"","qscr":"","quaternions":"","quatint":"","quest":"?","questeq":"","quot":"\\"","QUOT":"\\"","rAarr":"","race":"","Racute":"","racute":"","radic":"","raemptyv":"","rang":"","Rang":"","rangd":"","range":"","rangle":"","raquo":"","rarrap":"","rarrb":"","rarrbfs":"","rarrc":"","rarr":"","Rarr":"","rArr":"","rarrfs":"","rarrhk":"","rarrlp":"","rarrpl":"","rarrsim":"","Rarrtl":"","rarrtl":"","rarrw":"","ratail":"","rAtail":"","ratio":"","rationals":"","rbarr":"","rBarr":"","RBarr":"","rbbrk":"","rbrace":"}","rbrack":"]","rbrke":"","rbrksld":"","rbrkslu":"","Rcaron":"","rcaron":"","Rcedil":"","rcedil":"","rceil":"","rcub":"}","Rcy":"","rcy":"","rdca":"","rdldhar":"","rdquo":"","rdquor":"","rdsh":"","real":"","realine":"","realpart":"","reals":"","Re":"","rect":"","reg":"","REG":"","ReverseElement":"","ReverseEquilibrium":"","ReverseUpEquilibrium":"","rfisht":"","rfloor":"","rfr":"","Rfr":"","rHar":"","rhard":"","rharu":"","rharul":"","Rho":"","rho":"","rhov":"","RightAngleBracket":"","RightArrowBar":"","rightarrow":"","RightArrow":"","Rightarrow":"","RightArrowLeftArrow":"","rightarrowtail":"","RightCeiling":"","RightDoubleBracket":"","RightDownTeeVector":"","RightDownVectorBar":"","RightDownVector":"","RightFloor":"","rightharpoondown":"","rightharpoonup":"","rightleftarrows":"","rightleftharpoons":"","rightrightarrows":"","rightsquigarrow":"","RightTeeArrow":"","RightTee":"","RightTeeVector":"","rightthreetimes":"","RightTriangleBar":"","RightTriangle":"","RightTriangleEqual":"","RightUpDownVector":"","RightUpTeeVector":"","RightUpVectorBar":"","RightUpVector":"","RightVectorBar":"","RightVector":"","ring":"","risingdotseq":"","rlarr":"","rlhar":"","rlm":"","rmoustache":"","rmoust":"","rnmid":"","roang":"","roarr":"","robrk":"","ropar":"","ropf":"","Ropf":"","roplus":"","rotimes":"","RoundImplies":"","rpar":")","rpargt":"","rppolint":"","rrarr":"","Rrightarrow":"","rsaquo":"","rscr":"","Rscr":"","rsh":"","Rsh":"","rsqb":"]","rsquo":"","rsquor":"","rthree":"","rtimes":"","rtri":"","rtrie":"","rtrif":"","rtriltri":"","RuleDelayed":"","ruluhar":"","rx":"","Sacute":"","sacute":"","sbquo":"","scap":"","Scaron":"","scaron":"","Sc":"","sc":"","sccue":"","sce":"","scE":"","Scedil":"","scedil":"","Scirc":"","scirc":"","scnap":"","scnE":"","scnsim":"","scpolint":"","scsim":"","Scy":"","scy":"","sdotb":"","sdot":"","sdote":"","searhk":"","searr":"","seArr":"","searrow":"","sect":"","semi":";","seswar":"","setminus":"","setmn":"","sext":"","Sfr":"","sfr":"","sfrown":"","sharp":"","SHCHcy":"","shchcy":"","SHcy":"","shcy":"","ShortDownArrow":"","ShortLeftArrow":"","shortmid":"","shortparallel":"","ShortRightArrow":"","ShortUpArrow":"","shy":"","Sigma":"","sigma":"","sigmaf":"","sigmav":"","sim":"","simdot":"","sime":"","simeq":"","simg":"","simgE":"","siml":"","simlE":"","simne":"","simplus":"","simrarr":"","slarr":"","SmallCircle":"","smallsetminus":"","smashp":"","smeparsl":"","smid":"","smile":"","smt":"","smte":"","smtes":"","SOFTcy":"","softcy":"","solbar":"","solb":"","sol":"/","Sopf":"","sopf":"","spades":"","spadesuit":"","spar":"","sqcap":"","sqcaps":"","sqcup":"","sqcups":"","Sqrt":"","sqsub":"","sqsube":"","sqsubset":"","sqsubseteq":"","sqsup":"","sqsupe":"","sqsupset":"","sqsupseteq":"","square":"","Square":"","SquareIntersection":"","SquareSubset":"","SquareSubsetEqual":"","SquareSuperset":"","SquareSupersetEqual":"","SquareUnion":"","squarf":"","squ":"","squf":"","srarr":"","Sscr":"","sscr":"","ssetmn":"","ssmile":"","sstarf":"","Star":"","star":"","starf":"","straightepsilon":"","straightphi":"","strns":"","sub":"","Sub":"","subdot":"","subE":"","sube":"","subedot":"","submult":"","subnE":"","subne":"","subplus":"","subrarr":"","subset":"","Subset":"","subseteq":"","subseteqq":"","SubsetEqual":"","subsetneq":"","subsetneqq":"","subsim":"","subsub":"","subsup":"","succapprox":"","succ":"","succcurlyeq":"","Succeeds":"","SucceedsEqual":"","SucceedsSlantEqual":"","SucceedsTilde":"","succeq":"","succnapprox":"","succneqq":"","succnsim":"","succsim":"","SuchThat":"","sum":"","Sum":"","sung":"","sup1":"","sup2":"","sup3":"","sup":"","Sup":"","supdot":"","supdsub":"","supE":"","supe":"","supedot":"","Superset":"","SupersetEqual":"","suphsol":"","suphsub":"","suplarr":"","supmult":"","supnE":"","supne":"","supplus":"","supset":"","Supset":"","supseteq":"","supseteqq":"","supsetneq":"","supsetneqq":"","supsim":"","supsub":"","supsup":"","swarhk":"","swarr":"","swArr":"","swarrow":"","swnwar":"","szlig":"","Tab":"\\t","target":"","Tau":"","tau":"","tbrk":"","Tcaron":"","tcaron":"","Tcedil":"","tcedil":"","Tcy":"","tcy":"","tdot":"","telrec":"","Tfr":"","tfr":"","there4":"","therefore":"","Therefore":"","Theta":"","theta":"","thetasym":"","thetav":"","thickapprox":"","thicksim":"","ThickSpace":"","ThinSpace":"","thinsp":"","thkap":"","thksim":"","THORN":"","thorn":"","tilde":"","Tilde":"","TildeEqual":"","TildeFullEqual":"","TildeTilde":"","timesbar":"","timesb":"","times":"","timesd":"","tint":"","toea":"","topbot":"","topcir":"","top":"","Topf":"","topf":"","topfork":"","tosa":"","tprime":"","trade":"","TRADE":"","triangle":"","triangledown":"","triangleleft":"","trianglelefteq":"","triangleq":"","triangleright":"","trianglerighteq":"","tridot":"","trie":"","triminus":"","TripleDot":"","triplus":"","trisb":"","tritime":"","trpezium":"","Tscr":"","tscr":"","TScy":"","tscy":"","TSHcy":"","tshcy":"","Tstrok":"","tstrok":"","twixt":"","twoheadleftarrow":"","twoheadrightarrow":"","Uacute":"","uacute":"","uarr":"","Uarr":"","uArr":"","Uarrocir":"","Ubrcy":"","ubrcy":"","Ubreve":"","ubreve":"","Ucirc":"","ucirc":"","Ucy":"","ucy":"","udarr":"","Udblac":"","udblac":"","udhar":"","ufisht":"","Ufr":"","ufr":"","Ugrave":"","ugrave":"","uHar":"","uharl":"","uharr":"","uhblk":"","ulcorn":"","ulcorner":"","ulcrop":"","ultri":"","Umacr":"","umacr":"","uml":"","UnderBar":"_","UnderBrace":"","UnderBracket":"","UnderParenthesis":"","Union":"","UnionPlus":"","Uogon":"","uogon":"","Uopf":"","uopf":"","UpArrowBar":"","uparrow":"","UpArrow":"","Uparrow":"","UpArrowDownArrow":"","updownarrow":"","UpDownArrow":"","Updownarrow":"","UpEquilibrium":"","upharpoonleft":"","upharpoonright":"","uplus":"","UpperLeftArrow":"","UpperRightArrow":"","upsi":"","Upsi":"","upsih":"","Upsilon":"","upsilon":"","UpTeeArrow":"","UpTee":"","upuparrows":"","urcorn":"","urcorner":"","urcrop":"","Uring":"","uring":"","urtri":"","Uscr":"","uscr":"","utdot":"","Utilde":"","utilde":"","utri":"","utrif":"","uuarr":"","Uuml":"","uuml":"","uwangle":"","vangrt":"","varepsilon":"","varkappa":"","varnothing":"","varphi":"","varpi":"","varpropto":"","varr":"","vArr":"","varrho":"","varsigma":"","varsubsetneq":"","varsubsetneqq":"","varsupsetneq":"","varsupsetneqq":"","vartheta":"","vartriangleleft":"","vartriangleright":"","vBar":"","Vbar":"","vBarv":"","Vcy":"","vcy":"","vdash":"","vDash":"","Vdash":"","VDash":"","Vdashl":"","veebar":"","vee":"","Vee":"","veeeq":"","vellip":"","verbar":"|","Verbar":"","vert":"|","Vert":"","VerticalBar":"","VerticalLine":"|","VerticalSeparator":"","VerticalTilde":"","VeryThinSpace":"","Vfr":"","vfr":"","vltri":"","vnsub":"","vnsup":"","Vopf":"","vopf":"","vprop":"","vrtri":"","Vscr":"","vscr":"","vsubnE":"","vsubne":"","vsupnE":"","vsupne":"","Vvdash":"","vzigzag":"","Wcirc":"","wcirc":"","wedbar":"","wedge":"","Wedge":"","wedgeq":"","weierp":"","Wfr":"","wfr":"","Wopf":"","wopf":"","wp":"","wr":"","wreath":"","Wscr":"","wscr":"","xcap":"","xcirc":"","xcup":"","xdtri":"","Xfr":"","xfr":"","xharr":"","xhArr":"","Xi":"","xi":"","xlarr":"","xlArr":"","xmap":"","xnis":"","xodot":"","Xopf":"","xopf":"","xoplus":"","xotime":"","xrarr":"","xrArr":"","Xscr":"","xscr":"","xsqcup":"","xuplus":"","xutri":"","xvee":"","xwedge":"","Yacute":"","yacute":"","YAcy":"","yacy":"","Ycirc":"","ycirc":"","Ycy":"","ycy":"","yen":"","Yfr":"","yfr":"","YIcy":"","yicy":"","Yopf":"","yopf":"","Yscr":"","yscr":"","YUcy":"","yucy":"","yuml":"","Yuml":"","Zacute":"","zacute":"","Zcaron":"","zcaron":"","Zcy":"","zcy":"","Zdot":"","zdot":"","zeetrf":"","ZeroWidthSpace":"","Zeta":"","zeta":"","zfr":"","Zfr":"","ZHcy":"","zhcy":"","zigrarr":"","zopf":"","Zopf":"","Zscr":"","zscr":"","zwj":"","zwnj":""}')},"8Wa3":function(e,t,n){"use strict";var r=n("6DQo"),i=n.n(r),o=n("q1tI"),a=n.n(o),s=n("17x9"),c=n.n(s),u=n("YHGo"),l=n("nr6O");function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var h,g=(f(m,h=a.a.Component),m.prototype.componentWillMount=function(){i()(!this.props.history,"<MemoryRouter> ignores the history prop. To use a custom history, use `import { Router }` instead of `import { MemoryRouter as Router }`.")},m.prototype.render=function(){return a.a.createElement(l.a,{history:this.history,children:this.props.children})},m);function m(){var e,t;d(this,m);for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t=p(this,h.call.apply(h,[this].concat(r)))).history=Object(u.d)(t.props),p(t,e)}g.propTypes={initialEntries:c.a.array,initialIndex:c.a.number,getUserConfirmation:c.a.func,keyLength:c.a.number,children:c.a.node},t.a=g},"8ZiO":function(e,t,n){"use strict";var r,i;n.d(t,"a",function(){return r}),(i=r=r||{}).ruRU="ru-RU",i.itIT="it-IT",i.deDE="de-DE",i.idID="id-ID",i.hiIN="hi-IN",i.enUS="en-US",i.esES="es-ES",i.jaJP="ja-JP",i.thTH="th-TH",i.frFR="fr-FR",i.zhCN="zh-CN",i.ptBR="pt-BR",i.koKR="ko-KR",i.viVN="vi-VN"},"8g0u":function(e,t,n){"use strict";n.d(t,"b",function(){return u}),n.d(t,"a",function(){return l});var h=n("lCmp"),r=n("peh1"),i=n("vc5i"),o=n("94ch"),g=n("uQON"),a=n("NltJ"),s=n("QM+C"),c=function(e){return e.appState.commentData},u=function(e){return e.appState.commentHistory.reopening},l=Object(r.createSelector)(function(e){return c(e)},function(e){return Object(a.f)(e)},function(e){return u(e)},function(e){return Object(o.a)(e)},function(e){return Object(i.n)(e)},function(e){return Object(i.o)(e)},function(e,c,u,l,t,n){if(0===Object.keys(e).length)return[];var r,d=e["".concat(n,"-").concat(t)],p=[],f=n===s.NUM_FILE_TYPE.SHEET,i=function(t){var e,n,r,i=d[t],o=i.finish,a=i.isWhole,s=i.commentList;c.find(function(e){return e.commentId===t})||(n=e=!1,o?e=!0:a||f||(n=Object(h.a)(s,function(e){return!e.deleted})),(e||n||u.has(t))&&s&&(r=s.reduce(function(e,t){var n,r=t.userId;return l.get(r)&&(n=Object(g.m)(t,l),e.push(n)),e},[]),p.push(Object.assign({},Object(g.a)(i),{comment_list:r,comment_id:t}))))};for(r in d)i(r);return p.sort(function(e,t){return t.finish_timestamp-e.finish_timestamp})})},"8mZy":function(e,t,n){"use strict";n.d(t,"a",function(){return s}),n.d(t,"i",function(){return o}),n.d(t,"f",function(){return a}),n.d(t,"g",function(){return d}),n.d(t,"h",function(){return p}),n.d(t,"d",function(){return f}),n.d(t,"e",function(){return h}),n.d(t,"c",function(){return g}),n.d(t,"b",function(){return m});var s,r,i=n("lSNA"),c=n.n(i),u=n("jp/M"),l=n("QM+C");(r=s=s||{}).Issue="issue",r.Filter="filter";var o=function(e){var t=e.type,n=e.blockToken,r=e.visibleFieldIds,i=e.teaSource,o=e.authState,a=e.baseUrl;return c()({type:u.actionTypes.jira.FETCH_SYNC_JIRA,payload:{type:t,blockToken:n,visibleFieldIds:r,teaSource:i,authState:o,baseUrl:a}},l.REQUEST,{url:t===s.Issue?u.apiUrls.JIRA_ISSUE_SYNC:u.apiUrls.JIRA_FILTER_SYNC,method:u.apiUrls.METHOD.POST,data:{issueID:"",blockToken:n,visibleFieldIds:r}})},a=function(e){return c()({type:u.actionTypes.jira.FETCH_JIRA_ISSUE_INIT_DATA},l.REQUEST,{url:u.apiUrls.JIRA_ISSUE_GET_BY_URL,method:u.apiUrls.METHOD.GET,params:{url:e}})},d=function(){return c()({type:u.actionTypes.jira.FETCH_JIRA_AUTH_STATUS},l.REQUEST,{url:u.apiUrls.FETCH_JIRA_AUTH_STATUS,method:u.apiUrls.METHOD.POST})},p=function(){return{type:u.actionTypes.jira.FETCH_JIRA_AUTH_STATUS_FAIL,payload:{}}},f=function(e){return{type:u.actionTypes.jira.FAKE_SYNC_JIRA_START,payload:{blockToken:e}}},h=function(e){return{type:u.actionTypes.jira.FAKE_SYNC_JIRA_SUCCESS,payload:{blockToken:e}}},g=function(e){return{type:u.actionTypes.jira.FAKE_SYNC_JIRA_FAIL,payload:{blockToken:e}}},m=function(e){return{type:u.actionTypes.jira.FAKE_SYNC_JIRA_END,payload:{blockToken:e}}}},"8wYP":function(e,t,n){"use strict";n.d(t,"c",function(){return R}),n.d(t,"d",function(){return N}),n.d(t,"a",function(){return i}),n.d(t,"b",function(){return o}),n.d(t,"e",function(){return a});var r=n("qAkX"),L="lmkr";function R(e,t){var n=t.numToAttrib;return e.map(function(e){var t=parseInt(e,36);return n[t]||[]})}function N(e,t){var i=t.numToAttrib;return e.reduce(function(e,t){var n=parseInt(t,36),r=i[n];return r&&(e[r[0]]=r[1]),e},{})}function i(e){return e.reduce(function(e,t){return e[t[0]]=t[1],e},{})}function o(e){for(var t=e.changesetHelper,n=e.rep,r=e.selStart,i=e.selEnd,o=e.retainLineMarker,a=void 0!==o&&o,s=n.alines,c=n.lines,u=n.apool,r=r||[0,0],i=i||[s.length-1,c.atIndex(s.length-1).text.length],l=r[0],d=i[0],p=[],f=l;f<=d;f++){for(var h=t.opIterator(s[f]),g=c.atIndex(f),m=f===r[0],v=f===i[0],y=m?r[1]:0,b=v?i[1]:g.text.length,E=0;h.hasNext();){var _=h.next(),C=_.chars,T=_.attribs;if(!((E+=C)<=y)){var O=[f,y],k=void 0,k=b<E?[f,b]:[f,E],S=g.text.slice(y,k[1]),y=E,w=T.split("*").slice(1),I=R(w,u),x=N(w,u);if(!a&&x[L]||p.push({selStart:O,selEnd:k,text:S,attributes:I,attribsNum:w}),b<=y)break}}f!==d&&b===g.text.length&&p.push({selStart:[f,b],selEnd:[f,b],text:"\n",attributes:[],attribsNum:[]})}return p}function a(e,t){var n;return e.hooks&&(n=e.hooks.callAll("collectText",{attributes:t.attributes})),n&&n.length?Object(r.a)(n):t.text}},"8wh8":function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"b",function(){return a});var r={},i={},o=function(){return r},a=function(){return i}},"909l":function(e,t,n){"use strict";n.d(t,"b",function(){return l}),n.d(t,"a",function(){return d});var r=n("mrSG"),i=n("IUTb"),o=n("isby"),a=n("FFOo"),s=n("MGBS"),c=n("zotm"),u=n("En8+");function l(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e[e.length-1];return"function"==typeof n&&e.pop(),Object(i.a)(e,void 0).lift(new d(n))}var d=function(){function e(e){this.resultSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new p(e,this.resultSelector))},e}(),p=function(i){function e(e,t,n){void 0===n&&(n=Object.create(null));var r=i.call(this,e)||this;return r.iterators=[],r.active=0,r.resultSelector="function"==typeof t?t:null,r.values=n,r}return r.__extends(e,i),e.prototype._next=function(e){var t=this.iterators;Object(o.a)(e)?t.push(new h(e)):"function"==typeof e[u.a]?t.push(new f(e[u.a]())):t.push(new g(this.destination,this,e))},e.prototype._complete=function(){var e=this.iterators,t=e.length;if(0!==t){this.active=t;for(var n=0;n<t;n++){var r=e[n];r.stillUnsubscribed?this.add(r.subscribe(r,n)):this.active--}}else this.destination.complete()},e.prototype.notifyInactive=function(){this.active--,0===this.active&&this.destination.complete()},e.prototype.checkIterators=function(){for(var e=this.iterators,t=e.length,n=this.destination,r=0;r<t;r++)if("function"==typeof(a=e[r]).hasValue&&!a.hasValue())return;for(var i=!1,o=[],r=0;r<t;r++){var a,s=(a=e[r]).next();if(a.hasCompleted()&&(i=!0),s.done)return void n.complete();o.push(s.value)}this.resultSelector?this._tryresultSelector(o):n.next(o),i&&n.complete()},e.prototype._tryresultSelector=function(e){var t;try{t=this.resultSelector.apply(this,e)}catch(e){return void this.destination.error(e)}this.destination.next(t)},e}(a.a),f=function(){function e(e){this.iterator=e,this.nextResult=e.next()}return e.prototype.hasValue=function(){return!0},e.prototype.next=function(){var e=this.nextResult;return this.nextResult=this.iterator.next(),e},e.prototype.hasCompleted=function(){var e=this.nextResult;return e&&e.done},e}(),h=function(){function e(e){this.array=e,this.index=0,this.length=0,this.length=e.length}return e.prototype[u.a]=function(){return this},e.prototype.next=function(e){var t=this.index++,n=this.array;return t<this.length?{value:n[t],done:!1}:{value:null,done:!0}},e.prototype.hasValue=function(){return this.array.length>this.index},e.prototype.hasCompleted=function(){return this.array.length===this.index},e}(),g=function(i){function e(e,t,n){var r=i.call(this,e)||this;return r.parent=t,r.observable=n,r.stillUnsubscribed=!0,r.buffer=[],r.isComplete=!1,r}return r.__extends(e,i),e.prototype[u.a]=function(){return this},e.prototype.next=function(){var e=this.buffer;return 0===e.length&&this.isComplete?{value:null,done:!0}:{value:e.shift(),done:!1}},e.prototype.hasValue=function(){return 0<this.buffer.length},e.prototype.hasCompleted=function(){return 0===this.buffer.length&&this.isComplete},e.prototype.notifyComplete=function(){0<this.buffer.length?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()},e.prototype.notifyNext=function(e,t,n,r,i){this.buffer.push(t),this.parent.checkIterators()},e.prototype.subscribe=function(e,t){return Object(c.a)(this,this.observable,this,t)},e}(s.a)},"96li":function(e,t,n){"use strict";var r,i;n.d(t,"a",function(){return r}),(i=r=r||{})[i.LOADING=0]="LOADING",i[i.UPLOADING=1]="UPLOADING",i[i.READY=2]="READY",i[i.FAILED=3]="FAILED"},"99Ms":function(e,t,n){var r=n("s0N+"),i=n("88Gu")(r);e.exports=i},"9C/b":function(e,t,n){"use strict";var r=n("q1tI"),i=n.n(r),o=n("17x9"),a=n.n(o),s=n("2mql"),c=n.n(s),u=n("4p7I"),l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};function d(e,t){var n,r={};for(n in e)0<=t.indexOf(n)||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}var p=function(r){var e=function(e){var t=e.wrappedComponentRef,n=d(e,["wrappedComponentRef"]);return i.a.createElement(u.a,{children:function(e){return i.a.createElement(r,l({},n,e,{ref:t}))}})};return e.displayName="withRouter("+(r.displayName||r.name)+")",e.WrappedComponent=r,e.propTypes={wrappedComponentRef:a.a.func},c()(e,r)};t.a=p},"9E9t":function(e,t,n){"use strict";var p=n("wbIY"),r=n("Bvq2"),f=n("oBZR"),h=n("ogVW"),g=n("cEPT"),m=n("T/97"),v=n("Y4yM"),i=Object.assign;e.exports=!i||r(function(){var A={},t={},e=Symbol(),n="abcdefghijklmnopqrst";return A[e]=7,n.split("").forEach(function(e){t[e]=e}),7!=i({},A)[e]||f(i({},t)).join("")!=n})?function(e,t){for(var n=m(e),r=arguments.length,i=1,o=h.f,a=g.f;i<r;)for(var s,c=v(arguments[i++]),u=o?f(c).concat(o(c)):f(c),l=u.length,d=0;d<l;)s=u[d++],p&&!a.call(c,s)||(n[s]=c[s]);return n}:i},"9EaA":function(e,t,n){n("2SXh");var r=n("dktu").Object;e.exports=function(e,t){return r.create(e,t)}},"9Mno":function(e,t,n){var r=n("O3vZ"),i=Array.prototype;e.exports=function(e){var t=e.indexOf;return e===i||e instanceof Array&&t===i.indexOf?r:t}},"9Qh4":function(e,t,n){"use strict";var s=n("IDEf"),c=n("86bp"),u=n("nA++"),l=n("+XMV");(e.exports=function(e,t){var n,r,i,o,a;return arguments.length<2||"string"!=typeof e?(o=t,t=e,e=null):o=arguments[2],null==e?r=!(n=i=!0):(n=l.call(e,"c"),r=l.call(e,"e"),i=l.call(e,"w")),a={value:t,configurable:n,enumerable:r,writable:i},o?s(c(o),a):a}).gs=function(e,t,n){var r,i,o,a;return"string"!=typeof e?(o=n,n=t,t=e,e=null):o=arguments[3],null==t?t=void 0:u(t)?null==n?n=void 0:u(n)||(o=n,n=void 0):(o=t,t=n=void 0),i=null==e?!(r=!0):(r=l.call(e,"c"),l.call(e,"e")),a={get:t,set:n,configurable:r,enumerable:i},o?s(c(o),a):a}},"9Yx1":function(e,t,n){"use strict";e.exports=function(e,t){return[e,t=t||Object.create(null)].reduce(function(t,n){return Object.keys(n).forEach(function(e){t[e]=n[e]}),t},Object.create(null))}},"9g66":function(e,t,n){"use strict";var a=n("e989"),s=n("lq5y"),c=Math.max;e.exports=function(t,n){var r,e,i,o=c(arguments.length,2);for(t=Object(s(t)),i=function(e){try{t[e]=n[e]}catch(e){r=r||e}},e=1;e<o;++e)a(n=arguments[e]).forEach(i);if(void 0!==r)throw r;return t}},"9g7G":function(e,ie,oe){"use strict";(function(r){oe.d(ie,"j",function(){return M}),oe.d(ie,"i",function(){return P}),oe.d(ie,"k",function(){return j}),oe.d(ie,"l",function(){return F}),oe.d(ie,"f",function(){return W}),oe.d(ie,"b",function(){return Y}),oe.d(ie,"e",function(){return Q}),oe.d(ie,"a",function(){return J}),oe.d(ie,"g",function(){return $}),oe.d(ie,"c",function(){return te}),oe.d(ie,"d",function(){return ne}),oe.d(ie,"h",function(){return re});var i,n,e=oe("o0o1"),u=oe.n(e),t=oe("yXPU"),o=oe.n(t),a=oe("hMnB"),s=oe.n(a),c=oe("HmyT"),l=oe("toa8"),d=oe("1dfU"),p=(oe("iP/4"),oe("AiBH")),f=oe("jp/M"),h=oe("QM+C"),g=oe("mRaX"),m=oe("duSr"),v=oe("hbEN"),y=oe("OZf9"),b=oe("7EGn"),E=oe("vEhQ"),_=oe("m8R6"),C=oe("HA5h"),T=oe("kUgE"),O=oe("HIeq"),k=oe("FnDM"),S=oe("gfe6"),w=oe("lQZd"),I=oe("U6jp"),x=oe("s+vT"),L={},R={},N=30,D={0:"users",1:"notes",3:"notes",5:"chats",6:"groups",8:"notes",11:"notes",12:"notes",15:"notes"},M=function(){var e=Object(I.k)(s.a.href);return e===I.b.ANNOUNCE||e===I.b.FEED};function P(e){var t=c.$.Deferred(),n=Object(m.b)()?"v3":"v2";return i&&i.abort(),(i=l.d.post("/api/mention/recommend.".concat(n,"/"),e,{timeout:1e4,headers:{"Cache-Control":"no-cache,no-store"}})).then(function(d){Object(y.a)(d.data.result_list,function(e){var t,n=e.type,r=e.token,i=parseInt(n),o=D[i];o||(t=p.y[1],d={data:{result_list:[]},message:t});var a=d.data.entities[o][r],s=a.title,c=a.name,u=a.avatar_url;[p.E.SHEET,p.E.FILE,p.E.BITABLE,p.E.BOX,p.E.MINDNOTE,p.E.SLIDE].includes(i)&&(e.content=s||Object(T.getUnnamedTitle)(i)),i===p.E.USER&&(e.content=Object(g.J)(r,d.data.entities.users),e.url=u),i!==p.E.CHAT&&i!==p.E.GROUP||(e.content=c,e.url=u);var l=Object(_.default)(a,["id","title","name","cn_name","en_name","avatar_url"]);Object(C.a)(e,l)}),t.resolve(d)}).catch(function(e){return f.error.STATUS_CODE.CONNECT_ABORT===e.code?t.reject(e):(e={data:{result_list:[]},message:f.error.STATUS_CODE.TIMEOUT!==e.code&&Object(S.c)()?p.y[e.code]:r("etherpad.network_abnormal")},void t.resolve(e))}),t.abort=i.abort.bind(i),t}function j(e){var t=e.chatId,n=e.invitor,r=Object(w.g)();return l.d.post("/api/mention/join.chat/",{token:r,chat_id:t,invitor:n})}function F(e){return l.d.post("/api/mention/join.chat.v2/",{share_token:e})}var B,U=function(e){var t=+new Date;return N<(t-e)/1e3},H=function(e){var t=e.content,n=e.type,r=+new Date+3e4,i=void 0===t||""===t?"All":t,o=e.index_info||"",a=Object(b.default)(L,"".concat(n,".").concat(i,".").concat(o,".result")),s=Object(w.g)(),c=Object(b.default)(L,"".concat(n,".").concat(i,".").concat(o,".fileToken")),u=Object(b.default)(L,"".concat(n,".").concat(i,".").concat(o,".time"),r);return a&&!U(u)&&s===c?a:null},z=!1,V=Object(v.default)(W,400),K=Object(v.default)(Q,400);function W(r,i){var o=Object(w.g)();z=!1;var e=P(r);return e.then(function(e){var t,n;Object(b.default)(e,"data.result_list")&&(t=void 0===r.content||""===r.content?"All":r.content,n=r.index_info||"",Object(E.a)(L,"".concat(r.type,".").concat(t,".").concat(n),{time:+new Date,result:e,fileToken:o})),z||i(e)}),Object.assign({},e,{},V)}var Y=function(e,t){var n=H(e);return n?(B&&(B.abort(),B.cancel()),z=!0,t(n),{abort:function(){}}):B=V(e,t)};function q(e){var t=c.$.Deferred();return n&&n.abort(),(n=l.d.post(f.apiUrls.JIRA_ISSUE_SEARCH,e,{timeout:1e4})).then(function(e){t.resolve(e)}).catch(function(e){return f.error.STATUS_CODE.CONNECT_ABORT===e.code?t.reject(e):(e={data:{result_list:[]},message:f.error.STATUS_CODE.TIMEOUT!==e.code&&Object(S.c)()?p.y[e.code]||e.msg:r("etherpad.network_abnormal"),code:e.code},void t.resolve(e))}),t.abort=n.abort.bind(n),t}var Z,X=function(e){var t=e.keyword,n=+new Date+3e4,r=void 0===t||""===t?"RECENT":t,i=Object(b.default)(R,"".concat(r,".result")),o=Object(b.default)(R,"".concat(r,".time"),n);return i&&!U(o)?i:null};function Q(n,r){z=!1;var e=q(n);return e.then(function(e){var t;Object(b.default)(e,"data.issues.length")&&(t=void 0===n.keyword||""===n.keyword?"RECENT":n.keyword,Object(E.a)(R,"".concat(t),{time:+new Date,result:e})),z||r(e)}),Object.assign({},e,{},K)}var J=function(e,t){var n=X(e);return n?(Z&&(Z.abort(),Z.cancel()),z=!0,t(n),{abort:function(){}}):Z=K(e,t)};function $(e,t,n){return ee.apply(this,arguments)}function ee(){return(ee=o()(u.a.mark(function e(t,n,r){var i,o,a,s,c;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=r||Object(O.e)(),i=Object(d.a)(t),o=Object(d.a)(r),a=Object(x.a)(),s={interactor:"lark & docs",caller:Object(k.i)().module,interface_name:"/im/gateway 5017 & /api/mention/user.detail.v2",request_id:a,interface_data:JSON.stringify({cryptToken:o,cryptUserId:i})},e.next=7,Promise.all([oe.e("doc_index_css"),oe.e("chunk_adit"),oe.e("commons--doc_index_delay--voteEmoji--votePicker"),oe.e(16),oe.e("commons--doc_index_delay--jira"),oe.e("doc_index_delay")]).then(oe.bind(null,"ZwLK"));case 7:return c=e.sent,e.abrupt("return",c.fetchUserInfo(t,n,r,s));case 9:case"end":return e.stop()}},e)}))).apply(this,arguments)}function te(e){var t={share_tokens:e,source:p.z.DOC,obj_type:f.common.NUM_SUITE_TYPE.DOC,obj_token:Object(w.g)()};return l.d.post("/api/mention/chat.info.v3/",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})}function ne(e){var t=e.type,n=e.token;return l.d.get(f.apiUrls.GET_META,{params:{type:h.mapFileType2TypeNum[t],token:n}})}function re(e){var t={chat_id:e,obj_token:Object(w.g)(),obj_type:f.common.NUM_SUITE_TYPE.DOC};return l.d.post("/api/mention/sharetoken/create/",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})}}).call(this,oe("2vAP"))},"9h4r":function(e,h,g){"use strict";(function(Z){var e=g("pVnL"),X=g.n(e),t=g("lwsE"),i=g.n(t),n=g("W8MJ"),o=g.n(n),Q=g("3Hq1"),r=g("q1tI"),J=g.n(r),$=g("3EEQ"),ee=g("D0c4"),te=g("GGpJ"),ne=g("HmyT"),re=g("mRaX"),ie=g("AiBH"),a=g("OZf9"),s=g("wq9/"),c=g("7P1s"),u=g("D7h9"),oe=g("iP/4"),ae=g("/fVd"),se=g("VI6H"),ce=g("lQZd"),ue=g("EQyw"),le=g("rLED"),l=100,d=500,de=384,pe=600,fe=110,he=48,p=function(){function r(e){i()(this,r);var t=e.e,n=e.editor;this.clientY=t.clientY,this.dom=t.target,this.$dom=Object(ne.$)(t.target),this.editor=n,this.mentionInfoReader=this._createMentionInfoReader(e,this.$dom)}return o()(r,[{key:"_createMentionInfoReader",value:function(e,t){if(e.createMentionInfoReader)return e.createMentionInfoReader(t);var n=t.prop("className");return{getType:function(){return parseInt(Object(re.K)(n,"mention-type"))},getToken:function(){return Object(re.K)(n,"mention-token")||t.attr("token")||t.data("token")},getLink:function(){return decodeURIComponent(Object(re.K)(n,"mention-link"))},getTitle:function(){return t.get(0).textContent}}}},{key:"getDom",value:function(){return this.dom}},{key:"getRect",value:function(){var e=Object(s.a)(this.dom,this.editor);return Object(re.y)(this.dom,this.clientY,e)}},{key:"getLineHeight",value:function(){return Number.parseInt(getComputedStyle(this.$dom.get(0))["line-height"])}},{key:"canShowPopover",value:function(){return this.$dom.parents("body").length&&!this.$dom.hasClass("popover-disabled")}},{key:"hasNoPermission",value:function(){return!!this.$dom.children("a").hasClass("content-with-lock")}},{key:"isGrantViewAccessDisabled",value:function(){return this.$dom.hasClass("grant-view-access-disabled")}},{key:"getType",value:function(){return this.mentionInfoReader.getType()}},{key:"getToken",value:function(){return this.mentionInfoReader.getToken()}},{key:"getTitle",value:function(){return this.mentionInfoReader.getTitle()}},{key:"getLink",value:function(){return this.mentionInfoReader.getLink()}},{key:"getUserName",value:function(){return this.$dom.data("user-name")}},{key:"isInComment",value:function(){return this.$dom.parent().hasClass("comment-list-item__content")}},{key:"getSourceData",value:function(){return Object(re.B)(this.$dom)}},{key:"getFallbackBoxContainer",value:function(){return this.$dom.closest(".innerdocbody").parent()}},{key:"isSameAs",value:function(e){return e instanceof r&&this.getDom()===e.getDom()}}]),r}(),f=function(){function t(e){var q=this;i()(this,t),this.getSelectors=function(){if(q.selectors)return q.selectors;var e=[".mention-type_0",".mention"],n=".popover,.mention-popover,.larkw-lark-user-card__action-modal__wrapper,.guide-onboarding-spot",t=q.props.hoverArea,r=void 0===t?".innerdocbody":t,i=[],o=[];return Object(a.a)(r.split(","),function(t){Object(a.a)(e,function(e){i.push("".concat(t," ").concat(e))}),Object(a.a)(n.split(","),function(e){o.push("".concat(t," ").concat(e))})}),i=i.join(","),o=o.join(","),q.selectors={mentionClsWithHoverArea:i,popoverCls:n},q.selectors},this.setMouseMoved=function(){q.isMouseMoved=!0,q.setMouseMoveTimeout&&clearTimeout(q.setMouseMoveTimeout),q.setMouseMoveTimeout=setTimeout(function(){q.isMouseMoved=!1},40),q.checkIfHidePopover()},this.clearHideTimeout=function(e){q.hoverTimeout&&clearTimeout(q.hoverTimeout)},this.delayShowPopOver=function(e){e.stopImmediatePropagation(),q.delayShowPopOverTarget(function(){return new p({e:e,editor:q.props.editor,createMentionInfoReader:q.props.createMentionInfoReader})})},this.delayShowPopOverTarget=function(e,t){(q.isMouseMoved||t)&&q.canShowPopover&&(q.isDisablePopover()||(q.delayShowPopOverTimeout=setTimeout(function(){q.showPopover(e())},d)))},this.setCanShowPopover=function(e){(q.canShowPopover=e)||q.closePopOver()},this.showPopover=function(e){if(!q.popOver&&e.canShowPopover()){var t=e.hasNoPermission(),n=e.isGrantViewAccessDisabled(),r=q.props,i=r.displayLargePopover,o=r.from,a=q.props.container,s="notification"===o,c=e.getType(),u=e.getToken(),l=e.getTitle();ae.a.embedObjPermissionManager||ae.a.createEmbedObjPermissionManager();var d,p,f,h,g=ae.a.embedObjPermissionManager,m=ie.E.USER,v=ie.E.FILE,y=ie.E.SHEET,b=ie.E.BITABLE,E=ie.E.MINDNOTE,_=ie.E.BOX,C=ie.E.SLIDE,T=ie.E.WIKI;q.popOverTarget&&!q.popOverTarget.isSameAs(e)&&q.closePopOver(),q.hoverTimeout&&clearTimeout(q.hoverTimeout),q.popOverTarget=e,Object(se.x)()&&c===m&&(p="sheet"===(d=Object(ce.k)()),f="file"===d,h=e.isInComment(),(p||f)&&h&&(a=".doc-position"));var O,k,S,w,I,x=320,L=500,R=L,N="doc",D={},M=c===v;if(!M&&c!==y&&c!==b&&c!==E&&c!==_&&c!==C&&c!==T||(N+=" shortcut",N+=M?" docs":" sheet",L=R=378,x=M?344:348),t&&(O=g.getOwnerByToken(u),k=pe,Object(le.s)()?O&&(w="",w=O.get("can_apply_perm")?(S=Object(se.p)(O,O.get("name")),[Z("permission.embed.contact_author"),S,Z("common.owner"),Z("permission.embed.share_tips_5"),Z("permission.embed.apply_btn")].join("")):Z("permission.embed.share_tips_external_cannot_apply_permission"),x=k<(I=Object(re.k)([w],fe))?k:I,R=3*(L=he)):x=de),c===m){if(oe.a.isOpendoc)return;N+=" mention-profile "+(q.props.className||""),Object(se.x)()&&(N+=" mention-profile--docs"),D={horizontalAlign:"left",flatDom:!0,gap:10,coverNavBar:!0,closeContainerBottom:!0,$boxContainer:Object(ne.$)("body")}}var P=Object(ne.$)(a);P.length||(P=Object(ne.$)(e.getFallbackContainer()));var j=e.getRect(),F=Object(se.x)()&&c===m?Object(re.j)(j,{gap:10,$boxContainer:s?Object(ne.$)("body"):void 0,coverNavBar:!s}):Object(re.w)(j,Object.assign({horizontalAlign:"center",boxWidth:x,boxMaxHeight:R,boxMinHeight:L,gap:8,$boxContainer:P,coverNavBar:!1,lineHeight:e.getLineHeight(),getFallbackBoxContainer:function(){return e.getFallbackBoxContainer()}},D)),B=e.getSourceData(),U=Object(re.F)(F),H=Object(re.D)(B),z=B.source,V={className:N,style:U,container:P.get(0),handlePopOverEnter:function(){q.cancelHide()},handlePopOverLeave:function(){q.hidePopover()}};switch(c){case m:var K,W=e.getUserName()||"";Object(se.x)()?(K=Object(Q.default)(F.bottom)?"top":"bottom",V.component=J.a.createElement(ee.default,X()({closePopover:q.closePopOver,grantViewAccessDisabled:n},{token:u,displayLargePopover:i,sourceString:H,source:z,name:W},{editor:q.props.editor,triangle:K}))):(V.component=J.a.createElement(ee.default,X()({closePopover:q.closePopOver},{token:u,sourceString:H,source:z,name:W},{editor:q.props.editor})),V.container=document.body);break;case v:case y:case b:case E:case _:case C:case T:if(Object(ue.b)(c))return;var Y=e.getLink();V.component=J.a.createElement(te.default,X()({token:u,type:c,sourceString:H,title:l,link:Y,embedObjShareEnable:Object(le.s)(),disableAddEmbedObj:q.props.disableAddEmbedObj},{closePopover:q.closePopOver}));break;default:return}q.popOver=new $.default(V)}},this.closePopOver=function(){q.popOver&&(q.popOver.close(),q.popOver=null),q.popOverTarget&&(q.popOverTarget=null)},this.destory=function(){q.delayShowPopOverTimeout&&clearTimeout(q.delayShowPopOverTimeout),q.hoverTimeout&&clearTimeout(q.hoverTimeout),q.justCancelHideTimeout&&clearTimeout(q.justCancelHideTimeout),q.closePopOver(),document.body.removeEventListener("mousemove",q.setMouseMoved,{passive:!0}),q.undelegateMouseList.forEach(function(e){return e&&e()}),q.undelegateMouseList=null},this.hidePopover=function(e){q.hidePopoverImpl({checkJustCancelHide:!1})},this.hidePopoverFromAsyncCall=function(){q.hidePopoverImpl({checkJustCancelHide:!0})},this.hidePopoverImpl=function(e){q.delayShowPopOverTimeout&&clearTimeout(q.delayShowPopOverTimeout),e.checkJustCancelHide&&q.hasJustCanceledHide()||q.popOver&&q.popOverTarget&&(q.hoverTimeout&&clearTimeout(q.hoverTimeout),q.hoverTimeout=setTimeout(q.closePopOver,l))},this.props=e,this.undelegateMouseList=[],this.bindEvents(),this.isMouseMoved=!1,this.canShowPopover=!0}return o()(t,[{key:"bindEvents",value:function(){var e=this.getSelectors(),t=e.mentionClsWithHoverArea,n=e.popoverCls,r={passive:!0};document.body.addEventListener("mousemove",this.setMouseMoved,r);var i=[{parent:"body",child:t,event:"mouseenter",handle:this.delayShowPopOver.bind(this),eventOptions:r},{parent:"body",child:t,event:"mouseleave",handle:this.hidePopover.bind(this),eventOptions:r},{parent:"body",child:n,event:"mouseenter",handle:this.clearHideTimeout.bind(this),eventOptions:r},{parent:"body",child:n,event:"mouseleave",handle:this.hidePopover.bind(this),eventOptions:r}],s=[];i.map(function(e){var t=e.parent,n=e.child,r=e.event,i=e.handle,o=e.eventOptions,a=Object(c.a)(t,n,r,i,o);a&&s.push(a)}),this.undelegateMouseList=s}},{key:"checkIfHidePopover",value:function(){var e,t,n,r;this.popOver&&this.popOverTarget&&(this.popOverTarget instanceof p?this.props.editor&&(e=this.props.editor.getDocBody(),t=Object(ne.$)(this.popOverTarget.getDom()),n=Object(ne.$)(e).find(t).length,r=t.parents(".comment-list").length,(0===n&&0===r||1===r&&t&&!t.hasClass("mention"))&&this.hidePopover()):this.popOverTarget.canShowPopover()||this.hidePopover())}},{key:"isDisablePopover",value:function(){var e=u.default.getState().appState.translate;return e.status.translated&&2===e.config.display_type}},{key:"cancelHide",value:function(){var e=this;this.hoverTimeout&&clearTimeout(this.hoverTimeout),this.justCancelHideTimeout&&clearTimeout(this.justCancelHideTimeout),this.justCancelHideTimeout=setTimeout(function(){e.justCancelHideTimeout=void 0},l)}},{key:"hasJustCanceledHide",value:function(){return!!this.justCancelHideTimeout}}]),t}();h.a=f}).call(this,g("2vAP"))},"9n51":function(e,t){t.removeSubsets=function(e){for(var t,n,r,i=e.length;-1<--i;){for(t=n=e[i],r=!(e[i]=null);n;){if(-1<e.indexOf(n)){r=!1,e.splice(i,1);break}n=n.parent}r&&(e[i]=t)}return e};var l={DISCONNECTED:1,PRECEDING:2,FOLLOWING:4,CONTAINS:8,CONTAINED_BY:16},i=t.compareDocumentPosition=function(e,t){var n,r,i,o,a,s,c=[],u=[];if(e===t)return 0;for(n=e;n;)c.unshift(n),n=n.parent;for(n=t;n;)u.unshift(n),n=n.parent;for(s=0;c[s]===u[s];)s++;return 0===s?l.DISCONNECTED:(i=(r=c[s-1]).children,o=c[s],a=u[s],i.indexOf(o)>i.indexOf(a)?r===t?l.FOLLOWING|l.CONTAINED_BY:l.FOLLOWING:r===e?l.PRECEDING|l.CONTAINS:l.PRECEDING)};t.uniqueSort=function(e){var t,n,r=e.length;for(e=e.slice();-1<--r;)t=e[r],-1<(n=e.indexOf(t))&&n<r&&e.splice(r,1);return e.sort(function(e,t){var n=i(e,t);return n&l.PRECEDING?-1:n&l.FOLLOWING?1:0}),e}},"9tjs":function(e,t,n){n("3BXJ");var r=n("dktu");e.exports=r.Object.freeze},"A+1H":function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n("n3ZB"),i=n("SGN9"),o=n("G8Hj"),a=n("D7h9"),s=n("OJOY"),c=n("wSsa"),u=function(){var e=Object(r.i)(a.default.getState()),t=(s.a.getItem(c.c)||{}).hasShow;return!!(Object(i.n)(e,o.STEP_TYPES.whats_new_notice_guide)||Object(i.n)(e,o.STEP_TYPES.whats_new_notice_guide_v2)||t)}},A90E:function(e,t,n){var r=n("6sVZ"),i=n("V6Ve"),o=Object.prototype.hasOwnProperty;function a(e){if(!r(e))return i(e);var t,n=[];for(t in Object(e))o.call(e,t)&&"constructor"!=t&&n.push(t);return n}e.exports=a},A9Lq:function(e,t,n){e.exports=n("NRUa")},"AH+/":function(e,t,n){var a=n("+Bun"),s=n("ejTr");function r(e,t){if(null==e)return{};for(var n,r={},i=s(e),o=0;o<i.length;o++)n=i[o],0<=a(t).call(t,n)||(r[n]=e[n]);return r}e.exports=r},APdQ:function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iMzAiIGhlaWdodD0iMzAiPgogICAgPGRlZnM+CiAgICAgICAgPHBhdGggaWQ9ImEiIGQ9Ik0xNS4xMDYuMTM5TDguNTYgNy4xOTNhLjI0Mi4yNDIgMCAwIDAtLjA2LjIxM2MuMDk3LjQ2Ny0uMDM2Ljk3MS0uNCAxLjMzNGExLjQ3MiAxLjQ3MiAwIDAgMS0yLjA5OC0uMDIyTC4yOSAxNC40MTRhLjg0OC44NDggMCAwIDAtLjI0Ny42NjRsLjU2MiA3LjQ5OCA2LjExMyA2LjA5NmEuNTEyLjUxMiAwIDAgMCAuODUzLS4yMThMMTUuNzA2LjQ2OWEuMzUzLjM1MyAwIDAgMC0uMzQ1LS40NDVjLS4wOSAwLS4xOC4wMzUtLjI1NS4xMTV6Ii8+CiAgICAgICAgPHBhdGggaWQ9ImMiIGQ9Ik0xNS4xMDYuMTM5TDguNTYgNy4xOTNhLjI0Mi4yNDIgMCAwIDAtLjA2LjIxM2MuMDk3LjQ2Ny0uMDM2Ljk3MS0uNCAxLjMzNGExLjQ3MiAxLjQ3MiAwIDAgMS0yLjA5OC0uMDIyTC4yOSAxNC40MTRhLjg0OC44NDggMCAwIDAtLjI0Ny42NjRsLjU2MiA3LjQ5OCA2LjExMyA2LjA5NmEuNTEyLjUxMiAwIDAgMCAuODUzLS4yMThMMTUuNzA2LjQ2OWEuMzUzLjM1MyAwIDAgMC0uMzQ1LS40NDVjLS4wOSAwLS4xOC4wMzUtLjI1NS4xMTV6Ii8+CiAgICAgICAgPHBhdGggaWQ9ImUiIGQ9Ik0yOC41MDcuMDYxTC40NDMgOC4xNzNhLjUxLjUxIDAgMCAwLS4yMi44NWw2LjExNCA2LjA5NiA3LjUyLjU2MWEuODU0Ljg1NCAwIDAgMCAuNjY2LS4yNDdsNS43MTItNS42OTZhMS40NjIgMS40NjIgMCAwIDEtLjAyMi0yLjA5MiAxLjQ3IDEuNDcgMCAwIDEgMS4zMzctLjQuMjQ0LjI0NCAwIDAgMCAuMjE0LS4wNTlMMjguODM4LjY2Yy4yNDUtLjIyNi4wNjctLjYxMS0uMjMzLS42MTFhLjM3NS4zNzUgMCAwIDAtLjA5OC4wMTN6Ii8+CiAgICAgICAgPHBhdGggaWQ9ImciIGQ9Ik0yOC41MDcuMDYxTC40NDMgOC4xNzNhLjUxLjUxIDAgMCAwLS4yMi44NWw2LjExNCA2LjA5NiA3LjUyLjU2MWEuODU0Ljg1NCAwIDAgMCAuNjY2LS4yNDdsNS43MTItNS42OTZhMS40NjIgMS40NjIgMCAwIDEtLjAyMi0yLjA5MiAxLjQ3IDEuNDcgMCAwIDEgMS4zMzctLjQuMjQ0LjI0NCAwIDAgMCAuMjE0LS4wNTlMMjguODM4LjY2Yy4yNDUtLjIyNi4wNjctLjYxMS0uMjMzLS42MTFhLjM3NS4zNzUgMCAwIDAtLjA5OC4wMTN6Ii8+CiAgICA8L2RlZnM+CiAgICA8ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxwYXRoIGZpbGw9IiMzOEYiIGQ9Ik0yOS4zMzkgMS4yMTdMMjIuNzkzIDguMjdhLjI0Mi4yNDIgMCAwIDAtLjA2LjIxNGMuMDk3LjQ2Ni0uMDM2Ljk3LS40IDEuMzMzLS41OC41OC0xLjUyNi41NzEtMi4wOTgtLjAyMmwtNS43MTIgNS42OTZhLjg0OS44NDkgMCAwIDAtLjI0Ny42NjRsLjU2MiA3LjQ5OSA2LjExMyA2LjA5NWEuNTEyLjUxMiAwIDAgMCAuODUzLS4yMThMMjkuOTQgMS41NDdjLjA5NS0uMzU1LS4zNS0uNi0uNi0uMzMiLz4KICAgICAgICA8ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxNC4yMzMgMS4wNzgpIj4KICAgICAgICAgICAgPG1hc2sgaWQ9ImIiIGZpbGw9IiNmZmYiPgogICAgICAgICAgICAgICAgPHVzZSB4bGluazpocmVmPSIjYSIvPgogICAgICAgICAgICA8L21hc2s+CiAgICAgICAgICAgIDxwYXRoIGZpbGw9IiMzMjg4RkYiIGQ9Ik0xNi4xNjYtMS4xMTFMOC41NyA3LjA3NWEuMjQyLjI0MiAwIDAgMC0uMDYuMjEzYy4wOTguNDczLS4wMzcuOTg0LS40MDUgMS4zNWExLjQ4OCAxLjQ4OCAwIDAgMS0yLjEyMS0uMDIxTC0uMDcgMTQuNjUzbC41OTggNy45NzMgNi43OTkgNi43OCA4Ljg0LTMwLjUxN3oiIG1hc2s9InVybCgjYikiLz4KICAgICAgICA8L2c+CiAgICAgICAgPGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTQuMjMzIDEuMDc4KSI+CiAgICAgICAgICAgIDxtYXNrIGlkPSJkIiBmaWxsPSIjZmZmIj4KICAgICAgICAgICAgICAgIDx1c2UgeGxpbms6aHJlZj0iI2MiLz4KICAgICAgICAgICAgPC9tYXNrPgogICAgICAgICAgICA8cGF0aCBmaWxsPSIjMDA1REUwIiBkPSJNMTYuMDc1LS45MDZMOC41NjEgNy4xOTNhLjI0Mi4yNDIgMCAwIDAtLjA2LjIxM2MuMDk2LjQ2Ny0uMDM3Ljk3MS0uNCAxLjMzNGExLjQ3MiAxLjQ3MiAwIDAgMS0yLjA5OS0uMDIyTC4wNTIgMTQuNjVhLjExOS4xMTkgMCAwIDAtLjAzNC4wOTNsLjU4NyA3LjgzMkwxNS43NTgtLjIxOWwuMzE3LS42ODd6IiBtYXNrPSJ1cmwoI2QpIi8+CiAgICAgICAgPC9nPgogICAgICAgIDxwYXRoIGZpbGw9IiNGRkYiIGQ9Ik0yOC44MzguNzE4bC03LjA3NCA2LjUyNmEuMjQzLjI0MyAwIDAgMS0uMjE0LjA2IDEuNDcxIDEuNDcxIDAgMCAwLTEuMzM3LjM5OWMtLjU4MS41OC0uNTczIDEuNTIyLjAyMiAyLjA5M2wtNS43MTIgNS42OTZhLjg1NC44NTQgMCAwIDEtLjY2Ni4yNDZsLTcuNTItLjU2TC4yMjQgOS4wOGEuNTEuNTEgMCAwIDEgLjIxOS0uODVMMjguNTA3LjExOWMuMzU2LS4wOTUuNjAxLjM1LjMzMS41OTkiLz4KICAgICAgICA8Zz4KICAgICAgICAgICAgPGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMCAuMDU4KSI+CiAgICAgICAgICAgICAgICA8bWFzayBpZD0iZiIgZmlsbD0iI2ZmZiI+CiAgICAgICAgICAgICAgICAgICAgPHVzZSB4bGluazpocmVmPSIjZSIvPgogICAgICAgICAgICAgICAgPC9tYXNrPgogICAgICAgICAgICAgICAgPHBhdGggZmlsbD0iIzQ2RUJENSIgZD0iTTMwLjA5Mi0uMzk4bC04LjIxIDcuNTc0YS4yNDMuMjQzIDAgMCAxLS4yMTQuMDYxIDEuNDg3IDEuNDg3IDAgMCAwLTEuMzU0LjQwMyAxLjQ3OCAxLjQ3OCAwIDAgMCAuMDIyIDIuMTE2bC02LjA1NCA2LjAzNi03Ljk5NS0uNTk3LTYuNzk4LTYuNzc4TDMwLjA5Mi0uMzk4eiIgbWFzaz0idXJsKCNmKSIvPgogICAgICAgICAgICA8L2c+CiAgICAgICAgICAgIDxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAgLjA1OCkiPgogICAgICAgICAgICAgICAgPG1hc2sgaWQ9ImgiIGZpbGw9IiNmZmYiPgogICAgICAgICAgICAgICAgICAgIDx1c2UgeGxpbms6aHJlZj0iI2ciLz4KICAgICAgICAgICAgICAgIDwvbWFzaz4KICAgICAgICAgICAgICAgIDxwYXRoIGZpbGw9IiMwMEQwQjYiIGQ9Ik0yOS44ODYtLjMwN2wtOC4xMjIgNy40OTNhLjI0My4yNDMgMCAwIDEtLjIxNC4wNiAxLjQ3MSAxLjQ3MSAwIDAgMC0xLjMzNy4zOTljLS41ODEuNTc5LS41NzMgMS41MjIuMDIyIDIuMDkybC01Ljk1IDUuOTMzYS4xMi4xMiAwIDAgMS0uMDkzLjAzNWwtNy44NTUtLjU4NkwyOS4xOTcuMDA5bC42ODktLjMxNnoiIG1hc2s9InVybCgjaCkiLz4KICAgICAgICAgICAgPC9nPgogICAgICAgIDwvZz4KICAgIDwvZz4KPC9zdmc+Cg=="},AUfY:function(e,t,n){"use strict";n.d(t,"c",function(){return s}),n.d(t,"a",function(){return c}),n.d(t,"b",function(){return l});var r=n("VIFs"),i=n("SebV"),o=n("mwIZ"),a=n.n(o);function s(e){try{localStorage.setItem("sheet_toolbar_preference_is_single_V2",e?"true":"false")}catch(e){Object(i.a)(e)}}var c=function(){var e,t=localStorage.getItem("sheet_toolbar_preference_is_single_V2");if(t)try{e=JSON.parse(t)}catch(e){localStorage.removeItem("sheet_toolbar_preference_is_single_V2")}var n={hasOpenSheet:a()(window.User,"user_profile.sheet_pc_is_open",!0),hasSetted:a()(window.User,"user_profile.sheet_toolbar_history",!1),isSingle:!a()(window.User,"user_profile.sheet_toolbar_setting",!0),hasConflict:!1,comeFrom:"server"};return void 0!==e?Object.assign({},n,{hasOpenSheet:!0,hasSetted:!0,hasConflict:n.isSingle!==e,isSingle:e,comeFrom:"localStorage"}):n};function u(){try{localStorage.removeItem("sheet_toolbar_preference_is_single")}catch(e){}}function l(){if(u(),"true"===localStorage.getItem("faster-shadow-recording"))return!0;if(Object(r.isTestAccount)())return!1;var e=c(),t=e.hasSetted,n=e.isSingle;return!!t&&n}},AYG9:function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"d",function(){return d}),n.d(t,"b",function(){return p}),n.d(t,"c",function(){return f});var r,i,o=n("LrQZ"),a=n("2ACu"),s=n("FnDM"),c=n("SebV");function u(e){try{Object(a.default)("quickjs_sdk_error",{quick_sdk_error_name:e.name,quick_sdk_error_msg:e.message,quick_sdk_error_stack:e.stack})}catch(e){Object(c.a)(e)}}(i=r=r||{}).DOC_PAGE_OPEN="docs_page_open",i.AFTER_SCROLL="after_scroll",i.AFTER_EDIT="doc_scene_after_edit",i.ADD_COMMENT="doc_scene_add_comment",i.BACK_HOME="doc_scene_back_home",i.AFTER_ONE_MINUTE="doc_scene_open_after_one_minute";var l=function(e){var t=e.eventName,n=e.data;Object(a.default)(t,n)};try{"undefined"!=typeof XMLHttpRequest&&Object(o.d)({eventRecordHandler:l,errorHandler:u})}catch(e){u(e)}function d(e){try{Object(o.c)(r.DOC_PAGE_OPEN,{file_type:e||Object(s.f)()})}catch(e){u(e)}}function p(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};try{Object(o.a)(e,Object.assign({},t))}catch(e){u(e)}}function f(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};try{Object(o.b)(e,t)}catch(e){u(e)}}},AcDe:function(e,t,n){"use strict";var r=n("J4zp"),d=n.n(r),i=n("lwsE"),a=n.n(i),o=n("W8MJ"),s=n.n(o),c=n("a1gu"),u=n.n(c),l=n("Nsbk"),p=n.n(l),f=n("7W2i"),h=n.n(f),g=n("XIp8"),m=n("Muja"),v=n("q1tI"),b=n.n(v),y=n("uQON"),E=n("skFV"),_=n("TSYQ"),C=n.n(_),T=n("HIeq"),O=n("Ye3z"),k=n("n67m"),S=function(){function o(e){var t=e.userList,n=e.docsList,r=e.replyId,i=e.onPermissionChange;a()(this,o),this.userList=new Set,this.embedObjList=new Map,this.embedTokenList=new Set,this.permissionMap=new Map,this.replyId=r,this.onPermissionChange=i,k.a.addInstance(r,this),0<t.length&&(k.a.initUserManager(),this.initUsers(t)),0<n.length&&(k.a.initEmbedObjManager(),this.initDocs(n))}return s()(o,[{key:"getHavePermissions",value:function(){return 0<this.userList.size&&this.getPermissions("users"),0<this.embedTokenList.size&&this.getPermissions("docs"),0<this.permissionMap.size?this.permissionMap:null}},{key:"getPermissions",value:function(e){var t=k.a.getPermissions(e);if(t&&0<Object.keys(t).length)for(var n in t){var r=this.getTokenList(e);if(!r)return;if(r.has(n)){if(!t[n])return;var i=t[n],o=i.readable,a=i.cantRead;"users"===e&&this.permissionMap.set(n,o),"docs"===e&&this.permissionMap.set(n,!a)}}}},{key:"destory",value:function(){k.a.removeUsers(Array.from(this.userList)),k.a.removeDocs(Array.from(this.embedObjList.values())),k.a.delete(this.replyId)}},{key:"initUsers",value:function(e){var t=!0,n=!1,r=void 0;try{for(var i,o=e[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var a=i.value;this.userList.add(a)}}catch(e){n=!0,r=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw r}}k.a.initUsers(e)}},{key:"initDocs",value:function(e){var t=!0,n=!1,r=void 0;try{for(var i,o=e[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var a=i.value,s=a.token;this.embedTokenList.add(s),this.embedObjList.set(s,a)}}catch(e){n=!0,r=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw r}}k.a.initDocs(e)}},{key:"changeEmbedObjList",value:function(e){var t=[],n=!0,r=!1,i=void 0;try{for(var o,a=e[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value,c=s.token;t.push(c),this.embedObjList.set(c,s)}}catch(e){r=!0,i=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}this.changeTokenList("docs",t)}},{key:"changeUserList",value:function(e){this.changeTokenList("users",e)}},{key:"getTokenList",value:function(e){return"users"===e?this.userList:"docs"===e?this.embedTokenList:null}},{key:"changeTokenList",value:function(e,t){var n,r,i,o=this,a=this.getTokenList(e);a&&(n=Object(O.a)(Array.from(a),t),r=[],i=[],n.forEach(function(e){(o.userList.has(e)?i:r).push(e)}),0<i.length&&("users"===e&&this.removeUsers(i),"docs"===e&&this.removeDocs(i)),0<r.length&&("users"===e&&this.addUsers(r),"docs"===e&&this.addDocs(r)),this.getHavePermissions()&&this.onPermissionChange(this.permissionMap))}},{key:"addUsers",value:function(e){var t=!0,n=!1,r=void 0;try{for(var i,o=e[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var a=i.value;this.userList.add(a)}}catch(e){n=!0,r=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw r}}k.a.addUsers(e)}},{key:"removeUsers",value:function(e){var t=!0,n=!1,r=void 0;try{for(var i,o=e[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var a=i.value;this.userList.delete(a)}}catch(e){n=!0,r=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw r}}k.a.removeUsers(e)}},{key:"addDocs",value:function(e){var t=[],n=!0,r=!1,i=void 0;try{for(var o,a=e[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;this.embedTokenList.add(s);var c=this.embedObjList.get(s);c&&t.push(c)}}catch(e){r=!0,i=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}k.a.addDocs(t)}},{key:"removeDocs",value:function(e){var t=[],n=!0,r=!1,i=void 0;try{for(var o,a=e[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;this.embedTokenList.delete(s);var c=this.embedObjList.get(s);c&&(t.push(c),this.embedObjList.delete(s))}}catch(e){r=!0,i=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}k.a.removeDocs(t)}},{key:"handlePermissionChange",value:function(e){var u=this,l=!1;e.forEach(function(e){var t,n,r=e.permission,i=e.userId,o=e.token,a=i||o||"",s=i?"users":o?"docs":"",c=u.getTokenList(s);c&&c.has(a)&&(l=!0,r?(t=r.readable,n=r.cantRead,i?u.permissionMap.set(a,t):o&&u.permissionMap.set(a,!n)):u.permissionMap.set(a,!1))}),l&&this.onPermissionChange(this.permissionMap)}}]),o}(),w=n("nN3d"),I=n("Mpt7"),x=n("rFy5"),L=n("7ESD"),R=n("kOe7"),N=n("VI6H"),D=n("QM+C"),M=n("KiYW"),P=n("fRrQ"),j=n("rLED"),F=(n("NWgW"),n("gNEk")),B=n("5gSl"),U=function(e){function r(e){var l;a()(this,r),(l=u()(this,p()(r).call(this,e))).selections=[],l.handlePermissionChange=function(e){var t=new Map,n=!0,r=!1,i=void 0;try{for(var o,a=e[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=d()(o.value,2),c=s[0],u=s[1];t.set(c,u)}}catch(e){r=!0,i=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}l.setState({permissionMap:t})},l.getIconUrl=function(e){var t=JSON.parse(e),n=t.type,r=t.key,i=t.fs_unit;return Object(j.n)()&&n===D.NUM_CUSTOM_ICON_TYPE.IMAGE?Object(M.e)({key:r,fs_unit:i}):""},l.handleLinkClick=function(e){Object(F.b)(e.nativeEvent),Object(y.n)(),Object(B.a)(e)},l.getElement=function(e){l.element=e};var t=l.handleNodeList(),n=l.initPermisionMap(t);return l.state={nodeList:t,permissionMap:n||new Map},l.initTextHighLightList(),l}return h()(r,e),s()(r,[{key:"initTextHighLightList",value:function(){var e=this.props,t=e.replyId,n=e.commentId,r=e.isTranslateContent;L.a.register(n,t,r,this)}},{key:"componentDidUpdate",value:function(e){var t=this,n=e.content,r=e.entities,i=this.props,o=i.content,a=i.entities,s=i.isTranslateContent,c=i.commentId,u=i.replyId;[c!==e.commentId,u!==e.replyId,s!==e.isTranslateContent].includes(!0)&&(L.a.unRegister(e.commentId,e.replyId,e.isTranslateContent),L.a.register(c,u,s,this)),(o!==n||r&&a&&a.users&&r.users&&!Object(I.is)(a.users,r.users))&&this.setState({nodeList:this.handleNodeList()},function(){t.updateUserList()})}},{key:"componentWillUnmount",value:function(){this.selections=[],this.contentManager&&this.contentManager.destory(),this.contentManager=null;var e=this.props,t=e.replyId,n=e.commentId,r=e.isTranslateContent;L.a.unRegister(n,t,r)}},{key:"highlight",value:function(t){var e=this.selections.find(function(e){return Object(m.default)(Object.assign({},e,{isSelected:!1}),Object.assign({},t,{isSelected:!1}))});if(e){if(e.isSelected===t.isSelected)return;e.isSelected=t.isSelected}else this.selections.push(Object(g.default)(t));this.setState({nodeList:this.handleNodeList()})}},{key:"clearHighlight",value:function(t){if(!t)return this.selections=[],void this.setState({nodeList:this.handleNodeList()});var e=this.selections.findIndex(function(e){return Object(m.default)(Object.assign({},e,{isSelected:!1}),Object.assign({},t,{isSelected:!1}))});-1<e&&(this.selections.splice(e,1),this.setState({nodeList:this.handleNodeList()}))}},{key:"updateUserList",value:function(){var e=this.state.nodeList,t=this.props.embedObjShareEnable,o=[],a=[];e.forEach(function(e){var t,n,r=e.type,i=e.token;"mentionDefaultUser"===r&&o.push(i),"mentionLink"===r&&(t=e.mentionType,n=e.content,a.push({type:R.c[t],title:n,token:i}))}),this.contentManager&&(0<o.length&&this.contentManager.changeUserList(o),t&&0<a.length&&this.contentManager.changeEmbedObjList(a))}},{key:"initPermisionMap",value:function(e){var t=this.props,n=t.replyId,r=t.embedObjShareEnable,o=[],a=[];if(e.forEach(function(e){var t,n,r=e.type,i=e.token;"mentionDefaultUser"===r&&o.push(i),"mentionLink"===r&&(t=e.mentionType,n=e.content,a.push({type:R.c[t],title:n,token:i}))}),0<o.length||0<a.length){var i=Object(w.a)();this.contentManager=new S({replyId:n+i,userList:o,docsList:r?a:[],onPermissionChange:this.handlePermissionChange});var s=this.contentManager.getHavePermissions();if(s)return s}return null}},{key:"getHighlightContent",value:function(e){var a=this.props.content;if(!e||!e.length)return a;var t,s="",c=0;return e.map(function(e){var t=e.ranges,o=e.isSelected;t.map(function(e){var t=e.startIndex,n=e.endIndex,r=e.content,i=a.slice(c,t);i&&(s+=i),s+='<highlight isOn="'.concat(o,'">').concat(r,"</highlight>"),c=n})}),c<a.length&&(t=a.slice(c),s+=t),s}},{key:"handleAtNode",value:function(e){var t=e.href,n=e.type,r=e.token,i=e.content,o=e.icon,a="mention mention-type_".concat(n," mention-token_").concat(r),s="";t&&(a+=" mention-link_".concat(encodeURIComponent(t)),s="_blank"),o&&(a+=" mention-icon_".concat(o)),(Object(N.n)(r)||Object(N.j)())&&(a+=" popover-disabled");var c=Object(E.h)(),u=new RegExp("[^<>]+(".concat(c.map(function(e){return e.replace(/\./g,"\\.")}).join("|"),")[^<>]+")),l=t&&u.test(t)?t:"javascript:void(0)",d=Object(x.a)(i),p=t?"mentionLink":"mentionDefaultUser";return Object(j.G)()&&"mentionDefaultUser"===p&&"@"===d[0]&&(d=d.slice(1)),{type:p,content:d,className:a,token:r,mentionType:n,href:l,target:s,icon:o,children:Object(y.c)(d)}}},{key:"handleTextNode",value:function(e){var o=Object(x.a)(e),t=Object(y.e)(o);if(t.length<=0)return Object(y.g)(o);o=(o=o.replace(/<highlight isOn="([\s\S]*?)">/gi,"")).replace(/<\/highlight>/gi,"");var n,a=[],s=0;return t.forEach(function(e){var t=e.startIndex,n=e.endIndex,r=e.url,i=o.slice(s,t);i&&a.push(Object(y.g)(i)),a.push(Object(y.f)(r)),s=n}),s<o.length&&(n=o.slice(s),a.push(Object(y.g)(n))),a}},{key:"handleNodeList",value:function(){var e,t,a=this,s=this.getHighlightContent(this.selections),c=[],n=Object(y.b)(s),u=0;return n.forEach(function(e){var t,n=e.startIndex,r=e.endIndex,i=s.slice(u,n);i&&(t=a.handleTextNode(i),c=c.concat(t));var o=a.handleAtNode(e);c.push(o),u=r}),u<s.length&&(e=s.slice(u),t=this.handleTextNode(e),c=c.concat(t)),c}},{key:"getMention",value:function(){var g=this,e=this.state,t=e.nodeList,m=e.permissionMap,v=this.props.embedObjShareEnable,y=function(e){return e.children?e.children.map(function(e,t){var n=e.content,r=e.type,i=e.className;return"text"===r?b.a.createElement("span",{key:t},n):"highlight"===r?b.a.createElement("span",{key:t,className:i},n):null}):e.content};return t.map(function(e,t){var n=g.props.grantViewAccessDisabled,r=e.type,i=e.className,o=e.token,a=e.href,s=e.target,c=e.icon;if(o&&"mentionDefaultUser"===r){var u=Object(T.d)(),l=!1===m.get(o),d=C()(i,{"at-self-highlight":o===u,"at-no-readble":!0!==n&&l,"grant-view-access-disabled":!0===n,"at-user-disabled":l,"at-user-text":!0});return Object(j.G)()?b.a.createElement("div",{className:"inline-block-placeholder block-type-AT_USER_BLOCK"},b.a.createElement("a",{href:"javascript:void(0)",key:t,className:d,"data-token":o,target:s},b.a.createElement("span",null,b.a.createElement(P.a,{userId:o}),y(e)))):b.a.createElement("span",{key:t,className:d,"data-token":o},b.a.createElement("a",{href:"javascript:void(0)",target:s},y(e)))}if(o&&"mentionLink"===r){var p=!1===m.get(o),f=c?g.getIconUrl(c):"",h=C()("comment",{"content-with-lock":v&&p,"content-with-icon":c&&f});return b.a.createElement("span",{key:t,className:i,"data-token":o},b.a.createElement("a",{href:a,target:s,className:h,onClick:g.handleLinkClick},c&&f&&b.a.createElement("i",{style:{backgroundImage:"url(".concat(f,")")},className:"mention-doc-icon"}),y(e)))}return"text"===r?b.a.createElement("span",{key:t},y(e)):"link"===r?b.a.createElement("span",{key:t},b.a.createElement("a",{href:a,rel:"noopener noreferrer",target:s,className:i,onClick:g.handleLinkClick},y(e))):null})}},{key:"render",value:function(){var e=this.props,t=e.contentCls,n=e.contentStyle,r=e.isEdit,i=C()(t,{"comment-list-item__content-edit":r,"new-mention-ui":Object(j.G)()});return b.a.createElement("div",{ref:this.getElement,className:i,style:n},b.a.createElement("span",null,this.getMention()),this.props.children)}}]),r}(v.Component);t.a=U},AdCt:function(e,t){var n=e.exports={get firstChild(){var e=this.children;return e&&e[0]||null},get lastChild(){var e=this.children;return e&&e[e.length-1]||null},get nodeType(){return i[this.type]||i.element}},r={tagName:"name",childNodes:"children",parentNode:"parent",previousSibling:"prev",nextSibling:"next",nodeValue:"data"},i={element:1,text:3,cdata:4,comment:8};Object.keys(r).forEach(function(e){var t=r[e];Object.defineProperty(n,e,{get:function(){return this[t]||null},set:function(e){return this[t]=e}})})},Ae4K:function(e,t,r){"use strict";var d={};r.r(d),r.d(d,"CancelTokenSource",function(){return w.CancelTokenSource}),r.d(d,"setEnvConfigs",function(){return P}),r.d(d,"CancelToken",function(){return B}),r.d(d,"getShouldUseNearbyDriveAPI",function(){return H}),r.d(d,"request",function(){return ne}),r.d(d,"post",function(){return ie}),r.d(d,"postUrlEncoded",function(){return oe}),r.d(d,"postFormData",function(){return ae}),r.d(d,"importPostFormData",function(){return ce}),r.d(d,"importGet",function(){return ue});var c,u,i,y=r("BAjd"),n=r("RIqP"),f=r.n(n),o=r("J4zp"),T=r.n(o),a=r("o0o1"),O=r.n(a),s=r("yXPU"),h=r.n(s),l=r("lwsE"),p=r.n(l),g=r("W8MJ"),m=r.n(g),v=r("a1gu"),b=r.n(v),E=r("Nsbk"),_=r.n(E),C=r("7W2i"),k=r.n(C),S=r("7EGn"),w=r("vYB2"),I=r.n(w),x=r("Qyje"),L=r.n(x),R=r("95pV"),N=r("TJya"),D=r("qkt2"),M=r("EAIz");function P(e){var t=e.defaultNearbyDriveAPI,n=e.driveStreamAPIHost,r=e.isNearbyDriveAPIEnabled;c=t,u=n,i=r}var j=I.a.create({withCredentials:!0});Object(R.a)(j);var F=function(e){return"".concat(j.defaults.baseURL).concat(e).replace(/(?:^.*\/\/[^\/]+\/)|(?:\/*(?:\?.*)?$)/g,"").replace(/\//g,".")},B=I.a.CancelToken,U=!1;function H(){return!U&&i&&c}var z,V,K=20,W=16e3,Y=2e3;(V=z=z||{}).INCREASE="increase",V.REDUCE="reduce";var q=new Map,Z=new Map;function X(e,t){var n=q.get(e),r=n||0;t===z.INCREASE?r=n?Math.min(W,2*n):Y:t===z.REDUCE&&(r=n&&Y<n?n/2:0),q.set(e,r)}function Q(e){Z.delete(e)}function J(e){var t=Z.get(e),n=t?t+1:1;Z.set(e,n)}function $(e){J(e),X(e,z.INCREASE)}function ee(e){Q(e),X(e,z.REDUCE)}function te(e){var t=e.match(/^https?\:\/\/[^\/?#]*([^?#]*).*$/);return t&&t[1]?t[1]:e}var ne=function(){var t=h()(O.a.mark(function e(t){var n,r,i,o,a,s;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=te(t.url),e.prev=1,r=q.get(n))return e.next=6,Object(D.i)(r);e.next=6;break;case 6:return e.next=8,j(t);case 8:if(i=e.sent,0!==(o=i.data).code)throw{response:i};e.next=12;break;case 12:return ee(n),e.abrupt("return",o.data);case 16:if(e.prev=16,e.t0=e.catch(1),!e.t0.response||429!==e.t0.response.status){e.next=24;break}if((a=Z.get(n))&&K<=a)throw e.t0.response.data;e.next=22;break;case 22:return $(n),e.abrupt("return",ne(t));case 24:if(s=401===Object(S.default)(e.t0,"response.status")||Object(S.default)(e.t0,"response.data.code")===y.i,u&&s&&H()&&t.url.includes(c))return U=!0,t.url=t.url.replace("https://".concat(c),u),e.abrupt("return",ne(t));e.next=29;break;case 29:if(ee(n),e.t0.response){e.next=32;break}throw new Error("Network Error");case 32:throw e.t0.response.data;case 33:case"end":return e.stop()}},e,null,[[1,16]])}));return function(e){return t.apply(this,arguments)}}(),re=function(){var r=h()(O.a.mark(function e(t,n,r){var i;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Object.assign({},Object(N.a)(),{"x-command":F(t)},r?r.headers:null),e.t0=M.e,e.t0)return e.t1=Object,e.t2=i,e.next=7,Object(M.c)();e.next=9;break;case 7:e.t3=e.sent,e.t1.assign.call(e.t1,e.t2,e.t3);case 9:return e.abrupt("return",ne(Object.assign({},r,{url:t,method:"post",headers:i,data:n})));case 10:case"end":return e.stop()}},e)}));return function(e,t,n){return r.apply(this,arguments)}}(),ie=function(e,t,n){return re(e,t,n)},oe=function(e,t,n){return re(e,L.a.stringify(t),Object.assign({},n,{headers:Object.assign({"Content-Type":"application/x-www-form-urlencoded"},n?n.headers:null)}))},ae=function(e,t,n){return re(e,t,Object.assign({},n,{headers:Object.assign({"Content-Type":"multipart/form-data"},n?n.headers:null)}))},se=function(){var t=h()(O.a.mark(function e(t){var n,r;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j(t);case 3:return n=e.sent,r=n.data,e.abrupt("return",r);case 8:if(e.prev=8,e.t0=e.catch(0),e.t0.response){e.next=12;break}throw new Error("Network Error");case 12:throw e.t0.response.data;case 13:case"end":return e.stop()}},e,null,[[0,8]])}));return function(e){return t.apply(this,arguments)}}(),ce=function(e,t,n){return se(Object.assign({},n,{url:e,method:"post",headers:Object.assign({"x-command":F(e),"Content-Type":"multipart/form-data"},n?n.headers:null),data:t}))},ue=function(e,t,n){return se(Object.assign({},n,{url:e,method:"get",headers:Object.assign({"x-command":F(e)},n?n.headers:null),params:t}))},le=r("gfe6"),de=r("QM+C"),pe=r("D7h9"),fe=r("5cZX"),he=function(){function n(e){var c=this;p()(this,n),this.tasks=[],this.events=[],this._retry=!1,this.defaults={simultaneousUploads:3,dragOverClass:"dragover",throttleProgressCallbacks:1,prepareTarget:y.b.PREPARE,testTarget:y.b.CHUNK_CHECK,uploadTarget:y.b.CHUNK_UPLOAD,finishTarget:y.b.FINISH,xhrTimeout:0,clearInput:!0,setChunkTypeFromFile:!1,fastModeEnabled:!1,getMountPoint:function(){return""},shouldAddToRecents:!0,getParentToken:function(){return""},createDirectory:function(){return Promise.resolve("")},uploadChunk:function(){return Promise.resolve("")},uploadMergedChunk:function(){return Promise.resolve("")},minFileSize:1,minFileSizeErrorCallback:function(e,t){alert(e.name+" is too small, please upload files larger than "+Object(D.a)(c.getOpt(y.l.minFileSize))+".")},maxFileSize:void 0,maxFileSizeErrorCallback:function(e,t,n){alert(e.name+" is too large, please upload files less than "+Object(D.a)(c.getOpt(y.l.maxFileSize))+".")},fileType:[],fileTypeErrorCallback:function(e,t){alert(e.name+" has type not allowed, please upload files of type "+c.getOpt(y.l.fileType)+".")},emptyDirectoryCallback:function(e){alert(e.name+"contains no file")},importableType:[],directoryNotImportableCallback:function(e){alert(e.name+"cannot be imported")},preferMergedChunks:!0,isImportUploadMixedEnabled:!1},this.onDrop=function(e){var t,n,r,i,o,a,s;c.triggerDragSideEffects(e,!1),e.preventDefault(),Object(fe.h)(pe.default.getState())!==de.FOLDER_PERMISSION.READABLE?e.dataTransfer&&(n=(t=e.dataTransfer).items,r=t.files,n&&n[0]&&"string"===n[0].kind||(n||r)&&(i=n||r,a=(o=c.opts).importUploadMixedModePredicator,s=o.onImportUploadMixedTask,"function"==typeof a&&a(i,e)&&"function"==typeof s?s(i,e):c.loadFiles(i,e))):console.info("Current folder is read-only.")},this.onDragLeave=function(e){e.currentTarget&&c.triggerDragSideEffects(e,!1)},this.onDragOverEnter=function(e){e.preventDefault();var t=e.dataTransfer;t&&(t.types.indexOf&&0<=t.types.indexOf("Files")?(e.stopPropagation(),t.dropEffect="copy",t.effectAllowed="copy",c.triggerDragSideEffects(e,!0)):(t.dropEffect="none",t.effectAllowed="none"))},this.triggerDragSideEffects=function(e,t){c.toggleDragOverClass(e,t),c.triggerDragHandler(t)},this.toggleDragOverClass=function(e,t){var n=c.getOpt(y.l.dragOverClass);t?e.currentTarget.classList.add(n):e.currentTarget.classList.remove(n)},this.triggerDragHandler=function(e){var t=e?c.getOpt(y.l.onDragStart):c.getOpt(y.l.onDragEnd);t&&t()},this.processItem=function(e,t,n){if(!e)return null;if(e instanceof File||e.isFile)return at(e,c,t,n);var r=n&&n.isImport;return it(e,c,t,{isImport:r})},this.onOnline=function(){c.fire(y.k.online),(c.pausedByOffline||c.filesAddedWhenOffline)&&(c.upload(!0),c.pausedByOffline=!1,c.filesAddedWhenOffline=!1)},this.onOffline=function(){c.fire(y.k.offline),c.isUploading&&(c.pausedByOffline=!0,c.pauseAll())},this.handleDropEvent=function(e){c.onDrop(e)},this.handleChangeEvent=function(e){var t=e.target;c.loadFiles(t.files,e),t.value=""},this.supported=Boolean(FileList&&File&&Blob&&Blob.prototype.slice),this.opts=e||{};var t=this.opts;P({defaultNearbyDriveAPI:t.defaultNearbyDriveAPI,driveStreamAPIHost:t.driveStreamAPIHost,isNearbyDriveAPIEnabled:t.isNearbyDriveAPIEnabled})}function e(){return t.apply(this,arguments)}var t,r;function i(e,t,n){return r.apply(this,arguments)}return m()(n,[{key:"getOpt",value:function(e){var t=this;if(Array.isArray(e)){var n={};return e.forEach(function(e){n[e]=t.getOpt(e)}),n}return(void 0!==this.opts[e]?this.opts:this.defaults)[e]}},{key:"on",value:function(e,t){this.events.push(e.toLowerCase(),t)}},{key:"fire",value:function(e){for(var t=e.toLowerCase(),n=arguments.length,r=new Array(1<n?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(var o=0;o<=this.events.length;o+=2)this.events[o]===t&&this.events[o+1].apply(this,r),"catchall"===this.events[o]&&this.events[o+1].apply(null,[e].concat(r));"fileerror"===e?this.fire(y.k.error,r[1],r[0]):"fileprogress"===e&&this.fire(y.k.progress)}},{key:"processDirectory",value:function(e,t,n){return it(e,this,t,n)}},{key:"loadFiles",value:(r=h()(O.a.mark(function e(t,n,r){var i,o,a,s,c,u,l,d,p,f,h,g,m;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i=r&&r.isDirectory,!t||0===t.length&&!i)return e.abrupt("return");e.next=3;break;case 3:if(this.fire(y.k.beforeAdd),o=Array.from(t).map(function(e){return e instanceof DataTransferItem?e.webkitGetAsEntry():e}),i&&1===o.length&&""===o[0].webkitRelativePath&&(i=!1),a=[],s=r&&r.versionInfo,c=r&&r.parentToken,i)return u=r&&r.isImport,e.t0=a,e.next=14,this.processDirectory(o,n,{isImport:u,parentToken:c});e.next=18;break;case 14:e.t1=e.sent,e.t0.push.call(e.t0,e.t1),e.next=49;break;case 18:d=!(l=!0),p=void 0,e.prev=21,f=o[Symbol.iterator]();case 23:if(l=(h=f.next()).done){e.next=35;break}return g=h.value,m=void 0,m=r&&"function"==typeof r.jobTypePredicator?r.jobTypePredicator(g)===y.j.Import:r&&r.isImport,e.t2=a,e.next=30,this.processItem(g,n,{isImport:m,versionInfo:s,parentToken:c,jobTypePredicator:r?r.jobTypePredicator:void 0});case 30:e.t3=e.sent,e.t2.push.call(e.t2,e.t3);case 32:l=!0,e.next=23;break;case 35:e.next=41;break;case 37:e.prev=37,e.t4=e.catch(21),d=!0,p=e.t4;case 41:e.prev=41,e.prev=42,l||null==f.return||f.return();case 44:if(e.prev=44,d)throw p;e.next=47;break;case 47:return e.finish(44);case 48:return e.finish(41);case 49:this.appendTaskQueue(a,n);case 50:case"end":return e.stop()}},e,this,[[21,37,41,49],[42,,44,48]])})),i)},{key:"appendTaskQueue",value:function(e,t){var n,r=e.filter(function(e){return e});(n=this.tasks).push.apply(n,f()(r)),this.fire(y.k.tasksAdded,r,t),Object(le.c)()||(this.filesAddedWhenOffline=!0)}},{key:"uploadNextChunk",value:(t=h()(O.a.mark(function e(){var t,n,r,i,o,a;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=!(t=!0),r=void 0,e.prev=3,i=this.tasks[Symbol.iterator]();case 5:if(t=(o=i.next()).done){e.next=15;break}return a=o.value,e.next=9,a.upload();case 9:if(e.sent)return e.abrupt("return",!0);e.next=12;break;case 12:t=!0,e.next=5;break;case 15:e.next=21;break;case 17:e.prev=17,e.t0=e.catch(3),n=!0,r=e.t0;case 21:e.prev=21,e.prev=22,t||null==i.return||i.return();case 24:if(e.prev=24,n)throw r;e.next=27;break;case 27:return e.finish(24);case 28:return e.finish(21);case 29:return this.tasks.every(function(e){return e.completed})&&this.fire(y.k.complete),e.abrupt("return",!1);case 32:case"end":return e.stop()}},e,this,[[3,17,21,29],[22,,24,28]])})),e)},{key:"assignBrowse",value:function(e,t){var r=this,i=t.isDirectory,o=t.allowMultiple,a=t.isImport;(e=Object(D.f)(e)).forEach(function(e){var t;"INPUT"===e.tagName&&"file"===e.type?t=e:((t=document.createElement("input")).setAttribute("type","file"),t.style.display="none",e.addEventListener("click",function(){t.style.opacity=0,t.style.display="block",t.focus(),t.click(),t.style.display="none"},!1),e.appendChild(t)),o?t.setAttribute("multiple","multiple"):t.removeAttribute("multiple"),i?t.setAttribute("webkitdirectory","webkitdirectory"):t.removeAttribute("webkitdirectory");var n=r.getOpt(y.l.fileType);void 0!==n&&1<=n.length?t.setAttribute("accept",n.map(function(e){return(e=e.replace(/\s/g,"").toLowerCase()).match(/^[^.][^/]+$/)&&(e="."+e),e}).join(",")):t.removeAttribute("accept"),t.addEventListener("change",function(e){r.loadFiles(e.target.files,e,{isImport:a,isDirectory:i}),r.getOpt(y.l.clearInput)&&(e.target.value="")},!1)})}},{key:"assignDrop",value:function(e){var t=this;(e=Object(D.f)(e)).forEach(function(e){e.addEventListener("dragover",t.onDragOverEnter,!1),e.addEventListener("dragenter",t.onDragOverEnter,!1),e.addEventListener("dragleave",t.onDragLeave,!1),e.addEventListener("drop",t.onDrop,!1)})}},{key:"unAssignDrop",value:function(e){var t=this;(e=Object(D.f)(e)).forEach(function(e){e.removeEventListener("dragover",t.onDragOverEnter),e.removeEventListener("dragenter",t.onDragOverEnter),e.removeEventListener("dragleave",t.onDragLeave),e.removeEventListener("drop",t.onDrop)})}},{key:"setNetworkCheck",value:function(e){e?(window.addEventListener("online",this.onOnline),window.addEventListener("offline",this.onOffline)):(window.removeEventListener("online",this.onOnline),window.removeEventListener("offline",this.onOffline))}},{key:"upload",value:function(e){if(Object(le.c)()&&(!this.isUploading||this._retry)){this._retry=!1,e&&this.tasks.forEach(function(e){return e.resume()}),this.fire(y.k.uploadStart);for(var t=this.getOpt(y.l.simultaneousUploads),n=0;n<t;n++)this.uploadNextChunk()}}},{key:"pauseAll",value:function(){this.tasks.forEach(function(e){e.abort(),e.pause(!0)}),this.fire(y.k.pauseAll)}},{key:"pause",value:function(t){var e=this.tasks.find(function(e){return e.uuid===t});e?(e.abort(),e.pause(!0),this.fire(y.k.pause,e)):console.error("Cannot find file with uuid:",t)}},{key:"retry",value:function(t){var e;Object(le.c)()&&(this._retry=!0,(e=this.tasks.find(function(e){return e.uuid===t}))?e.retry():console.error("Cannot find file with uuid:",t))}},{key:"retryAll",value:function(e){var t=this;e&&0!==e.length&&e.forEach(function(e){t.retry(e)})}},{key:"rePending",value:function(t){var e;Object(le.c)()&&((e=this.tasks.find(function(e){return e.uuid===t}))?(e.resume(),this.fire(y.k.pending,e)):console.error("Cannot find file with uuid:",t))}},{key:"rePendingAll",value:function(e){var t=this;e&&0!==e.length&&(e.forEach(function(e){t.rePending(e)}),this.isUploading||this.upload())}},{key:"cancel",value:function(t){var e=this.tasks.find(function(e){return e.uuid===t});e?(e.cancel(),this.fire(y.k.cancel,e)):console.error("Cannot find file with uuid:",t)}},{key:"cancelAll",value:function(){for(var e=this.tasks.length-1;0<=e;e--)this.tasks[e].cancel();this.fire(y.k.cancelAll)}},{key:"progress",value:function(){var n=0,r=0;return this.tasks.forEach(function(e){var t=e.size;n+=e instanceof lt?e.sizeProgress*t:e.progress*t,r+=t}),0<r?n/r:0}},{key:"uploadedSize",value:function(){return this.tasks.reduce(function(e,t){return t instanceof lt?e+t.sizeProgress*t.size:e+t.progress*t.size},0)}},{key:"addFile",value:function(e,t,n){this.loadFiles([e],t,n)}},{key:"addFiles",value:function(e,t,n){this.loadFiles(e,t,n)}},{key:"removeTask",value:function(e){for(var t=this.tasks.length-1;0<=t;t--)this.tasks[t]===e&&this.tasks.splice(t,1)}},{key:"getFromUniqueIdentifier",value:function(e){var t=!0,n=!1,r=void 0;try{for(var i,o=this.tasks[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var a=i.value;if(a instanceof lt){var s=a.getFromUniqueIdentifier(e);if(s)return s}else if(a.uuid===e)return a}}catch(e){n=!0,r=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw r}}return null}},{key:"getSize",value:function(){return this.tasks.reduce(function(e,t){return e+t.size},0)}},{key:"isUploading",get:function(){return this.tasks.some(function(e){return e.isUploading})}}]),n}(),ge=function(){function o(e){var t,n=e.uploaderObj,r=e.rootTask,i=e.parentToken;p()(this,o),this.uploaderObj=n,r?this.rootTask=r:(t=n.getOpt(y.l.getParentToken),this.parentToken=i||t())}return m()(o,[{key:"getOpt",value:function(e){return this.uploaderObj.getOpt(e)}},{key:"fire",value:function(e){for(var n=this,t=arguments.length,r=new Array(1<t?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];return Array.isArray(e)||(e=[e]),e.forEach(function(e){var t;return(t=n.uploaderObj).fire.apply(t,[e].concat(r))})}},{key:"parentToken",set:function(e){this._parentToken=e},get:function(){return this._parentToken}},{key:"rootTask",set:function(e){this._rootTask=e},get:function(){return this._rootTask||this}},{key:"isTask",get:function(){return this.rootTask===this}}]),o}(),me=function(e){function c(e){var t,n=e.uploaderObj,r=e.file,i=e.uuid,o=e.rootTask,a=e.parentToken,s=e.isJobTypeDeterminedByPredicator;return p()(this,c),(t=b()(this,_()(c).call(this,{uploaderObj:n,rootTask:o,parentToken:a}))).error=!1,t.paused=!1,t.resumed=!1,t.file=r,t.uuid=i,t.isJobTypeDeterminedByPredicator=!!s,t}return k()(c,e),m()(c,[{key:"checkRootTaskProgress",value:function(){this.rootTask instanceof dt&&this.rootTask.checkTaskProgress()}},{key:"pause",value:function(e){this.paused=void 0===e?!this.paused:e}},{key:"resume",value:function(){this.pause(!1),this.resumed=!0}},{key:"isPaused",get:function(){return this.paused}},{key:"name",get:function(){return this.file?this.file.name:""}},{key:"type",get:function(){return this.file?this.file.type:""}},{key:"size",get:function(){return this.file?this.file.size:0}}]),c}(ge),ve=me,ye=r("cDf5"),be=r.n(ye),Ee=r("PJYZ"),_e=r.n(Ee),Ae=[y.e.PENDING,y.e.ERROR],Ce=function(e){function i(e){var n;p()(this,i),(n=b()(this,_()(i).call(this,e))).chunks=[],n.cachedChunks=[],n.startTime=0,n.timeCost=0,n.chunkEvent=function(e,t){switch(e){case y.c.PROGRESS:if(n.paused)break;n.fire([y.k.fileProgress,y.k.collectReport],n.rootTask,t);break;case y.c.ERROR:n.abort(),n.markError(),n.cachedChunks=n.chunks,n.chunks=[],n.fire([y.k.taskError,y.k.collectReport],_e()(n),Object.assign({},"object"===be()(t)?t:null,{type:y.o.ChunkError})),n.isTask||n.checkRootTaskProgress();break;case y.c.SUCCESS:if(n.error||!n.chunks||0===n.chunks.length)return;n.fire([y.k.fileProgress,y.k.collectReport],n.rootTask,Object.assign({},"object"===be()(t)?t:null,{type:y.o.ChunkSuccess})),n.readyToFinish&&n.finish(t);break;case y.c.RETRY:n.isTask&&n.fire(y.k.taskRetry,_e()(n));break;case y.c.REPORT_ERROR:n.fire(y.k.collectReport,n.rootTask,Object.assign({},"object"===be()(t)?t:null,{type:y.o.ChunkError}))}},n._prevProgress=0;var t=e.versionInfo;t&&(n.fileToken=t.fileToken,n.memberId=t.memberId,n.versionUpload=!0);var r=n.getOpt(y.l.getMountPoint);return n.mountPoint=r(),n}function t(e){return n.apply(this,arguments)}var n,r,o;function a(e){return r.apply(this,arguments)}function s(){return o.apply(this,arguments)}return k()(i,e),m()(i,[{key:"upload",value:(o=h()(O.a.mark(function e(){var t,n,r,i,o,a;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(Object(le.c)()){e.next=2;break}return e.abrupt("return",!1);case 2:return this._bootstrapKickedOff||(this._bootstrapKickedOff=!0,this._bootstrapTask=this.bootstrap()),e.next=5,this._bootstrapTask;case 5:if(this.paused)return e.abrupt("return",!1);e.next=7;break;case 7:this.resumed&&(this.markStartTime(),this.resumed=!1),n=!(t=!0),r=void 0,e.prev=11,i=this.chunks[Symbol.iterator]();case 13:if(t=(o=i.next()).done){e.next=23;break}if(a=o.value,Ae.includes(a.status()))return e.next=19,a.send();e.next=20;break;case 19:return e.abrupt("return",!0);case 20:t=!0,e.next=13;break;case 23:e.next=29;break;case 25:e.prev=25,e.t0=e.catch(11),n=!0,r=e.t0;case 29:e.prev=29,e.prev=30,t||null==i.return||i.return();case 32:if(e.prev=32,n)throw r;e.next=35;break;case 35:return e.finish(32);case 36:return e.finish(29);case 37:return e.abrupt("return",!1);case 38:case"end":return e.stop()}},e,this,[[11,25,29,37],[30,,32,36]])})),s)},{key:"retry",value:function(){Object(le.c)()&&(this.paused&&(this.cachedChunks=this.chunks),this._bootstrapTask=this.bootstrap(!0),this.isTask&&this.uploaderObj.upload(),this.pause(!1))}},{key:"abort",value:function(){var t=0;this.chunks.forEach(function(e){e.status()===y.e.UPLOADING&&(e.abort(),t++)}),this.isTask&&0<t&&this.fire(y.k.fileProgress,this),this.addTimeCost()}},{key:"cancel",value:function(){var t=this,e=this.chunks;this.chunks=[],e.forEach(function(e){e.status()===y.e.UPLOADING&&(e.abort(),t.uploaderObj.uploadNextChunk())}),this.isTask&&(this.uploaderObj.removeTask(this),this.fire(y.k.fileProgress,this))}},{key:"bootstrap",value:(r=h()(O.a.mark(function e(t){var n,r,i,o,a,s,c,u,l,d,p;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.abort(),this.error=!1,this.markStartTime(),this.resumed=!1,t&&this.cachedChunks&&0<this.cachedChunks.length)return this.chunks=this.cachedChunks,this.cachedChunks=[],this.readyToFinish&&this.finish(""),e.abrupt("return");e.next=9;break;case 9:if(r="",e.prev=10,void 0===this.parentToken)throw new Error("Mount node token unspecified");e.next=13;break;case 13:return r=Object(D.d)(),e.next=16,ie(this.getOpt(y.l.prepareTarget),Object(D.g)({name:this.name,mount_node_token:this.parentToken,mount_point:this.mountPoint,size:this.size,file_token:this.fileToken}),{headers:Object.assign({"x-request-id":r,"x-tt-trace-id":r},M.e?Object(M.d)():{})});case 16:n=e.sent,e.next=26;break;case 19:return e.prev=19,e.t0=e.catch(10),this.markError(),this.fire(y.k.collectReport,this,{type:y.o.FilePrepareError,reqId:r,msg:e.t0.message}),this.isTask?this.fire(y.k.taskError,this,{type:y.o.FilePrepareError,isIllegal:e.t0&&e.t0.code===y.h}):this.checkRootTaskProgress(),e.t0&&e.t0.code===y.g&&(this.fire(y.k.usageLimitReached,y.m.upload),this.uploaderObj.pauseAll()),e.abrupt("return");case 26:if(i=n.block_size,o=n.num_blocks,a=n.upload_id,s=n.option_block_size,this.chunkSize=i,this.totalChunks=o,this.uploadId=a,this.suggestedChunkSize=s,0===this.totalChunks)return this.finish(""),e.abrupt("return");e.next=34;break;case 34:if(this.chunks=[],this._prevProgress=0,c={uploaderObj:this.uploaderObj,fileObj:this,callback:this.chunkEvent},this.shouldUseMergedChunks)for(u=this.suggestedChunkSize/this.chunkSize,l=Math.ceil(this.totalChunks/u),d=0;d<l;d++)this.chunks.push(new $e(Object.assign({},c,{chunkSize:this.chunkSize,offset:d,numOfChunks:u})));else for(p=0;p<this.totalChunks;p++)this.chunks.push(new Xe(Object.assign({},c,{chunkSize:this.chunkSize,offset:p})));case 38:case"end":return e.stop()}},e,this,[[10,19]])})),a)},{key:"markStartTime",value:function(){this.startTime=Date.now()}},{key:"markError",value:function(){this.error=!0,this.addTimeCost()}},{key:"addTimeCost",value:function(){this.startTime&&(this.timeCost+=Date.now()-this.startTime,this.startTime=0)}},{key:"finish",value:(n=h()(O.a.mark(function e(t){var n,r,i;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n="",e.prev=1,n=Object(D.d)(),r=this.getOpt(y.l.shouldAddToRecents),e.next=6,ie(this.getOpt(y.l.finishTarget),Object(D.g)({upload_id:this.uploadId,num_blocks:this.totalChunks,member_id:this.memberId,push_open_history_record:this.isTask&&r?null:0}),{headers:{"x-request-id":n,"x-tt-trace-id":n}});case 6:(i=e.sent).file_token&&(this.fileToken=i.file_token,this.fileVersion=i.version,this.fileDataVersion=i.data_version,this.addTimeCost(),this.reportFileSuccess(),this.isTask?this.fire(y.k.taskSuccess,this,t):this.checkRootTaskProgress()),e.next=17;break;case 10:e.prev=10,e.t0=e.catch(1),this.cachedChunks=this.chunks,this.markError(),this.fire(y.k.collectReport,this,{type:y.o.FileFinishError,reqId:n,msg:e.t0.message}),this.isTask?this.fire(y.k.taskError,this,{type:y.o.FileFinishError}):this.checkRootTaskProgress(),e.t0&&e.t0.code&&this.fire(y.k.fileError,e.t0.code);case 17:case"end":return e.stop()}},e,this,[[1,10]])})),t)},{key:"reportFileSuccess",value:function(){var e=this.size,t=this.timeCost,n=e&&t?Math.round(e/t*1e3):void 0;this.fire(y.k.collectReport,this,{type:y.o.FileSuccess,fileSize:e,timeCost:t,uploadSpeed:n})}},{key:"setRootTaskUploadingChunk",value:function(e){this.isTask||(this.rootTask.uploadingChunk=e)}},{key:"pushRootTaskUploadedChunk",value:function(e){this.isTask||this.rootTask.uploadedChunks.push(e)}},{key:"progress",get:function(){if(this.error)return 1;var t=0,n=!1;return this.chunks.forEach(function(e){e.status()===y.e.ERROR&&(n=!0),t+=e.progress(!0)}),t=n||.99999<t?1:t,t=Math.max(this._prevProgress,t),n||(this._prevProgress=t),t}},{key:"isUploading",get:function(){var e=this.progress,t=this.chunks.some(function(e){return e.status()===y.e.UPLOADING}),n=Boolean(0<e&&e<1&&!this.error&&!this.paused);return t||n}},{key:"completed",get:function(){return!!this.fileVersion&&this.readyToFinish}},{key:"shouldUseMergedChunks",get:function(){if(!this.uploaderObj.getOpt(y.l.preferMergedChunks)||!this.suggestedChunkSize)return!1;var e=this.suggestedChunkSize/this.chunkSize;return e===Math.round(e)}},{key:"readyToFinish",get:function(){return!!this.uploadId&&!this.chunks.some(function(e){return e.status()!==y.e.SUCCESS})}}]),i}(me),Te=function(){function s(e){var n=this,t=e.uploaderObj,r=e.fileObj,i=e.offset,o=e.chunkSize,a=e.callback;p()(this,s),this.size=0,this.uploading=!1,this.reqId="",this.timeCost=0,this.aborted=!1,this.cancel=null,this.onUploadProgress=function(e){var t=Date.now()-n.lastProgressCallback;t>1e3*n.uploaderObj.getOpt(y.l.throttleProgressCallbacks)&&(n.reportProgressMetric(e.loaded-n.lastReportedLoaded,t),n.lastProgressCallback=Date.now(),n.lastReportedLoaded=e.loaded),n.loaded=e.loaded||0},this.setCancelToken=function(e){return n.cancel=e},this.uploaderObj=t,this.fileObj=r,this.fileObjSize=r.size,this.offset=i,this.callback=a,this.chunkSize=o,this.chunkType=this.uploaderObj.getOpt(y.l.setChunkTypeFromFile)?this.fileObj.file.type:"",this.loaded=0,this.lastReportedLoaded=0}return m()(s,[{key:"triggerNext",value:function(e,t){this.uploading=!1,this.callback(e,this.getMessage(t)),this.uploaderObj.uploadNextChunk()}},{key:"reportProgressMetric",value:function(e,t){0<e&&this.callback(y.c.PROGRESS,{metric:!0,diffSize:e,diffTime:t})}},{key:"reportError",value:function(e){this.callback(y.c.REPORT_ERROR,this.getMessage(e))}},{key:"abort",value:function(){this.cancel&&(this.cancel(),this.cancel=null,this.aborted=!0)}},{key:"status",value:function(){return this.uploading?y.e.UPLOADING:this.loaded?y.e.SUCCESS:this.aborted?y.e.ABORT:this.cancel?y.e.ERROR:y.e.PENDING}},{key:"getMessage",value:function(e){var t=this.size,n=this.timeCost,r=t&&n?Math.round(t/n*1e3):void 0,i={offset:this.offset,status:this.status(),responseData:this.responseData||"",reqId:this.reqId,chunkSize:t,timeCost:n,uploadSpeed:r};return e&&(i.msg=e),i}},{key:"progress",value:function(e){var t=e?this.size/this.fileObjSize:1;switch(this.status()){case y.e.SUCCESS:case y.e.ERROR:return+t;case y.e.PENDING:return 0;default:return this.loaded/this.size*t}}},{key:"loadedSize",get:function(){return this.loaded}}]),s}(),Oe=r("2spZ"),ke=r("iP/4");function Se(e){return crypto.subtle.digest("SHA-256",e).then(Ie)}function we(e){return Le(new Uint8Array(e)).toString()}function Ie(e){for(var t=new Uint8Array(e),n="",r=0,i=t.byteLength;r<i;r++)n+=String.fromCharCode(t[r]);return btoa(n)}function xe(e){for(var t=new Uint8Array(e.length),n=0,r=e.length;n<r;++n)t[n]=255&e.charCodeAt(n);return t}function Le(e){e="string"==typeof e?xe(e):e;for(var t=new Uint32Array([1,0,e.length,0,0,65521,5552,0]),n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],s=t[5],c=t[6];0<i;){for(a=c<i?c:i,i-=a;r+=n+=e[o++],--a;);n%=s,r%=s}return(r<<16|n)>>>0}var Re,Ne,De={calcSHA256Async:Se,calcADLER32:we},Me={HASH_ADLER32:"adler32",HASH_AND_CHECKSUM:"hash_and_checksum",HASH_SHA256:"sha256"},Pe=new Map;function je(){return Fe.apply(this,arguments)}function Fe(){return(Fe=h()(O.a.mark(function e(){var t,n;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.e("boxWorker").then(r.t.bind(null,"TD40",7));case 3:t=e.sent,n=t.default,(Re=new n).onmessage=Be,e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error("Failed to load box.worker.js",e.t0);case 12:case"end":return e.stop()}},e,null,[[0,9]])}))).apply(this,arguments)}function Be(e){var t,n=e.data,r=n.callerId,i=n.content,o=n.errorMsg;Pe.has(r)&&(t=Pe.get(r),Pe.delete(r),o?t.reject(new Error(o)):t.resolve(i))}function Ue(){return+new Date+Math.random()}function He(e,t,n,r){return ze.apply(this,arguments)}function ze(){return(ze=h()(O.a.mark(function e(t,n,r,i){return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(Re){e.next=5;break}return Ne=Ne||je(),e.next=4,Ne;case 4:Ne=null;case 5:Re.postMessage({callerId:t,type:n,content:r}),Pe.set(t,i);case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)}var Ve=function(i){return function(n){var r=Ue();return new Promise(function(e,t){He(r,i,n,{resolve:e,reject:t})})}},Ke=Ve(Me.HASH_SHA256);function Ge(e){return ke.a.isEdge?De.calcSHA256Async(e):Ke(e)}var We,Ye,qe=Ve(Me.HASH_ADLER32),Ze=Ve(Me.HASH_AND_CHECKSUM),Xe=function(e){function n(e){var t;return p()(this,n),(t=b()(this,_()(n).call(this,e))).startByte=t.offset*t.chunkSize,t.endByte=Math.min(t.fileObjSize,(t.offset+1)*t.chunkSize),t.size=t.endByte-t.startByte,t.doUploadChunk=t.uploaderObj.getOpt(y.l.uploadChunk),t}function t(e,t){return r.apply(this,arguments)}var r,i,o,a;function s(e){return i.apply(this,arguments)}function c(e){return o.apply(this,arguments)}function u(){return a.apply(this,arguments)}return k()(n,e),m()(n,[{key:"send",value:(a=h()(O.a.mark(function e(){var t,n,r,i,o;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.uploading=!0,t=this.fileObj.file.slice(this.startByte,this.endByte,this.chunkType),e.next=4,this.calcHashAndChecksum(t);case 4:return n=e.sent,r=n.hash,i=n.checksum,o=this.size,e.next=10,this.checkChunkExistence({hash:r,checksum:i,size:o});case 10:if(!e.sent){e.next=16;break}this.loaded=this.size,this.triggerNext(y.c.SUCCESS),e.next=18;break;case 16:return e.next=18,this.uploadChunk({sliceData:t,checksum:i,size:o},y.d);case 18:case"end":return e.stop()}},e,this)})),u)},{key:"checkChunkExistence",value:(o=h()(O.a.mark(function e(t){var n,r,i,o,a,s;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.hash,r=t.checksum,i=t.size,this.uploaderObj.getOpt(y.l.fastModeEnabled)){e.next=4;break}return e.abrupt("return",!1);case 4:return e.prev=4,o=Date.now(),e.next=8,ie(this.uploaderObj.getOpt(y.l.testTarget),{upload_id:this.fileObj.uploadId,seq:this.offset,hash:n,checksum:r,size:i});case 8:return a=e.sent,this.timeCost=Date.now()-o,s=Boolean(a.exist),e.abrupt("return",s);case 14:return e.prev=14,e.t0=e.catch(4),e.abrupt("return",!1);case 17:case"end":return e.stop()}},e,this,[[4,14]])})),c)},{key:"calcHashAndChecksum",value:(i=h()(O.a.mark(function e(t){var n,r,i,o;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(D.h)(t);case 2:if(n=e.sent,ke.a.isEdge)return e.next=6,Ge(n);e.next=12;break;case 6:return r=e.sent,e.next=9,qe(n);case 9:i=e.sent,e.next=17;break;case 12:return e.next=14,Ze(n);case 14:o=e.sent,r=o.hash,i=o.checksum;case 17:return e.abrupt("return",{hash:r,checksum:i});case 18:case"end":return e.stop()}},e)})),s)},{key:"uploadChunk",value:(r=h()(O.a.mark(function e(t,n){var r,i,o,a,s,c;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.sliceData,i=t.checksum,o=t.size,e.prev=1,this.callback(y.c.PROGRESS),this.fileObj.setRootTaskUploadingChunk(this),this.reqId=Object(D.d)(),a=Date.now(),this.lastProgressCallback=a,e.next=9,this.doUploadChunk({request:d,uploadId:this.fileObj.uploadId,offset:this.offset,checksum:i,sliceData:r,reqId:this.reqId,onUploadProgress:this.onUploadProgress,setCancelToken:this.setCancelToken});case 9:s=e.sent,this.cancel=null,c=Date.now(),this.timeCost=c-a,this.responseData=s,0===this.loaded&&this.reportError("Incorrect loaded value"),this.loaded=o,this.reportProgressMetric(o-this.lastReportedLoaded,c-this.lastProgressCallback),this.fileObj.pushRootTaskUploadedChunk(this),this.triggerNext(y.c.SUCCESS),e.next=40;break;case 21:if(e.prev=21,e.t0=e.catch(1),this.loaded=0,this.lastReportedLoaded=0,!Object(D.e)()||this.aborted){e.next=37;break}if(0<n)return this.reportError(e.t0.message),e.next=30,Object(Oe.c)(1e3);e.next=34;break;case 30:return e.next=32,this.uploadChunk({sliceData:r,checksum:i,size:o},n-1);case 32:e.next=35;break;case 34:this.triggerNext(y.c.ERROR,e.t0.message);case 35:e.next=40;break;case 37:this.aborted=!1,this.uploading=!1,this.cancel=null;case 40:return e.prev=40,this.fileObj.setRootTaskUploadingChunk(null),e.finish(40);case 43:case"end":return e.stop()}},e,this,[[1,21,40,43]])})),t)}]),n}(Te),Qe=r("QILm"),Je=r.n(Qe),$e=function(e){function a(e){var t,n=e.numOfChunks,r=Je()(e,["numOfChunks"]);p()(this,a);var i=(t=b()(this,_()(a).call(this,r))).chunkSize*n;t.startByte=t.offset*i,t.endByte=Math.min(t.fileObjSize,(t.offset+1)*i),t.size=t.endByte-t.startByte,t.actualNumOfSubChunks=Math.ceil(t.size/t.chunkSize),t.startSubChunkIndex=t.offset*n,t.uploadedSubChunkIndices=[];var o=Boolean(navigator.serviceWorker&&navigator.serviceWorker.controller);return t.strategy=o?"simple":"optimized",t.doUploadMergedChunk=t.uploaderObj.getOpt(y.l.uploadMergedChunk),t}function t(e){return n.apply(this,arguments)}var n,r,i;function o(e){return r.apply(this,arguments)}function s(){return i.apply(this,arguments)}return k()(a,e),m()(a,[{key:"send",value:(i=h()(O.a.mark(function e(){var t,n,r,i=arguments;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=0<i.length&&void 0!==i[0]?i[0]:y.d,e.prev=1,this.uploading=!0,n=this.seqList,e.next=6,this.getPendingSliceData(n);case 6:return r=e.sent,e.next=9,this.uploadChunk(Object.assign({},r,{seqList:n}));case 9:e.next=30;break;case 11:if(e.prev=11,e.t0=e.catch(1),this.loaded=0,this.lastReportedLoaded=0,!Object(D.e)()||this.aborted){e.next=27;break}if(0<t)return this.reportError(e.t0.message),e.next=20,Object(Oe.c)(1e3);e.next=24;break;case 20:return e.next=22,this.send(t-1);case 22:e.next=25;break;case 24:this.triggerNext(y.c.ERROR,e.t0.message);case 25:e.next=30;break;case 27:this.aborted=!1,this.uploading=!1,this.cancel=null;case 30:return e.prev=30,this.fileObj.setRootTaskUploadingChunk(null),e.finish(30);case 33:case"end":return e.stop()}},e,this,[[1,11,30,33]])})),s)},{key:"uploadChunk",value:(r=h()(O.a.mark(function e(t){var n,r,i,o,a,s,c,u,l=this;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.blob,r=t.checksums,i=t.size,o=t.seqList,this.callback(y.c.PROGRESS),this.fileObj.setRootTaskUploadingChunk(this),this.reqId=Object(D.d)(),a=Date.now(),this.lastProgressCallback=a,e.next=8,this.doUploadMergedChunk({request:d,uploadId:this.fileObj.uploadId,offset:this.offset,size:i,checksums:r,seqList:o,chunkSize:this.chunkSize,sliceData:n,reqId:this.reqId,onUploadProgress:this.onUploadProgress,setCancelToken:this.setCancelToken});case 8:if(s=e.sent,this.cancel=null,c=Date.now(),this.timeCost=c-a,this.responseData=s,0===this.loaded&&this.reportError("Incorrect loaded value"),this.loaded=i,this.reportProgressMetric(i-this.lastReportedLoaded,c-this.lastProgressCallback),(u=s&&s.success_seq_list)&&u.forEach(function(e){l.uploadedSubChunkIndices.includes(e)||l.uploadedSubChunkIndices.push(e)}),this.uploadedSubChunkIndices.length!==this.actualNumOfSubChunks)throw s;e.next=20;break;case 20:this.fileObj.pushRootTaskUploadedChunk(this),this.triggerNext(y.c.SUCCESS);case 22:case"end":return e.stop()}},e,this)})),o)},{key:"getPendingSliceData",value:(n=h()(O.a.mark(function e(t){var n,r,i,o,a,s,c,u,l,d,p,f=this;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.getByteRanges(t),r=n.map(function(e){var t=T()(e,2),n=t[0],r=t[1];return f.fileObj.file.slice(n,r,f.chunkType)}),e.next=4,Promise.all(r.map(D.h));case 4:return i=e.sent,o=i.reduce(function(e,t){return e+t.byteLength},0),e.next=8,Promise.all(i.map(qe));case 8:if(a=e.sent,1===r.length)return e.abrupt("return",{blob:r[0],size:o,checksums:a});e.next=11;break;case 11:if("simple"===this.strategy)return s=n[0][0],c=n[n.length-1][1],u=this.fileObj.file.slice(s,c,this.chunkType),e.abrupt("return",{blob:u,size:o,checksums:a});e.next=16;break;case 16:return l=new Uint8Array(o),d=0,i.forEach(function(e){var t=new Uint8Array(e);l.set(t,d),d+=e.byteLength}),p=new Blob([l]),e.abrupt("return",{blob:p,size:o,checksums:a});case 21:case"end":return e.stop()}},e,this)})),t)},{key:"getByteRanges",value:function(e){var t=this;return e.map(function(e){return[e*t.chunkSize,Math.min(t.endByte,(e+1)*t.chunkSize)]})}},{key:"totalSubChunkIndices",get:function(){var n=this;return new Array(this.actualNumOfSubChunks).fill(null).map(function(e,t){return n.startSubChunkIndex+t})}},{key:"seqList",get:function(){var t=this;return"simple"===this.strategy?this.totalSubChunkIndices:this.totalSubChunkIndices.filter(function(e){return!t.uploadedSubChunkIndices.includes(e)})}}]),a}(Te),et=100,tt=function(e){function t(){return p()(this,t),b()(this,_()(t).apply(this,arguments))}function n(e){return r.apply(this,arguments)}var r,i,o;function a(e){return i.apply(this,arguments)}function s(){return o.apply(this,arguments)}return k()(t,e),m()(t,[{key:"upload",value:(o=h()(O.a.mark(function e(){var t,n;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!Object(le.c)()||this.error||this.paused||this.uploading||this.converting||this.finished)return e.abrupt("return",!1);e.next=2;break;case 2:if(e.prev=2,t=Object(D.d)(),this.ticket){e.next=8;break}return e.next=7,this.uploadFileToParser(t);case 7:this.ticket=e.sent;case 8:return e.next=10,this.getParserResult(this.ticket);case 10:return this.finished=!0,this.isTask?this.fire(y.k.taskSuccess,this):this.checkRootTaskProgress(),e.abrupt("return",!0);case 15:return e.prev=15,e.t0=e.catch(2),(n=this.uploading?y.o.ImportUploadError:this.converting?y.o.ImportParseError:null)&&this.fire(y.k.collectReport,this,{type:n,reqId:t,msg:e.t0.message}),Object(le.c)()&&(this.error=!0,this.isTask?n&&this.fire(y.k.taskError,this,{type:n}):this.checkRootTaskProgress()),this.uploading=!1,this.converting=!1,e.abrupt("return",!1);case 23:return e.prev=23,this.uploaderObj.uploadNextChunk(),e.finish(23);case 26:case"end":return e.stop()}},e,this,[[2,15,23,26]])})),s)},{key:"uploadFileToParser",value:(i=h()(O.a.mark(function e(t){var n,r,i,o,a,s=this;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.cancelSource=B.source(),this.uploading=!0,(n=new FormData).append("name",this.name),n.append("type",this.type),n.append("size",String(this.size)),n.append("parent_token",this.parentToken),n.append("file",this.file),r=y.n.includes(this.type)?y.a:"",i=r?{"x-command":r}:{},e.next=12,ce(y.b.IMPORT_UPLOAD,n,{cancelToken:this.cancelSource.token,onUploadProgress:function(e){var t=e.loaded,n=e.total;s._progress=0===n?1:t/n,s.fire(y.k.fileProgress,s)},headers:Object.assign({"x-request-id":t,"x-tt-trace-id":t},i)});case 12:if(o=e.sent,a=o.ticket){e.next=17;break}throw this.fire(y.k.fileError,o.code),new Error(o);case 17:return this.uploading=!1,e.abrupt("return",a);case 19:case"end":return e.stop()}},e,this)})),a)},{key:"getParserResult",value:(r=h()(O.a.mark(function e(t){var n;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}throw new Error("Import task ticket not returned");case 2:this.checkTimes=0,this.converting=!0;case 4:if(this.checkTimes<et)return e.next=7,Object(D.i)(0===this.checkTimes?1e3:3e3);e.next=16;break;case 7:return e.next=9,ue(y.b.IMPORT_STATUS,{ticket:t});case 9:if((n=e.sent)&&void 0!==n.code)return 0===n.code?(this.fileToken=Object(S.default)(n,"tokens.0",""),n.warningCode&&this.fire(y.k.fileWarning,n.warningCode)):n.code===y.g?this.fire(y.k.usageLimitReached,y.m.import):this.fire(y.k.fileError,{type:this.type||Object(D.c)(this.name)||"",code:n.code}),e.abrupt("break",16);e.next=13;break;case 13:this.checkTimes+=1,e.next=4;break;case 16:if(this.fileToken){e.next=18;break}throw new Error("Check import task result failed");case 18:this.converting=!1;case 19:case"end":return e.stop()}},e,this)})),n)},{key:"retry",value:function(){Object(le.c)()&&(this.abort(),this.error=!1,this.uploaderObj.upload(this.paused))}},{key:"abort",value:function(){this.isUploading&&(this.cancelSource&&this.cancelSource.cancel(),this.uploading=!1,this.converting=!1,this.checkTimes=et,this.isTask&&this.fire(y.k.fileProgress,this))}},{key:"cancel",value:function(){this.abort(),this.isTask&&(this.uploaderObj.uploadNextChunk(),this.uploaderObj.removeTask(this))}},{key:"progress",get:function(){return this.error?1:this._progress}},{key:"isUploading",get:function(){return this.uploading||this.converting}},{key:"completed",get:function(){return this.finished}}]),t}(me),nt=tt;function rt(t){return new Promise(function(e){t.file(e)})}function it(e,t,n,r){return ot.apply(this,arguments)}function ot(){return(ot=h()(O.a.mark(function e(t,n,r,i){var o,a,s,c,u,l;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=i&&i.rootTask,a=i&&i.parentPath,s=i&&i.parentToken,c=i&&i.isImport,u=Object(D.b)(Array.isArray(t)?t[0]:t),l=new dt({input:t,uploaderObj:n,uuid:u,rootTask:o,parentPath:a,parentToken:s,isImport:c}),e.next=8,l.init(r);case 8:if(o){e.next=18;break}if(!c||l.totalFiles===l.totalRawFiles){e.next=14;break}if(n.getOpt(y.l.directoryNotImportableCallback)(l),0===l.totalFiles)return e.abrupt("return",null);e.next=14;break;case 14:if(0===l.totalFiles)return n.getOpt(y.l.emptyDirectoryCallback)(l),e.abrupt("return",null);e.next=18;break;case 18:return l.isTask&&n.fire(y.k.taskAdded,l,r),e.abrupt("return",l);case 20:case"end":return e.stop()}},e)}))).apply(this,arguments)}function at(e,t,n,r){return st.apply(this,arguments)}function st(){return(st=h()(O.a.mark(function e(t,n,r,i){var o,a,s,c,u,l,d,p,f,h,g,m,v;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t instanceof File)){e.next=4;break}e.t0=t,e.next=7;break;case 4:return e.next=6,rt(t);case 6:e.t0=e.sent;case 7:if(o=e.t0,a=n.getOpt([y.l.minFileSize,y.l.maxFileSize,y.l.maxImportFileSize,y.l.minFileSizeErrorCallback,y.l.maxFileSizeErrorCallback,y.l.fileType,y.l.fileTypeErrorCallback,y.l.importableType]),s=o.name,c=o.type,i&&i.rootTask&&/^(\~\$|\.)/g.test(s))return e.abrupt("return",null);e.next=13;break;case 13:if(!(0<a.fileType.length)){e.next=28;break}u=!1,e.t1=O.a.keys(a.fileType);case 16:if((e.t2=e.t1()).done){e.next=25;break}if(l=e.t2.value,a.fileType[l]=a.fileType[l].replace(/\s/g,"").toLowerCase(),d=(a.fileType[l].match(/^[^.][^/]+$/)?".":"")+a.fileType[l],s.substr(-1*d.length).toLowerCase()===d||-1!==d.indexOf("/")&&(-1!==d.indexOf("*")&&c.substr(0,d.indexOf("*"))===d.substr(0,d.indexOf("*"))||c===d))return u=!0,e.abrupt("break",25);e.next=23;break;case 23:e.next=16;break;case 25:if(u){e.next=28;break}return a.fileTypeErrorCallback(o),e.abrupt("return",null);case 28:if(!((p=i&&i.isImport)&&0<a.importableType.length)){e.next=33;break}if(a.importableType.includes(c)||a.importableType.includes(Object(D.c)(s))){e.next=33;break}return e.abrupt("return",null);case 33:if(void 0!==a.minFileSize&&o.size<a.minFileSize)return a.minFileSizeErrorCallback(o),e.abrupt("return",null);e.next=36;break;case 36:if(f=a.maxFileSize,h=We.upload,p&&(f=a.maxImportFileSize,h=We.import),void 0!==f&&o.size>f)return a.maxFileSizeErrorCallback(o,h,f),e.abrupt("return",null);e.next=42;break;case 42:return g=Object(D.b)(o),m={file:o,uploaderObj:n,uuid:g||"",rootTask:i&&i.rootTask,parentToken:i&&i.parentToken,isJobTypeDeterminedByPredicator:i&&"function"==typeof i.jobTypePredicator},(v=p?new tt(m):new Ce(Object.assign({},m,{versionInfo:i&&i.versionInfo}))).isTask&&n.fire(y.k.taskAdded,v,r),e.abrupt("return",v);case 47:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ct(e){return e.webkitRelativePath}(Ye=We=We||{})[Ye.import=1]="import",Ye[Ye.upload=2]="upload";var ut=-1,lt=function(e){function u(e){var a,t=e.input,n=e.parentPath,r=e.parentToken,i=e.uploaderObj,o=e.uuid,s=e.rootTask,c=e.isImport;return p()(this,u),(a=b()(this,_()(u).call(this,{uploaderObj:i,parentToken:r,rootTask:s}))).uploadedChunks=[],a.uploadingChunk=null,a.paused=!1,a.bootstrapError=!1,a.bootstrapping=!1,a.subDirectories=[],a.files=[],a.rawFileCount=0,a._size=ut,a.parseFile=function(e){var t=ct(e),n=a.parentPath||"".concat(a.dirName,"/"),r=e.name.replace(/\\/g,"/"),i=t.replace(n,"").replace(r,"").split("/"),o=1<i.length;return{isDirectory:o,parentPath:o?"".concat(n).concat(i[0],"/"):"",file:e}},Array.isArray(t)?a.directoryFiles=t:a.directoryEntry=t,a.uuid=o,a.parentPath=n||"",a.isImport=c||!1,a.createDirectory=i.getOpt(y.l.createDirectory),a}function t(){return n.apply(this,arguments)}var n,r,i;function o(e){return r.apply(this,arguments)}function a(){return i.apply(this,arguments)}return k()(u,e),m()(u,[{key:"init",value:function(e){return this.directoryEntry?this.initByDirectoryEntry(e):this.initByDirectoryFiles(e)}},{key:"upload",value:(i=h()(O.a.mark(function e(){var t,n,r,i,o,a,s,c,u,l,d,p;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(Object(D.e)()){e.next=2;break}return e.abrupt("return",!1);case 2:if(this.bootstrapped){e.next=5;break}return e.next=5,this.bootstrap();case 5:if(this.paused)return e.abrupt("return",!1);e.next=7;break;case 7:if(this.bootstrapped){e.next=9;break}return e.abrupt("return",!1);case 9:n=!(t=!0),r=void 0,e.prev=12,i=this.subDirectories[Symbol.iterator]();case 14:if(t=(o=i.next()).done){e.next=24;break}return a=o.value,e.next=18,a.upload();case 18:if(e.sent)return e.abrupt("return",!0);e.next=21;break;case 21:t=!0,e.next=14;break;case 24:e.next=30;break;case 26:e.prev=26,e.t0=e.catch(12),n=!0,r=e.t0;case 30:e.prev=30,e.prev=31,t||null==i.return||i.return();case 33:if(e.prev=33,n)throw r;e.next=36;break;case 36:return e.finish(33);case 37:return e.finish(30);case 38:c=!(s=!0),u=void 0,e.prev=41,l=this.files[Symbol.iterator]();case 43:if(s=(d=l.next()).done){e.next=55;break}if(p=d.value,this.paused)return e.abrupt("return",!1);e.next=47;break;case 47:return e.next=49,p.upload();case 49:if(e.sent)return e.abrupt("return",!0);e.next=52;break;case 52:s=!0,e.next=43;break;case 55:e.next=61;break;case 57:e.prev=57,e.t1=e.catch(41),c=!0,u=e.t1;case 61:e.prev=61,e.prev=62,s||null==l.return||l.return();case 64:if(e.prev=64,c)throw u;e.next=67;break;case 67:return e.finish(64);case 68:return e.finish(61);case 69:return e.abrupt("return",!1);case 70:case"end":return e.stop()}},e,this,[[12,26,30,38],[31,,33,37],[41,57,61,69],[62,,64,68]])})),a)},{key:"pause",value:function(n){this.subDirectories.forEach(function(e){e.pause(n)}),this.files.forEach(function(e,t){e.pause(n)}),this.paused=void 0===n?!this.paused:n}},{key:"resume",value:function(){this.pause(!1)}},{key:"abort",value:function(){var t=0;this.subDirectories.forEach(function(e){e.isUploading&&(e.abort(),t++)}),this.files.forEach(function(e){e.isUploading&&(e.abort(),t++)}),0<t&&this.fire(y.k.taskProgress,this.rootTask)}},{key:"cancel",value:function(){this.files.forEach(function(e){e.isUploading&&e.abort()}),this.files=[],this.subDirectories.forEach(function(e){e.isUploading&&e.abort()}),this.subDirectories=[],this.uploaderObj.removeTask(this),this.fire(y.k.taskProgress,this.rootTask)}},{key:"retry",value:function(){Object(D.e)()&&(this.paused=!1,this.bootstrapError?this.upload():(this.subDirectories.forEach(function(e){e.paused&&e.pause(!1),e.error&&e.retry()}),this.files.forEach(function(e){e.isPaused&&e.pause(!1),e.error&&e.retry()}),this.isTask&&this.uploaderObj.upload()))}},{key:"checkTaskProgress",value:function(){var e,t,n;this.isTask?this.paused||(n=(e=this.finishedFiles)+this.failedFiles<(t=this.totalFiles)?y.k.taskProgress:e===t?y.k.taskSuccess:y.k.taskError,this.fire(n,this.rootTask)):console.error("ERR - unexpected code execution.")}},{key:"getFromUniqueIdentifier",value:function(t){var e=this.files.find(function(e){return e.uuid===t});if(e)return e;var n=!0,r=!1,i=void 0;try{for(var o,a=this.subDirectories[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value.getFromUniqueIdentifier(t);if(s)return s}}catch(e){r=!0,i=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}return null}},{key:"readEntries",value:function(d,e){var p=this;return new Promise(function(l){e.readEntries(function(){var t=h()(O.a.mark(function e(t){var n,r,i,o,a,s,c,u;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=!(n=!0),i=void 0,e.prev=3,o=t[Symbol.iterator]();case 5:if(n=(a=o.next()).done){e.next=26;break}if((s=a.value).isDirectory)return e.next=10,it(s,p.uploaderObj,d,{rootTask:p.rootTask,isImport:p.isImport});e.next=14;break;case 10:(c=e.sent)&&p.subDirectories.push(c),e.next=23;break;case 14:if(s.isFile)return e.next=17,at(s,p.uploaderObj,d,{rootTask:p.rootTask,isImport:p.isImport});e.next=22;break;case 17:(u=e.sent)&&p.files.push(u),p.rawFileCount++,e.next=23;break;case 22:console.warn("Invalid FileSystemEntry encountered:",s);case 23:n=!0,e.next=5;break;case 26:e.next=32;break;case 28:e.prev=28,e.t0=e.catch(3),r=!0,i=e.t0;case 32:e.prev=32,e.prev=33,n||null==o.return||o.return();case 35:if(e.prev=35,r)throw i;e.next=38;break;case 38:return e.finish(35);case 39:return e.finish(32);case 40:l(0<t.length);case 41:case"end":return e.stop()}},e,null,[[3,28,32,40],[33,,35,39]])}));return function(e){return t.apply(this,arguments)}}())})}},{key:"initByDirectoryEntry",value:function(i){var o=this;return new Promise(function(){var t=h()(O.a.mark(function e(t){var n,r;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.directoryEntry.createReader(),e.next=3,o.readEntries(i,n);case 3:r=e.sent;case 4:if(r)return e.next=7,o.readEntries(i,n);e.next=10;break;case 7:r=e.sent,e.next=4;break;case 10:t(void 0);case 11:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}())}},{key:"initByDirectoryFiles",value:(r=h()(O.a.mark(function e(t){var n,r,i,o,a,s,c,u,l,d,p,f,h,g,m,v,y,b,E,_,C;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.directoryFiles){e.next=2;break}return e.abrupt("return");case 2:this.setDirName(),n=new Map,r=this.directoryFiles.map(this.parseFile),o=!(i=!0),a=void 0,e.prev=8,s=r[Symbol.iterator]();case 10:if(i=(c=s.next()).done){e.next=26;break}if(u=c.value,l=u.isDirectory,d=u.parentPath,p=u.file,!l){e.next=18;break}(f=n.get(d)||[]).push(p),n.set(d,f),e.next=23;break;case 18:return e.next=20,at(p,this.uploaderObj,t,{rootTask:this.rootTask,isImport:this.isImport});case 20:(h=e.sent)&&this.files.push(h),this.rawFileCount++;case 23:i=!0,e.next=10;break;case 26:e.next=32;break;case 28:e.prev=28,e.t0=e.catch(8),o=!0,a=e.t0;case 32:e.prev=32,e.prev=33,i||null==s.return||s.return();case 35:if(e.prev=35,o)throw a;e.next=38;break;case 38:return e.finish(35);case 39:return e.finish(32);case 40:m=!(g=!0),v=void 0,e.prev=43,y=n[Symbol.iterator]();case 45:if(g=(b=y.next()).done){e.next=54;break}return E=T()(b.value,2),d=E[0],_=E[1],e.next=49,it(_,this.uploaderObj,t,{rootTask:this.rootTask,isImport:this.isImport,parentPath:d});case 49:(C=e.sent)&&this.subDirectories.push(C);case 51:g=!0,e.next=45;break;case 54:e.next=60;break;case 56:e.prev=56,e.t1=e.catch(43),m=!0,v=e.t1;case 60:e.prev=60,e.prev=61,g||null==y.return||y.return();case 63:if(e.prev=63,m)throw v;e.next=66;break;case 66:return e.finish(63);case 67:return e.finish(60);case 68:case"end":return e.stop()}},e,this,[[8,28,32,40],[33,,35,39],[43,56,60,68],[61,,63,67]])})),o)},{key:"bootstrap",value:(n=h()(O.a.mark(function e(){var t,n,r;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===this.parentToken)throw new Error("Mount node token unspecified");e.next=2;break;case 2:if(this.bootstrapping)return e.abrupt("return");e.next=4;break;case 4:t=4,this.bootstrapping=!0;case 6:if(0,n="",this.bootstrapped)return e.abrupt("break",39);e.next=10;break;case 10:return e.prev=10,n=Object(D.d)(),e.next=14,this.createDirectory({request:d,parentToken:this.parentToken,rootToken:this.rootTask.parentToken,name:this.name,reqId:n});case 14:if(r=e.sent,this.bootstrapped)return this.fire(y.k.collectReport,this.rootTask,{type:y.o.FolderCreateError,msg:"createDirectory when bootstrapped"}),e.abrupt("break",39);e.next=18;break;case 18:if(r)return this.bootstrapped=!0,this.bootstrapError=!1,this.setChildrenParentToken(r),e.abrupt("break",39);e.next=23;break;case 23:throw new Error("no new directory token");case 26:if(e.prev=26,e.t0=e.catch(10),this.fire(y.k.collectReport,this.rootTask,{type:y.o.FolderCreateError,reqId:n,msg:e.t0.message}),0==t--)return this.bootstrapError=!0,this.fire(y.k.taskError,this.rootTask,{type:y.o.FolderCreateError}),e.abrupt("break",39);e.next=33;break;case 33:return e.next=35,Object(D.i)(1e3);case 35:if(this.paused)return e.abrupt("break",39);e.next=37;break;case 37:e.next=6;break;case 39:this.bootstrapping=!1;case 40:case"end":return e.stop()}},e,this,[[10,26]])})),t)},{key:"setDirName",value:function(){var e,t=this.directoryFiles;t&&0!==t.length&&(this.parentPath?this.dirName=this.parentPath.replace(/\/$/,"").split("/").pop():(e=ct(t[0]),this.dirName=e.split("/")[0]))}},{key:"setChildrenParentToken",value:function(t){this.selfToken=t,this.files.forEach(function(e){return e.parentToken=t}),this.subDirectories.forEach(function(e){return e.parentToken=t})}},{key:"recursiveGetCount",value:function(n,r){return this.files.reduce(function(e,t){return t[n]?e+1:e},0)+this.subDirectories.reduce(function(e,t){return e+t[r]},0)}},{key:"totalFiles",get:function(){return this.subDirectories.reduce(function(e,t){return e+t.totalFiles},this.files.length)}},{key:"totalRawFiles",get:function(){return this.subDirectories.reduce(function(e,t){return e+t.totalRawFiles},this.rawFileCount)}},{key:"finishedFiles",get:function(){return this.recursiveGetCount("completed","finishedFiles")}},{key:"failedFiles",get:function(){return this.recursiveGetCount("error","failedFiles")}},{key:"failedFileNames",get:function(){var e=[],t=!0,n=!1,r=void 0;try{for(var i,o=this.subDirectories[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var a=i.value;a.error&&e.push.apply(e,f()(a.failedFileNames))}}catch(e){n=!0,r=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw r}}var s=!0,c=!1,u=void 0;try{for(var l,d=this.files[Symbol.iterator]();!(s=(l=d.next()).done);s=!0){var p=l.value;p.error&&e.push(p.name)}}catch(e){c=!0,u=e}finally{try{s||null==d.return||d.return()}finally{if(c)throw u}}return e}},{key:"progress",get:function(){var e=this.files.find(function(e){return e.isUploading});if(e)return e.progress;var t=this.subDirectories.find(function(e){return e.isUploading});return t?t.progress:1}},{key:"sizeProgress",get:function(){var e=this.uploadedChunks.reduce(function(e,t){return e+t.size},0),t=0;return this.uploadingChunk&&(t=this.uploadingChunk.loadedSize),(e+t)/this.size}},{key:"isUploading",get:function(){return this.files.some(function(e){return e.isUploading})||this.subDirectories.some(function(e){return e.isUploading})}},{key:"completed",get:function(){return this.files.every(function(e){return e.completed})&&this.subDirectories.every(function(e){return e.completed})}},{key:"error",get:function(){return this.bootstrapError||this.files.some(function(e){return e.error})||this.subDirectories.some(function(e){return e.error})}},{key:"name",get:function(){return this.directoryEntry?this.directoryEntry.name:this.dirName||""}},{key:"type",get:function(){return y.f}},{key:"size",get:function(){if(this._size>ut)return this._size;var e=this.files.reduce(function(e,t){return e+t.size},0);return this._size=this.subDirectories.reduce(function(e,t){return e+t.size},e),this._size}}]),u}(ge),dt=lt;r.d(t,"a",function(){return ve}),r.d(t,"b",function(){return nt}),r.d(t,"d",function(){return he}),r.d(t,"e",function(){return qe})},AiBH:function(e,re,ie){"use strict";(function(e){ie.d(re,"B",function(){return g}),ie.d(re,"t",function(){return m}),ie.d(re,"v",function(){return v}),ie.d(re,"A",function(){return y}),ie.d(re,"z",function(){return b}),ie.d(re,"C",function(){return E}),ie.d(re,"k",function(){return _}),ie.d(re,"q",function(){return C}),ie.d(re,"x",function(){return T}),ie.d(re,"w",function(){return w}),ie.d(re,"G",function(){return N}),ie.d(re,"d",function(){return D}),ie.d(re,"c",function(){return M}),ie.d(re,"e",function(){return j}),ie.d(re,"g",function(){return F}),ie.d(re,"f",function(){return B}),ie.d(re,"o",function(){return U}),ie.d(re,"a",function(){return H}),ie.d(re,"m",function(){return z}),ie.d(re,"y",function(){return V}),ie.d(re,"r",function(){return K}),ie.d(re,"s",function(){return W}),ie.d(re,"p",function(){return Y}),ie.d(re,"b",function(){return q}),ie.d(re,"F",function(){return Z}),ie.d(re,"n",function(){return X}),ie.d(re,"u",function(){return Q}),ie.d(re,"l",function(){return J}),ie.d(re,"i",function(){return $}),ie.d(re,"j",function(){return ee}),ie.d(re,"h",function(){return te}),ie.d(re,"D",function(){return ne});var t=ie("RIqP"),n=ie.n(t),r=ie("lSNA"),i=ie.n(r),o=ie("QM+C"),a=ie("FZl3");ie.d(re,"E",function(){return a.a});var s,c,u,l=ie("bsrO"),d=ie("duSr"),p=ie("rLED"),f=ie("iP/4"),h=ie("VI6H"),g="tableRegisterZoneEnd",m={RETURN:13,LEFT:37,UP:38,RIGHT:39,DOWN:40,SPACE:32,ESC:27,BACKSPACE:8,TAB:9,AT:50,DELETE:46,FAKE_CODE:229,SHIFT:16,CTRL:17,ALT:18,TRANSFORM:20,META_L:91,META_R:93,X:88},v=(s={},i()(s,a.a.FILE,o.NUM_FILE_TYPE.DOC),i()(s,a.a.SHEET,o.NUM_FILE_TYPE.SHEET),i()(s,a.a.BITABLE,o.NUM_FILE_TYPE.BITABLE),i()(s,a.a.MINDNOTE,o.NUM_FILE_TYPE.MINDNOTE),i()(s,a.a.BOX,o.NUM_FILE_TYPE.FILE),i()(s,a.a.SLIDE,o.NUM_FILE_TYPE.SLIDE),i()(s,a.a.WIKI,o.NUM_FILE_TYPE.WIKI),s),y=(c={},i()(c,o.NUM_FILE_TYPE.DOC,a.a.FILE),i()(c,o.NUM_FILE_TYPE.SHEET,a.a.SHEET),i()(c,o.NUM_FILE_TYPE.BITABLE,a.a.BITABLE),i()(c,o.NUM_FILE_TYPE.MINDNOTE,a.a.MINDNOTE),i()(c,o.NUM_FILE_TYPE.FILE,a.a.BOX),i()(c,o.NUM_FILE_TYPE.SLIDE,a.a.SLIDE),i()(c,o.NUM_FILE_TYPE.WIKI,a.a.WIKI),c),b={DOC:0,DOC_COMMENT:1,SHEET:2,SHEET_COMMENT:3,BITABLE:4,OPEN_DOC:6,BOX_COMMENT:9,MINDNOTE:10,MINDNOTE_COMMENT:11},E={LARK:0},_={PREV:4,AFTER:2},C={NOT_SELECTABLE_TYPE:"no-select",USER:"USER",DOCUMENT:Object(p.gb)()?"FILE-SHEET-BITABLE-MINDNOTE-BOX":"FILE-SHEET-BITABLE-MINDNOTE-BOX-SLIDE",ALL:Object(p.gb)()?"USER-FILE-SHEET-BITABLE-MINDNOTE-BOX":"USER-FILE-SHEET-BITABLE-MINDNOTE-BOX-SLIDE",CHAT:"CHAT",GROUP:"GROUP",USER_GROUP:"USER-GROUP",DRIVE:"DRIVE",SLIDE:"SLIDE",UPLOAD:"UPLOAD",JIRA_BLOCK:"JIRA_BLOCK",JIRA_ISSUE_BLOCK:"JIRA_ISSUE_BLOCK",JIRA_FILTER_BLOCK:"JIRA_FILTER_BLOCK",JIRA_FILTER_INTRO:"JIRA_FILTER_INTRO",UPLOADER_FILE:"UPLOADER_FILE",REACTION_BLOCK:"REACTION_BLOCK",INSERT_SHEET:"INSERT_SHEET",INSERT_TABLE:"INSERT_TABLE",INSERT_MINDNOTE:"INSERT_MINDNOTE",INSERT_KANBAN:"INSERT_KANBAN",INSERT_BITABLE:"INSERT_BITABLE",POLL_BLOCK:"POLL_BLOCK",IFRAME_BLOCK:"IFRAME_BLOCK",EQUATION_BLOCK:"EQUATION_BLOCK",ISV_BLOCK:"ISV_BLOCK",CALLOUT_BLOCK:"CALLOUT_BLOCK"},T={ASIDE:[C.USER,C.DOCUMENT,C.ALL,C.GROUP,C.CHAT,C.USER_GROUP,C.JIRA_ISSUE_BLOCK],TYPE:[a.a.USER,a.a.GROUP]},O=564,k=540,S=327,w=Object(d.b)()?360:419,I=313,x=116,L=function(){return[{type:C.ALL,content:e("doc.search.filter.all"),boxSize:w,asideSize:x},{type:C.DOCUMENT,content:e("doc.mention.doc"),boxSize:w,asideSize:x},{type:C.USER,content:e("common.people"),boxSize:w,asideSize:x}]},R=function(){return[{type:C.DRIVE,content:e("etherpad.Drive"),boxSize:w,asideSize:x,noList:!0,hidden:f.a.isOpendoc},{type:C.CHAT,content:e("etherpad.lark.group.card"),boxSize:w,asideSize:x},{type:C.INSERT_TABLE,content:e("common.table"),boxSize:I,asideSize:x,noList:!0},{type:C.INSERT_SHEET,content:e("common.sheet"),boxSize:I,asideSize:x,noList:!0},{type:C.INSERT_BITABLE,content:Object(h.x)()?e("doc.a-panel.bitable.single-product"):e("doc.a-panel.bitable"),boxSize:S,asideSize:x,noList:!0,hidden:!1},{type:C.INSERT_KANBAN,content:Object(h.x)()?e("doc.a-panel.kanban.single-product"):e("doc.a-panel.kanban"),boxSize:327,asideSize:x,noList:!0,hidden:!1},{type:C.POLL_BLOCK,content:e("block.poll"),boxSize:w,asideSize:x,noList:!0,noRequest:!0,isAlpha:!0},{type:C.JIRA_BLOCK,content:e("doc.jira.jira"),boxSize:w,asideSize:x,noList:!0,noRequest:!0,hidden:!Object(l.f)()||!Object(l.d)()},{type:C.JIRA_FILTER_BLOCK,content:e("doc.jira.jira_filter"),boxSize:k,asideSize:x,title:e("doc.jira.insert_jira_filter"),autoHeight:!0,noRequest:!0,noList:!0,hidden:!0},{type:C.JIRA_ISSUE_BLOCK,content:e("doc.jira.jira_issue"),boxSize:O,asideSize:x,title:e("doc.jira.recent_jira_issue"),hidden:!0},{type:C.IFRAME_BLOCK,content:e("block.iframe_add_embeds"),boxSize:w,asideSize:x,noList:!0,noRequest:!0}]},N=function(){return[{type:C.NOT_SELECTABLE_TYPE,content:e("etherpad.memtioned")}].concat(n()(L()),[{type:C.NOT_SELECTABLE_TYPE,content:e("etherpad.insert")}],n()(R()))},D=[C.INSERT_TABLE,C.INSERT_SHEET,C.INSERT_BITABLE,C.INSERT_KANBAN],M=[C.DRIVE],P=[C.CHAT],j=N().filter(function(e){return!P.includes(e.type)}),F={UNKNOWN_STATE:0,ACTIVE:1,EXPIRED:2,DEACTIVED:3},B={joined:e("etherpad.initiate_conversation"),unjoined:e("etherpad.join_group_chat")},U="hold-when-replace",H={DOC:0,COMMENT:1,WHOLE_COMMENT:2},z="DRIVE",V={1:e("etherpad.server_abnormal"),2:e("error.args_error"),3:e("error.object_not_found"),4:e("error.no_permission"),5:e("warn.login_required_tips"),6:e("error.request_timeout")},K={1:e("etherpad.insert_chatcard_failed"),4e3:e("etherpad.insert_chatcard_failed_not_in_group"),4011:e("etherpad.insert_chatcard_failed_unshare_setting"),4014:e("etherpad.insert_chatcard_failed_only_master"),4015:e("etherpad.join_group_failed_forbidden"),4019:e("etherpad.insert_chatcard_failed_disappeared")},W={1:e("etherpad.join_group_failed_need_verification"),2:e("etherpad.join_group_failed_invitation"),4011:e("etherpad.join_group_failed_invalid"),4012:e("etherpad.join_group_failed_already_in"),4013:e("etherpad.join_group_failed_limited"),4014:e("etherpad.join_group_failed_invitation"),4015:e("etherpad.join_group_failed_forbidden"),4017:e("etherpad.join_group_failed_organization"),4018:e("etherpad.join_group_failed_dissolved"),4019:e("etherpad.join_group_failed_no_found"),4023:e("etherpad.join_group_failed_unshare"),4034:e("etherpad.join_group_failed"),4037:e("etherpad.join_group_failed_organization"),5016:e("etherpad.join_group_failed_dissolved"),5020:e("etherpad.join_group_failed_need_verification"),1000002:e("etherpad.join_group_failed_unshare")},Y={YOUTUBE:"YOUTUBE",BILIBILI:"BILIBILI",YOUKU:"YOUKU",AIRTABLE:"AIRTABLE",BAIDUMAP:"BAIDUMAP",AUTONAVI:"AUTONAVI",GMAPS:"GMAPS",XIGUA:"XIGUA",TIKTOK:"TIKTOK",FIGMA:"FIGMA",MODAO:"MODAO",CANVA:"CANVA",CODEPEN:"CODEPEN",JINSHUJU:"JINSHUJU",FEISHU_SURVEY:"FEISHU_SURVEY",LARK_SURVEY:"LARK_SURVEY"},q={COPY_ANCHOR_LINK:"copy-anchor-link",LINE_COPY:"line-copy",LINE_CUT:"line-cut",LINE_DELETE:"line-delete",DOCUMENT:"file-sheet-bitable-mindnote-box",DRIVE:"drive",INSERT_TABLE:"insertTable",SHEET:"sheet",KANBAN:"kanban",BITABLE:"bitable",MINDNOTE:"mindnote",USER:"user",CHAT:"chat",POLL_BLOCK_SINGLE:"poll_block_single",POLL_BLOCK_MULTIPLE:"poll_block_multiple",LINK:"link",BOOKMARK:"bookmark",DIAGRAM:"diagram",DIAGRAM_FLOWCHART:"diagram_flowchart",DIAGRAM_UML:"diagram_uml",JIRA_BLOCK:"jira_block",JIRA_ISSUE_BLOCK:"jira_issue",JIRA_FILTER_BLOCK:"jira_filter",JIRA_FILTER_INTRO:"jira_filter_intro",CHECKBOX:"checkbox",INSERTIMAGE:"insertimage",IMAGE:"image",YOUTUBE:"youtube",BILIBILI:"bilibili",YOUKU:"youku",AIRTABLE:"airtable",BAIDUMAP:"baidumap",AUTONAVI:"autonavi",GMAPS:"gmaps",XIGUA:"xigua",TIKTOK:"tiktok",FIGMA:"figma",MODAO:"modao",CANVA:"canva",CODEPEN:"codepen",JINSHUJU:"jinshuju",FEISHU_SURVEY:"feishu_survey",LARK_SURVEY:"lark_survey",INSERTIMAGE_RELAY:"insertimage_relay",INSERT_CODE_LIST:"insertcodelist",EQUATION_BLOCK:"equation_block",ISV_BLOCK:"isv_block_insert",ISV_BLOCK_REFRESH:"isv_block_refresh",ISV_DEBUG_CREATOR:"isv_debug_creator",ISV_DEBUG_BLOCK:"isv_debug_block",CALLOUT_BLOCK:"callout_block",INSERT_IMAGE_OR_VIDEO:"insertImageOrFile"},Z=(u={},i()(u,q.DOCUMENT,C.DOCUMENT),i()(u,q.DRIVE,C.DRIVE),i()(u,q.INSERT_TABLE,C.INSERT_TABLE),i()(u,q.MINDNOTE,C.INSERT_MINDNOTE),i()(u,q.SHEET,C.SHEET),i()(u,q.KANBAN,C.KANBAN),i()(u,q.BITABLE,C.BITABLE),i()(u,q.USER,C.USER),i()(u,q.CHAT,C.CHAT),i()(u,q.POLL_BLOCK,C.POLL_BLOCK),i()(u,q.JIRA_ISSUE_BLOCK,C.JIRA_ISSUE_BLOCK),i()(u,q.JIRA_FILTER_BLOCK,C.JIRA_FILTER_BLOCK),i()(u,q.JIRA_BLOCK,C.JIRA_BLOCK),i()(u,q.JIRA_FILTER_INTRO,C.JIRA_FILTER_INTRO),i()(u,q.EQUATION_BLOCK,C.EQUATION_BLOCK),i()(u,q.CALLOUT_BLOCK,C.CALLOUT_BLOCK),u),X="ERROR",Q={CLICK_EMBED_QUICK_SHARE:"click_embed_quick_share",CLICK_EMBED_QUICK_APPLY:"click_embed_quick_apply",SHOW_EMBED_QUICK_SHARE_TIP:"show_embed_quick_share_tip"},J="draggable:dragstatuschange",$="clientside-chatcard",ee="data-clientside-chatcard-props",te="clientside-chatCardProps",ne="ToggleClassInEmbedObj"}).call(this,ie("2vAP"))},AsxP:function(e,t,n){(e.exports=n("U6MA")).version=n("IFtP").version},AvAw:function(e,t,n){"use strict";n.r(t);var r=n("RIqP"),s=n.n(r),i=n("o0o1"),c=n.n(i),o=n("yXPU"),u=n.n(o),a=n("lwsE"),l=n.n(a),d=n("W8MJ"),p=n.n(d),f=n("lSNA"),h=n.n(f),g=n("BeL+"),I=n("AiBH"),x=n("PyL4"),m=n("Ns/6"),L=n("mRaX"),v=n("U5G9"),y=n("XVMX"),b=n("5cZX"),E=n("IyQe"),_=n("vc5i"),C=n("ZGZ5"),T=n("D7h9");n("n3ZB"),n("m1/u"),n("jp/M"),n("G8Hj");function O(){var e=T.default.getState(),t=Object(_.n)(e),n=Object(_.f)(e),r=n&&n.get("type"),i=Object(C.a)(e),o=i&&i.get("id"),a=Object(b.j)(e);return{fileType:r,fileToken:t,userId:o,isShareable:Object(E.getUserPermissions)(a.toJS()).shareable}}var k,R=n("8wYP"),N=n("H6oK");n.d(t,"NotifyType",function(){return S}),n.d(t,"MentionNotificationQueue",function(){return j});var S,w,D=Object(v.b)({module:v.a.MENTION}),M=(k={},h()(k,I.E.USER,m.a),h()(k,I.E.GROUP,m.c),k);function P(t){return new Promise(function(e){return window.setTimeout(e,t)})}(w=S=S||{})[w.BOT=1]="BOT";var j=function(){function e(){l()(this,e),this.queue=[],this.users=[],this.groups=[],this.decisionSet=new Set}function t(e){return n.apply(this,arguments)}var n,r,i;function o(){return r.apply(this,arguments)}function a(e,t,n){return i.apply(this,arguments)}return p()(e,[{key:"getShareInfo",value:function(){return O()}},{key:"calTextAndCollectMentionFromRep",value:function(C,e){var t=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},n=t.source||I.z.DOC_COMMENT,T=e.apool,r=t.mentionOptions,i=(r&&r.notifyOptions?r.notifyOptions:{}).useMention,o=void 0!==i&&i,a=Object(R.b)({changesetHelper:D,rep:e}),O=[],k="",S="",w=[];a.forEach(function(e){var t,n,r,i,o,a,s,c,u,l,d,p,f=Object(L.q)(e.attribsNum,T),h=Object(R.a)(e.attributes),g=Object(N.isBlockAttributes)(h),m=f["mention-token"],v=f["mention-link"],y=f["mention-notify"],b=f["mention-sharePermHeldBack"],E=f["mention-icon"],_=Object(R.e)(C,e);S+=_,m?(t=Number.parseInt(f["mention-type"]),n=decodeURIComponent(v),t!==I.E.USER&&t!==I.E.GROUP||(n="",r=_.startsWith("@")?_.slice(1):_,w.push({targetName:r,name:r,token:m,type:t,shouldNotifyLark:y,sharePermHeldBack:b})),t===I.E.USER&&O.push(m),k+='<at type="'.concat(t,'" href="').concat(n,'" token="').concat(m,'"').concat(E?" icon='"+E+"'":"",">").concat(Object(x.escapeHTML)(_),"</at>")):(i="",!g||(o=Object(N.getBlockPropsFromAttributesMap)(h))&&o.blockType===N.BlockType.AT_USER_BLOCK&&(a=_.startsWith("@")?_.slice(1):_,o.props&&o.props.data&&o.props.data.user&&(c=(s=o.props.data).user,l=void 0!==(u=s.mentionNotify)&&u,p=void 0!==(d=s.sharePermHeldBack)&&d,w.push({targetName:a,name:a,token:c.id,type:I.E.USER,shouldNotifyLark:l.toString(),sharePermHeldBack:p.toString()}),i='<at type="'.concat(I.E.USER,'" href="" token="').concat(c.id,'">').concat(Object(x.escapeHTML)(_),"</at>"),O.push(c.id))),k+=i||Object(x.escapeHTML)(_||""))});var s,c=this.getTokens(w),u=c.toUsers,l=c.toGroup;return n!==I.z.DOC_COMMENT&&n!==I.z.SHEET&&n!==I.z.SHEET_COMMENT&&n!==I.z.MINDNOTE&&n!==I.z.MINDNOTE_COMMENT&&n!==I.z.BOX_COMMENT&&(o?(s=r&&r.notifyParams||{},this.addUserMentionV2(u,s)):this.addUserMention(u,n)),this.addGroupMention(l,n,S),{html:k,mentionTokenList:O}}},{key:"register",value:function(e,t,n){var r=this,i=this.createDecision(e,t,n);this.decisionSet.add(i),i.finally(function(){return r.decisionSet.delete(i)})}},{key:"createDecision",value:(i=u()(c.a.mark(function e(t,n,r){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.race([n,P(r)]);case 2:e.sent===y.b.CANCELED&&this.removeTargetToNotify(t);case 4:case"end":return e.stop()}},e,this)})),a)},{key:"addUserMention",value:function(e,t){var n;0!==e.length&&(n=this.getShareInfo(),this.queue.push({type:I.E.USER,config:{to_user:Object(g.a)(e),note_token:n.fileToken,source:t,target:I.C.LARK,from_user:n.userId}}))}},{key:"addGroupMention",value:function(e,t,n){var r;0!==e.length&&(r=this.getShareInfo(),this.queue.push({type:I.E.GROUP,config:{entities:{group_chats:Object(g.a)(e).map(function(e){return{id:e,text:n}})},source:t,target:I.C.LARK,token:r.fileToken}}))}},{key:"addUserMentionV2",value:function(e,n,r,i){var o=this;e.forEach(function(e){var t={id:e,query:n};r&&(t.append_hash=r),i&&(t.notify_type=i),o.users.push(t)})}},{key:"addGroupMentionV2",value:function(e,t){var n=this;e.forEach(function(e){n.groups.push({id:e,query:t})})}},{key:"sendMentionNotifications",value:(r=u()(c.a.mark(function e(){var t,n;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=s()(this.decisionSet),this.decisionSet.clear(),e.next=4,Promise.all(t);case 4:return this.removeTargetToNotify(this.getShareInfo().userId),n=s()(this.queue),this.queue=[],e.abrupt("return",Promise.all(n.map(function(e){var t=e.type,n=e.config;return M[t](n)})));case 8:case"end":return e.stop()}},e,this)})),o)},{key:"sendMentionNotifications2",value:(n=u()(c.a.mark(function e(t){var n,r,i,o;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=s()(this.decisionSet),this.decisionSet.clear(),e.next=4,Promise.all(n);case 4:if(r=this.getShareInfo(),this.removeTargetToNotify(r.userId),i=s()(this.groups),o=s()(this.users),this.groups=[],this.users=[],0===i.length&&0===o.length)return e.abrupt("return");e.next=12;break;case 12:return e.abrupt("return",M[I.E.GROUP]({source:t,token:r.fileToken,target:I.C.LARK,entities:{group_chats:i,users:o}}));case 13:case"end":return e.stop()}},e,this)})),t)},{key:"removeTargetToNotify",value:function(s){this.queue=this.queue.reduce(function(e,t){var n,r,i,o=t.type,a=t.config;return o===I.E.USER?((n=Object.assign({},a)).to_user=n.to_user.filter(function(e){return e!==s}),0<n.to_user.length&&e.push({type:o,config:n})):o===I.E.GROUP?0<(i=(r=Object.assign({},a)).entities.group_chats.filter(function(e){var t=e.id;return s!==t})).length&&(r.entities=Object.assign({},r.entities,{group_chats:i}),e.push({type:o,config:r})):e.push({type:o,config:a}),e},[]),this.users=this.users.filter(function(e){return e.id!==s}),this.groups=this.groups.filter(function(e){return e.id!==s})}},{key:"getTokens",value:function(e){var t=[],n=[];return e.forEach(function(e){"true"===e.shouldNotifyLark&&"true"!==e.sharePermHeldBack&&(e.type===I.E.USER?t:n).push(e.token)}),{toUsers:t,toGroup:n}}}]),e}();t.default=new j},AvKE:function(m,e,t){(function(e){var n=1/0,t="[object Symbol]",r=/[\\^$.*+?()[\]{}|]/g,i=RegExp(r.source),o="object"==typeof e&&e&&e.Object===Object&&e,a="object"==typeof self&&self&&self.Object===Object&&self,s=o||a||Function("return this")(),c=Object.prototype.toString,Symbol=s.Symbol,u=Symbol?Symbol.prototype:void 0,l=u?u.toString:void 0;function d(e){if("string"==typeof e)return e;if(f(e))return l?l.call(e):"";var t=e+"";return"0"==t&&1/e==-n?"-0":t}function p(e){return!!e&&"object"==typeof e}function f(e){return"symbol"==typeof e||p(e)&&c.call(e)==t}function h(e){return null==e?"":d(e)}function g(e){return(e=h(e))&&i.test(e)?e.replace(r,"\\$&"):e}m.exports=g}).call(this,t("yLpj"))},B55N:function(e,t,n){!function(){"use strict";n("wd/R").defineLocale("ja",{months:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYYMD",LLL:"YYYYMD HH:mm",LLLL:"YYYYMD HH:mm dddd",l:"YYYY/MM/DD",ll:"YYYYMD",lll:"YYYYMD HH:mm",llll:"YYYYMD HH:mm dddd"},meridiemParse:/|/i,isPM:function(e){return""===e},meridiem:function(e,t,n){return e<12?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[]dddd LT",lastDay:"[] LT",lastWeek:"[]dddd LT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"";default:return e}},relativeTime:{future:"%s",past:"%s",s:"",ss:"%d",m:"1",mm:"%d",h:"1",hh:"%d",d:"1",dd:"%d",M:"1",MM:"%d",y:"1",yy:"%d"}})}()},B8du:function(e,t){function n(){return!1}e.exports=n},BAjd:function(e,t,n){"use strict";n.d(t,"b",function(){return c}),n.d(t,"k",function(){return r}),n.d(t,"m",function(){return o}),n.d(t,"l",function(){return f}),n.d(t,"c",function(){return u}),n.d(t,"e",function(){return d}),n.d(t,"d",function(){return y}),n.d(t,"o",function(){return h}),n.d(t,"j",function(){return m}),n.d(t,"f",function(){return b}),n.d(t,"g",function(){return E}),n.d(t,"h",function(){return _}),n.d(t,"i",function(){return C}),n.d(t,"a",function(){return T}),n.d(t,"n",function(){return O});var r,i,o,a,s=n("VIFs"),c={CHUNK_CHECK:Object(s.prependAPI)("/api/box/upload/block/check/"),CHUNK_UPLOAD:Object(s.prependDriveStreamAPI)("/api/box/stream/upload/block/"),FINISH:Object(s.prependAPI)("/api/box/upload/finish/"),PREPARE:Object(s.prependAPI)("/api/box/upload/prepare/"),IMPORT_UPLOAD:Object(s.prependAPI)("/api/parser/uploadfile/"),IMPORT_STATUS:Object(s.prependAPI)("/api/parser/getresult/")};(i=r=r||{}).beforeAdd="beforeAdd",i.cancel="cancel",i.cancelAll="cancelAll",i.complete="complete",i.error="error",i.taskProgress="taskProgress",i.fileProgress="fileProgress",i.fileError="fileError",i.fileWarning="fileWarning",i.taskAdded="taskAdded",i.taskError="taskError",i.taskRetry="taskRetry",i.tasksAdded="tasksAdded",i.taskSuccess="taskSuccess",i.pause="pause",i.pauseAll="pauseAll",i.progress="progress",i.uploadStart="uploadStart",i.offline="offline",i.online="online",i.usageLimitReached="usageLimitReached",i.collectReport="collectReport",i.pending="pending",(a=o=o||{}).upload="upload",a.import="import";var u,l,d,p,f={clearInput:"clearInput",dragOverClass:"dragOverClass",fileType:"fileType",importableType:"importableType",fileTypeErrorCallback:"fileTypeErrorCallback",finishTarget:"finishTarget",getParentToken:"getParentToken",createDirectory:"createDirectory",uploadChunk:"uploadChunk",uploadMergedChunk:"uploadMergedChunk",getMountPoint:"getMountPoint",maxFileSize:"maxFileSize",maxImportFileSize:"maxImportFileSize",maxFileSizeErrorCallback:"maxFileSizeErrorCallback",minFileSize:"minFileSize",minFileSizeErrorCallback:"minFileSizeErrorCallback",fastModeEnabled:"fastModeEnabled",emptyDirectoryCallback:"emptyDirectoryCallback",directoryNotImportableCallback:"directoryNotImportableCallback",prepareTarget:"prepareTarget",setChunkTypeFromFile:"setChunkTypeFromFile",simultaneousUploads:"simultaneousUploads",testTarget:"testTarget",throttleProgressCallbacks:"throttleProgressCallbacks",uploadTarget:"uploadTarget",xhrTimeout:"xhrTimeout",onDragStart:"onDragStart",onDragEnd:"onDragEnd",shouldAddToRecents:"shouldAddToRecents",preferMergedChunks:"preferMergedChunks"};(l=u=u||{}).ERROR="error",l.PROGRESS="progress",l.RETRY="retry",l.SUCCESS="success",l.REPORT_ERROR="report_error",(p=d=d||{}).ERROR="error",p.PENDING="pending",p.SUCCESS="success",p.UPLOADING="uploading",p.ABORT="abort";var h,g,m,v,y=3;(g=h=h||{}).ChunkError="ChunkError",g.ChunkSuccess="ChunkSuccess",g.FileFinishError="FileFinishError",g.FilePrepareError="FilePrepareError",g.FileSuccess="FileSuccess",g.FolderCreateError="FolderCreateError",g.ImportUploadError="ImportUploadError",g.ImportParseError="ImportParseError",(v=m=m||{}).Upload="upload",v.Import="import",v.Exit="Exit";var b="directory-a47de874",E=11001,_=10009,C=90002007,T="api.sheet.parser.uploadfile",O=["application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","text/csv"]},"BP/7":function(e,t,n){var r=n("FRmQ"),i=Array.prototype;e.exports=function(e){var t=e.find;return e===i||e instanceof Array&&t===i.find?r:t}},"BRr/":function(e,t,n){var r=s(n("ZLJe")),i=c(r);t.XML=f(r,i);var o=s(n("8PLQ")),a=c(o);function s(n){return Object.keys(n).sort().reduce(function(e,t){return e[n[t]]="&"+t+";",e},{})}function c(e){var t=[],n=[];return Object.keys(e).forEach(function(e){1===e.length?t.push("\\"+e):n.push(e)}),n.unshift("["+t.join("")+"]"),new RegExp(n.join("|"),"g")}t.HTML=f(o,a);var u=/[^\0-\x7F]/g,l=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g;function d(e){return"&#x"+e.charCodeAt(0).toString(16).toUpperCase()+";"}function p(e){return"&#x"+(1024*(e.charCodeAt(0)-55296)+e.charCodeAt(1)-56320+65536).toString(16).toUpperCase()+";"}function f(t,n){function r(e){return t[e]}return function(e){return e.replace(n,r).replace(l,p).replace(u,d)}}var h=c(r);function g(e){return e.replace(h,d).replace(l,p).replace(u,d)}t.escape=g},BVe9:function(e,t,n){"use strict";var r=n("UwWT"),i=r.TAG_NAMES,o=r.NAMESPACES;function a(e){switch(e.length){case 1:return e===i.P;case 2:return e===i.RB||e===i.RP||e===i.RT||e===i.DD||e===i.DT||e===i.LI;case 3:return e===i.RTC;case 6:return e===i.OPTION;case 8:return e===i.OPTGROUP||e===i.MENUITEM}return!1}function s(e,t){switch(e.length){case 2:if(e===i.TD||e===i.TH)return t===o.HTML;if(e===i.MI||e===i.MO||e===i.MN||e===i.MS)return t===o.MATHML;break;case 4:if(e===i.HTML)return t===o.HTML;if(e===i.DESC)return t===o.SVG;break;case 5:if(e===i.TABLE)return t===o.HTML;if(e===i.MTEXT)return t===o.MATHML;if(e===i.TITLE)return t===o.SVG;break;case 6:return(e===i.APPLET||e===i.OBJECT)&&t===o.HTML;case 7:return(e===i.CAPTION||e===i.MARQUEE)&&t===o.HTML;case 8:return e===i.TEMPLATE&&t===o.HTML;case 13:return e===i.FOREIGN_OBJECT&&t===o.SVG;case 14:return e===i.ANNOTATION_XML&&t===o.MATHML}return!1}var c=e.exports=function(e,t){this.stackTop=-1,this.items=[],this.current=e,this.currentTagName=null,this.currentTmplContent=null,this.tmplCount=0,this.treeAdapter=t};c.prototype._indexOf=function(e){for(var t=-1,n=this.stackTop;0<=n;n--)if(this.items[n]===e){t=n;break}return t},c.prototype._isInTemplate=function(){return this.currentTagName===i.TEMPLATE&&this.treeAdapter.getNamespaceURI(this.current)===o.HTML},c.prototype._updateCurrentElement=function(){this.current=this.items[this.stackTop],this.currentTagName=this.current&&this.treeAdapter.getTagName(this.current),this.currentTmplContent=this._isInTemplate()?this.treeAdapter.getTemplateContent(this.current):null},c.prototype.push=function(e){this.items[++this.stackTop]=e,this._updateCurrentElement(),this._isInTemplate()&&this.tmplCount++},c.prototype.pop=function(){this.stackTop--,0<this.tmplCount&&this._isInTemplate()&&this.tmplCount--,this._updateCurrentElement()},c.prototype.replace=function(e,t){var n=this._indexOf(e);this.items[n]=t,n===this.stackTop&&this._updateCurrentElement()},c.prototype.insertAfter=function(e,t){var n=this._indexOf(e)+1;this.items.splice(n,0,t),n===++this.stackTop&&this._updateCurrentElement()},c.prototype.popUntilTagNamePopped=function(e){for(;-1<this.stackTop;){var t=this.currentTagName,n=this.treeAdapter.getNamespaceURI(this.current);if(this.pop(),t===e&&n===o.HTML)break}},c.prototype.popUntilElementPopped=function(e){for(;-1<this.stackTop;){var t=this.current;if(this.pop(),t===e)break}},c.prototype.popUntilNumberedHeaderPopped=function(){for(;-1<this.stackTop;){var e=this.currentTagName,t=this.treeAdapter.getNamespaceURI(this.current);if(this.pop(),e===i.H1||e===i.H2||e===i.H3||e===i.H4||e===i.H5||e===i.H6&&t===o.HTML)break}},c.prototype.popUntilTableCellPopped=function(){for(;-1<this.stackTop;){var e=this.currentTagName,t=this.treeAdapter.getNamespaceURI(this.current);if(this.pop(),e===i.TD||e===i.TH&&t===o.HTML)break}},c.prototype.popAllUpToHtmlElement=function(){this.stackTop=0,this._updateCurrentElement()},c.prototype.clearBackToTableContext=function(){for(;this.currentTagName!==i.TABLE&&this.currentTagName!==i.TEMPLATE&&this.currentTagName!==i.HTML||this.treeAdapter.getNamespaceURI(this.current)!==o.HTML;)this.pop()},c.prototype.clearBackToTableBodyContext=function(){for(;this.currentTagName!==i.TBODY&&this.currentTagName!==i.TFOOT&&this.currentTagName!==i.THEAD&&this.currentTagName!==i.TEMPLATE&&this.currentTagName!==i.HTML||this.treeAdapter.getNamespaceURI(this.current)!==o.HTML;)this.pop()},c.prototype.clearBackToTableRowContext=function(){for(;this.currentTagName!==i.TR&&this.currentTagName!==i.TEMPLATE&&this.currentTagName!==i.HTML||this.treeAdapter.getNamespaceURI(this.current)!==o.HTML;)this.pop()},c.prototype.remove=function(e){for(var t=this.stackTop;0<=t;t--)if(this.items[t]===e){this.items.splice(t,1),this.stackTop--,this._updateCurrentElement();break}},c.prototype.tryPeekProperlyNestedBodyElement=function(){var e=this.items[1];return e&&this.treeAdapter.getTagName(e)===i.BODY?e:null},c.prototype.contains=function(e){return-1<this._indexOf(e)},c.prototype.getCommonAncestor=function(e){var t=this._indexOf(e);return 0<=--t?this.items[t]:null},c.prototype.isRootHtmlElementCurrent=function(){return 0===this.stackTop&&this.currentTagName===i.HTML},c.prototype.hasInScope=function(e){for(var t=this.stackTop;0<=t;t--){var n=this.treeAdapter.getTagName(this.items[t]),r=this.treeAdapter.getNamespaceURI(this.items[t]);if(n===e&&r===o.HTML)return!0;if(s(n,r))return!1}return!0},c.prototype.hasNumberedHeaderInScope=function(){for(var e=this.stackTop;0<=e;e--){var t=this.treeAdapter.getTagName(this.items[e]),n=this.treeAdapter.getNamespaceURI(this.items[e]);if((t===i.H1||t===i.H2||t===i.H3||t===i.H4||t===i.H5||t===i.H6)&&n===o.HTML)return!0;if(s(t,n))return!1}return!0},c.prototype.hasInListItemScope=function(e){for(var t=this.stackTop;0<=t;t--){var n=this.treeAdapter.getTagName(this.items[t]),r=this.treeAdapter.getNamespaceURI(this.items[t]);if(n===e&&r===o.HTML)return!0;if((n===i.UL||n===i.OL)&&r===o.HTML||s(n,r))return!1}return!0},c.prototype.hasInButtonScope=function(e){for(var t=this.stackTop;0<=t;t--){var n=this.treeAdapter.getTagName(this.items[t]),r=this.treeAdapter.getNamespaceURI(this.items[t]);if(n===e&&r===o.HTML)return!0;if(n===i.BUTTON&&r===o.HTML||s(n,r))return!1}return!0},c.prototype.hasInTableScope=function(e){for(var t=this.stackTop;0<=t;t--){var n=this.treeAdapter.getTagName(this.items[t]);if(this.treeAdapter.getNamespaceURI(this.items[t])===o.HTML){if(n===e)return!0;if(n===i.TABLE||n===i.TEMPLATE||n===i.HTML)return!1}}return!0},c.prototype.hasTableBodyContextInTableScope=function(){for(var e=this.stackTop;0<=e;e--){var t=this.treeAdapter.getTagName(this.items[e]);if(this.treeAdapter.getNamespaceURI(this.items[e])===o.HTML){if(t===i.TBODY||t===i.THEAD||t===i.TFOOT)return!0;if(t===i.TABLE||t===i.HTML)return!1}}return!0},c.prototype.hasInSelectScope=function(e){for(var t=this.stackTop;0<=t;t--){var n=this.treeAdapter.getTagName(this.items[t]);if(this.treeAdapter.getNamespaceURI(this.items[t])===o.HTML){if(n===e)return!0;if(n!==i.OPTION&&n!==i.OPTGROUP)return!1}}return!0},c.prototype.generateImpliedEndTags=function(){for(;a(this.currentTagName);)this.pop()},c.prototype.generateImpliedEndTagsWithExclusion=function(e){for(;a(this.currentTagName)&&this.currentTagName!==e;)this.pop()}},BiGR:function(e,t,n){var Symbol=n("nmnc"),r=n("03A+"),i=n("Z0cm"),o=Symbol?Symbol.isConcatSpreadable:void 0;function a(e){return i(e)||r(e)||!!(o&&e&&e[o])}e.exports=a},BkRI:function(e,t,n){var r=n("OBhP"),i=1,o=4;function a(e){return r(e,i|o)}e.exports=a},BpSZ:function(e,t,n){"use strict";function r(e){return!!e.match(i)}n.d(t,"b",function(){return r}),n.d(t,"a",function(){return i});var i=/^\s*data:([a-z]+\/([a-z]+)(;[a-z\-]+\=[a-z\-]+)?)?(;base64)?,[a-z0-9\!\$\&\'\,\(\)\*\+\,\;\=\-\.\_\~\:\@\/\?\%\s]*\s*$/i},"Bq+3":function(e,Y,q){"use strict";(function(h){var e,t=q("RIqP"),ne=q.n(t),n=q("lSNA"),_=q.n(n),r=q("o0o1"),re=q.n(r),i=q("yXPU"),I=q.n(i),o=q("lwsE"),a=q.n(o),s=q("W8MJ"),c=q.n(s),u=q("hbEN"),ie=q("7EGn"),T=q("dtwz"),oe=q("HmyT"),x=q("6Do3"),ae=q("2ACu"),se=q("lG83"),g=q("OZf9"),L=q("Bw5p"),ce=q("fujP"),l=q("Z0Cl"),d=q("vJtL"),ue=q("jVwk"),le=q("1dfU"),R=q("iP/4"),p=q("TSYQ"),O=q.n(p),f=q("/spq"),N=q("wq9/"),de=q("uwMH"),pe=q("aXiW"),k=q("Cy2Z"),fe=q("OX8E"),S=q("QM+C"),D=q("lQZd"),w=q("PyL4"),he=q("XNb2"),m=q("9g7G"),v=q("KiYW"),M=q("ouE1"),y=q("whZn"),ge=q("jp/M"),b=q("q1tI"),P=q.n(b),me=q("mRaX"),E=q("duSr"),ve=q("PX10"),ye=q("AiBH"),be=q("7Kxq"),j=q("/fVd"),F=q("HIeq"),B=q("Wc+A"),U=q("n/R6"),Ee=q("y2sV"),H=q("H6oK"),_e=q("SGN9"),Ae=q("A+1H"),C=q("bsrO"),z=q("LaDK"),Ce=q("Yspk"),V=q("kmoK"),Te=Object(E.b)(),K=["mention-type","mention-link","mention-token","mention-id","mention-tempId","mention-chatId","mention-chatToken","mention-icon"],W=Object(f.a)(["showMentionBox","handleConfirm"])(e=function(){function r(e){var C=this;a()(this,r),this.setCustomIconEnableFG=function(e){C.customIconEnable=e},this.setMentionFileManager=function(e){(C.mentionFileManager=e)&&C.editor.on(Ee.k.PAINT,C.notifyMentionListChange)},this.notifyMentionListChange=function(){var e=C.mentionFileManager;e&&e.isNeedResortLine&&C.debounceNotifyMentionListChange()},this.debounceNotifyMentionListChange=Object(u.default)(function(){var e,t=C.mentionFileManager,n=C.props.controller;n&&t&&(e=C.mentionFileManager.getAllMentionObjects(C.editor),n.mentionFileListChange(e))},200),this.UNSAFE_editorNormalizePasteNode=function(e){var t,n=e.data.node,r=Object(oe.$)(n),i=r.find(".mention");i.length&&(Object(g.a)(i,function(e){var t=Object(me.h)();e.className=e.className.replace(/mention-tempId_\S*/,"").replace(/mention-uuid_\w+/,"mention-uuid_".concat(t))}),t=C.editor.selection.getSelection().start.line,C.lastPasteLineNum=t);var o=r.find(".".concat(ye.i));o.length&&Object(g.a)(o,function(e){var t=Object(oe.$)(e).attr(ye.j);try{var n,r=C.editor.clipboard.getPasteInfo(),i=r.pasteFrom,o=r.pasteTimes;"cut"===i&&1===o?(Object(oe.$)(e).removeAttr(ye.j),Object(oe.$)(e).attr(H.DATA_META_BLOCK_PROPS,t),Object(oe.$)(e).removeClass("".concat(ye.i," ignore-collect"))):(n=Object(H.generateBlockDataSet)(JSON.parse(t)),Object(oe.$)(e).attr(ye.j,JSON.stringify(n)))}catch(e){throw new Error("[Chatcard]: clientside-props parse error.")}})},this.updateClientSideChatCardProps=function(e){return e.reduce(function(e,t){if(t instanceof Ee.E){var n=t.reduce(function(e,t){var n,r,i,o=Object.assign({},t.attributes);return t.insert&&t.attributes&&t.attributes.dataMetaBlockProps&&(r=(n=JSON.parse(t.attributes.dataMetaBlockProps)).blockType,i=n.props,S.isAnonymousAccess||r!==H.BlockType.CHAT_CARD_BLOCK||(o[ye.h]=JSON.stringify(Object(H.generateBlockDataSet)({blockType:r,props:i})),delete o.dataMetaBlockProps)),e.insert(t.insert,o)},new Ee.E({zoneId:t.zoneId}));return e.concat(n)}return e.concat(t)},new Ee.e)},this.editorWillPaste=function(e){var t=e.isInternalPaste,n=e.deltaSet;return t?(n=C.updateClientSideChatCardProps(n)).reduce(function(e,t){if(t instanceof Ee.E){var n=Object(Ee.N)(t,function(e){return e.key.startsWith("mention-uuid_")},function(){return{key:"mention-uuid_".concat(Object(me.h)()),value:"true"}});return e.concat(n)}return e.concat(t)},new Ee.e):n},this.changesetApply=function(e,t){var n=t.editor,r=function(){if(C.mentionBox&&!Object(oe.$)(".".concat(be.a).concat(C.uuid)).length)return C.mentionBox.close(),void(C.mentionBox=null);!n.getSelectedRep()||C.keywords&&C.keywords.length||M.c.show(n,C.placeholderText)};t.editor.version.includes(Ee.y)?t.editor.once("paint",r):r()},this.aceAttribsToClasses=function(e,t){var n=t.key,r=t.value;if(n!==M.a||M.c.getEnable())return-1<K.indexOf(n)?"".concat(n,"_").concat(r):/mention/.test(n)||/at-(.+)/.test(n)?n:void 0},this.match=function(e){return!(e===M.a&&!M.c.getEnable())&&!!(-1<K.indexOf(e)||/mention/.test(e)||/at-(.+)/.test(e))},this.render=function(e){var t,n=e.attributes,r=e.insert,i="";for(t in n){var o=n[t];t===M.a&&!M.c.getEnable()||(-1<K.indexOf(t)&&(i+="".concat(i?" ":"").concat(t,"_").concat(o)),(/mention/.test(t)||/at-(.+)/.test(t))&&(i+=(i?" ":"")+t))}var a=C.customIconEnable;if(/(^| )mention-token|mention-chatId/.test(i)){var s,c=Object(me.e)(i),u=c.type,l=c.link,d=c.token,p=c.icon,f=l&&decodeURIComponent(l)||"";switch(f&&V.a.isWiki()&&V.a.addTask(f),parseInt(u)){case ye.E.GROUP:case ye.E.USER:return parseInt(u)===ye.E.USER&&d===C.ownerId&&(v="at-self-highlight"),e.class=O()(i,"mention",v),P.a.createElement("a",{href:"javascript:void(0)",contentEditable:"false"},e.children);case ye.E.CHAT:s="".concat(S.isAnonymousAccess?Object(me.V)():Object(me.W)({url:f})),v="ignore-dom ".concat(k.a.join(" ")),e.class=O()(i,"mention",v);var h="single-line mention-chat-card ignore-attr-heading";return e.lineClass+=" ".concat(h," ").concat(k.b.join(" ")),P.a.createElement("span",{dangerouslySetInnerHTML:{_html:s}});default:var g=C.props.embedObjShareEnable,m=!(!g||!j.a.getInstance())&&!!j.a.cantReadFiles[d],v="".concat(S.isAnonymousAccess?"popover-disabled":""),y={token:d,type:ye.v[u],title:r};g&&!j.a.isEmptyStash()&&j.a.completeInStash(y);var b=C.mentionFileManager;b&&b.completeInStash(Object.assign({},y,{link:l}));var E=m?"content-with-lock":"",_=e.children;return a&&p&&(E+=" content-with-icon",_=P.a.createElement(P.a.Fragment,null,P.a.createElement("i",{style:{backgroundImage:"url(".concat(C.getIconUrl(p),")")},className:"mention-doc-icon ".concat(v)}),e.children)),e.class=O()(i,"mention",v),P.a.createElement(Ee.l,{"data-fake-text":r},P.a.createElement("a",{href:f,"data-href":f,rel:"noopener noreferrer",target:"_blank",contentEditable:"false",className:E,onDragStart:C.onDragStart},_))}}else i&&!e.mark&&(e.mark=!0,e.class=i);return e.children},this.onDragStart=function(e){e.preventDefault()},this.handleDidPaste=function(e){var t=e.deltaSet.reduce(function(e,t){if(!(t instanceof Ee.E))return e;var n=[];return t.forEach(function(e){e.insert&&e.attributes&&e.attributes[ye.h]&&n.push(e.attributes[ye.h])}),e.concat(n)},[]);Object(g.a)(t,function(e){C.replaceClientsideChatCard(JSON.parse(e))})},this.handleTableResize=function(){M.c.show(C.editor,C.placeholderText)},this.replaceClientsideChatCard=function(){var t=I()(re.a.mark(function e(t){var n,r,i,o,a,s,c,u,l,d,p,f;return re.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(ie.default)(t,["props","data","chatId"]),r=Object(ie.default)(t,["blockId"]),e.prev=2,e.next=5,Object(m.h)(n);case 5:o=e.sent,i=o.data.Token,e.next=16;break;case 9:return e.prev=9,e.t0=e.catch(2),a=e.t0.code,s=Object(ie.default)(e.t0,["data","RespCode"])||a,c=ye.r[s]||h("etherpad.insert_chatcard_failed"),U.a.show({type:"error",closable:!0,content:c}),e.abrupt("return");case 16:if(t.props.data.chatToken=i,u=[["dataMetaBlockProps",JSON.stringify(t)]],l=C.getClientsideChatCardRange(C.editor,r)){e.next=21;break}return e.abrupt("return");case 21:d=l.selStart,p=l.selEnd,f=l.selZone,C.editor.inCallStackIfNecessary("replaceChatCard",function(){C.editor.fastIncorp(),C.editor.performDocumentReplaceRangeWithAttributes(f,d,p," ",u),C.editor.updateBrowserSelectionFromRep()});case 23:case"end":return e.stop()}},e,null,[[2,9]])}));return function(e){return t.apply(this,arguments)}}(),this.getClientsideChatCardRange=function(e,n){var r=ye.h,t=function(e,t){return Boolean(e===r&&JSON.parse(t).blockId===n)},i=e.getMatchedAttributePositionOnSelection(null,t)[0];return i?i.docPosition:null},this.aceAfterCompositionEnd=function(e){for(;C.taskQueue.length;){var t=C.taskQueue.pop();Object(d.default)(t)&&t()}},this.processBeforeInsertNode=function(e,t){var n,r=t.entry,i=t.cls;/(^| )mention-token|mention-chatId/.test(i)&&(n=Object(me.e)(i).type,parseInt(n)===ye.E.CHAT&&(r.domInfo.lineManagerType="mention_chat"))},this.bufferChanged=function(e,t){C.props.embedObjShareEnable&&C.embedMentionManager.handleBufferChanged(C.editor,t)},this.editorAlinesDidSplice=function(e,t){var n,r,i,o,a,s,c,u,l,d,p,f,h,g,m,v,y,b=C.mentionFileManager,E=C.props.embedObjShareEnable;(E||b)&&(n=t.currentState,i=(r=t.prevState).numToAttrib,o=r.alinesSplice,a=n.numToAttrib,s=n.alinesSplice,c=n.alinesAttribs,l=(u=function(e){return Object(T.a)(me.I,Object(me.m)(e))})(o)(i),d=u(s)(a),p=Object(me.H)(l),f=Object(me.H)(d),h=Object(me.Z)(p,f),m=!!(g=Object(me.Z)(f,p)).length,v=!!h.length,E&&(m&&j.a.addTokenInStash(g),v&&j.a.removeFromStash(h),C.embedMentionManager.processAddTokensFromNewLine({hasAddTokens:m,alinesAttribs:c})),b&&(m&&b.addTokenInStash(g),v&&b.removeFromStash(h),y=m||v,b.spliceLineInZone({preTokenLists:l,curTokenLists:d,context:t,isMentionListChange:y})))},this.linesWillReplace=function(e,t){C.embedMentionManager.handleLinesWillReplace(t)},this.aceCreateDomLine=function(e,t){var n=t.spanClass,r=t.attrObj,i=C.customIconEnable;if(/(^| )mention-token|mention-chatId/.test(n)){var o,a,s,c,u=Object(me.e)(n),l=u.type,d=u.link,p=u.token,f=u.icon,h=d&&decodeURIComponent(d)||"",g=Object(me.X)(C._preventXss(h));switch(parseInt(l)){case ye.E.GROUP:case ye.E.USER:y='<a href="javascript:void(0)" contenteditable="false">',o="</a>",parseInt(l)===ye.E.USER&&p===C.ownerId&&(s="at-self-highlight");break;case ye.E.CHAT:a="".concat(S.isAnonymousAccess?Object(me.V)():Object(me.W)({url:h})),s="ignore-dom ".concat(k.a.join(" ")),c="single-line mention-chat-card ignore-attr-heading ".concat(k.b.join(" ")),t.editable=!1;break;default:var m=C.props.embedObjShareEnable,v=!(!m||!j.a.getInstance())&&!!j.a.cantReadFiles[p],y='<a href="'.concat(g,'"data-href="').concat(g,'"\n            rel="noopener noreferrer" target="_blank" contenteditable="false"\n            class="').concat(v?"content-with-lock":""," ").concat(i&&f?"content-with-icon":"",'">');i&&f&&(y+='<i style="background-image:url('.concat(C.getIconUrl(f),')" class="mention-doc-icon" ></i>')),o="</a>",s="".concat(S.isAnonymousAccess?"popover-disabled":"");var b={token:p,type:ye.v[l],title:C.decodeText(t.text)};m&&!j.a.isEmptyStash()&&j.a.completeInStash(b);var E=C.mentionFileManager;E&&E.completeInStash(Object.assign({},b,{link:d}))}a?t.rawHtml=a:(t.extraOpenTags="".concat(t.extraOpenTags).concat(Ee.B).concat(y),t.extraCloseTags="".concat(o).concat(t.extraCloseTags),C.editor.version.includes(Ee.y)||(t.extraOpenHtml=ge.common.OLD_FAKETEXT_PREFIX,t.extraCloseHtml=ge.common.OLD_FAKETEXT_SUFFIX)),t.spanClass=O()(n,"mention",s),t.attributes=Object.assign({},t.attributes,_()({},Ee.m,t.text)),C.editor.version.includes(Ee.y)||(t.attributes=Object.assign({},t.attributes,{"data-faketext":t.text})),c&&(t.lineClass="".concat(t.lineClass," ").concat(c))}r.chatCardProps&&(t.extraOpenTags="<span class=".concat(ye.i,"\n      ").concat(ye.j,'="').concat(Object(w.escapeHTML)(r.chatCardProps),'">'),t.extraCloseTags="</span>")},this.getIconUrl=function(e){var t=JSON.parse(e),n=t.type,r=t.key,i=t.fs_unit;return n===S.NUM_CUSTOM_ICON_TYPE.IMAGE?Object(v.e)({key:r,fs_unit:i}):""},this.decodeText=function(e){var t={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#x27;":"'","&#x2F;":"/"},n=/&amp;|&lt;|&gt;|&quot;|&#x27;|&#x2F;/gm;return e&&e.replace(n,function(e){return t[e]||e})},this.aceBeforeCopy=function(e){var t,n=window.getSelection();if(n.getRangeAt?t=n.getRangeAt(0):((t=document.createRange()).setStart(n.anchorNode,n.anchorOffset),t.setEnd(n.focusNode,n.focusOffset)),3===t.endContainer.nodeType){var r=Object(ve.c)(t.endContainer,"mention-type_".concat(ye.E.USER));if(r){var i=Object(ve.c)(r,"j-block-container");return i?"".concat(i.outerHTML,"<span> </span>"):"".concat(r.outerHTML,"<span> </span>")}}},this.collectContentPre=function(e,t){var n,i,r,o,a,s,c=t.tname,u=t.node,l=t.cc,d=t.state,p=t.cls;if("a"===c){for(;u&&"span"!==c&&"body"!==c;)u=u.parentNode,c=(Object(ie.default)(u,"tagName")||"").toLocaleLowerCase();var f=u&&u.className;f&&-1<f.indexOf("mention")&&Object(g.a)(f.split(" "),function(e){var t;/mention/.test(e)&&"mention"!==e&&(0===e.indexOf("mention-icon")?(t=e.substring("mention-icon_".length),l.doAttrib(d,"mention-icon",t)):l.doAttrib(d,e))})}"span"===c&&p&&-1<p.indexOf("at-holder")&&Object(g.a)(p.split(" "),function(e){/at-(.+)/.test(e)&&l.doAttrib(d,e)}),p&&-1<p.indexOf(ye.i)&&(n=Object(oe.$)(u).attr(ye.j),l.doAttrib(d,ye.h,n),i=d.attribs,r=d.attribString,o=t.cc.apool,a=["author","lineguid",ye.h],s=Object.keys(i).reduce(function(e,t){if(a.includes(t)||t.includes("comment"))return e;var n=[t,i[t]].join(","),r=o.attribToNum[n].toString(36);return e.replace(/\*[\da-z]+/g,function(e){return e==="*".concat(r)?"":e})},r),l.lines.appendText(" ",s))},this.afterPasteInsert=function(e,t){var n=t.pasteDataWrapper,r=Object(oe.$)(n).find(".".concat(ye.i));r.length&&Object(g.a)(r,function(e){var t=Object(oe.$)(e).attr(ye.j);C.replaceClientsideChatCard(JSON.parse(t))})},this.acePaste=function(e,t){var n,r=t.e,i=t.pasteDataWrapper,o=Object(oe.$)(i),a=o.find(".mention");a.length&&(Object(g.a)(a,function(e){var t=Object(me.h)();e.className=e.className.replace(/mention-tempId_\S*/,"").replace(/mention-uuid_\w+/,"mention-uuid_".concat(t))}),n=C.editor.getRep().lines.indexOfKey(r.target.closest(".ace-line").id),C.lastPasteLineNum=n,r.stopImmediatePropagation(),r.preventDefault());var s=o.find(".".concat(ye.i));s.length&&Object(g.a)(s,function(e){var t=Object(oe.$)(e).attr(ye.j);try{var n=Object(H.generateBlockDataSet)(JSON.parse(t));Object(oe.$)(e).attr(ye.j,JSON.stringify(n))}catch(e){throw new Error("[Chatcard]: clientside-props parse error.")}})},this.deleteMentionIfNecessary=ve.a,this.moveCursorIfNecessary=ve.b,this.pushTaskQueue=function(e){C.taskQueue.push(e)},this._getExtendedAttribs=function(){var e=C.editor,t=e.getRep().zoneId,n=Object(ie.default)(e.getAttributesOnSelection(t),"attribs")||[];return n=Object(l.a)(n,function(e){var t=e[0];return-1<["backcolor","bold","italic","underline","inline-code","strikethrough",M.b].indexOf(t)||Object(me.M)(t)})},this._preventXss=function(e){var t=e.trim();return C.isValidScheme(t,S.allowProtocolSchemes)?Object(w.escapeHTML)(t):""},this.isValidScheme=function(e,t){return!(!e||!t)&&new RegExp("^(".concat(t.join("|"),"):")).test(e)},this.isMentionBoxVisible=function(){return C.mentionBox&&C.mentionBox.isVisiable()},this.destory=function(){C.mentionShare&&C.mentionShare.destroy(),C.mentionShare=null,C.embedMentionManager.destroy(),C.taskQueue=[],C.debounceNotifyMentionListChange.cancel(),C.editor&&(C.editor.off("asyncNotifyCallback",C.pushTaskQueue),C.editor.off("colHorzResize",C.handleTableResize),C.editor.off(Ee.k.DID_PASTE,C.handleDidPaste),C.editor.off(Ee.k.PAINT,C.notifyMentionListChange))};var t=e.editor;this.props=e,this.editor=t,this.ownerId=Object(F.d)(),this.taskQueue=[],this.lastPasteLineNum=null,this.isHoverPopup=!1,this.hidePopupTimeoutId=0,t&&(t.on("asyncNotifyCallback",this.pushTaskQueue),t.on("colHorzResize",this.handleTableResize),t.on(Ee.k.DID_PASTE,this.handleDidPaste)),this.mentionShare=new B.a;var n=this.props.embedObjShareEnable?j.a:null;this.embedMentionManager=new y.a(n)}function e(e,t,n){return i.apply(this,arguments)}var i,o;function t(e,t,n){return o.apply(this,arguments)}return c()(r,[{key:"updateKeywords",value:function(e,t){e||"compositionend"!==t.type||M.c.show(this.editor,this.placeholderText),this.keywords=e,this.mentionBox&&this.mentionBox.mounted&&this.mentionBox.setState({keywords:e,type:"search"})}},{key:"deserialize",value:function(e){var t=e.node,n=e.deltaSet,r=e.zoneId,i=n;if(t instanceof HTMLElement){var o,a,s=t.className,c=t.tagName,u=c;if("A"===c){for(;t&&"SPAN"!==u&&"BODY"!==u;)t=t.parentNode,u=Object(ie.default)(t,"tagName")||"";var l=t.className||"";-1<l.indexOf("mention")&&Object(g.a)(l.split(" "),function(e){var t;/mention/.test(e)&&"mention"!==e&&(i=0===e.indexOf("mention-icon")?(t=e.substring("mention-icon_".length),Object(Ee.H)(i,r,{"mention-icon":t})):Object(Ee.H)(i,r,_()({},e,"true")))})}"SPAN"===u&&-1<s.indexOf("at-holder")&&Object(g.a)(s.split(" "),function(e){/at-(.+)/.test(e)&&(i=Object(Ee.H)(i,r,_()({},e,"true")))}),-1<s.indexOf(ye.i)&&(o=Object(oe.$)(t).attr(ye.j),a=new Ee.e,i.forEach(function(e,t){var n;a=t===r&&e instanceof Ee.E?(n=new Ee.E({zoneId:r}).insert(" ",_()({},ye.h,o)),a.concat(n)):a.concat(e)}),i=a)}return i}},{key:"serialize",value:function(e){var t=e.type,n=e.node,r=e.op;if(!r)return e;var i,o,a,s=Object(me.r)(r.attributes);return t===Ee.u.LEAF&&s["mention-link"]&&(i=decodeURIComponent(s["mention-link"]),(o=document.createElement("span")).classList.add("mention"),Object.keys(r.attributes).forEach(function(e){return e.includes("mention")&&o.classList.add(e)}),(a=document.createElement("a")).setAttribute("rel","noopener noreferrer"),a.setAttribute("href",i),a.dataset.href=i,a.href=i,a.appendChild(n),o.appendChild(a),e.node=o),e}},{key:"showMentionBox",value:(o=I()(re.a.mark(function e(a,s,c){var t,u,l,d,n,p,f,h,g,r,m,i,v,o,y,b,E,_,C,T,O,k,S=this,w=arguments;return re.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=3<w.length&&void 0!==w[3]?w[3]:"@",u=a.rep,l=a.editor,d=s.uuid,this.uuid=d,n=this.props,p=n.type,f=n.boxWidth,h=n.container,g=n.source,r=n.notify,m=void 0===r||r,i=n.mentionBoxParams,v=void 0===i?{}:i,o=n.openDocParams,y=void 0===o?{}:o,b="reminder"===a,E=c.command===ye.q.JIRA_ISSUE_BLOCK,M.c.setEnable((Te||E)&&"doc"===p),c.command?(_=c.command===ye.F[ye.b.USER]?"@":me.c,this.createBlankDom(a,d,_,u.selStart,!0),s.command=c.command):(this.keywords=t.substr(1),C="".concat(be.a).concat(d),T=this._getExtendedAttribs(l),O=[["at-holder",!0],[C,!0],[M.b,!0]].concat(ne()(T)),Object(ve.e)(l,[u.selStart[0],u.selStart[1]-t.length],u.selEnd,t,O)),k=function(){var e=I()(re.a.mark(function e(){var t,n,r,i,o;return re.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(oe.$)(h),n=Object(oe.$)(".".concat(be.a).concat(d)),r=Object(N.a)(n.get(0),l),i=Object(me.v)(n,Object.assign({boxWidth:f,$boxContainer:t,zoom:r,bottomGap:16},Object(L.a)(v))),o=Object(me.F)(i),R.a.modernIE&&(o.height=me.d.boxMinHeight+"px"),S.mentionBox&&S.mentionBox.close(),e.next=9,Object(x.a)(Object.assign({style:o,boxType:p,notify:m,openDocParams:y,token:window.bestPracticeToken||Object(me.u)(),objType:Object(D.l)(),boxContainer:t.get(0),source:g},s,{rep:u,container:h,boxWidth:f,onConfirm:function(e){return S.handleConfirm(e,a,s)},editor:l,onAsideClick:function(){l.updateBrowserSelectionFromRep(!0),l.inCallStackIfNecessary("editorRefocus",function(){l.fastIncorp()})},onClose:function(e){s.command&&S.deleteBlankChar(l,d,e),S.mentionBox=null}}));case 9:S.mentionBox=e.sent,S.placeholderState=M.c.show(l,S.placeholderText),Object(ae.default)("open_mention",{action:Object(ie.default)(c,"data.type"),source:b?"checkbox":p,eventType:Object(ie.default)(c,"e.type")||"keydown",targetId:"",targetClass:"",zone:Object(se.l)(u)});case 12:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),a.editor.version.includes(Ee.y)?a.editor.once("paint",k):k();case 11:case"end":return e.stop()}},e,this)})),t)},{key:"deleteBlankChar",value:function(e,t,n){var r,i,o,a,s,c,u,l,d;n||(r="".concat(be.a).concat(t),i=this._getExtendedAttribs(e),e.inCallStackIfNecessary("collectMentionText",function(){e.fastIncorp()}),o="".concat(be.a).concat(t),(a=Object(he.a)(e,o))&&(s=this.getTextOnSelection(e,a),c=a.selStart,u=a.selEnd,l=a.selZone,d=[{start:c,end:u,newText:Object(me.f)(s),attributes:[["at-holder",!0],[r,!0]].concat(i)}],e.callWithAce(function(e){e.fastIncorp(),e.dom?e.performDocumentReplaceMultiRangeWithAttributes(l,d):e.performDocumentReplaceMultiRangeWithAttributes(d),e.version.includes(Ee.y)||e.updateBrowserSelectionFromRep(!0)},"filterChar",!0)))}},{key:"getTextOnSelection",value:function(e,t){if(!e)return"";var n=t.selStart,r=t.selEnd,i=t.selZone,o=e.getRep(i).lines.atIndex(n[0]).lineMarker,a=e.getRep(i).lines.atIndex(r[0]).lineMarker,s=Object.assign({},t,{selStart:[n[0],n[1]-o],selEnd:[r[0],r[1]-a]}),c=e.getTextAndAttrsOnSelection(s),u=c.length-1,l="";return c.forEach(function(e,t){var n=e.text,r=t===u&&/\n/.test(n);n&&!r&&(l+=n)}),l}},{key:"createBlankDom",value:function(e,t,n,r,i){var o=e.rep,a=e.editor,s="".concat(be.a).concat(t),c=this._getExtendedAttribs(a);a.inCallStackIfNecessary("createBlankDom",function(){a.fastIncorp(),Object(ve.e)(a,r,o.selEnd,n,[["at-holder",!0],[s,!0],[M.b,!0]].concat(c),i)},!0)}},{key:"handleConfirm",value:(i=I()(re.a.mark(function e(t,n,r){var i,o,a,s,c,u,l,d,p,f,h,g,m,v,y,b,E,_,C,T,O,k,S,w,I,x,L,R,N,D,M,P,j,F,B,U,H,z,V,K,W,Y,q,Z,X,Q,J,$,ee,te=this;return re.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i=this.editor,o=n.rep,a=r.uuid,s=r.isAPanelPoll,c=t.data,u=t.fromNotification,l=t.isClick,d=t.mentionUuid,p=t.logParams,f=c.type,h=c.token,g=c.url,m=c.shouldNotifyLark,v=c.content,y=c.icon_key,b=c.icon_type,E=c.icon_fsunit,_=this.props.type,C="reminder"===n,T="".concat(be.a).concat(a),O=Object(he.b)(i,T),i.version.includes(Ee.y)||i.updateBrowserSelectionFromRep(!0),Object(ce.default)(c))return e.abrupt("return");e.next=13;break;case 13:if(!O){e.next=98;break}k=Object(ie.default)(t,"data.type"),S="",e.t0=k,e.next=e.t0===ye.E.FILE?19:e.t0===ye.E.SHEET?21:e.t0===ye.E.BITABLE?23:e.t0===ye.E.MINDNOTE?25:e.t0===ye.E.BOX?27:e.t0===ye.E.SLIDE?29:e.t0===ye.E.BLOCK?31:e.t0===ye.E.JIRA_FILTER?33:35;break;case 19:return S="doc",e.abrupt("break",35);case 21:return S="sheet",e.abrupt("break",35);case 23:return S="bitable",e.abrupt("break",35);case 25:return S="mindnote",e.abrupt("break",35);case 27:return S="file",e.abrupt("break",35);case 29:return S="slide",e.abrupt("break",35);case 31:return S=Object(ie.default)(t,"data.pollType"),e.abrupt("break",35);case 33:return S="jira_filter",e.abrupt("break",35);case 35:w=Object(ie.default)(t,"data.source"),I=Te&&this.placeholderState?this.placeholderState:{},Object(pe.a)("confirm_mention").report(Object.assign({source:C?"checkbox":_,event_type:l||k===ye.E.BLOCK?"mouseclick":"keydown",mention_type:Object(se.j)(k),mention_sub_type:S,panel_source:r.command||r.isAPanelPoll?"a_panel":"mention_panel",mention_obj_id:Object(le.a)(h),mention_notification_status:m&&m.toString(),zone:Object(se.l)(o),uuid:d,recommend_source:Object(me.s)(w),line_is_empty:Object(me.P)(i)},p,{},I)),de.c[f]&&de.b.markAsDone(de.c[f]),u&&Object(ae.default)("click_confirm_mention_btn",{source:_,confirm_mention_btn_type:u,mention_type:Object(se.k)(k),mention_obj_id:Object(le.a)(h),mention_notification_status:m&&m.toString()}),i.inCallStackIfNecessary("mentionFastIncrop",function(){i.fastIncorp(!0)}),f===ye.E.USER&&Object(ae.default)("debug_mention_at_user",{stage:"after:fastIncorp"}),x=Object(oe.$)(".".concat(be.a).concat(a)),L=O?i.domToRep(x.get(0)):{},R=v,N=" ",D=[["at-holder",0],[T,0],["mention-type_".concat(f),!0],["mention-link_".concat(encodeURIComponent(g)),!0]],M=this._getExtendedAttribs(i),P=i.plugins.blockPlugin,e.t1=f,e.next=e.t1===ye.E.USER?52:e.t1===ye.E.CHAT?56:e.t1===ye.E.GROUP?61:e.t1===ye.E.JIRA_FILTER?67:e.t1===ye.E.BLOCK?72:e.t1===ye.E.INLINE_BLOCK?75:78;break;case 52:return N=" ",D=P.getAttrsFromBlockDataSet(t.data.dataSet),D=[].concat(ne()(M),ne()(D)),e.abrupt("break",84);case 56:return j=L.selStart,(F=L.selEnd)&&P.insertBlock(t.data.dataSet,{selStart:j,selEnd:F,zoneId:j[2]}),this.mentionBox&&this.mentionBox.close(!0),this.mentionBox=null,e.abrupt("return");case 61:return D.push(["mention-tempId_".concat(a),!0]),D.push(["mention-token_".concat(h),!0]),"doc"!==_&&D.push(["mention-notify_".concat(m),!0]),N="@".concat(R),D=D.concat(M),e.abrupt("break",84);case 67:return B=o.selStart[0],U=o.lines.atIndex(B),H=U.width,z=U.lineMarker,N=2<H-z?Object(ue.a)(o,null,L):" ",D=P.getAttrsFromBlockDataSet(t.data.dataSet),e.abrupt("break",84);case 72:return N=Object(ue.a)(o,null,L),D=P.getAttrsFromBlockDataSet(t.data.dataSet),e.abrupt("break",84);case 75:return N=" ",D=P.getAttrsFromBlockDataSet(t.data.dataSet),e.abrupt("break",84);case 78:return D.push(["mention-uuid_".concat(a),!0]),D.push(["mention-token_".concat(h),!0]),y&&D.push(["mention-icon",JSON.stringify({type:b,key:y,fs_unit:E})]),N=R,D=D.concat(M),e.abrupt("break",84);case 84:if(V=Object(he.a)(i,T)){e.next=87;break}return e.abrupt("return");case 87:K=V.selStart,W=V.selEnd,Y=i.getRep().lines.atIndex(W[0]).text.length,W[1]>Y&&(W[1]=i.getRep().lines.atIndex(W[0]).text.length),D.some(function(e){return"lineguid"===e[0]})||(q=o.attributeManager.findAttributeOnLine(K[0],"lineguid"),D.push(["lineguid",q||Object(Ce.b)()])),fe.a.emit("invokeCollapse",{zoneId:o.zoneId,range:{selStart:K,selEnd:W}}),Object(ve.d)(i,K,W,N,D,s),f!==ye.E.FILE&&f!==ye.E.SHEET&&f!==ye.E.BITABLE&&f!==ye.E.MINDNOTE&&f!==ye.E.SLIDE||(Z=ye.v[f],X={uuid:a,container:this.props.container,editor:i,token:h,suiteType:Z,title:N},Q=this.props.embedObjShareEnable,J=function(){Q&&te.mentionShare&&te.mentionShare.showPopover(X)},i.version.includes(Ee.y)?i.once("paint",J):J()),f===ye.E.CHAT||f===ye.E.BLOCK?($=o.selStart[0]+1,"\n"!==N.slice(-1)&&$<o.lines.length()&&i.inCallStackIfNecessary("insertChatPerformRepChange",function(){i.dom?i.performSelectionChange(o.zoneId,[$,0],[$,0]):i.performSelectionChange([$,0],[$,0])})):f!==ye.E.INLINE_BLOCK&&f!==ye.E.USER||(i.inCallStackIfNecessary("insertInlineBlockPerformRepChange",function(){i.performSelectionChange(o.zoneId,o.selStart,o.selEnd)}),f===ye.E.USER&&(ee=[K[0],K[1]+N.length],Object(ve.f)(i,ee,ee,M),f===ye.E.USER&&Object(ae.default)("debug_mention_at_user",{stage:"after:performSpace"}))),f!==ye.E.FILE&&f!==ye.E.SHEET&&f!==ye.E.BITABLE&&f!==ye.E.MINDNOTE&&f!==ye.E.SLIDE&&f!==ye.E.BOX||"full_comment"===_||"part_comment"===_||!Object(Ae.a)()||Object(_e.b)(ge.onboarding.STEP_TYPES.doc_relation_graph_guide);case 98:r.isAPanelPoll||(this.mentionBox&&this.mentionBox.close(!0),this.mentionBox=null);case 99:case"end":return e.stop()}},e,this)})),e)},{key:"placeholderText",get:function(){return this.mentionBox&&this.mentionBox.state.activeMentionType===ye.q.JIRA_ISSUE_BLOCK?Object(C.h)()===z.a.HAS_CONNECTED?h("explorer.search"):"":h("doc.mention.placeholder")}}]),r}())||e;Y.a=W}).call(this,q("2vAP"))},BzeS:function(e,t,n){},"C/u9":function(e,t,n){var a,s,c,u,l=!1,d=!1,p=n("EVsM")("parse"),f=n("xBWZ");function r(e,t){var n,r;a=!!(t=t||{}).comments,c=!!t.position,s=0,u=Array.isArray(e)?e.slice():f(e);var i,o=[];for(d&&(n=Date.now());i=h();)(r=_(i))&&o.push(r);return d&&p("ran in",Date.now()-n+"ms"),{type:"stylesheet",stylesheet:{rules:o}}}function i(e,t){var n;t=t||{};for(var r=["type","name","value"],i={},o=0;o<r.length;++o)e[n=r[o]]&&(i[n]=t[n]||e[n]);for(r=Object.keys(t),o=0;o<r.length;++o)i[n=r[o]]||(i[n]=t[n]);return c&&(i.position={start:e.start,end:e.end}),l&&p("astNode:",JSON.stringify(i,null,2)),i}function h(){var e=u.shift();return l&&p("next:",JSON.stringify(e,null,2)),e}function o(e){s+=1;var t={};switch(e.type){case"font-face":case"viewport":t.declarations=T();break;case"page":t.prefix=e.prefix,t.declarations=T();break;default:t.prefix=e.prefix,t.rules=O()}return i(e,t)}function g(e){return i(e)}function m(e){return i(e)}function v(e){return i(e,{text:e.text})}function y(e){return i(e)}function b(e){return i(e)}function E(e){function t(e){return e.trim()}return i(e,{type:"rule",selectors:e.text.split(",").map(t),declarations:T(e)})}function _(e){switch(e.type){case"property":return b(e);case"selector":return E(e);case"at-group-end":return void--s;case"media":case"keyframes":return o(e);case"comment":if(a)return v(e);break;case"charset":return m(e);case"import":return g(e);case"namespace":return y(e);case"font-face":case"supports":case"viewport":case"document":case"page":return o(e)}l&&p("parseToken: unexpected token:",JSON.stringify(e))}function C(e){for(var t,n,r=[];(n=h())&&e&&e(n);)(t=_(n))&&r.push(t);return n&&"end"!==n.type&&u.unshift(n),r}function T(){return C(function(e){return"property"===e.type||"comment"===e.type})}function O(){return C(function(){return s})}e.exports=r},CAVi:function(e,t,n){},CH3K:function(e,t){function n(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}e.exports=n},CMye:function(e,t,n){var r=n("GoyQ");function i(e){return e==e&&!r(e)}e.exports=i},CRWC:function(e,t){e.exports='<div class=\'link-modify-popup link-popup_hidden layout-row\'>\n  <div class=\'link-popup__input-group\'>\n    <div class=\'link-row\'>\n      <span class=\'link-modify-text\'></span>\n      <button class=\'link-modify-submit\'>\n        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n          <path fill-rule="evenodd" clip-rule="evenodd"\n            d="M5.7 16.1556H8.36982L16.3111 8.21413C16.584 7.94127 16.5845 7.49905 16.3124 7.22548L13.9072 4.80759C13.6338 4.53423 13.1906 4.53423 12.9172 4.80759L12.4235 5.30127L12.4255 5.30321L5 12.7858V15.4556C5 15.8422 5.3134 16.1556 5.7 16.1556ZM13.191 6.68287L14.3557 7.85371L13.4407 8.78301L12.282 7.62434L13.191 6.68287ZM12.211 10.1155L10.9942 8.89865L6.83025 13.144L8.00656 14.3221H8.00841L12.211 10.1155ZM18.65 17.4983H5.35C5.1567 17.4983 5 17.6662 5 17.8733V18.6233C5 18.8304 5.1567 18.9983 5.35 18.9983H18.65C18.8433 18.9983 19 18.8304 19 18.6233V17.8733C19 17.6662 18.8433 17.4983 18.65 17.4983Z"\n            fill="#2B2F36" />\n        </svg>\n      </button>\n      <button class=\'link-modify-delete\'>\n        <svg width="14" height="16" viewBox="0 0 14 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n          <path fill-rule="evenodd" clip-rule="evenodd"\n            d="M8.37748 6.29106C8.11269 6.07492 7.82608 5.90419 7.52691 5.77786L7.28945 6.07343L9.62187 8.4257C9.48219 7.61492 9.06179 6.84962 8.37748 6.29106ZM8.58786 11.6298L7.59364 10.6271L5.82694 12.8262C5.09775 13.7338 3.77665 13.8738 2.87617 13.1388C1.9757 12.4038 1.83685 11.0722 2.56604 10.1645L3.8239 8.59877C3.61452 8.27921 3.47608 7.90561 3.43362 7.49843L3.37325 6.91948L1.47907 9.27726C0.263754 10.79 0.495176 13.0094 1.99597 14.2344C3.49675 15.4594 5.69859 15.2262 6.91391 13.7134L8.58786 11.6298ZM6.49041 5.26759L8.17247 3.17384C8.90166 2.26618 10.2228 2.12622 11.1232 2.86123C12.0237 3.59623 12.1626 4.92787 11.4334 5.83553L10.1755 7.40125C10.3849 7.72082 10.5233 8.09441 10.5658 8.50159L10.6262 9.08054L12.5203 6.72276C13.7357 5.21 13.5042 2.9906 12.0034 1.76559C10.5027 0.54058 8.30082 0.773849 7.08551 2.28661L5.49619 4.26491L6.49041 5.26759ZM4.34643 7.35226L6.79459 9.82125L6.47251 10.2222C6.17334 10.0958 5.88672 9.9251 5.62193 9.70897C4.87543 9.09964 4.44299 8.24429 4.34643 7.35226Z"\n            fill="#2B2F36" />\n          <rect width="1.61544" height="17.0519" rx="0.633111"\n            transform="matrix(0.703905 -0.710294 0.703905 0.710294 0.430176 2.5976)" fill="#2B2F36" />\n        </svg>\n      </button>\n    </div>\n  </div>\n</div>\n'},CVSs:function(e,t,n){"use strict";n.r(t),n.d(t,"setFailedServices",function(){return i}),n.d(t,"clearFailedServices",function(){return o});var r=n("jp/M"),i=function(e){return{type:r.actionTypes.service.SET_FAILED_SERVICES,payload:e}},o=function(e){return{type:r.actionTypes.service.CLEAR_FAILED_SERVICES,payload:e}}},CZoQ:function(e,t){function n(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}e.exports=n},Cdfq:function(e,m,v){"use strict";(function(n){v.d(m,"c",function(){return l}),v.d(m,"b",function(){return d}),v.d(m,"a",function(){return g});var e,t,r=v("lSNA"),i=v.n(r),o=v("bPB8"),a=v("Jonh"),s=v("QM+C"),c=v("6omo"),u=v("po4q"),l=(Object.assign(Object.create(null),(e={},i()(e,s.NUM_SUITE_TYPE.DOC,n("template.v3.objtype.doc")),i()(e,s.NUM_SUITE_TYPE.SHEET,n("template.v3.objtype.sheet")),i()(e,s.NUM_SUITE_TYPE.MINDNOTE,n("template.v3.objtype.mindnote")),e)),Object.assign(Object.create(null),(t={},i()(t,c.e.ALL_TYPES,n("explorer.v3.meta_filter_menu_item.all")),i()(t,s.NUM_SUITE_TYPE.DOC,n("doc.search.filter.doc")),i()(t,s.NUM_SUITE_TYPE.SHEET,n("doc.search.filter.sheet")),i()(t,s.NUM_SUITE_TYPE.MINDNOTE,n("doc.search.filter.mindnote")),t))),d=function(){var e=[];return p(e),f(e),h(e),e};function p(e){e.push({tabTypeKey:c.j.GALLERY,name:n("explorer.v3.template_gallery")})}function f(e){a.a&&e.push({name:n("explorer.v3.template_custom"),tabTypeKey:c.j.CUSTOM})}function h(e){a.h&&e.push({tabTypeKey:c.j.CORPORATE,name:n("explorer.v3.template_corporate")})}function g(e){var t=[];switch(e){case c.j.GALLERY:t=[{category_id:u.a,name:n("template_v3_recommended"),is_recent:!0,templates:Object(o.a)([{cover_width:1,cover_height:2,name:n("template_v3_blank"),obj_type:s.NUM_SUITE_TYPE.DOC,obj_token:"",is_create_new:!0},{cover_width:2,cover_height:1,name:n("template_v3_blank"),obj_type:s.NUM_SUITE_TYPE.SHEET,obj_token:"",is_create_new:!0},a.g&&{cover_width:1,cover_height:2,name:n("template_v3_blank"),obj_type:s.NUM_SUITE_TYPE.MINDNOTE,obj_token:"",is_create_new:!0}])}];break;case c.j.CUSTOM:t=[{category_id:c.c.OWN,name:n("explorer.v3.my_templates"),templates:[],type:"own"},{category_id:c.c.SHARE,name:n("explorer.v3.templates_shared"),templates:[],type:"share"}];break;case c.j.CORPORATE:t=[{category_id:c.b.TENANT,name:n("explorer.v3.corporate_tenant"),templates:[],type:"tenant"}]}return t}}).call(this,v("2vAP"))},CeEi:function(e,t,n){e.exports=n("0zm+")},CqEA:function(e,t,n){var r=n("pevS"),i=n("T/97"),o=n("oBZR");r({target:"Object",stat:!0,forced:n("Bvq2")(function(){o(1)})},{keys:function(e){return o(i(e))}})},CshZ:function(e,t,n){"use strict";var r=n("zpDW"),i=n("UwWT"),o=i.TAG_NAMES,a=i.NAMESPACES,s=i.ATTRS,c={TEXT_HTML:"text/html",APPLICATION_XML:"application/xhtml+xml"},u="definitionurl",l="definitionURL",d={attributename:"attributeName",attributetype:"attributeType",basefrequency:"baseFrequency",baseprofile:"baseProfile",calcmode:"calcMode",clippathunits:"clipPathUnits",diffuseconstant:"diffuseConstant",edgemode:"edgeMode",filterunits:"filterUnits",glyphref:"glyphRef",gradienttransform:"gradientTransform",gradientunits:"gradientUnits",kernelmatrix:"kernelMatrix",kernelunitlength:"kernelUnitLength",keypoints:"keyPoints",keysplines:"keySplines",keytimes:"keyTimes",lengthadjust:"lengthAdjust",limitingconeangle:"limitingConeAngle",markerheight:"markerHeight",markerunits:"markerUnits",markerwidth:"markerWidth",maskcontentunits:"maskContentUnits",maskunits:"maskUnits",numoctaves:"numOctaves",pathlength:"pathLength",patterncontentunits:"patternContentUnits",patterntransform:"patternTransform",patternunits:"patternUnits",pointsatx:"pointsAtX",pointsaty:"pointsAtY",pointsatz:"pointsAtZ",preservealpha:"preserveAlpha",preserveaspectratio:"preserveAspectRatio",primitiveunits:"primitiveUnits",refx:"refX",refy:"refY",repeatcount:"repeatCount",repeatdur:"repeatDur",requiredextensions:"requiredExtensions",requiredfeatures:"requiredFeatures",specularconstant:"specularConstant",specularexponent:"specularExponent",spreadmethod:"spreadMethod",startoffset:"startOffset",stddeviation:"stdDeviation",stitchtiles:"stitchTiles",surfacescale:"surfaceScale",systemlanguage:"systemLanguage",tablevalues:"tableValues",targetx:"targetX",targety:"targetY",textlength:"textLength",viewbox:"viewBox",viewtarget:"viewTarget",xchannelselector:"xChannelSelector",ychannelselector:"yChannelSelector",zoomandpan:"zoomAndPan"},p={"xlink:actuate":{prefix:"xlink",name:"actuate",namespace:a.XLINK},"xlink:arcrole":{prefix:"xlink",name:"arcrole",namespace:a.XLINK},"xlink:href":{prefix:"xlink",name:"href",namespace:a.XLINK},"xlink:role":{prefix:"xlink",name:"role",namespace:a.XLINK},"xlink:show":{prefix:"xlink",name:"show",namespace:a.XLINK},"xlink:title":{prefix:"xlink",name:"title",namespace:a.XLINK},"xlink:type":{prefix:"xlink",name:"type",namespace:a.XLINK},"xml:base":{prefix:"xml",name:"base",namespace:a.XML},"xml:lang":{prefix:"xml",name:"lang",namespace:a.XML},"xml:space":{prefix:"xml",name:"space",namespace:a.XML},xmlns:{prefix:"",name:"xmlns",namespace:a.XMLNS},"xmlns:xlink":{prefix:"xmlns",name:"xlink",namespace:a.XMLNS}},f=t.SVG_TAG_NAMES_ADJUSTMENT_MAP={altglyph:"altGlyph",altglyphdef:"altGlyphDef",altglyphitem:"altGlyphItem",animatecolor:"animateColor",animatemotion:"animateMotion",animatetransform:"animateTransform",clippath:"clipPath",feblend:"feBlend",fecolormatrix:"feColorMatrix",fecomponenttransfer:"feComponentTransfer",fecomposite:"feComposite",feconvolvematrix:"feConvolveMatrix",fediffuselighting:"feDiffuseLighting",fedisplacementmap:"feDisplacementMap",fedistantlight:"feDistantLight",feflood:"feFlood",fefunca:"feFuncA",fefuncb:"feFuncB",fefuncg:"feFuncG",fefuncr:"feFuncR",fegaussianblur:"feGaussianBlur",feimage:"feImage",femerge:"feMerge",femergenode:"feMergeNode",femorphology:"feMorphology",feoffset:"feOffset",fepointlight:"fePointLight",fespecularlighting:"feSpecularLighting",fespotlight:"feSpotLight",fetile:"feTile",feturbulence:"feTurbulence",foreignobject:"foreignObject",glyphref:"glyphRef",lineargradient:"linearGradient",radialgradient:"radialGradient",textpath:"textPath"},h=Object.create(null);function g(e,t){return t===a.MATHML&&(e===o.MI||e===o.MO||e===o.MN||e===o.MS||e===o.MTEXT)}function m(e,t,n){if(t===a.MATHML&&e===o.ANNOTATION_XML)for(var r=0;r<n.length;r++)if(n[r].name===s.ENCODING){var i=n[r].value.toLowerCase();return i===c.TEXT_HTML||i===c.APPLICATION_XML}return t===a.SVG&&(e===o.FOREIGN_OBJECT||e===o.DESC||e===o.TITLE)}h[o.B]=!0,h[o.BIG]=!0,h[o.BLOCKQUOTE]=!0,h[o.BODY]=!0,h[o.BR]=!0,h[o.CENTER]=!0,h[o.CODE]=!0,h[o.DD]=!0,h[o.DIV]=!0,h[o.DL]=!0,h[o.DT]=!0,h[o.EM]=!0,h[o.EMBED]=!0,h[o.H1]=!0,h[o.H2]=!0,h[o.H3]=!0,h[o.H4]=!0,h[o.H5]=!0,h[o.H6]=!0,h[o.HEAD]=!0,h[o.HR]=!0,h[o.I]=!0,h[o.IMG]=!0,h[o.LI]=!0,h[o.LISTING]=!0,h[o.MENU]=!0,h[o.META]=!0,h[o.NOBR]=!0,h[o.OL]=!0,h[o.P]=!0,h[o.PRE]=!0,h[o.RUBY]=!0,h[o.S]=!0,h[o.SMALL]=!0,h[o.SPAN]=!0,h[o.STRONG]=!0,h[o.STRIKE]=!0,h[o.SUB]=!0,h[o.SUP]=!0,h[o.TABLE]=!0,h[o.TT]=!0,h[o.U]=!0,h[o.UL]=!0,h[o.VAR]=!0,t.causesExit=function(e){var t=e.tagName;return!!(t===o.FONT&&(null!==r.getTokenAttr(e,s.COLOR)||null!==r.getTokenAttr(e,s.SIZE)||null!==r.getTokenAttr(e,s.FACE)))||h[t]},t.adjustTokenMathMLAttrs=function(e){for(var t=0;t<e.attrs.length;t++)if(e.attrs[t].name===u){e.attrs[t].name=l;break}},t.adjustTokenSVGAttrs=function(e){for(var t=0;t<e.attrs.length;t++){var n=d[e.attrs[t].name];n&&(e.attrs[t].name=n)}},t.adjustTokenXMLAttrs=function(e){for(var t=0;t<e.attrs.length;t++){var n=p[e.attrs[t].name];n&&(e.attrs[t].prefix=n.prefix,e.attrs[t].name=n.name,e.attrs[t].namespace=n.namespace)}},t.adjustTokenSVGTagName=function(e){var t=f[e.tagName];t&&(e.tagName=t)},t.isIntegrationPoint=function(e,t,n,r){return!(r&&r!==a.HTML||!m(e,t,n))||!(r&&r!==a.MATHML||!g(e,t))}},Cupc:function(e,t,n){var i=n("1mbr");e.exports=function(e,t,n){for(var r in t)n&&n.unsafe&&e[r]?e[r]=t[r]:i(e,r,t[r],n);return e}},CvqZ:function(e,t,n){e.exports=n("Jpay")},CxHw:function(e,t,n){e.exports=n("L3Tz")},Cy2Z:function(e,t,n){"use strict";n.d(t,"a",function(){return p}),n.d(t,"b",function(){return f});var r=n("p3Wu"),i=n("H6oK"),o=n("IcLG"),a=n("46iY"),s=n("SLR9"),c=n("WtIE"),u=n("TBry"),l=n("hJmJ"),d=n("DNsP"),p=[i.IGNORE_HYPERLINK_CLASS,i.IGNORE_LINE_BACKGROUND_CLASS,o.b,a.a,s.a,c.a,u.a,d.l],f=[r.a,l.b]},"D+Jz":function(e,y,b){"use strict";(function(c){b.d(y,"a",function(){return r}),b.d(y,"b",function(){return v});var e=b("RIqP"),u=b.n(e),i=b("CpTu"),l=b("7EGn"),s=b("fRsX"),t=b("rLED"),o=b("Fw02"),d=b("QM+C"),n=b("t6I4"),a=Object(t.K)("doc_template_v3_corporate_enabled");function r(e){var t=[],n=[];return Object(s.d)()===s.a.LEFT_RIGHT?(f(t,n,e),p(t),g(t,n,e)):(g(t,n,e),h(t,n,e),p(t)),m(t,n,e),{tabs:t,totalTemplates:n}}function p(e){var t=Object(o.a)(),n=Object(i.a)(t,{obj_type:d.NUM_SUITE_TYPE.DOC}),r=Object(i.a)(t,{obj_type:d.NUM_SUITE_TYPE.SHEET});n&&!Object(i.a)(e,{obj_type:d.NUM_SUITE_TYPE.DOC})&&e.push(n),r&&!Object(i.a)(e,{obj_type:d.NUM_SUITE_TYPE.SHEET})&&e.push(r)}function f(e,s,t){var n=(Object(l.default)(t,"tabs")||[]).reduce(function(t,e){var n=e.categories,r=e.recents;if(r){var i=2,o=1;switch(r.obj_type){case d.NUM_SUITE_TYPE.DOC:case d.NUM_SUITE_TYPE.MINDNOTE:i=1,o=2}var a=r.templates.map(function(e){return Object.assign({},e,{is_recent:!0})});a.unshift({cover_token:"",cover_width:i,cover_height:o,name:c("template_v3_blank"),obj_type:r.obj_type,obj_token:"",is_create_new:!0,id:0}),n.unshift({name:c("template_v3_recommended"),templates:a,is_recent:!0}),n.forEach(function(e){t[e.name]||(t[e.name]=[]),s.push.apply(s,u()(e.templates)),t[e.name]=t[e.name].concat(e.templates)})}return t},Object.create(null)),r=Object.keys(n).map(function(e){return{name:e,templates:n[e],is_recent:e===c("template_v3_recommended")}});e.push({tabTypeKey:"gallery",name:c("explorer.v3.template_gallery"),categories:r})}function h(e,s,t){var n=Object(l.default)(t,"tabs")||[];e.push.apply(e,u()(n.reduce(function(e,t){var n=t.categories,r=t.recents;if(r){var i=2,o=1;switch(r.obj_type){case d.NUM_SUITE_TYPE.DOC:case d.NUM_SUITE_TYPE.MINDNOTE:i=1,o=2}var a=r.templates.map(function(e){return Object.assign({},e,{is_recent:!0})});a.unshift({cover_token:"",cover_width:i,cover_height:o,name:c("template_v3_blank"),obj_type:r.obj_type,obj_token:"",is_create_new:!0,id:0}),n.unshift({name:c("template_v3_recommended"),templates:a,is_recent:!0}),n.forEach(function(e){s.push.apply(s,u()(e.templates||[]))}),e.push(Object.assign({},t,{obj_type:t.recents.obj_type,tabTypeKey:d.mapTypeNumToFileType[t.recents.obj_type],categories:n}))}return e},[])))}function g(e,t,n){var r,i,o,a;s.b&&(r=(Object(l.default)(n,"custom.own")||[]).map(function(e){return Object.assign({},e,{is_custom:!0,can_share:!0,can_delete:!0})}),i=(Object(l.default)(n,"custom.share")||[]).map(function(e){return Object.assign({},e,{is_custom:!0,can_share:!0,can_delete:!0})}),o=Object(l.default)(n,"custom.users")||{},a=Object.assign(Object.create(null),o),i.forEach(function(e){e.from_user_name=Object(l.default)(a,[e.from_user_id,"name"])}),e.push({tabTypeKey:"custom",name:c("explorer.v3.template_custom"),categories:[{name:c("explorer.v3.my_templates"),templates:r,type:"own"},{name:c("explorer.v3.templates_shared"),templates:i,type:"share"}]}),t.push.apply(t,u()(r).concat(u()(i))))}function m(e,t,n){var r,i,o;a&&(r=(Object(l.default)(n,"corporate.tenant")||[]).map(function(e){return Object.assign({},e,{is_corporate:!0})}),i=(Object(l.default)(n,"corporate.organization")||[]).map(function(e){return Object.assign({},e,{is_corporate:!0})}),o=[].concat(u()(r),u()(i)),e.push({tabTypeKey:"corporate",name:c("explorer.v3.template_corporate"),categories:[{name:c("explorer.v3.corporate_tenant"),templates:o,type:"tenant"}],hideCategories:!0}),t.push.apply(t,u()(o)))}function v(){return"true"===Object(n.d)(location.href).hideTemplate}}).call(this,b("2vAP"))},D0c4:function(e,t,n){"use strict";n.r(t);var r=n("lwsE"),i=n.n(r),o=n("W8MJ"),a=n.n(o),s=n("a1gu"),c=n.n(s),u=n("Nsbk"),l=n.n(u),d=n("7W2i"),p=n.n(d),f=n("q1tI"),h=n.n(f),g=n("m/+l"),m=n("CnBM"),v=n.n(m),y=n("5cZX"),b=n("D7h9"),E=n("Jdee"),_=n("vc5i"),C=n("UAY2"),T=n("MUo5"),O=n("VI6H"),k=n("Mpt7"),S=function(){return h.a.createElement("div",{className:"layout-main-center layout-cross-center layout-row popover-loading"},h.a.createElement(C.a,null))},w=v()({loader:function(){return Promise.all([n.e("doc_index_css"),n.e("commons--home_banner--reaction--user_profile--whats_new_request"),n.e("commons--reaction--user_profile"),n.e("vendors--user_profile"),n.e("user_profile")]).then(n.bind(null,"6Sv6"))},loading:S}),I=function(e,t){var n=t.token;return{suiteShareable:Object(y.x)(e),userPermission:Object(E.a)(e,n),currentSuite:Object(_.f)(e)||k.default.fromJS({}),fileOwner:Object(y.Y)(e),isSingleProduct:Object(O.x)()}},x={bulkSetUserPermission:T.bulkSetUserPermission,bulkAskOwner:T.bulkAskOwner},L=Object(g.connect)(I,x)(w),R=function(e){function t(){return i()(this,t),c()(this,l()(t).apply(this,arguments))}return p()(t,e),a()(t,[{key:"render",value:function(){return h.a.createElement(g.Provider,{store:b.default},h.a.createElement(L,Object.assign({},this.props)))}}]),t}(f.Component);t.default=R},D15H:function(e,wr,Ir){"use strict";(function(e){Ir.d(wr,"a",function(){return f}),Ir.d(wr,"b",function(){return Ke}),Ir.d(wr,"c",function(){return Ge}),Ir.d(wr,"d",function(){return w}),Ir.d(wr,"e",function(){return I}),Ir.d(wr,"f",function(){return ue}),Ir.d(wr,"g",function(){return de}),Ir.d(wr,"h",function(){return ot}),Ir.d(wr,"i",function(){return H}),Ir.d(wr,"j",function(){return Y}),Ir.d(wr,"k",function(){return te}),Ir.d(wr,"l",function(){return b}),Ir.d(wr,"m",function(){return P}),Ir.d(wr,"n",function(){return xe}),Ir.d(wr,"o",function(){return K}),Ir.d(wr,"p",function(){return yt}),Ir.d(wr,"q",function(){return We}),Ir.d(wr,"r",function(){return dt}),Ir.d(wr,"s",function(){return q}),Ir.d(wr,"t",function(){return ie}),Ir.d(wr,"u",function(){return ke}),Ir.d(wr,"v",function(){return Yt}),Ir.d(wr,"w",function(){return Gt}),Ir.d(wr,"x",function(){return qt}),Ir.d(wr,"y",function(){return rn}),Ir.d(wr,"z",function(){return pt}),Ir.d(wr,"A",function(){return Ue}),Ir.d(wr,"B",function(){return Te}),Ir.d(wr,"C",function(){return R}),Ir.d(wr,"D",function(){return zt}),Ir.d(wr,"E",function(){return Bt}),Ir.d(wr,"F",function(){return kt}),Ir.d(wr,"G",function(){return Ht}),Ir.d(wr,"H",function(){return h}),Ir.d(wr,"I",function(){return M}),Ir.d(wr,"J",function(){return gt}),Ir.d(wr,"K",function(){return m}),Ir.d(wr,"L",function(){return vt}),Ir.d(wr,"M",function(){return n}),Ir.d(wr,"N",function(){return Ie}),Ir.d(wr,"O",function(){return Ee}),Ir.d(wr,"P",function(){return kr}),Ir.d(wr,"Q",function(){return Ze}),Ir.d(wr,"R",function(){return N}),Ir.d(wr,"S",function(){return Zt}),Ir.d(wr,"T",function(){return E}),Ir.d(wr,"U",function(){return ze}),Ir.d(wr,"V",function(){return Sr}),Ir.d(wr,"W",function(){return ae}),Ir.d(wr,"X",function(){return zn}),Ir.d(wr,"Y",function(){return tt}),Ir.d(wr,"Z",function(){return Gn}),Ir.d(wr,"ab",function(){return C}),Ir.d(wr,"bb",function(){return ce}),Ir.d(wr,"cb",function(){return _e}),Ir.d(wr,"db",function(){return Oe}),Ir.d(wr,"eb",function(){return je}),Ir.d(wr,"fb",function(){return L}),Ir.d(wr,"gb",function(){return Ne}),Ir.d(wr,"hb",function(){return _}),Ir.d(wr,"ib",function(){return be}),Ir.d(wr,"jb",function(){return Ye});var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{};function n(e,t){return e(t={exports:{}},t.exports),t.exports}var r,i,o,a,s,c,u,l,d=Math.ceil,p=Math.floor,f=function(e){return isNaN(e=+e)?0:(0<e?p:d)(e)},h=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e},g=function(s){return function(e,t){var n,r,i=String(h(e)),o=f(t),a=i.length;return o<0||a<=o?s?"":void 0:(n=i.charCodeAt(o))<55296||56319<n||o+1===a||(r=i.charCodeAt(o+1))<56320||57343<r?s?i.charAt(o):n:s?i.slice(o,o+2):r-56320+(n-55296<<10)+65536}},m={codeAt:g(!1),charAt:g(!0)},v="object",y=function(e){return e&&e.Math==Math&&e},b=y(typeof globalThis==v&&globalThis)||y(typeof window==v&&window)||y(typeof self==v&&self)||y(typeof t==v&&t)||Function("return this")(),E=function(e){try{return!!e()}catch(e){return!0}},_=!E(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}),C=function(e){return"object"==typeof e?null!==e:"function"==typeof e},T=b.document,O=C(T)&&C(T.createElement),k=function(e){return O?T.createElement(e):{}},S=!_&&!E(function(){return 7!=Object.defineProperty(k("div"),"a",{get:function(){return 7}}).a}),w=function(e){if(!C(e))throw TypeError(String(e)+" is not an object");return e},I=function(e,t){if(!C(e))return e;var n,r;if(t&&"function"==typeof(n=e.toString)&&!C(r=n.call(e)))return r;if("function"==typeof(n=e.valueOf)&&!C(r=n.call(e)))return r;if(!t&&"function"==typeof(n=e.toString)&&!C(r=n.call(e)))return r;throw TypeError("Can't convert object to primitive value")},x=Object.defineProperty,L={f:_?x:function(e,t,n){if(w(e),t=I(t,!0),w(n),S)try{return x(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},R=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},N=_?function(e,t,n){return L.f(e,t,R(1,n))}:function(e,t,n){return e[t]=n,e},D=function(t,n){try{N(b,t,n)}catch(e){b[t]=n}return n},M=!0,P=n(function(e){var t="__core-js_shared__",n=b[t]||D(t,{});(e.exports=function(e,t){return n[e]||(n[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.1.3",mode:"pure",copyright:" 2019 Denis Pushkarev (zloirock.ru)"})}),j=P("native-function-to-string",Function.toString),F=b.WeakMap,B="function"==typeof F&&/native code/.test(j.call(F)),U={}.hasOwnProperty,H=function(e,t){return U.call(e,t)},z=0,V=Math.random(),K=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++z+V).toString(36)},W=P("keys"),Y=function(e){return W[e]||(W[e]=K(e))},q={},Z=b.WeakMap,X=function(e){return u(e)?c(e):s(e,{})},Q=function(n){return function(e){var t;if(!C(e)||(t=c(e)).type!==n)throw TypeError("Incompatible receiver, "+n+" required");return t}};u=B?(r=new Z,i=r.get,o=r.has,a=r.set,s=function(e,t){return a.call(r,e,t),t},c=function(e){return i.call(r,e)||{}},function(e){return o.call(r,e)}):(l=Y("state"),q[l]=!0,s=function(e,t){return N(e,l,t),t},c=function(e){return H(e,l)?e[l]:{}},function(e){return H(e,l)});var J,$,ee,te={set:s,get:c,has:u,enforce:X,getterFor:Q},ne={}.propertyIsEnumerable,re=Object.getOwnPropertyDescriptor,ie={f:re&&!ne.call({1:2},1)?function(e){var t=re(this,e);return!!t&&t.enumerable}:ne},oe={}.toString,ae=function(e){return oe.call(e).slice(8,-1)},se="".split,ce=E(function(){return!Object("z").propertyIsEnumerable(0)})?function(e){return"String"==ae(e)?se.call(e,""):Object(e)}:Object,ue=function(e){return ce(h(e))},le=Object.getOwnPropertyDescriptor,de={f:_?le:function(e,t){if(e=ue(e),t=I(t,!0),S)try{return le(e,t)}catch(e){}if(H(e,t))return R(!ie.f.call(e,t),e[t])}},pe=/#|\.prototype\./,fe=function(e,t){var n=ge[he(e)];return n==ve||n!=me&&("function"==typeof t?E(t):!!t)},he=fe.normalize=function(e){return String(e).replace(pe,".").toLowerCase()},ge=fe.data={},me=fe.NATIVE="N",ve=fe.POLYFILL="P",ye=fe,be={},Ee=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e},_e=function(r,i,e){if(Ee(r),void 0===i)return r;switch(e){case 0:return function(){return r.call(i)};case 1:return function(e){return r.call(i,e)};case 2:return function(e,t){return r.call(i,e,t)};case 3:return function(e,t,n){return r.call(i,e,t,n)}}return function(){return r.apply(i,arguments)}},Ae=de.f,Ce=function(r){var e=function(e,t,n){if(this instanceof r){switch(arguments.length){case 0:return new r;case 1:return new r(e);case 2:return new r(e,t)}return new r(e,t,n)}return r.apply(this,arguments)};return e.prototype=r.prototype,e},Te=function(e,t){var n,r,i,o,a,s,c,u,l=e.target,d=e.global,p=e.stat,f=e.proto,h=d?b:p?b[l]:(b[l]||{}).prototype,g=d?be:be[l]||(be[l]={}),m=g.prototype;for(i in t)n=!ye(d?i:l+(p?".":"#")+i,e.forced)&&h&&H(h,i),a=g[i],n&&(s=e.noTargetGet?(u=Ae(h,i))&&u.value:h[i]),o=n&&s?s:t[i],n&&typeof a==typeof o||(c=e.bind&&n?_e(o,b):e.wrap&&n?Ce(o):f&&"function"==typeof o?_e(Function.call,o):o,(e.sham||o&&o.sham||a&&a.sham)&&N(c,"sham",!0),g[i]=c,f&&(H(be,r=l+"Prototype")||N(be,r,{}),be[r][i]=o,e.real&&m&&!m[i]&&N(m,i,o)))},Oe=function(e){return Object(h(e))},ke=!E(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}),Se=Y("IE_PROTO"),we=Object.prototype,Ie=ke?Object.getPrototypeOf:function(e){return e=Oe(e),H(e,Se)?e[Se]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?we:null},xe=!!Object.getOwnPropertySymbols&&!E(function(){return!String(Symbol())}),Le=b.Symbol,Re=P("wks"),Ne=function(e){return Re[e]||(Re[e]=xe&&Le[e]||(xe?Le:K)("Symbol."+e))},De=(Ne("iterator"),!1);[].keys&&("next"in(ee=[].keys())?($=Ie(Ie(ee)))!==Object.prototype&&(J=$):De=!0),null==J&&(J={});var Me={IteratorPrototype:J,BUGGY_SAFARI_ITERATORS:De},Pe=Math.min,je=function(e){return 0<e?Pe(f(e),9007199254740991):0},Fe=Math.max,Be=Math.min,Ue=function(e,t){var n=f(e);return n<0?Fe(n+t,0):Be(n,t)},He=function(s){return function(e,t,n){var r,i=ue(e),o=je(i.length),a=Ue(n,o);if(s&&t!=t){for(;a<o;)if((r=i[a++])!=r)return!0}else for(;a<o;a++)if((s||a in i)&&i[a]===t)return s||a||0;return!s&&-1}},ze={includes:He(!0),indexOf:He(!1)},Ve=ze.indexOf,Ke=function(e,t){var n,r=ue(e),i=0,o=[];for(n in r)!H(q,n)&&H(r,n)&&o.push(n);for(;t.length>i;)H(r,n=t[i++])&&(~Ve(o,n)||o.push(n));return o},Ge=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],We=Object.keys||function(e){return Ke(e,Ge)},Ye=_?Object.defineProperties:function(e,t){w(e);for(var n,r=We(t),i=r.length,o=0;o<i;)L.f(e,n=r[o++],t[n]);return e},qe=function(e){return"function"==typeof e?e:void 0},Ze=function(e,t){return arguments.length<2?qe(be[e])||qe(b[e]):be[e]&&be[e][t]||b[e]&&b[e][t]},Xe=Ze("document","documentElement"),Qe=Y("IE_PROTO"),Je="prototype",$e=function(){},et=function(){var e,t=k("iframe"),n=Ge.length,r="<",i="script",o=">",a="java"+i+":";for(t.style.display="none",Xe.appendChild(t),t.src=String(a),(e=t.contentWindow.document).open(),e.write(r+i+o+"document.F=Object"+r+"/"+i+o),e.close(),et=e.F;n--;)delete et[Je][Ge[n]];return et()},tt=Object.create||function(e,t){var n;return null!==e?($e[Je]=w(e),n=new $e,$e[Je]=null,n[Qe]=e):n=et(),void 0===t?n:Ye(n,t)};q[Qe]=!0;var nt=Ne("toStringTag"),rt="Arguments"==ae(function(){return arguments}()),it=function(e,t){try{return e[t]}catch(e){}},ot=function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=it(t=Object(e),nt))?n:rt?ae(t):"Object"==(r=ae(t))&&"function"==typeof t.callee?"Arguments":r},at={};at[Ne("toStringTag")]="z";var st="[object z]"!==String(at)?function(){return"[object "+ot(this)+"]"}:at.toString,ct=L.f,ut=Ne("toStringTag"),lt=st!=={}.toString,dt=function(e,t,n,r){var i;e&&(i=n?e:e.prototype,H(i,ut)||ct(i,ut,{configurable:!0,value:t}),r&&lt&&N(i,"toString",st))},pt={},ft=Me.IteratorPrototype,ht=function(){return this},gt=function(e,t,n){var r=t+" Iterator";return e.prototype=tt(ft,{next:R(1,n)}),dt(e,r,!1,!0),pt[r]=ht,e},mt=function(e){if(!C(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype");return e},vt=Object.setPrototypeOf||("__proto__"in{}?function(){var n,r=!1,e={};try{(n=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(e,[]),r=e instanceof Array}catch(e){}return function(e,t){return w(e),mt(t),r?n.call(e,t):e.__proto__=t,e}}():void 0),yt=function(e,t,n,r){r&&r.enumerable?e[t]=n:N(e,t,n)},bt=Me.IteratorPrototype,Et=Me.BUGGY_SAFARI_ITERATORS,_t=Ne("iterator"),At="keys",Ct="values",Tt="entries",Ot=function(){return this},kt=function(e,t,n,r,i,o,a){gt(n,t,r);var s,c,u,l=function(e){if(e===i&&g)return g;if(!Et&&e in f)return f[e];switch(e){case At:case Ct:case Tt:return function(){return new n(this,e)}}return function(){return new n(this)}},d=t+" Iterator",p=!1,f=e.prototype,h=f[_t]||f["@@iterator"]||i&&f[i],g=!Et&&h||l(i),m="Array"==t&&f.entries||h;if(m&&(s=Ie(m.call(new e)),bt!==Object.prototype&&s.next&&(dt(s,d,!0,!0),pt[d]=Ot)),i==Ct&&h&&h.name!==Ct&&(p=!0,g=function(){return h.call(this)}),a&&f[_t]!==g&&N(f,_t,g),pt[t]=g,i)if(c={values:l(Ct),keys:o?g:l(At),entries:l(Tt)},a)for(u in c)!Et&&!p&&u in f||yt(f,u,c[u]);else Te({target:t,proto:!0,forced:Et||p},c);return c},St=m.charAt,wt="String Iterator",It=te.set,xt=te.getterFor(wt);kt(String,"String",function(e){It(this,{type:wt,string:String(e),index:0})},function(){var e,t=xt(this),n=t.string,r=t.index;return r>=n.length?{value:void 0,done:!0}:(e=St(n,r),t.index+=e.length,{value:e,done:!1})});var Lt="Array Iterator",Rt=te.set,Nt=te.getterFor(Lt);kt(Array,"Array",function(e,t){Rt(this,{type:Lt,target:ue(e),index:0,kind:t})},function(){var e=Nt(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?{value:e.target=void 0,done:!0}:"keys"==n?{value:r,done:!1}:"values"==n?{value:t[r],done:!1}:{value:[r,t[r]],done:!1}},"values");pt.Arguments=pt.Array;var Dt,Mt={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},Pt=Ne("toStringTag");for(Dt in Mt){var jt=b[Dt],Ft=jt&&jt.prototype;Ft&&!Ft[Pt]&&N(Ft,Pt,Dt),pt[Dt]=pt.Array}var Bt=function(e,t,n){for(var r in t)n&&n.unsafe&&e[r]?e[r]=t[r]:yt(e,r,t[r],n);return e},Ut=Ne("species"),Ht=function(e){var t=Ze(e),n=L.f;_&&t&&!t[Ut]&&n(t,Ut,{configurable:!0,get:function(){return this}})},zt=function(e,t,n){if(!(e instanceof t))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return e},Vt=Ne("iterator"),Kt=Array.prototype,Gt=function(e){return void 0!==e&&(pt.Array===e||Kt[Vt]===e)},Wt=Ne("iterator"),Yt=function(e){if(null!=e)return e[Wt]||e["@@iterator"]||pt[ot(e)]},qt=function(t,e,n,r){try{return r?e(w(n)[0],n[1]):e(n)}catch(e){var i=t.return;throw void 0!==i&&w(i.call(t)),e}},Zt=n(function(e){var p=function(e,t){this.stopped=e,this.result=t};(e.exports=function(e,t,n,r,i){var o,a,s,c,u,l,d=_e(t,n,r?2:1);if(i)o=e;else{if("function"!=typeof(a=Yt(e)))throw TypeError("Target is not iterable");if(Gt(a)){for(s=0,c=je(e.length);s<c;s++)if((u=r?d(w(l=e[s])[0],l[1]):d(e[s]))&&u instanceof p)return u;return new p(!1)}o=a.call(e)}for(;!(l=o.next()).done;)if((u=qt(o,d,l.value,r))&&u instanceof p)return u;return new p(!1)}).stop=function(e){return new p(!0,e)}}),Xt=Ne("iterator"),Qt=!1;try{var Jt=0,$t={next:function(){return{done:!!Jt++}},return:function(){Qt=!0}};$t[Xt]=function(){return this},Array.from($t,function(){throw 2})}catch(e){}var en,tn,nn,rn=function(e,t){if(!t&&!Qt)return!1;var n=!1;try{var r={};r[Xt]=function(){return{next:function(){return{done:n=!0}}}},e(r)}catch(e){}return n},on=Ne("species"),an=function(e,t){var n,r=w(e).constructor;return void 0===r||null==(n=w(r)[on])?t:Ee(n)},sn=b.location,cn=b.setImmediate,un=b.clearImmediate,ln=b.process,dn=b.MessageChannel,pn=b.Dispatch,fn=0,hn={},gn="onreadystatechange",mn=function(e){var t;hn.hasOwnProperty(e)&&(t=hn[e],delete hn[e],t())},vn=function(e){return function(){mn(e)}},yn=function(e){mn(e.data)},bn=function(e){b.postMessage(e+"",sn.protocol+"//"+sn.host)};cn&&un||(cn=function(e){for(var t=[],n=1;n<arguments.length;)t.push(arguments[n++]);return hn[++fn]=function(){("function"==typeof e?e:Function(e)).apply(void 0,t)},en(fn),fn},un=function(e){delete hn[e]},"process"==ae(ln)?en=function(e){ln.nextTick(vn(e))}:pn&&pn.now?en=function(e){pn.now(vn(e))}:dn?(nn=(tn=new dn).port2,tn.port1.onmessage=yn,en=_e(nn.postMessage,nn,1)):!b.addEventListener||"function"!=typeof postMessage||b.importScripts||E(bn)?en=gn in k("script")?function(e){Xe.appendChild(k("script"))[gn]=function(){Xe.removeChild(this),mn(e)}}:function(e){setTimeout(vn(e),0)}:(en=bn,b.addEventListener("message",yn,!1)));var En,_n,An,Cn,Tn,On,kn,Sn={set:cn,clear:un},wn=Ze("navigator","userAgent")||"",In=de.f,xn=Sn.set,Ln=b.MutationObserver||b.WebKitMutationObserver,Rn=b.process,Nn=b.Promise,Dn="process"==ae(Rn),Mn=In(b,"queueMicrotask"),Pn=Mn&&Mn.value;Pn||(En=function(){var e,t;for(Dn&&(e=Rn.domain)&&e.exit();_n;){t=_n.fn,_n=_n.next;try{t()}catch(e){throw _n?Cn():An=void 0,e}}An=void 0,e&&e.enter()},Cn=Dn?function(){Rn.nextTick(En)}:Ln&&!/(iphone|ipod|ipad).*applewebkit/i.test(wn)?(Tn=!0,On=document.createTextNode(""),new Ln(En).observe(On,{characterData:!0}),function(){On.data=Tn=!Tn}):Nn&&Nn.resolve?(kn=Nn.resolve(void 0),function(){kn.then(En)}):function(){xn.call(b,En)});var jn,Fn,Bn,Un=Pn||function(e){var t={fn:e,next:void 0};An&&(An.next=t),_n||(_n=t,Cn()),An=t},Hn=function(e){var n,r;this.promise=new e(function(e,t){if(void 0!==n||void 0!==r)throw TypeError("Bad Promise constructor");n=e,r=t}),this.resolve=Ee(n),this.reject=Ee(r)},zn={f:function(e){return new Hn(e)}},Vn=function(e,t){if(w(e),C(t)&&t.constructor===e)return t;var n=zn.f(e);return(0,n.resolve)(t),n.promise},Kn=function(e,t){var n=b.console;n&&n.error&&(1===arguments.length?n.error(e):n.error(e,t))},Gn=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}},Wn=Sn.set,Yn=Ne("species"),qn="Promise",Zn=te.get,Xn=te.set,Qn=te.getterFor(qn),Jn=b[qn],$n=b.TypeError,er=b.document,tr=b.process,nr=(b.fetch,tr&&tr.versions),rr=nr&&nr.v8||"",ir=zn.f,or=ir,ar="process"==ae(tr),sr=!!(er&&er.createEvent&&b.dispatchEvent),cr="unhandledrejection",ur="rejectionhandled",lr=0,dr=1,pr=2,fr=1,hr=2,gr=ye(qn,function(){var e=Jn.resolve(1),t=function(){},n=(e.constructor={})[Yn]=function(e){e(t,t)};return!((ar||"function"==typeof PromiseRejectionEvent)&&e.finally&&e.then(t)instanceof n&&0!==rr.indexOf("6.6")&&-1===wn.indexOf("Chrome/66"))}),mr=gr||!rn(function(e){Jn.all(e).catch(function(){})}),vr=function(e){var t;return!(!C(e)||"function"!=typeof(t=e.then))&&t},yr=function(d,p,f){var h;p.notified||(p.notified=!0,h=p.reactions,Un(function(){for(var e=p.value,t=p.state==dr,n=0;h.length>n;){var r,i,o,a=h[n++],s=t?a.ok:a.fail,c=a.resolve,u=a.reject,l=a.domain;try{s?(t||(p.rejection===hr&&Ar(d,p),p.rejection=fr),!0===s?r=e:(l&&l.enter(),r=s(e),l&&(l.exit(),o=!0)),r===a.promise?u($n("Promise-chain cycle")):(i=vr(r))?i.call(r,c,u):c(r)):u(e)}catch(e){l&&!o&&l.exit(),u(e)}}p.reactions=[],p.notified=!1,f&&!p.rejection&&Er(d,p)}))},br=function(e,t,n){var r,i;sr?((r=er.createEvent("Event")).promise=t,r.reason=n,r.initEvent(e,!1,!0),b.dispatchEvent(r)):r={promise:t,reason:n},(i=b["on"+e])?i(r):e===cr&&Kn("Unhandled promise rejection",n)},Er=function(r,i){Wn.call(b,function(){var e,t=i.value,n=_r(i);if(n&&(e=Gn(function(){ar?tr.emit("unhandledRejection",t,r):br(cr,r,t)}),i.rejection=ar||_r(i)?hr:fr,e.error))throw e.value})},_r=function(e){return e.rejection!==fr&&!e.parent},Ar=function(e,t){Wn.call(b,function(){ar?tr.emit("rejectionHandled",e):br(ur,e,t.value)})},Cr=function(t,n,r,i){return function(e){t(n,r,e,i)}},Tr=function(e,t,n,r){t.done||(t.done=!0,r&&(t=r),t.value=n,t.state=pr,yr(e,t,!0))},Or=function(n,r,e,t){if(!r.done){r.done=!0,t&&(r=t);try{if(n===e)throw $n("Promise can't be resolved itself");var i=vr(e);i?Un(function(){var t={done:!1};try{i.call(e,Cr(Or,n,t,r),Cr(Tr,n,t,r))}catch(e){Tr(n,t,e,r)}}):(r.value=e,r.state=dr,yr(n,r,!1))}catch(e){Tr(n,{done:!1},e,r)}}};gr&&(Jn=function(e){zt(this,Jn,qn),Ee(e),jn.call(this);var t=Zn(this);try{e(Cr(Or,this,t),Cr(Tr,this,t))}catch(e){Tr(this,t,e)}},(jn=function(e){Xn(this,{type:qn,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:lr,value:void 0})}).prototype=Bt(Jn.prototype,{then:function(e,t){var n=Qn(this),r=ir(an(this,Jn));return r.ok="function"!=typeof e||e,r.fail="function"==typeof t&&t,r.domain=ar?tr.domain:void 0,n.parent=!0,n.reactions.push(r),n.state!=lr&&yr(this,n,!1),r.promise},catch:function(e){return this.then(void 0,e)}}),Fn=function(){var e=new jn,t=Zn(e);this.promise=e,this.resolve=Cr(Or,e,t),this.reject=Cr(Tr,e,t)},zn.f=ir=function(e){return e===Jn||e===Bn?new Fn(e):or(e)}),Te({global:!0,wrap:!0,forced:gr},{Promise:Jn}),dt(Jn,qn,!1,!0),Ht(qn),Bn=be[qn],Te({target:qn,stat:!0,forced:gr},{reject:function(e){var t=ir(this);return t.reject.call(void 0,e),t.promise}}),Te({target:qn,stat:!0,forced:M},{resolve:function(e){return Vn(this===Bn?Jn:this,e)}}),Te({target:qn,stat:!0,forced:mr},{all:function(e){var s=this,t=ir(s),c=t.resolve,u=t.reject,n=Gn(function(){var r=Ee(s.resolve),i=[],o=0,a=1;Zt(e,function(e){var t=o++,n=!1;i.push(void 0),a++,r.call(s,e).then(function(e){n||(n=!0,i[t]=e,--a||c(i))},u)}),--a||c(i)});return n.error&&u(n.value),t.promise},race:function(e){var n=this,r=ir(n),i=r.reject,t=Gn(function(){var t=Ee(n.resolve);Zt(e,function(e){t.call(n,e).then(r.resolve,i)})});return t.error&&i(t.value),r.promise}}),Te({target:"Promise",proto:!0,real:!0},{finally:function(t){var n=an(this,Ze("Promise")),e="function"==typeof t;return this.then(e?function(e){return Vn(n,t()).then(function(){return e})}:t,e?function(e){return Vn(n,t()).then(function(){throw e})}:t)}});var kr=be.Promise,Sr=function(e){return be[e+"Prototype"]}}).call(this,Ir("yLpj"))},D1oa:function(e,t,n){"use strict";function r(e){for(var t=e.length,n=new Uint8Array(t),r=0;r<t;r++)n[r]=e.charCodeAt(r);return n.buffer}function i(e){return String.fromCharCode.apply(null,new Uint8Array(e))}n.d(t,"c",function(){return r}),n.d(t,"b",function(){return i}),n.d(t,"a",function(){return a});var o="image/png";function a(e){var t=s(e),n=new DataView(e),r=new Blob([n],{type:t||o});return{blobUrl:URL.createObjectURL(r),mime:t}}function s(e){for(var t=e.slice(0,4),t=new Uint8Array(t),n=[],r=0;r<t.byteLength;r++)n.push(t[r].toString(16));return c(n.join("").toUpperCase())}function c(e){switch(e){case"89504E47":return"image/png";case"47494638":return"image/gif";case"FFD8FFDB":case"FFD8FFE0":case"FFD8FFE1":case"FFD8FFE2":case"FFD8FFE3":case"FFD8FFE8":return"image/jpeg";case"52494646":return"image/webp";default:return""}}},D28M:function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"p",function(){return o}),n.d(t,"n",function(){return a}),n.d(t,"f",function(){return s}),n.d(t,"g",function(){return c}),n.d(t,"h",function(){return u}),n.d(t,"c",function(){return l}),n.d(t,"q",function(){return d}),n.d(t,"l",function(){return p}),n.d(t,"b",function(){return f}),n.d(t,"o",function(){return h}),n.d(t,"j",function(){return g}),n.d(t,"m",function(){return m}),n.d(t,"k",function(){return v}),n.d(t,"d",function(){return y}),n.d(t,"r",function(){return E}),n.d(t,"i",function(){return _}),n.d(t,"e",function(){return C});var r=n("nVH4");function i(t){for(var e,n=arguments.length,r=new Array(1<n?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];t.classList?r.forEach(function(e){return t.classList.add(e)}):t.getAttribute&&(e=(t.getAttribute("class")||"").split(" ").filter(function(e){return!r.includes(e)}).concat(r).join(" "),t.setAttribute("class",e))}function o(t){for(var e,n=arguments.length,r=new Array(1<n?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];t.classList?r.forEach(function(e){return t.classList.remove(e)}):t.getAttribute&&(e=(t.getAttribute("class")||"").split(" ").filter(function(e){return!r.includes(e)}).join(" "),t.setAttribute("class",e))}function a(e){return(1<arguments.length&&void 0!==arguments[1]?arguments[1]:document).querySelector(e)}function s(e,t){return e.classList?e.classList.contains(t):!!e.getAttribute&&(e.getAttribute("class")||"").split(" ").some(function(e){return e===t})}function c(e,t){return e.classList?Array.from(e.classList).find(function(e){return 0===e.indexOf(t)}):!!e.getAttribute&&(e.getAttribute("class")||"").split(" ").find(function(e){return 0===e.indexOf(t)})}function u(e,t){for(var n=!1,r=0;r<t.length;r++)c(e,t[r])&&(n=!0);return n}function l(e){var t=document.createElement("style");return t.appendChild(document.createTextNode(e)),t}function d(e){var t;!e||(t=e.parentNode)&&t.removeChild(e)}function p(e,t){for(;e;){if(s(e,t))return!0;e=e.parentNode}return!1}function f(e,t){for(;t;){if(t===e)return!0;t=t.parentNode}return!1}function h(e,t){for(;e;){if(s(e,t))return e;e=e.parentNode}return null}function g(e){var t=e.getBoundingClientRect();return 0<=t.top&&0<=t.left&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth)}function m(e){return e.previousElementSibling||e.previousSibling}function v(e){return e.nextElementSibling||e.nextSibling}function y(e,t){if(!e)return null;for(var n=e,r=0;n!==t&&null!==n;){r+=n.offsetTop;var i=n.offsetParent||b(n);if(!(i instanceof HTMLElement))return console.error(i,"is not HTMLElement"),null;n=i}return r}function b(e){return e&&e.classList.contains("ace-line-collapsed")?e.parentNode:null}function E(e,t){var n=y(e,t);null!==n&&(t.scrollTop=n)}function _(e){return!!e.setAttribute}function C(e){return e instanceof HTMLElement&&-1!==e.className.indexOf(r.b)&&e.dataset.magicdomid&&document.getElementById(e.dataset.magicdomid)||e}},D5Sy:function(e,t,n){var r=e.exports;[n("aLRh"),n("JvmS"),n("ejln"),n("czxZ"),n("nyAU"),n("9n51")].forEach(function(t){Object.keys(t).forEach(function(e){r[e]=t[e].bind(r)})})},DJKl:function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return o}),n.d(t,"c",function(){return a});var r=n("jp/M"),i=function(e){return{type:r.actionTypes.commentReaction.SET_COMMENT_REACTION,payload:e}},o=function(e){return{type:r.actionTypes.commentReaction.SET_COMMENT_REACTION_ENTITIES,payload:e}},a=function(e){return{type:r.actionTypes.commentReaction.SET_COMMENT_REACTION_LOAD_STATUS,payload:e}}},DK5n:function(e,t,n){"use strict";var d=n("pevS"),p=n("OsYe"),f=n("ZZQp"),h=n("Bvq2"),g=n("MdFX"),m=n("W1ep"),v=n("X32N"),y=n("39uu"),b=n("KHTo"),E=n("QYBB").f,_=n("3uAa").forEach,C=n("wbIY"),r=n("L1rz"),T=r.set,O=r.getterFor;e.exports=function(n,e,t,r,a){var s,c,i=p[n],u=i&&i.prototype,o=r?"set":"add",l={};return C&&"function"==typeof i&&(a||u.forEach&&!h(function(){(new i).entries().next()}))?(s=e(function(e,t){T(v(e,s,n),{type:n,collection:new i}),null!=t&&m(t,e[o],e,r)}),c=O(n),_(["add","clear","delete","forEach","get","has","set","keys","values","entries"],function(i){var o="add"==i||"set"==i;i in u&&(!a||"clear"!=i)&&g(s.prototype,i,function(e,t){var n=c(this).collection;if(!o&&a&&!y(e))return"get"==i&&void 0;var r=n[i](0===e?0:e,t);return o?this:r})}),a||E(s.prototype,"size",{get:function(){return c(this).collection.size}})):(s=t.getConstructor(e,n,r,o),f.REQUIRED=!0),b(s,n,!1,!0),l[n]=s,d({global:!0,forced:!0},l),a||t.setStrong(s,n,r),s}},DNsP:function(e,t,n){"use strict";n.d(t,"i",function(){return E}),n.d(t,"j",function(){return _}),n.d(t,"b",function(){return T}),n.d(t,"o",function(){return O}),n.d(t,"d",function(){return k}),n.d(t,"k",function(){return S}),n.d(t,"h",function(){return w}),n.d(t,"e",function(){return I}),n.d(t,"a",function(){return x}),n.d(t,"p",function(){return L}),n.d(t,"n",function(){return R}),n.d(t,"g",function(){return N}),n.d(t,"t",function(){return D}),n.d(t,"f",function(){return M}),n.d(t,"m",function(){return P}),n.d(t,"q",function(){return F}),n.d(t,"r",function(){return B}),n.d(t,"u",function(){return U}),n.d(t,"c",function(){return H}),n.d(t,"l",function(){return z}),n.d(t,"s",function(){return V});var r,i,o,a,s,c,u,l=n("lSNA"),d=n.n(l),p=n("RIqP"),f=n.n(p),h=n("J4zp"),g=n.n(h),m=n("/GXw"),v=n("1dfU"),y=n("H6oK"),b=n("EDbJ"),E="highlight",_="HIGHLIGHT_BTN_STYLE_CHANGE";(u=c=c||{}).TEXT="TEXT",u.BACKGROUND="BACKGROUND";var C={COLOR_PINK_LIGHT_BACKGROUND:"COLOR_PINK_LIGHT_BACKGROUND",COLOR_ORANGE_LIGHT_BACKGROUND:"COLOR_ORANGE_LIGHT_BACKGROUND",COLOR_YELLOW_LIGHT_BACKGROUND:"COLOR_YELLOW_LIGHT_BACKGROUND",COLOR_GREEN_LIGHT_BACKGROUND:"COLOR_GREEN_LIGHT_BACKGROUND",COLOR_BLUE_LIGHT_BACKGROUND:"COLOR_BLUE_LIGHT_BACKGROUND",COLOR_PURPLE_LIGHT_BACKGROUND:"COLOR_PURPLE_LIGHT_BACKGROUND",COLOR_GRAY_LIGHT_BACKGROUND:"COLOR_GRAY_LIGHT_BACKGROUND",COLOR_PINK_DARK_BACKGROUND:"COLOR_PINK_DARK_BACKGROUND",COLOR_ORANGE_DARK_BACKGROUND:"COLOR_ORANGE_DARK_BACKGROUND",COLOR_YELLOW_DARK_BACKGROUND:"COLOR_YELLOW_DARK_BACKGROUND",COLOR_GREEN_DARK_BACKGROUND:"COLOR_GREEN_DARK_BACKGROUND",COLOR_BLUE_DARK_BACKGROUND:"COLOR_BLUE_DARK_BACKGROUND",COLOR_PURPLE_DARK_BACKGROUND:"COLOR_PURPLE_DARK_BACKGROUND",COLOR_GRAY_DARK_BACKGROUND:"COLOR_GRAY_DARK_BACKGROUND",COLOR_PINK_TEXT:"COLOR_PINK_TEXT",COLOR_ORANGE_TEXT:"COLOR_ORANGE_TEXT",COLOR_YELLOW_TEXT:"COLOR_YELLOW_TEXT",COLOR_GREEN_TEXT:"COLOR_GREEN_TEXT",COLOR_BLUE_TEXT:"COLOR_BLUE_TEXT",COLOR_PURPLE_TEXT:"COLOR_PURPLE_TEXT",COLOR_GRAY_TEXT:"COLOR_GRAY_TEXT",COLOR_CLEAR:"COLOR_CLEAR"},T=new Map([[C.COLOR_PINK_LIGHT_BACKGROUND,m.N],[C.COLOR_ORANGE_LIGHT_BACKGROUND,Object(b.a)(m.z,.8)],[C.COLOR_YELLOW_LIGHT_BACKGROUND,Object(b.a)(m.V,.8)],[C.COLOR_GREEN_LIGHT_BACKGROUND,Object(b.a)(m.i,.8)],[C.COLOR_BLUE_LIGHT_BACKGROUND,Object(b.a)(m.b,.7)],[C.COLOR_PURPLE_LIGHT_BACKGROUND,Object(b.a)(m.G,.7)],[C.COLOR_GRAY_LIGHT_BACKGROUND,Object(b.a)(m.s,.8)],[C.COLOR_PINK_DARK_BACKGROUND,m.P],[C.COLOR_ORANGE_DARK_BACKGROUND,m.B],[C.COLOR_YELLOW_DARK_BACKGROUND,m.Y],[C.COLOR_GREEN_DARK_BACKGROUND,m.k],[C.COLOR_BLUE_DARK_BACKGROUND,Object(b.a)(m.d,.55)],[C.COLOR_PURPLE_DARK_BACKGROUND,Object(b.a)(m.I,.55)],[C.COLOR_GRAY_DARK_BACKGROUND,m.t]].map(function(e){var t=g()(e,2),n=t[0],r=t[1];return[n,Object(b.a)(r)]})),O=new Map([[C.COLOR_PINK_TEXT,m.S],[C.COLOR_ORANGE_TEXT,m.E],[C.COLOR_YELLOW_TEXT,m.cb],[C.COLOR_GREEN_TEXT,m.n],[C.COLOR_BLUE_TEXT,m.g],[C.COLOR_PURPLE_TEXT,m.L],[C.COLOR_GRAY_TEXT,m.v]].map(function(e){var t=g()(e,2),n=t[0],r=t[1];return[n,Object(b.a)(r)]})),k="COLOR_CLEAR",S=new Map([].concat(f()(T),f()(O),[[k,"clear"]])),w=new Set(f()(S.values())),I=d()({COLOR_PINK:"colorPink",COLOR_ORANGE:"colorOrange",COLOR_YELLOW:"colorYellow",COLOR_BLUE:"colorBlue",COLOR_GREEN:"colorGreen",COLOR_PURPLE:"colorPurple"},k,"colorClear"),x={BACKGROUND:"backcolor",TEXT:"textcolor",CLEAR:"highlight_cancel"},L=(r={},d()(r,x.TEXT,"color"),d()(r,x.BACKGROUND,"background-color"),r),R=(i={},d()(i,x.BACKGROUND,"rgba(0,0,0,0)"),d()(i,x.TEXT,Object(b.a)(m.x)),o={},d()(o,x.BACKGROUND,"white"),d()(o,x.TEXT,m.x),o),N=(a={},d()(a,x.TEXT,"foreColor"),d()(a,x.BACKGROUND,"backColor"),a),D=["rgb(213, 229, 245)","#d5e5f5","rgb(255, 166, 166)","#ffa6a6",m.R,m.D,m.m,m.f,m.K,m.z,m.i,m.s,m.P,m.B,m.ab,m.k,m.t,m.Z,Object(b.a)(m.d,.55),Object(b.a)(m.I,.55),Object(b.a)(m.cb,.8),Object(b.a)(m.G,.7),Object(b.a)(m.b,.7)],M=(s={},d()(s,I.COLOR_PINK,["rgba(255, 188, 178, 1)","#ffbcb2","rgb(255, 188, 178)"]),d()(s,I.COLOR_ORANGE,["rgba(255, 211, 126, 1)","#ffd37e","rgb(255, 211, 126)"]),d()(s,I.COLOR_YELLOW,["rgba(255, 243, 98, 1)","#fff362","rgb(255, 243, 98)"]),d()(s,I.COLOR_BLUE,["rgba(167, 206, 255, 1)","#a7ceff","rgb(167, 206, 255)"]),d()(s,I.COLOR_GREEN,["rgba(176, 253, 167, 1)","#b0fda7","rgb(176, 253, 167)"]),d()(s,I.COLOR_PURPLE,["rgba(223, 176, 255, 1)","#dfb0ff","rgb(223, 176, 255)"]),s),P=Object(v.a)(window.User.id)+"_HIGHLIGHT_COLOR_KEY_V2",j="COLOR_YELLOW_LIGHT_BACKGROUND",F={background:T.get(j)},B=JSON.stringify(F),U=I.COLOR_YELLOW,H=(M[U][1],M[I.COLOR_PINK][0],"bgcolor-wrap-padding"),z="IGNORE_BACKGROUND_COLOR",V=[y.BlockType.SHEET_BLOCK,y.BlockType.BITABLE_BLOCK,y.BlockType.CHAT_CARD_BLOCK,y.BlockType.POLL_BLOCK,y.BlockType.FILE_CARD_BLOCK]},DOYj:function(e,t,n){"use strict";var r=n("pVnL"),i=n.n(r),o=n("QILm"),a=n.n(o),s=n("q1tI"),c=n.n(s);t.a=function(e){e.styles;var t=a()(e,["styles"]);return c.a.createElement("svg",i()({width:"16",height:"16",viewBox:"0 0 48 48"},t),c.a.createElement("path",{d:"M22.24 16h3.56L32 32h-3.53l-1.6-3.98h-5.63L19.58 32H16l6.24-16zM22 24h3l-1.47-4L22 24z",fill:"#123",fillRule:"evenodd"}))}},DPDV:function(e,t,n){var r=n("syO3"),i=n("nleh").concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,i)}},DSRE:function(e,s,c){(function(e){var t=c("Kz5y"),n=c("B8du"),r=s&&!s.nodeType&&s,i=r&&"object"==typeof e&&e&&!e.nodeType&&e,o=i&&i.exports===r?t.Buffer:void 0,a=(o?o.isBuffer:void 0)||n;e.exports=a}).call(this,c("YuTi")(e))},DSbf:function(e,t,n){e.exports=n("qQKe")},DkPT:function(e,t,n){e.exports=n("o4zr")},Dmep:function(e,t,n){n("m/sp")("iterator")},Douc:function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"c",function(){return d});var r,i,o=n("lwsE"),a=n.n(o),s=n("W8MJ"),c=n.n(s),u=n("26FU"),l=n("VnD/");(i=r=r||{}).SUCCESS="SUCCESS",i.SUCCESS_AND_CHANGE="SUCCESS_AND_CHANGE",i.VERSION_OUT_OF_BOUNDS="VERSION_OUT_OF_BOUNDS",i.NET_EXCEPTION="NET_EXCEPTION",i.FOLLOW_EXCEPTION="FOLLOW_EXCEPTION",i.COMMENT_MOUNT_EXCEPTION="COMMENT_MOUNT_EXCEPTION";var d=function(){function n(e){a()(this,n),this.emit=e}return c()(n,[{key:"destroy",value:function(){this.emit=null}},{key:"on",value:function(e,t){this.emit.on(e,t)}},{key:"off",value:function(e,t){this.emit.off(e,t)}},{key:"setListProps",value:function(e){n.listPropsSubject.next(e)}},{key:"onSetListProps",value:function(e){n.listPropsSubscription.set(e,n.listPropsSubject.pipe(Object(l.a)(Boolean)).subscribe(e))}},{key:"offSetListProps",value:function(e){var t=n.listPropsSubscription.get(e);t&&t.unsubscribe()}},{key:"setListMethod",value:function(e){n.listMethodSubject.next(e)}},{key:"onSetListMethod",value:function(e){n.listMethodSubscription.set(e,n.listMethodSubject.pipe(Object(l.a)(Boolean)).subscribe(e))}},{key:"offSetListMethod",value:function(e){var t=n.listMethodSubscription.get(e);t&&t.unsubscribe()}}]),n}();d.listPropsSubject=new u.a(null),d.listPropsSubscription=new Map,d.listMethodSubject=new u.a(null),d.listMethodSubscription=new Map},DtyJ:function(e,t,n){"use strict";n.r(t);var u=n("6blF"),r=n("KhEm"),i=n("IxPp"),o=n("xTla"),a=n("K9Ia"),s=n("26FU"),c=n("S5bw"),l=n("svcd"),d=n("KQya"),p=n("T1DM"),f=n("zo3G"),h=n("mrSG"),g=n("h9Dq"),m=function(r){function e(e,t){var n=r.call(this,e,t)||this;return n.scheduler=e,n.work=t,n}return h.__extends(e,r),e.prototype.requestAsyncId=function(e,t,n){return void 0===n&&(n=0),null!==n&&0<n?r.prototype.requestAsyncId.call(this,e,t,n):(e.actions.push(this),e.scheduled||(e.scheduled=requestAnimationFrame(function(){return e.flush(null)})))},e.prototype.recycleAsyncId=function(e,t,n){if(void 0===n&&(n=0),null!==n&&0<n||null===n&&0<this.delay)return r.prototype.recycleAsyncId.call(this,e,t,n);0===e.actions.length&&(cancelAnimationFrame(t),e.scheduled=void 0)},e}(g.a),v=n("CS9Q"),y=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return h.__extends(t,e),t.prototype.flush=function(e){this.active=!0,this.scheduled=void 0;var t,n=this.actions,r=-1,i=n.length;e=e||n.shift();do{if(t=e.execute(e.state,e.delay))break}while(++r<i&&(e=n.shift()));if(this.active=!1,t){for(;++r<i&&(e=n.shift());)e.unsubscribe();throw t}},t}(v.a))(m),b=function(r){function e(e,t){void 0===e&&(e=E),void 0===t&&(t=Number.POSITIVE_INFINITY);var n=r.call(this,e,function(){return n.frame})||this;return n.maxFrames=t,n.frame=0,n.index=-1,n}return h.__extends(e,r),e.prototype.flush=function(){for(var e,t,n=this,r=n.actions,i=n.maxFrames;(t=r.shift())&&(this.frame=t.delay)<=i&&!(e=t.execute(t.state,t.delay)););if(e){for(;t=r.shift();)t.unsubscribe();throw e}},e.frameTimeFactor=10,e}(v.a),E=function(i){function o(e,t,n){void 0===n&&(n=e.index+=1);var r=i.call(this,e,t)||this;return r.scheduler=e,r.work=t,r.index=n,r.active=!0,r.index=e.index=n,r}return h.__extends(o,i),o.prototype.schedule=function(e,t){if(void 0===t&&(t=0),!this.id)return i.prototype.schedule.call(this,e,t);this.active=!1;var n=new o(this.scheduler,this.work);return this.add(n),n.schedule(e,t)},o.prototype.requestAsyncId=function(e,t,n){void 0===n&&(n=0),this.delay=e.frame+n;var r=e.actions;return r.push(this),r.sort(o.sortActions),!0},o.prototype.recycleAsyncId=function(e,t,n){void 0===n&&(n=0)},o.prototype._execute=function(e,t){if(!0===this.active)return i.prototype._execute.call(this,e,t)},o.sortActions=function(e,t){return e.delay===t.delay?e.index===t.index?0:e.index>t.index?1:-1:e.delay>t.delay?1:-1},o}(g.a),_=n("siIJ"),C=n("pugT"),T=n("FFOo"),O=n("60iU"),k=n("y3By"),S=n("+umK"),w=n("mChF");function I(e){return!!e&&(e instanceof u.a||"function"==typeof e.lift&&"function"==typeof e.subscribe)}var x=n("b7mW"),L=n("3fWJ"),R=n("8g8A"),N=n("awvh"),D=n("3U0i"),M=n("67Y/"),P=n("isby"),j=n("nkY7");function F(s,n,c){if(n){if(!Object(j.a)(n))return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return F(s,c).apply(void 0,e).pipe(Object(M.map)(function(e){return Object(P.a)(e)?n.apply(void 0,e):n(e)}))};c=n}return function(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];var i,o=this,a={context:o,subject:i,callbackFunc:s,scheduler:c};return new u.a(function(e){if(c){var t={args:r,subscriber:e,params:a};return c.schedule(B,0,t)}if(!i){i=new l.a;var n=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];i.next(e.length<=1?e[0]:e),i.complete()};try{s.apply(o,r.concat([n]))}catch(e){i.error(e)}}return i.subscribe(e)})}}function B(e){var r=this,t=e.args,n=e.subscriber,i=e.params,o=i.callbackFunc,a=i.context,s=i.scheduler,c=i.subject;if(!c){c=i.subject=new l.a;var u=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e.length<=1?e[0]:e;r.add(s.schedule(U,0,{value:n,subject:c}))};try{o.apply(a,t.concat([u]))}catch(e){c.error(e)}}this.add(c.subscribe(n))}function U(e){var t=e.value,n=e.subject;n.next(t),n.complete()}function H(a,n,s){if(n){if(!Object(j.a)(n))return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return H(a,s).apply(void 0,e).pipe(Object(M.map)(function(e){return Object(P.a)(e)?n.apply(void 0,e):n(e)}))};s=n}return function(){for(var i=[],e=0;e<arguments.length;e++)i[e]=arguments[e];var o={subject:void 0,args:i,callbackFunc:a,scheduler:s,context:this};return new u.a(function(e){var t=o.context,r=o.subject;if(s)return s.schedule(z,0,{params:o,subscriber:e,context:t});if(!r){r=o.subject=new l.a;var n=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e.shift();n?r.error(n):(r.next(e.length<=1?e[0]:e),r.complete())};try{a.apply(t,i.concat([n]))}catch(e){r.error(e)}}return r.subscribe(e)})}}function z(e){var i=this,t=e.params,n=e.subscriber,r=e.context,o=t.callbackFunc,a=t.args,s=t.scheduler,c=t.subject;if(!c){c=t.subject=new l.a;var u=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n,r=e.shift();r?i.add(s.schedule(K,0,{err:r,subject:c})):(n=e.length<=1?e[0]:e,i.add(s.schedule(V,0,{value:n,subject:c})))};try{o.apply(r,a.concat([u]))}catch(e){this.add(s.schedule(K,0,{err:e,subject:c}))}}this.add(c.subscribe(n))}function V(e){var t=e.value,n=e.subject;n.next(t),n.complete()}function K(e){var t=e.err;e.subject.error(t)}var W=n("dzgT"),Y=n("dEwP"),q=n("lYZG"),Z=n("G5J1"),X=n("zotm");function Q(){for(var t,n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return"function"==typeof n[n.length-1]&&(t=n.pop()),1===n.length&&Object(P.a)(n[0])&&(n=n[0]),0===n.length?Z.a:t?Q(n).pipe(Object(M.map)(function(e){return t.apply(void 0,e)})):new u.a(function(e){return new J(e,n)})}var J=function(s){function e(e,t){var n=s.call(this,e)||this;n.sources=t,n.completed=0,n.haveValues=0;var r=t.length;n.values=new Array(r);for(var i=0;i<r;i++){var o=t[i],a=Object(X.a)(n,o,null,i);a&&n.add(a)}return n}return h.__extends(e,s),e.prototype.notifyNext=function(e,t,n,r,i){this.values[n]=t,i._hasValue||(i._hasValue=!0,this.haveValues++)},e.prototype.notifyComplete=function(e){var t=this,n=t.destination,r=t.haveValues,i=t.values,o=i.length;e._hasValue?(this.completed++,this.completed===o&&(r===o&&n.next(i),n.complete())):n.complete()},e}(n("MGBS").a),$=n("0/uQ"),ee=n("bne5"),te=n("kERW");function ne(e,i,o,t,a){var s,c;return 1==arguments.length?(c=e.initialState,i=e.condition,o=e.iterate,s=e.resultSelector||w.a,a=e.scheduler):void 0===t||Object(j.a)(t)?(c=e,s=w.a,a=t):(c=e,s=t),new u.a(function(t){var e=c;if(a)return a.schedule(re,0,{subscriber:t,iterate:o,condition:i,resultSelector:s,state:e});for(;;){if(i){var n=void 0;try{n=i(e)}catch(e){return void t.error(e)}if(!n){t.complete();break}}var r=void 0;try{r=s(e)}catch(e){return void t.error(e)}if(t.next(r),t.closed)break;try{e=o(e)}catch(e){return void t.error(e)}}})}function re(e){var t,n=e.subscriber,r=e.condition;if(!n.closed){if(e.needIterate)try{e.state=e.iterate(e.state)}catch(e){return void n.error(e)}else e.needIterate=!0;if(r){var i=void 0;try{i=r(e.state)}catch(e){return void n.error(e)}if(!i)return void n.complete();if(n.closed)return}try{t=e.resultSelector(e.state)}catch(e){return void n.error(e)}if(!n.closed&&(n.next(t),!n.closed))return this.schedule(e)}}function ie(e,t,n){return void 0===t&&(t=Z.a),void 0===n&&(n=Z.a),Object(q.a)(function(){return e()?t:n})}var oe=n("/21U");function ae(t,n){return void 0===t&&(t=0),void 0===n&&(n=p.a),(!Object(oe.a)(t)||t<0)&&(t=0),n&&"function"==typeof n.schedule||(n=p.a),new u.a(function(e){return e.add(n.schedule(se,t,{subscriber:e,counter:0,period:t})),e})}function se(e){var t=e.subscriber,n=e.counter,r=e.period;t.next(n),this.schedule({subscriber:t,counter:n+1,period:r},r)}var ce=n("p0ib"),ue=n("GDxn"),le=n("F/XL");function de(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(0===e.length)return Z.a;var n=e[0],r=e.slice(1);return 1===e.length&&Object(P.a)(n)?de.apply(void 0,n):new u.a(function(t){var e=function(){return t.add(de.apply(void 0,r).subscribe(t))};return Object($.a)(n).subscribe({next:function(e){t.next(e)},error:e,complete:e})})}function pe(i,r){return r?new u.a(function(e){var t=Object.keys(i),n=new C.a;return n.add(r.schedule(fe,0,{keys:t,index:0,subscriber:e,subscription:n,obj:i})),n}):new u.a(function(e){for(var t=Object.keys(i),n=0;n<t.length&&!e.closed;n++){var r=t[n];i.hasOwnProperty(r)&&e.next([r,i[r]])}e.complete()})}function fe(e){var t,n=e.keys,r=e.index,i=e.subscriber,o=e.subscription,a=e.obj;i.closed||(r<n.length?(t=n[r],i.next([t,a[t]]),o.add(this.schedule({keys:n,index:r+1,subscriber:i,subscription:o,obj:a}))):i.complete())}var he=n("W0Ae");function ge(r,i,o){return void 0===r&&(r=0),void 0===i&&(i=0),new u.a(function(e){var t=0,n=r;if(o)return o.schedule(me,0,{index:t,count:i,start:r,subscriber:e});for(;;){if(t++>=i){e.complete();break}if(e.next(n++),e.closed)break}})}function me(e){var t=e.start,n=e.index,r=e.count,i=e.subscriber;r<=n?i.complete():(i.next(t),i.closed||(e.index=n+1,e.start=t+1,this.schedule(e)))}var ve=n("XlPw"),ye=n("gI3B");function be(i,o){return new u.a(function(t){var e,n;try{e=i()}catch(e){return void t.error(e)}try{n=o(e)}catch(e){return void t.error(e)}var r=(n?Object($.a)(n):Z.a).subscribe(t);return function(){r.unsubscribe(),e&&e.unsubscribe()}})}var Ee=n("909l"),_e=n("iLxQ");n.d(t,"Observable",function(){return u.a}),n.d(t,"ConnectableObservable",function(){return r.a}),n.d(t,"GroupedObservable",function(){return i.a}),n.d(t,"observable",function(){return o.a}),n.d(t,"Subject",function(){return a.a}),n.d(t,"BehaviorSubject",function(){return s.a}),n.d(t,"ReplaySubject",function(){return c.a}),n.d(t,"AsyncSubject",function(){return l.a}),n.d(t,"asapScheduler",function(){return d.a}),n.d(t,"asyncScheduler",function(){return p.a}),n.d(t,"queueScheduler",function(){return f.a}),n.d(t,"animationFrameScheduler",function(){return y}),n.d(t,"VirtualTimeScheduler",function(){return b}),n.d(t,"VirtualAction",function(){return E}),n.d(t,"Scheduler",function(){return _.a}),n.d(t,"Subscription",function(){return C.a}),n.d(t,"Subscriber",function(){return T.a}),n.d(t,"Notification",function(){return O.a}),n.d(t,"pipe",function(){return k.a}),n.d(t,"noop",function(){return S.a}),n.d(t,"identity",function(){return w.a}),n.d(t,"isObservable",function(){return I}),n.d(t,"ArgumentOutOfRangeError",function(){return x.a}),n.d(t,"EmptyError",function(){return L.a}),n.d(t,"ObjectUnsubscribedError",function(){return R.a}),n.d(t,"UnsubscriptionError",function(){return N.a}),n.d(t,"TimeoutError",function(){return D.a}),n.d(t,"bindCallback",function(){return F}),n.d(t,"bindNodeCallback",function(){return H}),n.d(t,"combineLatest",function(){return W.b}),n.d(t,"concat",function(){return Y.a}),n.d(t,"defer",function(){return q.a}),n.d(t,"empty",function(){return Z.b}),n.d(t,"forkJoin",function(){return Q}),n.d(t,"from",function(){return $.a}),n.d(t,"fromEvent",function(){return ee.a}),n.d(t,"fromEventPattern",function(){return te.a}),n.d(t,"generate",function(){return ne}),n.d(t,"iif",function(){return ie}),n.d(t,"interval",function(){return ae}),n.d(t,"merge",function(){return ce.a}),n.d(t,"never",function(){return ue.b}),n.d(t,"of",function(){return le.a}),n.d(t,"onErrorResumeNext",function(){return de}),n.d(t,"pairs",function(){return pe}),n.d(t,"race",function(){return he.a}),n.d(t,"range",function(){return ge}),n.d(t,"throwError",function(){return ve.a}),n.d(t,"timer",function(){return ye.a}),n.d(t,"using",function(){return be}),n.d(t,"zip",function(){return Ee.b}),n.d(t,"EMPTY",function(){return Z.a}),n.d(t,"NEVER",function(){return ue.a}),n.d(t,"config",function(){return _e.a})},"Dw+G":function(e,t,n){var r=n("juv8"),i=n("mTTR");function o(e,t){return e&&r(t,i(t),e)}e.exports=o},DzJC:function(e,t,n){var o=n("sEfC"),a=n("GoyQ"),s="Expected a function";function r(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new TypeError(s);return a(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),o(e,t,{leading:r,maxWait:t,trailing:i})}e.exports=r},E0u0:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var c=r(n("QDlc")),i=r(n("MgzW")),o=!0,u=!1,l=["altKey","bubbles","cancelable","ctrlKey","currentTarget","eventPhase","metaKey","shiftKey","target","timeStamp","view","type"];function s(e){return null==e}var d=[{reg:/^key/,props:["char","charCode","key","keyCode","which"],fix:function(e,t){s(e.which)&&(e.which=s(t.charCode)?t.keyCode:t.charCode),void 0===e.metaKey&&(e.metaKey=e.ctrlKey)}},{reg:/^touch/,props:["touches","changedTouches","targetTouches"]},{reg:/^hashchange$/,props:["newURL","oldURL"]},{reg:/^gesturechange$/i,props:["rotation","scale"]},{reg:/^(mousewheel|DOMMouseScroll)$/,props:[],fix:function(e,t){var n=void 0,r=void 0,i=void 0,o=t.wheelDelta,a=t.axis,s=t.wheelDeltaY,c=t.wheelDeltaX,u=t.detail;o&&(i=o/120),u&&(i=0-(u%3==0?u/3:u)),void 0!==a&&(a===e.HORIZONTAL_AXIS?n=(r=0)-i:a===e.VERTICAL_AXIS&&(n=0,r=i)),void 0!==s&&(r=s/120),void 0!==c&&(n=-1*c/120),n||r||(r=i),void 0!==n&&(e.deltaX=n),void 0!==r&&(e.deltaY=r),void 0!==i&&(e.delta=i)}},{reg:/^mouse|contextmenu|click|mspointer|(^DOMMouseScroll$)/i,props:["buttons","clientX","clientY","button","offsetX","relatedTarget","which","fromElement","toElement","offsetY","pageX","pageY","screenX","screenY"],fix:function(e,t){var n=void 0,r=void 0,i=void 0,o=e.target,a=t.button;return o&&s(e.pageX)&&!s(t.clientX)&&(r=(n=o.ownerDocument||document).documentElement,i=n.body,e.pageX=t.clientX+(r&&r.scrollLeft||i&&i.scrollLeft||0)-(r&&r.clientLeft||i&&i.clientLeft||0),e.pageY=t.clientY+(r&&r.scrollTop||i&&i.scrollTop||0)-(r&&r.clientTop||i&&i.clientTop||0)),e.which||void 0===a||(e.which=1&a?1:2&a?3:4&a?2:0),!e.relatedTarget&&e.fromElement&&(e.relatedTarget=e.fromElement===o?e.toElement:e.fromElement),e}}];function p(){return o}function f(){return u}function a(e){var t=e.type,n="function"==typeof e.stopPropagation||"boolean"==typeof e.cancelBubble;c.default.call(this);var r=f;"defaultPrevented"in(this.nativeEvent=e)?r=e.defaultPrevented?p:f:"getPreventDefault"in e?r=e.getPreventDefault()?p:f:"returnValue"in e&&(r=e.returnValue===u?p:f),this.isDefaultPrevented=r;var i=[],o=void 0,a=void 0,s=l.concat();for(d.forEach(function(e){t.match(e.reg)&&(s=s.concat(e.props),e.fix&&i.push(e.fix))}),o=s.length;o;)this[a=s[--o]]=e[a];for(!this.target&&n&&(this.target=e.srcElement||document),this.target&&3===this.target.nodeType&&(this.target=this.target.parentNode),o=i.length;o;)(0,i[--o])(this,e);this.timeStamp=e.timeStamp||Date.now()}var h=c.default.prototype;(0,i.default)(a.prototype,h,{constructor:a,preventDefault:function(){var e=this.nativeEvent;e.preventDefault?e.preventDefault():e.returnValue=u,h.preventDefault.call(this)},stopPropagation:function(){var e=this.nativeEvent;e.stopPropagation?e.stopPropagation():e.cancelBubble=o,h.stopPropagation.call(this)}}),t.default=a,e.exports=t.default},E0xh:function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n("aX3c"),i=n("JzhP"),o=n("a/hH");function a(){var e=(0,Object(r.getSyncHelpers)().getReduxState)(),t=Object(i.selectCurrentSuiteOtherPermissions)(e);return t&&!t.copyable}function s(e){return Object(r.hasCopyAuthority)()?!!a()&&(e&&e.preventDefault(),r.store.dispatch(Object(o.copyTextWithoutPermission)()),!0):(e&&e.preventDefault(),r.store.dispatch(Object(o.noAdminPermission)()),!0)}},EA7m:function(e,t,n){var r=n("zZ0H"),i=n("Ioao"),o=n("wclG");function a(e,t){return o(i(e,t,r),e+"")}e.exports=a},ECq1:function(e,t,n){"use strict";var r=n("r2fs");n.d(t,"a",function(){return r.a}),t.b=r.b},EEGq:function(e,t,n){var r=n("juv8"),i=n("oCl/");function o(e,t){return r(e,i(e),t)}e.exports=o},"EPt+":function(e,t,n){"use strict";n.d(t,"O",function(){return i}),n.d(t,"a",function(){return a}),n.d(t,"y",function(){return c}),n.d(t,"P",function(){return l}),n.d(t,"g",function(){return p}),n.d(t,"w",function(){return h}),n.d(t,"h",function(){return m}),n.d(t,"k",function(){return y}),n.d(t,"l",function(){return E}),n.d(t,"A",function(){return C}),n.d(t,"b",function(){return O}),n.d(t,"B",function(){return S}),n.d(t,"u",function(){return I}),n.d(t,"G",function(){return L}),n.d(t,"q",function(){return N}),n.d(t,"p",function(){return J}),n.d(t,"o",function(){return $}),n.d(t,"R",function(){return ee}),n.d(t,"S",function(){return te}),n.d(t,"m",function(){return ne}),n.d(t,"n",function(){return re}),n.d(t,"d",function(){return ie}),n.d(t,"i",function(){return U}),n.d(t,"e",function(){return z}),n.d(t,"r",function(){return V}),n.d(t,"E",function(){return W}),n.d(t,"D",function(){return q}),n.d(t,"H",function(){return oe}),n.d(t,"L",function(){return se}),n.d(t,"J",function(){return ue}),n.d(t,"K",function(){return ye}),n.d(t,"N",function(){return de}),n.d(t,"C",function(){return fe}),n.d(t,"t",function(){return ge}),n.d(t,"c",function(){return ve}),n.d(t,"v",function(){return Oe}),n.d(t,"f",function(){return be}),n.d(t,"Q",function(){return _e}),n.d(t,"F",function(){return Ce}),n.d(t,"I",function(){return xe}),n.d(t,"M",function(){return Le}),n.d(t,"x",function(){return ke}),n.d(t,"j",function(){return we}),n.d(t,"z",function(){return Ne}),n.d(t,"s",function(){return Re});var r,i,o,a,s,c,u,l,d,p,f,h,g,m,v,y,b,E,_,C,T,O,k,S,w,I,x,L,R,N,D,M=n("lSNA"),P=n.n(M),j=n("Z/fP"),F=n("fV25");(o=i=i||{})[o.corner=0]="corner",o[o.colHeader=1]="colHeader",o[o.rowHeader=2]="rowHeader",o[o.viewport=3]="viewport",(s=a=a||{})[s.execute=0]="execute",s[s.undo=1]="undo",s[s.redo=2]="redo",(u=c=c||{})[u.Left=0]="Left",u[u.Center=1]="Center",u[u.Right=2]="Right",u[u.General=3]="General",(d=l=l||{})[d.underline=1]="underline",d[d.lineThrough=2]="lineThrough",d[d.overline=4]="overline",d[d.none=0]="none",(f=p=p||{})[f.Add=0]="Add",f[f.Set=1]="Set",f[f.Del=2]="Del",(g=h=h||{})[g.Add=0]="Add",g[g.Set=1]="Set",g[g.Del=2]="Del",(v=m=m||{})[v.all=0]="all",v[v.values=1]="values",v[v.formatting=2]="formatting",v[v.formulas=3]="formulas",(b=y=y||{})[b.noHeaders=0]="noHeaders",b[b.rowHeaders=1]="rowHeaders",b[b.columnHeaders=2]="columnHeaders",b[b.allHeaders=3]="allHeaders",(_=E=E||{})[_.value=1]="value",_[_.formula=2]="formula",_[_.comment=4]="comment",_[_.outline=8]="outline",_[_.sparkline=16]="sparkline",_[_.span=32]="span",_[_.style=64]="style",_[_.tag=128]="tag",_[_.bindingPath=256]="bindingPath",_[_.conditionalFormat=512]="conditionalFormat",_[_.rowColInfo=1024]="rowColInfo",_[_.dataValidation=2048]="dataValidation",_[_.all=4095]="all",(T=C=C||{})[T.auto=1]="auto",T[T.active=2]="active",T[T.inactive=4]="inactive",T[T.disabled=0]="disabled",(k=O=O||{})[k.cell=0]="cell",k[k.cellWithHeader=1]="cellWithHeader",(w=S=S||{})[w.setFormula=0]="setFormula",w[w.copyPaste=1]="copyPaste",w[w.dragFill=2]="dragFill",w[w.dragDrop=3]="dragDrop",w[w.changePartOfArrayFormula=4]="changePartOfArrayFormula",w[w.invalidSheetName=5]="invalidSheetName",w[w.cellLimitExceed=6]="cellLimitExceed",w[w.exportFile=7]="exportFile",w[w.editProtectedRange=8]="editProtectedRange",w[w.failToPasteModal=9]="failToPasteModal",(x=I=I||{}).ValidationError="ValidationError",x.CellClick="CellClick",x.EnterCell="EnterCell",x.LeaveCell="LeaveCell",x.ValueChanged="ValueChanged",x.ClearSelection="ClearSelection",x.CellClickInSelection="CellClickInSelection",x.CellClickOutSelection="CellClickOutSelection",x.SheetViewMouseDown="SheetViewMouseDown",x.CellPress="CellPress",x.CellDoubleClick="CellDoubleClick",x.TopPosChanged="TopPosChanged",x.TopRowChanged="TopRowChanged",x.LeftTopPosChanged="LeftTopPosChanged",x.LeftPosChanged="LeftPosChanged",x.LeftColumnChanged="LeftColumnChanged",x.InvalidOperation="InvalidOperation",x.RangeFiltering="RangeFiltering",x.RangeFiltered="RangeFiltered",x.TableFiltering="TableFiltering",x.TableFiltered="TableFiltered",x.RangeSorting="RangeSorting",x.RangeSorted="RangeSorted",x.ClipboardChanging="ClipboardChanging",x.ClipboardChanged="ClipboardChanged",x.ClipboardPasting="ClipboardPasting",x.ClipboardPasted="ClipboardPasted",x.ColumnWidthChanging="ColumnWidthChanging",x.ColumnWidthChanged="ColumnWidthChanged",x.RowHeightChanging="RowHeightChanging",x.RowHeightChanged="RowHeightChanged",x.DragDropBlock="DragDropBlock",x.DragDropBlockCompleted="DragDropBlockCompleted",x.DragFillBlock="DragFillBlock",x.DragFillBlockCompleted="DragFillBlockCompleted",x.EditStarting="EditStarting",x.EditStarted="EditStarted",x.StartEditFail="StartEditFail",x.EditChange="EditChange",x.EditEnding="EditEnding",x.EditEnd="EditEnd",x.EditEnded="EditEnded",x.SuspendEditing="SuspendEditing",x.ResumeEditing="ResumeEditing",x.RangeGroupStateChanging="RangeGroupStateChanging",x.RangeGroupStateChanged="RangeGroupStateChanged",x.SelectionChanging="SelectionChanging",x.SelectionChanged="SelectionChanged",x.SheetTabClick="SheetTabClick",x.SheetTabRepaint="SheetTabRepaint",x.NewSheetTab="NewSheetTab",x.ShowAllTabs="ShowAllTabs",x.ChangeFocusHolder="ChangeFocusHolder",x.SheetNameChanging="SheetNameChanging",x.SheetNameChanged="SheetNameChanged",x.UserZooming="UserZooming",x.UserFormulaEntered="UserFormulaEntered",x.CellChanged="CellChanged",x.ColumnChanged="ColumnChanged",x.RowChanged="RowChanged",x.ActiveSheetChanging="ActiveSheetChanging",x.ActiveSheetChanged="ActiveSheetChanged",x.CurrentSheetRemoved="CurrentSheetRemoved",x.SparklineChanged="@byted/byted-sparklineChanged",x.RangeChanged="RangeChanged",x.ButtonClicked="ButtonClicked",x.EditorStatusChanged="EditorStatusChanged",x.FloatingObjectChanged="FloatingObjectChanged",x.FloatingObjectSelectionChanged="FloatingObjectSelectionChanged",x.PictureChanged="PictureChanged",x.FloatingObjectRemoving="FloatingObjectRemoving",x.FloatingObjectRemoved="FloatingObjectRemoved",x.PictureSelectionChanged="PictureSelectionChanged",x.FloatingObjectLoaded="FloatingObjectLoaded",x.TouchToolStripOpening="TouchToolStripOpening",x.CloseOtherPanel="CloseOtherPanel",x.Resize="Resize",x.GuideBarToggling="GuideBarToggling",x.HistoryPanelToggling="HistoryPanelToggling",x.CommentHotkeyPress="CommentHotkeyPress",x.OpenCommentPanel="OpenCommentPanel",x.SetComments="SetComments",x.SlicerChanged="SlicerChanged",x.ResetBinding="ResetBinding",x.InitBinding="InitBinding",x.BeforeDragDrop="BeforeDragDrop",x.FormulatextboxActiveSheetChanging="FormulatextboxActiveSheetChanging",x.FormulatextboxActiveSheetChanged="FormulatextboxActiveSheetChanged",x.FormulatextboxEditStarted="FormulatextboxEditStarted",x.FormulatextboxEnterCell="FormulatextboxEnterCell",x.FormulatextboxEditEnded="FormulatextboxEditEnded",x.FormulatextboxRangeChanged="FormulatextboxRangeChanged",x.SetSpans="SetSpans",x.Sort="Sort",x.CommandExecuting="CommandExecuting",x.CommandExecuted="CommandExecuted",x.OptionChanged="OptionChanged",x.SegClick="SegClick",x.SegHover="SegHover",x.ShowDropdown="ShowDropdown",x.ShowFilter="ShowFilter",x.FilterStateChanged="FilterStateChanged",x.HideDropdown="HideDropdown",x.Focus="Focus",x.LoseFocus="LoseFocus",x.CutSheet="CutSheet",x.FillRange="FillRange",x.UndoSuccessfully="UndoSuccessfully",x.HoverCellChanged="HoverCellChanged",x.DistrictCursorChanged="DistrictCursorChanged",x.FrozenChanged="FrozenChanged",x.FCornerContextMenu="FCornerContextMenu",x.FRowHeaderContextMenu="FRowHeaderContextMenu",x.FColHeaderContextMenu="FColHeaderContextMenu",x.FCellContextMenu="FCellContextMenu",x.FCellHover="FCellHover",x.ActiveCellChanged="ActiveCellChanged",x.EmbedSheetRequireFullScreen="EmbedSheetRequireFullScreen",x.EmbedSheetFullScreenModeEntered="EmbedSheetFullScreenModeEntered",x.EmbedSheetScrollRowTo="EmbedSheetScrollRowTo",x.ScrollDoc="ScrollDoc",x.HideHeaderBubble="HideHeaderBubble",x.ShowImageUploader="ShowImageUploader",x.StartPaste="StartPaste",x.OpenImgFullScreen="OpenImgFullScreen",x.OpenFloatImgFullScreen="OpenFloatImgFullScreen",x.ToggleOptionalPasteIcon="ToggleOptionalPasteIcon",x.OnRebuild="OnRebuild",x.FormulaTextBoxTextChanged="FormulaTextBoxTextChanged",x.FormulaTextBoxCaretChanged="FormulaTextBoxCaretChanged",x.SheetPermissionChanged="SheetPermissionChanged",x.ProtectionChange="ProtectionChange",x.ModifyValues="ModifyValues",x.SegmentArrayChanged="SegmentArrayChanged",x.AddSheet="AddSheet",x.RemoveSheet="RemoveSheet",x.SuspendStatusCollect="SuspendStatusCollect",x.ResumeStatusCollect="ResumeStatusCollect",x.FormatPainting="FormatPainting",x.ShowCellCommentBubble="ShowCellCommentBubble",x.HideCellCommentBubble="HideCellCommentBubble",x.LaunchCommentPanel="LaunchCommentPanel",x.AddComment="AddComment",x.PullSheetCommentSucc="PullSheetCommentSucc",x.UpdateActiveCommentId="UpdateActiveCommentId",x.RowDataApplied="RowDataApplied",x.SheetPageLoaded="SheetPageLoaded",x.SheetPageUnmount="SheetPageUnmount",x.HeaderMenuClick="HeaderMenuClick",x.FABLoaded="FABLoaded",x.ShowInstallPasteExtensionModal="showInstallPasteExtensionModal",x.ShowInstallPasteExtensionToast="showInstallPasteExtensionToast",x.SwitchBlockTab="SwitchBlockTab",x.EmbedSheetOffsetLeftChanged="EmbedSheetOffsetLeftChanged",x.onTableLoaded="onTableLoaded",x.onBatchUpdateBlockComment="onBatchUpdateBlockComment",x.onStartNewComment="onStartNewComment",x.AddRowColExceedCellLimit="addRowColExceedCellLimit",x.BitableBlockRejectCommit="BitableBlockRejectCommit",x.ConditionalFormatUpdate="ConditionalFormatUpdate",x.ActiveFloatObjectChange="ActiveFloatObjectChange",x.ShowFloatMenu="ShowFloatMenu",x.HideFloatMenu="HideFloatMenu",x.HideCellContextMenu="HideCellContextMenu",x.ShowReminderTooltip="ShowReminderTooltip",x.HideReminderTooltip="HideReminderTooltip",x.ResizeRowOrCol="ResizeRowOrCol",x.modifyWhenModelLocked="modifyWhenModelLocked",x.modelLockModifyError="modelLockModifyError",x.FocusDropdownListEditor="FocusDropdownListEditor",x.BeforeShortcutKeyExecuted="BeforeShortcutKeyExecuted",(R=L=L||{})[R.dragDrop=0]="dragDrop",R[R.dragFill=1]="dragFill",R[R.clear=2]="clear",R[R.paste=3]="paste",R[R.sort=4]="sort",R[R.setArrayFormula=5]="setArrayFormula",R[R.evaluateFormula=6]="evaluateFormula",(D=N=N||{})[D.Up=0]="Up",D[D.Left=1]="Left",D[D.Right=2]="Right",D[D.Down=3]="Down";var B,U,H,z,V,K,W,Y,q,Z,X,Q,J="10pt",$=F.a.split(",").map(function(e){return e.trim()}).map(function(e){return-1!==e.indexOf(" ")?'"'+e+'"':e}).join(", "),ee=function(){return B=B||(j.a.getSheetCellLimitNum()||5e5)},te=function(){return ee().toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},ne="".concat(J,"/1.5 ").concat($),re=("9pt ".concat($),200),ie="COMMAND";(H=U=U||{}).SELECT_ROW="selectRow",H.SELECT_COLUMN="selectColumn",H.BOLD="bold",H.UNDERLINE="underline",H.LINE_THROUGH="lineThrough",H.ITALIC="italic",H.H_ALIGN_LEFT="hAlign.left",H.H_ALIGN_CENTER="hAlign.center",H.H_ALIGN_RIGHT="hAlign.right",H.HORIZONTAL_FILL_BY_SHORTCUT="horizontalFillByShortcut",H.VERTICAL_FILL_BY_SHORTCUT="verticalFillByShortcut",H.HORIZONTAL_FILL="horizontalFill",H.VERTICAL_FILL="verticalFill",H.PREVIOUS_SHEET="previousSheet",H.NEXT_SHEET="nextSheet",H.MOVE_HEAD="moveHead",H.MOVE_END="moveEnd",H.MOVE_ACTIVE="moveActive",H.FIND="find",H.SELECT_ALL="selectAll",H.PASTE_VALUES_ONLY="pasteValuesOnly",H.PASTE_FORMATS_ONLY="pasteFormatsOnly",H.NAVIGATION_HOME_2="navigationHome2",H.NAVIGATION_END_2="navigationEnd2",H.NAVIGATION_TOP="navigationTop",H.NAVIGATION_BOTTOM="navigationBottom",H.NAVIGATION_DOWN="navigationDown",H.MOVE_TO_NEXT_CELL="moveToNextCell",H.PREVENT_SAVE="preventSave",H.UNDO="undo",H.REDO="redo",H.PASTE="paste",H.REDO_2="redo2",H.COPY="copy",H.CUT="cut",H.SET_COMMENTS="setComments",H.COMMENT="comment",H.OPEN_COMMENT="openComment",H.SHOW_ALL_TABS="showAllTabs",H.OPEN_CONTEXT_MENU="openContextMenu",H.OPEN_FILTER_MENU="openFilterMenu",H.OPEN_HYPER_LINK="openHyperLink",H.OPEN_GUIDE_BAR="openGuideBar",H.TOGGLE_HISTORY_PANEL="toggleHistoryPanel",H.SET_RANGE_VALUE="setRangeValue",H.SET_RANGE_STYLE="setRangeStyle",H.SET_STYLE_FONT="setStyleFont",H.SET_FORMATTER="setFormatter",H.SET_TEXT_DECORATION="setTextDecoration",H.MERGE_CELLS="mergeCells",H.SET_ROW_COL_CHANGE="setRowColChange",H.SET_ROW_COL_VISIBLE="setRowColVisible",H.DO_CLEAR="doClear",H.CLEAR_VALUES_STYLE="clearValuesAndStyles",H.SORT_RANGE="sortRange",H.AUTO_FIT_ROW="autoFitRow",H.AUTO_FIT_COLUMN="autoFitColumn",H.ADD_SHEET="addSheet",H.MOVE_SHEET="moveSheet",H.DELETE_SHEET="deleteSheet",H.RENAME_SHEET="renameSheet",H.COPY_SHEET="copySheet",H.RESIZE_ROW="resizeRow",H.RESIZE_COLUMN="resizeColumn",H.EDIT_CELL="editCell",H.DRAG_DROP="dragDrop",H.FILL="fill",H.LINK="link",H.CLIPBOARD_PASTE="clipboardPaste",H.CLEAR_VALUES="clearValues",H.SET_FILTER="setFilter",H.FREEZE_SHEET="freezeSheet",H.FORMAT_PAINTER="formatPainter",H.FORMAT_PAINTING="formatPainting",H.REPLACE="replace",H.SET_DROPDOWN="setDropdown",H.SET_DROPDOWN_VALID="setDropdownValid",H.CONVERT_LINK="convertLink",H.LOCK_ROW="lockRow",H.UNLOCK_ROW="unlockRow",H.LOCK_COL="lockCol",H.UNLOCK_COL="unlockCol",H.LOCK_SHEET="lockSheet",H.UNLOCK_SHEET="unlockSheet",H.MODIFY_VALUES="modifyValues",H.UPGRADE_SNAPSHOT="upgradeSnapshot",H.SET_CONDITIONAL_FORMAT="setConditionalFormat",H.INCREASE_FONT_SIZE="increaseFontSize",H.DECREASE_FONT_SIZE="decreaseFontSize",H.INSERT_DATE="insertDate",H.INSERT_TIME="insertTime",H.QUICK_SUM="quickSum",H.TO_DECIMAL="toDecimal",H.TO_TIME="toTime",H.TO_DATE="toDate",H.TO_MONEY="toMoney",H.TO_PERCENTAGE="toPercentage",H.TO_SCIENTIFIC="toScientific",H.TOP_BORDER="topBorder",H.RIGHT_BORDER="rightBorder",H.BOTTOM_BORDER="bottomBorder",H.LEFT_BORDER="leftBorder",H.CANCEL_BORDER="cancelBorder",H.NEW_SHEET_TAB="newSheetTab",H.AUTO_FILL_RANGE="autoFillRange",H.FILL_RANGE="fillRange",H.SORT="sort",H.FILTER="filter",H.SET_CHART="setChart",H.SET_FLOAT_IMAGE="setFloatImage",H.CLICK_COPY="clickCopy",H.CLICK_CUT="clickCut",H.CLICK_PASTE="clickPaste",H.COPY_CELL_POSITION="copyCellPosition",H.ADD_BLOCK="addBlock",H.DEL_BLOCK="delBlock",H.COPY_BLOCK="copyBlock",H.ADD_ROW_OR_COL_AHEAD="addRowOrColAhead",H.ADD_ROW_OR_COL_BEHIND="addRowOrColBehind",H.PREV_ADD_ROW_OR_COL_BEHIND="prevAddRowOrColBehind",H.DEL_ROW_OR_COL="delRowOrCol",H.HIDE_ROW="hideRow",H.HIDE_COL="hideCol",H.UNHIDE_ROW="unhideRow",H.UNHIDE_COL="unhideCOl",H.PASTE_FORMAT="pasteFormat",H.TOGGLE_FORMULA_DISPLAY="toggleFormulaDisplay",H.TOOGLE_FORMULA_LIST="toogleFormulaList",H.DRAG_DROP_ROW_COL="dragDropRowCol",H.MOVE_RANGE="moveRange",H.SET_REMINDER="setReminder",H.ADD_REMINDER="addReminder",H.MODIFY_TO_STRING="modifyToString",H.SET_VALUE_BY_DATA_VALIDATION="setValueByDataValidation",H.SET_MULTIPLE_VALUES_BY_RANGE="setMultipleValuesByRange",H.CLEAR="clear",H.ADD_VIEW="add_\bview",H.DEL_VIEW="del_view",H.SET_VIEW="set_view",H.ENTERY_VIEW="enter_view",H.EXIT_VIEW="exit_view",H.SET_FILTER_VIEW="set_filter_view",H.SET_DATA_VALIDATION="setDataValidation",H.SET_LIST_DATA_VALIDATION="setListDataValidation",H.INSERT_CHECKBOXS="InsertCheckboxs",(z=z||{}).CONTEXT_MENU="CONTEXT_MENU",(K=V=V||{}).CSV="CSV",K.XLSX="XLSX",(Y=W=W||{})[Y.USER=0]="USER",Y[Y.DOC=1]="DOC",Y[Y.FOLDER=2]="FOLDER",Y[Y.SHEET=3]="SHEET",Y[Y.SHEET_DOC=4]="SHEET_DOC",Y[Y.CHAT=5]="CHAT",Y[Y.BITABLE=8]="BITABLE",Y[Y.MINDNOTE=11]="MINDNOTE",Y[Y.FILE=12]="FILE",Y[Y.SLIDE=15]="SLIDE",Y[Y.WIKI=16]="WIKI",(Z=q=q||{})[Z.DOC=1]="DOC",Z[Z.SHEET=3]="SHEET",Z[Z.BITABLE=8]="BITABLE",Z[Z.MINDNOTE=11]="MINDNOTE",Z[Z.BOX=12]="BOX",Z[Z.SLIDE=15]="SLIDE",Z[Z.WIKI=16]="WIKI",(Q=X=X||{})[Q.DOC=2]="DOC",Q[Q.SHEET=3]="SHEET",Q[Q.BITABLE=8]="BITABLE",Q[Q.MINDNOTE=11]="MINDNOTE",Q[Q.BOX=12]="BOX",Q[Q.SLIDE=15]="SLIDE",Q[Q.WIKI=16]="WIKI";var oe,ae,se,ce,ue,le;r={},P()(r,q.DOC,X.DOC),P()(r,q.SHEET,X.SHEET),P()(r,q.BITABLE,X.BITABLE),P()(r,q.MINDNOTE,X.MINDNOTE),P()(r,q.BOX,X.BOX),P()(r,q.SLIDE,X.SLIDE),P()(r,q.WIKI,X.WIKI);(ae=oe=oe||{}).FULL_BORDER="fullborder",ae.NO_BORDER="noborder",ae.OUTER_BORDER="outerborder",ae.INNER_BORDER="innerborder",ae.LEFT_BORDER="leftborder",ae.RIGHT_BORDER="rightborder",ae.TOP_BORDER="topborder",ae.BOTTOM_BORDER="bottomborder",(ce=se=se||{})[ce.RANGE=0]="RANGE",ce[ce.ROW=1]="ROW",ce[ce.COL=2]="COL",ce[ce.SHEET=3]="SHEET",(le=ue=ue||{})[le.NORMAL=0]="NORMAL",le[le.LARK=1]="LARK",le[le.LARK_CHAT_GROUP=2]="LARK_CHAT_GROUP",le[le.PUBLIC=4]="PUBLIC",le[le.SHARE_FOLDER=5]="SHARE_FOLDER",le[le.All=6]="All";var de,pe,fe,he,ge,me,ve,ye="sheet-protection-public-id";(pe=de=de||{})[pe.Normal=1]="Normal",pe[pe.Hidden=3]="Hidden",(he=fe=fe||{}).CLIPBOARD_PASTE="clipboard_paste",he.GET_PASTE_INFO="get_paste_info",he.CLIPBOARD_COPY="clipboard_copy",he.SERIALIZE_COPY_DATA="serialize_copy_data",he.ACTIVE_CELL_CHANGE="active_cell_change",he.ENTER_EDIT="enter_edit",(me=ge=ge||{}).MENTION_CLICK="MENTION_CLICK",me.ACTIVE_COMMENT_CHANGED="ACTIVE_COMMENT_CHANGED",me.CHART_SET_DEFAULT_SELECTION="CHART_SET_DEFAULT_SELECTION",me.ADD_ROW="ADD_ROW",me.ADD_COL="ADD_COL",me.DEL_ROW="DEL_ROW",me.DEL_COL="DEL_COL",(ve=ve||{}).SET_MENTION_ID="SET_MENTION_ID";var be,Ee,_e,Ae,Ce,Te,Oe=[9,10,11,12,14,18,24,30,36];(Ee=be=be||{})[Ee.NORMAL=0]="NORMAL",Ee[Ee.LARK_CHAT=1]="LARK_CHAT",Ee[Ee.IMPORT=2]="IMPORT",Ee[Ee.GOOGLE_IMPORT=3]="GOOGLE_IMPORT",Ee[Ee.DRIVE_IMPORT=4]="DRIVE_IMPORT",Ee[Ee.LARK_IMPORT=5]="LARK_IMPORT",Ee[Ee.MEETING=6]="MEETING",Ee[Ee.BEAR_COPY=7]="BEAR_COPY",Ee[Ee.TEMPLATE=8]="TEMPLATE",Ee[Ee.GROUP_ANNOUNCEMENT=9]="GROUP_ANNOUNCEMENT",Ee[Ee.SHEET_OPEN_API=10]="SHEET_OPEN_API",Ee[Ee.README_DOC=11]="README_DOC",Ee[Ee.COPYLINK_CLONE=12]="COPYLINK_CLONE",Ee[Ee.COPYLINK_NEW=13]="COPYLINK_NEW",Ee[Ee.LARK_CREATEDOC=14]="LARK_CREATEDOC",Ee[Ee.LARK_CREATE_CALENDER=15]="LARK_CREATE_CALENDER",Ee[Ee.SCAN=16]="SCAN",(Ae=_e=_e||{}).PASTING="pasting",Ae.PASTE_CANCELABLE="paste_cancelable",Ae.CHART_LOADING="chart_loading",(Te=Ce=Ce||{}).ALONE_SHEET="AloneSheet",Te.EMBED_SHEET="EmbedSheet",Te.EXCEL="Excel",Te.WORD="Word",Te.GOOGLE_SHEET="GoogleSheet",Te.SHIMO_SHEET="ShimoSheet",Te.SHIMO_Doc="ShimoDoc",Te.TIM_SHEET="TimSheet",Te.TIM_DOC="TimDoc",Te.OTHER="Other";var ke,Se,we,Ie,xe="sheet",Le=3;(Se=ke=ke||{}).REMOTE="sheets_history",Se.LOCAL="local_record",Se.DOC_MIXED="doc_mixed_history",(Ie=we=we||{})[Ie.V1=1]="V1";var Re,Ne="HEAD";(Re=Re||{}).Formulabar="Formulabar"},ERuW:function(e,t,n){var a=n("JbSc"),s=Object.prototype.hasOwnProperty;function r(e){for(var t=e.name+"",n=a[t],r=s.call(a,t)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==e)return i.name}return t}e.exports=r},EVdn:function(_n,An,e){var Cn;!function(e,t){"use strict";"object"==typeof _n.exports?_n.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(T,e){"use strict";var t=[],r=Object.getPrototypeOf,s=t.slice,g=t.flat?function(e){return t.flat.call(e)}:function(e){return t.concat.apply([],e)},c=t.push,i=t.indexOf,n={},o=n.toString,m=n.hasOwnProperty,a=m.toString,u=a.call(Object),v={},y=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType},b=function(e){return null!=e&&e===e.window},O=T.document,l={type:!0,src:!0,nonce:!0,noModule:!0};function E(e,t,n){var r,i,o=(n=n||O).createElement("script");if(o.text=e,t)for(r in l)(i=t[r]||t.getAttribute&&t.getAttribute(r))&&o.setAttribute(r,i);n.head.appendChild(o).parentNode.removeChild(o)}function _(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?n[o.call(e)]||"object":typeof e}var d="3.5.0",k=function(e,t){return new k.fn.init(e,t)};function p(e){var t=!!e&&"length"in e&&e.length,n=_(e);return!y(e)&&!b(e)&&("array"===n||0===t||"number"==typeof t&&0<t&&t-1 in e)}k.fn=k.prototype={jquery:d,constructor:k,length:0,toArray:function(){return s.call(this)},get:function(e){return null==e?s.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=k.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return k.each(this,e)},map:function(n){return this.pushStack(k.map(this,function(e,t){return n.call(e,t,e)}))},slice:function(){return this.pushStack(s.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(k.grep(this,function(e,t){return(t+1)%2}))},odd:function(){return this.pushStack(k.grep(this,function(e,t){return t%2}))},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(0<=n&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:c,sort:t.sort,splice:t.splice},k.extend=k.fn.extend=function(){var e,t,n,r,i,o,a=arguments[0]||{},s=1,c=arguments.length,u=!1;for("boolean"==typeof a&&(u=a,a=arguments[s]||{},s++),"object"==typeof a||y(a)||(a={}),s===c&&(a=this,s--);s<c;s++)if(null!=(e=arguments[s]))for(t in e)r=e[t],"__proto__"!==t&&a!==r&&(u&&r&&(k.isPlainObject(r)||(i=Array.isArray(r)))?(n=a[t],o=i&&!Array.isArray(n)?[]:i||k.isPlainObject(n)?n:{},i=!1,a[t]=k.extend(u,o,r)):void 0!==r&&(a[t]=r));return a},k.extend({expando:"jQuery"+(d+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==o.call(e))&&(!(t=r(e))||"function"==typeof(n=m.call(t,"constructor")&&t.constructor)&&a.call(n)===u)},isEmptyObject:function(e){for(var t in e)return!1;return!0},globalEval:function(e,t,n){E(e,{nonce:t&&t.nonce},n)},each:function(e,t){var n,r=0;if(p(e))for(n=e.length;r<n&&!1!==t.call(e[r],r,e[r]);r++);else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},makeArray:function(e,t){var n=t||[];return null!=e&&(p(Object(e))?k.merge(n,"string"==typeof e?[e]:e):c.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:i.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;r<n;r++)e[i++]=t[r];return e.length=i,e},grep:function(e,t,n){for(var r=[],i=0,o=e.length,a=!n;i<o;i++)!t(e[i],i)!==a&&r.push(e[i]);return r},map:function(e,t,n){var r,i,o=0,a=[];if(p(e))for(r=e.length;o<r;o++)null!=(i=t(e[o],o,n))&&a.push(i);else for(o in e)null!=(i=t(e[o],o,n))&&a.push(i);return g(a)},guid:1,support:v}),"function"==typeof Symbol&&(k.fn[Symbol.iterator]=t[Symbol.iterator]),k.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){n["[object "+t+"]"]=t.toLowerCase()});var f=function(n){var e,f,E,o,i,h,d,g,_,c,u,C,T,a,O,m,s,l,v,k="sizzle"+ +new Date,p=n.document,S=0,r=0,y=le(),b=le(),w=le(),I=le(),x=function(e,t){return e===t&&(u=!0),0},L={}.hasOwnProperty,t=[],R=t.pop,N=t.push,D=t.push,M=t.slice,P=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},j="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",F="[\\x20\\t\\r\\n\\f]",B="(?:\\\\[\\da-fA-F]{1,6}"+F+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",U="\\["+F+"*("+B+")(?:"+F+"*([*^$|!~]?=)"+F+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+B+"))|)"+F+"*\\]",H=":("+B+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+U+")*)|.*)\\)|)",z=new RegExp(F+"+","g"),V=new RegExp("^"+F+"+|((?:^|[^\\\\])(?:\\\\.)*)"+F+"+$","g"),K=new RegExp("^"+F+"*,"+F+"*"),W=new RegExp("^"+F+"*([>+~]|"+F+")"+F+"*"),Y=new RegExp(F+"|>"),q=new RegExp(H),Z=new RegExp("^"+B+"$"),X={ID:new RegExp("^#("+B+")"),CLASS:new RegExp("^\\.("+B+")"),TAG:new RegExp("^("+B+"|[*])"),ATTR:new RegExp("^"+U),PSEUDO:new RegExp("^"+H),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+F+"*(even|odd|(([+-]|)(\\d*)n|)"+F+"*(?:([+-]|)"+F+"*(\\d+)|))"+F+"*\\)|)","i"),bool:new RegExp("^(?:"+j+")$","i"),needsContext:new RegExp("^"+F+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+F+"*((?:-\\d)?\\d*)"+F+"*\\)|)(?=[^-]|$)","i")},Q=/HTML$/i,J=/^(?:input|select|textarea|button)$/i,$=/^h\d$/i,ee=/^[^{]+\{\s*\[native \w/,te=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ne=/[+~]/,re=new RegExp("\\\\[\\da-fA-F]{1,6}"+F+"?|\\\\([^\\r\\n\\f])","g"),ie=function(e,t){var n="0x"+e.slice(1)-65536;return t||(n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320))},oe=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ae=function(e,t){return t?"\0"===e?"":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},se=function(){C()},ce=Ae(function(e){return!0===e.disabled&&"fieldset"===e.nodeName.toLowerCase()},{dir:"parentNode",next:"legend"});try{D.apply(t=M.call(p.childNodes),p.childNodes),t[p.childNodes.length].nodeType}catch(e){D={apply:t.length?function(e,t){N.apply(e,M.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}function ue(t,e,n,r){var i,o,a,s,c,u,l,d=e&&e.ownerDocument,p=e?e.nodeType:9;if(n=n||[],"string"!=typeof t||!t||1!==p&&9!==p&&11!==p)return n;if(!r&&(C(e),e=e||T,O)){if(11!==p&&(c=te.exec(t)))if(i=c[1]){if(9===p){if(!(a=e.getElementById(i)))return n;if(a.id===i)return n.push(a),n}else if(d&&(a=d.getElementById(i))&&v(e,a)&&a.id===i)return n.push(a),n}else{if(c[2])return D.apply(n,e.getElementsByTagName(t)),n;if((i=c[3])&&f.getElementsByClassName&&e.getElementsByClassName)return D.apply(n,e.getElementsByClassName(i)),n}if(f.qsa&&!I[t+" "]&&(!m||!m.test(t))&&(1!==p||"object"!==e.nodeName.toLowerCase())){if(l=t,d=e,1===p&&(Y.test(t)||W.test(t))){for((d=ne.test(t)&&be(e.parentNode)||e)===e&&f.scope||((s=e.getAttribute("id"))?s=s.replace(oe,ae):e.setAttribute("id",s=k)),o=(u=h(t)).length;o--;)u[o]=(s?"#"+s:":scope")+" "+_e(u[o]);l=u.join(",")}try{return D.apply(n,d.querySelectorAll(l)),n}catch(e){I(t,!0)}finally{s===k&&e.removeAttribute("id")}}}return g(t.replace(V,"$1"),e,n,r)}function le(){var n=[];function r(e,t){return n.push(e+" ")>E.cacheLength&&delete r[n.shift()],r[e+" "]=t}return r}function de(e){return e[k]=!0,e}function pe(e){var t=T.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function fe(e,t){for(var n=e.split("|"),r=n.length;r--;)E.attrHandle[n[r]]=t}function he(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function ge(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function me(n){return function(e){var t=e.nodeName.toLowerCase();return("input"===t||"button"===t)&&e.type===n}}function ve(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&ce(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function ye(a){return de(function(o){return o=+o,de(function(e,t){for(var n,r=a([],e.length,o),i=r.length;i--;)e[n=r[i]]&&(e[n]=!(t[n]=e[n]))})})}function be(e){return e&&void 0!==e.getElementsByTagName&&e}for(e in f=ue.support={},i=ue.isXML=function(e){var t=e.namespaceURI,n=(e.ownerDocument||e).documentElement;return!Q.test(t||n&&n.nodeName||"HTML")},C=ue.setDocument=function(e){var t,n,r=e?e.ownerDocument||e:p;return r!=T&&9===r.nodeType&&r.documentElement&&(a=(T=r).documentElement,O=!i(T),p!=T&&(n=T.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",se,!1):n.attachEvent&&n.attachEvent("onunload",se)),f.scope=pe(function(e){return a.appendChild(e).appendChild(T.createElement("div")),void 0!==e.querySelectorAll&&!e.querySelectorAll(":scope fieldset div").length}),f.attributes=pe(function(e){return e.className="i",!e.getAttribute("className")}),f.getElementsByTagName=pe(function(e){return e.appendChild(T.createComment("")),!e.getElementsByTagName("*").length}),f.getElementsByClassName=ee.test(T.getElementsByClassName),f.getById=pe(function(e){return a.appendChild(e).id=k,!T.getElementsByName||!T.getElementsByName(k).length}),f.getById?(E.filter.ID=function(e){var t=e.replace(re,ie);return function(e){return e.getAttribute("id")===t}},E.find.ID=function(e,t){if(void 0!==t.getElementById&&O){var n=t.getElementById(e);return n?[n]:[]}}):(E.filter.ID=function(e){var n=e.replace(re,ie);return function(e){var t=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return t&&t.value===n}},E.find.ID=function(e,t){if(void 0!==t.getElementById&&O){var n,r,i,o=t.getElementById(e);if(o){if((n=o.getAttributeNode("id"))&&n.value===e)return[o];for(i=t.getElementsByName(e),r=0;o=i[r++];)if((n=o.getAttributeNode("id"))&&n.value===e)return[o]}return[]}}),E.find.TAG=f.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):f.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"!==e)return o;for(;n=o[i++];)1===n.nodeType&&r.push(n);return r},E.find.CLASS=f.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&O)return t.getElementsByClassName(e)},s=[],m=[],(f.qsa=ee.test(T.querySelectorAll))&&(pe(function(e){var t;a.appendChild(e).innerHTML="<a id='"+k+"'></a><select id='"+k+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&m.push("[*^$]="+F+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||m.push("\\["+F+"*(?:value|"+j+")"),e.querySelectorAll("[id~="+k+"-]").length||m.push("~="),(t=T.createElement("input")).setAttribute("name",""),e.appendChild(t),e.querySelectorAll("[name='']").length||m.push("\\["+F+"*name"+F+"*="+F+"*(?:''|\"\")"),e.querySelectorAll(":checked").length||m.push(":checked"),e.querySelectorAll("a#"+k+"+*").length||m.push(".#.+[+~]"),e.querySelectorAll("\\\f"),m.push("[\\r\\n\\f]")}),pe(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=T.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&m.push("name"+F+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&m.push(":enabled",":disabled"),a.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&m.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),m.push(",.*:")})),(f.matchesSelector=ee.test(l=a.matches||a.webkitMatchesSelector||a.mozMatchesSelector||a.oMatchesSelector||a.msMatchesSelector))&&pe(function(e){f.disconnectedMatch=l.call(e,"*"),l.call(e,"[s!='']:x"),s.push("!=",H)}),m=m.length&&new RegExp(m.join("|")),s=s.length&&new RegExp(s.join("|")),t=ee.test(a.compareDocumentPosition),v=t||ee.test(a.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},x=t?function(e,t){if(e===t)return u=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(1&(n=(e.ownerDocument||e)==(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!f.sortDetached&&t.compareDocumentPosition(e)===n?e==T||e.ownerDocument==p&&v(p,e)?-1:t==T||t.ownerDocument==p&&v(p,t)?1:c?P(c,e)-P(c,t):0:4&n?-1:1)}:function(e,t){if(e===t)return u=!0,0;var n,r=0,i=e.parentNode,o=t.parentNode,a=[e],s=[t];if(!i||!o)return e==T?-1:t==T?1:i?-1:o?1:c?P(c,e)-P(c,t):0;if(i===o)return he(e,t);for(n=e;n=n.parentNode;)a.unshift(n);for(n=t;n=n.parentNode;)s.unshift(n);for(;a[r]===s[r];)r++;return r?he(a[r],s[r]):a[r]==p?-1:s[r]==p?1:0}),T},ue.matches=function(e,t){return ue(e,null,null,t)},ue.matchesSelector=function(e,t){if(C(e),f.matchesSelector&&O&&!I[t+" "]&&(!s||!s.test(t))&&(!m||!m.test(t)))try{var n=l.call(e,t);if(n||f.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){I(t,!0)}return 0<ue(t,T,null,[e]).length},ue.contains=function(e,t){return(e.ownerDocument||e)!=T&&C(e),v(e,t)},ue.attr=function(e,t){(e.ownerDocument||e)!=T&&C(e);var n=E.attrHandle[t.toLowerCase()],r=n&&L.call(E.attrHandle,t.toLowerCase())?n(e,t,!O):void 0;return void 0!==r?r:f.attributes||!O?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},ue.escape=function(e){return(e+"").replace(oe,ae)},ue.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},ue.uniqueSort=function(e){var t,n=[],r=0,i=0;if(u=!f.detectDuplicates,c=!f.sortStable&&e.slice(0),e.sort(x),u){for(;t=e[i++];)t===e[i]&&(r=n.push(i));for(;r--;)e.splice(n[r],1)}return c=null,e},o=ue.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=o(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[r++];)n+=o(t);return n},(E=ue.selectors={cacheLength:50,createPseudo:de,match:X,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(re,ie),e[3]=(e[3]||e[4]||e[5]||"").replace(re,ie),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||ue.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&ue.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return X.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&q.test(n)&&(t=h(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(re,ie).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=y[e+" "];return t||(t=new RegExp("(^|"+F+")"+e+"("+F+"|$)"))&&y(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(n,r,i){return function(e){var t=ue.attr(e,n);return null==t?"!="===r:!r||(t+="","="===r?t===i:"!="===r?t!==i:"^="===r?i&&0===t.indexOf(i):"*="===r?i&&-1<t.indexOf(i):"$="===r?i&&t.slice(-i.length)===i:"~="===r?-1<(" "+t.replace(z," ")+" ").indexOf(i):"|="===r&&(t===i||t.slice(0,i.length+1)===i+"-"))}},CHILD:function(h,e,t,g,m){var v="nth"!==h.slice(0,3),y="last"!==h.slice(-4),b="of-type"===e;return 1===g&&0===m?function(e){return!!e.parentNode}:function(e,t,n){var r,i,o,a,s,c,u=v!==y?"nextSibling":"previousSibling",l=e.parentNode,d=b&&e.nodeName.toLowerCase(),p=!n&&!b,f=!1;if(l){if(v){for(;u;){for(a=e;a=a[u];)if(b?a.nodeName.toLowerCase()===d:1===a.nodeType)return!1;c=u="only"===h&&!c&&"nextSibling"}return!0}if(c=[y?l.firstChild:l.lastChild],y&&p){for(f=(s=(r=(i=(o=(a=l)[k]||(a[k]={}))[a.uniqueID]||(o[a.uniqueID]={}))[h]||[])[0]===S&&r[1])&&r[2],a=s&&l.childNodes[s];a=++s&&a&&a[u]||(f=s=0)||c.pop();)if(1===a.nodeType&&++f&&a===e){i[h]=[S,s,f];break}}else if(p&&(f=s=(r=(i=(o=(a=e)[k]||(a[k]={}))[a.uniqueID]||(o[a.uniqueID]={}))[h]||[])[0]===S&&r[1]),!1===f)for(;(a=++s&&a&&a[u]||(f=s=0)||c.pop())&&((b?a.nodeName.toLowerCase()!==d:1!==a.nodeType)||!++f||(p&&((i=(o=a[k]||(a[k]={}))[a.uniqueID]||(o[a.uniqueID]={}))[h]=[S,f]),a!==e)););return(f-=m)===g||f%g==0&&0<=f/g}}},PSEUDO:function(e,o){var t,a=E.pseudos[e]||E.setFilters[e.toLowerCase()]||ue.error("unsupported pseudo: "+e);return a[k]?a(o):1<a.length?(t=[e,e,"",o],E.setFilters.hasOwnProperty(e.toLowerCase())?de(function(e,t){for(var n,r=a(e,o),i=r.length;i--;)e[n=P(e,r[i])]=!(t[n]=r[i])}):function(e){return a(e,0,t)}):a}},pseudos:{not:de(function(e){var r=[],i=[],s=d(e.replace(V,"$1"));return s[k]?de(function(e,t,n,r){for(var i,o=s(e,null,r,[]),a=e.length;a--;)(i=o[a])&&(e[a]=!(t[a]=i))}):function(e,t,n){return r[0]=e,s(r,null,n,i),r[0]=null,!i.pop()}}),has:de(function(t){return function(e){return 0<ue(t,e).length}}),contains:de(function(t){return t=t.replace(re,ie),function(e){return-1<(e.textContent||o(e)).indexOf(t)}}),lang:de(function(n){return Z.test(n||"")||ue.error("unsupported lang: "+n),n=n.replace(re,ie).toLowerCase(),function(e){var t;do{if(t=O?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(t=t.toLowerCase())===n||0===t.indexOf(n+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var t=n.location&&n.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===a},focus:function(e){return e===T.activeElement&&(!T.hasFocus||T.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:ve(!1),disabled:ve(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!E.pseudos.empty(e)},header:function(e){return $.test(e.nodeName)},input:function(e){return J.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:ye(function(){return[0]}),last:ye(function(e,t){return[t-1]}),eq:ye(function(e,t,n){return[n<0?n+t:n]}),even:ye(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:ye(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:ye(function(e,t,n){for(var r=n<0?n+t:t<n?t:n;0<=--r;)e.push(r);return e}),gt:ye(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}}).pseudos.nth=E.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})E.pseudos[e]=ge(e);for(e in{submit:!0,reset:!0})E.pseudos[e]=me(e);function Ee(){}function _e(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function Ae(s,e,t){var c=e.dir,u=e.next,l=u||c,d=t&&"parentNode"===l,p=r++;return e.first?function(e,t,n){for(;e=e[c];)if(1===e.nodeType||d)return s(e,t,n);return!1}:function(e,t,n){var r,i,o,a=[S,p];if(n){for(;e=e[c];)if((1===e.nodeType||d)&&s(e,t,n))return!0}else for(;e=e[c];)if(1===e.nodeType||d)if(i=(o=e[k]||(e[k]={}))[e.uniqueID]||(o[e.uniqueID]={}),u&&u===e.nodeName.toLowerCase())e=e[c]||e;else{if((r=i[l])&&r[0]===S&&r[1]===p)return a[2]=r[2];if((i[l]=a)[2]=s(e,t,n))return!0}return!1}}function Ce(i){return 1<i.length?function(e,t,n){for(var r=i.length;r--;)if(!i[r](e,t,n))return!1;return!0}:i[0]}function Te(e,t,n){for(var r=0,i=t.length;r<i;r++)ue(e,t[r],n);return n}function Oe(e,t,n,r,i){for(var o,a=[],s=0,c=e.length,u=null!=t;s<c;s++)(o=e[s])&&(n&&!n(o,r,i)||(a.push(o),u&&t.push(s)));return a}function ke(f,h,g,m,v,e){return m&&!m[k]&&(m=ke(m)),v&&!v[k]&&(v=ke(v,e)),de(function(e,t,n,r){var i,o,a,s=[],c=[],u=t.length,l=e||Te(h||"*",n.nodeType?[n]:n,[]),d=!f||!e&&h?l:Oe(l,s,f,n,r),p=g?v||(e?f:u||m)?[]:t:d;if(g&&g(d,p,n,r),m)for(i=Oe(p,c),m(i,[],n,r),o=i.length;o--;)(a=i[o])&&(p[c[o]]=!(d[c[o]]=a));if(e){if(v||f){if(v){for(i=[],o=p.length;o--;)(a=p[o])&&i.push(d[o]=a);v(null,p=[],i,r)}for(o=p.length;o--;)(a=p[o])&&-1<(i=v?P(e,a):s[o])&&(e[i]=!(t[i]=a))}}else p=Oe(p===t?p.splice(u,p.length):p),v?v(null,t,p,r):D.apply(t,p)})}function Se(e){for(var i,t,n,r=e.length,o=E.relative[e[0].type],a=o||E.relative[" "],s=o?1:0,c=Ae(function(e){return e===i},a,!0),u=Ae(function(e){return-1<P(i,e)},a,!0),l=[function(e,t,n){var r=!o&&(n||t!==_)||((i=t).nodeType?c:u)(e,t,n);return i=null,r}];s<r;s++)if(t=E.relative[e[s].type])l=[Ae(Ce(l),t)];else{if((t=E.filter[e[s].type].apply(null,e[s].matches))[k]){for(n=++s;n<r&&!E.relative[e[n].type];n++);return ke(1<s&&Ce(l),1<s&&_e(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(V,"$1"),t,s<n&&Se(e.slice(s,n)),n<r&&Se(e=e.slice(n)),n<r&&_e(e))}l.push(t)}return Ce(l)}function we(m,v){var y=0<v.length,b=0<m.length,e=function(e,t,n,r,i){var o,a,s,c=0,u="0",l=e&&[],d=[],p=_,f=e||b&&E.find.TAG("*",i),h=S+=null==p?1:Math.random()||.1,g=f.length;for(i&&(_=t==T||t||i);u!==g&&null!=(o=f[u]);u++){if(b&&o){for(a=0,t||o.ownerDocument==T||(C(o),n=!O);s=m[a++];)if(s(o,t||T,n)){r.push(o);break}i&&(S=h)}y&&((o=!s&&o)&&c--,e&&l.push(o))}if(c+=u,y&&u!==c){for(a=0;s=v[a++];)s(l,d,t,n);if(e){if(0<c)for(;u--;)l[u]||d[u]||(d[u]=R.call(r));d=Oe(d)}D.apply(r,d),i&&!e&&0<d.length&&1<c+v.length&&ue.uniqueSort(r)}return i&&(S=h,_=p),l};return y?de(e):e}return Ee.prototype=E.filters=E.pseudos,E.setFilters=new Ee,h=ue.tokenize=function(e,t){var n,r,i,o,a,s,c,u=b[e+" "];if(u)return t?0:u.slice(0);for(a=e,s=[],c=E.preFilter;a;){for(o in n&&!(r=K.exec(a))||(r&&(a=a.slice(r[0].length)||a),s.push(i=[])),n=!1,(r=W.exec(a))&&(n=r.shift(),i.push({value:n,type:r[0].replace(V," ")}),a=a.slice(n.length)),E.filter)!(r=X[o].exec(a))||c[o]&&!(r=c[o](r))||(n=r.shift(),i.push({value:n,type:o,matches:r}),a=a.slice(n.length));if(!n)break}return t?a.length:a?ue.error(e):b(e,s).slice(0)},d=ue.compile=function(e,t){var n,r=[],i=[],o=w[e+" "];if(!o){for(n=(t=t||h(e)).length;n--;)((o=Se(t[n]))[k]?r:i).push(o);(o=w(e,we(i,r))).selector=e}return o},g=ue.select=function(e,t,n,r){var i,o,a,s,c,u="function"==typeof e&&e,l=!r&&h(e=u.selector||e);if(n=n||[],1===l.length){if(2<(o=l[0]=l[0].slice(0)).length&&"ID"===(a=o[0]).type&&9===t.nodeType&&O&&E.relative[o[1].type]){if(!(t=(E.find.ID(a.matches[0].replace(re,ie),t)||[])[0]))return n;u&&(t=t.parentNode),e=e.slice(o.shift().value.length)}for(i=X.needsContext.test(e)?0:o.length;i--&&(a=o[i],!E.relative[s=a.type]);)if((c=E.find[s])&&(r=c(a.matches[0].replace(re,ie),ne.test(o[0].type)&&be(t.parentNode)||t))){if(o.splice(i,1),!(e=r.length&&_e(o)))return D.apply(n,r),n;break}}return(u||d(e,l))(r,t,!O,n,!t||ne.test(e)&&be(t.parentNode)||t),n},f.sortStable=k.split("").sort(x).join("")===k,f.detectDuplicates=!!u,C(),f.sortDetached=pe(function(e){return 1&e.compareDocumentPosition(T.createElement("fieldset"))}),pe(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||fe("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),f.attributes&&pe(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||fe("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),pe(function(e){return null==e.getAttribute("disabled")})||fe(j,function(e,t,n){var r;if(!n)return!0===e[t]?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),ue}(T);k.find=f,k.expr=f.selectors,k.expr[":"]=k.expr.pseudos,k.uniqueSort=k.unique=f.uniqueSort,k.text=f.getText,k.isXMLDoc=f.isXML,k.contains=f.contains,k.escapeSelector=f.escape;var h=function(e,t,n){for(var r=[],i=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(i&&k(e).is(n))break;r.push(e)}return r},C=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},S=k.expr.match.needsContext;function w(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var I=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function x(e,n,r){return y(n)?k.grep(e,function(e,t){return!!n.call(e,t,e)!==r}):n.nodeType?k.grep(e,function(e){return e===n!==r}):"string"!=typeof n?k.grep(e,function(e){return-1<i.call(n,e)!==r}):k.filter(n,e,r)}k.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?k.find.matchesSelector(r,e)?[r]:[]:k.find.matches(e,k.grep(t,function(e){return 1===e.nodeType}))},k.fn.extend({find:function(e){var t,n,r=this.length,i=this;if("string"!=typeof e)return this.pushStack(k(e).filter(function(){for(t=0;t<r;t++)if(k.contains(i[t],this))return!0}));for(n=this.pushStack([]),t=0;t<r;t++)k.find(e,i[t],n);return 1<r?k.uniqueSort(n):n},filter:function(e){return this.pushStack(x(this,e||[],!1))},not:function(e){return this.pushStack(x(this,e||[],!0))},is:function(e){return!!x(this,"string"==typeof e&&S.test(e)?k(e):e||[],!1).length}});var L,R=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(k.fn.init=function(e,t,n){var r,i;if(!e)return this;if(n=n||L,"string"!=typeof e)return e.nodeType?(this[0]=e,this.length=1,this):y(e)?void 0!==n.ready?n.ready(e):e(k):k.makeArray(e,this);if(!(r="<"===e[0]&&">"===e[e.length-1]&&3<=e.length?[null,e,null]:R.exec(e))||!r[1]&&t)return(!t||t.jquery?t||n:this.constructor(t)).find(e);if(r[1]){if(t=t instanceof k?t[0]:t,k.merge(this,k.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:O,!0)),I.test(r[1])&&k.isPlainObject(t))for(r in t)y(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return(i=O.getElementById(r[2]))&&(this[0]=i,this.length=1),this}).prototype=k.fn,L=k(O);var N=/^(?:parents|prev(?:Until|All))/,D={children:!0,contents:!0,next:!0,prev:!0};function M(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}k.fn.extend({has:function(e){var t=k(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(k.contains(this,t[e]))return!0})},closest:function(e,t){var n,r=0,i=this.length,o=[],a="string"!=typeof e&&k(e);if(!S.test(e))for(;r<i;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?-1<a.index(n):1===n.nodeType&&k.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(1<o.length?k.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?i.call(k(e),this[0]):i.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(k.uniqueSort(k.merge(this.get(),k(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),k.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return h(e,"parentNode")},parentsUntil:function(e,t,n){return h(e,"parentNode",n)},next:function(e){return M(e,"nextSibling")},prev:function(e){return M(e,"previousSibling")},nextAll:function(e){return h(e,"nextSibling")},prevAll:function(e){return h(e,"previousSibling")},nextUntil:function(e,t,n){return h(e,"nextSibling",n)},prevUntil:function(e,t,n){return h(e,"previousSibling",n)},siblings:function(e){return C((e.parentNode||{}).firstChild,e)},children:function(e){return C(e.firstChild)},contents:function(e){return null!=e.contentDocument&&r(e.contentDocument)?e.contentDocument:(w(e,"template")&&(e=e.content||e),k.merge([],e.childNodes))}},function(r,i){k.fn[r]=function(e,t){var n=k.map(this,i,e);return"Until"!==r.slice(-5)&&(t=e),t&&"string"==typeof t&&(n=k.filter(t,n)),1<this.length&&(D[r]||k.uniqueSort(n),N.test(r)&&n.reverse()),this.pushStack(n)}});var P=/[^\x20\t\r\n\f]+/g;function j(e){var n={};return k.each(e.match(P)||[],function(e,t){n[t]=!0}),n}function F(e){return e}function B(e){throw e}function U(e,t,n,r){var i;try{e&&y(i=e.promise)?i.call(e).done(t).fail(n):e&&y(i=e.then)?i.call(e,t,n):t.apply(void 0,[e].slice(r))}catch(e){n.apply(void 0,[e])}}k.Callbacks=function(r){r="string"==typeof r?j(r):k.extend({},r);var n,e,t,i,o=[],a=[],s=-1,c=function(){for(i=i||r.once,t=n=!0;a.length;s=-1)for(e=a.shift();++s<o.length;)!1===o[s].apply(e[0],e[1])&&r.stopOnFalse&&(s=o.length,e=!1);r.memory||(e=!1),n=!1,i&&(o=e?[]:"")},u={add:function(){return o&&(e&&!n&&(s=o.length-1,a.push(e)),function n(e){k.each(e,function(e,t){y(t)?r.unique&&u.has(t)||o.push(t):t&&t.length&&"string"!==_(t)&&n(t)})}(arguments),e&&!n&&c()),this},remove:function(){return k.each(arguments,function(e,t){for(var n;-1<(n=k.inArray(t,o,n));)o.splice(n,1),n<=s&&s--}),this},has:function(e){return e?-1<k.inArray(e,o):0<o.length},empty:function(){return o=o&&[],this},disable:function(){return i=a=[],o=e="",this},disabled:function(){return!o},lock:function(){return i=a=[],e||n||(o=e=""),this},locked:function(){return!!i},fireWith:function(e,t){return i||(t=[e,(t=t||[]).slice?t.slice():t],a.push(t),n||c()),this},fire:function(){return u.fireWith(this,arguments),this},fired:function(){return!!t}};return u},k.extend({Deferred:function(e){var o=[["notify","progress",k.Callbacks("memory"),k.Callbacks("memory"),2],["resolve","done",k.Callbacks("once memory"),k.Callbacks("once memory"),0,"resolved"],["reject","fail",k.Callbacks("once memory"),k.Callbacks("once memory"),1,"rejected"]],i="pending",a={state:function(){return i},always:function(){return s.done(arguments).fail(arguments),this},catch:function(e){return a.then(null,e)},pipe:function(){var i=arguments;return k.Deferred(function(r){k.each(o,function(e,t){var n=y(i[t[4]])&&i[t[4]];s[t[1]](function(){var e=n&&n.apply(this,arguments);e&&y(e.promise)?e.promise().progress(r.notify).done(r.resolve).fail(r.reject):r[t[0]+"With"](this,n?[e]:arguments)})}),i=null}).promise()},then:function(t,n,r){var c=0;function u(i,o,a,s){return function(){var n=this,r=arguments,e=function(){var e,t;if(!(i<c)){if((e=a.apply(n,r))===o.promise())throw new TypeError("Thenable self-resolution");t=e&&("object"==typeof e||"function"==typeof e)&&e.then,y(t)?s?t.call(e,u(c,o,F,s),u(c,o,B,s)):(c++,t.call(e,u(c,o,F,s),u(c,o,B,s),u(c,o,F,o.notifyWith))):(a!==F&&(n=void 0,r=[e]),(s||o.resolveWith)(n,r))}},t=s?e:function(){try{e()}catch(e){k.Deferred.exceptionHook&&k.Deferred.exceptionHook(e,t.stackTrace),c<=i+1&&(a!==B&&(n=void 0,r=[e]),o.rejectWith(n,r))}};i?t():(k.Deferred.getStackHook&&(t.stackTrace=k.Deferred.getStackHook()),T.setTimeout(t))}}return k.Deferred(function(e){o[0][3].add(u(0,e,y(r)?r:F,e.notifyWith)),o[1][3].add(u(0,e,y(t)?t:F)),o[2][3].add(u(0,e,y(n)?n:B))}).promise()},promise:function(e){return null!=e?k.extend(e,a):a}},s={};return k.each(o,function(e,t){var n=t[2],r=t[5];a[t[1]]=n.add,r&&n.add(function(){i=r},o[3-e][2].disable,o[3-e][3].disable,o[0][2].lock,o[0][3].lock),n.add(t[3].fire),s[t[0]]=function(){return s[t[0]+"With"](this===s?void 0:this,arguments),this},s[t[0]+"With"]=n.fireWith}),a.promise(s),e&&e.call(s,s),s},when:function(e){var n=arguments.length,t=n,r=Array(t),i=s.call(arguments),o=k.Deferred(),a=function(t){return function(e){r[t]=this,i[t]=1<arguments.length?s.call(arguments):e,--n||o.resolveWith(r,i)}};if(n<=1&&(U(e,o.done(a(t)).resolve,o.reject,!n),"pending"===o.state()||y(i[t]&&i[t].then)))return o.then();for(;t--;)U(i[t],a(t),o.reject);return o.promise()}});var H=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;k.Deferred.exceptionHook=function(e,t){T.console&&T.console.warn&&e&&H.test(e.name)&&T.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},k.readyException=function(e){T.setTimeout(function(){throw e})};var z=k.Deferred();function V(){O.removeEventListener("DOMContentLoaded",V),T.removeEventListener("load",V),k.ready()}k.fn.ready=function(e){return z.then(e).catch(function(e){k.readyException(e)}),this},k.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--k.readyWait:k.isReady)||(k.isReady=!0)!==e&&0<--k.readyWait||z.resolveWith(O,[k])}}),k.ready.then=z.then,"complete"===O.readyState||"loading"!==O.readyState&&!O.documentElement.doScroll?T.setTimeout(k.ready):(O.addEventListener("DOMContentLoaded",V),T.addEventListener("load",V));var K=function(e,t,n,r,i,o,a){var s=0,c=e.length,u=null==n;if("object"===_(n))for(s in i=!0,n)K(e,t,s,n[s],!0,o,a);else if(void 0!==r&&(i=!0,y(r)||(a=!0),u&&(t=a?(t.call(e,r),null):(u=t,function(e,t,n){return u.call(k(e),n)})),t))for(;s<c;s++)t(e[s],n,a?r:r.call(e[s],s,t(e[s],n)));return i?e:u?t.call(e):c?t(e[0],n):o},W=/^-ms-/,Y=/-([a-z])/g;function q(e,t){return t.toUpperCase()}function Z(e){return e.replace(W,"ms-").replace(Y,q)}var X=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function Q(){this.expando=k.expando+Q.uid++}Q.uid=1,Q.prototype={cache:function(e){var t=e[this.expando];return t||(t=Object.create(null),X(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var r,i=this.cache(e);if("string"==typeof t)i[Z(t)]=n;else for(r in t)i[Z(r)]=t[r];return i},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][Z(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r=e[this.expando];if(void 0!==r){if(void 0!==t){n=(t=Array.isArray(t)?t.map(Z):(t=Z(t))in r?[t]:t.match(P)||[]).length;for(;n--;)delete r[t[n]]}void 0!==t&&!k.isEmptyObject(r)||(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!k.isEmptyObject(t)}};var J=new Q,$=new Q,ee=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,te=/[A-Z]/g;function ne(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:ee.test(e)?JSON.parse(e):e)}function re(e,t,n){var r;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(te,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(r))){try{n=ne(n)}catch(e){}$.set(e,t,n)}else n=void 0;return n}k.extend({hasData:function(e){return $.hasData(e)||J.hasData(e)},data:function(e,t,n){return $.access(e,t,n)},removeData:function(e,t){$.remove(e,t)},_data:function(e,t,n){return J.access(e,t,n)},_removeData:function(e,t){J.remove(e,t)}}),k.fn.extend({data:function(n,e){var t,r,i,o=this[0],a=o&&o.attributes;if(void 0!==n)return"object"==typeof n?this.each(function(){$.set(this,n)}):K(this,function(e){var t;return o&&void 0===e?void 0!==(t=$.get(o,n))||void 0!==(t=re(o,n))?t:void 0:void this.each(function(){$.set(this,n,e)})},null,e,1<arguments.length,null,!0);if(this.length&&(i=$.get(o),1===o.nodeType&&!J.get(o,"hasDataAttrs"))){for(t=a.length;t--;)a[t]&&0===(r=a[t].name).indexOf("data-")&&(r=Z(r.slice(5)),re(o,r,i[r]));J.set(o,"hasDataAttrs",!0)}return i},removeData:function(e){return this.each(function(){$.remove(this,e)})}}),k.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=J.get(e,t),n&&(!r||Array.isArray(n)?r=J.access(e,t,k.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=k.queue(e,t),r=n.length,i=n.shift(),o=k._queueHooks(e,t),a=function(){k.dequeue(e,t)};"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,a,o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return J.get(e,n)||J.access(e,n,{empty:k.Callbacks("once memory").add(function(){J.remove(e,[t+"queue",n])})})}}),k.fn.extend({queue:function(t,n){var e=2;return"string"!=typeof t&&(n=t,t="fx",e--),arguments.length<e?k.queue(this[0],t):void 0===n?this:this.each(function(){var e=k.queue(this,t,n);k._queueHooks(this,t),"fx"===t&&"inprogress"!==e[0]&&k.dequeue(this,t)})},dequeue:function(e){return this.each(function(){k.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=k.Deferred(),o=this,a=this.length,s=function(){--r||i.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)(n=J.get(o[a],e+"queueHooks"))&&n.empty&&(r++,n.empty.add(s));return s(),i.promise(t)}});var ie=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,oe=new RegExp("^(?:([+-])=|)("+ie+")([a-z%]*)$","i"),ae=["Top","Right","Bottom","Left"],se=O.documentElement,ce=function(e){return k.contains(e.ownerDocument,e)},ue={composed:!0};se.getRootNode&&(ce=function(e){return k.contains(e.ownerDocument,e)||e.getRootNode(ue)===e.ownerDocument});var le=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&ce(e)&&"none"===k.css(e,"display")};function de(e,t,n,r){var i,o,a=20,s=r?function(){return r.cur()}:function(){return k.css(e,t,"")},c=s(),u=n&&n[3]||(k.cssNumber[t]?"":"px"),l=e.nodeType&&(k.cssNumber[t]||"px"!==u&&+c)&&oe.exec(k.css(e,t));if(l&&l[3]!==u){for(c/=2,u=u||l[3],l=+c||1;a--;)k.style(e,t,l+u),(1-o)*(1-(o=s()/c||.5))<=0&&(a=0),l/=o;l*=2,k.style(e,t,l+u),n=n||[]}return n&&(l=+l||+c||0,i=n[1]?l+(n[1]+1)*n[2]:+n[2],r&&(r.unit=u,r.start=l,r.end=i)),i}var pe={};function fe(e){var t,n=e.ownerDocument,r=e.nodeName,i=pe[r];return i||(t=n.body.appendChild(n.createElement(r)),i=k.css(t,"display"),t.parentNode.removeChild(t),"none"===i&&(i="block"),pe[r]=i)}function he(e,t){for(var n,r,i=[],o=0,a=e.length;o<a;o++)(r=e[o]).style&&(n=r.style.display,t?("none"===n&&(i[o]=J.get(r,"display")||null,i[o]||(r.style.display="")),""===r.style.display&&le(r)&&(i[o]=fe(r))):"none"!==n&&(i[o]="none",J.set(r,"display",n)));for(o=0;o<a;o++)null!=i[o]&&(e[o].style.display=i[o]);return e}k.fn.extend({show:function(){return he(this,!0)},hide:function(){return he(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){le(this)?k(this).show():k(this).hide()})}});var ge,me,ve=/^(?:checkbox|radio)$/i,ye=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,be=/^$|^module$|\/(?:java|ecma)script/i;ge=O.createDocumentFragment().appendChild(O.createElement("div")),(me=O.createElement("input")).setAttribute("type","radio"),me.setAttribute("checked","checked"),me.setAttribute("name","t"),ge.appendChild(me),v.checkClone=ge.cloneNode(!0).cloneNode(!0).lastChild.checked,ge.innerHTML="<textarea>x</textarea>",v.noCloneChecked=!!ge.cloneNode(!0).lastChild.defaultValue,ge.innerHTML="<option></option>",v.option=!!ge.lastChild;var Ee={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function _e(e,t){var n=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[];return void 0===t||t&&w(e,t)?k.merge([e],n):n}function Ae(e,t){for(var n=0,r=e.length;n<r;n++)J.set(e[n],"globalEval",!t||J.get(t[n],"globalEval"))}Ee.tbody=Ee.tfoot=Ee.colgroup=Ee.caption=Ee.thead,Ee.th=Ee.td,v.option||(Ee.optgroup=Ee.option=[1,"<select multiple='multiple'>","</select>"]);var Ce=/<|&#?\w+;/;function Te(e,t,n,r,i){for(var o,a,s,c,u,l,d=t.createDocumentFragment(),p=[],f=0,h=e.length;f<h;f++)if((o=e[f])||0===o)if("object"===_(o))k.merge(p,o.nodeType?[o]:o);else if(Ce.test(o)){for(a=a||d.appendChild(t.createElement("div")),s=(ye.exec(o)||["",""])[1].toLowerCase(),c=Ee[s]||Ee._default,a.innerHTML=c[1]+k.htmlPrefilter(o)+c[2],l=c[0];l--;)a=a.lastChild;k.merge(p,a.childNodes),(a=d.firstChild).textContent=""}else p.push(t.createTextNode(o));for(d.textContent="",f=0;o=p[f++];)if(r&&-1<k.inArray(o,r))i&&i.push(o);else if(u=ce(o),a=_e(d.appendChild(o),"script"),u&&Ae(a),n)for(l=0;o=a[l++];)be.test(o.type||"")&&n.push(o);return d}var Oe=/^key/,ke=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Se=/^([^.]*)(?:\.(.+)|)/;function we(){return!0}function Ie(){return!1}function xe(e,t){return e===Le()==("focus"===t)}function Le(){try{return O.activeElement}catch(e){}}function Re(e,t,n,r,i,o){var a,s;if("object"==typeof t){for(s in"string"!=typeof n&&(r=r||n,n=void 0),t)Re(e,s,n,r,t[s],o);return e}if(null==r&&null==i?(i=n,r=n=void 0):null==i&&("string"==typeof n?(i=r,r=void 0):(i=r,r=n,n=void 0)),!1===i)i=Ie;else if(!i)return e;return 1===o&&(a=i,(i=function(e){return k().off(e),a.apply(this,arguments)}).guid=a.guid||(a.guid=k.guid++)),e.each(function(){k.event.add(this,t,i,r,n)})}function Ne(e,i,o){o?(J.set(e,i,!1),k.event.add(e,i,{namespace:!1,handler:function(e){var t,n,r=J.get(this,i);if(1&e.isTrigger&&this[i]){if(r.length)(k.event.special[i]||{}).delegateType&&e.stopPropagation();else if(r=s.call(arguments),J.set(this,i,r),t=o(this,i),this[i](),r!==(n=J.get(this,i))||t?J.set(this,i,!1):n={},r!==n)return e.stopImmediatePropagation(),e.preventDefault(),n.value}else r.length&&(J.set(this,i,{value:k.event.trigger(k.extend(r[0],k.Event.prototype),r.slice(1),this)}),e.stopImmediatePropagation())}})):void 0===J.get(e,i)&&k.event.add(e,i,we)}k.event={global:{},add:function(t,e,n,r,i){var o,a,s,c,u,l,d,p,f,h,g,m=J.get(t);if(X(t))for(n.handler&&(n=(o=n).handler,i=o.selector),i&&k.find.matchesSelector(se,i),n.guid||(n.guid=k.guid++),(c=m.events)||(c=m.events=Object.create(null)),(a=m.handle)||(a=m.handle=function(e){return void 0!==k&&k.event.triggered!==e.type?k.event.dispatch.apply(t,arguments):void 0}),u=(e=(e||"").match(P)||[""]).length;u--;)f=g=(s=Se.exec(e[u])||[])[1],h=(s[2]||"").split(".").sort(),f&&(d=k.event.special[f]||{},f=(i?d.delegateType:d.bindType)||f,d=k.event.special[f]||{},l=k.extend({type:f,origType:g,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&k.expr.match.needsContext.test(i),namespace:h.join(".")},o),(p=c[f])||((p=c[f]=[]).delegateCount=0,d.setup&&!1!==d.setup.call(t,r,h,a)||t.addEventListener&&t.addEventListener(f,a)),d.add&&(d.add.call(t,l),l.handler.guid||(l.handler.guid=n.guid)),i?p.splice(p.delegateCount++,0,l):p.push(l),k.event.global[f]=!0)},remove:function(e,t,n,r,i){var o,a,s,c,u,l,d,p,f,h,g,m=J.hasData(e)&&J.get(e);if(m&&(c=m.events)){for(u=(t=(t||"").match(P)||[""]).length;u--;)if(f=g=(s=Se.exec(t[u])||[])[1],h=(s[2]||"").split(".").sort(),f){for(d=k.event.special[f]||{},p=c[f=(r?d.delegateType:d.bindType)||f]||[],s=s[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=p.length;o--;)l=p[o],!i&&g!==l.origType||n&&n.guid!==l.guid||s&&!s.test(l.namespace)||r&&r!==l.selector&&("**"!==r||!l.selector)||(p.splice(o,1),l.selector&&p.delegateCount--,d.remove&&d.remove.call(e,l));a&&!p.length&&(d.teardown&&!1!==d.teardown.call(e,h,m.handle)||k.removeEvent(e,f,m.handle),delete c[f])}else for(f in c)k.event.remove(e,f+t[u],n,r,!0);k.isEmptyObject(c)&&J.remove(e,"handle events")}},dispatch:function(e){var t,n,r,i,o,a,s=new Array(arguments.length),c=k.event.fix(e),u=(J.get(this,"events")||Object.create(null))[c.type]||[],l=k.event.special[c.type]||{};for(s[0]=c,t=1;t<arguments.length;t++)s[t]=arguments[t];if(c.delegateTarget=this,!l.preDispatch||!1!==l.preDispatch.call(this,c)){for(a=k.event.handlers.call(this,c,u),t=0;(i=a[t++])&&!c.isPropagationStopped();)for(c.currentTarget=i.elem,n=0;(o=i.handlers[n++])&&!c.isImmediatePropagationStopped();)c.rnamespace&&!1!==o.namespace&&!c.rnamespace.test(o.namespace)||(c.handleObj=o,c.data=o.data,void 0!==(r=((k.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,s))&&!1===(c.result=r)&&(c.preventDefault(),c.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,c),c.result}},handlers:function(e,t){var n,r,i,o,a,s=[],c=t.delegateCount,u=e.target;if(c&&u.nodeType&&!("click"===e.type&&1<=e.button))for(;u!==this;u=u.parentNode||this)if(1===u.nodeType&&("click"!==e.type||!0!==u.disabled)){for(o=[],a={},n=0;n<c;n++)void 0===a[i=(r=t[n]).selector+" "]&&(a[i]=r.needsContext?-1<k(i,this).index(u):k.find(i,this,null,[u]).length),a[i]&&o.push(r);o.length&&s.push({elem:u,handlers:o})}return u=this,c<t.length&&s.push({elem:u,handlers:t.slice(c)}),s},addProp:function(t,e){Object.defineProperty(k.Event.prototype,t,{enumerable:!0,configurable:!0,get:y(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(e){return e[k.expando]?e:new k.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var t=this||e;return ve.test(t.type)&&t.click&&w(t,"input")&&Ne(t,"click",we),!1},trigger:function(e){var t=this||e;return ve.test(t.type)&&t.click&&w(t,"input")&&Ne(t,"click"),!0},_default:function(e){var t=e.target;return ve.test(t.type)&&t.click&&w(t,"input")&&J.get(t,"click")||w(t,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},k.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},k.Event=function(e,t){if(!(this instanceof k.Event))return new k.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?we:Ie,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&k.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[k.expando]=!0},k.Event.prototype={constructor:k.Event,isDefaultPrevented:Ie,isPropagationStopped:Ie,isImmediatePropagationStopped:Ie,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=we,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=we,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=we,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},k.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&Oe.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==t&&ke.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},k.event.addProp),k.each({focus:"focusin",blur:"focusout"},function(e,t){k.event.special[e]={setup:function(){return Ne(this,e,xe),!1},trigger:function(){return Ne(this,e),!0},delegateType:t}}),k.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,o){k.event.special[e]={delegateType:o,bindType:o,handle:function(e){var t,n=this,r=e.relatedTarget,i=e.handleObj;return r&&(r===n||k.contains(n,r))||(e.type=i.origType,t=i.handler.apply(this,arguments),e.type=o),t}}}),k.fn.extend({on:function(e,t,n,r){return Re(this,e,t,n,r)},one:function(e,t,n,r){return Re(this,e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,k(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"!=typeof e)return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=Ie),this.each(function(){k.event.remove(this,e,n,t)});for(i in e)this.off(i,t,e[i]);return this}});var De=/<script|<style|<link/i,Me=/checked\s*(?:[^=]|=\s*.checked.)/i,Pe=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function je(e,t){return w(e,"table")&&w(11!==t.nodeType?t:t.firstChild,"tr")&&k(e).children("tbody")[0]||e}function Fe(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function Be(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function Ue(e,t){var n,r,i,o,a,s;if(1===t.nodeType){if(J.hasData(e)&&(s=J.get(e).events))for(i in J.remove(t,"handle events"),s)for(n=0,r=s[i].length;n<r;n++)k.event.add(t,i,s[i][n]);$.hasData(e)&&(o=$.access(e),a=k.extend({},o),$.set(t,a))}}function He(e,t){var n=t.nodeName.toLowerCase();"input"===n&&ve.test(e.type)?t.checked=e.checked:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}function ze(n,r,i,o){r=g(r);var e,t,a,s,c,u,l=0,d=n.length,p=d-1,f=r[0],h=y(f);if(h||1<d&&"string"==typeof f&&!v.checkClone&&Me.test(f))return n.each(function(e){var t=n.eq(e);h&&(r[0]=f.call(this,e,t.html())),ze(t,r,i,o)});if(d&&(t=(e=Te(r,n[0].ownerDocument,!1,n,o)).firstChild,1===e.childNodes.length&&(e=t),t||o)){for(s=(a=k.map(_e(e,"script"),Fe)).length;l<d;l++)c=e,l!==p&&(c=k.clone(c,!0,!0),s&&k.merge(a,_e(c,"script"))),i.call(n[l],c,l);if(s)for(u=a[a.length-1].ownerDocument,k.map(a,Be),l=0;l<s;l++)c=a[l],be.test(c.type||"")&&!J.access(c,"globalEval")&&k.contains(u,c)&&(c.src&&"module"!==(c.type||"").toLowerCase()?k._evalUrl&&!c.noModule&&k._evalUrl(c.src,{nonce:c.nonce||c.getAttribute("nonce")},u):E(c.textContent.replace(Pe,""),c,u))}return n}function Ve(e,t,n){for(var r,i=t?k.filter(t,e):e,o=0;null!=(r=i[o]);o++)n||1!==r.nodeType||k.cleanData(_e(r)),r.parentNode&&(n&&ce(r)&&Ae(_e(r,"script")),r.parentNode.removeChild(r));return e}k.extend({htmlPrefilter:function(e){return e},clone:function(e,t,n){var r,i,o,a,s=e.cloneNode(!0),c=ce(e);if(!(v.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||k.isXMLDoc(e)))for(a=_e(s),r=0,i=(o=_e(e)).length;r<i;r++)He(o[r],a[r]);if(t)if(n)for(o=o||_e(e),a=a||_e(s),r=0,i=o.length;r<i;r++)Ue(o[r],a[r]);else Ue(e,s);return 0<(a=_e(s,"script")).length&&Ae(a,!c&&_e(e,"script")),s},cleanData:function(e){for(var t,n,r,i=k.event.special,o=0;void 0!==(n=e[o]);o++)if(X(n)){if(t=n[J.expando]){if(t.events)for(r in t.events)i[r]?k.event.remove(n,r):k.removeEvent(n,r,t.handle);n[J.expando]=void 0}n[$.expando]&&(n[$.expando]=void 0)}}}),k.fn.extend({detach:function(e){return Ve(this,e,!0)},remove:function(e){return Ve(this,e)},text:function(e){return K(this,function(e){return void 0===e?k.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return ze(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||je(this,e).appendChild(e)})},prepend:function(){return ze(this,arguments,function(e){var t;1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(t=je(this,e)).insertBefore(e,t.firstChild)})},before:function(){return ze(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return ze(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(k.cleanData(_e(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return k.clone(this,e,t)})},html:function(e){return K(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!De.test(e)&&!Ee[(ye.exec(e)||["",""])[1].toLowerCase()]){e=k.htmlPrefilter(e);try{for(;n<r;n++)1===(t=this[n]||{}).nodeType&&(k.cleanData(_e(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var n=[];return ze(this,arguments,function(e){var t=this.parentNode;k.inArray(this,n)<0&&(k.cleanData(_e(this)),t&&t.replaceChild(e,this))},n)}}),k.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,a){k.fn[e]=function(e){for(var t,n=[],r=k(e),i=r.length-1,o=0;o<=i;o++)t=o===i?this:this.clone(!0),k(r[o])[a](t),c.apply(n,t.get());return this.pushStack(n)}});var Ke,Ge,We,Ye,qe,Ze,Xe,Qe,Je=new RegExp("^("+ie+")(?!px)[a-z%]+$","i"),$e=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=T),t.getComputedStyle(e)},et=function(e,t,n){var r,i,o={};for(i in t)o[i]=e.style[i],e.style[i]=t[i];for(i in r=n.call(e),t)e.style[i]=o[i];return r},tt=new RegExp(ae.join("|"),"i");function nt(){var e;Qe&&(Xe.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",Qe.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",se.appendChild(Xe).appendChild(Qe),e=T.getComputedStyle(Qe),Ke="1%"!==e.top,Ze=12===rt(e.marginLeft),Qe.style.right="60%",Ye=36===rt(e.right),Ge=36===rt(e.width),Qe.style.position="absolute",We=12===rt(Qe.offsetWidth/3),se.removeChild(Xe),Qe=null)}function rt(e){return Math.round(parseFloat(e))}function it(e,t,n){var r,i,o,a,s=e.style;return(n=n||$e(e))&&(""!==(a=n.getPropertyValue(t)||n[t])||ce(e)||(a=k.style(e,t)),!v.pixelBoxStyles()&&Je.test(a)&&tt.test(t)&&(r=s.width,i=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=r,s.minWidth=i,s.maxWidth=o)),void 0!==a?a+"":a}function ot(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}Xe=O.createElement("div"),(Qe=O.createElement("div")).style&&(Qe.style.backgroundClip="content-box",Qe.cloneNode(!0).style.backgroundClip="",v.clearCloneStyle="content-box"===Qe.style.backgroundClip,k.extend(v,{boxSizingReliable:function(){return nt(),Ge},pixelBoxStyles:function(){return nt(),Ye},pixelPosition:function(){return nt(),Ke},reliableMarginLeft:function(){return nt(),Ze},scrollboxSize:function(){return nt(),We},reliableTrDimensions:function(){var e,t,n,r;return null==qe&&(e=O.createElement("table"),t=O.createElement("tr"),n=O.createElement("div"),e.style.cssText="position:absolute;left:-11111px",t.style.height="1px",n.style.height="9px",se.appendChild(e).appendChild(t).appendChild(n),r=T.getComputedStyle(t),qe=3<parseInt(r.height),se.removeChild(e)),qe}}));var at=["Webkit","Moz","ms"],st=O.createElement("div").style,ct={};function ut(e){for(var t=e[0].toUpperCase()+e.slice(1),n=at.length;n--;)if((e=at[n]+t)in st)return e}function lt(e){var t=k.cssProps[e]||ct[e];return t||(e in st?e:ct[e]=ut(e)||e)}var dt=/^(none|table(?!-c[ea]).+)/,pt=/^--/,ft={position:"absolute",visibility:"hidden",display:"block"},ht={letterSpacing:"0",fontWeight:"400"};function gt(e,t,n){var r=oe.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):t}function mt(e,t,n,r,i,o){var a="width"===t?1:0,s=0,c=0;if(n===(r?"border":"content"))return 0;for(;a<4;a+=2)"margin"===n&&(c+=k.css(e,n+ae[a],!0,i)),r?("content"===n&&(c-=k.css(e,"padding"+ae[a],!0,i)),"margin"!==n&&(c-=k.css(e,"border"+ae[a]+"Width",!0,i))):(c+=k.css(e,"padding"+ae[a],!0,i),"padding"!==n?c+=k.css(e,"border"+ae[a]+"Width",!0,i):s+=k.css(e,"border"+ae[a]+"Width",!0,i));return!r&&0<=o&&(c+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-o-c-s-.5))||0),c}function vt(e,t,n){var r=$e(e),i=(!v.boxSizingReliable()||n)&&"border-box"===k.css(e,"boxSizing",!1,r),o=i,a=it(e,t,r),s="offset"+t[0].toUpperCase()+t.slice(1);if(Je.test(a)){if(!n)return a;a="auto"}return(!v.boxSizingReliable()&&i||!v.reliableTrDimensions()&&w(e,"tr")||"auto"===a||!parseFloat(a)&&"inline"===k.css(e,"display",!1,r))&&e.getClientRects().length&&(i="border-box"===k.css(e,"boxSizing",!1,r),(o=s in e)&&(a=e[s])),(a=parseFloat(a)||0)+mt(e,t,n||(i?"border":"content"),o,r,a)+"px"}function yt(e,t,n,r,i){return new yt.prototype.init(e,t,n,r,i)}k.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=it(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,a,s=Z(t),c=pt.test(t),u=e.style;if(c||(t=lt(s)),a=k.cssHooks[t]||k.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(i=a.get(e,!1,r))?i:u[t];"string"===(o=typeof n)&&(i=oe.exec(n))&&i[1]&&(n=de(e,t,i),o="number"),null!=n&&n==n&&("number"!==o||c||(n+=i&&i[3]||(k.cssNumber[s]?"":"px")),v.clearCloneStyle||""!==n||0!==t.indexOf("background")||(u[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,r))||(c?u.setProperty(t,n):u[t]=n))}},css:function(e,t,n,r){var i,o,a,s=Z(t);return pt.test(t)||(t=lt(s)),(a=k.cssHooks[t]||k.cssHooks[s])&&"get"in a&&(i=a.get(e,!0,n)),void 0===i&&(i=it(e,t,r)),"normal"===i&&t in ht&&(i=ht[t]),""===n||n?(o=parseFloat(i),!0===n||isFinite(o)?o||0:i):i}}),k.each(["height","width"],function(e,c){k.cssHooks[c]={get:function(e,t,n){if(t)return!dt.test(k.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?vt(e,c,n):et(e,ft,function(){return vt(e,c,n)})},set:function(e,t,n){var r,i=$e(e),o=!v.scrollboxSize()&&"absolute"===i.position,a=(o||n)&&"border-box"===k.css(e,"boxSizing",!1,i),s=n?mt(e,c,n,a,i):0;return a&&o&&(s-=Math.ceil(e["offset"+c[0].toUpperCase()+c.slice(1)]-parseFloat(i[c])-mt(e,c,"border",!1,i)-.5)),s&&(r=oe.exec(t))&&"px"!==(r[3]||"px")&&(e.style[c]=t,t=k.css(e,c)),gt(e,t,s)}}}),k.cssHooks.marginLeft=ot(v.reliableMarginLeft,function(e,t){if(t)return(parseFloat(it(e,"marginLeft"))||e.getBoundingClientRect().left-et(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),k.each({margin:"",padding:"",border:"Width"},function(i,o){k.cssHooks[i+o]={expand:function(e){for(var t=0,n={},r="string"==typeof e?e.split(" "):[e];t<4;t++)n[i+ae[t]+o]=r[t]||r[t-2]||r[0];return n}},"margin"!==i&&(k.cssHooks[i+o].set=gt)}),k.fn.extend({css:function(e,t){return K(this,function(e,t,n){var r,i,o={},a=0;if(Array.isArray(t)){for(r=$e(e),i=t.length;a<i;a++)o[t[a]]=k.css(e,t[a],!1,r);return o}return void 0!==n?k.style(e,t,n):k.css(e,t)},e,t,1<arguments.length)}}),(k.Tween=yt).prototype={constructor:yt,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||k.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(k.cssNumber[n]?"":"px")},cur:function(){var e=yt.propHooks[this.prop];return(e&&e.get?e:yt.propHooks._default).get(this)},run:function(e){var t,n=yt.propHooks[this.prop];return this.options.duration?this.pos=t=k.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),(n&&n.set?n:yt.propHooks._default).set(this),this}},yt.prototype.init.prototype=yt.prototype,yt.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=k.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){k.fx.step[e.prop]?k.fx.step[e.prop](e):1!==e.elem.nodeType||!k.cssHooks[e.prop]&&null==e.elem.style[lt(e.prop)]?e.elem[e.prop]=e.now:k.style(e.elem,e.prop,e.now+e.unit)}}},yt.propHooks.scrollTop=yt.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},k.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},k.fx=yt.prototype.init,k.fx.step={};var bt,Et,_t,At,Ct=/^(?:toggle|show|hide)$/,Tt=/queueHooks$/;function Ot(){Et&&(!1===O.hidden&&T.requestAnimationFrame?T.requestAnimationFrame(Ot):T.setTimeout(Ot,k.fx.interval),k.fx.tick())}function kt(){return T.setTimeout(function(){bt=void 0}),bt=Date.now()}function St(e,t){var n,r=0,i={height:e};for(t=t?1:0;r<4;r+=2-t)i["margin"+(n=ae[r])]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function wt(e,t,n){for(var r,i=(Lt.tweeners[t]||[]).concat(Lt.tweeners["*"]),o=0,a=i.length;o<a;o++)if(r=i[o].call(n,t,e))return r}function It(e,t,n){var r,i,o,a,s,c,u,l,d="width"in t||"height"in t,p=this,f={},h=e.style,g=e.nodeType&&le(e),m=J.get(e,"fxshow");for(r in n.queue||(null==(a=k._queueHooks(e,"fx")).unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,p.always(function(){p.always(function(){a.unqueued--,k.queue(e,"fx").length||a.empty.fire()})})),t)if(i=t[r],Ct.test(i)){if(delete t[r],o=o||"toggle"===i,i===(g?"hide":"show")){if("show"!==i||!m||void 0===m[r])continue;g=!0}f[r]=m&&m[r]||k.style(e,r)}if((c=!k.isEmptyObject(t))||!k.isEmptyObject(f))for(r in d&&1===e.nodeType&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],null==(u=m&&m.display)&&(u=J.get(e,"display")),"none"===(l=k.css(e,"display"))&&(u?l=u:(he([e],!0),u=e.style.display||u,l=k.css(e,"display"),he([e]))),("inline"===l||"inline-block"===l&&null!=u)&&"none"===k.css(e,"float")&&(c||(p.done(function(){h.display=u}),null==u&&(l=h.display,u="none"===l?"":l)),h.display="inline-block")),n.overflow&&(h.overflow="hidden",p.always(function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]})),c=!1,f)c||(m?"hidden"in m&&(g=m.hidden):m=J.access(e,"fxshow",{display:u}),o&&(m.hidden=!g),g&&he([e],!0),p.done(function(){for(r in g||he([e]),J.remove(e,"fxshow"),f)k.style(e,r,f[r])})),c=wt(g?m[r]:0,r,p),r in m||(m[r]=c.start,g&&(c.end=c.start,c.start=0))}function xt(e,t){var n,r,i,o,a;for(n in e)if(i=t[r=Z(n)],o=e[n],Array.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),(a=k.cssHooks[r])&&"expand"in a)for(n in o=a.expand(o),delete e[r],o)n in e||(e[n]=o[n],t[n]=i);else t[r]=i}function Lt(o,e,t){var n,a,r=0,i=Lt.prefilters.length,s=k.Deferred().always(function(){delete c.elem}),c=function(){if(a)return!1;for(var e=bt||kt(),t=Math.max(0,u.startTime+u.duration-e),n=1-(t/u.duration||0),r=0,i=u.tweens.length;r<i;r++)u.tweens[r].run(n);return s.notifyWith(o,[u,n,t]),n<1&&i?t:(i||s.notifyWith(o,[u,1,0]),s.resolveWith(o,[u]),!1)},u=s.promise({elem:o,props:k.extend({},e),opts:k.extend(!0,{specialEasing:{},easing:k.easing._default},t),originalProperties:e,originalOptions:t,startTime:bt||kt(),duration:t.duration,tweens:[],createTween:function(e,t){var n=k.Tween(o,u.opts,e,t,u.opts.specialEasing[e]||u.opts.easing);return u.tweens.push(n),n},stop:function(e){var t=0,n=e?u.tweens.length:0;if(a)return this;for(a=!0;t<n;t++)u.tweens[t].run(1);return e?(s.notifyWith(o,[u,1,0]),s.resolveWith(o,[u,e])):s.rejectWith(o,[u,e]),this}}),l=u.props;for(xt(l,u.opts.specialEasing);r<i;r++)if(n=Lt.prefilters[r].call(u,o,l,u.opts))return y(n.stop)&&(k._queueHooks(u.elem,u.opts.queue).stop=n.stop.bind(n)),n;return k.map(l,wt,u),y(u.opts.start)&&u.opts.start.call(o,u),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always),k.fx.timer(k.extend(c,{elem:o,anim:u,queue:u.opts.queue})),u}k.Animation=k.extend(Lt,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return de(n.elem,e,oe.exec(t),n),n}]},tweener:function(e,t){for(var n,r=0,i=(e=y(e)?(t=e,["*"]):e.match(P)).length;r<i;r++)n=e[r],Lt.tweeners[n]=Lt.tweeners[n]||[],Lt.tweeners[n].unshift(t)},prefilters:[It],prefilter:function(e,t){t?Lt.prefilters.unshift(e):Lt.prefilters.push(e)}}),k.speed=function(e,t,n){var r=e&&"object"==typeof e?k.extend({},e):{complete:n||!n&&t||y(e)&&e,duration:e,easing:n&&t||t&&!y(t)&&t};return k.fx.off?r.duration=0:"number"!=typeof r.duration&&(r.duration in k.fx.speeds?r.duration=k.fx.speeds[r.duration]:r.duration=k.fx.speeds._default),null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){y(r.old)&&r.old.call(this),r.queue&&k.dequeue(this,r.queue)},r},k.fn.extend({fadeTo:function(e,t,n,r){return this.filter(le).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(t,e,n,r){var i=k.isEmptyObject(t),o=k.speed(e,n,r),a=function(){var e=Lt(this,k.extend({},t),o);(i||J.get(this,"finish"))&&e.stop(!0)};return a.finish=a,i||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(i,e,o){var a=function(e){var t=e.stop;delete e.stop,t(o)};return"string"!=typeof i&&(o=e,e=i,i=void 0),e&&this.queue(i||"fx",[]),this.each(function(){var e=!0,t=null!=i&&i+"queueHooks",n=k.timers,r=J.get(this);if(t)r[t]&&r[t].stop&&a(r[t]);else for(t in r)r[t]&&r[t].stop&&Tt.test(t)&&a(r[t]);for(t=n.length;t--;)n[t].elem!==this||null!=i&&n[t].queue!==i||(n[t].anim.stop(o),e=!1,n.splice(t,1));!e&&o||k.dequeue(this,i)})},finish:function(a){return!1!==a&&(a=a||"fx"),this.each(function(){var e,t=J.get(this),n=t[a+"queue"],r=t[a+"queueHooks"],i=k.timers,o=n?n.length:0;for(t.finish=!0,k.queue(this,a,[]),r&&r.stop&&r.stop.call(this,!0),e=i.length;e--;)i[e].elem===this&&i[e].queue===a&&(i[e].anim.stop(!0),i.splice(e,1));for(e=0;e<o;e++)n[e]&&n[e].finish&&n[e].finish.call(this);delete t.finish})}}),k.each(["toggle","show","hide"],function(e,r){var i=k.fn[r];k.fn[r]=function(e,t,n){return null==e||"boolean"==typeof e?i.apply(this,arguments):this.animate(St(r,!0),e,t,n)}}),k.each({slideDown:St("show"),slideUp:St("hide"),slideToggle:St("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,r){k.fn[e]=function(e,t,n){return this.animate(r,e,t,n)}}),k.timers=[],k.fx.tick=function(){var e,t=0,n=k.timers;for(bt=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||k.fx.stop(),bt=void 0},k.fx.timer=function(e){k.timers.push(e),k.fx.start()},k.fx.interval=13,k.fx.start=function(){Et||(Et=!0,Ot())},k.fx.stop=function(){Et=null},k.fx.speeds={slow:600,fast:200,_default:400},k.fn.delay=function(r,e){return r=k.fx&&k.fx.speeds[r]||r,e=e||"fx",this.queue(e,function(e,t){var n=T.setTimeout(e,r);t.stop=function(){T.clearTimeout(n)}})},_t=O.createElement("input"),At=O.createElement("select").appendChild(O.createElement("option")),_t.type="checkbox",v.checkOn=""!==_t.value,v.optSelected=At.selected,(_t=O.createElement("input")).value="t",_t.type="radio",v.radioValue="t"===_t.value;var Rt,Nt=k.expr.attrHandle;k.fn.extend({attr:function(e,t){return K(this,k.attr,e,t,1<arguments.length)},removeAttr:function(e){return this.each(function(){k.removeAttr(this,e)})}}),k.extend({attr:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===e.getAttribute?k.prop(e,t,n):(1===o&&k.isXMLDoc(e)||(i=k.attrHooks[t.toLowerCase()]||(k.expr.match.bool.test(t)?Rt:void 0)),void 0!==n?null===n?void k.removeAttr(e,t):i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:(e.setAttribute(t,n+""),n):!(i&&"get"in i&&null!==(r=i.get(e,t)))&&null==(r=k.find.attr(e,t))?void 0:r)},attrHooks:{type:{set:function(e,t){if(!v.radioValue&&"radio"===t&&w(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r=0,i=t&&t.match(P);if(i&&1===e.nodeType)for(;n=i[r++];)e.removeAttribute(n)}}),Rt={set:function(e,t,n){return!1===t?k.removeAttr(e,n):e.setAttribute(n,n),n}},k.each(k.expr.match.bool.source.match(/\w+/g),function(e,t){var a=Nt[t]||k.find.attr;Nt[t]=function(e,t,n){var r,i,o=t.toLowerCase();return n||(i=Nt[o],Nt[o]=r,r=null!=a(e,t,n)?o:null,Nt[o]=i),r}});var Dt=/^(?:input|select|textarea|button)$/i,Mt=/^(?:a|area)$/i;function Pt(e){return(e.match(P)||[]).join(" ")}function jt(e){return e.getAttribute&&e.getAttribute("class")||""}function Ft(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(P)||[]}k.fn.extend({prop:function(e,t){return K(this,k.prop,e,t,1<arguments.length)},removeProp:function(e){return this.each(function(){delete this[k.propFix[e]||e]})}}),k.extend({prop:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&k.isXMLDoc(e)||(t=k.propFix[t]||t,i=k.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=k.find.attr(e,"tabindex");return t?parseInt(t,10):Dt.test(e.nodeName)||Mt.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),v.optSelected||(k.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),k.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){k.propFix[this.toLowerCase()]=this}),k.fn.extend({addClass:function(t){var e,n,r,i,o,a,s,c=0;if(y(t))return this.each(function(e){k(this).addClass(t.call(this,e,jt(this)))});if((e=Ft(t)).length)for(;n=this[c++];)if(i=jt(n),r=1===n.nodeType&&" "+Pt(i)+" "){for(a=0;o=e[a++];)r.indexOf(" "+o+" ")<0&&(r+=o+" ");i!==(s=Pt(r))&&n.setAttribute("class",s)}return this},removeClass:function(t){var e,n,r,i,o,a,s,c=0;if(y(t))return this.each(function(e){k(this).removeClass(t.call(this,e,jt(this)))});if(!arguments.length)return this.attr("class","");if((e=Ft(t)).length)for(;n=this[c++];)if(i=jt(n),r=1===n.nodeType&&" "+Pt(i)+" "){for(a=0;o=e[a++];)for(;-1<r.indexOf(" "+o+" ");)r=r.replace(" "+o+" "," ");i!==(s=Pt(r))&&n.setAttribute("class",s)}return this},toggleClass:function(i,t){var o=typeof i,a="string"===o||Array.isArray(i);return"boolean"==typeof t&&a?t?this.addClass(i):this.removeClass(i):y(i)?this.each(function(e){k(this).toggleClass(i.call(this,e,jt(this),t),t)}):this.each(function(){var e,t,n,r;if(a)for(t=0,n=k(this),r=Ft(i);e=r[t++];)n.hasClass(e)?n.removeClass(e):n.addClass(e);else void 0!==i&&"boolean"!==o||((e=jt(this))&&J.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",!e&&!1!==i&&J.get(this,"__className__")||""))})},hasClass:function(e){for(var t,n=0,r=" "+e+" ";t=this[n++];)if(1===t.nodeType&&-1<(" "+Pt(jt(t))+" ").indexOf(r))return!0;return!1}});var Bt=/\r/g;k.fn.extend({val:function(n){var r,e,i,t=this[0];return arguments.length?(i=y(n),this.each(function(e){var t;1===this.nodeType&&(null==(t=i?n.call(this,e,k(this).val()):n)?t="":"number"==typeof t?t+="":Array.isArray(t)&&(t=k.map(t,function(e){return null==e?"":e+""})),(r=k.valHooks[this.type]||k.valHooks[this.nodeName.toLowerCase()])&&"set"in r&&void 0!==r.set(this,t,"value")||(this.value=t))})):t?(r=k.valHooks[t.type]||k.valHooks[t.nodeName.toLowerCase()])&&"get"in r&&void 0!==(e=r.get(t,"value"))?e:"string"==typeof(e=t.value)?e.replace(Bt,""):null==e?"":e:void 0}}),k.extend({valHooks:{option:{get:function(e){var t=k.find.attr(e,"value");return null!=t?t:Pt(k.text(e))}},select:{get:function(e){for(var t,n,r=e.options,i=e.selectedIndex,o="select-one"===e.type,a=o?null:[],s=o?i+1:r.length,c=i<0?s:o?i:0;c<s;c++)if(((n=r[c]).selected||c===i)&&!n.disabled&&(!n.parentNode.disabled||!w(n.parentNode,"optgroup"))){if(t=k(n).val(),o)return t;a.push(t)}return a},set:function(e,t){for(var n,r,i=e.options,o=k.makeArray(t),a=i.length;a--;)((r=i[a]).selected=-1<k.inArray(k.valHooks.option.get(r),o))&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),k.each(["radio","checkbox"],function(){k.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=-1<k.inArray(k(e).val(),t)}},v.checkOn||(k.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),v.focusin="onfocusin"in T;var Ut=/^(?:focusinfocus|focusoutblur)$/,Ht=function(e){e.stopPropagation()};k.extend(k.event,{trigger:function(e,t,n,r){var i,o,a,s,c,u,l,d=[n||O],p=m.call(e,"type")?e.type:e,f=m.call(e,"namespace")?e.namespace.split("."):[],h=l=o=n=n||O;if(3!==n.nodeType&&8!==n.nodeType&&!Ut.test(p+k.event.triggered)&&(-1<p.indexOf(".")&&(p=(f=p.split(".")).shift(),f.sort()),s=p.indexOf(":")<0&&"on"+p,(e=e[k.expando]?e:new k.Event(p,"object"==typeof e&&e)).isTrigger=r?2:3,e.namespace=f.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),t=null==t?[e]:k.makeArray(t,[e]),u=k.event.special[p]||{},r||!u.trigger||!1!==u.trigger.apply(n,t))){if(!r&&!u.noBubble&&!b(n)){for(a=u.delegateType||p,Ut.test(a+p)||(h=h.parentNode);h;h=h.parentNode)d.push(h),o=h;o===(n.ownerDocument||O)&&d.push(o.defaultView||o.parentWindow||T)}for(i=0;(h=d[i++])&&!e.isPropagationStopped();)l=h,e.type=1<i?a:u.bindType||p,(c=(J.get(h,"events")||Object.create(null))[e.type]&&J.get(h,"handle"))&&c.apply(h,t),(c=s&&h[s])&&c.apply&&X(h)&&(e.result=c.apply(h,t),!1===e.result&&e.preventDefault());return e.type=p,r||e.isDefaultPrevented()||u._default&&!1!==u._default.apply(d.pop(),t)||!X(n)||s&&y(n[p])&&!b(n)&&((o=n[s])&&(n[s]=null),k.event.triggered=p,e.isPropagationStopped()&&l.addEventListener(p,Ht),n[p](),e.isPropagationStopped()&&l.removeEventListener(p,Ht),k.event.triggered=void 0,o&&(n[s]=o)),e.result}},simulate:function(e,t,n){var r=k.extend(new k.Event,n,{type:e,isSimulated:!0});k.event.trigger(r,null,t)}}),k.fn.extend({trigger:function(e,t){return this.each(function(){k.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return k.event.trigger(e,t,n,!0)}}),v.focusin||k.each({focus:"focusin",blur:"focusout"},function(n,r){var i=function(e){k.event.simulate(r,e.target,k.event.fix(e))};k.event.special[r]={setup:function(){var e=this.ownerDocument||this.document||this,t=J.access(e,r);t||e.addEventListener(n,i,!0),J.access(e,r,(t||0)+1)},teardown:function(){var e=this.ownerDocument||this.document||this,t=J.access(e,r)-1;t?J.access(e,r,t):(e.removeEventListener(n,i,!0),J.remove(e,r))}}});var zt=T.location,Vt={guid:Date.now()},Kt=/\?/;k.parseXML=function(e){var t;if(!e||"string"!=typeof e)return null;try{t=(new T.DOMParser).parseFromString(e,"text/xml")}catch(e){t=void 0}return t&&!t.getElementsByTagName("parsererror").length||k.error("Invalid XML: "+e),t};var Gt=/\[\]$/,Wt=/\r?\n/g,Yt=/^(?:submit|button|image|reset|file)$/i,qt=/^(?:input|select|textarea|keygen)/i;function Zt(n,e,r,i){if(Array.isArray(e))k.each(e,function(e,t){r||Gt.test(n)?i(n,t):Zt(n+"["+("object"==typeof t&&null!=t?e:"")+"]",t,r,i)});else if(r||"object"!==_(e))i(n,e);else for(var t in e)Zt(n+"["+t+"]",e[t],r,i)}k.param=function(e,t){var n,r=[],i=function(e,t){var n=y(t)?t():t;r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(null==e)return"";if(Array.isArray(e)||e.jquery&&!k.isPlainObject(e))k.each(e,function(){i(this.name,this.value)});else for(n in e)Zt(n,e[n],t,i);return r.join("&")},k.fn.extend({serialize:function(){return k.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=k.prop(this,"elements");return e?k.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!k(this).is(":disabled")&&qt.test(this.nodeName)&&!Yt.test(e)&&(this.checked||!ve.test(e))}).map(function(e,t){var n=k(this).val();return null==n?null:Array.isArray(n)?k.map(n,function(e){return{name:t.name,value:e.replace(Wt,"\r\n")}}):{name:t.name,value:n.replace(Wt,"\r\n")}}).get()}});var Xt=/%20/g,Qt=/#.*$/,Jt=/([?&])_=[^&]*/,$t=/^(.*?):[ \t]*([^\r\n]*)$/gm,en=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,tn=/^(?:GET|HEAD)$/,nn=/^\/\//,rn={},on={},an="*/".concat("*"),sn=O.createElement("a");function cn(o){return function(e,t){"string"!=typeof e&&(t=e,e="*");var n,r=0,i=e.toLowerCase().match(P)||[];if(y(t))for(;n=i[r++];)"+"===n[0]?(n=n.slice(1)||"*",(o[n]=o[n]||[]).unshift(t)):(o[n]=o[n]||[]).push(t)}}function un(t,i,o,a){var s={},c=t===on;function u(e){var r;return s[e]=!0,k.each(t[e]||[],function(e,t){var n=t(i,o,a);return"string"!=typeof n||c||s[n]?c?!(r=n):void 0:(i.dataTypes.unshift(n),u(n),!1)}),r}return u(i.dataTypes[0])||!s["*"]&&u("*")}function ln(e,t){var n,r,i=k.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((i[n]?e:r=r||{})[n]=t[n]);return r&&k.extend(!0,e,r),e}function dn(e,t,n){for(var r,i,o,a,s=e.contents,c=e.dataTypes;"*"===c[0];)c.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(i in s)if(s[i]&&s[i].test(r)){c.unshift(i);break}if(c[0]in n)o=c[0];else{for(i in n){if(!c[0]||e.converters[i+" "+c[0]]){o=i;break}a=a||i}o=o||a}if(o)return o!==c[0]&&c.unshift(o),n[o]}function pn(e,t,n,r){var i,o,a,s,c,u={},l=e.dataTypes.slice();if(l[1])for(a in e.converters)u[a.toLowerCase()]=e.converters[a];for(o=l.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!c&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),c=o,o=l.shift())if("*"===o)o=c;else if("*"!==c&&c!==o){if(!(a=u[c+" "+o]||u["* "+o]))for(i in u)if(s=i.split(" "),s[1]===o&&(a=u[c+" "+s[0]]||u["* "+s[0]])){!0===a?a=u[i]:!0!==u[i]&&(o=s[0],l.unshift(s[1]));break}if(!0!==a)if(a&&e.throws)t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+c+" to "+o}}}return{state:"success",data:t}}sn.href=zt.href,k.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:zt.href,type:"GET",isLocal:en.test(zt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":an,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":k.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?ln(ln(e,k.ajaxSettings),t):ln(k.ajaxSettings,e)},ajaxPrefilter:cn(rn),ajaxTransport:cn(on),ajax:function(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var l,d,p,n,f,r,h,g,i,o,m=k.ajaxSetup({},t),v=m.context||m,y=m.context&&(v.nodeType||v.jquery)?k(v):k.event,b=k.Deferred(),E=k.Callbacks("once memory"),_=m.statusCode||{},a={},s={},c="canceled",C={readyState:0,getResponseHeader:function(e){var t;if(h){if(!n)for(n={};t=$t.exec(p);)n[t[1].toLowerCase()+" "]=(n[t[1].toLowerCase()+" "]||[]).concat(t[2]);t=n[e.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return h?p:null},setRequestHeader:function(e,t){return null==h&&(e=s[e.toLowerCase()]=s[e.toLowerCase()]||e,a[e]=t),this},overrideMimeType:function(e){return null==h&&(m.mimeType=e),this},statusCode:function(e){if(e)if(h)C.always(e[C.status]);else for(var t in e)_[t]=[_[t],e[t]];return this},abort:function(e){var t=e||c;return l&&l.abort(t),u(0,t),this}};if(b.promise(C),m.url=((e||m.url||zt.href)+"").replace(nn,zt.protocol+"//"),m.type=t.method||t.type||m.method||m.type,m.dataTypes=(m.dataType||"*").toLowerCase().match(P)||[""],null==m.crossDomain){r=O.createElement("a");try{r.href=m.url,r.href=r.href,m.crossDomain=sn.protocol+"//"+sn.host!=r.protocol+"//"+r.host}catch(e){m.crossDomain=!0}}if(m.data&&m.processData&&"string"!=typeof m.data&&(m.data=k.param(m.data,m.traditional)),un(rn,m,t,C),h)return C;for(i in(g=k.event&&m.global)&&0==k.active++&&k.event.trigger("ajaxStart"),m.type=m.type.toUpperCase(),m.hasContent=!tn.test(m.type),d=m.url.replace(Qt,""),m.hasContent?m.data&&m.processData&&0===(m.contentType||"").indexOf("application/x-www-form-urlencoded")&&(m.data=m.data.replace(Xt,"+")):(o=m.url.slice(d.length),m.data&&(m.processData||"string"==typeof m.data)&&(d+=(Kt.test(d)?"&":"?")+m.data,delete m.data),!1===m.cache&&(d=d.replace(Jt,"$1"),o=(Kt.test(d)?"&":"?")+"_="+Vt.guid+++o),m.url=d+o),m.ifModified&&(k.lastModified[d]&&C.setRequestHeader("If-Modified-Since",k.lastModified[d]),k.etag[d]&&C.setRequestHeader("If-None-Match",k.etag[d])),(m.data&&m.hasContent&&!1!==m.contentType||t.contentType)&&C.setRequestHeader("Content-Type",m.contentType),C.setRequestHeader("Accept",m.dataTypes[0]&&m.accepts[m.dataTypes[0]]?m.accepts[m.dataTypes[0]]+("*"!==m.dataTypes[0]?", "+an+"; q=0.01":""):m.accepts["*"]),m.headers)C.setRequestHeader(i,m.headers[i]);if(m.beforeSend&&(!1===m.beforeSend.call(v,C,m)||h))return C.abort();if(c="abort",E.add(m.complete),C.done(m.success),C.fail(m.error),l=un(on,m,t,C)){if(C.readyState=1,g&&y.trigger("ajaxSend",[C,m]),h)return C;m.async&&0<m.timeout&&(f=T.setTimeout(function(){C.abort("timeout")},m.timeout));try{h=!1,l.send(a,u)}catch(e){if(h)throw e;u(-1,e)}}else u(-1,"No Transport");function u(e,t,n,r){var i,o,a,s,c,u=t;h||(h=!0,f&&T.clearTimeout(f),l=void 0,p=r||"",C.readyState=0<e?4:0,i=200<=e&&e<300||304===e,n&&(s=dn(m,C,n)),!i&&-1<k.inArray("script",m.dataTypes)&&(m.converters["text script"]=function(){}),s=pn(m,s,C,i),i?(m.ifModified&&((c=C.getResponseHeader("Last-Modified"))&&(k.lastModified[d]=c),(c=C.getResponseHeader("etag"))&&(k.etag[d]=c)),204===e||"HEAD"===m.type?u="nocontent":304===e?u="notmodified":(u=s.state,o=s.data,i=!(a=s.error))):(a=u,!e&&u||(u="error",e<0&&(e=0))),C.status=e,C.statusText=(t||u)+"",i?b.resolveWith(v,[o,u,C]):b.rejectWith(v,[C,u,a]),C.statusCode(_),_=void 0,g&&y.trigger(i?"ajaxSuccess":"ajaxError",[C,m,i?o:a]),E.fireWith(v,[C,u]),g&&(y.trigger("ajaxComplete",[C,m]),--k.active||k.event.trigger("ajaxStop")))}return C},getJSON:function(e,t,n){return k.get(e,t,n,"json")},getScript:function(e,t){return k.get(e,void 0,t,"script")}}),k.each(["get","post"],function(e,i){k[i]=function(e,t,n,r){return y(t)&&(r=r||n,n=t,t=void 0),k.ajax(k.extend({url:e,type:i,dataType:r,data:t,success:n},k.isPlainObject(e)&&e))}}),k.ajaxPrefilter(function(e){for(var t in e.headers)"content-type"===t.toLowerCase()&&(e.contentType=e.headers[t]||"")}),k._evalUrl=function(e,t,n){return k.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(e){k.globalEval(e,t,n)}})},k.fn.extend({wrapAll:function(e){var t;return this[0]&&(y(e)&&(e=e.call(this[0])),t=k(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(n){return y(n)?this.each(function(e){k(this).wrapInner(n.call(this,e))}):this.each(function(){var e=k(this),t=e.contents();t.length?t.wrapAll(n):e.append(n)})},wrap:function(t){var n=y(t);return this.each(function(e){k(this).wrapAll(n?t.call(this,e):t)})},unwrap:function(e){return this.parent(e).not("body").each(function(){k(this).replaceWith(this.childNodes)}),this}}),k.expr.pseudos.hidden=function(e){return!k.expr.pseudos.visible(e)},k.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},k.ajaxSettings.xhr=function(){try{return new T.XMLHttpRequest}catch(e){}};var fn={0:200,1223:204},hn=k.ajaxSettings.xhr();v.cors=!!hn&&"withCredentials"in hn,v.ajax=hn=!!hn,k.ajaxTransport(function(i){var o,a;if(v.cors||hn&&!i.crossDomain)return{send:function(e,t){var n,r=i.xhr();if(r.open(i.type,i.url,i.async,i.username,i.password),i.xhrFields)for(n in i.xhrFields)r[n]=i.xhrFields[n];for(n in i.mimeType&&r.overrideMimeType&&r.overrideMimeType(i.mimeType),i.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest"),e)r.setRequestHeader(n,e[n]);o=function(e){return function(){o&&(o=a=r.onload=r.onerror=r.onabort=r.ontimeout=r.onreadystatechange=null,"abort"===e?r.abort():"error"===e?"number"!=typeof r.status?t(0,"error"):t(r.status,r.statusText):t(fn[r.status]||r.status,r.statusText,"text"!==(r.responseType||"text")||"string"!=typeof r.responseText?{binary:r.response}:{text:r.responseText},r.getAllResponseHeaders()))}},r.onload=o(),a=r.onerror=r.ontimeout=o("error"),void 0!==r.onabort?r.onabort=a:r.onreadystatechange=function(){4===r.readyState&&T.setTimeout(function(){o&&a()})},o=o("abort");try{r.send(i.hasContent&&i.data||null)}catch(e){if(o)throw e}},abort:function(){o&&o()}}}),k.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),k.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return k.globalEval(e),e}}}),k.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),k.ajaxTransport("script",function(n){var r,i;if(n.crossDomain||n.scriptAttrs)return{send:function(e,t){r=k("<script>").attr(n.scriptAttrs||{}).prop({charset:n.scriptCharset,src:n.url}).on("load error",i=function(e){r.remove(),i=null,e&&t("error"===e.type?404:200,e.type)}),O.head.appendChild(r[0])},abort:function(){i&&i()}}});var gn,mn=[],vn=/(=)\?(?=&|$)|\?\?/;k.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=mn.pop()||k.expando+"_"+Vt.guid++;return this[e]=!0,e}}),k.ajaxPrefilter("json jsonp",function(e,t,n){var r,i,o,a=!1!==e.jsonp&&(vn.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&vn.test(e.data)&&"data");if(a||"jsonp"===e.dataTypes[0])return r=e.jsonpCallback=y(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(vn,"$1"+r):!1!==e.jsonp&&(e.url+=(Kt.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return o||k.error(r+" was not called"),o[0]},e.dataTypes[0]="json",i=T[r],T[r]=function(){o=arguments},n.always(function(){void 0===i?k(T).removeProp(r):T[r]=i,e[r]&&(e.jsonpCallback=t.jsonpCallback,mn.push(r)),o&&y(i)&&i(o[0]),o=i=void 0}),"script"}),v.createHTMLDocument=((gn=O.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===gn.childNodes.length),k.parseHTML=function(e,t,n){return"string"!=typeof e?[]:("boolean"==typeof t&&(n=t,t=!1),t||(v.createHTMLDocument?((r=(t=O.implementation.createHTMLDocument("")).createElement("base")).href=O.location.href,t.head.appendChild(r)):t=O),o=!n&&[],(i=I.exec(e))?[t.createElement(i[1])]:(i=Te([e],t,o),o&&o.length&&k(o).remove(),k.merge([],i.childNodes)));var r,i,o},k.fn.load=function(e,t,n){var r,i,o,a=this,s=e.indexOf(" ");return-1<s&&(r=Pt(e.slice(s)),e=e.slice(0,s)),y(t)?(n=t,t=void 0):t&&"object"==typeof t&&(i="POST"),0<a.length&&k.ajax({url:e,type:i||"GET",dataType:"html",data:t}).done(function(e){o=arguments,a.html(r?k("<div>").append(k.parseHTML(e)).find(r):e)}).always(n&&function(e,t){a.each(function(){n.apply(this,o||[e.responseText,t,e])})}),this},k.expr.pseudos.animated=function(t){return k.grep(k.timers,function(e){return t===e.elem}).length},k.offset={setOffset:function(e,t,n){var r,i,o,a,s,c,u=k.css(e,"position"),l=k(e),d={};"static"===u&&(e.style.position="relative"),s=l.offset(),o=k.css(e,"top"),c=k.css(e,"left"),i=("absolute"===u||"fixed"===u)&&-1<(o+c).indexOf("auto")?(a=(r=l.position()).top,r.left):(a=parseFloat(o)||0,parseFloat(c)||0),y(t)&&(t=t.call(e,n,k.extend({},s))),null!=t.top&&(d.top=t.top-s.top+a),null!=t.left&&(d.left=t.left-s.left+i),"using"in t?t.using.call(e,d):("number"==typeof d.top&&(d.top+="px"),"number"==typeof d.left&&(d.left+="px"),l.css(d))}},k.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){k.offset.setOffset(this,t,e)});var e,n,r=this[0];return r?r.getClientRects().length?(e=r.getBoundingClientRect(),n=r.ownerDocument.defaultView,{top:e.top+n.pageYOffset,left:e.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,r=this[0],i={top:0,left:0};if("fixed"===k.css(r,"position"))t=r.getBoundingClientRect();else{for(t=this.offset(),n=r.ownerDocument,e=r.offsetParent||n.documentElement;e&&(e===n.body||e===n.documentElement)&&"static"===k.css(e,"position");)e=e.parentNode;e&&e!==r&&1===e.nodeType&&((i=k(e).offset()).top+=k.css(e,"borderTopWidth",!0),i.left+=k.css(e,"borderLeftWidth",!0))}return{top:t.top-i.top-k.css(r,"marginTop",!0),left:t.left-i.left-k.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===k.css(e,"position");)e=e.offsetParent;return e||se})}}),k.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,i){var o="pageYOffset"===i;k.fn[t]=function(e){return K(this,function(e,t,n){var r;return b(e)?r=e:9===e.nodeType&&(r=e.defaultView),void 0===n?r?r[i]:e[t]:void(r?r.scrollTo(o?r.pageXOffset:n,o?n:r.pageYOffset):e[t]=n)},t,e,arguments.length)}}),k.each(["top","left"],function(e,n){k.cssHooks[n]=ot(v.pixelPosition,function(e,t){if(t)return t=it(e,n),Je.test(t)?k(e).position()[n]+"px":t})}),k.each({Height:"height",Width:"width"},function(a,s){k.each({padding:"inner"+a,content:s,"":"outer"+a},function(r,o){k.fn[o]=function(e,t){var n=arguments.length&&(r||"boolean"!=typeof e),i=r||(!0===e||!0===t?"margin":"border");return K(this,function(e,t,n){var r;return b(e)?0===o.indexOf("outer")?e["inner"+a]:e.document.documentElement["client"+a]:9===e.nodeType?(r=e.documentElement,Math.max(e.body["scroll"+a],r["scroll"+a],e.body["offset"+a],r["offset"+a],r["client"+a])):void 0===n?k.css(e,t,i):k.style(e,t,n,i)},s,n?e:void 0,n)}})}),k.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){k.fn[t]=function(e){return this.on(t,e)}}),k.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),k.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,n){k.fn[n]=function(e,t){return 0<arguments.length?this.on(n,null,e,t):this.trigger(n)}});var yn=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;k.proxy=function(e,t){var n,r,i;if("string"==typeof t&&(n=e[t],t=e,e=n),y(e))return r=s.call(arguments,2),(i=function(){return e.apply(t||this,r.concat(s.call(arguments)))}).guid=e.guid=e.guid||k.guid++,i},k.holdReady=function(e){e?k.readyWait++:k.ready(!0)},k.isArray=Array.isArray,k.parseJSON=JSON.parse,k.nodeName=w,k.isFunction=y,k.isWindow=b,k.camelCase=Z,k.type=_,k.now=Date.now,k.isNumeric=function(e){var t=k.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},k.trim=function(e){return null==e?"":(e+"").replace(yn,"")},void 0===(Cn=function(){return k}.apply(An,[]))||(_n.exports=Cn);var bn=T.jQuery,En=T.$;return k.noConflict=function(e){return T.$===k&&(T.$=En),e&&T.jQuery===k&&(T.jQuery=bn),k},void 0===e&&(T.jQuery=T.$=k),k})},EVsM:function(r,e,t){(function(n){function e(e){return t.bind(null,e)}function t(e){var t=[].slice.call(arguments,1);t.unshift("["+e+"]"),n.stderr.write(t.join(" ")+"\n")}r.exports=e}).call(this,t("8oxB"))},EWn2:function(e,t,n){"use strict";var w,r,l,i,d,o,I,a,x,s,c,u,_,p;(r=w=w||{})[r.Upload=1]="Upload",r[r.Import=2]="Import",(i=l=l||{})[i.File=1]="File",i[i.Directory=2]="Directory",(o=d=d||{})[o.Pending=1]="Pending",o[o.Inflight=2]="Inflight",o[o.Success=3]="Success",o[o.Error=4]="Error",o[o.Paused=5]="Paused",(a=I=I||{}).FolderEmpty="folder_empty",a.FolderHasFileTooLargeToUpload="folder_has_file_too_large_to_upload",a.FolderAllFilesTooLargeToUpload="folder_all_files_too_large_to_upload",a.FileTooLargeToUpload="file_too_large_to_upload",a.FolderHasFileNotImportable="folder_has_file_not_importable",a.FolderAllFilesNotImportable="folder_all_files_not_importable",a.FileTooLargeToImport="file_too_large_to_import",a.FileNotImportable="file_not_importable",(s=x=x||{}).SubtaskParentTokenMissing="RT_0001",s.UploadUnexpected="RT_1001",s.UploadChunkRetryTooManyTimes="RT_1002",s.CreateDirectoryUnexpected="RT_2001",s.ImportUnexpected="RT_3001",s.ImportPollTooManyTimes="RT_3002",(u=c=c||{})[u.Folder=0]="Folder",u[u.Docs=2]="Docs",u[u.Sheets=3]="Sheets",u[u.Mindnotes=11]="Mindnotes",u[u.File=12]="File",(p=_=_||{}).Normal="normal",p.NewSharedFolder="new_shared_folder",p.V3Folder="v3_folder";var E=n("D15H"),L=Object(E.M)(function(e){var t=function(a){var c,e=Object.prototype,l=e.hasOwnProperty,t="function"==typeof Symbol?Symbol:{},i=t.iterator||"@@iterator",n=t.asyncIterator||"@@asyncIterator",r=t.toStringTag||"@@toStringTag";function s(e,t,n,r){var i=t&&t.prototype instanceof m?t:m,o=Object.create(i.prototype),a=new I(r||[]);return o._invoke=O(e,n,a),o}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}a.wrap=s;var u="suspendedStart",p="suspendedYield",f="executing",h="completed",g={};function m(){}function o(){}function v(){}var y={};y[i]=function(){return this};var b=Object.getPrototypeOf,E=b&&b(b(x([])));E&&E!==e&&l.call(E,i)&&(y=E);var _=v.prototype=m.prototype=Object.create(y);function C(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function T(s,c){function u(e,t,n,r){var i=d(s[e],s,t);if("throw"!==i.type){var o=i.arg,a=o.value;return a&&"object"==typeof a&&l.call(a,"__await")?c.resolve(a.__await).then(function(e){u("next",e,n,r)},function(e){u("throw",e,n,r)}):c.resolve(a).then(function(e){o.value=e,n(o)},function(e){return u("throw",e,n,r)})}r(i.arg)}var t;function e(n,r){function e(){return new c(function(e,t){u(n,r,e,t)})}return t=t?t.then(e,e):e()}this._invoke=e}function O(o,a,s){var c=u;return function(e,t){if(c===f)throw new Error("Generator is already running");if(c===h){if("throw"===e)throw t;return L()}for(s.method=e,s.arg=t;;){var n=s.delegate;if(n){var r=k(n,s);if(r){if(r===g)continue;return r}}if("next"===s.method)s.sent=s._sent=s.arg;else if("throw"===s.method){if(c===u)throw c=h,s.arg;s.dispatchException(s.arg)}else"return"===s.method&&s.abrupt("return",s.arg);c=f;var i=d(o,a,s);if("normal"===i.type){if(c=s.done?h:p,i.arg!==g)return{value:i.arg,done:s.done}}else"throw"===i.type&&(c=h,s.method="throw",s.arg=i.arg)}}}function k(e,t){var n=e.iterator[t.method];if(n===c){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=c,k(e,t),"throw"===t.method))return g;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return g}var r=d(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,g;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=c),t.delegate=null,g):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,g)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function w(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function x(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,r=function e(){for(;++n<t.length;)if(l.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=c,e.done=!0,e};return r.next=r}}return{next:L}}function L(){return{value:c,done:!0}}return(o.prototype=_.constructor=v).constructor=o,v[r]=o.displayName="GeneratorFunction",a.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===o||"GeneratorFunction"===(t.displayName||t.name))},a.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,r in e||(e[r]="GeneratorFunction")),e.prototype=Object.create(_),e},a.awrap=function(e){return{__await:e}},C(T.prototype),T.prototype[n]=function(){return this},a.AsyncIterator=T,a.async=function(e,t,n,r,i){void 0===i&&(i=Promise);var o=new T(s(e,t,n,r),i);return a.isGeneratorFunction(t)?o:o.next().then(function(e){return e.done?e.value:o.next()})},C(_),_[r]="Generator",_[i]=function(){return this},_.toString=function(){return"[object Generator]"},a.keys=function(n){var e,r=[];for(e in n)r.push(e);return r.reverse(),function e(){for(;r.length;){var t=r.pop();if(t in n)return e.value=t,e.done=!1,e}return e.done=!0,e}},a.values=x,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=c,this.done=!1,this.delegate=null,this.method="next",this.arg=c,this.tryEntries.forEach(w),!e)for(var t in this)"t"===t.charAt(0)&&l.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=c)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var r=this;function e(e,t){return o.type="throw",o.arg=n,r.next=e,t&&(r.method="next",r.arg=c),!!t}for(var t=this.tryEntries.length-1;0<=t;--t){var i=this.tryEntries[t],o=i.completion;if("root"===i.tryLoc)return e("end");if(i.tryLoc<=this.prev){var a=l.call(i,"catchLoc"),s=l.call(i,"finallyLoc");if(a&&s){if(this.prev<i.catchLoc)return e(i.catchLoc,!0);if(this.prev<i.finallyLoc)return e(i.finallyLoc)}else if(a){if(this.prev<i.catchLoc)return e(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return e(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;0<=n;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&l.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,g):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),w(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r,i=n.completion;return"throw"===i.type&&(r=i.arg,w(n)),r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:x(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=c),g}},a}(e.exports);try{regeneratorRuntime=t}catch(e){Function("r","regeneratorRuntime = r")(t)}}),f=function(e,t){var n=this;if(!(n instanceof f))return new f(e,t);E.L&&(n=Object(E.L)(new Error(t),Object(E.N)(n)));var r=[];return Object(E.S)(e,r.push,r),n.errors=r,void 0!==t&&Object(E.R)(n,"message",String(t)),n};f.prototype=Object(E.Y)(Error.prototype,{constructor:Object(E.C)(5,f),name:Object(E.C)(5,"AggregateError")}),Object(E.B)({global:!0},{AggregateError:f}),Object(E.B)({target:"Promise",stat:!0},{allSettled:function(e){var s=this,t=E.X.f(s),c=t.resolve,n=t.reject,r=Object(E.Z)(function(){var r=Object(E.O)(s.resolve),i=[],o=0,a=1;Object(E.S)(e,function(e){var t=o++,n=!1;i.push(void 0),a++,r.call(s,e).then(function(e){n||(n=!0,i[t]={status:"fulfilled",value:e},--a||c(i))},function(e){n||(n=!0,i[t]={status:"rejected",reason:e},--a||c(i))})}),--a||c(i)});return r.error&&n(r.value),t.promise}}),Object(E.B)({target:"Promise",stat:!0},{try:function(e){var t=E.X.f(this),n=Object(E.Z)(e);return(n.error?t.reject:t.resolve)(n.value),t.promise}});var h="No one promise resolved";Object(E.B)({target:"Promise",stat:!0},{any:function(e){var c=this,t=E.X.f(c),u=t.resolve,l=t.reject,n=Object(E.Z)(function(){var r=Object(E.O)(c.resolve),i=[],o=0,a=1,s=!1;Object(E.S)(e,function(e){var t=o++,n=!1;i.push(void 0),a++,r.call(c,e).then(function(e){n||s||(s=!0,u(e))},function(e){n||s||(n=!0,i[t]=e,--a||l(new(Object(E.Q)("AggregateError"))(i,h)))})}),--a||l(new(Object(E.Q)("AggregateError"))(i,h))});return n.error&&l(n.value),t.promise}});var g=E.P;function m(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):g.resolve(c).then(r,i)}function v(s){return function(){var e=this,a=arguments;return new g(function(t,n){var r=s.apply(e,a);function i(e){m(r,t,n,i,o,"next",e)}function o(e){m(r,t,n,i,o,"throw",e)}i(void 0)})}}var C=v,y=function(e,t){var n=[][e];return!n||!Object(E.T)(function(){n.call(null,t||function(){throw 1},1)})},b=E.U.indexOf,T=[].indexOf,O=!!T&&1/[1].indexOf(1,-0)<0,k=y("indexOf");Object(E.B)({target:"Array",proto:!0,forced:O||k},{indexOf:function(e){return O?T.apply(this,arguments)||0:b(this,e,1<arguments.length?arguments[1]:void 0)}});var S=Object(E.V)("Array").indexOf,R=Array.prototype,N=function(e){var t=e.indexOf;return e===R||e instanceof Array&&t===R.indexOf?S:t},D=N;function M(e,t){var r=t.setDragging,a=t.handleDrop;function n(e){var t;e.preventDefault();var n=e.dataTransfer;n&&(D(n.types)&&0<=D(t=n.types).call(t,"Files")?(e.stopPropagation(),n.dropEffect="copy",n.effectAllowed="copy",r(e,!0)):(n.dropEffect="none",n.effectAllowed="none"))}function i(e){e.preventDefault(),r(e,!1)}function o(e){e.preventDefault(),r(e,!1),s(e)}function s(e){return c.apply(this,arguments)}function c(){return(c=C(L.mark(function e(t){var n,r,i,o;return L.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.dataTransfer){e.next=6;break}if(n=t.dataTransfer,r=n.items,i=n.files,r&&r[0]&&"string"===r[0].kind)return e.abrupt("return");e.next=4;break;case 4:(o=r||i)&&a({list:o,event:t});case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}return e.addEventListener("dragenter",n),e.addEventListener("dragover",n),e.addEventListener("dragleave",i),e.addEventListener("drop",o),function(){e.removeEventListener("dragenter",n),e.removeEventListener("dragover",n),e.removeEventListener("dragleave",i),e.removeEventListener("drop",o)}}var P=n("gSGL"),j=Array.isArray||function(e){return"Array"==Object(E.W)(e)},F=Object(E.gb)("species"),B=function(e,t){var n;return j(e)&&("function"==typeof(n=e.constructor)&&(n===Array||j(n.prototype))||Object(E.ab)(n)&&null===(n=n[F]))&&(n=void 0),new(void 0===n?Array:n)(0===t?0:t)},U=[].push,H=function(f){var h=1==f,g=2==f,m=3==f,v=4==f,y=6==f,b=5==f||y;return function(e,t,n,r){for(var i,o,a=Object(E.db)(e),s=Object(E.bb)(a),c=Object(E.cb)(t,n,3),u=Object(E.eb)(s.length),l=0,d=r||B,p=h?d(e,u):g?d(e,0):void 0;l<u;l++)if((b||l in s)&&(o=c(i=s[l],l,a),f))if(h)p[l]=o;else if(o)switch(f){case 3:return!0;case 5:return i;case 6:return l;case 2:U.call(p,i)}else if(v)return!1;return y?-1:m||v?v:p}},z={forEach:H(0),map:H(1),filter:H(2),some:H(3),every:H(4),find:H(5),findIndex:H(6)},V=Object(E.gb)("species"),K=function(t){return!Object(E.T)(function(){var e=[];return(e.constructor={})[V]=function(){return{foo:1}},1!==e[t](Boolean).foo})},W=z.map;Object(E.B)({target:"Array",proto:!0,forced:!K("map")},{map:function(e){return W(this,e,1<arguments.length?arguments[1]:void 0)}});var Y,q=Object(E.V)("Array").map,Z=Array.prototype,X=function(e){var t=e.map;return e===Z||e instanceof Array&&t===Z.map?q:t},Q=E.P;function J(e){return new Q(function(r,i){$(function(e){var t=e.target,n=t&&t.files;n?r({event:e,files:n}):i()},e)})}function $(t,e){Y&&(Y.remove(),Y=void 0);var n,r=document.createElement("input");r.setAttribute("type","file"),r.setAttribute("style","display: block; position: fixed; width: 1px; height: 1px; left: -1px; top: -1px; opacity: 0; overflow: hidden;"),e&&e.allowMultiple&&r.setAttribute("multiple","multiple"),e&&e.isDirectory&&r.setAttribute("webkitdirectory","webkitdirectory"),e&&e.fileTypes&&e.fileTypes.length&&(n=e.fileTypes,r.setAttribute("accept",Object(P.a)(n)?n:X(n).call(n,function(e){var t=e.replace(/\s/g,"").toLowerCase();return t.match(/^[^.][^/]+$/)&&(t=".".concat(t)),t}).join(","))),r.addEventListener("change",function(e){t(e),r.remove(),Y=void 0}),document.body.appendChild(r),(Y=r).focus(),r.click()}var ee=n("3Hq1"),te=n("u3oV"),ne=n("7EGn"),re=n("fujP"),ie=n("4O8T"),oe=n.n(ie),ae=n("vYB2"),se=n.n(ae),ce=n("Qyje"),ue=n.n(ce),le=n("9+78"),de=n.n(le),pe=n("3tWU"),fe=n("3y9D"),he=n.n(fe);n.d(t,"d",function(){return Xc}),n.d(t,"b",function(){return w}),n.d(t,"c",function(){return I}),n.d(t,"e",function(){return d}),n.d(t,"a",function(){return _}),n.d(t,"f",function(){return M}),n.d(t,"g",function(){return J});var ge=z.every;Object(E.B)({target:"Array",proto:!0,forced:y("every")},{every:function(e){return ge(this,e,1<arguments.length?arguments[1]:void 0)}});var me=Object(E.V)("Array").every,ve=Array.prototype,ye=function(e){var t=e.every;return e===ve||e instanceof Array&&t===ve.every?me:t},be=20971520,Ee=10737418240;function _e(e,t){return new RegExp(".+.".concat(t,"$")).test(e)}function Ae(t,e){return ye(e).call(e,function(e){return!_e(t,e)})}function Ce(e,t,n,r){return n<t||!(!r||!Ae(e,r))}function Te(e,t){return"number"==typeof t?t:e===w.Import?be:Ee}Object(E.B)({target:"Object",stat:!0,forced:!E.hb,sham:!E.hb},{defineProperty:E.fb.f});var Oe=Object(E.M)(function(e){var r=E.ib.Object,t=e.exports=function(e,t,n){return r.defineProperty(e,t,n)};r.defineProperty.sham&&(t.sham=!0)}),ke=Oe;Object(E.B)({target:"Object",stat:!0,forced:!E.hb,sham:!E.hb},{defineProperties:E.jb});var Se=Object(E.M)(function(e){var n=E.ib.Object,t=e.exports=function(e,t){return n.defineProperties(e,t)};n.defineProperties.sham&&(t.sham=!0)}),we=E.c.concat("length","prototype"),Ie={f:Object.getOwnPropertyNames||function(e){return Object(E.b)(e,we)}},xe={f:Object.getOwnPropertySymbols},Le=Object(E.Q)("Reflect","ownKeys")||function(e){var t=Ie.f(Object(E.d)(e)),n=xe.f;return n?t.concat(n(e)):t},Re=function(e,t,n){var r=Object(E.e)(t);r in e?E.fb.f(e,r,Object(E.C)(0,n)):e[r]=n};Object(E.B)({target:"Object",stat:!0,sham:!E.hb},{getOwnPropertyDescriptors:function(e){for(var t,n,r=Object(E.f)(e),i=E.g.f,o=Le(r),a={},s=0;o.length>s;)void 0!==(n=i(r,t=o[s++]))&&Re(a,t,n);return a}});var Ne=E.ib.Object.getOwnPropertyDescriptors,De=z.forEach,Me=y("forEach")?function(e){return De(this,e,1<arguments.length?arguments[1]:void 0)}:[].forEach;Object(E.B)({target:"Array",proto:!0,forced:[].forEach!=Me},{forEach:Me});var Pe=Object(E.V)("Array").forEach,je=Array.prototype,Fe={DOMTokenList:!0,NodeList:!0},Be=function(e){var t=e.forEach;return e===je||e instanceof Array&&t===je.forEach||Fe.hasOwnProperty(Object(E.h)(e))?Pe:t},Ue=E.g.f,He=Object(E.T)(function(){Ue(1)}),ze=!E.hb||He;Object(E.B)({target:"Object",stat:!0,forced:ze,sham:!E.hb},{getOwnPropertyDescriptor:function(e,t){return Ue(Object(E.f)(e),t)}});var Ve=Object(E.M)(function(e){var n=E.ib.Object,t=e.exports=function(e,t){return n.getOwnPropertyDescriptor(e,t)};n.getOwnPropertyDescriptor.sham&&(t.sham=!0)}),Ke=z.filter;Object(E.B)({target:"Array",proto:!0,forced:!K("filter")},{filter:function(e){return Ke(this,e,1<arguments.length?arguments[1]:void 0)}});var Ge=Object(E.V)("Array").filter,We=Array.prototype,Ye=function(e){var t=e.filter;return e===We||e instanceof Array&&t===We.filter?Ge:t},qe=Ie.f,Ze={}.toString,Xe="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],Qe=function(e){try{return qe(e)}catch(e){return Xe.slice()}},Je={f:function(e){return Xe&&"[object Window]"==Ze.call(e)?Qe(e):qe(Object(E.f)(e))}},$e={f:E.gb},et=E.fb.f,tt=function(e){var Symbol=E.ib.Symbol||(E.ib.Symbol={});Object(E.i)(Symbol,e)||et(Symbol,e,{value:$e.f(e)})},nt=z.forEach,rt=Object(E.j)("hidden"),it="Symbol",ot="prototype",at=Object(E.gb)("toPrimitive"),st=E.k.set,ct=E.k.getterFor(it),ut=Object[ot],lt=E.l.Symbol,dt=E.l.JSON,pt=dt&&dt.stringify,ft=E.g.f,ht=E.fb.f,gt=Je.f,mt=E.t.f,vt=Object(E.m)("symbols"),yt=Object(E.m)("op-symbols"),bt=Object(E.m)("string-to-symbol-registry"),Et=Object(E.m)("symbol-to-string-registry"),_t=Object(E.m)("wks"),At=E.l.QObject,Ct=!At||!At[ot]||!At[ot].findChild,Tt=E.hb&&Object(E.T)(function(){return 7!=Object(E.Y)(ht({},"a",{get:function(){return ht(this,"a",{value:7}).a}})).a})?function(e,t,n){var r=ft(ut,t);r&&delete ut[t],ht(e,t,n),r&&e!==ut&&ht(ut,t,r)}:ht,Ot=function(e,t){var n=vt[e]=Object(E.Y)(lt[ot]);return st(n,{type:it,tag:e,description:t}),E.hb||(n.description=t),n},kt=E.n&&"symbol"==typeof lt.iterator?function(e){return"symbol"==typeof e}:function(e){return Object(e)instanceof lt},St=function(e,t,n){e===ut&&St(yt,t,n),Object(E.d)(e);var r=Object(E.e)(t,!0);return Object(E.d)(n),Object(E.i)(vt,r)?(n.enumerable?(Object(E.i)(e,rt)&&e[rt][r]&&(e[rt][r]=!1),n=Object(E.Y)(n,{enumerable:Object(E.C)(0,!1)})):(Object(E.i)(e,rt)||ht(e,rt,Object(E.C)(1,{})),e[rt][r]=!0),Tt(e,r,n)):ht(e,r,n)},wt=function(t,e){Object(E.d)(t);var n=Object(E.f)(e),r=Object(E.q)(n).concat(Nt(n));return nt(r,function(e){E.hb&&!xt.call(n,e)||St(t,e,n[e])}),t},It=function(e,t){return void 0===t?Object(E.Y)(e):wt(Object(E.Y)(e),t)},xt=function(e){var t=Object(E.e)(e,!0),n=mt.call(this,t);return!(this===ut&&Object(E.i)(vt,t)&&!Object(E.i)(yt,t))&&(!(n||!Object(E.i)(this,t)||!Object(E.i)(vt,t)||Object(E.i)(this,rt)&&this[rt][t])||n)},Lt=function(e,t){var n=Object(E.f)(e),r=Object(E.e)(t,!0);if(n!==ut||!Object(E.i)(vt,r)||Object(E.i)(yt,r)){var i=ft(n,r);return!i||!Object(E.i)(vt,r)||Object(E.i)(n,rt)&&n[rt][r]||(i.enumerable=!0),i}},Rt=function(e){var t=gt(Object(E.f)(e)),n=[];return nt(t,function(e){Object(E.i)(vt,e)||Object(E.i)(E.s,e)||n.push(e)}),n},Nt=function(e){var t=e===ut,n=gt(t?yt:Object(E.f)(e)),r=[];return nt(n,function(e){!Object(E.i)(vt,e)||t&&!Object(E.i)(ut,e)||r.push(vt[e])}),r};E.n||(lt=function(){if(this instanceof lt)throw TypeError("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,t=Object(E.o)(e),n=function(e){this===ut&&n.call(yt,e),Object(E.i)(this,rt)&&Object(E.i)(this[rt],t)&&(this[rt][t]=!1),Tt(this,t,Object(E.C)(1,e))};return E.hb&&Ct&&Tt(ut,t,{configurable:!0,set:n}),Ot(t,e)},Object(E.p)(lt[ot],"toString",function(){return ct(this).tag}),E.t.f=xt,E.fb.f=St,E.g.f=Lt,Ie.f=Je.f=Rt,xe.f=Nt,E.hb&&ht(lt[ot],"description",{configurable:!0,get:function(){return ct(this).description}}),$e.f=function(e){return Ot(Object(E.gb)(e),e)}),Object(E.B)({global:!0,wrap:!0,forced:!E.n,sham:!E.n},{Symbol:lt}),nt(Object(E.q)(_t),function(e){tt(e)}),Object(E.B)({target:it,stat:!0,forced:!E.n},{for:function(e){var t=String(e);if(Object(E.i)(bt,t))return bt[t];var n=lt(t);return bt[t]=n,Et[n]=t,n},keyFor:function(e){if(!kt(e))throw TypeError(e+" is not a symbol");if(Object(E.i)(Et,e))return Et[e]},useSetter:function(){Ct=!0},useSimple:function(){Ct=!1}}),Object(E.B)({target:"Object",stat:!0,forced:!E.n,sham:!E.hb},{create:It,defineProperty:St,defineProperties:wt,getOwnPropertyDescriptor:Lt}),Object(E.B)({target:"Object",stat:!0,forced:!E.n},{getOwnPropertyNames:Rt,getOwnPropertySymbols:Nt}),Object(E.B)({target:"Object",stat:!0,forced:Object(E.T)(function(){xe.f(1)})},{getOwnPropertySymbols:function(e){return xe.f(Object(E.db)(e))}}),dt&&Object(E.B)({target:"JSON",stat:!0,forced:!E.n||Object(E.T)(function(){var e=lt();return"[null]"!=pt([e])||"{}"!=pt({a:e})||"{}"!=pt(Object(e))})},{stringify:function(e){for(var t,n,r=[e],i=1;i<arguments.length;)r.push(arguments[i++]);if(n=t=r[1],(Object(E.ab)(t)||void 0!==e)&&!kt(e))return j(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!kt(t))return t}),r[1]=t,pt.apply(dt,r)}}),lt[ot][at]||Object(E.R)(lt[ot],at,lt[ot].valueOf),Object(E.r)(lt,it),E.s[rt]=!0;var Dt=E.ib.Object.getOwnPropertySymbols,Mt=Dt,Pt=Object(E.T)(function(){Object(E.q)(1)});Object(E.B)({target:"Object",stat:!0,forced:Pt},{keys:function(e){return Object(E.q)(Object(E.db)(e))}});var jt=E.ib.Object.keys,Ft=jt,Bt=Oe;function Ut(e,t,n){return t in e?Bt(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ht=Ut;function zt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var Vt=zt;tt("iterator");var Kt=$e.f("iterator"),Gt=Object(E.gb)("isConcatSpreadable"),Wt=9007199254740991,Yt="Maximum allowed index exceeded",qt=!Object(E.T)(function(){var e=[];return e[Gt]=!1,e.concat()[0]!==e}),Zt=K("concat"),Xt=function(e){if(!Object(E.ab)(e))return!1;var t=e[Gt];return void 0!==t?!!t:j(e)},Qt=!qt||!Zt;Object(E.B)({target:"Array",proto:!0,forced:Qt},{concat:function(e){for(var t,n,r,i=Object(E.db)(this),A=B(i,0),o=0,a=-1,s=arguments.length;a<s;a++)if(Xt(r=-1===a?i:arguments[a])){if(n=Object(E.eb)(r.length),Wt<o+n)throw TypeError(Yt);for(t=0;t<n;t++,o++)t in r&&Re(A,o,r[t])}else{if(Wt<=o)throw TypeError(Yt);Re(A,o++,r)}return A.length=o,A}}),tt("asyncIterator"),tt("hasInstance"),tt("isConcatSpreadable"),tt("match"),tt("matchAll"),tt("replace"),tt("search"),tt("species"),tt("split"),tt("toPrimitive"),tt("toStringTag"),tt("unscopables"),Object(E.r)(Math,"Math",!0),Object(E.r)(E.l.JSON,"JSON",!0);var Jt=E.ib.Symbol;tt("dispose"),tt("observable"),tt("patternMatch"),tt("replaceAll");var $t=Jt,en=Object(E.M)(function(t){function n(e){return(n="function"==typeof $t&&"symbol"==typeof Kt?function(e){return typeof e}:function(e){return e&&"function"==typeof $t&&e.constructor===$t&&e!==$t.prototype?"symbol":typeof e})(e)}function r(e){return"function"==typeof $t&&"symbol"===n(Kt)?t.exports=r=function(e){return n(e)}:t.exports=r=function(e){return e&&"function"==typeof $t&&e.constructor===$t&&e!==$t.prototype?"symbol":n(e)},r(e)}t.exports=r});function tn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var nn=tn;function rn(e,t){return!t||"object"!==en(t)&&"function"!=typeof t?nn(e):t}var on=rn,an=Object(E.T)(function(){Object(E.N)(1)});Object(E.B)({target:"Object",stat:!0,forced:an,sham:!E.u},{getPrototypeOf:function(e){return Object(E.N)(Object(E.db)(e))}});var sn=E.ib.Object.getPrototypeOf;Object(E.B)({target:"Object",stat:!0},{setPrototypeOf:E.L});var cn=E.ib.Object.setPrototypeOf,un=Object(E.M)(function(t){function n(e){return t.exports=n=cn?sn:function(e){return e.__proto__||sn(e)},n(e)}t.exports=n});Object(E.B)({target:"Object",stat:!0,sham:!E.hb},{create:E.Y});var ln=E.ib.Object,dn=function(e,t){return ln.create(e,t)},pn=Object(E.M)(function(n){function r(e,t){return n.exports=r=cn||function(e,t){return e.__proto__=t,e},r(e,t)}n.exports=r});function fn(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=dn(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&pn(e,t)}var hn=fn;Object(E.B)({target:"Array",stat:!0},{isArray:j});var gn=E.ib.Array.isArray,mn=gn;function vn(e){if(mn(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}var yn=vn,bn=function(e){var t,n,r,i,o=Object(E.db)(e),a="function"==typeof this?this:Array,s=arguments.length,c=1<s?arguments[1]:void 0,u=void 0!==c,l=0,d=Object(E.v)(o);if(u&&(c=Object(E.cb)(c,2<s?arguments[2]:void 0,2)),null==d||a==Array&&Object(E.w)(d))for(n=new a(t=Object(E.eb)(o.length));l<t;l++)Re(n,l,u?c(o[l],l):o[l]);else for(i=d.call(o),n=new a;!(r=i.next()).done;l++)Re(n,l,u?Object(E.x)(i,c,[r.value,l],!0):r.value);return n.length=l,n},En=!Object(E.y)(function(e){Array.from(e)});Object(E.B)({target:"Array",stat:!0,forced:En},{from:bn});var _n=E.ib.Array.from,An=_n,Cn=Object(E.gb)("iterator"),Tn=function(e){var t=Object(e);return void 0!==t[Cn]||"@@iterator"in t||E.z.hasOwnProperty(Object(E.h)(t))};function On(e){if(Tn(Object(e))||"[object Arguments]"===Object.prototype.toString.call(e))return An(e)}var kn=On;function Sn(){throw new TypeError("Invalid attempt to spread non-iterable instance")}var wn=Sn;function In(e){return yn(e)||kn(e)||wn()}var xn=In,Ln=Object(E.V)("Array").concat,Rn=Array.prototype,Nn=function(e){var t=e.concat;return e===Rn||e instanceof Array&&t===Rn.concat?Ln:t},Dn=gn,Mn=Math.max,Pn=Math.min,jn=9007199254740991,Fn="Maximum allowed length exceeded";Object(E.B)({target:"Array",proto:!0,forced:!K("splice")},{splice:function(e,t){var n,r,A,i,o,a,s=Object(E.db)(this),c=Object(E.eb)(s.length),u=Object(E.A)(e,c),l=arguments.length;if(0===l?n=r=0:r=1===l?(n=0,c-u):(n=l-2,Pn(Mn(Object(E.a)(t),0),c-u)),jn<c+n-r)throw TypeError(Fn);for(A=B(s,r),i=0;i<r;i++)(o=u+i)in s&&Re(A,i,s[o]);if(n<(A.length=r)){for(i=u;i<c-r;i++)a=i+n,(o=i+r)in s?s[a]=s[o]:delete s[a];for(i=c;c-r+n<i;i--)delete s[i-1]}else if(r<n)for(i=c-r;u<i;i--)a=i+n-1,(o=i+r-1)in s?s[a]=s[o]:delete s[a];for(i=0;i<n;i++)s[i+u]=arguments[i+2];return s.length=c-r+n,A}});var Bn=Object(E.V)("Array").splice,Un=Array.prototype,Hn=function(e){var t=e.splice;return e===Un||e instanceof Array&&t===Un.splice?Bn:t},zn=z.findIndex,Vn="findIndex",Kn=!0;Vn in[]&&Array(1)[Vn](function(){Kn=!1}),Object(E.B)({target:"Array",proto:!0,forced:Kn},{findIndex:function(e){return zn(this,e,1<arguments.length?arguments[1]:void 0)}});var Gn=Object(E.V)("Array").findIndex,Wn=Array.prototype,Yn=function(e){var t=e.findIndex;return e===Wn||e instanceof Array&&t===Wn.findIndex?Gn:t},qn=z.find,Zn="find",Xn=!0;Zn in[]&&Array(1)[Zn](function(){Xn=!1}),Object(E.B)({target:"Array",proto:!0,forced:Xn},{find:function(e){return qn(this,e,1<arguments.length?arguments[1]:void 0)}});var Qn=Object(E.V)("Array").find,Jn=Array.prototype,$n=function(e){var t=e.find;return e===Jn||e instanceof Array&&t===Jn.find?Qn:t},er=function(e){var t=Object(E.v)(e);if("function"!=typeof t)throw TypeError(String(e)+" is not iterable");return Object(E.d)(t.call(e))},tr=er,nr=Object(E.gb)("species"),rr=[].slice,ir=Math.max;Object(E.B)({target:"Array",proto:!0,forced:!K("slice")},{slice:function(e,t){var n,r,i,o=Object(E.f)(this),a=Object(E.eb)(o.length),s=Object(E.A)(e,a),c=Object(E.A)(void 0===t?a:t,a);if(j(o)&&(("function"==typeof(n=o.constructor)&&(n===Array||j(n.prototype))||Object(E.ab)(n)&&null===(n=n[nr]))&&(n=void 0),n===Array||void 0===n))return rr.call(o,s,c);for(r=new(void 0===n?Array:n)(ir(c-s,0)),i=0;s<c;s++,i++)s in o&&Re(r,i,o[s]);return r.length=i,r}});var or=Object(E.V)("Array").slice,ar=Array.prototype,sr=function(e){var t=e.slice;return e===ar||e instanceof Array&&t===ar.slice?or:t},cr=!Object(E.T)(function(){return Object.isExtensible(Object.preventExtensions({}))}),ur=Object(E.M)(function(e){var t=E.fb.f,n=Object(E.o)("meta"),r=0,i=Object.isExtensible||function(){return!0},o=function(e){t(e,n,{value:{objectID:"O"+ ++r,weakData:{}}})},a=function(e,t){if(!Object(E.ab)(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!Object(E.i)(e,n)){if(!i(e))return"F";if(!t)return"E";o(e)}return e[n].objectID},s=function(e,t){if(!Object(E.i)(e,n)){if(!i(e))return!0;if(!t)return!1;o(e)}return e[n].weakData},c=function(e){return cr&&u.REQUIRED&&i(e)&&!Object(E.i)(e,n)&&o(e),e},u=e.exports={REQUIRED:!1,fastKey:a,getWeakData:s,onFreeze:c};E.s[n]=!0}),lr=(ur.REQUIRED,ur.fastKey,ur.getWeakData,ur.onFreeze,E.fb.f),dr=z.forEach,pr=E.k.set,fr=E.k.getterFor,hr=function(n,e,t,r,a){var s,c,i=E.l[n],u=i&&i.prototype,o=r?"set":"add",l={};return E.hb&&"function"==typeof i&&(a||u.forEach&&!Object(E.T)(function(){(new i).entries().next()}))?(s=e(function(e,t){pr(Object(E.D)(e,s,n),{type:n,collection:new i}),null!=t&&Object(E.S)(t,e[o],e,r)}),c=fr(n),dr(["add","clear","delete","forEach","get","has","set","keys","values","entries"],function(i){var o="add"==i||"set"==i;i in u&&(!a||"clear"!=i)&&Object(E.R)(s.prototype,i,function(e,t){var n=c(this).collection;if(!o&&a&&!Object(E.ab)(e))return"get"==i&&void 0;var r=n[i](0===e?0:e,t);return o?this:r})}),a||lr(s.prototype,"size",{get:function(){return c(this).collection.size}})):(s=t.getConstructor(e,n,r,o),ur.REQUIRED=!0),Object(E.r)(s,n,!1,!0),l[n]=s,Object(E.B)({global:!0,forced:!0},l),a||t.setStrong(s,n,r),s},gr=E.fb.f,mr=ur.fastKey,vr=E.k.set,yr=E.k.getterFor,br=(hr("Map",function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},{getConstructor:function(e,n,r,i){var o=e(function(e,t){Object(E.D)(e,o,n),vr(e,{type:n,index:Object(E.Y)(null),first:void 0,last:void 0,size:0}),E.hb||(e.size=0),null!=t&&Object(E.S)(t,e[i],e,r)}),s=yr(n),a=function(e,t,n){var r,i,o=s(e),a=c(e,t);return a?a.value=n:(o.last=a={index:i=mr(t,!0),key:t,value:n,previous:r=o.last,next:void 0,removed:!1},o.first||(o.first=a),r&&(r.next=a),E.hb?o.size++:e.size++,"F"!==i&&(o.index[i]=a)),e},c=function(e,t){var n,r=s(e),i=mr(t);if("F"!==i)return r.index[i];for(n=r.first;n;n=n.next)if(n.key==t)return n};return Object(E.E)(o.prototype,{clear:function(){for(var e=this,t=s(e),n=t.index,r=t.first;r;)r.removed=!0,r.previous&&(r.previous=r.previous.next=void 0),delete n[r.index],r=r.next;t.first=t.last=void 0,E.hb?t.size=0:e.size=0},delete:function(e){var t,n,r=this,i=s(r),o=c(r,e);return o&&(t=o.next,n=o.previous,delete i.index[o.index],o.removed=!0,n&&(n.next=t),t&&(t.previous=n),i.first==o&&(i.first=t),i.last==o&&(i.last=n),E.hb?i.size--:r.size--),!!o},forEach:function(e){for(var t,n=s(this),r=Object(E.cb)(e,1<arguments.length?arguments[1]:void 0,3);t=t?t.next:n.first;)for(r(t.value,t.key,this);t&&t.removed;)t=t.previous},has:function(e){return!!c(this,e)}}),Object(E.E)(o.prototype,r?{get:function(e){var t=c(this,e);return t&&t.value},set:function(e,t){return a(this,0===e?0:e,t)}}:{add:function(e){return a(this,e=0===e?0:e,e)}}),E.hb&&gr(o.prototype,"size",{get:function(){return s(this).size}}),o},setStrong:function(e,t,n){var r=t+" Iterator",i=yr(t),o=yr(r);Object(E.F)(e,t,function(e,t){vr(this,{type:r,target:e,state:i(e),kind:t,last:void 0})},function(){for(var e=o(this),t=e.kind,n=e.last;n&&n.removed;)n=n.previous;return e.target&&(e.last=n=n?n.next:e.state.first)?"keys"==t?{value:n.key,done:!1}:"values"==t?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:{value:e.target=void 0,done:!0}},n?"entries":"values",!n,!0),Object(E.G)(t)}},!0),E.ib.Map);function Er(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Bt(e,r.key,r)}}function _r(e,t,n){return t&&Er(e.prototype,t),n&&Er(e,n),e}var Ar=_r,Cr=N,Tr=Dt,Or=jt;function kr(e,t){if(null==e)return{};for(var n,r={},i=Or(e),o=0;o<i.length;o++)n=i[o],0<=Cr(t).call(t,n)||(r[n]=e[n]);return r}var Sr=kr;function wr(e,t){if(null==e)return{};var n,r=Sr(e,t);if(Tr)for(var i=Tr(e),o=0;o<i.length;o++)n=i[o],0<=Cr(t).call(t,n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n]);return r}var Ir=wr,xr="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";function Lr(e){void 0===e&&(e=20);for(var t="",n=0;n<e;n++){var r=Math.floor(Math.random()*xr.length);t+=xr[r]}return t}function Rr(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})}var Nr=function(){return Rr()},Dr=function e(t){var n=t.id,r=t.sourceType,i=t.name;Vt(this,e),this.id=n||Nr(),this.sourceType=r,this.name=i},Mr=function(){function i(e){var t,n=e.jobType,r=Ir(e,["jobType"]);return Vt(this,i),(t=on(this,un(i).call(this,r))).status=d.Pending,t.jobType=n,t}return hn(i,Dr),Ar(i,[{key:"canPause",get:function(){return this.status===d.Pending||this.status===d.Inflight}},{key:"canRetry",get:function(){return this.status===d.Paused||this.status===d.Error}}]),i}(),Pr=function(){function o(e){var t,n=e.file,r=e.options;Vt(this,o),(t=on(this,un(o).call(this,{jobType:r.jobType,sourceType:l.File,name:n.name})))._uploadedSize=0,t.file=n,t.totalSize=n.size;var i=Te(r.jobType,r.sizeLimit);return Ce(n.name,n.size,i,r.extensions)&&(t.parseError=r.jobType===w.Import?n.size>i?I.FileTooLargeToImport:I.FileNotImportable:I.FileTooLargeToUpload,t.failedToParseFiles=[n.name],t.shouldAbort=!0),t}return hn(o,Mr),Ar(o,[{key:"start",value:function(){this.status=d.Inflight}},{key:"finish",value:function(){this.status=this.error?d.Error:d.Success}},{key:"pause",value:function(e){this.status=d.Paused,this.pausedByOffline=Boolean(e)}},{key:"retry",value:function(){this.status=d.Pending,this.pausedByOffline=!1}},{key:"uploadedSize",set:function(e){this._uploadedSize=Math.min(Math.max(e,0),this.totalSize)},get:function(){return this._uploadedSize}},{key:"progress",get:function(){return 0===this.totalSize?0:Math.round(this.uploadedSize/this.totalSize*100)/100}}]),o}(),jr=function(){function i(e){var t,n=e.file,r=e.options;return Vt(this,i),(t=on(this,un(i).call(this,{file:n,options:r}))).parentToken=r.parentToken,(t.options=r).jobType===w.Upload&&(t.fileToken=r.fileToken,t.memberID=r.memberID,t.shouldAddToRecents=r.shouldAddToRecents),t}return hn(i,Pr),Ar(i,[{key:"mountPoint",get:function(){return this.jobType===w.Import?void 0:this.options.mountPoint||"explorer"}}]),i}(),Fr=function(){function r(e){var t=e.file,n=e.options;return Vt(this,r),on(this,un(r).call(this,{file:t,options:n}))}return hn(r,Pr),r}(),Br=_n,Ur=function(u){return function(e,t,n,r){Object(E.O)(t);var i=Object(E.db)(e),o=Object(E.bb)(i),a=Object(E.eb)(i.length),s=u?a-1:0,c=u?-1:1;if(n<2)for(;;){if(s in o){r=o[s],s+=c;break}if(s+=c,u?s<0:a<=s)throw TypeError("Reduce of empty array with no initial value")}for(;u?0<=s:s<a;s+=c)s in o&&(r=t(r,o[s],s,i));return r}},Hr={left:Ur(!1),right:Ur(!0)}.left;Object(E.B)({target:"Array",proto:!0,forced:y("reduce")},{reduce:function(e){return Hr(this,e,arguments.length,1<arguments.length?arguments[1]:void 0)}});var zr=Object(E.V)("Array").reduce,Vr=Array.prototype,Kr=function(e){var t=e.reduce;return e===Vr||e instanceof Array&&t===Vr.reduce?zr:t},Gr=Math.min,Wr=[].lastIndexOf,Yr=!!Wr&&1/[1].lastIndexOf(1,-0)<0,qr=y("lastIndexOf"),Zr=Yr||qr?function(e){if(Yr)return Wr.apply(this,arguments)||0;var t=Object(E.f)(this),n=Object(E.eb)(t.length),r=n-1;for(1<arguments.length&&(r=Gr(r,Object(E.a)(arguments[1]))),r<0&&(r=n+r);0<=r;r--)if(r in t&&t[r]===e)return r||0;return-1}:Wr;Object(E.B)({target:"Array",proto:!0,forced:Zr!==[].lastIndexOf},{lastIndexOf:Zr});var Xr=Object(E.V)("Array").lastIndexOf,Qr=Array.prototype,Jr=function(e){var t=e.lastIndexOf;return e===Qr||e instanceof Array&&t===Qr.lastIndexOf?Xr:t};function $r(t){return new Promise(function(e){t.file(e)})}function ei(e){return e.webkitRelativePath}function ti(r){return new Promise(function(e,t){var n=new FileReader;n.onload=function(){e(n.result)},n.onerror=function(){t("upload read blob error")},n.readAsArrayBuffer(r)})}function ni(t,e){var n,r=Ft(t);return Mt&&(n=Mt(t),e&&(n=Ye(n).call(n,function(e){return Ve(t,e).enumerable})),r.push.apply(r,n)),r}function ri(t){for(var e=1;e<arguments.length;e++){var n,r,i=null!=arguments[e]?arguments[e]:{};e%2?Be(n=ni(Object(i),!0)).call(n,function(e){Ht(t,e,i[e])}):Ne?Se(t,Ne(i)):Be(r=ni(Object(i))).call(r,function(e){ke(t,e,Ve(i,e))})}return t}var ii=function(){function a(e){var t,n=e.isRoot,r=e.parentId,i=e.parentToken,o=Ir(e,["isRoot","parentId","parentToken"]);return Vt(this,a),(t=on(this,un(a).call(this,ri({},o,{sourceType:l.Directory})))).parentId=r,t.parentToken=i,t.isRoot=Boolean(n),t.children=[],t}return hn(a,Dr),Ar(a,[{key:"addChild",value:function(e){this.children.push(e)}}]),a}();function oi(t,e){var n,r=Ft(t);return Mt&&(n=Mt(t),e&&(n=Ye(n).call(n,function(e){return Ve(t,e).enumerable})),r.push.apply(r,n)),r}function ai(t){for(var e=1;e<arguments.length;e++){var n,r,i=null!=arguments[e]?arguments[e]:{};e%2?Be(n=oi(Object(i),!0)).call(n,function(e){Ht(t,e,i[e])}):Ne?Se(t,Ne(i)):Be(r=oi(Object(i))).call(r,function(e){ke(t,e,Ve(i,e))})}return t}var si=function(){function a(e){var t,n=e.file,r=e.jobType,i=e.parentId,o=Ir(e,["file","jobType","parentId"]);return Vt(this,a),(t=on(this,un(a).call(this,ai({},o,{sourceType:l.File,name:n.name}))))._uploadedSize=0,t.file=n,t.jobType=r,t.parentId=i,t.totalSize=n.size,t}return hn(a,Dr),Ar(a,[{key:"uploadedSize",set:function(e){this._uploadedSize=Math.min(Math.max(e,0),this.totalSize)},get:function(){return this._uploadedSize}}]),a}();function ci(t,e){var n,r=Ft(t);return Mt&&(n=Mt(t),e&&(n=Ye(n).call(n,function(e){return Ve(t,e).enumerable})),r.push.apply(r,n)),r}function ui(t){for(var e=1;e<arguments.length;e++){var n,r,i=null!=arguments[e]?arguments[e]:{};e%2?Be(n=ci(Object(i),!0)).call(n,function(e){Ht(t,e,i[e])}):Ne?Se(t,Ne(i)):Be(r=ci(Object(i))).call(r,function(e){ke(t,e,Ve(i,e))})}return t}var li="___root___";function di(e){return e.substring(0,Jr(e).call(e,"/"))}function pi(e,t){return(Dn(e)?fi:gi)(e,t)}function fi(e,t){return hi.apply(this,arguments)}function hi(){return(hi=C(L.mark(function e(t,n){var r,i,o,a,s,c,u,l,d,p,f,h,g,m,v,y,b,E,_,C,T,O,k,S;return L.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(0===t.length)return e.abrupt("return",{subtasks:[],subtaskMap:{},totalCount:0,totalSize:0,parseError:I.FolderEmpty,shouldAbort:!0});e.next=2;break;case 2:r={},i=[],o=new br,a=[],s=Te(n.jobType,n.sizeLimit),c=yi(t),u=new ii({name:c,isRoot:!0,parentId:li,parentToken:n.parentToken}),r[u.id]=u,i.push(u),o.set(c,u),d=!(l=!0),p=void 0,e.prev=15,f=tr(t);case 17:if(l=(h=f.next()).done){e.next=48;break}if(g=h.value,m=ei(g),v=di(m),y=o.get(v)){e.next=44;break}for(b=di(v),E=[v],_=b;_&&!o.get(_);)E.push(_),_=di(_);case 27:if(!(0<E.length)){e.next=40;break}if(C=E.pop(),T=o.get(di(C))){e.next=33;break}return console.error("Unexpected error"),e.abrupt("break",40);case 33:O=new ii({isRoot:!1,parentId:T.id,name:C.substring(Jr(C).call(C,"/")+1)}),T.addChild(O.id),r[O.id]=O,i.push(O),o.set(C,O),e.next=27;break;case 40:if(y=o.get(v)){e.next=44;break}return console.error("Unexpected error"),e.abrupt("continue",45);case 44:Ce(g.name,g.size,s,n.extensions)?a.push(g.name):(k=new si({file:g,parentId:y.id,jobType:n.jobType}),r[k.id]=k,i.push(k),y.addChild(k.id));case 45:l=!0,e.next=17;break;case 48:e.next=54;break;case 50:e.prev=50,e.t0=e.catch(15),d=!0,p=e.t0;case 54:e.prev=54,e.prev=55,l||null==f.return||f.return();case 57:if(e.prev=57,d)throw p;e.next=60;break;case 60:return e.finish(57);case 61:return e.finish(54);case 62:return S=vi(i,n.jobType===w.Import,a),e.abrupt("return",ui({subtaskMap:r,subtasks:X(i).call(i,function(e){return e.id})},S));case 64:case"end":return e.stop()}},e,null,[[15,50,54,62],[55,,57,61]])}))).apply(this,arguments)}function gi(e,t){return mi.apply(this,arguments)}function mi(){return(mi=C(L.mark(function e(t,h){var g,m,v,y,b,E,s,n,r;return L.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:g={},m=[],v=[],y=[],b=Te(h.jobType,h.sizeLimit),E=0,s={id:Nr(),entry:t,parentId:li},n=L.mark(function e(){var p,t,n,r,f,i,o,a;return L.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return p=s.id,t=s.entry,n=s.parentId,f=new ii({isRoot:r=n===li,id:p,name:s.entry.name,parentId:n,parentToken:r?h.parentToken:void 0}),g[p]=f,m.push(f),i=t.createReader(),o=function(){return new Q(function(d){i.readEntries(function(){var t=C(L.mark(function e(t){var n,r,i,o,a,s,c,u,l;return L.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=!(n=!0),i=void 0,e.prev=3,o=tr(t);case 5:if(n=(a=o.next()).done){e.next=22;break}if(!(s=a.value).isDirectory){e.next=13;break}c=Nr(),v.push({id:c,entry:s,parentId:p}),f.addChild(c),e.next=19;break;case 13:if(s.isFile)return e.next=16,$r(s);e.next=19;break;case 16:u=e.sent,E+=1,Ce(u.name,u.size,b,h.extensions)?y.push(u.name):(l=new si({file:u,parentId:p,jobType:h.jobType}),g[l.id]=l,m.push(l),f.addChild(l.id));case 19:n=!0,e.next=5;break;case 22:e.next=28;break;case 24:e.prev=24,e.t0=e.catch(3),r=!0,i=e.t0;case 28:e.prev=28,e.prev=29,n||null==o.return||o.return();case 31:if(e.prev=31,r)throw i;e.next=34;break;case 34:return e.finish(31);case 35:return e.finish(28);case 36:d(0<t.length);case 37:case"end":return e.stop()}},e,null,[[3,24,28,36],[29,,31,35]])}));return function(e){return t.apply(this,arguments)}}())})},e.next=11,o();case 11:a=e.sent;case 12:if(a)return e.next=15,o();e.next=18;break;case 15:a=e.sent,e.next=12;break;case 18:s=v.shift();case 19:case"end":return e.stop()}},e)});case 8:if(s)return e.delegateYield(n(),"t0",10);e.next=12;break;case 10:e.next=8;break;case 12:if(0===E)return e.abrupt("return",{subtasks:[],subtaskMap:{},totalCount:0,totalSize:0,parseError:I.FolderEmpty,shouldAbort:!0});e.next=14;break;case 14:return r=vi(m,h.jobType===w.Import,y),e.abrupt("return",ui({subtaskMap:g,subtasks:X(m).call(m,function(e){return e.id})},r));case 16:case"end":return e.stop()}},e)}))).apply(this,arguments)}function vi(e,t,n){var r,i,o,a=Ye(e).call(e,function(e){return e instanceof si}),s=Kr(a).call(a,function(e,t){return e+t.totalSize},0),c=a.length;return 0===c?(r=t?I.FolderAllFilesNotImportable:I.FolderAllFilesTooLargeToUpload,o=n,i=!0):0<n.length&&(r=t?I.FolderHasFileNotImportable:I.FolderHasFileTooLargeToUpload,o=n,i=!1),{totalSize:s,totalCount:c,parseError:r,shouldAbort:i,failedToParseFiles:o}}function yi(e){if(Dn(e)){var t=e[0];return t?ei(t).split("/")[0]:""}return e.name}function bi(e,t){for(var n=arguments.length,r=new Array(2<n?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];for(var o=0,a=r;o<a.length;o++){var s=a[o],c=D(s).call(s,e);if(-1!==c)return t&&Hn(s).call(s,c,1),!0}return!1}var Ei=function(){function o(e){var t=e.input,n=e.options;Vt(this,o);var r,i=yi(t);return(r=on(this,un(o).call(this,{name:i,jobType:n.jobType,sourceType:l.Directory}))).parentToken=n.parentToken,r.input=t,r.options=n,r.initialized=!1,r.directoryType=n.directoryType,r}return hn(o,Mr),Ar(o,[{key:"init",value:function(){var l=this;return this.initPromise||(this.initPromise=new Q(function(){var t=C(L.mark(function e(t){var n,r,i,o,a,s,c,u;return L.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pi(l.input,l.options);case 2:n=e.sent,r=n.subtasks,i=n.subtaskMap,o=n.totalCount,a=n.totalSize,s=n.parseError,c=n.failedToParseFiles,u=n.shouldAbort,l.subtaskMap=i,l.subtasks=r,l.pendingList=Br(r),l.progressList=[],l.errorList=[],l.successList=[],l._totalCount=o,l._totalSize=a,l.parseError=s,l.failedToParseFiles=c,l.shouldAbort=u,l.initialized=!0,t();case 23:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}())),this.initPromise}},{key:"getNextPendingSubtask",value:function(){if(this.initialized){var e=this.pendingList[0];return this.subtaskMap[e]}}},{key:"markSubtaskStart",value:function(e){this.initialized&&(bi(e,!0,this.pendingList)?this.progressList.push(e):console.warn("Subtask ".concat(e," not found.")))}},{key:"markSubtaskProgress",value:function(e){if(this.initialized){var t=e.uuid;if(bi(t,!1,this.progressList,this.pendingList))switch(e.type){case"upload":case"import-upload":this.subtaskMap[t].uploadedSize=e.data.bytesTransferred;break;case"import-uploaded":this.subtaskMap[t].ticket=e.data.ticket}else console.warn("Subtask ".concat(t," not found."))}}},{key:"markSubtaskSuccess",value:function(e){if(this.initialized){var t=e.uuid;if(bi(t,!0,this.progressList,this.pendingList))switch(this.successList.push(t),e.type){case"create-directory":var n=this.subtaskMap[t],r=e.data.token;n.token=r,n.isRoot&&(this.token=r);var i=!0,o=!1,a=void 0;try{for(var s,c=tr(n.children);!(i=(s=c.next()).done);i=!0){var u=s.value;this.subtaskMap[u].parentToken=r}}catch(e){o=!0,a=e}finally{try{i||null==c.return||c.return()}finally{if(o)throw a}}break;case"upload":this.subtaskMap[t].token=e.data.token;break;case"import":var l=this.subtaskMap[t];l.token=e.data.token,l.suiteType=e.data.suiteType}else console.warn("Subtask ".concat(t," not found."))}}},{key:"markSubtaskFailure",value:function(e){var t;this.initialized&&(bi(t=e.uuid,!0,this.progressList,this.pendingList)?(this.errorList.push(t),this.subtaskMap[t].error=e.data.errorType):console.warn("Subtask ".concat(t," not found.")))}},{key:"getSubtask",value:function(e){if(this.initialized)return this.subtaskMap[e]}},{key:"getInProgressSubtasksCoreInfo",value:function(){if(!this.initialized)return[];var e=[],t=!0,n=!1,r=void 0;try{for(var i,o=tr(this.progressList);!(t=(i=o.next()).done);t=!0){var a=i.value,s=this.subtaskMap[a];s instanceof si&&e.push({id:s.id,jobType:s.jobType,file:s.file})}}catch(e){n=!0,r=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw r}}return e}},{key:"start",value:function(){this.status=d.Inflight}},{key:"finish",value:function(){this.initialized&&(this.status=this.errorList.length?d.Error:d.Success)}},{key:"pause",value:function(e){var t;this.initialized&&((t=this.pendingList).unshift.apply(t,xn(this.progressList)),this.progressList.length=0,this.status=d.Paused,this.pausedByOffline=Boolean(e))}},{key:"retry",value:function(){var e;this.initialized&&((e=this.pendingList).unshift.apply(e,xn(this.errorList)),this.errorList.length=0,this.status=d.Pending,this.pausedByOffline=!1)}},{key:"totalCount",get:function(){return this.initialized?this._totalCount:0}},{key:"uploadedCount",get:function(){if(!this.initialized)return 0;var e=0,t=!0,n=!1,r=void 0;try{for(var i,o=tr(this.successList);!(t=(i=o.next()).done);t=!0){var a=i.value;this.subtaskMap[a]instanceof si&&(e+=1)}}catch(e){n=!0,r=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw r}}return e}},{key:"totalSize",get:function(){return this.initialized?this._totalSize:0}},{key:"uploadedSize",get:function(){if(!this.initialized)return 0;var e=0,t=!0,n=!1,r=void 0;try{for(var i,o=tr(this.subtasks);!(t=(i=o.next()).done);t=!0){var a=i.value,s=this.subtaskMap[a];s instanceof si&&(e+=s.uploadedSize)}}catch(e){n=!0,r=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw r}}return e}},{key:"progress",get:function(){if(!this.initialized)return 0;var e=this.progressList[0],t=this.subtaskMap[e];if(!t||t instanceof ii)return 0;var n=t.uploadedSize,r=t.totalSize;return 0===r?0:Math.round(n/r*100)/100}}]),o}();Object(E.B)({target:"Date",stat:!0},{now:function(){return(new Date).getTime()}});var _i=E.ib.Date.now,Ai=1e3,Ci=6,Ti=function(){function n(e){var o=this,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:Ci;Vt(this,n),this.diffSize=0,this.diffTime=0,this.slidingWindow=[],this.pSpeed=0,this.TransferredBytesMap=new br,this.calculate=function(){o.write();var e,t=o.slidingWindow.length;if(0===t)e=0;else{for(var n=0,r=0,i=0;i<t;i++)n+=o.slidingWindow[i],0<o.slidingWindow[i]&&(r+=1);e=0===r?0:n/r}o.speed=e},this.onSpeedChanged=e,this.windowSize=t}return Ar(n,[{key:"updateTransferredBytes",value:function(e){var t,n,r=e.bytesTransferred||0,i=this.TransferredBytesMap.get(e.key),o=_i();i&&(t=r-i.transferredBytes,n=o-i.timeStamp,this.add(Math.max(0,t),n)),this.TransferredBytesMap.set(e.key,{timeStamp:o,transferredBytes:r})}},{key:"clear",value:function(){this.speedTimer&&(clearInterval(this.speedTimer),this.speedTimer=void 0),this.diffSize=0,this.diffTime=0,this.slidingWindow=[],this.speed=0,this.TransferredBytesMap.clear()}},{key:"add",value:function(e,t){this.speedTimer||(this.speedTimer=window.setInterval(this.calculate,Ai)),this.diffSize+=e,this.diffTime+=t}},{key:"write",value:function(){var e=this.diffSize&&this.diffTime?Math.round(this.diffSize/this.diffTime*1e3):0;this.diffSize=0,this.diffTime=0,this.slidingWindow.push(e),this.slidingWindow.length>this.windowSize&&this.slidingWindow.shift()}},{key:"speed",set:function(e){this.pSpeed!==e&&(this.onSpeedChanged(e),this.pSpeed=e)}}]),n}();function Oi(t,e){var n,r=Ft(t);return Mt&&(n=Mt(t),e&&(n=Ye(n).call(n,function(e){return Ve(t,e).enumerable})),r.push.apply(r,n)),r}function ki(t){for(var e=1;e<arguments.length;e++){var n,r,i=null!=arguments[e]?arguments[e]:{};e%2?Be(n=Oi(Object(i),!0)).call(n,function(e){Ht(t,e,i[e])}):Ne?Se(t,Ne(i)):Be(r=Oi(Object(i))).call(r,function(e){ke(t,e,Ve(i,e))})}return t}function Si(e){return e instanceof File||e.isFile}function wi(e,t,n){return Ii.apply(this,arguments)}function Ii(){return(Ii=C(L.mark(function e(t,n,r){var i,o,a,s,c,u,l,d,p,f,h,g,m;return L.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n&&n.isDirectory,s=Ye(i=X(o=Br(t)).call(o,function(e){if(e instanceof DataTransferItem){var t=e.webkitGetAsEntry();return t.isFile&&e.getAsFile?e.getAsFile():t}return e})).call(i,function(e){return!("drive"===r&&(a||!Si(e)))}),a&&1===s.length&&""===s[0].webkitRelativePath&&(a=!1),c=[],a)return e.next=7,Ni(s,n);e.next=13;break;case 7:return u=e.sent,e.next=10,u.init();case 10:c.push(u),e.next=44;break;case 13:d=!(l=!0),p=void 0,e.prev=16,f=tr(s);case 18:if(l=(h=f.next()).done){e.next=30;break}return g=h.value,e.next=22,xi(g,n,r);case 22:if((m=e.sent)instanceof Ei)return e.next=26,m.init();e.next=26;break;case 26:c.push(m);case 27:l=!0,e.next=18;break;case 30:e.next=36;break;case 32:e.prev=32,e.t0=e.catch(16),d=!0,p=e.t0;case 36:e.prev=36,e.prev=37,l||null==f.return||f.return();case 39:if(e.prev=39,d)throw p;e.next=42;break;case 42:return e.finish(39);case 43:return e.finish(36);case 44:return e.abrupt("return",c);case 45:case"end":return e.stop()}},e,null,[[16,32,36,44],[37,,39,43]])}))).apply(this,arguments)}function xi(e,t,n){return Si(e)?Li(e,t,n):Ni(e,t)}function Li(e,t,n){return Ri.apply(this,arguments)}function Ri(){return(Ri=C(L.mark(function e(t,n,r){var i;return L.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t instanceof File)){e.next=4;break}e.t0=t,e.next=7;break;case 4:return e.next=6,$r(t);case 6:e.t0=e.sent;case 7:if(i=e.t0,"drive"===r)return e.abrupt("return",new Fr({file:i,options:n}));e.next=10;break;case 10:return e.abrupt("return",new jr({file:i,options:n}));case 11:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Ni(e,t){return Di.apply(this,arguments)}function Di(){return(Di=C(L.mark(function e(t,n){var r;return L.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=new Ei({input:t,options:n}),e.abrupt("return",r);case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Mi(e,o){return X(e).call(e,function(e){var t,n;e instanceof Ei&&(t=e.uploadedCount,n=e.totalCount);var r={finishedCount:t,totalCount:n,errorType:e.error,file:e instanceof jr||e instanceof Fr?e.file:void 0,uuid:e.id,name:e.name,jobType:e.jobType,status:e.status,progress:e.progress,size:e.totalSize,uploadedSize:e.uploadedSize};if("drive"===o)return ki({},r,{appFileId:e.appFileId,extra:e.extra});var i=e instanceof Ei?c.Folder:e.suiteType||c.File;return ki({},r,{fileTypeNum:i,parentToken:e.parentToken,token:e.token})})}function Pi(e){return X(e).call(e,function(e){return{name:e.name,jobType:e.jobType,parseError:e.parseError,failedToParseFiles:e.failedToParseFiles,shouldAbort:e.shouldAbort}})}var ji=function(){function c(e){var i=this;Vt(this,c),this.tasks=[],this.uploadingTasks=new br,this.eventBus=new oe.a,this.pausedByOffline=!1,this.filesAddedWhenOffline=!1,this.isOnline=!0,this.onSpeedChanged=function(e){i.fire("speed_changed",{speed:e})},this.onOnline=function(){i.isOnline=!0,i.fire("online"),(i.pausedByOffline||i.filesAddedWhenOffline)&&(i.retryAllPausedByOffline(),i.upload(),i.pausedByOffline=!1,i.filesAddedWhenOffline=!1)},this.onOffline=function(){i.isOnline=!1,i.fire("offline"),i.isUploading&&(i.pausedByOffline=!0,i.doPauseAll(!0))},this.handleUploadStatusChanged=function(e){switch(e.type){case"uploading":i.handleUploadStatusUploading(e.data);break;case"success":i.handleUploadStatusSuccess(e.data);break;case"error":i.handleUploadStatusError(e.data)}},this.handleCreateDirectoryStatusChanged=function(e){switch(e.type){case"retry":i.handleCreateDirectoryStatusRetry(e.data);break;case"success":i.handleCreateDirectoryStatusSuccess(e.data);break;case"error":i.handleCreateDirectoryStatusError(e.data)}},this.handleImportStatusChanged=function(e){switch(e.type){case"uploading":i.handleImportStatusUploading(e.data);break;case"converting":i.handleImportStatusConverting(e.data);break;case"success":i.handleImportStatusSuccess(e.data);break;case"error":i.handleImportStatusError(e.data)}},this.handleImportErrorAlert=function(e){var t=e.errorType,n=e.name,r=e.responseData;i.reportRuntimeIncident(t,[n],r)},this.supported=Boolean(FileList&&File&&Blob&&sr(Blob.prototype)),this.opts=e||{},this.logger=e.logger,this.taskController=e.taskController;var t,n,r,o,a=e.envConfigs.teaConfig,s=Boolean(e.envConfigs.isOnlineEnv);a&&(t=a.appID,n=a.userID,r=a.tenantID,o=a.channelDomain,this.logger.kickOff({appID:t,userID:n,tenantID:r,channelDomain:o,isOnlineEnv:s,instanceName:"drive-sdk"})),this.taskController.init({onUploadStatusChanged:this.handleUploadStatusChanged,onCreateDirectoryStatusChanged:this.handleCreateDirectoryStatusChanged,onImportStatusChanged:this.handleImportStatusChanged,onImportErrorAlert:this.handleImportErrorAlert}),this.networkSpeedCalculator=new Ti(this.onSpeedChanged)}function e(e,t,n){return r.apply(this,arguments)}var r,n;function t(e,t){return n.apply(this,arguments)}return Ar(c,[{key:"loadFile",value:(n=C(L.mark(function e(t,n){var r,i;return L.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t instanceof File){e.next=2;break}throw new Error("Invalid argument: argv[0] is not a File.");case 2:return this.checkLoadFileOpts(n),e.next=5,wi([t],n,this.opts.uploaderType);case 5:if(r=e.sent,(i=r[0]).shouldAbort)throw new Error("File cannot be loaded with parse error ".concat(i.parseError));e.next=9;break;case 9:return this.appendTaskQueue(r),e.abrupt("return",i.id);case 11:case"end":return e.stop()}},e,this)})),t)},{key:"loadFiles",value:(r=C(L.mark(function e(t,n,r){var i;return L.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return this.checkLoadFileOpts(r),e.next=5,wi(t,r,this.opts.uploaderType);case 5:i=e.sent,this.appendTaskQueue(i);case 7:case"end":return e.stop()}},e,this)})),e)},{key:"on",value:function(e,t){this.eventBus.on(e,t)}},{key:"off",value:function(e,t){this.eventBus.off(e,t)}},{key:"destroy",value:function(){this.eventBus.removeAllListeners(),this.setNetworkCheck(!1),this.cancelAll()}},{key:"setNetworkCheck",value:function(e){e?(window.addEventListener("online",this.onOnline),window.addEventListener("offline",this.onOffline)):(window.removeEventListener("online",this.onOnline),window.removeEventListener("offline",this.onOffline))}},{key:"upload",value:function(){if(this.isOnline)for(var e=this.getOpt("maxSimultaneousUploads"),t=0;t<e;t++)this.uploadNextTask()}},{key:"pauseAll",value:function(){return this.doPauseAll()}},{key:"pause",value:function(t){var e,n,r=this.uploadingTasks.get(t);if(r){if(r instanceof Ei){var i=r.getInProgressSubtasksCoreInfo(),o=!0,a=!1,s=void 0;try{for(var c,u=tr(i);!(o=(c=u.next()).done);o=!0){var l,d=c.value;d.jobType===w.Import?(l=d.file,this.taskController.cancelImport({file:l,uuid:d.id})):this.taskController.cancelUpload(d.id)}}catch(e){a=!0,s=e}finally{try{o||null==u.return||u.return()}finally{if(a)throw s}}}else r.jobType===w.Import?(n=r.file,this.taskController.cancelImport({file:n,uuid:r.id})):this.taskController.cancelUpload(r.id);return r.pause(),this.updateTask(r),this.uploadingTasks.delete(r.id),void this.upload()}var p=$n(e=this.tasks).call(e,function(e){return e.id===t});p&&p.canPause&&(p.pause(),this.updateTask(p))}},{key:"retry",value:function(t){var e,n=$n(e=this.tasks).call(e,function(e){return e.id===t});n&&n.canRetry&&(n.retry(),this.updateTask(n),this.upload())}},{key:"retryAllPaused",value:function(){var e,t=Ye(e=this.tasks).call(e,function(e){return e.status===d.Paused});this.retryTasks(t)}},{key:"retryAllFailed",value:function(){var e,t=Ye(e=this.tasks).call(e,function(e){return e.status===d.Error});this.retryTasks(t)}},{key:"cancel",value:function(t){var e,n,r,i=Yn(e=this.tasks).call(e,function(e){return e.id===t});-1!==i&&(this.pause(t),r=Hn(n=this.tasks).call(n,i,1),this.fire("tasks_removed",{list:X(r).call(r,function(e){return{uuid:e.id}})}))}},{key:"cancelAll",value:function(){var e;this.doPauseAll(),this.fire("tasks_removed",{list:X(e=this.tasks).call(e,function(e){return{uuid:e.id}})}),this.tasks.length=0}},{key:"getFolderUploadErrorDetail",value:function(t){var e,n=$n(e=this.tasks).call(e,function(e){return e.id===t&&e.sourceType===l.Directory});if(!n)throw new Error("Cannot find directory task with uuid ".concat(t));var r=n.errorList,i=n.subtaskMap;if(!r||!i)return{files:[]};for(var o=[],a=0;a<r.length;a++){var s=i[r[a]],c=s.error,u=s.name;s.sourceType===l.File&&o.push({name:u,errorType:c})}return{files:o}}},{key:"checkLoadFileOpts",value:function(e){if(Object(ee.default)(e.jobType)||this.isSuiteUploader&&Object(ee.default)(e.parentToken))throw new Error("Invalid argument: jobType or parentToken missing.")}},{key:"getOpt",value:function(e){var t=this;if(Dn(e)){var n={};return Be(e).call(e,function(e){n[e]=t.getOpt(e)}),n}return(Object(ee.default)(this.opts[e])?this.opts.defaults:this.opts)[e]}},{key:"fire",value:function(e){for(var t,n,r=arguments.length,i=new Array(1<r?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];(t=this.eventBus).emit.apply(t,Nn(n=[e]).call(n,i))}},{key:"appendTaskQueue",value:function(e){var t,n=Ye(e).call(e,function(e){return e&&!e.shouldAbort}),r=Ye(e).call(e,function(e){return!e||e.shouldAbort||e.failedToParseFiles||e.parseError});(t=this.tasks).push.apply(t,xn(n)),0<n.length&&this.fire("tasks_added",{list:Mi(n,this.opts.uploaderType)}),0<r.length&&this.fire("parse_error",{list:Pi(r)}),!this.isOnline&&0<n.length&&(this.filesAddedWhenOffline=!0)}},{key:"doPauseAll",value:function(e){var t,n=Ye(t=this.tasks).call(t,function(e){return e.canPause}),r=!0,i=!1,o=void 0;try{for(var a,s=tr(n);!(r=(a=s.next()).done);r=!0){var c=a.value;this.uploadingTasks.has(c.id)&&this.uploadingTasks.delete(c.id),c.pause(e)}}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}this.updateTasks(n),this.taskController.cancelAllUploads(),this.taskController.cancelAllImports(),this.networkSpeedCalculator&&this.networkSpeedCalculator.clear()}},{key:"retryAllPausedByOffline",value:function(){var e,t=Ye(e=this.tasks).call(e,function(e){return e.status===d.Paused&&!0===e.pausedByOffline});this.retryTasks(t)}},{key:"retryTasks",value:function(e){var t=!0,n=!1,r=void 0;try{for(var i,o=tr(e);!(t=(i=o.next()).done);t=!0)i.value.retry()}catch(e){n=!0,r=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw r}}this.updateTasks(e),this.upload()}},{key:"handleUploadStatusUploading",value:function(e){var t,n,r,i,o=e.uuid,a=e.parentUUID,s=e.bytesTransferred;this.updateSpeedCalculator(o,s),a?(n=$n(t=this.tasks).call(t,function(e){return e.id===a}))?(n.markSubtaskProgress({uuid:o,type:"upload",data:{bytesTransferred:s}}),this.updateTask(n)):console.error("Cannot find parent task with given parentUUID."):(i=$n(r=this.tasks).call(r,function(e){return e.id===o}))?(i.uploadedSize=s,this.updateTask(i)):console.error("Cannot find task with given uuid.")}},{key:"handleUploadStatusSuccess",value:function(e){this.isSuiteUploader?this.handleSuiteUploadStatusSuccess(e):this.handleDriveUploadStatusSuccess(e)}},{key:"handleSuiteUploadStatusSuccess",value:function(e){var t,n,r,i,o=e.uuid,a=e.parentUUID,s=e.token,c=e.dataVersion;a?(n=$n(t=this.tasks).call(t,function(e){return e.id===a}))?(n.markSubtaskSuccess({uuid:o,type:"upload",data:{token:s,dataVersion:c}}),this.updateTask(n),this.uploadDirectorySubtask(n)):console.error("Cannot find parent task with given parentUUID."):(i=$n(r=this.tasks).call(r,function(e){return e.id===o}))?(i.token=s,i.error=void 0,this.finishTask(i)):console.error("Cannot find task with given uuid.")}},{key:"handleDriveUploadStatusSuccess",value:function(e){var t,n=e.uuid,r=e.appFileId,i=e.extra,o=$n(t=this.tasks).call(t,function(e){return e.id===n});o?(o.appFileId=r,o.extra=i,o.error=void 0,this.finishTask(o)):console.error("Cannot find task with given uuid.")}},{key:"handleUploadStatusError",value:function(e){var t=e.uuid,n=e.parentUUID,r=e.errorType,i=e.reqID,o="";if(n){var a,s=$n(a=this.tasks).call(a,function(e){return e.id===n});if(!s)return void console.error("Cannot find parent task with given parentUUID.");var c=s.getSubtask(t);c instanceof si&&this.fire("subtask_failed",{reqID:i,errorType:r,name:c.name,size:c.totalSize}),s.markSubtaskFailure({uuid:t,type:"upload",data:{errorType:r}}),o=c?c.name:"",this.updateTask(s),this.uploadDirectorySubtask(s)}else{var u,l=$n(u=this.tasks).call(u,function(e){return e.id===t});if(!l)return void console.error("Cannot find task with given uuid.");o=l.name,l.error=r,this.finishTask(l)}this.reportRuntimeIncident(r,[o])}},{key:"handleCreateDirectoryStatusRetry",value:function(e){}},{key:"handleCreateDirectoryStatusSuccess",value:function(e){var t,n,r=e.uuid,i=e.parentUUID,o=e.token;i&&((n=$n(t=this.tasks).call(t,function(e){return e.id===i}))?(n.markSubtaskSuccess({uuid:r,type:"create-directory",data:{token:o}}),this.updateTask(n),this.uploadDirectorySubtask(n)):console.error("Cannot find parent task with given parentUUID."))}},{key:"handleCreateDirectoryStatusError",value:function(e){var t,n,r,i,o=e.uuid,a=e.parentUUID,s=e.errorType,c=e.reqID;a&&((n=$n(t=this.tasks).call(t,function(e){return e.id===a}))?((r=n.getSubtask(o))instanceof ii&&this.fire("subtask_failed",{reqID:c,errorType:s,name:r.name}),n.markSubtaskFailure({uuid:o,type:"create-directory",data:{errorType:s}}),this.updateTask(n),this.uploadDirectorySubtask(n),i=r?r.name:"",this.reportRuntimeIncident(s,[i])):console.error("Cannot find parent task with given parentUUID."))}},{key:"handleImportStatusUploading",value:function(e){var t,n,r,i,o=e.uuid,a=e.parentUUID,s=e.bytesTransferred;this.updateSpeedCalculator(o,s),a?(n=$n(t=this.tasks).call(t,function(e){return e.id===a}))?(n.markSubtaskProgress({uuid:o,type:"import-upload",data:{bytesTransferred:s}}),this.updateTask(n)):console.error("Cannot find parent task with given parentUUID."):(i=$n(r=this.tasks).call(r,function(e){return e.id===o}))?(i.uploadedSize=s,this.updateTask(i)):console.error("Cannot find task with given uuid.")}},{key:"handleImportStatusConverting",value:function(e){var t,n,r,i,o=e.uuid,a=e.parentUUID,s=e.ticket;a?(n=$n(t=this.tasks).call(t,function(e){return e.id===a}))?(n.markSubtaskProgress({uuid:o,type:"import-uploaded",data:{ticket:s}}),this.updateTask(n)):console.error("Cannot find parent task with given parentUUID."):(i=$n(r=this.tasks).call(r,function(e){return e.id===o}))?(i.ticket=s,this.updateTask(i)):console.error("Cannot find task with given uuid.")}},{key:"handleImportStatusSuccess",value:function(e){var t,n,r,i,o=e.uuid,a=e.parentUUID,s=e.token,c=e.suiteType;a?(n=$n(t=this.tasks).call(t,function(e){return e.id===a}))?(n.markSubtaskSuccess({uuid:o,type:"import",data:{token:s,suiteType:c}}),this.updateTask(n),this.uploadDirectorySubtask(n)):console.error("Cannot find parent task with given parentUUID."):(i=$n(r=this.tasks).call(r,function(e){return e.id===o}))?(i.token=s,i.error=void 0,i.suiteType=c,this.finishTask(i)):console.error("Cannot find task with given uuid.")}},{key:"handleImportStatusError",value:function(e){var t,n,r,i,o,a=e.uuid,s=e.parentUUID,c=e.errorType,u=e.reqID;s?(n=$n(t=this.tasks).call(t,function(e){return e.id===s}))?((r=n.getSubtask(a))instanceof si&&this.fire("subtask_failed",{reqID:u,errorType:c,name:r.name,size:r.totalSize}),n.markSubtaskFailure({uuid:a,type:"import",data:{errorType:c}}),this.updateTask(n),this.uploadDirectorySubtask(n)):console.error("Cannot find parent task with given parentUUID."):(o=$n(i=this.tasks).call(i,function(e){return e.id===a}))?(o.error=c,this.finishTask(o)):console.error("Cannot find task with given uuid.")}},{key:"finishTask",value:function(e){e.finish(),this.updateTask(e),this.uploadingTasks.delete(e.id),this.uploadNextTask()}},{key:"uploadNextTask",value:function(){var e,t;this.uploadingTasks.size>=this.getOpt("maxSimultaneousUploads")||((t=$n(e=this.tasks).call(e,function(e){return e.status===d.Pending}))?t.sourceType===l.Directory?this.uploadDirectoryTask(t):this.uploadFileTask(t):0===this.uploadingTasks.size&&this.networkSpeedCalculator&&this.networkSpeedCalculator.clear())}},{key:"uploadDirectoryTask",value:function(e){var t=e.parentToken;Object(ee.default)(t)?console.error("task parentToken missing."):(e.start(),this.updateTask(e),this.uploadingTasks.set(e.id,e),this.uploadDirectorySubtask(e))}},{key:"uploadDirectorySubtask",value:function(e){var t=this.taskController;if(e.status!==d.Paused){var n=e.getNextPendingSubtask();if(n)if(n instanceof ii){var r=n.id,i=n.parentToken,o=n.name;if(Object(ee.default)(i))return e.markSubtaskFailure({uuid:r,type:"create-directory",data:{errorType:x.SubtaskParentTokenMissing}}),this.updateTask(e),void this.uploadDirectorySubtask(e);t.startCreateDirectory({uuid:r,parentToken:i,name:o,parentUUID:e.id,directoryType:e.directoryType}),e.markSubtaskStart(r)}else{var a=n.id,s=n.parentToken,c=n.file,u=n.jobType;if(Object(ee.default)(s))return e.markSubtaskFailure({uuid:a,type:u===w.Import?"import":"upload",data:{errorType:x.SubtaskParentTokenMissing}}),this.updateTask(e),void this.uploadDirectorySubtask(e);u===w.Import?t.startImport({uuid:a,file:c,parentToken:s,parentUUID:e.id}):t.startUpload({uuid:a,file:c,parentToken:s,parentUUID:e.id}),e.markSubtaskStart(a)}else this.finishTask(e)}}},{key:"uploadFileTask",value:function(e){this.isSuiteUploader?this.uploadSuiteFileTask(e):this.uploadDriveFileTask(e)}},{key:"updateUpcomingTaskStatus",value:function(e){e.start(),this.updateTask(e),this.uploadingTasks.set(e.id,e)}},{key:"uploadSuiteFileTask",value:function(e){var t,n=e.id,r=e.file,i=e.parentToken,o=e.fileToken,a=e.memberID,s=e.shouldAddToRecents;Object(ee.default)(i)?console.error("task parentToken missing."):(this.updateUpcomingTaskStatus(e),t=this.taskController,e.jobType===w.Import?t.startImport({uuid:n,file:r,parentToken:i}):t.startUpload({uuid:n,file:r,parentToken:i,fileToken:o,memberID:a,shouldAddToRecents:s,mountPoint:e.mountPoint}))}},{key:"uploadDriveFileTask",value:function(e){var t=e.id,n=e.file;this.updateUpcomingTaskStatus(e),this.taskController.startUpload({uuid:t,file:n})}},{key:"updateSpeedCalculator",value:function(e,t){this.networkSpeedCalculator&&this.networkSpeedCalculator.updateTransferredBytes({key:e,bytesTransferred:t})}},{key:"updateTask",value:function(e){this.updateTasks([e])}},{key:"updateTasks",value:function(e){var t=Mi(e,this.opts.uploaderType);this.fire("tasks_changed",{list:t})}},{key:"reportRuntimeIncident",value:function(e,t,n){this.fire("runtime_incident_occurred",{errorType:e,fileNames:t,responseData:n})}},{key:"isUploading",get:function(){return 0<this.uploadingTasks.size}},{key:"progressInfo",get:function(){var e=0,t=0,n=!0,r=!1,i=void 0;try{for(var o,a=tr(this.tasks);!(n=(o=a.next()).done);n=!0){var s=o.value;e+=s.uploadedSize,t+=s.totalSize}}catch(e){r=!0,i=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}return{uploadedSize:e,totalSize:t,progress:0<t?e/t:0}}},{key:"progress",get:function(){return this.progressInfo.progress}},{key:"uploadedSize",get:function(){return this.progressInfo.uploadedSize}},{key:"totalSize",get:function(){return this.progressInfo.totalSize}},{key:"isSuiteUploader",get:function(){return"suite"===this.opts.uploaderType}}]),c}(),Fi=E.t.f,Bi=function(s){return function(e){for(var t,n=Object(E.f)(e),r=Object(E.q)(n),i=r.length,o=0,a=[];o<i;)t=r[o++],E.hb&&!Fi.call(n,t)||a.push(s?[t,n[t]]:n[t]);return a}},Ui={entries:Bi(!0),values:Bi(!1)}.values;Object(E.B)({target:"Object",stat:!0},{values:function(e){return Ui(e)}});var Hi=E.ib.Object.values;function zi(e){return Object(te.a)(e,function(e){return null!=e})}function Vi(t){return void 0===t&&(t=1e3),new Promise(function(e){return window.setTimeout(e,t)})}var Ki=E.U.includes;Object(E.B)({target:"Array",proto:!0},{includes:function(e){return Ki(this,e,1<arguments.length?arguments[1]:void 0)}});var Gi=Object(E.V)("Array").includes,Wi=Object(E.gb)("match"),Yi=function(e){var t;return Object(E.ab)(e)&&(void 0!==(t=e[Wi])?!!t:"RegExp"==Object(E.W)(e))},qi=function(e){if(Yi(e))throw TypeError("The method doesn't accept regular expressions");return e},Zi=Object(E.gb)("match"),Xi=function(t){var n=/./;try{"/./"[t](n)}catch(e){try{return n[Zi]=!1,"/./"[t](n)}catch(e){}}return!1};Object(E.B)({target:"String",proto:!0,forced:!Xi("includes")},{includes:function(e){return!!~String(Object(E.H)(this)).indexOf(qi(e),1<arguments.length?arguments[1]:void 0)}});var Qi=Object(E.V)("String").includes,Ji=Array.prototype,$i=String.prototype,eo=function(e){var t=e.includes;return e===Ji||e instanceof Array&&t===Ji.includes?Gi:"string"==typeof e||e===$i||e instanceof String&&t===$i.includes?Qi:t},to="".startsWith,no=Math.min;Object(E.B)({target:"String",proto:!0,forced:!Xi("startsWith")},{startsWith:function(e){var t=String(Object(E.H)(this));qi(e);var n=Object(E.eb)(no(1<arguments.length?arguments[1]:void 0,t.length)),r=String(e);return to?to.call(t,r,n):t.slice(n,n+r.length)===r}});var ro=Object(E.V)("String").startsWith,io=String.prototype,oo=function(e){var t=e.startsWith;return"string"==typeof e||e===io||e instanceof String&&t===io.startsWith?ro:t},ao=Object(E.gb)("iterator"),so=!Object(E.T)(function(){var e=new URL("b?e=1","http://a"),t=e.searchParams;return e.pathname="c%20d",E.I&&!e.toJSON||!t.sort||"http://a/c%20d?e=1"!==e.href||"1"!==t.get("e")||"a=1"!==String(new URLSearchParams("?a=1"))||!t[ao]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://").host||"#%D0%B1"!==new URL("http://a#").hash}),co=Object.assign,uo=!co||Object(E.T)(function(){var A={},t={},e=Symbol(),n="abcdefghijklmnopqrst";return A[e]=7,n.split("").forEach(function(e){t[e]=e}),7!=co({},A)[e]||Object(E.q)(co({},t)).join("")!=n})?function(e,t){for(var n=Object(E.db)(e),r=arguments.length,i=1,o=xe.f,a=E.t.f;i<r;)for(var s,c=Object(E.bb)(arguments[i++]),u=o?Object(E.q)(c).concat(o(c)):Object(E.q)(c),l=u.length,d=0;d<l;)s=u[d++],E.hb&&!a.call(c,s)||(n[s]=c[s]);return n}:co,lo=2147483647,po=36,fo=1,ho=26,go=38,mo=700,vo=72,yo=128,bo="-",Eo=/[^\0-\u007E]/,_o=/[.\u3002\uFF0E\uFF61]/g,Ao="Overflow: input needs wider integers to process",Co=po-fo,To=Math.floor,Oo=String.fromCharCode,ko=function(e){for(var t=[],n=0,r=e.length;n<r;){var i,o=e.charCodeAt(n++);55296<=o&&o<=56319&&n<r?56320==(64512&(i=e.charCodeAt(n++)))?t.push(((1023&o)<<10)+(1023&i)+65536):(t.push(o),n--):t.push(o)}return t},So=function(e){return e+22+75*(e<26)},wo=function(e,t,n){var r=0;for(e=n?To(e/mo):e>>1,e+=To(e/t);Co*ho>>1<e;r+=po)e=To(e/Co);return To(r+(Co+1)*e/(e+go))},Io=function(e){var t,n=[],r=(e=ko(e)).length,i=yo,o=0,a=vo;for(l=0;l<e.length;l++)(t=e[l])<128&&n.push(Oo(t));var s=n.length,c=s;for(s&&n.push(bo);c<r;){for(var u=lo,l=0;l<e.length;l++)i<=(t=e[l])&&t<u&&(u=t);var d=c+1;if(u-i>To((lo-o)/d))throw RangeError(Ao);for(o+=(u-i)*d,i=u,l=0;l<e.length;l++){if((t=e[l])<i&&++o>lo)throw RangeError(Ao);if(t==i){for(var p=o,f=po;;f+=po){var h=f<=a?fo:a+ho<=f?ho:f-a;if(p<h)break;var g=p-h,m=po-h;n.push(Oo(So(h+g%m))),p=To(g/m)}n.push(Oo(So(p))),a=wo(o,d,c==s),o=0,++c}}++o,++i}return n.join("")},xo=function(e){for(var t,n=[],r=e.toLowerCase().replace(_o,".").split("."),i=0;i<r.length;i++)t=r[i],n.push(Eo.test(t)?"xn--"+Io(t):t);return n.join(".")},Lo=Object(E.gb)("iterator"),Ro="URLSearchParams",No=Ro+"Iterator",Do=E.k.set,Mo=E.k.getterFor(Ro),Po=E.k.getterFor(No),jo=/\+/g,Fo=Array(4),Bo=function(e){return Fo[e-1]||(Fo[e-1]=RegExp("((?:%[\\da-f]{2}){"+e+"})","gi"))},Uo=function(t){try{return decodeURIComponent(t)}catch(e){return t}},Ho=function(e){var t=e.replace(jo," "),n=4;try{return decodeURIComponent(t)}catch(e){for(;n;)t=t.replace(Bo(n--),Uo);return t}},zo=/[!'()~]|%20/g,Vo={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},Ko=function(e){return Vo[e]},Go=function(e){return encodeURIComponent(e).replace(zo,Ko)},Wo=function(e,t){if(t)for(var n,r,i=t.split("&"),o=0;o<i.length;)(n=i[o++]).length&&(r=n.split("="),e.push({key:Ho(r.shift()),value:Ho(r.join("="))}))},Yo=function(e){this.entries.length=0,Wo(this.entries,e)},qo=function(e,t){if(e<t)throw TypeError("Not enough arguments")},Zo=Object(E.J)(function(e,t){Do(this,{type:No,iterator:er(Mo(e).entries),kind:t})},"Iterator",function(){var e=Po(this),t=e.kind,n=e.iterator.next(),r=n.value;return n.done||(n.value="keys"===t?r.key:"values"===t?r.value:[r.key,r.value]),n}),Xo=function(){Object(E.D)(this,Xo,Ro);var e,t,n,r,i,o,a,s=0<arguments.length?arguments[0]:void 0,c=[];if(Do(this,{type:Ro,entries:c,updateURL:function(){},updateSearchParams:Yo}),void 0!==s)if(Object(E.ab)(s))if("function"==typeof(e=Object(E.v)(s)))for(t=e.call(s);!(n=t.next()).done;){if((i=(r=er(Object(E.d)(n.value))).next()).done||(o=r.next()).done||!r.next().done)throw TypeError("Expected sequence with length 2");c.push({key:i.value+"",value:o.value+""})}else for(a in s)Object(E.i)(s,a)&&c.push({key:a,value:s[a]+""});else Wo(c,"string"==typeof s?"?"===s.charAt(0)?s.slice(1):s:s+"")},Qo=Xo.prototype;Object(E.E)(Qo,{append:function(e,t){qo(arguments.length,2);var n=Mo(this);n.entries.push({key:e+"",value:t+""}),n.updateURL()},delete:function(e){qo(arguments.length,1);for(var t=Mo(this),n=t.entries,r=e+"",i=0;i<n.length;)n[i].key===r?n.splice(i,1):i++;t.updateURL()},get:function(e){qo(arguments.length,1);for(var t=Mo(this).entries,n=e+"",r=0;r<t.length;r++)if(t[r].key===n)return t[r].value;return null},getAll:function(e){qo(arguments.length,1);for(var t=Mo(this).entries,n=e+"",r=[],i=0;i<t.length;i++)t[i].key===n&&r.push(t[i].value);return r},has:function(e){qo(arguments.length,1);for(var t=Mo(this).entries,n=e+"",r=0;r<t.length;)if(t[r++].key===n)return!0;return!1},set:function(e,t){qo(arguments.length,1);for(var n,r=Mo(this),i=r.entries,o=!1,a=e+"",s=t+"",c=0;c<i.length;c++)(n=i[c]).key===a&&(o?i.splice(c--,1):(o=!0,n.value=s));o||i.push({key:a,value:s}),r.updateURL()},sort:function(){for(var e,t,n=Mo(this),r=n.entries,i=r.slice(),o=r.length=0;o<i.length;o++){for(e=i[o],t=0;t<o;t++)if(r[t].key>e.key){r.splice(t,0,e);break}t===o&&r.push(e)}n.updateURL()},forEach:function(e){for(var t,n=Mo(this).entries,r=Object(E.cb)(e,1<arguments.length?arguments[1]:void 0,3),i=0;i<n.length;)r((t=n[i++]).value,t.key,this)},keys:function(){return new Zo(this,"keys")},values:function(){return new Zo(this,"values")},entries:function(){return new Zo(this,"entries")}},{enumerable:!0}),Object(E.p)(Qo,Lo,Qo.entries),Object(E.p)(Qo,"toString",function(){for(var e,t=Mo(this).entries,n=[],r=0;r<t.length;)e=t[r++],n.push(Go(e.key)+"="+Go(e.value));return n.join("&")},{enumerable:!0}),Object(E.r)(Xo,Ro),Object(E.B)({global:!0,forced:!so},{URLSearchParams:Xo});var Jo,$o,ea,ta={URLSearchParams:Xo,getState:Mo},na=E.K.codeAt,ra=E.l.URL,ia=ta.URLSearchParams,oa=ta.getState,aa=E.k.set,sa=E.k.getterFor("URL"),ca=Math.floor,ua=Math.pow,la="Invalid authority",da="Invalid scheme",pa="Invalid host",fa="Invalid port",ha=/[A-Za-z]/,ga=/[\d+\-.A-Za-z]/,ma=/\d/,va=/^(0x|0X)/,ya=/^[0-7]+$/,ba=/^\d+$/,Ea=/^[\dA-Fa-f]+$/,_a=/[\u0000\u0009\u000A\u000D #%/:?@[\\]]/,Aa=/[\u0000\u0009\u000A\u000D #/:?@[\\]]/,Ca=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,Ta=/[\u0009\u000A\u000D]/g,Oa=function(e,t){var n,r,i;if("["==t.charAt(0))return"]"==t.charAt(t.length-1)&&(n=Sa(t.slice(1,-1)))?void(e.host=n):pa;if(Pa(e))return t=xo(t),_a.test(t)||null===(n=ka(t))?pa:void(e.host=n);if(Aa.test(t))return pa;for(n="",r=bn(t),i=0;i<r.length;i++)n+=Da(r[i],xa);e.host=n},ka=function(e){var t,n,r,i,o,a,s,c=e.split(".");if(c.length&&""==c[c.length-1]&&c.pop(),4<(t=c.length))return e;for(n=[],r=0;r<t;r++){if(""==(i=c[r]))return e;if(o=10,1<i.length&&"0"==i.charAt(0)&&(o=va.test(i)?16:8,i=i.slice(8==o?1:2)),""===i)a=0;else{if(!(10==o?ba:8==o?ya:Ea).test(i))return e;a=parseInt(i,o)}n.push(a)}for(r=0;r<t;r++)if(a=n[r],r==t-1){if(a>=ua(256,5-t))return null}else if(255<a)return null;for(s=n.pop(),r=0;r<n.length;r++)s+=n[r]*ua(256,3-r);return s},Sa=function(e){var t,n,r,i,o,a,s,c=[0,0,0,0,0,0,0,0],u=0,l=null,d=0,p=function(){return e.charAt(d)};if(":"==p()){if(":"!=e.charAt(1))return;d+=2,l=++u}for(;p();){if(8==u)return;if(":"!=p()){for(t=n=0;n<4&&Ea.test(p());)t=16*t+parseInt(p(),16),d++,n++;if("."==p()){if(0==n)return;if(d-=n,6<u)return;for(r=0;p();){if(i=null,0<r){if(!("."==p()&&r<4))return;d++}if(!ma.test(p()))return;for(;ma.test(p());){if(o=parseInt(p(),10),null===i)i=o;else{if(0==i)return;i=10*i+o}if(255<i)return;d++}c[u]=256*c[u]+i,2!=++r&&4!=r||u++}if(4!=r)return;break}if(":"==p()){if(d++,!p())return}else if(p())return;c[u++]=t}else{if(null!==l)return;d++,l=++u}}if(null!==l)for(a=u-l,u=7;0!=u&&0<a;)s=c[u],c[u--]=c[l+a-1],c[l+--a]=s;else if(8!=u)return;return c},wa=function(e){for(var t=null,n=1,r=null,i=0,o=0;o<8;o++)0!==e[o]?(n<i&&(t=r,n=i),r=null,i=0):(null===r&&(r=o),++i);return n<i&&(t=r,n=i),t},Ia=function(e){var t,n,r,i;if("number"==typeof e){for(t=[],n=0;n<4;n++)t.unshift(e%256),e=ca(e/256);return t.join(".")}if("object"!=typeof e)return e;for(t="",r=wa(e),n=0;n<8;n++)i&&0===e[n]||(i=i&&!1,r===n?(t+=n?":":"::",i=!0):(t+=e[n].toString(16),n<7&&(t+=":")));return"["+t+"]"},xa={},La=uo({},xa,{" ":1,'"':1,"<":1,">":1,"`":1}),Ra=uo({},La,{"#":1,"?":1,"{":1,"}":1}),Na=uo({},Ra,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),Da=function(e,t){var n=na(e,0);return 32<n&&n<127&&!Object(E.i)(t,e)?e:encodeURIComponent(e)},Ma={ftp:21,file:null,gopher:70,http:80,https:443,ws:80,wss:443},Pa=function(e){return Object(E.i)(Ma,e.scheme)},ja=function(e){return""!=e.username||""!=e.password},Fa=function(e){return!e.host||e.cannotBeABaseURL||"file"==e.scheme},Ba=function(e,t){var n;return 2==e.length&&ha.test(e.charAt(0))&&(":"==(n=e.charAt(1))||!t&&"|"==n)},Ua=function(e){var t;return 1<e.length&&Ba(e.slice(0,2))&&(2==e.length||"/"===(t=e.charAt(2))||"\\"===t||"?"===t||"#"===t)},Ha=function(e){var t=e.path,n=t.length;!n||"file"==e.scheme&&1==n&&Ba(t[0],!0)||t.pop()},za=function(e){return"."===e||"%2e"===e.toLowerCase()},Va=function(e){return".."===(e=e.toLowerCase())||"%2e."===e||".%2e"===e||"%2e%2e"===e},Ka={},Ga={},Wa={},Ya={},qa={},Za={},Xa={},Qa={},Ja={},$a={},es={},ts={},ns={},rs={},is={},os={},as={},ss={},cs={},us={},ls={},ds=function(e,t,n,r){var i,o,a,s,c=n||Ka,u=0,l="",d=!1,p=!1,f=!1;for(n||(e.scheme="",e.username="",e.password="",e.host=null,e.port=null,e.path=[],e.query=null,e.fragment=null,e.cannotBeABaseURL=!1,t=t.replace(Ca,"")),t=t.replace(Ta,""),i=bn(t);u<=i.length;){switch(o=i[u],c){case Ka:if(!o||!ha.test(o)){if(n)return da;c=Wa;continue}l+=o.toLowerCase(),c=Ga;break;case Ga:if(o&&(ga.test(o)||"+"==o||"-"==o||"."==o))l+=o.toLowerCase();else{if(":"!=o){if(n)return da;l="",c=Wa,u=0;continue}if(n&&(Pa(e)!=Object(E.i)(Ma,l)||"file"==l&&(ja(e)||null!==e.port)||"file"==e.scheme&&!e.host))return;if(e.scheme=l,n)return void(Pa(e)&&Ma[e.scheme]==e.port&&(e.port=null));l="","file"==e.scheme?c=rs:Pa(e)&&r&&r.scheme==e.scheme?c=Ya:Pa(e)?c=Qa:"/"==i[u+1]?(c=qa,u++):(e.cannotBeABaseURL=!0,e.path.push(""),c=cs)}break;case Wa:if(!r||r.cannotBeABaseURL&&"#"!=o)return da;if(r.cannotBeABaseURL&&"#"==o){e.scheme=r.scheme,e.path=r.path.slice(),e.query=r.query,e.fragment="",e.cannotBeABaseURL=!0,c=ls;break}c="file"==r.scheme?rs:Za;continue;case Ya:if("/"!=o||"/"!=i[u+1]){c=Za;continue}c=Ja,u++;break;case qa:if("/"==o){c=$a;break}c=ss;continue;case Za:if(e.scheme=r.scheme,o==Jo)e.username=r.username,e.password=r.password,e.host=r.host,e.port=r.port,e.path=r.path.slice(),e.query=r.query;else if("/"==o||"\\"==o&&Pa(e))c=Xa;else if("?"==o)e.username=r.username,e.password=r.password,e.host=r.host,e.port=r.port,e.path=r.path.slice(),e.query="",c=us;else{if("#"!=o){e.username=r.username,e.password=r.password,e.host=r.host,e.port=r.port,e.path=r.path.slice(),e.path.pop(),c=ss;continue}e.username=r.username,e.password=r.password,e.host=r.host,e.port=r.port,e.path=r.path.slice(),e.query=r.query,e.fragment="",c=ls}break;case Xa:if(!Pa(e)||"/"!=o&&"\\"!=o){if("/"!=o){e.username=r.username,e.password=r.password,e.host=r.host,e.port=r.port,c=ss;continue}c=$a}else c=Ja;break;case Qa:if(c=Ja,"/"!=o||"/"!=l.charAt(u+1))continue;u++;break;case Ja:if("/"==o||"\\"==o)break;c=$a;continue;case $a:if("@"==o){d&&(l="%40"+l),d=!0,a=bn(l);for(var h=0;h<a.length;h++){var g,m=a[h];":"!=m||f?(g=Da(m,Na),f?e.password+=g:e.username+=g):f=!0}l=""}else if(o==Jo||"/"==o||"?"==o||"#"==o||"\\"==o&&Pa(e)){if(d&&""==l)return la;u-=bn(l).length+1,l="",c=es}else l+=o;break;case es:case ts:if(n&&"file"==e.scheme){c=os;continue}if(":"!=o||p){if(o==Jo||"/"==o||"?"==o||"#"==o||"\\"==o&&Pa(e)){if(Pa(e)&&""==l)return pa;if(n&&""==l&&(ja(e)||null!==e.port))return;if(s=Oa(e,l))return s;if(l="",c=as,n)return;continue}"["==o?p=!0:"]"==o&&(p=!1),l+=o}else{if(""==l)return pa;if(s=Oa(e,l))return s;if(l="",c=ns,n==ts)return}break;case ns:if(!ma.test(o)){if(o==Jo||"/"==o||"?"==o||"#"==o||"\\"==o&&Pa(e)||n){if(""!=l){var v=parseInt(l,10);if(65535<v)return fa;e.port=Pa(e)&&v===Ma[e.scheme]?null:v,l=""}if(n)return;c=as;continue}return fa}l+=o;break;case rs:if(e.scheme="file","/"==o||"\\"==o)c=is;else{if(!r||"file"!=r.scheme){c=ss;continue}if(o==Jo)e.host=r.host,e.path=r.path.slice(),e.query=r.query;else if("?"==o)e.host=r.host,e.path=r.path.slice(),e.query="",c=us;else{if("#"!=o){Ua(i.slice(u).join(""))||(e.host=r.host,e.path=r.path.slice(),Ha(e)),c=ss;continue}e.host=r.host,e.path=r.path.slice(),e.query=r.query,e.fragment="",c=ls}}break;case is:if("/"==o||"\\"==o){c=os;break}r&&"file"==r.scheme&&!Ua(i.slice(u).join(""))&&(Ba(r.path[0],!0)?e.path.push(r.path[0]):e.host=r.host),c=ss;continue;case os:if(o==Jo||"/"==o||"\\"==o||"?"==o||"#"==o){if(!n&&Ba(l))c=ss;else if(""==l){if(e.host="",n)return;c=as}else{if(s=Oa(e,l))return s;if("localhost"==e.host&&(e.host=""),n)return;l="",c=as}continue}l+=o;break;case as:if(Pa(e)){if(c=ss,"/"!=o&&"\\"!=o)continue}else if(n||"?"!=o)if(n||"#"!=o){if(o!=Jo&&(c=ss,"/"!=o))continue}else e.fragment="",c=ls;else e.query="",c=us;break;case ss:if(o==Jo||"/"==o||"\\"==o&&Pa(e)||!n&&("?"==o||"#"==o)){if(Va(l)?(Ha(e),"/"==o||"\\"==o&&Pa(e)||e.path.push("")):za(l)?"/"==o||"\\"==o&&Pa(e)||e.path.push(""):("file"==e.scheme&&!e.path.length&&Ba(l)&&(e.host&&(e.host=""),l=l.charAt(0)+":"),e.path.push(l)),l="","file"==e.scheme&&(o==Jo||"?"==o||"#"==o))for(;1<e.path.length&&""===e.path[0];)e.path.shift();"?"==o?(e.query="",c=us):"#"==o&&(e.fragment="",c=ls)}else l+=Da(o,Ra);break;case cs:"?"==o?(e.query="",c=us):"#"==o?(e.fragment="",c=ls):o!=Jo&&(e.path[0]+=Da(o,xa));break;case us:n||"#"!=o?o!=Jo&&("'"==o&&Pa(e)?e.query+="%27":e.query+="#"==o?"%23":Da(o,xa)):(e.fragment="",c=ls);break;case ls:o!=Jo&&(e.fragment+=Da(o,La))}u++}},ps=function(e){var t,n,r=Object(E.D)(this,ps,"URL"),i=1<arguments.length?arguments[1]:void 0,o=String(e),a=aa(r,{type:"URL"});if(void 0!==i)if(i instanceof ps)t=sa(i);else if(n=ds(t={},String(i)))throw TypeError(n);if(n=ds(a,o,null,t))throw TypeError(n);var s=a.searchParams=new ia,c=oa(s);c.updateSearchParams(a.query),c.updateURL=function(){a.query=String(s)||null},E.hb||(r.href=hs.call(r),r.origin=gs.call(r),r.protocol=ms.call(r),r.username=vs.call(r),r.password=ys.call(r),r.host=bs.call(r),r.hostname=Es.call(r),r.port=_s.call(r),r.pathname=As.call(r),r.search=Cs.call(r),r.searchParams=Ts.call(r),r.hash=Os.call(r))},fs=ps.prototype,hs=function(){var e=sa(this),t=e.scheme,n=e.username,r=e.password,i=e.host,o=e.port,a=e.path,s=e.query,c=e.fragment,u=t+":";return null!==i?(u+="//",ja(e)&&(u+=n+(r?":"+r:"")+"@"),u+=Ia(i),null!==o&&(u+=":"+o)):"file"==t&&(u+="//"),u+=e.cannotBeABaseURL?a[0]:a.length?"/"+a.join("/"):"",null!==s&&(u+="?"+s),null!==c&&(u+="#"+c),u},gs=function(){var e=sa(this),t=e.scheme,n=e.port;if("blob"==t)try{return new URL(t.path[0]).origin}catch(e){return"null"}return"file"!=t&&Pa(e)?t+"://"+Ia(e.host)+(null!==n?":"+n:""):"null"},ms=function(){return sa(this).scheme+":"},vs=function(){return sa(this).username},ys=function(){return sa(this).password},bs=function(){var e=sa(this),t=e.host,n=e.port;return null===t?"":null===n?Ia(t):Ia(t)+":"+n},Es=function(){var e=sa(this).host;return null===e?"":Ia(e)},_s=function(){var e=sa(this).port;return null===e?"":String(e)},As=function(){var e=sa(this),t=e.path;return e.cannotBeABaseURL?t[0]:t.length?"/"+t.join("/"):""},Cs=function(){var e=sa(this).query;return e?"?"+e:""},Ts=function(){return sa(this).searchParams},Os=function(){var e=sa(this).fragment;return e?"#"+e:""},ks=function(e,t){return{get:e,set:t,configurable:!0,enumerable:!0}};E.hb&&Object(E.jb)(fs,{href:ks(hs,function(e){var t=sa(this),n=String(e),r=ds(t,n);if(r)throw TypeError(r);oa(t.searchParams).updateSearchParams(t.query)}),origin:ks(gs),protocol:ks(ms,function(e){var t=sa(this);ds(t,String(e)+":",Ka)}),username:ks(vs,function(e){var t=sa(this),n=bn(String(e));if(!Fa(t)){t.username="";for(var r=0;r<n.length;r++)t.username+=Da(n[r],Na)}}),password:ks(ys,function(e){var t=sa(this),n=bn(String(e));if(!Fa(t)){t.password="";for(var r=0;r<n.length;r++)t.password+=Da(n[r],Na)}}),host:ks(bs,function(e){var t=sa(this);t.cannotBeABaseURL||ds(t,String(e),es)}),hostname:ks(Es,function(e){var t=sa(this);t.cannotBeABaseURL||ds(t,String(e),ts)}),port:ks(_s,function(e){var t=sa(this);Fa(t)||(""==(e=String(e))?t.port=null:ds(t,e,ns))}),pathname:ks(As,function(e){var t=sa(this);t.cannotBeABaseURL||(t.path=[],ds(t,e+"",as))}),search:ks(Cs,function(e){var t=sa(this);""==(e=String(e))?t.query=null:("?"==e.charAt(0)&&(e=e.slice(1)),t.query="",ds(t,e,us)),oa(t.searchParams).updateSearchParams(t.query)}),searchParams:ks(Ts),hash:ks(Os,function(e){var t=sa(this);""!=(e=String(e))?("#"==e.charAt(0)&&(e=e.slice(1)),t.fragment="",ds(t,e,ls)):t.fragment=null})}),Object(E.p)(fs,"toJSON",function(){return hs.call(this)},{enumerable:!0}),Object(E.p)(fs,"toString",function(){return hs.call(this)},{enumerable:!0}),ra&&($o=ra.createObjectURL,ea=ra.revokeObjectURL,$o&&Object(E.p)(ps,"createObjectURL",function(e){return $o.apply(ra,arguments)}),ea&&Object(E.p)(ps,"revokeObjectURL",function(e){return ea.apply(ra,arguments)})),Object(E.r)(ps,"URL"),Object(E.B)({global:!0,forced:!so,sham:!E.hb},{URL:ps});var Ss,ws,Is=E.ib.URL;(ws=Ss=Ss||{}).INCREASE="increase",ws.REDUCE="reduce";var xs=16e3,Ls=2e3,Rs=function(){function e(){Vt(this,e),this.sleepTimeoutMap=new br,this.retryCountMap=new br}return Ar(e,[{key:"getUrlMapKey",value:function(e){var t=e.match(/^https?\:\/\/[^\/?#]*([^?#]*).*$/);return t&&t[1]?t[1]:e}},{key:"getSleepTimeout",value:function(e){return this.sleepTimeoutMap.get(e)}},{key:"getRetryCount",value:function(e){return this.retryCountMap.get(e)}},{key:"handleTooManyRequest",value:function(e){this.addRetryCount(e),this.setSleepTimeout(e,Ss.INCREASE)}},{key:"handleNotTooManyRequest",value:function(e){this.clearRetryCount(e),this.setSleepTimeout(e,Ss.REDUCE)}},{key:"setSleepTimeout",value:function(e,t){var n=this.sleepTimeoutMap.get(e),r=n||0;t===Ss.INCREASE?r=n?Math.min(xs,2*n):Ls:t===Ss.REDUCE&&(r=n&&Ls<n?n/2:0),this.sleepTimeoutMap.set(e,r)}},{key:"clearRetryCount",value:function(e){this.retryCountMap.delete(e)}},{key:"addRetryCount",value:function(e){var t=this.retryCountMap.get(e),n=t?t+1:1;this.retryCountMap.set(e,n)}}]),e}();function Ns(t,e){var n,r=Ft(t);return Mt&&(n=Mt(t),e&&(n=Ye(n).call(n,function(e){return Ve(t,e).enumerable})),r.push.apply(r,n)),r}function Ds(t){for(var e=1;e<arguments.length;e++){var n,r,i=null!=arguments[e]?arguments[e]:{};e%2?Be(n=Ns(Object(i),!0)).call(n,function(e){Ht(t,e,i[e])}):Ne?Se(t,Ne(i)):Be(r=Ns(Object(i))).call(r,function(e){ke(t,e,Ve(i,e))})}return t}Rs.MAX_RETRY_COUNT=20;se.a.CancelToken;function Ms(e){var t=document.cookie.match(new RegExp("(?:^|;)\\s*".concat(e,"=([^;]+)")));return window.decodeURIComponent(t?t[1]:"")}function Ps(e){try{var t=new Is(e).hostname.split(".")[0];return oo(t).call(t,"internal-")?t:"Unknown"}catch(e){return"Unknown"}}var js,Fs,Bs,Us=function(){function t(e){Vt(this,t),this.nearbyDriveAPIHostLoginRequired=!1,this.timeout=6e5,this.backoffController=new Rs,this.axiosInstance=e.envConfigs.customRequest||se.a.create({}),this.initEnvConfigs(e.envConfigs,e.featureFlags)}function e(e){return n.apply(this,arguments)}var n,r,i,o;function a(){return r.apply(this,arguments)}function s(e,t){return i.apply(this,arguments)}function c(e){return o.apply(this,arguments)}return Ar(t,[{key:"post",value:function(e,t,n){return this.internalPost(e,t,n)}},{key:"postUrlEncoded",value:function(e,t,n){return this.internalPost(e,ue.a.stringify(t),Ds({},n,{headers:Ds({"Content-Type":"application/x-www-form-urlencoded"},n?n.headers:null)}))}},{key:"postFormData",value:function(e,t,n){return this.internalPost(e,t,Ds({},n,{headers:Ds({"Content-Type":"multipart/form-data"},n?n.headers:null)}))}},{key:"importRequest",value:(o=C(L.mark(function e(t){var n,r,i,o,a,s,c,u;return L.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.axiosInstance(Ds({},t,{withCredentials:!0,timeout:this.timeout,ignoreInterceptors:!0}));case 3:return n=e.sent,r=n.data,i=n.headers,o=n.request,e.abrupt("return",{data:r,reqID:i["x-request-id"],subdomain:Ps(o.responseURL)});case 8:if(e.prev=8,e.t0=e.catch(0),se.a.isCancel(e.t0))throw new Error("Cancelled");e.next=12;break;case 12:if(e.t0.response){e.next=14;break}throw new Error("Network Error");case 14:throw a=e.t0.response,s=a.data,c=a.headers,u=a.request,{data:s,reqID:c["x-request-id"],subdomain:Ps(u.responseURL)};case 16:case"end":return e.stop()}},e,this,[[0,8]])})),c)},{key:"importPostFormData",value:function(e,t,n){return this.importRequest(Ds({},n,{url:e,data:t,method:"post",headers:Ds({"Content-Type":"multipart/form-data"},n?n.headers:null)}))}},{key:"importGet",value:function(e,t,n){return this.importRequest(Ds({},n,{url:e,params:t,method:"get"}))}},{key:"getXCommand",value:function(e){return e.replace(/(?:^.*\/\/[^\/]+\/)|(?:\/*(?:\?.*)?$)/g,"").replace(/\//g,".")}},{key:"initEnvConfigs",value:(i=C(L.mark(function e(t,n){var r,i,o,a,s;return L.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Boolean(n&&n.nearbyDriveAPIAccess),t.isLocalhost)return this.defaultSpaceAPIOrigin=window.location.origin,this.defaultDriveAPIOrigin=window.location.origin,r&&(this.defaultNearbyDriveAPIOrigin=window.location.origin),e.abrupt("return");e.next=6;break;case 6:if(i=Object(ne.default)(t,"spaceAPIHosts[0]")){e.next=9;break}throw new Error("spaceAPIHosts not provided");case 9:if(this.defaultSpaceAPIOrigin="https://".concat(i),o=Object(ne.default)(t,"driveAPIHosts[0]",""),a=Object(ne.default)(t,"nearbyDriveAPIHosts[0]",""),!o||r&&!a){e.next=16;break}this.envConfigs=t,e.next=20;break;case 16:return e.next=18,this.fetchEnvConfigs();case 18:s=e.sent,this.envConfigs=Ds({},s,{},t);case 20:this.defaultDriveAPIOrigin="https://".concat(Object(ne.default)(this.envConfigs,"driveAPIHosts[0]","")),r&&(this.defaultNearbyDriveAPIOrigin="https://".concat(Object(ne.default)(this.envConfigs,"nearbyDriveAPIHosts[0]","")));case 22:case"end":return e.stop()}},e,this)})),s)},{key:"fetchEnvConfigs",value:(r=C(L.mark(function e(){return L.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{});case 1:case"end":return e.stop()}},e)})),a)},{key:"request",value:(n=C(L.mark(function e(t){var n,r,i,o,a,s,c,u,l,d,p,f;return L.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.backoffController.getUrlMapKey(t.url),e.prev=1,r=this.backoffController.getSleepTimeout(n))return e.next=6,Vi(r);e.next=6;break;case 6:return e.next=8,this.axiosInstance(Ds({},t,{withCredentials:!0,timeout:this.timeout,ignoreInterceptors:!0,headers:Ds({},t.headers,{"X-Request-Id":Lr(32),"X-CSRFToken":Ms("_csrf_token")||"","X-Command":this.getXCommand(t.url||"")})}));case 8:if(i=e.sent,o=i.data,a=i.headers,s=i.request,0!==o.code)throw{response:i};e.next=12;break;case 12:return this.backoffController.handleNotTooManyRequest(n),e.abrupt("return",{data:o.data,reqID:a["x-request-id"],subdomain:Ps(s.responseURL)});case 16:if(e.prev=16,e.t0=e.catch(1),se.a.isCancel(e.t0))throw new Error("Cancelled");e.next=20;break;case 20:if(e.t0.response){e.next=22;break}throw new Error("Network Error");case 22:if(401===e.t0.response.status&&this.defaultDriveAPIOrigin&&this.shouldUseNearbyDriveAPI&&eo(c=t.url).call(c,this.defaultNearbyDriveAPIOrigin))return this.nearbyDriveAPIHostLoginRequired=!0,t.url=t.url.replace("https://".concat(this.defaultNearbyDriveAPIOrigin),this.defaultDriveAPIOrigin),e.abrupt("return",this.request(t));e.next=27;break;case 27:if(429!==e.t0.response.status){e.next=33;break}if((u=this.backoffController.getRetryCount(n))&&u>=Rs.MAX_RETRY_COUNT)throw e.t0.response.data;e.next=31;break;case 31:return this.backoffController.handleTooManyRequest(n),e.abrupt("return",this.request(t));case 33:throw this.backoffController.handleNotTooManyRequest(n),l=e.t0.response,d=l.data,p=l.headers,f=l.request,{data:d,reqID:p["x-request-id"],subdomain:Ps(f.responseURL)};case 36:case"end":return e.stop()}},e,this,[[1,16]])})),e)},{key:"internalPost",value:function(e,t,n){return this.request(Ds({},n,{url:e,data:t,method:"post"}))}},{key:"shouldUseNearbyDriveAPI",get:function(){return!this.nearbyDriveAPIHostLoginRequired&&this.defaultNearbyDriveAPIOrigin}},{key:"driveAPIOrigin",get:function(){return this.shouldUseNearbyDriveAPI?this.defaultNearbyDriveAPIOrigin:this.defaultDriveAPIOrigin}},{key:"spaceAPIOrigin",get:function(){return this.defaultSpaceAPIOrigin}}]),t}();(Bs=Fs=Fs||{}).manager="manager",Bs.member="member",Bs.visitor="visitor";var Hs=(Ht(js={},Fs.manager,1),Ht(js,Fs.member,2),Ht(js,Fs.visitor,3),js),zs={PREPARE:"box/upload/prepare",MERGE_BLOCK:"box/stream/upload/merge_block",FINISH:"box/upload/finish",CREATE:"explorer/create",CREATE_FOLDER:"explorer/create/folder",CREATE_FOLDER_V2:"explorer/v2/create/folder",PARSER_UPLOAD:"parser/uploadfile",PARSER_RESULT:"parser/getresult",IMPORT_PARSER_EVERNOTE:"parser/wiki/parse_evernote_from_drive",PARSER_EVERNOTE_RESULT:"parser/wiki/getresult"},Vs=Hi(Hs),Ks=function(){function r(e){Vt(this,r);var t=e.envConfigs,n=e.featureFlags;this.envConfigs=t,this.request=new Us({envConfigs:t,featureFlags:n})}function e(e){return t.apply(this,arguments)}var t,n,i,o,a,s,c,u,l,d;function p(e){return n.apply(this,arguments)}function f(e){return i.apply(this,arguments)}function h(e){return o.apply(this,arguments)}function g(e){return a.apply(this,arguments)}function m(e){return s.apply(this,arguments)}function v(e){return c.apply(this,arguments)}function y(e){return u.apply(this,arguments)}function b(e){return l.apply(this,arguments)}function E(e){return d.apply(this,arguments)}return Ar(r,[{key:"getURL",value:function(e,t){var n,r=t?this.request.driveAPIOrigin:this.request.spaceAPIOrigin;return Nn(n="".concat(r,"/space/api/")).call(n,e,"/")}},{key:"createDirectory",value:function(e){switch(e.directoryType){case _.V3Folder:return this.createV3Folder(e);case _.NewSharedFolder:return this.createNewSharedFolderDirectory(e);case _.Normal:default:return this.createNormalDirectory(e)}}},{key:"createV3Folder",value:(d=C(L.mark(function e(t){var n,r,i;return L.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request.post(this.getURL(zs.CREATE_FOLDER_V2),zi({parent_token:t.parentToken,name:t.name}),{headers:{"Content-Type":"application/json"}});case 2:return n=e.sent,r=n.data,i=n.reqID,e.abrupt("return",{reqID:i,token:r.token});case 6:case"end":return e.stop()}},e,this)})),E)},{key:"createNewSharedFolderDirectory",value:(l=C(L.mark(function e(t){var n,r,i;return L.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request.post(this.getURL(zs.CREATE_FOLDER),zi({parent_token:t.parentToken,name:t.name,inherit:Vs}),{headers:{"Content-Type":"application/json"}});case 2:return n=e.sent,r=n.data,i=n.reqID,e.abrupt("return",{reqID:i,token:r.token});case 6:case"end":return e.stop()}},e,this)})),b)},{key:"createNormalDirectory",value:(u=C(L.mark(function e(t){var n,r,i;return L.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request.postUrlEncoded(this.getURL(zs.CREATE),zi({parent_token:t.parentToken,name:t.name,type:0}));case 2:return n=e.sent,r=n.data,i=n.reqID,e.abrupt("return",{reqID:i,token:r.token});case 6:case"end":return e.stop()}},e,this)})),y)},{key:"prepareFile",value:(c=C(L.mark(function e(t){var n,r,i;return L.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request.post(this.getURL(zs.PREPARE),zi({mount_point:t.mountPoint,mount_node_token:t.mountNodeToken,name:t.name,size:t.size,file_token:t.fileToken}));case 2:return n=e.sent,r=n.data,i=n.reqID,e.abrupt("return",{reqID:i,chunkSize:r.block_size,totalChunks:r.num_blocks,uploadID:r.upload_id,suggestedChunkSize:r.option_block_size});case 6:case"end":return e.stop()}},e,this)})),v)},{key:"uploadChunk",value:(s=C(L.mark(function e(t){var n,r,i,o,a,s,c,u,l,d,p,f,h;return L.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.seqList,r=t.checksums,i=t.chunkSize,o=t.uploadID,a=t.sliceData,s=t.onUploadProgress,c=t.cancelToken,u={"Content-Type":"application/octet-stream","x-seq-list":n.join(),"x-block-list-checksum":r.join(),"x-block-origin-size":i},l={upload_id:o},e.next=5,this.request.post(this.uploadChunkURL,a,{headers:u,params:l,cancelToken:c,onUploadProgress:s});case 5:return d=e.sent,p=d.data,f=d.reqID,h=d.subdomain,e.abrupt("return",{reqID:f,subdomain:h,successSeqList:p.success_seq_list});case 10:case"end":return e.stop()}},e,this)})),m)},{key:"finishFile",value:(a=C(L.mark(function e(t){var n,r,i;return L.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request.post(this.getURL(zs.FINISH),zi({upload_id:t.uploadID,num_blocks:t.totalChunks,member_id:t.memberID,push_open_history_record:t.shouldAddToRecents?1:0}));case 2:return n=e.sent,r=n.data,i=n.reqID,e.abrupt("return",{reqID:i,fileToken:r.file_token,version:r.version,dataVersion:r.data_version,nodeToken:Object(ne.default)(r,"extra.node_token")});case 6:case"end":return e.stop()}},e,this)})),g)},{key:"importUpload",value:(o=C(L.mark(function e(t){var n,r,i,o;return L.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new FormData).append("name",t.name),n.append("type",t.type),n.append("size",String(t.size)),n.append("parent_token",t.parentToken),n.append("file",t.file),n.append("source",this.envConfigs.source||""),e.next=9,this.request.importPostFormData(this.getURL(zs.PARSER_UPLOAD),n,{cancelToken:t.cancelToken,onUploadProgress:t.onUploadProgress});case 9:return r=e.sent,i=r.data,o=r.reqID,e.abrupt("return",{reqID:o,code:i.code,ticket:i.ticket});case 13:case"end":return e.stop()}},e,this)})),h)},{key:"importStatusCheck",value:(i=C(L.mark(function e(t){var n,r,i;return L.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request.importGet(this.getURL(zs.PARSER_RESULT),{ticket:t.ticket,source:this.envConfigs.source});case 2:return n=e.sent,r=n.data,i=n.reqID,e.abrupt("return",{reqID:i,code:r.code,fileToken:Object(ne.default)(r,"tokens[0]"),warningCode:r.warningCode,responseData:r});case 6:case"end":return e.stop()}},e,this)})),f)},{key:"importParseEvernote",value:(n=C(L.mark(function e(t){var n,r,i,o,a;return L.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.request.post(this.getURL(zs.IMPORT_PARSER_EVERNOTE),{file_token:t.fileToken},{cancelToken:t.cancelToken});case 3:return n=e.sent,r=n.data,i=n.reqID,e.abrupt("return",{reqID:i,ticket:r.ticket});case 9:if(e.prev=9,e.t0=e.catch(0),o=e.t0.data,a=e.t0.reqID,o)return e.abrupt("return",{reqID:a,ticket:o.ticket});e.next=14;break;case 14:throw e.t0;case 15:case"end":return e.stop()}},e,this,[[0,9]])})),p)},{key:"importEvernoteStatusCheck",value:(t=C(L.mark(function e(t){var n,r,i;return L.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request.importGet(this.getURL(zs.PARSER_EVERNOTE_RESULT),{ticket:t.ticket,source:this.envConfigs.source});case 2:return n=e.sent,r=n.data,i=n.reqID,e.abrupt("return",{reqID:i,code:r.code,fileToken:Object(ne.default)(r,"tokens[0]"),warningCode:r.warningCode,responseData:r});case 6:case"end":return e.stop()}},e,this)})),e)},{key:"uploadChunkURL",get:function(){return this.getURL(zs.MERGE_BLOCK,!0)}}]),r}();function Gs(t,e){var n,r=Ft(t);return Mt&&(n=Mt(t),e&&(n=Ye(n).call(n,function(e){return Ve(t,e).enumerable})),r.push.apply(r,n)),r}function Ws(t){for(var e=1;e<arguments.length;e++){var n,r,i=null!=arguments[e]?arguments[e]:{};e%2?Be(n=Gs(Object(i),!0)).call(n,function(e){Ht(t,e,i[e])}):Ne?Se(t,Ne(i)):Be(r=Gs(Object(i))).call(r,function(e){ke(t,e,Ve(i,e))})}return t}var Ys="08a441",qs="42b91e";function Zs(e){return he()(Ys+de()(e+qs)).toString()}var Xs=function(){function r(e){var t=e.scenario,n=e.driveSDKAppID;Vt(this,r),this.pendingEvents=[],this.isUnavailable=!1,this.driveSDKAppID=n,this.scenario=t}return Ar(r,[{key:"kickOff",value:function(e){var t,n=this,r=e.appID,i=e.channelDomain,o=e.instanceName,a=e.isOnlineEnv,s=e.userID,c=e.tenantID;this.instanceName=o,this.tenantID=Object(P.a)(c)?Zs(c):c,this.tracker=new pe.a(this.instanceName),this.tracker.init({channel_domain:i,app_id:r,log:!1,disable_session:!0,disable_sdk_monitor:!0}),this.tracker.config({_staging_flag:a?0:1,user_unique_id:s?Zs(s):"",disable_auto_pv:!0}),this.tracker.start(),this.isUnavailable=!1,0<this.pendingEvents.length&&(Be(t=this.pendingEvents).call(t,function(e){n.collectEvent(e.eventName,e.options)}),this.clearPendingEvents())}},{key:"clearPendingEvents",value:function(){this.pendingEvents=[]}},{key:"setIsUnavailable",value:function(){this.clearPendingEvents(),this.isUnavailable=!0}},{key:"collectEvent",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(!this.isUnavailable)if(this.tracker)try{var n=Ws({},t,{instance:this.instanceName,tenant_id:this.tenantID,scenario:this.scenario,drive_sdk_app_id:this.driveSDKAppID});this.tracker(e,n)}catch(e){console.error("collect event error",e)}else this.pendingEvents.push({eventName:e,options:t})}},{key:"collectFileSuccessEvent",value:function(e){var t=e.mountType,n=e.size,r=e.duration,i=0<r?Math.round(n/r*1e3):0;this.collectEvent("dev_upload_file_success",{duration:r,size:n,speed:i,mount_type:t})}},{key:"collectFileErrorEvent",value:function(e){var t=e.mountType,n=e.size,r=e.reqID,i=e.errorType,o=e.errorMsg;this.collectEvent("dev_upload_file_error",{size:n,mount_type:t,request_id:r,error_type:i,error_msg:o})}},{key:"collectChunkSuccessEvent",value:function(e){var t=e.mountType,n=e.offset,r=e.size,i=e.duration,o=e.subdomain,a=0<i?Math.round(r/i*1e3):0;this.collectEvent("dev_upload_chunk_success",{offset:n,size:r,duration:i,speed:a,subdomain:o,mount_type:t})}},{key:"collectChunkErrorEvent",value:function(e){var t=e.mountType,n=e.offset,r=e.size,i=e.reqID,o=e.subdomain,a=e.errorType,s=e.errorMsg;this.collectEvent("dev_upload_chunk_error",{offset:n,size:r,subdomain:o,mount_type:t,request_id:i,error_type:a,error_msg:s})}},{key:"collectCreateDirectoryErrorEvent",value:function(e){var t=e.reqID,n=e.errorType,r=e.errorMsg;this.collectEvent("dev_upload_create_directory_error",{request_id:t,error_type:n,error_msg:r})}}]),r}(),Qs=3,Js="Create directory task not found";function $s(e){return"pending"===e||"creating"===e||"retrying"===e}function ec(e){return"pending"===e||"paused"===e||"error"===e||"success"===e}var tc=function(){function i(e){var t=e.requestService,n=e.onStatusChanged,r=e.logger;Vt(this,i),this.createDirectoryTaskMap=new br,this.requestService=t,this.onStatusChanged=n,this.logger=r}function e(e){return t.apply(this,arguments)}var t;return Ar(i,[{key:"startCreateDirectory",value:function(e){var t=e.uuid,n=e.parentUUID,r=e.parentToken,i=e.name,o=e.directoryType,a=this.createDirectoryTaskMap.get(t);a?ec(a.status)?"success"===a.status&&a.token?this.onCreateDirectorySuccess({uuid:t,parentUUID:a.parentUUID,token:a.token}):this.doCreateDirectory(t):console.warn("Cannot start a task that is already in progress."):(this.createDirectoryTaskMap.set(t,{uuid:t,parentUUID:n,parentToken:r,name:i,directoryType:o,status:"pending"}),this.doCreateDirectory(t))}},{key:"cancelCreateDirectory",value:function(e){var t=this.createDirectoryTaskMap.get(e);t?$s(t.status)&&(t.status="paused"):console.warn(Js)}},{key:"doCreateDirectory",value:(t=C(L.mark(function e(t){var n,r,i,o,a,s,c,u,l,d,p;return L.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.createDirectoryTaskMap.get(t)){e.next=4;break}return console.warn(Js),e.abrupt("return");case 4:return r=n.parentUUID,i=n.parentToken,o=n.name,a=n.retryCount,s=n.directoryType,n.status=a?"creating":"retrying",e.prev=6,e.next=9,this.requestService.createDirectory({name:o,parentToken:i,directoryType:s});case 9:c=e.sent,u=c.token,n.token=u,n.status="success",this.onCreateDirectorySuccess({uuid:t,parentUUID:r,token:u}),e.next=36;break;case 16:if(e.prev=16,e.t0=e.catch(6),e.t0){e.next=22;break}return n.status="error",this.onCreateDirectoryError({uuid:t,parentUUID:r,reqID:"",errorType:x.CreateDirectoryUnexpected}),e.abrupt("return");case 22:if(l=e.t0.reqID||"",d=e.t0.data?e.t0.data.code:e.t0.message,this.logger.collectCreateDirectoryErrorEvent({errorType:d,reqID:l}),!(a&&Qs<=a)){e.next=30;break}n.status="error",this.onCreateDirectoryError({uuid:t,parentUUID:r,reqID:l,errorType:d}),e.next=36;break;case 30:return e.next=32,Vi(1e3);case 32:p=a?a+1:1,n.retryCount=p,this.onCreateDirectoryRetry({uuid:t,parentUUID:r,reqID:l,errorType:d,retry:p}),this.doCreateDirectory(t);case 36:case"end":return e.stop()}},e,this,[[6,16]])})),e)},{key:"onCreateDirectoryRetry",value:function(e){var t=e.uuid,n=e.parentUUID,r=e.retry,i=e.reqID,o=e.errorType;this.onStatusChanged({type:"retry",data:{uuid:t,parentUUID:n,retry:r,reqID:i,errorType:o}})}},{key:"onCreateDirectorySuccess",value:function(e){var t=e.uuid,n=e.parentUUID,r=e.token;this.onStatusChanged({type:"success",data:{uuid:t,parentUUID:n,token:r}})}},{key:"onCreateDirectoryError",value:function(e){var t=e.uuid,n=e.parentUUID,r=e.reqID,i=e.errorType;this.onStatusChanged({type:"error",data:{uuid:t,parentUUID:n,reqID:r,errorType:i}})}}]),i}();function nc(e){var t=String(e).split(".").pop();return t&&t!==e?t.toLowerCase():""}var rc=3e3,ic=66,oc="Import task not found";function ac(e){switch(nc(e)){case"doc":case"docx":case"md":case"markdown":case"mark":case"txt":return c.Docs;case"xls":case"xlsx":case"csv":return c.Sheets;case"xmind":case"mm":case"opml":return c.Mindnotes;default:return}}function sc(e,t){var n;return Nn(n="".concat(t?"WARNING-":"ERROR-")).call(n,e)}function cc(e){return"pending"===e||"paused"===e||"error"===e||"success"===e}function uc(e){return"pending"===e||"uploading"===e||"converting"===e}var lc=function(){function i(e){var t=e.requestService,n=e.onStatusChanged,r=e.onErrorAlert;Vt(this,i),this.importTaskMap=new br,this.requestService=t,this.onStatusChanged=n,this.onErrorAlert=r}function e(e){return t.apply(this,arguments)}var t,n;function r(e){return n.apply(this,arguments)}return Ar(i,[{key:"startImport",value:function(e){var t,n,r,i=e.uuid,o=e.parentUUID,a=e.file,s=e.parentToken,c=this.importTaskMap.get(i);c?cc(c.status)?(t=c.ticket,n=c.token,r=c.suiteType,"success"===c.status&&r&&n?this.onImportSuccess({uuid:i,parentUUID:o,token:n,suiteType:r}):t?this.pollImportTaskTicketStatus(i):this.uploadImportTask(i)):console.warn("Cannot start a task that is already in progress."):(this.importTaskMap.set(i,{uuid:i,parentUUID:o,file:a,parentToken:s,status:"pending"}),this.uploadImportTask(i))}},{key:"cancelImport",value:function(e){var t,n,r=this.importTaskMap.get(e);r?uc(r.status)&&(r.status="paused",t=r.cancelUploadSource,n=r.pollTicketStatusTimer,t&&(t.cancel(),r.cancelUploadSource=void 0),n&&(window.clearTimeout(n),r.pollTicketStatusTimer=void 0)):console.warn(oc)}},{key:"cancelAllImports",value:function(){var e,n=this;Be(e=this.importTaskMap).call(e,function(e,t){uc(e.status)&&n.cancelImport(t)})}},{key:"uploadImportTask",value:(n=C(L.mark(function e(n){var t,r,i,o,a,s,c,u,l,d,p,f=this;return L.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.importTaskMap.get(n)){e.next=4;break}return console.warn(oc),e.abrupt("return");case 4:return r=t.parentUUID,i=t.file,o=t.parentToken,a=i.size,e.prev=6,this.onImportUploading({uuid:n,parentUUID:r,bytesTransferred:0,bytesTotal:a}),s=se.a.CancelToken.source(),t.cancelUploadSource=s,t.status="uploading",e.next=13,this.requestService.importUpload({file:i,parentToken:o,name:i.name,type:i.type,size:a,cancelToken:s.token,onUploadProgress:function(e){var t=e.loaded;f.onImportUploading({uuid:n,parentUUID:r,bytesTransferred:Math.min(t,a),bytesTotal:a})}});case 13:if(c=e.sent,u=c.code,l=c.ticket,d=c.reqID,l){e.next=23;break}return p=sc(u),t.status="error",this.onImportError({uuid:n,parentUUID:r,errorType:p,reqID:d}),this.onErrorAlert({uuid:n,parentUUID:r,errorType:p,name:i.name}),e.abrupt("return");case 23:t.ticket=l,this.pollImportTaskTicketStatus(n),e.next=37;break;case 27:if(e.prev=27,e.t0=e.catch(6),e.t0){e.next=33;break}return t.status="error",this.onImportError({uuid:n,parentUUID:r,reqID:"",errorType:x.ImportUnexpected}),e.abrupt("return");case 33:if("Cancelled"===e.t0.message)return e.abrupt("return");e.next=35;break;case 35:t.status="error",this.onImportError({uuid:n,parentUUID:r,errorType:e.t0.data?sc(e.t0.data.code):e.t0.message,reqID:e.t0.reqID||""});case 37:return e.prev=37,t.cancelUploadSource=void 0,e.finish(37);case 40:case"end":return e.stop()}},e,this,[[6,27,37,40]])})),r)},{key:"pollImportTaskTicketStatus",value:(t=C(L.mark(function e(t){var n,r,i,o,a,s,c,u,l,d,p,f,h,g,m,v=this;return L.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.importTaskMap.get(t)){e.next=4;break}return console.warn(oc),e.abrupt("return");case 4:if(r=n.parentUUID,i=n.file,o=n.ticket,a=n.pollTicketStatusCount,o){e.next=7;break}return e.abrupt("return");case 7:return e.prev=7,n.status="converting",this.onImportConverting({uuid:t,parentUUID:r,ticket:o}),e.next=12,this.requestService.importStatusCheck({ticket:o});case 12:if(s=e.sent,c=s.code,u=s.fileToken,l=s.warningCode,d=s.reqID,p=s.responseData,void 0!==c)return f=i.name,h=ac(f),0===c&&u&&h?(n.token=u,n.suiteType=h,n.status="success",this.onImportSuccess({uuid:t,parentUUID:r,token:u,suiteType:h}),!l&&Object(re.default)(p.warningExtra)||(g=sc(l,!0),this.onErrorAlert({uuid:t,name:f,errorType:g,responseData:p}))):(m=sc(c),n.status="error",this.onImportError({uuid:t,parentUUID:r,errorType:m,reqID:d}),this.onErrorAlert({uuid:t,parentUUID:r,name:f,errorType:m,responseData:p})),e.abrupt("return");e.next=23;break;case 23:n.pollTicketStatusCount=a?a+1:1,n.pollTicketStatusCount<ic?n.pollTicketStatusTimer=window.setTimeout(function(){v.pollImportTaskTicketStatus(t)},rc):(n.status="error",this.onImportError({uuid:t,parentUUID:r,reqID:d,errorType:sc(x.ImportPollTooManyTimes)})),e.next=35;break;case 27:if(e.prev=27,e.t0=e.catch(7),e.t0){e.next=33;break}return n.status="error",this.onImportError({uuid:t,parentUUID:r,reqID:"",errorType:x.ImportUnexpected}),e.abrupt("return");case 33:n.status="error",this.onImportError({uuid:t,parentUUID:r,errorType:e.t0.data?sc(e.t0.data.code):e.t0.message,reqID:e.t0.reqID||""});case 35:case"end":return e.stop()}},e,this,[[7,27]])})),e)},{key:"onImportUploading",value:function(e){var t=e.uuid,n=e.parentUUID,r=e.bytesTransferred,i=e.bytesTotal,o=0===i?1:r/i;this.onStatusChanged({type:"uploading",data:{uuid:t,parentUUID:n,bytesTransferred:r,bytesTotal:i,progress:o}})}},{key:"onImportConverting",value:function(e){var t=e.uuid,n=e.parentUUID,r=e.ticket;this.onStatusChanged({type:"converting",data:{uuid:t,parentUUID:n,ticket:r}})}},{key:"onImportSuccess",value:function(e){var t=e.uuid,n=e.parentUUID,r=e.token,i=e.suiteType;this.onStatusChanged({type:"success",data:{uuid:t,parentUUID:n,token:r,suiteType:i}})}},{key:"onImportError",value:function(e){var t=e.uuid,n=e.parentUUID,r=e.errorType,i=e.reqID;this.onStatusChanged({type:"error",data:{uuid:t,parentUUID:n,errorType:r,reqID:i}})}}]),i}(),dc=[].slice,pc={},fc=function(e,t,n){if(!(t in pc)){for(var r=[],i=0;i<t;i++)r[i]="a["+i+"]";pc[t]=Function("C,a","return new C("+r.join(",")+")")}return pc[t](e,n)},hc=Function.bind||function(t){var n=Object(E.O)(this),r=dc.call(arguments,1),i=function(){var e=r.concat(dc.call(arguments));return this instanceof i?fc(n,e.length,e):n.apply(t,e)};return Object(E.ab)(n.prototype)&&(i.prototype=n.prototype),i};Object(E.B)({target:"Function",proto:!0},{bind:hc});var gc=Object(E.V)("Function").bind,mc=Function.prototype,vc=function(e){var t=e.bind;return e===mc||e instanceof Function&&t===mc.bind?gc:t},yc=3e3,bc=66,Ec="Import task not found",_c="enex";function Ac(e,t){var n;return Nn(n="".concat(t?"WARNING-":"ERROR-")).call(n,e)}function Cc(e){return"pending"===e||"paused"===e||"error"===e||"success"===e}function Tc(e){return"pending"===e||"uploading"===e||"converting"===e}function Oc(e){return nc(e)!==_c?void 0:c.Docs}function kc(e){if(mn(e))return e}var Sc=kc;function wc(e,t){if(Tn(Object(e))||"[object Arguments]"===Object.prototype.toString.call(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=tr(e);!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}var Ic=wc;function xc(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}var Lc=xc;function Rc(e,t){return Sc(e)||Ic(e,t)||Lc()}var Nc=Rc;function Dc(e){return Pc(new Uint8Array(e)).toString()}function Mc(e){for(var t=new Uint8Array(e.length),n=0,r=e.length;n<r;n++)t[n]=255&e.charCodeAt(n);return t}function Pc(e){e="string"==typeof e?Mc(e):e;for(var t=new Uint32Array([1,0,e.length,0,0,65521,5552,0]),n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],s=t[5],c=t[6];0<i;){for(a=c<i?c:i,i-=a;r+=n+=e[o++],--a;);n%=s,r%=s}return(r<<16|n)>>>0}var jc=3,Fc="Upload task not found";function Bc(e){return"pending"===e||"uploading"===e}function Uc(e){return"pending"===e||"paused"===e||"error"===e||"success"===e}function Hc(e){var t=e.file,n=e.prepareResult,r=e.chunkOffset,i=e.actualTotalChunks,o=0===t.size,a=!Object(ee.default)(r)&&!Object(ee.default)(i)&&i<=r;return n&&(o||a)}var zc=function(){function n(e){var t=e.logger;Vt(this,n),this.logger=t}function e(e,t,n,r){return i.apply(this,arguments)}var i,t,r,o;function a(e){return t.apply(this,arguments)}function s(e){return r.apply(this,arguments)}function c(e){return o.apply(this,arguments)}return Ar(n,[{key:"startUpload",value:function(e){var t,n,r=e.uuid,i=e.parentUUID,o=this.getUploadTaskMap().get(r);o?Uc(o.status)?(t=o.prepareResult,n=o.finishResult,"success"===o.status&&n?this.onUploadSuccess({uuid:r,parentUUID:i}):Hc(o)?this.finishFileTask(r):t?this.uploadChunkOfUploadTask(r):this.prepareUploadTask(r)):console.warn("Cannot start a task that is already in progress."):(this.setNewTask(e),this.prepareUploadTask(r))}},{key:"cancelUpload",value:function(e){var t,n=this.getUploadTaskMap().get(e);n?Bc(n.status)&&(n.status="paused",this.markDuration(n),(t=n.cancelUploadSource)&&(t.cancel(),n.cancelUploadSource=void 0)):console.warn(Fc)}},{key:"cancelAllUploads",value:function(){var e,n=this;Be(e=this.getUploadTaskMap()).call(e,function(e,t){Bc(e.status)&&n.cancelUpload(t)})}},{key:"prepareUploadTask",value:(o=C(L.mark(function e(t){var n,r,i,o,a,s,c;return L.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.getUploadTaskMap().get(t)){e.next=4;break}return console.warn(Fc),e.abrupt("return");case 4:return this.triggerUploadStart({task:n}),e.prev=5,e.next=8,this.prepareFile(n);case 8:r=e.sent,n.prepareResult=r,i=r.chunkSize,o=r.suggestedChunkSize,a=r.totalChunks,s=o/i,c=Math.ceil(a/s),n.actualTotalChunks=c,n.chunkOffset=0,n.chunkRetryCount=0,Hc(n)?this.finishFileTask(t):"paused"!==n.status&&this.uploadChunkOfUploadTask(t),e.next=25;break;case 19:if(e.prev=19,e.t0=e.catch(5),e.t0){e.next=24;break}return this.triggerUploadError({task:n,reqID:"",errorType:x.UploadUnexpected}),e.abrupt("return");case 24:this.triggerUploadError({task:n,reqID:e.t0.reqID||"",errorType:e.t0.data?e.t0.data.code||e.t0.data:e.t0.message});case 25:case"end":return e.stop()}},e,this,[[5,19]])})),c)},{key:"uploadChunkOfUploadTask",value:(r=C(L.mark(function e(n){var t,r,i,o,a,s,c,u,l,d,p,f,h,g,m,v,y,b,E,_,C,T,O,k,S,w,I=this;return L.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.getUploadTaskMap().get(n)){e.next=4;break}return console.warn(Fc),e.abrupt("return");case 4:if(r=this.getMountType(t),i=t.parentUUID,o=t.file,a=t.prepareResult,s=t.chunkOffset,c=t.chunkRetryCount,u=t.actualTotalChunks,!a||Object(ee.default)(s)||Object(ee.default)(u)||Object(ee.default)(c))return console.error("Upload chunk for unprepared task is illegal."),e.abrupt("return");e.next=9;break;case 9:return l=0,e.prev=10,d=a.uploadID,p=a.suggestedChunkSize,f=a.chunkSize,h=p/f,g=s*p,m=Math.min(o.size,(s+1)*p),v=m-g,y=Math.ceil(v/f),b=s*h,E=Br({length:y},function(e,t){return b+t}),e.next=21,this.getPendingSliceData(o,E,f,m);case 21:return _=e.sent,C=_.sliceData,T=_.checksums,l=C.size,this.triggerUploadStart({task:t}),O=_i(),this.onUploadUploading({uuid:n,parentUUID:i,bytesTransferred:g,bytesTotal:o.size}),k=se.a.CancelToken.source(),t.cancelUploadSource=k,e.next=32,this.uploadChunk(t,{size:v,checksums:T,seqList:E,uploadID:d,chunkSize:f,sliceData:C,offset:s,onUploadProgress:function(e){var t=g+e.loaded;I.onUploadUploading({uuid:n,parentUUID:i,bytesTransferred:t,bytesTotal:o.size})},cancelToken:k.token});case 32:if((S=e.sent).successSeqList&&S.successSeqList.length===y){e.next=35;break}throw S;case 35:this.onUploadUploading({uuid:n,parentUUID:i,bytesTransferred:m,bytesTotal:o.size}),this.logger.collectChunkSuccessEvent({mountType:r,offset:s,size:l,duration:_i()-O,subdomain:S.subdomain}),t.chunkOffset=s+1,t.chunkRetryCount=0,Hc(t)?this.finishFileTask(n):this.uploadChunkOfUploadTask(n),e.next=52;break;case 42:if(e.prev=42,e.t0=e.catch(10),e.t0){e.next=47;break}return this.triggerUploadError({task:t,reqID:"",errorType:x.UploadUnexpected}),e.abrupt("return");case 47:if("Cancelled"===e.t0.message)return e.abrupt("return");e.next=49;break;case 49:w=e.t0.successSeqList?"PartialFailure":e.t0.message||Object(ne.default)(e.t0,"data.code","Unknown"),this.logger.collectChunkErrorEvent({errorType:w,mountType:r,offset:s,size:l,reqID:e.t0.reqID||"",subdomain:e.t0.subdomain||"Unknown"}),c<jc?(t.chunkRetryCount=c+1,this.uploadChunkOfUploadTask(n)):this.triggerUploadError({task:t,reqID:e.t0.reqID||"",errorType:x.UploadChunkRetryTooManyTimes});case 52:return e.prev=52,t.cancelUploadSource=void 0,e.finish(52);case 55:case"end":return e.stop()}},e,this,[[10,42,52,55]])})),s)},{key:"finishFileTask",value:(t=C(L.mark(function e(t){var n,r;return L.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.getUploadTaskMap().get(t)){e.next=4;break}return console.warn(Fc),e.abrupt("return");case 4:if(n.prepareResult){e.next=7;break}return e.abrupt("return");case 7:return this.triggerUploadStart({task:n}),e.prev=8,e.next=11,this.finishFile(n);case 11:r=e.sent,n.finishResult=r,this.triggerUploadSuccess({task:n}),e.next=22;break;case 16:if(e.prev=16,e.t0=e.catch(8),e.t0){e.next=21;break}return this.triggerUploadError({task:n,reqID:"",errorType:x.UploadUnexpected}),e.abrupt("return");case 21:this.triggerUploadError({task:n,reqID:e.t0.reqID||"",errorType:e.t0.data?e.t0.data.code:e.t0.message});case 22:case"end":return e.stop()}},e,this,[[8,16]])})),a)},{key:"getPendingSliceData",value:(i=C(L.mark(function e(i,t,n,r){var o,a,s,c,u,l,d;return L.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=this.getByteRanges(t,n,r),a=X(o).call(o,function(e){var t=Nc(e,2),n=t[0],r=t[1];return sr(i).call(i,n,r)}),e.next=4,Q.all(X(a).call(a,ti));case 4:return s=e.sent,e.next=7,Q.all(X(s).call(s,Dc));case 7:if(c=e.sent,1===a.length)return e.abrupt("return",{checksums:c,sliceData:a[0]});e.next=10;break;case 10:return u=o[0][0],l=o[o.length-1][1],d=sr(i).call(i,u,l),e.abrupt("return",{checksums:c,sliceData:d});case 14:case"end":return e.stop()}},e,this)})),e)},{key:"getByteRanges",value:function(e,t,n){return X(e).call(e,function(e){return[e*t,Math.min(n,(e+1)*t)]})}},{key:"markDuration",value:function(e){var t,n=e.startTime,r=e.duration;n&&(t=_i()-n,e.startTime=void 0,e.duration=(r||0)+t)}},{key:"triggerUploadStart",value:function(e){var t=e.task;t.startTime||(t.startTime=_i()),t.status="uploading"}},{key:"triggerUploadSuccess",value:function(e){var t=e.task,n=t.uuid,r=t.parentUUID,i=t.file,o=this.getMountType(t);t.status="success",this.markDuration(t),this.onUploadSuccess({uuid:n,parentUUID:r}),t.duration?this.logger.collectFileSuccessEvent({mountType:o,size:i.size,duration:t.duration}):console.warn("Duration data is unavailable.")}},{key:"triggerUploadError",value:function(e){var t=e.task,n=e.errorType,r=e.reqID,i=t.uuid,o=t.parentUUID,a=t.file,s=this.getMountType(t);t.status="error",this.markDuration(t),this.onUploadError({uuid:i,parentUUID:o,reqID:r,errorType:n}),this.logger.collectFileErrorEvent({errorType:n,reqID:r,mountType:s,size:a.size})}}]),n}();function Vc(t,e){var n,r=Ft(t);return Mt&&(n=Mt(t),e&&(n=Ye(n).call(n,function(e){return Ve(t,e).enumerable})),r.push.apply(r,n)),r}function Kc(t){for(var e=1;e<arguments.length;e++){var n,r,i=null!=arguments[e]?arguments[e]:{};e%2?Be(n=Vc(Object(i),!0)).call(n,function(e){Ht(t,e,i[e])}):Ne?Se(t,Ne(i)):Be(r=Vc(Object(i))).call(r,function(e){ke(t,e,Ve(i,e))})}return t}var Gc=function(){function o(e){var t,n=e.requestService,r=e.onStatusChanged,i=e.logger;return Vt(this,o),(t=on(this,un(o).call(this,{logger:i}))).uploadTaskMap=new br,t.requestService=n,t.onStatusChanged=r,t}function e(e){return t.apply(this,arguments)}var t,n,r;function i(e,t){return n.apply(this,arguments)}function a(e){return r.apply(this,arguments)}return hn(o,zc),Ar(o,[{key:"getMountType",value:function(e){return e.mountPoint||""}},{key:"getUploadTaskMap",value:function(){return this.uploadTaskMap}},{key:"onUploadUploading",value:function(e){var t=e.uuid,n=e.parentUUID,r=e.bytesTransferred,i=e.bytesTotal,o=0===i?1:r/i;this.onStatusChanged({type:"uploading",data:{uuid:t,parentUUID:n,bytesTransferred:r,bytesTotal:i,progress:o}})}},{key:"onUploadSuccess",value:function(e){var t,n,r,i=e.uuid,o=e.parentUUID,a=this.uploadTaskMap.get(i);!a||(t=a.finishResult)&&(n=t.fileToken,r=t.dataVersion,this.onStatusChanged({type:"success",data:{uuid:i,parentUUID:o,dataVersion:r,token:n}}))}},{key:"onUploadError",value:function(e){var t=e.uuid,n=e.parentUUID,r=e.errorType,i=e.reqID;this.onStatusChanged({type:"error",data:{uuid:t,parentUUID:n,errorType:r,reqID:i}})}},{key:"setNewTask",value:function(e){this.uploadTaskMap.set(e.uuid,Kc({},e,{status:"pending"}))}},{key:"prepareFile",value:(r=C(L.mark(function e(t){var n,r,i,o,a;return L.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.file,r=t.parentToken,i=t.mountPoint,o=t.fileToken,a={fileToken:o,name:n.name,size:n.size,mountNodeToken:r,mountPoint:i||"explorer"},e.abrupt("return",this.requestService.prepareFile(a));case 3:case"end":return e.stop()}},e,this)})),a)},{key:"uploadChunk",value:(n=C(L.mark(function e(t,n){return L.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.requestService.uploadChunk(n));case 1:case"end":return e.stop()}},e,this)})),i)},{key:"finishFile",value:(t=C(L.mark(function e(t){var n,r,i,o,a,s;return L.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.prepareResult,r=t.memberID,i=t.shouldAddToRecents,o=n.totalChunks,a=n.uploadID,s={uploadID:a,totalChunks:o,memberID:r,shouldAddToRecents:i},e.abrupt("return",this.requestService.finishFile(s));case 4:case"end":return e.stop()}},e,this)})),e)}]),o}(),Wc=function(){function a(e){var t,n=e.logger,r=e.requestService,i=e.onStatusChanged,o=e.onErrorAlert;Vt(this,a),this.importTaskMap=new br,this.requestService=r,this.onStatusChanged=i,this.onErrorAlert=o,this.uploaderController=new Gc({logger:n,requestService:this.requestService,onStatusChanged:vc(t=this.onUploadStatusChanged).call(t,this)})}function e(e){return t.apply(this,arguments)}var t,n,r;function i(e){return n.apply(this,arguments)}function o(e){return r.apply(this,arguments)}return Ar(a,[{key:"startImport",value:function(e){var t,n,r,i=e.uuid,o=e.parentUUID,a=e.file,s=e.parentToken,c=this.importTaskMap.get(i);c?Cc(c.status)?(t=c.ticket,n=c.token,r=c.suiteType,"success"===c.status&&r&&n?this.onImportEnexSuccess({uuid:i,parentUUID:o,token:n,suiteType:r}):t?this.pollImportTaskTicketStatus(i):this.uploadImportTask(i)):console.warn("Cannot start a task that is already in progress."):(this.importTaskMap.set(i,{uuid:i,parentUUID:o,file:a,parentToken:s,status:"pending"}),this.uploadImportTask(i))}},{key:"cancelImport",value:function(e){var t,n,r=this.importTaskMap.get(e);r?Tc(r.status)&&("pending"!==r.status&&"uploading"!==r.status||this.uploaderController.cancelUpload(r.uuid),r.status="paused",t=r.cancelUploadSource,n=r.pollTicketStatusTimer,t&&(t.cancel(),r.cancelUploadSource=void 0),n&&(window.clearTimeout(n),r.pollTicketStatusTimer=void 0)):console.warn(Ec)}},{key:"cancelAllImports",value:function(){var e,n=this;Be(e=this.importTaskMap).call(e,function(e,t){Tc(e.status)&&n.cancelImport(t)})}},{key:"uploadImportTask",value:(r=C(L.mark(function e(t){var n,r,i,o,a;return L.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.importTaskMap.get(t)){e.next=4;break}return console.warn(Ec),e.abrupt("return");case 4:r=n.parentUUID,i=n.file,o=n.parentToken,a=i.size,n.status="uploading",this.onImportEnexUploading({uuid:t,parentUUID:r,bytesTransferred:0,bytesTotal:a}),this.uploaderController.startUpload({uuid:t,file:i,parentUUID:r,parentToken:o});case 9:case"end":return e.stop()}},e,this)})),o)},{key:"parseFileTask",value:(n=C(L.mark(function e(t){var n,r,i,o,a,s,c,u;return L.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.uuid,r=t.token,i=this.importTaskMap.get(n)){e.next=5;break}return console.warn(Ec),e.abrupt("return");case 5:if(r){e.next=7;break}return e.abrupt("return");case 7:if("paused"===i.status)return e.abrupt("return");e.next=9;break;case 9:return o=se.a.CancelToken.source(),i.cancelUploadSource=o,i.status="converting",e.prev=12,e.next=15,this.requestService.importParseEvernote({fileToken:r,cancelToken:o.token});case 15:if(a=e.sent,s=a.ticket,c=a.reqID,s){e.next=23;break}return u=Ac(),i.status="error",this.onImportEnexError({uuid:n,errorType:u,reqID:c,parentUUID:""}),e.abrupt("return");case 23:i.ticket=s,this.pollImportTaskTicketStatus(n),e.next=35;break;case 27:if(e.prev=27,e.t0=e.catch(12),e.t0){e.next=33;break}return i.status="error",this.onImportEnexError({uuid:n,reqID:"",errorType:x.ImportUnexpected}),e.abrupt("return");case 33:i.status="error",this.onImportEnexError({uuid:n,reqID:e.t0.reqID||"",errorType:e.t0.data?e.t0.data.code:e.t0.message});case 35:return e.prev=35,i.cancelUploadSource=void 0,e.finish(35);case 38:case"end":return e.stop()}},e,this,[[12,27,35,38]])})),i)},{key:"pollImportTaskTicketStatus",value:(t=C(L.mark(function e(t){var n,r,i,o,a,s,c,u,l,d,p,f,h,g,m,v=this;return L.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.importTaskMap.get(t)){e.next=4;break}return console.warn(Ec),e.abrupt("return");case 4:if(r=n.parentUUID,i=n.file,o=n.ticket,a=n.pollTicketStatusCount,o){e.next=7;break}return e.abrupt("return");case 7:return e.prev=7,n.status="converting",this.onImportEnexConverting({uuid:t,parentUUID:r,ticket:o}),e.next=12,this.requestService.importEvernoteStatusCheck({ticket:o});case 12:if(s=e.sent,c=s.code,u=s.fileToken,l=s.warningCode,d=s.reqID,p=s.responseData,void 0!==c)return f=i.name,h=Oc(f),0===c&&u&&h?(n.token=u,n.suiteType=h,n.status="success",this.onImportEnexSuccess({uuid:t,parentUUID:r,token:u,suiteType:h}),!l&&Object(re.default)(p.warningExtra)||(g=Ac(l,!0),this.onErrorAlert({uuid:t,name:f,errorType:g,responseData:p}))):(m=Ac(c),n.status="error",this.onImportEnexError({uuid:t,parentUUID:r,errorType:m,reqID:d}),this.onErrorAlert({uuid:t,parentUUID:r,name:f,errorType:m,responseData:p})),e.abrupt("return");e.next=23;break;case 23:n.pollTicketStatusCount=a?a+1:1,n.pollTicketStatusCount<bc?n.pollTicketStatusTimer=window.setTimeout(function(){v.pollImportTaskTicketStatus(t)},yc):(n.status="error",this.onImportEnexError({uuid:t,parentUUID:r,reqID:d,errorType:Ac(x.ImportPollTooManyTimes)})),e.next=35;break;case 27:if(e.prev=27,e.t0=e.catch(7),e.t0){e.next=33;break}return n.status="error",this.onImportEnexError({uuid:t,parentUUID:r,reqID:"",errorType:x.ImportUnexpected}),e.abrupt("return");case 33:n.status="error",this.onImportEnexError({uuid:t,parentUUID:r,errorType:e.t0.data?Ac(e.t0.data.code):e.t0.message,reqID:e.t0.reqID||""});case 35:case"end":return e.stop()}},e,this,[[7,27]])})),e)},{key:"onUploadStatusChanged",value:function(e){var t=e.type,n=e.data;"success"!==t?"uploading"!==t?"error"===t&&this.onImportEnexError(n):this.onImportEnexUploading(n):this.parseFileTask(n)}},{key:"onImportEnexUploading",value:function(e){var t=e.uuid,n=e.parentUUID,r=e.bytesTransferred,i=e.bytesTotal,o=0===i?1:r/i;this.onStatusChanged({type:"uploading",data:{uuid:t,parentUUID:n,bytesTransferred:r,bytesTotal:i,progress:o}})}},{key:"onImportEnexConverting",value:function(e){var t=e.uuid,n=e.parentUUID,r=e.ticket;this.onStatusChanged({type:"converting",data:{uuid:t,parentUUID:n,ticket:r}})}},{key:"onImportEnexSuccess",value:function(e){var t=e.uuid,n=e.parentUUID,r=e.token,i=e.suiteType;this.onStatusChanged({type:"success",data:{uuid:t,parentUUID:n,token:r,suiteType:i}})}},{key:"onImportEnexError",value:function(e){var t=e.uuid,n=e.parentUUID,r=e.errorType,i=e.reqID;this.onStatusChanged({type:"error",data:{uuid:t,parentUUID:n,errorType:r,reqID:i}})}}]),a}(),Yc=function(){function r(e){var t=e.requestService,n=e.logger;Vt(this,r),this.requestService=t,this.logger=n}return Ar(r,[{key:"init",value:function(e){var t=e.onUploadStatusChanged,n=e.onCreateDirectoryStatusChanged,r=e.onImportStatusChanged,i=e.onImportErrorAlert,o=this.requestService;this.uploadController=new Gc({logger:this.logger,requestService:o,onStatusChanged:t}),this.importController=new lc({logger:this.logger,requestService:o,onStatusChanged:r,onErrorAlert:i}),this.importEnexController=new Wc({logger:this.logger,requestService:o,onStatusChanged:r,onErrorAlert:i}),this.createDirectoryController=new tc({logger:this.logger,requestService:o,onStatusChanged:n})}},{key:"startUpload",value:function(e){this.uploadController&&this.uploadController.startUpload(e)}},{key:"cancelUpload",value:function(e){this.uploadController&&this.uploadController.cancelUpload(e)}},{key:"cancelAllUploads",value:function(){this.uploadController&&this.uploadController.cancelAllUploads()}},{key:"startCreateDirectory",value:function(e){this.createDirectoryController&&this.createDirectoryController.startCreateDirectory(e)}},{key:"cancelCreateDirectory",value:function(e){this.createDirectoryController&&this.createDirectoryController.cancelCreateDirectory(e)}},{key:"startImport",value:function(e){nc(e.file.name)===_c?this.importEnexController&&this.importEnexController.startImport(e):this.importController&&this.importController.startImport(e)}},{key:"cancelImport",value:function(e){var t=e.uuid;nc(e.file.name)===_c?this.importEnexController&&this.importEnexController.cancelImport(t):this.importController&&this.importController.cancelImport(t)}},{key:"cancelAllImports",value:function(){this.importController&&this.importController.cancelAllImports(),this.importEnexController&&this.importEnexController.cancelAllImports()}}]),r}();function qc(t,e){var n,r=Ft(t);return Mt&&(n=Mt(t),e&&(n=Ye(n).call(n,function(e){return Ve(t,e).enumerable})),r.push.apply(r,n)),r}function Zc(t){for(var e=1;e<arguments.length;e++){var n,r,i=null!=arguments[e]?arguments[e]:{};e%2?Be(n=qc(Object(i),!0)).call(n,function(e){Ht(t,e,i[e])}):Ne?Se(t,Ne(i)):Be(r=qc(Object(i))).call(r,function(e){ke(t,e,Ve(i,e))})}return t}var Xc=function(){function o(e){Vt(this,o);var t=new Ks({envConfigs:e.envConfigs,featureFlags:e.featureFlags}),n={envConfigs:{spaceAPIHosts:[],source:""},featureFlags:{nearbyDriveAPIAccess:!1},maxSimultaneousUploads:1,fastModeEnabled:!1},r=new Xs({scenario:"suite"}),i=new Yc({requestService:t,logger:r});return on(this,un(o).call(this,Zc({},e,{defaults:n,logger:r,taskController:i,uploaderType:"suite"})))}return hn(o,ji),o}()},EbIy:function(e,R,N){"use strict";N.r(R),function(e){N.d(R,"IframePopup",function(){return x});var t=N("lwsE"),n=N.n(t),r=N("W8MJ"),i=N.n(r),a=N("HmyT"),u=N("2ACu"),o=(N("vpf3"),N("TS0X")),s=N.n(o),c=N("dXj0"),l=N.n(c),d=N("ScS1"),p=N.n(d),f=N("e+wO"),h=N.n(f),g=N("LEGm"),m=N.n(g),v=N("gt4j"),y=N.n(v),b=N("aBgF"),E=N("SGN9"),_=N("G8Hj"),C="iframe-confirm-popup",T=".".concat(C,"__item"),O="."+C,k=".doc-popup-container",S=140,w=40,I='<div class="'.concat(C," ").concat(C,'--hidden" tabindex=-1>\n    <div class="').concat(C,'__header">').concat(e("CreationDoc_Docs_WebBookmark_DisplayAs_Title"),'</div>\n    <div class="').concat(C,'__content">\n      <div class="').concat(C,"__item ").concat(C,'__doc">').concat(e("iframe.insert_title"),'</div>\n      <div class="').concat(C,"__item ").concat(C,'__title">\n        <img src="').concat(l.a,'">\n        ').concat(e("CreationDoc_Docs_WebBookmark_DisplayAs_Title_Button"),'\n      </div>\n      <div class="').concat(C,"__item ").concat(C,'__bookmark">\n        <img src="').concat(s.a,'">\n        ').concat(e("CreationDoc_Docs_WebBookmark_DisplayAs_Bookmark_Button"),'\n      </div>\n      <div class="').concat(C,"__item ").concat(C,'__iframe">\n        <img src="').concat(p.a,'">\n        ').concat(e("CreationDoc_Docs_WebBookmark_DisplayAs_Embed_Button"),'\n      </div>\n      <div class="').concat(C,"__item ").concat(C,'__data">\n        <img src="').concat(m.a,'">\n        ').concat(e("doc.a-panel.bitable.single-product"),'\n      </div>\n      <div class="').concat(C,"__item ").concat(C,'__url">\n        <img src="').concat(h.a,'">\n        ').concat(e("CreationDoc_Docs_WebBookmark_DisplayAs_Link_Button"),'\n      </div>\n      <div class="').concat(C,"__item ").concat(C,'__code">\n        <img src="').concat(y.a,'">\n        ').concat(e("iframe.insert_as_code"),"\n      </div>\n    </div>\n</div>\n"),x=function(){function e(){var r=this;n()(this,e),this.showing=!1,this.referenceCount=0,this.hide=function(){Object(E.a)(_.STEP_TYPES.doc_smartlink_paste_title,_.STEP_TYPES.doc_smartlink_paste_bookmark),r.unbindEvents(),r.showing=!1,r.popup.addClass(C+"--hidden"),r.shownItems&&r.shownItems.removeClass("active"),r.logParam=null,r.activeItem=null,r.shownItems=null,r.hideCallback&&r.hideCallback()},this.handleClick=function(e){var t=e.target,n=Object(a.$)(t).closest(T);r.handleConfirm(n)},this.handleMouseEnter=function(){r.activeItem&&r.activeItem.removeClass("active")},this.handleClickOutside=function(e){var t=e.target;Object(a.$)(t).closest(".callout-smartlink").length||r.hide()},this.handleKeyDown=function(e){switch(e.keyCode){case b.c.Down:r.preventAndStopEvent(e),r.switchActiveItem("down");break;case b.c.Up:r.preventAndStopEvent(e),r.switchActiveItem("up");break;case b.c.Enter:r.preventAndStopEvent(e),r.handleConfirm(r.activeItem);break;default:r.hide()}}}return i()(e,[{key:"init",value:function(e){this.referenceCount++,Object(a.$)(O).length||(this.container=Object(a.$)(k),this.editorInfo=e,Object(a.$)(I).appendTo(this.container),this.popup=Object(a.$)(O),this.eventBinding("on"),this.listItems={doc:this.popup.find(".".concat(C,"__doc")),iframe:this.popup.find(".".concat(C,"__iframe")),data:this.popup.find(".".concat(C,"__data")),url:this.popup.find(".".concat(C,"__url")),code:this.popup.find(".".concat(C,"__code")),title:this.popup.find(".".concat(C,"__title")),bookmark:this.popup.find(".".concat(C,"__bookmark"))})}},{key:"destroy",value:function(){this.referenceCount--,0===this.referenceCount&&(this.unbindEvents(),this.eventBinding("off"),delete this.container,delete this.popup,delete this.listItems,delete this.hideCallback,delete this.editorInfo,this.activeItem=null,this.shownItems=null)}},{key:"eventBinding",value:function(e){this.popup[e]("click",this.handleClick),this.popup[e]("mouseenter",this.handleMouseEnter)}},{key:"isShowing",value:function(){return this.showing}},{key:"computePosition",value:function(e,t){var n=e.getBoundingClientRect(),r=t.getBoundingClientRect(),i=this.editorInfo.docbody.offsetWidth-w-n.width,o=S<i?0:S-i,a=n.left+n.width-r.left-o;return-S<a&&(a=-S),{top:n.top+n.height-r.top,left:a}}},{key:"update",value:function(e){var t=this.computePosition(e,this.container[0]),n=t.top,r=t.left;this.popup.css({top:"".concat(n,"px"),left:"".concat(r,"px")})}},{key:"show",value:function(e,t,n,r){var i=this;this.logParam=r,this.hideCallback=n,this.handlers=t;var o,a=e instanceof HTMLElement?i.computePosition(e,i.container[0]):e,s=a.top,c=a.left;this.popup&&(this.popup.css({top:"".concat(s,"px"),left:"".concat(c,"px")}),this.showing=!0,o=C+"--hidden",Object.keys(this.listItems).forEach(function(e){i.handlers[e]?i.popup.find(".".concat(C,"__").concat(e)).removeClass(o):i.popup.find(".".concat(C,"__").concat(e)).addClass(o)}),this.shownItems=this.popup.find("".concat(T,":not(.").concat(o,")")),this.activeItem=this.shownItems.first().addClass("active"),this.popup.removeClass(o),this.bindEvents(),Object(u.default)("show_paste_panel",{url_parse_type:this.logParam.url_parse_type||"default_parse",waiting_time:Date.now()-this.logParam.startTime,option_num:Object.keys(this.handlers).length}),Object(E.b)(_.STEP_TYPES.doc_smartlink_paste_title,_.STEP_TYPES.doc_smartlink_paste_bookmark))}},{key:"switchActiveItem",value:function(e){var t,n,r,i,o;this.shownItems&&this.activeItem&&(n=(t="up"===e)?-1:1,r=this.shownItems.index(this.activeItem),this.activeItem.removeClass("active"),i=r+n,o=this.shownItems.length-1,t&&i<0&&(i=o),!t&&o<i&&(i=0),this.activeItem=Object(a.$)(this.shownItems[i]).addClass("active"))}},{key:"handleConfirm",value:function(n){var r=this;if(!n)return this.hide();n.hasClass("".concat(C,"__url"))?(this.logParam&&Object(u.default)("click_paste_panel",{url_parse_type:this.logParam.url_parse_type,option_name:"link"}),Object(u.default)("click_insert_link")):n.length&&Object.keys(this.handlers).forEach(function(e){var t;!n.hasClass("".concat(C,"__").concat(e))||"function"==typeof(t=r.handlers[e])&&t()}),this.hide()}},{key:"preventAndStopEvent",value:function(e){e.preventDefault(),e.stopImmediatePropagation()}},{key:"bindEvents",value:function(){Object(a.$)(window).on("click",this.handleClickOutside),window.addEventListener("keydown",this.handleKeyDown,!0)}},{key:"unbindEvents",value:function(){Object(a.$)(window).off("click",this.handleClickOutside),window.removeEventListener("keydown",this.handleKeyDown,!0)}}]),e}(),L=new x;R.default=L}.call(this,N("2vAP"))},EbbD:function(e,t,n){"use strict";n.d(t,"a",function(){return b}),n.d(t,"b",function(){return r});var r,i,o=n("06Pm"),a=n.n(o),s=n("kA7L"),c=n.n(s),u=n("3SUL"),l=n.n(u),d=n("eYnF"),p=n.n(d),f=n("X5/F"),h=n.n(f),g=n("BmhO"),m=n("Wz9t"),v=n("4O8T"),y=n.n(v);(i=r=r||{})[i.NOT_STARTED=0]="NOT_STARTED",i[i.PLAYING=1]="PLAYING",i[i.PAUSED=2]="PAUSED",i[i.ENDED=3]="ENDED";var b=function(e){function t(){return a()(this,t),l()(this,p()(t).apply(this,arguments))}return h()(t,e),c()(t,[{key:"safelyEmit",value:function(e,t){try{this.emit(e,t)}catch(e){console.error("event callback error",e)}}},{key:"triggerDownload",value:function(e){this.safelyEmit(g.b.TRIGGER_DOWNLOAD,{name:e})}},{key:"abortDownload",value:function(){this.safelyEmit(g.b.TRIGGER_ABORT_DOWNLOAD)}},{key:"toggleFindbarOpen",value:function(e){var t=e?g.b.TRIGGER_FINDBAR_OPEN:g.b.TRIGGER_FINDBAR_CLOSE;this.safelyEmit(t)}},{key:"triggerPrint",value:function(){this.safelyEmit(g.b.TRIGGER_PDF_ACTION,{action:m.y.PDF_PRINT})}},{key:"triggerEditPrint",value:function(){this.safelyEmit(g.b.TRIGGER_WPS_ACTION,{action:m.y.WPS_PRINT})}},{key:"setPDFToPrevPage",value:function(){this.safelyEmit(g.b.TRIGGER_PDF_ACTION,{action:m.y.PDF_TO_PREV_PAGE})}},{key:"setPDFToNextPage",value:function(){this.safelyEmit(g.b.TRIGGER_PDF_ACTION,{action:m.y.PDF_TO_NEXT_PAGE})}},{key:"setPDFPageNumber",value:function(e){this.safelyEmit(g.b.TRIGGER_PDF_ACTION,{pageNumber:e,action:m.y.PDF_JUMP_TO_PAGE})}},{key:"triggerPDFZoomin",value:function(){this.safelyEmit(g.b.TRIGGER_PDF_ACTION,{action:m.y.PDF_ZOOM_IN})}},{key:"triggerPDFZoomout",value:function(){this.safelyEmit(g.b.TRIGGER_PDF_ACTION,{action:m.y.PDF_ZOOM_OUT})}},{key:"triggerMediaPlay",value:function(){this.safelyEmit(g.b.TRIGGER_MEDIA_ACTION,{action:m.y.MEDIA_PLAY})}},{key:"triggerMediaPause",value:function(){this.safelyEmit(g.b.TRIGGER_MEDIA_ACTION,{action:m.y.MEDIA_PAUSE})}},{key:"setMediaCurrentTime",value:function(e){this.safelyEmit(g.b.TRIGGER_MEDIA_ACTION,{time:e,action:m.y.MEDIA_SET_CURRENT_TIME})}},{key:"setMediaVolume",value:function(e){this.safelyEmit(g.b.TRIGGER_MEDIA_ACTION,{volume:e,action:m.y.MEDIA_SET_CURRENT_VOLUME})}},{key:"triggerSheetTabChange",value:function(e){this.safelyEmit(g.b.TRIGGER_SHEET_ACTION,{tabIndex:e,action:m.y.SHEET_TO_TAB})}},{key:"triggerWPSPageChange",value:function(e){this.safelyEmit(g.b.TRIGGER_WPS_ACTION,{pageNumber:e,action:m.y.WPS_JUMP_TO_PAGE})}},{key:"triggerWPSSave",value:function(e){this.safelyEmit(g.b.TRIGGER_WPS_ACTION,{uuid:e,action:m.y.WPS_SAVE})}},{key:"triggerWPSTabIndexChange",value:function(e){this.safelyEmit(g.b.TRIGGER_WPS_ACTION,{tabIndex:e,action:m.y.WPS_TAB_TO_INDEX})}},{key:"triggerReceiveVCFollowState",value:function(e){this.safelyEmit(g.b.RECEIVE_VC_FOLLOW_STATE,e)}}]),t}(y.a)},EcSs:function(e,t,n){var r=n("R9hF");function i(){return e.exports=i=r||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i.apply(this,arguments)}e.exports=i},EldB:function(e,t,n){var i=n("dTAl"),o=n("GoyQ");function r(r){return function(){var e=arguments;switch(e.length){case 0:return new r;case 1:return new r(e[0]);case 2:return new r(e[0],e[1]);case 3:return new r(e[0],e[1],e[2]);case 4:return new r(e[0],e[1],e[2],e[3]);case 5:return new r(e[0],e[1],e[2],e[3],e[4]);case 6:return new r(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new r(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var t=i(r.prototype),n=r.apply(t,e);return o(n)?n:t}}e.exports=r},EwQA:function(e,t,n){var r=n("zZ0H");function i(e){return"function"==typeof e?e:r}e.exports=i},EzSe:function(e,t,n){"use strict";n.d(t,"a",function(){return c}),n.d(t,"d",function(){return u}),n.d(t,"b",function(){return d}),n.d(t,"c",function(){return p});var r=n("L9Vw"),i=n("2ACu"),o=n("iP/4"),a=n("VIFs"),s="link_clicked",c=function(e){if(o.a.isFeed)return e;var t={logParams:{location:r.SECURE_LINK_LOG.CCM_DOCS}};return Object(r.getSecureLink)(e,t)},u=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:r.SECURE_LINK_LOG.CCM_DOCS;o.a.isFeed||Object(i.default)(s,{scene:r.SECURE_LINK_LOG.CCM_DOCS,location:e})};function l(e,t){var n;Object(a.isDocUrl)(e)?window.open(t):o.a.isChrome?window.open(t,"_blank","noopener"):(n=window.open(t,"_blank"))&&(n.opener=null)}function d(e){l(e,c(e)),u()}function p(e){o.a.isFeed&&l(e,e);var t={logParams:{location:r.SECURE_LINK_LOG.DOCS_SDK_COMMENT}};l(e,Object(r.getSecureLink)(e,t)),u(r.SECURE_LINK_LOG.DOCS_SDK_COMMENT)}},F294:function(e,t,n){"use strict";function r(e){return e&&e.length?e[0]:void 0}t.a=r},F2jy:function(e,t,n){"use strict";var r=n("mwIZ"),i=n.n(r),o=n("BkRI"),a=n.n(o);n.d(t,"d",function(){return c}),n.d(t,"a",function(){return u}),n.d(t,"b",function(){return l}),n.d(t,"c",function(){return d});var s={env:{},domains:{}};function c(e){Object.assign(s,e)}function u(e){var t=i()(s,e);return e.startsWith("runtime")?t:a()(t)}function l(e){return e.reduce(function(e,t){var n=u(t);return void 0!==n&&(e[t]=n),e},{})}function d(n){return function(e){var t=u("runtime.".concat(e));if("function"!=typeof t)throw new Error("[Lark Runtime] ".concat(n,"::").concat(e,": function invalid or not registered!"));return t}}},F2y5:function(e,t,n){"use strict";var r=n("wpDl"),i=Object(r.a)("floor");t.a=i},F8Eo:function(e,t,n){e.exports=n("vLSA")},F9bh:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n("RIqP"),C=n.n(r),T=n("FJEn");function i(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},b=e.checkAttributeApplied,E=e.ignoreAttrs,t=e.includeTitle,_=void 0!==t&&t;return function(e,t,n){var y=n.value;n.value=function(r){var i=this,o=this.editor,e=r.attribKey,t=r.attribValue,n=r.dRep,a=[],s=b||o.isRangesHaveAttributeApplied,c=o.managers.getLineManagerWithSpecialSelection();if(n)a.push(Object.assign({},o.getRep(n.zoneId),{},n));else if(c&&c.getSelectedZonesWithVisible)c.getSelectedZonesWithVisible().forEach(function(e){var t=o.getRep(e),n=t.lines.length()-1,r=t.lines.atIndex(n).width-1;a.push(Object.assign({},t,{alines:t.alines,alltext:t.alltext,apool:t.apool,zoneId:e,selStart:[0,0],selEnd:[n,r]}))});else{var u=o.getRep(),l=u.selStart,d=u.selEnd,p=u.zoneId;if(!_&&u.zoneId===T.DEFAULT_REP_ZONE&&0===l[0]){if(0===d[0])return;var f=[1,0],h=C()(l),g=0===d[0]&&C()(d);o.selection.setWithSelection(p,f,g?f:d),o.updateBrowserSelectionFromRep(!0)}a.push(u)}var m,v=s(a,e,t,E);return a.forEach(function(e){var t=!(!c||!c.getSelectedZonesWithVisible),n=Object.assign({},r,{range:e,isAllHasAttrib:v,isSpecialSelection:t});y.call(i,n)}),h&&(m=o.getRep(),o.selection.setWithSelection(m.zoneId,h,g||m.selEnd),o.updateBrowserSelectionFromRep(!0)),v}}}},FGOA:function(e,t,n){"use strict";var i,a=n("HmyT"),o=n("1dfU"),s=n("skFV"),c=n("2ACu"),u=n("U6jp"),r=0,l=800,d={init:function(){r||d.bindEvent(),r++},destory:function(){--r||d.unbindEvent()},bindEvent:function(){d.handleEventBinding("on")},unbindEvent:function(){d.handleEventBinding("off")},handleEventBinding:function(e){Object(a.$)(document)[e]("openLark",".js-open-lark",d.handleOpenLark),Object(a.$)(document)[e]("click",".js-open-lark",d.handleOpenLark),Object(a.$)(window)[e]("blur beforeunload",d.handleBlur)},handleOpenLark:function(e){var t=Object(a.$)(e.currentTarget),n=t.data("id"),r=t.data("source"),i=t.data("type"),o=t.data("is-cross-tenant");d.openLark(n,r,i,o)},handleBlur:function(e){i&&clearTimeout(i),i=null},isOpenCurrentChat:function(e){return u.r&&Object(u.o)()&&String(e)===Object(u.i)()},openLark:function(e,t,n,r){this.isOpenCurrentChat(e)||(d.handleBlur(),i=setTimeout(function(){var e=Object(s.s)();window.open(e.downloadLark)},l),Object(u.x)(e)),Object(c.default)("click_chat_btn",{source:t||"doc",chat_type:"6"===n?"group":"0"===n?"P2P":"chat",mention_obj_id:Object(o.a)(e),is_external:r})}};t.a=d},FI0B:function(e,t,n){"use strict";var r=n("pVnL"),i=n.n(r),o=n("QILm"),a=n.n(o),s=n("q1tI"),c=n.n(s);t.a=function(e){e.styles;var t=a()(e,["styles"]);return c.a.createElement("svg",i()({width:"10",height:"11",viewBox:"0 0 10 11"},t),c.a.createElement("path",{d:"M3.84 10.9l4.98-4.53a.5.5 0 000-.74L3.84 1.1a.5.5 0 00-.84.37v9.06a.5.5 0 00.84.37z",fillRule:"evenodd"}))}},FKvE:function(e,t,n){"use strict";e.exports=function(){var e,t=Object.assign;return"function"==typeof t&&(t(e={foo:"raz"},{bar:"dwa"},{trzy:"trzy"}),e.foo+e.bar+e.trzy==="razdwatrzy")}},FLGM:function(e,t,n){e.exports=n("XGjS")},"FN+V":function(e,t,n){var r=n("mIMY"),i=n("DPDV"),o=n("ogVW"),a=n("b42z");e.exports=r("Reflect","ownKeys")||function(e){var t=i.f(a(e)),n=o.f;return n?t.concat(n(e)):t}},FRmQ:function(e,t,n){n("vfRR");var r=n("oWnS");e.exports=r("Array").find},FZoo:function(e,t,n){var d=n("MrPd"),p=n("4uTw"),f=n("wJg7"),h=n("GoyQ"),g=n("9Nap");function r(e,t,n,r){if(!h(e))return e;for(var i=-1,o=(t=p(t,e)).length,a=o-1,s=e;null!=s&&++i<o;){var c,u=g(t[i]),l=n;if("__proto__"===u||"constructor"===u||"prototype"===u)return e;i!=a&&(c=s[u],void 0===(l=r?r(c,u,s):void 0)&&(l=h(c)?c:f(t[i+1])?[]:{})),d(s,u,l),s=s[u]}return e}e.exports=r},FfPP:function(e,t,n){var r=n("idmN"),i=n("hgQt");function o(n,e){return r(n,e,function(e,t){return i(n,t)})}e.exports=o},FvEI:function(e,t,n){n("UUWy"),n("Pkew"),e.exports=n("2fOL")},Fw02:function(e,v,y){"use strict";(function(t){y.d(v,"a",function(){return p});var e,n,r=y("RIqP"),i=y.n(r),o=y("lSNA"),a=y.n(o),s=y("bPB8"),c=y("fRsX"),u=y("QM+C"),l=y("vY9h"),d=(Object.assign(Object.create(null),(e={},a()(e,u.NUM_SUITE_TYPE.DOC,t("template.v3.objtype.doc")),a()(e,u.NUM_SUITE_TYPE.SHEET,t("template.v3.objtype.sheet")),a()(e,u.NUM_SUITE_TYPE.MINDNOTE,t("template.v3.objtype.mindnote")),e)),Object.assign(Object.create(null),(n={},a()(n,l.a.ALL_TYPES,t("explorer.v3.meta_filter_menu_item.all")),a()(n,u.NUM_SUITE_TYPE.DOC,t("doc.search.filter.doc")),a()(n,u.NUM_SUITE_TYPE.SHEET,t("doc.search.filter.sheet")),a()(n,u.NUM_SUITE_TYPE.MINDNOTE,t("doc.search.filter.mindnote")),n))),p=function(){var e=[];return Object(c.d)()===c.a.LEFT_RIGHT?(f(e),g(e)):(g(e),h(e)),m(e),e};function f(e){e.push({tabTypeKey:"gallery",name:t("explorer.v3.template_gallery"),categories:[{name:t("template_v3_recommended"),is_recent:!0,templates:Object(s.a)([{cover_width:1,cover_height:2,name:t("template_v3_blank"),obj_type:u.NUM_SUITE_TYPE.DOC,obj_token:"",is_create_new:!0},{cover_width:2,cover_height:1,name:t("template_v3_blank"),obj_type:u.NUM_SUITE_TYPE.SHEET,obj_token:"",is_create_new:!0},c.e&&{cover_width:1,cover_height:2,name:t("template_v3_blank"),obj_type:u.NUM_SUITE_TYPE.MINDNOTE,obj_token:"",is_create_new:!0}])}]})}function h(e){e.push.apply(e,i()(Object(s.a)([{obj_type:u.NUM_SUITE_TYPE.DOC,tabTypeKey:u.mapTypeNumToFileType[u.NUM_SUITE_TYPE.DOC],name:d[u.NUM_SUITE_TYPE.DOC],categories:[{name:t("template_v3_recommended"),is_recent:!0,templates:[{cover_width:1,cover_height:2,name:t("template_v3_blank"),obj_type:u.NUM_SUITE_TYPE.DOC,obj_token:"",is_create_new:!0}]}]},{obj_type:u.NUM_SUITE_TYPE.SHEET,tabTypeKey:u.mapTypeNumToFileType[u.NUM_SUITE_TYPE.SHEET],name:d[u.NUM_SUITE_TYPE.SHEET],categories:[{name:t("template_v3_recommended"),is_recent:!0,templates:[{cover_width:2,cover_height:1,name:t("template_v3_blank"),obj_type:u.NUM_SUITE_TYPE.SHEET,obj_token:"",is_create_new:!0}]}]},c.e&&{obj_type:u.NUM_SUITE_TYPE.MINDNOTE,tabTypeKey:u.mapTypeNumToFileType[u.NUM_SUITE_TYPE.MINDNOTE],name:d[u.NUM_SUITE_TYPE.MINDNOTE],categories:[{name:t("template_v3_recommended"),is_recent:!0,templates:[{cover_width:1,cover_height:2,name:t("template_v3_blank"),obj_type:u.NUM_SUITE_TYPE.MINDNOTE,obj_token:"",is_create_new:!0}]}]}])))}function g(e){c.b&&e.push({name:t("explorer.v3.template_custom"),tabTypeKey:"custom",categories:[{name:t("explorer.v3.my_templates"),templates:[],type:"own"},{name:t("explorer.v3.templates_shared"),templates:[],type:"share"}]})}function m(e){c.f&&e.push({tabTypeKey:"corporate",name:t("explorer.v3.template_corporate"),categories:[{name:t("explorer.v3.corporate_tenant"),templates:[],type:"tenant"}],hideCategories:!0})}}).call(this,y("2vAP"))},G6z8:function(e,t,n){var r=n("fR/l"),i=n("oCl/"),o=n("mTTR");function a(e){return r(e,o,i)}e.exports=a},G7AY:function(e,t,n){"use strict";var r=n("pVnL"),i=n.n(r),o=n("QILm"),a=n.n(o),s=n("q1tI"),c=n.n(s);t.a=function(e){e.styles;var t=a()(e,["styles"]);return c.a.createElement("svg",i()({width:"16",height:"16",viewBox:"0 0 16 16"},t),c.a.createElement("g",{transform:"translate(-6 -4)",fill:"none",fillRule:"evenodd"},c.a.createElement("rect",{stroke:"#F1F2F3",x:".5",y:".5",width:"74",height:"23",rx:"11.5"}),c.a.createElement("path",{d:"M6 4h16v16H6z"}),c.a.createElement("path",{d:"M14 9.86l-4.07 4.07c-.1.1-.25.1-.35 0l-.35-.36a.25.25 0 010-.35l4.42-4.42c.2-.2.5-.2.7 0l4.42 4.42c.1.1.1.26 0 .35l-.35.36c-.1.1-.26.1-.35 0L14 9.86z",fill:"#646A73"})))}},GACP:function(e,t,n){"use strict";n.r(t);var r=n("q1tI"),i=n.n(r),o=function(e){var r=e.children&&i.a.Children.toArray(e.children),t=e.name,n=r?t.split(/(\$\{[0-9]+})/g).map(function(e){var t=/\$\{([0-9]+)}/.exec(e);if(t){var n=parseInt(t[1],10)-1;return r[n]}return e}):t;return e.noWrapper?i.a.createElement(i.a.Fragment,null,n):i.a.createElement("span",null,n)};n.d(t,"I18n",function(){return o})},GCEQ:function(e,t,n){"use strict";var r=n("AQwl");function i(e){return Object(r.a)(e)?e:[]}t.a=i},GDhZ:function(e,t,n){var i=n("wF/u"),o=n("mwIZ"),a=n("hgQt"),s=n("9ggG"),c=n("CMye"),u=n("IOzZ"),l=n("9Nap"),d=1,p=2;function r(n,r){return s(n)&&c(r)?u(l(n),r):function(e){var t=o(e,n);return void 0===t&&t===r?a(e,n):i(r,t,d|p)}}e.exports=r},GDxn:function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"b",function(){return a});var r=n("6blF"),i=n("+umK"),o=new r.a(i.a);function a(){return o}},GGpJ:function(e,J,$){"use strict";$.r(J),function(m){var e=$("lwsE"),i=$.n(e),t=$("W8MJ"),n=$.n(t),r=$("a1gu"),o=$.n(r),a=$("Nsbk"),c=$.n(a),s=$("7W2i"),u=$.n(s),l=($("TaAU"),$("q1tI")),v=$.n(l),y=$("UAY2"),d=($("17x9"),$("TSYQ")),b=$.n(d),E=$("9g7G"),p=$("mRaX"),f=$("6dGb"),h=$("n6KG"),g=$.n(h),_=$("AiBH"),C=$("nHtH"),T=$("QM+C"),O=$("GBY4"),k=$.n(O),S=$("UlbS"),w=$("+/Fj"),I=$("XMIC"),x=$("MUo5"),L=$("m/+l"),R=$("D7h9"),N=$("YO6O"),D=$("jp/M"),M=$("2ACu"),P=$("NtTV"),j=$("r5mi"),F=$("/fVd"),B=$("VI6H"),U=$("IyQe"),H=$("5cZX"),z=$("1dfU"),V={permission:{Icon:w.a,msg:m("shortcut.no_access_tips"),msgExternal:m("permission.embed.external_cannot_apply_permission")},error:{Icon:f.a,msg:m("shortcut.loading_fail_tips")},notPreviewable:{Img:g.a}},K=320,W=320,Y=function(e){return{embedObjPermissions:Object(H.y)(e)}},q={openModal:I.c,sendSuitePermissionRequest:x.sendSuitePermissionRequest},Z=function(e){function r(e){var s;i()(this,r),(s=o()(this,c()(r).call(this,e))).loadDocInfo=function(){var e=s.props,i=e.token,o=e.sourceString;Object(E.d)({type:s.objTypeString,token:i}).then(function(e){var t,n,r;s.mounted&&(n=(t=e.data).edit_time,r=t.title,Object(p.Y)(o,!1,"file",i),s.setState({editTime:n,title:r}))})},s.loadShortcutImage=function(){var e=s.props,t=e.token,n=e.link,r=Date.now();s.getImageSrc(s.objTypeString,t,n).then(function(e){var t=e&&e.src,n=e&&e.isIcon;s.setShortState({status:!0,startRequestTime:r,src:t,isIcon:n})},function(e){if(e&&e.specialSuite)s.setShortState({status:!1,startRequestTime:r,specialSuiteInfo:e.info,reason:JSON.stringify(e.info)});else{if(Boolean(e&&e.noPermitted))return s.setShortState({status:!1,startRequestTime:r,errType:"permission",reason:"no permission"}),void s.setState({hasNoPermissionByShortCutImage:!0});s.objTypeString!==T.FILE_TYPE.FILE?s.setShortState({status:!1,startRequestTime:r,errType:"error",reason:"error"}):s.setShortState({status:!1,startRequestTime:r,errType:"notPreviewable",reason:"not previewable"})}})},s.handleApplyEmbedObjPermission=function(){var e=s.props,t=e.sendSuitePermissionRequest,n=e.token,r=e.type,i=e.closePopover,o=_.v[r]||r,a="";s.owner&&(a=Object(B.p)(s.owner,s.owner.get("name"))),t(n,o,T.PERMISSION.READABLE,"",a),Object(M.default)("click_embed_quick_apply",{from:"hover"}),i&&i()},s.handleOpenEmbedShareModal=function(){var e=s.props,t=e.openModal,n=e.token,r=e.title,i=e.closePopover,o=e.type,a={token:n,type:_.v[o]||o,title:r,permission:s.embedObjPermission};Object(p.L)(_.u.CLICK_EMBED_QUICK_SHARE,{from:"hover"}),t(D.ui.MODAL_TYPES.EMBED_SHARE,{embedObj:a}),i&&i()},s.getImageSrc=function(e,t,n){var r,i={sourceForLog:T.FILE_PREVIEW_SOURCE_FOR_LOG.docPopover,fileToken:t,fileType:T.mapFileType2TypeNum[e],clientHeight:K,clientWidth:W};return!n||e!==T.FILE_TYPE.MINDNOTE||(r=new k.a(n).hash)&&1<r.length&&(i.hash=encodeURIComponent(r.slice(1))),Object(P.d)(i)};var t=s.hasNoPermission;s.state=Object.assign({loaded:t,errType:t?"permission":"",specialSuiteInfo:null,hasNoPermissionByShortCutImage:!1},e),s.isNeedFetchEmbedPerm=!1;var n=e.type;return s.objTypeString=s.getObjTypeString(n),s}return u()(r,e),n()(r,[{key:"componentDidMount",value:function(){var e=this.props,t=e.embedObjShareEnable,n=e.disableAddEmbedObj;t&&!n&&(F.a.addEmbedObj([{num:1,obj:this.embedObject}]),F.a.sendEmbedObjsToManager([this.embedObject])),this.mounted=!0,this.hasNoPermission||(this.loadDocInfo(),this.loadShortcutImage())}},{key:"componentWillUnmount",value:function(){this.props.disableAddEmbedObj||F.a.removeEmbedObj([{num:1,obj:this.embedObject}]),this.mounted=!1,this.isNeedFetchEmbedPerm&&(F.a.fetchEmbedObjsPerm(),this.isNeedFetchEmbedPerm=!1)}},{key:"getObjTypeString",value:function(e){var t=_.v[e]||e;return T.mapTypeNumToFileType[t]}},{key:"setShortState",value:function(e){var t=e.errType,n=e.specialSuiteInfo,r=e.src,i=e.isIcon,o=e.status,a=e.reason,s=e.startRequestTime,c=this.props,u=c.token,l=c.sourceString;this.setState({loaded:!0,errType:t,src:r,isIcon:i,specialSuiteInfo:n}),Object(p.S)({status:o,source:l,type:this.objTypeString,token:u,reason:a,cost_time:Date.now()-s})}},{key:"arrayBufferToBase64",value:function(e){for(var t="",n=new Uint8Array(e),r=n.byteLength,i=0;i<r;i++)t+=String.fromCharCode(n[i]);return window.btoa(t)}},{key:"renderError",value:function(){var e=this.state,t=e.errType,n=e.hasNoPermissionByShortCutImage,r=this.props.embedObjShareEnable,i=this.owner,o=this.embedObjPermission,a=V[t];if("notPreviewable"===t){var s=a.Img;return v.a.createElement("section",{className:"mention-pop"},v.a.createElement("div",{className:"short-cut__notPreviewable layout-row"},v.a.createElement("img",{src:s,className:"short-cut__img"})),this.renderBottomBar())}var c=a.msgExternal,u=a.Icon,l=a.msg;if("permission"===t&&r)if(o&&i){if(i&&i.get("can_apply_perm")){var d=Object(B.p)(i,i.name);return v.a.createElement("section",{className:"mention-pop"},v.a.createElement("div",{className:"short-cut__error"},v.a.createElement("div",{className:"short-cut__error__permission"},v.a.createElement("i",null,v.a.createElement(u,null)),v.a.createElement("span",{className:"permission-text"},m("permission.embed.contact_author"),v.a.createElement(N.default,{className:"cooperater-user-popover",source:"permission_request",token:i.get("id"),name:d,trigger:"hover",placement:"lb",usePopover:!0},v.a.createElement("a",{className:"permission-request-owner"},d+m("permission.embed.owner"))),m("permission.embed.share_tips_5"))),v.a.createElement(S.Button,{onClick:this.handleApplyEmbedObjPermission,type:"primary"}," ",m("permission.embed.apply_btn")," ")))}i&&!i.get("can_apply_perm")&&(l=c)}else{this.isNeedFetchEmbedPerm=!0;var p=V.error,u=p.Icon,l=p.msg;n&&(u=V.permission.Icon,l=V.permission.msg)}return v.a.createElement("div",{className:"short-cut__error layout-cross-center layout-row"},v.a.createElement("i",{className:"short-cut__icon"},v.a.createElement(u,null)),v.a.createElement("p",{className:"short-cut__msg"},l))}},{key:"renderBottomBar",value:function(){var e=this.state.editTime;return e?v.a.createElement("div",{className:"mention-pop__time"},m("shortcut.last_update_time"),Object(C.a)(e)):null}},{key:"handleImageLoaded",value:function(e){URL.revokeObjectURL(e)}},{key:"handleImageError",value:function(e,t,n,r){Object(M.default)("mention_snapshot_src_error",{src:Object(z.a)(e),source:t,mention_type:r,mention_obj_id:Object(z.a)(n)}),URL.revokeObjectURL(e)}},{key:"render",value:function(){var e=this,t=this.state,n=t.loaded,r=t.src,i=t.isIcon,o=t.errType,a=t.specialSuiteInfo,s=this.props,c=s.embedObjShareEnable,u=s.sourceString,l=s.token,d=s.type,p=this.embedObjPermission,f=p&&p.canInvite,h=!Object(E.j)();if(!n)return v.a.createElement("div",{className:"layout-main-center layout-cross-center layout-row popover-loading"},v.a.createElement(y.a,null));if(o)return this.renderError();var g=b()("mention-pop__shortcut",{"mention-pop__shortcut-default-icon":i});return v.a.createElement("section",{className:"mention-pop"},v.a.createElement("div",{className:g},r&&v.a.createElement("img",{onLoad:function(){return e.handleImageLoaded(r)},onError:function(){return e.handleImageError(r,u,l,d)},src:r}),a&&v.a.createElement(j.a,{className:"mention-snapshot-special_suite",code:a.code})),h&&f&&c&&v.a.createElement("div",{className:"mention-pop__quick-share"},v.a.createElement("div",{className:"share-notify"},v.a.createElement(w.a,{className:"permission-warning-icon"}),v.a.createElement("span",{className:"warning-text"},m("permission.embed.share_tips_2"))),v.a.createElement(S.Button,{type:"primary",onClick:this.handleOpenEmbedShareModal},m("permission.embed.share_btn"))),this.renderBottomBar())}},{key:"embedObject",get:function(){var e=this.props,t=e.token,n=e.type,r=e.title;return{token:t,type:_.v[n]||n,title:r}}},{key:"embedObjPermission",get:function(){var e=this.props,t=e.embedObjPermissions,n=e.token,r=t&&t.get(n);return r?Object(U.embedObjPermission2Booleans)(r.get("permission")):null}},{key:"hasNoPermission",get:function(){var e=this.embedObjPermission;return!!e&&e.cantRead}},{key:"owner",get:function(){var e=this.props,t=e.embedObjPermissions,n=e.token,r=t&&t.get(n);return r?r.get("owner"):null}}]),r}(l.Component);Z.defaultProps={embedObjShareEnable:!1};var X=Object(L.connect)(Y,q)(Z),Q=function(e){function t(){return i()(this,t),o()(this,c()(t).apply(this,arguments))}return u()(t,e),n()(t,[{key:"render",value:function(){return v.a.createElement(L.Provider,{store:R.default},v.a.createElement(X,this.props))}}]),t}(l.Component);J.default=Q}.call(this,$("2vAP"))},GIBT:function(e,t,n){var o=n("TR4g"),a=n("4oK2"),s={__proto__:null,allowfullscreen:!0,async:!0,autofocus:!0,autoplay:!0,checked:!0,controls:!0,default:!0,defer:!0,disabled:!0,hidden:!0,ismap:!0,loop:!0,multiple:!0,muted:!0,open:!0,readonly:!0,required:!0,reversed:!0,scoped:!0,seamless:!0,selected:!0,typemustmatch:!0},r={__proto__:null,style:!0,script:!0,xmp:!0,iframe:!0,noembed:!0,noframes:!0,plaintext:!0,noscript:!0};function i(e,t){if(e){var n,r,i="";for(r in e)i&&(i+=" "),!(n=e[r])&&s[r]?i+=r:i+=r+'="'+(t.decodeEntities?a.encodeXML(n):n)+'"';return i}}var c={__proto__:null,area:!0,base:!0,basefont:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,isindex:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},u=e.exports=function(e,t){Array.isArray(e)||e.cheerio||(e=[e]),t=t||{};for(var n="",r=0;r<e.length;r++){var i=e[r];"root"===i.type?n+=u(i.children,t):o.isTag(i)?n+=l(i,t):i.type===o.Directive?n+=d(i):i.type===o.Comment?n+=h(i):i.type===o.CDATA?n+=f(i):n+=p(i,t)}return n};function l(e,t){"svg"===e.name&&(t={decodeEntities:t.decodeEntities,xmlMode:!0});var n="<"+e.name,r=i(e.attribs,t);return r&&(n+=" "+r),!t.xmlMode||e.children&&0!==e.children.length?(n+=">",e.children&&(n+=u(e.children,t)),c[e.name]&&!t.xmlMode||(n+="</"+e.name+">")):n+="/>",n}function d(e){return"<"+e.data+">"}function p(e,t){var n=e.data||"";return!t.decodeEntities||e.parent&&e.parent.name in r||(n=a.encodeXML(n)),n}function f(e){return"<![CDATA["+e.children[0].data+"]]>"}function h(e){return"\x3c!--"+e.data+"--\x3e"}},GOzd:function(e,t,n){"use strict";var r="razdwatrzy";e.exports=function(){return"function"==typeof r.contains&&(!0===r.contains("dwa")&&!1===r.contains("foo"))}},GdfX:function(e,t,n){"use strict";var r=n("lwsE"),i=n.n(r),o=n("W8MJ"),a=n.n(o),s=n("a1gu"),c=n.n(s),u=n("Nsbk"),l=n.n(u),d=n("7W2i"),p=n.n(d),f=n("cDf5"),h=n.n(f),g=n("q1tI"),m=n.n(g),v=n("o0o1"),y=n.n(v),b=n("yXPU"),E=n.n(b),_=n("3Hq1"),C=n("YsUP"),T=n("TSYQ"),O=n.n(T),k=n("gQL9"),S=n.n(k),w=n("5wek"),I=n.n(w),x=n("4PSP"),L=(n("eKYS"),function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":h()(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;0<=s;s--)(i=e[s])&&(a=(o<3?i(a):3<o?i(t,n,a):i(t,n))||a);return 3<o&&a&&Object.defineProperty(t,n,a),a}),R=1,N=function(e){function n(){var e;return i()(this,n),(e=c()(this,l()(n).apply(this,arguments))).id="".concat(e.props.url).concat(R++),e.btnWidth=16,e.controlWidthWithoutProgressBar=81+e.btnWidth/2,e.controlWidth=e.props.width-e.controlWidthWithoutProgressBar,e.storeIsPlayingOnControlTouch=!1,e.currentTime=0,e.duration=e.props.duration/1e3,e.error=null,e.state={isPlaying:!1,progress:0},e}function t(){return r.apply(this,arguments)}var r;return p()(n,e),a()(n,[{key:"componentDidMount",value:function(){this.handleProgressLeft(),window.addEventListener("resize",this.handleProgressLeft)}},{key:"componentWillUnmount",value:function(){delete n.pool[this.id],window.removeEventListener("resize",this.handleProgressLeft)}},{key:"handleControlPressStart",value:function(){this.storeIsPlayingOnControlTouch=this.state.isPlaying,this.pause()}},{key:"handleAudioCanPlay",value:function(){n.pool[this.id]=this}},{key:"handleControlPressMove",value:function(e){e.preventDefault();var t=e.touches||e.changedTouches||e,n=(t[0]||t).clientX;this.setBtnPosition(n)}},{key:"handleControlPressEnd",value:function(){this.storeIsPlayingOnControlTouch&&this.play()}},{key:"handleProgressLeft",value:function(){var e=this.progressRef&&this.progressRef.getBoundingClientRect();this.progressLeft=e&&e.left}},{key:"handleControlClick",value:function(e){this.storeIsPlayingOnControlTouch=this.state.isPlaying,this.pause(),this.setBtnPosition(e.clientX),this.storeIsPlayingOnControlTouch&&this.play()}},{key:"setBtnPosition",value:function(e){var t,n;this.progressLeft&&(t=e-this.progressLeft,t=Math.max(0,t),n=(t=Math.min(this.controlWidth,t))/this.controlWidth*100,this.setProgress(n))}},{key:"handleTimeUpdate",value:function(){var e=(isNaN(this.audioNode.duration)||this.audioNode.duration===1/0?this:this.audioNode).duration,t=this.audioNode.currentTime/e*100;if(100===t)return this.setState({isPlaying:!1}),this.pause(),void this.setProgress(0);this.setProgress(t)}},{key:"play",value:(r=E()(y.a.mark(function e(){var t=this;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.error)return e.abrupt("return",this.fireError());e.next=2;break;case 2:if(Object(C.a)(this.currentTime))return e.abrupt("return");e.next=4;break;case 4:return this.audioNode.currentTime=this.currentTime,e.prev=5,e.next=8,this.audioNode.play();case 8:e.next=13;break;case 10:return e.prev=10,e.t0=e.catch(5),e.abrupt("return",this.fireError(e.t0.message));case 13:this.setState({isPlaying:!0}),setTimeout(function(){for(var e in n.pool)e!==t.id&&n.pool[e].stop()}),this.props.logger.logPlayAudioComment();case 16:case"end":return e.stop()}},e,this,[[5,10]])})),t)},{key:"pause",value:function(){this.audioNode.pause(),this.setState({isPlaying:!1})}},{key:"stop",value:function(){this.setProgress(0),this.setState({isPlaying:!1}),this.audioNode.pause(),this.audioNode.currentTime=0}},{key:"togglePlay",value:function(){var e=this.props.onLine;if(!Object(_.default)(e)&&!e)return this.fireError();this.state.isPlaying?this.pause():this.play()}},{key:"setProgress",value:function(e){var t=this.props.onLine;(Object(_.default)(t)||t)&&(this.currentTime=this.duration*e/100,this.setState({progress:e}))}},{key:"parseDuration",value:function(e){e=0===e?this.props.duration/1e3:e;var t=Math.floor(e/60),n=Math.floor(e%60);return{minutes:t,seconds:n=n<10?"0".concat(n):n}}},{key:"handleAudioLoadFail",value:function(){this.error="audio load error"}},{key:"fireError",value:function(e){this.props.handleCaptureError&&(e=e||this.error,this.props.handleCaptureError(e))}},{key:"render",value:function(){var t=this,e=this.props,n=e.url,r=e.isMove,i=this.state,o=i.progress,a=i.isPlaying,s=(a?S:I).a,c=this.controlWidth*(o/100),u=c-this.btnWidth/2,l={transform:"translateX(".concat(u,"px)")},d={width:"".concat(c,"px")},p=O()("audio-control-btn",{"audio-control-btn-highlight":r||a}),f=this.parseDuration(this.duration*(o/100)),h=f.minutes,g=f.seconds;return m.a.createElement("div",{className:"audio-container",style:{width:this.props.width}},m.a.createElement("audio",{src:n,className:"audio",onTimeUpdate:this.handleTimeUpdate,onCanPlay:this.handleAudioCanPlay,onError:this.handleAudioLoadFail,preload:"none",ref:function(e){return t.audioNode=e}}),m.a.createElement("div",{className:"audio-control-container"},m.a.createElement("img",{src:s,alt:"xxx",className:"audio-play-btn",onClick:this.togglePlay}),m.a.createElement("div",{className:"audio-control",style:{width:this.controlWidth},onClick:this.handleControlClick},m.a.createElement("div",{className:p,style:l,ref:function(e){return t.controlBtnRef=e}}),m.a.createElement("div",{className:"audio-control-progress",ref:function(e){return t.progressRef=e}},m.a.createElement("div",{className:"audio-control-progress-played",style:d}))),m.a.createElement("div",{className:"audio-played-time"},"".concat(h,":").concat(g))))}}]),n}(g.PureComponent);N.pool={},L([Object(x.Bind)()],N.prototype,"handleControlPressStart",null),L([Object(x.Bind)()],N.prototype,"handleAudioCanPlay",null),L([Object(x.Bind)()],N.prototype,"handleControlPressMove",null),L([Object(x.Bind)()],N.prototype,"handleControlPressEnd",null),L([Object(x.Bind)()],N.prototype,"handleProgressLeft",null),L([Object(x.Bind)()],N.prototype,"handleControlClick",null),L([Object(x.Bind)()],N.prototype,"handleTimeUpdate",null),L([Object(x.Bind)()],N.prototype,"stop",null),L([Object(x.Bind)()],N.prototype,"togglePlay",null),L([Object(x.Bind)()],N.prototype,"handleAudioLoadFail",null);var D=N,M=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":h()(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;0<=s;s--)(i=e[s])&&(a=(o<3?i(a):3<o?i(t,n,a):i(t,n))||a);return 3<o&&a&&Object.defineProperty(t,n,a),a},P={1:125,2:140,3:155,4:170,5:185,6:200},j=function(e){function t(){var e;return i()(this,t),(e=c()(this,l()(t).apply(this,arguments))).isMouseDown=!1,e.state={isMove:!1},e}return p()(t,e),a()(t,[{key:"componentDidMount",value:function(){this.bindEvents()}},{key:"componentWillUnmount",value:function(){this.unBindEvents()}},{key:"bindEvents",value:function(){this.baseAudioRef&&(document.addEventListener("mousedown",this.handleControlMouseDown),document.addEventListener("mousemove",this.handleControlMouseMove),document.addEventListener("mouseup",this.handleControlMouseUp))}},{key:"unBindEvents",value:function(){this.baseAudioRef&&(document.removeEventListener("mousedown",this.handleControlMouseDown),document.removeEventListener("mousemove",this.handleControlMouseMove),document.removeEventListener("mouseup",this.handleControlMouseUp))}},{key:"handleControlMouseDown",value:function(e){var t=this.baseAudioRef;t&&e.target===t.controlBtnRef&&(this.setState({isMove:!0}),t.handleControlPressStart())}},{key:"handleControlMouseMove",value:function(e){this.baseAudioRef&&this.state.isMove&&this.baseAudioRef.handleControlPressMove(e)}},{key:"handleControlMouseUp",value:function(e){var t=this.baseAudioRef;t&&(this.setState({isMove:!1}),e.target===t.controlBtnRef&&t.handleControlPressEnd())}},{key:"render",value:function(){var t=this,e=P[Math.ceil(this.props.duration/1e3/10)],n=this.props,r=n.duration,i=n.url,o={logPlayAudioComment:function(){}};return m.a.createElement(D,{ref:function(e){return t.baseAudioRef=e},duration:r,url:i,width:e,isMove:this.state.isMove,logger:o})}}]),t}(g.Component);M([Object(x.Bind)()],j.prototype,"handleControlMouseDown",null),M([Object(x.Bind)()],j.prototype,"handleControlMouseMove",null),M([Object(x.Bind)()],j.prototype,"handleControlMouseUp",null);t.a=j},Gi0A:function(e,t,n){var r=n("QqLw"),i=n("ExA7"),o="[object Map]";function a(e){return i(e)&&r(e)==o}e.exports=a},GixS:function(e,t,n){"use strict";n.d(t,"i",function(){return r}),n.d(t,"j",function(){return i}),n.d(t,"g",function(){return o}),n.d(t,"h",function(){return a}),n.d(t,"f",function(){return s}),n.d(t,"d",function(){return c}),n.d(t,"c",function(){return u}),n.d(t,"e",function(){return l}),n.d(t,"b",function(){return d}),n.d(t,"a",function(){return p});var r="table-toolbar-perf-adaptor",i="table-will-delete-cell",o=3,a=19,s=14,c=30,u=30,l=-5,d=1,p=0},Gp6W:function(e,t,n){"use strict";var r=n("pVnL"),i=n.n(r),o=n("QILm"),a=n.n(o),s=n("q1tI"),c=n.n(s);t.a=function(e){e.styles;var t=a()(e,["styles"]);return c.a.createElement("svg",i()({width:"120",height:"172",viewBox:"0 0 120 172",fill:"none"},t),c.a.createElement("path",{fill:"#F8F9FA",fillOpacity:".5",d:"M0 0h120v172H0z"}),c.a.createElement("path",{d:"M52 26c0-1.1.9-2 2-2h52a2 2 0 012 2v10a2 2 0 01-2 2H54a2 2 0 01-2-2V26z",fill:"url(#e4e49d98a793185789d3fd16a0fe872a-paint0_linear)"}),c.a.createElement("rect",{x:"52",y:"44",width:"36",height:"14",rx:"2",fill:"url(#e4e49d98a793185789d3fd16a0fe872a-paint1_linear)"}),c.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M28 57a16 16 0 100-32 16 16 0 000 32z",fill:"url(#e4e49d98a793185789d3fd16a0fe872a-paint2_linear)"}),c.a.createElement("rect",{x:"12",y:"74",width:"96",height:"14",rx:"2",fill:"url(#e4e49d98a793185789d3fd16a0fe872a-paint3_linear)"}),c.a.createElement("rect",{x:"12",y:"104",width:"96",height:"14",rx:"2",fill:"url(#e4e49d98a793185789d3fd16a0fe872a-paint4_linear)"}),c.a.createElement("rect",{x:"12",y:"134",width:"96",height:"14",rx:"2",fill:"url(#e4e49d98a793185789d3fd16a0fe872a-paint5_linear)"}),c.a.createElement("defs",null,c.a.createElement("linearGradient",{id:"e4e49d98a793185789d3fd16a0fe872a-paint0_linear",x1:"52",y1:"38",x2:"109",y2:"38",gradientUnits:"userSpaceOnUse"},c.a.createElement("stop",{stopColor:"#EFF0F1",stopOpacity:".6"}),c.a.createElement("stop",{offset:"1",stopColor:"#EFF0F1"})),c.a.createElement("linearGradient",{id:"e4e49d98a793185789d3fd16a0fe872a-paint1_linear",x1:"52",y1:"58",x2:"88",y2:"58",gradientUnits:"userSpaceOnUse"},c.a.createElement("stop",{stopColor:"#EFF0F1",stopOpacity:".6"}),c.a.createElement("stop",{offset:"1",stopColor:"#EFF0F1"})),c.a.createElement("linearGradient",{id:"e4e49d98a793185789d3fd16a0fe872a-paint2_linear",x1:"12",y1:"57",x2:"44",y2:"57",gradientUnits:"userSpaceOnUse"},c.a.createElement("stop",{stopColor:"#EFF0F1",stopOpacity:".6"}),c.a.createElement("stop",{offset:"1",stopColor:"#EFF0F1"})),c.a.createElement("linearGradient",{id:"e4e49d98a793185789d3fd16a0fe872a-paint3_linear",x1:"12",y1:"88",x2:"108",y2:"88",gradientUnits:"userSpaceOnUse"},c.a.createElement("stop",{stopColor:"#EFF0F1",stopOpacity:".6"}),c.a.createElement("stop",{offset:"1",stopColor:"#EFF0F1"})),c.a.createElement("linearGradient",{id:"e4e49d98a793185789d3fd16a0fe872a-paint4_linear",x1:"12",y1:"118",x2:"108",y2:"118",gradientUnits:"userSpaceOnUse"},c.a.createElement("stop",{stopColor:"#EFF0F1",stopOpacity:".6"}),c.a.createElement("stop",{offset:"1",stopColor:"#EFF0F1"})),c.a.createElement("linearGradient",{id:"e4e49d98a793185789d3fd16a0fe872a-paint5_linear",x1:"12",y1:"148",x2:"108",y2:"148",gradientUnits:"userSpaceOnUse"},c.a.createElement("stop",{stopColor:"#EFF0F1",stopOpacity:".6"}),c.a.createElement("stop",{offset:"1",stopColor:"#EFF0F1"}))))}},GpRL:function(e,t,n){"use strict";e.exports=function(e){if("function"!=typeof e)throw new TypeError(e+" is not a function");return e}},GuAe:function(e,t,n){"use strict";var r=n("q1tI"),a=n.n(r),i=n("TSYQ"),s=n.n(i),c=n("UlbS"),o=function(e){var t=e.list;return a.a.createElement("ul",{className:"comment-more-dropdown"},t.map(function(t){if(!t.visible)return null;var n=t.children,r=t.onClick;if(n){var e=function(){var e="layout-row layout-cross-center item";return a.a.createElement(a.a.Fragment,null,a.a.createElement("ul",{className:"navigation-bar__translate"},Object.keys(n).map(function(t){return a.a.createElement("li",{key:t,className:e,onClick:function(e){return r(e,t)}},a.a.createElement("span",null,n[t]))})),a.a.createElement("div",{className:"comment-item-menu-popover__left"}))},i="layout-row layout-cross-center layout-row-createFile item item-arrow-right";return a.a.createElement(c.Popover,{key:t.id,className:"comment-item-menu-popover",placement:"left",arrow:!1,gap:4,hideDelay:500,adjustPlacements:["bottomLeft"],content:e()},a.a.createElement("li",{className:i},a.a.createElement("span",null,t.text)))}var o=s()("layout-row layout-cross-center layout-row-createFile item",t.className);return a.a.createElement("li",{className:o,onClick:function(e){return t.onClick(e)},key:t.id},t.text)}))};t.a=o},Guq5:function(e,t,n){"use strict";var r,i;n.d(t,"a",function(){return r}),(i=r=r||{}).A_PANEL="a_panel",i.BLOCK_MENU="block_menu"},Gz0X:function(e,t,n){"use strict";n.r(t);var r=n("fywt"),i=n("RQWm");function o(e,t){return e&&e.length?Object(i.a)(e,Object(r.a)(t,3)):[]}t.default=o},H2hp:function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"c",function(){return s});var r,i,o=n("q1tI"),a=n("8ZiO");(i=r=r||{}).light="light",i.dark="dark";var s={locale:a.a.enUS,lang:{},l2r:!0,is12Hour:!1,theme:"",timezone:"",update:function(){return Promise.resolve(void 0)}};t.b=Object(o.createContext)(s)},H6Gw:function(e,t,n){"use strict";var r=n("lwsE"),a=n.n(r),i=n("W8MJ"),s=n.n(i),o=n("a1gu"),c=n.n(o),u=n("Nsbk"),l=n.n(u),d=n("7W2i"),p=n.n(d),f=n("hMnB"),h=n.n(f),g=n("q1tI"),m=(n("17x9"),n("c/bE")),v=function(e){function o(){var e,i;a()(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(i=c()(this,(e=l()(o)).call.apply(e,[this].concat(n)))).canLeavePage=function(){return!i.props.hasUnSaveData()},i.handleBeforeUnload=function(e){if(i.props.hasUnSaveData()){var t=i.props.getUnSaveTip();return e.returnValue=t}},i.defaultHandleHistoryChange=function(e){if(e.pathname!==h.a.pathname){var t=i.props,n=t.hasUnSaveData,r=t.getUnSaveTip;return n()?r():void 0}},i}return p()(o,e),s()(o,[{key:"componentDidMount",value:function(){window.addEventListener("beforeunload",this.handleBeforeUnload),this.setSoftRoutingBlock(!0),m.a.addCanLeavePageHandler(this.canLeavePage)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("beforeunload",this.handleBeforeUnload),this.setSoftRoutingBlock(!1),m.a.removeCanLeavePageHandler(this.canLeavePage)}},{key:"setSoftRoutingBlock",value:function(e){this.props.allowSoftRouting||(e?this.blockSoftRouting():this.unblockSoftRouting())}},{key:"blockSoftRouting",value:function(){var e=this.props.history;0===o.blockFns.length&&(o.removeBlockListener=e.block(function(){for(var e=o.blockFns,t=0;t<e.length;t++){var n=e[t].apply(void 0,arguments);if(n)return n}})),o.blockFns.push(this.handleHistoryChange)}},{key:"unblockSoftRouting",value:function(){var e,t,n=this;this.props.allowSoftRouting||(e=o.blockFns,t=o.removeBlockListener,o.blockFns=e.filter(function(e){return e!==n.handleHistoryChange}),o.blockFns.length<=0&&t())}},{key:"render",value:function(){if(this.props.children){var e=g.Children.only(this.props.children);return Object(g.cloneElement)(e)}return null}},{key:"handleHistoryChange",get:function(){return this.props.handleHistoryChange||this.defaultHandleHistoryChange}}]),o}(g.Component);v.defaultProps={allowSoftRouting:!1},v.blockFns=[],v.removeBlockListener=function(){},t.a=v},H7XF:function(e,t,n){"use strict";t.byteLength=a,t.toByteArray=s,t.fromByteArray=g;for(var c=[],u=[],l="undefined"!=typeof Uint8Array?Uint8Array:Array,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,o=r.length;i<o;++i)c[i]=r[i],u[r.charCodeAt(i)]=i;function d(e){var t=e.length;if(0<t%4)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function a(e){var t=d(e),n=t[0],r=t[1];return 3*(n+r)/4-r}function p(e,t,n){return 3*(t+n)/4-n}function s(e){for(var t,n=d(e),r=n[0],i=n[1],o=new l(p(e,r,i)),a=0,s=0<i?r-4:r,c=0;c<s;c+=4)t=u[e.charCodeAt(c)]<<18|u[e.charCodeAt(c+1)]<<12|u[e.charCodeAt(c+2)]<<6|u[e.charCodeAt(c+3)],o[a++]=t>>16&255,o[a++]=t>>8&255,o[a++]=255&t;return 2===i&&(t=u[e.charCodeAt(c)]<<2|u[e.charCodeAt(c+1)]>>4,o[a++]=255&t),1===i&&(t=u[e.charCodeAt(c)]<<10|u[e.charCodeAt(c+1)]<<4|u[e.charCodeAt(c+2)]>>2,o[a++]=t>>8&255,o[a++]=255&t),o}function f(e){return c[e>>18&63]+c[e>>12&63]+c[e>>6&63]+c[63&e]}function h(e,t,n){for(var r,i=[],o=t;o<n;o+=3)r=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(255&e[o+2]),i.push(f(r));return i.join("")}function g(e){for(var t,n=e.length,r=n%3,i=[],o=16383,a=0,s=n-r;a<s;a+=o)i.push(h(e,a,s<a+o?s:a+o));return 1===r?(t=e[n-1],i.push(c[t>>2]+c[t<<4&63]+"==")):2===r&&(t=(e[n-2]<<8)+e[n-1],i.push(c[t>>10]+c[t>>4&63]+c[t<<2&63]+"=")),i.join("")}u["-".charCodeAt(0)]=62,u["_".charCodeAt(0)]=63},HCkw:function(e,t,n){n("/JNE"),n("b4mI"),n("i3tW"),n("42Pb"),n("ZNvi"),n("IqmU"),n("kIAf"),n("Dmep"),n("5pn2"),n("58wy"),n("LoXx"),n("mA47"),n("msS4"),n("J04u"),n("jQUo"),n("7wkN"),n("qhvP"),n("gXaK"),n("Ui3k");var r=n("dktu");e.exports=r.Symbol},HDXh:function(e,ne,re){"use strict";(function(e){var r=re("H7XF"),o=re("kVK+"),a=re("49sm");function t(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}function n(){return d.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(n()<t)throw new RangeError("Invalid typed array length");return d.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=d.prototype:(null===e&&(e=new d(t)),e.length=t),e}function d(e,t,n){if(!(d.TYPED_ARRAY_SUPPORT||this instanceof d))return new d(e,t,n);if("number"!=typeof e)return i(this,e,t,n);if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return l(this,e)}function i(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?h(e,t,n,r):"string"==typeof t?p(e,t,n):g(e,t)}function c(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function u(e,t,n,r){return c(t),!(t<=0)&&void 0!==n?"string"==typeof r?s(e,t).fill(n,r):s(e,t).fill(n):s(e,t)}function l(e,t){if(c(t),e=s(e,t<0?0:0|m(t)),!d.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function p(e,t,n){if("string"==typeof n&&""!==n||(n="utf8"),!d.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|y(t,n),i=(e=s(e,r)).write(t,n);return i!==r&&(e=e.slice(0,i)),e}function f(e,t){var n=t.length<0?0:0|m(t.length);e=s(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function h(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");return t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r),d.TYPED_ARRAY_SUPPORT?(e=t).__proto__=d.prototype:e=f(e,t),e}function g(e,t){if(d.isBuffer(t)){var n=0|m(t.length);return 0===(e=s(e,n)).length?e:(t.copy(e,0,0,n),e)}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||te(t.length)?s(e,0):f(e,t);if("Buffer"===t.type&&a(t.data))return f(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function m(e){if(e>=n())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+n().toString(16)+" bytes");return 0|e}function v(e){return+e!=e&&(e=0),d.alloc(+e)}function y(e,t){if(d.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return X(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return $(e).length;default:if(r)return X(e).length;t=(""+t).toLowerCase(),r=!0}}function b(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e=e||"utf8";;)switch(e){case"hex":return P(this,t,n);case"utf8":case"utf-8":return L(this,t,n);case"ascii":return D(this,t,n);case"latin1":case"binary":return M(this,t,n);case"base64":return x(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return j(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function E(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function _(e,t,n,r,i){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):2147483647<n?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof t&&(t=d.from(t,r)),d.isBuffer(t))return 0===t.length?-1:C(e,t,n,r,i);if("number"==typeof t)return t&=255,d.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?(i?Uint8Array.prototype.indexOf:Uint8Array.prototype.lastIndexOf).call(e,t,n):C(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function C(e,t,n,r,i){var o=1,a=e.length,s=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a/=o=2,s/=2,n/=2}function c(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(i)for(var u=-1,l=n;l<a;l++)if(c(e,l)===c(t,-1===u?0:l-u)){if(-1===u&&(u=l),l-u+1===s)return u*o}else-1!==u&&(l-=l-u),u=-1;else for(a<n+s&&(n=a-s),l=n;0<=l;l--){for(var d=!0,p=0;p<s;p++)if(c(e,l+p)!==c(t,p)){d=!1;break}if(d)return l}return-1}function T(e,t,n,r){n=Number(n)||0;var i=e.length-n;(!r||i<(r=Number(r)))&&(r=i);var o=t.length;if(o%2!=0)throw new TypeError("Invalid hex string");o/2<r&&(r=o/2);for(var a=0;a<r;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[n+a]=s}return a}function O(e,t,n,r){return ee(X(t,e.length-n),e,n,r)}function k(e,t,n,r){return ee(Q(t),e,n,r)}function S(e,t,n,r){return k(e,t,n,r)}function w(e,t,n,r){return ee($(t),e,n,r)}function I(e,t,n,r){return ee(J(t,e.length-n),e,n,r)}function x(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function L(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var o,a,s,c,u=e[i],l=null,d=239<u?4:223<u?3:191<u?2:1;if(i+d<=n)switch(d){case 1:u<128&&(l=u);break;case 2:128==(192&(o=e[i+1]))&&127<(c=(31&u)<<6|63&o)&&(l=c);break;case 3:o=e[i+1],a=e[i+2],128==(192&o)&&128==(192&a)&&2047<(c=(15&u)<<12|(63&o)<<6|63&a)&&(c<55296||57343<c)&&(l=c);break;case 4:o=e[i+1],a=e[i+2],s=e[i+3],128==(192&o)&&128==(192&a)&&128==(192&s)&&65535<(c=(15&u)<<18|(63&o)<<12|(63&a)<<6|63&s)&&c<1114112&&(l=c)}null===l?(l=65533,d=1):65535<l&&(l-=65536,r.push(l>>>10&1023|55296),l=56320|1023&l),r.push(l),i+=d}return N(r)}ne.Buffer=d,ne.SlowBuffer=v,ne.INSPECT_MAX_BYTES=50,d.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:t(),ne.kMaxLength=n(),d.poolSize=8192,d._augment=function(e){return e.__proto__=d.prototype,e},d.from=function(e,t,n){return i(null,e,t,n)},d.TYPED_ARRAY_SUPPORT&&(d.prototype.__proto__=Uint8Array.prototype,d.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&d[Symbol.species]===d&&Object.defineProperty(d,Symbol.species,{value:null,configurable:!0})),d.alloc=function(e,t,n){return u(null,e,t,n)},d.allocUnsafe=function(e){return l(null,e)},d.allocUnsafeSlow=function(e){return l(null,e)},d.isBuffer=function(e){return!(null==e||!e._isBuffer)},d.compare=function(e,t){if(!d.isBuffer(e)||!d.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},d.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},d.concat=function(e,t){if(!a(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return d.alloc(0);if(void 0===t)for(i=t=0;i<e.length;++i)t+=e[i].length;for(var n=d.allocUnsafe(t),r=0,i=0;i<e.length;++i){var o=e[i];if(!d.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(n,r),r+=o.length}return n},d.byteLength=y,d.prototype._isBuffer=!0,d.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)E(this,t,t+1);return this},d.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)E(this,t,t+3),E(this,t+1,t+2);return this},d.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)E(this,t,t+7),E(this,t+1,t+6),E(this,t+2,t+5),E(this,t+3,t+4);return this},d.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?L(this,0,e):b.apply(this,arguments)},d.prototype.equals=function(e){if(!d.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===d.compare(this,e)},d.prototype.inspect=function(){var e="",t=ne.INSPECT_MAX_BYTES;return 0<this.length&&(e=this.toString("hex",0,t).match(/.{2}/g).join(" "),this.length>t&&(e+=" ... ")),"<Buffer "+e+">"},d.prototype.compare=function(e,t,n,r,i){if(!d.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(i<=r&&n<=t)return 0;if(i<=r)return-1;if(n<=t)return 1;if(this===e)return 0;for(var o=(i>>>=0)-(r>>>=0),a=(n>>>=0)-(t>>>=0),s=Math.min(o,a),c=this.slice(r,i),u=e.slice(t,n),l=0;l<s;++l)if(c[l]!==u[l]){o=c[l],a=u[l];break}return o<a?-1:a<o?1:0},d.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},d.prototype.indexOf=function(e,t,n){return _(this,e,t,n,!0)},d.prototype.lastIndexOf=function(e,t,n){return _(this,e,t,n,!1)},d.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||i<n)&&(n=i),0<e.length&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r=r||"utf8";for(var o=!1;;)switch(r){case"hex":return T(this,e,t,n);case"utf8":case"utf-8":return O(this,e,t,n);case"ascii":return k(this,e,t,n);case"latin1":case"binary":return S(this,e,t,n);case"base64":return w(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return I(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},d.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var R=4096;function N(e){var t=e.length;if(t<=R)return String.fromCharCode.apply(String,e);for(var n="",r=0;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=R));return n}function D(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function M(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function P(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||r<n)&&(n=r);for(var i="",o=t;o<n;++o)i+=Z(e[o]);return i}function j(e,t,n){for(var r=e.slice(t,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function F(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(n<e+t)throw new RangeError("Trying to access beyond buffer length")}function B(e,t,n,r,i,o){if(!d.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(i<t||t<o)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function U(e,t,n,r){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-n,2);i<o;++i)e[n+i]=(t&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function H(e,t,n,r){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-n,4);i<o;++i)e[n+i]=t>>>8*(r?i:3-i)&255}function z(e,t,n,r,i,o){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function V(e,t,n,r,i){return i||z(e,t,n,4,34028234663852886e22,-34028234663852886e22),o.write(e,t,n,r,23,4),n+4}function K(e,t,n,r,i){return i||z(e,t,n,8,17976931348623157e292,-17976931348623157e292),o.write(e,t,n,r,52,8),n+8}d.prototype.slice=function(e,t){var n=this.length;if((e=~~e)<0?(e+=n)<0&&(e=0):n<e&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):n<t&&(t=n),t<e&&(t=e),d.TYPED_ARRAY_SUPPORT)(i=this.subarray(e,t)).__proto__=d.prototype;else for(var r=t-e,i=new d(r,void 0),o=0;o<r;++o)i[o]=this[o+e];return i},d.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||F(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r},d.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||F(e,t,this.length);for(var r=this[e+--t],i=1;0<t&&(i*=256);)r+=this[e+--t]*i;return r},d.prototype.readUInt8=function(e,t){return t||F(e,1,this.length),this[e]},d.prototype.readUInt16LE=function(e,t){return t||F(e,2,this.length),this[e]|this[e+1]<<8},d.prototype.readUInt16BE=function(e,t){return t||F(e,2,this.length),this[e]<<8|this[e+1]},d.prototype.readUInt32LE=function(e,t){return t||F(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},d.prototype.readUInt32BE=function(e,t){return t||F(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},d.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||F(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return(i*=128)<=r&&(r-=Math.pow(2,8*t)),r},d.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||F(e,t,this.length);for(var r=t,i=1,o=this[e+--r];0<r&&(i*=256);)o+=this[e+--r]*i;return(i*=128)<=o&&(o-=Math.pow(2,8*t)),o},d.prototype.readInt8=function(e,t){return t||F(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},d.prototype.readInt16LE=function(e,t){t||F(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},d.prototype.readInt16BE=function(e,t){t||F(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},d.prototype.readInt32LE=function(e,t){return t||F(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},d.prototype.readInt32BE=function(e,t){return t||F(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},d.prototype.readFloatLE=function(e,t){return t||F(e,4,this.length),o.read(this,e,!0,23,4)},d.prototype.readFloatBE=function(e,t){return t||F(e,4,this.length),o.read(this,e,!1,23,4)},d.prototype.readDoubleLE=function(e,t){return t||F(e,8,this.length),o.read(this,e,!0,52,8)},d.prototype.readDoubleBE=function(e,t){return t||F(e,8,this.length),o.read(this,e,!1,52,8)},d.prototype.writeUIntLE=function(e,t,n,r){e=+e,t|=0,n|=0,r||B(this,e,t,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[t]=255&e;++o<n&&(i*=256);)this[t+o]=e/i&255;return t+n},d.prototype.writeUIntBE=function(e,t,n,r){e=+e,t|=0,n|=0,r||B(this,e,t,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[t+i]=255&e;0<=--i&&(o*=256);)this[t+i]=e/o&255;return t+n},d.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||B(this,e,t,1,255,0),d.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},d.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||B(this,e,t,2,65535,0),d.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):U(this,e,t,!0),t+2},d.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||B(this,e,t,2,65535,0),d.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):U(this,e,t,!1),t+2},d.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||B(this,e,t,4,4294967295,0),d.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):H(this,e,t,!0),t+4},d.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||B(this,e,t,4,4294967295,0),d.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):H(this,e,t,!1),t+4},d.prototype.writeIntLE=function(e,t,n,r){var i;e=+e,t|=0,r||B(this,e,t,n,(i=Math.pow(2,8*n-1))-1,-i);var o=0,a=1,s=0;for(this[t]=255&e;++o<n&&(a*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},d.prototype.writeIntBE=function(e,t,n,r){var i;e=+e,t|=0,r||B(this,e,t,n,(i=Math.pow(2,8*n-1))-1,-i);var o=n-1,a=1,s=0;for(this[t+o]=255&e;0<=--o&&(a*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},d.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||B(this,e,t,1,127,-128),d.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},d.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||B(this,e,t,2,32767,-32768),d.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):U(this,e,t,!0),t+2},d.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||B(this,e,t,2,32767,-32768),d.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):U(this,e,t,!1),t+2},d.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||B(this,e,t,4,2147483647,-2147483648),d.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):H(this,e,t,!0),t+4},d.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||B(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),d.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):H(this,e,t,!1),t+4},d.prototype.writeFloatLE=function(e,t,n){return V(this,e,t,!0,n)},d.prototype.writeFloatBE=function(e,t,n){return V(this,e,t,!1,n)},d.prototype.writeDoubleLE=function(e,t,n){return K(this,e,t,!0,n)},d.prototype.writeDoubleBE=function(e,t,n){return K(this,e,t,!1,n)},d.prototype.copy=function(e,t,n,r){if(n=n||0,r||0===r||(r=this.length),t>=e.length&&(t=e.length),t=t||0,0<r&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i,o=r-n;if(this===e&&n<t&&t<r)for(i=o-1;0<=i;--i)e[i+t]=this[i+n];else if(o<1e3||!d.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)e[i+t]=this[i+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+o),t);return o},d.prototype.fill=function(e,t,n,r){if("string"==typeof e){var i;if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1!==e.length||(i=e.charCodeAt(0))<256&&(e=i),void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!d.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;if(t>>>=0,n=void 0===n?this.length:n>>>0,"number"==typeof(e=e||0))for(s=t;s<n;++s)this[s]=e;else for(var o=d.isBuffer(e)?e:X(new d(e,r).toString()),a=o.length,s=0;s<n-t;++s)this[s+t]=o[s%a];return this};var W=/[^+\/0-9A-Za-z-_]/g;function Y(e){if((e=q(e).replace(W,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}function q(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function Z(e){return e<16?"0"+e.toString(16):e.toString(16)}function X(e,t){var n;t=t||1/0;for(var r=e.length,i=null,o=[],a=0;a<r;++a){if(55295<(n=e.charCodeAt(a))&&n<57344){if(!i){if(56319<n){-1<(t-=3)&&o.push(239,191,189);continue}if(a+1===r){-1<(t-=3)&&o.push(239,191,189);continue}i=n;continue}if(n<56320){-1<(t-=3)&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&-1<(t-=3)&&o.push(239,191,189);if(i=null,n<128){if(--t<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function Q(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}function J(e,t){for(var n,r,i,o=[],a=0;a<e.length&&!((t-=2)<0);++a)r=(n=e.charCodeAt(a))>>8,i=n%256,o.push(i),o.push(r);return o}function $(e){return r.toByteArray(Y(e))}function ee(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}function te(e){return e!=e}}).call(this,re("yLpj"))},HDyB:function(e,t,n){var Symbol=n("nmnc"),d=n("JHRd"),p=n("ljhN"),f=n("or5M"),h=n("7fqy"),g=n("rEGp"),m=1,v=2,y="[object Boolean]",b="[object Date]",E="[object Error]",_="[object Map]",C="[object Number]",T="[object RegExp]",O="[object Set]",k="[object String]",S="[object Symbol]",w="[object ArrayBuffer]",I="[object DataView]",r=Symbol?Symbol.prototype:void 0,x=r?r.valueOf:void 0;function i(e,t,n,r,i,o,a){switch(n){case I:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case w:return e.byteLength==t.byteLength&&o(new d(e),new d(t))?!0:!1;case y:case b:case C:return p(+e,+t);case E:return e.name==t.name&&e.message==t.message;case T:case k:return e==t+"";case _:var s=h;case O:var c=r&m,s=s||g;if(e.size!=t.size&&!c)return!1;var u=a.get(e);if(u)return u==t;r|=v,a.set(e,t);var l=f(s(e),s(t),r,i,o,a);return a.delete(e),l;case S:if(x)return x.call(e)==x.call(t)}return!1}e.exports=i},HJBe:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var i=n("mrSG"),r=n("FFOo");function o(t){return void 0===t&&(t=null),function(e){return e.lift(new a(t))}}var a=function(){function e(e){this.defaultValue=e}return e.prototype.call=function(e,t){return t.subscribe(new s(e,this.defaultValue))},e}(),s=function(r){function e(e,t){var n=r.call(this,e)||this;return n.defaultValue=t,n.isEmpty=!0,n}return i.__extends(e,r),e.prototype._next=function(e){this.isEmpty=!1,this.destination.next(e)},e.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},e}(r.a)},HOxn:function(e,t,n){var r=n("Cwc5")(n("Kz5y"),"Promise");e.exports=r},HTIP:function(e,t,n){var r=n("LXxW"),i=n("n3Sm"),o=n("ut/Y"),a=n("Z0cm"),s=n("oKwy");function c(e,t){return(a(e)?r:i)(e,s(o(t,3)))}e.exports=c},HTq5:function(e,t,n){"use strict";var r=n("pevS"),u=n("39uu"),l=n("YiBS"),d=n("RQhY"),p=n("ZyXh"),f=n("pCEo"),h=n("bBVJ"),i=n("nJYk"),g=n("A2Ma")("species"),m=[].slice,v=Math.max;r({target:"Array",proto:!0,forced:!i("slice")},{slice:function(e,t){var n,r,i,o=f(this),a=p(o.length),s=d(e,a),c=d(void 0===t?a:t,a);if(l(o)&&(("function"==typeof(n=o.constructor)&&(n===Array||l(n.prototype))||u(n)&&null===(n=n[g]))&&(n=void 0),n===Array||void 0===n))return m.call(o,s,c);for(r=new(void 0===n?Array:n)(v(c-s,0)),i=0;s<c;s++,i++)s in o&&h(r,i,o[s]);return r.length=i,r}})},HhHe:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var o=n("skFV");function a(e){var t=window.document.createElement("a");return t.href=e,t.hostname}function r(e){var t=a(e),n=/(localhost|127.0.0.1|10.8.125.61|sheet.bytedance.net)$/,r=Object(o.h)(),i=new RegExp("(".concat(r.map(function(e){return e.replace(/\./g,"\\.")}).join("|"),")$"));return n.test(t)||i.test(t)}},HiAM:function(e,t,n){"use strict";n.d(t,"a",function(){return R}),n.d(t,"b",function(){return N}),n.d(t,"c",function(){return o});var r=n("J4zp"),T=n.n(r),O=n("UXvI"),k=n("q1tI"),S=n.n(k),w=n("toa8"),I=n("96li"),i=n("8wh8"),x=n("1dfU"),L=n("2ACu"),R="comment-image-cover",N="comment-image-placeholder",D=Object(i.b)(),M=function(e){var t=e.token&&D[e.token]?D[e.token]:e.coverSrc||e.src;return t},o=function(e){var c=e.imageItem,n=e.canEdit,t=e.onClick,r=e.onMouseDown,i=e.onLoad,u=e.onError,o=e.imageStatus,a=e.canLoadCover,s=M(c),l=Object(k.useState)(0===s.indexOf("blob:")),d=T()(l,2),p=d[0],f=d[1],h=Object(k.useState)(!1),g=T()(h,2),m=g[0],v=g[1],y=Object(k.useState)(s),b=T()(y,2),E=b[0],_=b[1],C=Object(k.useCallback)(function(){var i=!1,o=0,e=setTimeout(function(){i=!0},1e4),a=function(){s.cancel(),clearTimeout(e)},t=function(){w.d.get(E,{responseType:"blob"}).then(function(e){var t,n,r;e&&e.data&&e.data instanceof Blob?"application/json"===(t=e.data).type?((n=new FileReader).readAsText(t,"utf-8"),n.onload=function(){var e;"string"==typeof n.result?(90002004===(e=JSON.parse(n.result)).code?i?(_(c.src),v(!0),a()):s():90002006===e.code?(_(c.src),v(!0),a()):u(),Object(L.default)("dev_comment_image",{status:"downloadCoverFailed",image_token:c.token?Object(x.a)(c.token):"",reason:n.result})):u()},n.onerror=function(){u()}):(r=URL.createObjectURL(e.data),_(r),a(),c.token&&(D[c.token]=r,Object(L.default)("dev_comment_image",{status:"downloadCoverSuccess",image_token:Object(x.a)(c.token),duration:(new Date).getTime()-o})),f(!0)):u()}).catch(function(e){console.error(e),u()})},s=Object(O.default)(t,1e3,{leading:!0});return-1!==E.indexOf("blob:")||n||(o=(new Date).getTime(),s()),function(){s.cancel(),clearTimeout(e)}},[E,c]);return Object(k.useEffect)(function(){var e=null;return a&&(e=C()),function(){e&&e()}},[]),Object(k.useEffect)(function(){var e=null;return a&&(e=C()),function(){e&&e()}},[a]),Object(k.useEffect)(function(){var e;c.coverSrc&&(e=M(c),_(e))},[c.token]),o===I.a.READY||o===I.a.UPLOADING||o===I.a.LOADING&&(p||m)?S.a.createElement("img",{className:R,src:E,onMouseDown:r,onClick:t,onLoad:i,onError:u}):S.a.createElement("span",{className:N,"data-src":E})}},HjLD:function(e,t,n){"use strict";var r,i;n.d(t,"a",function(){return r}),(i=r=r||{}).Readable="readable",i.Editable="editable"},HmyT:function(e,t,n){"use strict";n.r(t),n.d(t,"jQuery",function(){return r}),n.d(t,"$",function(){return r});var r=n("EVdn");(window.jQuery=window.$=r).expr.cacheLength=1},HnXd:function(e,t,n){e.exports=n("LT9b")},HwUZ:function(e,t,n){"use strict";(e.exports=function(t){var n={},r=this._getOverriddenMethods(this,n);Object.keys(r).forEach(function(e){"function"==typeof r[e]&&(n[e]=t[e],t[e]=r[e])})}).prototype._getOverriddenMethods=function(){throw new Error("Not implemented")}},I2R1:function(e,t,n){n("Dmep"),n("Pkew"),n("UUWy");var r=n("+8zG");e.exports=r.f("iterator")},I2ZF:function(e,t){for(var r=[],n=0;n<256;++n)r[n]=(n+256).toString(16).substr(1);function i(e,t){var n=t||0;return[r[e[n++]],r[e[n++]],r[e[n++]],r[e[n++]],"-",r[e[n++]],r[e[n++]],"-",r[e[n++]],r[e[n++]],"-",r[e[n++]],r[e[n++]],"-",r[e[n++]],r[e[n++]],r[e[n++]],r[e[n++]],r[e[n++]],r[e[n++]]].join("")}e.exports=i},"I4N/":function(e,t,n){"use strict";n.d(t,"b",function(){return o}),n.d(t,"a",function(){return a});var r=n("FnDM"),i=n("AiBH");function o(e){var t=e.source,n=e.isWhole;return t===i.z.DOC?"doc":t===i.z.SHEET?"sheet":n?"full_comment":"part_comment"}function a(e){var t="full_comment"===e||"part_comment"===e;return"doc"===Object(r.f)()?t?i.z.DOC_COMMENT:i.z.DOC:t?i.z.SHEET_COMMENT:i.z.SHEET}},IBWJ:function(e,t,n){e.exports=a;var r=n("meR+"),i=r.trueFunc,o=r.falseFunc;function a(e){var t=e[0],n=e[1]-1;if(n<0&&t<=0)return o;if(-1===t)return function(e){return e<=n};if(0===t)return function(e){return e===n};if(1===t)return n<0?i:function(e){return n<=e};var r=n%t;return r<0&&(r+=t),1<t?function(e){return n<=e&&e%t===r}:(t*=-1,function(e){return e<=n&&e%t===r})}},IDEf:function(e,t,n){"use strict";e.exports=n("FKvE")()?Object.assign:n("9g66")},IESS:function(e,t,n){"use strict";n.d(t,"a",function(){return I});var r=n("QILm"),s=n.n(r),i=n("o0o1"),c=n.n(i),o=n("yXPU"),a=n.n(o),u=n("lwsE"),l=n.n(u),d=n("W8MJ"),p=n.n(d),f=n("Bw5p"),h=n("K9Ia"),g=n("p0ib"),m=n("kERW"),v=n("p0Sj"),y=n("15JJ"),b=n("67Y/"),E=n("ad02"),_=n("0mNj"),C=n("EVj1"),T=n("ucr6"),O=n("VI8A"),k=n("1lbP"),S=n("iP/4"),w=n("5dbN"),I=function(){function r(e){var t=this;l()(this,r),this.props=e,this.rxOp=new k.a,this.fileChange$=new h.a,this.isAllNecessaryDataLoaded$=new h.a,this.afterAnimationFrame=new O.a;var n=this.fileChange$.pipe(Object(v.a)(void 0),Object(y.a)(function(){return t.isAllNecessaryDataLoaded$.pipe(Object(k.b)(function(e){return!0===e}))}));Object(g.a)(n,this.isUrlSearchChanged$).pipe(this.rxOp.takeUntil()).subscribe(function(){return t.scrollToSystemReactionMessage()})}function e(){return t.apply(this,arguments)}var t,n;function i(){return n.apply(this,arguments)}return p()(r,[{key:"scrollToSystemReactionMessage",value:(n=a()(c.a.mark(function e(){var t,n,r,i,o,a;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.getSystemCommentIdReplyId(),n=t.commentId,r=t.replyId,this.removeSystemReactionId(),n&&r)return e.next=5,this.props.scrollToCommentMessageReply({commentId:n,replyId:r},void 0);e.next=6;break;case 5:return e.abrupt("return");case 6:if(null===(i=this.getSystemReactionMessageId()))return e.abrupt("return");e.next=9;break;case 9:if((o=this.props.getCommentMessageMap()).has(i)){e.next=12;break}return e.abrupt("return");case 12:return a=o.get(i),e.next=15,this.props.scrollToCommentMessageReply(a,i);case 15:case"end":return e.stop()}},e,this)})),i)},{key:"destroy",value:function(){this.rxOp.destroy(),this.fileChange$.complete(),this.isAllNecessaryDataLoaded$.complete(),this.afterAnimationFrame.cancel()}},{key:"hasSystemReactionMessage",value:function(){return Boolean(this.getSystemReactionMessageId())}},{key:"shouldHandleSystemReactionMessageId",value:function(e,t){return S.a.isFeed&&"push"===e&&t||!S.a.isFeed&&t?t:null}},{key:"getSystemReactionMessageId",value:function(){var e=Object(C.l)(T.a.location.search),t=e.sourceType,n=e.last_doc_message_id,r=this.shouldHandleSystemReactionMessageId(t,n);return r||null}},{key:"getSystemCommentIdReplyId",value:function(){var e=Object(C.l)(T.a.location.search);return{commentId:e.comment_id,replyId:e.reply_id}}},{key:"removeSystemReactionId",value:(t=a()(c.a.mark(function e(){var t,n,r,i,o,a;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Object(C.l)(T.a.location.search),n=t.last_doc_message_id,r=t.comment_id,i=t.reply_id,o=s()(t,["last_doc_message_id","comment_id","reply_id"]),r&&i)return T.a.replace({search:Object(C.d)(o)}),e.abrupt("return");e.next=4;break;case 4:a=Object(w.locateRoute)().isSlide,this.shouldHandleSystemReactionMessageId(o.sourceType,n)&&!a&&T.a.replace({search:Object(C.d)(o)});case 7:case"end":return e.stop()}},e,this)})),e)},{key:"isUrlSearchChanged$",get:function(){return Object(m.a)(function(e){return T.a.listen(function(){return e()})},function(e,t){return t()}).pipe(Object(v.a)(void 0),Object(b.map)(function(){return Object(f.a)(T.a.location,"pathname","search")}),Object(E.distinctUntilChanged)(function(e,t){return e.pathname!==t.pathname||e.search===t.search}),Object(_.a)(1))}}]),r}()},IFtP:function(e){e.exports=JSON.parse('{"name":"cheerio","version":"1.0.0-rc.2","description":"Tiny, fast, and elegant implementation of core jQuery designed specifically for the server","author":"Matt Mueller <mattmuelle@gmail.com> (mat.io)","license":"MIT","keywords":["htmlparser","jquery","selector","scraper","parser","html"],"repository":{"type":"git","url":"git://github.com/cheeriojs/cheerio.git"},"main":"./index.js","files":["index.js","lib"],"engines":{"node":">= 0.6"},"dependencies":{"css-select":"~1.2.0","dom-serializer":"~0.1.0","entities":"~1.1.1","htmlparser2":"^3.9.1","lodash":"^4.15.0","parse5":"^3.0.1"},"devDependencies":{"benchmark":"^2.1.0","coveralls":"^2.11.9","expect.js":"~0.3.1","istanbul":"^0.4.3","jquery":"^3.0.0","jsdom":"^9.2.1","jshint":"^2.9.2","mocha":"^3.1.2","xyz":"~1.1.0"},"scripts":{"test":"make test"}}')},IOzZ:function(e,t){function n(t,n){return function(e){return null!=e&&(e[t]===n&&(void 0!==n||t in Object(e)))}}e.exports=n},IQA7:function(e,t,n){},"IWB/":function(e,t,n){"use strict";var r=n("YsTz"),i={function:!0,object:!0};e.exports=function(e){return r(e)&&i[typeof e]||!1}},Iabx:function(e,t,n){},Ibh0:function(e,t,n){n("pevS")({target:"Function",proto:!0},{bind:n("6dl6")})},Ibn6:function(e,t,n){"use strict";function r(){var e=!1,t={get passive(){e=!0}};try{document.addEventListener("test",null,t),document.removeEventListener("test",null,t)}catch(e){}return e}t.a=r()},IcLG:function(e,t,n){"use strict";n.d(t,"b",function(){return b}),n.d(t,"a",function(){return E});var r=n("lwsE"),i=n.n(r),o=n("W8MJ"),a=n.n(o),s=n("cDf5"),c=n.n(s),u=n("q1tI"),l=n.n(u),d=n("YWBl"),p=n("7Kxq"),f=n("YNKm"),h=n("F9bh"),g=n("y2sV"),m=n("Nl7c"),v=n("OWch"),y=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":c()(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;0<=s;s--)(i=e[s])&&(a=(o<3?i(a):3<o?i(t,n,a):i(t,n))||a);return 3<o&&a&&Object.defineProperty(t,n,a),a},b="IGNORE_BOLD",E=function(){function t(e){var a=this;i()(this,t),this.editor=e,this.className="Bold",this.aceInitialized=function(e,t){a.init(t.editorInfo)},this.init=function(e){e.commands.registerAceCommand(f.i,function(e,t,n,r){var i=r.source,o=a.toggleAttribute({attribKey:"bold",attribValue:!0});Object(d.a)({action:"bold",op:o?p.g:p.f,source:i})},{statusKey:"bold-true"})},this.aceAttribsToClasses=function(e,t){return"bold"===t.key?["tag:b"]:[]},this.editor=e,this.init(e)}return a()(t,[{key:"toggleAttribute",value:function(e){var t=e.attribKey,n=e.attribValue,r=e.range,i=e.isSpecialSelection,o=e.isAllHasAttrib,a=r.selStart,s=r.selEnd,c=r.attributeManager;return i?(c.setAttributesOnRange(a,s,[[t,o?"":n]]),o):this.editor.toggleAttributeOnSelection(t,r,n)}},{key:"match",value:function(e){return"bold"===e}},{key:"isBoldElement",value:function(e){var t=e.tagName,n=e.getAttribute("style")||"";return"B"===t||"STRONG"===t||/\bfont-weight:\s*bold\b/i.test(n)}},{key:"deserialize",value:function(e){var t=e.node,n=e.deltaSet,r=e.zoneId;return t&&t instanceof HTMLElement&&this.isBoldElement(t)?Object(g.H)(n,r,{bold:"true"}):n}},{key:"serialize",value:function(e){return Object(g.P)(e,{tagAttribute:"bold",wrapTag:g.a.bold})}},{key:"render",value:function(e){var t=e.children;return l.a.createElement(g.w,{style:{fontWeight:"bold"}},t)}}]),t}();y([Object(h.a)()],E.prototype,"toggleAttribute",null),y([v.a,Object(m.b)()],E.prototype,"render",null)},Ioao:function(e,t,n){var c=n("heNW"),u=Math.max;function r(o,a,s){return a=u(void 0===a?o.length-1:a,0),function(){for(var e=arguments,t=-1,n=u(e.length-a,0),r=Array(n);++t<n;)r[t]=e[a+t];t=-1;for(var i=Array(a+1);++t<a;)i[t]=e[t];return i[a]=s(r),c(o,this,i)}}e.exports=r},IqmU:function(e,t,n){n("m/sp")("hasInstance")},IxPp:function(e,t,n){"use strict";n.d(t,"b",function(){return c}),n.d(t,"a",function(){return p});var r=n("mrSG"),i=n("FFOo"),o=n("pugT"),a=n("6blF"),s=n("K9Ia");function c(t,n,r,i){return function(e){return e.lift(new u(t,n,r,i))}}var u=function(){function e(e,t,n,r){this.keySelector=e,this.elementSelector=t,this.durationSelector=n,this.subjectSelector=r}return e.prototype.call=function(e,t){return t.subscribe(new l(e,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))},e}(),l=function(a){function e(e,t,n,r,i){var o=a.call(this,e)||this;return o.keySelector=t,o.elementSelector=n,o.durationSelector=r,o.subjectSelector=i,o.groups=null,o.attemptedToUnsubscribe=!1,o.count=0,o}return r.__extends(e,a),e.prototype._next=function(e){var t;try{t=this.keySelector(e)}catch(e){return void this.error(e)}this._group(e,t)},e.prototype._group=function(e,t){var n,r=this.groups,i=(r=r||(this.groups=new Map)).get(t);if(this.elementSelector)try{n=this.elementSelector(e)}catch(e){this.error(e)}else n=e;if(!i){i=this.subjectSelector?this.subjectSelector():new s.a,r.set(t,i);var o=new p(t,i,this);if(this.destination.next(o),this.durationSelector){var a=void 0;try{a=this.durationSelector(new p(t,i))}catch(e){return void this.error(e)}this.add(a.subscribe(new d(t,i,this)))}}i.closed||i.next(n)},e.prototype._error=function(n){var e=this.groups;e&&(e.forEach(function(e,t){e.error(n)}),e.clear()),this.destination.error(n)},e.prototype._complete=function(){var e=this.groups;e&&(e.forEach(function(e,t){e.complete()}),e.clear()),this.destination.complete()},e.prototype.removeGroup=function(e){this.groups.delete(e)},e.prototype.unsubscribe=function(){this.closed||(this.attemptedToUnsubscribe=!0,0===this.count&&a.prototype.unsubscribe.call(this))},e}(i.a),d=function(i){function e(e,t,n){var r=i.call(this,t)||this;return r.key=e,r.group=t,r.parent=n,r}return r.__extends(e,i),e.prototype._next=function(e){this.complete()},e.prototype._unsubscribe=function(){var e=this,t=e.parent,n=e.key;this.key=this.parent=null,t&&t.removeGroup(n)},e}(i.a),p=function(i){function e(e,t,n){var r=i.call(this)||this;return r.key=e,r.groupSubject=t,r.refCountSubscription=n,r}return r.__extends(e,i),e.prototype._subscribe=function(e){var t=new o.a,n=this,r=n.refCountSubscription,i=n.groupSubject;return r&&!r.closed&&t.add(new f(r)),t.add(i.subscribe(e)),t},e}(a.a),f=function(n){function e(e){var t=n.call(this)||this;return(t.parent=e).count++,t}return r.__extends(e,n),e.prototype.unsubscribe=function(){var e=this.parent;e.closed||this.closed||(n.prototype.unsubscribe.call(this),--e.count,0===e.count&&e.attemptedToUnsubscribe&&e.unsubscribe())},e}(o.a)},J04u:function(e,t,n){n("m/sp")("split")},J6x8:function(e,t,n){e.exports=n("9Mno")},J7eW:function(e,t,n){var r;window,r=function(n,r){return o=[function(e,t){e.exports=n},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r="suite"},function(e,t,n){"use strict";var s=Object.defineProperty;function r(t,n,e){var r=e.configurable,i=e.enumerable,o=e.initializer,a=e.value;return{configurable:r,enumerable:i,get:function(){if(this!==t){var e=o?o.call(this):a;return s(this,n,{configurable:r,enumerable:i,writable:!0,value:e}),e}},set:S(n)}}function i(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return E(r,t)}var o,a,c,u,l,d,p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function f(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function h(n,r,e,t,i){var o={};return Object.keys(t).forEach(function(e){o[e]=t[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=e.slice().reverse().reduce(function(e,t){return t(n,r,e)||e},o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(n,r,o),o=null),o}function g(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var m=Object.defineProperty,v=Object.getOwnPropertyDescriptor,y=Object.getOwnPropertyNames,b=Object.getOwnPropertySymbols;function E(e,t){return function(e){if(e&&e.hasOwnProperty)for(var t=["value","initializer","get","set"],n=0,r=t.length;n<r;n++)if(e.hasOwnProperty(t[n]))return 1}(t[t.length-1])?e.apply(void 0,g(t).concat([[]])):function(){return e.apply(void 0,g(Array.prototype.slice.call(arguments)).concat([t]))}}var _=(a=h((o=function t(){!function(e){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),f(this,"debounceTimeoutIds",a,this),f(this,"throttleTimeoutIds",c,this),f(this,"throttlePreviousTimestamps",u,this),f(this,"throttleTrailingArgs",l,this),f(this,"profileLastRan",d,this)}).prototype,"debounceTimeoutIds",[i],{enumerable:!0,initializer:function(){return{}}}),c=h(o.prototype,"throttleTimeoutIds",[i],{enumerable:!0,initializer:function(){return{}}}),u=h(o.prototype,"throttlePreviousTimestamps",[i],{enumerable:!0,initializer:function(){return{}}}),l=h(o.prototype,"throttleTrailingArgs",[i],{enumerable:!0,initializer:function(){return null}}),d=h(o.prototype,"profileLastRan",[i],{enumerable:!0,initializer:function(){return null}}),o),C="function"==typeof Symbol?Symbol("__core_decorators__"):"__core_decorators__";function T(e){return!1===e.hasOwnProperty(C)&&m(e,C,{value:new _}),e[C]}var O=b?function(e){return y(e).concat(b(e))}:y;function k(t){var n={};return O(t).forEach(function(e){return n[e]=v(t,e)}),n}function S(t){return function(e){return Object.defineProperty(this,t,{configurable:!0,writable:!0,enumerable:!0,value:e}),e}}function w(e,t){return e.bind?e.bind(t):function(){return e.apply(t,arguments)}}var A="object"===("undefined"==typeof console?"undefined":p(console))&&console&&"function"==typeof console.warn?w(console.warn,console):function(){},I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},x=function(e,t,n){return t&&L(e.prototype,t),n&&L(e,n),e};function L(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var R=/^function ([_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*)?(\([^\)]*\))[\s\S]+$/;function N(e,t,n,r){!function(e){if(!(e instanceof N))throw new TypeError("Cannot call a class as a function")}(this),this.parentKlass=e,this.childKlass=t,this.parentDescriptor=n,this.childDescriptor=r}function D(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}x(N,[{key:"_getTopic",value:function(e){return void 0===e?null:"value"in e?e.value:"get"in e?e.get:"set"in e?e.set:void 0}},{key:"_extractTopicSignature",value:function(e){return"function"!==(void 0===e?"undefined":I(e))?this.key:this._extractFunctionSignature(e)}},{key:"_extractFunctionSignature",value:function(e){var t=this;return e.toString().replace(R,function(e){return(1<arguments.length&&void 0!==arguments[1]?arguments[1]:t.key)+arguments[2]})}},{key:"key",get:function(){return this.childDescriptor.key}},{key:"parentNotation",get:function(){return this.parentKlass.constructor.name+"#"+this.parentPropertySignature}},{key:"childNotation",get:function(){return this.childKlass.constructor.name+"#"+this.childPropertySignature}},{key:"parentTopic",get:function(){return this._getTopic(this.parentDescriptor)}},{key:"childTopic",get:function(){return this._getTopic(this.childDescriptor)}},{key:"parentPropertySignature",get:function(){return this._extractTopicSignature(this.parentTopic)}},{key:"childPropertySignature",get:function(){return this._extractTopicSignature(this.childTopic)}}]),x(N,[{key:"assert",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"";!0!==e&&this.error("{child} does not properly override {parent}"+t)}},{key:"error",value:function(e){var t=this;throw e=e.replace("{parent}",function(e){return t.parentNotation}).replace("{child}",function(e){return t.childNotation}),new SyntaxError(e)}}]),Object.assign,Object.assign,Object.assign;var M=Object.defineProperty,P=Object.getPrototypeOf,j=void 0;function F(t,n,e){var r=e.value,i=e.configurable,o=e.enumerable;if("function"!=typeof r)throw new SyntaxError("@autobind can only be used on functions, not: "+r);var a=t.constructor;return{configurable:i,enumerable:o,get:function(){if(this===t)return r;if(this.constructor!==a&&P(this).constructor===a)return r;if(this.constructor!==a&&n in this.constructor.prototype)return function(e,t){if("undefined"==typeof WeakMap)throw new Error("Using @autobind on "+t.name+"() requires WeakMap support due to its use of super."+t.name+"()\n      See https://github.com/jayphelps/core-decorators.js/issues/20");!1===(j=j||new WeakMap).has(e)&&j.set(e,new WeakMap);var n=j.get(e);return!1===n.has(t)&&n.set(t,w(t,e)),n.get(t)}(this,r);var e=w(r,this);return M(this,n,{configurable:!0,writable:!0,enumerable:!1,value:e}),e},set:S(n)}}function B(e){return(1===e.length?function(e){for(var t=k(e.prototype),n=O(t),r=0,i=n.length;r<i;r++){var o=n[r],a=t[o];"function"==typeof a.value&&"constructor"!==o&&M(e.prototype,o,F(e.prototype,o,a))}}:F).apply(void 0,D(e))}function U(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(){return B(arguments)}:B(t)}Object.assign,Object.assign,Object.defineProperty,Object.defineProperty,Object.getPrototypeOf,Object.assign;console.time&&console.time.bind(console),console.timeEnd&&console.timeEnd.bind(console),Object.assign,Object.getPrototypeOf,Object.getOwnPropertyDescriptor;var H=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},z=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},V=(console,{profile:console.profile?w(console.profile,console):function(){},profileEnd:console.profileEnd?w(console.profileEnd,console):function(){},warn:A});function K(e,t,n,r){var i=z(r,3),o=i[0],a=void 0===o?null:o,s=i[1],c=void 0!==s&&s,u=i[2],l=void 0===u?V:u;if(!W.__enabled)return W.__warned||(l.warn("console.profile is not supported. All @profile decorators are disabled."),W.__warned=!0),n;var d=n.value;if(null===a&&(a=e.constructor.name+"."+t),"function"!=typeof d)throw new SyntaxError("@profile can only be used on functions, not: "+d);return H({},n,{value:function(){var e=Date.now(),t=T(this);(!0===c&&!t.profileLastRan||!1===c||"number"==typeof c&&e-t.profileLastRan>c||"function"==typeof c&&c.apply(this,arguments))&&(l.profile(a),t.profileLastRan=e);try{return d.apply(this,arguments)}finally{l.profileEnd(a)}}})}function W(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return E(K,t)}W.__enabled=!!console.profile,W.__warned=!1,Object.defineProperty,Object.getOwnPropertyDescriptor,n.d(t,"a",function(){return U})},function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return i});var r=function(e){return void 0===e},i=function(e){return e.stopPropagation()}},function(e,t,n){"use strict";var r;n.d(t,"e",function(){return i}),n.d(t,"c",function(){return o}),n.d(t,"d",function(){return a}),n.d(t,"b",function(){return s}),n.d(t,"a",function(){return c}),n.d(t,"f",function(){return u}),n.d(t,"g",function(){return l});var i=["THUMBSUP","OK","MUSCLE","BLUSH","APPLAUSE","HEART"],o=["OK","THUMBSUP","HEART","APPLAUSE","BLUSH","MUSCLE","JIAYI","GLANCE","CUCUMBER","FINGERHEART","FACEPALM","CRY","LOVE","WITTY","FISTBUMP","SLIGHT","LAUGH","PARTY","CLAP","SMIRK","TOASTED","DULL","BOMB","EYESCLOSED","INNOCENTSMILE","PRAISE","LOL","SLAP","PROUD","DULLSTARE","ROSE","SPITBLOOD","YEAH","SMILE","EATING","SMOOCH","SMART","SILENT","SHY","TONGUE","BEER","BLACKFACE","BEAR","DIZZY","YAWN","DROOL","SCOWL","HAUGHTY","NOSEPICK","SOB","ANGRY","SLEEP","WINK","SHOCKED","DROWSY","WHAT","SHOWOFF","CHUCKLE","PETRIFIED","THINKING","WHIMPER","SHHH","SMUG","ERROR","SICK","TRICK","CRAZY","TEARS","MONEY","KISS","TERROR","JOYFUL","BLUBBER","HUSKY","THANKS","LIPS","ENOUGH","WRONGED","OBSESSED","LOOKDOWN","WAVE","DONNOTGO","HEADSET","HUG","SKULL","BETRAYED","SWEAT","COMFORT","FROWN","SPEECHLESS","XBLUSH","EMBARRASSED","TEASE","BIGKISS","PUKE","WOW","HAMMER","STRIVE","RAINBOWPUKE","WAIL","HIGHFIVE","UPPERLEFT","SHAKE","SALUTE","DONE","18X","CLEAVER","HEARTBROKEN","POOP","GIFT","CAKE"],a={SMILE:"1.png",DROOL:"2.png",SCOWL:"3.png",HAUGHTY:"4.png",NOSEPICK:"5.png",SOB:"6.png",ANGRY:"7.png",BLUSH:"8.png",SLEEP:"9.png",SHY:"10.png",WINK:"11.png",DIZZY:"12.png",TOASTED:"13.png",SILENT:"14.png",SMART:"15.png",ATTENTION:"16.png",WITTY:"17.png",YEAH:"18.png",FACEPALM:"19.png",SLAP:"20.png",LAUGH:"21.png",YAWN:"22.png",SHOCKED:"23.png",LOVE:"24.png",DROWSY:"25.png",WHAT:"26.png",CRY:"27.png",CLAP:"28.png",SHOWOFF:"29.png",CHUCKLE:"30.png",PETRIFIED:"31.png",THINKING:"32.png",SPITBLOOD:"33.png",WHIMPER:"34.png",SHHH:"35.png",SMUG:"36.png",ERROR:"37.png",LOL:"38.png",SICK:"39.png",SMIRK:"40.png",PROUD:"41.png",TRICK:"42.png",CRAZY:"43.png",TEARS:"44.png",MONEY:"45.png",KISS:"46.png",TERROR:"47.png",JOYFUL:"48.png",BLUBBER:"49.png",HUSKY:"50.png",FOLLOWME:"51.png",THUMBSUP:"52.png",APPLAUSE:"53.png",THANKS:"54.png",MUSCLE:"55.png",OK:{img:"56.png",version:3},HEART:"57.png",LIPS:"58.png",DETERGENT:"59.png",AWESOME:"60.png",ROSE:"61.png",CUCUMBER:"62.png",BEER:"63.png",ENOUGH:"64.png",WRONGED:"65.png",OBSESSED:"66.png",LOOKDOWN:"67.png",SMOOCH:"68.png",WAVE:"69.png",DONNOTGO:"70.png",HEADSET:"71.png",HUG:"72.png",DULLSTARE:"73.png",INNOCENTSMILE:"74.png",TONGUE:"75.png",DULL:"76.png",GLANCE:"77.png",SLIGHT:"78.png",BEAR:"79.png",SKULL:"80.png",BLACKFACE:"81.png",EATING:"82.png",BETRAYED:"83.png",SWEAT:"84.png",COMFORT:"85.png",FROWN:"86.png",SPEECHLESS:"87.png",XBLUSH:"88.png",EMBARRASSED:"89.png",TEASE:"90.png",PRAISE:"91.png",BIGKISS:"92.png",PUKE:"93.png",WOW:"94.png",HAMMER:"95.png",STRIVE:"96.png",RAINBOWPUKE:"97.png",WAIL:"98.png",FINGERHEART:"99.png",FISTBUMP:"100.png",HIGHFIVE:"101.png",UPPERLEFT:"102.png",SHAKE:"103.png",SALUTE:"104.png","18X":"105.png",CLEAVER:"106.png",JIAYI:"107.png",WELLDONE:"108.png",GOODJOB:"109.png",HEARTBROKEN:"110.png",POOP:"111.png",GIFT:"112.png",CAKE:"113.png",PARTY:"114.png",EYESCLOSED:"115.png",BOMB:"116.png",DONE:{img:"117.png",version:2}},s=5,c=6,u={ON_DEFAULT:0,ON_BUSINESS:1,ON_LEAVE:2,ON_MEETING:3},l=((r={})[u.ON_DEFAULT]="sd-status-default",r[u.ON_BUSINESS]="sd-status-business-trip",r[u.ON_LEAVE]="sd-status-vacation",r[u.ON_MEETING]="sd-status-meeting",r)},function(e,t,n){"use strict";var r=n(18),i=n(0),o=n.n(i),a=n(1);function s(e){var t=e.name,n=e.value,r=e.target,i=e.link;return i?o.a.createElement("div",{className:a.a+"-profile-item"},o.a.createElement("span",{className:a.a+"-profile-item-name"},t),o.a.createElement("a",{className:a.a+"-profile-item-link",href:i,target:r},n)):null}var c=n(3);function u(e){var t=e.name,n=e.value,r=e.onClick;return!n||Object(c.a)(r)?null:o.a.createElement("div",{className:a.a+"-profile-item"},o.a.createElement("span",{className:a.a+"-profile-item-name"},t),o.a.createElement("span",{className:a.a+"-profile-item-link",onClick:r},n))}function l(e){var t=e.name,n=e.value;return n?o.a.createElement("div",{className:a.a+"-profile-item"},o.a.createElement("span",{className:a.a+"-profile-item-name"},t),o.a.createElement("span",{className:a.a+"-profile-item-value"},n)):null}var d=n(19);n.d(t,"a",function(){return r.a}),n.d(t,"b",function(){return s}),n.d(t,"c",function(){return u}),n.d(t,"d",function(){return l}),n.d(t,"e",function(){return d.a})},function(e,t,n){"use strict";var o=n(13),r=(i.prototype.buildPeopleUrl=function(e){return"https://people.bytedance.net/user/"+e},i.prototype.isSelf=function(e,t){return e===t},i.prototype.isByteDanceTenant=function(e){return"1"===e},i.prototype.isCommonTenant=function(e,t){return"0"!==e&&e===t},i.prototype.showChat=function(e,t,n){return!n&&(e||t)},i.prototype.showCity=function(e,t){return!!t&&e!==t},i.prototype.showTenantName=function(e){return void 0===e&&(e=!1),e},i.prototype.showMessageInput=function(e,t,n){return e||t||n},i.prototype.showMore=function(e,t,n){return e&&this.isByteDanceTenant(t)&&!!n},i.prototype.showSecretChat=function(e,t,n,r,i){return!(!e||t||n||!r&&!i)},i.prototype.showVideoChat=function(e,t,n,r,i){return!(o.a.isLinux||!e||t||n||!r&&!i)},i.prototype.showVoiceChat=function(e,t,n,r,i){return!(!e||t||n||!r&&!i)},new i);function i(){}t.a=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i,o=n(29),a={},s="zh-CN",c=function(e,t,n){n=n||s;var r=a[e],i=r&&r[n];return i?new o.default(i,n).format(t):""};c.setLocale=function(e){s=e},c.init=function(e,t){void 0===t&&(t=""),t&&(s=t),a=e},(i=r=r||{})["en-US"]="en-US",i["zh-CN"]="zh-CN",i["ja-JP"]="ja-JP",c.localeCode=r,t.default=c},function(e,t,n){var r;!function(){"use strict";var a={}.hasOwnProperty;function s(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var r=typeof n;if("string"===r||"number"===r)e.push(n);else if(Array.isArray(n)&&n.length){var i=s.apply(null,n);i&&e.push(i)}else if("object"===r)for(var o in n)a.call(n,o)&&n[o]&&e.push(o)}}return e.join(" ")}e.exports?(s.default=s,e.exports=s):void 0===(r=function(){return s}.apply(t,[]))||(e.exports=r)}()},function(e,t,n){"use strict";var s=n(4),r=(i.prototype.getReactionIcon=function(e,t){var n,r=s.d[e];return r?"https://"+(t||"s3.pstatp.com")+"/ee/lark-weekly-data/internal/"+(n="string"==typeof r?{img:r,version:1}:r).img+"?v="+n.version:""},i.prototype.getStatusIcon=function(e){return s.g[e]},new i);function i(){var a=this;this.preloadReactionIcon=function(n){var r=0,i=s.c.length,o=function(){if(!(i<=r)){for(var e=Math.min(r+10,i),t=r;t<e;t++)(new Image).src=a.getReactionIcon(s.c[t],n);r+=10,setTimeout(o,200)}};o()}}t.a=r},function(e,t,n){"use strict";n.d(t,"a",function(){return s}),n.d(t,"b",function(){return c}),n.d(t,"c",function(){return u}),n.d(t,"e",function(){return l}),n.d(t,"d",function(){return d});var r=n(23),i=n(25),o=n(26),a=n(9),s=r.a,c=i.a,u=o.a,l=a.a.preloadReactionIcon,d=a.a.getReactionIcon},function(e,t,n){"use strict";n.d(t,"a",function(){return b});var r,i,o=n(0),a=n.n(o),s=n(8),c=n.n(s),u=n(9),l=n(4),d=n(24),p=n.n(d),f=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),h=function(){return(h=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},g=(i=o.Component,f(m,i),m.prototype.render=function(){var e=this.props,t=e.className,n=e.icon,r=e.onClick,i=c()("suite-reactionIcon",t);return a.a.createElement("img",{className:i,src:n||p.a,onClick:r})},m);function m(){return null!==i&&i.apply(this,arguments)||this}var v,y,b=(v=g,y=o.Component,f(E,y),E.prototype.componentDidMount=function(){l.c.includes(this.reactionKey)},E.prototype.componentWillReceiveProps=function(e){var t,n=e.reactionKey,r=e.customCDNDomain;this.props.reactionKey!==n&&l.c.includes(n)&&(t=u.a.getReactionIcon(n,r),this.setState({icon:t}))},E.prototype.componentWillUnmount=function(){this.unmount=!0},E.prototype.render=function(){var e=this.state.icon,t=Object.assign({},this.props,{icon:e});return a.a.createElement(v,h({},t))},E);function E(e){var t=y.call(this,e)||this,n=e.reactionKey,r=e.customCDNDomain;t.reactionKey=n;var i=u.a.getReactionIcon(t.reactionKey,r);return t.state={icon:i},t.unmount=!1,t}},function(e,f,h){"use strict";(function(r){var i,e,t=h(2),n=h(0),o=h.n(n),a=h(3),s=h(1),c=(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),u=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;0<=s;s--)(i=e[s])&&(a=(o<3?i(a):3<o?i(t,n,a):i(t,n))||a);return 3<o&&a&&Object.defineProperty(t,n,a),a},l=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},d=(e=n.PureComponent,c(p,e),p.prototype.render=function(){var e=this.props,t=e.show,n=e.type;return t?o.a.createElement("div",{className:s.a+"-profile-icon-button",onClick:this.handleClick},o.a.createElement("div",{className:s.a+"-profile-icon-button-tip"},function(){switch(n){case"message-chat":return r("SuiteDesign_Legacy_StartChat");case"secret-chat":return r("SuiteDesign_Legacy_SecretCreate");case"voice-chat":return r("SuiteDesign_Legacy_VoiceCallName");case"video-chat":return r("SuiteDesign_Legacy_StartCall");case"deactivated":return r("SuiteDesign_Legacy_MessageHostory");default:return""}}()),o.a.createElement("i",{className:s.a+"-star-icon sd-"+n})):null},p.prototype.handleClick=function(e){Object(a.b)(e);var t=this.props,n=t.onClick,r=t.userId;Object(a.a)(n)||n(r)},u([t.a,l("design:type",Function),l("design:paramtypes",[Object]),l("design:returntype",void 0)],p.prototype,"handleClick",null),p);function p(){return null!==e&&e.apply(this,arguments)||this}f.a=d}).call(this,h(7).default)},function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r,i,o,a,s,c,u=(o="mac68k"===(r=navigator.platform.toLowerCase())||"macppc"===r||"macintosh"===r||"macintel"===r,{isLinux:!(i="win32"===r||"windows"===r)&&!o,isMac:o,isWindows:i,isAndroid:s=-1<(a=navigator.userAgent).indexOf("Android")||-1<a.indexOf("Adr"),isiOS:c=!!a.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),isMobile:s||c})},function(e,t){e.exports=r},function(e,t,n){"use strict";var r,i,o=n(2),a=n(0),s=n.n(a),c=n(14),u=n.n(c),l=n(13),d=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),p=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;0<=s;s--)(i=e[s])&&(a=(o<3?i(a):3<o?i(t,n,a):i(t,n))||a);return 3<o&&a&&Object.defineProperty(t,n,a),a},f=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},h=(i=a.Component,d(g,i),g.prototype.componentWillUnmount=function(){this.unmount=!0},g.prototype.showContent=function(){var e=this;l.a.isMobile||(this.targetRect=this.target.getBoundingClientRect(),this.showContentTimeout=setTimeout(function(){e.unmount||e.setState({show:!0})},this.props.openDelay))},g.prototype.hideContent=function(){clearTimeout(this.showContentTimeout),this.setState({show:!1})},g.prototype.render=function(){var e=this.props,t=e.className,n=e.offset,r=e.zIndex,i=e.children,o=e.content,a=e.getPortalContainer;return[s.a.cloneElement(i,{key:"tipChildren",ref:this.handleRef,onMouseEnter:this.showContent,onMouseLeave:this.hideContent}),this.state.show&&s.a.createElement(v,{key:"tipContent",offset:n,zIndex:r,getPortalContainer:a,targetRect:this.targetRect},s.a.createElement("div",{className:"suite-tipContent "+t},o))]},p([o.a,f("design:type",Function),f("design:paramtypes",[]),f("design:returntype",void 0)],g.prototype,"showContent",null),p([o.a,f("design:type",Function),f("design:paramtypes",[]),f("design:returntype",void 0)],g.prototype,"hideContent",null),g);function g(){var t=null!==i&&i.apply(this,arguments)||this;return t.unmount=!1,t.state={show:!1},t.handleRef=function(e){e&&(t.target=e)},t}t.a=h;var m,v=(m=a.Component,d(y,m),y.prototype.setContentPosition=function(){var e=this.portalRect,t=this.contentRect,n=this.props,r=n.targetRect,i=void 0===r?{top:0,left:0,width:0,height:0}:r,o=n.offset,a=void 0===o?{x:0,y:0}:o,s=i.top-e.top-t.height-a.y,c=i.left-e.left-t.width/2+i.width/2+a.x;s<0&&(s=i.top-e.top+i.height+a.y);var u=this.portalContainer.clientWidth-t.width;u<c&&(c=u),c<0&&(c=0),this.portalContent.style.top=s+"px",this.portalContent.style.left=c+"px"},y.prototype.render=function(){var e=this.props,t=e.children,n=e.zIndex,r=void 0===n?1:n;return u.a.createPortal(s.a.createElement("div",{className:"suite-portal",ref:this.handleRef,style:{zIndex:r}},s.a.createElement("div",{className:"suite-portalContent",ref:this.handleContentRef},t)),this.portalContainer)},y);function y(e){var r=m.call(this,e)||this;r.portalRect={top:0,left:0,width:0,height:0},r.contentRect={width:0,height:0},r.handleRef=function(e){var t;e&&(t=(r.portal=e).getBoundingClientRect(),r.portalRect=t,r.setContentPosition())},r.handleContentRef=function(e){var t,n;e&&(t=(r.portalContent=e).clientWidth,n=e.clientHeight,r.contentRect={width:t,height:n})},r.portalContainer=document.body;var t=e.getPortalContainer;return t&&(r.portalContainer=t()),r}},function(e,t,n){"use strict";t.extend=function(e){for(var t,n,r=Array.prototype.slice.call(arguments,1),i=0,o=r.length;i<o;i+=1)if(t=r[i])for(n in t)a.call(t,n)&&(e[n]=t[n]);return e};var a=Object.prototype.hasOwnProperty;t.hop=a},function(e,d,p){"use strict";(function(t){var r,n,g=p(20),e=p(2),i=p(0),m=p.n(i),o=p(14),v=p(1),a=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),y=function(){return(y=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},s=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;0<=s;s--)(i=e[s])&&(a=(o<3?i(a):3<o?i(t,n,a):i(t,n))||a);return 3<o&&a&&Object.defineProperty(t,n,a),a},c=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},b=function(e,t){var n={};for(i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]]);return n},u=(n=i.Component,a(l,n),l.prototype.componentWillMount=function(){var e=this.props.locale;void 0===e&&(e="zh-CN"),t.setLocale(e)},l.prototype.componentDidMount=function(){var e,t=this,n=this.props,r=n.isAdaptHeight,i=n.onEveryUserShow,o=this.state.currentIndex;r&&((e=this.setWrapperHeightByIndex(0))&&i&&i(e,o),setTimeout(function(){t.setState({hasReady:!0})},300))},l.prototype.componentWillReceiveProps=function(e){var t;e.data.length>this.props.data.length&&(t=this.state.currentIndex,this.setState({currentIndex:t+1}))},l.prototype.componentDidUpdate=function(e,t){var n,r=this.props,i=r.isAdaptHeight,o=r.onEveryUserShow,a=this.state.currentIndex;!i||t.currentIndex===a||(n=this.setWrapperHeightByIndex(a))&&o&&o(n,a)},l.prototype.render=function(){var n=this,e=this.state,t=e.currentIndex,r=e.wrapperHeight,i=e.hasReady,o=this.props,a=o.className,s=o.currentUser,c=o.data,u=o.isAdaptHeight,l=b(o,["className","currentUser","data","isAdaptHeight"]),d=c.map(function(e,t){return m.a.createElement(g.a,y({ref:"userCard"+t,cardUser:e,currentUser:s},l,{onLeaderClick:n.showSuperior,key:e.userId,isAdaptHeight:u}))}),p={left:320*-t+"px"},f=v.a+"-profile-modal";u&&(f+=" "+v.a+"-profile-modal--adapt-height",i&&(f+=" "+v.a+"-profile-modal--adapt-height-ready")),a&&(f+=" "+a);var h={};return u&&(h.height=r),m.a.createElement("div",{className:f,style:h},this.showBackButton()&&m.a.createElement("span",{className:v.a+"-profile-back",onClick:this.showPrevious},m.a.createElement("i",{className:"sd-back1"})),m.a.createElement("div",{className:v.a+"-profile-list",style:p},d))},l.prototype.showBackButton=function(){return 0<this.state.currentIndex},l.prototype.showPrevious=function(){var e=this.state.currentIndex;this.setState({currentIndex:e-1})},l.prototype.showSuperior=function(e,t){var n=this.state.currentIndex,r=this.props,i=r.data,o=r.onLeaderClick;n+1===i.length?o(e,t):this.setState({currentIndex:n+1})},l.prototype.setWrapperHeightByIndex=function(e){var t=Object(o.findDOMNode)(this.refs["userCard"+e]);if(t&&t instanceof HTMLDivElement){var n=t.offsetHeight;return this.setState({wrapperHeight:n}),n}},s([e.a,c("design:type",Function),c("design:paramtypes",[]),c("design:returntype",void 0)],l.prototype,"showPrevious",null),s([e.a,c("design:type",Function),c("design:paramtypes",[String,Boolean]),c("design:returntype",void 0)],l.prototype,"showSuperior",null),l);function l(e){var t=n.call(this,e)||this;return t.state={currentIndex:0,wrapperHeight:0,hasReady:!e.isAdaptHeight},t}d.a=u}).call(this,p(7).default)},function(e,f,h){"use strict";(function(r){var i,o,e=h(2),t=h(0),a=h.n(t),s=h(3),c=h(1),n=(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),u=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;0<=s;s--)(i=e[s])&&(a=(o<3?i(a):3<o?i(t,n,a):i(t,n))||a);return 3<o&&a&&Object.defineProperty(t,n,a),a},l=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},d=(o=t.Component,n(p,o),p.prototype.saveAlias=function(){var e=this.props,t=e.alias,n=e.onSaveAlias,r=e.userId,i=this.state.alias;this.setState({canEditAlias:!1},function(){t!==i&&n&&n(r,i)})},p.prototype.render=function(){var e=this.props,t=e.alias,n=e.isEditAliasEnabled;return!e.isSelf&&(t||n)?a.a.createElement("div",{className:c.a+"-profile-item"},a.a.createElement("span",{className:c.a+"-profile-item-name"},r("SuiteDesign_Legacy_PersoncardAlias")),this.renderAlias()):null},p.prototype.renderAlias=function(){var e=this.props.isEditAliasEnabled,t=this.state,n=t.alias;return t.canEditAlias?a.a.createElement("span",{className:c.a+"-profile-item-input",onClick:s.b},a.a.createElement("input",{autoFocus:!0,className:c.a+"-profile-item-input-content",maxLength:32,placeholder:r("SuiteDesign_Legacy_EditAlias"),value:n,onChange:this.handleAliasChange,onKeyDown:this.handleAliasEnter}),a.a.createElement("i",{className:"sd-status-clear",onClick:this.handleAliasClear})):a.a.createElement("span",{className:c.a+"-profile-item-"+(n?"value":"input"),onClick:s.b},n||r("SuiteDesign_Legacy_EditAlias"),e&&a.a.createElement("i",{className:"sd-edit",onClick:this.handleAliasEdit}))},p.prototype.handleAliasChange=function(e){var t=e.target.value;this.setState({alias:t})},p.prototype.handleAliasClear=function(){this.setState({alias:""})},p.prototype.handleAliasEdit=function(){this.props.isEditAliasEnabled&&this.setState({canEditAlias:!0})},p.prototype.handleAliasEnter=function(e){13===e.keyCode&&this.saveAlias()},u([e.a,l("design:type",Function),l("design:paramtypes",[Object]),l("design:returntype",void 0)],p.prototype,"handleAliasChange",null),u([e.a,l("design:type",Function),l("design:paramtypes",[]),l("design:returntype",void 0)],p.prototype,"handleAliasClear",null),u([e.a,l("design:type",Function),l("design:paramtypes",[]),l("design:returntype",void 0)],p.prototype,"handleAliasEdit",null),u([e.a,l("design:type",Function),l("design:paramtypes",[Object]),l("design:returntype",void 0)],p.prototype,"handleAliasEnter",null),p);function p(e){var t=o.call(this,e)||this,n=Object(s.a)(e.alias)?"":e.alias;return t.state={alias:n,canEditAlias:!1},t}f.a=d}).call(this,h(7).default)},function(e,m,v){"use strict";(function(a){var r,o,e=v(2),t=v(0),s=v.n(t),c=v(3),u=v(1),n=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;0<=s;s--)(i=e[s])&&(a=(o<3?i(a):3<o?i(t,n,a):i(t,n))||a);return 3<o&&a&&Object.defineProperty(t,n,a),a},l=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},d={0:"default",1:"business-trip",2:"vacation",3:"meeting"},p={default:0,"business-trip":1,vacation:2,meeting:3},f=[{i18nKey:"SuiteDesign_Legacy_DescriptionDefaultBusiness",key:"business-trip"},{i18nKey:"SuiteDesign_Legacy_MineStatusLeave",key:"vacation"},{i18nKey:"SuiteDesign_Legacy_MineStatusMeeting",key:"meeting"}],h=(o=t.Component,n(g,o),g.prototype.saveWorkStatus=function(){var a=this;this.setState({canEditStatus:!1,canEditType:!1},function(){var e=a.props,t=e.status,n=e.statusType,r=a.state,i=r.status,o=r.statusType;t===i&&o===n||a.props.onSaveStatus(i,o)})},g.prototype.render=function(){if(!this.shouldShowWorkStatus())return null;var e=this.state.statusType,t=d[e];return s.a.createElement("div",{className:u.a+"-profile-item"},s.a.createElement("span",{className:u.a+"-profile-item-name"},a("SuiteDesign_Legacy_MinePersonalinformationStatus")),s.a.createElement("div",{className:u.a+"-profile-item-status",onClick:c.b},s.a.createElement("i",{className:"sd-status-"+t+" "+u.a+"-status-icon-"+t+" "+u.a+"-now-status",onClick:this.handleStatusTypeClick}),this.renderStatusList(),this.renderWorkStatus()))},g.prototype.shouldShowWorkStatus=function(){var e=this.props,t=e.isEditWorkStatusEnabled,n=e.isSelf,r=e.onSaveStatus,i=this.state,o=i.status,a=i.statusType;return!(Object(c.a)(r)||(!n||!t)&&(Object(c.a)(a)||!t&&(Object(c.a)(o)||""===o)||(Object(c.a)(o)||""===o)&&0===a))},g.prototype.renderStatusList=function(){var i=this;if(!this.state.canEditType)return null;var e=f.map(function(e,t){var n=e.i18nKey,r=e.key;return s.a.createElement("div",{className:u.a+"-status-item",key:t,onClick:i.handleStatusTypeChange.bind(i,r,n)},s.a.createElement("i",{className:"sd-status-"+r+" "+u.a+"-status-icon "+u.a+"-status-icon-"+r}),s.a.createElement("span",{className:"text "+u.a+"-status-icon-"+r+" "+u.a+"-status-text"},a(n)))});return s.a.createElement("div",{className:u.a+"-status-list"},e)},g.prototype.renderWorkStatus=function(){var e=this.props,t=e.isEditWorkStatusEnabled,n=e.isSelf,r=this.state,i=r.canEditStatus,o=r.status;return i?s.a.createElement("span",{className:u.a+"-profile-item-input",onClick:c.b},s.a.createElement("input",{autoFocus:!0,className:u.a+"-profile-item-input-content",placeholder:a("SuiteDesign_Legacy_MineStatusUpdateInputHint"),value:o,maxLength:10,onChange:this.handleStatusChange,onKeyDown:this.handleStatusEnter}),s.a.createElement("i",{className:"sd-status-clear",onClick:this.handleClearWorkStatus})):o?s.a.createElement("span",{className:u.a+"-profile-item-value"},o,t&&n&&s.a.createElement("i",{className:"sd-edit",onClick:this.handleEditStatus})):s.a.createElement("span",{className:u.a+"-profile-item-input",onClick:this.handleEditStatus},a("SuiteDesign_Legacy_MineStatusUpdateInputHint"))},g.prototype.handleStatusTypeClick=function(e){Object(c.b)(e);var t=this.props,n=t.isEditWorkStatusEnabled,r=t.isSelf;n&&r&&this.setState({canEditStatus:!1,canEditType:!0})},g.prototype.handleStatusTypeChange=function(e,t){this.setState({canEditStatus:!0,canEditType:!1,status:a(t),statusType:p[e]})},g.prototype.handleStatusChange=function(e){var t=e.target.value;this.setState({status:t})},g.prototype.handleEditStatus=function(e){Object(c.b)(e),this.props.isEditWorkStatusEnabled&&this.setState({canEditStatus:!0,canEditType:!1})},g.prototype.handleStatusEnter=function(e){13===e.keyCode&&this.saveWorkStatus()},g.prototype.handleClearWorkStatus=function(){this.setState({status:"",statusType:0})},i([e.a,l("design:type",Function),l("design:paramtypes",[Object]),l("design:returntype",void 0)],g.prototype,"handleStatusTypeClick",null),i([e.a,l("design:type",Function),l("design:paramtypes",[String,String]),l("design:returntype",void 0)],g.prototype,"handleStatusTypeChange",null),i([e.a,l("design:type",Function),l("design:paramtypes",[Object]),l("design:returntype",void 0)],g.prototype,"handleStatusChange",null),i([e.a,l("design:type",Function),l("design:paramtypes",[Object]),l("design:returntype",void 0)],g.prototype,"handleEditStatus",null),i([e.a,l("design:type",Function),l("design:paramtypes",[Object]),l("design:returntype",void 0)],g.prototype,"handleStatusEnter",null),i([e.a,l("design:type",Function),l("design:paramtypes",[]),l("design:returntype",void 0)],g.prototype,"handleClearWorkStatus",null),g);function g(e){var t=o.call(this,e)||this,n=t.props,r=n.status,i=n.statusType;return t.state={canEditStatus:!1,canEditType:!1,status:r,statusType:i},t}m.a=h}).call(this,v(7).default)},function(e,p,f){"use strict";(function(x){f.d(p,"a",function(){return c});var r,m,e=f(8),u=f.n(e),h=f(21),l=f(12),L=f(5),g=f(22),t=f(2),n=f(0),R=f.n(n),a=f(3),N=f(1),D=f(6),i=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;0<=s;s--)(i=e[s])&&(a=(o<3?i(a):3<o?i(t,n,a):i(t,n))||a);return 3<o&&a&&Object.defineProperty(t,n,a),a},s=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},c=(m=n.Component,i(d,m),d.prototype.componentDidMount=function(){this.isMount=!0},d.prototype.componentWillUnmount=function(){this.isMount=!1},d.prototype.render=function(){var e,t=this.props.cardUser.isResigned,n=this.state.shrink,r=u()(N.a+"-profile",((e={})[N.a+"-profile-shrink"]=n,e));return t?R.a.createElement("div",{className:r,onClick:this.handleSave},R.a.createElement("div",{className:N.a+"-profile-content"},this.renderProfileHeader())):R.a.createElement("div",{className:r,onClick:this.handleSave},R.a.createElement("div",{className:N.a+"-profile-content"},this.renderProfileHeader(),this.renderProfileMain()),this.renderProfileFooter())},d.prototype.renderProfileHeader=function(){var e,t=this.isCommonTenant,n=this.props.cardUser,r=n.avatar,i=n.isResigned,o=n.leaveText,a=n.name,s=n.tenant,c=u()(N.a+"-profile-header-wrapper",((e={})[N.a+"-profile-header-wrapper-enlarge"]=this.isAvatarEnlarge(),e));return R.a.createElement("div",{className:c,onClick:this.handleAvatarClick},R.a.createElement("div",{className:N.a+"-profile-header"},R.a.createElement("div",{className:N.a+"-header-mask"}),R.a.createElement("div",{className:N.a+"-header-background",style:{backgroundImage:"url("+r+")"}}),R.a.createElement("div",{className:N.a+"-profile-header-content"},R.a.createElement("div",{className:N.a+"-name-wrapper"},R.a.createElement("h3",{className:N.a+"-profile-name"},a),!t&&s&&R.a.createElement("h4",{className:N.a+"-profile-tenant"},s)),R.a.createElement("div",{className:N.a+"-status-container"},t&&o&&R.a.createElement("span",{className:N.a+"-onleave-info-other onleave"},o),i&&R.a.createElement("span",{className:N.a+"-profile-user-resigned onleave"},x("SuiteDesign_Legacy_DeactivatedLabel"))),this.renderStartButtons())))},d.prototype.renderStartButtons=function(){var e=this.props,t=e.cardUser,n=e.onChat,r=e.onSecretChat,i=e.onVoiceChat,o=e.onVideoChat,a=e.onViewHistory,s=t.isResigned,c=t.userId,u=t.customChatButton;return u?R.a.createElement("div",{className:N.a+"-button-wrapper"},u):R.a.createElement("div",{className:N.a+"-button-wrapper"},R.a.createElement(l.a,{onClick:n,show:this.showChat,type:"message-chat",userId:c}),R.a.createElement(l.a,{onClick:r,show:this.showSecretChat,type:"secret-chat",userId:c}),R.a.createElement(l.a,{onClick:i,show:this.showVoiceChat,type:"voice-chat",userId:c}),R.a.createElement(l.a,{onClick:o,show:this.showVideoChat,type:"video-chat",userId:c}),R.a.createElement(l.a,{onClick:a,show:s,type:"deactivated",userId:c}))},d.prototype.renderProfileMain=function(){var e=this.isCommonTenant,t=this.showTenantName,n=this.props,r=n.cardUser,i=n.onSaveAlias,o=n.onSaveStatus,a=n.isAdaptHeight,s=r.alias,c=r.applicationReason,u=r.city,l=r.department,d=r.email,p=r.employeeId,f=r.groupAlias,h=r.isEditAliasEnabled,g=r.isEditWorkStatusEnabled,m=r.isFriend,v=r.leaderName,y=r.leaderId,b=r.status,E=r.statusType,_=r.targetUserApply,C=r.userId,A=r.tenant,T=r.isApplyEnabled,O=r.isSendMessageEnabled,k=r.customBottomButton,S={},w=O&&this.showMessageInput,I=!this.showMessageInput&&T;return!a||w||I||k||(S.paddingBottom=16),R.a.createElement("div",{className:N.a+"-profile-main",style:S,onWheel:a?void 0:this.handleShrink},e&&A&&t&&R.a.createElement(L.d,{name:x("SuiteDesign_Legacy_PersoncardTenantName"),value:A}),R.a.createElement(L.e,{isEditWorkStatusEnabled:g,isSelf:this.isSelf,status:b,statusType:E,onSaveStatus:o,ref:this.saveWorkStatusItemRef}),R.a.createElement(L.d,{name:x("SuiteDesign_Legacy_PersoncardGroupalias"),value:f}),e&&R.a.createElement(L.d,{name:x("SuiteDesign_Legacy_TagDepartment"),value:l}),e&&y&&R.a.createElement(L.c,{name:x("SuiteDesign_Legacy_ProfileDetailSuperior"),value:v,onClick:this.handleLeaderClick}),(e||m)&&R.a.createElement(L.d,{name:x("SuiteDesign_Legacy_EmailAddress"),value:d}),e&&this.showCity&&R.a.createElement(L.d,{name:x("SuiteDesign_Legacy_ProfileDetailCity"),value:u}),R.a.createElement(L.a,{alias:s,isEditAliasEnabled:h,isSelf:this.isSelf,onSaveAlias:i,ref:this.saveAliasItemRef,userId:C}),_&&R.a.createElement(L.d,{name:x("SuiteDesign_Legacy_ProfileDetailApplication"),value:c}),this.isSelf&&R.a.createElement(L.c,{name:x("SuiteDesign_Legacy_MyLink"),value:x("SuiteDesign_Legacy_PersoncardLinkButton"),onClick:this.handleCopyLinkClick}),this.showMore&&R.a.createElement(L.b,{name:x("SuiteDesign_Legacy_LarkMore"),value:x("SuiteDesign_Legacy_LoadMore"),target:"_blank",link:D.a.buildPeopleUrl(p)}))},d.prototype.renderProfileFooter=function(){var e=this.props,t=e.cardUser,n=e.onAcceptApply,r=e.onSendApply,i=e.onSendMessage,o=t.contactApplicationId,a=t.contactToken,s=t.name,c=t.isApplyEnabled,u=t.isSendMessageEnabled,l=t.requestUserApply,d=t.targetUserApply,p=t.userId,f=t.customBottomButton;return f?R.a.createElement("div",{className:N.a+"-custom-bottom-btn"},f):this.showMessageInput?R.a.createElement(g.a,{isSelf:this.isSelf,isSendMessageEnabled:u,name:s,userId:p,onSendMessage:i}):R.a.createElement(h.a,{userId:p,contactApplicationId:o,contactToken:a,isApplyEnabled:c,requestUserApply:l,targetUserApply:d,onAcceptApply:n,onSendApply:r})},d.prototype.isAvatarEnlarge=function(){var e=this.props,t=e.cardUser,n=e.onAvatarClick,r=t.avatarOrigin;return!Object(a.a)(n)&&!Object(a.a)(r)},d.prototype.handleAvatarClick=function(e){var t,n;Object(a.b)(e),this.isAvatarEnlarge()&&(n=(t=this.props).cardUser,(0,t.onAvatarClick)(n.avatarOrigin))},d.prototype.handleCopyLinkClick=function(e){Object(a.b)(e);var t=this.props,n=t.cardUser,r=t.onCopyMyLink;r&&r(n.contactToken)},d.prototype.handleLeaderClick=function(e){Object(a.b)(e);var t=this.state.shrink,n=this.props,r=n.cardUser,i=n.onLeaderClick,o=r.leaderId;o&&i&&i(o,t)},d.prototype.handleSave=function(){var e=this.props,t=e.onSaveStatus,n=e.onSaveAlias;t&&this.statusRef&&this.statusRef.saveWorkStatus(),n&&this.aliasRef&&this.aliasRef.saveAlias()},d.prototype.handleShrink=function(e){var t=this.state.shrink;e.deltaY<0?t&&this.setState({shrink:!1}):t||this.setState({shrink:!0}),this.emitScrollState()},d.prototype.emitScrollState=function(){var e=this,t=this.props.onScrollState;t&&(t(!0),this.emitScrollTimer&&window.clearTimeout(this.emitScrollTimer),this.emitScrollTimer=window.setTimeout(function(){e.isMount&&t(!1)},10))},d.prototype.saveWorkStatusItemRef=function(e){this.statusRef=e},d.prototype.saveAliasItemRef=function(e){this.aliasRef=e},o([t.a,s("design:type",Function),s("design:paramtypes",[Object]),s("design:returntype",void 0)],d.prototype,"handleAvatarClick",null),o([t.a,s("design:type",Function),s("design:paramtypes",[Object]),s("design:returntype",void 0)],d.prototype,"handleCopyLinkClick",null),o([t.a,s("design:type",Function),s("design:paramtypes",[Object]),s("design:returntype",void 0)],d.prototype,"handleLeaderClick",null),o([t.a,s("design:type",Function),s("design:paramtypes",[]),s("design:returntype",void 0)],d.prototype,"handleSave",null),o([t.a,s("design:type",Function),s("design:paramtypes",[Object]),s("design:returntype",void 0)],d.prototype,"handleShrink",null),o([t.a,s("design:type",Function),s("design:paramtypes",[]),s("design:returntype",void 0)],d.prototype,"emitScrollState",null),o([t.a,s("design:type",Function),s("design:paramtypes",[L.e]),s("design:returntype",void 0)],d.prototype,"saveWorkStatusItemRef",null),o([t.a,s("design:type",Function),s("design:paramtypes",[L.a]),s("design:returntype",void 0)],d.prototype,"saveAliasItemRef",null),d);function d(e){var t=m.call(this,e)||this;t.statusRef=null,t.aliasRef=null;var n=t.props,r=n.cardUser,i=n.currentUser,o=r.city,a=r.employeeId,s=r.isFriend,c=r.isResigned,u=r.isSecretChatEnabled,l=r.isVoiceChatEnabled,d=r.isVideoChatEnabled,p=r.shrink,f=r.tenantId,h=r.userId,g=r.showTenantName;return t.state={shrink:!!p},t.isSelf=D.a.isSelf(i.userId,h),t.isCommonTenant=D.a.isCommonTenant(i.tenantId,f),t.showChat=D.a.showChat(t.isCommonTenant,s,c),t.showCity=D.a.showCity(i.city,o),t.showTenantName=D.a.showTenantName(g),t.showMessageInput=D.a.showMessageInput(t.isCommonTenant,t.isSelf,s),t.showMore=D.a.showMore(t.isCommonTenant,f,a),t.showSecretChat=D.a.showSecretChat(u,c,t.isSelf,t.isCommonTenant,s),t.showVoiceChat=D.a.showVoiceChat(l,c,t.isSelf,t.isCommonTenant,s),t.showVideoChat=D.a.showVideoChat(d,c,t.isSelf,t.isCommonTenant,s),t}}).call(this,f(7).default)},function(e,p,f){"use strict";(function(o){var r,a,e=f(2),t=f(0),s=f.n(t),c=f(1),n=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;0<=s;s--)(i=e[s])&&(a=(o<3?i(a):3<o?i(t,n,a):i(t,n))||a);return 3<o&&a&&Object.defineProperty(t,n,a),a},u=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=(a=t.PureComponent,n(d,a),d.prototype.render=function(){return this.props.isApplyEnabled?s.a.createElement("div",{className:c.a+"-chat-container"},this.renderConcat()):null},d.prototype.renderConcat=function(){var e=this.state,t=e.applicationReason,n=e.hasClick,r=e.requestUserApply,i=e.targetUserApply;return r?s.a.createElement("button",{disabled:!0,className:c.a+"-profile-button "+c.a+"-profile-applied-btn"},s.a.createElement("span",{className:c.a+"-profile-button-cover"}),o("SuiteDesign_Legacy_ProfileButtonApplied")):i?s.a.createElement("button",{className:c.a+"-profile-button "+c.a+"-profile-apply-btn",onClick:this.handleAcceptApply},o("SuiteDesign_Legacy_ProfileButtonAccept")):n?s.a.createElement(s.a.Fragment,null,s.a.createElement("input",{autoFocus:!0,className:c.a+"-chat-input",value:t,maxLength:50,placeholder:o("SuiteDesign_Legacy_ProfileDetailApplication"),onChange:this.handleChange}),s.a.createElement("button",{className:c.a+"-profile-button "+c.a+"-profile-send-btn",onClick:this.handleSendApply},o("SuiteDesign_Legacy_DingSend"))):s.a.createElement("button",{className:c.a+"-profile-button "+c.a+"-profile-apply-btn",onClick:this.handleApplyClick},o("SuiteDesign_Legacy_AddContactNow"))},d.prototype.handleAcceptApply=function(){var e=this.props,t=e.contactApplicationId,n=e.onAcceptApply;n&&n(t)},d.prototype.handleSendApply=function(){var e=this.state.applicationReason,t=this.props,n=t.contactToken,r=t.onSendApply,i=t.userId;r&&r(i,e,n),this.setState({requestUserApply:!0})},d.prototype.handleApplyClick=function(){this.setState({hasClick:!0})},d.prototype.handleChange=function(e){this.setState({applicationReason:e.target.value})},i([e.a,u("design:type",Function),u("design:paramtypes",[]),u("design:returntype",void 0)],d.prototype,"handleAcceptApply",null),i([e.a,u("design:type",Function),u("design:paramtypes",[]),u("design:returntype",void 0)],d.prototype,"handleSendApply",null),i([e.a,u("design:type",Function),u("design:paramtypes",[]),u("design:returntype",void 0)],d.prototype,"handleApplyClick",null),i([e.a,u("design:type",Function),u("design:paramtypes",[Object]),u("design:returntype",void 0)],d.prototype,"handleChange",null),d);function d(e){var t=a.call(this,e)||this,n=t.props,r=n.requestUserApply,i=n.targetUserApply;return t.state={hasClick:!1,applicationReason:"",requestUserApply:r,targetUserApply:i},t}p.a=l}).call(this,f(7).default)},function(e,p,f){"use strict";(function(r){var i,n,e=f(2),t=f(0),o=f.n(t),a=f(1),s=(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),c=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;0<=s;s--)(i=e[s])&&(a=(o<3?i(a):3<o?i(t,n,a):i(t,n))||a);return 3<o&&a&&Object.defineProperty(t,n,a),a},u=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=(n=t.Component,s(d,n),d.prototype.render=function(){if(!this.props.isSendMessageEnabled)return null;var e=this.getPlaceHolder();return o.a.createElement("div",{className:a.a+"-message-input-container"},o.a.createElement("div",{className:a.a+"-chat-input"},o.a.createElement("i",{className:a.a+"-message-input-icon sd-search-chat"}),o.a.createElement("input",{className:a.a+"-message-input",value:this.state.message,placeholder:e,onChange:this.handleMessageChange,onKeyDown:this.handleMessageEnter})))},d.prototype.getPlaceHolder=function(){var e=this.props,t=e.isSelf,n=e.name;return t?r("SuiteDesign_Legacy_MessageToYourself"):r("SuiteDesign_Legacy_SendTip",{name:n})},d.prototype.handleMessageChange=function(e){var t=e.target.value;this.setState({message:t})},d.prototype.handleMessageEnter=function(e){var t,n,r=this;13===e.keyCode&&(t=this.state.message,n=this.props.userId,this.setState({message:""},function(){r.props.onSendMessage(n,t)}))},c([e.a,u("design:type",Function),u("design:paramtypes",[Object]),u("design:returntype",void 0)],d.prototype,"handleMessageChange",null),c([e.a,u("design:type",Function),u("design:paramtypes",[Object]),u("design:returntype",void 0)],d.prototype,"handleMessageEnter",null),d);function d(e){var t=n.call(this,e)||this;return t.state={message:""},t}p.a=l}).call(this,f(7).default)},function(e,b,E){"use strict";(function(o){var r,e,t,n=E(2),i=E(0),u=E.n(i),a=E(8),l=E.n(a),s=E(11),c=E(4),d=E(15),p=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),f=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;0<=s;s--)(i=e[s])&&(a=(o<3?i(a):3<o?i(t,n,a):i(t,n))||a);return 3<o&&a&&Object.defineProperty(t,n,a),a},h=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},g=(t=i.Component,p(y,t),y.prototype.handleUserClick=function(e,t){var n=this.props.onUserClick;n&&n(e,t)},y.prototype.handleReactionClick=function(e){var t=this.props,n=t.reactionKey,r=t.onReactionClick;r&&r(n,e)},y.prototype.handleMoreClick=function(e){var t=this.props,n=t.reactionKey,r=t.onMoreClick;r&&r(n,e)},y.prototype.renderUserNames=function(){var t=this,e=this.props,n=e.users,r=e.total;return n.slice(0,6===r?6:c.b).map(function(e){return u.a.createElement("span",{key:e.userId,className:"reactionItemUser",onClick:t.handleUserClick.bind(t,e)},e.userName)})},y.prototype.renderMoreLink=function(){var e=this.props,t=e.users,n=e.total;if(n<=c.b||6===n)return null;var r=t.slice(c.b).map(function(e,t){return u.a.createElement("span",{key:t,className:"reactionItemUser"},e.userName)}),i=(n-c.b).toString(10);return u.a.createElement(d.a,{className:"reactionItemMoreTip",content:r,openDelay:300,offset:{x:0,y:7}},u.a.createElement("span",{className:"reactionItemMore_users",onClick:this.handleMoreClick},o("SuiteDesign_Legacy_PostReactionAppend",{count:i})))},y.prototype.render=function(){var e=this.props,t=e.users,n=e.reactionKey,r=e.customCDNDomain;return n&&t&&t.length?u.a.createElement("div",{className:"reactionItem"},u.a.createElement(s.a,{customCDNDomain:r,className:"reactionItemIcon",reactionKey:n,onClick:this.handleReactionClick}),u.a.createElement("span",{className:"reactionItemSeparate"}),this.renderUserNames(),this.renderMoreLink()):null},f([n.a,h("design:type",Function),h("design:paramtypes",[Object]),h("design:returntype",void 0)],y.prototype,"handleReactionClick",null),f([n.a,h("design:type",Function),h("design:paramtypes",[Object]),h("design:returntype",void 0)],y.prototype,"handleMoreClick",null),f([n.a,h("design:type",Function),h("design:paramtypes",[]),h("design:returntype",void 0)],y.prototype,"renderUserNames",null),y),m=(e=i.Component,p(v,e),v.prototype.componentWillMount=function(){var e=this.props.locale;void 0===e&&(e="zh-CN"),o.setLocale(e)},v.prototype.render=function(){var e=this.props,t=e.className,n=void 0===t?"":t,r=e.reactions,i=e.onUserClick,o=e.onMoreClick,a=e.onReactionClick,s=e.customCDNDomain,c=l()("suite-reactionList",n);return u.a.createElement("div",{className:c},r.map(function(e,t){return u.a.createElement(g,{key:t,customCDNDomain:s,reactionKey:e.reactionKey,total:e.totalCount,users:e.userList,onMoreClick:o,onUserClick:i,onReactionClick:a})}))},v);function v(){return null!==e&&e.apply(this,arguments)||this}function y(){return null!==t&&t.apply(this,arguments)||this}b.a=m}).call(this,E(7).default)},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAYAAADimHc4AAAAAXNSR0IArs4c6QAADcNJREFUeAHtXQ+MVEcZn3m7d1z/HLbaqEiiHJJeUzRNEU0tUsJB05Y7KLt3t0oENUYTrG01amJCaNRAMCba+AcriYlRqEH37vZOYEHSAmkRJBarDdL0mpZDE6yaail3ba/c7ht/3+wu++fNm3lv3+7ecfs22ey8mW+++b7f9+b/zLeMhZ8QgRCBEIEQgWZFgM9UxYUQ1vBwutPmVqcQdidjAl++SDB2A2Ru50y0C8HaSX7O2bhgfBzBcSh0EbQvIXaUc2vUEvZoLNaNMLeJdqZ9ZpQBBvf9frGYynQJJrqA6gomxI01AYzz18DrKc74Ud4SPdq37t6zNeFbAybTboDh4YMfzNjZTXhjNwH4hTXQycgChjiHWrInakX2xGJrXjZmqCPBtBggKUTEGklvEDb7EkC/s476GVnDGCe5xX5mr+/em+A8a8xQY4KGGiB59mwre3Hsc2iNv9mot90rXlQrhMW+x27u+GVi8eLLXvMFpWuYAQZS+z8jBN+Bqj8/qND1zc8vcC629MfX7q5vOTnudTdAKnXgQ6jXj2FUs7wRCtWqDIyajkcYeyAe7/lbrXiq+NTNAKdPn24Z+/u/tzMuvgbwo6rCZ3ocjJBhgj/a8YH3bF26dOlUPeStiwGS+w53sMzl3zLBPhpQaBvD0b9AyOdgyFEmrFEescYiNrskRMt4pnMejf1ZdPSVds6n2rMWmyuydgfjmDcI3ok5w20Yft4OEiuQHJw9w6Ktn0ysu2csEB9F5pobIDm0P4aJ0S8wSaIJk/8PZ//EmzcEAI9E+bVPxWIrMbGq/jM8fOyGjHhzBQy4CjWxFy/F+6rhBp0uQqfPJ3rXDleT3y1PTQ0wMJzeKmx7m1th7vF8EgoOMW7t7lt/35P1mrXS8JePHFrFhI0BAevFgKDNXSZ1CresR/pj3dvVqf5ja2IAWjYYSKV/BIUe9CnCBMDeJebwHyS6u//lM28g8mQ6/V7+tvg6ZN8MRtf7Y8Z39se7v1KLFyWwAWhsz0fH9kCRhFclIHgG84AfR9k1O+Lx1f/1mq8edKnUk+/KsLe2YB7wMHTwPFiADknR2bEp6JwhkAHozR8cTu/1Az7j7A/Msh5IrO8+Uw9Aq+WZHEl/mNn2Y+gjPuGVBxmhL9a9IUhNCGQATK52oi39skeBL+Mt+0ZfvHsnBMYAZeZ98CLxwVT6QdTO70O6Vm8S8p2J3p6HvNE6qao2gJ8ONz/NTyRiPX92ijDzYpLDBz6C5ZKk1+WSIB1zVQYYSB2I420Z8gQdZ0dZe1s8cffdr3uinyFEySeeeAcbn0yhSeryKFK8miGqbwPQJItnLj/rZZyPpmYAHdXGoB2VRwBqTpYfYDyOl63fxFzOE6KtS/xO1nwZgJYXzv3jlRNeZrgA/+fooDYH6aBMSjciHeDTQGMXfr9oLA8z5oXvn7fMz7KFrym6XNvxsLxAb/5sAJ8Apxcor8uA0QDARmJkJCwSeDYArWrSwloxq0sIbT41O1f7m1+qHelCOmEIfbQ0XhkGRhIrZaIz0rMB8kvK2okKjXZkh9vADQ2nSvWJkf0YBhNSR00RaKqihJWGpCzJkwFymynG9fzL2FFKXG2jnTI0DA+kG+kIMu2OGYywnDAzsJPJRgPQSCC3k6VnR5Osq2Wcr9dEn0o6kq56KqyKYfdPbsEaCI0GoD1c4zYilhdohmsoa9YkS11pSUX7wdarxE5LpN+okMu32EDXsUAHlaG1HfzOyOUFnezVpkldczpndDzo8AFhqKPR1gB5dMRwVodWNWfawppO4Vqlkc6ku44fLWUQhjoarQHo3I4uM9ImaEnZQDNrk/O6T+gUNGHoagA6sQYLag9NoSrumu71fJ3y9U4j3QkDXTmEIWHpRuNqgCls27llysXzSdrJ0tPM/tQcBnxSp2nu6KWawnVihS51o65XpT3c/hpsI2ITX1cMwwqjr/WqSjXrzZ+2UrE6PITFyU9Xll185psQ/nbxuRhS1gCaSlMHUiRThLCBrohtzigDFoSl2/KE0gBZwVZqkcTRETq9oKVpokSJBTDRqeyGqdIAsFiXjhnahEF0PraOppnSCAt8tRtUbpg6DEDr3/JyhAZBTLOPaJKbM8mECS6cSGwr0HEYgK4FGW6m2C3WdU9X8Gn6RzrFBxDcWwXc9pHYViDlMADdyaqgKX/EWc2gxwXLGc6OJ4kJsNFpo8LWYYDchTh3Nmj/n3NPbe4UEzYqbB0GwMqnoQbglHL4USNAJ7i1Hye2CgPwRXoelqEQbe7ZnYjj83oFndg6DIBp6Y06JnQ+X5fezGkmbICt48i+wwAAUHtSmC5HNDPIOt09YNNemd+xFiRvoFdSlTzTzZSSx8DBoGs9JgHqzb+0/Bw27ns0hG0pPYUdNQCLSg6i0kyFa0GlcWE4h4AJGxW2DgOEYDYWAYcBsMysbWLoQlxjRbx6SjNho8LWYYC81xFXrek2omtikyeYsFFh6zAAMNTWALoK2uQ4u6rvARsHtg4DYDqtvRYq7+G6itDcCSZsVNg6DICliJe0MNIl6PCjRsCIjRNbhQG4fjqNG+jq0sNYup2vR8GJrcMA5OZLxwTT6dt06c2cZsJGha1jJkw+1tx3FQAvfC/Q9f9q9gSSqYNdTGS1u2l0/DvCWz4ej9/zn1oaM5U6/O6smPqj+bBBZFUivuao37IJkyl74nZdPsK2Mt1RA8jBHbYkX6skLHm2puw37ip59hyUinF2SpeBAAJQ6cOHD1+no/OTRryIpxl8dqoa8EkW6Y9CsbJwRU5gKrG9EpELOAwgN9vh4K6CruwRLr5Wl0X4eLCsiPEoI4Ba+vrE1AjdYvfBWklKPIgX8VQSlER6ka2EvDwIZyDlERVP5DRQcZDBYQDKhmZAWwWxudyr2mCuKFL52Ld+zX7MCA8pE8sixeosmzyTTKXvLYv28UB5iQfaTeMLQzKRbD7YXyElLAiTKxGKgBumSgNEODum4FGMgsuXwZFDRqWKGcpDrZE5XzA0czIDlJoHzyaHcLpt99DQwTvKubg/ES3lobyShztpLgXNg5TJROeSLrEwuMEhd5mq7JgbqD8DQwde1rWZqE6/7o/3bFTnNsfiON+nAM5eM2UJBefP4xrC43Dc9HyE2ecz7W3nKTU6Prkgy6wFcNR0K47MbMRA4daSXMYgdNkAXX5jJHQhgC50l9j1aCINLPp7e5QHdJU1IFeO2ONSnozG0movuXzR0ejSSGH0JVt0NI40AIvj3juwuT0Cdyt/ZZcmL9KXwhRHab7BhwxBwCcMCAuHrGUR7li6GoCcmpbxcDyINvK344j2EdEfW/tddDiP+shSW1KULWUIwDWHgd7xkw5L1yaIZEIzdALNkO6OwESUX7MgyB0BVF3yULIVhvgOhQNg4Tkrmhyoxb6Fu17bZdhzznJC6WtIvHUesa7buGh+TqL5WVaes/jkWgOIhDzKFkmVoevJ2ZEyxWMkAQABt6Ear1etl3tk45mMyqCyqMwg4FOBed1dwScaE4baN05e0kulXzR0xhlh8SW1uCeW87Y49UO04+tI+Jp/ON/Hoi1f9etQQyUHOXjC/Xk4LXH3skWdr4h336xziaytAZRRuvNVSZCPkwLA01Qtmg8CJhHvuR+vzX0Ypp7RFOsviXiBJ/GuBfhS15zOjqWcUsEIOx34RKutAUQgLxu/MHYOk5n59Oz2gbUfRrX+iVt6NfFDvzu4zM7am9Fk9KH8Nn88pCfGQSti7eq9f80Jf3n11OgbH0KroL0hCWgvsFs6Fppc9RgNQKLkXBWwX+nFwvV9i99Zj9vyx44da/vfpTc/ls2K5TjacQc60Pnorm/C701SJs5eRbf6Kl6nC9j2OxWJ8OPvnHvtn1auXKm9u2XQR5lM3rSYLU4isVVJkI9EX/NZL/6nPRmAeGKy8TSq3nJtodTmzZ2zZLb6iyAvWvzS28/q+kTCB537ccwtPC1YavuAUrAjcGQNxu6njkAsBYObLy8+Ekp5Xw1hqRN08wB+hrDyqpNnA0gv4nBkbWQMH2vwI0pTc8+8jTynmYB0IZ3whnUZRQFGfjyu+wJJ3LLgEbSzz5iEgMD9eTdfvvib+E5HOoGf18XoN46wIU/rfuT03AcUmIZO+wpIlP+i070o6u20r1AklnpjCKcKz9rf0G2lFp6qmgjyj0nOSrWcC4nUJ2DkIIdvhbgZ/isdt0JmT20+dCEsCJNq1KrKAFQQuXBHtfupl0LlyAFjZzmBadCCmxe5KmnQ3nOSkcb5ptFOMS88qQdwZ++7DygWjGFnroMKnXcr9npLcdKFAxmAGNP4OHRfr4NYnxbYAMSeakL4Bw56oN1Sa2KAAnM/HtULeXK/jfkLE9lk0mGC2fYXJqVg0hAVnXOwP/GBMxD0h0fIJUI1J/BK5cmdWHvjLjrLBAPM7j/xKSge/o1VAQnzb02boNLiZOf8wvlt4R+5laLiDNfNAIWiyFNUNvwrwwIcjt+6G6BQYm5TJ/wzzwIehd+GGYAKlGvq4d/ZFrCXvw01QKFkOm0R/qFzDo1pMUDBEPQb/qV5KRrTHJYdNjw2YiGsCxurKzDF1npu8SwuXTih8/k4dk8nv/3sWHkuo0rCaa8BbnLTrJV8rJGbr5ynKXJ2xBflXb60S6cieb8WmPiN5y9Bj0MhXLOl24h8lO5k0bUgupmC/WzbrawwPkQgRCBEIEQgRGA6EPg/zVkVgf+yArgAAAAASUVORK5CYII="},function(e,m,v){"use strict";(function(d){var r,e,t=v(2),n=v(0),p=v.n(n),i=v(8),f=v.n(i),o=v(15),a=v(11),h=v(4),s=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),c=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;0<=s;s--)(i=e[s])&&(a=(o<3?i(a):3<o?i(t,n,a):i(t,n))||a);return 3<o&&a&&Object.defineProperty(t,n,a),a},u=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=(e=n.Component,s(g,e),g.prototype.componentWillMount=function(){var e=this.props.locale;void 0===e&&(e="zh-CN"),d.setLocale(e)},g.prototype.handleReactionClick=function(e,t){t.stopPropagation();var n=this.props.onReactionClick;n&&n(e,t)},g.prototype.handleMorePanelScroll=function(e){e.preventDefault(),e.stopPropagation()},g.prototype.renderReactionPanelItem=function(e){if(e=e.toUpperCase(),!h.c.includes(e))return null;var t=this.props,n=t.portalZIndex,r=t.customCDNDomain,i=d("SuiteDesign_Legacy_Reaction_"+e);return p.a.createElement(o.a,{key:e,className:"reactionPanelItemTip",content:i,openDelay:300,offset:{x:0,y:7},zIndex:n},p.a.createElement("div",{key:e,className:"reactionPanelItem",onClick:this.handleReactionClick.bind(this,e)},p.a.createElement(a.a,{reactionKey:e,customCDNDomain:r})))},g.prototype.render=function(){var t=this,e=this.props,n=e.className,r=void 0===n?"":n,i=e.recentPosition,o=void 0===i?"top":i,a=e.allReactions,s=void 0===a?h.c:a,c=e.userReactions,u=void 0===c?h.e:c;0===u.length&&(u=h.e),u=u.slice(0,h.a);var l=f()("suite-reactionPanel",r,{recentBottom:"bottom"===o});return p.a.createElement("div",{className:l},p.a.createElement("div",{className:"reactionPanelRecent clearfix"},p.a.createElement("div",{className:"reactionPanelTip"},d("SuiteDesign_Legacy_ReactionRecentListTitle")),u.map(function(e){return t.renderReactionPanelItem(e)})),p.a.createElement("div",{className:"reactionPanelAll clearfix",onScroll:this.handleMorePanelScroll},s.map(function(e){return t.renderReactionPanelItem(e)})))},c([t.a,u("design:type",Function),u("design:paramtypes",[String,Object]),u("design:returntype",void 0)],g.prototype,"handleReactionClick",null),g);function g(){return null!==e&&e.apply(this,arguments)||this}m.a=l}).call(this,v(7).default)},function(e,m,v){"use strict";(function(t){var r,i,e=v(0),u=v.n(e),n=v(2),o=v(8),a=v.n(o),s=v(11),l=v(4),d=v(9),c=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),p=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;0<=s;s--)(i=e[s])&&(a=(o<3?i(a):3<o?i(t,n,a):i(t,n))||a);return 3<o&&a&&Object.defineProperty(t,n,a),a},f=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},h=(i=e.PureComponent,c(g,i),g.prototype.componentWillMount=function(){var e=this.props.locale;void 0===e&&(e="zh-CN"),t.setLocale(e)},g.prototype.handleTabClick=function(e,t){this.setState({activeKey:e});var n=this.props.onReactionClick;n&&n(e,t)},g.prototype.handleAvatarClick=function(e,t){var n=this.props.onAvatarClick;n&&n(e,t)},g.prototype.renderUsers=function(){var c=this,e=this.props.reactions,t=this.state.activeKey,n=e.find(function(e){return e.reactionKey===t});return n?n.userList.map(function(e){var t=e.descType,n=void 0===t?0:t,r=e.description,i=e.userId,o=e.userName,a=e.avatarUrl,s=d.a.getStatusIcon(n);return u.a.createElement("div",{className:"reactionsDetailUsers_item",key:i},u.a.createElement("div",{className:"reactionsDetailUsers_itemAvatar",onClick:c.handleAvatarClick.bind(c,e)},u.a.createElement("img",{alt:"avatar",src:a})),u.a.createElement("span",{className:"reactionsDetailUsers_itemUsername"},o),(n!==l.f.ON_DEFAULT||r)&&u.a.createElement("span",{className:"reactionsDetailUsers_itemStatus "+s}),r&&u.a.createElement("span",{className:"reactionsDetailUsers_itemDesc"},r))}):null},g.prototype.renderTabs=function(){var o=this,e=this.props,t=e.reactions,a=e.customCDNDomain;return t.map(function(e,t){var n=e.reactionKey===o.state.activeKey,r=e.reactionKey,i=e.totalCount;return u.a.createElement("div",{key:r+t,className:"reactionsDetailTabs_item "+(n?"active":""),onClick:o.handleTabClick.bind(o,r)},u.a.createElement(s.a,{reactionKey:r,customCDNDomain:a}),u.a.createElement("span",{className:"reactionsDetailTabs_itemCount"},i))}).filter(function(e){return e})},g.prototype.render=function(){var e=this.props.className,t=void 0===e?"":e,n=a()("suite-reactionsDetail",t);return u.a.createElement("div",{className:n},u.a.createElement("div",{className:"reactionsDetailTabs"},this.renderTabs()),u.a.createElement("div",{className:"reactionsDetailUsers"},u.a.createElement("div",{className:"reactionsDetailUsers_box"},u.a.createElement("div",null,this.renderUsers())),u.a.createElement("div",{className:"reactionsDetailUsers_separate"})))},p([n.a,f("design:type",Function),f("design:paramtypes",[String,Object]),f("design:returntype",void 0)],g.prototype,"handleTabClick",null),p([n.a,f("design:type",Function),f("design:paramtypes",[Object,Object]),f("design:returntype",void 0)],g.prototype,"handleAvatarClick",null),g);function g(e){var t=i.call(this,e)||this,n=(n=e.activeKey)||(e.reactions[0].reactionKey||"");return t.state={activeKey:n},t}m.a=h}).call(this,v(7).default)},function(e,i,o){"use strict";o.r(i),function(e,t){var n=o(17);o.d(i,"Profile",function(){return n.a});var r=o(10);o.d(i,"ReactionList",function(){return r.a}),o.d(i,"ReactionPanel",function(){return r.b}),o.d(i,"ReactionsDetail",function(){return r.c}),o.d(i,"preloadReactionIcon",function(){return r.e}),o.d(i,"getReactionIcon",function(){return r.d}),t.init(e,"zh-CN")}.call(this,o(28),o(7).default)},function(e,t){e.exports={SuiteDesign_Legacy_AddContactNow:{"en-US":"Add to contact","hi-IN":"","id-ID":"","ja-JP":"","th-TH":"","vi-VN":"","zh-CN":""},SuiteDesign_Legacy_DeactivatedLabel:{"en-US":" deactivated ","hi-IN":"","id-ID":"","ja-JP":"","th-TH":"","vi-VN":"","zh-CN":"  "},SuiteDesign_Legacy_DescriptionDefaultBusiness:{"en-US":"OOO","hi-IN":"","id-ID":"","ja-JP":"","th-TH":"","vi-VN":"","zh-CN":""},SuiteDesign_Legacy_DingSend:{"en-US":"Send","hi-IN":"","id-ID":"","ja-JP":"","th-TH":"","vi-VN":"","zh-CN":""},SuiteDesign_Legacy_EditAlias:{"en-US":"Set alias","hi-IN":"","id-ID":"","ja-JP":"","th-TH":"","vi-VN":"","zh-CN":""},SuiteDesign_Legacy_EmailAddress:{"en-US":"Email","hi-IN":"","id-ID":"","ja-JP":"","th-TH":"","vi-VN":"","zh-CN":""},SuiteDesign_Legacy_LarkMore:{"en-US":"More","hi-IN":"","id-ID":"","ja-JP":"","th-TH":"","vi-VN":"","zh-CN":""},SuiteDesign_Legacy_LoadMore:{"en-US":"See more","hi-IN":"","id-ID":"","ja-JP":"","th-TH":"","vi-VN":"","zh-CN":""},SuiteDesign_Legacy_MessageHostory:{"en-US":"Message history","hi-IN":"","id-ID":"","ja-JP":"","th-TH":"","vi-VN":"","zh-CN":""},SuiteDesign_Legacy_MessageToYourself:{"en-US":"Message yourself to keep a memo","hi-IN":"","id-ID":"","ja-JP":"","th-TH":"","vi-VN":"","zh-CN":""},SuiteDesign_Legacy_MinePersonalinformationStatus:{"en-US":"Status","hi-IN":"","id-ID":"","ja-JP":"","th-TH":"","vi-VN":"","zh-CN":""},SuiteDesign_Legacy_MineStatusLeave:{"en-US":"On leave","hi-IN":"","id-ID":"","ja-JP":"","th-TH":"","vi-VN":"","zh-CN":""},SuiteDesign_Legacy_MineStatusMeeting:{"en-US":"In a meeting","hi-IN":"","id-ID":"","ja-JP":"","th-TH":"","vi-VN":"","zh-CN":""},SuiteDesign_Legacy_MineStatusUpdateInputHint:{"en-US":"What's your status?","hi-IN":"","id-ID":"","ja-JP":"","th-TH":"","vi-VN":"","zh-CN":"..."},SuiteDesign_Legacy_MyLink:{"en-US":"My Link","hi-IN":"","id-ID":"","ja-JP":"","th-TH":"","vi-VN":"","zh-CN":""},SuiteDesign_Legacy_PersoncardAlias:{"en-US":"Alias","hi-IN":"","id-ID":"","ja-JP":"","th-TH":"","vi-VN":"","zh-CN":""},SuiteDesign_Legacy_PersoncardAliasSettingFailed:{"en-US":"Failed to change alias. Please try again later.","hi-IN":"","id-ID":"","ja-JP":"","th-TH":"","vi-VN":"","zh-CN":""},SuiteDesign_Legacy_PersoncardGroupalias:{"en-US":"Group Alias","hi-IN":"","id-ID":"","ja-JP":"","th-TH":"","vi-VN":"","zh-CN":""},SuiteDesign_Legacy_PersoncardLinkButton:{"en-US":"Copy link","hi-IN":"","id-ID":"","ja-JP":"","th-TH":"","vi-VN":"","zh-CN":""},SuiteDesign_Legacy_PersoncardTenantName:{"en-US":"Company Name","hi-IN":"","id-ID":"","ja-JP":"","th-TH":"","vi-VN":"","zh-CN":""},SuiteDesign_Legacy_PostReactionAppend:{"en-US":" + {count} people","hi-IN":"","id-ID":"","ja-JP":"...{count}","th-TH":"","vi-VN":"","zh-CN":"...{count}"},SuiteDesign_Legacy_ProfileButtonAccept:{"en-US":"Accept","hi-IN":"","id-ID":"","ja-JP":"","th-TH":"","vi-VN":"","zh-CN":""},SuiteDesign_Legacy_ProfileButtonApplied:{"en-US":"Requested","hi-IN":"","id-ID":"","ja-JP":"","th-TH":"","vi-VN":"","zh-CN":""},SuiteDesign_Legacy_ProfileDetailApplication:{"en-US":"Verification","hi-IN":"","id-ID":"","ja-JP":"","th-TH":"","vi-VN":"","zh-CN":""},SuiteDesign_Legacy_ProfileDetailCity:{"en-US":"City","hi-IN":"","id-ID":"","ja-JP":"","th-TH":"","vi-VN":"","zh-CN":""},SuiteDesign_Legacy_ProfileDetailSuperior:{"en-US":"Manager","hi-IN":"","id-ID":"","ja-JP":"","th-TH":"","vi-VN":"","zh-CN":""},SuiteDesign_Legacy_ReactionRecentListTitle:{"en-US":"Recently Used","hi-IN":"","id-ID":"","ja-JP":"","th-TH":"","vi-VN":"","zh-CN":""},SuiteDesign_Legacy_Reaction_18X:{"en-US":"18x","hi-IN":"","id-ID":"","ja-JP":"18","th-TH":"","vi-VN":"","zh-CN":"18"},SuiteDesign_Legacy_Reaction_ANGRY:{"en-US":"Angry","hi-IN":"","id-ID":"","ja-JP":"","th-TH":"","vi-VN":"","zh-CN":""},SuiteDesign_Legacy_Reaction_APPLAUSE:{"en-US":"Applaud","hi-IN":"","id-ID":"","ja-JP":"","th-TH":"","vi-VN":"","zh-CN":""},SuiteDesign_Legacy_Reaction_ATTENTION:{"en-US":"Attention","hi-IN":"","id-ID":"","ja-JP":"","th-TH":"","vi-VN":"","zh-CN":""},SuiteDesign_Legacy_Reaction_AWESOME:{"en-US":"Awesome","hi-IN":"","id-ID":"","ja-JP":"","th-TH":"","vi-VN":"","zh-CN":"666"},SuiteDesign_Legacy_Reaction_BEAR:{"en-US":"Bear","hi-IN":"","id-ID":"","ja-JP":"","th-TH":"","vi-VN":"","zh-CN":""},SuiteDesign_Legacy_Reaction_BEER:{"en-US":"Beer","hi-IN":"","id-ID":"","ja-JP":"","th-TH":"","vi-VN":"","zh-CN":""},SuiteDesign_Legacy_Reaction_BETRAYED:{"en-US":"Betrayed","hi-IN":"","id-ID":"","ja-JP":"","th-TH":"","vi-VN":"","zh-CN":""},SuiteDesign_Legacy_Reaction_BIGKISS:{"en-US":"Big Kiss","hi-IN":"","id-ID":"","ja-JP":"","th-TH":"","vi-VN":"","zh-CN":""},SuiteDesign_Legacy_Reaction_BLACKFACE:{"en-US":"New Moon Face","hi-IN":"","id-ID":"","ja-JP":"","th-TH":"","vi-VN":"","zh-CN":""},SuiteDesign_Legacy_Reaction_BLUBBER:{"en-US":"Blubber","hi-IN":"","id-ID":"","ja-JP":"","th-TH":"","vi-VN":"","zh-CN":""},SuiteDesign_Legacy_Reaction_BLUSH:{"en-US":"Grin","hi-IN":"","id-ID":"","ja-JP":"","th-TH":"","vi-VN":"","zh-CN":""},SuiteDesign_Legacy_Reaction_BOMB:{"en-US":"Bomb","hi-IN":"","id-ID":"","ja-JP":"","th-TH":"","vi-VN":"","zh-CN":""},SuiteDesign_Legacy_Reaction_CAKE:{"en-US":"Cake","hi-IN":"","id-ID":"","ja-JP":"","th-TH":"","vi-VN":"","zh-CN":""},SuiteDesign_Legacy_Reaction_CHUCKLE:{"en-US":"Chuckle","hi-IN":"","id-ID":"","ja-JP":"","th-TH":"","vi-VN":"","zh-CN":""},SuiteDesign_Legacy_Reaction_CLAP:{"en-US":"Clap","hi-IN":"","id-ID":"","ja-JP":"","th-TH":"","vi-VN":"","zh-CN":""},SuiteDesign_Legacy_Reaction_CLEAVER:{"en-US":"Cleaver","hi-IN":"","id-ID":"","ja-JP":"","th-TH":"","vi-VN":"","zh-CN":""},SuiteDesign_Legacy_Reaction_COMFORT:{"en-US":"Comfort","hi-IN":"","id-ID":"","ja-JP":"","th-TH":"","vi-VN":"","zh-CN":""},SuiteDesign_Legacy_Reaction_CRAZY:{"en-US":"Crazy","hi-IN":"","id-ID":"","ja-JP":"","th-TH":"","vi-VN":"","zh-CN":""},SuiteDesign_Legacy_Reaction_CRY:{"en-US":"Cry","hi-IN":"","id-ID":"","ja-JP":"","th-TH":"","vi-VN":"","zh-CN":""},SuiteDesign_Legacy_Reaction_CUCUMBER:{"en-US":"Cucumber","hi-IN":"","id-ID":"","ja-JP":"","th-TH":"","vi-VN":"","zh-CN":""},SuiteDesign_Legacy_Reaction_DETERGENT:{"en-US":"Detergent","hi-IN":"","id-ID":"","ja-JP":"","th-TH":"","vi-VN":"","zh-CN":""},SuiteDesign_Legacy_Reaction_DIZZY:{"en-US":"Dizzy","hi-IN":"","id-ID":"","ja-JP":"","th-TH":"","vi-VN":"","zh-CN":""},SuiteDesign_Legacy_Reaction_DONNOTGO:{"en-US":"Don't go","hi-IN":"","id-ID":"","ja-JP":"","th-TH":"","vi-VN":"","zh-CN":""},SuiteDesign_Legacy_Reaction_DROOL:{"en-US":"Drool","hi-IN":"","id-ID":"","ja-JP":"","th-TH":"","vi-VN":"","zh-CN":""},SuiteDesign_Legacy_Reaction_DROWSY:{"en-US":"Drowsy","hi-IN":"","id-ID":"","ja-JP":"","th-TH":"","vi-VN":"","zh-CN":""},SuiteDesign_Legacy_Reaction_DULL:{"en-US":"Dull","hi-IN":"","id-ID":"","ja-JP":"","th-TH":"","vi-VN":"","zh-CN":""},SuiteDesign_Legacy_Reaction_DULLSTARE:{"en-US":"DullStare","hi-IN":"","id-ID":"","ja-JP":"","th-TH":"","vi-VN":"","zh-CN":""},SuiteDesign_Legacy_Reaction_EATING:{"en-US":"Eating","hi-IN":"","id-ID":"","ja-JP":"","th-TH":"","vi-VN":"","zh-CN":""},SuiteDesign_Legacy_Reaction_EMBARRASSED:{"en-US":"Embarrassed","hi-IN":"","id-ID":"","ja-JP":"","th-TH":"","vi-VN":"","zh-CN":""},SuiteDesign_Legacy_Reaction_ENOUGH:{"en-US":"Enough","hi-IN":"","id-ID":"","ja-JP":"","th-TH":"","vi-VN":"","zh-CN":""},SuiteDesign_Legacy_Reaction_ERROR:{"en-US":"Errr","hi-IN":"","id-ID":"","ja-JP":"","th-TH":"","vi-VN":"","zh-CN":""},SuiteDesign_Legacy_Reaction_EYESCLOSED:{"en-US":"EyesClosed","hi-IN":"","id-ID":"","ja-JP":"","th-TH":"","vi-VN":"","zh-CN":""},SuiteDesign_Legacy_Reaction_FACEPALM:{"en-US":"Facepalm","hi-IN":"","id-ID":"","ja-JP":"","th-TH":"","vi-VN":"","zh-CN":""},SuiteDesign_Legacy_Reaction_FINGERHEART:{"en-US":"FingerHeart","hi-IN":"","id-ID":"","ja-JP":"","th-TH":"","vi-VN":"","zh-CN":""},SuiteDesign_Legacy_Reaction_FISTBUMP:{"en-US":"FistBump","hi-IN":"","id-ID":"","ja-JP":"","th-TH":"","vi-VN":"","zh-CN":""},SuiteDesign_Legacy_Reaction_FOLLOWME:{"en-US":"FollowMe","hi-IN":"","id-ID":"","ja-JP":"","th-TH":"","vi-VN":"","zh-CN":""},SuiteDesign_Legacy_Reaction_FROWN:{"en-US":"Frown","hi-IN":"","id-ID":"","ja-JP":"","th-TH":"","vi-VN":"","zh-CN":""},SuiteDesign_Legacy_Reaction_GIFT:{"en-US":"Gift","hi-IN":"","id-ID":"","ja-JP":"","th-TH":"","vi-VN":"","zh-CN":""},SuiteDesign_Legacy_Reaction_GLANCE:{"en-US":"Glance","hi-IN":"","id-ID":"","ja-JP":"","th-TH":"","vi-VN":"","zh-CN":""},SuiteDesign_Legacy_Reaction_GOODJOB:{"en-US":"GoodJob","hi-IN":"","id-ID":"","ja-JP":"","th-TH":"","vi-VN":"","zh-CN":""},SuiteDesign_Legacy_Reaction_HAMMER:{"en-US":"Hammer","hi-IN":"","id-ID":"","ja-JP":"","th-TH":"","vi-VN":"","zh-CN":""},SuiteDesign_Legacy_Reaction_HAUGHTY:{"en-US":"Haughty","hi-IN":"","id-ID":"","ja-JP":"","th-TH":"","vi-VN":"","zh-CN":""},SuiteDesign_Legacy_Reaction_HEADSET:{"en-US":"Headset","hi-IN":"","id-ID":"","ja-JP":"","th-TH":"","vi-VN":"","zh-CN":""},SuiteDesign_Legacy_Reaction_HEART:{"en-US":"Heart","hi-IN":"","id-ID":"","ja-JP":"","th-TH":"","vi-VN":"","zh-CN":""},SuiteDesign_Legacy_Reaction_HEARTBROKEN:{"en-US":"HeartBroken","hi-IN":"","id-ID":"","ja-JP":"","th-TH":"","vi-VN":"","zh-CN":""},SuiteDesign_Legacy_Reaction_HIGHFIVE:{"en-US":"HighFive","hi-IN":"","id-ID":"","ja-JP":"","th-TH":"","vi-VN":"","zh-CN":""},SuiteDesign_Legacy_Reaction_HUG:{"en-US":"Hug","hi-IN":"","id-ID":"","ja-JP":"","th-TH":"","vi-VN":"","zh-CN":""},SuiteDesign_Legacy_Reaction_HUSKY:{"en-US":"Husky","hi-IN":"","id-ID":"","ja-JP":"","th-TH":"","vi-VN":"","zh-CN":""},SuiteDesign_Legacy_Reaction_INNOCENTSMILE:{"en-US":"InnocentSmile","hi-IN":"","id-ID":"","ja-JP":"","th-TH":"","vi-VN":"","zh-CN":""},SuiteDesign_Legacy_Reaction_JIAYI:{"en-US":"+1","hi-IN":"","id-ID":"","ja-JP":"+1","th-TH":"","vi-VN":"","zh-CN":"+1"},SuiteDesign_Legacy_Reaction_JOYFUL:{"en-US":"Joyful","hi-IN":"","id-ID":"","ja-JP":"","th-TH":"","vi-VN":"","zh-CN":""},SuiteDesign_Legacy_Reaction_KISS:{"en-US":"Kiss","hi-IN":"","id-ID":"","ja-JP":"","th-TH":"","vi-VN":"","zh-CN":""},SuiteDesign_Legacy_Reaction_LAUGH:{"en-US":"Laugh","hi-IN":"","id-ID":"","ja-JP":"","th-TH":"","vi-VN":"","zh-CN":""},SuiteDesign_Legacy_Reaction_LIPS:{"en-US":"Lips","hi-IN":"","id-ID":"","ja-JP":"","th-TH":"","vi-VN":"","zh-CN":"kiss"},SuiteDesign_Legacy_Reaction_LOL:{"en-US":"Lol","hi-IN":"","id-ID":"","ja-JP":"","th-TH":"","vi-VN":"","zh-CN":""},SuiteDesign_Legacy_Reaction_LOOKDOWN:{"en-US":"LookDown","hi-IN":"","id-ID":"","ja-JP":"","th-TH":"","vi-VN":"","zh-CN":""},SuiteDesign_Legacy_Reaction_LOVE:{"en-US":"Love","hi-IN":"","id-ID":"","ja-JP":"","th-TH":"","vi-VN":"","zh-CN":""},SuiteDesign_Legacy_Reaction_MONEY:{"en-US":"Money","hi-IN":"","id-ID":"","ja-JP":"","th-TH":"","vi-VN":"","zh-CN":""},SuiteDesign_Legacy_Reaction_MUSCLE:{"en-US":"Fighting","hi-IN":"","id-ID":"","ja-JP":"","th-TH":"","vi-VN":"","zh-CN":""},SuiteDesign_Legacy_Reaction_NOSEPICK:{"en-US":"NosePick","hi-IN":"","id-ID":"","ja-JP":"","th-TH":"","vi-VN":"","zh-CN":""},SuiteDesign_Legacy_Reaction_OBSESSED:{"en-US":"Obsessed","hi-IN":"","id-ID":"","ja-JP":"","th-TH":"","vi-VN":"","zh-CN":""},SuiteDesign_Legacy_Reaction_OK:{"en-US":"OK","hi-IN":"","id-ID":"","ja-JP":"OK","th-TH":"","vi-VN":"","zh-CN":"OK"},SuiteDesign_Legacy_Reaction_PARTY:{"en-US":"Party","hi-IN":"","id-ID":"","ja-JP":"","th-TH":"","vi-VN":"","zh-CN":""},SuiteDesign_Legacy_Reaction_PETRIFIED:{"en-US":"Petrified","hi-IN":"","id-ID":"","ja-JP":"","th-TH":"","vi-VN":"","zh-CN":""},SuiteDesign_Legacy_Reaction_POOP:{"en-US":"Poop","hi-IN":"","id-ID":"","ja-JP":"","th-TH":"","vi-VN":"","zh-CN":""},SuiteDesign_Legacy_Reaction_PRAISE:{"en-US":"Praise","hi-IN":"","id-ID":"","ja-JP":"","th-TH":"","vi-VN":"","zh-CN":""},SuiteDesign_Legacy_Reaction_PROUD:{"en-US":"Proud","hi-IN":"","id-ID":"","ja-JP":"","th-TH":"","vi-VN":"","zh-CN":""},SuiteDesign_Legacy_Reaction_PUKE:{"en-US":"Puke","hi-IN":"","id-ID":"","ja-JP":"","th-TH":"","vi-VN":"","zh-CN":""},SuiteDesign_Legacy_Reaction_RAINBOWPUKE:{"en-US":"RainbowPuke","hi-IN":"","id-ID":"","ja-JP":"","th-TH":"","vi-VN":"","zh-CN":""},SuiteDesign_Legacy_Reaction_ROSE:{"en-US":"Rose","hi-IN":"","id-ID":"","ja-JP":"","th-TH":"","vi-VN":"","zh-CN":""},SuiteDesign_Legacy_Reaction_SALUTE:{"en-US":"Salute","hi-IN":"","id-ID":"","ja-JP":"","th-TH":"","vi-VN":"","zh-CN":""},SuiteDesign_Legacy_Reaction_SCOWL:{"en-US":"Scowl","hi-IN":"","id-ID":"","ja-JP":"","th-TH":"","vi-VN":"","zh-CN":""},SuiteDesign_Legacy_Reaction_SHAKE:{"en-US":"Shake","hi-IN":"","id-ID":"","ja-JP":"","th-TH":"","vi-VN":"","zh-CN":""},SuiteDesign_Legacy_Reaction_SHHH:{"en-US":"Shhh","hi-IN":"","id-ID":"","ja-JP":"","th-TH":"","vi-VN":"","zh-CN":""},SuiteDesign_Legacy_Reaction_SHOCKED:{"en-US":"Shocked","hi-IN":"","id-ID":"","ja-JP":"","th-TH":"","vi-VN":"","zh-CN":""},SuiteDesign_Legacy_Reaction_SHOWOFF:{"en-US":"Cool","hi-IN":"","id-ID":"","ja-JP":"","th-TH":"","vi-VN":"","zh-CN":""},SuiteDesign_Legacy_Reaction_SHY:{"en-US":"Shy","hi-IN":"","id-ID":"","ja-JP":"","th-TH":"","vi-VN":"","zh-CN":""},SuiteDesign_Legacy_Reaction_SICK:{"en-US":"Sick","hi-IN":"","id-ID":"","ja-JP":"","th-TH":"","vi-VN":"","zh-CN":""},SuiteDesign_Legacy_Reaction_SILENT:{"en-US":"Silent","hi-IN":"","id-ID":"","ja-JP":"","th-TH":"","vi-VN":"","zh-CN":""},SuiteDesign_Legacy_Reaction_SKULL:{"en-US":"Skull","hi-IN":"","id-ID":"","ja-JP":"","th-TH":"","vi-VN":"","zh-CN":""},SuiteDesign_Legacy_Reaction_SLAP:{"en-US":"Slap","hi-IN":"","id-ID":"","ja-JP":"","th-TH":"","vi-VN":"","zh-CN":""},SuiteDesign_Legacy_Reaction_SLEEP:{"en-US":"Sleep","hi-IN":"","id-ID":"","ja-JP":"","th-TH":"","vi-VN":"","zh-CN":""},SuiteDesign_Legacy_Reaction_SLIGHT:{"en-US":"Slight","hi-IN":"","id-ID":"","ja-JP":"","th-TH":"","vi-VN":"","zh-CN":""},SuiteDesign_Legacy_Reaction_SMART:{"en-US":"Smart","hi-IN":"","id-ID":"","ja-JP":"","th-TH":"","vi-VN":"","zh-CN":""},SuiteDesign_Legacy_Reaction_SMILE:{"en-US":"Smile","hi-IN":"","id-ID":"","ja-JP":"","th-TH":"","vi-VN":"","zh-CN":""},SuiteDesign_Legacy_Reaction_SMIRK:{"en-US":"Smirk","hi-IN":"","id-ID":"","ja-JP":"","th-TH":"","vi-VN":"","zh-CN":""},SuiteDesign_Legacy_Reaction_SMOOCH:{"en-US":"Smooch","hi-IN":"","id-ID":"","ja-JP":"","th-TH":"","vi-VN":"","zh-CN":""},SuiteDesign_Legacy_Reaction_SMUG:{"en-US":"Smug","hi-IN":"","id-ID":"","ja-JP":"","th-TH":"","vi-VN":"","zh-CN":""},SuiteDesign_Legacy_Reaction_SOB:{"en-US":"Sob","hi-IN":"","id-ID":"","ja-JP":"","th-TH":"","vi-VN":"","zh-CN":""},SuiteDesign_Legacy_Reaction_SPEECHLESS:{"en-US":"Speechless","hi-IN":"","id-ID":"","ja-JP":"","th-TH":"","vi-VN":"","zh-CN":""},SuiteDesign_Legacy_Reaction_SPITBLOOD:{"en-US":"SpitBlood","hi-IN":"","id-ID":"","ja-JP":"","th-TH":"","vi-VN":"","zh-CN":""},SuiteDesign_Legacy_Reaction_STRIVE:{"en-US":"Strive","hi-IN":"","id-ID":"","ja-JP":"","th-TH":"","vi-VN":"","zh-CN":""},SuiteDesign_Legacy_Reaction_SWEAT:{"en-US":"Sweat","hi-IN":"","id-ID":"","ja-JP":"","th-TH":"","vi-VN":"","zh-CN":""},SuiteDesign_Legacy_Reaction_TEARS:{"en-US":"Tears","hi-IN":"","id-ID":"","ja-JP":"","th-TH":"","vi-VN":"","zh-CN":""},SuiteDesign_Legacy_Reaction_TEASE:{"en-US":"Tease","hi-IN":"","id-ID":"","ja-JP":"","th-TH":"","vi-VN":"","zh-CN":""},SuiteDesign_Legacy_Reaction_TERROR:{"en-US":"Terror","hi-IN":"","id-ID":"","ja-JP":"","th-TH":"","vi-VN":"","zh-CN":""},SuiteDesign_Legacy_Reaction_THANKS:{"en-US":"Thanks","hi-IN":"","id-ID":"","ja-JP":"","th-TH":"","vi-VN":"","zh-CN":""},SuiteDesign_Legacy_Reaction_THINKING:{"en-US":"Thinking","hi-IN":"","id-ID":"","ja-JP":"","th-TH":"","vi-VN":"","zh-CN":""},SuiteDesign_Legacy_Reaction_THUMBSUP:{"en-US":"Thumbsup","hi-IN":"","id-ID":"","ja-JP":"","th-TH":"","vi-VN":"","zh-CN":""},SuiteDesign_Legacy_Reaction_TOASTED:{"en-US":"Toasted","hi-IN":"","id-ID":"","ja-JP":"","th-TH":"","vi-VN":"","zh-CN":""},SuiteDesign_Legacy_Reaction_TONGUE:{"en-US":"Tongue","hi-IN":"","id-ID":"","ja-JP":"","th-TH":"","vi-VN":"","zh-CN":""},SuiteDesign_Legacy_Reaction_TRICK:{"en-US":"Trick","hi-IN":"","id-ID":"","ja-JP":"","th-TH":"","vi-VN":"","zh-CN":""},SuiteDesign_Legacy_Reaction_UPPERLEFT:{"en-US":"UpperLeft","hi-IN":"","id-ID":"","ja-JP":"","th-TH":"","vi-VN":"","zh-CN":""},SuiteDesign_Legacy_Reaction_WAIL:{"en-US":"Wail","hi-IN":"","id-ID":"","ja-JP":"","th-TH":"","vi-VN":"","zh-CN":""},SuiteDesign_Legacy_Reaction_WAVE:{"en-US":"Wave","hi-IN":"","id-ID":"","ja-JP":"","th-TH":"","vi-VN":"","zh-CN":""},SuiteDesign_Legacy_Reaction_WELLDONE:{"en-US":"WellDone","hi-IN":"","id-ID":"","ja-JP":"V5","th-TH":"","vi-VN":"","zh-CN":"V5"},SuiteDesign_Legacy_Reaction_WHAT:{"en-US":"What","hi-IN":"","id-ID":"","ja-JP":"","th-TH":"","vi-VN":"","zh-CN":"what"},SuiteDesign_Legacy_Reaction_WHIMPER:{"en-US":"Whimper","hi-IN":"","id-ID":"","ja-JP":"","th-TH":"","vi-VN":"","zh-CN":""},SuiteDesign_Legacy_Reaction_WINK:{"en-US":"Wink","hi-IN":"","id-ID":"","ja-JP":"","th-TH":"","vi-VN":"","zh-CN":""},SuiteDesign_Legacy_Reaction_WITTY:{"en-US":"Witty","hi-IN":"","id-ID":"","ja-JP":"","th-TH":"","vi-VN":"","zh-CN":""},SuiteDesign_Legacy_Reaction_WOW:{"en-US":"Wow","hi-IN":"","id-ID":"","ja-JP":"","th-TH":"","vi-VN":"","zh-CN":""},SuiteDesign_Legacy_Reaction_WRONGED:{"en-US":"Wronged","hi-IN":"","id-ID":"","ja-JP":"","th-TH":"","vi-VN":"","zh-CN":""},SuiteDesign_Legacy_Reaction_XBLUSH:{"en-US":"Blush","hi-IN":"","id-ID":"","ja-JP":"","th-TH":"","vi-VN":"","zh-CN":""},SuiteDesign_Legacy_Reaction_YAWN:{"en-US":"Yawn","hi-IN":"","id-ID":"","ja-JP":"","th-TH":"","vi-VN":"","zh-CN":""},SuiteDesign_Legacy_Reaction_YEAH:{"en-US":"Yeah","hi-IN":"","id-ID":"","ja-JP":"Yes","th-TH":"","vi-VN":"","zh-CN":""},SuiteDesign_Legacy_Reaction_DONE:{"en-US":"Done","hi-IN":"","id-ID":"","ja-JP":"","th-TH":"","vi-VN":"","zh-CN":""},SuiteDesign_Legacy_SecretCreate:{"en-US":"Secret Chat","hi-IN":"","id-ID":"","ja-JP":"","th-TH":"","vi-VN":"","zh-CN":""},SuiteDesign_Legacy_SendTip:{"en-US":"Message {name}","hi-IN":"","id-ID":"","ja-JP":"{name} ","th-TH":"","vi-VN":"","zh-CN":" {name}"},SuiteDesign_Legacy_StartCall:{"en-US":"Video Call","hi-IN":"","id-ID":"","ja-JP":"","th-TH":"","vi-VN":"","zh-CN":""},SuiteDesign_Legacy_StartChat:{"en-US":"Message","hi-IN":"","id-ID":"","ja-JP":"","th-TH":"","vi-VN":"","zh-CN":""},SuiteDesign_Legacy_TagDepartment:{"en-US":"Team","hi-IN":"","id-ID":"","ja-JP":"","th-TH":"","vi-VN":"","zh-CN":""},SuiteDesign_Legacy_VoiceCallName:{"en-US":"Voice Call","hi-IN":"","id-ID":"","ja-JP":"","th-TH":"","vi-VN":"","zh-CN":""}}},function(e,t,n){"use strict";var r=n(30).default;n(37),(t=e.exports=r).default=t},function(e,t,n){"use strict";var r=n(31),i=n(36);r.default.__addLocaleData(i.default),r.default.defaultLocale="en",t.default=r.default},function(e,t,n){"use strict";var u=n(16),s=n(32),i=n(33),r=n(34);function c(t,e,n){var r="string"==typeof t?c.__parse(t):t;if(!r||"messageFormatPattern"!==r.type)throw new TypeError("A message must be provided as a String or AST.");n=this._mergeFormats(c.formats,n),s.defineProperty(this,"_locale",{value:this._resolveLocale(e)});var i=this._findPluralRuleFunction(this._locale),o=this._compilePattern(r,e,n,i),a=this;this.format=function(e){try{return a._format(o,e)}catch(e){throw e.variableId?new Error("The intl string context variable '"+e.variableId+"' was not provided to the string '"+t+"'"):e}}}t.default=c,s.defineProperty(c,"formats",{enumerable:!0,value:{number:{currency:{style:"currency"},percent:{style:"percent"}},date:{short:{month:"numeric",day:"numeric",year:"2-digit"},medium:{month:"short",day:"numeric",year:"numeric"},long:{month:"long",day:"numeric",year:"numeric"},full:{weekday:"long",month:"long",day:"numeric",year:"numeric"}},time:{short:{hour:"numeric",minute:"numeric"},medium:{hour:"numeric",minute:"numeric",second:"numeric"},long:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"},full:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"}}}}),s.defineProperty(c,"__localeData__",{value:s.objCreate(null)}),s.defineProperty(c,"__addLocaleData",{value:function(e){if(!e||!e.locale)throw new Error("Locale data provided to IntlMessageFormat is missing a `locale` property");c.__localeData__[e.locale.toLowerCase()]=e}}),s.defineProperty(c,"__parse",{value:r.default.parse}),s.defineProperty(c,"defaultLocale",{enumerable:!0,writable:!0,value:void 0}),c.prototype.resolvedOptions=function(){return{locale:this._locale}},c.prototype._compilePattern=function(e,t,n,r){return new i.default(t,n,r).compile(e)},c.prototype._findPluralRuleFunction=function(e){for(var t=c.__localeData__,n=t[e.toLowerCase()];n;){if(n.pluralRuleFunction)return n.pluralRuleFunction;n=n.parentLocale&&t[n.parentLocale.toLowerCase()]}throw new Error("Locale data added to IntlMessageFormat is missing a `pluralRuleFunction` for :"+e)},c.prototype._format=function(e,t){for(var n,r,i,o,a="",s=0,c=e.length;s<c;s+=1)if("string"!=typeof(n=e[s])){if(r=n.id,!t||!u.hop.call(t,r))throw(o=new Error("A value must be provided for: "+r)).variableId=r,o;i=t[r],n.options?a+=this._format(n.getOption(i),t):a+=n.format(i)}else a+=n;return a},c.prototype._mergeFormats=function(e,t){var n,r,i={};for(n in e)u.hop.call(e,n)&&(i[n]=r=s.objCreate(e[n]),t&&u.hop.call(t,n)&&u.extend(r,t[n]));return i},c.prototype._resolveLocale=function(e){"string"==typeof e&&(e=[e]),e=(e||[]).concat(c.defaultLocale);for(var t,n,r=c.__localeData__,i=0,o=e.length;i<o;i+=1)for(t=e[i].toLowerCase().split("-");t.length;){if(n=r[t.join("-")])return n.locale;t.pop()}var a=e.pop();throw new Error("No locale data has been added to IntlMessageFormat for: "+e.join(", ")+", or the default locale: "+a)}},function(e,t,n){"use strict";var o=n(16),r=function(){try{return!!Object.defineProperty({},"a",{})}catch(e){return!1}}(),a=(r||Object.prototype.__defineGetter__,r?Object.defineProperty:function(e,t,n){"get"in n&&e.__defineGetter__?e.__defineGetter__(t,n.get):(!o.hop.call(e,t)||"value"in n)&&(e[t]=n.value)}),i=Object.create||function(e,t){var n,r;function i(){}for(r in i.prototype=e,n=new i,t)o.hop.call(t,r)&&a(n,r,t[r]);return n};t.defineProperty=a,t.objCreate=i},function(e,t,n){"use strict";function r(e,t,n){this.locales=e,this.formats=t,this.pluralFn=n}function a(e){this.id=e}function s(e,t,n,r,i){this.id=e,this.useOrdinal=t,this.offset=n,this.options=r,this.pluralFn=i}function i(e,t,n,r){this.id=e,this.offset=t,this.numberFormat=n,this.string=r}function c(e,t){this.id=e,this.options=t}(t.default=r).prototype.compile=function(e){return this.pluralStack=[],this.currentPlural=null,this.pluralNumberFormat=null,this.compileMessage(e)},r.prototype.compileMessage=function(e){if(!e||"messageFormatPattern"!==e.type)throw new Error('Message AST is not of type: "messageFormatPattern"');for(var t,n=e.elements,r=[],i=0,o=n.length;i<o;i+=1)switch((t=n[i]).type){case"messageTextElement":r.push(this.compileMessageText(t));break;case"argumentElement":r.push(this.compileArgument(t));break;default:throw new Error("Message element does not have a valid type")}return r},r.prototype.compileMessageText=function(e){return this.currentPlural&&/(^|[^\\])#/g.test(e.value)?(this.pluralNumberFormat||(this.pluralNumberFormat=new Intl.NumberFormat(this.locales)),new i(this.currentPlural.id,this.currentPlural.format.offset,this.pluralNumberFormat,e.value)):e.value.replace(/\\#/g,"#")},r.prototype.compileArgument=function(e){var t=e.format;if(!t)return new a(e.id);var n,r=this.formats,i=this.locales,o=this.pluralFn;switch(t.type){case"numberFormat":return n=r.number[t.style],{id:e.id,format:new Intl.NumberFormat(i,n).format};case"dateFormat":return n=r.date[t.style],{id:e.id,format:new Intl.DateTimeFormat(i,n).format};case"timeFormat":return n=r.time[t.style],{id:e.id,format:new Intl.DateTimeFormat(i,n).format};case"pluralFormat":return n=this.compileOptions(e),new s(e.id,t.ordinal,t.offset,n,o);case"selectFormat":return n=this.compileOptions(e),new c(e.id,n);default:throw new Error("Message element does not have a valid format type")}},r.prototype.compileOptions=function(e){var t,n,r,i=e.format,o=i.options,a={};for(this.pluralStack.push(this.currentPlural),this.currentPlural="pluralFormat"===i.type?e:null,t=0,n=o.length;t<n;t+=1)a[(r=o[t]).selector]=this.compileMessage(r.value);return this.currentPlural=this.pluralStack.pop(),a},a.prototype.format=function(e){return e||"number"==typeof e?"string"==typeof e?e:String(e):""},s.prototype.getOption=function(e){var t=this.options;return t["="+e]||t[this.pluralFn(e-this.offset,this.useOrdinal)]||t.other},i.prototype.format=function(e){var t=this.numberFormat.format(e-this.offset);return this.string.replace(/(^|[^\\])#/g,"$1"+t).replace(/\\#/g,"#")},c.prototype.getOption=function(e){var t=this.options;return t[e]||t.other}},function(e,t,n){"use strict";(t=e.exports=n(35).default).default=t},function(e,t,n){"use strict";function He(e,t,n,r){this.message=e,this.expected=t,this.found=n,this.location=r,this.name="SyntaxError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,He)}function r(){this.constructor=i}var i,o;t.default=(i=He,o=Error,r.prototype=o.prototype,i.prototype=new r,{SyntaxError:He,parse:function(k){var e,t=1<arguments.length?arguments[1]:{},S={},n={start:Ie},r=Ie,i=function(e){return{type:"messageFormatPattern",elements:e,location:Te()}},w=function(e){for(var t,n,r,i="",o=0,a=e.length;o<a;o+=1)for(t=0,r=(n=e[o]).length;t<r;t+=1)i+=n[t];return i},I=function(e){return{type:"messageTextElement",value:e,location:Te()}},x=/^[^ \t\n\r,.+={}#]/,L={type:"class",value:"[^ \\t\\n\\r,.+={}#]",description:"[^ \\t\\n\\r,.+={}#]"},R="{",N={type:"literal",value:"{",description:'"{"'},D=",",M={type:"literal",value:",",description:'","'},P="}",j={type:"literal",value:"}",description:'"}"'},F=function(e,t){return{type:"argumentElement",id:e,format:t&&t[2],location:Te()}},B="number",U={type:"literal",value:"number",description:'"number"'},H="date",z={type:"literal",value:"date",description:'"date"'},V="time",K={type:"literal",value:"time",description:'"time"'},W=function(e,t){return{type:e+"Format",style:t&&t[2],location:Te()}},Y="plural",q={type:"literal",value:"plural",description:'"plural"'},A=function(e){return{type:e.type,ordinal:!1,offset:e.offset||0,options:e.options,location:Te()}},Z="selectordinal",X={type:"literal",value:"selectordinal",description:'"selectordinal"'},Q=function(e){return{type:e.type,ordinal:!0,offset:e.offset||0,options:e.options,location:Te()}},J="select",$={type:"literal",value:"select",description:'"select"'},ee=function(e){return{type:"selectFormat",options:e,location:Te()}},u="=",l={type:"literal",value:"=",description:'"="'},d=function(e,t){return{type:"optionalFormatPattern",selector:e,value:t,location:Te()}},s="offset:",c={type:"literal",value:"offset:",description:'"offset:"'},p=function(e){return e},f=function(e,t){return{type:"pluralFormat",offset:e,options:t,location:Te()}},o={type:"other",description:"whitespace"},a=/^[ \t\n\r]/,h={type:"class",value:"[ \\t\\n\\r]",description:"[ \\t\\n\\r]"},g={type:"other",description:"optionalWhitespace"},m=/^[0-9]/,G={type:"class",value:"[0-9]",description:"[0-9]"},v=/^[0-9a-f]/i,y={type:"class",value:"[0-9a-f]i",description:"[0-9a-f]i"},b="0",E={type:"literal",value:"0",description:'"0"'},_=/^[1-9]/,C={type:"class",value:"[1-9]",description:"[1-9]"},T=function(e){return parseInt(e,10)},O=/^[^{}\\\0-\x1F \t\n\r]/,te={type:"class",value:"[^{}\\\\\\0-\\x1F\\x7f \\t\\n\\r]",description:"[^{}\\\\\\0-\\x1F\\x7f \\t\\n\\r]"},ne="\\\\",re={type:"literal",value:"\\\\",description:'"\\\\\\\\"'},ie=function(){return"\\"},oe="\\#",ae={type:"literal",value:"\\#",description:'"\\\\#"'},se=function(){return"\\#"},ce="\\{",ue={type:"literal",value:"\\{",description:'"\\\\{"'},le=function(){return"{"},de="\\}",pe={type:"literal",value:"\\}",description:'"\\\\}"'},fe=function(){return"}"},he="\\u",ge={type:"literal",value:"\\u",description:'"\\\\u"'},me=function(e){return String.fromCharCode(parseInt(e,16))},ve=function(e){return e.join("")},ye=0,be=0,Ee=[{line:1,column:1,seenCR:!1}],_e=0,Ae=[],Ce=0;if("startRule"in t){if(!(t.startRule in n))throw new Error("Can't start parsing from rule \""+t.startRule+'".');r=n[t.startRule]}function Te(){return ke(be,ye)}function Oe(e){var t,n,r=Ee[e];if(r)return r;for(t=e-1;!Ee[t];)t--;for(r={line:(r=Ee[t]).line,column:r.column,seenCR:r.seenCR};t<e;)"\n"===(n=k.charAt(t))?(r.seenCR||r.line++,r.column=1,r.seenCR=!1):"\r"===n||"\u2028"===n||"\u2029"===n?(r.line++,r.column=1,r.seenCR=!0):(r.column++,r.seenCR=!1),t++;return Ee[e]=r}function ke(e,t){var n=Oe(e),r=Oe(t);return{start:{offset:e,line:n.line,column:n.column},end:{offset:t,line:r.line,column:r.column}}}function Se(e){ye<_e||(_e<ye&&(_e=ye,Ae=[]),Ae.push(e))}function we(e,t,n,r){return null!==t&&function(e){var t=1;for(e.sort(function(e,t){return e.description<t.description?-1:e.description>t.description?1:0});t<e.length;)e[t-1]===e[t]?e.splice(t,1):t++}(t),new He(null!==e?e:function(e,t){for(var n=new Array(e.length),r=0;r<e.length;r++)n[r]=e[r].description;return"Expected "+(1<e.length?n.slice(0,-1).join(", ")+" or "+n[e.length-1]:n[0])+" but "+(t?'"'+t.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E\x0F]/g,function(e){return"\\x0"+i(e)}).replace(/[\x10-\x1F\x80-\xFF]/g,function(e){return"\\x"+i(e)}).replace(/[\u0100-\u0FFF]/g,function(e){return"\\u0"+i(e)}).replace(/[\u1000-\uFFFF]/g,function(e){return"\\u"+i(e)})+'"':"end of input")+" found.";function i(e){return e.charCodeAt(0).toString(16).toUpperCase()}}(t,n),t,n,r)}function Ie(){return xe()}function xe(){for(var e=ye,t=[],n=Le();n!==S;)t.push(n),n=Le();return t!==S&&(be=e,t=i(t)),t}function Le(){var e,t,n,r,i,o,a,s,c,u,l,d,p,f,h,g,m,v,y,b,E,_,C,T,O;return O=ye,(T=function(){var e,t,n,r=ye,i=[],o=ye;if((o=(e=Me())!==S&&(t=Ue())!==S&&(n=Me())!==S?e=[e,t,n]:(ye=o,S))!==S)for(;o!==S;)i.push(o),o=ye,o=(e=Me())!==S&&(t=Ue())!==S&&(n=Me())!==S?e=[e,t,n]:(ye=o,S);else i=S;return i!==S&&(be=r,i=w(i)),(r=i)===S&&(r=ye,r=(i=De())!==S?k.substring(r,ye):i),r}())!==S&&(be=O,T=I(T)),(e=T)===S&&(C=ye,123===k.charCodeAt(ye)?(t=R,ye++):(t=S,0===Ce&&Se(N)),e=C=t!==S&&Me()!==S&&(n=function(){var e,t,n;if((e=Fe())===S){if(e=ye,t=[],x.test(k.charAt(ye))?(n=k.charAt(ye),ye++):(n=S,0===Ce&&Se(L)),n!==S)for(;n!==S;)t.push(n),x.test(k.charAt(ye))?(n=k.charAt(ye),ye++):(n=S,0===Ce&&Se(L));else t=S;e=t!==S?k.substring(e,ye):t}return e}())!==S&&Me()!==S?(r=ye,44===k.charCodeAt(ye)?(i=D,ye++):(i=S,0===Ce&&Se(M)),(r=i!==S&&(o=Me())!==S&&(_=ye,k.substr(ye,6)===B?(m=B,ye+=6):(m=S,0===Ce&&Se(U)),m===S&&(k.substr(ye,4)===H?(m=H,ye+=4):(m=S,0===Ce&&Se(z)),m===S&&(k.substr(ye,4)===V?(m=V,ye+=4):(m=S,0===Ce&&Se(K)))),(s=_=m!==S&&Me()!==S?(v=ye,44===k.charCodeAt(ye)?(y=D,ye++):(y=S,0===Ce&&Se(M)),(v=y!==S&&(b=Me())!==S&&(E=Ue())!==S?y=[y,b,E]:(ye=v,S))===S&&(v=null),v!==S?(be=_,m=W(m,v)):(ye=_,S)):(ye=_,S))===S&&(g=ye,k.substr(ye,6)===Y?(p=Y,ye+=6):(p=S,0===Ce&&Se(q)),(s=g=p!==S&&Me()!==S?(44===k.charCodeAt(ye)?(f=D,ye++):(f=S,0===Ce&&Se(M)),f!==S&&Me()!==S&&(h=Ne())!==S?(be=g,p=A(h)):(ye=g,S)):(ye=g,S))===S)&&(d=ye,k.substr(ye,13)===Z?(c=Z,ye+=13):(c=S,0===Ce&&Se(X)),(s=d=c!==S&&Me()!==S?(44===k.charCodeAt(ye)?(u=D,ye++):(u=S,0===Ce&&Se(M)),u!==S&&Me()!==S&&(l=Ne())!==S?(be=d,c=Q(l)):(ye=d,S)):(ye=d,S))===S)&&(s=function(){var e,t,n,r,i=ye;if(k.substr(ye,6)===J?(e=J,ye+=6):(e=S,0===Ce&&Se($)),e!==S)if(Me()!==S)if(44===k.charCodeAt(ye)?(t=D,ye++):(t=S,0===Ce&&Se(M)),t!==S)if(Me()!==S){if(n=[],(r=Re())!==S)for(;r!==S;)n.push(r),r=Re();else n=S;i=n!==S?(be=i,e=ee(n)):(ye=i,S)}else ye=i,i=S;else ye=i,i=S;else ye=i,i=S;else ye=i,i=S;return i}()),(a=s)!==S)?i=[i,o,a]:(ye=r,S))===S&&(r=null),r!==S&&(i=Me())!==S?(125===k.charCodeAt(ye)?(o=P,ye++):(o=S,0===Ce&&Se(j)),o!==S?(be=C,t=F(n,r)):(ye=C,S)):(ye=C,S)):(ye=C,S)),e}function Re(){var e,t,n,r,i,o,a,s,c=ye;return c=Me()!==S&&(s=a=ye,61===k.charCodeAt(ye)?(i=u,ye++):(i=S,0===Ce&&Se(l)),(a=(s=i!==S&&(o=Fe())!==S?i=[i,o]:(ye=s,S))!==S?k.substring(a,ye):s)===S&&(a=Ue()),(e=a)!==S)&&Me()!==S?(123===k.charCodeAt(ye)?(t=R,ye++):(t=S,0===Ce&&Se(N)),t!==S&&Me()!==S&&(n=xe())!==S&&Me()!==S?(125===k.charCodeAt(ye)?(r=P,ye++):(r=S,0===Ce&&Se(j)),r!==S?(be=c,d(e,n)):(ye=c,S)):(ye=c,S)):(ye=c,S)}function Ne(){var e,t,n,r,i,o,a=ye;if(o=ye,k.substr(ye,7)===s?(r=s,ye+=7):(r=S,0===Ce&&Se(c)),(e=o=r!==S&&Me()!==S&&(i=Fe())!==S?(be=o,r=p(i)):(ye=o,S))===S&&(e=null),e!==S)if(Me()!==S){if(t=[],(n=Re())!==S)for(;n!==S;)t.push(n),n=Re();else t=S;a=t!==S?(be=a,e=f(e,t)):(ye=a,S)}else ye=a,a=S;else ye=a,a=S;return a}function De(){var e,t;if(Ce++,e=[],a.test(k.charAt(ye))?(t=k.charAt(ye),ye++):(t=S,0===Ce&&Se(h)),t!==S)for(;t!==S;)e.push(t),a.test(k.charAt(ye))?(t=k.charAt(ye),ye++):(t=S,0===Ce&&Se(h));else e=S;return Ce--,e===S&&(t=S,0===Ce&&Se(o)),e}function Me(){var e,t,n;for(Ce++,e=ye,t=[],n=De();n!==S;)t.push(n),n=De();return e=t!==S?k.substring(e,ye):t,Ce--,e===S&&(t=S,0===Ce&&Se(g)),e}function Pe(){var e;return m.test(k.charAt(ye))?(e=k.charAt(ye),ye++):(e=S,0===Ce&&Se(G)),e}function je(){var e;return v.test(k.charAt(ye))?(e=k.charAt(ye),ye++):(e=S,0===Ce&&Se(y)),e}function Fe(){var e,t,n,r,i,o=ye;if(48===k.charCodeAt(ye)?(e=b,ye++):(e=S,0===Ce&&Se(E)),e===S){if(t=e=ye,_.test(k.charAt(ye))?(n=k.charAt(ye),ye++):(n=S,0===Ce&&Se(C)),n!==S){for(r=[],i=Pe();i!==S;)r.push(i),i=Pe();t=r!==S?n=[n,r]:(ye=t,S)}else ye=t,t=S;e=t!==S?k.substring(e,ye):t}return e!==S&&(be=o,e=T(e)),e}function Be(){var e,t,n,r,i,o,a,s;return O.test(k.charAt(ye))?(e=k.charAt(ye),ye++):(e=S,0===Ce&&Se(te)),e===S&&(e=ye,k.substr(ye,2)===ne?(t=ne,ye+=2):(t=S,0===Ce&&Se(re)),t!==S&&(be=e,t=ie()),(e=t)===S&&(e=ye,k.substr(ye,2)===oe?(t=oe,ye+=2):(t=S,0===Ce&&Se(ae)),t!==S&&(be=e,t=se()),(e=t)===S&&(e=ye,k.substr(ye,2)===ce?(t=ce,ye+=2):(t=S,0===Ce&&Se(ue)),t!==S&&(be=e,t=le()),(e=t)===S&&(e=ye,k.substr(ye,2)===de?(t=de,ye+=2):(t=S,0===Ce&&Se(pe)),t!==S&&(be=e,t=fe()),(e=t)===S&&(e=ye,k.substr(ye,2)===he?(t=he,ye+=2):(t=S,0===Ce&&Se(ge)),e=t!==S?(r=n=ye,(n=(r=(i=je())!==S&&(o=je())!==S&&(a=je())!==S&&(s=je())!==S?i=[i,o,a,s]:(ye=r,S))!==S?k.substring(n,ye):r)!==S?(be=e,t=me(n)):(ye=e,S)):(ye=e,S)))))),e}function Ue(){var e,t=ye,n=[];if((e=Be())!==S)for(;e!==S;)n.push(e),e=Be();else n=S;return n!==S&&(be=t,n=ve(n)),n}if((e=r())!==S&&ye===k.length)return e;throw e!==S&&ye<k.length&&Se({type:"end",description:"end of input"}),we(null,Ae,_e<k.length?k.charAt(_e):null,_e<k.length?ke(_e,_e+1):ke(_e,_e))}})},function(e,t,n){"use strict";t.default={locale:"en",pluralRuleFunction:function(e,t){var n=String(e).split("."),r=!n[1],i=Number(n[0])==e,o=i&&n[0].slice(-1),a=i&&n[0].slice(-2);return t?1==o&&11!=a?"one":2==o&&12!=a?"two":3==o&&13!=a?"few":"other":1==e&&r?"one":"other"}}},function(e,t){}],a={},i.m=o,i.c=a,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=27);function i(e){if(a[e])return a[e].exports;var t=a[e]={i:e,l:!1,exports:{}};return o[e].call(t.exports,t,t.exports,i),t.l=!0,t.exports}var o,a},e.exports=r(n("q1tI"),n("i8i4"))},JC6p:function(e,t,n){var r=n("cq/+"),i=n("7GkX");function o(e,t){return e&&r(e,t,i)}e.exports=o},JHRd:function(e,t,n){var r=n("Kz5y").Uint8Array;e.exports=r},JLQQ:function(e,t,n){n("UUWy");var r=n("vA1p"),i=n("j5XY"),o=Array.prototype,a={DOMTokenList:!0,NodeList:!0};e.exports=function(e){var t=e.forEach;return e===o||e instanceof Array&&t===o.forEach||a.hasOwnProperty(i(e))?r:t}},JO1u:function(e,t,r){"use strict";r.d(t,"b",function(){return g}),r.d(t,"a",function(){return v}),r.d(t,"c",function(){return E});var n=r("o0o1"),i=r.n(n),o=r("yXPU"),a=r.n(o),s=r("MXQz"),c=r("F2jy"),u=r("rlTC"),l=r("kUgE"),d=r("iP/4"),p=r("VIFs"),f=r("skFV"),h=r("U6jp"),g=Object(s.a)(a()(i.a.mark(function e(){var t,n,r;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Object(l.getLocale)().replace("-","_"),n=Object(p.getDomainConfig)("domain"),d.a.isLark)return e.next=5,Object(h.h)("env");e.next=6;break;case 5:r=e.sent;case 6:Object(c.d)({env:{locale:t,appVersion:"3.36.0",isOverseaPkg:r&&r.isOverseaRaw},domains:{1:[n.lark_api],2:[n.lark_file],9:[n.passport],63:[n.applink]}});case 7:case"end":return e.stop()}},e)}))),m=new Map,v=function(){var t=a()(i.a.mark(function e(t){var n;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=y(t),m.has(t)){e.next=6;break}return e.next=4,r("0zrf")("./"+t);case 4:n=e.sent,m.set(t,{emoji:n.default});case 6:return e.abrupt("return",m.get(t));case 7:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}(),y=function(e){return["ru-RU","it-IT","de-DE","id-ID","hi-IN","en-US","es-ES","ja-JP","th-TH","fr-FR","zh-CN","pt-BR","ko-KR","vi-VN"].includes(e)?e:"en-US"},b=function(){return!!u.a.isOverseaPkg},E=function(){return(d.a.isLark?b:Object(f.y))()}},JTzB:function(e,t,n){var r=n("NykK"),i=n("ExA7"),o="[object Arguments]";function a(e){return i(e)&&r(e)==o}e.exports=a},JWLt:function(e,t,n){"use strict";var r=/([-.*+?^${}()|[\]\/\\])/g,i=/\\/g,_=function(e){return(e+"").replace(r,"\\$1")},C=function(e){return(e+"").replace(i,"")},o=RegExp("^(?:\\s*(,)\\s*|\\s*(<combinator>+)\\s*|(\\s+)|(<unicode>+|\\*)|\\#(<unicode>+)|\\.(<unicode>+)|\\[\\s*(<unicode1>+)(?:\\s*([*^$!~|]?=)(?:\\s*(?:([\"']?)(.*?)\\9)))?\\s*\\](?!\\])|(:+)(<unicode>+)(?:\\((?:(?:([\"'])([^\\13]*)\\13)|((?:\\([^)]+\\)|[^()]*)+))\\))?)".replace(/<combinator>/,"["+_(">+~`!@$%^&={}\\;</")+"]").replace(/<unicode>/g,"(?:[\\w\\u00a1-\\uFFFF-]|\\\\[^\\s0-9a-f])").replace(/<unicode1>/g,"(?:[:\\w\\u00a1-\\uFFFF-]|\\\\[^\\s0-9a-f])")),T=function(e){this.combinator=e||" ",this.tag="*"};T.prototype.toString=function(){if(!this.raw){var e,t,n="";if(n+=this.tag||"*",this.id&&(n+="#"+this.id),this.classes&&(n+="."+this.classList.join(".")),this.attributes)for(e=0;t=this.attributes[e++];)n+="["+t.name+(t.operator?t.operator+'"'+t.value+'"':"")+"]";if(this.pseudos)for(e=0;t=this.pseudos[e++];)n+=":"+t.name,t.value&&(n+="("+t.value+")");this.raw=n}return this.raw};var O=function(){this.length=0};O.prototype.toString=function(){if(!this.raw){for(var e,t="",n=0;e=this[n++];)1!==n&&(t+=" ")," "!==e.combinator&&(t+=e.combinator+" "),t+=e;this.raw=t}return this.raw};var a=function(e,t,n,r,i,o,a,s,c,u,l,d,p,f,h,g){var m,v,y,b,E;return(!t&&this.length||(m=this[this.length++]=new O,!t))&&(m=m||this[this.length-1],!n&&!r&&m.length||(v=m[m.length++]=new T(n)),v=v||m[m.length-1],i?v.tag=C(i):o?v.id=C(o):a?(y=C(a),(b=v.classes||(v.classes={}))[y]||(b[y]=_(a),(E=v.classList||(v.classList=[])).push(y),E.sort())):p?(g=g||h,(v.pseudos||(v.pseudos=[])).push({type:1==d.length?"class":"element",name:C(p),escapedName:_(p),value:g?C(g):null,escapedValue:g?_(g):null})):s&&(l=l?_(l):null,(v.attributes||(v.attributes=[])).push({operator:c,name:C(s),escapedName:_(s),value:l?C(l):null,escapedValue:l?_(l):null}))),""},s=function(e){this.length=0;for(var t,n=this,r=e;e;){if((t=e.replace(o,function(){return a.apply(n,arguments)}))===e)throw new Error(r+" is an invalid expression");e=t}};s.prototype.toString=function(){if(!this.raw){for(var e,t=[],n=0;e=this[n++];)t.push(e);this.raw=t.join(", ")}return this.raw};var c={},u=function(e){return null==e?null:(e=(""+e).replace(/^\s+|\s+$/g,""),c[e]||(c[e]=new s(e)))};e.exports=u},JXNz:function(e,t,n){"use strict";var r=n("wMhR");t.a=r.a},JZM8:function(e,t,n){var r=n("FfPP"),i=n("xs/l")(function(e,t){return null==e?{}:r(e,t)});e.exports=i},JbSc:function(e,t){var n={};e.exports=n},Jdee:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=function(e,t){return e.appState.permissionUserMap[t]}},Jm8n:function(e,t,n){n("m/sp")("patternMatch")},Jmo2:function(e,t,n){"use strict";n.d(t,"a",function(){return g}),n.d(t,"c",function(){return y}),n.d(t,"b",function(){return b});var r=n("AiBH"),i="select-all",o="tab",a="shift-tab",s="shift-up",c="shift-left",u="shift-down",l="shift-right",d="delete-paragraph",p="esc",f="shift-enter",h="copy",g="paste",m="cut",v="save",y={A:65,B:66,C:67,D:68,E:69,F:70,S:83,V:86,X:88},b=[{action:"delete",keyCode:r.t.BACKSPACE},{action:i,keyCode:y.A,isCtrlOrCmd:!0},{action:o,keyCode:r.t.TAB},{action:a,keyCode:r.t.TAB,isShift:!0},{action:s,keyCode:r.t.UP,isShift:!0},{action:u,keyCode:r.t.DOWN,isShift:!0},{action:c,keyCode:r.t.LEFT,isShift:!0},{action:l,keyCode:r.t.RIGHT,isShift:!0},{action:d,keyCode:r.t.BACKSPACE,isCtrlOrCmd:!0},{action:p,keyCode:r.t.ESC},{action:f,keyCode:r.t.RETURN,isShift:!0},{action:h,keyCode:y.C,isCtrlOrCmd:!0},{action:g,keyCode:y.V,isCtrlOrCmd:!0},{action:m,keyCode:y.X,isCtrlOrCmd:!0},{action:v,keyCode:y.S,isCtrlOrCmd:!0}]},Jonh:function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"g",function(){return s}),n.d(t,"b",function(){return c}),n.d(t,"h",function(){return u}),n.d(t,"i",function(){return l}),n.d(t,"f",function(){return d}),n.d(t,"e",function(){return p}),n.d(t,"d",function(){return f}),n.d(t,"c",function(){return h});var r=n("rLED"),i=n("ZGZ5"),o=n("D7h9"),a=Object(r.e)("doc_template_v3_custom_enabled"),s=Object(r.e)("doc_template_v3_mindnote_enabled"),c=Object(r.e)("doc_template_v3_from_v2"),u=Object(r.e)("doc_template_v3_corporate_enabled")&&!Object(i.d)(o.default.getState()),l=Object(r.e)("doc_template_v4_preview_enabled"),d=Object(r.e)("template_new_layout_enabled"),p=Object(r.e)("system_template_shared_enabled"),f=Object(r.e)("send_template_exposure_log_enable"),h=Object(r.e)("template_new_window_in_lark")},JpaV:function(e,t,n){var r=n("EA7m"),o=n("6T1N"),a=n("V9aw"),s=n("6KkN"),c=1,u=32,l=r(function(e,t,n){var r,i=c;return n.length&&(r=s(n,a(l)),i|=u),o(e,i,t,n,r)});l.placeholder={},e.exports=l},Jpay:function(e,t,n){e.exports=n("gByu")},Juji:function(e,t){function n(e,t){return null!=e&&t in Object(e)}e.exports=n},JvmS:function(e,t){var n=t.getChildren=function(e){return e.children},r=t.getParent=function(e){return e.parent};t.getSiblings=function(e){var t=r(e);return t?n(t):[e]},t.getAttributeValue=function(e,t){return e.attribs&&e.attribs[t]},t.hasAttrib=function(e,t){return!!e.attribs&&hasOwnProperty.call(e.attribs,t)},t.getName=function(e){return e.name}},JyuV:function(e,t,n){"use strict";var r=n("pVnL"),i=n.n(r),o=n("QILm"),a=n.n(o),s=n("q1tI"),c=n.n(s);t.a=function(e){e.styles;var t=a()(e,["styles"]);return c.a.createElement("svg",i()({width:"34",height:"44",xmlnsXlink:"http://www.w3.org/1999/xlink"},t),c.a.createElement("defs",null,c.a.createElement("path",{d:"M2.32 0h21.74c.4 0 .8.16 1.09.45l8.36 8.36c.29.29.45.68.45 1.1v31a2.32 2.32 0 01-2.32 2.31H2.32A2.32 2.32 0 010 40.9V2.32A2.32 2.32 0 012.32 0z",id:"22472075bc7cd30e21af05b843e9b64f-a"})),c.a.createElement("g",{fill:"none",fillRule:"evenodd"},c.a.createElement("mask",{id:"22472075bc7cd30e21af05b843e9b64f-b",fill:"#fff"},c.a.createElement("use",{xlinkHref:"#22472075bc7cd30e21af05b843e9b64f-a"})),c.a.createElement("use",{fill:"#DEE0E3",xlinkHref:"#22472075bc7cd30e21af05b843e9b64f-a"}),c.a.createElement("path",{d:"M24.7-1.54l10.8 10.8h-8.49a2.32 2.32 0 01-2.31-2.31v-8.5z",fill:"#BBBFC4",mask:"url(#22472075bc7cd30e21af05b843e9b64f-b)"}),c.a.createElement("path",{d:"M4.63 13.9h24.7v24.69H4.63z"}),c.a.createElement("path",{d:"M18.21 32.42c.17 0 .31.13.31.3v1.7a.3.3 0 01-.3.31H8.01a.3.3 0 01-.3-.3v-1.7c0-.18.14-.31.3-.31h10.2zm7.72-6.95c.17 0 .31.14.31.3v1.7a.3.3 0 01-.3.31H8.02a.3.3 0 01-.31-.3v-1.7c0-.17.14-.31.3-.31h17.91zm0-6.95c.17 0 .31.14.31.31v1.7a.3.3 0 01-.3.3H8.02a.3.3 0 01-.31-.3v-1.7c0-.17.14-.3.3-.3h17.91z",fill:"#FFF"})))}},JzhP:function(e,t,n){"use strict";n.r(t);var r=n("5cZX");n.d(t,"selectCurrentSuiteOtherPermissions",function(){return r.u}),n.d(t,"selectCurrentSuiteMember",function(){return r.q}),n.d(t,"selectPublicPermission",function(){return r.L}),n.d(t,"selectIsOwner",function(){return r.F}),n.d(t,"ifhaveCommentPermission",function(){return r.b}),n.d(t,"selectCanEditInvolvingEditMode",function(){return r.e}),n.d(t,"selectCurrentSuitePermissionInfo",function(){return r.w}),n.d(t,"selectIsInEditMode",function(){return r.E}),n.d(t,"selectIsDocLockedByPlugin",function(){return r.C});var i=n("vc5i");n.d(t,"selectCurrentSuiteToken",function(){return i.n}),n.d(t,"selectCurrentSuiteType",function(){return i.o}),n.d(t,"selectCurrentSuiteByObjToken",function(){return i.f}),n.d(t,"selectCurrentSuiteOwner",function(){return i.i});var o=n("Q9MD");n.d(t,"selectCurrentSuiteMembers",function(){return o.e});var a=n("jzcD");n.d(t,"selectTranslate",function(){return a.b});var s=n("ZGZ5");n.d(t,"selectCurrentUser",function(){return s.a});var c=n("n3ZB");n.d(t,"selectUserGuide",function(){return c.i}),n.d(t,"selectUserProfile",function(){return c.j});var u=n("m1/u");n.d(t,"selectFetchStatus",function(){return u.a}),n.d(t,"selectIsFetchStatusAllLoaded",function(){return u.c});var l=n("tOQ2");n.d(t,"selectIsDocFindReplaceOpen",function(){return l.e})},JznU:function(e,t,n){"use strict";function r(e,t){return{top:(e.top||0)*t,bottom:(e.bottom||0)*t,left:(e.left||0)*t,right:(e.right||0)*t,height:(e.height||0)*t,width:(e.width||0)*t,x:(e.x||0)*t,y:(e.y||0)*t}}n.d(t,"a",function(){return r})},K6ZQ:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAABbQAAADcCAMAAACf49d1AAAApVBMVEXv8PFkanOPlZ7p6uyKj5bU1tjt7u+WmqHMztHc3d/j5OZpb3eboKWkqK20t7uGi5Khpap4fobn6Ol1e4OUmJ7e3+GeoaiDiI+8wMR8gYm4u8COk5nJy87Ex8trcXp/hYymqa+qrrO/wsa7vcLr7O7P0tWusbZ0eYFudHzg4uRxdn/Gyc2YnaPCxcixtLnY2tzl5ujIys2zt7uoq7K1ub3///9+hIsnEMmWAAAVJUlEQVR42uzBgQAAAACAoP2pF6kCAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGD24EAAAAAAAMj/tRFUVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVYU9OCQAAAAAEPT/tTcMAAAAAAAAAAAAAAAAAAAA8BM79t+UKBDHcfz7Efkh4hGgIhi/FM0sxbTr+T+0AwQWBEOnmxtvhtcfYbVNsWtv1xV4+zQVxenJ5gXqdDqdziPTbbFXEG2dOp1Op/OohIXYqxAX//9um6MOkfD/L+Tf1s1I5/+n+70aX/9m/Pl7g9En3S6UdTp7NVS618HQqGZ9YmF2vDVVCJr7fP1/9smTqGTlPVGrRUhM33ilCn6XfmGsrajOy0Zz5jyif8Ee+pQycKDZgO4Rel5IF5zxggoTo0/fkCXbD+mvcAyRmoz2HCVCTW1NsOOdqGTSMw5Ud9KWlIsMlTqdRzZReg2UCV0h44USH1CJeRYbFeGcoZdHGwYxy1+Nlpe/E1SzhcwqBYUqZnCbyxG4n0R9OFTygTm1OcGUk07oKQuRnqLMHCOKmZCoboMJJRS8hFQS9BvJ388nb18RUe4TT5TSIDvQskwtTo0+qIIDOLqwhk+FCSyq4+QBvwtE00VsTW3200bri0XsU4NXgKfECiYxE7FsXzwzKuEPLYypTkE6/iAk8wuNksuBOp2HpCu9Rop+V7R/odGvtmhv0Wj7w2gLBlzvwoESKt7K0X6Wbox2pOElIpqiSmcdaY32B7Dxzt4pMUajyffzucYVR4r5SsyElVyWZEEmBdl+tIdGT7dHWxDq0f7sm5axQcHoT48raqOikXlLtH2o+Z/1RAyPsv55bVm02aiPa9E+ugsWbc/lqdN5QILfu8IX7ou2Mkg5q0FBaY/26YmxoOUPTxTjC88Az1SjbRqxDVwj4eQlAYaX0tE6YO92HvxdLCLC8MZok97HhqeFktpAVFJcng+LmqItH8Mi2oMXFNQs2iMpM8NWyoXfz+ezUtiirzASxQww7/SFVxJUBJRw9qkToOxLpJujzcOsR1tBzDW+1Ln4tN5FHN1EcnI7YOfkpBuiHW7g6G8JFaO3Mz5ZICmmIZBSfLK2LNqMD+9atGewimhL0LrT785DWvSuWtwX7REl+PJzfdQS7Sp5c7EHwhXVaFtubIihm9hRKtrgkxrNUDK6J9okjLGR6ewLEyozYE0TW8ynmTeKidjn0f4cQpW5hO7hM4v2slgH1pbW+WRUPNMFXoqNME4uAzIxIHrdGBwx4zyFITE/ifZepx8QAIGY9mjb0AQeFcW453S6oohi5WiHg0L0Apt9FpajLWjY5dGeY0GdzgPSxV7J4fehx4g6XVjNJvVoh04pMqGF/jo1uzvaClSqUAsmoDJJlYMgcDEKgsbjkWgL8/UCpfQtxvFG3sD8KeZUo91e7YBI8hNbTNNrSKkl6oL0Zt2NnkZb7gN9nctu1BNYtA+TxDuCyZlAV+azPdr1M20VfLJuOjHH/KVnpQVU6DMAezy/Hu3DR75sS/qn0bbwiybjmIrtOJPfiZdWd2iFF9HmcQVPFNm2rWJs2w4tYGXRXsHqNtqdh2T3yn7//t0rsenCO5a1aEcWJBYZHznz3mjzgESFljPtBTIs2pVmfw1RtS29MLAz7fuiTULtRFnP3yOIi5SG0yITZfkcpdH2MQxk1ZoQCT7AE4u2j6oD0bX5bI+2zqdOEPmUiRmfKrK9Qn7vvAu2wmjmXon2YK9C+1m0HS8DeBnnlmgvsOEotYdPVTbM8/KOLqNtxIAXo7DFMLnwyRJlzHSrfY622W20O49JEL+Ltii0R3vpwuLzyITvwJpL9FDbaVvHswCbY+pAZdwXwN0c7UH88y7Wx2NDtAdbmLqLU8D4ebT9YdQS7TacnLDAp9c8vi8cNZ5pk6ANB0m0hdGAhBE20sCLP1Al2lqfGSbRbplPRoVDFTtc8UZnkz/sneeWgkgQRuuTIEFXCYoYMIEKxlHPvP+jrcQGwTCz4bhnuT9ER0GnmLm01dXda2a6L7DdhQRJHQENVcr1H4zP5xH481nIpO3YuGH/NWkvUWL5hrR7TnayeHhUwN9ASLZSQdrszzdjlnVieu1220Cn3b4Fd4FLJG05qBvaNZ+J0KiQNkN4JW3JAtpuKhn5G+sp+m5oF7OU0y5xpDwN/ETaLKc9skIMBFbEnojTeI6cwsF0BBTj04+lzfrNXKKqnPYXsKAH0qYhzKzkjwYqVGgyFaV9IIaBE72OJ5O2WqyoF5pFNFjxHSH5qBtcKEW8QBWoyBweIGBODBMx51Da7ri/BhDshkzaqlNm9oa0W1yIDujRnVaFtC0vIw6+aAGj+MrZUx0l4xQ+x0efWxf2PAy3LG0BWr43U6b8o0N8eDl5GXekmppPZPhc2sNqaUO7cfyCNgJsiXWctcCfXBNTgceIK0lbm9+hFPv0I2nrpvxDaa9R4EpEYVrYwXzFmKfSvtoRDtbRdvuutG2E+DSoqlGbBB16KG3RmOqJtLlFQ4XDLPtY2q/jyQrnNgeXiois8mdW2EOcA3NyZWmw6jamAW6sT5RH33Q4gGs4uR8vZrMOrNnMIwGOE+3kEfn4TqVdRfsNafeLOe1+hbRz+MlFJZT2GfcYRLIJZ2ZaG0TMmbRLX0xKjfg9wItE+jFkDyPa+lRT83lcnkv7Ui3tCOELgL3PVztwf6T6bYpV1SNPGAJDgKMdNhIxbDUBSO7M76Xt9wpwFONU57TnKDB4V9qX3W63gU9SqTAyUp3/WNp0iqtH5HlHBZy2QqeeXpS2PWKoOL0RT2ahoQmsB1Rggg7rdbwQybyUnj+o04CJrrOzwN81tLehtD10y9UjEq8CKv+HBDtKklhZekQsQ3+PtDd8xinJyPMY0UC7ocLQMjqp4p1v8zIQJKhyWdp75K6uk7uved0wWnl2VFPzefSfS7tfLe3AvyF+IdiXS9SknQMH6s7LJMOyBI85AINQFsSNoOYUZAUqnIAB3ElbZnYQDwdiODhxDCWVtshF8NhHW/EnOW0bPlXhDxgGZuzBMT+4xlfhmAM9ktOZXnREvo4n64j0poAlZMKOciJ2M2JOe7SIzqmC23FJ9ZRvXoZSFDolwIoYgmrFJX8mxiVpt+HA5tLqETkVoIn9L3Pa3+0IIN5+v5HT1tDeJyeLcwKR8ijtPyZCdj3klbK0RQNemikxcjvrqgoDQ1pMGUYt7ZqPpPlc2s1XOe2CtEXhD3MNdCbitgNoXcnNSWb15H9A7APLWBYktpiYS4PeBDi9vLS9HVxKcQFiPMpp0+9y2kzavW6OyDJbPOCclzbtpUQTTNpR9+IMK52xxulFPMvVI8sN0NXTeOXokBBqj0+b/750VEQK6fUoTXIvCmO8j/F5OG0CpdTS9vIlf0fwaSylf68jkh+JqbSX1SkYcb2OzjhVDa45wHKTD70ixlltYHX3JWlYS7vmI/lbpe2rwPdMOtINrx8AEyYZ1llfhuOBIRvUMS8kRBXV0bMXargWOo+AwN+mTIDbbS+T9joPk7YYwmMSbX8hbQk5TLpxzAZ0WuFmhKAbI+WkrW8zRmhtt1J67SjntF/EsyxtUkwgiOWryzKPuRzjEweDOHUjPh5AoxOjj1n63AC8+HRwjQcz7ZM9Ep2KuG9JeyRFAPF29Ia0JY5SaVuQH5R9U0JZ2q6FXRxdjcuP6mq2cJDVjV9Lu+bjYekRNrgmR/9H0qbBQCEagf+iEG9JOcm04Bg55pQhaVCHeZFcC23tLnYVo2+UZcMBjCu3f9C6HXU6BjadDJOVKTM6v5I2ryTsYRab74s4LlY5+dPzUMTOMuAz9CVGgNPreJbrtL+MWP3p+OtzKzGaBpfppyjtEmdobvaciYb4TNqTtMhyDZ84FNnT35TT5qlEIm0ZToshvCdt8gOciY5qoWpmB6+FA600rpZ2zcdzaTzl8jNpR/Rma2hX7r7jjH8wSZHeB2yhKJIVcGB+MdL/5QXUXqHYBAqR0M8AbjcSpXgOJCrhQY36sAJNW/9O2uy1UlHaAY5V0hZbAHpyvgxv2mzO4iMKL3La5XhWS5u4Q6JYV8NXLmdhwvvG9i1pD+Ec2XPcFE3xobSlhY1VcihVDPfRGM6/Ie1i2CZpPr9pAs0QsVLaJAGSa+NQ+NGUQmmLxzo9UvP5DBtPGf5M2gniwMDoXjIbeErGPJO2tAa67r1I2sCAUoQNlkkDnLlg3PnDT2f5E6ty2jR2YA0Yi0zafJqXOP5S2o6dYBSkrQBuhbSVDtZqXPKn3+e0N+ERt92IDuz4Dvc6nmVpMw5YX69XDd3brRB1ALPZS/brFCC7K2QSVaX8eVAMNN1H0jYBTaf4Z9PI3MQYvZa2LwhzmEIEEG9NzAXBf1fa3jjjD2z8Uj6fq5Y2nbExi4e1IaVTs3atjLojsuYzERpPEd6RtmcvM8noSznSzFW+k8wRRl4smbQFBF8Vrb+mplDe2nOiGdSvyqlZD0avLG3xqqKA+rdJm5WhfRekvYBNZWlvA9h+1BEpjgylKG0ODrvqnNFncziV4/m2tJdgXIhkAAMmwQo8ChHTCyU7D8cNLIVJW1/kpD2eLRTWIv25tFt4QOtdaTN8AxKFyJMbC2ASctfSZjSBQKEcfINSafN1yV/NpyM2n+W0m+I70t6imUlmDgSNg1CelW6IbqW0aaJQhbTFE1HB2jsTjkSV0u7C5u6lvdcAjCbbhEGA7t8jbelxesTGvCBtb3ki6gIdPRkReYHlFqR9xHfcv9rUE2mPjSWFlOP5trT1bcg3VrfbUPVGrrhN5BJOYBWRYvJ9AFcaGSGAEeEKAdZCIm2z79jFCaNEP9Hv+RfSPvO8DYMvYMDm+fPb0hYp5mRj9bIjkqE3AbXwLhM5k7bSy1jV0q75TH47YZS+l1NpD9HOJKPsu98AjK7HJMPsUpb2686xtM0HR6BqaYsdNIvSPk6BzsLORmsKBrr0lrQVSXwq7SF0CR0v4ZyX9gTqqSDtM2ahtC8iJdIWR2gWpL1IB6dblEo7GVdejufb0r6rw9ONUGmnqfQ81h04X0RT5HFJ1qLAud4IwHpVlLYSfXoxgFAlbRbPZzltxo9z2jSzl258ctv0vrSlNdZNgPer5tOuzGkru/V6p1BNzYfwg6lZmbQ3hw7wlUp7hmshB6t/tTbA+pqXjADH/b20PR43+ActbVI22BekrQfaPh6zPZKJ9JmKGT2StuvmpC0BjWfSnkE93pf8sW8DLSpI+xK6uSflVq7R1xjkpd2PTCEAxyw9MsdaIaqM5/vSFpWjhX7XtNok8sCISEDreazHRtQHqd9QACVdSU1puUQNFXB2khjntDMEdKJ4alQlbRbPf0jargVsZv5ATWNSlrau30ub6wKmTl8BnMGb0uY0jEbQ6nWiaz6GHy2CsMMf0mqEGyovf2GaiENikokRx63NIi8ZEyb9VtrjDmDvFxpgbcvSZgsIMGnT0c1a3N25g2+BytIW6ZComkn7AkCnR2jAxiMJ00XCDGa+2zPZM41LE5P7NSIlzFJpswpnDTOW0yY+8VQ5nu9JW5oaDlK61MfmGwItMXwRa+7xczxG8aLGRWlPoqh3MauUNovnPyHtCC/+S5xQSdqc98fOrFgjUtLgRO9xagAj4S1pn7EgWuBMNTUfwvvLjYmLi4YIuz12iXxgoSjCDiqXLY/FOOaXG9ti4/9O2sfVN6ANxLiGAlrbE4mpUEmlmywkRkVcz8YNTeIqpN0CMkksEg/IxpM5vQVA61WX/PldwNJZUaEbO16+lzbJaRY4REZAxFmw3Jy0TxsM6WE8X0tbADZapxFgJskut4PjebDEHY5EyjhjAkzYI+X5eWAr3MoIxJznVkSKCiHeZ8WwsScWz7el3UzOR2+cMsN0nEO+74iU+yrUuUsMXVgA+Ylj6ZBKuzc3AKuXvrsD8OM7aU8WjFYi7b4qEolqn2pqPoW3F/YVccPpdAepfy3EtF4t7Cs72NPPpS1KbQ2ANhTTihALQLCbcET6YjwHG+gn7L+kLjRK0GVvf+1b0fxGvArguzUfTjw9L+2JYR04InkxGU8sXLLJSmV6gITOiZi0Tz2/G//qSlcF+CxcCqLiPRtrKkn7JMi+t06icUE/tIWhEHnCcYR2cgFx/IfxfC1tURGznPZRgzoO3+db/X421/b+3b4F0mDvWjFThLruRuGsHlzD4vla2oogbAMISdv2AfNy9UhvBKQLg27N6QYRG749kImOy8F+oEXdlO6CBzAdipRyumwAeyDmpe1UTBi1woRoggPV1HwMvVals3t0T3O2kAs7zqeapvEHMRkYbJbQYsn00aJfSHsPwGgLhbdcTQFcE0u0cgcMmVFMFzHf0TcCbtvXEBIJTtS5wtwjXnFub+vJaq5zl3LSHqRHJA+wv4gxS8yxLEtbQkiS34+bv+Yxuf5lw2HOz+P5fkdkPxm21Iwt6jUe4L0t7WUARisKtZDsM2do2BOL5ytps8CsE/k+ydeVS/4mWWt+D2DdaR22PjtoiByX4TgtgQpwfxhANy/t/o5hJdI+Bepup651qqn5HPRZRW5Ep5+xmJ6pxHm6iKdxvrPAUFtRCVfTXCqw63pUQl7tws2qPZOYD46tVqs7Th/LlskmfEtauJNz22Sfom9L6bu2b1yV5GUNbOkFwrRLIUqzmU4uMrwWzXQcLJfLiUsZI8tPPBEuuzg/pt8c2NAknm/u344nw9QkqmTGC0R6mjkQxvQ+7nTq0iNEb5sw7sXqTfaxiNGejt+I52S6yh13xPMrn95hrPWL7r2YFKHfLwXPsXPLja46lRAX/IkirqMJFdlP5xQhjxxnJFNNzSchLpqNAs3F/3OtJdOpFwas41ni//nPUPPh6MNmTtnD/+t3Qen/+ovH1PGsqfkPIQrDS7/Z7F+GQt2w+JM9OBAAAAAAAPJ/bQRVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVWEPDgQAAAAAgPxfG0FVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVdqDAxIAAAAAQf9ftyNQAQAAAAAAAAAAAAAAAAAA2Ah4kBuxS9hLOQAAAABJRU5ErkJggg=="},K7zS:function(e,t,n){"use strict";n.d(t,"d",function(){return r}),n.d(t,"b",function(){return i}),n.d(t,"a",function(){return o}),n.d(t,"c",function(){return a});var r="larkc",i="__overlay-container__",o="__notifications-container__",a=function(){}},KCMi:function(e,t,n){"use strict";n.d(t,"c",function(){return u}),n.d(t,"a",function(){return l}),n.d(t,"b",function(){return d});var r=n("RIqP"),i=n.n(r),o=n("BmhO"),a=n("3doy"),s=n("VI6H"),c=10485760;function u(e,t){return{controls:!0,autoplay:!0,sources:[{src:e,type:/^mp3/i.test(t)?"audio/".concat(t):/^mov/i.test(t)?"video/mp4":"video/".concat(t)}]}}function l(e,t){return h(e)||t&&f(e)}function d(e,t){return Object(s.f)()&&p(e)&&t<=c}function p(e){return/(^| )docx|doc|xlsx|xls|pptx|ppt|pdf/i.test(e)}function f(e){return[].concat(i()(a.PDFPreviewTypes),i()(o.L)).includes(e.toLowerCase())}function h(e){return o.d.includes(e.toLowerCase())}},KF6i:function(e,t,n){var r=n("a5q3"),i=n("vN+2"),o=r?function(e){return r.get(e)}:i;e.exports=o},KQya:function(e,t,n){"use strict";var i=n("mrSG"),r=1,o={};function a(e){var t=o[e];t&&t()}var s={setImmediate:function(e){var t=r++;return o[t]=e,Promise.resolve().then(function(){return a(t)}),t},clearImmediate:function(e){delete o[e]}},c=function(r){function e(e,t){var n=r.call(this,e,t)||this;return n.scheduler=e,n.work=t,n}return i.__extends(e,r),e.prototype.requestAsyncId=function(e,t,n){return void 0===n&&(n=0),null!==n&&0<n?r.prototype.requestAsyncId.call(this,e,t,n):(e.actions.push(this),e.scheduled||(e.scheduled=s.setImmediate(e.flush.bind(e,null))))},e.prototype.recycleAsyncId=function(e,t,n){if(void 0===n&&(n=0),null!==n&&0<n||null===n&&0<this.delay)return r.prototype.recycleAsyncId.call(this,e,t,n);0===e.actions.length&&(s.clearImmediate(t),e.scheduled=void 0)},e}(n("h9Dq").a),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype.flush=function(e){this.active=!0,this.scheduled=void 0;var t,n=this.actions,r=-1,i=n.length;e=e||n.shift();do{if(t=e.execute(e.state,e.delay))break}while(++r<i&&(e=n.shift()));if(this.active=!1,t){for(;++r<i&&(e=n.shift());)e.unsubscribe();throw t}},t}(n("CS9Q").a);n.d(t,"a",function(){return l});var l=new u(c)},KfsF:function(e,t,n){"use strict";n.r(t);var r=n("G8Hj"),i=n("QM+C"),o=n("3doy"),a=n("AESI"),s=n("kOe7"),c=n("FZl3"),u=n("aBgF"),l=n("ahx2"),d=n("jp/M"),p=n("9+L6"),f=n("9NQc"),h=n("fIXH"),g=n("fco7");n.d(t,"STEP_TYPES",function(){return r.STEP_TYPES}),n.d(t,"PROFILE_GROUP",function(){return r.PROFILE_GROUP}),n.d(t,"PROFILE",function(){return r.PROFILE}),n.d(t,"STEP_STATE",function(){return r.STEP_STATE}),n.d(t,"StatusMap",function(){return i.StatusMap}),n.d(t,"REQUEST",function(){return i.REQUEST}),n.d(t,"MountPointType",function(){return o.MountPointType}),n.d(t,"DRIVE_DIRECT_UPLOAD",function(){return a.DRIVE_DIRECT_UPLOAD}),n.d(t,"GET_INTELLECT_HEADERS",function(){return a.GET_INTELLECT_HEADERS}),n.d(t,"SOURCE_ENUM",function(){return s.f}),n.d(t,"TYPE_ENUM",function(){return c.a}),n.d(t,"KeyCode",function(){return u.c}),n.d(t,"STATUS_CODE",function(){return l.STATUS_CODE}),n.d(t,"SERVER_STATUS_CODE",function(){return l.SERVER_STATUS_CODE}),n.d(t,"REQUEST_TIMEOUT",function(){return l.REQUEST_TIMEOUT}),n.d(t,"error",function(){return d.error}),n.d(t,"common",function(){return d.common}),n.d(t,"HELP_DOC_PASTE_PLUGIN_URL",function(){return p.m}),n.d(t,"SHEET_RENDER_STAGE",function(){return f.a}),n.d(t,"WikiInnerSuiteComponentInjectProps",function(){}),n.d(t,"COMMENT_REACTION_MODULE",function(){return i.COMMENT_REACTION_MODULE}),n.d(t,"ENTITY_TYPE",function(){return i.ENTITY_TYPE}),n.d(t,"FILE_TYPE",function(){return i.FILE_TYPE}),n.d(t,"FILE_URL_TYPE_MAP",function(){return i.FILE_URL_TYPE_MAP}),n.d(t,"NUM_SUITE_TYPE",function(){return i.NUM_SUITE_TYPE}),n.d(t,"NUM_FILE_TYPE",function(){return i.NUM_FILE_TYPE}),n.d(t,"PERMISSION",function(){return i.PERMISSION}),n.d(t,"CSVMimeTypes",function(){return i.CSVMimeTypes}),n.d(t,"CSVSuffix",function(){return i.CSVSuffix}),n.d(t,"FROM_SOURCE_TYPE",function(){return i.FROM_SOURCE_TYPE}),n.d(t,"API_V2_SHEET_AI_HEADER",function(){return h.l}),n.d(t,"apiUrls",function(){return d.apiUrls}),n.d(t,"EVENTS",function(){return d.events}),n.d(t,"ui",function(){return d.ui}),n.d(t,"translateLangs",function(){return g.a})},"Kfv+":function(e,t,n){var r=n("Yoag"),i=n("6ae/"),o=n("RrRF"),a=n("Z0cm"),s=n("ExA7"),c=n("xFI3"),u=Object.prototype.hasOwnProperty;function l(e){if(s(e)&&!a(e)&&!(e instanceof r)){if(e instanceof i)return e;if(u.call(e,"__wrapped__"))return c(e)}return new i(e)}l.prototype=o.prototype,l.prototype.constructor=l,e.exports=l},KgqQ:function(e,t,n){"use strict";var r=n("DK5n"),i=n("dmt9");e.exports=r("Map",function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},i,!0)},KhQE:function(e,t,n){"use strict";function r(e){var t=!1,n={register:function(e){if(t)console.debug("service registered already");else{if(e.register)throw new Error("`register` method is preserved");Object.assign(n,e),t=!0}}};return e&&Object.assign(n,e),n}n.d(t,"a",function(){return r})},KiYW:function(e,t,n){"use strict";n.d(t,"b",function(){return s}),n.d(t,"c",function(){return c}),n.d(t,"d",function(){return u}),n.d(t,"e",function(){return l}),n.d(t,"f",function(){return d}),n.d(t,"a",function(){return p}),n.d(t,"g",function(){return f});var r=n("QM+C"),i=n("VIFs"),o=n("sLU5"),a=n("OX8E"),s=function(e,t){return a.a.emit(o.a.PC.SUITE.TRIGGER_UPDATE_CUSTOM_ICON_META,e,t)},c=function(e,t,n){return a.a.emit(o.a.PC.SUITE.UPDATE_CUSTOM_ICON_START,e,t,n)},u=function(e,t){return a.a.emit(o.a.PC.SUITE.UPDATE_CUSTOM_ICON_SUCCESS,e,t)};function l(e){var t=e.key,n=e.direct_link;if(n)return n;if(!t)return"";var r=Object(i.getDomainConfig)("domain").lark_file;return"https://".concat(r,"/api/avatar/v1/").concat(t,"/noop.image")}var d=function(e){if(!e)return"";var t=e.get("icon_key"),n=e.get("icon");return t||n?l({key:t,direct_link:n}):""},p=[r.NUM_SUITE_TYPE.FILE,r.NUM_SUITE_TYPE.BITABLE];function f(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e))+e}},KwMD:function(e,t){function n(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}e.exports=n},Kwsy:function(e,t,n){e.exports=n("br0Y")},Kxu3:function(e,t,n){e.exports=n("BP/7")},L1JX:function(e,t,n){"use strict";n.d(t,"b",function(){return c}),n.d(t,"a",function(){return u});var r=n("lwsE"),i=n.n(r),o=n("W8MJ"),a=n.n(o),s=n("4D8z"),c=function(){function t(){i()(this,t)}return a()(t,[{key:"IS_FS_MODE",get:function(){return t.isFSMode}},{key:"TABLE_FULL_WIDTH_RIGHT",get:function(){return t.isFSMode?0:s.y}},{key:"TABLE_RIGHT_SHADOW_OFFSET",get:function(){return t.isFSMode?0:s.C}},{key:"TABLE_FULL_WIDTH_WITH_COMMENT_RIGHT",get:function(){return t.isFSMode?20:s.z}}],[{key:"setIsFSMode",value:function(e){t.isFSMode=e}}]),t}();c.isFSMode=!1;var u=new c},L3Tz:function(e,t,n){e.exports=n("aOzW")},L8xA:function(e,t){function n(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}e.exports=n},LEGm:function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTE4IDVDMTguNTUyMyA1IDE5IDUuNDQ3NzIgMTkgNlYxOEMxOSAxOC41NTIzIDE4LjU1MjMgMTkgMTggMTlINkM1LjQ0NzcyIDE5IDUgMTguNTUyMyA1IDE4VjZDNSA1LjQ0NzcyIDUuNDQ3NzIgNSA2IDVIMThaTTguNSA2LjVINi41VjlIOC41VjYuNVpNMTAgNi41VjlIMTcuNVY2LjVIMTBaTTguNSAxMC41SDYuNVYxMy41SDguNVYxMC41Wk0xMCAxMy41SDE3LjVWMTAuNUgxMFYxMy41Wk04LjUgMTVINi41VjE3LjVIOC41VjE1Wk0xMCAxNy41SDE3LjVWMTVIMTBWMTcuNVoiIGZpbGw9IiMyQjJGMzYiLz4KPC9zdmc+Cg=="},LFUy:function(e,t,n){"use strict";var r=n("7Kxq"),i=function(e){var t=$(e);return t.hasClass(r.d)||t.children().hasClass(r.d)};t.a=i},LIAx:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var s=r(n("E0u0"));function i(n,e,r,t){function i(e){var t=new s.default(e);r.call(n,t)}if(n.addEventListener){var o=(a=!1,"object"==typeof t?a=t.capture||!1:"boolean"==typeof t&&(a=t),n.addEventListener(e,i,t||!1),{v:{remove:function(){n.removeEventListener(e,i,a)}}});if("object"==typeof o)return o.v}else if(n.attachEvent)return n.attachEvent("on"+e,i),{remove:function(){n.detachEvent("on"+e,i)}};var a}e.exports=t.default},LN8o:function(e,t,n){"use strict";n.r(t),n.d(t,"getMentionInfoFromAttribs",function(){return R}),n.d(t,"getSegmentArray",function(){return c}),n.d(t,"generateEditorValue",function(){return u}),n.d(t,"sheetToDoc",function(){return p}),n.d(t,"docToSheet",function(){return k}),n.d(t,"setSelectionToLastCharacter",function(){return I}),n.d(t,"replaceEditorValue",function(){return K}),n.d(t,"getCellPositionParam",function(){return Y});var g=n("m8R6"),m=n("qAkX"),v=n("8wYP"),y=n("H6oK"),b=n("AiBH"),E=n("QM+C"),x=n("FJEn"),_=n("nN3d"),r=n("OZf9"),f=n("owWc"),L=n("dP4c"),i=n("s4NR"),o=n("CxY0"),a=n.n(o),s=n("Qyje");function R(e,t){for(var n=t.numToAttrib,r={},i=0,o=e.length;i<o;i++){var a=n[parseInt(e[i],36)]||[],s=/mention-token|mention-type|mention-link|mention-notify|mention-sharePermHeldBack|mention-icon/.exec(a[0]);s&&(r[s[0]]=a[0].split("_")[1]||a[1])}return r}var N={MENTION:"mention",HYPERLINK:"url",TEXT:"text",PANO:"pano"},C={AT_USER_BLOCK:"at-user-block"},h={MENTION_LINK:"mention-link",MENTION_TYPE:"mention-type",MENTION_TOKEN:"mention-token",MENTION_NOTIFY:"mention-notify",MENTION_ICON:"mention-icon"},T={HYPERLINK_TTPE:"hyperlink_type",HYPERLINK_TEXT:"hyperlink_text",HYPERLINK_LINK:"hyperlink_link",HYPERLINK_CELLPOSITION:"hyperlink_cellPosition"};function c(e){var f=e.editor,h=f.getApool();return V({linkReg:E.LINK_REG},f).map(function(e){var t,n,r,i,o,a,s,c,u,l,d,p;return e.attribs&&(t=e.attribs.split("*").slice(1),n=Object(v.d)(t,h),r=Object(v.c)(t,h),Object(y.isBlockAttributes)(n)&&((i=f.hooks.callAll("collectText",{attributes:r}))&&i.length&&(e.text=Object(m.a)(i)),(o=Object(y.getBlockPropsFromAttributesMap)(n))&&o.blockType===y.BlockType.AT_USER_BLOCK&&o.props.data?(s=(a=o.props.data).user,c=a.mentionNotify,s&&(e.name=s.name||s.cn_name,e.en_name=s.en_name,e.category=C.AT_USER_BLOCK,e.type=N.MENTION,e.mentionType=b.E.USER,e.token=s.id,e.link=s.avatar_url,e.mentionNotify=c,e.mentionId=s.mentionId,e.not_notify=s.not_notify,e.block_notify=s.block_notify)):o&&o.blockType===y.BlockType.LINK_BLOCK&&o.props.data&&(l=(u=o.props.data).url,d=u.title,p=u.entityId,e.type=N.PANO,e.link=l,e.text=d,e.entityId=p)),e.icon&&(e.icon=JSON.parse(e.icon))),Object(g.default)(e,["attribs"])})}function u(e,t){var f=e.editor;return Array.isArray(t)?t.map(function(e){var t,n,r,i,o,a,s,c,u,l,d,p;return e.category===C.AT_USER_BLOCK?(t=f.plugins.blockPlugin,n=y.BlockType.AT_USER_BLOCK,r=Object(y.generateBlockDataSet)({blockType:n,creator:Object(y.getBlockCreator)(n,f),props:{data:{shouldNotifyLark:e.mentionNotify,user:{avatar_url:e.link,cn_name:e.name,en_name:e.en_name,id:e.token,name:e.name,larkNotify:e.mentionNotify,mentionId:e.mentionId,not_notify:e.not_notify,block_notify:e.block_notify}}}}),e.text=" ",e.attributes=t.getAttrsFromBlockDataSet(r)):e.type===N.MENTION?(i=e.token,o=e.mentionType,a=e.link,s=e.mentionNotify,c=e.icon,e.attributes=[[N.MENTION,!0],[h.MENTION_TOKEN+"_"+i,!0],[h.MENTION_TYPE+"_"+String(o),!0],[h.MENTION_LINK+"_"+a,!0],[h.MENTION_NOTIFY,s]],(u=O(c))&&e.attributes.push([h.MENTION_ICON,u])):e.type===N.PANO&&(l=f.plugins.blockPlugin,d=y.BlockType.LINK_BLOCK,p=Object(y.generateBlockDataSet)({blockType:d,creator:Object(y.getBlockCreator)(d,f),props:{data:{entityId:e.entityId,linkProvider:"pano",linkType:y.UpdateType.record,title:e.text,url:e.link}}}),e.text=" ",e.type="mention",e.attributes=l.getAttrsFromBlockDataSet(p)),e}):t}function O(e){return e&&e.key?JSON.stringify(e):null}var l=/url-/,d=/cellPosition/,D="mention-link",M="mention-type",P="mention-token",j="mention-notify",F="mention-icon";function p(e){var f="",h=new x.AttributePool,g=[],m="";return h.putAttrib(["author","test"]),Object(r.a)(e,function(e){var t=e.text,n=e.type,r=e.mentionType,i=e.link,o=e.token,a=e.icon,s=e.cellPosition,c=e.mentionNotify,u=t.split("\n");f+=e.text,null===c&&(c=!0);for(var l=0,d=u.length;l<d;l++){var p=w(u[l].length);if(p)switch(n){case N.MENTION:e.attributes?e.attributes.forEach(function(e){m+="*"+x.Changeset.numToString(h.putAttrib(e))}):(m+="*"+x.Changeset.numToString(h.putAttrib(["mention",!0])),m+="*"+x.Changeset.numToString(h.putAttrib([P,o])),m+="*"+x.Changeset.numToString(h.putAttrib([M,String(r)])),m+="*"+x.Changeset.numToString(h.putAttrib([D,i])),m+="*"+x.Changeset.numToString(h.putAttrib([j,c])),a&&(m+="*"+x.Changeset.numToString(h.putAttrib([F,a])))),m+="+".concat(p);break;case N.HYPERLINK:s?(m+="*"+x.Changeset.numToString(h.putAttrib([T.HYPERLINK_CELLPOSITION,JSON.stringify(s)])),m+="*"+x.Changeset.numToString(h.putAttrib(["url-".concat(Object(_.c)(10)),Object(L.a)(W(s))]))):m+="*"+x.Changeset.numToString(h.putAttrib(["url-".concat(Object(_.c)(10)),Object(L.a)(i||t)])),m+="+".concat(p,"*0");break;case N.TEXT:default:m+="+".concat(p,"*0")}1<d&&l<d-1&&(m+="|1+1",g.push(m),m="")}}),"*0"!==m&&g.push(m+"|1+1"),{apool:h,initialAttributedText:{attribs:g.join(""),text:f+"\n"}}}function k(e){for(var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=e.apool,r=e.alines,i=t.linkReg,o=e.alltext,a=N.MENTION,s=N.HYPERLINK,c=N.TEXT,u=[],l=0,d="",o=o.slice(0,-1),p=x.Changeset.opIterator(r.join(""));p.hasNext();){var f=p.next(),h=f.chars,g=f.attribs,m=g.split("*"),v=o.slice(l,l+h);l+=h;var y=z(v,m,n,i);switch(y){case a:var b=R(m,n),E=b[M],_=b[P],C=b[D],T=b[j],O=b[F],k=null===(k=T)||"true"===k;u.push({text:v,type:y,mentionType:parseInt(E,10),mentionNotify:k,token:_,link:C,icon:O,attribs:g}),d="";break;case s:var S,w,I=B(d,v,i);I.length?u=u.concat(I):(d.length&&u.push({text:d,type:c,attribs:g}),S=U(m,n),w=H(m,n),u.push({text:v,type:y,link:!w&&S?Object(L.a)(S):"",cellPosition:w?H(m,n):null,attribs:g})),d="";break;case c:v&&u.push({text:v,type:c,attribs:g})}}return u}function B(e,t){var n,r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:E.LINK_REG,c=N.HYPERLINK,u=N.TEXT,l=e+t,i=l.length;r.lastIndex=0;for(var o=[];n=r.exec(l);){var a=n[0],s=n.index;o.push({startIndex:s,endIndex:s+a.length,text:a})}var d,p=[];return o.length&&(o.unshift({startIndex:0,endIndex:0}),(d=Object(f.a)(o.slice(1),function(e,t){var n=e.endIndex,r=t.startIndex,i=t.endIndex,o=l.slice(n,r);o&&p.push({text:o,type:u});var a=l.slice(r,i),s=Y(a);return p.push({text:a,type:c,link:s?"":Object(L.a)(a),cellPosition:s}),t},o[0])).endIndex<i&&p.push({text:l.slice(d.endIndex,i),type:u})),p}function U(e,t){var n="";return S(e,t,function(e){return!!l.test(e[0])&&(n=e[1],!0)}),n}function H(e,t){var n;return S(e,t,function(e){return!!d.test(e[0])&&(n=JSON.parse(e[1]),!0)}),n}function z(t,e,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:E.LINK_REG,i=N.MENTION,o=N.TEXT,a=N.HYPERLINK,s=null;return S(e,n,function(e){return!!new RegExp(i+"-token").test(e[0])&&(s=i,!0)}),null===s&&S(e,n,function(e){return!!(l.test(e[0])||d.test(e[0])||r.test(t))&&(s=a,!0)}),s||o}function S(e,t,n){for(var r=t.numToAttrib,i=0,o=e.length;i<o;i++)if(n(r[parseInt(e[i],36)]||[],i))break}function w(e){return(e||"").toString(36)}var I=function(e){var t=e.commentEditor.editor.getRep(),n=t.lines.length()-1,r=t.lines.atIndex(n),i=r&&r.text.length;e.commentEditor.editor.setSel([n,i],[n,i],!0)};function V(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length?arguments[1]:void 0;return t.callStack.inCallStackIfNecessary("getSegment",function(){t.fastIncorp()}),k(t.getRep(),e)}var K=function(e,t){var n,r,i;Array.isArray(e)?(r=(n=p(e)).initialAttributedText,i=n.apool,t.replaceAllByAttributeText(r,i)):t.replaceAllText(e);var o=t.undoModule;o.stack&&o.stack.clearStack()};function W(e){var t=Object(i.stringify)({sheet:e.sheetId,range:e.rangeId});return"".concat(location.origin).concat(location.pathname,"?").concat(t)}function Y(e){if(!e)return null;var t=a.a.parse(e);if(t&&t.query){var n=Object(s.parse)(t.query);if(n.sheet)return{sheetId:n.sheet,rangeId:n.range}}return null}},LNMi:function(e,t,n){"use strict";var l={};n.r(l),n.d(l,"PLAY",function(){return c}),n.d(l,"PLAYING",function(){return u}),n.d(l,"ENDED",function(){return p}),n.d(l,"PAUSE",function(){return f}),n.d(l,"ERROR",function(){return v}),n.d(l,"SEEKING",function(){return y}),n.d(l,"SEEKED",function(){return b}),n.d(l,"TIME_UPDATE",function(){return E}),n.d(l,"WAITING",function(){return _}),n.d(l,"CANPLAY",function(){return C}),n.d(l,"CANPLAY_THROUGH",function(){return T}),n.d(l,"DURATION_CHANGE",function(){return O}),n.d(l,"VOLUME_CHANGE",function(){return k}),n.d(l,"LOADED_DATA",function(){return S}),n.d(l,"RATE_CHANGE",function(){return w}),n.d(l,"PROGRESS",function(){return I}),n.d(l,"LOAD_START",function(){return x}),n.d(l,"EMPTIED",function(){return L}),n.d(l,"STALLED",function(){return R}),n.d(l,"SUSPEND",function(){return N}),n.d(l,"ABORT",function(){return D}),n.d(l,"BUFFER_CHANGE",function(){return M}),n.d(l,"PLAYER_FOCUS",function(){return P}),n.d(l,"PLAYER_BLUR",function(){return j}),n.d(l,"READY",function(){return F}),n.d(l,"URL_NULL",function(){return B}),n.d(l,"AUTOPLAY_STARTED",function(){return U}),n.d(l,"AUTOPLAY_PREVENTED",function(){return H}),n.d(l,"COMPLETE",function(){return z}),n.d(l,"REPLAY",function(){return V}),n.d(l,"DESTROY",function(){return K}),n.d(l,"URL_CHANGE",function(){return W}),n.d(l,"FULLSCREEN_CHANGE",function(){return Y}),n.d(l,"CSS_FULLSCREEN_CHANGE",function(){return q}),n.d(l,"MINI_STATE_CHANGE",function(){return Z}),n.d(l,"DEFINITION_CHANGE",function(){return X}),n.d(l,"BEFORE_DEFINITION_CHANGE",function(){return Q}),n.d(l,"AFTER_DEFINITION_CHANGE",function(){return J}),n.d(l,"SEI_PARSED",function(){return $}),n.d(l,"RETRY",function(){return ee});var r=n("yfwS"),i=n.n(r),o=n("jIJb"),a=n.n(o),d=n("mpj5"),h=n("P81K");function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var m={network:{code:1,msg:"",remark:"videoxhr"},mse:{code:2,msg:"",remark:""},parse:{code:3,msg:"",remark:"mp4hlsflvjs"},format:{code:4,msg:"",remark:""},decoder:{code:5,msg:"",remark:""},runtime:{code:6,msg:"",remark:""},timeout:{code:7,msg:"",remark:""},other:{code:8,msg:"",remark:""}},s=function e(t,n,r,i,o,a,s,c){var u=8<arguments.length&&void 0!==arguments[8]?arguments[8]:{line:"",handle:"",msg:"",version:""},l=arguments[9],d=arguments[10];g(this,e);var p,f={};return 1<arguments.length?(f.playerVersion=h.a,f.errorType=t,f.domain=document.domain,f.duration=r,f.currentTime=n,f.networkState=i,f.readyState=o,f.currentSrc=s,f.src=a,f.ended=c,f.errd=u,f.ex=(m[t]||{}).msg,f.errorCode=l,f.mediaError=d):(p=arguments[0],Object.keys(p).map(function(e){f[e]=p[e]}),f.ex=(p.type&&m[p.type]||{}).msg),f},c="play",u="playing",p="ended",f="pause",v="error",y="seeking",b="seeked",E="timeupdate",_="waiting",C="canplay",T="canplaythrough",O="durationchange",k="volumechange",S="loadeddata",w="ratechange",I="progress",x="loadstart",L="emptied",R="stalled",N="suspend",D="abort",M="bufferedChange",P="focus",j="blur",F="ready",B="urlNull",U="autoplay_started",H="autoplay_was_prevented",z="complete",V="replay",K="destroy",W="urlchange",Y="fullscreen_change",q="cssFullscreen_change",Z="mini_state_change",X="definition_change",Q="before_definition_change",J="after_definition_change",$="SEI_PARSED",ee="retry";function te(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ne(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function re(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var ie=["play","playing","pause","ended","error","seeking","seeked","timeupdate","waiting","canplay","canplaythrough","durationchange","volumechange","loadeddata","loadstart","emptied","ratechange","progress","stalled","suspend","abort"];function oe(n,r){var e="on"+n.charAt(0).toUpperCase()+n.slice(1);return r[e]&&"function"==typeof r[e]&&r.on(n,r[e]),function(e){var t=n;e.player=r,"timeupdate"===t&&(r._currentTime=r.video&&r.video.currentTime),"durationchange"===n&&(r._duration=r.video.duration),"error"===t?r.errorHandler(t):r.emit(t,e)}}function ae(e){re(this,ae),this._hasStart=!1,this._currentTime=0,this._duration=0,this.videoConfig=Object.assign({},{controls:!1,autoplay:e.autoplay,playsinline:e.playsinline,"webkit-playsinline":e.playsinline,"x5-playsinline":e.playsinline,"x5-video-player-type":e["x5-video-player-type"]||e.x5VideoPlayerType,"x5-video-player-fullscreen":e["x5-video-player-fullscreen"]||e.x5VideoPlayerFullscreen,"x5-video-orientation":e["x5-video-orientation"]||e.x5VideoOrientation,airplay:e.airplay,"webkit-airplay":e.airplay,tabindex:2,mediaType:e.mediaType||"video"},e.videoConfig,e.videoAttrbutes),e.loop&&(this.videoConfig.loop="loop"),e.defaultPlaybackRate&&(this.videoConfig.defaultPlaybackRate=e.defaultPlaybackRate),this.video=d.a.createDom(this.videoConfig.mediaType,"",this.videoConfig,""),e.autoplayMuted&&(this.video.muted=!0),e.autoplay&&(this.video.autoplay=!0),i()(this),this._interval={},this.attachVideoEvents()}var se=(function(e,t,n){return t&&te(e.prototype,t),n&&te(e,n),e}(ae,[{key:"attachVideoEvents",value:function(n){var t=this;this.evHandlers||(this._evHandlers=ie.map(function(e){return ne({},e,oe(e,t))})),n=n||this.video,this._evHandlers.map(function(e){var t=Object.keys(e)[0];n.addEventListener(t,e[t],!1)})}},{key:"detachVideoEvents",value:function(n){n=n||this.video,this._evHandlers.map(function(e){var t=Object.keys(e)[0];n.removeEventListener(Object.keys(e)[0],e[t],!1)})}},{key:"errorHandler",value:function(e){this.video&&this.video.error&&this.emit(e,new s("other",this.currentTime,this.duration,this.networkState,this.readyState,this.currentSrc,this.src,this.ended,{line:162,msg:this.error,handle:"Constructor"},this.video.error.code,this.video.error))}},{key:"destroy",value:function(){var e,r=this;for(e in this.video&&(this.video.pause(),this.video.removeAttribute("src"),this.video.load()),this._currentTime=0,this._duration=0,this._interval)clearInterval(this._interval[e]),this._interval[e]=null;this.emit(K),this.detachVideoEvents(),this._evHandlers.map(function(e){var t=Object.keys(e)[0],n="on"+t.charAt(0).toUpperCase()+t.slice(1);"function"==typeof r[n]&&r.off(t,r[n])}),a()(this)}},{key:"play",value:function(){return this.video?this.video.play():null}},{key:"pause",value:function(){this.video&&this.video.pause()}},{key:"canPlayType",value:function(e){return this.video.canPlayType(e)}},{key:"getBufferedRange",value:function(){var e=[0,0];if(!this.video)return e;var t=this.video,n=t.buffered,r=t.currentTime;if(n)for(var i=0,o=n.length;i<o&&(e[0]=n.start(i),e[1]=n.end(i),!(e[0]<=r&&r<=e[1]));i++);return e[0]-r<=0&&r-e[1]<=0?e:[0,0]}},{key:"hasStart",get:function(){return this._hasStart},set:function(e){"boolean"==typeof e&&(this._hasStart=e,this.emit("hasstart"))}},{key:"autoplay",set:function(e){this.video.autoplay=e},get:function(){return this.video.autoplay}},{key:"buffered",get:function(){return this.video.buffered}},{key:"bufferedPoint",get:function(){var e=this.video.buffered,t={start:0,end:0};if(!e||0===e.length)return t;for(var n=0;n<e.length;n++)if(e.start(n)<=this.currentTime&&e.end(n)>=this.currentTime)return{start:e.start(n),end:e.end(n)};return t}},{key:"crossOrigin",get:function(){return this.video.crossOrigin},set:function(e){this.video.crossOrigin=e}},{key:"currentSrc",get:function(){return this.video.currentSrc},set:function(e){this.video.currentSrc=e}},{key:"currentTime",get:function(){return this._currentTime},set:function(e){this.video.currentTime=e}},{key:"defaultMuted",get:function(){return this.video.defaultMuted},set:function(e){this.video.defaultMuted=e}},{key:"duration",get:function(){return this._duration}},{key:"ended",get:function(){return this.video.ended}},{key:"error",get:function(){var e=this.video.error;return e?["MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED"][e.code-1]:null}},{key:"loop",get:function(){return this.video.loop},set:function(e){this.video.loop=e}},{key:"muted",get:function(){return this.video.muted},set:function(e){this.video.muted=e}},{key:"networkState",get:function(){return["NETWORK_EMPTY","NETWORK_IDLE","NETWORK_LOADING","NETWORK_NO_SOURCE"][this.video.networkState]}},{key:"paused",get:function(){return this.video.paused}},{key:"playbackRate",get:function(){return this.video.playbackRate},set:function(e){this.video.defaultPlaybackRate=e,this.video.playbackRate=e}},{key:"played",get:function(){return this.video.played}},{key:"preload",get:function(){return this.video.preload},set:function(e){this.video.preload=e}},{key:"readyState",get:function(){return["HAVE_NOTHING","HAVE_METADATA","HAVE_CURRENT_DATA","HAVE_FUTURE_DATA","HAVE_ENOUGH_DATA"][this.video.readyState]}},{key:"seekable",get:function(){return this.video.seekable}},{key:"seeking",get:function(){return this.video.seeking}},{key:"src",get:function(){return this.video.src},set:function(e){this.ended||this.emit(W,e),this._currentTime=0,this._duration=0,/^blob/.test(this.video.currentSrc)?this.onWaiting():this.video.src=e}},{key:"volume",get:function(){return this.video.volume},set:function(e){this.video.volume=e}}]),ae),ce={get device(){return ce.os.isPc?"pc":"mobile"},get browser(){var t=navigator.userAgent.toLowerCase(),n={ie:/rv:([\d.]+)\) like gecko/,firfox:/firefox\/([\d.]+)/,chrome:/chrome\/([\d.]+)/,opera:/opera.([\d.]+)/,safari:/version\/([\d.]+).*safari/};return[].concat(Object.keys(n).filter(function(e){return n[e].test(t)}))[0]},get os(){var e=navigator.userAgent,t=/(?:Windows Phone)/.test(e),n=/(?:SymbianOS)/.test(e)||t,r=/(?:Android)/.test(e),i=/(?:Firefox)/.test(e),o=/(?:iPad|PlayBook)/.test(e)||r&&!/(?:Mobile)/.test(e)||i&&/(?:Tablet)/.test(e),a=/(?:iPhone)/.test(e)&&!o;return{isTablet:o,isPhone:a,isAndroid:r,isPc:!(a||r||n||o),isSymbian:n,isWindowsPhone:t,isFireFox:i}}},ue=ce;function le(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function de(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pe(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{name:"xgplayer",version:1,db:null,ojstore:{name:"xg-m4a",keypath:"vid"}};de(this,pe),this.indexedDB=window.indexedDB||window.webkitindexedDB,this.IDBKeyRange=window.IDBKeyRange||window.webkitIDBKeyRange,this.myDB=e}var fe=(function(e,t,n){return t&&le(e.prototype,t),n&&le(e,n),e}(pe,[{key:"openDB",value:function(t){var n=this,r=this,e=this.myDB.version||1,i=r.indexedDB.open(r.myDB.name,e);i.onerror=function(e){},i.onsuccess=function(e){n.myDB.db=e.target.result,t.call(r)},i.onupgradeneeded=function(e){var t=e.target.result;e.target.transaction;t.objectStoreNames.contains(r.myDB.ojstore.name)||t.createObjectStore(r.myDB.ojstore.name,{keyPath:r.myDB.ojstore.keypath})}}},{key:"deletedb",value:function(){this.indexedDB.deleteDatabase(this.myDB.name)}},{key:"closeDB",value:function(){this.myDB.db.close()}},{key:"addData",value:function(e,t){for(var n=this.myDB.db.transaction(e,"readwrite").objectStore(e),r=void 0,i=0;i<t.length;i++)(r=n.add(t[i])).onerror=function(){},r.onsuccess=function(){}}},{key:"putData",value:function(e,t){for(var n=this.myDB.db.transaction(e,"readwrite").objectStore(e),r=void 0,i=0;i<t.length;i++)(r=n.put(t[i])).onerror=function(){},r.onsuccess=function(){}}},{key:"getDataByKey",value:function(e,t,n){var r=this,i=this.myDB.db.transaction(e,"readwrite").objectStore(e).get(t);i.onerror=function(){n.call(r,null)},i.onsuccess=function(e){var t=e.target.result;n.call(r,t)}}},{key:"deleteData",value:function(e,t){this.myDB.db.transaction(e,"readwrite").objectStore(e).delete(t)}},{key:"clearData",value:function(e){this.myDB.db.transaction(e,"readwrite").objectStore(e).clear()}}]),pe),he=["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"],ge=["requestFullscreen","webkitRequestFullscreen","mozRequestFullScreen","msRequestFullscreen"],me=["exitFullscreen","webkitExitFullscreen","mozCancelFullScreen","msExitFullscreen"],ve=n("0seG"),ye=function(e,t,n){return t&&be(e.prototype,t),n&&be(e,n),e};function be(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ee(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _e(e,t){console.error("["+e+"] event or callback cant be undefined or null when call "+t)}var Ae=(ye(Ce,null,[{key:"defineGetterOrSetter",value:function(e,t){for(var n in t)Object.defineProperty(e,n,t[n])}}]),ye(Ce,[{key:"onPluginsReady",value:function(){}},{key:"__init",value:function(e){var t=this;Ce.defineGetterOrSetter(this,{player:{get:function(){return e.player},configurable:!0},playerConfig:{get:function(){return e.player&&e.player.config},configurable:!0},pluginName:{get:function(){return(e.pluginName?e:t.constructor).pluginName.toLowerCase()},configurable:!0},logger:{get:function(){return e.player.logger},configurable:!0}})}},{key:"updateLang",value:function(e){e=e||this.lang}},{key:"on",value:function(e,t){var n=this;e&&t?"string"==typeof e?(this.__events[e]=t,this.player.on(e,t)):Array.isArray(e)&&e.forEach(function(e){n.__events[e]=t,n.player.on(e,t)}):_e(this.pluginName,"plugin.on(event, callback)")}},{key:"once",value:function(e,t){e&&t?this.player.once(e,t):_e(this.pluginName,"plugin.once(event, callback)")}},{key:"off",value:function(t,n){var r=this;t&&n?"string"==typeof t?(delete this.__events[t],this.player.off(t,n)):Array.isArray(t)&&t.forEach(function(e){delete r.__events[t],r.player.off(e,n)}):_e(this.pluginName,"plugin.off(event, callback)")}},{key:"offAll",value:function(){var t=this;Object.keys(this.__events).map(function(e){t.__events[e]&&t.off(e,t.__events[e]),e&&delete t.__events[e]}),this.__events={}}},{key:"emit",value:function(e,t){this.player.emit(e,t)}},{key:"registerPlugin",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"";return n&&(t.pluginName=n),this.player.registerPlugin({plugin:e,options:t})}},{key:"getPlugin",value:function(e){return this.player.getPlugin(e)}},{key:"__destroy",value:function(){var t=this,e=this.player,n=this.pluginName;this.offAll(),d.a.checkIsFunction(this.destroy)&&this.destroy(),["player","playerConfig","pluginName","logger"].map(function(e){Object.defineProperty(t,e,{writable:!0})}),Object.keys(this).map(function(e){t[e]=null,delete t[e]}),Object.setPrototypeOf&&Object.setPrototypeOf(this,null),e.unRegistePlugin(n)}},{key:"lang",get:function(){return this.player.lang}},{key:"i18n",get:function(){return this.player.i18n}},{key:"i18nKeys",get:function(){return this.player.i18nKeys}}]),Ce);function Ce(e){Ee(this,Ce),d.a.checkIsFunction(this.beforeCreate)&&this.beforeCreate(e),this.__args=e,this.__events={},this.config=e.config||{},this.__init(e)}Ae.Util=d.a,Ae.Sniffer=ue,Ae.Errors=s,Ae.Events=l,Ae.XG_DEBUG=ve.b;var Te=n("UndK"),Oe=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0!==i){if("value"in i)return i.value;var o=i.get;return void 0!==o?o.call(r):void 0}var a=Object.getPrototypeOf(t);if(null!==a)return e(a,n,r)},ke=function(e,t,n){return t&&Se(e.prototype,t),n&&Se(e,n),e};function Se(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var we="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function Ie(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xe(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function Le(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function Re(e){return!!e&&(e.indexOf&&/^http/.test(e))}function Ne(e,t){return"object"===(void 0===e?"undefined":we(e))&&e.class&&"string"==typeof e.class?t+" "+e.class:t}function De(t,n){return"object"===(void 0===t?"undefined":we(t))&&t.attr&&"object"===we(t.attr)&&Object.keys(t.attr).map(function(e){n[e]=t.attr[e]}),n}function Me(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"",r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{},i=null;if(t instanceof window.Element)return d.a.addClass(t,n),Object.keys(r).map(function(e){t.setAttribute(e,r[e])}),t;if(Re(t)||Re(t.url))return r.src=Re(t)?t:t.url||"",i=d.a.createDom(t.tag||"img","",r,"xg-img "+n);if("function"==typeof t)try{return(i=t())instanceof window.Element?(d.a.addClass(i,n),Object.keys(r).map(function(e){i.setAttribute(e,r[e])}),i):(ve.b.logWarn("warn>>config of icons."+e+" is a function mast return an Element Object"),null)}catch(e){return ve.b.logError("Plugin:createIcon",e),null}return"string"==typeof t?d.a.createDomFromHtml(t,r,n):(ve.b.logWarn("warn>>config of icons."+e+" is invalid"),null)}function Pe(o,a){var s=a.config.icons||a.playerConfig.icons;Object.keys(o).map(function(e){var t=o[e]||{},n=t.class||"",r=t.attr||{},i=null;s&&s[e]&&(n=Ne(s[e],n),r=De(s[e],r),i=Me(s[e],e,n,r)),i=i||Me(t.icon||t,r,n),a.icons[e]=i})}function je(n,r){Object.keys(n).map(function(t){Object.defineProperty(r.langText,t,{get:function(){var e=r.lang;return n[t][e]||n[t].zh}})})}var Fe=(Le(Be,Ae),ke(Be,null,[{key:"insert",value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,r=t.children.length,i=Number(n),o=e instanceof window.Node;if(r){for(var a=0,s=null,c="";a<r;a++){s=t.children[a];var u=Number(s.getAttribute("data-index"));if(i<=u){c="beforebegin";break}u<i&&(c="afterend")}return o?"afterend"===c?t.appendChild(e):t.insertBefore(e,s):s.insertAdjacentHTML(c,e),"afterend"===c?t.children[t.children.length-1]:t.children[a]}return o?t.appendChild(e):t.insertAdjacentHTML("beforeend",e),t.children[t.children.length-1]}},{key:"delegate",value:function(t,n,e,r){var i=4<arguments.length&&void 0!==arguments[4]&&arguments[4];t instanceof window.Node&&"function"==typeof r&&(Array.isArray(e)?e.forEach(function(e){Te.bind(t,n,e,r,i)}):Te.bind(t,n,e,r,i))}},{key:"removeDelegate",value:function(t,e,n){var r=3<arguments.length&&void 0!==arguments[3]&&arguments[3];t instanceof window.Node&&"function"==typeof n&&(Array.isArray(e)?e.forEach(function(e){Te.unbind(t,e,n,r)}):Te.unbind(t,e,n,r))}},{key:"defaultConfig",get:function(){return{}}}]),ke(Be,[{key:"__init",value:function(e){Oe(Be.prototype.__proto__||Object.getPrototypeOf(Be.prototype),"__init",this).call(this,e);var t=e.root,n=null;this.icons={},Pe(this.registerIcons()||{},this),this.langText={},je(this.registerLangauageTexts()||{},this);var r="";try{r=this.render()}catch(e){throw ve.b.logError("Plugin:"+this.pluginName+":render",e),new Error("Plugin:"+this.pluginName+":render:"+e.message)}if(r)n=Be.insert(r,t,e.index);else{if(!e.tag)return;n=d.a.createDom(e.tag,"",e.attr,e.name),t.appendChild(n)}Be.defineGetterOrSetter(this,{root:{get:function(){return n},configurable:!0},parent:{get:function(){return t},configurable:!0}});var i=this.config.attr||{},o=this.config.style||{};this.setAttr(i),this.setStyle(o),this.config.index&&this.root.setAttribute("data-index",this.config.index),this.__registeChildren()}},{key:"__registeChildren",value:function(){if(this.root){var e=this.children();if(e&&"object"===(void 0===e?"undefined":we(e))&&(this._children||(this._children=[]),0<Object.keys(e).length)){var t=!0,n=!1,r=void 0;try{for(var i,o=Object.keys(e)[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var a=i.value,s=e[a],c={root:this.root},u=void 0,l=void 0;"function"==typeof s?(u=this.config[a]||{},l=s):"object"===(void 0===s?"undefined":we(s))&&"function"==typeof s.plugin&&(u=s.options?d.a.deepCopy(this.config[a]||{},s.options):this.config[a]||{},l=s.plugin),void 0!==(c.config=u).index&&(c.index=u.index),u.root&&(c.root=u.root),this.registerPlugin(l,c,a)}}catch(e){n=!0,r=e}finally{try{!t&&o.return&&o.return()}finally{if(n)throw r}}}}}},{key:"updateLang",value:function(r){function i(e,t){for(var n=0;n<e.children.length;n++)0<e.children[n].children.length?i(e.children[n],t):t(e.children[n])}r=r||this.lang;var e=this.root,o=this.i18n,a=this.langText;e&&i(e,function(e){var t,n=e.getAttribute&&e.getAttribute("lang-key");!n||(t=o[n.toUpperCase()]||a[n])&&(e.innerHTML="function"==typeof t?t(r):t)})}},{key:"changeLangTextKey",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",n=this.i18n||{},r=this.langText;e.setAttribute&&e.setAttribute("lang-key",t);var i=n[t.toUpperCase()]||r[t];i&&(e.innerHTML=i)}},{key:"plugins",value:function(){return this._children}},{key:"children",value:function(){return{}}},{key:"registerPlugin",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"";t.root=t.root||this.root;var r=Oe(Be.prototype.__proto__||Object.getPrototypeOf(Be.prototype),"registerPlugin",this).call(this,e,t,n);return this._children.push(r),r}},{key:"registerIcons",value:function(){return{}}},{key:"registerLangauageTexts",value:function(){return{}}},{key:"find",value:function(e){if(this.root)return this.root.querySelector(e)}},{key:"bind",value:function(e,t,n){var r=this;arguments.length<3&&"function"==typeof t?Array.isArray(e)?e.forEach(function(e){r.bindEL(e,t)}):this.bindEL(e,t):Be.delegate.call(this,this.root,e,t,n)}},{key:"unbind",value:function(e,t,n){var r=this;arguments.length<3&&"function"==typeof t?Array.isArray(e)?e.forEach(function(e){r.unbindEL(e,t)}):this.unbindEL(e,t):Be.removeDelegate.call(this,this.root,t,n)}},{key:"setStyle",value:function(e,t){if(this.root){if("string"==typeof e)return this.root.style[e]=t;if("object"===(void 0===e?"undefined":we(e))){var n=e,r=!0,i=!1,o=void 0;try{for(var a,s=Object.keys(n)[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var c=a.value;this.root.style[c]=n[c]}}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}}}}},{key:"setAttr",value:function(e,t){if(this.root){if("string"==typeof e)return this.root.setAttribute(e,t);if("object"===(void 0===e?"undefined":we(e))){var n=e,r=!0,i=!1,o=void 0;try{for(var a,s=Object.keys(n)[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var c=a.value;this.root.setAttribute(c,n[c])}}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}}}}},{key:"setHtml",value:function(e,t){this.root&&(this.root.innerHtml=e,"function"==typeof t&&t())}},{key:"bindEL",value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]&&arguments[2];this.root&&"on"+e in this.root&&"function"==typeof t&&this.root.addEventListener(e,t,n)}},{key:"unbindEL",value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]&&arguments[2];this.root&&"on"+e in this.root&&"function"==typeof t&&this.root.removeEventListener(e,t,n)}},{key:"show",value:function(e){if(this.root)return this.root.style.display=void 0!==e?e:"block","none"===window.getComputedStyle(this.root,null).getPropertyValue("display")?this.root.style.display="block":void 0}},{key:"hide",value:function(){this.root&&(this.root.style.display="none")}},{key:"appendChild",value:function(e,t){if(arguments.length<2&&arguments[0]instanceof window.Element)return this.root.appendChild(arguments[0]);if(!(t&&t instanceof window.Element))return null;try{return("string"==typeof e?this.find(e):e).appendChild(t)}catch(e){return ve.b.logError("Plugin:appendChild",e),null}}},{key:"render",value:function(){return""}},{key:"destroy",value:function(){}},{key:"__destroy",value:function(){var t=this,n=this.player;this._children instanceof Array&&(this._children.map(function(e){n.unRegistePlugin(e.pluginName)}),this._children=null),this.root&&(this.root.hasOwnProperty("remove")?this.root.remove():this.root.parentNode&&this.root.parentNode.removeChild(this.root)),Oe(Be.prototype.__proto__||Object.getPrototypeOf(Be.prototype),"__destroy",this).call(this),["root","parent"].map(function(e){Object.defineProperty(t,e,{writable:!0})})}},{key:"lang",get:function(){return this.player.lang}}]),Be);function Be(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return Ie(this,Be),xe(this,(Be.__proto__||Object.getPrototypeOf(Be)).call(this,e))}var Ue={CONTROLS:"controls",ROOT:"root"},He={ROOT:"root",ROOT_LEFT:"rootLeft",ROOT_RIGHT:"rootRight",ROOT_TOP:"rootTop",CONTROLS_LEFT:"controlsLeft",CONTROLS_RIGTH:"controlsRight",CONTROLS_CENTER:"controlsCenter",CONTROLS:"controls"};Fe.POSITIONS=He,Fe.ROOT_TYPES=Ue;var ze={init:function(e){var t=e._pluginInfoId;t||(t=(new Date).getTime(),e._pluginInfoId=t),this.pluginGroup||(this.pluginGroup={}),this.pluginGroup[t]={_player:e,_originalOptions:e.config||{}}},lazyRegister:function(n,e){var r=this,i=e.timeout||1500;return Promise.race([e.loader().then(function(e){var t=void 0,t=e&&e.__esModule?e.default:e;r.register(n,t,e.options)}),new Promise(function(e,t){setTimeout(function(){t(new Error("timeout"))},i)})])},register:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};if(e&&t&&"function"==typeof t&&void 0!==t.prototype){var r=e._pluginInfoId;r&&this.pluginGroup&&this.pluginGroup[r]||(this.init(e),r=e._pluginInfoId),this.pluginGroup[r]._plugins||(this.pluginGroup[r]._plugins=[]);var i=this.pluginGroup[r]._plugins,o=this.pluginGroup[r]._originalOptions;n.player=this.pluginGroup[r]._player;var a=n.pluginName||t.pluginName;if(!a)throw new Error("The property pluginName is necessary");if(!t.isSupported||t.isSupported()){n.config||(n.config={}),t.defaultConfig&&Object.keys(t.defaultConfig).map(function(e){void 0===n.config[e]&&(n.config[e]=t.defaultConfig[e])});var s=!0,c=!1,u=void 0;try{for(var l,d=Object.keys(o)[Symbol.iterator]();!(s=(l=d.next()).done);s=!0){var p=l.value;if(a.toLowerCase()===p.toLowerCase()){n.config=Object.assign({},n.config,o[p]);break}}}catch(e){c=!0,u=e}finally{try{!s&&d.return&&d.return()}finally{if(c)throw u}}n.root?"string"==typeof n.root&&(n.root=e[n.root]):n.root=e.root,n.index=n.config.index||0;try{i[a.toLowerCase()]&&(this.unRegister(r,a.toLowerCase()),console.warn("the is one plugin with same pluginName ["+a+"] exist, destroy the old instance"));var f=new t(n);return i[a.toLowerCase()]=f,i[a.toLowerCase()].func=t,f&&"function"==typeof f.afterCreate&&f.afterCreate(),f}catch(e){throw console.error(e),e}}else console.warn("not supported plugin ["+a+"]")}},unRegister:function(t,n){t._pluginInfoId&&(t=t._pluginInfoId);try{var e=this.pluginGroup[t]._plugins[n];e&&(e.pluginName&&e.__destroy(),delete this.pluginGroup[t]._plugins[n])}catch(e){console.error("[unRegister:"+n+"] cgid:["+t+"] error",e)}},deletePlugin:function(e,t){var n=e._pluginInfoId;n&&this.pluginGroup&&this.pluginGroup[n]&&this.pluginGroup[n]._plugins&&delete this.pluginGroup[n]._plugins[t]},getPlugins:function(e){var t=e._pluginInfoId;return t?this.pluginGroup[t]._plugins:{}},findPlugin:function(e,t){if(!this.pluginGroup)return null;var n=e._pluginInfoId,r=t.toLowerCase();return this.pluginGroup[n]._plugins[r]},beforeInit:function(d){var p=this;function f(e){return e&&e.then?e:new Promise(function(e){e()})}return new Promise(function(l){if(p.pluginGroup)return(d._loadingPlugins&&d._loadingPlugins.length?Promise.all(d._loadingPlugins):Promise.resolve()).then(function(){var e=d._pluginInfoId,t=p.pluginGroup[e]._plugins,n=[],r=!0,i=!1,o=void 0;try{for(var a,s=Object.keys(t)[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var c=a.value;if(t[c]&&t[c].beforePlayerInit)try{var u=t[c].beforePlayerInit();n.push(f(u))}catch(e){throw n.push(f(null)),e}}}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}Promise.all([].concat(n)).then(function(){l()}).catch(function(e){console.error(e),l()})})})},afterInit:function(e){if(this.pluginGroup){var t=e._pluginInfoId,n=this.pluginGroup[t]._plugins,r=!0,i=!1,o=void 0;try{for(var a,s=Object.keys(n)[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var c=a.value;n[c]&&n[c].afterPlayerInit&&n[c].afterPlayerInit()}}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}}},setLang:function(e,t){if(this.pluginGroup){var n=t._pluginInfoId,r=this.pluginGroup[n]._plugins,i=!0,o=!1,a=void 0;try{for(var s,c=Object.keys(r)[Symbol.iterator]();!(i=(s=c.next()).done);i=!0){var u=s.value;r[u].updateLang&&r[u].updateLang(e);try{r[u].lang=e}catch(e){}}}catch(e){o=!0,a=e}finally{try{!i&&c.return&&c.return()}finally{if(o)throw a}}}},reRender:function(e){var t=e._pluginInfoId,n={},r=this.pluginGroup[t]._plugins,i=!0,o=!1,a=void 0;try{for(var s,c=Object.keys(r)[Symbol.iterator]();!(i=(s=c.next()).done);i=!0){var u=s.value;n[u]={plugin:r[u].func,options:r[u]._args},this.unRegister(t,u)}}catch(e){o=!0,a=e}finally{try{!i&&c.return&&c.return()}finally{if(o)throw a}}var l=!0,d=!1,p=void 0;try{for(var f,h=Object.keys(n)[Symbol.iterator]();!(l=(f=h.next()).done);l=!0){var g=f.value;this.register(t,g,n[g].plugin,n[g].options)}}catch(e){d=!0,p=e}finally{try{!l&&h.return&&h.return()}finally{if(d)throw p}}},onPluginsReady:function(e){var t=e._pluginInfoId,n=this.pluginGroup[t]._plugins;t&&n&&Object.keys(n).map(function(e){n[e].onPluginsReady&&"function"==typeof n[e].onPluginsReady&&n[e].onPluginsReady()})},destroy:function(e){var t=e._pluginInfoId;if(this.pluginGroup[t]){var n=this.pluginGroup[t]._plugins,r=!0,i=!1,o=void 0;try{for(var a,s=Object.keys(n)[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var c=a.value;this.unRegister(t,c)}}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}delete this.pluginGroup[t]}}};function Ve(r,e,i){for(var t=arguments.length,n=Array(3<t?t-3:0),o=3;o<t;o++)n[o-3]=arguments[o];var a=e.call.apply(e,[r].concat(n));i&&"function"==typeof i&&(a&&a.then?a.then(function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];i.call.apply(i,[r].concat(t))}):i.call.apply(i,[r].concat(n)))}function Ke(o,a){var s=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{pre:null,next:null};return this.__hooks||(this.__hooks={}),this.__hooks[o]||(this.__hooks[o]=null),function(){var e,t=this,n=arguments;if(s.pre)try{(e=s.pre).call.apply(e,[this].concat(Array.prototype.slice.call(arguments)))}catch(e){throw e.message="[pluginName: "+this.pluginName+":"+o+":pre error] >> "+e.message,e}if(this.__hooks&&this.__hooks[o])try{var r,i=(r=this.__hooks[o]).call.apply(r,[this].concat(Array.prototype.slice.call(arguments)));i&&(i.then?i.then(function(e){e&&Ve.apply(void 0,[t,a,s.next].concat(Array.prototype.slice.call(n)))}).catch(function(e){throw e}):Ve.apply(void 0,[this,a,s.next].concat(Array.prototype.slice.call(arguments))))}catch(e){throw e.message="[pluginName: "+this.pluginName+":"+o+"] >> "+e.message,e}else Ve.apply(void 0,[this,a,s.next].concat(Array.prototype.slice.call(arguments)))}.bind(this)}function Ge(e,t){var n=this.__hooks;n.hasOwnProperty(e)?n[e]=t:console.warn("plugin:"+this.pluginName+" has no supported hook which name ["+e+"]")}function We(e){if(this.plugins&&this.plugins[e.toLowerCase()]){for(var t=this.plugins[e.toLowerCase()],n=arguments.length,r=Array(1<n?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];t.useHooks&&t.useHooks.apply(t,r)}}function Ye(t){t.__hooks={},Object.defineProperty(t,"hooks",{get:function(){return Object.keys(t.__hooks).map(function(e){if(t.__hooks[e])return e})}}),t.hook=Ke.bind(t),t.useHooks=Ge.bind(t),t.plugins&&(t.usePluginHooks=We.bind(t))}var qe={DEFAULT:"xgplayer",DEFAULT_SKIN:"xgplayer-skin-default",ENTER:"xgplayer-is-enter",PAUSED:"xgplayer-pause",PLAYING:"xgplayer-playing",ENDED:"xgplayer-ended",CANPLAY:"xgplayer-canplay",LOADING:"xgplayer-isloading",ERROR:"xgplayer-is-error",REPLAY:"xgplayer-replay",NO_START:"xgplayer-nostart",ACTIVE:"xgplayer-inactive",FULLSCREEN:"xgplayer-is-fullscreen",CSS_FULLSCREEN:"xgplayer-is-cssfullscreen",NO_CONTROLS:"no-controls",FLEX_CONTROLS:"flex-controls",CONTROLS_FOLLOW:"controls-follow",AUTOHIDE:"xgplayer_autohide",NOT_ALLOW_AUTOPLAY:"not-allow-autoplay",SEEKING:"seeking",PC:"xgplayer-pc",MOBILE:"xgplayer-mobile",MINI:"xgplayer-mini"};function Ze(){return{id:"",el:null,url:"",nullUrlStart:!1,width:600,height:337.5,fluid:!1,fitVideoSize:"fixed",videoFillMode:"auto",volume:.6,autoplay:!1,autoplayMuted:!1,loop:!1,videoInit:!0,poster:"",defaultPlaybackRate:1,execBeforePluginsCall:null,allowSeekAfterEnded:!0,closeVideoClick:!1,closeVideoDblclick:!1,closePlayerBlur:!1,leavePlayerTime:0,closePlayVideoFocus:!1,closePauseVideoFocus:!1,closeFocusVideoFocus:!1,closeControlsBlur:!1,videoAttrbutes:{},startTime:0,isSeekedPlay:!0,disableSwipeHandler:function(){},enableSwipeHandler:function(){},ignores:[],whitelist:[],inactive:3e3,lang:(document.documentElement.getAttribute("lang")||navigator.language||"zh-cn").toLocaleLowerCase(),controls:!0,controlsList:[],screenShot:!1,rotate:!1,pip:!1,mini:!1,cssFullscreen:!0,keyShortcut:!0,presets:[],playbackRate:[.5,.75,1,1.5,2],icons:{},commonStyle:{progressColor:"",playedColor:"",cachedColor:"",sliderBtnStyle:"",volumeColor:""}}}function Xe(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var Qe=function(t,e){var n,r,i=void 0,o=(i=e.preset&&e.options?new e.preset(e.options,t.config):new e({},t.config)).plugins,a=void 0===o?[]:o,s=i.ignores,c=void 0===s?[]:s,u=i.icons,l=void 0===u?{}:u;t.config.plugins||(t.config.plugins=[]),t.config.ignores||(t.config.ignores=[]),(n=t.config.plugins).push.apply(n,Xe(a)),(r=t.config.ignores).push.apply(r,Xe(c)),Object.keys(l).map(function(e){t.config.icons[e]||(t.config.icons[e]=l[e])})},Je=function(e,t,n){return t&&$e(e.prototype,t),n&&$e(e,n),e};function $e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var et=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0!==i){if("value"in i)return i.value;var o=i.get;return void 0!==o?o.call(r):void 0}var a=Object.getPrototypeOf(t);if(null!==a)return e(a,n,r)};function tt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nt(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function rt(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function it(){return tt(this,it),nt(this,(it.__proto__||Object.getPrototypeOf(it)).apply(this,arguments))}var ot=(rt(it,Fe),Je(it,[{key:"beforeCreate",value:function(e){"boolean"==typeof e.player.config.controls&&(e.config.disable=!e.player.config.controls),e.config.mode||"mobile"!==ue.device||(e.config.mode="flex")}},{key:"afterCreate",value:function(){var t,n=this,e=this.config,r=e.disable,i=e.height,o=e.mode,a=e.autoHide;r||("flex"===o&&this.player.addClass(qe.FLEX_CONTROLS),a&&this.player.addClass(qe.AUTOHIDE),t={height:i+"px"},Object.keys(t).map(function(e){n.root.style[e]=t[e]}),this.left=this.find("left-grid"),this.center=this.find("center"),this.right=this.find("right-grid"),this.innerRoot=this.find("inner-controls"),this.on(l.MINI_STATE_CHANGE,function(e){e?d.a.addClass(n.root,"mini-controls"):d.a.removeClass(n.root,"mini-controls")}))}},{key:"focus",value:function(){this.player.emit(l.PLAYER_FOCUS,{autoHide:!1})}},{key:"unFocus",value:function(){this.player.emit(l.PLAYER_FOCUS,{autoHide:!0})}},{key:"blur",value:function(){this.player.emit(l.PLAYER_BLUR,{ignoreStatus:!0})}},{key:"recoverAutoHide",value:function(){this.config.autoHide&&d.a.addClass(this.root,"control_autohide")}},{key:"pauseAutoHide",value:function(){d.a.removeClass(this.root,"control_autohide")}},{key:"show",value:function(){d.a.addClass(this.root,"show")}},{key:"hide",value:function(){d.a.removeClass(this.root,"show")}},{key:"registerPlugin",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=arguments[2];if(this.root){var r=e.defaultConfig||{};if(!t.root){switch((t.config&&t.config.position?t.config:r).position){case He.CONTROLS_LEFT:t.root=this.left;break;case He.CONTROLS_RIGTH:t.root=this.right;break;case He.CONTROLS_CENTER:t.root=this.center;break;case He.CONTROLS:t.root=this.root;break;default:t.root=this.left}return et(it.prototype.__proto__||Object.getPrototypeOf(it.prototype),"registerPlugin",this).call(this,e,t,n)}}}},{key:"destroy",value:function(){}},{key:"render",value:function(){if(!this.config.disable){var e="flex"===this.config.mode?"flex-controls ":"";return'<xg-controls class="xgplayer-controls '+(e+=this.config.autoHide?"control_autohide":"")+'" unselectable="on" onselectstart="return false">\n    <inner-controls class="inner-controls">\n      <left-grid class="left-grid">\n      </Left-grid>\n      <center class="center"></center>\n      <right-grid class="right-grid">\n      </right-grid>\n    </inner-controls>\n    </xg-controls>'}}},{key:"mode",get:function(){return this.config.mode}}],[{key:"pluginName",get:function(){return"controls"}},{key:"defaultConfig",get:function(){return{disable:!1,autoHide:!0,mode:""}}}]),it),at={LANG:"zh-cn",TEXT:{HAVE_NOTHING:"/",HAVE_METADATA:"/",HAVE_CURRENT_DATA:"/",HAVE_FUTURE_DATA:"",HAVE_ENOUGH_DATA:"",NETWORK_EMPTY:"/",NETWORK_IDLE:"/",NETWORK_LOADING:"",NETWORK_NO_SOURCE:"/",MEDIA_ERR_ABORTED:"",MEDIA_ERR_NETWORK:"",MEDIA_ERR_DECODE:"",MEDIA_ERR_SRC_NOT_SUPPORTED:"/",REPLAY:"",ERROR:"",PLAY_TIPS:"",PAUSE_TIPS:"",PLAYNEXT_TIPS:"",DOWNLOAD_TIPS:"",ROTATE_TIPS:"",RELOAD_TIPS:"",FULLSCREEN_TIPS:"",EXITFULLSCREEN_TIPS:"",CSSFULLSCREEN_TIPS:"",EXITCSSFULLSCREEN_TIPS:"",TEXTTRACK:"",PIP:"",SCREENSHOT:"",LIVE:"",OFF:"",OPEN:"",MINI_DRAG:"",MINISCREEN:"",REFRESH_TIPS:"",REFRESH:""}},st={},ct={},ut=[];function lt(){Object.keys(st.en).map(function(e){ct[e]=e.toLowerCase()})}function dt(t){Object.keys(t).map(function(e){st[e]||(st[e]={}),"zh"===e?d.a.deepMerge(st["zh-cn"],t[e]):d.a.deepMerge(st[e],t[e])}),lt()}function pt(e){var t=e.LANG,n=e.TEXT||{};st[t]||ut.push(t),st[t]?d.a.deepMerge(st[t],n):st[t]=n,"zh-cn"===t&&(st.zh=st["zh-cn"]),lt()}pt({LANG:"en",TEXT:{HAVE_NOTHING:"There is no information on whether audio/video is ready",HAVE_METADATA:"Audio/video metadata is ready ",HAVE_CURRENT_DATA:"Data about the current play location is available, but there is not enough data to play the next frame/millisecond",HAVE_FUTURE_DATA:"Current and at least one frame of data is available",HAVE_ENOUGH_DATA:"The available data is sufficient to start playing",NETWORK_EMPTY:"Audio/video has not been initialized",NETWORK_IDLE:"Audio/video is active and has been selected for resources, but no network is used",NETWORK_LOADING:"The browser is downloading the data",NETWORK_NO_SOURCE:"No audio/video source was found",MEDIA_ERR_ABORTED:"The fetch process is aborted by the user",MEDIA_ERR_NETWORK:"An error occurred while downloading",MEDIA_ERR_DECODE:"An error occurred while decoding",MEDIA_ERR_SRC_NOT_SUPPORTED:"Audio/video is not supported",REPLAY:"Replay",ERROR:"Network is offline",PLAY_TIPS:"Play",PAUSE_TIPS:"Pause",PLAYNEXT_TIPS:"Play next",DOWNLOAD_TIPS:"Download",ROTATE_TIPS:"Rotate",RELOAD_TIPS:"Reload",FULLSCREEN_TIPS:"Fullscreen",EXITFULLSCREEN_TIPS:"Exit fullscreen",CSSFULLSCREEN_TIPS:"Cssfullscreen",EXITCSSFULLSCREEN_TIPS:"Exit cssfullscreen",TEXTTRACK:"Caption",PIP:"PIP",SCREENSHOT:"Screenshot",LIVE:"LIVE",OFF:"Off",OPEN:"Open",MINI_DRAG:"Click and hold to drag",MINISCREEN:"Miniscreen",REFRESH_TIPS:"Please Try",REFRESH:"Refresh"}}),pt(at);var ft={get textKeys(){return ct},get langKeys(){return ut},get lang(){var t={};return ut.map(function(e){t[e]=st[e]}),t.zh=st["zh-cn"],t},extend:dt,use:pt},ht=function(e,t,n){return t&&gt(e.prototype,t),n&&gt(e,n),e};function gt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var mt=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0!==i){if("value"in i)return i.value;var o=i.get;return void 0!==o?o.call(r):void 0}var a=Object.getPrototypeOf(t);if(null!==a)return e(a,n,r)};function vt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yt(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function bt(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Et=(bt(_t,se),ht(_t,[{key:"_initDOM",value:function(){var t=this;if(this.root=d.a.findDom(document,"#"+this.config.id),!this.root){var e=this.config.el;if(!e||1!==e.nodeType)return this.emit(v,new s("use",this.config.vid,{line:32,handle:"Constructor",msg:"container id can't be empty"})),!1;this.root=e}this._initBars();var n,r=ze.register(this,ot);return this.controls=r,this.addClass(qe.DEFAULT+" xgplayer-"+ue.device+" "+(this.config.controls?"":qe.NO_CONTROLS)),this.config.autoplay?this.addClass(qe.ENTER):this.addClass(qe.NO_START),this.config.fluid?(n={"max-width":"100%",width:"100%",height:"0","padding-top":100*this.config.height/this.config.width+"%",position:"position",top:"0",left:"0"},Object.keys(n).map(function(e){t.root.style[e]=n[e]})):["width","height"].map(function(e){t.config[e]&&("number"!=typeof t.config[e]?t.root.style[e]=t.config[e]:t.root.style[e]=t.config[e]+"px")}),!0}},{key:"_initBars",value:function(){this.topBar=d.a.createDom("xg-bar","",{},"xg-top-bar"),this.leftBar=d.a.createDom("xg-bar","",{},"xg-left-bar"),this.rightBar=d.a.createDom("xg-bar","",{},"xg-right-bar"),this.root.appendChild(this.topBar),this.root.appendChild(this.leftBar),this.root.appendChild(this.rightBar)}},{key:"_bindEvents",value:function(){var r=this;["focus","blur"].forEach(function(e){r.on(e,r["on"+e.charAt(0).toUpperCase()+e.slice(1)])}),this.onFullscreenChange=function(e,t){var n=d.a.getFullScreenEl();t||n&&(n===r._fullscreenEl||"VIDEO"===n.tagName)?(r.fullscreen=!0,r.addClass(qe.FULLSCREEN),r.emit(Y,!0),r.isCssfullScreen&&r.exitCssFullscreen()):(r.fullscreen=!1,r.video.focus(),r._fullscreenEl=null,r._originCssText&&!r.isCssfullScreen&&(d.a.setStyleFromCsstext(r.root,r._originCssText),r._originCssText=""),r.removeClass(qe.FULLSCREEN),r.emit(Y,!1))},he.forEach(function(e){document&&document.addEventListener(e,r.onFullscreenChange)}),this.__webkitbeginfullscreen=function(e){r._fullscreenEl=r.video,r.onFullscreenChange(e,!0)},this.__webkitendfullscreen=function(e){r.onFullscreenChange(e,!1)},this.video.addEventListener("webkitbeginfullscreen",this.__webkitbeginfullscreen),this.video.addEventListener("webkitendfullscreen",this.__webkitendfullscreen),this.once("loadeddata",this.getVideoSize),this.mousemoveFunc=function(){r.config.closeFocusVideoFocus||r.emit(P)},"mobile"!==ue.device&&this.root.addEventListener("mousemove",this.mousemoveFunc),this.playFunc=function(){r.config.closePlayVideoFocus||(r.emit(P),r.video.focus())},this.once("play",this.playFunc)}},{key:"_unbindEvents",value:function(){var t=this;this.root.removeEventListener("mousemove",this.mousemoveFunc),he.forEach(function(e){document.removeEventListener(e,t.onFullscreenChange)}),this.playFunc&&this.off("play",this.playFunc),this.canPlayFunc&&this.off("canplay",this.canPlayFunc),this.video.removeEventListener("webkitbeginfullscreen",this.__webkitbeginfullscreen),this.video.removeEventListener("webkitendfullscreen",this.__webkitendfullscreen)}},{key:"_startInit",value:function(e){var i=this,t=this.root;(e&&""!==e||(this.emit(B),this.logWarn("config.url is null, please get url and run player._startInit(url)"),!this.config.nullUrlStart))&&(this.canPlayFunc=function(){var e,t,n,r;i.config&&(t=(e=i.config).autoplay,n=e.startTime,r=e.volume,i.logInfo("player","canPlayFunc",n),i.volume="number"==typeof r?r:.6,n&&(i.currentTime=n>i.duration?i.duration:n),t&&i.play(),i.off(C,i.canPlayFunc),i.removeClass(qe.ENTER))},"String"===d.a.typeOf(e)?this.video.src=e:e.forEach(function(e){i.video.appendChild(d.a.createDom("source","",{src:""+e.src,type:""+(e.type||"")}))}),this.loadeddataFunc&&this.once("loadeddata",this.loadeddataFunc),t.firstChild!==this.video&&t.insertBefore(this.video,t.firstChild),this.once(C,this.canPlayFunc),this.logInfo("_startInit"),this.config.autoplay&&(this.load(),ue.os.isPhone&&this.play()),setTimeout(function(){i.emit(z)},1),this.hasStart||ze.afterInit(this),this.hasStart=!0)}},{key:"_registerPlugins",value:function(){var r=this;this._loadingPlugins=[];var e=this.config.ignores||[],t=this.config.plugins||[],i=e.join("||").toLowerCase().split("||");t.map(function(e){try{var t=(e.plugin||e).pluginName;if(t&&-1<i.indexOf(t.toLowerCase()))return null;if(e.lazy&&e.loader){var n=ze.lazyRegister(r,e);return void(e.forceBeforeInit&&(n.then(function(){r._loadingPlugins.splice(r._loadingPlugins.indexOf(n),1)}).catch(function(e){r.logError("_registerPlugins:loadingPlugin",e),r._loadingPlugins.splice(r._loadingPlugins.indexOf(n),1)}),r._loadingPlugins.push(n)))}return r.registerPlugin(e)}catch(e){return r.logError("_registerPlugins:",e),null}})}},{key:"_registerPresets",value:function(){var t=this;this.config.presets.forEach(function(e){Qe(t,e)})}},{key:"registerPlugin",value:function(e){var t=null,n=null,n=e.plugin&&"function"==typeof e.plugin?(t=e.plugin,e.options):(t=e,{}),r=!0,i=!1,o=void 0;try{for(var a,s=Object.keys(this.config)[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var c=a.value;if(t.pluginName.toLowerCase()===c.toLowerCase()){n.config=Object.assign({},n.config,this.config[c]);break}}}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}var u=n.position||n.config&&n.config.position||t.defaultConfig&&t.defaultConfig.position,l=Fe.POSITIONS;if(!n.root&&"string"==typeof u&&-1<u.indexOf("controls"))return this.controls.registerPlugin(t,n,t.pluginName);if(!n.root)switch(u){case l.ROOT_RIGHT:n.root=this.rightBar;break;case l.ROOT_LEFT:n.root=this.leftBar;break;case l.ROOT_TOP:n.root=this.topBar;break;default:n.root=this.root}return ze.register(this,t,n)}},{key:"unRegisterPlugin",value:function(e){"string"==typeof e?ze.unRegister(this,e):e instanceof Ae&&ze.unRegister(this,e.pluginName)}},{key:"getPlugin",value:function(e){var t=ze.findPlugin(this,e);return t&&t.pluginName?t:null}},{key:"addClass",value:function(e){this.root&&(d.a.hasClass(this.root,e)||d.a.addClass(this.root,e))}},{key:"removeClass",value:function(e){this.root&&d.a.removeClass(this.root,e)}},{key:"hasClass",value:function(e){if(this.root)return d.a.hasClass(this.root,e)}},{key:"setAttribute",value:function(e,t){this.root&&this.root.setAttribute(e,t)}},{key:"removeAttribute",value:function(e,t){this.root&&this.root.removeAttribute(e,t)}},{key:"start",value:function(e){var t=this;if(!this.hasStart)return this.hasStart=!0,ze.beforeInit(this).then(function(){return e=e||(t.url||t.config.url),t._startInit(e)}).catch(function(e){throw e.fileName="player",e.lineNumber="236",t.logError("start:beforeInit:",e),e})}},{key:"load",value:function(){this.video&&this.video.load()}},{key:"play",value:function(){var t=this;if(!this.hasStart)return this.removeClass(qe.NO_START),this.addClass(qe.ENTER),void this.start().then(function(e){t.play()});this.isPlaying||(this.removeClass(qe.NO_START),this.isCanplay||this.addClass(qe.ENTER));var e=mt(_t.prototype.__proto__||Object.getPrototypeOf(_t.prototype),"play",this).call(this);return void 0!==e&&e&&e.then?e.then(function(){t.removeClass(qe.NOT_ALLOW_AUTOPLAY),t.addClass(qe.PLAYING),t.isPlaying||(t.config.closePlayVideoFocus&&t.emit(j),t.logInfo(">>>>playPromise.then"),t.isPlaying=!0,t.emit(U))}).catch(function(e){return t.logWarn(">>>>playPromise.catch",e.name),t.video.error?(t.onError(),t.errorHandler("error"),void t.removeClass(qe.ENTER)):void("NotAllowedError"===e.name&&setTimeout(function(){t.emit(H),t.addClass(qe.NOT_ALLOW_AUTOPLAY),t.removeClass(qe.ENTER),t.pause()},0))}):(this.logWarn("video.play not return promise"),this.isPlaying||(this.isPlaying=!0,this.removeClass(qe.NOT_ALLOW_AUTOPLAY),this.removeClass(qe.NO_START),this.removeClass(qe.ENTER),this.addClass(qe.PLAYING),this.emit(U))),e}},{key:"seek",value:function(e){var t,n=this;this.video&&!isNaN(Number(e))&&(t=this.config.isSeekedPlay,e=e<0?0:e>this.duration?parseInt(this.duration,10):e,this.once(C,function(){n.removeClass(qe.ENTER),n.isSeeking=!1,t&&n.paused&&n.play()}),this.isPlaying?this.currentTime=e:(this.removeClass(qe.NO_START),this.addClass(qe.ENTER),this.currentTime=e,t&&this.play()))}},{key:"reload",value:function(){this.load(),this.reloadFunc=function(){this.play().catch(function(e){console.log(e)})},this.once("loadeddata",this.reloadFunc)}},{key:"destroy",value:function(){var e,t,n=!(0<arguments.length&&void 0!==arguments[0])||arguments[0];if(this.root){for(t in this._unbindEvents(),ze.destroy(this),this.root.removeChild(this.topBar),this.root.removeChild(this.leftBar),this.root.removeChild(this.rightBar),mt(_t.prototype.__proto__||Object.getPrototypeOf(_t.prototype),"destroy",this).call(this),this.hasStart&&this.root.removeChild(this.video),n&&(0<(e=this.root.className.split(" ")).length?this.root.className=e.filter(function(e){return e.indexOf("xgplayer")<0}).join(" "):this.root.className="",this.removeAttribute("data-xgfill")),this)delete this[t];Object.setPrototypeOf&&Object.setPrototypeOf(this,null)}}},{key:"replay",value:function(){var t=this;this.removeClass(qe.ENDED),this.once(C,function(){var e=t.play();e&&e.catch&&e.catch(function(e){console.log(e)})}),this.currentTime=0,this.isSeeking=!1,this.play(),this.emit(V),this.onPlay()}},{key:"retry",value:function(){this.removeClass(qe.ERROR),this.addClass(qe.LOADING);var e=this.currentTime;this.video.pause(),this.src=this.config.url,this.currentTime=e,this.video.play()}},{key:"getFullscreen",value:function(e){var t=this.root,n=this.video;e=e||t,!ue.os.isPhone&&t.getAttribute("style")&&(this._originCssText=t.style.cssText,t.removeAttribute("style")),this._fullscreenEl=e;for(var r=0;r<ge.length;r++){var i=ge[r];if(e[i]){var o="webkitRequestFullscreen"===i?e.webkitRequestFullscreen(window.Element.ALLOW_KEYBOARD_INPUT):e[i]();return o&&o.then?o:Promise.resolve()}}return n.fullscreenEnabled||n.webkitSupportsFullscreen?(n.webkitEnterFullscreen(),Promise.resolve()):Promise.reject(new Error("call getFullscreen fail"))}},{key:"exitFullscreen",value:function(e){this.root;var t=this.video;for(var n=0;n<me.length;n++){var r=me[n];if(document[r]){var i=document[r]();return i&&i.then?i:Promise.resolve()}}return t&&t.webkitSupportsFullscreen?(t.webkitExitFullScreen(),Promise.resolve()):Promise.reject(new Error("call exitFullscreen fail"))}},{key:"getCssFullscreen",value:function(){this.addClass(qe.CSS_FULLSCREEN),this.root.getAttribute("style")&&(this._originCssText=this.root.style.cssText,this.root.removeAttribute("style")),this.isCssfullScreen=!0,this.emit(q,!0),this.fullscreen&&this.exitFullscreen()}},{key:"exitCssFullscreen",value:function(){this.removeClass(qe.CSS_FULLSCREEN),this.fullscreen||(this._originCssText&&d.a.setStyleFromCsstext(this.root,this._originCssText),this._originCssText=""),this.isCssfullScreen=!1,this.emit(q,!1)}},{key:"onFocus",value:function(){var e=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{autoHide:!0};this.isActive=!0,this.removeClass(qe.ACTIVE),this.userTimer&&clearTimeout(this.userTimer),t.autoHide&&(this.userTimer=setTimeout(function(){e.emit(j)},this.config.inactive))}},{key:"onBlur",value:function(){var e,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{ignoreStatus:!1};this.isActive&&(e=this.config.closePauseVideoFocus,this.isActive=!1,(t.ignoreStatus||e||!this.paused&&!this.ended)&&this.addClass(qe.ACTIVE))}},{key:"onCanplay",value:function(){this.removeClass(qe.ENTER),this.isCanplay=!0}},{key:"onPlay",value:function(){this.removeClass(qe.PAUSED),this.ended&&this.removeClass(qe.ENDED),this.config.closePlayVideoFocus||this.emit(P)}},{key:"onPause",value:function(){this.addClass(qe.PAUSED),this.userTimer&&clearTimeout(this.userTimer),this.config.closePauseVideoFocus||this.emit(P)}},{key:"onEnded",value:function(){this.addClass(qe.ENDED),this.removeClass(qe.PLAYING)}},{key:"onError",value:function(){this.removeClass(qe.NOT_ALLOW_AUTOPLAY),this.removeClass(qe.NO_START),this.removeClass(qe.ENTER),this.addClass(qe.ERROR)}},{key:"onSeeking",value:function(){var e;this.isSeeking||((e=this._played).acc+=e.begin<e.end&&-1<e.end?e.end-e.begin:0,e.begin=parseInt(1e3*this.video.currentTime,10),e.end=-1),this.isSeeking=!0,this.addClass(qe.SEEKING)}},{key:"onSeeked",value:function(){this.isSeeking=!1,this.waitTimer&&clearTimeout(this.waitTimer),this.removeClass(qe.LOADING),this.removeClass(qe.SEEKING)}},{key:"onWaiting",value:function(){var e=this;this.waitTimer&&clearTimeout(this.waitTimer),this.waitTimer=setTimeout(function(){e.addClass(qe.LOADING),clearTimeout(e.waitTimer),e.waitTimer=null},500)}},{key:"onPlaying",value:function(){var t=this;[qe.NO_START,qe.PAUSED,qe.ENDED,qe.ERROR,qe.REPLAY].forEach(function(e){t.removeClass(e)})}},{key:"onTimeupdate",value:function(){(this.waitTimer||this.hasClass(qe.LOADING))&&this.checkBuffer()&&(this.removeClass(qe.LOADING),clearTimeout(this.waitTimer),this.waitTimer=null),this._played.begin<0&&(this._played.begin=parseInt(1e3*this.video.currentTime,10)),this._played.end=parseInt(1e3*this.video.currentTime,10)}},{key:"checkBuffer",value:function(e){for(var t=this.video.buffered,n=e||this.video.currentTime+.2,r=t.length,i=0;i<r;i++)if(t.start(i)<=n&&t.end(i)>n)return!0;return!1}},{key:"getVideoSize",value:function(){var e,t,n,r,i,o=this.video.videoWidth,a=this.video.videoHeight,s=this.config,c=s.fitVideoSize,u=s.videoFillMode;a&&o&&(t=(e=this.root.getBoundingClientRect()).width,n=e.height,r=parseInt(o/a*1e3,10),i=parseInt(t/n*1e3,10),"auto"===c?r<i?this.root.style.height=t/r*1e3+"px":this.root.style.width=r*n/1e3+"px":"fixWidth"===c?this.root.style.height=t/r*1e3+"px":"fixHeight"===c&&(this.root.style.width=r*n/1e3+"px"),"fill"===u?this.setAttribute("data-xgfill","fill"):"fillHeight"===u&&i<r||"fillWidth"===u&&r<i||"cover"===u?this.setAttribute("data-xgfill","cover"):this.removeAttribute("data-xgfill"))}},{key:"plugins",get:function(){return ze.getPlugins(this)}},{key:"lang",set:function(t){0!==ft.langKeys.filter(function(e){return e===t}).length||"zh"===t?(this.config.lang=t,ze.setLang(t,this)):console.error("Sorry, set lang fail, because the language ["+t+"] is not supported now, list of all supported languages is ["+ft.langKeys.join()+"] ")},get:function(){return this.config.lang}},{key:"i18n",get:function(){var e=this.config.lang;return ft.lang[e]||{}}},{key:"i18nKeys",get:function(){return ft.textKeys||{}}},{key:"version",get:function(){return h.a}},{key:"url",set:function(e){this.__url=e},get:function(){return this.__url||this.config.url}},{key:"poster",set:function(e){var t=d.a.findDom(this.root,".xgplayer-poster");t&&(t.style.backgroundImage="url("+e+")")}},{key:"fullscreen",get:function(){return this._isFullScreen},set:function(e){this._isFullScreen=e}},{key:"bullet",get:function(){return!!d.a.findDom(this.root,"xg-bullet")&&d.a.hasClass(d.a.findDom(this.root,"xg-bullet"),"xgplayer-has-bullet")}},{key:"textTrack",get:function(){return d.a.hasClass(this.root,"xgplayer-is-textTrack")}},{key:"pip",get:function(){return d.a.hasClass(this.root,"xgplayer-pip-active")}},{key:"readyState",get:function(){var e=mt(_t.prototype.__proto__||Object.getPrototypeOf(_t.prototype),"readyState",this);return this.i18n[e]||e}},{key:"error",get:function(){var e=mt(_t.prototype.__proto__||Object.getPrototypeOf(_t.prototype),"error",this);return this.i18n[e]||e}},{key:"networkState",get:function(){var e=mt(_t.prototype.__proto__||Object.getPrototypeOf(_t.prototype),"networkState",this);return this.i18n[e]||e}},{key:"cumulateTime",get:function(){var e=this._played,t=e.acc,n=e.end,r=e.begin;return-1<r&&r<n?(t+n-r)/1e3:t/1e3}}],[{key:"install",value:function(e,t){_t.plugins||(_t.plugins={}),_t.plugins[e]||(_t.plugins[e]=t)}},{key:"use",value:function(e,t){_t.plugins||(_t.plugins={}),_t.plugins[e]=t}}]),_t);function _t(e){vt(this,_t);var t,n=yt(this,(_t.__proto__||Object.getPrototypeOf(_t)).call(this,e));return Ye(n),n.config=d.a.deepMerge(Ze(),e),Object(ve.a)(n),n.config.presets.length?0<=(t=n.config.presets.indexOf("default"))&&_t.defaultPreset&&(n.config.presets[t]=_t.defaultPreset):_t.defaultPreset&&n.config.presets.push(_t.defaultPreset),n.userTimer=null,n.waitTimer=null,n.isReady=!1,n.isPlaying=!1,n.isSeeking=!1,n.isCanplay=!1,n.isActive=!0,n.isCssfullScreen=!1,n.fullscreen=!1,n._fullscreenEl=null,n._originCssText="",n._played={begin:-1,end:-1,acc:0},n.database=new fe,n._initDOM()?(n._bindEvents(),n._registerPresets(),n._registerPlugins(),ze.onPluginsReady(n),setTimeout(function(){n.emit(F),n.onReady&&n.onReady(),n.isReady=!0},0),(n.config.videoInit||n.config.autoplay)&&(n.hasStart||n.start()),n):(console.error(new Error("can't find the dom which id is "+n.config.id+" or this.config.el does not exist")),yt(n))}Et.Util=d.a,Et.Sniffer=ue,Et.Errors=s,Et.Events=l,Et.Plugin=Fe,Et.BasePlugin=Ae,Et.I18N=ft;var At=function(e,t,n){return t&&Ct(e.prototype,t),n&&Ct(e,n),e};function Ct(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Tt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ot(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function kt(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var St='<svg class="xgplayer-replay-svg" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 78 78" width="78" height="78"><path fill="#ddd" d="M28.227 33.876l3.04-1.229a1 1 0 011.303.553l.374.927a1 1 0 01-.552 1.302l-5.564 2.247-.927.375a1 1 0 01-1.302-.553l-2.622-6.49a1 1 0 01.553-1.302l.927-.374a1 1 0 011.302.552l.92 2.278A15.005 15.005 0 0139.5 23c8.284 0 15 6.716 15 15 0 8.284-6.716 15-15 15a14.955 14.955 0 01-10.63-4.417 1.5 1.5 0 112.126-2.116A11.956 11.956 0 0039.5 50c6.627 0 12-5.373 12-12s-5.373-12-12-12a12.005 12.005 0 00-11.273 7.876z"/></svg>';function wt(){return Tt(this,wt),Ot(this,(wt.__proto__||Object.getPrototypeOf(wt)).apply(this,arguments))}var It=(kt(wt,Fe),At(wt,[{key:"registerIcons",value:function(){return{replay:St}}},{key:"afterCreate",value:function(){var n=this;Ye(this),Fe.insert(this.icons.replay,this.root,0),this.__handleReplay=this.hook("replayHandler",function(){n.player.replay()},{pre:function(e){e.preventDefault(),e.stopPropagation()}}),this.bind(".xgplayer-replay",["click","touchend"],this.__handleReplay),this.on(Fe.Events.ENDED,function(){if(n.playerConfig.loop||Fe.Util.addClass(n.player.root,"replay"),!n.config.disable){n.show();var e=n.root.querySelector("path");if(e){var t=window.getComputedStyle(e).getPropertyValue("transform");if("string"==typeof t&&-1<t.indexOf("none"))return null;e.setAttribute("transform",t)}}}),this.on(Fe.Events.PLAY,function(){n.hide()})}},{key:"handleReplay",value:function(e){e.preventDefault(),e.stopPropagation(),this.player.replay(),Fe.Util.removeClass(this.player.root,"replay")}},{key:"show",value:function(){this.config.disable||(this.root.style.display="flex")}},{key:"enable",value:function(){this.config.disable=!1}},{key:"disable",value:function(){this.config.disable=!0,this.hide()}},{key:"destroy",value:function(){this.unbind("svg",["click","touchend"],this.handleReplay),this.unbind(".xgplayer-replay-txt",["click","touchend"],this.handleReplay)}},{key:"render",value:function(){return'<xg-replay class="xgplayer-replay">\n      <xg-replay-txt class="xgplayer-replay-txt" lang-key="'+this.i18nKeys.REPLAY+'">'+(this.i18n.REPLAY||"")+"</xg-replay-txt>\n    </xg-replay>"}}],[{key:"pluginName",get:function(){return"replay"}},{key:"defaultConfig",get:function(){return{disable:!1}}}]),wt),xt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lt=function(e,t,n){return t&&Rt(e.prototype,t),n&&Rt(e,n),e};function Rt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Nt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Dt(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function Mt(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function Pt(){return Nt(this,Pt),Dt(this,(Pt.__proto__||Object.getPrototypeOf(Pt)).apply(this,arguments))}var jt=(Mt(Pt,Fe),Lt(Pt,[{key:"beforeCreate",value:function(e){"object"===xt(e.player.config.poster)?e.config=e.player.config.poster:e.config={poster:e.player.config.poster}}},{key:"afterCreate",value:function(){var e=this;this.on(l.ENDED,function(){e.isEndedShow||d.a.addClass(e.root,"hide")}),this.on(l.PLAY,function(){d.a.removeClass(e.root,"hide")})}},{key:"update",value:function(e){e&&(this.config.poster=e,this.root.style.backgroundImage="url:"+e)}},{key:"render",value:function(){var e=this.config.poster;return'<xg-poster class="xgplayer-poster" style="'+(e?"background-image:url("+e+");":"")+'">\n    </xg-poster>'}},{key:"isEndedShow",set:function(e){this.config.isEndedShow=e},get:function(){return this.config.isEndedShow}}],[{key:"pluginName",get:function(){return"poster"}},{key:"defaultConfig",get:function(){return{isEndedShow:!0,poster:""}}}]),Pt),Ft=function(e,t,n){return t&&Bt(e.prototype,t),n&&Bt(e,n),e};function Bt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ut(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ht(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function zt(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Vt='<svg class="play" xmlns="http://www.w3.org/2000/svg" width="28" height="40" viewBox="2 -4 28 40"><path d="M18.468 11.639l7.503 4.777-7.503 4.777zM10.965 6.86l7.503 4.778v9.554l-7.503 4.778z"/></svg>',Kt='<svg class="pause" xmlns="http://www.w3.org/2000/svg" width="28" height="40" viewBox="2 -4 28 40"><path d="M19.173 6.861h5.451v19.11h-5.45V6.86zM8.208 25.971V6.86h5.45v19.11h-5.45z"/></svg>',Gt={};function Wt(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{start:null,end:null};Gt[e]&&window.clearTimeout(Gt[e].id),Gt[e]={},n.start&&n.start(),Gt[e].id=window.setTimeout(function(){n.end&&n.end(),window.clearTimeout(Gt[e].id),delete Gt[e]},t)}function Yt(e){Ut(this,Yt);var t=Ht(this,(Yt.__proto__||Object.getPrototypeOf(Yt)).call(this,e));return t.autoPlayStart=!1,t}var qt=(zt(Yt,Fe),Ft(Yt,null,[{key:"pluginName",get:function(){return"start"}},{key:"defaultConfig",get:function(){return{isShowPause:!1,isShowEnd:!1,disableAnimate:!1,mode:"hide"}}}]),Ft(Yt,[{key:"afterCreate",value:function(){var e=this,t=this.player,n=this.playerConfig;Ye(this),this.initIcons(),this.once(l.READY,function(){n&&(n.lang&&"en"===n.lang?d.a.addClass(t.root,"lang-is-en"):"jp"===n.lang&&d.a.addClass(t.root,"lang-is-jp"))}),this.on(l.AUTOPLAY_STARTED,function(){e.autoPlayStart=!0,e.onPlayPause("play")}),n.autoplay||this.show(),this.on(l.AUTOPLAY_PREVENTED,function(){e.setAttr("data-state","play"),e.show()}),this.on(l.PLAY,function(){e.onPlayPause("play")}),this.on(l.PAUSE,function(){e.onPlayPause("pause")}),this.clickHandler=this.hook("click",this.switchPausePlay,{pre:function(e){e.preventDefault(),e.stopPropagation()}}),this.bind(["click","touchend"],this.clickHandler)}},{key:"registerIcons",value:function(){return{startPlay:{icon:Vt,class:"xg-icon-play"},startPause:{icon:Kt,class:"xg-icon-pause"}}}},{key:"initIcons",value:function(){var e=this.icons;this.appendChild(".icon",e.startPlay),this.appendChild(".icon",e.startPause)}},{key:"hide",value:function(){d.a.addClass(this.root,"hide")}},{key:"show",value:function(){d.a.removeClass(this.root,"hide")}},{key:"switchStatus",value:function(e){e?this.setAttr("data-state",this.player.paused?"pause":"play"):this.setAttr("data-state",this.player.paused?"play":"pause")}},{key:"animate",value:function(e){var t=this;Wt("pauseplay",400,{start:function(){d.a.addClass(t.root,"interact"),t.show(),t.switchStatus(!0)},end:function(){d.a.removeClass(t.root,"interact"),e||t.hide()}})}},{key:"switchPausePlay",value:function(e){var t=this.player;e.preventDefault(),e.stopPropagation(),t.isReady&&(!this.player.paused&&t.isPlaying?t.pause():t.play())}},{key:"onPlayPause",value:function(e){var t=this.config,n=this.player;if(n.isPlaying&&this.autoPlayStart)return"show"===t.mode?(this.switchStatus(),void this.show()):"auto"!==t.mode?t.isShowPause&&n.paused&&!n.ended||t.isShowEnd&&n.ended?(this.switchStatus(),void this.show()):t.disableAnimate?(this.switchStatus(),void this.hide()):void("play"===e?this.autoPlayStart?this.animate():this.hide():this.autoPlayStart&&this.animate()):void this.switchStatus()}},{key:"destroy",value:function(){this.unbind(["click","touchend"],this.onClick)}},{key:"render",value:function(){return'\n    <xg-start class="xgplayer-start '+("auto"===this.config.mode?"auto-hide":"hide")+'">\n      <div class="icon">\n      </div>\n    </xg-start>'}}]),Yt),Zt=function(e,t,n){return t&&Xt(e.prototype,t),n&&Xt(e,n),e};function Xt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Qt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Jt(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function $t(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function en(){return Qt(this,en),Jt(this,(en.__proto__||Object.getPrototypeOf(en)).apply(this,arguments))}var tn=($t(en,Fe),Zt(en,[{key:"render",value:function(){var e=this.config.innerHtml,t=d.a.createDom("xg-enter","",{},"xgplayer-enter");if(e&&e instanceof window.HTMLElement)t.appendChild(e);else if(e&&"string"==typeof e)t.innerHTML=e;else{for(var n="",r=1;r<=12;r++)n+='<div class="xgplayer-enter-bar'+r+'"></div>';t.innerHTML='<div class="xgplayer-enter-spinner">'+n+"</div>"}return t}}],[{key:"pluginName",get:function(){return"enter"}},{key:"defaultConfig",get:function(){return{innerHtml:"",logo:""}}}]),en),nn=function(e,t,n){return t&&rn(e.prototype,t),n&&rn(e,n),e};function rn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function on(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function an(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function sn(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function cn(){return on(this,cn),an(this,(cn.__proto__||Object.getPrototypeOf(cn)).apply(this,arguments))}var un=(sn(cn,Fe),nn(cn,[{key:"afterCreate",value:function(){this.getMini=this.getMini.bind(this),this.exitMini=this.exitMini.bind(this),this.bind("click",this.getMini)}},{key:"getMini",value:function(){this.config.onClick&&this.config.onClick()}},{key:"exitMini",value:function(){this.config.onClick&&this.config.onClick()}},{key:"destroy",value:function(){this.unbind(["click","touchend"],this.getMini)}},{key:"render",value:function(){var e="MINISCREEN";return'\n      <xg-icon class="xgplayer-miniicon">\n      <div class="xgplayer-icon btn-text"><span class="icon-text" lang-key="'+this.i18nKeys[e]+'">'+this.i18n[e]+"</span></div>\n      </xg-icon>"}}],[{key:"pluginName",get:function(){return"miniscreenIcon"}},{key:"defaultConfig",get:function(){return{position:He.CONTROLS_RIGTH,index:10}}}]),cn),ln=function(e,t,n){return t&&dn(e.prototype,t),n&&dn(e,n),e};function dn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function pn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function hn(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var gn='<svg class="play" xmlns="http://www.w3.org/2000/svg" width="28" height="40" viewBox="2 -4 28 40"><path d="M18.468 11.639l7.503 4.777-7.503 4.777zM10.965 6.86l7.503 4.778v9.554l-7.503 4.778z"/></svg>',mn='<svg class="pause" xmlns="http://www.w3.org/2000/svg" width="28" height="40" viewBox="2 -4 28 40"><path d="M19.173 6.861h5.451v19.11h-5.45V6.86zM8.208 25.971V6.86h5.45v19.11h-5.45z"/></svg>',vn=(hn(yn,Fe),ln(yn,null,[{key:"pluginName",get:function(){return"miniscreen"}},{key:"defaultConfig",get:function(){return{disable:!1,width:320,height:180,left:-1,top:-1,isShowIcon:!1,isScrollSwitch:!1,scrollTop:0,disableDrag:!1}}}]),ln(yn,[{key:"beforeCreate",value:function(e){"boolean"==typeof e.player.config.mini&&(e.config.isShowIcon=e.player.config.mini)}},{key:"afterCreate",value:function(){var t=this;["onMousemove","onMousedown","onMouseup","onCancelClick","onCenterClick","onScroll"].map(function(e){t[e]=t[e].bind(t)}),this.initIcons(),this.on(l.PAUSE,function(){t.setAttr("data-state","pause")}),this.on(l.PLAY,function(){t.setAttr("data-state","play")})}},{key:"onPluginsReady",value:function(){var e,t=this,n=this.player;this.config.disable||(this.config.isShowIcon&&(e={config:{onClick:function(){t.getMini()}}},n.controls.registerPlugin(un,e,un.pluginName)),this.bind(".mini-cancel-btn","click",this.onCancelClick),this.bind(".play-icon","click",this.onCenterClick),this.config.disableDrag||this.bind("mousedown",this.onMousedown),this.config.isScrollSwitch&&window.addEventListener("scroll",this.onScroll))}},{key:"registerIcons",value:function(){return{play:{icon:gn,class:"xg-icon-play"},pause:{icon:mn,class:"xg-icon-pause"}}}},{key:"initIcons",value:function(){var e=this.icons;this.appendChild(".play-icon",e.play),this.appendChild(".play-icon",e.pause)}},{key:"onCancelClick",value:function(e){this.exitMini()}},{key:"onCenterClick",value:function(e){var t=this.player;t.paused?t.play():t.pause()}},{key:"onScroll",value:function(e){var t;!window.scrollY&&0!==window.scrollY||Math.abs(window.scrollY-this.coordinate.scrollY)<50||(t=parseInt(d.a.getCss(this.player.root,"height")),t+=this.config.scrollTop,this.coordinate.scrollY=window.scrollY,window.scrollY>t+5&&!this.isMini?this.getMini():window.scrollY<=t&&this.isMini&&this.exitMini())}},{key:"onMousedown",value:function(e){e.target!==this.root||this.isMoveing||(this.isMoveing=!0,this.coordinate.currentX=e.clientX,this.coordinate.currentY=e.clientY,this.bind("mouseup",this.onMouseup),this.bind("mousemove",this.onMousemove))}},{key:"onMouseup",value:function(e){var t;e.target===this.root&&this.isMoveing&&(this.isMoveing=!1,this.clientWidth=window.innerWidth,t=this.config.target||this.player.root,this.pos.top=parseInt(d.a.getCss(t,"top")),this.pos.left=parseInt(d.a.getCss(t,"left")),this.unbind("mousemove",this.onMousemove),this.unbind("mouseup",this.onMouseup))}},{key:"onMousemove",value:function(e,t){e=e||window.event;var n=this.config.target||this.player.root,r=window.innerHeight-parseInt(d.a.getCss(n,"height")),i=window.innerWidth-parseInt(d.a.getCss(n,"width"));if(this.isMoveing){var o=e.clientX,a=e.clientY,s=o-this.coordinate.currentX,c=a-this.coordinate.currentY,u=parseInt(this.pos.top)+c,l=parseInt(this.pos.left)+s;return l<0?l=0:i<l&&(l=i),u<0?u=0:r<u&&(u=r),n.style.left=l+"px",n.style.top=u+"px","function"==typeof t&&t(l,u),e.preventDefault&&e.preventDefault(),!1}}},{key:"getMini",value:function(){var e,t,n,r=this;this.isMini||(e=this.player,t=this.playerConfig,n=this.config.target||this.player.root,this.lastStyle={},d.a.addClass(e.root,"xgplayer-mini"),Object.keys(this.pos).map(function(e){r.lastStyle[e]=n.style[e],n.style[e]=r.pos[e]+"px"}),t.fluid&&(n.style["padding-top"]=""),this.emit(l.MINI_STATE_CHANGE,!0),e.isMini=this.isMini=!0)}},{key:"exitMini",value:function(){var t=this;if(!this.isMini)return!1;var e=this.player,n=this.playerConfig,r=this.config.target||this.player.root;d.a.removeClass(e.root,"xgplayer-mini"),this.lastStyle&&Object.keys(this.lastStyle).map(function(e){r.style[e]=t.lastStyle[e]}),this.lastStyle=null,n.fluid&&(e.root.style.width="100%",e.root.style.height="0",e.root.style["padding-top"]=100*n.height/n.width+"%"),this.emit(l.MINI_STATE_CHANGE,!1),this.isMini=e.isMini=!1}},{key:"destroy",value:function(){this.unbind("mousedown",this.onMousedown),window.removeEventListener("scroll",this.onScroll),this.unbind(".mini-cancel-btn","click",this.onCancelClick),this.unbind(".play-icon","click",this.onCenterClick),this.unbind("mousedown",this.onMousedown)}},{key:"render",value:function(){if(!this.config.disable)return'\n      <xg-mini-layer class="xg-mini-layer">\n      <div class="mask"></div>\n      <xg-mini-header class="xgplayer-mini-header">\n      <div lang-key="'+this.i18nKeys.MINI_DRAG+'">'+this.i18n.MINI_DRAG+'</div>\n      </xg-mini-header>\n      <div class="mini-cancel-btn">X</div>\n      <div class="play-icon">\n      </div>\n      </xg-mini-layer>'}}]),yn);function yn(e){pn(this,yn);var t=fn(this,(yn.__proto__||Object.getPrototypeOf(yn)).call(this,e));t.isMini=!1;var n=t.config;return t.pos={left:n.left<0?window.innerWidth-n.width-20:n.left,top:n.top<0?window.innerHeight-n.height-20:n.top,height:t.config.height,width:t.config.width},t.coordinate={currentX:0,currentY:0,scrollY:window.scrollY||0},t.lastStyle=null,t.isMoveing=!1,t}var bn=function(e,t,n){return t&&En(e.prototype,t),n&&En(e,n),e};function En(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function An(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function Cn(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function Tn(){return _n(this,Tn),An(this,(Tn.__proto__||Object.getPrototypeOf(Tn)).apply(this,arguments))}var On=(Cn(Tn,Ae),bn(Tn,[{key:"afterCreate",value:function(){var t=this;["onVideoClick","onVideoDblClick","onContextmenu"].map(function(e){t[e]&&(t[e]=t[e].bind(t))}),this.initEvents()}},{key:"initEvents",value:function(){var e=this.player;e.video.addEventListener("click",this.onVideoClick,!1),e.video.addEventListener("dblclick",this.onVideoDblClick,!1),this.config.disableContextmenu&&e.video.addEventListener("contextmenu",this.onContextmenu,!1)}},{key:"onContextmenu",value:function(e){(e=e||window.event).preventDefault&&e.preventDefault(),e.stopPropagation?e.stopPropagation():(e.returnValue=!1,e.cancelBubble=!0)}},{key:"onVideoClick",value:function(e){var t,n,r=this.player;e.target&&e.target===r.video&&(e.preventDefault(),this.config.closeVideoStopPropagation||e.stopPropagation(),n=void(t=0),r.config.closeVideoClick||(t++,n&&clearTimeout(n),1===t?n=setTimeout(function(){return!d.a.hasClass(r.root,"xgplayer-nostart")&&(r.ended||(r.paused?r.play():r.pause()),void(t=0))},200):t=0))}},{key:"onVideoDblClick",value:function(e){var t=this.player;e.target&&e.target===t.video&&(e.preventDefault(),e.stopPropagation(),t.config.closeVideoDblclick||(t.fullscreen?t.exitFullscreen():t.getFullscreen()))}},{key:"onControlMouseEnter",value:function(){var e=this.player;e.userTimer&&clearTimeout(e.userTimer)}},{key:"onControlMouseLeave",value:function(){var e=this.player;e.config.closeControlsBlur||e.emit("focus",e)}},{key:"destroy",value:function(){var e=this.player;e.video.removeEventListener("click",this.onVideoClick,!1),e.video.removeEventListener("dblclick",this.onVideoDblClick,!1),e.video.removeEventListener("contextmenu",this.onContextmenu,!1)}}],[{key:"pluginName",get:function(){return"pc"}},{key:"defaultConfig",get:function(){return{disableContextmenu:!0}}}]),Tn),kn=function(e,t,n){return t&&Sn(e.prototype,t),n&&Sn(e,n),e};function Sn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function wn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function In(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function xn(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Ln={AUTO:"auto",SEEKING:"seeking"};function Rn(e){wn(this,Rn);var t=In(this,(Rn.__proto__||Object.getPrototypeOf(Rn)).call(this,e));return t.isTouchMove=!1,t.isTouchStart=!1,t.pos={x:0,y:0,time:0,volume:0,light:0,width:0,height:0,scopeL:0,scopeR:0,op:0},t}var Nn=(xn(Rn,Fe),kn(Rn,null,[{key:"pluginName",get:function(){return"mobile"}},{key:"defaultConfig",get:function(){return{stopPropagation:!0,index:0,disableGesture:!1,gestureX:!0,gestureY:!0,updateGesture:function(){},onTouchStart:function(){},onTouchEnd:function(){},gradient:"normal",isTouchingSeek:!1,miniMoveStep:10,scopeL:.4,scopeR:.4,darkness:!0,maxDarkness:.6,disableActive:!1,disableTimeProgress:!1,hideControlsActive:!0,hideControlsEnd:!1}}}]),kn(Rn,[{key:"afterCreate",value:function(){var e,t=this,n=this.playerConfig,r=this.config,i=this.player;d.a.isUndefined(n.disableGesture)||(r.disableGesture=!!n.disableGesture),this.xgMask=d.a.createDom("xg-mask","",{},"xgmask"),i.root.appendChild(this.xgMask),this.initCustomStyle(),this.registerThumbnail(),this.onTouchMove=this.onTouchMove.bind(this),this.onTouchStart=this.onTouchStart.bind(this),this.onTouchEnd=this.onTouchEnd.bind(this),this.root.addEventListener("touchstart",this.onTouchStart),r.disableActive||(e=i.plugins.progress)&&(e.addCallBack("dragmove",function(e){t.activeSeekNote(e.currentTime)}),e.addCallBack("dragend",function(){t.changeAction(Ln.AUTO)}))}},{key:"registerThumbnail",value:function(){var e,t=this.player.plugins.thumbnail;t&&t.usable&&(this.thumbnailPlugin=t.createThumbnail(null,"mobile-thumbnail"),(e=this.find(".time-preview")).insertBefore(this.thumbnailPlugin,e.children[0]))}},{key:"initCustomStyle",value:function(){var e=(this.playerConfig||{}).commonStyle,t=e.playedColor,n=e.progressColor;t&&(this.find(".curbar").style.backgroundColor=t,this.find(".cur").style.color=t),n&&(this.find(".bar").style.backgroundColor=n,this.find(".time-preview").style.color=n),this.config.disableTimeProgress&&d.a.addClass(this.find(".bar"),"hide")}},{key:"changeAction",value:function(e){this.root.setAttribute("data-xg-action",e)}},{key:"getTouche",value:function(e){return e&&0<e.length?e[e.length-1]:null}},{key:"onTouchStart",value:function(e){var t=this.player,n=this.config,r=this.pos,i=this.playerConfig;if(this.isTouchStart)return!0;this.isTouchStart=!0;var o=this.getTouche(e.touches);o&&!n.disableGesture&&0<t.duration&&(d.a.checkIsFunction(i.disableSwipeHandler)&&i.disableSwipeHandler(),this.find(".dur").innerHTML=d.a.format(t.duration),r.x=parseInt(o.pageX,10),r.y=parseInt(o.pageY,10),r.time=1e3*t.currentTime,r.volume=100*t.volume,r.width=parseInt(d.a.getCss(this.root,"width"),10),r.height=parseInt(d.a.getCss(this.root,"height"),10)-48,r.scopeL=n.scopeL*r.width,r.scopeR=(1-n.scopeR)*r.width,this.root.addEventListener("touchmove",this.onTouchMove,!1)),this.root.addEventListener("touchend",this.onTouchEnd,!1)}},{key:"onTouchMove",value:function(e){var t,n,r,i,o,a=this.getTouche(e.touches),s=this.pos,c=this.config,u=this.player;a&&!c.disableGesture&&(Math.abs(a.pageX-this.pos.x)>this.config.miniMoveStep||Math.abs(a.pageY-s.y)>this.config.miniMoveStep)&&(c.hideControlsActive?u.emit(l.PLAYER_BLUR):u.emit(l.PLAYER_FOCUS,{autoHide:!1}),t=parseInt(a.pageX,10),n=parseInt(a.pageY,10),r=t-s.x,i=n-s.y,o=Math.abs(i)/Math.abs(r),c.gestureY&&1.73<o&&(t<s.scopeL||t>s.scopeR)?t<s.scopeL&&c.darkness?(s.op=3,this.updateBrightness(i/s.height)):(s.op=2,this.updateVolume(i/s.height)):c.gestureX&&o<.27?(s.op=1,this.updateTime(r/s.width)):s.op=0,d.a.stopPropagation(e),s.x=t,s.y=n,c.updateGesture&&"function"==typeof c.updateGesture&&c.updateGesture({diffx:r,diffy:i,x:t,y:n},s),this.isTouchMove=!0)}},{key:"onTouchEnd",value:function(e){var t,n=this.root,r=this.player,i=this.pos,o=this.config,a=this.playerConfig;n.removeEventListener("touchmove",this.onTouchMove,!1),n.removeEventListener("touchend",this.onTouchEnd,!1),!o.disableGesture&&d.a.checkIsFunction(a.enableSwipeHandler)&&a.enableSwipeHandler(),this.isTouchMove?(o.stopPropagation&&d.a.stopPropagation(e),t=i.time/1e3,1===i.op&&r.seek(Number(t).toFixed(1)),setTimeout(function(){r.getPlugin("progress")&&r.getPlugin("progress").resetSeekState()},10),i.op=0,o.hideControlsEnd||this.player.emit(l.PLAYER_FOCUS)):(r.isActive&&o.stopPropagation&&d.a.stopPropagation(e),!a.closeVideoClick&&r.isActive?e.cancelable&&this.switchPlayPause(e):r.isActive?this.player.emit(l.PLAYER_BLUR):this.player.emit(l.PLAYER_FOCUS)),this.changeAction(Ln.AUTO),this.isTouchStart=!1,this.isTouchMove=!1}},{key:"updateTime",value:function(e){var t=this.player;e=Number(e.toFixed(4));var n=parseInt(e*t.duration*1e3,10),n=(n+=this.pos.time)<0?0:n>1e3*t.duration?1e3*t.duration:n;t.getPlugin("time")&&t.getPlugin("time").updateTime(n/1e3),t.getPlugin("progress")&&t.getPlugin("progress").updatePercent(n/1e3/this.player.duration,!0),this.activeSeekNote(n/1e3),this.config.isTouchingSeek&&t.seek(Number(n/1e3).toFixed(1)),this.pos.time=n}},{key:"updateVolume",value:function(e){var t=this.pos,n=this.player,r=t.volume-parseInt(100*e);t.volume=r<1?0:100<r?100:r,n.volume=t.volume/100,0<t.volume&&(n.muted=!1)}},{key:"updateBrightness",value:function(e){var t=this.pos,n=this.config,r=this.xgMask,i=(i=t.light-.8*e)>n.maxDarkness?n.maxDarkness:i<0?0:i;r&&(r.style.backgroundColor="rgba(0,0,0,"+i+")"),t.light=i}},{key:"activeSeekNote",value:function(e){var t,n=this.player,r=this.config,i=!(n.duration!==1/0&&0<n.duration);!e||"number"!=typeof e||i||r.disableActive||(e<0?e=0:e>this.player.duration&&(e=this.player.duration),this.changeAction(Ln.SEEKING),this.find(".dur").innerHTML=d.a.format(n.duration),this.find(".cur").innerHTML=d.a.format(e),this.find(".curbar").style.width=e/n.duration*100+"%",(t=n.plugins.thumbnail)&&t.usable&&this.thumbnailPlugin&&t.update(this.thumbnailPlugin,e,160,90))}},{key:"switchPlayPause",value:function(){var e=this.player;if(!e.hasStart)return!1;e.ended||(e.paused?e.play():e.pause())}},{key:"destroy",value:function(){var e=this.root,t=this.player;this.thumbnailPlugin=null,t.root.removeChild(this.xgMask),this.xgMask=null,e.removeEventListener("touchstart",this.onTouchStart),e.removeEventListener("touchmove",this.onTouchMove,!1),e.removeEventListener("touchend",this.onTouchEnd,!1)}},{key:"render",value:function(){return'\n     <xg-trigger class="trigger">\n     <div class="'+("normal"!==this.config.gradient?"gradient "+this.config.gradient:"gradient")+'"></div>\n        <div class="time-preview">\n            <span class="cur">00:00</span>\n            <span>/</span>\n            <span class="dur">00:00</span>\n            <div class="bar timebar">\n              <div class="curbar"></div>\n            </class>\n        </div>\n     </xg-trigger>\n    '}}]),Rn),Dn=function(e,t,n){return t&&Mn(e.prototype,t),n&&Mn(e,n),e};function Mn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Pn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function Fn(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function Bn(){return Pn(this,Bn),jn(this,(Bn.__proto__||Object.getPrototypeOf(Bn)).apply(this,arguments))}var Un=(Fn(Bn,Ae),Dn(Bn,[{key:"mergekeyCodeMap",value:function(){var n=this,r=this.config.keyCodeMap;r&&Object.keys(r).map(function(t){n.keyCodeMap[t]?["keyCode","action","disable","isBodyTarget"].map(function(e){r[t][e]&&(n.keyCodeMap[t][e]=r[t][e])}):n.keyCodeMap[t]=r[t]})}},{key:"afterCreate",value:function(){this.config.disable=!this.playerConfig.keyShortcut;var e="function"==typeof this.config.seekStep?this.config.seekStep(this.player):this.config.seekStep;e&&"number"==typeof e&&(this.seekStep=e),this.keyCodeMap={space:{keyCode:32,action:"playPause",disable:!1,noBodyTarget:!1},up:{keyCode:38,action:"upVolume",disable:!1,noBodyTarget:!0},down:{keyCode:40,action:"downVolume",disable:!1,noBodyTarget:!0},left:{keyCode:37,action:"seekBack",disable:!1},right:{keyCode:39,action:"seek",disable:!1},esc:{keyCode:27,action:"exitFullscreen",disable:!1}},this.mergekeyCodeMap(),this.onKeydown=this.onKeydown.bind(this),this.onBodyKeyDown=this.onBodyKeyDown.bind(this),this.player.root.addEventListener("keydown",this.onKeydown),document.addEventListener("keydown",this.onBodyKeyDown)}},{key:"checkCode",value:function(t,n){var r=this,i=!1;return Object.keys(this.keyCodeMap).map(function(e){r.keyCodeMap[e]&&t===r.keyCodeMap[e].keyCode&&(i=!n||n&&!r.keyCodeMap[e].noBodyTarget)}),i}},{key:"downVolume",value:function(){var e=this.player;0<=e.volume-.1?e.volume=parseFloat((e.volume-.1).toFixed(1)):e.volume=0}},{key:"upVolume",value:function(){var e=this.player;e.volume+.1<=1?e.volume=parseFloat((e.volume+.1).toFixed(1)):e.volume=1}},{key:"seek",value:function(){var e=this.player;e.currentTime+this.seekStep<=e.duration?e.currentTime+=this.seekStep:e.currentTime=e.duration-1}},{key:"seekBack",value:function(){var e=this.player;0<=e.currentTime-this.seekStep?e.currentTime-=this.seekStep:e.currentTime=0}},{key:"playPause",value:function(){var e=this.player;e.paused?e.play():e.pause()}},{key:"exitFullscreen",value:function(){var e=this.player;e.fullscreen&&e.exitFullscreen(),e.isCssfullScreen&&e.exitCssFullscreen()}},{key:"onBodyKeyDown",value:function(e){if(!this.config.disable){var t=e||window.event,n=t.keyCode;return t.target===document.body&&this.checkCode(n,!0)&&(t.preventDefault(),t.cancelBubble=!0,t.returnValue=!1,this.handleKeyCode(n)),!1}}},{key:"onKeydown",value:function(e){if(!this.config.disable){var t=this.player,n=e||window.event;if(!n||37!==n.keyCode&&!this.checkCode(n.keyCode)||n.target!==this.player.root&&n.target!==this.player.video&&n.target!==this.player.controls.el)return!0;t.emit("focus"),n.preventDefault(),n.cancelBubble=!0,n.returnValue=!1,this.handleKeyCode(n.keyCode)}}},{key:"handleKeyCode",value:function(n){var r=this,e=this.player;40!==n&&38!==n||e.controls,Object.keys(this.keyCodeMap).map(function(e){var t;r.keyCodeMap[e].keyCode!==n||r.keyCodeMap[e].disable||("function"==typeof r.keyCodeMap[e].action?r.keyCodeMap[e].action():"string"==typeof r.keyCodeMap[e].action&&(t=r.keyCodeMap[e].action,"function"==typeof r[t]&&r[t]()))})}},{key:"destroy",value:function(){this.player.root.removeEventListener("keydown",this.onKeydown),document.removeEventListener("keydown",this.onBodyKeyDown)}}],[{key:"pluginName",get:function(){return"keyboard"}},{key:"defaultConfig",get:function(){return{seekStep:10,keyCodeMap:{},disable:!1}}}]),Bn),Hn=function(e,t,n){return t&&zn(e.prototype,t),n&&zn(e,n),e};function zn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Vn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Kn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function Gn(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Wn='<svg xmlns="http://www.w3.org/2000/svg" width="100" height="100" viewBox="0 0 100 100"><path d="M100 50A50 50 0 1150 0"/></svg>';function Yn(){return Vn(this,Yn),Kn(this,(Yn.__proto__||Object.getPrototypeOf(Yn)).apply(this,arguments))}var qn=(Gn(Yn,Fe),Hn(Yn,[{key:"registerIcons",value:function(){return{loadingIcon:Wn}}},{key:"afterCreate",value:function(){this.appendChild(this.icons.loadingIcon)}},{key:"render",value:function(){return'\n    <xg-loading class="xgplayer-loading">\n    </xg-loading>'}}],[{key:"pluginName",get:function(){return"loading"}},{key:"defaultConfig",get:function(){return{position:He.ROOT}}}]),Yn);function Zn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Xn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var Qn=[{tag:"xg-cache",className:"xgplayer-progress-cache",styleKey:"cachedColor"},{tag:"xg-played",className:"xgplayer-progress-played",styleKey:"playedColor"}];function Jn(e){Xn(this,Jn),this.fragments=e.fragments||[],this.focusClass="inner-focus",this.style=e.style||{playedColor:"",cachedColor:"",progressColor:""},this.duration=0,this.cachedIndex=0,this.playedIndex=0}var $n=(function(e,t,n){return t&&Zn(e.prototype,t),n&&Zn(e,n),e}(Jn,[{key:"updateDuration",value:function(e){var t=this;this.duration=parseInt(1e3*e);var n=0,r=this.fragments;this.fragments=r.map(function(e){return e.start=n,e.end=n+e.percent*t.duration,e.duration=e.percent*t.duration,n+=e.percent*t.duration,e})}},{key:"updateProgress",value:function(){var n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"played",e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{newIndex:0,curIndex:0,millisecond:0},t=this.progressList,r=this.fragments,i=e.newIndex,o=e.curIndex,a=e.millisecond;i!==o&&t.map(function(e,t){t<i?e[n].style.width="100%":i<t&&(e[n].style.width=0)});var s=r[i],c=(a-s.start)/s.duration;t[i][n].style.width=c<0?0:100*c+"%"}},{key:"update",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{cached:0,played:0},t=arguments[1];if(!this.duration||parseInt(1e3*t,10)!==this.duration){if(!t)return;this.updateDuration(t)}var n,r,i=this.playedIndex,o=this.cachedIndex;e.played&&(n=this.findIndex(1e3*e.played,i),this.updateProgress("played",{newIndex:n,curIndex:i,millisecond:parseInt(1e3*e.played,10)}),this.playedIndex=n),e.cached&&(r=this.findIndex(1e3*e.cached,o),this.updateProgress("cached",{newIndex:r,curIndex:o,millisecond:parseInt(1e3*e.cached,10)}),this.cachedIndex=r)}},{key:"findIndex",value:function(n,r){var e=this.fragments;return 1===e.length?0:(n>e[r].start&&n<e[r].end||this.fragments.map(function(e,t){n>e.start&&n<=e.end&&(r=t)}),r)}},{key:"findHightLight",value:function(){for(var e=this.root.children,t=0;t<e.length;t++)if(d.a.hasClass(e[t],this.focusClass))return{dom:e[t],pos:e[t].getBoundingClientRect()}}},{key:"findFragment",value:function(e){var t=this.root.children;return e<0||e>=t.length?null:{dom:t[e],pos:t[e].getBoundingClientRect()}}},{key:"unHightLight",value:function(){for(var e=this.root.children,t=0;t<e.length;t++)d.a.removeClass(e[t],this.focusClass)}},{key:"setHightLight",value:function(e){var t=this.root.children;if(e<t.length)return d.a.addClass(t[e],this.focusClass),{dom:t[e],pos:t[e].getBoundingClientRect()}}},{key:"destroy",value:function(){this.progressList=null,this.fragments=null,this.root.innerHTML=""}},{key:"render",value:function(){var n=this,r=this.style.progressColor;return this.root=d.a.createDom("xg-inners","",{},"progress-list"),this.fragments&&(this.progressList=this.fragments.map(function(e){var t=d.a.createDom("xg-inner","",{style:r?"background:"+r+"; flex: "+e.percent:"flex: "+e.percent},(e.isFocus?"inner-focus":"")+" xgplayer-progress-inner");return n.root.appendChild(t),Qn.map(function(e){t.appendChild(d.a.createDom(e.tag,"",{style:e.styleKey?"background: "+n.style[e.styleKey]+"; width:0;":"width:0;"},e.className))}),{cached:t.children[0],played:t.children[1]}})),this.root}}]),Jn),er="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tr=function(e,t,n){return t&&nr(e.prototype,t),n&&nr(e,n),e};function nr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function rr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ir(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function or(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function ar(e){rr(this,ar);var a=ir(this,(ar.__proto__||Object.getPrototypeOf(ar)).call(this,e));return a.onMoveOnly=function(e){var t,n=a.pos,r=a.config;d.a.event(e),n.moving&&Math.abs(n.x-e.clientX)<r.miniMoveStep||(n.moving=!0,n.x=e.clientX,t=a.computeTime(e),a.triggerCallbacks("dragmove",t))},a.onBodyClick=function(e){e.preventDefault(),e.stopPropagation()},a.onMouseDown=function(e){var t=a.player,n=a.pos,r=a.config,i=a.playerConfig;if(!(t.isMini||r.closeMoveSeek||!i.allowSeekAfterEnded&&t.ended)){e.stopPropagation(),e.preventDefault(),a.focus(),d.a.checkIsFunction(i.disableSwipeHandler)&&i.disableSwipeHandler(),d.a.checkIsFunction(r.onMoveStart)&&r.onMoveStart(),d.a.event(e),n.x=e.clientX,n.y=e.clientY,n.isDown=!0,n.moving=!1,t.emit(l.PLAYER_FOCUS,{autoHide:!1}),a.isProgressMoving=!0,d.a.addClass(a.progressBtn,"active");var o=a.computeTime(e);return a.updateWidth(o.currentTime,o.percent,0),"mobile"===ue.device?(a.bind("touchmove",a.onMouseMove),a.bind("touchend",a.onMouseUp)):(a.unbind("mousemove",a.onMoveOnly),document.addEventListener("mousemove",a.onMouseMove,!1),document.addEventListener("mouseup",a.onMouseUp,!1),t.root.addEventListener("click",a.onBodyClick,!1)),!0}},a.onMouseUp=function(e){var t=a.player,n=a.config,r=a.pos,i=a.playerConfig;d.a.checkIsFunction(i.enableSwipeHandler)&&i.enableSwipeHandler(),d.a.checkIsFunction(n.onMoveEnd)&&n.onMoveEnd(),d.a.event(e),d.a.removeClass(a.progressBtn,"active");var o=a.computeTime(e);r.moving?(a.updateWidth(o.currentTime,o.percent,2),a.triggerCallbacks("dragend",o)):a.triggerCallbacks("click",o),r.moving=!1,r.isDown=!1,r.x=0,r.y=0,a.isMobile?(a.unbind("touchmove",a.onMouseMove),a.unbind("touchend",a.onMouseUp),a.blur()):(document.removeEventListener("mousemove",a.onMouseMove,!1),document.removeEventListener("mouseup",a.onMouseUp,!1),t.root.removeEventListener("click",a.onBodyClick,!1),r.isEnter?a.bind("mousemove",a.onMoveOnly):a.onMouseLeave(e)),setTimeout(function(){a.resetSeekState()},10)},a.onMouseMove=function(e){var t=a.pos,n=a.player,r=a.config;a.isMobile&&(e.stopPropagation(),e.preventDefault()),d.a.event(e);var i,o=Math.abs(t.x-e.clientX);t.moving&&o<r.miniMoveStep||!t.moving&&o<r.miniStartStep||(t.x=e.clientX,i=a.computeTime(e),t.isDown&&!t.moving&&(t.moving=!0,r.isPauseMoving&&n.pause(),a.triggerCallbacks("dragstart",i)),a.updateWidth(i.currentTime,i.percent,1),a.triggerCallbacks("dragmove",i))},a.onMouseEnter=function(e){var t=a.player,n=a.pos;n.isEnter||t.isMini||!t.config.allowSeekAfterEnded&&t.ended||(n.isEnter=!0,a.bind("mousemove",a.onMoveOnly),a.bind("mouseleave",a.onMouseLeave),a.focus())},a.onMouseLeave=function(e){var t=a.player,n=a.pos;n.isEnter=!1,t.isMini||(a.unbind("mousemove",a.onMoveOnly),n.isDown?a.unbind("mouseleave",a.onMouseLeave):a.blur())},a.useable=!1,a.isProgressMoving=!1,a.__dragCallBacks=[],a._state={now:-1,direc:0},a}var sr=(or(ar,Fe),tr(ar,null,[{key:"pluginName",get:function(){return"progress"}},{key:"defaultConfig",get:function(){return{position:He.CONTROLS_CENTER,index:0,disable:!1,isDragingSeek:!1,closeMoveSeek:!1,isPauseMoving:!1,isCloseClickSeek:!1,fragments:[{percent:1}],miniMoveStep:5,miniStartStep:2,onMoveStart:function(){},onMoveEnd:function(){}}}}]),tr(ar,[{key:"changeState",value:function(){var e=!(0<arguments.length&&void 0!==arguments[0])||arguments[0];this.useable=e}},{key:"beforeCreate",value:function(e){"boolean"==typeof e.player.config.progress&&(e.config.disable=!e.player.config.progress)}},{key:"createInner",value:function(){var t=this;this.innerList=new $n({fragments:this.config.fragments,style:this.playerConfig.commonStyle||{}}),this.outer.insertBefore(this.innerList.render(),this.outer.children[0]),["findHightLight","unHightLight","setHightLight","findFragment"].map(function(e){t[e]=t.innerList[e].bind(t.innerList)})}},{key:"afterCreate",value:function(){var e=this;this.config.disable||(this.pos={x:0,y:0,moving:!1,isDown:!1,isEnter:!1},this.outer=this.find("xg-outer"),this.createInner(),"mobile"===ue.device&&(this.config.isDragingSeek=!1,this.isMobile=!0),this.progressBtn=this.find(".xgplayer-progress-btn"),this.on(l.TIME_UPDATE,function(){e.onTimeupdate()}),this.on(l.SEEKED,function(){e.onTimeupdate(),e.onCacheUpdate()}),this.on([l.PROGRESS,l.ENDED],function(){e.onCacheUpdate()}),this.bindDomEvents())}},{key:"initCustomStyle",value:function(){var t=(this.playerConfig||{}).commonStyle.sliderBtnStyle,n=this.progressBtn;t&&("string"==typeof t?n.style.boxShadow=t:"object"===(void 0===t?"undefined":er(t))&&Object.keys(t).map(function(e){n.style[e]=t[e]}))}},{key:"triggerCallbacks",value:function(e,n){0<this.__dragCallBacks.length&&this.__dragCallBacks.map(function(t){if(t&&t.handler&&t.type===e)try{t.handler(n)}catch(e){console.error("[XGPLAYER][triggerCallbacks] "+t+" error",e)}})}},{key:"addCallBack",value:function(e,t){t&&"function"==typeof t&&this.__dragCallBacks.push({type:e,handler:t})}},{key:"removeCallBack",value:function(n,r){var e=this.__dragCallBacks,i=-1;e.map(function(e,t){e&&e.type===n&&e.handler===r&&(i=t)}),-1<i&&e.splice(i,1)}},{key:"bindDomEvents",value:function(){this.isMobile?this.bind("touchstart",this.onMouseDown):(this.bind("mousedown",this.onMouseDown),this.bind("mouseenter",this.onMouseEnter))}},{key:"focus",value:function(){this.player.controls.pauseAutoHide(),d.a.addClass(this.root,"active")}},{key:"blur",value:function(){this.player.controls.recoverAutoHide(),d.a.removeClass(this.root,"active")}},{key:"updateWidth",value:function(e,t,n){var r=this.config,i=this.player;r.isCloseClickSeek&&0===n||(this.updatePercent(t),this.updateTime(e),(1!==n||r.isDragingSeek&&"audio"!==i.videoConfig.mediaType)&&(this._state.now=e,this._state.direc=e>i.currentTime?0:1,i.seek(Number(e).toFixed(1))))}},{key:"computeTime",value:function(e){var t=this.player,n=this.root.getBoundingClientRect(),r=n.width,i=n.left,o=e.clientX-i,a=(o=r<o?r:o<0?0:o)/r;return{percent:a=a<0?0:1<a?1:a,currentTime:parseInt(a*t.duration*1e3,10)/1e3,offset:o,width:r,left:i,e:e}}},{key:"updateTime",value:function(e){var t=this.player;e>t.duration?e=t.duration:e<0&&(e=0);var n=t.plugins.time;n&&n.updateTime(e)}},{key:"resetSeekState",value:function(){this.isProgressMoving=!1;var e=this.player.plugins.time;e&&e.resetActive()}},{key:"updatePercent",value:function(e,t){this.isProgressMoving=!0,this.config.disable||(e=1<e?1:e<0?0:e,this.progressBtn.style.left=100*e+"%",this.innerList.update({played:e*this.player.duration},this.player.duration))}},{key:"onTimeupdate",value:function(){var e=this.player,t=this._state;if(!e.isSeeking&&!this.isProgressMoving){if(-1<t.now){var n=parseInt(1e3*t.now,10)-parseInt(1e3*e.currentTime,10);if(0===t.direc&&300<n||1===t.direc&&-300<n)return;t.now=-1}this.innerList.update({played:e.currentTime},e.duration),this.progressBtn.style.left=e.currentTime/e.duration*100+"%"}}},{key:"onCacheUpdate",value:function(){var e=this.player,t=e.bufferedPoint;this.innerList.update({cached:t.end},e.duration)}},{key:"destroy",value:function(){var e=this.player;this.thumbnailPlugin=null,this.innerList.destroy(),this.innerList=null,"mobile"===ue.device?(this.unbind("touchstart",this.onMouseDown),this.unbind("touchmove",this.onMouseMove),this.unbind("touchend",this.onMouseUp)):(this.unbind("mousedown",this.onMouseDown),this.unbind("mouseenter",this.mouseEnter),this.unbind("mousemove",this.onMoveOnly),document.removeEventListener("mousemove",this.onMouseMove,!1),document.removeEventListener("mouseup",this.onMouseUp,!1),e.root.removeEventListener("click",this.onBodyClick,!1))}},{key:"render",value:function(){if(!this.config.disable)return'\n    <xg-progress class="xgplayer-progress">\n      <xg-outer class="xgplayer-progress-outer">\n        <xg-progress-btn class="xgplayer-progress-btn"></xg-progress-btn>\n        \x3c!--<xg-point class="xgplayer-progress-point">00:00</xg-point>--\x3e\n      </xg-outer>\n    </xg-progress>\n    '}}]),ar),cr=function(e,t,n){return t&&ur(e.prototype,t),n&&ur(e,n),e};function ur(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function lr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dr(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function pr(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var fr='<svg class="play" xmlns="http://www.w3.org/2000/svg" width="28" height="40" viewBox="2 -4 28 40"><path d="M18.468 11.639l7.503 4.777-7.503 4.777zM10.965 6.86l7.503 4.778v9.554l-7.503 4.778z"/></svg>',hr='<svg class="pause" xmlns="http://www.w3.org/2000/svg" width="28" height="40" viewBox="2 -4 28 40"><path d="M19.173 6.861h5.451v19.11h-5.45V6.86zM8.208 25.971V6.86h5.45v19.11h-5.45z"/></svg>';function gr(){return lr(this,gr),dr(this,(gr.__proto__||Object.getPrototypeOf(gr)).apply(this,arguments))}var mr=(pr(gr,Fe),cr(gr,[{key:"afterCreate",value:function(){var e=this,t=this.player;this.config.disable||(this.initIcons(),this.btnClick=this.btnClick.bind(this),this.bind(["touchend","click"],this.btnClick),this.on(l.PAUSE,function(){e.animate(t.paused)}),this.on(l.PLAY,function(){e.animate(t.paused)}),this.animate(!0))}},{key:"registerIcons",value:function(){return{play:{icon:fr,class:"xg-icon-play"},pause:{icon:hr,class:"xg-icon-pause"}}}},{key:"btnClick",value:function(e){e.preventDefault(),e.stopPropagation();var t=this.player;return t.paused?t.play():t.pause(),!1}},{key:"initIcons",value:function(){var e=this.icons;this.appendChild(".xgplayer-icon",e.play),this.appendChild(".xgplayer-icon",e.pause)}},{key:"animate",value:function(e){var t=this.i18nKeys;e?(this.setAttr("data-state","pause"),this.changeLangTextKey(this.find(".xg-tips"),t.PLAY_TIPS)):(this.setAttr("data-state","play"),this.changeLangTextKey(this.find(".xg-tips"),t.PAUSE_TIPS))}},{key:"destroy",value:function(){this.unbind(["touchend","click"],this.btnClick)}},{key:"render",value:function(){if(!this.config.disable)return'<xg-icon class="xgplayer-play">\n    <div class="xgplayer-icon">\n    </div>\n    <div class="xg-tips" lang-key="'+this.i18nKeys.PLAY_TIPS+'">'+this.i18n.PLAY_TIPS+"</div>\n    </xg-icon>"}}],[{key:"pluginName",get:function(){return"play"}},{key:"defaultConfig",get:function(){return{position:He.CONTROLS_LEFT,index:0,disable:!1}}}]),gr),vr=function(e,t,n){return t&&yr(e.prototype,t),n&&yr(e,n),e};function yr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function br(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Er(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Ar='<svg width="28" height="40" viewBox="0 0 28 28" xmlns="http://www.w3.org/2000/svg"><path d="M11.237 14l6.382-6.381A.875.875 0 1016.38 6.38l-7 7a.875.875 0 000 1.238l7 7a.875.875 0 101.238-1.238L11.237 14z" fill="#FFF" fill-rule="evenodd"/></svg>';function Cr(){return br(this,Cr),Er(this,(Cr.__proto__||Object.getPrototypeOf(Cr)).apply(this,arguments))}var Tr=(_r(Cr,Fe),vr(Cr,[{key:"afterCreate",value:function(){var t=this;this.initIcons(),this.onClick=function(e){e.preventDefault(),e.stopPropagation(),t.config.onClick(e)},this.bind("touchend",this.onClick)}},{key:"registerIcons",value:function(){return{screenBack:{icon:Ar,class:"xg-fullscreen-back"}}}},{key:"initIcons",value:function(){var e=this.icons;this.appendChild(this.root,e.screenBack)}},{key:"show",value:function(){d.a.addClass(this.root,"show")}},{key:"hide",value:function(){d.a.removeClass(this.root,"show")}},{key:"render",value:function(){return'<xg-icon class="xgplayer-back">\n    </xg-icon>'}}],[{key:"pluginName",get:function(){return"topbackicon"}},{key:"defaultConfig",get:function(){return{position:He.ROOT_TOP,index:0}}}]),Cr),Or=function(e,t,n){return t&&kr(e.prototype,t),n&&kr(e,n),e};function kr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Sr=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0!==i){if("value"in i)return i.value;var o=i.get;return void 0!==o?o.call(r):void 0}var a=Object.getPrototypeOf(t);if(null!==a)return e(a,n,r)};function wr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ir(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function xr(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Lr='<svg xmlns="http://www.w3.org/2000/svg" width="28" height="40" viewBox="2 -4 28 40"><path d="M19.173 6.861h6.798v6.798h-2.694V9.555h-4.104V6.86zm4.104 16.416v-4.104h2.694v6.798h-6.798v-2.694h4.104zM6.861 13.66V6.86h6.798v2.694H9.555v4.104H6.86zm2.694 5.514v4.104h4.104v2.694H6.86v-6.798h2.694z"/></svg>',Rr='<svg xmlns="http://www.w3.org/2000/svg" width="28" height="40" viewBox="2 -4 28 40"><path d="M21.867 10.965h4.104v2.694h-6.798V6.86h2.694v4.104zm-2.694 15.006v-6.798h6.798v2.694h-4.104v4.104h-2.694zm-8.208-15.006V6.861h2.694v6.798H6.86v-2.694h4.104zM6.861 21.867v-2.694h6.798v6.798h-2.694v-4.104H6.861z"/></svg>';function Nr(){return wr(this,Nr),Ir(this,(Nr.__proto__||Object.getPrototypeOf(Nr)).apply(this,arguments))}var Dr=(xr(Nr,Fe),Or(Nr,[{key:"beforeCreate",value:function(e){"boolean"==typeof e.player.config.fullscreen&&(e.config.disable=!e.player.config.fullscreen)}},{key:"afterCreate",value:function(){var t=this;Ye(this),this.config.disable||(this.isFullScreen=this.player.isFullScreen,this.initIcons(),this.fullSreenHandler=this.hook("fullsreen_change",this.changeFullScreen),this.bind(".xgplayer-fullscreen","mobile"===ue.device?"touchend":"click",this.fullSreenHandler),this.on(l.FULLSCREEN_CHANGE,function(e){t.changeLangTextKey(t.find(".xg-tips"),e?t.i18nKeys.EXITFULLSCREEN_TIPS:t.i18nKeys.FULLSCREEN_TIPS),t.animate(e)}),"mobile"===ue.device&&this.config.needBackIcon&&(this.topBackIcon=this.player.registerPlugin({plugin:Tr,options:{config:{onClick:function(e){t.show(),t.fullSreenHandler(e)}}}})))}},{key:"registerIcons",value:function(){return{fullscreen:{icon:Lr,class:"xg-get-fullscreen"},exitFullscreen:{icon:Rr,class:"xg-exit-fullscreen"}}}},{key:"destroy",value:function(){this.unbind(".xgplayer-icon","mobile"===ue.device?"touchend":"click",this.fullSreenHandler)}},{key:"initIcons",value:function(){var e=this.icons;this.appendChild(".xgplayer-icon",e.fullscreen),this.appendChild(".xgplayer-icon",e.exitFullscreen)}},{key:"changeFullScreen",value:function(e){e.stopPropagation();var t=this.player,n=this.config,r=!1;if((!0===n.useCssFullscreen||"function"==typeof n.useCssFullscreen&&n.useCssFullscreen())&&(r=!0),r)t.fullscreen?(t.exitCssFullscreen(),t.fullscreen=!1,this.emit(l.FULLSCREEN_CHANGE,!1)):(t.getCssFullscreen(),t.fullscreen=!0,this.emit(l.FULLSCREEN_CHANGE,!0)),this.animate(t.fullscreen);else{if(n.switchCallback&&"function"==typeof n.switchCallback)return n.switchFullScreen(this.isFullScreen),void(this.isFullScreen=!this.isFullScreen);t.fullscreen?t.exitFullscreen(n.target):t.getFullscreen(n.target)}}},{key:"animate",value:function(e){e?this.setAttr("data-state","full"):this.setAttr("data-state","normal"),this.topBackIcon&&(e?(this.topBackIcon.show(),this.hide()):(this.topBackIcon.hide(),this.show()))}},{key:"show",value:function(){Sr(Nr.prototype.__proto__||Object.getPrototypeOf(Nr.prototype),"show",this).call(this)}},{key:"hide",value:function(){Sr(Nr.prototype.__proto__||Object.getPrototypeOf(Nr.prototype),"hide",this).call(this)}},{key:"render",value:function(){if(!this.config.disable){var e="FULLSCREEN_TIPS";return'<xg-icon class="xgplayer-fullscreen">\n    <div class="xgplayer-icon">\n    </div>\n    <div class="xg-tips" lang-key="'+this.i18nKeys[e]+'">'+this.i18n[e]+"</div>\n    </xg-icon>"}}}],[{key:"pluginName",get:function(){return"fullscreen"}},{key:"defaultConfig",get:function(){return{position:He.CONTROLS_RIGTH,index:0,useCssFullscreen:!1,switchCallback:null,target:null,disable:!1,needBackIcon:!1}}}]),Nr),Mr=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0!==i){if("value"in i)return i.value;var o=i.get;return void 0!==o?o.call(r):void 0}var a=Object.getPrototypeOf(t);if(null!==a)return e(a,n,r)},Pr=function(e,t,n){return t&&jr(e.prototype,t),n&&jr(e,n),e};function jr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Fr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Br(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function Ur(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function Hr(e){Fr(this,Hr);var t=Br(this,(Hr.__proto__||Object.getPrototypeOf(Hr)).call(this,e));return t.isActiving=!1,t}var zr=(Ur(Hr,Fe),Pr(Hr,null,[{key:"pluginName",get:function(){return"time"}},{key:"defaultConfig",get:function(){return{position:He.CONTROLS_LEFT,index:2,disable:!1}}}]),Pr(Hr,[{key:"afterCreate",value:function(){var e=this,t=this.player.controls.config.mode;this.mode="flex"===t?"flex":"normal",this.config.disable||("flex"===this.mode&&(this.createCenterTime(),this.hide()),this.durationDom=this.find(".time-duration"),this.timeDom=this.find(".time-current"),this.on(l.DURATION_CHANGE,function(){e.onTimeUpdate()}),this.on(l.TIME_UPDATE,function(){e.onTimeUpdate()}))}},{key:"show",value:function(){"flex"!==this.mode&&Mr(Hr.prototype.__proto__||Object.getPrototypeOf(Hr.prototype),"show",this).call(this)}},{key:"onTimeUpdate",value:function(){var e,t=this.player;this.config.disable||this.isActiving||(e=t.currentTime,"flex"===this.mode?(this.centerCurDom.innerHTML=d.a.format(e),t.duration!==1/0&&(this.centerDurDom.innerHTML=d.a.format(t.duration))):(this.timeDom.innerHTML=d.a.format(e),t.duration!==1/0&&(this.durationDom.innerHTML=d.a.format(t.duration))))}},{key:"createCenterTime",value:function(){var e,t=this.player;t.controls&&t.controls.center&&(e=t.controls.center,this.centerCurDom=d.a.createDom("xg-icon","00:00",{},"xgplayer-time left"),this.centerDurDom=d.a.createDom("xg-icon","00:00",{},"xgplayer-time right"),0<e.children.length?e.insertBefore(this.centerCurDom,e.children[0]):e.appendChild(this.centerCurDom),e.appendChild(this.centerDurDom))}},{key:"afterPlayerInit",value:function(){var e=this.player,t=this.config;e.duration===1/0||this.playerConfig.isLive?(d.a.hide(this.durationDom),d.a.hide(this.timeDom),d.a.hide(this.find(".time-separator")),d.a.show(this.find(".time-live-tag"))):d.a.hide(this.find(".time-live-tag")),t.hide?this.hide():this.show()}},{key:"changeLiveState",value:function(e){e?(d.a.hide(this.durationDom),d.a.hide(this.timeDom),d.a.hide(this.find(".time-separator")),d.a.show(this.find(".time-live-tag"))):(d.a.hide(this.find(".time-live-tag")),d.a.show(this.find(".time-separator")),d.a.show(this.durationDom),d.a.show(this.timeDom))}},{key:"updateTime",value:function(e){this.isActiving=!0;var t=this.player;!e&&0!==e||e>t.duration||("flex"!==this.mode?this.timeDom.innerHTML=d.a.format(e):this.centerCurDom.innerHTML=d.a.format(e))}},{key:"resetActive",value:function(){var e=this,t=this.player,n=function(){e.isActiving=!1};this.off(l.SEEKED,n),t.isSeeking?this.once(l.SEEKED,n):this.isActiving=!1}},{key:"destroy",value:function(){var e=this.player.controls.center;this.centerCurDom&&e.removeChild(this.centerCurDom),this.centerCurDom=null,this.centerDurDom&&e.removeChild(this.centerDurDom),this.centerDurDom=null}},{key:"render",value:function(){if(!this.config.disable)return'<xg-icon class="xgplayer-time">\n    <span class="time-current">00:00</span>\n    <span class="time-separator">/</span>\n    <span class="time-duration">00:00</span>\n    <span class="time-live-tag"></span>\n    </xg-icon>'}}]),Hr),Vr=function(e,t,n){return t&&Kr(e.prototype,t),n&&Kr(e,n),e};function Kr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Gr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Wr(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function Yr(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var qr='<svg xmlns="http://www.w3.org/2000/svg" width="28" height="40" viewBox="0 -10 28 40"><path d="M7.907 7.907H3.39v6.778h4.518l5.648 5.648V2.259L7.907 7.907zM20.753 18.48l-1.593-1.592c1.437-1.429 2.326-3.407 2.326-5.592s-.89-4.163-2.326-5.591l1.593-1.593c1.845 1.835 2.987 4.376 2.987 7.184s-1.142 5.349-2.987 7.184zm-3.199-3.185L15.95 13.69c.612-.613.991-1.46.991-2.395s-.379-1.782-.991-2.395l1.604-1.604c1.03 1.02 1.669 2.435 1.669 3.999s-.638 2.979-1.669 3.998z"/></svg>',Zr='<svg xmlns="http://www.w3.org/2000/svg" width="28" height="40" viewBox="0 -10 28 40"><path d="M7.907 7.907H3.39v6.778h4.518l5.648 5.648V2.259L7.907 7.907zM17.554 15.295L15.95 13.69c.612-.613.991-1.46.991-2.395s-.379-1.782-.991-2.395l1.604-1.604c1.03 1.02 1.669 2.435 1.669 3.999s-.638 2.979-1.669 3.998zm0 0L15.95 13.69c.612-.613.991-1.46.991-2.395s-.379-1.782-.991-2.395l1.604-1.604c1.03 1.02 1.669 2.435 1.669 3.999s-.638 2.979-1.669 3.998z"/></svg>',Xr='<svg xmlns="http://www.w3.org/2000/svg" width="28" height="40" viewBox="0 -10 28 40"><path d="M7.907 7.907H3.39v6.778h4.518l5.648 5.648V2.259L7.907 7.907zM20.306 9.703l-2.394-2.406-1.604 1.604 2.417 2.395-2.406 2.395 1.604 1.604 2.383-2.418 2.395 2.406 1.604-1.604-2.417-2.383 2.406-2.395-1.604-1.604-2.384 2.418z"/></svg>';function Qr(){return Gr(this,Qr),Wr(this,(Qr.__proto__||Object.getPrototypeOf(Qr)).apply(this,arguments))}var Jr=(Yr(Qr,Fe),Vr(Qr,[{key:"registerIcons",value:function(){return{volumeSmall:{icon:Zr,class:"xg-volume-small"},volumeLarge:{icon:qr,class:"xg-volume"},volumeMuted:{icon:Xr,class:"xg-volume-mute"}}}},{key:"afterCreate",value:function(){var e,t=this;Ye(this),this.config.disable||(this.initIcons(),(e=this.playerConfig.commonStyle).volumeColor&&(this.find(".xgplayer-drag").style.backgroundColor=e.volumeColor),this.changeMutedHandler=this.hook("muted_change",function(){var e=t.player;e.muted=!e.muted},{pre:function(e){e.stopPropagation()}}),this.onBarMousedown=this.onBarMousedown.bind(this),this.onMouseenter=this.onMouseenter.bind(this),this.onMouseleave=this.onMouseleave.bind(this),this.bind("mouseenter",this.onMouseenter),this.bind(["blur","mouseleave"],this.onMouseleave),this.bind(".xgplayer-bar","mousedown",this.onBarMousedown),this.bind(".xgplayer-icon","mobile"===ue.device?"touchend":"click",this.changeMutedHandler),this.on(l.VOLUME_CHANGE,this.onVolumeChange.bind(this)),this.player.volume=this.config.default,this.onVolumeChange())}},{key:"onBarMousedown",value:function(e){var n=this,t=this.find(".xgplayer-slider"),r=this.find(".xgplayer-bar");t.focus(),d.a.event(e);var i=r.getBoundingClientRect(),o={x:e.clientX,y:e.clientY},a=i.height-(e.clientY-i.top);this.updateVolumePos(a),this.isMoveing=!1;var s=function(e){e.preventDefault(),e.stopPropagation(),d.a.event(e),n.isMoveing=!0;var t=a-e.clientY+o.y;t>i.height||n.updateVolumePos(t)},c=function e(t){t.preventDefault(),t.stopPropagation(),d.a.event(t),window.removeEventListener("mousemove",s),window.removeEventListener("touchmove",s),window.removeEventListener("mouseup",e),window.removeEventListener("touchend",e),n.isMoveing=!1};return window.addEventListener("mousemove",s),window.addEventListener("touchmove",s),window.addEventListener("mouseup",c),window.addEventListener("touchend",c),!1}},{key:"updateVolumePos",value:function(e){var t=this.player,n=this.find(".xgplayer-drag"),r=e/this.find(".xgplayer-bar").getBoundingClientRect().height;n.style.height=e+"px",t.volume=Math.max(Math.min(r,1),0),t.muted=!1}},{key:"onMouseenter",value:function(e){e.preventDefault(),e.stopPropagation(),d.a.addClass(this.root,"slide-show")}},{key:"onMouseleave",value:function(e){e.preventDefault(),e.stopPropagation(),d.a.removeClass(this.root,"slide-show")}},{key:"changeMuted",value:function(e){e.stopPropagation();var t=this.player;t.muted=!t.muted}},{key:"onVolumeChange",value:function(){var e=this.player,t=e.muted,n=e.volume;this.isMoveing||(this.find(".xgplayer-drag").style.height=t||0===n?"0px":100*n+"%"),this.animate(t,n)}},{key:"animate",value:function(e,t){e||0===t?this.setAttr("data-state","mute"):t<.5&&this.icons.volumeSmall?this.setAttr("data-state","small"):this.setAttr("data-state","normal")}},{key:"initIcons",value:function(){var e=this.icons;this.appendChild(".xgplayer-icon",e.volumeSmall),this.appendChild(".xgplayer-icon",e.volumeLarge),this.appendChild(".xgplayer-icon",e.volumeMuted)}},{key:"destroy",value:function(){this.unbind("mouseenter",this.onMouseenter),this.unbind(["blur","mouseleave"],this.onMouseleave),this.unbind(".xgplayer-bar","mousedown",this.onBarMousedown),this.unbind(".xgplayer-icon","mobile"===ue.device?"touchend":"click",this.changeMutedHandler)}},{key:"render",value:function(){if(!this.config.disable)return'\n    <xg-icon class="xgplayer-volume" data-state="normal">\n      <div class="xgplayer-icon">\n      </div>\n      <xg-slider class="xgplayer-slider">\n        <div class="xgplayer-bar">\n          <xg-drag class="xgplayer-drag" style="height: '+100*(this.config.default||this.player.volume)+'%"></xg-drag>\n        </div>\n      </xg-slider>\n    </xg-icon>'}}],[{key:"pluginName",get:function(){return"volume"}},{key:"defaultConfig",get:function(){return{position:He.CONTROLS_RIGTH,index:1,disable:!1,default:.6}}}]),Qr),$r=function(e,t,n){return t&&ei(e.prototype,t),n&&ei(e,n),e};function ei(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ti(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ni(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function ri(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var ii='<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="-4 -6 40 40" fill="none"><g clip-path="url(#clip0)" fill="#fff"><path d="M17.5 13.75H6.25A3.75 3.75 0 002.5 17.5v6.25a3.75 3.75 0 003.75 3.75H17.5a3.75 3.75 0 003.75-3.75V17.5a3.75 3.75 0 00-3.75-3.75z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M5.822 6.094a1.247 1.247 0 00.156 1.79l4.509 4.204a1.25 1.25 0 101.705-1.828L9.93 8.152l4.799-.018.039-.001a10 10 0 019.521 13.983 1.25 1.25 0 002.292.998 12.5 12.5 0 00-11.88-17.48l-5.05.019 2.293-2.46a1.25 1.25 0 10-1.829-1.705L5.854 6.06l-.032.036z"/></g><defs><clipPath id="RotateSvg-clip0"><path fill="#fff" d="M0 0h40v40H0z"/></clipPath></defs></svg>';function oi(e){ti(this,oi);var t=ni(this,(oi.__proto__||Object.getPrototypeOf(oi)).call(this,e));return t.rotateDeg=t.config.rotateDeg||0,t}var ai=(ri(oi,Fe),$r(oi,null,[{key:"pluginName",get:function(){return"rotate"}},{key:"defaultConfig",get:function(){return{position:He.CONTROLS_RIGTH,index:6,innerRotate:!1,clockwise:!1,rotateDeg:0,disable:!1}}}]),$r(oi,[{key:"beforeCreate",value:function(e){"boolean"==typeof e.player.config.rotate&&(e.config.disable=!e.player.config.rotate)}},{key:"afterCreate",value:function(){this.config.disable||(this.appendChild(".xgplayer-icon",this.icons.rotate),this.onBtnClick=this.onBtnClick.bind(this),this.bind(".xgplayer-icon",["click","touchend"],this.onBtnClick))}},{key:"destroy",value:function(){this.unbind(".xgplayer-icon",["click","touchend"],this.onBtnClick)}},{key:"onBtnClick",value:function(e){this.rotate(this.config.clockwise,this.config.innerRotate,1)}},{key:"updateRotateDeg",value:function(){var e=this.player;this.rotateDeg||(this.rotateDeg=0);var t=e.root.offsetWidth,n=e.root.offsetHeight,r=e.video.videoWidth,i=e.video.videoHeight;this.config.innerRotate;var o=void 0;o=.25===this.rotateDeg||.75===this.rotateDeg?(o=this.config.innerRotate?n/t<r/i?n/(n/t<i/r?n*r/i:t):t/(n/t<i/r?n:t*i/r):n<=t?t/n:n/t,parseFloat(o.toFixed(5))):1,this.config.innerRotate?(e.video.style.transformOrigin="center center",e.video.style.transform="rotate("+this.rotateDeg+"turn) scale("+o+")",e.video.style.webKitTransform="rotate("+this.rotateDeg+"turn) scale("+o+")"):(e.root.style.transformOrigin="center center",e.root.style.transform="rotate("+this.rotateDeg+"turn) scale(1)",e.root.style.webKitTransform="rotate("+this.rotateDeg+"turn) scale(1)")}},{key:"rotate",value:function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0],t=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1,n=this.player;this.rotateDeg||(this.rotateDeg=0);var r=e?1:-1;this.rotateDeg=(this.rotateDeg+1+.25*r*t)%1,this.updateRotateDeg(),n.emit("rotate",360*this.rotateDeg)}},{key:"registerIcons",value:function(){return{rotate:ii}}},{key:"render",value:function(){if(!this.config.disable)return'\n    <xg-icon class="xgplayer-rotate">\n      <div class="xgplayer-icon">\n      </div>\n      <div class="xg-tips" lang-key="'+this.i18nKeys.ROTATE_TIPS+'">\n      '+this.i18n.ROTATE_TIPS+"\n      </div>\n    </xg-icon>"}}]),oi),si=function(e,t,n){return t&&ci(e.prototype,t),n&&ci(e,n),e};function ci(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ui(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function li(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function di(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function pi(){return ui(this,pi),li(this,(pi.__proto__||Object.getPrototypeOf(pi)).apply(this,arguments))}var fi=(di(pi,Fe),si(pi,[{key:"beforeCreate",value:function(e){"boolean"==typeof e.player.config.pip&&(e.config.showIcon=e.player.config.pip)}},{key:"afterCreate",value:function(){var t=this;this.btnClick=function(e){e.preventDefault(),e.stopPropagation(),t.switchPIP(e)},this.once(l.COMPLETE,function(){t.config.showIcon&&t.isPIPAvailable()&&(t.show(),t.bind("click",t.btnClick)),t.initPipEvents()})}},{key:"initPipEvents",value:function(){var t=this.player;this.leavePIPCallback=function(){var e=t.paused;setTimeout(function(){e||t.play()},0),t.emit("pip_change",!1)},this.enterPIPCallback=function(){t.emit("pip_change",!0)},t.video&&(t.video.addEventListener("enterpictureinpicture",this.enterPIPCallback),t.video.addEventListener("leavepictureinpicture",this.leavePIPCallback))}},{key:"switchPIP",value:function(){var e=this.player,t=this.playerConfig;if(!this.isPIPAvailable())return!1;try{if(document.pictureInPictureElement&&document.pictureInPictureElement===e.video)document.exitPictureInPicture();else{if(!e.video)return;t.poster&&(e.video.poster=t.poster),e.video.requestPictureInPicture()}return!0}catch(e){return console.error("switchPIP",e),!1}}},{key:"isPIPAvailable",value:function(){var e=this.player;return document.pictureInPictureEnabled||!(e.video&&e.video.disablePictureInPicture)}},{key:"destroy",value:function(){var e=this.player;e.video.removeEventListener("enterpictureinpicture",this.enterPIPCallback),e.video.removeEventListener("leavepictureinpicture",this.leavePIPCallback),this.unbind("click",this.btnClick)}},{key:"render",value:function(){if(this.config.showIcon||!this.isPIPAvailable())return'<xg-icon class="xgplayer-pip">\n      <div class="xgplayer-icon btn-text">\n      <span class="icon-text" lang-key="pip">'+this.i18n.PIP+'</span>\n      </div>\n      <div class="xg-tips" lang-key="pip">'+this.i18n.PIP+"</div>\n    </xg-icon>"}},{key:"isPip",get:function(){var e=this.player;return document.pictureInPictureElement===e.video}}],[{key:"pluginName",get:function(){return"pip"}},{key:"defaultConfig",get:function(){return{position:He.CONTROLS_RIGTH,index:6,showIcon:!1}}}]),pi),hi=function(e,t,n){return t&&gi(e.prototype,t),n&&gi(e,n),e};function gi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function mi(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vi(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function yi(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var bi='<svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 40 40"><path d="M30.4 10.64v21.504h-4.864v-9.856l-12.16 8.96V11.536l12.16 8.96V10.64z"/></svg>';function Ei(e){mi(this,Ei);var t=vi(this,(Ei.__proto__||Object.getPrototypeOf(Ei)).call(this,e));return t.idx=-1,t}var _i=(yi(Ei,Fe),hi(Ei,null,[{key:"pluginName",get:function(){return"playNext"}},{key:"defaultConfig",get:function(){return{position:He.CONTROLS_LEFT,index:1,url:null,urlList:[]}}}]),hi(Ei,[{key:"afterCreate",value:function(){this.config.urlList&&0!==this.config.urlList.length&&(this.appendChild(".xgplayer-icon",this.icons.playNext),this.initEvents())}},{key:"registerIcons",value:function(){return{playNext:bi}}},{key:"initEvents",value:function(){this.playNext=this.playNext.bind(this);var e="mobile"===ue.device?"touchend":"click";this.bind(e,this.playNext),this.show()}},{key:"playNext",value:function(){var e=this.player;this.idx+1<this.config.urlList.length?(this.idx++,e.video.pause(),e.currentTime=0,e.video.autoplay=!0,e.src=this.config.urlList[this.idx],e.emit("playerNext",this.idx+1)):e.emit("urlList last")}},{key:"destroy",value:function(){this.unbind(["touchend","click"],this.playNext)}},{key:"render",value:function(){if(this.config.urlList&&0!==this.config.urlList.length)return'\n     <xg-icon class="xgplayer-playnext">\n      <div class="xgplayer-icon">\n      </div>\n      <div class="xg-tips" lang-key="PLAYNEXT_TIPS">'+this.i18n.PLAYNEXT_TIPS+"</div>\n     </xg-icon>\n    "}}]),Ei),Ai=n("rrFr"),Ci=n.n(Ai),Ti=function(e,t,n){return t&&Oi(e.prototype,t),n&&Oi(e,n),e};function Oi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ki(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Si(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function wi(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Ii='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><g fill="#FFF" fill-rule="evenodd"><rect x="11" y="4" width="2" height="12" rx="1"/><rect x="3" y="18" width="18" height="2" rx="1"/><rect transform="rotate(90 4 17.5)" x="1.5" y="16.5" width="5" height="2" rx="1"/><rect transform="rotate(90 20 17.5)" x="17.5" y="16.5" width="5" height="2" rx="1"/><path d="M11.988 14.3l-4.243-4.242a1 1 0 00-1.414 1.414l4.95 4.95a1 1 0 001.414 0l4.95-4.95a1 1 0 10-1.414-1.414L11.988 14.3z"/></g></svg>';function xi(e){ki(this,xi);var t=Si(this,(xi.__proto__||Object.getPrototypeOf(xi)).call(this,e));return t.timer=null,t.isLock=!1,t}var Li=(wi(xi,Fe),Ti(xi,null,[{key:"pluginName",get:function(){return"downloadIcon"}},{key:"defaultConfig",get:function(){return{position:He.CONTROLS_RIGTH,index:3,disable:!0}}}]),Ti(xi,[{key:"beforeCreate",value:function(e){"boolean"==typeof e.player.config.download&&(e.config.disable=!e.player.config.download)}},{key:"afterCreate",value:function(){this.config.disable||(this.appendChild(".xgplayer-icon",this.icons.download),this.download=this.download.bind(this),this.bind(["click","touchend"],this.download))}},{key:"registerIcons",value:function(){return{download:Ii}}},{key:"download",value:function(){var e,t=this;this.isLock||(e=this.getAbsoluteURL(this.player.src),Ci()(e),this.isLock=!0,this.timer=window.setTimeout(function(){t.isLock=!1,window.clearTimeout(t.timer),t.timer=null},300))}},{key:"getAbsoluteURL",value:function(e){var t;return e.match(/^https?:\/\//)||((t=document.createElement("div")).innerHTML='<a href="'+e+'">x</a>',e=t.firstChild.href),e}},{key:"destroy",value:function(){this.unbind(["click","touchend"],this.download),window.clearTimeout(this.timer),this.timer=null}},{key:"render",value:function(){if(!this.config.disable)return'<xg-icon class="xgplayer-download">\n      <div class="xgplayer-icon">\n      </div>\n      <div class="xg-tips" lang-key="'+this.i18nKeys.DOWNLOAD_TIPS+'">'+this.i18n.DOWNLOAD_TIPS+"</div>\n    </xg-icon>"}}]),xi),Ri=function(e,t,n){return t&&Ni(e.prototype,t),n&&Ni(e,n),e};function Ni(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Di(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Mi(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function Pi(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function ji(){return Di(this,ji),Mi(this,(ji.__proto__||Object.getPrototypeOf(ji)).apply(this,arguments))}var Fi=(Pi(ji,Fe),Ri(ji,[{key:"beforeCreate",value:function(e){"boolean"==typeof e.player.config.screenShot&&(e.config.disable=!e.player.config.screenShot)}},{key:"afterCreate",value:function(){this.appendChild("xgplayer-icon",this.icons.screenshotIcon)}},{key:"onPluginsReady",value:function(){this.show(),this.onClickBtn=this.onClickBtn.bind(this),this.bind(["click","touchend"],this.onClickBtn)}},{key:"saveScreenShot",value:function(e,t){var n=document.createElement("a");n.href=e,n.download=t;var r=document.createEvent("MouseEvents");r.initMouseEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null),n.dispatchEvent(r)}},{key:"createCanvans",value:function(){var e=document.createElement("canvas");this.canvasCtx=e.getContext("2d"),(this.canvas=e).width=this.config.width||600,e.height=this.config.height||337.5}},{key:"onClickBtn",value:function(e){e.preventDefault(),e.stopPropagation(),this.canvas||this.createCanvans();var t=new window.Image;this.canvasCtx.drawImage(this.player.video,0,0,this.canvas.width,this.canvas.height);var n=this.config.quality,r=this.config.type,i=this.config.format;t.setAttribute("crossOrigin","anonymous"),t.src=this.canvas.toDataURL(r,n).replace(r,"image/octet-stream");var o=t.src.replace(/^data:image\/[^;]+/,"data:application/octet-stream");this.emit("screenShot",o),this.saveScreenShot(o,""+i),t.onload=function(){t=null}}},{key:"registerIcons",value:function(){return{screenshotIcon:null}}},{key:"destroy",value:function(){this.unbind(["click","touchend"],this.onClickBtn)}},{key:"render",value:function(){if(!this.config.disable){var e="SCREENSHOT";return'\n      <xg-icon class="xgplayer-shot">\n      <div class="'+(this.icons.screenshotIcon?"xgplayer-icon":"xgplayer-icon btn-text")+'">\n      '+(this.icons.screenshotIcon?"":'<span lang-key="'+this.i18nKeys[e]+'">'+this.i18n[e]+"</span>")+" \n      </div>\n    </xg-icon>"}}}],[{key:"pluginName",get:function(){return"screenShot"}},{key:"defaultConfig",get:function(){return{position:He.CONTROLS_RIGTH,index:5,quality:.92,type:"image/png",format:".png",width:600,height:337,disable:!1}}}]),ji);function Bi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ui(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Hi(e){Ui(this,Hi),this.config=e.config,this.parent=e.root,this.root=d.a.createDom("ul","",{},"xg-options-list "+this.config.className),e.root.appendChild(this.root),this.onItemClick=this.onItemClick.bind(this),this.renderItemList();var t="mobile"===ue.device?"touchend":"click";Fe.delegate.call(this,this.root,"li",t,this.onItemClick)}var zi=(function(e,t,n){return t&&Bi(e.prototype,t),n&&Bi(e,n),e}(Hi,[{key:"renderItemList",value:function(e){var r=this,t=this.config,n=this.root;e?t.data=e:e=t.data,t.style&&Object.keys(t.style).map(function(e){n.style[e]=t[e]}),0<e.length&&(this.attrKeys=Object.keys(e[0])),this.root.innerHTML="",e.map(function(e,t){var n=e.isCurrent?"option-item selected":"option-item";e["data-index"]=t,r.root.appendChild(d.a.createDom("li","<span>"+e.showText+"</span>",e,n))})}},{key:"onItemClick",value:function(e){e.delegateTarget||(e.delegateTarget=e.target);var t=e.delegateTarget;if(t&&d.a.hasClass(t,"selected"))return!1;var n="function"==typeof this.config.onItemClick?this.config.onItemClick:null,r=this.root.querySelector(".selected");d.a.addClass(t,"selected"),r&&d.a.removeClass(r,"selected"),n(e,{from:r?this.getAttrObj(r,this.attrKeys):null,to:this.getAttrObj(t,this.attrKeys)})}},{key:"getAttrObj",value:function(t,e){if(!t||!e)return{};var n={};e.map(function(e){n[e]=t.getAttribute(e)});var r=t.getAttribute("data-index");return r&&(n.index=Number(r)),n}},{key:"show",value:function(){d.a.removeClass(this.root,"hide"),d.a.addClass(this.root,"active")}},{key:"hide",value:function(){d.a.removeClass(this.root,"active"),d.a.addClass(this.root,"hide")}},{key:"destroy",value:function(){Fe.removeDelegate.call(this,this.root,["touchend","click"],this.onItemClick),this.root.innerHTML=null,this.parent.removeChild(this.root),this.root=null}}]),Hi),Vi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ki=function(e,t,n){return t&&Gi(e.prototype,t),n&&Gi(e,n),e};function Gi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Wi(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Yi(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function qi(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Zi="mobile"===ue.device;function Xi(e){Wi(this,Xi);var t=Yi(this,(Xi.__proto__||Object.getPrototypeOf(Xi)).call(this,e));return t.isActive=!1,t.curValue=null,t.curIndex=0,t}var Qi=(qi(Xi,Fe),Ki(Xi,null,[{key:"pluginName",get:function(){return"optionsIcon"}},{key:"defaultConfig",get:function(){return{position:He.CONTROLS_RIGTH,index:100,list:[],listType:"middle",listStyle:{},hidePortrait:!0}}}]),Ki(Xi,[{key:"updateLang",value:function(e){this.renderItemList(this.config.list,this.curIndex)}},{key:"afterCreate",value:function(){var e=this,t=this.config;Zi&&"middle"!==t.listType&&(t.listType="rightSide"),t.hidePortrait&&d.a.addClass(this.root,"portrait"),this.once(l.CANPLAY,function(){t.list&&0<t.list.length&&(e.renderItemList(t.list),e.show())}),Zi&&this.on(l.PLAYER_FOCUS,function(){e.isActive&&(e.optionsList&&e.optionsList.hide(),e.isActive=!1)}),this.activeEvent=Zi?"touchend":"mouseenter",this.onEnter=this.onEnter.bind(this),this.onLeave=this.onLeave.bind(this),this.bind(this.activeEvent,this.onEnter),this.bind("mouseleave",this.onLeave)}},{key:"show",value:function(){this.config.list&&0!==this.config.list.length&&d.a.addClass(this.root,"show")}},{key:"getTextByLang",value:function(e,t,n){if(void 0===e)return"";var r=this.config.list;n=n||this.player.lang,t=!t||d.a.isUndefined(e[t])?"text":t,"number"==typeof e&&(e=r[e]);try{return"object"===Vi(e[t])?e[t][n]||e[t].zh:e[t]}catch(e){return console.warn(e),""}}},{key:"onEnter",value:function(e){e.preventDefault(),e.stopPropagation(),this.onToggle(!0)}},{key:"onLeave",value:function(e){e.preventDefault(),e.stopPropagation(),this.isActive&&this.onToggle(!1)}},{key:"onToggle",value:function(e){var t,n;e!==this.isActive&&(t=this.player.controls,n=this.config.listType,e?("rightSide"===n?t.blur():t.focus(),this.optionsList&&this.optionsList.show()):("rightSide"===n?t.focus():t.unFocus(),this.optionsList&&this.optionsList.hide()),this.isActive=e)}},{key:"onItemClick",value:function(e,t){e.preventDefault(),e.stopPropagation();var n=this.config,r=n.listType,i=n.list;!Zi&&"rightSide"!==r||this.onToggle(!1),this.curIndex=t.to.index,this.curItem=i[this.curIndex],this.changeCurrentText()}},{key:"changeCurrentText",value:function(){var e=this.config.list,t=e[this.curIndex<e.length?this.curIndex:0];t&&(this.find(".icon-text").innerHTML=this.getTextByLang(t,"iconText"))}},{key:"renderItemList",value:function(e,t){var n=this,r=this.config,i=this.optionsList,o=this.player;if("number"==typeof t&&(this.curIndex=t,this.curItem=r.list[t]),i)return i.renderItemList(e),void this.changeCurrentText();var a={config:{data:e||[],className:"rightSide"===r.listType?"right-side":"",onItemClick:function(e,t){n.onItemClick(e,t)}},root:("rightSide"===r.listType?o:this).root};this.optionsList=new zi(a),this.changeCurrentText(),this.show()}},{key:"destroy",value:function(){this.unbind(this.activeEvent,this.onToggle),this.unbind("mouseleave",this.onToggle),this.optionsList&&(this.optionsList.destroy(),this.optionsList=null)}},{key:"render",value:function(){return'<xg-icon class="xg-options-icon '+(this.config.className||"")+'">\n    <div class="xgplayer-icon btn-text">\n    <span class="icon-text"></span>\n    </div>\n   </xg-icon>'}}]),Xi),Ji=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0!==i){if("value"in i)return i.value;var o=i.get;return void 0!==o?o.call(r):void 0}var a=Object.getPrototypeOf(t);if(null!==a)return e(a,n,r)},$i=function(e,t,n){return t&&eo(e.prototype,t),n&&eo(e,n),e};function eo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function to(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function no(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function ro(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function io(e){to(this,io);var t=no(this,(io.__proto__||Object.getPrototypeOf(io)).call(this,e));return t.curTime=0,t.isPaused=!0,t}var oo=(ro(io,Qi),$i(io,[{key:"beforeCreate",value:function(e){var t=e.config.list;Array.isArray(t)&&0<t.length&&(e.config.list=t.map(function(e){return!e.text&&e.name&&(e.text=e.name),e}))}}],[{key:"pluginName",get:function(){return"definition"}},{key:"defaultConfig",get:function(){return{position:He.CONTROLS_RIGTH,index:3,list:[],disable:!1,hidePortrait:!1,className:"xgplayer-definition"}}}]),$i(io,[{key:"afterCreate",value:function(){var t=this;Ji(io.prototype.__proto__||Object.getPrototypeOf(io.prototype),"afterCreate",this).call(this),this.on("resourceReady",function(e){t.changeDefinitionList(e)})}},{key:"renderItemList",value:function(){var t,r=this,n=this.player,e=this.config.list,i=n.currentSrc||n.src;n.switchURL&&(t=document.createElement("a"),["hlsjs"].every(function(e){return!n[e]||(n[e].url&&(t.href=n[e].url),"hlsjs"===e&&(t.href=n[e].originUrl||n[e].url),i=t.href,!1)}),t=null);var o=0,a=e.map(function(e,t){var n={url:e.url,definition:e.definition||"",showText:r.getTextByLang(e)};return e.url!==i&&(d.a.isUndefined(e.definition)||e.definition!==r.config.defaultDefinition)||(n.isCurrent=!0,o=t),n});Ji(io.prototype.__proto__||Object.getPrototypeOf(io.prototype),"renderItemList",this).call(this,a,o)}},{key:"onCanplayChangeDefinition",value:function(){var e,t=this.player;t.currentTime=this.curTime,this.isPaused?t.pause():void 0!==(e=t.play())&&e&&e.catch(function(e){}),t.emit(l.AFTER_DEFINITION_CHANGE)}},{key:"switchUrl",value:function(e){var t=this.player,n=document.createElement("a");["mp4","hls","__flv__","dash","hlsjs"].every(function(e){return!t[e]||(t[e].url&&(n.href=t[e].url),"__flv__"===e&&(t[e]._options?n.href=t[e]._options.url:n.href=t[e]._mediaDataSource.url),"hlsjs"===e&&(n.href=t[e].originUrl||t[e].url),!1)}),e&&n.href!==e.url&&!t.ended&&t.switchURL(e.url),n=null}},{key:"changeDefinitionList",value:function(e){Array.isArray(e)&&(this.config.list=e.map(function(e){return!e.text&&e.name&&(e.text=e.name),e}),this.renderItemList(),this.show())}},{key:"changeDefinition",value:function(e){var t=this,n=this.player;n.switchURL?this.switchUrl(e):e.url!==n.currentSrc&&(this.curTime=n.currentTime,this.isPaused=n.paused,n.ended||(n.video.src=e.url,n.play(),this.once("canplay",function(){t.onCanplayChangeDefinition()})))}},{key:"onItemClick",value:function(e,t){Ji(io.prototype.__proto__||Object.getPrototypeOf(io.prototype),"onItemClick",this).apply(this,arguments);var n=this.player,r=e.delegateTarget.getAttribute("url");n.emit(l.BEFORE_DEFINITION_CHANGE,r),this.changeDefinition(t.to),n.emit(l.DEFINITION_CHANGE,{from:t.from,to:t.to})}}]),io),ao=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0!==i){if("value"in i)return i.value;var o=i.get;return void 0!==o?o.call(r):void 0}var a=Object.getPrototypeOf(t);if(null!==a)return e(a,n,r)},so=function(e,t,n){return t&&co(e.prototype,t),n&&co(e,n),e};function co(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function uo(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lo(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function po(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function fo(e){uo(this,fo);var t=lo(this,(fo.__proto__||Object.getPrototypeOf(fo)).call(this,e));return t.curRate=1,t}var ho=(po(fo,Qi),so(fo,null,[{key:"pluginName",get:function(){return"playbackRate"}},{key:"defaultConfig",get:function(){return{position:He.CONTROLS_RIGTH,index:4,list:[.5,.75,{rate:1,iconText:""},1.5,2],className:"xgplayer-playbackrate",hidePortrait:!1}}}]),so(fo,[{key:"beforeCreate",value:function(e){var t=e.player.config.playbackRate,n=t?Array.isArray(t)?t:e.config.list:[];Array.isArray(n)&&(e.config.list=n.map(function(e){return"number"==typeof e?e={rate:e,text:e+"x"}:!e.text&&e.rate&&(e.text=e.rate+"x"),e}))}},{key:"afterCreate",value:function(){var e=this;ao(fo.prototype.__proto__||Object.getPrototypeOf(fo.prototype),"afterCreate",this).call(this),this.on(l.RATE_CHANGE,function(){e.curValue!==e.player.playbackRate&&e.renderItemList()})}},{key:"show",value:function(){this.config.list&&0!==this.config.list.length&&ao(fo.prototype.__proto__||Object.getPrototypeOf(fo.prototype),"show",this).call(this)}},{key:"onItemClick",value:function(e,t){ao(fo.prototype.__proto__||Object.getPrototypeOf(fo.prototype),"onItemClick",this).apply(this,arguments);var n=e.delegateTarget.getAttribute("rate");if(Number(n)===this.curValue)return!1;this.curValue=Number(n),this.player.playbackRate=Number(n)}},{key:"renderItemList",value:function(){var r=this,i=this.player.playbackRate||1;this.curValue=i;var o=0,e=this.config.list.map(function(e,t){var n={rate:e.rate};return n.rate===i&&(n.isCurrent=!0,o=t),n.showText=r.getTextByLang(e),n});ao(fo.prototype.__proto__||Object.getPrototypeOf(fo.prototype),"renderItemList",this).call(this,e,o)}},{key:"destroy",value:function(){ao(fo.prototype.__proto__||Object.getPrototypeOf(fo.prototype),"destroy",this).call(this)}}]),fo),go=function(e,t,n){return t&&mo(e.prototype,t),n&&mo(e,n),e};function mo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function vo(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yo(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function bo(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Eo='<svg xmlns="http://www.w3.org/2000/svg" width="31" height="40" viewBox="0 -5 31 40"><path class="path_full" d="M11.7 13v1.3a1.17 1.17 0 01-1.3 1.3 1.17 1.17 0 01-1.3-1.3v-2.6a1.17 1.17 0 011.3-1.3H13a1.17 1.17 0 011.3 1.3A1.17 1.17 0 0113 13zm7.8 5.2v-1.3a1.3 1.3 0 012.6 0v2.6a1.17 1.17 0 01-1.3 1.3h-2.6a1.3 1.3 0 010-2.6zm3.9-9.1H7.8v13h15.6zm2.6 0v13a2.6 2.6 0 01-2.6 2.6H7.8a2.6 2.6 0 01-2.6-2.6v-13a2.6 2.6 0 012.6-2.6h15.6A2.6 2.6 0 0126 9.1z"/></svg>',_o='<svg xmlns="http://www.w3.org/2000/svg" width="31" height="40" viewBox="0 -5 31 40"><path d="M11.7 13v-1.3a1.17 1.17 0 011.3-1.3 1.17 1.17 0 011.3 1.3v2.6a1.17 1.17 0 01-1.3 1.3h-2.6a1.17 1.17 0 01-1.3-1.3 1.17 1.17 0 011.3-1.3zm7.8 5.2v1.3a1.3 1.3 0 01-2.6 0v-2.6a1.17 1.17 0 011.3-1.3h2.6a1.3 1.3 0 010 2.6zm3.9-9.1H7.8v13h15.6zm2.6 0v13a2.6 2.6 0 01-2.6 2.6H7.8a2.6 2.6 0 01-2.6-2.6v-13a2.6 2.6 0 012.6-2.6h15.6A2.6 2.6 0 0126 9.1z"/></svg>';function Ao(){return vo(this,Ao),yo(this,(Ao.__proto__||Object.getPrototypeOf(Ao)).apply(this,arguments))}var Co=(bo(Ao,Fe),go(Ao,[{key:"beforeCreate",value:function(e){"boolean"==typeof e.player.config.cssFullscreen&&(e.config.disable=!e.player.config.cssFullscreen)}},{key:"afterCreate",value:function(){var t=this;this.config.disable||(this.initIcons(),this.on(l.CSS_FULLSCREEN_CHANGE,function(e){t.animate(e)}),this.btnClick=this.btnClick.bind(this),this.bind(["click","touchend"],this.btnClick))}},{key:"initIcons",value:function(){var e=this.icons,t=this.find(".xgplayer-icon");t.appendChild(e.cssFullscreen),t.appendChild(e.exitCssFullscreen)}},{key:"btnClick",value:function(e){e.preventDefault(),e.stopPropagation(),this.player.isCssfullScreen?this.player.exitCssFullscreen():this.player.getCssFullscreen()}},{key:"animate",value:function(e){this.root&&(e?this.setAttr("data-state","full"):this.setAttr("data-state","normal"),this.switchTips(e))}},{key:"switchTips",value:function(e){var t=this.i18nKeys;this.changeLangTextKey(this.find(".xg-tips"),e?t.EXITCSSFULLSCREEN_TIPS:t.CSSFULLSCREEN_TIPS)}},{key:"registerIcons",value:function(){return{cssFullscreen:{icon:Eo,class:"xg-get-cssfull"},exitCssFullscreen:{icon:_o,class:"xg-exit-cssfull"}}}},{key:"destroy",value:function(){this.unbind(["click","touchend"],this.btnClick)}},{key:"render",value:function(){if(!this.config.disable)return'<xg-icon class=\'xgplayer-cssfullscreen\'>\n    <div class="xgplayer-icon">\n    </div>\n    <div class="xg-tips" lang-key="'+this.i18nKeys.EXITCSSFULLSCREEN_TIPS+'">'+this.i18n.CSSFULLSCREEN_TIPS+"</div>\n    </xg-icon>"}}],[{key:"pluginName",get:function(){return"cssFullscreen"}},{key:"defaultConfig",get:function(){return{position:He.CONTROLS_RIGTH,index:1,disable:!1}}}]),Ao),To=function(e,t,n){return t&&Oo(e.prototype,t),n&&Oo(e,n),e};function Oo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ko(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function So(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function wo(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function Io(){return ko(this,Io),So(this,(Io.__proto__||Object.getPrototypeOf(Io)).apply(this,arguments))}var xo=(wo(Io,Fe),To(Io,[{key:"afterCreate",value:function(){var t=this;Ye(this),this.clickHandler=this.hook("errorRetry",this.errorRetry,{pre:function(e){e.preventDefault(),e.stopPropagation()}}),this.onError=this.hook("errorHandler",this.handleError),this.bind(".xgplayer-error-refresh","click",this.clickHandler),this.on(l.CANPLAY,function(){t.handleCanPlay()}),this.on(l.ERROR,function(e){t.onError(e)})}},{key:"errorRetry",value:function(){this.player.retry()}},{key:"handleCanPlay",value:function(){Fe.Util.removeClass(this.player.root,"xgplayer-is-error")}},{key:"handleError",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=this.player,n=e&&e.message?e.message:t.error;this.find(".xgplayer-error-text").innerHTML=n,this.find(".xgplayer-error-tips").innerHTML=this.i18n.REFRESH_TIPS+'<span class="xgplayer-error-refresh">'+this.i18n.REFRESH+"</span>"}},{key:"destroy",value:function(){this.unbind(".xgplayer-error-refresh","click",this.clickHandler)}},{key:"render",value:function(){return'<xg-error class="xgplayer-error">\n      <div class="xgplayer-errornote">\n       <span class="xgplayer-error-text"></span>\n       <span class="xgplayer-error-tips"><em class="xgplayer-error-refresh"></em></span>\n      </div>\n    </xg-error>'}}],[{key:"pluginName",get:function(){return"error"}}]),Io),Lo=function(e,t,n){return t&&Ro(e.prototype,t),n&&Ro(e,n),e};function Ro(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function No(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Do(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function Mo(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function Po(){return No(this,Po),Do(this,(Po.__proto__||Object.getPrototypeOf(Po)).apply(this,arguments))}var jo=(Mo(Po,Fe),Lo(Po,[{key:"afterCreate",value:function(){var t=this;this.intervalId=0,this.customConfig=null,this.bind(".highlight",["click","touchend"],function(e){(t.config.onClick||t.customOnClick)&&(e.preventDefault(),e.stopPropagation(),t.customOnClick?t.customOnClick(e):t.config.onClick(e))}),this.player.showPrompt=function(){t.show.apply(t,arguments)},this.player.hidePrompt=function(){t.hide()}}},{key:"setStyle",value:function(t){var n=this;Object.keys(t).map(function(e){n.root.style[e]=t[e]})}},{key:"show",value:function(e){var t,n,r=this,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:function(){};e&&(this.customOnClick=o,t=this.config.interval,this.intervalId&&(clearTimeout(this.intervalId),this.intervalId=null),d.a.addClass(this.root,"show"),"arrow"===i.mode&&d.a.addClass(this.root,"arrow"),this.find(".xgplayer-prompt-detail").innerHTML="string"==typeof e?e:(e.text||"")+(e.highlight?'<i class="highlight">'+e.highlight+"</i>":""),i.style&&this.setStyle(i.style),("boolean"==typeof i.autoHide?i:this.config).autoHide&&(n=i.interval||t,this.intervalId=setTimeout(function(){r.hide()},n)))}},{key:"hide",value:function(){d.a.removeClass(this.root,"show"),d.a.removeClass(this.root,"arrow"),this.root.removeAttribute("style"),this.customOnClick=null}},{key:"render",value:function(){return'<xg-prompt class="xgplayer-prompt '+qe.CONTROLS_FOLLOW+'">\n    <span class="xgplayer-prompt-detail"><i class="highlight">10s</i></span>\n    </xg-prompt>'}}],[{key:"pluginName",get:function(){return"prompt"}},{key:"defaultConfig",get:function(){return{interval:3e3,style:{},mode:"arrow",autoHide:!0,detail:{text:"",highlight:""},onClick:function(){}}}}]),Po),Fo=Fe.Util,Bo=Fe.Events,Uo={time:0,text:"",id:1,duration:1,color:"#fff",style:{},width:6,height:6};function Ho(t){Object.keys(Uo).map(function(e){void 0===t[e]&&(t[e]=Uo[e])})}var zo={initDots:function(){var t=this;this._ispots.map(function(e){t.createDot(e,!1)}),this._ispotsInit=!0},createDot:function(e){var t,n,r,i,o=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],a=this.player.plugins.progress;a&&(o&&(Ho(e),this._ispots.push(e)),!this._ispotsInit&&o||(t=this.calcuPosition(e.time,e.duration),(n=e.style||{}).left=t.left+"%",n.width=t.width+"%",r="xgspot_"+e.id+" xgplayer-spot",t.isMini&&(r+=" mini"),i=Fo.createDom("xg-spot","",{"data-text":e.text,"data-time":e.time,"data-id":e.id},r),Object.keys(n).map(function(e){i.style[e]=n[e]}),a.outer&&a.outer.appendChild(i)))},findDot:function(n){if(this.player.plugins.progress){var e=this._ispots.filter(function(e,t){return e.id===n});return 0<e.length?e[0]:null}},updateDot:function(t){var n,r,e,i,o=1<arguments.length&&void 0!==arguments[1]&&arguments[1],a=this.player.plugins.progress;a&&((n=this.findDot(t.id))&&Object.keys(t).map(function(e){n[e]=t[e]}),!this._ispotsInit||(r=a.find('xg-spot[data-id="'+t.id+'"]'))&&(e=this.calcuPosition(t.time,t.duration),(i=t.style||{}).left=e.left+"%",i.width=e.width+"%",r.setAttribute("data-text",t.text),r.setAttribute("data-time",t.time),e.isMini?Fo.addClass(r,"mini"):Fo.removeClass(r,"mini"),Object.keys(i).map(function(e){r.style[e]=i[e]}),o&&this.showDot(t.id)))},deleteDot:function(e){var t=this._ispots,n=this.player.plugins.progress;if(n){for(var r=[],i=0;i<t.length;i++)t[i].id===e&&r.push(i);for(var o,a=r.length-1;0<=a;a--)t.splice(r[a],1),!this._ispotsInit||(o=n.find('xg-spot[data-id="'+e+'"]'))&&o.parentElement.removeChild(o)}},deleteAllDots:function(){var e=this.player.plugins.progress;if(e)if(this._ispotsInit){for(var t=e.root.getElementsByTagName("xg-spot"),n=t.length-1;0<=n;n--)e.outer.removeChild(t[n]);this._ispots=[]}else this._ispots=[]},updateAllDots:function(){var n=this,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],t=this.player.plugins.progress;if(t)if(this._ispotsInit){this._ispots=[];var r=t.root.getElementsByTagName("xg-spot"),i=r.length;if(i>e.length)for(var o=i-1;o>e.length-1;o--)t.outer.removeChild(r[o]);e.map(function(e,t){t<i?(r[t].setAttribute("data-id",""+e.id),n._ispots.push(e),n.updateDot(e)):n.createDot(e)})}else this._ispots=e}};function Vo(t){var e=t.config,n=t.player;Object.keys(zo).map(function(e){t[e]=zo[e].bind(t)});var r=n.config.progressDot||e.ispots||[];t._ispots=r.map(function(e){return Ho(e),e}),t._ispotsInit=!1,n.once(Bo.DURATION_CHANGE,function(){t.initDots()})}var Ko=function(e,t,n){return t&&Go(e.prototype,t),n&&Go(e,n),e};function Go(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Wo(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Yo(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function qo(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Zo=Fe.Util,Xo=Fe.Sniffer,Qo={dragmove:"onProgressMove",dragstart:"onProgressDragStart",dragend:"onProgressDragEnd"};function Jo(e){Wo(this,Jo);var t=Yo(this,(Jo.__proto__||Object.getPrototypeOf(Jo)).call(this,e));return t.onMousemove=function(e){(t._state.f||Zo.hasClass(e.target,"xg-spot-content"))&&(Zo.event(e),e.stopPropagation())},t.onMousedown=function(e){(t._state.f||Zo.hasClass(e.target,"xg-spot-content"))&&(Zo.event(e),e.stopPropagation())},t._ispots=[],t.videoPreview=null,t.videothumbnail=null,t.thumbnail=null,t._state={now:0,f:!1},t}var $o=(qo(Jo,Fe),Ko(Jo,[{key:"beforeCreate",value:function(e){var t=e.player.plugins.progress;t&&(e.root=t.root)}},{key:"onPluginsReady",value:function(){this.player.plugins.progress&&(this.previewLine=this.find(".xg-spot-line"),this.timePoint=this.find(".xgplayer-progress-point"),this.timeText=this.find(".xg-spot-time"),this.tipText=this.find(".spot-inner-text"),this.registerThumbnail(),Vo(this),this.bindEvents())}},{key:"afterCreate",value:function(){Ye(this)}},{key:"bindEvents",value:function(){var t,n=this,r=this.player.plugins.progress;"mobile"!==Xo.device&&r&&(Object.keys(Qo).map(function(e){n[Qo[e]]=n[Qo[e]].bind(n),r.addCallBack(e,n[Qo[e]])}),this.bind(".xg-spot-info","mousemove",this.onMousemove),this.bind(".xg-spot-info","mousedown",this.onMousedown),t=this.hook("previewClick",function(){}),this.handlerPreviewClick=function(e){e.stopPropagation(),t(parseInt(1e3*n._state.now,10)/1e3,e)},this.bind(".xg-spot-content","mouseup",this.handlerPreviewClick))}},{key:"onProgressMove",value:function(e){this.updatePosition(e.offset,e.width,e.currentTime,e.e)}},{key:"onProgressDragStart",value:function(e){this.isDrag=!0,this.videoPreview&&Zo.addClass(this.videoPreview,"show")}},{key:"onProgressDragEnd",value:function(e){this.isDrag=!1,this.videoPreview&&Zo.removeClass(this.videoPreview,"show")}},{key:"updateLinePos",value:function(e,t){var n=this.root,r=this.previewLine,i=this.timePoint,o="flex"===this.player.controls.mode,a=n.getBoundingClientRect().width,s=i.getBoundingClientRect().width,c=e-a/2,u=void 0,l=void 0;c<0&&!o?(c=0,u=e-a/2,this.thumbnail||(l=e-a/2-s/2)):t-a<c&&!o?(u=c-(t-a),this.thumbnail||(l=c-(t-a)-s/2),c=t-a):(u=0,this.thumbnail||(l=-s/2)),void 0!==u&&(r.style.transform="translateX("+u+"px)"),void 0!==l&&(i.style.transform="translateX("+l+"px)"),n.style.transform="translateX("+c+"px)"}},{key:"updateTimeText",value:function(e){var t=this.timeText,n=this.timePoint;t.textContent=Zo.format(e),this.thumbnail||(n.textContent=Zo.format(e))}},{key:"updatePosition",value:function(e,t,n,r){var i=this.root,o=this.config,a=this._state;i&&(this.updateLinePos(e,t),a.now=n,r&&r.target&&Zo.hasClass(r.target,"xgplayer-spot")?(this.showTips(r.target.getAttribute("data-text")),a.f=!0,o.isFocusDots&&a.f&&(a.now=parseInt(r.target.getAttribute("data-time"),10))):o.defaultText?(a.f=!1,this.showTips(o.defaultText,!0)):(a.f=!1,this.hideTips("")),this.updateTimeText(a.now),this.updateThumbnails(a.now))}},{key:"updateThumbnails",value:function(e){var t,n=this.player,r=this.videoPreview,i=n.plugins.thumbnail;i&&i.usable&&(this.thumbnail&&i.update(this.thumbnail,e,160,90),t=r&&r.getBoundingClientRect(),this.videothumbnail&&i.update(this.videothumbnail,e,t.width,t.height))}},{key:"registerThumbnail",value:function(){var e,t,n,r;"mobile"!==Xo.device&&(e=this.player,t=this.config,(n=e.getPlugin("thumbnail"))&&n.usable&&t.isShowThumbnail?(r=this.find(".xg-spot-thumbnail"),this.thumbnail=n.createThumbnail(r,"progress-thumbnail"),t.isShowCoverPreview&&(this.videoPreview=Zo.createDom("xg-video-preview","",{},"xgvideo-preview"),e.root.appendChild(this.videoPreview),this.videothumbnail=n.createThumbnail(this.videoPreview,"xgvideo-thumbnail"))):Zo.addClass(this.root,"short-line no-thumbnail"))}},{key:"calcuPosition",value:function(e,t){var n=this.player.plugins.progress,r=this.player,i=n.root.getBoundingClientRect().width,o=r.duration/i*6,a={};return a.left=e/r.duration*100,a.width=t/r.duration,a.isMini=t<o,{left:e/r.duration*100,width:t/r.duration*100,isMini:t<o}}},{key:"showDot",value:function(e){var t,n,r=this.findDot(e);r&&(t=this.root.getBoundingClientRect().width,n=r.time/this.player.duration*t,this.updatePosition(n,t,r.time))}},{key:"showTips",value:function(e,t){e&&(this.tipText.textContent=e,Zo.addClass(this.find(".xg-spot-content"),"show-text"),t&&"production"===this.config.mode?Zo.addClass(this.root,"product"):Zo.removeClass(this.root,"product"))}},{key:"hideTips",value:function(){this.tipText.textContent="",Zo.removeClass(this.find(".xg-spot-content"),"show-text"),Zo.removeClass(this.root,"product")}},{key:"destroy",value:function(){var t=this,n=this.player.plugins.progress;n&&Object.keys(Qo).map(function(e){n.removeCallBack(e,t[Qo[e]])}),this.videothumbnail=null,this.thumbnail=null,this.videoPreview&&this.player.root.removeChild(this.videoPreview),this.unbind(".xg-spot-info","mousemove",this.onMousemove),this.unbind(".xg-spot-info","mousedown",this.onMousedown),this.unbind(".xg-spot-content","mouseup",this.handlerPreviewClick)}},{key:"render",value:function(){return"mobile"===Xo.device?"":'<div class="xg-spot-info '+("short"===this.config.mode?"short-line":"")+'">\n      <div class="xg-spot-content">\n      <div class="xg-spot-thumbnail">\n        <span class="xg-spot-time"></span>\n        </div>\n          <div class="xg-spot-text"><span class="spot-inner-text"></span></div>\n      </div>\n      <div class="xgplayer-progress-point">00:00</div>\n      <div class="xg-spot-line"></div>\n    </div>'}}],[{key:"pluginName",get:function(){return"progresspreview"}},{key:"defaultConfig",get:function(){return{index:1,miniWidth:6,ispots:[],defaultText:"",isFocusDots:!0,isShowThumbnail:!0,isShowCoverPreview:!1,mode:""}}}]),Jo),ea=function(e,t,n){return t&&ta(e.prototype,t),n&&ta(e,n),e};function ta(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function na(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ra(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function ia(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function oa(e){na(this,oa);var t=ra(this,(oa.__proto__||Object.getPrototypeOf(oa)).call(this,e));return t.ratio=1,t.interval=null,t.preloadMark={},t}var aa=(ia(oa,Fe),ea(oa,null,[{key:"pluginName",get:function(){return"thumbnail"}},{key:"defaultConfig",get:function(){return{isShow:!1,urls:[],pic_num:0,col:0,row:0,height:90,width:160,scale:1,className:"",hidePortrait:!1}}}]),ea(oa,[{key:"afterCreate",value:function(){this.usable&&this.initThumbnail()}},{key:"initThumbnail",value:function(){var e=this.config,t=e.width,n=e.height,r=e.pic_num,i=e.interval;this.ratio=t/n*100,this.interval=i||Math.round(this.player.duration/r),this.preload(0)}},{key:"getUrlByIndex",value:function(e){return 0<=e&&e<this.config.urls.length?this.config.urls[e]:""}},{key:"preload",value:function(e){var t=this,n=this.config.urls,r=n.length;[e-1,e,e+1,e+2].map(function(e){!t.preloadMark[e]&&0<=e&&e<r&&(d.a.preloadImg(n[e]),t.preloadMark[e]=!0)})}},{key:"getPosition",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,r=this.config,i=r.pic_num,o=r.row,a=r.col,s=r.width,c=r.height;this.interval=Math.round(this.player.duration/i);var u=Math.ceil(e/this.interval),l=(u=i<u?i:u)<o*a?0:Math.ceil(u/(o*a))-1,d=u-l*(a*o),p=0<d?Math.ceil(d/a)-1:0,f=0<d?d-p*a-1:0,h=0,g=0;t&&n?t/n<s/c?g=(h=t)/(s/c):h=(g=n)*(s/c):g=(h=t||s)/(s/c);var m=this.getUrlByIndex(l);return{urlIndex:l,rowIndex:p,colIndex:f,url:m,height:g,width:h,style:{backgroundImage:"url("+m+")",backgroundSize:h*a+"px auto",backgroundPosition:"-"+f*h+"px -"+p*g+"px",width:h+"px",height:g+"px"}}}},{key:"update",value:function(t,e){var n,r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0,o=4<arguments.length&&void 0!==arguments[4]?arguments[4]:"",a=this.config,s=a.pic_num,c=a.urls;s<=0||!c||0===c.length||(n=this.getPosition(e,r,i),this.preload(n.urlIndex),Object.keys(n.style).map(function(e){t.style[e]=n.style[e]}),Object.keys(o).map(function(e){t.style[e]=o[e]}))}},{key:"createThumbnail",value:function(e,t){var n=d.a.createDom("xg-thumbnail","",{},"thumbnail "+t);return e&&e.appendChild(n),n}},{key:"usable",get:function(){var e=this.config,t=e.urls,n=e.pic_num;return t&&0<t.length&&0<n}}]),oa);function sa(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var ca=function e(){var t,n;sa(this,e);var r=[sr,mr,Dr,zr,ai,_i,oo,ho,Li,Fi,Jr],i=[{plugin:fi,options:{index:0,position:fi.POSITIONS.ROOT_TOP}}],o=[It,jt,qt,qn,tn,xo,jo,aa,$o];switch(this.plugins=[].concat(r,o),ue.device){case"pc":(t=this.plugins).push.apply(t,[Un,On,Co].concat(i,[vn]));break;case"mobile":this.plugins.push(Nn);break;default:(n=this.plugins).push.apply(n,[Un,On])}this.ignores=[]};n.d(t,"a",function(){return Et}),Et.defaultPreset=ca},LT9b:function(e,t,n){e.exports=n("kw5h")},LWYa:function(e,t,n){"use strict";var r=n("q1tI"),i=n.n(r),o=n("17x9"),a=n.n(o),s=n("QLaP"),c=n.n(s);function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var p,f=(d(h,p=i.a.Component),h.prototype.enable=function(e){this.unblock&&this.unblock(),this.unblock=this.context.router.history.block(e)},h.prototype.disable=function(){this.unblock&&(this.unblock(),this.unblock=null)},h.prototype.componentWillMount=function(){c()(this.context.router,"You should not use <Prompt> outside a <Router>"),this.props.when&&this.enable(this.props.message)},h.prototype.componentWillReceiveProps=function(e){e.when?this.props.when&&this.props.message===e.message||this.enable(e.message):this.disable()},h.prototype.componentWillUnmount=function(){this.disable()},h.prototype.render=function(){return null},h);function h(){return u(this,h),l(this,p.apply(this,arguments))}f.propTypes={when:a.a.bool,message:a.a.oneOfType([a.a.func,a.a.string]).isRequired},f.defaultProps={when:!0},f.contextTypes={router:a.a.shape({history:a.a.shape({block:a.a.func.isRequired}).isRequired}).isRequired},t.a=f},LXxW:function(e,t){function n(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o}e.exports=n},LYCE:function(e,t,n){e.exports=n("DkPT")},LaDK:function(e,t,n){"use strict";var r,i,o,a;n.d(t,"b",function(){return r}),n.d(t,"a",function(){return o}),(i=r=r||{})[i.COMMON=1]="COMMON",i[i.SYNCING=2]="SYNCING",i[i.SERVER_SYNCING=3]="SERVER_SYNCING",i[i.FAIL_RETRY=5]="FAIL_RETRY",i[i.FAIL_AUTH=6]="FAIL_AUTH",i[i.FAIL_PERMISSION=7]="FAIL_PERMISSION",i[i.FAIL_NO_JIRA=8]="FAIL_NO_JIRA",i[i.FAIL_CAN_NOT_USE=9]="FAIL_CAN_NOT_USE",i[i.FAIL_NO_BASE_URL=10]="FAIL_NO_BASE_URL",i[i.SOME_ISSUES_SYNC_FAIL=11]="SOME_ISSUES_SYNC_FAIL",(a=o=o||{})[a.HAS_NOT_FETCH=-2]="HAS_NOT_FETCH",a[a.FETCH_FAIL=-1]="FETCH_FAIL",a[a.NO_JIRA=0]="NO_JIRA",a[a.OPEN_JIRA=1]="OPEN_JIRA",a[a.WITHIN_JIRA=2]="WITHIN_JIRA",a[a.HAS_CONNECTED=3]="HAS_CONNECTED"},LcsW:function(e,t,n){var r=n("kekF")(Object.getPrototypeOf,Object);e.exports=r},LoXx:function(e,t,n){n("m/sp")("replace")},LpBN:function(e,t,n){e.exports=p,e.exports.compileUnsafe=h,e.exports.compileToken=_;var r=n("W/5f"),i=n("D5Sy"),a=i.isTag,s=n("/OS9"),o=n("UOpo"),c=n("meR+"),u=c.trueFunc,l=c.falseFunc,d=n("5wDT");function p(e,t,n){return f(h(e,t,n))}function f(t){return function(e){return a(e)&&t(e)}}function h(e,t,n){return _(r(e,t),t,n)}function g(e){return"pseudo"===e.type&&("scope"===e.name||Array.isArray(e.data)&&e.data.some(function(e){return e.some(g)}))}var m={type:"descendant"},v={type:"pseudo",name:"scope"},y={},b=i.getParent;function E(e,t){var n=!!t&&!!t.length&&t.every(function(e){return e===y||!!b(e)});e.forEach(function(e){if(!(0<e.length&&C(e[0])&&"descendant"!==e[0].type)){if(!n||g(e))return;e.unshift(m)}e.unshift(v)})}function _(e,t,n){(e=e.filter(function(e){return 0<e.length})).forEach(o);var r=Array.isArray(n);return(n=t&&t.context||n)&&!r&&(n=[n]),E(e,n),e.map(function(e){return T(e,t,n,r)}).reduce(O,l)}function C(e){return d[e.type]<0}function T(e,r,i,t){var o=t&&"scope"===e[0].name&&"descendant"===e[1].type;return e.reduce(function(e,t,n){return e===l?e:s[t.type](e,t,r,i,o&&1===n)},r&&r.rootFunc||u)}function O(t,n){return n===l||t===u?t:t===l||n===u?n:function(e){return t(e)||n(e)}}var k=n("nryN").filters,S=i.existsOne,a=i.isTag,w=i.getChildren;function I(e){return e.some(C)}k.not=function(t,e,n,r){var i={xmlMode:!(!n||!n.xmlMode),strict:!(!n||!n.strict)};if(i.strict&&(1<e.length||e.some(I)))throw new SyntaxError("complex selectors in :not aren't allowed in strict mode");var o=_(e,i,r);return o===l?t:o===u?l:function(e){return!o(e)&&t(e)}},k.has=function(t,e,n){var r={xmlMode:!(!n||!n.xmlMode),strict:!(!n||!n.strict)},i=e.some(I)?[y]:null,o=_(e,r,i);return o===l?l:o===u?function(e){return w(e).some(a)&&t(e)}:(o=f(o),i?function(e){return t(e)&&(i[0]=e,S(o,w(e)))}:function(e){return t(e)&&S(o,w(e))})},k.matches=function(e,t,n,r){return _(t,{xmlMode:!(!n||!n.xmlMode),strict:!(!n||!n.strict),rootFunc:e},r)}},LqQ0:function(e,lt,dt){"use strict";(function(e){dt.d(lt,"a",function(){return st}),dt.d(lt,"b",function(){return ct}),dt.d(lt,"c",function(){return at});var t=dt("cDf5"),r=dt.n(t),n=dt("YAKS"),i=dt.n(n),o=dt("vYB2"),a=dt.n(o),s=dt("HEbw"),m=dt.n(s);function f(e,a,s,c){return new(s=s||Promise)(function(n,t){function r(e){try{o(c.next(e))}catch(e){t(e)}}function i(e){try{o(c.throw(e))}catch(e){t(e)}}function o(e){var t;e.done?n(e.value):((t=e.value)instanceof s?t:new s(function(e){e(t)})).then(r,i)}o((c=c.apply(e,a||[])).next())})}function h(n,r){var i,o,a,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,o&&(a=2&t[0]?o.return:t[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,t[1])).done)return a;switch(o=0,a&&(t=[2&t[0],a.value]),t[0]){case 0:case 1:a=t;break;case 4:return s.label++,{value:t[1],done:!1};case 5:s.label++,o=t[1],t=[0];continue;case 7:t=s.ops.pop(),s.trys.pop();continue;default:if(!((a=0<(a=s.trys).length&&a[a.length-1])||6!==t[0]&&2!==t[0])){s=0;continue}if(3===t[0]&&(!a||t[1]>a[0]&&t[1]<a[3])){s.label=t[1];break}if(6===t[0]&&s.label<a[1]){s.label=a[1],a=t;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(t);break}a[2]&&s.ops.pop(),s.trys.pop();continue}t=r.call(n,s)}catch(e){t=[6,e],o=0}finally{i=a=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}}function c(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),i=0,t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}var u,l,d,p,g,v,y,b,E,_,C,T,O,k,S,w,I,x,L,R=i.a.Writer,N=i.a.util,D=i.a.roots.default||(i.a.roots.default={});function M(e){if(this.Events=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function P(e){if(this.Recipients=[],this.Objects=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function j(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function F(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function B(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function U(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function H(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function z(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function V(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function K(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}D.security_event=((L={}).ModuleType=(u={},(l=Object.create(u))[u[0]="ModuleUnknown"]=0,l[u[1]="ModuleDocs"]=1,l[u[2]="ModuleSheets"]=2,l[u[3]="ModuleFiles"]=3,l[u[4]="ModuleFolders"]=4,l[u[5]="ModulePassport"]=5,l[u[6]="ModuleMindNote"]=6,l[u[7]="ModuleBitable"]=7,l[u[8]="ModuleSlide"]=8,l[u[9]="ModuleChat"]=9,l[u[10]="ModuleIMImageAndVideo"]=10,l[u[11]="ModuleVideo"]=11,l[u[12]="ModuleIMFile"]=12,l),L.ClientType=(I={},(x=Object.create(I))[I[0]="ClientUnknown"]=0,x[I[1]="ClientLarkPC"]=1,x[I[2]="ClientAndroid"]=2,x[I[3]="ClientIOS"]=3,x[I[4]="ClientWeb"]=4,x),L.FlagType=(S={},(w=Object.create(S))[S[0]="FlagNormal"]=0,w[S[1]="FlagTest"]=1,w[S[2]="FlagStress"]=2,w),L.OperationType=(O={},(k=Object.create(O))[O[0]="OperationTypeUnknown"]=0,k[O[1]="OperationCreate"]=1,k[O[2]="OperationRead"]=2,k[O[3]="OperationUpdate"]=3,k[O[4]="OperationDelete"]=4,k[O[5]="OperationComment"]=5,k[O[6]="OperationExport"]=6,k[O[7]="OperationDownload"]=7,k[O[8]="OperationPrint"]=8,k[O[9]="OperationUpdateCollaborator"]=9,k[O[10]="OperationShareTo3rdApp"]=10,k[O[11]="OperationUpdateShareSetting"]=11,k[O[12]="OperationFrontExport"]=12,k[O[13]="OperationOpenWith3rdApp"]=13,k[O[14]="OperationImport"]=14,k[O[15]="OperationLogin"]=15,k[O[16]="OperationJoin"]=16,k[O[17]="OperationQuit"]=17,k[O[18]="OperationSaveAs"]=18,k[O[19]="OperationCopyContent"]=19,k[O[20]="OperationForward"]=20,k),L.EntityType=(C={},(T=Object.create(C))[C[0]="EntityTypeUnknown"]=0,T[C[1]="EntityUserID"]=1,T[C[2]="EntityDepartmentID"]=2,T[C[3]="EntityTenantID"]=3,T[C[4]="EntityChatID"]=4,T[C[5]="EntityDocID"]=5,T[C[6]="EntitySheetID"]=6,T[C[7]="EntityFileID"]=7,T[C[8]="EntityFolderID"]=8,T[C[9]="EntityMindNoteID"]=9,T[C[10]="EntityBitableID"]=10,T[C[11]="EntitySlideID"]=11,T[C[12]="EntityBotID"]=12,T[C[13]="EntityVideoID"]=13,T[C[14]="EntityDriverSDKFileID"]=14,T[C[15]="EntityLink"]=15,T[C[16]="EntityChatter"]=16,T[C[17]="EntityImage"]=17,T[C[18]="EntityVideoIM"]=18,T[C[19]="EntityFileIM"]=19,T),L.PermissionSettingType=(E={},(_=Object.create(E))[E[0]="PermissionSettingTypeUnknown"]=0,_[E[1]="DisableLinkShare"]=1,_[E[2]="CanReadByLinkInTenant"]=2,_[E[3]="CanEditByLinkInTenant"]=3,_[E[4]="CanReadByLinkInInternet"]=4,_[E[5]="CanEditByLinkInInternet"]=5,_),L.PermissionActionType=(y={},(b=Object.create(y))[y[0]="PermissionActionTypeUnknown"]=0,b[y[1]="AddUser"]=1,b[y[2]="RemoveUser"]=2,b[y[3]="AddChat"]=3,b[y[4]="RemoveChat"]=4,b[y[5]="AddDepartment"]=5,b[y[6]="RemoveDepartment"]=6,b),L.CommentType=(g={},(v=Object.create(g))[g[0]="CommentTypeUnknown"]=0,v[g[1]="AddComment"]=1,v[g[2]="AddReply"]=2,v[g[3]="EditReply"]=3,v[g[4]="DeleteReply"]=4,v[g[5]="UpdateComment"]=5,v),L.AppDetail=(d={},(p=Object.create(d))[d[0]="AppDetailUnknown"]=0,p[d[1]="WeChat"]=1,p[d[2]="WeChatMoments"]=2,p[d[3]="QQ"]=3,p[d[4]="Weibo"]=4,p[d[5]="Others"]=5,p),L.ObjectDetail=(K.prototype.CloneSource="",K.prototype.TextDetail="",K.prototype.FileName="",K.prototype.ThirdPartyAppID="",K.prototype.PermissionSettingType=0,K.create=function(e){return new K(e)},K.encode=function(e,t){return t=t||R.create(),null!=e.CloneSource&&Object.hasOwnProperty.call(e,"CloneSource")&&t.uint32(10).string(e.CloneSource),null!=e.TextDetail&&Object.hasOwnProperty.call(e,"TextDetail")&&t.uint32(18).string(e.TextDetail),null!=e.FileName&&Object.hasOwnProperty.call(e,"FileName")&&t.uint32(26).string(e.FileName),null!=e.ThirdPartyAppID&&Object.hasOwnProperty.call(e,"ThirdPartyAppID")&&t.uint32(34).string(e.ThirdPartyAppID),null!=e.PermissionSettingType&&Object.hasOwnProperty.call(e,"PermissionSettingType")&&t.uint32(40).int32(e.PermissionSettingType),t},K.verify=function(e){if("object"!=r()(e)||null===e)return"object expected";if(null!=e.CloneSource&&e.hasOwnProperty("CloneSource")&&!N.isString(e.CloneSource))return"CloneSource: string expected";if(null!=e.TextDetail&&e.hasOwnProperty("TextDetail")&&!N.isString(e.TextDetail))return"TextDetail: string expected";if(null!=e.FileName&&e.hasOwnProperty("FileName")&&!N.isString(e.FileName))return"FileName: string expected";if(null!=e.ThirdPartyAppID&&e.hasOwnProperty("ThirdPartyAppID")&&!N.isString(e.ThirdPartyAppID))return"ThirdPartyAppID: string expected";if(null!=e.PermissionSettingType&&e.hasOwnProperty("PermissionSettingType"))switch(e.PermissionSettingType){default:return"PermissionSettingType: enum value expected";case 0:case 1:case 2:case 3:case 4:case 5:}return null},K),L.RecipientDetail=(V.prototype.PermissionActionType=0,V.create=function(e){return new V(e)},V.encode=function(e,t){return t=t||R.create(),null!=e.PermissionActionType&&Object.hasOwnProperty.call(e,"PermissionActionType")&&t.uint32(8).int32(e.PermissionActionType),t},V.verify=function(e){if("object"!=r()(e)||null===e)return"object expected";if(null!=e.PermissionActionType&&e.hasOwnProperty("PermissionActionType"))switch(e.PermissionActionType){default:return"PermissionActionType: enum value expected";case 0:case 1:case 2:case 3:case 4:case 5:case 6:}return null},V),L.OperatorDetail=(z.create=function(e){return new z(e)},z.encode=function(e,t){return t=t||R.create()},z.verify=function(e){return"object"!=r()(e)||null===e?"object expected":null},z),L.Extend=(H.prototype.CommentType=0,H.prototype.AppDetail=0,H.prototype.CreateGroup=N.Long?N.Long.fromBits(0,0,!1):0,H.prototype.DismissGroup=N.Long?N.Long.fromBits(0,0,!1):0,H.create=function(e){return new H(e)},H.encode=function(e,t){return t=t||R.create(),null!=e.CommentType&&Object.hasOwnProperty.call(e,"CommentType")&&t.uint32(8).int32(e.CommentType),null!=e.AppDetail&&Object.hasOwnProperty.call(e,"AppDetail")&&t.uint32(16).int32(e.AppDetail),null!=e.CreateGroup&&Object.hasOwnProperty.call(e,"CreateGroup")&&t.uint32(24).int64(e.CreateGroup),null!=e.DismissGroup&&Object.hasOwnProperty.call(e,"DismissGroup")&&t.uint32(32).int64(e.DismissGroup),t},H.verify=function(e){if("object"!=r()(e)||null===e)return"object expected";if(null!=e.CommentType&&e.hasOwnProperty("CommentType"))switch(e.CommentType){default:return"CommentType: enum value expected";case 0:case 1:case 2:case 3:case 4:case 5:}if(null!=e.AppDetail&&e.hasOwnProperty("AppDetail"))switch(e.AppDetail){default:return"AppDetail: enum value expected";case 0:case 1:case 2:case 3:case 4:case 5:}return null!=e.CreateGroup&&e.hasOwnProperty("CreateGroup")&&!(N.isInteger(e.CreateGroup)||e.CreateGroup&&N.isInteger(e.CreateGroup.low)&&N.isInteger(e.CreateGroup.high))?"CreateGroup: integer|Long expected":null!=e.DismissGroup&&e.hasOwnProperty("DismissGroup")&&!(N.isInteger(e.DismissGroup)||e.DismissGroup&&N.isInteger(e.DismissGroup.low)&&N.isInteger(e.DismissGroup.high))?"DismissGroup: integer|Long expected":null},H),L.Env=(U.prototype.Client=0,U.prototype.DID="",U.prototype.Location="",U.prototype.UA="",U.prototype.IP="",U.prototype.Flag=0,U.create=function(e){return new U(e)},U.encode=function(e,t){return t=t||R.create(),null!=e.Client&&Object.hasOwnProperty.call(e,"Client")&&t.uint32(8).int32(e.Client),null!=e.DID&&Object.hasOwnProperty.call(e,"DID")&&t.uint32(18).string(e.DID),null!=e.Location&&Object.hasOwnProperty.call(e,"Location")&&t.uint32(26).string(e.Location),null!=e.UA&&Object.hasOwnProperty.call(e,"UA")&&t.uint32(34).string(e.UA),null!=e.IP&&Object.hasOwnProperty.call(e,"IP")&&t.uint32(42).string(e.IP),null!=e.Flag&&Object.hasOwnProperty.call(e,"Flag")&&t.uint32(48).int32(e.Flag),t},U.verify=function(e){if("object"!=r()(e)||null===e)return"object expected";if(null!=e.Client&&e.hasOwnProperty("Client"))switch(e.Client){default:return"Client: enum value expected";case 0:case 1:case 2:case 3:case 4:}if(null!=e.DID&&e.hasOwnProperty("DID")&&!N.isString(e.DID))return"DID: string expected";if(null!=e.Location&&e.hasOwnProperty("Location")&&!N.isString(e.Location))return"Location: string expected";if(null!=e.UA&&e.hasOwnProperty("UA")&&!N.isString(e.UA))return"UA: string expected";if(null!=e.IP&&e.hasOwnProperty("IP")&&!N.isString(e.IP))return"IP: string expected";if(null!=e.Flag&&e.hasOwnProperty("Flag"))switch(e.Flag){default:return"Flag: enum value expected";case 0:case 1:case 2:}return null},U),L.OperatorEntity=(B.prototype.Type=0,B.prototype.Value="",B.prototype.Detail=null,B.create=function(e){return new B(e)},B.encode=function(e,t){return(t=t||R.create()).uint32(8).int32(e.Type),t.uint32(18).string(e.Value),null!=e.Detail&&Object.hasOwnProperty.call(e,"Detail")&&D.security_event.OperatorDetail.encode(e.Detail,t.uint32(26).fork()).ldelim(),t},B.verify=function(e){if("object"!=r()(e)||null===e)return"object expected";switch(e.Type){default:return"Type: enum value expected";case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:case 14:case 15:case 16:case 17:case 18:case 19:}if(!N.isString(e.Value))return"Value: string expected";if(null!=e.Detail&&e.hasOwnProperty("Detail")){var t=D.security_event.OperatorDetail.verify(e.Detail);if(t)return"Detail."+t}return null},B),L.RecipientEntity=(F.prototype.Type=0,F.prototype.Value="",F.prototype.Detail=null,F.create=function(e){return new F(e)},F.encode=function(e,t){return(t=t||R.create()).uint32(8).int32(e.Type),t.uint32(18).string(e.Value),null!=e.Detail&&Object.hasOwnProperty.call(e,"Detail")&&D.security_event.RecipientDetail.encode(e.Detail,t.uint32(26).fork()).ldelim(),t},F.verify=function(e){if("object"!=r()(e)||null===e)return"object expected";switch(e.Type){default:return"Type: enum value expected";case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:case 14:case 15:case 16:case 17:case 18:case 19:}if(!N.isString(e.Value))return"Value: string expected";if(null!=e.Detail&&e.hasOwnProperty("Detail")){var t=D.security_event.RecipientDetail.verify(e.Detail);if(t)return"Detail."+t}return null},F),L.ObjectEntity=(j.prototype.Type=0,j.prototype.Value="",j.prototype.Detail=null,j.create=function(e){return new j(e)},j.encode=function(e,t){return(t=t||R.create()).uint32(8).int32(e.Type),t.uint32(18).string(e.Value),null!=e.Detail&&Object.hasOwnProperty.call(e,"Detail")&&D.security_event.ObjectDetail.encode(e.Detail,t.uint32(26).fork()).ldelim(),t},j.verify=function(e){if("object"!=r()(e)||null===e)return"object expected";switch(e.Type){default:return"Type: enum value expected";case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:case 14:case 15:case 16:case 17:case 18:case 19:}if(!N.isString(e.Value))return"Value: string expected";if(null!=e.Detail&&e.hasOwnProperty("Detail")){var t=D.security_event.ObjectDetail.verify(e.Detail);if(t)return"Detail."+t}return null},j),L.Event=(P.prototype.Module=0,P.prototype.Operation=0,P.prototype.TimeStamp="",P.prototype.TenantID="",P.prototype.Operator=null,P.prototype.Recipients=N.emptyArray,P.prototype.Objects=N.emptyArray,P.prototype.Env=null,P.prototype.Extend=null,P.create=function(e){return new P(e)},P.encode=function(e,t){if((t=t||R.create()).uint32(8).int32(e.Module),t.uint32(16).int32(e.Operation),t.uint32(26).string(e.TimeStamp),null!=e.TenantID&&Object.hasOwnProperty.call(e,"TenantID")&&t.uint32(34).string(e.TenantID),D.security_event.OperatorEntity.encode(e.Operator,t.uint32(42).fork()).ldelim(),null!=e.Recipients&&e.Recipients.length)for(var n=0;n<e.Recipients.length;++n)D.security_event.RecipientEntity.encode(e.Recipients[n],t.uint32(50).fork()).ldelim();if(null!=e.Objects&&e.Objects.length)for(n=0;n<e.Objects.length;++n)D.security_event.ObjectEntity.encode(e.Objects[n],t.uint32(58).fork()).ldelim();return null!=e.Env&&Object.hasOwnProperty.call(e,"Env")&&D.security_event.Env.encode(e.Env,t.uint32(66).fork()).ldelim(),null!=e.Extend&&Object.hasOwnProperty.call(e,"Extend")&&D.security_event.Extend.encode(e.Extend,t.uint32(74).fork()).ldelim(),t},P.verify=function(e){if("object"!=r()(e)||null===e)return"object expected";switch(e.Module){default:return"Module: enum value expected";case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:}switch(e.Operation){default:return"Operation: enum value expected";case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:case 14:case 15:case 16:case 17:case 18:case 19:case 20:}if(!N.isString(e.TimeStamp))return"TimeStamp: string expected";if(null!=e.TenantID&&e.hasOwnProperty("TenantID")&&!N.isString(e.TenantID))return"TenantID: string expected";if(n=D.security_event.OperatorEntity.verify(e.Operator))return"Operator."+n;if(null!=e.Recipients&&e.hasOwnProperty("Recipients")){if(!Array.isArray(e.Recipients))return"Recipients: array expected";for(var t=0;t<e.Recipients.length;++t)if(n=D.security_event.RecipientEntity.verify(e.Recipients[t]))return"Recipients."+n}if(null!=e.Objects&&e.hasOwnProperty("Objects")){if(!Array.isArray(e.Objects))return"Objects: array expected";for(t=0;t<e.Objects.length;++t){var n;if(n=D.security_event.ObjectEntity.verify(e.Objects[t]))return"Objects."+n}}return null!=e.Env&&e.hasOwnProperty("Env")&&(n=D.security_event.Env.verify(e.Env))?"Env."+n:null!=e.Extend&&e.hasOwnProperty("Extend")&&(n=D.security_event.Extend.verify(e.Extend))?"Extend."+n:null},P),L.EventsRequest=(M.prototype.Events=N.emptyArray,M.create=function(e){return new M(e)},M.encode=function(e,t){if(t=t||R.create(),null!=e.Events&&e.Events.length)for(var n=0;n<e.Events.length;++n)D.security_event.Event.encode(e.Events[n],t.uint32(10).fork()).ldelim();return t},M.verify=function(e){if("object"!=r()(e)||null===e)return"object expected";if(null!=e.Events&&e.hasOwnProperty("Events")){if(!Array.isArray(e.Events))return"Events: array expected";for(var t=0;t<e.Events.length;++t){var n=D.security_event.Event.verify(e.Events[t]);if(n)return"Events."+n}}return null},M),L);var W,Y,q,Z,X,Q,J,$=D,ee=i.a.Reader,te=i.a.Writer,ne=i.a.util,re=i.a.roots.default||(i.a.roots.default={});function ie(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function oe(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function ae(e){if(this.operate_permission_data=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function se(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function ce(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function ue(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}re.authorization=((J={}).PermissionType=(W={},(Y=Object.create(W))[W[0]="PERMISSION_TYPE_UNKNOWN"]=0,Y[W[1]="FILE_UPLOAD"]=1,Y[W[2]="FILE_IMPORT"]=2,Y[W[3]="FILE_DOWNLOAD"]=3,Y[W[4]="FILE_EXPORT"]=4,Y[W[5]="FILE_PRINT"]=5,Y[W[6]="FILE_APP_OPEN"]=6,Y[W[7]="FILE_ACCESS_FOLDER"]=7,Y[W[8]="FILE_READ"]=8,Y[W[9]="FILE_EDIT"]=9,Y[W[10]="FILE_COMMENT"]=10,Y[W[11]="FILE_COPY"]=11,Y[W[12]="FILE_DELETE"]=12,Y[W[13]="FILE_SHARE"]=13,Y[W[14]="SEARCH"]=14,Y),J.PushPermissionEvent=(ue.create=function(e){return new ue(e)},ue.encode=function(e,t){return t=t||te.create()},ue.decode=function(e,t){e instanceof ee||(e=ee.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new re.authorization.PushPermissionEvent;e.pos<n;){var i=e.uint32();e.skipType(7&i)}return r},ue.fromObject=function(e){return e instanceof re.authorization.PushPermissionEvent?e:new re.authorization.PushPermissionEvent},ue.toObject=function(){return{}},ue.prototype.toJSON=function(){return this.constructor.toObject(this,i.a.util.toJSONOptions)},ue),J.ResultType=(X={},(Q=Object.create(X))[X[0]="RESULT_TYPE_UNKNOWN"]=0,Q[X[1]="Deny"]=1,Q[X[2]="Allow"]=2,Q[X[3]="Null"]=3,Q),J.EntityType=(q={},(Z=Object.create(q))[q[0]="ENTITY_TYPE_UNKNOWN"]=0,Z[q[1]="ANY"]=1,Z[q[2]="USER"]=2,Z[q[3]="IM_IMAGE"]=3,Z[q[4]="IM_VIDEO"]=4,Z[q[5]="IM_FILE"]=5,Z[q[6]="CCM_DOC"]=6,Z[q[7]="CCM_SHEET"]=7,Z[q[8]="CCM_BITABLE"]=8,Z[q[9]="CCM_MINDNOTE"]=9,Z[q[10]="CCM_FILE"]=10,Z[q[11]="CCM_SLIDE"]=11,Z),J.Entity=(ce.prototype.id="",ce.prototype.entity_type=0,ce.create=function(e){return new ce(e)},ce.encode=function(e,t){return(t=t||te.create()).uint32(10).string(e.id),t.uint32(16).int32(e.entity_type),t},ce.decode=function(e,t){e instanceof ee||(e=ee.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new re.authorization.Entity;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.id=e.string();break;case 2:r.entity_type=e.int32();break;default:e.skipType(7&i)}}if(!r.hasOwnProperty("id"))throw ne.ProtocolError("missing required 'id'",{instance:r});if(!r.hasOwnProperty("entity_type"))throw ne.ProtocolError("missing required 'entity_type'",{instance:r});return r},ce.fromObject=function(e){if(e instanceof re.authorization.Entity)return e;var t=new re.authorization.Entity;switch(null!=e.id&&(t.id=String(e.id)),e.entity_type){case"ENTITY_TYPE_UNKNOWN":case 0:t.entity_type=0;break;case"ANY":case 1:t.entity_type=1;break;case"USER":case 2:t.entity_type=2;break;case"IM_IMAGE":case 3:t.entity_type=3;break;case"IM_VIDEO":case 4:t.entity_type=4;break;case"IM_FILE":case 5:t.entity_type=5;break;case"CCM_DOC":case 6:t.entity_type=6;break;case"CCM_SHEET":case 7:t.entity_type=7;break;case"CCM_BITABLE":case 8:t.entity_type=8;break;case"CCM_MINDNOTE":case 9:t.entity_type=9;break;case"CCM_FILE":case 10:t.entity_type=10;break;case"CCM_SLIDE":case 11:t.entity_type=11}return t},ce.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.id="",n.entity_type=t.enums===String?"ENTITY_TYPE_UNKNOWN":0),null!=e.id&&e.hasOwnProperty("id")&&(n.id=e.id),null!=e.entity_type&&e.hasOwnProperty("entity_type")&&(n.entity_type=t.enums===String?re.authorization.EntityType[e.entity_type]:e.entity_type),n},ce.prototype.toJSON=function(){return this.constructor.toObject(this,i.a.util.toJSONOptions)},ce),J.OperatePermission=(se.prototype.perm_type=0,se.prototype.result=0,se.prototype.object=null,se.create=function(e){return new se(e)},se.encode=function(e,t){return(t=t||te.create()).uint32(8).int32(e.perm_type),t.uint32(16).int32(e.result),re.authorization.Entity.encode(e.object,t.uint32(26).fork()).ldelim(),t},se.decode=function(e,t){e instanceof ee||(e=ee.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new re.authorization.OperatePermission;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.perm_type=e.int32();break;case 2:r.result=e.int32();break;case 3:r.object=re.authorization.Entity.decode(e,e.uint32());break;default:e.skipType(7&i)}}if(!r.hasOwnProperty("perm_type"))throw ne.ProtocolError("missing required 'perm_type'",{instance:r});if(!r.hasOwnProperty("result"))throw ne.ProtocolError("missing required 'result'",{instance:r});if(!r.hasOwnProperty("object"))throw ne.ProtocolError("missing required 'object'",{instance:r});return r},se.fromObject=function(e){if(e instanceof re.authorization.OperatePermission)return e;var t=new re.authorization.OperatePermission;switch(e.perm_type){case"PERMISSION_TYPE_UNKNOWN":case 0:t.perm_type=0;break;case"FILE_UPLOAD":case 1:t.perm_type=1;break;case"FILE_IMPORT":case 2:t.perm_type=2;break;case"FILE_DOWNLOAD":case 3:t.perm_type=3;break;case"FILE_EXPORT":case 4:t.perm_type=4;break;case"FILE_PRINT":case 5:t.perm_type=5;break;case"FILE_APP_OPEN":case 6:t.perm_type=6;break;case"FILE_ACCESS_FOLDER":case 7:t.perm_type=7;break;case"FILE_READ":case 8:t.perm_type=8;break;case"FILE_EDIT":case 9:t.perm_type=9;break;case"FILE_COMMENT":case 10:t.perm_type=10;break;case"FILE_COPY":case 11:t.perm_type=11;break;case"FILE_DELETE":case 12:t.perm_type=12;break;case"FILE_SHARE":case 13:t.perm_type=13;break;case"SEARCH":case 14:t.perm_type=14}switch(e.result){case"RESULT_TYPE_UNKNOWN":case 0:t.result=0;break;case"Deny":case 1:t.result=1;break;case"Allow":case 2:t.result=2;break;case"Null":case 3:t.result=3}if(null!=e.object){if("object"!=r()(e.object))throw TypeError(".authorization.OperatePermission.object: object expected");t.object=re.authorization.Entity.fromObject(e.object)}return t},se.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.perm_type=t.enums===String?"PERMISSION_TYPE_UNKNOWN":0,n.result=t.enums===String?"RESULT_TYPE_UNKNOWN":0,n.object=null),null!=e.perm_type&&e.hasOwnProperty("perm_type")&&(n.perm_type=t.enums===String?re.authorization.PermissionType[e.perm_type]:e.perm_type),null!=e.result&&e.hasOwnProperty("result")&&(n.result=t.enums===String?re.authorization.ResultType[e.result]:e.result),null!=e.object&&e.hasOwnProperty("object")&&(n.object=re.authorization.Entity.toObject(e.object,t)),n},se.prototype.toJSON=function(){return this.constructor.toObject(this,i.a.util.toJSONOptions)},se),J.AllPermissionData=(ae.prototype.update_time=ne.Long?ne.Long.fromBits(0,0,!1):0,ae.prototype.expire_time=ne.Long?ne.Long.fromBits(0,0,!1):0,ae.prototype.operate_permission_data=ne.emptyArray,ae.create=function(e){return new ae(e)},ae.encode=function(e,t){if((t=t||te.create()).uint32(8).int64(e.update_time),t.uint32(16).int64(e.expire_time),null!=e.operate_permission_data&&e.operate_permission_data.length)for(var n=0;n<e.operate_permission_data.length;++n)re.authorization.OperatePermission.encode(e.operate_permission_data[n],t.uint32(26).fork()).ldelim();return t},ae.decode=function(e,t){e instanceof ee||(e=ee.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new re.authorization.AllPermissionData;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.update_time=e.int64();break;case 2:r.expire_time=e.int64();break;case 3:r.operate_permission_data&&r.operate_permission_data.length||(r.operate_permission_data=[]),r.operate_permission_data.push(re.authorization.OperatePermission.decode(e,e.uint32()));break;default:e.skipType(7&i)}}if(!r.hasOwnProperty("update_time"))throw ne.ProtocolError("missing required 'update_time'",{instance:r});if(!r.hasOwnProperty("expire_time"))throw ne.ProtocolError("missing required 'expire_time'",{instance:r});return r},ae.fromObject=function(e){if(e instanceof re.authorization.AllPermissionData)return e;var t=new re.authorization.AllPermissionData;if(null!=e.update_time&&(ne.Long?(t.update_time=ne.Long.fromValue(e.update_time)).unsigned=!1:"string"==typeof e.update_time?t.update_time=parseInt(e.update_time,10):"number"==typeof e.update_time?t.update_time=e.update_time:"object"==r()(e.update_time)&&(t.update_time=new ne.LongBits(e.update_time.low>>>0,e.update_time.high>>>0).toNumber())),null!=e.expire_time&&(ne.Long?(t.expire_time=ne.Long.fromValue(e.expire_time)).unsigned=!1:"string"==typeof e.expire_time?t.expire_time=parseInt(e.expire_time,10):"number"==typeof e.expire_time?t.expire_time=e.expire_time:"object"==r()(e.expire_time)&&(t.expire_time=new ne.LongBits(e.expire_time.low>>>0,e.expire_time.high>>>0).toNumber())),e.operate_permission_data){if(!Array.isArray(e.operate_permission_data))throw TypeError(".authorization.AllPermissionData.operate_permission_data: array expected");t.operate_permission_data=[];for(var n=0;n<e.operate_permission_data.length;++n){if("object"!=r()(e.operate_permission_data[n]))throw TypeError(".authorization.AllPermissionData.operate_permission_data: object expected");t.operate_permission_data[n]=re.authorization.OperatePermission.fromObject(e.operate_permission_data[n])}}return t},ae.toObject=function(e,t){var n,r={};if(((t=t||{}).arrays||t.defaults)&&(r.operate_permission_data=[]),t.defaults&&(ne.Long?(n=new ne.Long(0,0,!1),r.update_time=t.longs===String?n.toString():t.longs===Number?n.toNumber():n):r.update_time=t.longs===String?"0":0,ne.Long?(n=new ne.Long(0,0,!1),r.expire_time=t.longs===String?n.toString():t.longs===Number?n.toNumber():n):r.expire_time=t.longs===String?"0":0),null!=e.update_time&&e.hasOwnProperty("update_time")&&("number"==typeof e.update_time?r.update_time=t.longs===String?String(e.update_time):e.update_time:r.update_time=t.longs===String?ne.Long.prototype.toString.call(e.update_time):t.longs===Number?new ne.LongBits(e.update_time.low>>>0,e.update_time.high>>>0).toNumber():e.update_time),null!=e.expire_time&&e.hasOwnProperty("expire_time")&&("number"==typeof e.expire_time?r.expire_time=t.longs===String?String(e.expire_time):e.expire_time:r.expire_time=t.longs===String?ne.Long.prototype.toString.call(e.expire_time):t.longs===Number?new ne.LongBits(e.expire_time.low>>>0,e.expire_time.high>>>0).toNumber():e.expire_time),e.operate_permission_data&&e.operate_permission_data.length){r.operate_permission_data=[];for(var i=0;i<e.operate_permission_data.length;++i)r.operate_permission_data[i]=re.authorization.OperatePermission.toObject(e.operate_permission_data[i],t)}return r},ae.prototype.toJSON=function(){return this.constructor.toObject(this,i.a.util.toJSONOptions)},ae),J.PullPermissionRequest=(oe.prototype.app_id=ne.Long?ne.Long.fromBits(0,0,!1):0,oe.prototype.api_version="",oe.prototype.perm_version="",oe.create=function(e){return new oe(e)},oe.encode=function(e,t){return(t=t||te.create()).uint32(8).int64(e.app_id),t.uint32(18).string(e.api_version),t.uint32(26).string(e.perm_version),t},oe.decode=function(e,t){e instanceof ee||(e=ee.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new re.authorization.PullPermissionRequest;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.app_id=e.int64();break;case 2:r.api_version=e.string();break;case 3:r.perm_version=e.string();break;default:e.skipType(7&i)}}if(!r.hasOwnProperty("app_id"))throw ne.ProtocolError("missing required 'app_id'",{instance:r});if(!r.hasOwnProperty("api_version"))throw ne.ProtocolError("missing required 'api_version'",{instance:r});if(!r.hasOwnProperty("perm_version"))throw ne.ProtocolError("missing required 'perm_version'",{instance:r});return r},oe.fromObject=function(e){if(e instanceof re.authorization.PullPermissionRequest)return e;var t=new re.authorization.PullPermissionRequest;return null!=e.app_id&&(ne.Long?(t.app_id=ne.Long.fromValue(e.app_id)).unsigned=!1:"string"==typeof e.app_id?t.app_id=parseInt(e.app_id,10):"number"==typeof e.app_id?t.app_id=e.app_id:"object"==r()(e.app_id)&&(t.app_id=new ne.LongBits(e.app_id.low>>>0,e.app_id.high>>>0).toNumber())),null!=e.api_version&&(t.api_version=String(e.api_version)),null!=e.perm_version&&(t.perm_version=String(e.perm_version)),t},oe.toObject=function(e,t){var n,r={};return(t=t||{}).defaults&&(ne.Long?(n=new ne.Long(0,0,!1),r.app_id=t.longs===String?n.toString():t.longs===Number?n.toNumber():n):r.app_id=t.longs===String?"0":0,r.api_version="",r.perm_version=""),null!=e.app_id&&e.hasOwnProperty("app_id")&&("number"==typeof e.app_id?r.app_id=t.longs===String?String(e.app_id):e.app_id:r.app_id=t.longs===String?ne.Long.prototype.toString.call(e.app_id):t.longs===Number?new ne.LongBits(e.app_id.low>>>0,e.app_id.high>>>0).toNumber():e.app_id),null!=e.api_version&&e.hasOwnProperty("api_version")&&(r.api_version=e.api_version),null!=e.perm_version&&e.hasOwnProperty("perm_version")&&(r.perm_version=e.perm_version),r},oe.prototype.toJSON=function(){return this.constructor.toObject(this,i.a.util.toJSONOptions)},oe),J.PullPermissionResponse=(ie.prototype.permission_data=null,ie.prototype.clear_old=!1,ie.prototype.perm_version="",ie.create=function(e){return new ie(e)},ie.encode=function(e,t){return t=t||te.create(),re.authorization.AllPermissionData.encode(e.permission_data,t.uint32(10).fork()).ldelim(),t.uint32(16).bool(e.clear_old),t.uint32(26).string(e.perm_version),t},ie.decode=function(e,t){e instanceof ee||(e=ee.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new re.authorization.PullPermissionResponse;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.permission_data=re.authorization.AllPermissionData.decode(e,e.uint32());break;case 2:r.clear_old=e.bool();break;case 3:r.perm_version=e.string();break;default:e.skipType(7&i)}}if(!r.hasOwnProperty("permission_data"))throw ne.ProtocolError("missing required 'permission_data'",{instance:r});if(!r.hasOwnProperty("clear_old"))throw ne.ProtocolError("missing required 'clear_old'",{instance:r});if(!r.hasOwnProperty("perm_version"))throw ne.ProtocolError("missing required 'perm_version'",{instance:r});return r},ie.fromObject=function(e){if(e instanceof re.authorization.PullPermissionResponse)return e;var t=new re.authorization.PullPermissionResponse;if(null!=e.permission_data){if("object"!=r()(e.permission_data))throw TypeError(".authorization.PullPermissionResponse.permission_data: object expected");t.permission_data=re.authorization.AllPermissionData.fromObject(e.permission_data)}return null!=e.clear_old&&(t.clear_old=Boolean(e.clear_old)),null!=e.perm_version&&(t.perm_version=String(e.perm_version)),t},ie.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.permission_data=null,n.clear_old=!1,n.perm_version=""),null!=e.permission_data&&e.hasOwnProperty("permission_data")&&(n.permission_data=re.authorization.AllPermissionData.toObject(e.permission_data,t)),null!=e.clear_old&&e.hasOwnProperty("clear_old")&&(n.clear_old=e.clear_old),null!=e.perm_version&&e.hasOwnProperty("perm_version")&&(n.perm_version=e.perm_version),n},ie.prototype.toJSON=function(){return this.constructor.toObject(this,i.a.util.toJSONOptions)},ie),J);var le,de,pe,fe,he=re;(fe=le=le||{})[fe.Success=0]="Success",fe[fe.Error=1]="Error",(pe=de=de||{})[pe.Allow=0]="Allow",pe[pe.Deny=1]="Deny",pe[pe.Null=2]="Null";var ge,me=(Te.isOn=!1,Te.method=console.log,Te.updateIsOn=function(e){Te.isOn=Boolean(e),"[object Function]"===Object.prototype.toString.apply(e)&&(Te.method=e)},Te),ve=(Ce.prototype.useDatabase=function(t){t.onversionchange=function(e){t.close()}},Ce.prototype.open=function(){var i=this;return new Promise(function(t,n){var r;i.db?t(i.db):((r=i.database.open(i.databaseName,i.databaseVersion)).onerror=function(e){i.log("open db error, event=",e),n(e)},r.onsuccess=function(e){i.log("open db success"),i.db=r.result,i.useDatabase(i.db),t(i.db)},r.onupgradeneeded=function(e){i.log("create db success"),i.db=e.target.result,i.storeList.forEach(function(e){i.db.objectStoreNames.contains(e)||i.db.createObjectStore(e,{keyPath:"key"})}),i.useDatabase(i.db),t(i.db)},r.onblocked=function(){i.log("open db blocked")})})},Ce.prototype.add=function(r,i){var o=this,a=i.key;return new Promise(function(t,n){var e=o.db.transaction(r,"readwrite").objectStore(r).add(i);e.onsuccess=function(e){o.log("add data success, store=",r,"key=",a),t(a)},e.onerror=function(e){o.log("add data error, store=",r,"key=",a),n(e)}})},Ce.prototype.put=function(r,i){var o=this,a=i.key;return new Promise(function(t,n){var e=o.db.transaction(r,"readwrite").objectStore(r).put(i);e.onsuccess=function(e){o.log("put data success, store=",r,"key=",a),t(a)},e.onerror=function(e){o.log("put data error, store=",r,"key=",a),n(e)}})},Ce.prototype.read=function(i,o){var a=this;return new Promise(function(t,n){var r=a.db.transaction(i).objectStore(i).get(o);r.onsuccess=function(e){r.result?(a.log("read data success, store=",i,"key=",o),t(r.result)):(a.log("read data null, store=",i,"key=",o),n(e))},r.onerror=function(e){a.log("read data error, store=",i,"key=",o),n(e)}})},Ce.prototype.remove=function(r,i){var o=this;return new Promise(function(t,n){var e=o.db.transaction(r,"readwrite").objectStore(r).delete(i);e.onsuccess=function(e){o.log("remove data success, store=",r,"key=",i),t(i)},e.onerror=function(e){o.log("remove data error, store=",r,"key=",i),n(e)}})},Ce.prototype.readMulti=function(r,e){void 0===e&&(e=10);var i=this,o=e,a=[];return console.log("ppp"),new Promise(function(n,t){var e=i.db.transaction(r).objectStore(r).openCursor();e.onsuccess=function(e){var t=e.target.result;if(!t)return i.log("read multi data no more store=",r),void n(a);a.push("sss"),console.log(JSON.stringify(t.value)),t.continue(),--o<=0&&(i.log("read multi data reach count store=",r),n(a))},e.onerror=function(e){i.log("read multi data error store=",r),t(e)}})},Ce.prototype.get=function(i,o){var a=this;return new Promise(function(t,n){var r=a.db.transaction(i,"readwrite").objectStore(i).get(o);r.onsuccess=function(e){a.log("get data success, store=",i,"key=",o),t(r.result)},r.onerror=function(e){a.log("get data error, store=",i,"key=",o),n(e)}})},Ce.prototype.getAll=function(r){var i=this;return new Promise(function(t,n){var e=i.db.transaction(r).objectStore(r).getAll();e.onsuccess=function(e){i.log("get all data success store=",r),t(e.target.result)},e.onerror=function(e){i.log("get all data error store=",r),n(e)}})},Ce.prototype.count=function(r){var i=this;return new Promise(function(e,t){var n=i.db.transaction(r).objectStore(r).count();n.onsuccess=function(){e(n.result)},n.onerror=function(e){t(e)}})},Ce),ye="event_temp",be="event_fail",Ee="authority",_e=(Ae.prototype.add=function(i){return f(this,void 0,void 0,function(){var t,n,r;return h(this,function(e){switch(e.label){case 0:t=this.storeName,n="",e.label=1;case 1:return e.trys.push([1,5,,6]),[4,this.count()];case 2:return e.sent()<this.maxNum?[4,Ae.idb.add(t,i)]:[3,4];case 3:n=e.sent(),e.label=4;case 4:return[3,6];case 5:return r=e.sent(),this.log("add fail e=",r),[3,6];case 6:return[2,n]}})})},Ae.prototype.put=function(r){return f(this,void 0,void 0,function(){var t,n;return h(this,function(e){switch(e.label){case 0:t=this.storeName,e.label=1;case 1:return e.trys.push([1,7,,8]),[4,this.get(r.key)];case 2:return e.sent()?[3,4]:[4,this.add(r)];case 3:return e.sent(),[3,6];case 4:return[4,Ae.idb.put(t,r)];case 5:e.sent(),e.label=6;case 6:return[3,8];case 7:return n=e.sent(),this.log("put fail e=",n),[3,8];case 8:return[2,r.key]}})})},Ae.prototype.remove=function(r){return f(this,void 0,void 0,function(){var t,n;return h(this,function(e){switch(e.label){case 0:if(t=this.storeName,!r)return[2];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,Ae.idb.remove(t,r)];case 2:return e.sent(),[3,4];case 3:return n=e.sent(),this.log("remove fail e=",n),[3,4];case 4:return[2]}})})},Ae.prototype.count=function(){return f(this,void 0,void 0,function(){var t,n;return h(this,function(e){switch(e.label){case 0:t=this.storeName,n=0,e.label=1;case 1:return e.trys.push([1,3,,4]),[4,Ae.idb.count(t)];case 2:return n=e.sent(),[3,4];case 3:return e.sent(),[3,4];case 4:return[2,n]}})})},Ae.prototype.readMulti=function(r){return f(this,void 0,void 0,function(){var t,n;return h(this,function(e){switch(e.label){case 0:t=this.storeName,n=[],e.label=1;case 1:return e.trys.push([1,3,,4]),[4,Ae.idb.readMulti(t,r)];case 2:return n=e.sent(),[3,4];case 3:return e.sent(),[3,4];case 4:return[2,n]}})})},Ae.prototype.get=function(i){return f(this,void 0,void 0,function(){var t,n,r;return h(this,function(e){switch(e.label){case 0:if(t=this.storeName,!i)return[2];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,Ae.idb.get(t,i)];case 2:return n=e.sent(),[3,4];case 3:return r=e.sent(),this.log("get fail e=",r),[3,4];case 4:return[2,n]}})})},Ae.prototype.getAll=function(){return f(this,void 0,void 0,function(){var t,n;return h(this,function(e){switch(e.label){case 0:t=this.storeName,n=[],e.label=1;case 1:return e.trys.push([1,3,,4]),[4,Ae.idb.getAll(t)];case 2:return n=e.sent(),[3,4];case 3:return e.sent(),[3,4];case 4:return[2,n]}})})},Ae);function Ae(e){this.maxNum=500,this.log=new me("store").info,this.storeName=e}function Ce(e){var t=e.database,n=e.databaseName,r=e.databaseVersion,i=e.storeList;this.log=new me("idb").info,this.database=t||window.indexedDB,this.databaseName=n,this.databaseVersion=r||1,this.storeList=i||[]}function Te(e){var n=this;this.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];Te.isOn&&Te.method.apply(Te,c(["[lark-security-audit] ["+n.type+"]"],e))},this.type=e||""}_e.initIdb=function(t){return f(void 0,void 0,void 0,function(){return h(this,function(e){return ge||(_e.idb=new ve({database:t,databaseName:"security-audit",databaseVersion:2,storeList:[ye,be,Ee]}),ge=_e.idb.open()),[2,ge]})})};var Oe,ke,Se,we,Ie,xe=new _e(ye),Le=new _e(be),Re=new _e(Ee),Ne=i.a.Reader,De=i.a.Writer,Me=i.a.util,Pe=i.a.roots.default||(i.a.roots.default={});function je(e){if(this.version_payloads=[],this.pipe_entities=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function Fe(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function Be(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function Ue(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}Pe.improto=((Ie={}).Command=(Oe={},(ke=Object.create(Oe))[Oe[1]="ACK"]=1,ke[Oe[2]="CONNECT"]=2,ke[Oe[3]="DISCONNECT"]=3,ke[Oe[4]="PING"]=4,ke[Oe[1011741]="PULL_PERMISSION"]=1011741,ke),Ie.PayloadType=(Se={},(we=Object.create(Se))[Se[0]="TYPE_UNKNOWN"]=0,we[Se[1]="PB2"]=1,we[Se[2]="JSON"]=2,we),Ie.PipeEntity=(Ue.prototype.type="",Ue.prototype.id=Me.Long?Me.Long.fromBits(0,0,!1):0,Ue.create=function(e){return new Ue(e)},Ue.encode=function(e,t){return(t=t||De.create()).uint32(10).string(e.type),null!=e.id&&Object.hasOwnProperty.call(e,"id")&&t.uint32(24).int64(e.id),t},Ue.decode=function(e,t){e instanceof Ne||(e=Ne.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new Pe.improto.PipeEntity;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.type=e.string();break;case 3:r.id=e.int64();break;default:e.skipType(7&i)}}if(!r.hasOwnProperty("type"))throw Me.ProtocolError("missing required 'type'",{instance:r});return r},Ue.fromObject=function(e){if(e instanceof Pe.improto.PipeEntity)return e;var t=new Pe.improto.PipeEntity;return null!=e.type&&(t.type=String(e.type)),null!=e.id&&(Me.Long?(t.id=Me.Long.fromValue(e.id)).unsigned=!1:"string"==typeof e.id?t.id=parseInt(e.id,10):"number"==typeof e.id?t.id=e.id:"object"==r()(e.id)&&(t.id=new Me.LongBits(e.id.low>>>0,e.id.high>>>0).toNumber())),t},Ue.toObject=function(e,t){var n,r={};return(t=t||{}).defaults&&(r.type="",Me.Long?(n=new Me.Long(0,0,!1),r.id=t.longs===String?n.toString():t.longs===Number?n.toNumber():n):r.id=t.longs===String?"0":0),null!=e.type&&e.hasOwnProperty("type")&&(r.type=e.type),null!=e.id&&e.hasOwnProperty("id")&&("number"==typeof e.id?r.id=t.longs===String?String(e.id):e.id:r.id=t.longs===String?Me.Long.prototype.toString.call(e.id):t.longs===Number?new Me.LongBits(e.id.low>>>0,e.id.high>>>0).toNumber():e.id),r},Ue.prototype.toJSON=function(){return this.constructor.toObject(this,i.a.util.toJSONOptions)},Ue),Ie.VersionRange=(Be.prototype.start="",Be.prototype.end="",Be.create=function(e){return new Be(e)},Be.encode=function(e,t){return(t=t||De.create()).uint32(10).string(e.start),t.uint32(18).string(e.end),t},Be.decode=function(e,t){e instanceof Ne||(e=Ne.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new Pe.improto.VersionRange;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.start=e.string();break;case 2:r.end=e.string();break;default:e.skipType(7&i)}}if(!r.hasOwnProperty("start"))throw Me.ProtocolError("missing required 'start'",{instance:r});if(!r.hasOwnProperty("end"))throw Me.ProtocolError("missing required 'end'",{instance:r});return r},Be.fromObject=function(e){if(e instanceof Pe.improto.VersionRange)return e;var t=new Pe.improto.VersionRange;return null!=e.start&&(t.start=String(e.start)),null!=e.end&&(t.end=String(e.end)),t},Be.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.start="",n.end=""),null!=e.start&&e.hasOwnProperty("start")&&(n.start=e.start),null!=e.end&&e.hasOwnProperty("end")&&(n.end=e.end),n},Be.prototype.toJSON=function(){return this.constructor.toObject(this,i.a.util.toJSONOptions)},Be),Ie.Packet=(je.prototype.sid="",je.prototype.payload_type=1,je.prototype.cmd=1,je.prototype.status=200,je.prototype.payload=Me.newBuffer([]),je.prototype.cid="",je.prototype.pipe_entity=null,je.prototype.version_payloads=Me.emptyArray,je.prototype.pipe_entities=Me.emptyArray,je.prototype.wait_retry_interval=0,je.prototype.command=0,je.create=function(e){return new je(e)},je.encode=function(e,t){if(t=t||De.create(),null!=e.sid&&Object.hasOwnProperty.call(e,"sid")&&t.uint32(10).string(e.sid),t.uint32(16).int32(e.payload_type),t.uint32(24).int32(e.cmd),null!=e.status&&Object.hasOwnProperty.call(e,"status")&&t.uint32(32).uint32(e.status),null!=e.payload&&Object.hasOwnProperty.call(e,"payload")&&t.uint32(42).bytes(e.payload),null!=e.cid&&Object.hasOwnProperty.call(e,"cid")&&t.uint32(50).string(e.cid),null!=e.pipe_entity&&Object.hasOwnProperty.call(e,"pipe_entity")&&Pe.improto.PipeEntity.encode(e.pipe_entity,t.uint32(58).fork()).ldelim(),null!=e.version_payloads&&e.version_payloads.length)for(var n=0;n<e.version_payloads.length;++n)Pe.improto.Packet.VersionPayload.encode(e.version_payloads[n],t.uint32(66).fork()).ldelim();if(null!=e.pipe_entities&&e.pipe_entities.length)for(n=0;n<e.pipe_entities.length;++n)Pe.improto.PipeEntity.encode(e.pipe_entities[n],t.uint32(74).fork()).ldelim();return null!=e.wait_retry_interval&&Object.hasOwnProperty.call(e,"wait_retry_interval")&&t.uint32(80).uint32(e.wait_retry_interval),null!=e.command&&Object.hasOwnProperty.call(e,"command")&&t.uint32(88).int32(e.command),t},je.decode=function(e,t){e instanceof Ne||(e=Ne.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new Pe.improto.Packet;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.sid=e.string();break;case 2:r.payload_type=e.int32();break;case 3:r.cmd=e.int32();break;case 4:r.status=e.uint32();break;case 5:r.payload=e.bytes();break;case 6:r.cid=e.string();break;case 7:r.pipe_entity=Pe.improto.PipeEntity.decode(e,e.uint32());break;case 8:r.version_payloads&&r.version_payloads.length||(r.version_payloads=[]),r.version_payloads.push(Pe.improto.Packet.VersionPayload.decode(e,e.uint32()));break;case 9:r.pipe_entities&&r.pipe_entities.length||(r.pipe_entities=[]),r.pipe_entities.push(Pe.improto.PipeEntity.decode(e,e.uint32()));break;case 10:r.wait_retry_interval=e.uint32();break;case 11:r.command=e.int32();break;default:e.skipType(7&i)}}if(!r.hasOwnProperty("payload_type"))throw Me.ProtocolError("missing required 'payload_type'",{instance:r});if(!r.hasOwnProperty("cmd"))throw Me.ProtocolError("missing required 'cmd'",{instance:r});return r},je.fromObject=function(e){if(e instanceof Pe.improto.Packet)return e;var t=new Pe.improto.Packet;switch(null!=e.sid&&(t.sid=String(e.sid)),e.payload_type){case"TYPE_UNKNOWN":case 0:t.payload_type=0;break;case"PB2":case 1:t.payload_type=1;break;case"JSON":case 2:t.payload_type=2}switch(e.cmd){case"ACK":case 1:t.cmd=1;break;case"CONNECT":case 2:t.cmd=2;break;case"DISCONNECT":case 3:t.cmd=3;break;case"PING":case 4:t.cmd=4;break;case"PULL_PERMISSION":case 1011741:t.cmd=1011741}if(null!=e.status&&(t.status=e.status>>>0),null!=e.payload&&("string"==typeof e.payload?Me.base64.decode(e.payload,t.payload=Me.newBuffer(Me.base64.length(e.payload)),0):e.payload.length&&(t.payload=e.payload)),null!=e.cid&&(t.cid=String(e.cid)),null!=e.pipe_entity){if("object"!=r()(e.pipe_entity))throw TypeError(".improto.Packet.pipe_entity: object expected");t.pipe_entity=Pe.improto.PipeEntity.fromObject(e.pipe_entity)}if(e.version_payloads){if(!Array.isArray(e.version_payloads))throw TypeError(".improto.Packet.version_payloads: array expected");t.version_payloads=[];for(var n=0;n<e.version_payloads.length;++n){if("object"!=r()(e.version_payloads[n]))throw TypeError(".improto.Packet.version_payloads: object expected");t.version_payloads[n]=Pe.improto.Packet.VersionPayload.fromObject(e.version_payloads[n])}}if(e.pipe_entities){if(!Array.isArray(e.pipe_entities))throw TypeError(".improto.Packet.pipe_entities: array expected");for(t.pipe_entities=[],n=0;n<e.pipe_entities.length;++n){if("object"!=r()(e.pipe_entities[n]))throw TypeError(".improto.Packet.pipe_entities: object expected");t.pipe_entities[n]=Pe.improto.PipeEntity.fromObject(e.pipe_entities[n])}}return null!=e.wait_retry_interval&&(t.wait_retry_interval=e.wait_retry_interval>>>0),null!=e.command&&(t.command=0|e.command),t},je.toObject=function(e,t){var n={};if(((t=t||{}).arrays||t.defaults)&&(n.version_payloads=[],n.pipe_entities=[]),t.defaults&&(n.sid="",n.payload_type=t.enums===String?"PB2":1,n.cmd=t.enums===String?"ACK":1,n.status=200,t.bytes===String?n.payload="":(n.payload=[],t.bytes!==Array&&(n.payload=Me.newBuffer(n.payload))),n.cid="",n.pipe_entity=null,n.wait_retry_interval=0,n.command=0),null!=e.sid&&e.hasOwnProperty("sid")&&(n.sid=e.sid),null!=e.payload_type&&e.hasOwnProperty("payload_type")&&(n.payload_type=t.enums===String?Pe.improto.PayloadType[e.payload_type]:e.payload_type),null!=e.cmd&&e.hasOwnProperty("cmd")&&(n.cmd=t.enums===String?Pe.improto.Command[e.cmd]:e.cmd),null!=e.status&&e.hasOwnProperty("status")&&(n.status=e.status),null!=e.payload&&e.hasOwnProperty("payload")&&(n.payload=t.bytes===String?Me.base64.encode(e.payload,0,e.payload.length):t.bytes===Array?Array.prototype.slice.call(e.payload):e.payload),null!=e.cid&&e.hasOwnProperty("cid")&&(n.cid=e.cid),null!=e.pipe_entity&&e.hasOwnProperty("pipe_entity")&&(n.pipe_entity=Pe.improto.PipeEntity.toObject(e.pipe_entity,t)),e.version_payloads&&e.version_payloads.length){n.version_payloads=[];for(var r=0;r<e.version_payloads.length;++r)n.version_payloads[r]=Pe.improto.Packet.VersionPayload.toObject(e.version_payloads[r],t)}if(e.pipe_entities&&e.pipe_entities.length)for(n.pipe_entities=[],r=0;r<e.pipe_entities.length;++r)n.pipe_entities[r]=Pe.improto.PipeEntity.toObject(e.pipe_entities[r],t);return null!=e.wait_retry_interval&&e.hasOwnProperty("wait_retry_interval")&&(n.wait_retry_interval=e.wait_retry_interval),null!=e.command&&e.hasOwnProperty("command")&&(n.command=e.command),n},je.prototype.toJSON=function(){return this.constructor.toObject(this,i.a.util.toJSONOptions)},je.VersionPayload=(Fe.prototype.version_range=null,Fe.prototype.payload=Me.newBuffer([]),Fe.create=function(e){return new Fe(e)},Fe.encode=function(e,t){return t=t||De.create(),Pe.improto.VersionRange.encode(e.version_range,t.uint32(10).fork()).ldelim(),t.uint32(18).bytes(e.payload),t},Fe.decode=function(e,t){e instanceof Ne||(e=Ne.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new Pe.improto.Packet.VersionPayload;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.version_range=Pe.improto.VersionRange.decode(e,e.uint32());break;case 2:r.payload=e.bytes();break;default:e.skipType(7&i)}}if(!r.hasOwnProperty("version_range"))throw Me.ProtocolError("missing required 'version_range'",{instance:r});if(!r.hasOwnProperty("payload"))throw Me.ProtocolError("missing required 'payload'",{instance:r});return r},Fe.fromObject=function(e){if(e instanceof Pe.improto.Packet.VersionPayload)return e;var t=new Pe.improto.Packet.VersionPayload;if(null!=e.version_range){if("object"!=r()(e.version_range))throw TypeError(".improto.Packet.VersionPayload.version_range: object expected");t.version_range=Pe.improto.VersionRange.fromObject(e.version_range)}return null!=e.payload&&("string"==typeof e.payload?Me.base64.decode(e.payload,t.payload=Me.newBuffer(Me.base64.length(e.payload)),0):e.payload.length&&(t.payload=e.payload)),t},Fe.toObject=function(e,t){var n={};return(t=t||{}).defaults&&(n.version_range=null,t.bytes===String?n.payload="":(n.payload=[],t.bytes!==Array&&(n.payload=Me.newBuffer(n.payload)))),null!=e.version_range&&e.hasOwnProperty("version_range")&&(n.version_range=Pe.improto.VersionRange.toObject(e.version_range,t)),null!=e.payload&&e.hasOwnProperty("payload")&&(n.payload=t.bytes===String?Me.base64.encode(e.payload,0,e.payload.length):t.bytes===Array?Array.prototype.slice.call(e.payload):e.payload),n},Fe.prototype.toJSON=function(){return this.constructor.toObject(this,i.a.util.toJSONOptions)},Fe),je),Ie);var He=Pe;function ze(){for(var e,t="",n=0;n<32;n++)e=16*Math.random()|0,8!=n&&12!=n&&16!=n&&20!=n||(t+="-"),t+=(12==n?4:16==n?3&e|8:e).toString(16);return t}function A(e,r){return e.reduce(function(e,t){var n=t[r];return e[n]||(e[n]=[]),e[n].push(t),e},{})}var Ve=(We.prototype.updateOrigin=function(e){this.origin=e},We.prototype.updateRequestId=function(e){this.requestId=e},We.prototype.updateSessionKey=function(e){this.sessionKey=e},We.prototype.uploadEvent=function(n){return f(this,void 0,void 0,function(){var t;return h(this,function(e){switch(e.label){case 0:return t={method:"post",data:new Blob([n],{type:"buffer"}),headers:{"X-Request-Id":ze()}},this.requestId&&(t.headers["X-Request-Id"]=this.requestId),this.sessionKey&&(t.headers["Suite-Session-Key"]=this.sessionKey),[4,this.request(this.origin+"/suite/admin/security/events/",t)];case 1:return[2,e.sent().data]}})})},We.prototype.gateway=function(e){var u=e.payload,l=e.cmd;return f(this,void 0,void 0,function(){var t,n,r,i,o,a,s,c;return h(this,function(e){switch(e.label){case 0:return t=ze(),n={cmd:l,payload_type:He.improto.PayloadType.PB2,payload:u,cid:t},r=He.improto.Packet.create(n),i=He.improto.Packet.encode(r).finish(),o={method:"post",data:new Blob([i],{type:"buffer"}),headers:{"X-Command":l,"Content-Type":"application/x-protobuf","X-Request-Id":t,"X-Source":"web"},responseType:"arraybuffer"},a=this.origin||function(){var e="";try{e="https://internal-api-lark-api."+location.hostname.split(".").slice(-2).join(".")}catch(e){}return e}(),[4,this.request(a+"/im/gateway/",o)];case 1:return s=e.sent(),c=He.improto.Packet.decode(new Uint8Array(s.data)),[2,He.improto.Packet.toObject(c)]}})})},We),Ke=$.security_event.EventsRequest,Ge=new Ve;function We(){this.origin="",this.request=a.a.create({headers:{"Content-Type":"application/octet-stream"},withCredentials:!0,timeout:3e4})}function Ye(i){return f(this,void 0,void 0,function(){var t,n,r;return h(this,function(e){switch(e.label){case 0:return t={Events:i},n=Ke.create(t),r=Ke.encode(n).finish(),[4,Ge.uploadEvent(r)];case 1:return[2,e.sent()]}})})}function qe(a){return f(this,void 0,void 0,function(){var t,n,r,i,o;return h(this,function(e){switch(e.label){case 0:return a.api_version="1-0",t=he.authorization.PullPermissionRequest.create(a),n=he.authorization.PullPermissionRequest.encode(t).finish(),r=He.improto.Command.PULL_PERMISSION,[4,Ge.gateway({cmd:r,payload:n})];case 1:return i=e.sent(),o=he.authorization.PullPermissionResponse.decode(i.payload),[2,he.authorization.PullPermissionResponse.toObject(o)]}})})}var Ze=(Qe.prototype.start=function(){this.isOn||(this.isOn=!0,this.log("start"),this.flushLoop())},Qe.prototype.stop=function(){return f(this,void 0,void 0,function(){return h(this,function(e){return this.log("stop"),this.isOn=!1,this.retryTimes=0,this.t&&(clearTimeout(this.t),this.t=null),[2]})})},Qe.prototype.flushLoop=function(){return f(this,void 0,void 0,function(){var t,n=this;return h(this,function(e){switch(e.label){case 0:return this.log("flushloop start, retrytimes=",this.retryTimes+1),[4,this.flush()];case 1:return e.sent()<=0?this.stop():(this.retryTimes+=1,this.retryTimes>=this.retryMaxTimes?this.stop():(t=this.retryTimes<=1?this.basicInterval:this.basicInterval*(2<<this.retryTimes-2),this.log("flushloop next retry wait=",t,"ms"),this.t=setTimeout(function(){n.flushLoop()},t))),[2]}})})},Qe.prototype.flush=function(){return f(this,void 0,void 0,function(){var t,n,r,i,o=this;return h(this,function(e){switch(e.label){case 0:return[4,Le.getAll()];case 1:t=e.sent(),this.log("flush start, failevents num=",null==t?void 0:t.length),e.label=2;case 2:if(!t||!t.length)return[3,8];if(!(n=t.splice(0,this.batchNum)).length)return[3,8];e.label=3;case 3:return e.trys.push([3,6,,7]),[4,Ye(n.map(function(e){return e.data}))];case 4:return e.sent(),[4,Promise.all(n.map(function(t){return f(o,void 0,void 0,function(){return h(this,function(e){switch(e.label){case 0:return[4,Le.remove(t.key)];case 1:return e.sent(),[2]}})})}))];case 5:return e.sent(),[3,7];case 6:return r=e.sent(),this.log("flush batch upload error e=",r),[3,7];case 7:return[3,2];case 8:return[4,Le.count()];case 9:return i=e.sent(),this.log("flush end, failevents num=",i),[2,i]}})})},new Qe),Xe="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{};function Qe(){this.basicInterval=6e4,this.batchNum=50,this.isOn=!1,this.retryTimes=0,this.retryMaxTimes=7,this.log=new me("task").info}function Je(e){var t={exports:{}};return e(t,t.exports),t.exports}var $e=Je(function(e,t){var n;e.exports=n=n||function(l,n){var e;if("undefined"!=typeof window&&window.crypto&&(e=window.crypto),!e&&"undefined"!=typeof window&&window.msCrypto&&(e=window.msCrypto),!e&&void 0!==Xe&&Xe.crypto&&(e=Xe.crypto),!e)try{e=m.a}catch(l){}var r=function(){if(e){if("function"==typeof e.getRandomValues)try{return e.getRandomValues(new Uint32Array(1))[0]}catch(e){}if("function"==typeof e.randomBytes)try{return e.randomBytes(4).readInt32LE()}catch(e){}}throw new Error("Native crypto module could not be used to get secure random number.")},i=Object.create||function(e){var t;return g.prototype=e,t=new g,g.prototype=null,t},t={},o=t.lib={},a=o.Base={extend:function(e){var t=i(this);return e&&t.mixIn(e),t.hasOwnProperty("init")&&this.init!==t.init||(t.init=function(){t.$super.init.apply(this,arguments)}),(t.init.prototype=t).$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},d=o.WordArray=a.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=t!=n?t:4*e.length},toString:function(e){return(e||c).stringify(this)},concat:function(e){var t=this.words,n=e.words,r=this.sigBytes,i=e.sigBytes;if(this.clamp(),r%4)for(var o=0;o<i;o++){var a=n[o>>>2]>>>24-o%4*8&255;t[r+o>>>2]|=a<<24-(r+o)%4*8}else for(o=0;o<i;o+=4)t[r+o>>>2]=n[o>>>2];return this.sigBytes+=i,this},clamp:function(){var e=this.words,t=this.sigBytes;e[t>>>2]&=4294967295<<32-t%4*8,e.length=l.ceil(t/4)},clone:function(){var e=a.clone.call(this);return e.words=this.words.slice(0),e},random:function(e){for(var t=[],n=0;n<e;n+=4)t.push(r());return new d.init(t,e)}}),s=t.enc={},c=s.Hex={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;i<n;i++){var o=t[i>>>2]>>>24-i%4*8&255;r.push((o>>>4).toString(16)),r.push((15&o).toString(16))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n[r>>>3]|=parseInt(e.substr(r,2),16)<<24-r%8*4;return new d.init(n,t/2)}},u=s.Latin1={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;i<n;i++){var o=t[i>>>2]>>>24-i%4*8&255;r.push(String.fromCharCode(o))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r++)n[r>>>2]|=(255&e.charCodeAt(r))<<24-r%4*8;return new d.init(n,t)}},p=s.Utf8={stringify:function(e){try{return decodeURIComponent(escape(u.stringify(e)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(e){return u.parse(unescape(encodeURIComponent(e)))}},f=o.BufferedBlockAlgorithm=a.extend({reset:function(){this._data=new d.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=p.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(e){var t,n=this._data,r=n.words,i=n.sigBytes,o=this.blockSize,a=i/(4*o),s=(a=e?l.ceil(a):l.max((0|a)-this._minBufferSize,0))*o,c=l.min(4*s,i);if(s){for(var u=0;u<s;u+=o)this._doProcessBlock(r,u);t=r.splice(0,s),n.sigBytes-=c}return new d.init(t,c)},clone:function(){var e=a.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),h=(o.Hasher=f.extend({cfg:a.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){f.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(n){return function(e,t){return new n.init(t).finalize(e)}},_createHmacHelper:function(n){return function(e,t){return new h.HMAC.init(n,t).finalize(e)}}}),t.algo={});function g(){}return t}(Math)}),et=Je(function(e,t){var a;e.exports=(a=$e,function(l){var e=a,t=e.lib,n=t.WordArray,r=t.Hasher,i=e.algo,S=[];!function(){for(var e=0;e<64;e++)S[e]=4294967296*l.abs(l.sin(e+1))|0}();var o=i.MD5=r.extend({_doReset:function(){this._hash=new n.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,t){for(var n=0;n<16;n++){var r=t+n,i=e[r];e[r]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8)}var o=this._hash.words,a=e[t+0],s=e[t+1],c=e[t+2],u=e[t+3],l=e[t+4],d=e[t+5],p=e[t+6],f=e[t+7],h=e[t+8],g=e[t+9],m=e[t+10],v=e[t+11],y=e[t+12],b=e[t+13],E=e[t+14],_=e[t+15],C=w(C=o[0],k=o[1],O=o[2],T=o[3],a,7,S[0]),T=w(T,C,k,O,s,12,S[1]),O=w(O,T,C,k,c,17,S[2]),k=w(k,O,T,C,u,22,S[3]);C=w(C,k,O,T,l,7,S[4]),T=w(T,C,k,O,d,12,S[5]),O=w(O,T,C,k,p,17,S[6]),k=w(k,O,T,C,f,22,S[7]),C=w(C,k,O,T,h,7,S[8]),T=w(T,C,k,O,g,12,S[9]),O=w(O,T,C,k,m,17,S[10]),k=w(k,O,T,C,v,22,S[11]),C=w(C,k,O,T,y,7,S[12]),T=w(T,C,k,O,b,12,S[13]),O=w(O,T,C,k,E,17,S[14]),C=I(C,k=w(k,O,T,C,_,22,S[15]),O,T,s,5,S[16]),T=I(T,C,k,O,p,9,S[17]),O=I(O,T,C,k,v,14,S[18]),k=I(k,O,T,C,a,20,S[19]),C=I(C,k,O,T,d,5,S[20]),T=I(T,C,k,O,m,9,S[21]),O=I(O,T,C,k,_,14,S[22]),k=I(k,O,T,C,l,20,S[23]),C=I(C,k,O,T,g,5,S[24]),T=I(T,C,k,O,E,9,S[25]),O=I(O,T,C,k,u,14,S[26]),k=I(k,O,T,C,h,20,S[27]),C=I(C,k,O,T,b,5,S[28]),T=I(T,C,k,O,c,9,S[29]),O=I(O,T,C,k,f,14,S[30]),C=x(C,k=I(k,O,T,C,y,20,S[31]),O,T,d,4,S[32]),T=x(T,C,k,O,h,11,S[33]),O=x(O,T,C,k,v,16,S[34]),k=x(k,O,T,C,E,23,S[35]),C=x(C,k,O,T,s,4,S[36]),T=x(T,C,k,O,l,11,S[37]),O=x(O,T,C,k,f,16,S[38]),k=x(k,O,T,C,m,23,S[39]),C=x(C,k,O,T,b,4,S[40]),T=x(T,C,k,O,a,11,S[41]),O=x(O,T,C,k,u,16,S[42]),k=x(k,O,T,C,p,23,S[43]),C=x(C,k,O,T,g,4,S[44]),T=x(T,C,k,O,y,11,S[45]),O=x(O,T,C,k,_,16,S[46]),C=L(C,k=x(k,O,T,C,c,23,S[47]),O,T,a,6,S[48]),T=L(T,C,k,O,f,10,S[49]),O=L(O,T,C,k,E,15,S[50]),k=L(k,O,T,C,d,21,S[51]),C=L(C,k,O,T,y,6,S[52]),T=L(T,C,k,O,u,10,S[53]),O=L(O,T,C,k,m,15,S[54]),k=L(k,O,T,C,s,21,S[55]),C=L(C,k,O,T,h,6,S[56]),T=L(T,C,k,O,_,10,S[57]),O=L(O,T,C,k,p,15,S[58]),k=L(k,O,T,C,b,21,S[59]),C=L(C,k,O,T,l,6,S[60]),T=L(T,C,k,O,v,10,S[61]),O=L(O,T,C,k,c,15,S[62]),k=L(k,O,T,C,g,21,S[63]),o[0]=o[0]+C|0,o[1]=o[1]+k|0,o[2]=o[2]+O|0,o[3]=o[3]+T|0},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,r=8*e.sigBytes;t[r>>>5]|=128<<24-r%32;var i=l.floor(n/4294967296),o=n;t[15+(r+64>>>9<<4)]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8),t[14+(r+64>>>9<<4)]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),e.sigBytes=4*(t.length+1),this._process();for(var a=this._hash,s=a.words,c=0;c<4;c++){var u=s[c];s[c]=16711935&(u<<8|u>>>24)|4278255360&(u<<24|u>>>8)}return a},clone:function(){var e=r.clone.call(this);return e._hash=this._hash.clone(),e}});function w(e,t,n,r,i,o,a){var s=e+(t&n|~t&r)+i+a;return(s<<o|s>>>32-o)+t}function I(e,t,n,r,i,o,a){var s=e+(t&r|n&~r)+i+a;return(s<<o|s>>>32-o)+t}function x(e,t,n,r,i,o,a){var s=e+(t^n^r)+i+a;return(s<<o|s>>>32-o)+t}function L(e,t,n,r,i,o,a){var s=e+(n^(t|~r))+i+a;return(s<<o|s>>>32-o)+t}e.MD5=r._createHelper(o),e.HmacMD5=r._createHmacHelper(o)}(Math),a.MD5)}),tt=(Je(function(e,t){var n,s;function c(e,t,n){for(var r,i=[],o=0,a=0;a<t;a++)a%4&&(r=n[e.charCodeAt(a-1)]<<a%4*2|n[e.charCodeAt(a)]>>>6-a%4*2,i[o>>>2]|=r<<24-o%4*8,o++);return s.create(i,o)}e.exports=(s=(n=$e).lib.WordArray,n.enc.Base64={stringify:function(e){var t=e.words,n=e.sigBytes,r=this._map;e.clamp();for(var i=[],o=0;o<n;o+=3)for(var a=(t[o>>>2]>>>24-o%4*8&255)<<16|(t[o+1>>>2]>>>24-(o+1)%4*8&255)<<8|t[o+2>>>2]>>>24-(o+2)%4*8&255,s=0;s<4&&o+.75*s<n;s++)i.push(r.charAt(a>>>6*(3-s)&63));var c=r.charAt(64);if(c)for(;i.length%4;)i.push(c);return i.join("")},parse:function(e){var t=e.length,n=this._map,r=this._reverseMap;if(!r){r=this._reverseMap=[];for(var i=0;i<n.length;i++)r[n.charCodeAt(i)]=i}var o,a=n.charAt(64);return!a||-1!==(o=e.indexOf(a))&&(t=o),c(e,t,r)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},n.enc.Base64)}),Je(function(e,t){var n,r,i,o,a,d,s,c;e.exports=(r=(n=c=$e).lib,i=r.WordArray,o=r.Hasher,a=n.algo,d=[],s=a.SHA1=o.extend({_doReset:function(){this._hash=new i.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var n,r=this._hash.words,i=r[0],o=r[1],a=r[2],s=r[3],c=r[4],u=0;u<80;u++){u<16?d[u]=0|e[t+u]:(n=d[u-3]^d[u-8]^d[u-14]^d[u-16],d[u]=n<<1|n>>>31);var l=(i<<5|i>>>27)+c+d[u];l+=u<20?1518500249+(o&a|~o&s):u<40?1859775393+(o^a^s):u<60?(o&a|o&s|a&s)-1894007588:(o^a^s)-899497514,c=s,s=a,a=o<<30|o>>>2,o=i,i=l}r[0]=r[0]+i|0,r[1]=r[1]+o|0,r[2]=r[2]+a|0,r[3]=r[3]+s|0,r[4]=r[4]+c|0},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,r=8*e.sigBytes;return t[r>>>5]|=128<<24-r%32,t[14+(r+64>>>9<<4)]=Math.floor(n/4294967296),t[15+(r+64>>>9<<4)]=n,e.sigBytes=4*t.length,this._process(),this._hash},clone:function(){var e=o.clone.call(this);return e._hash=this._hash.clone(),e}}),n.SHA1=o._createHelper(s),n.HmacSHA1=o._createHmacHelper(s),c.SHA1)}),Je(function(e,t){var n,u;e.exports=(n=$e.lib.Base,u=$e.enc.Utf8,void($e.algo.HMAC=n.extend({init:function(e,t){e=this._hasher=new e.init,"string"==typeof t&&(t=u.parse(t));var n=e.blockSize,r=4*n;t.sigBytes>r&&(t=e.finalize(t)),t.clamp();for(var i=this._oKey=t.clone(),o=this._iKey=t.clone(),a=i.words,s=o.words,c=0;c<n;c++)a[c]^=1549556828,s[c]^=909522486;i.sigBytes=o.sigBytes=r,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher,n=t.finalize(e);return t.reset(),t.finalize(this._oKey.clone().concat(n))}})))}),Je(function(e,t){var n,r,i,l,o,a,s,c;e.exports=(i=(r=(n=c=$e).lib).Base,l=r.WordArray,a=(o=n.algo).MD5,s=o.EvpKDF=i.extend({cfg:i.extend({keySize:4,hasher:a,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var n,r=this.cfg,i=r.hasher.create(),o=l.create(),a=o.words,s=r.keySize,c=r.iterations;a.length<s;){n&&i.update(n),n=i.update(e).finalize(t),i.reset();for(var u=1;u<c;u++)n=i.finalize(n),i.reset();o.concat(n)}return o.sigBytes=4*s,o}}),n.EvpKDF=function(e,t,n){return s.create(n).compute(e,t)},c.EvpKDF)}),Je(function(e,t){var a,n,r,i,c,o,s,u,l,d,p,f,h,g,m,v,y,b,E,_;function C(e,t,n){var r,i=this._iv;i?(r=i,this._iv=a):r=this._prevBlock;for(var o=0;o<n;o++)e[t+o]^=r[o]}function T(e){return"string"==typeof e?E:y}e.exports=void($e.lib.Cipher||(i=(r=(n=$e).lib).Base,c=r.WordArray,o=r.BufferedBlockAlgorithm,(s=n.enc).Utf8,u=s.Base64,l=n.algo.EvpKDF,d=r.Cipher=o.extend({cfg:i.extend(),createEncryptor:function(e,t){return this.create(this._ENC_XFORM_MODE,e,t)},createDecryptor:function(e,t){return this.create(this._DEC_XFORM_MODE,e,t)},init:function(e,t,n){this.cfg=this.cfg.extend(n),this._xformMode=e,this._key=t,this.reset()},reset:function(){o.reset.call(this),this._doReset()},process:function(e){return this._append(e),this._process()},finalize:function(e){return e&&this._append(e),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(r){return{encrypt:function(e,t,n){return T(t).encrypt(r,e,t,n)},decrypt:function(e,t,n){return T(t).decrypt(r,e,t,n)}}}}),r.StreamCipher=d.extend({_doFinalize:function(){return this._process(!0)},blockSize:1}),p=n.mode={},f=r.BlockCipherMode=i.extend({createEncryptor:function(e,t){return this.Encryptor.create(e,t)},createDecryptor:function(e,t){return this.Decryptor.create(e,t)},init:function(e,t){this._cipher=e,this._iv=t}}),h=p.CBC=((_=f.extend()).Encryptor=_.extend({processBlock:function(e,t){var n=this._cipher,r=n.blockSize;C.call(this,e,t,r),n.encryptBlock(e,t),this._prevBlock=e.slice(t,t+r)}}),_.Decryptor=_.extend({processBlock:function(e,t){var n=this._cipher,r=n.blockSize,i=e.slice(t,t+r);n.decryptBlock(e,t),C.call(this,e,t,r),this._prevBlock=i}}),_),g=(n.pad={}).Pkcs7={pad:function(e,t){for(var n=4*t,r=n-e.sigBytes%n,i=r<<24|r<<16|r<<8|r,o=[],a=0;a<r;a+=4)o.push(i);var s=c.create(o,r);e.concat(s)},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},r.BlockCipher=d.extend({cfg:d.cfg.extend({mode:h,padding:g}),reset:function(){var e;d.reset.call(this);var t=this.cfg,n=t.iv,r=t.mode;this._xformMode==this._ENC_XFORM_MODE?e=r.createEncryptor:(e=r.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==e?this._mode.init(this,n&&n.words):(this._mode=e.call(r,this,n&&n.words),this._mode.__creator=e)},_doProcessBlock:function(e,t){this._mode.processBlock(e,t)},_doFinalize:function(){var e,t=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(t.pad(this._data,this.blockSize),e=this._process(!0)):(e=this._process(!0),t.unpad(e)),e},blockSize:4}),m=r.CipherParams=i.extend({init:function(e){this.mixIn(e)},toString:function(e){return(e||this.formatter).stringify(this)}}),v=(n.format={}).OpenSSL={stringify:function(e){var t=e.ciphertext,n=e.salt;return(n?c.create([1398893684,1701076831]).concat(n).concat(t):t).toString(u)},parse:function(e){var t,n=u.parse(e),r=n.words;return 1398893684==r[0]&&1701076831==r[1]&&(t=c.create(r.slice(2,4)),r.splice(0,4),n.sigBytes-=16),m.create({ciphertext:n,salt:t})}},y=r.SerializableCipher=i.extend({cfg:i.extend({format:v}),encrypt:function(e,t,n,r){r=this.cfg.extend(r);var i=e.createEncryptor(n,r),o=i.finalize(t),a=i.cfg;return m.create({ciphertext:o,key:n,iv:a.iv,algorithm:e,mode:a.mode,padding:a.padding,blockSize:e.blockSize,formatter:r.format})},decrypt:function(e,t,n,r){return r=this.cfg.extend(r),t=this._parse(t,r.format),e.createDecryptor(n,r).finalize(t.ciphertext)},_parse:function(e,t){return"string"==typeof e?t.parse(e,this):e}}),b=(n.kdf={}).OpenSSL={execute:function(e,t,n,r){r=r||c.random(8);var i=l.create({keySize:t+n}).compute(e,r),o=c.create(i.words.slice(t),4*n);return i.sigBytes=4*t,m.create({key:i,iv:o,salt:r})}},E=r.PasswordBasedCipher=y.extend({cfg:y.cfg.extend({kdf:b}),encrypt:function(e,t,n,r){var i=(r=this.cfg.extend(r)).kdf.execute(n,e.keySize,e.ivSize);r.iv=i.iv;var o=y.encrypt.call(this,e,t,i.key,r);return o.mixIn(i),o},decrypt:function(e,t,n,r){r=this.cfg.extend(r),t=this._parse(t,r.format);var i=r.kdf.execute(n,e.keySize,e.ivSize,t.salt);return r.iv=i.iv,y.decrypt.call(this,e,t,i.key,r)}})))}),Je(function(e,t){var i;e.exports=(i=$e,function(){var e=i,t=e.lib.BlockCipher,n=e.algo,u=[],l=[],d=[],p=[],f=[],h=[],g=[],m=[],v=[],y=[];!function(){for(var e=[],t=0;t<256;t++)e[t]=t<128?t<<1:t<<1^283;for(var n=0,r=0,t=0;t<256;t++){var i=(i=r^r<<1^r<<2^r<<3^r<<4)>>>8^255&i^99;u[n]=i;var o=e[l[i]=n],a=e[o],s=e[a],c=257*e[i]^16843008*i;d[n]=c<<24|c>>>8,p[n]=c<<16|c>>>16,f[n]=c<<8|c>>>24,h[n]=c,c=16843009*s^65537*a^257*o^16843008*n,g[i]=c<<24|c>>>8,m[i]=c<<16|c>>>16,v[i]=c<<8|c>>>24,y[i]=c,n?(n=o^e[e[e[s^o]]],r^=e[e[r]]):n=r=1}}();var b=[0,1,2,4,8,16,32,64,128,27,54],r=n.AES=t.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var e=this._keyPriorReset=this._key,t=e.words,n=e.sigBytes/4,r=4*((this._nRounds=n+6)+1),i=this._keySchedule=[],o=0;o<r;o++)o<n?i[o]=t[o]:(c=i[o-1],o%n?6<n&&o%n==4&&(c=u[c>>>24]<<24|u[c>>>16&255]<<16|u[c>>>8&255]<<8|u[255&c]):(c=u[(c=c<<8|c>>>24)>>>24]<<24|u[c>>>16&255]<<16|u[c>>>8&255]<<8|u[255&c],c^=b[o/n|0]<<24),i[o]=i[o-n]^c);for(var a=this._invKeySchedule=[],s=0;s<r;s++){var o=r-s,c=s%4?i[o]:i[o-4];a[s]=s<4||o<=4?c:g[u[c>>>24]]^m[u[c>>>16&255]]^v[u[c>>>8&255]]^y[u[255&c]]}}},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._keySchedule,d,p,f,h,u)},decryptBlock:function(e,t){var n=e[t+1];e[t+1]=e[t+3],e[t+3]=n,this._doCryptBlock(e,t,this._invKeySchedule,g,m,v,y,l),n=e[t+1],e[t+1]=e[t+3],e[t+3]=n},_doCryptBlock:function(e,t,n,r,i,o,a,s){for(var c=this._nRounds,u=e[t]^n[0],l=e[t+1]^n[1],d=e[t+2]^n[2],p=e[t+3]^n[3],f=4,h=1;h<c;h++)var g=r[u>>>24]^i[l>>>16&255]^o[d>>>8&255]^a[255&p]^n[f++],m=r[l>>>24]^i[d>>>16&255]^o[p>>>8&255]^a[255&u]^n[f++],v=r[d>>>24]^i[p>>>16&255]^o[u>>>8&255]^a[255&l]^n[f++],y=r[p>>>24]^i[u>>>16&255]^o[l>>>8&255]^a[255&d]^n[f++],u=g,l=m,d=v,p=y;g=(s[u>>>24]<<24|s[l>>>16&255]<<16|s[d>>>8&255]<<8|s[255&p])^n[f++],m=(s[l>>>24]<<24|s[d>>>16&255]<<16|s[p>>>8&255]<<8|s[255&u])^n[f++],v=(s[d>>>24]<<24|s[p>>>16&255]<<16|s[u>>>8&255]<<8|s[255&l])^n[f++],y=(s[p>>>24]<<24|s[u>>>16&255]<<16|s[l>>>8&255]<<8|s[255&d])^n[f++],e[t]=g,e[t+1]=m,e[t+2]=v,e[t+3]=y},keySize:8});e.AES=t._createHelper(r)}(),i.AES)})),nt=Je(function(e,t){e.exports=$e.enc.Utf8});function G(e){return et(e).toString()}function rt(e,t){try{var n=tt.decrypt(e,t).toString(nt);return JSON.parse(n)}catch(e){return null}}function it(r,i,o){return f(this,void 0,void 0,function(){var t,n;return h(this,function(e){switch(e.label){case 0:return t="updatetime_"+r,[4,Re.get(t)];case 1:return!(n=e.sent())||Date.now()-n.data>=i?(o(),[4,Re.put({data:Date.now(),key:t})]):[3,3];case 2:e.sent(),e.label=3;case 3:return setTimeout(function(){it(r,i,o)},i),[2]}})})}var ot=$.security_event.Event,at=(ut.prototype.init=function(){return f(this,void 0,void 0,function(){var t=this;return h(this,function(e){switch(e.label){case 0:return e.trys.push([0,4,,5]),[4,_e.initIdb()];case 1:return e.sent(),Ze.start(),this.appId&&this.userId&&!this.authorityOff?[4,this.updateAuthorityInfo()]:[3,3];case 2:e.sent(),it(G(this.appId+"_"+this.userId),9e5,function(){t.updateAuthorityInfo()}),e.label=3;case 3:return[3,5];case 4:return e.sent(),this.log("init error"),[3,5];case 5:return[2]}})})},ut.prototype.initDone=function(){return f(this,void 0,void 0,function(){return h(this,function(e){switch(e.label){case 0:return this.initP?[4,this.initP]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})},ut.prototype.updateConfig=function(e){e&&(e.hasOwnProperty("origin")&&Ge.updateOrigin(e.origin),e.hasOwnProperty("requestId")&&Ge.updateRequestId(e.requestId),e.hasOwnProperty("sessionKey")&&Ge.updateSessionKey(e.sessionKey),e.hasOwnProperty("log")&&me.updateIsOn(e.log),e.hasOwnProperty("userId")&&(this.userId=e.userId),e.hasOwnProperty("appId")&&(this.appId=e.appId),e.hasOwnProperty("authorityOff")&&(this.authorityOff=e.authorityOff))},ut.prototype.updateSharedParams=function(e){Object.assign(this.sharedParams,e)},ut.prototype.auditEvent=function(s,c){var u;return void 0===c&&(c=!1),f(this,void 0,void 0,function(){var t,n,r,i,o,a;return h(this,function(e){switch(e.label){case 0:return this.initP?[4,this.initP]:[3,2];case 1:e.sent(),e.label=2;case 2:if(t=Object.assign({TimeStamp:""+Date.now()},this.sharedParams,s),n=ot.verify(t))return[2,Promise.reject({code:le.Error,message:n,error:new Error(n)})];if(r=ze(),c)return[3,6];this.log("store event in queue, key=",r),e.label=3;case 3:return e.trys.push([3,5,,6]),[4,Le.add({data:t,key:r})];case 4:return e.sent(),Ze.start(),this.log("store event in queue success, key=",r),[2,{code:le.Success,message:"wait in queue"}];case 5:return i=e.sent(),this.log("store event in queue error, key=",r,"e=",i),[2,Promise.reject({code:le.Error,message:(null==i?void 0:i.message)||"store event error",error:i})];case 6:return this.log("upload event start, key=",r),[4,xe.add({data:t,key:r})];case 7:e.sent(),e.label=8;case 8:return e.trys.push([8,10,,11]),[4,Ye([t])];case 9:return o=e.sent(),xe.remove(r),null!==(u=null==o?void 0:o.data)&&void 0!==u&&u.failNum?(this.log("upload event partly success, key=",r),[2,Promise.reject({code:le.Error,data:o.data,message:o.message})]):(this.log("upload event all success, key=",r),[2,{code:le.Success,data:null==o?void 0:o.data,message:null==o?void 0:o.message}]);case 10:return a=e.sent(),this.log("upload event error, key=",r,"e=",a),Le.add({data:t,key:r}),xe.remove(r),Ze.start(),[2,Promise.reject({code:le.Error,message:(null==a?void 0:a.message)||"server error",error:a})];case 11:return[2]}})})},ut.prototype.updateAuthorityInfo=function(){var d,p;return f(this,void 0,void 0,function(){var t,n,r,i,o,a,s,c,u,l;return h(this,function(e){switch(e.label){case 0:if(this.authorityOff)return this.log("update authority info, authority is off"),[2];if(!this.appId||!this.userId)return this.log("update authority info, no appId or userId"),[2];t=G(this.appId+"_"+this.userId),this.log("update authority info, hashKey=",t),e.label=1;case 1:return e.trys.push([1,5,,6]),n="",r=void 0,[4,Re.get(t)];case 2:return(i=e.sent())&&(o=rt(i.data,this.userId))&&(n=o.perm_version,r=o),this.cacheAuthorityInfo=r,a={app_id:this.appId},n&&(a.perm_version=n),[4,qe(a)];case 3:return(s=e.sent())&&s.permission_data&&s.permission_data.operate_permission_data?(s.clear_old?r=s:(c=function(e,t,n){void 0===e&&(e=[]),void 0===t&&(t=[]),void 0===n&&(n="");var r=A(e,n),i=A(t,n),o=Object.assign({},r,i);return Object.values(o).reduce(function(e,t){return e.concat(t)},[])}(null===(d=null==r?void 0:r.permission_data)||void 0===d?void 0:d.operate_permission_data,null===(p=null==s?void 0:s.permission_data)||void 0===p?void 0:p.operate_permission_data,"perm_type"),(r=s).permission_data.operate_permission_data=c),this.cacheAuthorityInfo=r,u=function(e,t){try{return tt.encrypt(JSON.stringify(e),t).toString()}catch(e){return""}}(r,this.userId),[4,Re.put({data:u,key:t})]):(this.log("update authority info, data is empty"),[2]);case 4:return e.sent(),this.log("update authority info success"),[2,s];case 5:return l=e.sent(),this.log("update authority info error, e=",l),[3,6];case 6:return[2]}})})},ut.prototype.preCheckAuthority=function(e){var t=e.perm_type;return this.authorityOff?(this.log("check authority, authority is off"),{code:de.Null,message:"authority is off"}):(this.log("check authority, params=",e),t?this.appId&&this.userId?void 0:(this.log("check authority, no appId or userId"),{code:de.Null,message:"no appId or userId"}):(this.log("check authority, no permType"),{code:de.Null,message:"no permType"}))},ut.prototype.postCheckAuthority=function(e,t){var n,r=e.perm_type,i=e.object,o=t.permission_data.operate_permission_data,a=void 0===o?[]:o;if(this.log("check authority, try to find permData"),i&&(n=a.find(function(e){var t,n;return e.perm_type===r&&i.entity_type===(null===(t=e.object)||void 0===t?void 0:t.entity_type)&&i.id===(null===(n=e.object)||void 0===n?void 0:n.id)})),!(n=n||a.find(function(e){return e.perm_type===r&&e.object.entity_type===he.authorization.EntityType.ANY})))return this.log("check authority, no permData"),{code:de.Null,message:"no permData"};switch(this.log("check authority, find permData=",n),n.result){case he.authorization.ResultType.Allow:return this.log("check authority, allow"),{code:de.Allow,message:"allow"};case he.authorization.ResultType.Deny:return this.log("check authority, deny"),{code:de.Deny,message:"deny"};default:return this.log("check authority, null"),{code:de.Null,message:"null"}}},ut.prototype.checkAuthority=function(a){return f(this,void 0,void 0,function(){var t,n,r,i,o;return h(this,function(e){switch(e.label){case 0:return(t=this.preCheckAuthority(a))?[2,t]:this.initP?[4,this.initP]:[3,2];case 1:e.sent(),e.label=2;case 2:return n=G(this.appId+"_"+this.userId),[4,Re.get(n)];case 3:return(r=e.sent())&&r.data?(i=rt(r.data,this.userId))&&i.permission_data?(o=i.permission_data.expire_time,Math.floor(Date.now()/1e3)>o?[4,Re.remove(n)]:[3,5]):(this.log("check authority, decrypt error"),[2,{code:de.Null,message:"decrypt error"}]):(this.log("check authority, no authorityInfo"),[2,{code:de.Null,message:"no authorityInfo"}]);case 4:return e.sent(),this.log("check authority, time expired"),[2,{code:de.Null,message:"time expired"}];case 5:return[2,this.postCheckAuthority(a,i)]}})})},ut.prototype.checkAuthoritySync=function(e){var t=this.preCheckAuthority(e);if(t)return t;var n=this.cacheAuthorityInfo;if(!n||!n.permission_data)return this.log("check authority,  no cache authorityInfo"),{code:de.Null,message:"no cache authorityInfo"};var r=n.permission_data.expire_time;return Math.floor(Date.now()/1e3)>r?(this.log("check authority, time expired"),this.cacheAuthorityInfo=null,{code:de.Null,message:"time expired"}):this.postCheckAuthority(e,n)},ut),st=he.authorization,ct=$.security_event;function ut(e){this.sharedParams={Module:$.security_event.ModuleType.ModuleUnknown},this.log=new me("main").info,this.authorityOff=!1,this.updateConfig(e),this.initP=this.init()}}).call(this,dt("yLpj"))},LrQZ:function(e,t,n){"use strict";n.d(t,"a",function(){return O}),n.d(t,"b",function(){return k}),n.d(t,"c",function(){return S}),n.d(t,"d",function(){return w});var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var l=function(){return(l=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function o(e,t,n){return void 0===n&&(n=""),t.split(".").reduce(function(e,t){return e&&e[t]||n},e)}var a={jsHeapSizeLimit:0,totalJSHeapSize:0,usedJSHeapSize:0};function d(){var e=o(window,"performance.memory");return e?{jsHeapSizeLimit:e.jsHeapSizeLimit,totalJSHeapSize:e.totalJSHeapSize,usedJSHeapSize:e.usedJSHeapSize}:a}var s,c,u=100,p=50,f=(v.prototype.getAnrTime=function(){var e=performance.now()-this.lastTime-u;return p<e&&!this.isPaused?this.anrTime+e:this.anrTime},v.prototype.init=function(){this.hasInit||(this.hasInit=!0,this.start(),document.addEventListener("visibilitychange",this.handleVisibilityChange))},v.prototype.destroy=function(){this.hasInit&&(this.pause(),document.removeEventListener("visibilitychange",this.handleVisibilityChange),this.hasInit=!1)},v.prototype.start=function(){this.isPaused&&(this.isPaused=!1,this.lastTime=performance.now(),this.timeoutId=setTimeout(this.anrCalculator,u))},v.prototype.pause=function(){!this.isPaused&&this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=null,this.isPaused=!0)},v),h=(c=null,function(){return null==c&&(c=new f),c}),g=(i(m,s=Error),m);function m(e){void 0===e&&(e="");var t=s.call(this,e)||this;return t.name="QuickJSSDKError",t}function v(){var n=this;this.hasInit=!1,this.isPaused=!0,this.anrTime=0,this.lastTime=0,this.anrCalculator=function(){var e=performance.now(),t=e-n.lastTime-u;p<t&&(n.anrTime+=t),n.lastTime=e,n.timeoutId=setTimeout(n.anrCalculator,u)},this.handleVisibilityChange=function(){var e=document.visibilityState;"hidden"===e?n.pause():"visible"===e&&n.start()}}function y(e){return parseFloat((e/1024).toFixed())}var b=(T.prototype.updateConfig=function(e){this.config=l(l({},this.config),e)},T.prototype.eventBegin=function(e,t){void 0===t&&(t={});var n,r=performance.now(),i=d(),o=this.anrRecorder.getAnrTime();this.eventMap.has(e)?(n=this.eventMap.get(e),this.eventMap.set(e,l(l(l(l({},n),{begin:r,anrBegin:o}),i),{eventParams:t}))):this.eventMap.set(e,l(l({begin:r,anrBegin:o},i),{eventParams:t}))},T.prototype.eventEnd=function(e,t){var n,r=Math.round;if(void 0===t&&(t={}),!this.eventMap.has(e))return this.recordError("event "+e+" doesn't exsit"),this.eventMap.delete(e);var i=d(),o=this.eventMap.get(e),a=this.anrRecorder.getAnrTime()-o.anrBegin,s=performance.now()-o.begin,c=y(i.totalJSHeapSize-o.totalJSHeapSize),u=y(i.usedJSHeapSize-o.usedJSHeapSize);this.recordEvent(e,l(l(((n={duration:r(s)}).ANR_time=r(a),n.totalJSHeapSizeDelta=c,n.usedJSHeapSizeDelta=u,n),o.eventParams),t)),this.eventMap.delete(e)},T.prototype.pageVisible=function(e,t){var n=Math.floor;void 0===t&&(t={});var r=performance.now();this.anrRecorder.init(),this.recordEvent(e,l({ttv:n(r)},t)),3e5<r?this.recordError("ttv: long time error ("+r+")"):2e4<r&&this.recordError("ttv: long long time error ("+r+")")},T.prototype.recordEvent=function(e,t){var n=this.config.eventRecordHandler,r=t.duration,i=t.ttv;return r&&0<r||i&&0<i?void("function"==typeof n&&n({eventName:e,data:t})):this.recordError("Invalid event end: "+e)},T.prototype.recordError=function(e){var t=this.config.errorHandler;"function"==typeof t&&t(new g(e))},T),E=null,_=!1,C=window.performance&&window.performance.memory;function T(e){this.eventMap=new Map,this.config={},this.anrRecorder=h(),this.config=e}function O(e,t){!C||E&&E.eventBegin(e,t)}function k(e,t){!C||E&&E.eventEnd(e,t)}function S(e,t){!C||_||(_=!0,E&&E.pageVisible(e,t))}function w(e){null===E?E=new b(e):E.updateConfig(e)}},LrxS:function(e,t,n){},LsHQ:function(e,t,n){var r=n("EA7m"),c=n("mv/X");function i(s){return r(function(e,t){var n=-1,r=t.length,i=1<r?t[r-1]:void 0,o=2<r?t[2]:void 0,i=3<s.length&&"function"==typeof i?(r--,i):void 0;for(o&&c(t[0],t[1],o)&&(i=r<3?void 0:i,r=1),e=Object(e);++n<r;){var a=t[n];a&&s(e,a,n,i)}return e})}e.exports=i},M55E:function(t,b,E){var _;(function(){function r(e){"use strict";var t={omitExtraWLInCodeBlocks:{defaultValue:!1,describe:"Omit the default extra whiteline added to code blocks",type:"boolean"},noHeaderId:{defaultValue:!1,describe:"Turn on/off generated header id",type:"boolean"},prefixHeaderId:{defaultValue:!1,describe:"Add a prefix to the generated header ids. Passing a string will prefix that string to the header id. Setting to true will add a generic 'section-' prefix",type:"string"},rawPrefixHeaderId:{defaultValue:!1,describe:'Setting this option to true will prevent showdown from modifying the prefix. This might result in malformed IDs (if, for instance, the " char is used in the prefix)',type:"boolean"},ghCompatibleHeaderId:{defaultValue:!1,describe:"Generate header ids compatible with github style (spaces are replaced with dashes, a bunch of non alphanumeric chars are removed)",type:"boolean"},rawHeaderId:{defaultValue:!1,describe:"Remove only spaces, ' and \" from generated header ids (including prefixes), replacing them with dashes (-). WARNING: This might result in malformed ids",type:"boolean"},headerLevelStart:{defaultValue:!1,describe:"The header blocks level start",type:"integer"},parseImgDimensions:{defaultValue:!1,describe:"Turn on/off image dimension parsing",type:"boolean"},simplifiedAutoLink:{defaultValue:!1,describe:"Turn on/off GFM autolink style",type:"boolean"},excludeTrailingPunctuationFromURLs:{defaultValue:!1,describe:"Excludes trailing punctuation from links generated with autoLinking",type:"boolean"},literalMidWordUnderscores:{defaultValue:!1,describe:"Parse midword underscores as literal underscores",type:"boolean"},literalMidWordAsterisks:{defaultValue:!1,describe:"Parse midword asterisks as literal asterisks",type:"boolean"},strikethrough:{defaultValue:!1,describe:"Turn on/off strikethrough support",type:"boolean"},tables:{defaultValue:!1,describe:"Turn on/off tables support",type:"boolean"},tablesHeaderId:{defaultValue:!1,describe:"Add an id to table headers",type:"boolean"},ghCodeBlocks:{defaultValue:!0,describe:"Turn on/off GFM fenced code blocks support",type:"boolean"},tasklists:{defaultValue:!1,describe:"Turn on/off GFM tasklist support",type:"boolean"},smoothLivePreview:{defaultValue:!1,describe:"Prevents weird effects in live previews due to incomplete input",type:"boolean"},smartIndentationFix:{defaultValue:!1,description:"Tries to smartly fix indentation in es6 strings",type:"boolean"},disableForced4SpacesIndentedSublists:{defaultValue:!1,description:"Disables the requirement of indenting nested sublists by 4 spaces",type:"boolean"},simpleLineBreaks:{defaultValue:!1,description:"Parses simple line breaks as <br> (GFM Style)",type:"boolean"},requireSpaceBeforeHeadingText:{defaultValue:!1,description:"Makes adding a space between `#` and the header text mandatory (GFM Style)",type:"boolean"},ghMentions:{defaultValue:!1,description:"Enables github @mentions",type:"boolean"},ghMentionsLink:{defaultValue:"https://github.com/{u}",description:"Changes the link generated by @mentions. Only applies if ghMentions option is enabled.",type:"string"},encodeEmails:{defaultValue:!0,description:"Encode e-mail addresses through the use of Character Entities, transforming ASCII e-mail addresses into its equivalent decimal entities",type:"boolean"},openLinksInNewWindow:{defaultValue:!1,description:"Open all links in new windows",type:"boolean"},backslashEscapesHTMLTags:{defaultValue:!1,description:"Support for HTML Tag escaping. ex: <div>foo</div>",type:"boolean"},emoji:{defaultValue:!1,description:"Enable emoji support. Ex: `this is a :smile: emoji`",type:"boolean"},underline:{defaultValue:!1,description:"Enable support for underline. Syntax is double or triple underscores: `__underline word__`. With this option enabled, underscores no longer parses into `<em>` and `<strong>`",type:"boolean"},completeHTMLDocument:{defaultValue:!1,description:"Outputs a complete html document, including `<html>`, `<head>` and `<body>` tags",type:"boolean"},metadata:{defaultValue:!1,description:"Enable support for document metadata (defined at the top of the document between `` and `` or between `---` and `---`).",type:"boolean"},splitAdjacentBlockquotes:{defaultValue:!1,description:"Split adjacent blockquote blocks",type:"boolean"}};if(!1===e)return JSON.parse(JSON.stringify(t));var n,r={};for(n in t)t.hasOwnProperty(n)&&(r[n]=t[n].defaultValue);return r}function e(){"use strict";var e,t=r(!0),n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=!0);return n}var v={},n={},f={},h=r(!0),g="vanilla",m={github:{omitExtraWLInCodeBlocks:!0,simplifiedAutoLink:!0,excludeTrailingPunctuationFromURLs:!0,literalMidWordUnderscores:!0,strikethrough:!0,tables:!0,tablesHeaderId:!0,ghCodeBlocks:!0,tasklists:!0,disableForced4SpacesIndentedSublists:!0,simpleLineBreaks:!0,requireSpaceBeforeHeadingText:!0,ghCompatibleHeaderId:!0,ghMentions:!0,backslashEscapesHTMLTags:!0,emoji:!0,splitAdjacentBlockquotes:!0},original:{noHeaderId:!0,ghCodeBlocks:!1},ghost:{omitExtraWLInCodeBlocks:!0,parseImgDimensions:!0,simplifiedAutoLink:!0,excludeTrailingPunctuationFromURLs:!0,literalMidWordUnderscores:!0,strikethrough:!0,tables:!0,tablesHeaderId:!0,ghCodeBlocks:!0,tasklists:!0,smoothLivePreview:!0,simpleLineBreaks:!0,requireSpaceBeforeHeadingText:!0,ghMentions:!1,encodeEmails:!0},vanilla:r(!0),allOn:e()};function y(e,t){"use strict";var n=t?"Error in "+t+" extension->":"Error in unnamed extension",r={valid:!0,error:""};v.helper.isArray(e)||(e=[e]);for(var i=0;i<e.length;++i){var o=n+" sub-extension "+i+": ",a=e[i];if("object"!=typeof a)return r.valid=!1,r.error=o+"must be an object, but "+typeof a+" given",r;if(!v.helper.isString(a.type))return r.valid=!1,r.error=o+'property "type" must be a string, but '+typeof a.type+" given",r;var s=a.type=a.type.toLowerCase();if("language"===s&&(s=a.type="lang"),"html"===s&&(s=a.type="output"),"lang"!==s&&"output"!==s&&"listener"!==s)return r.valid=!1,r.error=o+"type "+s+' is not recognized. Valid values: "lang/language", "output/html" or "listener"',r;if("listener"===s){if(v.helper.isUndefined(a.listeners))return r.valid=!1,r.error=o+'. Extensions of type "listener" must have a property called "listeners"',r}else if(v.helper.isUndefined(a.filter)&&v.helper.isUndefined(a.regex))return r.valid=!1,r.error=o+s+' extensions must define either a "regex" property or a "filter" method',r;if(a.listeners){if("object"!=typeof a.listeners)return r.valid=!1,r.error=o+'"listeners" property must be an object but '+typeof a.listeners+" given",r;for(var c in a.listeners)if(a.listeners.hasOwnProperty(c)&&"function"!=typeof a.listeners[c])return r.valid=!1,r.error=o+'"listeners" property must be an hash of [event name]: [callback]. listeners.'+c+" must be a function but "+typeof a.listeners[c]+" given",r}if(a.filter){if("function"!=typeof a.filter)return r.valid=!1,r.error=o+'"filter" must be a function, but '+typeof a.filter+" given",r}else if(a.regex){if(v.helper.isString(a.regex)&&(a.regex=new RegExp(a.regex,"g")),!(a.regex instanceof RegExp))return r.valid=!1,r.error=o+'"regex" property must either be a string or a RegExp object, but '+typeof a.regex+" given",r;if(v.helper.isUndefined(a.replace))return r.valid=!1,r.error=o+'"regex" extensions must implement a replace string or function',r}}return r}function o(e,t){"use strict";return"E"+t.charCodeAt(0)+"E"}v.helper={},v.extensions={},v.setOption=function(e,t){"use strict";return h[e]=t,this},v.getOption=function(e){"use strict";return h[e]},v.getOptions=function(){"use strict";return h},v.resetOptions=function(){"use strict";h=r(!0)},v.setFlavor=function(e){"use strict";if(!m.hasOwnProperty(e))throw Error(e+" flavor was not found");v.resetOptions();var t,n=m[e];for(t in g=e,n)n.hasOwnProperty(t)&&(h[t]=n[t])},v.getFlavor=function(){"use strict";return g},v.getFlavorOptions=function(e){"use strict";if(m.hasOwnProperty(e))return m[e]},v.getDefaultOptions=function(e){"use strict";return r(e)},v.subParser=function(e,t){"use strict";if(v.helper.isString(e)){if(void 0===t){if(n.hasOwnProperty(e))return n[e];throw Error("SubParser named "+e+" not registered!")}n[e]=t}},v.extension=function(e,t){"use strict";if(!v.helper.isString(e))throw Error("Extension 'name' must be a string");if(e=v.helper.stdExtName(e),v.helper.isUndefined(t)){if(!f.hasOwnProperty(e))throw Error("Extension named "+e+" is not registered!");return f[e]}"function"==typeof t&&(t=t()),v.helper.isArray(t)||(t=[t]);var n=y(t,e);if(!n.valid)throw Error(n.error);f[e]=t},v.getAllExtensions=function(){"use strict";return f},v.removeExtension=function(e){"use strict";delete f[e]},v.resetExtensions=function(){"use strict";f={}},v.validateExtension=function(e){"use strict";var t=y(e,null);return!!t.valid||(console.warn(t.error),!1)},v.hasOwnProperty("helper")||(v.helper={}),v.helper.isString=function(e){"use strict";return"string"==typeof e||e instanceof String},v.helper.isFunction=function(e){"use strict";return e&&"[object Function]"==={}.toString.call(e)},v.helper.isArray=function(e){"use strict";return Array.isArray(e)},v.helper.isUndefined=function(e){"use strict";return void 0===e},v.helper.forEach=function(e,t){"use strict";if(v.helper.isUndefined(e))throw new Error("obj param is required");if(v.helper.isUndefined(t))throw new Error("callback param is required");if(!v.helper.isFunction(t))throw new Error("callback param must be a function/closure");if("function"==typeof e.forEach)e.forEach(t);else if(v.helper.isArray(e))for(var n=0;n<e.length;n++)t(e[n],n,e);else{if("object"!=typeof e)throw new Error("obj does not seem to be an array or an iterable object");for(var r in e)e.hasOwnProperty(r)&&t(e[r],r,e)}},v.helper.stdExtName=function(e){"use strict";return e.replace(/[_?*+\/\\.^-]/g,"").replace(/\s/g,"").toLowerCase()},v.helper.escapeCharactersCallback=o,v.helper.escapeCharacters=function(e,t,n){"use strict";var r="(["+t.replace(/([\[\]\\])/g,"\\$1")+"])";n&&(r="\\\\"+r);var i=new RegExp(r,"g");return e=e.replace(i,o)},v.helper.unescapeHTMLEntities=function(e){"use strict";return e.replace(/&quot;/g,'"').replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&")};var d=function(e,t,n,r){"use strict";var i,o,a,s,c,u=r||"",l=-1<u.indexOf("g"),d=new RegExp(t+"|"+n,"g"+u.replace(/g/g,"")),p=new RegExp(t,u.replace(/g/g,"")),f=[];do{for(i=0;a=d.exec(e);)if(p.test(a[0]))i++||(s=(o=d.lastIndex)-a[0].length);else if(i&&!--i){c=a.index+a[0].length;var h={left:{start:s,end:o},match:{start:o,end:a.index},right:{start:a.index,end:c},wholeMatch:{start:s,end:c}};if(f.push(h),!l)return f}}while(i&&(d.lastIndex=o));return f};v.helper.matchRecursiveRegExp=function(e,t,n,r){"use strict";for(var i=d(e,t,n,r),o=[],a=0;a<i.length;++a)o.push([e.slice(i[a].wholeMatch.start,i[a].wholeMatch.end),e.slice(i[a].match.start,i[a].match.end),e.slice(i[a].left.start,i[a].left.end),e.slice(i[a].right.start,i[a].right.end)]);return o},v.helper.replaceRecursiveRegExp=function(e,t,n,r,i){"use strict";var o;v.helper.isFunction(t)||(o=t,t=function(){return o});var a=d(e,n,r,i),s=e,c=a.length;if(0<c){var u=[];0!==a[0].wholeMatch.start&&u.push(e.slice(0,a[0].wholeMatch.start));for(var l=0;l<c;++l)u.push(t(e.slice(a[l].wholeMatch.start,a[l].wholeMatch.end),e.slice(a[l].match.start,a[l].match.end),e.slice(a[l].left.start,a[l].left.end),e.slice(a[l].right.start,a[l].right.end))),l<c-1&&u.push(e.slice(a[l].wholeMatch.end,a[l+1].wholeMatch.start));a[c-1].wholeMatch.end<e.length&&u.push(e.slice(a[c-1].wholeMatch.end)),s=u.join("")}return s},v.helper.regexIndexOf=function(e,t,n){"use strict";if(!v.helper.isString(e))throw"InvalidArgumentError: first parameter of showdown.helper.regexIndexOf function must be a string";if(t instanceof RegExp==!1)throw"InvalidArgumentError: second parameter of showdown.helper.regexIndexOf function must be an instance of RegExp";var r=e.substring(n||0).search(t);return 0<=r?r+(n||0):r},v.helper.splitAtIndex=function(e,t){"use strict";if(!v.helper.isString(e))throw"InvalidArgumentError: first parameter of showdown.helper.regexIndexOf function must be a string";return[e.substring(0,t),e.substring(t)]},v.helper.encodeEmailAddress=function(e){"use strict";var n=[function(e){return"&#"+e.charCodeAt(0)+";"},function(e){return"&#x"+e.charCodeAt(0).toString(16)+";"},function(e){return e}];return e=e.replace(/./g,function(e){var t;return e="@"===e?n[Math.floor(2*Math.random())](e):.9<(t=Math.random())?n[2](e):.45<t?n[1](e):n[0](e)})},v.helper.padEnd=function(e,t,n){"use strict";return t>>=0,n=String(n||" "),e.length>t?String(e):((t-=e.length)>n.length&&(n+=n.repeat(t/n.length)),String(e)+n.slice(0,t))},"undefined"==typeof console&&(console={warn:function(e){"use strict";alert(e)},log:function(e){"use strict";alert(e)},error:function(e){"use strict";throw e}}),v.helper.regexes={asteriskDashAndColon:/([*_:~])/g},v.helper.emojis={"+1":"","-1":"",100:"",1234:"","1st_place_medal":"","2nd_place_medal":"","3rd_place_medal":"","8ball":"",a:"",ab:"",abc:"",abcd:"",accept:"",aerial_tramway:"",airplane:"",alarm_clock:"",alembic:"",alien:"",ambulance:"",amphora:"",anchor:"",angel:"",anger:"",angry:"",anguished:"",ant:"",apple:"",aquarius:"",aries:"",arrow_backward:"",arrow_double_down:"",arrow_double_up:"",arrow_down:"",arrow_down_small:"",arrow_forward:"",arrow_heading_down:"",arrow_heading_up:"",arrow_left:"",arrow_lower_left:"",arrow_lower_right:"",arrow_right:"",arrow_right_hook:"",arrow_up:"",arrow_up_down:"",arrow_up_small:"",arrow_upper_left:"",arrow_upper_right:"",arrows_clockwise:"",arrows_counterclockwise:"",art:"",articulated_lorry:"",artificial_satellite:"",astonished:"",athletic_shoe:"",atm:"",atom_symbol:"",avocado:"",b:"",baby:"",baby_bottle:"",baby_chick:"",baby_symbol:"",back:"",bacon:"",badminton:"",baggage_claim:"",baguette_bread:"",balance_scale:"",balloon:"",ballot_box:"",ballot_box_with_check:"",bamboo:"",banana:"",bangbang:"",bank:"",bar_chart:"",barber:"",baseball:"",basketball:"",basketball_man:"",basketball_woman:"&zwj;",bat:"",bath:"",bathtub:"",battery:"",beach_umbrella:"",bear:"",bed:"",bee:"",beer:"",beers:"",beetle:"",beginner:"",bell:"",bellhop_bell:"",bento:"",biking_man:"",bike:"",biking_woman:"&zwj;",bikini:"",biohazard:"",bird:"",birthday:"",black_circle:"",black_flag:"",black_heart:"",black_joker:"",black_large_square:"",black_medium_small_square:"",black_medium_square:"",black_nib:"",black_small_square:"",black_square_button:"",blonde_man:"",blonde_woman:"&zwj;",blossom:"",blowfish:"",blue_book:"",blue_car:"",blue_heart:"",blush:"",boar:"",boat:"",bomb:"",book:"",bookmark:"",bookmark_tabs:"",books:"",boom:"",boot:"",bouquet:"",bowing_man:"",bow_and_arrow:"",bowing_woman:"&zwj;",bowling:"",boxing_glove:"",boy:"",bread:"",bride_with_veil:"",bridge_at_night:"",briefcase:"",broken_heart:"",bug:"",building_construction:"",bulb:"",bullettrain_front:"",bullettrain_side:"",burrito:"",bus:"",business_suit_levitating:"",busstop:"",bust_in_silhouette:"",busts_in_silhouette:"",butterfly:"",cactus:"",cake:"",calendar:"",call_me_hand:"",calling:"",camel:"",camera:"",camera_flash:"",camping:"",cancer:"",candle:"",candy:"",canoe:"",capital_abcd:"",capricorn:"",car:"",card_file_box:"",card_index:"",card_index_dividers:"",carousel_horse:"",carrot:"",cat:"",cat2:"",cd:"",chains:"",champagne:"",chart:"",chart_with_downwards_trend:"",chart_with_upwards_trend:"",checkered_flag:"",cheese:"",cherries:"",cherry_blossom:"",chestnut:"",chicken:"",children_crossing:"",chipmunk:"",chocolate_bar:"",christmas_tree:"",church:"",cinema:"",circus_tent:"",city_sunrise:"",city_sunset:"",cityscape:"",cl:"",clamp:"",clap:"",clapper:"",classical_building:"",clinking_glasses:"",clipboard:"",clock1:"",clock10:"",clock1030:"",clock11:"",clock1130:"",clock12:"",clock1230:"",clock130:"",clock2:"",clock230:"",clock3:"",clock330:"",clock4:"",clock430:"",clock5:"",clock530:"",clock6:"",clock630:"",clock7:"",clock730:"",clock8:"",clock830:"",clock9:"",clock930:"",closed_book:"",closed_lock_with_key:"",closed_umbrella:"",cloud:"",cloud_with_lightning:"",cloud_with_lightning_and_rain:"",cloud_with_rain:"",cloud_with_snow:"",clown_face:"",clubs:"",cocktail:"",coffee:"",coffin:"",cold_sweat:"",comet:"",computer:"",computer_mouse:"",confetti_ball:"",confounded:"",confused:"",congratulations:"",construction:"",construction_worker_man:"",construction_worker_woman:"&zwj;",control_knobs:"",convenience_store:"",cookie:"",cool:"",policeman:"",copyright:"",corn:"",couch_and_lamp:"",couple:"",couple_with_heart_woman_man:"",couple_with_heart_man_man:"&zwj;&zwj;",couple_with_heart_woman_woman:"&zwj;&zwj;",couplekiss_man_man:"&zwj;&zwj;&zwj;",couplekiss_man_woman:"",couplekiss_woman_woman:"&zwj;&zwj;&zwj;",cow:"",cow2:"",cowboy_hat_face:"",crab:"",crayon:"",credit_card:"",crescent_moon:"",cricket:"",crocodile:"",croissant:"",crossed_fingers:"",crossed_flags:"",crossed_swords:"",crown:"",cry:"",crying_cat_face:"",crystal_ball:"",cucumber:"",cupid:"",curly_loop:"",currency_exchange:"",curry:"",custard:"",customs:"",cyclone:"",dagger:"",dancer:"",dancing_women:"",dancing_men:"&zwj;",dango:"",dark_sunglasses:"",dart:"",dash:"",date:"",deciduous_tree:"",deer:"",department_store:"",derelict_house:"",desert:"",desert_island:"",desktop_computer:"",male_detective:"",diamond_shape_with_a_dot_inside:"",diamonds:"",disappointed:"",disappointed_relieved:"",dizzy:"",dizzy_face:"",do_not_litter:"",dog:"",dog2:"",dollar:"",dolls:"",dolphin:"",door:"",doughnut:"",dove:"",dragon:"",dragon_face:"",dress:"",dromedary_camel:"",drooling_face:"",droplet:"",drum:"",duck:"",dvd:"","e-mail":"",eagle:"",ear:"",ear_of_rice:"",earth_africa:"",earth_americas:"",earth_asia:"",egg:"",eggplant:"",eight_pointed_black_star:"",eight_spoked_asterisk:"",electric_plug:"",elephant:"",email:"",end:"",envelope_with_arrow:"",euro:"",european_castle:"",european_post_office:"",evergreen_tree:"",exclamation:"",expressionless:"",eye:"",eye_speech_bubble:"&zwj;",eyeglasses:"",eyes:"",face_with_head_bandage:"",face_with_thermometer:"",fist_oncoming:"",factory:"",fallen_leaf:"",family_man_woman_boy:"",family_man_boy:"&zwj;",family_man_boy_boy:"&zwj;&zwj;",family_man_girl:"&zwj;",family_man_girl_boy:"&zwj;&zwj;",family_man_girl_girl:"&zwj;&zwj;",family_man_man_boy:"&zwj;&zwj;",family_man_man_boy_boy:"&zwj;&zwj;&zwj;",family_man_man_girl:"&zwj;&zwj;",family_man_man_girl_boy:"&zwj;&zwj;&zwj;",family_man_man_girl_girl:"&zwj;&zwj;&zwj;",family_man_woman_boy_boy:"&zwj;&zwj;&zwj;",family_man_woman_girl:"&zwj;&zwj;",family_man_woman_girl_boy:"&zwj;&zwj;&zwj;",family_man_woman_girl_girl:"&zwj;&zwj;&zwj;",family_woman_boy:"&zwj;",family_woman_boy_boy:"&zwj;&zwj;",family_woman_girl:"&zwj;",family_woman_girl_boy:"&zwj;&zwj;",family_woman_girl_girl:"&zwj;&zwj;",family_woman_woman_boy:"&zwj;&zwj;",family_woman_woman_boy_boy:"&zwj;&zwj;&zwj;",family_woman_woman_girl:"&zwj;&zwj;",family_woman_woman_girl_boy:"&zwj;&zwj;&zwj;",family_woman_woman_girl_girl:"&zwj;&zwj;&zwj;",fast_forward:"",fax:"",fearful:"",feet:"",female_detective:"&zwj;",ferris_wheel:"",ferry:"",field_hockey:"",file_cabinet:"",file_folder:"",film_projector:"",film_strip:"",fire:"",fire_engine:"",fireworks:"",first_quarter_moon:"",first_quarter_moon_with_face:"",fish:"",fish_cake:"",fishing_pole_and_fish:"",fist_raised:"",fist_left:"",fist_right:"",flags:"",flashlight:"",fleur_de_lis:"",flight_arrival:"",flight_departure:"",floppy_disk:"",flower_playing_cards:"",flushed:"",fog:"",foggy:"",football:"",footprints:"",fork_and_knife:"",fountain:"",fountain_pen:"",four_leaf_clover:"",fox_face:"",framed_picture:"",free:"",fried_egg:"",fried_shrimp:"",fries:"",frog:"",frowning:"",frowning_face:"",frowning_man:"&zwj;",frowning_woman:"",middle_finger:"",fuelpump:"",full_moon:"",full_moon_with_face:"",funeral_urn:"",game_die:"",gear:"",gem:"",gemini:"",ghost:"",gift:"",gift_heart:"",girl:"",globe_with_meridians:"",goal_net:"",goat:"",golf:"",golfing_man:"",golfing_woman:"&zwj;",gorilla:"",grapes:"",green_apple:"",green_book:"",green_heart:"",green_salad:"",grey_exclamation:"",grey_question:"",grimacing:"",grin:"",grinning:"",guardsman:"",guardswoman:"&zwj;",guitar:"",gun:"",haircut_woman:"",haircut_man:"&zwj;",hamburger:"",hammer:"",hammer_and_pick:"",hammer_and_wrench:"",hamster:"",hand:"",handbag:"",handshake:"",hankey:"",hatched_chick:"",hatching_chick:"",headphones:"",hear_no_evil:"",heart:"",heart_decoration:"",heart_eyes:"",heart_eyes_cat:"",heartbeat:"",heartpulse:"",hearts:"",heavy_check_mark:"",heavy_division_sign:"",heavy_dollar_sign:"",heavy_heart_exclamation:"",heavy_minus_sign:"",heavy_multiplication_x:"",heavy_plus_sign:"",helicopter:"",herb:"",hibiscus:"",high_brightness:"",high_heel:"",hocho:"",hole:"",honey_pot:"",horse:"",horse_racing:"",hospital:"",hot_pepper:"",hotdog:"",hotel:"",hotsprings:"",hourglass:"",hourglass_flowing_sand:"",house:"",house_with_garden:"",houses:"",hugs:"",hushed:"",ice_cream:"",ice_hockey:"",ice_skate:"",icecream:"",id:"",ideograph_advantage:"",imp:"",inbox_tray:"",incoming_envelope:"",tipping_hand_woman:"",information_source:"",innocent:"",interrobang:"",iphone:"",izakaya_lantern:"",jack_o_lantern:"",japan:"",japanese_castle:"",japanese_goblin:"",japanese_ogre:"",jeans:"",joy:"",joy_cat:"",joystick:"",kaaba:"",key:"",keyboard:"",keycap_ten:"",kick_scooter:"",kimono:"",kiss:"",kissing:"",kissing_cat:"",kissing_closed_eyes:"",kissing_heart:"",kissing_smiling_eyes:"",kiwi_fruit:"",koala:"",koko:"",label:"",large_blue_circle:"",large_blue_diamond:"",large_orange_diamond:"",last_quarter_moon:"",last_quarter_moon_with_face:"",latin_cross:"",laughing:"",leaves:"",ledger:"",left_luggage:"",left_right_arrow:"",leftwards_arrow_with_hook:"",lemon:"",leo:"",leopard:"",level_slider:"",libra:"",light_rail:"",link:"",lion:"",lips:"",lipstick:"",lizard:"",lock:"",lock_with_ink_pen:"",lollipop:"",loop:"",loud_sound:"",loudspeaker:"",love_hotel:"",love_letter:"",low_brightness:"",lying_face:"",m:"",mag:"",mag_right:"",mahjong:"",mailbox:"",mailbox_closed:"",mailbox_with_mail:"",mailbox_with_no_mail:"",man:"",man_artist:"&zwj;",man_astronaut:"&zwj;",man_cartwheeling:"&zwj;",man_cook:"&zwj;",man_dancing:"",man_facepalming:"&zwj;",man_factory_worker:"&zwj;",man_farmer:"&zwj;",man_firefighter:"&zwj;",man_health_worker:"&zwj;",man_in_tuxedo:"",man_judge:"&zwj;",man_juggling:"&zwj;",man_mechanic:"&zwj;",man_office_worker:"&zwj;",man_pilot:"&zwj;",man_playing_handball:"&zwj;",man_playing_water_polo:"&zwj;",man_scientist:"&zwj;",man_shrugging:"&zwj;",man_singer:"&zwj;",man_student:"&zwj;",man_teacher:"&zwj;",man_technologist:"&zwj;",man_with_gua_pi_mao:"",man_with_turban:"",tangerine:"",mans_shoe:"",mantelpiece_clock:"",maple_leaf:"",martial_arts_uniform:"",mask:"",massage_woman:"",massage_man:"&zwj;",meat_on_bone:"",medal_military:"",medal_sports:"",mega:"",melon:"",memo:"",men_wrestling:"&zwj;",menorah:"",mens:"",metal:"",metro:"",microphone:"",microscope:"",milk_glass:"",milky_way:"",minibus:"",minidisc:"",mobile_phone_off:"",money_mouth_face:"",money_with_wings:"",moneybag:"",monkey:"",monkey_face:"",monorail:"",moon:"",mortar_board:"",mosque:"",motor_boat:"",motor_scooter:"",motorcycle:"",motorway:"",mount_fuji:"",mountain:"",mountain_biking_man:"",mountain_biking_woman:"&zwj;",mountain_cableway:"",mountain_railway:"",mountain_snow:"",mouse:"",mouse2:"",movie_camera:"",moyai:"",mrs_claus:"",muscle:"",mushroom:"",musical_keyboard:"",musical_note:"",musical_score:"",mute:"",nail_care:"",name_badge:"",national_park:"",nauseated_face:"",necktie:"",negative_squared_cross_mark:"",nerd_face:"",neutral_face:"",new:"",new_moon:"",new_moon_with_face:"",newspaper:"",newspaper_roll:"",next_track_button:"",ng:"",no_good_man:"&zwj;",no_good_woman:"",night_with_stars:"",no_bell:"",no_bicycles:"",no_entry:"",no_entry_sign:"",no_mobile_phones:"",no_mouth:"",no_pedestrians:"",no_smoking:"","non-potable_water":"",nose:"",notebook:"",notebook_with_decorative_cover:"",notes:"",nut_and_bolt:"",o:"",o2:"",ocean:"",octopus:"",oden:"",office:"",oil_drum:"",ok:"",ok_hand:"",ok_man:"&zwj;",ok_woman:"",old_key:"",older_man:"",older_woman:"",om:"",on:"",oncoming_automobile:"",oncoming_bus:"",oncoming_police_car:"",oncoming_taxi:"",open_file_folder:"",open_hands:"",open_mouth:"",open_umbrella:"",ophiuchus:"",orange_book:"",orthodox_cross:"",outbox_tray:"",owl:"",ox:"",package:"",page_facing_up:"",page_with_curl:"",pager:"",paintbrush:"",palm_tree:"",pancakes:"",panda_face:"",paperclip:"",paperclips:"",parasol_on_ground:"",parking:"",part_alternation_mark:"",partly_sunny:"",passenger_ship:"",passport_control:"",pause_button:"",peace_symbol:"",peach:"",peanuts:"",pear:"",pen:"",pencil2:"",penguin:"",pensive:"",performing_arts:"",persevere:"",person_fencing:"",pouting_woman:"",phone:"",pick:"",pig:"",pig2:"",pig_nose:"",pill:"",pineapple:"",ping_pong:"",pisces:"",pizza:"",place_of_worship:"",plate_with_cutlery:"",play_or_pause_button:"",point_down:"",point_left:"",point_right:"",point_up:"",point_up_2:"",police_car:"",policewoman:"&zwj;",poodle:"",popcorn:"",post_office:"",postal_horn:"",postbox:"",potable_water:"",potato:"",pouch:"",poultry_leg:"",pound:"",rage:"",pouting_cat:"",pouting_man:"&zwj;",pray:"",prayer_beads:"",pregnant_woman:"",previous_track_button:"",prince:"",princess:"",printer:"",purple_heart:"",purse:"",pushpin:"",put_litter_in_its_place:"",question:"",rabbit:"",rabbit2:"",racehorse:"",racing_car:"",radio:"",radio_button:"",radioactive:"",railway_car:"",railway_track:"",rainbow:"",rainbow_flag:"&zwj;",raised_back_of_hand:"",raised_hand_with_fingers_splayed:"",raised_hands:"",raising_hand_woman:"",raising_hand_man:"&zwj;",ram:"",ramen:"",rat:"",record_button:"",recycle:"",red_circle:"",registered:"",relaxed:"",relieved:"",reminder_ribbon:"",repeat:"",repeat_one:"",rescue_worker_helmet:"",restroom:"",revolving_hearts:"",rewind:"",rhinoceros:"",ribbon:"",rice:"",rice_ball:"",rice_cracker:"",rice_scene:"",right_anger_bubble:"",ring:"",robot:"",rocket:"",rofl:"",roll_eyes:"",roller_coaster:"",rooster:"",rose:"",rosette:"",rotating_light:"",round_pushpin:"",rowing_man:"",rowing_woman:"&zwj;",rugby_football:"",running_man:"",running_shirt_with_sash:"",running_woman:"&zwj;",sa:"",sagittarius:"",sake:"",sandal:"",santa:"",satellite:"",saxophone:"",school:"",school_satchel:"",scissors:"",scorpion:"",scorpius:"",scream:"",scream_cat:"",scroll:"",seat:"",secret:"",see_no_evil:"",seedling:"",selfie:"",shallow_pan_of_food:"",shamrock:"",shark:"",shaved_ice:"",sheep:"",shell:"",shield:"",shinto_shrine:"",ship:"",shirt:"",shopping:"",shopping_cart:"",shower:"",shrimp:"",signal_strength:"",six_pointed_star:"",ski:"",skier:"",skull:"",skull_and_crossbones:"",sleeping:"",sleeping_bed:"",sleepy:"",slightly_frowning_face:"",slightly_smiling_face:"",slot_machine:"",small_airplane:"",small_blue_diamond:"",small_orange_diamond:"",small_red_triangle:"",small_red_triangle_down:"",smile:"",smile_cat:"",smiley:"",smiley_cat:"",smiling_imp:"",smirk:"",smirk_cat:"",smoking:"",snail:"",snake:"",sneezing_face:"",snowboarder:"",snowflake:"",snowman:"",snowman_with_snow:"",sob:"",soccer:"",soon:"",sos:"",sound:"",space_invader:"",spades:"",spaghetti:"",sparkle:"",sparkler:"",sparkles:"",sparkling_heart:"",speak_no_evil:"",speaker:"",speaking_head:"",speech_balloon:"",speedboat:"",spider:"",spider_web:"",spiral_calendar:"",spiral_notepad:"",spoon:"",squid:"",stadium:"",star:"",star2:"",star_and_crescent:"",star_of_david:"",stars:"",station:"",statue_of_liberty:"",steam_locomotive:"",stew:"",stop_button:"",stop_sign:"",stopwatch:"",straight_ruler:"",strawberry:"",stuck_out_tongue:"",stuck_out_tongue_closed_eyes:"",stuck_out_tongue_winking_eye:"",studio_microphone:"",stuffed_flatbread:"",sun_behind_large_cloud:"",sun_behind_rain_cloud:"",sun_behind_small_cloud:"",sun_with_face:"",sunflower:"",sunglasses:"",sunny:"",sunrise:"",sunrise_over_mountains:"",surfing_man:"",surfing_woman:"&zwj;",sushi:"",suspension_railway:"",sweat:"",sweat_drops:"",sweat_smile:"",sweet_potato:"",swimming_man:"",swimming_woman:"&zwj;",symbols:"",synagogue:"",syringe:"",taco:"",tada:"",tanabata_tree:"",taurus:"",taxi:"",tea:"",telephone_receiver:"",telescope:"",tennis:"",tent:"",thermometer:"",thinking:"",thought_balloon:"",ticket:"",tickets:"",tiger:"",tiger2:"",timer_clock:"",tipping_hand_man:"&zwj;",tired_face:"",tm:"",toilet:"",tokyo_tower:"",tomato:"",tongue:"",top:"",tophat:"",tornado:"",trackball:"",tractor:"",traffic_light:"",train:"",train2:"",tram:"",triangular_flag_on_post:"",triangular_ruler:"",trident:"",triumph:"",trolleybus:"",trophy:"",tropical_drink:"",tropical_fish:"",truck:"",trumpet:"",tulip:"",tumbler_glass:"",turkey:"",turtle:"",tv:"",twisted_rightwards_arrows:"",two_hearts:"",two_men_holding_hands:"",two_women_holding_hands:"",u5272:"",u5408:"",u55b6:"",u6307:"",u6708:"",u6709:"",u6e80:"",u7121:"",u7533:"",u7981:"",u7a7a:"",umbrella:"",unamused:"",underage:"",unicorn:"",unlock:"",up:"",upside_down_face:"",v:"",vertical_traffic_light:"",vhs:"",vibration_mode:"",video_camera:"",video_game:"",violin:"",virgo:"",volcano:"",volleyball:"",vs:"",vulcan_salute:"",walking_man:"",walking_woman:"&zwj;",waning_crescent_moon:"",waning_gibbous_moon:"",warning:"",wastebasket:"",watch:"",water_buffalo:"",watermelon:"",wave:"",wavy_dash:"",waxing_crescent_moon:"",wc:"",weary:"",wedding:"",weight_lifting_man:"",weight_lifting_woman:"&zwj;",whale:"",whale2:"",wheel_of_dharma:"",wheelchair:"",white_check_mark:"",white_circle:"",white_flag:"",white_flower:"",white_large_square:"",white_medium_small_square:"",white_medium_square:"",white_small_square:"",white_square_button:"",wilted_flower:"",wind_chime:"",wind_face:"",wine_glass:"",wink:"",wolf:"",woman:"",woman_artist:"&zwj;",woman_astronaut:"&zwj;",woman_cartwheeling:"&zwj;",woman_cook:"&zwj;",woman_facepalming:"&zwj;",woman_factory_worker:"&zwj;",woman_farmer:"&zwj;",woman_firefighter:"&zwj;",woman_health_worker:"&zwj;",woman_judge:"&zwj;",woman_juggling:"&zwj;",woman_mechanic:"&zwj;",woman_office_worker:"&zwj;",woman_pilot:"&zwj;",woman_playing_handball:"&zwj;",woman_playing_water_polo:"&zwj;",woman_scientist:"&zwj;",woman_shrugging:"&zwj;",woman_singer:"&zwj;",woman_student:"&zwj;",woman_teacher:"&zwj;",woman_technologist:"&zwj;",woman_with_turban:"&zwj;",womans_clothes:"",womans_hat:"",women_wrestling:"&zwj;",womens:"",world_map:"",worried:"",wrench:"",writing_hand:"",x:"",yellow_heart:"",yen:"",yin_yang:"",yum:"",zap:"",zipper_mouth_face:"",zzz:"",octocat:'<img alt=":octocat:" height="20" width="20" align="absmiddle" src="https://assets-cdn.github.com/images/icons/emoji/octocat.png">',showdown:"<span style=\"font-family: 'Anonymous Pro', monospace; text-decoration: underline; text-decoration-style: dashed; text-decoration-color: #3e8b8a;text-underline-position: under;\">S</span>"},v.Converter=function(n){"use strict";var r={},o=[],a=[],s={},i=g,c={parsed:{},raw:"",format:""};function e(){for(var e in n=n||{},h)h.hasOwnProperty(e)&&(r[e]=h[e]);if("object"!=typeof n)throw Error("Converter expects the passed parameter to be an object, but "+typeof n+" was passed instead.");for(var t in n)n.hasOwnProperty(t)&&(r[t]=n[t]);r.extensions&&v.helper.forEach(r.extensions,u)}function u(e,t){if(t=t||null,v.helper.isString(e)){if(t=e=v.helper.stdExtName(e),v.extensions[e])return console.warn("DEPRECATION WARNING: "+e+" is an old extension that uses a deprecated loading method.Please inform the developer that the extension should be updated!"),void l(v.extensions[e],e);if(v.helper.isUndefined(f[e]))throw Error('Extension "'+e+'" could not be loaded. It was either not found or is not a valid extension.');e=f[e]}"function"==typeof e&&(e=e()),v.helper.isArray(e)||(e=[e]);var n=y(e,t);if(!n.valid)throw Error(n.error);for(var r=0;r<e.length;++r){switch(e[r].type){case"lang":o.push(e[r]);break;case"output":a.push(e[r])}if(e[r].hasOwnProperty("listeners"))for(var i in e[r].listeners)e[r].listeners.hasOwnProperty(i)&&d(i,e[r].listeners[i])}}function l(e,t){"function"==typeof e&&(e=e(new v.Converter)),v.helper.isArray(e)||(e=[e]);var n=y(e,t);if(!n.valid)throw Error(n.error);for(var r=0;r<e.length;++r)switch(e[r].type){case"lang":o.push(e[r]);break;case"output":a.push(e[r]);break;default:throw Error("Extension loader error: Type unrecognized!!!")}}function d(e,t){if(!v.helper.isString(e))throw Error("Invalid argument in converter.listen() method: name must be a string, but "+typeof e+" given");if("function"!=typeof t)throw Error("Invalid argument in converter.listen() method: callback must be a function, but "+typeof t+" given");s.hasOwnProperty(e)||(s[e]=[]),s[e].push(t)}function p(e){var t=e.match(/^\s*/)[0].length,n=new RegExp("^\\s{0,"+t+"}","gm");return e.replace(n,"")}e(),this._dispatch=function(e,t,n,r){if(s.hasOwnProperty(e))for(var i=0;i<s[e].length;++i){var o=s[e][i](e,t,this,n,r);o&&void 0!==o&&(t=o)}return t},this.listen=function(e,t){return d(e,t),this},this.makeHtml=function(t){if(!t)return t;var n={gHtmlBlocks:[],gHtmlMdBlocks:[],gHtmlSpans:[],gUrls:{},gTitles:{},gDimensions:{},gListLevel:0,hashLinkCounts:{},langExtensions:o,outputModifiers:a,converter:this,ghCodeBlocks:[],metadata:{parsed:{},raw:"",format:""}};return t=(t=(t=(t=(t=t.replace(//g,"T")).replace(/\$/g,"D")).replace(/\r\n/g,"\n")).replace(/\r/g,"\n")).replace(/\u00A0/g,"&nbsp;"),r.smartIndentationFix&&(t=p(t)),t="\n\n"+t+"\n\n",t=(t=v.subParser("detab")(t,r,n)).replace(/^[ \t]+$/gm,""),v.helper.forEach(o,function(e){t=v.subParser("runExtension")(e,t,r,n)}),t=v.subParser("metadata")(t,r,n),t=v.subParser("hashPreCodeTags")(t,r,n),t=v.subParser("githubCodeBlocks")(t,r,n),t=v.subParser("hashHTMLBlocks")(t,r,n),t=v.subParser("hashCodeTags")(t,r,n),t=v.subParser("stripLinkDefinitions")(t,r,n),t=v.subParser("blockGamut")(t,r,n),t=v.subParser("unhashHTMLSpans")(t,r,n),t=(t=(t=v.subParser("unescapeSpecialChars")(t,r,n)).replace(/D/g,"$$")).replace(/T/g,""),t=v.subParser("completeHTMLDocument")(t,r,n),v.helper.forEach(a,function(e){t=v.subParser("runExtension")(e,t,r,n)}),c=n.metadata,t},this.makeMarkdown=this.makeMd=function(e,t){if(e=(e=(e=e.replace(/\r\n/g,"\n")).replace(/\r/g,"\n")).replace(/>[ \t]+</,">NBSP;<"),!t){if(!window||!window.document)throw new Error("HTMLParser is undefined. If in a webworker or nodejs environment, you need to provide a WHATWG DOM and HTML such as JSDOM");t=window.document}var n=t.createElement("div");n.innerHTML=e;var r={preList:c(n)};s(n);for(var i=n.childNodes,o="",a=0;a<i.length;a++)o+=v.subParser("makeMarkdown.node")(i[a],r);function s(e){for(var t=0;t<e.childNodes.length;++t){var n=e.childNodes[t];3===n.nodeType?/\S/.test(n.nodeValue)?(n.nodeValue=n.nodeValue.split("\n").join(" "),n.nodeValue=n.nodeValue.replace(/(\s)+/g,"$1")):(e.removeChild(n),--t):1===n.nodeType&&s(n)}}function c(e){for(var t=e.querySelectorAll("pre"),n=[],r=0;r<t.length;++r)if(1===t[r].childElementCount&&"code"===t[r].firstChild.tagName.toLowerCase()){var i=t[r].firstChild.innerHTML.trim(),o=t[r].firstChild.getAttribute("data-language")||"";if(""===o)for(var a=t[r].firstChild.className.split(" "),s=0;s<a.length;++s){var c=a[s].match(/^language-(.+)$/);if(null!==c){o=c[1];break}}i=v.helper.unescapeHTMLEntities(i),n.push(i),t[r].outerHTML='<precode language="'+o+'" precodenum="'+r.toString()+'"></precode>'}else n.push(t[r].innerHTML),t[r].innerHTML="",t[r].setAttribute("prenum",r.toString());return n}return o},this.setOption=function(e,t){r[e]=t},this.getOption=function(e){return r[e]},this.getOptions=function(){return r},this.addExtension=function(e,t){u(e,t=t||null)},this.useExtension=function(e){u(e)},this.setFlavor=function(e){if(!m.hasOwnProperty(e))throw Error(e+" flavor was not found");var t,n=m[e];for(t in i=e,n)n.hasOwnProperty(t)&&(r[t]=n[t])},this.getFlavor=function(){return i},this.removeExtension=function(e){v.helper.isArray(e)||(e=[e]);for(var t=0;t<e.length;++t){for(var n=e[t],r=0;r<o.length;++r)o[r]===n&&o[r].splice(r,1);for(var i=0;i<a.length;++r)a[i]===n&&a[i].splice(r,1)}},this.getAllExtensions=function(){return{language:o,output:a}},this.getMetadata=function(e){return e?c.raw:c.parsed},this.getMetadataFormat=function(){return c.format},this._setMetadataPair=function(e,t){c.parsed[e]=t},this._setMetadataFormat=function(e){c.format=e},this._setMetadataRaw=function(e){c.raw=e}},v.subParser("anchors",function(e,c,u){"use strict";var t=function(e,t,n,r,i,o,a){if(v.helper.isUndefined(a)&&(a=""),n=n.toLowerCase(),-1<e.search(/\(<?\s*>? ?(['"].*['"])?\)$/m))r="";else if(!r){if(r="#"+(n=n||t.toLowerCase().replace(/ ?\n/g," ")),v.helper.isUndefined(u.gUrls[n]))return e;r=u.gUrls[n],v.helper.isUndefined(u.gTitles[n])||(a=u.gTitles[n])}var s='<a href="'+(r=r.replace(v.helper.regexes.asteriskDashAndColon,v.helper.escapeCharactersCallback))+'"';return""!==a&&null!==a&&(s+=' title="'+(a=(a=a.replace(/"/g,"&quot;")).replace(v.helper.regexes.asteriskDashAndColon,v.helper.escapeCharactersCallback))+'"'),c.openLinksInNewWindow&&!/^#/.test(r)&&(s+=' rel="noopener noreferrer" target="E95Eblank"'),s+=">"+t+"</a>"};return e=(e=(e=(e=(e=u.converter._dispatch("anchors.before",e,c,u)).replace(/\[((?:\[[^\]]*]|[^\[\]])*)] ?(?:\n *)?\[(.*?)]()()()()/g,t)).replace(/\[((?:\[[^\]]*]|[^\[\]])*)]()[ \t]*\([ \t]?<([^>]*)>(?:[ \t]*((["'])([^"]*?)\5))?[ \t]?\)/g,t)).replace(/\[((?:\[[^\]]*]|[^\[\]])*)]()[ \t]*\([ \t]?<?([\S]+?(?:\([\S]*?\)[\S]*?)?)>?(?:[ \t]*((["'])([^"]*?)\5))?[ \t]?\)/g,t)).replace(/\[([^\[\]]+)]()()()()()/g,t),c.ghMentions&&(e=e.replace(/(^|\s)(\\)?(@([a-z\d]+(?:[a-z\d.-]+?[a-z\d]+)*))/gim,function(e,t,n,r,i){if("\\"===n)return t+r;if(!v.helper.isString(c.ghMentionsLink))throw new Error("ghMentionsLink option must be a string");var o=c.ghMentionsLink.replace(/\{u}/g,i),a="";return c.openLinksInNewWindow&&(a=' rel="noopener noreferrer" target="E95Eblank"'),t+'<a href="'+o+'"'+a+">"+r+"</a>"})),e=u.converter._dispatch("anchors.after",e,c,u)});var i=/([*~_]+|\b)(((https?|ftp|dict):\/\/|www\.)[^'">\s]+?\.[^'">\s]+?)()(\1)?(?=\s|$)(?!["<>])/gi,a=/([*~_]+|\b)(((https?|ftp|dict):\/\/|www\.)[^'">\s]+\.[^'">\s]+?)([.!?,()\[\]])?(\1)?(?=\s|$)(?!["<>])/gi,s=/()<(((https?|ftp|dict):\/\/|www\.)[^'">\s]+)()>()/gi,c=/(^|\s)(?:mailto:)?([A-Za-z0-9!#$%&'*+-/=?^_`{|}~.]+@[-a-z0-9]+(\.[-a-z0-9]+)*\.[a-z]+)(?=$|\s)/gim,u=/<()(?:mailto:)?([-.\w]+@[-a-z0-9]+(\.[-a-z0-9]+)*\.[a-z]+)>/gi,l=function(p){"use strict";return function(e,t,n,r,i,o,a){var s=n=n.replace(v.helper.regexes.asteriskDashAndColon,v.helper.escapeCharactersCallback),c="",u="",l=t||"",d=a||"";return/^www\./i.test(n)&&(n=n.replace(/^www\./i,"http://www.")),p.excludeTrailingPunctuationFromURLs&&o&&(c=o),p.openLinksInNewWindow&&(u=' rel="noopener noreferrer" target="E95Eblank"'),l+'<a href="'+n+'"'+u+">"+s+"</a>"+c+d}},p=function(i,o){"use strict";return function(e,t,n){var r="mailto:";return t=t||"",n=v.subParser("unescapeSpecialChars")(n,i,o),i.encodeEmails?(r=v.helper.encodeEmailAddress(r+n),n=v.helper.encodeEmailAddress(n)):r+=n,t+'<a href="'+r+'">'+n+"</a>"}};v.subParser("autoLinks",function(e,t,n){"use strict";return e=(e=(e=n.converter._dispatch("autoLinks.before",e,t,n)).replace(s,l(t))).replace(u,p(t,n)),e=n.converter._dispatch("autoLinks.after",e,t,n)}),v.subParser("simplifiedAutoLinks",function(e,t,n){"use strict";return t.simplifiedAutoLink?(e=n.converter._dispatch("simplifiedAutoLinks.before",e,t,n),e=(e=t.excludeTrailingPunctuationFromURLs?e.replace(a,l(t)):e.replace(i,l(t))).replace(c,p(t,n)),e=n.converter._dispatch("simplifiedAutoLinks.after",e,t,n)):e}),v.subParser("blockGamut",function(e,t,n){"use strict";return e=n.converter._dispatch("blockGamut.before",e,t,n),e=v.subParser("blockQuotes")(e,t,n),e=v.subParser("headers")(e,t,n),e=v.subParser("horizontalRule")(e,t,n),e=v.subParser("lists")(e,t,n),e=v.subParser("codeBlocks")(e,t,n),e=v.subParser("tables")(e,t,n),e=v.subParser("hashHTMLBlocks")(e,t,n),e=v.subParser("paragraphs")(e,t,n),e=n.converter._dispatch("blockGamut.after",e,t,n)}),v.subParser("blockQuotes",function(e,t,n){"use strict";e=n.converter._dispatch("blockQuotes.before",e,t,n),e+="\n\n";var r=/(^ {0,3}>[ \t]?.+\n(.+\n)*\n*)+/gm;return t.splitAdjacentBlockquotes&&(r=/^ {0,3}>[\s\S]*?(?:\n\n)/gm),e=e.replace(r,function(e){return e=(e=(e=e.replace(/^[ \t]*>[ \t]?/gm,"")).replace(/0/g,"")).replace(/^[ \t]+$/gm,""),e=v.subParser("githubCodeBlocks")(e,t,n),e=(e=(e=v.subParser("blockGamut")(e,t,n)).replace(/(^|\n)/g,"$1  ")).replace(/(\s*<pre>[^\r]+?<\/pre>)/gm,function(e,t){var n=t;return n=(n=n.replace(/^  /gm,"0")).replace(/0/g,"")}),v.subParser("hashBlock")("<blockquote>\n"+e+"\n</blockquote>",t,n)}),e=n.converter._dispatch("blockQuotes.after",e,t,n)}),v.subParser("codeBlocks",function(e,a,s){"use strict";return e=s.converter._dispatch("codeBlocks.before",e,a,s),e=(e=(e+="0").replace(/(?:\n\n|^)((?:(?:[ ]{4}|\t).*\n+)+)(\n*[ ]{0,3}[^ \t\n]|(?=0))/g,function(e,t,n){var r=t,i=n,o="\n",r=v.subParser("outdent")(r,a,s);return r=v.subParser("encodeCode")(r,a,s),r=(r=(r=v.subParser("detab")(r,a,s)).replace(/^\n+/g,"")).replace(/\n+$/g,""),a.omitExtraWLInCodeBlocks&&(o=""),r="<pre><code>"+r+o+"</code></pre>",v.subParser("hashBlock")(r,a,s)+i})).replace(/0/,""),e=s.converter._dispatch("codeBlocks.after",e,a,s)}),v.subParser("codeSpans",function(e,o,a){"use strict";return void 0===(e=a.converter._dispatch("codeSpans.before",e,o,a))&&(e=""),e=e.replace(/(^|[^\\])(`+)([^\r]*?[^`])\2(?!`)/gm,function(e,t,n,r){var i=r;return i=(i=i.replace(/^([ \t]*)/g,"")).replace(/[ \t]*$/g,""),i=t+"<code>"+(i=v.subParser("encodeCode")(i,o,a))+"</code>",i=v.subParser("hashHTMLSpans")(i,o,a)}),e=a.converter._dispatch("codeSpans.after",e,o,a)}),v.subParser("completeHTMLDocument",function(e,t,n){"use strict";if(!t.completeHTMLDocument)return e;e=n.converter._dispatch("completeHTMLDocument.before",e,t,n);var r,i="html",o="<!DOCTYPE HTML>\n",a="",s='<meta charset="utf-8">\n',c="",u="";for(r in void 0!==n.metadata.parsed.doctype&&(o="<!DOCTYPE "+n.metadata.parsed.doctype+">\n","html"!==(i=n.metadata.parsed.doctype.toString().toLowerCase())&&"html5"!==i||(s='<meta charset="utf-8">')),n.metadata.parsed)if(n.metadata.parsed.hasOwnProperty(r))switch(r.toLowerCase()){case"doctype":break;case"title":a="<title>"+n.metadata.parsed.title+"</title>\n";break;case"charset":s="html"===i||"html5"===i?'<meta charset="'+n.metadata.parsed.charset+'">\n':'<meta name="charset" content="'+n.metadata.parsed.charset+'">\n';break;case"language":case"lang":c=' lang="'+n.metadata.parsed[r]+'"',u+='<meta name="'+r+'" content="'+n.metadata.parsed[r]+'">\n';break;default:u+='<meta name="'+r+'" content="'+n.metadata.parsed[r]+'">\n'}return e=o+"<html"+c+">\n<head>\n"+a+s+u+"</head>\n<body>\n"+e.trim()+"\n</body>\n</html>",e=n.converter._dispatch("completeHTMLDocument.after",e,t,n)}),v.subParser("detab",function(e,t,n){"use strict";return e=(e=(e=(e=(e=(e=n.converter._dispatch("detab.before",e,t,n)).replace(/\t(?=\t)/g,"    ")).replace(/\t/g,"AB")).replace(/B(.+?)A/g,function(e,t){for(var n=t,r=4-n.length%4,i=0;i<r;i++)n+=" ";return n})).replace(/A/g,"    ")).replace(/B/g,""),e=n.converter._dispatch("detab.after",e,t,n)}),v.subParser("ellipsis",function(e,t,n){"use strict";return e=(e=n.converter._dispatch("ellipsis.before",e,t,n)).replace(/\.\.\./g,""),e=n.converter._dispatch("ellipsis.after",e,t,n)}),v.subParser("emoji",function(e,t,n){"use strict";if(!t.emoji)return e;var r=/:([\S]+?):/g;return e=(e=n.converter._dispatch("emoji.before",e,t,n)).replace(r,function(e,t){return v.helper.emojis.hasOwnProperty(t)?v.helper.emojis[t]:e}),e=n.converter._dispatch("emoji.after",e,t,n)}),v.subParser("encodeAmpsAndAngles",function(e,t,n){"use strict";return e=(e=(e=(e=(e=n.converter._dispatch("encodeAmpsAndAngles.before",e,t,n)).replace(/&(?!#?[xX]?(?:[0-9a-fA-F]+|\w+);)/g,"&amp;")).replace(/<(?![a-z\/?$!])/gi,"&lt;")).replace(/</g,"&lt;")).replace(/>/g,"&gt;"),e=n.converter._dispatch("encodeAmpsAndAngles.after",e,t,n)}),v.subParser("encodeBackslashEscapes",function(e,t,n){"use strict";return e=(e=(e=n.converter._dispatch("encodeBackslashEscapes.before",e,t,n)).replace(/\\(\\)/g,v.helper.escapeCharactersCallback)).replace(/\\([`*_{}\[\]()>#+.!~=|-])/g,v.helper.escapeCharactersCallback),e=n.converter._dispatch("encodeBackslashEscapes.after",e,t,n)}),v.subParser("encodeCode",function(e,t,n){"use strict";return e=(e=n.converter._dispatch("encodeCode.before",e,t,n)).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/([*_{}\[\]\\=~-])/g,v.helper.escapeCharactersCallback),e=n.converter._dispatch("encodeCode.after",e,t,n)}),v.subParser("escapeSpecialCharsWithinTagAttributes",function(e,t,n){"use strict";var r=/<\/?[a-z\d_:-]+(?:[\s]+[\s\S]+?)?>/gi,i=/<!(--(?:(?:[^>-]|-[^>])(?:[^-]|-[^-])*)--)>/gi;return e=(e=(e=n.converter._dispatch("escapeSpecialCharsWithinTagAttributes.before",e,t,n)).replace(r,function(e){return e.replace(/(.)<\/?code>(?=.)/g,"$1`").replace(/([\\`*_~=|])/g,v.helper.escapeCharactersCallback)})).replace(i,function(e){return e.replace(/([\\`*_~=|])/g,v.helper.escapeCharactersCallback)}),e=n.converter._dispatch("escapeSpecialCharsWithinTagAttributes.after",e,t,n)}),v.subParser("githubCodeBlocks",function(e,o,a){"use strict";return o.ghCodeBlocks?(e=a.converter._dispatch("githubCodeBlocks.before",e,o,a),e=(e=(e+="0").replace(/(?:^|\n)(?: {0,3})(```+|~~~+)(?: *)([^\s`~]*)\n([\s\S]*?)\n(?: {0,3})\1/g,function(e,t,n,r){var i=o.omitExtraWLInCodeBlocks?"":"\n";return r=v.subParser("encodeCode")(r,o,a),r="<pre><code"+(n?' class="'+n+" language-"+n+'"':"")+">"+(r=(r=(r=v.subParser("detab")(r,o,a)).replace(/^\n+/g,"")).replace(/\n+$/g,""))+i+"</code></pre>",r=v.subParser("hashBlock")(r,o,a),"\n\nG"+(a.ghCodeBlocks.push({text:e,codeblock:r})-1)+"G\n\n"})).replace(/0/,""),a.converter._dispatch("githubCodeBlocks.after",e,o,a)):e}),v.subParser("hashBlock",function(e,t,n){"use strict";return e=(e=n.converter._dispatch("hashBlock.before",e,t,n)).replace(/(^\n+|\n+$)/g,""),e="\n\nK"+(n.gHtmlBlocks.push(e)-1)+"K\n\n",e=n.converter._dispatch("hashBlock.after",e,t,n)}),v.subParser("hashCodeTags",function(e,o,a){"use strict";e=a.converter._dispatch("hashCodeTags.before",e,o,a);var t=function(e,t,n,r){var i=n+v.subParser("encodeCode")(t,o,a)+r;return"C"+(a.gHtmlSpans.push(i)-1)+"C"};return e=v.helper.replaceRecursiveRegExp(e,t,"<code\\b[^>]*>","</code>","gim"),e=a.converter._dispatch("hashCodeTags.after",e,o,a)}),v.subParser("hashElement",function(e,t,r){"use strict";return function(e,t){var n=t;return n=(n=(n=n.replace(/\n\n/g,"\n")).replace(/^\n/,"")).replace(/\n+$/g,""),n="\n\nK"+(r.gHtmlBlocks.push(n)-1)+"K\n\n"}}),v.subParser("hashHTMLBlocks",function(e,t,o){"use strict";e=o.converter._dispatch("hashHTMLBlocks.before",e,t,o);var n=["pre","div","h1","h2","h3","h4","h5","h6","blockquote","table","dl","ol","ul","script","noscript","form","fieldset","iframe","math","style","section","header","footer","nav","article","aside","address","audio","canvas","figure","hgroup","output","video","p"],r=function(e,t,n,r){var i=e;return-1!==n.search(/\bmarkdown\b/)&&(i=n+o.converter.makeHtml(t)+r),"\n\nK"+(o.gHtmlBlocks.push(i)-1)+"K\n\n"};t.backslashEscapesHTMLTags&&(e=e.replace(/\\<(\/?[^>]+?)>/g,function(e,t){return"&lt;"+t+"&gt;"}));for(var i=0;i<n.length;++i)for(var a,s=new RegExp("^ {0,3}(<"+n[i]+"\\b[^>]*>)","im"),c="<"+n[i]+"\\b[^>]*>",u="</"+n[i]+">";-1!==(a=v.helper.regexIndexOf(e,s));){var l=v.helper.splitAtIndex(e,a),d=v.helper.replaceRecursiveRegExp(l[1],r,c,u,"im");if(d===l[1])break;e=l[0].concat(d)}return e=e.replace(/(\n {0,3}(<(hr)\b([^<>])*?\/?>)[ \t]*(?=\n{2,}))/g,v.subParser("hashElement")(e,t,o)),e=(e=v.helper.replaceRecursiveRegExp(e,function(e){return"\n\nK"+(o.gHtmlBlocks.push(e)-1)+"K\n\n"},"^ {0,3}\x3c!--","--\x3e","gm")).replace(/(?:\n\n)( {0,3}(?:<([?%])[^\r]*?\2>)[ \t]*(?=\n{2,}))/g,v.subParser("hashElement")(e,t,o)),e=o.converter._dispatch("hashHTMLBlocks.after",e,t,o)}),v.subParser("hashHTMLSpans",function(e,t,n){"use strict";function r(e){return"C"+(n.gHtmlSpans.push(e)-1)+"C"}return e=(e=(e=(e=(e=n.converter._dispatch("hashHTMLSpans.before",e,t,n)).replace(/<[^>]+?\/>/gi,function(e){return r(e)})).replace(/<([^>]+?)>[\s\S]*?<\/\1>/g,function(e){return r(e)})).replace(/<([^>]+?)\s[^>]+?>[\s\S]*?<\/\1>/g,function(e){return r(e)})).replace(/<[^>]+?>/gi,function(e){return r(e)}),e=n.converter._dispatch("hashHTMLSpans.after",e,t,n)}),v.subParser("unhashHTMLSpans",function(e,t,n){"use strict";e=n.converter._dispatch("unhashHTMLSpans.before",e,t,n);for(var r=0;r<n.gHtmlSpans.length;++r){for(var i=n.gHtmlSpans[r],o=0;/C(\d+)C/.test(i);){var a=RegExp.$1,i=i.replace("C"+a+"C",n.gHtmlSpans[a]);if(10===o){console.error("maximum nesting of 10 spans reached!!!");break}++o}e=e.replace("C"+r+"C",i)}return e=n.converter._dispatch("unhashHTMLSpans.after",e,t,n)}),v.subParser("hashPreCodeTags",function(e,o,a){"use strict";e=a.converter._dispatch("hashPreCodeTags.before",e,o,a);var t=function(e,t,n,r){var i=n+v.subParser("encodeCode")(t,o,a)+r;return"\n\nG"+(a.ghCodeBlocks.push({text:e,codeblock:i})-1)+"G\n\n"};return e=v.helper.replaceRecursiveRegExp(e,t,"^ {0,3}<pre\\b[^>]*>\\s*<code\\b[^>]*>","^ {0,3}</code>\\s*</pre>","gim"),e=a.converter._dispatch("hashPreCodeTags.after",e,o,a)}),v.subParser("headers",function(e,c,u){"use strict";e=u.converter._dispatch("headers.before",e,c,u);var l=isNaN(parseInt(c.headerLevelStart))?1:parseInt(c.headerLevelStart),t=c.smoothLivePreview?/^(.+)[ \t]*\n={2,}[ \t]*\n+/gm:/^(.+)[ \t]*\n=+[ \t]*\n+/gm,n=c.smoothLivePreview?/^(.+)[ \t]*\n-{2,}[ \t]*\n+/gm:/^(.+)[ \t]*\n-+[ \t]*\n+/gm;e=(e=e.replace(t,function(e,t){var n=v.subParser("spanGamut")(t,c,u),r=c.noHeaderId?"":' id="'+d(t)+'"',i="<h"+l+r+">"+n+"</h"+l+">";return v.subParser("hashBlock")(i,c,u)})).replace(n,function(e,t){var n=v.subParser("spanGamut")(t,c,u),r=c.noHeaderId?"":' id="'+d(t)+'"',i=l+1,o="<h"+i+r+">"+n+"</h"+i+">";return v.subParser("hashBlock")(o,c,u)});var r=c.requireSpaceBeforeHeadingText?/^(#{1,6})[ \t]+(.+?)[ \t]*#*\n+/gm:/^(#{1,6})[ \t]*(.+?)[ \t]*#*\n+/gm;function d(e){var t,n,r;return!c.customizedHeaderId||(r=e.match(/\{([^{]+?)}\s*$/))&&r[1]&&(e=r[1]),t=e,n=v.helper.isString(c.prefixHeaderId)?c.prefixHeaderId:!0===c.prefixHeaderId?"section-":"",c.rawPrefixHeaderId||(t=n+t),t=(c.ghCompatibleHeaderId?t.replace(/ /g,"-").replace(/&amp;/g,"").replace(/T/g,"").replace(/D/g,"").replace(/[&+$,\/:;=?@"#{}|^~\[\]`\\*)(%.!'<>]/g,""):c.rawHeaderId?t.replace(/ /g,"-").replace(/&amp;/g,"&").replace(/T/g,"").replace(/D/g,"$").replace(/["']/g,"-"):t.replace(/[^\w]/g,"")).toLowerCase(),c.rawPrefixHeaderId&&(t=n+t),u.hashLinkCounts[t]?t=t+"-"+u.hashLinkCounts[t]++:u.hashLinkCounts[t]=1,t}return e=e.replace(r,function(e,t,n){var r=n;c.customizedHeaderId&&(r=n.replace(/\s?\{([^{]+?)}\s*$/,""));var i=v.subParser("spanGamut")(r,c,u),o=c.noHeaderId?"":' id="'+d(n)+'"',a=l-1+t.length,s="<h"+a+o+">"+i+"</h"+a+">";return v.subParser("hashBlock")(s,c,u)}),e=u.converter._dispatch("headers.after",e,c,u)}),v.subParser("horizontalRule",function(e,t,n){"use strict";e=n.converter._dispatch("horizontalRule.before",e,t,n);var r=v.subParser("hashBlock")("<hr />",t,n);return e=(e=(e=e.replace(/^ {0,2}( ?-){3,}[ \t]*$/gm,r)).replace(/^ {0,2}( ?\*){3,}[ \t]*$/gm,r)).replace(/^ {0,2}( ?_){3,}[ \t]*$/gm,r),e=n.converter._dispatch("horizontalRule.after",e,t,n)}),v.subParser("images",function(e,t,p){"use strict";var n=/!\[([^\]]*?)][ \t]*()\([ \t]?<?([\S]+?(?:\([\S]*?\)[\S]*?)?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*(?:(["'])([^"]*?)\6)?[ \t]?\)/g,r=/!\[([^\]]*?)][ \t]*()\([ \t]?<([^>]*)>(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*(?:(?:(["'])([^"]*?)\6))?[ \t]?\)/g,i=/!\[([^\]]*?)][ \t]*()\([ \t]?<?(data:.+?\/.+?;base64,[A-Za-z0-9+/=\n]+?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*(?:(["'])([^"]*?)\6)?[ \t]?\)/g,o=/!\[([^\]]*?)] ?(?:\n *)?\[([\s\S]*?)]()()()()()/g,a=/!\[([^\[\]]+)]()()()()()/g;function s(e,t,n,r,i,o,a,s){return c(e,t,n,r=r.replace(/\s/g,""),i,o,a,s)}function c(e,t,n,r,i,o,a,s){var c=p.gUrls,u=p.gTitles,l=p.gDimensions;if(n=n.toLowerCase(),s=s||"",-1<e.search(/\(<?\s*>? ?(['"].*['"])?\)$/m))r="";else if(""===r||null===r){if(""!==n&&null!==n||(n=t.toLowerCase().replace(/ ?\n/g," ")),r="#"+n,v.helper.isUndefined(c[n]))return e;r=c[n],v.helper.isUndefined(u[n])||(s=u[n]),v.helper.isUndefined(l[n])||(i=l[n].width,o=l[n].height)}t=t.replace(/"/g,"&quot;").replace(v.helper.regexes.asteriskDashAndColon,v.helper.escapeCharactersCallback);var d='<img src="'+(r=r.replace(v.helper.regexes.asteriskDashAndColon,v.helper.escapeCharactersCallback))+'" alt="'+t+'"';return s&&v.helper.isString(s)&&(d+=' title="'+(s=s.replace(/"/g,"&quot;").replace(v.helper.regexes.asteriskDashAndColon,v.helper.escapeCharactersCallback))+'"'),i&&o&&(d+=' width="'+(i="*"===i?"auto":i)+'"',d+=' height="'+(o="*"===o?"auto":o)+'"'),d+=" />"}return e=(e=(e=(e=(e=(e=p.converter._dispatch("images.before",e,t,p)).replace(o,c)).replace(i,s)).replace(r,c)).replace(n,c)).replace(a,c),e=p.converter._dispatch("images.after",e,t,p)}),v.subParser("italicsAndBold",function(e,t,n){"use strict";function r(e,t,n){return t+e+n}return e=n.converter._dispatch("italicsAndBold.before",e,t,n),e=t.literalMidWordUnderscores?(e=(e=e.replace(/\b___(\S[\s\S]*?)___\b/g,function(e,t){return r(t,"<strong><em>","</em></strong>")})).replace(/\b__(\S[\s\S]*?)__\b/g,function(e,t){return r(t,"<strong>","</strong>")})).replace(/\b_(\S[\s\S]*?)_\b/g,function(e,t){return r(t,"<em>","</em>")}):(e=(e=e.replace(/___(\S[\s\S]*?)___/g,function(e,t){return/\S$/.test(t)?r(t,"<strong><em>","</em></strong>"):e})).replace(/__(\S[\s\S]*?)__/g,function(e,t){return/\S$/.test(t)?r(t,"<strong>","</strong>"):e})).replace(/_([^\s_][\s\S]*?)_/g,function(e,t){return/\S$/.test(t)?r(t,"<em>","</em>"):e}),e=t.literalMidWordAsterisks?(e=(e=e.replace(/([^*]|^)\B\*\*\*(\S[\s\S]*?)\*\*\*\B(?!\*)/g,function(e,t,n){return r(n,t+"<strong><em>","</em></strong>")})).replace(/([^*]|^)\B\*\*(\S[\s\S]*?)\*\*\B(?!\*)/g,function(e,t,n){return r(n,t+"<strong>","</strong>")})).replace(/([^*]|^)\B\*(\S[\s\S]*?)\*\B(?!\*)/g,function(e,t,n){return r(n,t+"<em>","</em>")}):(e=(e=e.replace(/\*\*\*(\S[\s\S]*?)\*\*\*/g,function(e,t){return/\S$/.test(t)?r(t,"<strong><em>","</em></strong>"):e})).replace(/\*\*(\S[\s\S]*?)\*\*/g,function(e,t){return/\S$/.test(t)?r(t,"<strong>","</strong>"):e})).replace(/\*([^\s*][\s\S]*?)\*/g,function(e,t){return/\S$/.test(t)?r(t,"<em>","</em>"):e}),e=n.converter._dispatch("italicsAndBold.after",e,t,n)}),v.subParser("lists",function(e,d,l){"use strict";function p(e,t){l.gListLevel++,e=e.replace(/\n{2,}$/,"\n");var n=/(\n)?(^ {0,3})([*+-]|\d+[.])[ \t]+((\[(x|X| )?])?[ \t]*[^\r]+?(\n{1,2}))(?=\n*(0| {0,3}([*+-]|\d+[.])[ \t]+))/gm,u=/\n[ \t]*\n(?!0)/.test(e+="0");return d.disableForced4SpacesIndentedSublists&&(n=/(\n)?(^ {0,3})([*+-]|\d+[.])[ \t]+((\[(x|X| )?])?[ \t]*[^\r]+?(\n{1,2}))(?=\n*(0|\2([*+-]|\d+[.])[ \t]+))/gm),e=(e=e.replace(n,function(e,t,n,r,i,o,a){a=a&&""!==a.trim();var s=v.subParser("outdent")(i,d,l),c="";return o&&d.tasklists&&(c=' class="task-list-item" style="list-style-type: none;"',s=s.replace(/^[ \t]*\[(x|X| )?]/m,function(){var e='<input type="checkbox" disabled style="margin: 0px 0.35em 0.25em -1.6em; vertical-align: middle;"';return a&&(e+=" checked"),e+=">"})),s=s.replace(/^([-*+]|\d\.)[ \t]+[\S\n ]*/g,function(e){return"A"+e}),s="<li"+c+">"+(s=(s=t||-1<s.search(/\n{2,}/)?(s=v.subParser("githubCodeBlocks")(s,d,l),v.subParser("blockGamut")(s,d,l)):(s=(s=v.subParser("lists")(s,d,l)).replace(/\n$/,""),s=(s=v.subParser("hashHTMLBlocks")(s,d,l)).replace(/\n\n+/g,"\n\n"),(u?v.subParser("paragraphs"):v.subParser("spanGamut"))(s,d,l))).replace("A",""))+"</li>\n"})).replace(/0/g,""),l.gListLevel--,t&&(e=e.replace(/\s+$/,"")),e}function f(e,t){if("ol"===t){var n=e.match(/^ *(\d+)\./);if(n&&"1"!==n[1])return' start="'+n[1]+'"'}return""}function i(i,o,a){var e,s=d.disableForced4SpacesIndentedSublists?/^ ?\d+\.[ \t]/gm:/^ {0,3}\d+\.[ \t]/gm,c=d.disableForced4SpacesIndentedSublists?/^ ?[*+-][ \t]/gm:/^ {0,3}[*+-][ \t]/gm,u="ul"===o?s:c,l="";return-1!==i.search(u)?function e(t){var n=t.search(u),r=f(i,o);-1!==n?(l+="\n\n<"+o+r+">\n"+p(t.slice(0,n),!!a)+"</"+o+">\n",u="ul"===(o="ul"===o?"ol":"ul")?s:c,e(t.slice(n))):l+="\n\n<"+o+r+">\n"+p(t,!!a)+"</"+o+">\n"}(i):(e=f(i,o),l="\n\n<"+o+e+">\n"+p(i,!!a)+"</"+o+">\n"),l}return e=l.converter._dispatch("lists.before",e,d,l),e+="0",e=(e=l.gListLevel?e.replace(/^(( {0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm,function(e,t,n){return i(t,-1<n.search(/[*+-]/g)?"ul":"ol",!0)}):e.replace(/(\n\n|^\n?)(( {0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm,function(e,t,n,r){return i(n,-1<r.search(/[*+-]/g)?"ul":"ol",!1)})).replace(/0/,""),e=l.converter._dispatch("lists.after",e,d,l)}),v.subParser("metadata",function(e,t,r){"use strict";return t.metadata?(e=(e=(e=(e=r.converter._dispatch("metadata.before",e,t,r)).replace(/^\s*+(\S*?)\n([\s\S]+?)\n+\n/,function(e,t,n){return i(n),"M"})).replace(/^\s*---+(\S*?)\n([\s\S]+?)\n---+\n/,function(e,t,n){return t&&(r.metadata.format=t),i(n),"M"})).replace(/M/g,""),e=r.converter._dispatch("metadata.after",e,t,r)):e;function i(e){(e=(e=(r.metadata.raw=e).replace(/&/g,"&amp;").replace(/"/g,"&quot;")).replace(/\n {4}/g," ")).replace(/^([\S ]+): +([\s\S]+?)$/gm,function(e,t,n){return r.metadata.parsed[t]=n,""})}}),v.subParser("outdent",function(e,t,n){"use strict";return e=(e=(e=n.converter._dispatch("outdent.before",e,t,n)).replace(/^(\t|[ ]{1,4})/gm,"0")).replace(/0/g,""),e=n.converter._dispatch("outdent.after",e,t,n)}),v.subParser("paragraphs",function(e,t,n){"use strict";for(var r=(e=(e=(e=n.converter._dispatch("paragraphs.before",e,t,n)).replace(/^\n+/g,"")).replace(/\n+$/g,"")).split(/\n{2,}/g),i=[],o=r.length,a=0;a<o;a++){var s=r[a];0<=s.search(/(K|G)(\d+)\1/g)?i.push(s):0<=s.search(/\S/)&&(s=(s=v.subParser("spanGamut")(s,t,n)).replace(/^([ \t]*)/g,"<p>"),s+="</p>",i.push(s))}for(o=i.length,a=0;a<o;a++){for(var c="",u=i[a],l=!1;/(K|G)(\d+)\1/.test(u);){var d=RegExp.$1,p=RegExp.$2;c=(c="K"===d?n.gHtmlBlocks[p]:l?v.subParser("encodeCode")(n.ghCodeBlocks[p].text,t,n):n.ghCodeBlocks[p].codeblock).replace(/\$/g,"$$$$"),u=u.replace(/(\n\n)?(K|G)\d+\2(\n\n)?/,c),/^<pre\b[^>]*>\s*<code\b[^>]*>/.test(u)&&(l=!0)}i[a]=u}return e=(e=(e=i.join("\n")).replace(/^\n+/g,"")).replace(/\n+$/g,""),n.converter._dispatch("paragraphs.after",e,t,n)}),v.subParser("runExtension",function(e,t,n,r){"use strict";var i;return e.filter?t=e.filter(t,r.converter,n):e.regex&&((i=e.regex)instanceof RegExp||(i=new RegExp(i,"g")),t=t.replace(i,e.replace)),t}),v.subParser("spanGamut",function(e,t,n){"use strict";return e=n.converter._dispatch("spanGamut.before",e,t,n),e=v.subParser("codeSpans")(e,t,n),e=v.subParser("escapeSpecialCharsWithinTagAttributes")(e,t,n),e=v.subParser("encodeBackslashEscapes")(e,t,n),e=v.subParser("images")(e,t,n),e=v.subParser("anchors")(e,t,n),e=v.subParser("autoLinks")(e,t,n),e=v.subParser("simplifiedAutoLinks")(e,t,n),e=v.subParser("emoji")(e,t,n),e=v.subParser("underline")(e,t,n),e=v.subParser("italicsAndBold")(e,t,n),e=v.subParser("strikethrough")(e,t,n),e=v.subParser("ellipsis")(e,t,n),e=v.subParser("hashHTMLSpans")(e,t,n),e=v.subParser("encodeAmpsAndAngles")(e,t,n),t.simpleLineBreaks?/\n\nK/.test(e)||(e=e.replace(/\n+/g,"<br />\n")):e=e.replace(/  +\n/g,"<br />\n"),e=n.converter._dispatch("spanGamut.after",e,t,n)}),v.subParser("strikethrough",function(e,t,n){"use strict";function r(e){return t.simplifiedAutoLink&&(e=v.subParser("simplifiedAutoLinks")(e,t,n)),"<del>"+e+"</del>"}return t.strikethrough&&(e=(e=n.converter._dispatch("strikethrough.before",e,t,n)).replace(/(?:~){2}([\s\S]+?)(?:~){2}/g,function(e,t){return r(t)}),e=n.converter._dispatch("strikethrough.after",e,t,n)),e}),v.subParser("stripLinkDefinitions",function(e,s,c){"use strict";var t=/^ {0,3}\[(.+)]:[ \t]*\n?[ \t]*<?([^>\s]+)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*\n?[ \t]*(?:(\n*)["|'(](.+?)["|')][ \t]*)?(?:\n+|(?=0))/gm,n=function(e,t,n,r,i,o,a){return t=t.toLowerCase(),n.match(/^data:.+?\/.+?;base64,/)?c.gUrls[t]=n.replace(/\s/g,""):c.gUrls[t]=v.subParser("encodeAmpsAndAngles")(n,s,c),o?o+a:(a&&(c.gTitles[t]=a.replace(/"|'/g,"&quot;")),s.parseImgDimensions&&r&&i&&(c.gDimensions[t]={width:r,height:i}),"")};return e=(e=(e=(e+="0").replace(/^ {0,3}\[(.+)]:[ \t]*\n?[ \t]*<?(data:.+?\/.+?;base64,[A-Za-z0-9+/=\n]+?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*\n?[ \t]*(?:(\n*)["|'(](.+?)["|')][ \t]*)?(?:\n\n|(?=0)|(?=\n\[))/gm,n)).replace(t,n)).replace(/0/,"")}),v.subParser("tables",function(e,d,p){"use strict";if(!d.tables)return e;var t=/^ {0,3}\|?.+\|.+\n {0,3}\|?[ \t]*:?[ \t]*(?:[-=]){2,}[ \t]*:?[ \t]*\|[ \t]*:?[ \t]*(?:[-=]){2,}[\s\S]+?(?:\n\n|0)/gm,n=/^ {0,3}\|.+\|[ \t]*\n {0,3}\|[ \t]*:?[ \t]*(?:[-=]){2,}[ \t]*:?[ \t]*\|[ \t]*\n( {0,3}\|.+\|[ \t]*\n)*(?:\n|0)/gm;function f(e){return/^:[ \t]*--*$/.test(e)?' style="text-align:left;"':/^--*[ \t]*:[ \t]*$/.test(e)?' style="text-align:right;"':/^:[ \t]*--*[ \t]*:$/.test(e)?' style="text-align:center;"':""}function h(e,t){var n="";return e=e.trim(),(d.tablesHeaderId||d.tableHeaderId)&&(n=' id="'+e.replace(/ /g,"_").toLowerCase()+'"'),"<th"+n+t+">"+(e=v.subParser("spanGamut")(e,d,p))+"</th>\n"}function g(e,t){return"<td"+t+">"+v.subParser("spanGamut")(e,d,p)+"</td>\n"}function m(e,t){for(var n="<table>\n<thead>\n<tr>\n",r=e.length,i=0;i<r;++i)n+=e[i];for(n+="</tr>\n</thead>\n<tbody>\n",i=0;i<t.length;++i){n+="<tr>\n";for(var o=0;o<r;++o)n+=t[i][o];n+="</tr>\n"}return n+="</tbody>\n</table>\n"}function r(e){for(var t=e.split("\n"),n=0;n<t.length;++n)/^ {0,3}\|/.test(t[n])&&(t[n]=t[n].replace(/^ {0,3}\|/,"")),/\|[ \t]*$/.test(t[n])&&(t[n]=t[n].replace(/\|[ \t]*$/,"")),t[n]=v.subParser("codeSpans")(t[n],d,p);var r=t[0].split("|").map(function(e){return e.trim()}),i=t[1].split("|").map(function(e){return e.trim()}),o=[],a=[],s=[],c=[];for(t.shift(),t.shift(),n=0;n<t.length;++n)""!==t[n].trim()&&o.push(t[n].split("|").map(function(e){return e.trim()}));if(r.length<i.length)return e;for(n=0;n<i.length;++n)s.push(f(i[n]));for(n=0;n<r.length;++n)v.helper.isUndefined(s[n])&&(s[n]=""),a.push(h(r[n],s[n]));for(n=0;n<o.length;++n){for(var u=[],l=0;l<a.length;++l)v.helper.isUndefined(o[n][l]),u.push(g(o[n][l],s[l]));c.push(u)}return m(a,c)}return e=(e=(e=(e=p.converter._dispatch("tables.before",e,d,p)).replace(/\\(\|)/g,v.helper.escapeCharactersCallback)).replace(t,r)).replace(n,r),e=p.converter._dispatch("tables.after",e,d,p)}),v.subParser("underline",function(e,t,n){"use strict";return t.underline?(e=n.converter._dispatch("underline.before",e,t,n),e=(e=t.literalMidWordUnderscores?(e=e.replace(/\b___(\S[\s\S]*?)___\b/g,function(e,t){return"<u>"+t+"</u>"})).replace(/\b__(\S[\s\S]*?)__\b/g,function(e,t){return"<u>"+t+"</u>"}):(e=e.replace(/___(\S[\s\S]*?)___/g,function(e,t){return/\S$/.test(t)?"<u>"+t+"</u>":e})).replace(/__(\S[\s\S]*?)__/g,function(e,t){return/\S$/.test(t)?"<u>"+t+"</u>":e})).replace(/(_)/g,v.helper.escapeCharactersCallback),e=n.converter._dispatch("underline.after",e,t,n)):e}),v.subParser("unescapeSpecialChars",function(e,t,n){"use strict";return e=(e=n.converter._dispatch("unescapeSpecialChars.before",e,t,n)).replace(/E(\d+)E/g,function(e,t){var n=parseInt(t);return String.fromCharCode(n)}),e=n.converter._dispatch("unescapeSpecialChars.after",e,t,n)}),v.subParser("makeMarkdown.blockquote",function(e,t){"use strict";var n="";if(e.hasChildNodes())for(var r=e.childNodes,i=r.length,o=0;o<i;++o){var a=v.subParser("makeMarkdown.node")(r[o],t);""!==a&&(n+=a)}return n="> "+(n=n.trim()).split("\n").join("\n> ")}),v.subParser("makeMarkdown.codeBlock",function(e,t){"use strict";var n=e.getAttribute("language"),r=e.getAttribute("precodenum");return"```"+n+"\n"+t.preList[r]+"\n```"}),v.subParser("makeMarkdown.codeSpan",function(e){"use strict";return"`"+e.innerHTML+"`"}),v.subParser("makeMarkdown.emphasis",function(e,t){"use strict";var n="";if(e.hasChildNodes()){n+="*";for(var r=e.childNodes,i=r.length,o=0;o<i;++o)n+=v.subParser("makeMarkdown.node")(r[o],t);n+="*"}return n}),v.subParser("makeMarkdown.header",function(e,t,n){"use strict";var r=new Array(n+1).join("#"),i="";if(e.hasChildNodes()){i=r+" ";for(var o=e.childNodes,a=o.length,s=0;s<a;++s)i+=v.subParser("makeMarkdown.node")(o[s],t)}return i}),v.subParser("makeMarkdown.hr",function(){"use strict";return"---"}),v.subParser("makeMarkdown.image",function(e){"use strict";var t="";return e.hasAttribute("src")&&(t+="!["+e.getAttribute("alt")+"](",t+="<"+e.getAttribute("src")+">",e.hasAttribute("width")&&e.hasAttribute("height")&&(t+=" ="+e.getAttribute("width")+"x"+e.getAttribute("height")),e.hasAttribute("title")&&(t+=' "'+e.getAttribute("title")+'"'),t+=")"),t}),v.subParser("makeMarkdown.links",function(e,t){"use strict";var n="";if(e.hasChildNodes()&&e.hasAttribute("href")){for(var r=e.childNodes,i=r.length,n="[",o=0;o<i;++o)n+=v.subParser("makeMarkdown.node")(r[o],t);n+="](",n+="<"+e.getAttribute("href")+">",e.hasAttribute("title")&&(n+=' "'+e.getAttribute("title")+'"'),n+=")"}return n}),v.subParser("makeMarkdown.list",function(e,t,n){"use strict";var r="";if(!e.hasChildNodes())return"";for(var i=e.childNodes,o=i.length,a=e.getAttribute("start")||1,s=0;s<o;++s)void 0!==i[s].tagName&&"li"===i[s].tagName.toLowerCase()&&(r+=("ol"===n?a.toString()+". ":"- ")+v.subParser("makeMarkdown.listItem")(i[s],t),++a);return(r+="\n\x3c!-- --\x3e\n").trim()}),v.subParser("makeMarkdown.listItem",function(e,t){"use strict";for(var n="",r=e.childNodes,i=r.length,o=0;o<i;++o)n+=v.subParser("makeMarkdown.node")(r[o],t);return/\n$/.test(n)?n=n.split("\n").join("\n    ").replace(/^ {4}$/gm,"").replace(/\n\n+/g,"\n\n"):n+="\n",n}),v.subParser("makeMarkdown.node",function(e,t,n){"use strict";n=n||!1;var r="";if(3===e.nodeType)return v.subParser("makeMarkdown.txt")(e,t);if(8===e.nodeType)return"\x3c!--"+e.data+"--\x3e\n\n";if(1!==e.nodeType)return"";switch(e.tagName.toLowerCase()){case"h1":n||(r=v.subParser("makeMarkdown.header")(e,t,1)+"\n\n");break;case"h2":n||(r=v.subParser("makeMarkdown.header")(e,t,2)+"\n\n");break;case"h3":n||(r=v.subParser("makeMarkdown.header")(e,t,3)+"\n\n");break;case"h4":n||(r=v.subParser("makeMarkdown.header")(e,t,4)+"\n\n");break;case"h5":n||(r=v.subParser("makeMarkdown.header")(e,t,5)+"\n\n");break;case"h6":n||(r=v.subParser("makeMarkdown.header")(e,t,6)+"\n\n");break;case"p":n||(r=v.subParser("makeMarkdown.paragraph")(e,t)+"\n\n");break;case"blockquote":n||(r=v.subParser("makeMarkdown.blockquote")(e,t)+"\n\n");break;case"hr":n||(r=v.subParser("makeMarkdown.hr")(e,t)+"\n\n");break;case"ol":n||(r=v.subParser("makeMarkdown.list")(e,t,"ol")+"\n\n");break;case"ul":n||(r=v.subParser("makeMarkdown.list")(e,t,"ul")+"\n\n");break;case"precode":n||(r=v.subParser("makeMarkdown.codeBlock")(e,t)+"\n\n");break;case"pre":n||(r=v.subParser("makeMarkdown.pre")(e,t)+"\n\n");break;case"table":n||(r=v.subParser("makeMarkdown.table")(e,t)+"\n\n");break;case"code":r=v.subParser("makeMarkdown.codeSpan")(e,t);break;case"em":case"i":r=v.subParser("makeMarkdown.emphasis")(e,t);break;case"strong":case"b":r=v.subParser("makeMarkdown.strong")(e,t);break;case"del":r=v.subParser("makeMarkdown.strikethrough")(e,t);break;case"a":r=v.subParser("makeMarkdown.links")(e,t);break;case"img":r=v.subParser("makeMarkdown.image")(e,t);break;default:r=e.outerHTML+"\n\n"}return r}),v.subParser("makeMarkdown.paragraph",function(e,t){"use strict";var n="";if(e.hasChildNodes())for(var r=e.childNodes,i=r.length,o=0;o<i;++o)n+=v.subParser("makeMarkdown.node")(r[o],t);return n=n.trim()}),v.subParser("makeMarkdown.pre",function(e,t){"use strict";var n=e.getAttribute("prenum");return"<pre>"+t.preList[n]+"</pre>"}),v.subParser("makeMarkdown.strikethrough",function(e,t){"use strict";var n="";if(e.hasChildNodes()){n+="~~";for(var r=e.childNodes,i=r.length,o=0;o<i;++o)n+=v.subParser("makeMarkdown.node")(r[o],t);n+="~~"}return n}),v.subParser("makeMarkdown.strong",function(e,t){"use strict";var n="";if(e.hasChildNodes()){n+="**";for(var r=e.childNodes,i=r.length,o=0;o<i;++o)n+=v.subParser("makeMarkdown.node")(r[o],t);n+="**"}return n}),v.subParser("makeMarkdown.table",function(e,t){"use strict";for(var n="",r=[[],[]],i=e.querySelectorAll("thead>tr>th"),o=e.querySelectorAll("tbody>tr"),a=0;a<i.length;++a){var s=v.subParser("makeMarkdown.tableCell")(i[a],t),c="---";if(i[a].hasAttribute("style"))switch(i[a].getAttribute("style").toLowerCase().replace(/\s/g,"")){case"text-align:left;":c=":---";break;case"text-align:right;":c="---:";break;case"text-align:center;":c=":---:"}r[0][a]=s.trim(),r[1][a]=c}for(a=0;a<o.length;++a)for(var u=r.push([])-1,l=o[a].getElementsByTagName("td"),d=0;d<i.length;++d){var p=" ";void 0!==l[d]&&(p=v.subParser("makeMarkdown.tableCell")(l[d],t)),r[u].push(p)}var f=3;for(a=0;a<r.length;++a)for(d=0;d<r[a].length;++d){var h=r[a][d].length;f<h&&(f=h)}for(a=0;a<r.length;++a){for(d=0;d<r[a].length;++d)1===a?":"===r[a][d].slice(-1)?r[a][d]=v.helper.padEnd(r[a][d].slice(-1),f-1,"-")+":":r[a][d]=v.helper.padEnd(r[a][d],f,"-"):r[a][d]=v.helper.padEnd(r[a][d],f);n+="| "+r[a].join(" | ")+" |\n"}return n.trim()}),v.subParser("makeMarkdown.tableCell",function(e,t){"use strict";var n="";if(!e.hasChildNodes())return"";for(var r=e.childNodes,i=r.length,o=0;o<i;++o)n+=v.subParser("makeMarkdown.node")(r[o],t,!0);return n.trim()}),v.subParser("makeMarkdown.txt",function(e){"use strict";var t=e.nodeValue;return t=(t=t.replace(/ +/g," ")).replace(/NBSP;/g," "),t=(t=(t=(t=(t=(t=(t=(t=(t=v.helper.unescapeHTMLEntities(t)).replace(/([*_~|`])/g,"\\$1")).replace(/^(\s*)>/g,"\\$1>")).replace(/^#/gm,"\\#")).replace(/^(\s*)([-=]{3,})(\s*)$/,"$1\\$2$3")).replace(/^( {0,3}\d+)\./gm,"$1\\.")).replace(/^( {0,3})([+-])/gm,"$1\\$2")).replace(/]([\s]*)\(/g,"\\]$1\\(")).replace(/^ {0,3}\[([\S \t]*?)]:/gm,"\\[$1]:")});void 0===(_=function(){"use strict";return v}.call(b,E,b,t))||(t.exports=_)}).call(this)},M5eE:function(e,t,n){"use strict";var r=n("Bvq2");e.exports=function(e,t){var n=[][e];return!n||!r(function(){n.call(null,t||function(){throw 1},1)})}},M7fG:function(e,t,n){"use strict";var r=n("AsxP"),i=n("RNEt"),c=function(e,t,n){return t=i.extend({decodeEntities:!1},t||{}),e=n(e),r.load(e,t)},u=function(){var i=[];return{encodeEntities:function(n){var r=e.exports.codeBlocks;return Object.keys(r).forEach(function(e){var t=new RegExp(r[e].start+"([\\S\\s]*?)"+r[e].end,"g");n=n.replace(t,function(e,t){return i.push(e),"JUICE_CODE_BLOCK_"+(i.length-1)+"_"})}),n},decodeEntities:function(e){for(var t=0;t<i.length;t++){var n=new RegExp("JUICE_CODE_BLOCK_"+t+'_(="")?',"gi");e=e.replace(n,function(){return i[t]})}return e}}};e.exports=function(e,t,n,r){var i=u(),o=c(e,t,i.encodeEntities),a=[o];a.push.apply(a,r);var s=n.apply(void 0,a)||o;return t&&t.xmlMode?i.decodeEntities(s.xml()):i.decodeEntities(s.html())},e.exports.codeBlocks={EJS:{start:"<%",end:"%>"},HBS:{start:"{{",end:"}}"}}},M8cP:function(e,t,n){"use strict";function o(e){var t=document.createElement("a");t.href=e;try{return{protocol:t.protocol,hostname:t.hostname}}catch(e){return null}}function r(e){var t=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],n=o(e);if(!n)return"";var r=n.protocol,i=n.hostname;return t?[r,i].join("//"):i}function i(e){return r(e,!1)}function a(e){var t=o(e);return t?t.hostname:""}n.d(t,"d",function(){return o}),n.d(t,"b",function(){return r}),n.d(t,"c",function(){return i}),n.d(t,"a",function(){return a})},MAKL:function(e,t,n){e.exports=n("lqgj")},MFtX:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r={id:"",en_name:"",cn_name:""},i={authStatus:{authUrl:"",authState:n("LaDK").a.HAS_NOT_FETCH,baseUrl:"",jiraType:"",canApply:!1,adminInfo:r},syncStatus:{},initDataMap:{}}},MJIl:function(e,t,n){var i=n("QoRX"),o=n("ut/Y"),a=n("Nh2a"),s=n("Z0cm"),c=n("mv/X");function r(e,t,n){var r=s(e)?i:a;return n&&c(e,t,n)&&(t=void 0),r(e,o(t,3))}e.exports=r},MMiu:function(e,t){var h=Math.max;function n(e,t,n,r){for(var i=-1,o=e.length,a=-1,s=n.length,c=-1,u=t.length,l=h(o-s,0),d=Array(l+u),p=!r;++i<l;)d[i]=e[i];for(var f=i;++c<u;)d[f+c]=t[c];for(;++a<s;)(p||i<o)&&(d[f+n[a]]=e[i++]);return d}e.exports=n},MMmD:function(e,t,n){var r=n("lSCD"),i=n("shjB");function o(e){return null!=e&&i(e.length)&&!r(e)}e.exports=o},MO5G:function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n("lQZd"),i=n("QM+C"),o=n("rLED"),a=n("skFV"),s=function(){return!![i.NUM_SUITE_TYPE.DOC,i.NUM_SUITE_TYPE.SHEET,i.NUM_SUITE_TYPE.MINDNOTE,i.NUM_SUITE_TYPE.WIKI].includes(Object(r.l)())&&Object(o.I)("comment_image_enabled",Object(a.v)())}},MXQz:function(e,t,n){"use strict";var r=n("UPmY");function i(e){return Object(r.a)(2,e)}t.a=i},Meht:function(e,t,n){"use strict";var m=n("msdH"),v=n("cvt+"),y=n("+2NU"),b=n("twO/"),E=n("ovuK"),_=n("ZWiB"),C=Math.min;function r(e,t,n){for(var r=(n?y:v).a,i=e[0].length,o=e.length,a=o,s=Array(o),c=1/0,u=[];a--;){var l=e[a];a&&t&&(l=Object(b.a)(l,Object(E.a)(t))),c=C(l.length,c),s[a]=!n&&(t||120<=i&&120<=l.length)?new m.a(a&&l):void 0}l=e[0];var d=-1,p=s[0];e:for(;++d<i&&u.length<c;){var f=l[d],h=t?t(f):f,f=n||0!==f?f:0;if(!(p?Object(_.a)(p,h):r(u,h,n))){for(a=o;--a;){var g=s[a];if(!(g?Object(_.a)(g,h):r(e[a],h,n)))continue e}p&&p.push(h),u.push(f)}}return u}t.a=r},MjSh:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="#0c296e",i="#133c9a",o="#1c4cba",a="#245bdb",s="#3370ff",c="#4e83fd",u="#82a7fc",l="#bacefd",d="#e1eaff",p="#f0f4ff",f="#004761",h="#006185",g="#037eaa",m="#049fd7",v="#14c0ff",y="#50cefb",b="#7edafb",E="#b1e8fc",_="#d9f3fd",C="#ecf9fe",T="#024b41",O="#036356",k="#078372",S="#04b49c",w="#00d6b9",I="#14e1c6",x="#64e8d6",L="#a9efe6",R="#d5f6f2",N="#eafaf8",D="#5c3a00",M="#795101",P="#aa7803",j="#dc9b04",F="#ffc60a",B="#fad355",U="#f7dc82",H="#f8e6ab",z="#faf1d1",V="#fdf9ed",K="#6b3900",W="#8f4f04",Y="#b26206",q="#de7802",Z="#ff8800",X="#ffa53d",Q="#ffba6b",J="#fed4a4",$="#feead2",ee="#fff5eb",te="#621c18",ne="#812520",re="#ac2f28",ie="#d83931",oe="#f54a45",ae="#f76964",se="#f98e8b",ce="#fbbfbc",ue="#fde2e2",le="#fef1f1",de="#520a32",pe="#7a0f4b",fe="#9e1361",he="#c71077",ge="#f01d94",me="#f14ba9",ve="#f57ac0",ye="#f9aed9",be="#fdddef",Ee="#fef1f8",_e="#270561",Ae="#380d82",Ce="#4e1ba7",Te="#6425d0",Oe="#7f3bf5",ke="#935af6",Se="#ad82f7",we="#cdb2fa",Ie="#ece2fe",xe="#f6f1fe",Le="#000000",Re="#0f1114",Ne="#1f2329",De="#2b2f36",Me="#373c43",Pe="#51565d",je="#646a73",Fe="#8f959e",Be="#bbbfc4",Ue="#dee0e3",He="#eff0f1",ze="#f5f6f7",Ve="#f8f9fa",Ke="#ffffff",Ge="#124b0c",We="#186010",Ye="#237b19",qe="#2ea121",Ze="#34c724",Xe="#62d256",Qe="#8ee085",Je="#b7edb1",$e="#d9f5d6",et="#f0fbef",tt="#354200",nt="#495700",rt="#667901",it="#8fac02",ot="#b3d600",at="#c3dd40",st="#d2e76a",ct="#dfee96",ut="#eef6c6",lt="#f7fae5",dt="#460b46",pt="#681268",ft="#8c218c",ht="#b320b3",gt="#d136d1",mt="#db66db",vt="#e58fe5",yt="#efb9ef",bt="#f8def8",Et="#fceefc",_t="#0c1264",At="#0a1285",Ct="#161fa2",Tt="#2933c7",Ot="#4954e6",kt="#616ae5",St="#7b83ea",wt="#b4b9f3",It="#e0e2fa",xt="#f2f3fd",Lt=["#3370FF","#64E8D6","#667901","#FF8800","#520A32","#AD82F7","#049FD7","#2EA121","#795101","#F76964","#B220B2","#0A1285","#50CEFB","#186010","#B26206","#F57AC0","#7F3BF5","#00D6B9","#354200","#FFBA6B","#9E1361","#270561","#1C4CBA","#078372","#B3D600","#6B3900","#F01D94","#4E1BA7","#D83931","#DB66DB","#2933C7","#006185","#62D256","#812520","#681268","#616AE5","#024B41","#82A7FC","#0C296E"];t.B100=d,t.B200=l,t.B300=u,t.B400=c,t.B50=p,t.B500=s,t.B600=a,t.B700=o,t.B800=i,t.B900=r,t.C100=be,t.C200=ye,t.C300=ve,t.C400=me,t.C50=Ee,t.C500=ge,t.C600=he,t.C700=fe,t.C800=pe,t.C900=de,t.CURSOR_COLOR_PALETTE=Lt,t.G100=$e,t.G200=Je,t.G300=Qe,t.G400=Xe,t.G50=et,t.G500=Ze,t.G600=qe,t.G700=Ye,t.G800=We,t.G900=Ge,t.I100=It,t.I200=wt,t.I300=St,t.I400=kt,t.I50=xt,t.I500=Ot,t.I600=Tt,t.I700=Ct,t.I800=At,t.I900=_t,t.L100=ut,t.L200=ct,t.L300=st,t.L400=at,t.L50=lt,t.L500=ot,t.L600=it,t.L700=rt,t.L800=nt,t.L900=tt,t.N00=Ke,t.N100=ze,t.N1000=Le,t.N200=He,t.N300=Ue,t.N400=Be,t.N50=Ve,t.N500=Fe,t.N600=je,t.N650=Pe,t.N700=Me,t.N800=De,t.N900=Ne,t.N950=Re,t.O100=$,t.O200=J,t.O300=Q,t.O400=X,t.O50=ee,t.O500=Z,t.O600=q,t.O700=Y,t.O800=W,t.O900=K,t.P100=Ie,t.P200=we,t.P300=Se,t.P400=ke,t.P50=xe,t.P500=Oe,t.P600=Te,t.P700=Ce,t.P800=Ae,t.P900=_e,t.R100=ue,t.R200=ce,t.R300=se,t.R400=ae,t.R50=le,t.R500=oe,t.R600=ie,t.R700=re,t.R800=ne,t.R900=te,t.T100=R,t.T200=L,t.T300=x,t.T400=I,t.T50=N,t.T500=w,t.T600=S,t.T700=k,t.T800=O,t.T900=T,t.V100=bt,t.V200=yt,t.V300=vt,t.V400=mt,t.V50=Et,t.V500=gt,t.V600=ht,t.V700=ft,t.V800=pt,t.V900=dt,t.W100=_,t.W200=E,t.W300=b,t.W400=y,t.W50=C,t.W500=v,t.W600=m,t.W700=g,t.W800=h,t.W900=f,t.Y100=z,t.Y200=H,t.Y300=U,t.Y400=B,t.Y50=V,t.Y500=F,t.Y600=j,t.Y700=P,t.Y800=M,t.Y900=D},Mp37:function(e,t,n){"use strict";n.r(t),n.d(t,"CLASS_INVISIBLE",function(){return B}),n.d(t,"TOOLBAR_TYPE",function(){return ke}),n.d(t,"UX_ACTION_TYPE",function(){return Oe}),n.d(t,"UX_EVENT_TYPE",function(){return Te});var i=n("Muja"),o=n("dYt1"),T=n("UXvI"),O=n("fujP"),k=n("hbEN"),r=n("TSYQ"),a=n.n(r),s=n("puQj"),l=n.n(s);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t,n){return t&&d(e.prototype,t),n&&d(e,n),e}function S(e,t){return f(e)||h(e,t)||g()}function f(e){if(Array.isArray(e))return e}function h(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}function g(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}var m={theme:"DEFAULT",initialViewIndex:0,inline:!1,navbar:!0,toolbar:!0,tooltip:!0,movable:!0,zoomable:!0,rotatable:!0,scalable:!0,transition:!0,fullscreen:!0,interval:5e3,keyboard:!0,forceKeyboard:!1,backdrop:!0,loading:!1,loop:!0,minWidth:200,minHeight:100,zoomRatio:.1,minZoomRatio:.01,maxZoomRatio:100,zIndex:2015,zIndexInline:0,url:"src",container:"body",filter:null,toggleOnDblclick:!0,autohideControls:!0,hideControlsOnStart:!1,reportThrottle:1e3,showClose:!0,ready:null,show:null,shown:null,hide:null,hidden:null,view:null,viewed:null,zoom:null,zoomed:null,report:null,onImageDataUpdate:null,onDownload:null},v=a()("viewer-container",{"view-container-in-windows":l.a.windows}),w=function(e){return['<div class="'.concat(v,'" touch-action="none">'),'<div class="viewer-background"></div>','<div class="viewer-canvas"></div>','<div class="viewer-loading"><svg class="loading-spinner" width="40px" height="40px" viewBox="0 0 66 66" xmlns="http://www.w3.org/2000/svg"><circle class="spinner-path" fill="none" stroke-width="6" stroke-linecap="round" cx="33" cy="33" r="30"></circle></svg></div>','<div class="viewer-header" data-viewer-action="hide">','<div role="button" class="viewer-icon-close" data-viewer-action="mix"></div>',"</div>",'<div class="viewer-left" data-viewer-action="hide">','<div role="button" class="viewer-icon-prev" data-viewer-action="prev">','<div class="tooltiptext">'.concat(e.toolbar_prev,"</div>"),"</div>","</div>",'<div class="viewer-right" data-viewer-action="hide">','<div role="button" class="viewer-icon-next" data-viewer-action="next">','<div class="tooltiptext">'.concat(e.toolbar_next,"</div>"),"</div>","</div>",'<div class="viewer-index"></div>','<div class="viewer-footer" data-viewer-action="hide">','<ul class="viewer-toolbar"></ul>','<div class="viewer-navbar">','<ul class="viewer-list"></ul>',"</div>","</div>",'<div class="viewer-tooltip"></div>','<div class="viewer-player"></div>',"</div>"].join("")},y="undefined"!=typeof window,b=y?window:{},I="viewer",E="move",_="switch",C="zoom",x="".concat(I,"-active"),L="".concat(I,"-fade"),R="".concat(I,"-fixed"),N="".concat(I,"-hide"),D="".concat(I,"-disable"),M="".concat(I,"-hide-md-down"),P="".concat(I,"-hide-sm-down"),j="".concat(I,"-hide-xs-down"),F="".concat(I,"-in"),B="".concat(I,"-invisible"),U="".concat(I,"-visible"),H="".concat(I,"-loading-show"),z="".concat(I,"-move"),V="".concat(I,"-open"),K="".concat(I,"-show"),W="".concat(I,"-transition"),Y="click",q="dragstart",Z="hidden",X="hide",Q="keydown",J="keyup",$="keypress",ee="load",te=b.PointerEvent?"pointerdown":"touchstart mousedown",ne=b.PointerEvent?"pointermove":"touchmove mousemove",re=b.PointerEvent?"pointerup pointercancel":"touchend touchcancel mouseup",ie="gesturestart",oe="gesturechange",ae="gestureend",se="mouseenter",ce="mouseleave",ue="mousemove",le="ready",de="resize",pe="show",fe="shown",he="transitionend",ge="view",me="viewed",ve="imageDataUpdate",ye="wheel mousewheel DOMMouseScroll",be="zoom",Ee="zoomed",_e=3,Ae="".concat(I,"Action"),Ce=["zoom-in","zoom-out","one-to-one","reset","prev","play","next","rotate-left","rotate-right","flip-horizontal","flip-vertical","fullscreen","download"],Te={CANVAS_CLICK:"CANVAS_CLICK",CANVAS_DBL_CLICK:"CANVAS_DBL_CLICK",BUTTON_CLICK:"BUTTON_CLICK",BACKGROUND_CLICK:"BACKGROUND_CLICK",KEYBOARD:"KEYBOARD",PINCH:"PINCH",SWIPE:"SWIPE",DRAG:"DRAG",WHEEL:"WHEEL",INIT_ZOOM:"INIT_ZOOM"},Oe={NEXT:"NEXT",PREV:"PREV",ZOOM_IN:"ZOOM_IN",ZOOM_OUT:"ZOOM_OUT",MOVE:"MOVE",ROTATE:"ROTATE",ORIGINAL_SIZE:"ORIGINAL_SIZE",INITIAL_SIZE:"INITIAL_SIZE",HIDE:"HIDE",FULLSCREEN:"FULLSCREEN",NOT_FULLSCREEN:"NOT_FULLSCREEN"},ke={PREV:"prev",PAGE_NUM:"pageNum",NEXT:"next",SEPARATOR_LINE:"separatorLine",ZOOM_IN:"zoomIn",RATIO:"ratio",ZOOM_OUT:"zoomOut",ONE_TO_ONE:"oneToOne",DOWNLOAD:"download",ROTATE_LEFT:"rotateLeft",FULLSCREEN:"fullscreen"},Se={DEFAULT:"DEFAULT",BLACK:"BLACK"},we=2.4,Ie=400,xe=520,Le=2e3,Re="black",Ne=/^(?:blob:)?(?:([A-Za-z]+):){1}(?:\/\/([.\-\w]+)){1}(?::(\d+))?(\/[^?#<>"']*)?(\?[^#<>"']*)?(#[^<>"']*)?$/,De=/^data:image\/[a-z]+;base64,([A-Za-z0-9+/]{4})*([A-Za-z0-9+/]{4}|[A-Za-z0-9+/]{3}=|[A-Za-z0-9+/]{2}==)$/;function Me(e){return"string"==typeof e}var Pe=Number.isNaN||b.isNaN;function je(e){return"number"==typeof e&&!Pe(e)}function Fe(e){return void 0===e}function Be(e){return"object"===c(e)&&null!==e}var Ue=Object.prototype.hasOwnProperty;function He(e){if(!Be(e))return!1;try{var t=e.constructor,n=t.prototype;return t&&n&&Ue.call(n,"isPrototypeOf")}catch(e){return!1}}function ze(e){return"function"==typeof e}function Ve(t,n){if(t&&ze(n))if(Array.isArray(t)||je(t.length))for(var e=t.length,r=0;r<e&&!1!==n.call(t,t[r],r,t);r+=1);else Be(t)&&Object.keys(t).forEach(function(e){n.call(t,t[e],e,t)});return t}var Ke=Object.assign||function(n){for(var e=arguments.length,t=new Array(1<e?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];return Be(n)&&0<t.length&&t.forEach(function(t){Be(t)&&Object.keys(t).forEach(function(e){n[e]=t[e]})}),n},Ge=/^(?:width|height|left|top|marginLeft|marginTop)$/;function We(e,t){var n=e.style;Ve(t,function(e,t){Ge.test(t)&&je(e)&&(e+="px"),n[t]=e})}function Ye(e,t){return e.classList?e.classList.contains(t):-1<e.className.indexOf(t)}function qe(e,t){var n;t&&(je(e.length)?Ve(e,function(e){qe(e,t)}):e.classList?e.classList.add(t):(n=e.className.trim())?n.indexOf(t)<0&&(e.className="".concat(n," ").concat(t)):e.className=t)}function Ze(e,t){t&&(je(e.length)?Ve(e,function(e){Ze(e,t)}):e.classList?e.classList.remove(t):0<=e.className.indexOf(t)&&(e.className=e.className.replace(t,"")))}function Xe(e,t,n){t&&(je(e.length)?Ve(e,function(e){Xe(e,t,n)}):(n?qe:Ze)(e,t))}var Qe=/([a-z\d])([A-Z])/g;function Je(e){return e.replace(Qe,"$1-$2").toLowerCase()}function $e(e,t){return Be(e[t])?e[t]:e.dataset?e.dataset[t]:e.getAttribute("data-".concat(Je(t)))}function et(e,t,n){Be(n)?e[t]=n:e.dataset?e.dataset[t]=n:e.setAttribute("data-".concat(Je(t)),n)}function tt(t,n){if(Be(t[n]))try{delete t[n]}catch(e){t[n]=void 0}else if(t.dataset)try{delete t.dataset[n]}catch(e){t.dataset[n]=void 0}else t.removeAttribute("data-".concat(Je(n)))}var nt,rt,it,ot,at=/\s\s*/,st=(ot=!1,y&&(nt=!1,rt=function(){},it=Object.defineProperty({},"once",{get:function(){return ot=!0,nt},set:function(e){nt=e}}),b.addEventListener("test",rt,it),b.removeEventListener("test",rt,it)),ot);function ct(n,e,r){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{},o=r;e.trim().split(at).forEach(function(e){var t;st||(t=n.listeners)&&t[e]&&t[e][r]&&(o=t[e][r],delete t[e][r],0===Object.keys(t[e]).length&&delete t[e],0===Object.keys(t).length&&delete n.listeners),n.removeEventListener(e,o,i)})}function ut(o,e,a){var s=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{},c=a;e.trim().split(at).forEach(function(r){var e,i;s.once&&!st&&(e=o.listeners,c=function(){delete i[r][a],o.removeEventListener(r,c,s);for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];a.apply(o,t)},(i=void 0===e?{}:e)[r]||(i[r]={}),i[r][a]&&o.removeEventListener(r,i[r][a],s),i[r][a]=c,o.listeners=i),o.addEventListener(r,c,s)})}function lt(e,t,n){var r;return ze(Event)&&ze(CustomEvent)?r=new CustomEvent(t,{detail:n,bubbles:!0,cancelable:!0}):(r=document.createEvent("CustomEvent")).initCustomEvent(t,!0,!0,n),e.dispatchEvent(r)}function dt(e){var t=e.getBoundingClientRect();return{left:t.left+(window.pageXOffset-document.documentElement.clientLeft),top:t.top+(window.pageYOffset-document.documentElement.clientTop)}}function pt(e){var t=e.rotate,n=e.scaleX,r=e.scaleY,i=e.translateX,o=e.translateY,a=[];je(i)&&0!==i&&a.push("translateX(".concat(i,"px)")),je(o)&&0!==o&&a.push("translateY(".concat(o,"px)")),je(t)&&0!==t&&a.push("rotate(".concat(t,"deg)")),je(n)&&1!==n&&a.push("scaleX(".concat(n,")")),je(r)&&1!==r&&a.push("scaleY(".concat(r,")"));var s=a.length?a.join(" "):"none";return{WebkitTransform:s,msTransform:s,transform:s}}function ft(e){return Me(e)?e.replace(/^.*\//,"").replace(/[?&#].*$/,""):""}var ht=b.navigator&&/(Macintosh|iPhone|iPod|iPad).*AppleWebKit/i.test(b.navigator.userAgent);function gt(e,t){var n=document.createElement("img");if(e.naturalWidth&&!ht)return t(e.naturalWidth,e.naturalHeight),n;var r=document.body||document.documentElement;return n.onload=function(){t(n.width,n.height),ht||r.removeChild(n)},n.src=e.src,ht||(n.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",r.appendChild(n)),n}function mt(e){switch(e){case 2:return j;case 3:return P;case 4:return M;default:return""}}function vt(e){var t=Ke({},e),c=[];return Ve(e,function(s,e){delete t[e],Ve(t,function(e){var t=Math.abs(s.startX-e.startX),n=Math.abs(s.startY-e.startY),r=Math.abs(s.endX-e.endX),i=Math.abs(s.endY-e.endY),o=Math.sqrt(t*t+n*n),a=(Math.sqrt(r*r+i*i)-o)/o;c.push(a)})}),c.sort(function(e,t){return Math.abs(e)<Math.abs(t)}),c[0]}function yt(e,t){var n=e.pageX,r=e.pageY,i={endX:n,endY:r};return t?i:Ke({startX:n,startY:r},i)}function bt(e){var r=0,i=0,o=0;return Ve(e,function(e){var t=e.startX,n=e.startY;r+=t,i+=n,o+=1}),{pageX:r/=o,pageY:i/=o}}var Et=function(e,t,n){return Math.min(n,Math.max(t,e))};function _t(e,t){if(e&&t){var n=e.getBoundingClientRect(),r=t.getBoundingClientRect();return{isBottomEdge:n.bottom===r.bottom,isTopEdge:n.top===r.top,isLeftEdge:n.left===r.left,isRightEdge:n.right===r.right}}}function At(e,t){if(!t)return!0;var n=t.isTopEdge,r=t.isBottomEdge,i=t.isLeftEdge,o=t.isRightEdge;return 0!==e.wheelDeltaY?0<e.wheelDeltaY?n:r:0===e.wheelDeltaX||(0<e.wheelDeltaX?i:o)}function Ct(e,t){if(!t)return!1;var n=t.getBoundingClientRect(),r=n.top,i=n.right,o=n.bottom,a=n.left,s=e.x,c=e.y;return a<=s&&s<=i&&r<=c&&c<=o}function Tt(e){return(e.startsWith("data:")?De:Ne).test(e)}function Ot(e,t){return Me(e)&&!Tt(e)?t||"":e}var kt={render:function(){this.initContainer(),this.initViewer(),this.initList(),this.renderViewer()},initContainer:function(){this.containerData={width:window.innerWidth,height:window.innerHeight}},initViewer:function(){var e,t=this.options,n=this.parent;t.inline&&(e={width:Math.max(n.offsetWidth,t.minWidth),height:Math.max(n.offsetHeight,t.minHeight)},this.parentData=e),!this.fulled&&e||(e=this.containerData),this.viewerData=Ke({},e)},renderViewer:function(){this.options.inline&&!this.fulled&&We(this.viewer,this.viewerData)},initList:function(){var s=this,e=this.element,c=this.options,t=this.list,u=[];Ve(this.images,function(e,t){var n=e.src,r=e.alt||ft(n),i=c.url,o=c.highResolutionUrl,a=c.errorPlaceholder;Me(i)?i=e.getAttribute(i):ze(i)&&(i=i.call(s,e)),i=Ot(i,a),ze(o)&&(o=o.call(s,e)),o=Ot(o,a),(n||i)&&u.push('<li><img role="button" data-viewer-action="view"'+' data-index="'.concat(t,'"')+' data-original-url="'.concat(i||n,'"')+' data-high-resolution-url="'.concat(o||"",'"')+' alt="'.concat(r,'"')+"></li>")}),t.innerHTML=u.join(""),this.items=t.getElementsByTagName("li"),Ve(this.items,function(e){et(e.firstElementChild,"filled",!0),c.loading&&qe(s.loading,H)}),c.transition&&ut(e,me,function(){qe(t,W)},{once:!0})},resetList:function(){var e=this.list;e.innerHTML="",Ze(e,W),We(e,pt({translateX:0}))},getViewerDimension:function(){var e=this.viewerData;if(!this.options.keepFooterOffsetHeight)return e;var t=this.footer.offsetHeight;return{width:e.width,height:Math.max(e.height-t,t)}},initImage:function(c,u){var l=this,d=this.options,e=this.image,t=this.getViewerDimension(),p=t.width,f=t.height,h=this.imageData||{},n=gt(e,function(e,t){var n=e/t,r=p,i=f;l.imageInitializing=!1,p<f*n?i=p/n:r=f*n;var o=u&&h.ratio?h.ratio:1,a={naturalWidth:e,naturalHeight:t,aspectRatio:n,ratio:(r=Math.min(.9*r,o*e))/e,width:r,height:i=Math.min(.9*i,o*t),left:(p-r)/2,top:(f-i)/2},s=Ke({},a);d.rotatable&&(a.rotate=h.rotate||0,s.rotate=0),d.scalable&&(a.scaleX=h.scaleX||1,a.scaleY=h.scaleY||1,s.scaleX=1,s.scaleY=1),l.imageData=a,l.initialImageData=s,l.initialImageZoom=l.isLongImg(),c&&c()});this.imageInitializing={abort:function(){n.onload=null}}},renderImage:function(e){var t,n,r,i,o=this,a=this.image,s=this.imageData,c=this.options,u=this.viewerData;a&&(t=Ke({width:s.width,height:s.height,marginLeft:s.left,marginTop:s.top},pt(s)),n=s.width>u.width||s.height>u.height,We(a,t),Xe(a,z,n&&c.movable),e?this.zooming&&this.hasTransition?(r=function(){o.imageRendering=!1,o.removeTransitionClass(),e(),o.triggerImageDataUpdate()},l.a.windows?(i=setTimeout(r,300),this.imageRendering={abort:function(){clearTimeout(i)}}):(ut(a,he,r,{once:!0}),this.imageRendering={abort:function(){ct(a,he,r)}})):(e(),this.triggerImageDataUpdate()):this.triggerImageDataUpdate())},triggerImageDataUpdate:function(){var e=this.element,t=this.imageData,n=this.prevImageData,r=this.options;r.onImageDataUpdate&&!Object(i.default)(n,t)&&(this.prevImageData=Object(o.a)(t),ut(e,ve,r.onImageDataUpdate,{once:!0}),lt(e,ve,Object(o.a)(t)))},resetImage:function(){var e;(this.viewing||this.viewed)&&(e=this.image,this.viewing&&this.viewing.abort(),e.parentNode.removeChild(e),this.image=null)}},St={bind:function(){this.setEventHandlers()},unbind:function(){this.setEventHandlers(!1)},setEventHandlers:function(e){var t=(e=!1!==e)?ut:ct;e&&(this.onClick=this.click.bind(this),this.onWheel=this.wheelHandler.bind(this),this.onDragStart=this.dragstart.bind(this),this.onCanvasClick=this.canvasClick.bind(this),b.GestureEvent&&(this.onGestureStart=this.gesturestart.bind(this),this.onGestureChange=this.gesturechange.bind(this),this.onGestureEnd=this.gestureend.bind(this)),this.onPointerDown=this.pointerdown.bind(this),this.onPointerMove=Object(T.default)(this.pointermove.bind(this),50),this.onPointerUp=this.pointerup.bind(this),this.onKeyDown=this.keydown.bind(this),this.onKeyUp=this.keyup.bind(this),this.onKeyPress=this.keypress.bind(this),this.onResize=this.resize.bind(this),this.onMouseMoveViewContainer=this.mousemoveViewContainer.bind(this),this.onMouseLeaveViewContainer=this.mouseleaveViewContainer.bind(this),this.onMouseEnterHeaderFooter=this.mouseenterHeaderFooter.bind(this),this.onMouseLeaveHeaderFooter=this.mouseleaveHeaderFooter.bind(this),this.onMouseEnterLeftRight=this.mouseenterLeftRight.bind(this),this.onMouseLeaveLeftRight=this.mouseleaveLeftRight.bind(this));var n=this.canvas,r=this.element,i=this.viewer;t(i,Y,this.onClick),t(i,ye,this.onWheel),t(i,q,this.onDragStart),t(n,Y,this.onCanvasClick);var o=this.options.inline?this.viewer:r.ownerDocument;b.GestureEvent&&(t(r.ownerDocument,ie,this.onGestureStart),t(r.ownerDocument,oe,this.onGestureChange),t(r.ownerDocument,ae,this.onGestureEnd)),t(n,te,this.onPointerDown),t(r.ownerDocument,ne,this.onPointerMove),t(r.ownerDocument,re,this.onPointerUp),t(window,de,this.onResize),t(o,Q,this.onKeyDown,{capture:!0}),t(o,J,this.onKeyUp,{capture:!0}),t(o,$,this.onKeyPress,{capture:!0}),t(this.viewer,ue,this.onMouseMoveViewContainer),t(this.viewer,ce,this.onMouseLeaveViewContainer),t(this.header,se,this.onMouseEnterHeaderFooter),this.toolbar&&(t(this.toolbar,se,this.onMouseEnterHeaderFooter),t(this.toolbar,ce,this.onMouseLeaveHeaderFooter)),t(this.left,se,this.onMouseEnterLeftRight),t(this.right,se,this.onMouseEnterLeftRight),t(this.header,ce,this.onMouseLeaveHeaderFooter),t(this.left,ce,this.onMouseLeaveLeftRight),t(this.right,ce,this.onMouseLeaveLeftRight)}},wt=function(e){return l.a.mac&&e.metaKey||!l.a.mac&&e.ctrlKey},It={click:function(e){var t=e.target,n=this.options,r=this.imageData,i=$e(t,Ae),o=Te.BUTTON_CLICK;switch(i){case"mix":this.played?this.stop():n.inline?this.fulled?this.exit():this.full():this.hide({evtType:o});break;case"hide":this.hide({evtType:Te.BACKGROUND_CLICK});break;case"view":this.view($e(t));break;case"zoom-in":this.zoomWithTransition(n.zoomRatio,o);break;case"zoom-out":this.zoomWithTransition(-n.zoomRatio,o);break;case"one-to-one":this.toggle({evtType:o});break;case"reset":this.reset();break;case"prev":this.prev({evtType:o},n.loop);break;case"play":this.play(n.fullscreen);break;case"next":this.next({evtType:o},n.loop);break;case"rotate-left":this.rotate(-90,{evtType:o});break;case"rotate-right":this.rotate(90,{evtType:o});break;case"flip-horizontal":this.scaleX(-r.scaleX||-1);break;case"flip-vertical":this.scaleY(-r.scaleY||-1);break;case"fullscreen":this.toggleFullScreen({evtType:o});break;case"download":this.download();break;default:this.played&&this.stop()}},canvasClick:function(){var e=this;if(this.pointUpTimer)return window.clearTimeout(this.pointUpTimer),void(this.pointUpTimer=null);this.options.toggleOnDblclick?(this.canvasClickCount=(this.canvasClickCount||0)+1,1!==this.canvasClickCount?(this.canvasTimer&&(window.clearTimeout(this.canvasTimer),this.canvasTimer=null),this.toggle({evtType:Te.CANVAS_DBL_CLICK}),this.canvasClickCount=0):this.canvasTimer=window.setTimeout(function(){e.hide({evtType:Te.CANVAS_CLICK})},200)):this.hide({evtType:Te.CANVAS_CLICK})},load:function(){var e=this,t=this.element,n=this.options,r=this.image,i=this.index,o=this.viewerData;Ze(r,B),n.loading&&Ze(this.loading,H);var a="height:0;"+"margin-left:".concat(o.width/2,"px;")+"margin-top:".concat(o.height/2,"px;")+"max-width:none!important;position:absolute;width:0;";r.style.cssText=a,this.initImage(function(){e.viewed=!0,e.initLongImg(),e.options.hideControlsOnStart||qe(e.viewer,U),e.theme===Se.BLACK&&(e.tooltipBox.textContent="".concat(Math.round(100*e.imageData.ratio),"%"),e.hideToolbarAfterDuration()),e.renderImage(function(){e.viewed=!0,e.viewing=!1,e.initLongImg(),ze(n.viewed)&&ut(t,me,n.viewed,{once:!0}),lt(t,me,{originalImage:e.images[i],index:i,image:r})})})},loadImage:function(e){var o=e.target,t=o.parentNode,a=t.offsetWidth||30,s=t.offsetHeight||50,c=!!$e(o,"filled");gt(o,function(e,t){var n=e/t,r=a,i=s;a<s*n?c?r=s*n:i=a/n:c?i=a/n:r=s*n,We(o,Ke({width:r,height:i},pt({translateX:(a-r)/2,translateY:(s-i)/2})))})},filterKey:function(e){this.isShown&&(e.preventDefault(),e.stopPropagation())},keydown:function(e){var t=this.options;if(this.isShown&&e.stopPropagation(),t.forceKeyboard||this.fulled&&t.keyboard){var n=Te.KEYBOARD;switch(e.keyCode||e.which||e.charCode){case 27:this.played?this.stop():t.inline?this.fulled&&this.exit():this.hide({evtType:n});break;case 32:this.played&&this.stop();break;case 9:case 33:case 34:case 35:case 36:this.filterKey(e);break;case 37:this.prev({evtType:n},t.loop);break;case 38:e.preventDefault(),this.zoom(t.zoomRatio,{evtType:n},!0);break;case 39:this.next({evtType:n},t.loop);break;case 40:e.preventDefault(),this.zoom(-t.zoomRatio,{evtType:n},!0);break;case 48:wt(e)&&(e.preventDefault(),this.toggle({evtType:n}));break;case 187:wt(e)&&(e.preventDefault(),this.zoom(t.zoomRatio,{evtType:n},!0));break;case 189:wt(e)&&(e.preventDefault(),this.zoom(-t.zoomRatio,{evtType:n},!0))}}},keyup:function(e){this.filterKey(e)},keypress:function(e){this.filterKey(e)},dragstart:function(e){"img"===e.target.tagName.toLowerCase()&&e.preventDefault()},gesturestart:function(e){this.lastGestureEventScale=1,this.gesture(e)},gesturechange:function(e){this.gesture(e)},gestureend:function(){this.lastGestureEventScale=null},gesture:function(t){var n=this;t.preventDefault(),window.requestAnimationFrame(function(){var e;null!==n.lastGestureEventScale&&(e=t.scale-n.lastGestureEventScale,n.zoom(e,{evtType:Te.PINCH},!0),n.lastGestureEventScale+=e)})},pointerdown:function(e){var t,n=this.options,r=this.pointers,i=e.buttons,o=e.button;!this.viewed||this.showing||this.viewing||this.hiding||je(i)&&1!==i||je(o)&&0!==o||e.ctrlKey||(e.preventDefault(),e.changedTouches?Ve(e.changedTouches,function(e){r[e.identifier]=yt(e)}):r[e.pointerId||0]=yt(e),t=!!n.movable&&E,1<Object.keys(r).length?t=C:"touch"!==e.pointerType&&"touchstart"!==e.type||!this.isSwitchable()||(t=_),!n.transition||t!==E&&t!==C||Ze(this.image,W),this.action=t)},pointermove:function(e){var t=this.pointers,n=this.action;this.viewed&&n&&(e.preventDefault(),this.pointerMove=!0,e.changedTouches?Ve(e.changedTouches,function(e){Ke(t[e.identifier],yt(e,!0))}):Ke(t[e.pointerId||0],yt(e,!0)),this.change(e))},pointerup:function(e){var t=this,n=this.action,r=this.pointers;e.changedTouches?Ve(e.changedTouches,function(e){delete r[e.identifier]}):delete r[e.pointerId||0],n&&(e.preventDefault(),this.pointerMove&&(this.pointUpTimer=window.setTimeout(function(){t.pointUpTimer=null},200),this.pointerMove=!1),!this.options.transition||n!==E&&n!==C||qe(this.image,W),this.action=!1)},resize:function(){var t=this;this.isShown&&!this.hiding&&(this.initContainer(),this.initViewer(),this.renderViewer(),this.viewed&&this.initImage(function(){t.renderImage(),t.initLongImg()},!0),this.played&&(!this.options.fullscreen||!this.fulled||document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement?Ve(this.player.getElementsByTagName("img"),function(e){ut(e,ee,t.loadImage.bind(t),{once:!0}),lt(e,ee)}):this.stop()))},wheelHandler:function(e){var t;this.viewed&&(t=this.getScrollEdgeStatusThrottled(this.image,this.viewer),-1<String(e.deltaY).indexOf(".")?(e.preventDefault(),this.wheel(e)):this.image&&this.image.classList.contains(z)&&Ct(e,this.viewer)&&!At(e,t)&&(e.preventDefault(),this.scrollThrottled(e)))},wheel:function(i){var o=this;window.requestAnimationFrame(function(){var e=i.deltaY,t=i.ctrlKey;1===i.deltaMode&&(e*=15);var n=l.a.windows?2e3:4e3,r=e/(t?100:n);o.zoom(-r,{evtType:Te.WHEEL},!0,i)})},scroll:function(e){var t=-e.deltaX*_e,n=-e.deltaY*_e;this.move({offsetX:t,offsetY:n},{evtType:Te.WHEEL})},mousemoveViewContainer:function(){qe(this.viewer,U),this.hideToolbarAfterDuration()},mouseleaveViewContainer:function(){this.hideToolbarAfterDuration()},hideToolbarAfterDuration:function(){var e=this;this.isMouseOverHeaderOrFooter||(this.clearToolbarVisibleTimeout(),this.toolbarVisibleTimout=setTimeout(function(){Ze(e.viewer,U)},Le))},clearToolbarVisibleTimeout:function(){this.toolbarVisibleTimout&&(clearTimeout(this.toolbarVisibleTimout),this.toolbarVisibleTimout=null)},mouseenterHeaderFooter:function(){this.theme===Se.BLACK&&(this.isMouseOverHeaderOrFooter=!0,this.clearToolbarVisibleTimeout()),this.initialControlsVisibleTimeout&&(clearTimeout(this.initialControlsVisibleTimeout),this.initialControlsVisibleTimeout=null),qe(this.header,U),qe(this.footer,U)},mouseenterLeftRight:function(){this.initialControlsVisibleTimeout&&(clearTimeout(this.initialControlsVisibleTimeout),this.initialControlsVisibleTimeout=null),qe(this.left,U),qe(this.right,U)},mouseleaveHeaderFooter:function(){this.isMouseOverHeaderOrFooter=!1,this.options.autohideControls&&(Ze(this.header,U),Ze(this.footer,U))},mouseleaveLeftRight:function(){this.options.autohideControls&&(Ze(this.left,U),Ze(this.right,U))}},xt=28,Lt=9,Rt=2,Nt={show:function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0],t=this.element,n=this.options;if(n.inline||this.showing||this.isShown||this.showing)return this;if(!this.ready)return this.build(),this.ready&&this.show(e),this;if(ze(n.show)&&ut(t,pe,n.show,{once:!0}),!1===lt(t,pe)||!this.ready)return this;this.hiding&&this.transitioning.abort(),this.showing=!0,this.open();var r,i=this.viewer;return Ze(i,N),n.transition&&!e?(r=this.shown.bind(this),this.transitioning={abort:function(){ct(i,he,r),Ze(i,F)}},qe(i,W),i.offsetWidth,ut(i,he,r,{once:!0}),qe(i,F)):(qe(i,F),this.shown()),this},hide:function(e){var t=e.evtType,n=1<arguments.length&&void 0!==arguments[1]&&arguments[1];0===this.imageData.height&&0===this.imageData.width&&(this.zoomTo(0),window.Raven&&window.Raven.captureException("IMAGE_VIEWER_CAN_NOT_CLOSE"));var r=this.element,i=this.options;if(i.inline||this.hiding||!this.isShown&&!this.showing)return this;if(this.viewed||(n=!0),ze(i.hide)&&ut(r,X,i.hide,{once:!0}),!1===lt(r,X))return this;this.showing&&this.transitioning.abort(),this.hiding=!0,this.played?this.stop():this.viewing&&this.viewing.abort();var o,a,s=this.viewer;return i.transition&&!n?(qe(this.image,W),o=this.hidden.bind(this),a=function(){ut(s,he,o,{once:!0}),Ze(s,F)},this.transitioning={abort:function(){this.viewed?ct(this.image,he,a):ct(s,he,o)}},this.viewed?this.zoomTo(0,!1,!1,!0,a):a()):(Ze(s,F),this.hidden()),this.report(t,Oe.HIDE),this},view:function(){var r=this,i=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.options.initialViewIndex,i=Number(i)||0;if(!this.isShown)return this.index=i,this.show();if(this.hiding||this.played||i<0||i>=this.length||this.viewed&&i===this.index)return this;this.viewing&&this.viewing.abort();var e=this.element,n=this.options,t=this.canvas,o=this.loading,a=this.items[i],s=a.querySelector("img"),c=$e(s,"originalUrl"),u=$e(s,"highResolutionUrl"),l=s.getAttribute("alt"),d=document.createElement("img");if(n.errorPlaceholder&&(d.onerror=function(e){var t=e.target;i===r.index&&t&&(t.classList.remove(B),t.src=n.errorPlaceholder),d.onerror=null}),u&&(d.onload=function(e){var t=e.target,n=new Image;n.onload=function(){i===r.index&&t&&(t.src=u),n.onload=null},n.src=u,d.onload=null}),d.src=c,d.alt=l,ze(n.view)&&ut(e,ge,n.view,{once:!0}),!1===lt(e,ge,{originalImage:this.images[i],index:i,image:d})||!this.isShown||this.hiding||this.played)return this;this.image=d,Ze(this.items[this.index],x),qe(a,x),this.viewed=!1,this.index=i,this.imageData={},qe(d,B),n.loading&&qe(o,H),t.innerHTML="",t.appendChild(d),this.setCurrentPageIndex(this.index,this.items.length);var p,f=1===this.items.length,h=f||0===this.index,g=f||this.index===this.items.length-1;return this.disablePrevBtn(h),this.disableNextBtn(g),this.viewing={abort:function(){d.complete?this.imageRendering?this.imageRendering.abort():this.imageInitializing&&this.imageInitializing.abort():ct(d,ee,p)}},d.complete?this.load():ut(d,ee,p=this.load.bind(this),{once:!0}),this},setCurrentPageIndex:function(e,t){var n,r,i;this.pagination&&(r=(n=e+1).toString().length+t.toString().length,i=xt+(r-Rt)*Lt,We(this.pagination,{width:i}),this.pagination.innerText="".concat(n,"/").concat(t))},disablePrevBtn:function(e){this.prevBtn?Xe(this.prevBtn,D,e):Xe(this.left,N,e)},disableNextBtn:function(e){this.nextBtn?Xe(this.nextBtn,D,e):Xe(this.right,N,e)},prev:function(e){var t=e.evtType,n=1<arguments.length&&void 0!==arguments[1]&&arguments[1],r=this.index-1;return r<0&&(r=n?this.length-1:0),this.toggleOneToOneIfNeed(t),this.switchImageAnimation(r),this.report(t,Oe.PREV),this},next:function(e){var t=e.evtType,n=1<arguments.length&&void 0!==arguments[1]&&arguments[1],r=this.length-1,i=this.index+1;return r<i&&(i=n?0:r),this.toggleOneToOneIfNeed(t),this.switchImageAnimation(i),this.report(t,Oe.NEXT),this},move:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.offsetX,n=void 0===t?0:t,r=e.offsetY,i=void 0===r?0:r,o=(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).evtType,a=this.imageData,s=a.width,c=a.height,u=a.left,l=a.top,d=this.getViewerDimension(),p=d.width,f=d.height,h=p<s,g=h?Et(u+Number(n),p-s,0):(p-s)/2,m=f<c,v=m?Et(l+Number(i),f-c,0):(f-c)/2;return this.moveTo(g,v),(h||m)&&this.reportThrottledIfNecessary(o,Oe.MOVE),this},moveTo:function(e){var t,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:e,r=this.imageData;return e=Number(e),n=Number(n),this.viewed&&!this.played&&this.options.movable&&(t=!1,je(e)&&(r.left=e,t=!0),je(n)&&(r.top=n,t=!0),t&&this.renderImage()),this},zoomWithTransition:function(e,t){this.addTransitionClass(),this.zoom(e,{evtType:t},!0)},zoom:function(e,t){var n=t.evtType,r=2<arguments.length&&void 0!==arguments[2]&&arguments[2],i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null,o=this.imageData,a=o.width,s=o.naturalWidth;e=(e=Number(e))<0?1/(1-e):1+e,this.zoomTo(a*e/s,r,i),this.theme===Se.BLACK&&(qe(this.viewer,U),this.hideToolbarAfterDuration());var c=Oe.ZOOM_IN;return e<1&&(this.move(),c=Oe.ZOOM_OUT),this.reportThrottledIfNecessary(n,c),this},zoomTo:function(e){var t,n,r=this,i=1<arguments.length&&void 0!==arguments[1]&&arguments[1],o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,a=3<arguments.length&&void 0!==arguments[3]&&arguments[3],s=4<arguments.length?arguments[4]:void 0,c=this.element,u=this.options,l=this.pointers,d=this.imageData;if(je(e=Math.max(0,e))&&this.viewed&&!this.played&&(a||u.zoomable)){a||(t=Math.max(.01,u.minZoomRatio),n=Math.min(100,u.maxZoomRatio),e=Math.min(Math.max(e,t),n));var p,f,h=d.naturalWidth*e,g=d.naturalHeight*e,m=d.width/d.naturalWidth;if(ze(u.zoom)&&ut(c,be,u.zoom,{once:!0}),!1===lt(c,be,{ratio:e,oldRatio:m,originalEvent:o}))return this;this.zooming=!0,u.centerAtTriggeringPoint&&o&&l&&Object.keys(l).length?(p=dt(this.viewer),f=bt(l),d.left-=(h-d.width)*((f.pageX-p.left-d.left)/d.width),d.top-=(g-d.height)*((f.pageY-p.top-d.top)/d.height)):(d.left-=(h-d.width)/2,d.top-=(g-d.height)/2),d.width=h,d.height=g,d.ratio=e,this.renderImage(function(){r.zooming=!1,s&&s(),ze(u.zoomed)&&ut(c,Ee,u.zoomed,{once:!0}),lt(c,Ee,{ratio:e,oldRatio:m,originalEvent:o})}),i&&this.tooltip()}return this},rotate:function(e,t){var n=t.evtType,r=(this.imageData.rotate||0)+Number(e);return!1===this.options.transition&&-360===r&&(r=0),this.rotateTo(r),this.reportThrottledIfNecessary(n,Oe.ROTATE),this},rotateTo:function(e){var t=this.imageData;return je(e=Number(e))&&this.viewed&&!this.played&&this.options.rotatable&&(t.rotate=e,this.renderImage()),this},scaleX:function(e){return this.scale(e,this.imageData.scaleY),this},scaleY:function(e){return this.scale(this.imageData.scaleX,e),this},scale:function(e){var t,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:e,r=this.imageData;return e=Number(e),n=Number(n),this.viewed&&!this.played&&this.options.scalable&&(t=!1,je(e)&&(r.scaleX=e,t=!0),je(n)&&(r.scaleY=n,t=!0),t&&this.renderImage()),this},play:function(){var t=this,e=0<arguments.length&&void 0!==arguments[0]&&arguments[0];if(!this.isShown||this.played)return this;var n,i=this.options,o=this.player,a=this.loadImage.bind(this),s=[],c=0,u=0;return this.played=!0,this.onLoadWhenPlay=a,e&&this.requestFullscreen(),qe(o,K),Ve(this.items,function(e,t){var n=e.querySelector("img"),r=document.createElement("img");r.src=$e(n,"originalUrl"),r.alt=n.getAttribute("alt"),c+=1,qe(r,L),Xe(r,W,i.transition),Ye(e,x)&&(qe(r,F),u=t),s.push(r),ut(r,ee,a,{once:!0}),o.appendChild(r)}),je(i.interval)&&0<i.interval&&(n=function e(){t.playing=setTimeout(function(){Ze(s[u],F),qe(s[u=(u+=1)<c?u:0],F),e()},i.interval)},1<c&&n()),this},stop:function(){var t=this;if(!this.played)return this;var e=this.player;return this.played=!1,clearTimeout(this.playing),Ve(e.getElementsByTagName("img"),function(e){ct(e,ee,t.onLoadWhenPlay)}),Ze(e,K),e.innerHTML="",this.exitFullscreen(),this},full:function(){var e=this,t=this.options,n=this.viewer,r=this.image,i=this.list;return!this.isShown||this.played||this.fulled||!t.inline||(this.fulled=!0,this.open(),t.transition&&(Ze(i,W),this.viewed&&Ze(r,W)),qe(n,R),n.setAttribute("style",""),We(n,{zIndex:t.zIndex}),this.initContainer(),this.viewerData=Ke({},this.containerData),this.viewed&&this.initImage(function(){e.renderImage(function(){t.transition&&setTimeout(function(){qe(r,W),qe(i,W)},0)})})),this},exit:function(){var e=this,t=this.options,n=this.viewer,r=this.image,i=this.list;return this.isShown&&!this.played&&this.fulled&&t.inline&&(this.fulled=!1,this.close(),t.transition&&(Ze(i,W),this.viewed&&Ze(r,W)),Ze(n,R),We(n,{zIndex:t.zIndexInline}),this.viewerData=Ke({},this.parentData),this.renderViewer(),this.viewed&&this.initImage(function(){e.renderImage(function(){t.transition&&setTimeout(function(){qe(r,W),qe(i,W)},0)})})),this},toggleFullScreen:function(e){var t=e.evtType;this.fulled?(this.exitFullscreen(),this.exit(),this.report(t,Oe.NOT_FULLSCREEN)):(this.requestFullscreen(),this.full(),this.report(t,Oe.FULLSCREEN));var n=document.querySelector(".".concat(I,"-icon-fullscreen"));Xe(n,x,this.fulled);var r=this.options.i18n;return n.children[0].innerText=this.fulled?r.toolbar_exit_fullscreen:r.toolbar_fullscreen,this},download:function(){var e=this.options.onDownload;e&&e()},tooltip:function(){var e=this,t=this.options,n=this.tooltipBox,r=this.imageData;return this.viewed&&!this.played&&t.tooltip?(n.textContent="".concat(Math.round(100*r.ratio),"%"),this.theme===Se.BLACK||(this.tooltipping?clearTimeout(this.tooltipping):t.transition?(this.fading&&lt(n,he),qe(n,K),qe(n,L),qe(n,W),n.offsetWidth,qe(n,F)):qe(n,K),this.tooltipping=setTimeout(function(){t.transition?(ut(n,he,function(){Ze(n,K),Ze(n,L),Ze(n,W),e.fading=!1},{once:!0}),Ze(n,F),e.fading=!0):Ze(n,K),e.tooltipping=!1},1e3)),this):this},toggleOneToOneIfNeed:function(e){this.toolbarOneToOne&&this.toggle({evtType:e})},toggle:function(e){var t=e.evtType;this.toolbarOneToOne?(this.zoomTo(this.initialImageData.ratio,!0),this.report(t,Oe.INITIAL_SIZE)):(this.zoomTo(1,!0),this.report(t,Oe.ORIGINAL_SIZE)),this.toolbarOneToOne=!this.toolbarOneToOne;var n=document.querySelector(".".concat(I,"-icon-one-to-one"));Xe(n,x,this.toolbarOneToOne);var r=this.options.i18n;return n.children[0].innerText=this.toolbarOneToOne?r.toolbar_reset:r.toolbar_one_to_one,this.move(),this},reset:function(){return this.viewed&&!this.played&&(this.imageData=Ke({},this.initialImageData),this.renderImage()),this},update:function(){var e=this.element,t=this.options,n=this.isImg;if(n&&!e.parentNode)return this.destroy();var i,r,o=[];return Ve(n?[e]:e.querySelectorAll("img"),function(e){(!t.filter||t.filter(e))&&o.push(e)}),o.length&&(this.images=o,this.length=o.length,this.ready?(i=[],Ve(this.items,function(e,t){var n=e.querySelector("img"),r=o[t];r&&r.src===n.src||i.push(t)}),We(this.list,{width:"auto"}),this.initList(),this.isShown&&(this.length?this.viewed&&(0<=(r=i.indexOf(this.index))?(this.viewed=!1,this.view(Math.max(this.index-(r+1),0))):qe(this.items[this.index],x)):(this.image=null,this.viewed=!1,this.index=0,this.imageData={},this.canvas.innerHTML=""))):this.build()),this},destroy:function(){var e=this.element,t=this.options;return $e(e,I)&&(this.destroyed=!0,this.ready?(this.played&&this.stop(),t.inline?(this.fulled&&this.exit(),this.unbind()):this.isShown?(this.viewing&&(this.imageRendering?this.imageRendering.abort():this.imageInitializing&&this.imageInitializing.abort()),this.hiding&&this.transitioning.abort(),this.hidden()):this.showing&&(this.transitioning.abort(),this.hidden()),this.ready=!1,this.viewer.parentNode.removeChild(this.viewer)):t.inline&&(this.delaying?this.delaying.abort():this.initializing&&this.initializing.abort()),t.inline||ct(e,Y,this.onStart),tt(e,I),this.clearToolbarVisibleTimeout()),this},isLongImg:function(){var e=this.imageData,t=e.naturalHeight,n=e.naturalWidth,r=e.height;return we<t/n&&t>=window.innerHeight&&r<t&&Ie<n},initLongImg:function(){var e,t;this.initialImageZoom&&(e=this.imageData.naturalWidth,t=Math.min(window.innerWidth,xe)/e,this.zoomTo(t),this.move({offsetX:0,offsetY:this.imageData.naturalHeight/2}),this.initialImageZoom=!1)},switchImageAnimation:function(e){this.zooming=!1,this.view(e),this.theme===Se.DEFAULT&&(qe(this.pagination,U),this.debounceRemoveCls(this.pagination,U))},moveRegionIntoViewport:function(e,t,n,r){var i=this.imageData,o=this.viewerData,a=i.left,s=i.top,c=i.width,u=i.height,l=o.width,d=o.height,p=Math.round(e*c),f=Math.round(n*c),h=Math.round(t*u),g=Math.round(r*u),m=0,v=0,y=10;f<a+c-l&&(m=l+f-a-c-y),p+a+m<0&&(m=-a-p+y),g<s+u-d&&(v=d+g-s-u-y),h+s+v<0&&(v=-s-h+y),this.moveTo(a+m,s+v)},report:function(e,t){var n=this.options.report;n&&n({evtType:e,actionType:t})},reportThrottledIfNecessary:function(e,t){if(e)switch(e){case Te.DRAG:this.reportDragThrottled(e,t);break;case Te.PINCH:this.reportPinchThrottled(e,t);break;case Te.WHEEL:this.reportWheelThrottled(e,t);break;default:this.report(e,t)}},addTransitionClass:function(){this.options.transition&&(this.hasTransition=!0,qe(this.image,W))},removeTransitionClass:function(){this.options.transition&&(this.hasTransition=!1,Ze(this.image,W))}},Dt={open:function(){var e=this.body,t=this.options;qe(e,V),t.disableScrollbarPadding||(e.style.paddingRight="".concat(this.scrollbarWidth+(parseFloat(this.initialBodyPaddingRight)||0),"px"))},close:function(){var e=this.body,t=this.options;Ze(e,V),t.disableScrollbarPadding||(e.style.paddingRight=this.initialBodyPaddingRight)},shown:function(){var e=this.element,t=this.options;this.fulled=!0,this.isShown=!0,this.render(),this.bind(),this.showing=!1,ze(t.shown)&&ut(e,fe,t.shown,{once:!0}),!1!==lt(e,fe)&&this.ready&&this.isShown&&!this.hiding&&this.view(this.index)},hidden:function(){var e=this.element,t=this.options;this.fulled=!1,this.viewed=!1,this.isShown=!1,this.close(),this.unbind(),qe(this.viewer,N),this.resetList(),this.resetImage(),this.hiding=!1,this.destroyed||(ze(t.hidden)&&ut(e,Z,t.hidden,{once:!0}),lt(e,Z))},requestFullscreen:function(){var e,t=this.element.ownerDocument;this.fulled||t.fullscreenElement||t.mozFullScreenElement||t.webkitFullscreenElement||t.msFullscreenElement||((e=t.documentElement).requestFullscreen?e.requestFullscreen():e.msRequestFullscreen?e.msRequestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen&&e.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT))},exitFullscreen:function(){var e;this.fulled&&((e=this.element.ownerDocument).exitFullscreen?e.exitFullscreen():e.msExitFullscreen?e.msExitFullscreen():e.mozCancelFullScreen?e.mozCancelFullScreen():e.webkitExitFullscreen&&e.webkitExitFullscreen())},change:function(e){var t=this.options,n=this.pointers,r=n[Object.keys(n)[0]],i=r.startX,o=r.startY,a=r.endX-i,s=r.endY-o;switch(this.action){case E:this.move({offsetX:a,offsetY:s},{evtType:Te.DRAG});break;case C:this.zoom(vt(n),{evtType:Te.PINCH},!0,e);break;case _:this.action="switched";var c,u=Math.abs(a);1<u&&u>Math.abs(s)&&(this.pointers={},c=Te.SWIPE,1<a?this.prev({evtType:c},t.loop):a<-1&&this.next({evtType:c},t.loop))}Ve(n,function(e){e.startX=e.endX,e.startY=e.endY})},isSwitchable:function(){var e=this.imageData,t=this.viewerData;return 1<this.length&&0<=e.left&&0<=e.top&&e.width<=t.width&&e.height<=t.height}},Mt=b.Viewer,Pt=function(){function n(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(u(this,n),!e||1!==e.nodeType)throw new Error("The first argument is required and must be an element.");this.element=e,this.options=Ke({},m,He(t)&&t),this.theme=this.options.theme,this.action=!1,this.fading=!1,this.fulled=!1,this.hiding=!1,this.imageData={},this.index=this.options.initialViewIndex,this.isImg=!1,this.isShown=!1,this.length=0,this.played=!1,this.playing=!1,this.pointers={},this.ready=!1,this.showing=!1,this.tooltipping=!1,this.viewed=!1,this.viewing=!1,this.zooming=!1,this.hasTransition=!1,this.isMouseOverHeaderOrFooter=!1,this.reportWheelThrottled=Object(T.default)(this.report,this.options.reportThrottle),this.reportPinchThrottled=Object(T.default)(this.report,this.options.reportThrottle),this.reportDragThrottled=Object(T.default)(this.report,this.options.reportThrottle),this.init()}return p(n,[{key:"init",value:function(){var e,t,n,r,i,o,a=this,s=this.element,c=this.options;$e(s,I)||(et(s,I,this),e="img"===s.tagName.toLowerCase(),t=[],Ve(e?[s]:s.querySelectorAll("img"),function(e){(!ze(c.filter)||c.filter.call(a,e))&&t.push(e)}),t.length&&(this.isImg=e,this.length=t.length,this.images=t,r=(n=s.ownerDocument).body||n.documentElement,this.body=r,this.scrollbarWidth=window.innerWidth-n.documentElement.clientWidth,this.initialBodyPaddingRight=window.getComputedStyle(r).paddingRight,this.scrollThrottled=Object(T.default)(this.scroll.bind(this),50),Fe(document.createElement(I).style.transition)&&(c.transition=!1),c.inline?(i=0,o=function(){var e;(i+=1)===a.length&&(e=setTimeout(function(){a.delaying=!1,a.build()},0),a.initializing=!1,a.delaying={abort:function(){clearTimeout(e)}})},this.initializing={abort:function(){Ve(t,function(e){e.complete||ct(e,ee,o)})}},Ve(t,function(e){e.complete?o():ut(e,ee,o,{once:!0})})):ut(s,Y,this.onStart=function(e){var t=e.target;"img"===t.tagName.toLowerCase()&&a.view(a.images.indexOf(t))})))}},{key:"build",value:function(){var e,f,t,n,r,i,o,a,s,c,u,l,d,p,h,g,m,v,y,b,E,_,C=this;this.ready||(e=this.element,f=this.options,t=e.parentNode,(n=document.createElement("div")).innerHTML=w(f.i18n),r=n.querySelector(".".concat(I,"-container")),i=r.querySelector(".".concat(I,"-toolbar")),o=r.querySelector(".".concat(I,"-navbar")),a=r.querySelector(".".concat(I,"-background")),s=r.querySelector(".".concat(I,"-header")),c=r.querySelector(".".concat(I,"-footer")),u=r.querySelector(".".concat(I,"-left")),l=r.querySelector(".".concat(I,"-right")),d=r.querySelector(".".concat(I,"-icon-close")),p=r.querySelector(".".concat(I,"-loading")),this.parent=t,this.viewer=r,this.toolbar=i,this.navbar=o,this.background=a,this.theme===Se.BLACK?(qe(this.viewer,Re),this.header=d,this.footer=i):(this.header=s,this.footer=c),this.left=u,this.right=l,this.loading=p,this.theme===Se.DEFAULT&&(this.pagination=r.querySelector(".".concat(I,"-index")),this.tooltipBox=r.querySelector(".".concat(I,"-tooltip"))),this.canvas=r.querySelector(".".concat(I,"-canvas")),this.player=r.querySelector(".".concat(I,"-player")),this.list=r.querySelector(".".concat(I,"-list")),this.getScrollEdgeStatusThrottled=Object(T.default)(_t,300),qe(o,f.navbar?mt(f.navbar):N),f.backdrop&&(qe(r,"".concat(I,"-backdrop")),f.inline||!0!==f.backdrop||et(a,Ae,"hide")),Object(O.default)(f.toolbar)?qe(i,N):(h=function(e){return He(e)?Object.entries(e):!!Array.isArray(e)&&e},g=document.createDocumentFragment(),m=h(f.toolbar),v=Ce.slice(0,3),y=Ce.slice(7,9),b=Ce.slice(9),m||qe(i,mt(f.toolbar)),Ve(function(e){return e=e||[],Array.isArray(e[0])?e:e.map(function(e){return[e]})}(m||Ce),function(e){var t,n,r,i,o,a,s=S(e,2),c=s[0],u=s[1],l=m&&He(u),d=m?Je(c):u,p=l&&!Fe(u.show)?u.show:u;!p||!f.zoomable&&-1!==v.indexOf(d)||!f.rotatable&&-1!==y.indexOf(d)||!f.scalable&&-1!==b.indexOf(d)||(t=l&&!Fe(u.size)?u.size:u,n=l&&!Fe(u.click)?u.click:u,i=(r=l&&u.noAuthority)?"no_authority":d.replace(/-/g,"_"),o=document.createElement("li"),(a=document.createElement("div")).className="tooltiptext",a.innerHTML=f.i18n["toolbar_".concat(i)]||"",o.appendChild(a),o.setAttribute("role","button"),qe(o,"".concat(I,"-icon-").concat(d)),r&&qe(o,"disabled"),ze(n)||r||et(o,Ae,d),je(p)&&qe(o,mt(p)),-1!==["small","large"].indexOf(t)?qe(o,"".concat(I,"-").concat(t)):"play"===d&&qe(o,"".concat(I,"-large")),ze(n)&&ut(o,Y,n),g.appendChild(o))}),i.appendChild(g),this.toolbarOneToOne=!1,this.theme===Se.BLACK&&(this.pagination=r.querySelector(".".concat(I,"-icon-page-num")),this.tooltipBox=r.querySelector(".".concat(I,"-icon-ratio")),this.prevBtn=i.querySelector(".".concat(I,"-icon-prev")),this.nextBtn=i.querySelector(".".concat(I,"-icon-next")))),f.rotatable||(qe(E=i.querySelectorAll('li[class*="rotate"]'),B),Ve(E,function(e){i.appendChild(e)})),f.inline?(We(r,{zIndex:f.zIndexInline}),"static"===window.getComputedStyle(t).position&&We(t,{position:"relative"}),t.insertBefore(r,e.nextSibling)):(qe(r,R),qe(r,L),qe(r,N),We(r,{zIndex:f.zIndex}),Me(_=f.container)&&(_=e.ownerDocument.querySelector(_)),(_=_||this.body).appendChild(r)),f.inline&&(this.render(),this.bind(),this.isShown=!0),this.theme===Se.DEFAULT&&(qe(s,U),qe(c,U),0!==this.index&&qe(u,U),this.index!==this.length-1&&qe(l,U),qe(this.pagination,U),f.autohideControls?(this.initialControlsVisibleTimeout=setTimeout(function(){Ze(s,U),Ze(c,U),Ze(u,U),Ze(l,U),Ze(C.pagination,U)},f.initialControlsVisibleTimeout||1500),this.debounceRemoveCls=Object(k.default)(Ze,f.initialControlsVisibleTimeout||1500),this.debounceRemoveCls(this.pagination,U)):this.debounceRemoveCls=function(){return null},f.showClose||qe(d,N)),this.ready=!0,ze(f.ready)&&ut(e,le,f.ready,{once:!0}),!1!==lt(e,le)?this.ready&&f.inline&&this.view(this.index):this.ready=!1)}}],[{key:"noConflict",value:function(){return window.Viewer=Mt,n}},{key:"setDefaults",value:function(e){Ke(m,He(e)&&e)}}]),n}();Ke(Pt.prototype,kt,St,It,Nt,Dt),t.default=Pt},MrPd:function(e,t,n){var i=n("hypo"),o=n("ljhN"),a=Object.prototype.hasOwnProperty;function r(e,t,n){var r=e[t];a.call(e,t)&&o(r,n)&&(void 0!==n||t in e)||i(e,t,n)}e.exports=r},MvBO:function(e,t,n){"use strict";var d=n("D1oa"),p=n("2IHA"),f=n("NtTV"),l=n("ahx2"),h=n("toa8"),g=n("rLED"),m={"use-new-default-thumbnail":"true"};function r(i){var o=i.url,a=i.key,s=i.iv,c=i.cancelToken,u=i.logger,l=!1;return new Promise(function(n,r){u&&(u.logValue("request_cdn_necessary",!0),u.logStartTime("request_cdn_time_cost"));var t=Object(h.d)({url:o,responseType:"arraybuffer",withCredentials:!1,ignoreInterceptors:!0,timeout:i.timeout});function e(t){return function(e){if(l)throw new Error;return t(e)}}c&&c.promise.then(function(e){r(e),t.abort(),l=!0}),t.then(function(e){var t=e.data;return u&&(u.logEndTime("request_cdn_time_cost"),u.logValue("size",t.byteLength),u.logValue("decrypt_necessary",!0),u.logStartTime("decrypt_time_cost")),Object(p.c)(t,window.atob(a),window.atob(s),p.a["AES-GCM"])}).then(e(function(e){u&&u.logEndTime("decrypt_time_cost");var t=Object(d.a)(e);n(t)})).catch(function(e){var t,n;l||(t=Object(f.e)(e),u&&(n=Object(f.f)(t),u.getLogValue("decrypt_necessary")?(u.logValue("decrypt_fail",!0),u.logValue("decrypt_fail_reason",n)):(u.logValue("request_cdn_fail",!0),u.logValue("request_cdn_fail_reason",n))),r(t))})})}function i(e){var r=e.url,i=e.cancelToken,a=e.logger,s=!1;return new Promise(function(o,t){a&&(a.logValue("request_origin_necessary",!0),a.logStartTime("request_origin_time_cost"));var n=Object(h.d)({url:r,responseType:"arraybuffer",ignoreInterceptors:!0});i&&i.promise.then(function(e){t(e),n.abort(),s=!0}),n.then(function(e){var t=e.headers,n=e.data;if(a&&a.logEndTime("request_origin_time_cost"),t["content-type"].includes("json")){var r=JSON.parse(Object(d.b)(n));throw{info:"[".concat(r.code,"]").concat(r.message)}}a&&a.logValue("size",n.byteLength);var i=Object(d.a)(n);o(i)}).catch(function(e){s||(a&&a.logValue("request_origin_failed",!0),t(Object(f.e)(e)))})})}function o(e){var o=e.url,a=e.key,s=e.cancelToken,c=e.logger,u=!1;return new Promise(function(n,r){c&&(c.logValue("request_suite_necessary",!0),c.logStartTime("request_suite_time_cost"));var t=Object(h.d)({url:o,params:{adapter:"front"},headers:Object.assign({},Object(g.P)()&&m),responseType:"arraybuffer",withCredentials:!0,ignoreInterceptors:!0});function e(t){return function(e){if(u)throw new Error;return t(e)}}s&&s.promise.then(function(e){r(e),t.abort(),u=!0});var i=!1;t.then(function(e){var t=e.headers,n=e.data;if(c&&c.logEndTime("request_suite_time_cost"),i=!!t["access-new-default-thumbnail"],t["content-type"].includes("json")){var r=JSON.parse(Object(d.b)(n));if(l.SpecitalSuiteCodeList.includes(r.code))throw{specialSuite:!0,info:r};if(r.code===l.STATUS_CODE.FORBIDDEN)throw{noPermitted:!0,info:"no permission"};throw{info:"[".concat(r.code,"]").concat(r.msg)}}return c&&(c.logValue("size",n.byteLength),c.logValue("decrypt_necessary",!0),c.logStartTime("decrypt_time_cost")),Object(p.d)(a,p.b["SHA-256"]).then(function(e){return Object(p.c)(n.slice(16),e.slice(0,32),n.slice(0,16),p.a["AES-CBC"])})}).then(e(function(e){c&&c.logEndTime("decrypt_time_cost");var t=Object(d.a)(e);n(Object.assign({},t,{isIcon:i}))})).catch(function(e){var t,n;u||(t=Object(f.e)(e),c&&(n=Object(f.f)(t),c.getLogValue("decrypt_necessary")?(c.logValue("decrypt_fail",!0),c.logValue("decrypt_fail_reason",n)):(c.logValue("request_suite_failed",!0),c.logValue("request_suite_fail_reason",n))),r(t))})})}n.d(t,"a",function(){return r}),n.d(t,"b",function(){return i}),n.d(t,"c",function(){return o})},MvSz:function(e,t,n){var r=n("LXxW"),i=n("0ycA"),o=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(t){return null==t?[]:(t=Object(t),r(a(t),function(e){return o.call(t,e)}))}:i;e.exports=s},MycS:function(e,t,n){n("Ibh0");var r=n("oWnS");e.exports=r("Function").bind},N4mw:function(e,t,n){var i=n("Yoag"),o=n("KF6i"),a=n("ERuW"),s=n("Kfv+");function r(e){var t=a(e),n=s[t];if("function"!=typeof n||!(t in i.prototype))return!1;if(e===n)return!0;var r=o(n);return!!r&&e===r[0]}e.exports=r},NRUa:function(e,t,n){var r=n("2HcF"),i=Array.prototype;e.exports=function(e){var t=e.findIndex;return e===i||e instanceof Array&&t===i.findIndex?r:t}},NSt8:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAABbQAAADcCAMAAACf49d1AAAAllBMVEXv8PFkanOPlZ5tc3udoaeIjZTr7O7T1dfExsrm6Om/wsXa3N+VmqCBho7o6evk5eeZnaPHys1yd3+ytbqMkZhqcHnW2NqprbJ5foWgpKnQ0tWGipFmbHXf4OLc3uDFyMuip6x+hIumqa/h4+VnbXZ3fYW4u7/LzdB0eoKvsre7vsKPk5nNz9KSlp21ub2ssLR8gYn///+8+fyiAAAR60lEQVR42uzBgQAAAACAoP2pF6kCAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGD24EAAAAAAAMj/tRFUVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVYUdO2xtGwbCOH6naW7taQ3ZTLJ1C/E8MMnGGvL9v9zWGULcs5piEJHD//fKryTuTnoQBgAAAAAAAAAAAAAAAAAAAAAAAAAAAG5dserWPgS/7laFAAByVnbBnYSuFABArooquIFQ8doGgEyVrTNaHtsAkKWNdyP8RgAA2Sm9G+VLuWjhX2T707dKojYuzPT93teZgOmYtfVreZNf/kkSMPunbZz3dxNWMg29BltCisHZkSTYzNSDnBSti2gLGWrfD1QiH1QH81x813eFxHxV3css9XUmYDpmrfWLjKn7KfxuqlL+C1pLAmb/tI1TrSasZBp6PbaEODO4BCOxm02pBzmpXFQlQ7UO7Edu0k4/SlSnupQ5WDVNkTC0Tccm3VA92S1vN7T7UZiVpjY0bs6h3Tfp0omeT2h/braCuDK4M4vjwp2YnxnV4dkf1ebw7HHkJpX3DxL3uJJZ2Ko+JAxt07GJoV3v/2lqVb2/2dDuR2FWmtjQuFmHdt+kSyd6PqH9QxtBXOfOHY9Hd6aTEZXqz7M7eYu/u05HPIc646F96D/udvqpJLTzQWgT2ikV4bXQDgWhffU6L4a2LFU7Qjsff9m7tu3EjSA4tUICgbBAIHERYO5XY5P//7kA3RLWVsYCn5PEyaEedndA0z1dXVOMZa39NO2naf+dSH5ZTFuQ3GPa62AbudrWqbuTf9S6q7j/662YzHXDy8nQ7ZrJvOkElzntSt9pdoxic+zHW7fj5bmCVXR898zR3eipstKMT0GNPns6x1U8ayUcR/MtPlxn9avK49t8J63IuOeegNR1337znnprFR06n3L+2jruPCRKB6kjufPxOdVOx5UzU41e6qTTcYExjhfOXac5rd5h2sbBQLcjR2JWF9Om4zQ/fB0yp5yfK6m7RzUBtyMUue5YyqudW5r2CneiiQZudU1bnTtEsRUsNV75jVAluh5Es97kXMqu66yOEyPwP5rReVpicj7Sa6Ftt2XrbLmquIQcB7dmMooWJAFpHMmQMlJLmCTima7QZMk8jU+V0E4j10OxadtxndwBzshMTlw3xtY9N+OJv8b6a9Ne32HaLVwhHLvyt+dCUCnc0gYuMm0j9lf6rcw9rjhk6hWsQtGEhnZfIpVNZ6nJigeLSROCOcXRfCdcsaaxlKHzRx9X8UFQL5p2TxcTFnNGN28vLHHVkPFOxzORdhO7xMkn5oxxvOoWFyw3d5h2E65sR47ErL7GMnQSY+GU83Ml2kszBk7ypB0iKU9bevJz02YauNUDGXa9nPdCK0hqlpULoUp0BxdsQ38mpQxFhQ4E+mH5Fsm7r2v0bZ0tVxWXkMNBJ9f/hCQgjSMZUkZqCZNEPNMVkkyzO1UrjVwPxeZtx3VyBygjM5lAcDJP/DV6X5t2r9y0u3Fvk9T7wOunHVPBsjf024G0gUx7mfbryWsKVHBoJ7WZTp4DQb1R7cVq4hUg3SftAVJHZNMBuu3JpvXbh8FLBEzPcVKgw3Eu+dzovVrtOIgXNJb5o3k72adA71LUcAdshkN156xOHOpJ/QCkWU6nkzT2EZbjgmcDs30yPOde+VehA819sukt4fjiJUdn9V69vDCa5IxxvDA+r2mTrPtxWm7aW7RkO1IkZmMSn0ldNNYRtsbGKefnSrQla6gcjmjJx8coaDfaXWCamTZP5lZPgdm11d2C4+WtIKnRytm03eV0WP2I0Ww678lwPsLMnOE7iHbDyWsTo+vKxkssz2HXp1EXfVtny1RFJVhNmyQgjSMZUkZuCZPEPPMVAU7btJ68XZZrpZHrodi07bhO7gBnZCZfhsM+guF/5aGFfwGVr027Um7ay0Qb6H7aMY4eY7px969MG/3LR6zXh1wdOtK9kxPooQ3+xV5GCDwjE1CX/TZQ/xg1Crf4RhtzCTiD43GcNhCFmn9H4zPmegTwAsQL2z1t9DQX2vK3M7muPUJgBFpK9zq1BnzI+HitoRrL2ptA09cXgpwxjjfQmvwUpabdADqy9ykSs9ERjswmjt9snHJ+ruQoPTtghb05I0JdyvtQ64wz06bJvKhFjIOntIHvabPUaOVs2npg2APLhnYuvIydqHoNs5XpLcQydoG+tbMlqqISrKZNEpDGkQwpI7WESCKeLfe0EShtsAqA6uHYvO24TnAHOGORyec97XIEX5t2UG7aSu8c0W3HhMUTNpt2XeZcxrLzXfMJC5HTALEedlsyo4dIlOetxDEEL3H2BXOSNoccpw28GxVDy/DYX2bRwhgDm2mvjKTewpWcqtA9EBY+Pybqes2KbMTs3jVGoSh5mL2AsTLG8fxlXlOpaftNLCe69zkSs7r1jMLGKefnSvbXlz3HqeEoDEl5Gv0VGKtp02Re1DSn7WgxbZIarZxMuy/qgFaSSKocLbgiVQ3bGKFv5a9EVVSC1bRJAtI4kiFlpJYQScSzxbSXodA2wtpGI9VDsWnbUZ2WDlDGIpNP0/4nTLuWK9y77ZgI2/ZXpi1y6MBRg0PTfIInUV0cs4kimy5ahQ2nqIoxKDhOG0gy+bmGx1UZi6JTm2nvcpdzZI4qeFzwgi66RqHjQxZCrmtiZgQToK2McbzhrSb77ZHK8IxaLwJ2emCjSMzGOzDI+mfjlPNzJYurDN5wfFleCFlLC5s43C5S0+bJ3Or8/TeLaZPUaOVk2kHRM0PhO8cUJ8mX5BP7xN+dqqISrKZNEpDGkQwpI7WESCKeLaZ9MoIt5jYaqR6KTduO6rR0gDIWmXya9sO3R8I/wkdvj1QLqtAdswewGtR8m2n7atrRb6YdtjvTytGVbRFhbgShyGaFZkXQxLawoJvFUhzJp9UipXFhfg+RzbRfb9n8658VReGripXKjccesFYlK0boKGMcbw/4WYtspp1jNDdq2hSJ2fBOwOjQkbbZOOX8XMnp0pM59sbF8JK8J1Y5yFu2UYHQZF7U7f2FxbRJarRyMm1diaPnOD8zbS/Z9watwxYnuSfvmUyFfeLvTlVRCVYzIwlI40iGlJFaQiQxz/ZH/tQabTRSPRSbth3VaekAZSwy+TTtB78Ryeh907RNe3Z1k27yiGkvWshQU0Xn4q5f//wEk+MDzm1AcUpNO5+vW9hi2lqJHs0+8Ak3lnTNPM4/g5qYG8UWU2WM4n1e04fVtEfxGU5aSfLtSJGYDeNXYpyx/fCMlVPOz5VMUblsr4XpXNJEGNpMmyaXtrrctGnl95t2fQXFiQol/u5UFZVgNTOSgDSOZUgZaaVEEvFcato2Gqkejq3redy0ixmfpv3NR/7sWH/HtPWtzi8HGNXuN21vBhx6+9pb1XL8ihDUchROhV4+oDilpq1bJPcqi2lvjKB2LX+NZS1Hw+TYZluFt87yqulmTpCJsVPGKB4fABnAB/0fDYpEbFzgvU5nAJqelVPOz5VscDIhZhdymmYCx9hMmybzom7v+3eftHnl5aYt8t0OOvV2tYWTiOfldn4l/u5UFZVgNTOSgDSOZEgZqSVEEvFcbto2Gqkejq3b7nHTLmZ8mvbjSL427eR7pq3w1g6i+017nzmjrzc6c3ltRDbpOThDz74KilNu2m+iMXmhaTPttRF0EMucsSHIffjiOLh98LT1kWpBmFXZ4niXijPDODxg2hSJ2VAkR+CdOLXn50q8GGH9upFX8Pc4Wk2bJvOi0vz95D7TppXfbdpbuJ6K7kQ374m/+1VlL8HBLl/4hCQgjSMZUkZqCZFEPJebto1Gqodi07ajOm0dKGZ8mvbj8IKv7mkH3ndNW7EDxnebdn6n7k20PM9Vqk+KVrDyDCNEdgbwO50GxSk17QUytXkRAi0m/N203VzMM5mzN4YxQKyx2539NYOjm+U9U/JynL+QKGMcb5xbchg/YNoUidjI4TloEaf2/FyJOaAWYHgtut7C3mraNJkX1crfn7Nph4alpit/3LTDPH56NW0/RpCrs2/tbLmq7CWcMMh3A0tAGkcypIzUEiKJeKYryLRtNFI9FJu2HdVp6YBkLDPtgXnib/2BUWzar2na0OPJ0rvbtOdwsm2HmmgzDeU6kU0C/QLs5TCbF/QVj/UfWFCcUtM2R0Sh0URDPWe+0nPa7azOtczZvggds9n404Uj1VsjRkWW/CGC3aIrXoIgeyHNPYbjdeGEyg36EnFTbtoUidk4pErdFj0bp5SfKhG2Ko4ju661xcJq2jSZFzXMbh+P44LjaStYarTye037BehkgU+fLXZ8AvrWzparyl7CQU3qJQImJAFpHMmQMlJLiCTima4g07bRSPVQbNp2VKelA5SRmNSDUSb6Jx780azfNO0x0E/OTXmNVCHlpi0hWsk5ZjfWM+EHsJ3Wdy6mQF3V0fONV3U1rWIRI3r1THUOHDlOuWlPlthuPLOYZ7tpDLjD35/TXr77xn9fqjInI5yq59TrEQ7FozZaExPWT1gmkgLTsfHeVhg1xEscHBvXF/CWewzHq+K6pkkLK/R12w1KTZsiMRsVYOefxxVgaOWU83MlZgLh23ixGKDFtHkyt/oADMYXwURxwfGkFSw1Wvndt0dmcGovxnt3YlmzHwGHzn7gbI/oWztbrip7CWsgWBhvONsCE5KANI5kSBmpJUQS8UxXkGnbaKR6KDZtO6rT0gHOyKbdAta+iP555n74lyB8x7S1f3CaI2AV3m/a5gggcuAMHf1C/n2p38NX0w5dANslfn8W69UBRg6A2QvHKTdtU8/mu7rcS55RvWDajRSILoGrSkMMONElp8xR+JfkDs6oy7h7GY+AOL9/0AOcJdRzlTGO14Gsab7O/qMeTqWmTZGYDf90eScC0DEWTik/VSJYAftsf0/tps2TudXjmdC2nURFx9NWkNRo5feadnUJLFdA0FE+x01csB330Ld1tkxVX5cwk9pXCTAhCUjjSIaUkVrCJBHPdAWZtoVGrodi07ajOi0doIy8H98AUXvv+SNIvv3rxh6/p71xcYbT880Dpu31YiB2E5OZtkk6wWFX/fTDIXd9nHEYmiIWvxwA0c4zFOce0zbjw2V+f5fHa8VA0bQXL5Ut4BxutXcl54spYn0qPuz43gfgdBs3V+ucgNGsXfAYjreZjYBZx+gOnaycfalpcyRm1e85OMPdGAFxyvm5EqUPobwBbL4wbZ7MrfYqEeD8mpii42kryLRp5XebtqmmAFZzk5m28erT7qDum8y0ubOlqvq6BL+1vChnsgAmJAFpHMmQMlJLmCTima4g07bQyPVQbNp2VKelA5SRmTT1PnDKRP/Eg7/Y9/t4aQxD8zAmVcu3Gtt53GrjfAljXA0pzlfg+S9FWnzD1zR+X+1flujpEm/jsVGokv1iMo6n8/zC8BEev2RjMdQFMqecnyr5Dngyt2icGIKlFbTyh+BXF4agRwfmr1xV5SV4jcSwBOwy5IzcEiaJef4+jVwPx9Ztx3UyHm9cmIn+ib/CuPKXnj02/zLG+712rgaE5v+B5vMm3c/C676dnzwrlmueEnjip8Gfs2fPffNvIxwhlW/6RZiZ/wmeO/aHYZA9VzEHapZrnhJ44sfBqwdFyw7qP+HLkimwPe4+jiPEDfM/wXPH/jBMIizTaWfaB1qWS54SeOInwl8Hnyx7/e8fs6/oObgi/a/8dsByuM7cPPGTkP2+GKdnO6g8JfDEz4SXrHuVIKj01slPOGULXva91uB9aJ544k/27NgEABgEANhY6CQ4iP8/6hUukryRPS876l9ZEwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABg2IMDAQAAAAAg/9dGUFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVWV9uCABAAAAEDQ/9ftCFQAAAAAAAAAAAAAAAAAAAAWAvbZ4Qpul7/HAAAAAElFTkSuQmCC"},NVF8:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n("o0o1"),u=n.n(r),i=n("yXPU"),o=n.n(i),l=n("WtXJ"),d=n("JHqw"),p=n("Nmqt");function f(){return(new Date).getTime()}function a(e){return s.apply(this,arguments)}function s(){return(s=o()(u.a.mark(function e(t){var n,r,i,o,a,s,c;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=Object(p.b)(t)){e.next=25;break}if((r=window["scm".concat(t)]=window["scm".concat(t)]||{}).tracker=r.tracker||{},i=f(),Object(l.a)().length){e.next=12;break}return o=f(),e.next=9,Object(l.b)({loadModule:!0});case 9:a=e.sent,r.tracker.fetchList_cost_time=f()-o,Object(l.d)(a.navs);case 12:return s=f(),e.next=15,Object(l.c)(t);case 15:return r.tracker.intExternalJS_cost_time=f()-s,c=f(),e.next=19,d.a.manager.loadModule(t,{disableSandbox:!0});case 19:e.sent.precompile(),r.tracker.intModuleJS_cost_time=f()-c,(n=Object(p.b)(t))||console.error("get garr ".concat(t," module error")),r.tracker.loadModule_cost_time=(new Date).getTime()-i;case 25:return e.abrupt("return",Promise.resolve(n||{}));case 26:case"end":return e.stop()}},e)}))).apply(this,arguments)}window.garrRequire=a},NWgW:function(e,t,n){},Naly:function(e,t,n){"use strict";n.d(t,"b",function(){return u}),n.d(t,"a",function(){return d});var r=n("lwsE"),i=n.n(r),o=n("W8MJ"),s=n.n(o),a=n("J4zp"),c=n.n(a),u=function(e){return e.startsWith("translated_")?e.substr(11):e},l=function(e){return e.reduce(function(e,t){var n=t.split("_"),r=c()(n,3),i=r[0],o=r[1],a=r[2];return e[i]||(e[i]={},e[i][o]={}),e[i][o]=a,e},{})},d=function(){function a(){i()(this,a)}return s()(a,null,[{key:"init",value:function(e){try{var t,n=JSON.parse(localStorage.getItem("sheetZoom")||"[]"),r=l(n)[e];for(t in r){var i=Number(r[t]);(Number.isNaN(i)||i<=0)&&delete r[t]}a.zoomDataObj=r||{}}catch(e){a.zoomDataObj={}}}},{key:"getItem",value:function(e){return a.zoomDataObj[e]||1}},{key:"setItem",value:function(t,e,n){var r=u(e);try{var i=JSON.parse(localStorage.getItem("sheetZoom")||"[]");30<i.length&&i.shift();var o=i.findIndex(function(e){return e.startsWith(t+"_"+r)});if(-1<o)return 1===n?i.splice(o,1):i[o]="".concat(t,"_").concat(r,"_").concat(n),a.zoomDataObj[e]=n,void localStorage.setItem("sheetZoom",JSON.stringify(i));i.push("".concat(t,"_").concat(r,"_").concat(n)),a.zoomDataObj[e]=n,localStorage.setItem("sheetZoom",JSON.stringify(i))}catch(e){}}}]),a}();d.zoomDataObj={}},NdYY:function(e,t,n){},Nh2a:function(e,t,n){var o=n("SKAX");function r(e,r){var i;return o(e,function(e,t,n){return!(i=r(e,t,n))}),!!i}e.exports=r},NioV:function(e,t,n){"use strict";var r=n("pevS"),i=n("mIMY"),o=n("sOpI"),a=n("fvkw");r({target:"Promise",proto:!0,real:!0},{finally:function(t){var n=o(this,i("Promise")),e="function"==typeof t;return this.then(e?function(e){return a(n,t()).then(function(){return e})}:t,e?function(e){return a(n,t()).then(function(){throw e})}:t)}})},Nl7c:function(e,t,n){"use strict";n.d(t,"b",function(){return i}),n.d(t,"a",function(){return o});var r=n("FJEn");function c(e,t){return e===r.DEFAULT_REP_ZONE&&0===t}function i(){var s=this;return function(e,t,n){var a=n.value;return a instanceof Function&&(n.value=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0],i=r.zoneId,o=r.children;return c(i,r.index)?o:a.apply(s,t)}),n}}function o(){var o=this;return function(e,t,n){var i=n.value;return i instanceof Function&&(n.value=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0].lineState;return c(r.getZoneId(),r.index)?null:i.apply(o,t)}),n}}},NltJ:function(e,t,n){"use strict";n.d(t,"g",function(){return f}),n.d(t,"q",function(){return O}),n.d(t,"l",function(){return k}),n.d(t,"k",function(){return S}),n.d(t,"d",function(){return w}),n.d(t,"f",function(){return L}),n.d(t,"j",function(){return j}),n.d(t,"h",function(){return F}),n.d(t,"m",function(){return B}),n.d(t,"o",function(){return U}),n.d(t,"e",function(){return H}),n.d(t,"i",function(){return z}),n.d(t,"a",function(){return V}),n.d(t,"p",function(){return K}),n.d(t,"n",function(){return W}),n.d(t,"b",function(){return q}),n.d(t,"c",function(){return Z});var r=n("RIqP"),R=n.n(r),i=n("J4zp"),h=n.n(i),o=n("Muja"),_=n("lCmp"),N=n("owWc"),D=n("uQON"),M=n("VI6H"),a=n("peh1"),s=n("94ch"),c=n("ZGZ5"),u=n("vc5i"),P=n("Ux/T"),C=n("QM+C"),l=n("hVE6"),d=n("m1/u"),p=function(e){var t=Object(u.o)(e),n=C.NUM_SUITE_TYPE_TO_SUITE_ENGINE_TYPE[t];if(n===C.SUITE_ENGINE_TYPE.FILE&&Object(l.j)(e))return"history"},f=function(e){return e.appState.commentReaction},g=function(e){return e.appState.commentReactionLoadStatus},m=Object(a.createSelector)(function(e){return g(e)},function(e){return Object(u.n)(e)},function(e){return Object(u.o)(e)},function(e,t,n){return!0===e.get("".concat(n,":").concat(t))});function y(e,t,n){if(0<e.size){var r=!0,i=!1,o=void 0;try{for(var a,s=e.values()[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var c=a.value,u=c.commentId,l=c.replyId;if(u&&l&&u===t&&l===n)return{message_id:c.messageId,related:c.related,status:c.status}}}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}}return null}function v(n,e,r){return null!==e&&null!==r&&e.length===r.length&&e.every(function(e,t){return n(e,r[t])})}function b(i,o,a){var s=null,c=null;return function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return v(o,s,n)||(e=i.apply(void 0,n),c=a(c,e)),s=n,c}}function E(t,n){return Object.keys(t).length===Object.keys(n).length&&Object.keys(t).every(function(e){return"selfAsList"===e||("error"===e||"extra"===e?Object(o.default)(t[e],n[e]):"entities"===e?t.entities.users===n.entities.users:t[e]===n[e])})}var T=Object(a.createSelectorCreator)(b,function(e,t){return e===t},function(e,t){if(null===e||null===t)return t;var n=new Map(e.map(function(e){return[e.reply_id,e]})),r=!1,i=t.map(function(e){if(n.has(e.reply_id)){var t=n.get(e.reply_id);if(E(t,e))return t}return r=!0,e});return e.length===t.length&&!r?e:i}),O=function(e){return e.appState.messageData},k=T(function(e){return e.appState.commentData},function(e){return e.appState.messageData},function(e){return f(e)},function(e){return m(e)},function(e){return Object(s.a)(e)},function(e){return Object(u.n)(e)},function(e){return Object(u.o)(e)},function(e,d,p,t,f,n,r){if(!t)return[];var i=e[Object(P.b)(r,n)];return i?Object.entries(i).filter(function(e){var t=h()(e,2)[1],n=t.finish;return t.isWhole&&!n}).map(function(e){var t=h()(e,2),n=t[0],r=t[1],i=h()(r.commentList,1)[0],o=r.isWhole,a=i.replyId,s=i.deleted,c=i.userId;if(s||!f.get(c))return null;var u=Object(D.m)(i,f),l=Object.assign({isWhole:o},u,{},y(d,n,a),{reactions:p.get(a),commentId:n});return l.selfAsList=[l],l}).filter(function(e){return null!==e}).sort(function(e,t){return e.time-t.time}):[]}),S=function(e){return!0},w=Object(a.createSelector)(c.a,function(e){return{name:e.get("name"),avatar_url:e.get("avatar_url"),user_id:e.get("id")}}),I=function(e){return e.appState.commentPosition},x=Object(a.createSelector)(I,u.n,u.o,p,function(e,t,n,r){return e[Object(P.b)(n,t,r)]}),L=Object(a.createSelector)(function(e){return x(e)},function(e){return e&&e.positions?e.positions:[]}),j=Object(a.createSelector)(function(e){return x(e)},function(e){return e&&e.positions?e.positions.map(function(e){var t=e.commentId,n=e.context,r=e.visible,i=n.isSubmitted,o=n.quote,a=n.line;return{commentId:t,isSubmitted:i,quote:o,serviceToken:n.serviceToken,serviceType:n.serviceType,line:a,top:n.top,visible:r}}).filter(function(e){return void 0!==e.commentId}):[]}),F=Object(a.createSelector)(function(e){return x(e)},function(e){return!!e&&!0===e.shown}),B=Object(a.createSelector)(function(e){return x(e)},function(e){return!!e&&!0===e.isLoaded}),U=Object(a.createSelector)(function(e){return Object(d.a)("messages")(e)===C.StatusMap.loaded},function(e){return Object(d.a)("comments")(e)===C.StatusMap.loaded},function(e){return m(e)},function(e){return B(e)},function(e,t,n,r){return(C.isAnonymousAccess||e)&&t&&n&&r}),H=Object(a.createSelector)(function(e){return z(e)},function(e){var d={};return e.forEach(function(e){var t,n,r,i,o,a=e.comment_list,s=e.comment_id,c=e.context,u=c.top,l=c.line;u&&(r=void 0===(n=(t=d[u]||{}).commentIds)?[]:n,0<(o=(void 0===(i=t.listCount)?0:i)+a.length)&&(99<o&&(o="99+"),d[u]={commentIds:r.concat(s),listCount:o,line:l}))}),d}),z=(Object(a.createSelector)(function(e){return Object(d.a)("messages")(e)===C.StatusMap.loaded},function(e){return Object(d.a)("comments")(e)===C.StatusMap.loaded},function(e){return m(e)},function(e,t,n){return e&&t&&n}),Object(a.createSelector)(function(e){return e.appState.commentData},function(e){return e.appState.messageData},function(e){return L(e)},function(e){return f(e)},function(e){return m(e)},function(e){return Object(s.a)(e)},function(e){return Object(u.n)(e)},function(e){return Object(u.o)(e)},function(e,s,t,c,n,u,r,i,o){if(!n||0===t.length)return[];var l=e[Object(P.b)(i,r,o)];return Object(N.a)(t,function(e,t){var a=t.commentId,n=t.context,r=t.visible;if(!l||!l[a])return e;var i=l[a];if(i.finish)return e;var o=Object(N.a)([].concat(i.commentList),function(e,t){var n=t.replyId,r=t.deleted,i=t.userId;if(r||!u.get(i))return e;var o=Object(D.m)(t,u);return e.push(Object.assign({},o,{},y(s,a,n),{reactions:c.get(n)})),e},[]);return 0!==o.length||i.unSubmitComment?e.push(Object.assign({},Object(D.a)(i),{comment_list:o,comment_id:a,context:n,visible:r})):console.error("no commentList data found",t),e},[])})),V=Object(a.createSelector)(function(e){return e.appState.commentData},function(e){return Object(u.n)(e)},function(e){return Object(u.o)(e)},function(e,t,n){return e[Object(P.b)(n,t)]}),K=Object(a.createSelector)(function(e){return e.appState.commentData},function(e){return e.appState.messageData},function(e){return L(e)},function(e){return f(e)},function(e){return m(e)},function(e){return Object(s.a)(e)},function(e){return Object(u.n)(e)},function(e){return Object(u.o)(e)},function(e,h,t,g,n,m,r,i,o){if(!n||0===t.length)return[];var v=e[Object(P.b)(i,r,o)];return Object(N.a)(t,function(e,t){var a=t.commentId,n=t.visible,r=t.context,i=r.serviceType,o=r.serviceToken,s=r.top,c=r.isSubmitted,u=r.quote,l=r.line;if(!v||!v[a])return e;var d=v[a];if(d.finish)return e;var p=d.isWhole,f=Object(N.a)([].concat(d.commentList),function(e,t){var n=t.replyId,r=t.deleted,i=t.userId;if(r||!m.get(i))return e;var o=Object(D.m)(t,m);return e.push(Object.assign({isWhole:p},o,{},y(h,a,n),{reactions:g.get(n)})),e},[]);return 0===f.length&&c?console.error("no commentList data found",t):(u&&(d.quote=u),e.push(Object.assign({},Object(D.a)(d,c),{comment_list:f,serviceType:i,serviceToken:o,commentId:"".concat(i,":").concat(o,":").concat(a),top:s,visible:n,line:l}))),e},[])}),W=(Object(a.createSelector)(function(e){return e.appState.notification.messages},function(e){return w(e)},function(e,t){var n=[],r=t.user_id||"",i=0;if(0<e.size){var o=!0,a=!1,s=void 0;try{for(var c,u=e.values()[Symbol.iterator]();!(o=(c=u.next()).done);o=!0){var l=c.value;"MESSAGE_CARD"!==l.type&&l.userId===r||(n.push(l),1===l.status&&i++)}}catch(e){a=!0,s=e}finally{try{o||null==u.return||u.return()}finally{if(a)throw s}}}return{notifications:[].concat(n).sort(function(e,t){return t.createTime-e.createTime}),thisDocUnReadBadge:i}}),Object(a.createSelector)(function(e){return Y(e)},function(e){return Object(d.a)("comments")(e)===C.StatusMap.loaded},function(e){return Object(d.a)("messages")(e)===C.StatusMap.loaded},function(e){return m(e)},function(e){return B(e)},function(e,t,n,r,i){return t&&n&&r&&(0===e.length||i)})),Y=Object(a.createSelector)(function(e){return e.appState.commentData},function(e){return Object(u.n)(e)},function(e){return Object(u.o)(e)},function(e){return p(e)},function(e,t,n,r){var i=e[Object(P.b)(n,t,r)];return i?Object.entries(i).filter(function(e){var t=h()(e,2),n=(t[0],t[1]);return!n.isWhole&&!n.finish}):[]}),q=(Object(a.createSelector)(function(e){return e.appState.commentData},function(e){return e.appState.messageData},function(e){return e.appState.messagePosition},function(e){return f(e)},function(e){return Object(s.a)(e)},function(e){return e.appState.newOldMessage},function(e){return Object(u.n)(e)},function(e){return Object(u.o)(e)},function(e){return w(e)},function(e,_,t,C,T,n,r,i,o){var a=e["".concat(i,"-").concat(r)];if(0===_.size)return[];var s,c,O=o.user_id||"",h=t.position,g=t.isInit,u=[],l=n.mention,d=n.comment,p=function(e){var t=e.comment,y=e.commentId,n=e.serviceType,r=e.serviceToken,i=e.isSubmitted,o=t.commentList,b=!1,E=!1,a=Object(N.a)([].concat(o),function(e,t){var n=t.replyId,r=t.deleted,i=t.userId;if(r||!T.get(i))return e;var o=Object(D.m)(t,T);if(0<_.size){var a,s=!0,c=!1,u=void 0;try{for(var l,d=_.values()[Symbol.iterator]();!(s=(l=d.next()).done);s=!0){var p=l.value,f=p.commentId,h=p.replyId;if(f&&h&&f===y&&h===n){a=p;break}}}catch(e){c=!0,u=e}finally{try{s||null==d.return||d.return()}finally{if(c)throw u}}if(a){var g=a.messageId,m=a.related,v=a.status;return 1===a.initStatus&&m&&(b=!0),m&&i!==O&&(E=!0),e.push(Object.assign({},o,{message_id:g,related:m,status:v,reactions:C.get(n)})),e}}return e.push(Object.assign({},o,{reactions:C.get(n)})),e},[]);if(0===a.length&&i)return console.error("no commentList data found",t),null;var s,c,u=!0;if((c=t.isWhole?o.every(function(e){return e.deleted}):(u=(s=h.find(function(e){return e.commentId===y}))?!1!==s.visible:!g,!!g&&!s),E)&&(!c&&!t.finish||b))return Object.assign({},Object(D.a)(t),{updateTime:d[y]||t.updateTimestamp,comment_list:a,serviceType:n,isNew:b,isRelated:E,serviceToken:r,isSubmitted:i,isDeleted:c,comment_id:y,type:t.isWhole?"MESSAGE_WHOLE_COMMENT":"MESSAGE_DOC_COMMENT",visible:u});return null},f=function(p){var f=[];if(0<_.size){var e=[],t=!0,n=!1,r=void 0;try{for(var i,o=_.values()[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var a=i.value,s=a.mentionId,c=a.type;if(s&&s===p){e.push(a);break}p||"MESSAGE_DOC_SHARE"!==c||e.push(a)}}catch(e){n=!0,r=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw r}}0<e.length&&e.forEach(function(e){var t,n,r,i,o,a=e.status,s=e.initStatus,c=e.userId,u=e.type,l=1===s,d=T.get(c);if(!d)return null;"MESSAGE_DOC_SHARE"!==u?(n=!0,n=(t=h.find(function(e){return e.mentionId===p}))?!1!==t.visible:!g,(r=!!g&&!t)&&!l||(i={type:e.type,mention_id:e.mentionId,message_id:e.messageId,isNew:l,status:a,isDeleted:r,name:Object(M.o)(c),user_id:e.userId,create_time:e.createTime,create_timestamp:e.createTime,updateTime:e.createTime,avatar_url:d.avatar_url,visible:n,extra:e.extra,isHaveBeenSetPosition:!!t},f.push(i))):(o={type:e.type,message_id:e.messageId,isNew:l,status:a,name:Object(M.o)(c),user_id:e.userId,create_time:e.createTime,create_timestamp:e.createTime,updateTime:e.createTime,avatar_url:d.avatar_url},f.push(o))})}return f},m=f();for(s in 0<m.length&&u.push.apply(u,R()(m)),l){var v=f(s);0<v.length&&u.push.apply(u,R()(v))}for(c in d){if(!a)break;var y,b,E=a[c];E&&((b=p({comment:E,commentId:c,serviceType:(y=Object(P.a)(E,i,r)).serviceType,serviceToken:y.serviceToken,isSubmitted:!0}))&&u.push(b))}if(0<_.size){var k=!0,S=!1,w=void 0;try{for(var I,x=_.values()[Symbol.iterator]();!(k=(I=x.next()).done);k=!0){var L=I.value;"MESSAGE_CARD"===L.type&&u.push(L)}}catch(e){S=!0,w=e}finally{try{k||null==x.return||x.return()}finally{if(S)throw w}}}return[].concat(u).sort(function(e,t){return t.updateTime-e.updateTime})}),Object(a.createSelector)(function(e){return e.appState.commentData},function(e){return e.appState.messageData},function(e){return Object(u.n)(e)},function(e){return Object(u.o)(e)},function(e,t,n,r){var o=new Map,i=e["".concat(r,"-").concat(n)];if(!i)return o;var a=new Map;return Object.entries(i).forEach(function(e){var t=h()(e,2),n=t[0],r=t[1],i=r.finish,o=r.isWhole;i||r.commentList.forEach(function(e){var t=e.replyId;a.set(t,{commentId:n,isWhole:Boolean(o),replyId:t})})}),t.forEach(function(e,t){var n,r=e.replyId,i=e.type;"MESSAGE_DOC_COMMENT"!==i&&"MESSAGE_WHOLE_COMMENT"!==i||(n=a.get(r))&&o.set(t,n)}),o})),Z=Object(a.createSelector)(function(e){return e.appState.commentData},function(e){return L(e)},function(e){return Object(s.a)(e)},function(e){return e.appState.commentLoadStatus},function(e){return Object(u.n)(e)},function(e){return Object(u.o)(e)},function(e){return p(e)},function(e,h,g,m,v,y,t){if(0===Object.keys(e).length)return[];var n,b=e[Object(P.b)(y,v,t)],E=[],r=function(t){var e,n,r,i,o,a,s,c,u,l=b[t],d=l.finish,p=l.isWhole,f=l.commentList;y===C.NUM_FILE_TYPE.DOC?h.find(function(e){return e.commentId===t})||(r=n=e=!1,o=(i=Object(P.a)(l,y,v)).serviceType,a=i.serviceToken,s="".concat(o,"-").concat(a),d?(e=!0,p||(r=m[s])):p||(n=Object(_.a)(f,function(e){return!e.deleted})),(e||n)&&f&&(c=f.map(function(e){var t=e.userId;return g.get(t)?Object(D.m)(e,g):e}),E.push(Object.assign({},Object(D.a)(l),{comment_list:c,comment_id:t,is_whole:p,isLoading:r})))):y!==C.NUM_FILE_TYPE.SHEET&&y!==C.NUM_FILE_TYPE.FILE||d&&f&&(u=f.map(function(e){var t=e.userId;return g.get(t)?Object(D.m)(e,g):e}),E.push(Object.assign({},Object(D.a)(l),{comment_list:u,comment_id:t,is_whole:p,isLoading:!1})))};for(n in b)r(n);return E.sort(function(e,t){return t.finish_timestamp-e.finish_timestamp})})},"Ns/6":function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"c",function(){return o}),n.d(t,"b",function(){return a});var r=n("toa8");n("AiBH"),n("jp/M");function i(e){var t="/api/mention/notify/";return r.d.post(t,e,{headers:{"Content-Type":"application/json","Cache-Control":"no-cache,no-store"}})}function o(e){var t="/api/mention/notification/";return r.d.post(t,e,{headers:{"Content-Type":"application/json","Cache-Control":"no-cache,no-store"}})}function a(e){return r.d.post("/api/mention/unnotify/",e)}},Nsz2:function(e,t,n){var i=n("TR4g"),o=/\s+/g,r=n("AdCt"),a=n("ZuxE");function s(e,t,n){"object"==typeof e?(n=t,t=e,e=null):"function"==typeof t&&(n=t,t=c),this._callback=e,this._options=t||c,this._elementCB=n,this.dom=[],this._done=!1,this._tagStack=[],this._parser=this._parser||null}var c={normalizeWhitespace:!1,withStartIndices:!1,withEndIndices:!1};s.prototype.onparserinit=function(e){this._parser=e},s.prototype.onreset=function(){s.call(this,this._callback,this._options,this._elementCB)},s.prototype.onend=function(){this._done||(this._done=!0,this._parser=null,this._handleCallback(null))},s.prototype._handleCallback=s.prototype.onerror=function(e){if("function"==typeof this._callback)this._callback(e,this.dom);else if(e)throw e},s.prototype.onclosetag=function(){var e=this._tagStack.pop();this._options.withEndIndices&&e&&(e.endIndex=this._parser.endIndex),this._elementCB&&this._elementCB(e)},s.prototype._createDomElement=function(e){if(!this._options.withDomLvl1)return e;var t,n="tag"===e.type?Object.create(a):Object.create(r);for(t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n},s.prototype._addDomElement=function(e){var t=this._tagStack[this._tagStack.length-1],n=t?t.children:this.dom,r=n[n.length-1];e.next=null,this._options.withStartIndices&&(e.startIndex=this._parser.startIndex),this._options.withEndIndices&&(e.endIndex=this._parser.endIndex),r?(e.prev=r).next=e:e.prev=null,n.push(e),e.parent=t||null},s.prototype.onopentag=function(e,t){var n={type:"script"===e?i.Script:"style"===e?i.Style:i.Tag,name:e,attribs:t,children:[]},r=this._createDomElement(n);this._addDomElement(r),this._tagStack.push(r)},s.prototype.ontext=function(e){var t,n,r=this._options.normalizeWhitespace||this._options.ignoreWhitespace;!this._tagStack.length&&this.dom.length&&(t=this.dom[this.dom.length-1]).type===i.Text||this._tagStack.length&&(t=this._tagStack[this._tagStack.length-1])&&(t=t.children[t.children.length-1])&&t.type===i.Text?r?t.data=(t.data+e).replace(o," "):t.data+=e:(r&&(e=e.replace(o," ")),n=this._createDomElement({data:e,type:i.Text}),this._addDomElement(n))},s.prototype.oncomment=function(e){var t,n,r=this._tagStack[this._tagStack.length-1];r&&r.type===i.Comment?r.data+=e:(t={data:e,type:i.Comment},n=this._createDomElement(t),this._addDomElement(n),this._tagStack.push(n))},s.prototype.oncdatastart=function(){var e={children:[{data:"",type:i.Text}],type:i.CDATA},t=this._createDomElement(e);this._addDomElement(t),this._tagStack.push(t)},s.prototype.oncommentend=s.prototype.oncdataend=function(){this._tagStack.pop()},s.prototype.onprocessinginstruction=function(e,t){var n=this._createDomElement({name:e,data:t,type:i.Directive});this._addDomElement(n)},e.exports=s},NtTV:function(e,t,n){"use strict";var i,r;function u(e){return e?null!=e.info?e:null!=e.code?{info:"code: ".concat(e.code)}:e.toString?{info:e.toString()}:{}:{}}function l(e){if(!e)return"unknown";if(e.specialSuite){var t=e.info;return"SpecialSuite-".concat(t.code)}return e.info}(r=i=i||{}).init="init",r.opened="opened",r.loaded="loaded",r.cancelled="cancelled";var o=n("lwsE"),a=n.n(o),s=n("W8MJ"),c=n.n(s),d=n("sLU5"),p=n("OX8E"),f=n("093l"),h=n("Ibn6"),g=n("bdgK"),m=n("ifKl"),v=n("4TP3"),y=n("TGBA"),b=function(){function t(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:5;a()(this,t),this.runningPool={},this.currentRunningSize=0,this.waitingQueue=[],this.maxRunningSize=e}return c()(t,[{key:"addTask",value:function(e){this.currentRunningSize<this.maxRunningSize?this.runTask(e):this.waitTask(e)}},{key:"runTask",value:function(e){var t=this,n=function(){t.onFinishRunningTask(e.id)};e.onLoad=n,e.onCancel=n,this.currentRunningSize++,(this.runningPool[e.id]=e).send()}},{key:"waitTask",value:function(e){var t=this;e.onCancel=function(){t.onFinishWaitingTask(e)},this.waitingQueue.push(e)}},{key:"onFinishRunningTask",value:function(e){delete this.runningPool[e],this.currentRunningSize--;var t=this.waitingQueue.shift();t&&this.runTask(t)}},{key:"onFinishWaitingTask",value:function(e){Object(v.a)(this.waitingQueue,e)}},{key:"removeAllTasks",value:function(){var t=this;0<this.waitingQueue.length&&(this.waitingQueue.forEach(function(e){e.onCancel=m.default,e.cancel()}),this.waitingQueue.length=0),0<this.currentRunningSize&&Object(y.a)(this.runningPool).forEach(function(e){e.onCancel=m.default,e.onLoad=m.default,e.cancel(),delete t.runningPool[e.id],t.currentRunningSize--})}}]),t}(),E=n("o0o1"),_=n.n(E),C=n("lSNA"),T=n.n(C),O=n("yXPU"),k=n.n(O),S=n("Olm7"),w=n("jp/M"),I=n("toa8"),x=n("3doy"),L=function(){function e(){var t=this;a()(this,e),this.sendDatas={},this.responses={},this.getResponsePromiseCallbacks={},this.fetchs=[],this.timer=null,this.sendRequests=function(){t.timer=null;var e=Object.values(t.sendDatas).map(function(e){return t.convertSendDataToRequestSendData(e)});t.sendDatas={},t.doSendRequests(e)}}function t(e){return n.apply(this,arguments)}var n;return c()(e,[{key:"addRequest",value:function(e){var t=e.token;this.responses[t]||this.isCurrentTokenInRequest(t)||(this.sendDatas[t]=e,this.timer&&window.clearTimeout(this.timer),this.timer=window.setTimeout(this.sendRequests,100))}},{key:"getResponse",value:function(r){var i=this,e=new Promise(function(e,t){var n=i.responses[r.token];n?n.isSuccess?e(n.data):t():i.isCurrentTokenInRequest(r.token)?i.getResponsePromiseCallbacks[r.token]={resolve:e,reject:t}:(i.getResponsePromiseCallbacks[r.token]={resolve:e,reject:t},i.doSendRequests([i.convertSendDataToRequestSendData(r)]))});return e.abort=function(){var e=i.getResponsePromiseCallbacks[r.token];e&&(e.reject(),delete i.getResponsePromiseCallbacks[r.token])},e}},{key:"doSendRequests",value:(n=k()(_.a.mark(function e(t){var n,r,i,o=this;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(I.d)({url:w.apiUrls.POST_FILE_CDN_URL,method:w.apiUrls.METHOD.POST,headers:{"Content-Type":"application/json"},data:t}),this.fetchs.push({fetch:n,tokens:t.reduce(function(e,t){return Object.assign({},e,T()({},t.file_token,!0))},{})}),e.prev=2,e.next=5,n;case 5:r=e.sent,i={},r&&r.data&&r.data.forEach(function(e){i[e.file_token]=e}),t.forEach(function(e){var t=e.file_token,n=i[t];o.responses[t]={data:n,isSuccess:Boolean(n)};var r=o.getResponsePromiseCallbacks[t];r&&(n?r.resolve(n):r.reject(),delete o.getResponsePromiseCallbacks[t])}),e.next=13;break;case 11:e.prev=11,e.t0=e.catch(2);case 13:return e.prev=13,Object(S.a)(this.fetchs,function(e){return e.fetch===n}),e.finish(13);case 16:case"end":return e.stop()}},e,this,[[2,11,13,16]])})),t)},{key:"convertSendDataToRequestSendData",value:function(e){return{file_token:e.token,width:e.width,height:e.height,policy:x.PostFileCdnUrlPolicy.allow_up}}},{key:"isCurrentTokenInRequest",value:function(t){return Boolean(this.sendDatas[t]||this.fetchs.find(function(e){return e.tokens[t]}))}},{key:"reset",value:function(){this.fetchs.forEach(function(e){e.fetch.abort()}),this.fetchs=[],this.sendDatas={},this.responses={},this.timer&&window.clearTimeout(this.timer)}}]),e}(),R=n("AYG9");function N(e,t){var n="function"==typeof e?e():e;return void 0!==n?n:t}var D="client_grid_view_scroll",M=function(){function i(){var n=this,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};a()(this,i),this.isStoppedFetchImgSrc=!1,this.viewportParam={},this.scrollEvent=d.a.PC.DRIVE.GridView.gridScroll,this.resizeEvent=d.a.PC.DRIVE.GridView.gridResize,this.onResizeEnd=function(){n.isStoppedFetchImgSrc=!1,p.a.emit(n.resizeEvent)},this.onScrollEnd=function(){n.isStoppedFetchImgSrc=!1,p.a.emit(n.scrollEvent),Object(R.c)(D)},this.onScrollStart=function(){n.isStoppedFetchImgSrc=!0,n.fetchImgSrcTaskQueue.removeAllTasks(),Object(R.b)(D)},this.onResizeStart=function(){n.isStoppedFetchImgSrc=!0,n.fetchImgSrcTaskQueue.removeAllTasks(),n.parallelRequestKeyManager.reset()},this.toggleBindEvent=function(e,t){t?n.bindEvent(e):n.unbindEvent()};var t=e.scrollEvent,r=e.resizeEvent;this.fetchImgSrcTaskQueue=new b,this.parallelRequestKeyManager=new L,t&&(this.scrollEvent=t),r&&(this.resizeEvent=r)}return c()(i,[{key:"bindEvent",value:function(e){this.resizeEventRemover=this.detectResizeEvent(e,this.onResizeStart,this.onResizeEnd),this.scrollEventRemover=this.detectScrollEvent(e,this.onScrollStart,this.onScrollEnd)}},{key:"unbindEvent",value:function(){this.resizeEventRemover&&this.resizeEventRemover.removeEvent(),this.scrollEventRemover&&this.scrollEventRemover.removeEvent()}},{key:"isInViewport",value:function(e){var t={top:0,bottom:window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight},n=N(this.viewportParam.top,t.top),r=N(this.viewportParam.bottom,t.bottom),i=e.getBoundingClientRect(),o=i.top;return n<=i.bottom&&o<=r}},{key:"setViewportParam",value:function(e){this.viewportParam=e}},{key:"removeAllTasks",value:function(){this.fetchImgSrcTaskQueue.removeAllTasks(),this.parallelRequestKeyManager.reset()}},{key:"detectScrollEvent",value:function(e,t,n){var r=new P(t,n);return e.addEventListener("scroll",r.handleEvent,!!h.a&&{passive:!0}),{removeEvent:function(){r.destroyEvent(),e.removeEventListener("scroll",r.handleEvent)}}}},{key:"detectResizeEvent",value:function(e,t,n){var r=new P(t,n),i=new g.default(Object(f.a)(r.handleEvent));return i.observe(e),{removeEvent:function(){r.destroyEvent(),i.disconnect()}}}}]),i}(),P=function(){function r(e,t){var n=this;a()(this,r),this.handleEvent=function(){window.clearTimeout(n.isEventProcessing),n.isEventProcessing||n.onStart(),n.isEventProcessing=window.setTimeout(function(){n.isEventProcessing=void 0,n.onEnd()},200)},this.onStart=e,this.onEnd=t}return c()(r,[{key:"destroyEvent",value:function(){this.isEventProcessing&&window.clearTimeout(this.isEventProcessing)}}]),r}(),j=n("fp5s"),F=n("mbpr"),B=n("lAOT"),U=function(){function e(){var n=this;a()(this,e),this.state=i.init,this.onCancel=m.default,this.onLoad=m.default,this.cancelSource=B.b.source(),this.logger=new F.a,this.wrapWithCancel=function(t){return function(e){if(n.isCancelled())throw new Error;return t(e)}},this.id=Object(j.a)("_FetchImgSrcTask_")}return c()(e,[{key:"setState",value:function(e){this.state=e}},{key:"getLog",value:function(){return this.logger.getLog()}},{key:"isCancelled",value:function(){return this.state===i.cancelled}},{key:"open",value:function(e){var n=this,r=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];return this.sendData=e,this.setState(i.opened),this.logger.logStartTime("display_time_cost"),this.logger.logStartTime("queue_time_cost"),new Promise(function(e,t){n.resolve=e,n.reject=t,r&&n.send()})}},{key:"send",value:function(){var t=this;if(this.state!==i.opened)throw new Error("cannot start fetch when state is not ".concat(i.opened));this.logger.logEndTime("queue_time_cost"),this.logger.logStartTime("request_time_cost"),this.doSend().then(function(e){t.load(e)}).catch(function(e){t.fail(e)})}},{key:"load",value:function(e){this.logger.logEndTime("request_time_cost"),this.logger.logEndTime("display_time_cost"),this.logger.sendLog("client_grid_cover_load"),this.resolve&&this.resolve(e),this.setState(i.loaded),this.onLoad()}},{key:"fail",value:function(e){this.reject&&this.reject(e),e&&Object(B.c)(e)||(this.setState(i.loaded),this.onLoad(),this.logger.logValue("request_img_fail",!0),this.logger.logValue("request_img_fail_reason",l(e)),this.logger.sendLog("client_grid_cover_load"))}},{key:"cancel",value:function(){this.fail(new B.a),this.setState(i.cancelled),this.onCancel(),this.cancelSource.cancel()}}]),e}(),H=n("a1gu"),z=n.n(H),V=n("Nsbk"),K=n.n(V),W=n("7W2i"),Y=n.n(W),q=n("MvBO"),Z=n("VIFs"),X=n("1dfU"),Q=function(e){function t(){var i;return a()(this,t),(i=z()(this,K()(t).apply(this,arguments))).requestCDN=function(e){var t=e.url,n=e.secret,r=e.nonce;return Object(q.a)({url:t.replace("http://","https://"),key:n,iv:r,timeout:3e3,cancelToken:i.cancelSource.token,logger:i.logger}).then(function(e){return{src:e.blobUrl,isIcon:!1}})},i.requestOrigin=function(){var e=Object(Z.prependAPI)("/api/box/stream/download/v2/cover/".concat(i.sendData.token,"?")+"width=".concat(i.sendData.width,"&height=").concat(i.sendData.height,"&policy=").concat(x.PostFileCdnUrlPolicy.allow_up));return Object(q.b)({url:e,cancelToken:i.cancelSource.token,logger:i.logger}).then(function(e){return{src:e.blobUrl,isIcon:!1}})},i}return Y()(t,e),c()(t,[{key:"setParallelRequestKeyManager",value:function(e){this.parallelRequestKeyManager=e}},{key:"doSend",value:function(){var t=this;return this.logger.logValue("source",this.sendData.sourceForLog),this.logger.logValue("file_id",Object(X.a)(this.sendData.token)),this.logger.logValue("file_type",this.sendData.type),this.requestKey().then(this.wrapWithCancel(this.requestCDN)).catch(function(e){if(e&&e.noPermitted)throw e;return t.wrapWithCancel(t.requestOrigin)(e)})}},{key:"requestKey",value:function(){var r=this;this.logger.logValue("request_key_necessary",!0),this.logger.logStartTime("request_key_time_cost");var e=(this.parallelRequestKeyManager||new L).getResponse(this.sendData);return this.cancelSource.token.promise.then(function(){e.abort()}),e.then(function(e){if(r.logger.logEndTime("request_key_time_cost"),e){if(!e.permitted)throw{noPermitted:!0,info:"no permission"};if("0"===e.cipher_type)throw{info:"resp cipher type is 0"};return e}throw{info:"no response"}}).catch(function(e){if(r.isCancelled())throw e;var t=u(e),n=l(t);throw r.logger.logValue("request_key_fail",!0),r.logger.logValue("request_key_fail_reason",n),t})}}]),t}(U),J=n("7EGn"),$=n("AESI"),ee=n("ahx2"),te=n("7/sA"),ne=n("skFV"),re=function(e){function t(){return a()(this,t),z()(this,K()(t).apply(this,arguments))}function n(e,t,n){return r.apply(this,arguments)}var r,i;function o(){return i.apply(this,arguments)}return Y()(t,e),c()(t,[{key:"transformDevUrl",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"";return e&&te.a&&/^https?:\/\//.test(e)?e.replace(/^https?:\/\/[^/]+/,ne.a):e}},{key:"doSend",value:(i=k()(_.a.mark(function e(){var t,n,r,i,o,a,s,c;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.sendData,n=t.token,r=t.type,i=t.hash,this.logger.logValue("source",this.sendData.sourceForLog),this.logger.logValue("file_id",Object(X.a)(this.sendData.token)),this.logger.logValue("file_type",this.sendData.type),e.next=6,this.getThumbnail(n,r,i);case 6:return o=e.sent,e.next=9,Object(q.c)({url:o.url,key:o.secret,cancelToken:this.cancelSource.token,logger:this.logger});case 9:return a=e.sent,s=a.blobUrl,c=a.isIcon,e.abrupt("return",{src:s,isIcon:c});case 13:case"end":return e.stop()}},e,this)})),o)},{key:"getThumbnail",value:(r=k()(_.a.mark(function e(t,n,r){var i,o,a,s,c;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i=this.sendData.thumbnail,this.isCorrectThumbnail(i))return e.abrupt("return",Object.assign({},i,{url:this.transformDevUrl(i.url)}));e.next=3;break;case 3:return this.logger.logValue("request_key_necessary",!0),this.logger.logStartTime("request_key_time_cost"),e.prev=5,e.next=8,Object(I.d)({url:$.GET_THUMBNAIL_URL,method:"GET",params:Object.assign({obj_type:n,obj_token:t},r?{hash:r}:null)});case 8:if(o=e.sent,this.logger.logEndTime("request_key_time_cost"),a={url:this.transformDevUrl(Object(J.default)(o,"data.url")),secret:Object(J.default)(o,"data.decrypt_key")},this.isCorrectThumbnail(a)){e.next=13;break}throw new Error("thumbnail info error");case 13:return e.abrupt("return",a);case 16:throw e.prev=16,e.t0=e.catch(5),e.t0&&e.t0.code===ee.STATUS_CODE.FORBIDDEN&&(e.t0={noPermitted:!0,info:"no permission"}),s=u(e.t0),c=l(s),this.logger.logValue("request_key_fail",!0),this.logger.logValue("request_key_fail_reason",c),s;case 24:case"end":return e.stop()}},e,this,[[5,16]])})),n)},{key:"isCorrectThumbnail",value:function(e){return Boolean(e&&e.url&&e.secret)}}]),t}(U),ie=n("QM+C"),oe=function(e){var t,n,r,i=e.sourceForLog,o=e.fileToken,a=e.fileType,s=e.clientHeight,c=e.clientWidth,u=e.thumbnail,l=e.fetchImgSrcManager,d=e.hash,p=a===ie.NUM_SUITE_TYPE.FILE?(t={sourceForLog:i,token:o,type:a,width:c,height:s},r=new Q,l&&((n=l.parallelRequestKeyManager).addRequest(t),r.setParallelRequestKeyManager(n)),r.open(t,!1)):(r=new re).open(Object.assign({sourceForLog:i,token:o,type:a,thumbnail:u},d?{hash:d}:null),!1);l?l.fetchImgSrcTaskQueue.addTask(r):r.send();var f=p;return f.task=r,f};n.d(t,"e",function(){return u}),n.d(t,"f",function(){return l}),n.d(t,"b",function(){return M}),n.d(t,"c",function(){return b}),n.d(t,"a",function(){return U}),n.d(t,"d",function(){return oe})},NzrZ:function(e,t,n){e.exports=n("I2R1")},"O/jM":function(e,t,n){"use strict";var r=n("4ZAW"),i=n("9Yx1"),o=n("fBAZ"),a=n("UwWT"),s=a.TAG_NAMES,c=a.NAMESPACES,u={treeAdapter:r},l=/&/g,d=/\u00a0/g,p=/"/g,f=/</g,h=/>/g,g=e.exports=function(e,t){this.options=i(u,t),this.treeAdapter=this.options.treeAdapter,this.html="",this.startNode=e};g.escapeString=function(e,t){return e=e.replace(l,"&amp;").replace(d,"&nbsp;"),e=t?e.replace(p,"&quot;"):e.replace(f,"&lt;").replace(h,"&gt;")},g.prototype.serialize=function(){return this._serializeChildNodes(this.startNode),this.html},g.prototype._serializeChildNodes=function(e){var t=this.treeAdapter.getChildNodes(e);if(t)for(var n=0,r=t.length;n<r;n++){var i=t[n];this.treeAdapter.isElementNode(i)?this._serializeElement(i):this.treeAdapter.isTextNode(i)?this._serializeTextNode(i):this.treeAdapter.isCommentNode(i)?this._serializeCommentNode(i):this.treeAdapter.isDocumentTypeNode(i)&&this._serializeDocumentTypeNode(i)}},g.prototype._serializeElement=function(e){var t,n=this.treeAdapter.getTagName(e),r=this.treeAdapter.getNamespaceURI(e);this.html+="<"+n,this._serializeAttributes(e),this.html+=">",n!==s.AREA&&n!==s.BASE&&n!==s.BASEFONT&&n!==s.BGSOUND&&n!==s.BR&&n!==s.BR&&n!==s.COL&&n!==s.EMBED&&n!==s.FRAME&&n!==s.HR&&n!==s.IMG&&n!==s.INPUT&&n!==s.KEYGEN&&n!==s.LINK&&n!==s.MENUITEM&&n!==s.META&&n!==s.PARAM&&n!==s.SOURCE&&n!==s.TRACK&&n!==s.WBR&&(t=n===s.TEMPLATE&&r===c.HTML?this.treeAdapter.getTemplateContent(e):e,this._serializeChildNodes(t),this.html+="</"+n+">")},g.prototype._serializeAttributes=function(e){for(var t=this.treeAdapter.getAttrList(e),n=0,r=t.length;n<r;n++){var i=t[n],o=g.escapeString(i.value,!0);this.html+=" ",i.namespace?i.namespace===c.XML?this.html+="xml:"+i.name:i.namespace===c.XMLNS?("xmlns"!==i.name&&(this.html+="xmlns:"),this.html+=i.name):i.namespace===c.XLINK?this.html+="xlink:"+i.name:this.html+=i.namespace+":"+i.name:this.html+=i.name,this.html+='="'+o+'"'}},g.prototype._serializeTextNode=function(e){var t=this.treeAdapter.getTextNodeContent(e),n=this.treeAdapter.getParentNode(e),r=void 0;n&&this.treeAdapter.isElementNode(n)&&(r=this.treeAdapter.getTagName(n)),r===s.STYLE||r===s.SCRIPT||r===s.XMP||r===s.IFRAME||r===s.NOEMBED||r===s.NOFRAMES||r===s.PLAINTEXT||r===s.NOSCRIPT?this.html+=t:this.html+=g.escapeString(t,!1)},g.prototype._serializeCommentNode=function(e){this.html+="\x3c!--"+this.treeAdapter.getCommentNodeContent(e)+"--\x3e"},g.prototype._serializeDocumentTypeNode=function(e){var t=this.treeAdapter.getDocumentTypeNodeName(e);this.html+="<"+o.serializeContent(t,null,null)+">"}},O0oS:function(e,t,n){var r=n("Cwc5"),i=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=i},O3vZ:function(e,t,n){n("u+ON");var r=n("oWnS");e.exports=r("Array").indexOf},O7RO:function(e,t,n){var o=n("CMye"),a=n("7GkX");function r(e){for(var t=a(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,o(i)]}return t}e.exports=r},O9F5:function(e,t,n){"use strict";var r=document.createElement("style");r.type="text/css";var s=document.body.appendChild(r).sheet,c={},i=function(r){var i=-1,o=r instanceof RegExp;return[].find.call(s.cssRules,function(e,t){var n=e.selectorText;return o?!!r.test(n)&&(i=t,!0):n===r&&(i=t,!0)}),i},o=function(e){return-1!==i(e)},a=function(e){return!!e&&!!c[e]},u=function(e,t){var n,r=s.cssRules,i=r.length||0,o=s.insertRule(e,i);!t||(n=r[o])instanceof CSSStyleRule&&(c[t]=n.selectorText)},l=function(){var e=i(0<arguments.length&&void 0!==arguments[0]?arguments[0]:"");-1!==e&&s.deleteRule(e)},d=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",t=c[e];t&&(l(t),delete c[e])},p=function(e,t){if(e){for(var n=s.cssRules,r=[],i=n.length-1;0<=i;i--){var o,a=n[i];a instanceof CSSStyleRule&&((o=a.selectorText).match(e)&&(r.push(o),s.deleteRule(i)))}t&&r.find(function(e){for(var t in c)if(c[t]===e)return delete c[t],!0;return!1})}};t.a={hasRule:o,hasRuleById:a,insertRule:u,deleteRuleById:d,deleteRulesByRegExp:p,deleteRuleBySelectorText:l}},OBhP:function(e,t,n){var g=n("fmRc"),m=n("gFfm"),v=n("MrPd"),y=n("WwFo"),b=n("Dw+G"),E=n("5Tg0"),_=n("Q1l4"),C=n("VOtZ"),T=n("EEGq"),O=n("qZTm"),k=n("G6z8"),S=n("QqLw"),w=n("yHx3"),I=n("wrZu"),x=n("+iFO"),L=n("Z0cm"),R=n("DSRE"),N=n("zEVN"),D=n("GoyQ"),M=n("1+5i"),P=n("7GkX"),j=n("mTTR"),F=1,B=2,U=4,H="[object Arguments]",r="[object Array]",i="[object Boolean]",o="[object Date]",a="[object Error]",z="[object Function]",V="[object GeneratorFunction]",s="[object Map]",c="[object Number]",K="[object Object]",u="[object RegExp]",l="[object Set]",d="[object String]",p="[object Symbol]",f="[object WeakMap]",h="[object ArrayBuffer]",W="[object DataView]",Y="[object Float32Array]",q="[object Float64Array]",Z="[object Int8Array]",X="[object Int16Array]",Q="[object Int32Array]",J="[object Uint8Array]",$="[object Uint8ClampedArray]",ee="[object Uint16Array]",te="[object Uint32Array]",ne={};function re(n,r,i,e,t,o){var a,s=r&F,c=r&B,u=r&U;if(i&&(a=t?i(n,e,t,o):i(n)),void 0!==a)return a;if(!D(n))return n;var l=L(n);if(l){if(a=w(n),!s)return _(n,a)}else{var d=S(n),p=d==z||d==V;if(R(n))return E(n,s);if(d==K||d==H||p&&!t){if(a=c||p?{}:x(n),!s)return c?T(n,b(a,n)):C(n,y(a,n))}else{if(!ne[d])return t?n:{};a=I(n,d,s)}}var f=(o=o||new g).get(n);if(f)return f;o.set(n,a),M(n)?n.forEach(function(e){a.add(re(e,r,i,e,n,o))}):N(n)&&n.forEach(function(e,t){a.set(t,re(e,r,i,t,n,o))});var h=l?void 0:(u?c?k:O:c?j:P)(n);return m(h||n,function(e,t){h&&(e=n[t=e]),v(a,t,re(e,r,i,t,n,o))}),a}ne[H]=ne[r]=ne[h]=ne[W]=ne[i]=ne[o]=ne[Y]=ne[q]=ne[Z]=ne[X]=ne[Q]=ne[s]=ne[c]=ne[K]=ne[u]=ne[l]=ne[d]=ne[p]=ne[J]=ne[$]=ne[ee]=ne[te]=!0,ne[a]=ne[z]=ne[f]=!1,e.exports=re},OIAp:function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return s});var r=n("lwsE"),i=n.n(r),o=n("YWBl"),a=n("YNKm"),s=function e(t){var r=this;i()(this,e),this.aceKeyEvent=function(e,t){var n=t.evt;return!(!t.isTypeForSpecialKey||n.shiftKey||!Object(a.hb)(n,a.eb))&&(r.editor.triggerCommand(a.eb),n.preventDefault(),!0)},this.editor=t.editor,this.editor.registerCommand(a.eb,function(e,t){t.doUndoRedo(e),Object(o.a)({action:e})})}},OWCx:function(e,t,n){e.exports=n("qRXW")},OWch:function(e,t,n){"use strict";function r(e,t,n){var o=n.value;n.value=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0],i=r.children;return r.attributes.lmkr?i:o.apply(this,t)}}n.d(t,"a",function(){return r})},"Of+w":function(e,t,n){var r=n("Cwc5")(n("Kz5y"),"WeakMap");e.exports=r},Olm7:function(e,t,n){"use strict";var s=n("fywt"),c=n("ntxC");function r(e,t){var n=[];if(!e||!e.length)return n;var r=-1,i=[],o=e.length;for(t=Object(s.a)(t,3);++r<o;){var a=e[r];t(a,r,e)&&(n.push(a),i.push(r))}return Object(c.a)(e,i),n}t.a=r},P438:function(e,t,n){"use strict";var r,i,o;n.d(t,"a",function(){return r}),n.d(t,"b",function(){return o}),(i=r=r||{})[i.CONNECT_FAIL=-1]="CONNECT_FAIL",i[i.CONNECTING=0]="CONNECTING",i[i.CONNECT_SUCCESS=1]="CONNECT_SUCCESS",(o=o||{}).Jira="jira"},P4CN:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=1},P6uZ:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var i=n("3fWJ"),o=n("VnD/"),a=n("t9fZ"),s=n("HJBe"),c=n("tNVB"),u=n("mChF");function r(r,e){var t=2<=arguments.length;return function(n){return n.pipe(r?Object(o.a)(function(e,t){return r(e,t,n)}):u.a,Object(a.a)(1),t?Object(s.a)(e):Object(c.a)(function(){return new i.a}))}}},P81K:function(e){e.exports=JSON.parse('{"a":"3.0.0-alpha.61"}')},PCTH:function(e,I,x){"use strict";(function(e){x.d(I,"a",function(){return O}),x.d(I,"f",function(){return s}),x.d(I,"e",function(){return k}),x.d(I,"b",function(){return c}),x.d(I,"h",function(){return u}),x.d(I,"d",function(){return l}),x.d(I,"c",function(){return S}),x.d(I,"g",function(){return d});var t=x("o0o1"),y=x.n(t),n=x("RIqP"),b=x.n(n),r=x("yXPU"),i=x.n(r),o=x("q1tI"),p=x.n(o),a=x("TSYQ"),f=x.n(a),h=x("ZvLv"),g=x("elsr"),m=x("UeI0"),v=x("YWBl"),E="0",_="toggle_heading_collapse",C="toggle_heading_expand",T={expandSection:e("doc.toggle.expand"),collapseSection:e("doc.toggle.collapse")},O="set-collapse";function s(e,t){var n=e.selStart,r=e.selEnd,i=e.zoneId;return{selStart:[n[0],t],selEnd:r.slice(0,2),selZone:i||n[2]}}function k(e,t){var n=t.lines.atIndex(e),r=n.width;return{selStart:[e,n.lineMarker],selEnd:[e,r-1],selZone:t.zoneId}}var c=function(e){var t=e.line,n=e.container,r=e.onClick,i=e.editor,o=t.zone,a=i.getRep().lines.indexOfEntry(t),s=i.getContentState().getZoneState(o).getLine(a);if(s){var c=s.getAttributes(0,s.length()-1).toMap(),u=Object(m.b)(c),l=u?T.expandSection:T.collapseSection,d=f()("collapsable-section-handle",{"collapsable-section-handle-collapsed":u});return p.a.createElement(h.a,{className:d,tooltip:l,container:n,onClick:r,"track-title":"collapse-section"})}};function u(e,t,n,r){var i=r.currentTarget;r&&i&&i!==document.activeElement&&i.focus();var o="toggle_button";l(e,t,n,e.isEditable(),!1,o)}function l(n,e,r,i,o,t){var a=e.selStart,s=e.selEnd,c=e.selZone;a.toString()===s.toString()&&1===a[1]&&(a[1]=0);var u=n.getRep();u.zoneId!==c&&(n.setWithSelection(c,s,s),n.updateBrowserSelectionFromRep(!0));var l,d,p=[];n.inCallStackIfNecessary(O,function(){var e=o||!i?g.b.LOCAL:"",t=r?"":"true",t=(o||e)&&""===t?"false":t;p.push(["collapse",t]),n.fastIncorp(),n.performDocumentApplyAttributesToRange(a,s,p,e)}),t&&(l=r?C:_,d=u.attributeManager.getAllAttributesOnLine(a[0]).find(function(e){return"heading"===e[0]}),Object(v.a)({action:l,source:t,objectType:d[1].toUpperCase()}))}function S(e,t,n,r,i){l(e,t,n,r,!0,i)}function d(e,t){return w.apply(this,arguments)}function w(){return(w=i()(y.a.mark(function e(r,t){var n,i,o,a,s,c,u,l,d,p,f,h,g,m,v;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.selStart,i=t.selEnd,o=t.zoneId,a=[],s=[],c=n[0],u=i[0],r){e.next=7;break}return e.abrupt("return");case 7:for(o!==E&&(l=r.getLineNumInRootZone(o,n),c=u=l),s.push(c,u),s=b()(new Set(s)),d=r.getReps()[E],p=r.lineTracker.collapseLines,f=p.trackers[E],h=f.entries,g=[],s.forEach(function(e){g.push(h[e].output.renderCollapsed)});g.includes(!0);){for(m=c;m<=u;m++)if(h[m].output.renderCollapsed){for(v=m;!h[v].output.startOfCollapseSection;)v--;a.push(v)}a.forEach(function(e){var t=k(e,d),n="comment";S(r,t,!0,r.isEditable(),n)}),s.forEach(function(e,t){g.splice(t,1,h[e].output.renderCollapsed)})}return e.abrupt("return",Promise.resolve());case 18:case"end":return e.stop()}},e)}))).apply(this,arguments)}}).call(this,x("2vAP"))},PI5S:function(e,t,n){"use strict";var r=n("RIqP"),i=n.n(r),o=n("o0o1"),a=n.n(o),s=n("yXPU"),c=n.n(s),u=n("lwsE"),l=n.n(u),d=n("W8MJ"),p=n.n(d),f=n("cDf5"),h=n.n(f),g=n("mRaX"),m=n("1xqC"),v=n("uEBw"),y=n("QM+C"),b=n("c/bE"),E=n("pylR"),_=n("v2N6"),C=n("Tqb2");function T(e){return Object(C.l)(e).filter(function(e){return!Object(C.K)(e)})}function O(e){if(e.dataTransfer){var t=e.dataTransfer,n=t.items,r=t.files;return n?0<n.length:!!r&&0<r.length}return!1}var k=n("Mvmg"),S=n("4PSP"),w=n("rLED"),I=n("oJoF"),x=n("QtEt");n.d(t,"b",function(){return M}),n.d(t,"a",function(){return P}),n.d(t,"c",function(){return j});var L,R=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":h()(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;0<=s;s--)(i=e[s])&&(a=(o<3?i(a):3<o?i(t,n,a):i(t,n))||a);return 3<o&&a&&Object.defineProperty(t,n,a),a},N=3,D=function(){function n(e){var t=this;l()(this,n),this.uploadingQueue=[],this.waitingQueue=[],this.uploaderMap={},this.aceInitialized=function(){t.editorInfo.on(I.b,c()(a.a.mark(function e(){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(x.a)();case 2:t.docUploaderCreator=e.sent;case 3:case"end":return e.stop()}},e)})))},this.editorInfo=e.editorInfo,this.aceInitialized(),this.maxUploaderLimit=e.maxUploaderLimit||N,this.addBeforeUnloadHandle(),this.bindEvents()}function e(e){return t.apply(this,arguments)}var t;return p()(n,[{key:"bindEvents",value:function(){Object(w.Q)()&&(this.editorInfo.on("drop",this.onEditorDrop),document.addEventListener("dragover",this.onDragOver))}},{key:"unBindEvents",value:function(){Object(w.Q)()&&(this.editorInfo.off("drop",this.onEditorDrop),document.removeEventListener("dragover",this.onDragOver))}},{key:"onDragOver",value:function(e){O(e)&&e.preventDefault()}},{key:"onEditorDrop",value:function(e){var t=this,n=e.evt,r=T(n);0<r.length&&(n.preventDefault(),r.forEach(function(e){t.calcChecksumForNonImageFiles(e),e.source=k.i.DRAG,j(e)}))}},{key:"upload",value:function(e){var t=Object(g.h)();(this.enableUpload?this.uploadingQueue:this.waitingQueue).push(t);var n=Object.assign(e,{uuid:t});this.uploaderMap[t]=this.createUploader(n,this.docUploaderCreator),this.startUpload()}},{key:"calcChecksumForNonImageFiles",value:(t=c()(a.a.mark(function e(t){var n;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(E.a)(t);case 2:n=e.sent,_.b(t,n);case 4:case"end":return e.stop()}},e)})),e)},{key:"createUploader",value:function(e,t){var n={docUploaderCreator:t,editorInfo:this.editorInfo,file:e,handleUploadEnd:this.handleUploadEnd.bind(this)};return new m.a(n)}},{key:"handleUploadEnd",value:function(e){this.deleteUploaded(e),this.uploadingEnQueue(),this.startUpload()}},{key:"uploadingEnQueue",value:function(){var e=this.waitingQueue.splice(0,1);this.uploadingQueue=[].concat(i()(this.uploadingQueue),i()(e))}},{key:"startUpload",value:function(){var n=this;this.uploadingQueue.forEach(function(e){var t=n.uploaderMap[e];t.started||(t.startUpload(),t.started=!0)})}},{key:"deleteUploaded",value:function(e){delete this.uploaderMap[e],this.uploadingQueue.includes(e)&&this.uploadingQueue.splice(this.uploadingQueue.indexOf(e),1),this.waitingQueue.includes(e)&&this.waitingQueue.splice(this.waitingQueue.indexOf(e),1)}},{key:"cancelUploading",value:function(e){var t=this.uploaderMap[e];t&&!t.isDone&&t.cancelUpload()}},{key:"canLeavePage",value:function(){return!(0<this.uploadingQueue.length)}},{key:"addBeforeUnloadHandle",value:function(){b.a.addCanLeavePageHandler(this.canLeavePage),window.addEventListener("beforeunload",this.handleBeforeUnload)}},{key:"handleBeforeUnload",value:function(e){0<this.uploadingQueue.length&&(e.preventDefault(),e.returnValue="")}},{key:"destory",value:function(){b.a.removeCanLeavePageHandler(this.canLeavePage),window.removeEventListener("beforeunload",this.handleBeforeUnload),this.unBindEvents(),this.clearChecksumStore()}},{key:"clearChecksumStore",value:function(){Object(w.Q)()&&_.a()}},{key:"enableUpload",get:function(){return this.uploadingQueue.length<this.maxUploaderLimit}}]),n}();function M(e){if(!e)throw new Error("editorInfo not provided for uploader creation");return L=new D({editorInfo:e})}function P(){L&&(L.destory(),L=null)}function j(e){var t;y.isAnonymousAccess||((t=Object(v.h)(e))?Object(v.g)(t):L&&L.upload(e))}R([S.Bind],D.prototype,"onEditorDrop",null),R([S.Bind],D.prototype,"canLeavePage",null),R([S.Bind],D.prototype,"handleBeforeUnload",null)},PKWG:function(e,t,n){"use strict";var r=n("pVnL"),i=n.n(r),o=n("QILm"),a=n.n(o),s=n("q1tI"),c=n.n(s);t.a=function(e){e.styles;var t=a()(e,["styles"]);return c.a.createElement("svg",i()({width:"16",height:"16",viewBox:"0 0 16 16"},t),c.a.createElement("g",{transform:"translate(-26 -4)",fill:"none",fillRule:"evenodd"},c.a.createElement("rect",{stroke:"#F1F2F3",x:".5",y:".5",width:"74",height:"23",rx:"11.5"}),c.a.createElement("path",{d:"M26 4h16v16H26z"}),c.a.createElement("path",{d:"M34 13.93l4.07-4.06c.1-.1.25-.1.35 0l.35.35c.1.1.1.26 0 .35L34.35 15a.5.5 0 01-.7 0l-4.42-4.42a.25.25 0 010-.35l.35-.35c.1-.1.26-.1.35 0L34 13.93z",fill:"#646A73"})))}},PX10:function(e,t,n){"use strict";var l,r,_=n("Ns/6"),C=n("HmyT"),i=n("lE2N"),T=(n("Z0Cl"),n("7EGn"),n("AiBH")),O=n("mRaX"),u=n("ibWA");n("Jmo2"),n("YNKm"),T.t.LEFT,T.t.RIGHT;(r=l=l||{}).LEFT="LEFT",r.RIGHT="RIGHT",r.START="START",r.END="END";var k=n("H6oK"),o=n("y2sV");function a(e,t){var n=e.rep,r=e.editorInfo,i=e.evt,o=i.keyCode===T.t.BACKSPACE?Object(O.x)():Object(C.$)(Object(O.t)()),a=o&&o.attr("class");if(o&&o.length&&Object(O.K)(a,"mention-type")!==String(T.E.CHAT)){var s=r.domToRep(o.get(0));r.fastIncorp();var c,u=n.selStart,l=n.selEnd,d=u,p=l;if(s){o.get(1)&&(c=r.domToRep(o.get(1))),s.selStart[1]<u[1]&&(d=s.selStart),s.selEnd[1]>l[1]&&s.selEnd[0]>=l[0]&&(p=s.selEnd),c&&c.selEnd[1]>l[1]&&(p=c.selEnd),r.inCallStackIfNecessary("docDeleteMention",function(){r.dom?r.performDocumentReplaceRange(n.zoneId,d,p,""):r.performDocumentReplaceRange(d,p,"")});var f,h,g,m,v=Object(O.K)(a,"mention-id"),y=Object(O.K)(a,"mention-tempId"),b=Object(O.K)(a,"mention-token"),E=Object(O.K)(a,"mention-type");return i.preventDefault(),!Object(k.isBlockTypeNode)(k.BlockType.AT_USER_BLOCK,o)||(f=Object(k.getBlockDataSet)(o))&&f.props&&(g=(h=f.props.data).user,m=h.mentionId,g&&m&&(b=g.id,E=T.E.USER.toString(),v=m)),v&&"undefined"!==v&&E===T.E.USER.toString()&&Object(_.b)({mention_id:v,token:b,source:T.z.DOC,note_token:Object(O.u)()}),!y||"undefined"===y||E!==T.E.USER.toString()&&E!==T.E.GROUP.toString()||t&&t({type:E,mentionTempId:y,mentionToken:b,fileToken:Object(O.u)()}),!0}}}function s(e,t){var n=e.evt,r=e.editorInfo,i=Object(O.l)();r.fastIncorp();var o,a=r.getRep(),s=d(t);if(i&&s){if(n.preventDefault(),Object(O.Q)(s)){var c=r.domToRep(s);if(!c)return;var u=[c.selStart[0],c.selStart[1]];r.selection.setWithSelection(a.zoneId,u,u,!1)}return r.updateBrowserSelectionFromRep()}t!==l.START&&t!==l.END||(n.preventDefault(),o=p(a,t),r.selection.setWithSelection(a.zoneId,o,o,!1),r.updateBrowserSelectionFromRep())}function d(e){var t,n=l.LEFT,r=l.RIGHT;if(e===n){if((t=Object(O.x)()).length)return t.prev().get(0)}else if(e===r&&(t=Object(O.t)()).length)return t.next().get(0);return null}function p(e,t){var n=e.selStart[0],r=l.START,i=l.END;if(t===r)return[n,0];if(t===i){var o=e.lines.atIndex(n);if(o&&o.text)return[n,o.text.length]}return[0,0]}function f(e){return Object(i.a)(e,function(e){return e[0]})}function c(e,t,n,r,i,o){e.dom?e.performDocumentReplaceRangeWithAttributes(e.getRep().zoneId,t,n,r,f(i)):e.performDocumentReplaceRangeWithAttributes(t,n,r,f(i)),e.updateBrowserSelectionFromRep(o)}function h(e,t,n,r,i){e.inCallStackIfNecessary("performSpace",function(){e.makeNewEvent("nonundoable",function(){e.fastIncorp(),e.dom?e.performDocumentReplaceRangeWithAttributes(i||e.getRep().zoneId,t,n," ",f(r)):e.performDocumentReplaceRangeWithAttributes(t,n," ",f(r))})}),e.version.includes(o.y)&&e.once("paint",function(){e.focus(void 0,!0)})}function g(e,n,r,t,i,o,a){var s=Object(u.a)(t," ").map(function(e,t){return{start:0===t?n:r,end:r,newText:e,attributes:/^\n+$/.test(e)?[]:f(i)}}),c=function(){e.dom?e.performDocumentReplaceMultiRangeWithAttributes(a||e.getRep().zoneId,s):e.performDocumentReplaceMultiRangeWithAttributes(s)};o?e.inCallStackIfNecessary("performAt",function(){e.fastIncorp(9),c()}):e.callWithAce(c,"performAt",!0)}function m(e,t){for(var n=null,r=e;!n&&r;)r.classList&&r.classList.contains(t)&&(n=r),r=r.parentNode;return n}n.d(t,"a",function(){return a}),n.d(t,"b",function(){return s}),n.d(t,"e",function(){return c}),n.d(t,"f",function(){return h}),n.d(t,"d",function(){return g}),n.d(t,"c",function(){return m})},PYRs:function(e,t,n){},PcuH:function(e,t,n){"use strict";var r=n("J4zp"),_=n.n(r),i=n("RIqP"),D=n.n(i),o=n("lSNA"),M=n.n(o),a=n("lwsE"),s=n.n(a),c=n("W8MJ"),l=n.n(c),d=n("m8R6"),p=n("XIp8"),P=n("XhtD"),j=n("y2sV"),f=n("FJEn"),F=n("+4eN"),B=n("kESg"),h=n("V2TW"),u=function(){function u(){s()(this,u)}return l()(u,[{key:"checkIsAllowInsertZone",value:function(e,t){var n=Object(F.n)(e,t),r=B.d[n];return!r||!r.attribs.includes(B.k.ZoneType)}},{key:"insertZoneDelta",value:function(e,t){return e.insert("*",Object.assign(M()({lineguid:Object(f.genGuid)(),author:Object(h.b)()},B.k.ZoneType,this.zoneType),t))}},{key:"getZoneAllOps",value:function(e,t){var n=e.getContentState().getZoneState(t);return D()(n).map(function(e){return e.getOps()}).flat()}},{key:"updateSelection",value:function(e,t,n,r){e.selection.setWithSelection(t,n,r),e.selection.updateBrowserSelectionFromRep()}},{key:"performOpsWithAttributes",value:function(t,n,r,e){(e?e.map(function(e){return t.getLine(e)}):D()(t)).forEach(function(e){e.getOps().forEach(function(e,t){0===t?"*"===e.insert&&e.attributes&&e.attributes.lmkr?n.insert("*",Object.assign({},e.attributes,{},r)):n.insertLineMarker(r).push(e):n.push(e)})})}},{key:"convertFragment",value:function(e,t,n,r,i){if(!n.length||Object(F.n)(e,t)!==this.zoneType)return[];var o=e.managers.zoneToLineEntry[t];if(!o)return[];var a=o.zone,s=e.getContentState(),c=s.getZoneState(a),u=s.getZoneState(t),l=e.getRep(a),d=e.getRep(t),p=l.lines.indexOfEntry(o);if(n.length===u.length())return this.convertEntire(e,a,p,r);n.sort(function(e,t){return e-t});var f=n[0],h=u.length()-1,g=0===f,m=[g?0:f-1,g?0:u.getLine(f-1).getModelText().length-1],v=[g?n.length:h,g?0:u.getLine(h).getModelText().length-1],y=[p+(g?0:1),0],b=y[0]-1+n.length,E=y[0]+n.length,_=new j.e;e.performDocumentReplaceRange(t,m,v,"");var C,T,O,k,S,w=new j.E({zoneId:a});if(c.getLine(y[0])?w.retain(c.pointToOffset({line:y[0],offset:y[1]})):(C=c.getLine(p).length()-1,w.retain(c.pointToOffset({line:p,offset:C})),w.insertEnter()),this.performOpsWithAttributes(u,w,r,n),_=_.concat(w),n[n.length-1]<h&&!g){for(var I=Object(F.b)(),_=_.concat(this.insertZoneDelta(new j.E({zoneId:a}),Object.assign(M()({},B.k.ZoneId,I),this.getZoneAttrsByZoneId(e,t)))),x=new j.E({zoneId:I}),L=f+n.length;L<=h;L++){var R,N=u.getLine(L).getOps();(R=x.ops).push.apply(R,D()(N))}Object(F.o)(x),_=_.concat(x)}return s.apply(_),i&&(T=d.selStart,O=d.selEnd,k=[y[0],T[1]],S=[b,O[1]],this.updateSelection(e,a,k,S)),Object(P.a)(y[0],E)}},{key:"convertEntire",value:function(e,t,n,r,i){var o=this.getZoneId(e,t,n);if(!o)return[];var a=e.getContentState(),s=a.getZoneState(t),c=a.getZoneState(o),u=s.getLine(n),l=u?u.getLineMarker():0,d=[n,0],p=c.length(),f=new j.E({zoneId:t}).retain(s.pointToOffset({line:d[0],offset:d[1]})).delete(1+l);return this.performOpsWithAttributes(c,f,r),Object(F.o)(f),a.apply(f),i&&this.updateSelection(e,t,d,d),Object(P.a)(n,n+p)}},{key:"convertRangeToZone",value:function(o,e,t,n){var a,s,r,i,c,u=this;e&&t&&t.length&&(Object(F.n)(o,e.zoneId)!==this.zoneType?(a=o.getContentState().getZoneState(e.zoneId),s=[],t.forEach(function(e){var t,n,r=a.getLine(e),i=Object(F.k)(r);Object(F.g)(i)?(t=u.getZoneAllOps(o,i),s.push.apply(s,D()(t))):(n=r.getOps().filter(function(e){return!Object(F.e)(u.zoneType,e)}),s.push.apply(s,D()(n)))}),r=t[t.length-1],i=a.getLine(r),c=[[t[0],0],[r,i.length()-1]],this.insertZone({editor:o,zoneId:e.zoneId,sel:c,attributes:n,beforeApply:function(e,t){var n=new j.E({zoneId:t}),r=B.d[u.zoneType].attribs;return s.forEach(function(e){var t=Object(p.default)(e);t.attributes=Object(d.default)(t.attributes,r),n.push(t)}),Object(F.o)(n),e.concat(n)},afterInsert:this.afterInsertZone})):this.convertFragment(o,e.zoneId,t,void 0,!0))}},{key:"convertToZone",value:function(t,e,n){var r=this;if(n&&n.selStart&&n.selEnd){var i=n.selStart,o=n.selEnd,a=[],s=!0;if("block_menu"===e){var c=i[0],s=!!Object(F.l)(t,n.zoneId,c,this.zoneType);a.push([c])}else{for(var u=[],l=i[0];l<=o[0];l++)this.isUnsupportLine(n,l)?(u.length&&a.push(u),u=[]):u.push(l),s=s&&!!Object(F.l)(t,n.zoneId,l,this.zoneType);u.length&&a.push(u)}if(a.length)return t.inCallStackIfNecessary("insertZoneByCommand",function(){t.makeNewEvent("insertZoneByCommand",function(){a.reverse().forEach(function(e){s?e.reverse().forEach(function(e){r.convertEntire(t,n.zoneId,e,void 0,!0)}):r.convertRangeToZone(t,n,e)})})}),s}}},{key:"updateSelectionAfterPaint",value:function(e,t,n){return Object(F.p)(e,t,n)}},{key:"insertZone",value:function(e){var t=e.editor,n=e.zoneId,r=e.lineNum,i=e.sel,o=e.attributes,a=e.beforeInsert,s=e.afterInsert,c=e.beforeApply;if(!this.checkIsAllowInsertZone(t,n))return null;var u=Object(F.b)(),l=i||[[r,0],[r,0]],d=_()(l,2),p=d[0],f=d[1],h=t.getContentState(),g=h.getZoneState(n),m=g.pointToOffset({line:p[0],offset:p[1]}),v=g.pointToOffset({line:f[0],offset:f[1]}),y=new j.e,b=new j.E({zoneId:n}).retain(m).delete(v-m);a&&a(b);var E=Object.assign(M()({},B.k.ZoneId,u),this.getDefaultZoneAttrs(o));return this.insertZoneDelta(b,E),y=y.concat(b),c&&(y=c(y,u)),h.apply(y),s&&s(u,E),this.updateSelectionAfterPaint(t,u),u}},{key:"tryConvertZone",value:function(n,e){var r=this,t=e.range,i=e.zoneType,o=e.attribKey,a=e.attribMap,s=t.zoneId,c=t.selStart,u=t.selEnd,l={zoneId:s,selStart:c,selEnd:u},d=!1;if(!n||!c||!u)return{range:l,isConverted:d};l.selStart=D()(c),l.selEnd=D()(u);var p=Object(P.a)(c[0],u[0]+1);if(Object(F.n)(n,s)===this.zoneType){var f=B.d[i];if(!f||!f.attribs.includes(o))return{range:l,isConverted:d};var h=n.managers.zoneToLineEntry[s];if(!h)return{range:l,isConverted:d};var g,m=h&&h.zone,v=this.convertFragment(n,s,p,a);return v.length&&(g=v[v.length-1],l.selStart[0]=v[0],l.selStart[1]=c[1],l.selEnd[0]=g,l.selEnd[1]=u[1],d=!0,l.zoneId=m),d&&this.updateSelection(n,m,l.selStart,l.selEnd),{range:l,isConverted:d}}var y=p.filter(function(e){var t=Object(F.l)(n,s,e);return t&&t.zoneType===r.zoneType}),b=y.length===p.length&&1===p.length;return y.reverse().forEach(function(e){var t=r.convertEntire(n,s,e,a,b);t.length&&(l.selEnd[0]+=t.length-1,d=d||!!t.length)}),d&&!b&&this.updateSelection(n,s,l.selStart,l.selEnd),{range:l,isConverted:d}}},{key:"tryToggleAttributeInZone",value:function(d,e,p,f){var t,h,g=this,m=e.zoneId,n=e.selStart,r=e.selEnd;n&&r&&(t=Object(P.a)(n[0],r[0]+1),h=d.getContentState(),t.forEach(function(e){var t=Object(F.l)(d,m,e);if(t&&t.zoneType===g.zoneType){for(var n=t.zoneId,r=h.getZoneState(n),i=r.length(),o=!0,a=0;a<i;a++){var s=r.getLine(a),c=s&&s.getLineAttributes().toMap();if(!c||c[p]!==f){o=!1;break}}var u=Object(P.a)(0,i),l=d.getRep(n).attributeManager;o?l.removeAttributeOnMultiLines(u,p):l.setAttributeOnMultiLines(u,p,f)}}))}}],[{key:"registerTransformer",value:function(e,t){u.transformers[e]=t}},{key:"tryConvertZone",value:function(t,e,n,r){var i=e.zoneId,o=e.selStart,a=e.selEnd,s={range:{zoneId:i,selStart:o,selEnd:a},isConverted:!1},c={range:{zoneId:i,selStart:o,selEnd:a},zoneType:Object(F.n)(t,e.zoneId),attribKey:n};return r&&(c.attribMap=M()({},n,r)),Object.values(u.transformers).forEach(function(e){e&&(s=e.tryConvertZone(t,c),c.range=s.range)}),s}}]),u}();u.transformers={},t.a=u},PiJo:function(e,t,n){"use strict";n.r(t);var r=n("o0o1"),d=n.n(r),i=n("yXPU"),o=n.n(i),a=n("9+78"),c=n.n(a),u=n("nN3d"),s=n("VIFs"),l=n("toa8"),p=n("AESI"),f=n("wN88");function h(e,t){return g.apply(this,arguments)}function g(){return(g=o()(d.a.mark(function e(i,o){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(t){var e=o.maxConcurrentCount,n=0;function r(){var e=i.shift();if("function"==typeof e)return e().then(r);--n<=0&&t()}for(;n<e;)r(),++n}));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}var m=n("+00W"),v=n.n(m);n.d(t,"generatePublicUrl",function(){return w}),n.d(t,"makePulicUrlEffective",function(){return L}),n.d(t,"makePublicUrlEffective",function(){return N});var y={},b={},E=3600,_="V4";function C(e){return Object(s.prependAPI)("/api/file/out/".concat(e,"/"))}function T(e){return Object(s.prependAPI)("/api/box/stream/download/asynccode/?code=".concat(e))}function O(e){var t=Object(f.c)(e),n=y[t];return n?C(n):(n=Object(u.c)(50),C(y[t]=n))}function k(e){var t=Math.round((new Date).getTime()/1e3),n=t+E,r="".concat(t,":").concat(n),i="Token:".concat(e),o=Object(u.c)(32),a=c()("".concat(o,"_").concat(i,"_").concat(r,"_").concat(_)),s="".concat(a,"_").concat(o,"_").concat(i,"_").concat(r,"_").concat(_);return v()(s)}function S(e){var t=b[e];return t?T(t):(t=k(e),T(b[e]=t))}function w(e){var t=e.originSrc,n=e.fileToken;return n?S(n):t?O(t):""}function I(e){return l.b.post("/api/file/copy_out/",{key_dict:JSON.stringify(e)}).catch(function(){console.error("doc  publicUrl ")})}function x(e){return l.b.post(p.MAKE_PUBLIC_URL_EFFECTIVE,{tokens:e}).catch(function(){console.error("drive  publicUrl ")})}function L(){return R.apply(this,arguments)}function R(){return(R=o()(d.a.mark(function e(){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all([j(),B()]));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function N(){return D.apply(this,arguments)}function D(){return(D=o()(d.a.mark(function e(){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all([j(),B()]));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function M(e,t){return P.apply(this,arguments)}function P(){return(P=o()(d.a.mark(function e(t,n){var r,i,o,a,s,c,u,l;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(0===(r=Object.keys(n)).length)return e.abrupt("return");e.next=3;break;case 3:if(i=50,r.length<=i)return e.next=7,t(n);e.next=9;break;case 7:e.next=15;break;case 9:for(o=2,a=[],s=0;s<r.length;){for(c={},u=Math.min(s+i,r.length);s<u;)l=r[s],c[l]=n[l],++s;a.push(t.bind(null,c))}return e.next=15,h(a,{maxConcurrentCount:o});case 15:case"end":return e.stop()}},e)}))).apply(this,arguments)}function j(){return F.apply(this,arguments)}function F(){return(F=o()(d.a.mark(function e(){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M(I,y);case 2:y={};case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}function B(){return U.apply(this,arguments)}function U(){return(U=o()(d.a.mark(function e(){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M(x,b);case 2:b={};case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}},Pkdo:function(e,t,n){var r=n("pevS"),i=n("wbIY");r({target:"Object",stat:!0,forced:!i,sham:!i},{defineProperty:n("QYBB").f})},Pozx:function(e,t,n){"use strict";n.d(t,"b",function(){return o}),n.d(t,"c",function(){return a}),n.d(t,"a",function(){return s});var r=n("j1lG"),i=n("mWyS");function o(e){return e===r.D.Doc}function a(e){return e===r.D.Drive}function s(e){return Object(i.a)(e)?r.D.Doc:Object(i.b)(e)?r.D.Drive:r.D.External}},PyL4:function(e,t){var n={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"},r=/[&"'<>\/]/gm;function i(e){return e&&e.replace(r,function(e){return n[e]||e})}var o=/[\x00-\x2F\x3A-\x40\x5B-\x60\x7B-\xFF]/gm;function a(e){return e&&e.replace(o,function(e){return n[e]||"&#x"+("00"+e.charCodeAt(0).toString(16)).slice(-2)+";"})}var s=/[\x00-\x2F\x3A-\x40\x5B-\x60\x7B-\xFF\u2028\u2029]/gm;function c(e){return e&&e.replace(s,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})}function u(e){return e&&'"'+c(e)+'"'}var l=/"(?:\\.|[^"])*"/gm;function d(e){return JSON.stringify(e).replace(l,function(e){return u(JSON.parse(e))})}var p=/[\x00-\x2F\x3A-\x40\x5B-\x60\x7B-\xFF]/gm;function f(e){return e&&e.replace(p,function(e){return"\\"+("000000"+e.charCodeAt(0).toString(16)).slice(-6)})}function h(e){return e&&'"'+f(e)+'"'}t.escapeHTML=i,t.escapeHTMLAttribute=a,t.encodeJavaScriptIdentifier=c,t.encodeJavaScriptString=u,t.encodeJavaScriptData=d,t.encodeCSSIdentifier=f,t.encodeCSSString=h},Q1l4:function(e,t){function n(e,t){var n=-1,r=e.length;for(t=t||Array(r);++n<r;)t[n]=e[n];return t}e.exports=n},Q4cU:function(e,t,n){e.exports=n("f5dp")},Q6pU:function(e,t,n){var r=n("y1fq"),i=n("IBWJ");e.exports=function(e){return i(r(e))},e.exports.parse=r,e.exports.compile=i},QDlc:function(e,t,n){"use strict";function r(){return!1}function i(){return!0}function o(){this.timeStamp=Date.now(),this.target=void 0,this.currentTarget=void 0}Object.defineProperty(t,"__esModule",{value:!0}),o.prototype={isEventObject:1,constructor:o,isDefaultPrevented:r,isPropagationStopped:r,isImmediatePropagationStopped:r,preventDefault:function(){this.isDefaultPrevented=i},stopPropagation:function(){this.isPropagationStopped=i},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=i,this.stopPropagation()},halt:function(e){e?this.stopImmediatePropagation():this.stopPropagation(),this.preventDefault()}},t.default=o,e.exports=t.default},QIyF:function(e,t,n){var r=n("Kz5y"),i=function(){return r.Date.now()};e.exports=i},QKZB:function(e,t,n){"use strict";function r(e,t){return e(t={exports:{}},t.exports),t.exports}n.d(t,"a",function(){return d});for(var h=r(function(e){var t,n,r="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);r?(t=new Uint8Array(16),e.exports=function(){return r(t),t}):(n=new Array(16),e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),n[t]=e>>>((3&t)<<3)&255;return n})}),i=[],o=0;o<256;++o)i[o]=(o+256).toString(16).substr(1);function a(e,t){var n=t||0;return[i[e[n++]],i[e[n++]],i[e[n++]],i[e[n++]],"-",i[e[n++]],i[e[n++]],"-",i[e[n++]],i[e[n++]],"-",i[e[n++]],i[e[n++]],"-",i[e[n++]],i[e[n++]],i[e[n++]],i[e[n++]],i[e[n++]],i[e[n++]]].join("")}var g,m,v=a,y=0,b=0;function s(e,t,n){var r,i=t&&n||0,o=t||[],a=(e=e||{}).node||g,s=void 0!==e.clockseq?e.clockseq:m;null!=a&&null!=s||(r=h(),null==a&&(a=g=[1|r[0],r[1],r[2],r[3],r[4],r[5]]),null==s&&(s=m=16383&(r[6]<<8|r[7])));var c=void 0!==e.msecs?e.msecs:(new Date).getTime(),u=void 0!==e.nsecs?e.nsecs:b+1,l=c-y+(u-b)/1e4;if(l<0&&void 0===e.clockseq&&(s=s+1&16383),(l<0||y<c)&&void 0===e.nsecs&&(u=0),1e4<=u)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");y=c,m=s;var d=(1e4*(268435455&(c+=122192928e5))+(b=u))%4294967296;o[i++]=d>>>24&255,o[i++]=d>>>16&255,o[i++]=d>>>8&255,o[i++]=255&d;var p=c/4294967296*1e4&268435455;o[i++]=p>>>8&255,o[i++]=255&p,o[i++]=p>>>24&15|16,o[i++]=p>>>16&255,o[i++]=s>>>8|128,o[i++]=255&s;for(var f=0;f<6;++f)o[i+f]=a[f];return t||v(o)}function c(e,t,n){var r=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var i=(e=e||{}).random||(e.rng||h)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,t)for(var o=0;o<16;++o)t[r+o]=i[o];return t||v(i)}var u=c,l=u;l.v1=s,l.v4=u;var d=l},QQub:function(e,t,n){"use strict";var r=n("pevS"),i=n("3uAa").map;r({target:"Array",proto:!0,forced:!n("nJYk")("map")},{map:function(e){return i(this,e,1<arguments.length?arguments[1]:void 0)}})},QVxZ:function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"b",function(){return u});var r=navigator.userAgent.toLowerCase(),i=navigator.platform.toLowerCase(),o="win32"===i||"windows"===i,a=o&&-1<r.indexOf("windows nt 5.1"),s="macintel"===i||"macintosh"===i||"macppc"===i||"mac68k"===i,c=-1<i.indexOf("linux"),u=(/electron/i.test(r),s?"macos":c?"linux":a?"windows-xp":o?"windows":"unknown")},QbKL:function(e,h,g){"use strict";(function(O){g.d(h,"b",function(){return u}),g.d(h,"a",function(){return p});var e=g("o0o1"),k=g.n(e),t=g("lSNA"),n=g.n(t),r=g("yXPU"),i=g.n(r),o=g("xk4V"),S=g.n(o),a=g("toa8"),s=g("bsrO"),c=g("AESI"),w=g("Hj9z");function u(e){return l.apply(this,arguments)}function l(){return(l=i()(k.a.mark(function e(t){var n,r,i,o,a,s,c,u,l,d,p,f,h,g,m,v,y,b,E,_,C,T;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I(t);case 2:if(n=e.sent){e.next=5;break}return e.abrupt("return",null);case 5:return r=n.isDelete,i=void 0!==r&&r,o=n.linkUrl,a=void 0===o?"":o,s=n.lastSyncTime,c=void 0===s?0:s,u=n.filterId,l=void 0===u?"":u,d=n.filterName,p=void 0===d?"":d,f=n.jql,h=void 0===f?"":f,g=n.issueCount,m=void 0===g?0:g,v=n.issueMap,y=void 0===v?{}:v,b=n.fieldMap,E=void 0===b?{}:b,_=n.issues,C=void 0===_?[]:_,T={id:S()(),name:w.JiraFilterCreator.getFilterName(Number(l),O)||p||O("doc.jira.jira_filter"),fields:w.JiraFilterCreator.getDefaultFields(E),records:C.length?C:Object.keys(y),fieldVisibleMap:w.JiraFilterCreator.getDefaultFieldVisibleMap(E),exInfo:{type:1,rowHeight:1,isPrivate:!1,owner:"",filterInfo:null,sortInfo:[],groupInfo:[],fieldWidthMap:{},fieldStatTypeMap:{}}},e.abrupt("return",{isDelete:i,linkUrl:a,lastSyncTime:c,filterId:l,filterName:p,jql:h,issueCount:m,fieldMap:E,issueMap:y,issues:C,viewInfo:x(T)});case 8:case"end":return e.stop()}},e)}))).apply(this,arguments)}function I(e){return d.apply(this,arguments)}function d(){return(d=i()(k.a.mark(function e(t){var n,r;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(a.d)({url:c.JIRA_FILTER_GET_BY_URL,method:c.METHOD.GET,params:{url:t}});case 3:return n=e.sent,e.abrupt("return",n.data);case 7:e.prev=7,e.t0=e.catch(0),r=e.t0.code,Object(s.l)(r,"filter");case 11:return e.abrupt("return",null);case 12:case"end":return e.stop()}},e,null,[[0,7]])}))).apply(this,arguments)}function p(e){return f.apply(this,arguments)}function f(){return(f=i()(k.a.mark(function e(t){var n,r;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(a.d)({url:c.JIRA_ISSUE_GET_BY_URL,method:c.METHOD.GET,params:{url:t}});case 3:return n=e.sent,e.abrupt("return",n.data.issue);case 7:e.prev=7,e.t0=e.catch(0),r=e.t0.code,Object(s.l)(r,"issue");case 11:return e.abrupt("return",null);case 12:case"end":return e.stop()}},e,null,[[0,7]])}))).apply(this,arguments)}function x(e){return{type:"",viewMap:n()({},e.id,e),views:[e.id]}}}).call(this,g("2vAP"))},QcOe:function(e,t,n){var i=n("GoyQ"),o=n("6sVZ"),a=n("7Ix3"),s=Object.prototype.hasOwnProperty;function r(e){if(!i(e))return a(e);var t,n=o(e),r=[];for(t in e)("constructor"!=t||!n&&s.call(e,t))&&r.push(t);return r}e.exports=r},QkVN:function(e,t,n){var r=n("+Qka"),i=n("LsHQ")(function(e,t,n){r(e,t,n)});e.exports=i},QoRX:function(e,t){function n(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}e.exports=n},QqLw:function(e,t,n){var r=n("tadb"),i=n("ebwN"),o=n("HOxn"),a=n("yGk4"),s=n("Of+w"),c=n("NykK"),u=n("3Fdi"),l="[object Map]",d="[object Object]",p="[object Promise]",f="[object Set]",h="[object WeakMap]",g="[object DataView]",m=u(r),v=u(i),y=u(o),b=u(a),E=u(s),_=c;(r&&_(new r(new ArrayBuffer(1)))!=g||i&&_(new i)!=l||o&&_(o.resolve())!=p||a&&_(new a)!=f||s&&_(new s)!=h)&&(_=function(e){var t=c(e),n=t==d?e.constructor:void 0,r=n?u(n):"";if(r)switch(r){case m:return g;case v:return l;case y:return p;case b:return f;case E:return h}return t}),e.exports=_},Qqsi:function(e,t,n){"use strict";n.d(t,"b",function(){return u}),n.d(t,"c",function(){return l}),n.d(t,"d",function(){return d}),n.d(t,"a",function(){return p});var r=n("peh1"),i=n("5cZX"),o=n("fRsX"),a=n("iP/4"),s=n("D+Jz"),c=function(e){return e.appState.template},u=function(e){return c(e).isTemplateMode},l=function(e){return c(e).isTemplateVisible},d=function(e){return c(e).recommendTemplates},p=Object(r.createSelector)(l,i.e,function(e,t){return o.c&&!e&&!a.a.isLark&&t&&!Object(s.b)()})},QsUg:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n("jp/M"),i=function(e){return{type:r.actionTypes.commentHistory.SET_COMMENT_HISTORY_REOPENING,payload:e}}},QtEt:function(e,t,r){"use strict";r.d(t,"a",function(){return s});var n=r("o0o1"),i=r.n(n),o=r("yXPU"),a=r.n(o);function s(){return c.apply(this,arguments)}function c(){return(c=a()(i.a.mark(function e(){var t,n;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([r.e("commons--FilePicker--attachment_preview_modal--box-utils-upload-v2--box_index--doc_uploader_delay----afa6617f"),r.e("commons--box-utils-upload-v2--box_right_bar--doc_uploader_delay--lark-upload-progress-viewer--nativ--93a0e733"),r.e("doc_uploader_delay")]).then(r.bind(null,"DugT"));case 2:return t=e.sent,n=t.createDocUploader,e.abrupt("return",n);case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}},QuVm:function(e,t,n){},Qub4:function(e,t,n){var r=n("Bvq2");e.exports=!r(function(){return Object.isExtensible(Object.preventExtensions({}))})},Qvr1:function(e,t){e.exports='<div class=\'link-popup layout-row link-popup_hidden\'>\n    <svg\n        class=\'link-popup__triangle\'\n        width=\'20px\'\n        height=\'20px\'\n        viewBox=\'271 193 224 132\'\n        version=\'1.1\'\n        xmlns=\'http://www.w3.org/2000/svg\'>\n    \x3c!-- <polygon\n        id=\'Triangle\'\n        stroke=\'none\'\n        fill=\'#fff\'\n        fill-rule=\'evenodd\'\n        points=\'383 193 495 325 271 325\' /> --\x3e\n    </svg>\n    <div class=\'link-popup__input-group\'>\n        <div class=\'link-row\'>\n            <span class="link-row-text">{{{text}}}</span>\n            <input\n                type=\'text\'\n                spellcheck=\'false\'\n                placeholder="{{{addTextInfo}}}"\n                class=\'link-row-input text-input\' />\n        </div>\n        <div class=\'link-row\'>\n            <span class="link-row-text">{{{link}}}</span>\n            <input\n                type=\'text\'\n                spellcheck=\'false\'\n                class=\'link-row-input link-input\'\n                placeholder="{{{addLinkInfo}}}" />\n            <button class="link-submit">{{{sure}}}</button>\n        </div>\n    </div>\n    <div class=\'link-iframe hidden\'>\n      <div class="link-iframe__header">\n        <h4 class="link-iframe__title"></h4>\n        <i class="link-iframe__close">\n          <svg width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n            <g id="Symbols" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n              <g id="icon_global_close_nor">\n                <g id="Combined-Shape">\n                  <path d="M18.0129203,5.74210499 L18.507895,6.23707973 C18.6641047,6.39328945 18.6641047,6.64655544 18.507895,6.80276516 L13.0599477,12.2499477 L18.257895,17.4472348 C18.4141047,17.6034446 18.4141047,17.8567105 18.257895,18.0129203 L17.7629203,18.507895 C17.6067105,18.6641047 17.3534446,18.6641047 17.1972348,18.507895 L11.9999477,13.3099477 L7.05276516,18.257895 C6.89655544,18.4141047 6.64328945,18.4141047 6.48707973,18.257895 L5.99210499,17.7629203 C5.83589527,17.6067105 5.83589527,17.3534446 5.99210499,17.1972348 L10.9399477,12.2499477 L5.74210499,7.05276516 C5.58589527,6.89655544 5.58589527,6.64328945 5.74210499,6.48707973 L6.23707973,5.99210499 C6.39328945,5.83589527 6.64655544,5.83589527 6.80276516,5.99210499 L11.9999477,11.1899477 L17.4472348,5.74210499 C17.6034446,5.58589527 17.8567105,5.58589527 18.0129203,5.74210499 Z" id="Combined-Shape" fill="#646A73" fill-rule="nonzero"></path>\n                </g>\n              </g>\n            </g>\n          </svg>\n        </i>\n      </div>\n      <div class="link-iframe__main">\n        <input\n          type=\'text\'\n          placeholder="{{{iframeInputPlaceholder}}}"\n          spellcheck=\'false\'\n          class=\'link-iframe__input\' />\n        <a class="link-iframe__help hidden" target="_target">{{{help}}}</a>\n      </div>\n      <div class="link-iframe__footer">\n        <button class="link-iframe__example">{{{showExample}}}</button>\n        <button class="link-iframe__submit">{{{insert}}}</button>\n      </div>\n    </div>\n</div>\n'},"R/W3":function(e,t,n){var r=n("KwMD"),i=n("2ajD"),o=n("CZoQ");function a(e,t,n){return t==t?o(e,t,n):r(e,i,n)}e.exports=a},R9hF:function(e,t,n){e.exports=n("vIQ0")},R9qo:function(e,t,n){n("WtsB");var r=n("dktu");e.exports=r.Object.getOwnPropertyDescriptors},RF0s:function(e,c,u){"use strict";(function(n){Object.defineProperty(c,"__esModule",{value:!0});var t=u("vUsp");function e(e,t){return void 0===t&&(t="utf8"),n.isBuffer(e)?o(e.toString("base64")):o(n.from(e,t).toString("base64"))}function r(e,t){return void 0===t&&(t="utf8"),n.from(i(e),"base64").toString(t)}function i(e){return e=e.toString(),t.default(e).replace(/\-/g,"+").replace(/_/g,"/")}function o(e){return e.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function a(e){return n.from(i(e),"base64")}var s=e;s.encode=e,s.decode=r,s.toBase64=i,s.fromBase64=o,s.toBuffer=a,c.default=s}).call(this,u("HDXh").Buffer)},RKCD:function(e,t,n){"use strict";var m=n("gWdA"),v=n("1xUQ"),y=n("Gels"),i=n("YHEm"),o=Object.prototype,a=o.hasOwnProperty;function r(e,t,n,r){return void 0===e||Object(i.a)(e,o[n])&&!a.call(r,n)?t:e}var b=r,s={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"};function c(e){return"\\"+s[e]}var E=c,_=n("Nwst"),C=n("XFn8"),T=n("mkut"),O=n("XZ2T"),k=n("TK5s"),S=n("efZk"),w=/\b__p \+= '';/g,I=/\b(__p \+=) '' \+/g,x=/(__e\(.*?\)|\b__t\)) \+\n'';/g,L=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,R=/($^)/,N=/['\n\r\u2028\u2029\\]/g;function u(a,e,t){var n=k.a.imports._.templateSettings||k.a;t&&Object(C.a)(a,e,t)&&(e=void 0),a=Object(S.a)(a),e=Object(m.a)({},e,n,b);var s,c,r=Object(m.a)({},e.imports,n.imports,b),i=Object(T.a)(r),o=Object(y.a)(r,i),u=0,l=e.interpolate||R,d="__p += '",p=RegExp((e.escape||R).source+"|"+l.source+"|"+(l===O.a?L:R).source+"|"+(e.evaluate||R).source+"|$","g"),f="sourceURL"in e?"//# sourceURL="+e.sourceURL+"\n":"";a.replace(p,function(e,t,n,r,i,o){return n=n||r,d+=a.slice(u,o).replace(N,E),t&&(s=!0,d+="' +\n__e("+t+") +\n'"),i&&(c=!0,d+="';\n"+i+";\n__p += '"),n&&(d+="' +\n((__t = ("+n+")) == null ? '' : __t) +\n'"),u=o+e.length,e}),d+="';\n";var h=e.variable;h||(d="with (obj) {\n"+d+"\n}\n"),d=(c?d.replace(w,""):d).replace(I,"$1").replace(x,"$1;"),d="function("+(h||"obj")+") {\n"+(h?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(s?", __e = _.escape":"")+(c?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var g=Object(v.a)(function(){return Function(i,f+"return "+d).apply(void 0,o)});if(g.source=d,Object(_.a)(g))throw g;return g}t.a=u},RNEt:function(e,n,t){"use strict";var l=t("TtDe"),r={}.hasOwnProperty,i=t("62pP"),o=t("2bL9");n.Selector=i,n.Property=o,n.extract=function(e){for(var t=0,n=[],r="",i=0,o=e.length;i<o;i++){var a=e.charAt(i);t?("]"!==a&&")"!==a||t--,r+=a):","===a?(n.push(r),r=""):("["!==a&&"("!==a||t++,(r.length||","!==a&&"\n"!==a&&" "!==a)&&(r+=a))}return r.length&&n.push(r),n},n.parseCSS=function(e){for(var t=l.parse(e,{position:!0,comments:!0}),n=void 0!==t.stylesheet&&t.stylesheet.rules?t.stylesheet.rules:[],r=[],i=0,o=n.length;i<o;i++)if("rule"==n[i].type)for(var a=n[i],s=a.selectors,c=0,u=s.length;c<u;c++)r.push([s[c],a.declarations]);return r},n.getPreservedText=function(e,t,n){for(var r=l.parse(e,{position:!0,comments:!0}),i=void 0!==r.stylesheet&&r.stylesheet.rules?r.stylesheet.rules:[],o=[],a=i.length-1;0<=a;a--)(t.fontFaces&&"font-face"===i[a].type||t.mediaQueries&&"media"===i[a].type||t.keyFrames&&"keyframes"===i[a].type||t.pseudos&&i[a].selectors&&this.matchesPseudo(i[a].selectors[0],n))&&o.unshift(l.stringify({stylesheet:{rules:[i[a]]}},{comments:!1,indentation:"  "})),i[a].position.start;return 0!==o.length&&"\n"+o.join("\n")+"\n"},n.normalizeLineEndings=function(e){return e.replace(/\r\n/g,"\n").replace(/\n/g,"\r\n")},n.matchesPseudo=function(t,e){return e.find(function(e){return-1<t.indexOf(e)})},n.compareFunc=function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++)if(e[r]!==t[r])return e[r]>t[r]?1:-1;return e.length-t.length},n.compare=function(e,t){return 1==n.compareFunc(e,t)?e:t},n.extend=function(e,t){for(var n in t)r.call(t,n)&&(e[n]=t[n]);return e},n.getDefaultOptions=function(e){var t=n.extend({extraCss:"",insertPreservedExtraCss:!0,applyStyleTags:!0,removeStyleTags:!0,preserveMediaQueries:!0,preserveFontFaces:!0,preserveKeyFrames:!0,preservePseudos:!0,applyWidthAttributes:!0,applyHeightAttributes:!0,applyAttributesTableElements:!0,url:""},e);return t.webResources=t.webResources||{},t}},RQWm:function(e,t,n){"use strict";var a=n("5iG2");function r(e,t,n,r){for(var i=e.length,o=r?i:-1;(r?o--:++o<i)&&t(e[o],o,e););return n?Object(a.a)(e,r?0:o,r?o+1:i):Object(a.a)(e,r?o+1:0,r?i:o)}t.a=r},RXMP:function(e,t,n){e.exports=n("JLQQ")},Rk6w:function(e,t,n){n("pevS")({target:"Date",stat:!0},{now:function(){return(new Date).getTime()}})},Rmtg:function(e,t,n){"use strict";var r=n("M7fG"),i=n("SSwK")(function(e,t){return r(e,{xmlMode:t&&t.xmlMode},o,[t])}),o=function(e,t){return i.juiceDocument(e,t)};i.inlineContent=function(e,t,n){return r(e,{xmlMode:n&&n.xmlMode},i.inlineDocument,[t,n])},e.exports=i},RrRF:function(e,t){function n(){}e.exports=n},Rvcf:function(e,t,n){"use strict";var r=n("2sVE"),i=n("VI6H"),o=[];t.a=function(){return 0<o.length?o:(o=r.b.embedIframeList.slice(),o=i.s?o.filter(function(e){return e.dataKey}):o.filter(function(e){return e.dataKey&&!e.isBytedanceUser}))}},"Rw8+":function(e,t,n){var l=n("heNW"),r=n("EldB"),d=n("a1zH"),p=n("5sOR"),f=n("V9aw"),h=n("6KkN"),g=n("Kz5y");function i(o,a,s){var c=r(o);function u(){for(var e=arguments.length,t=Array(e),n=e,r=f(u);n--;)t[n]=arguments[n];var i=e<3&&t[0]!==r&&t[e-1]!==r?[]:h(t,r);return(e-=i.length)<s?p(o,a,d,u.placeholder,void 0,t,i,void 0,void 0,s-e):l(this&&this!==g&&this instanceof u?c:o,this,t)}return u}e.exports=i},"S/x3":function(e,t,n){"use strict";n.d(t,"a",function(){return m}),n.d(t,"b",function(){return c}),n.d(t,"c",function(){return E}),n.d(t,"d",function(){return O}),n.d(t,"e",function(){return v}),n.d(t,"f",function(){return y}),n.d(t,"g",function(){return g}),n.d(t,"h",function(){return b}),n.d(t,"i",function(){return _}),n.d(t,"j",function(){return C}),n.d(t,"k",function(){return T}),n.d(t,"l",function(){return k});var r=n("mnMc"),l=n.n(r),d=n("3Hq1"),i=n("7EGn"),o=n("/FZm"),p=n.n(o),a=n("BmhO"),f=n("Wz9t"),s=n("iYz8"),h=n.n(s);function c(e){var t=String(e).split(".").pop();return t&&t!==e?t.toLowerCase():""}function g(e){return c(e&&e.name?e.name:"")}function u(e){return Boolean(e&&e.weboffice)}function m(e){return f.z.get(e)||[]}function v(e){return l()(a.A).call(a.A,g(e))}function y(e){return l()(a.K).call(a.K,g(e))}function b(e){return l()(a.x).call(a.x,g(e))}function E(e){return l()(a.v).call(a.v,g(e))}function _(e){return g(e)===a.s.PDF}function C(e){return l()(a.t).call(a.t,g(e))}function T(e){if(!e||!e.available_preview_type.length)return null;var t=m(g(e)),n=e.available_preview_type;if(0<t.length){var r=!0,i=!1,o=void 0;try{for(var a,s=h()(t);!(r=(a=s.next()).done);r=!0){var c=a.value;if(l()(n).call(n,c))return c}}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return null}var u=p()(n).call(n,function(e){return l()(f.B).call(f.B,e)});return Object(d.default)(u)?null:u}function O(e){var t=e.fileInfo;if(e.enableWPSComponent&&u(t))return a.n.WPS;var n=a.n.NULL,r=T(t),i=f.P.get(r);return i?n=i:v(t)||y(t)?n=a.n.CODE:b(t)?n=a.n.AUDIO:E(t)?n=a.n.VIDEO:C(t)?n=a.n.IMG:_(t)&&(n=a.n.PDF),n}function k(e){if(!e||!e.name)return!1;switch(g(e)){case a.s.PDF:case a.s.CSV:return!0;case a.s.DOC:case a.s.DOCX:case a.s.DOT:case a.s.DOTX:case a.s.PPT:case a.s.PPTX:case a.s.PPS:case a.s.PPSX:case a.s.POT:return Object(i.default)(e,"preview_meta.data.".concat(a.m.PDF,".status"))===a.j.READY||Object(i.default)(e,"preview_meta.data.".concat(a.m.LINEARIZED_PDF,".status"))===a.j.READY;case a.s.XLS:case a.s.XLSX:case a.s.XLSM:return Object(i.default)(e,"preview_meta.data.".concat(a.m.HTML,".status"))===a.j.READY;default:return!1}}},S3Uj:function(e,t,n){"use strict";t.__esModule=!0,t.EXITING=t.ENTERED=t.ENTERING=t.EXITED=t.UNMOUNTED=void 0;var r=c(n("17x9")),o=s(n("q1tI")),i=s(n("i8i4")),a=n("VCL8");n("xfxO");function s(e){return e&&e.__esModule?e:{default:e}}function c(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function u(e,t){var n,r={};for(n in e)0<=t.indexOf(n)||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var f,h=t.UNMOUNTED="unmounted",g=t.EXITED="exited",m=t.ENTERING="entering",v=t.ENTERED="entered",y=t.EXITING="exiting",b=(p(E,f=o.default.Component),E.prototype.getChildContext=function(){return{transitionGroup:null}},E.getDerivedStateFromProps=function(e,t){return e.in&&t.status===h?{status:g}:null},E.prototype.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},E.prototype.componentDidUpdate=function(e){var t,n=null;e!==this.props&&(t=this.state.status,this.props.in?t!==m&&t!==v&&(n=m):t!==m&&t!==v||(n=y)),this.updateStatus(!1,n)},E.prototype.componentWillUnmount=function(){this.cancelNextCallback()},E.prototype.getTimeouts=function(){var e=this.props.timeout,t=void 0,n=void 0,r=void 0,t=n=r=e;return null!=e&&"number"!=typeof e&&(t=e.exit,n=e.enter,r=e.appear),{exit:t,enter:n,appear:r}},E.prototype.updateStatus=function(){var e,t=0<arguments.length&&void 0!==arguments[0]&&arguments[0],n=arguments[1];null!==n?(this.cancelNextCallback(),e=i.default.findDOMNode(this),n===m?this.performEnter(e,t):this.performExit(e)):this.props.unmountOnExit&&this.state.status===g&&this.setState({status:h})},E.prototype.performEnter=function(e,t){var n=this,r=this.props.enter,i=this.context.transitionGroup?this.context.transitionGroup.isMounting:t,o=this.getTimeouts();t||r?(this.props.onEnter(e,i),this.safeSetState({status:m},function(){n.props.onEntering(e,i),n.onTransitionEnd(e,o.enter,function(){n.safeSetState({status:v},function(){n.props.onEntered(e,i)})})})):this.safeSetState({status:v},function(){n.props.onEntered(e)})},E.prototype.performExit=function(e){var t=this,n=this.props.exit,r=this.getTimeouts();n?(this.props.onExit(e),this.safeSetState({status:y},function(){t.props.onExiting(e),t.onTransitionEnd(e,r.exit,function(){t.safeSetState({status:g},function(){t.props.onExited(e)})})})):this.safeSetState({status:g},function(){t.props.onExited(e)})},E.prototype.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},E.prototype.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},E.prototype.setNextCallback=function(t){var n=this,r=!0;return this.nextCallback=function(e){r&&(r=!1,n.nextCallback=null,t(e))},this.nextCallback.cancel=function(){r=!1},this.nextCallback},E.prototype.onTransitionEnd=function(e,t,n){this.setNextCallback(n),e?(this.props.addEndListener&&this.props.addEndListener(e,this.nextCallback),null!=t&&setTimeout(this.nextCallback,t)):setTimeout(this.nextCallback,0)},E.prototype.render=function(){var e=this.state.status;if(e===h)return null;var t=this.props,n=t.children,r=u(t,["children"]);if(delete r.in,delete r.mountOnEnter,delete r.unmountOnExit,delete r.appear,delete r.enter,delete r.exit,delete r.timeout,delete r.addEndListener,delete r.onEnter,delete r.onEntering,delete r.onEntered,delete r.onExit,delete r.onExiting,delete r.onExited,"function"==typeof n)return n(e,r);var i=o.default.Children.only(n);return o.default.cloneElement(i,r)},E);function E(e,t){l(this,E);var n=d(this,f.call(this,e,t)),r=t.transitionGroup,i=r&&!r.isMounting?e.enter:e.appear,o=void 0;return n.appearStatus=null,e.in?i?(o=g,n.appearStatus=m):o=v:o=e.unmountOnExit||e.mountOnEnter?h:g,n.state={status:o},n.nextCallback=null,n}function _(){}b.contextTypes={transitionGroup:r.object},b.childContextTypes={transitionGroup:function(){}},b.propTypes={},b.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:_,onEntering:_,onEntered:_,onExit:_,onExiting:_,onExited:_},b.UNMOUNTED=0,b.EXITED=1,b.ENTERING=2,b.ENTERED=3,b.EXITING=4,t.default=(0,a.polyfill)(b)},S7iq:function(e,t,n){"use strict";n.d(t,"a",function(){return h}),n.d(t,"c",function(){return g}),n.d(t,"W",function(){return m}),n.d(t,"d",function(){return v}),n.d(t,"U",function(){return T}),n.d(t,"E",function(){return O}),n.d(t,"D",function(){return k}),n.d(t,"s",function(){return S}),n.d(t,"r",function(){return w}),n.d(t,"t",function(){return I}),n.d(t,"u",function(){return x}),n.d(t,"w",function(){return L}),n.d(t,"v",function(){return R}),n.d(t,"o",function(){return N}),n.d(t,"n",function(){return D}),n.d(t,"p",function(){return M}),n.d(t,"x",function(){return P}),n.d(t,"z",function(){return j}),n.d(t,"y",function(){return F}),n.d(t,"q",function(){return B}),n.d(t,"I",function(){return U}),n.d(t,"L",function(){return H}),n.d(t,"K",function(){return z}),n.d(t,"l",function(){return V}),n.d(t,"m",function(){return K}),n.d(t,"e",function(){return W}),n.d(t,"J",function(){return Y}),n.d(t,"f",function(){return q}),n.d(t,"db",function(){return Z}),n.d(t,"eb",function(){return X}),n.d(t,"fb",function(){return Q}),n.d(t,"gb",function(){return J}),n.d(t,"F",function(){return $}),n.d(t,"G",function(){return ee}),n.d(t,"H",function(){return te}),n.d(t,"T",function(){return ne}),n.d(t,"Q",function(){return oe}),n.d(t,"g",function(){return ae}),n.d(t,"k",function(){return se}),n.d(t,"j",function(){return ce}),n.d(t,"P",function(){return ue}),n.d(t,"i",function(){return le}),n.d(t,"M",function(){return de}),n.d(t,"b",function(){return i}),n.d(t,"O",function(){return pe}),n.d(t,"N",function(){return fe}),n.d(t,"cb",function(){return he}),n.d(t,"V",function(){return ge}),n.d(t,"ab",function(){return me}),n.d(t,"bb",function(){return ve}),n.d(t,"R",function(){return ye}),n.d(t,"S",function(){return be}),n.d(t,"X",function(){return Ee}),n.d(t,"Z",function(){return _e}),n.d(t,"Y",function(){return Ae}),n.d(t,"B",function(){return Ce}),n.d(t,"C",function(){return Te}),n.d(t,"A",function(){return Oe}),n.d(t,"h",function(){return ke});var r,i,o,a=n("lSNA"),s=n.n(a),c=n("qxQb"),u=n.n(c),l=n("Ngi8"),d=n("fLNQ"),p=(l.N900,l.N500,l.N300),f=l.N300,h=l.B500,g=(l.N700,l.N00,u()(l.N900,.65),u()(l.N900,.4),u()(l.N900,.2),f),m=h,v=p,y=l.B500,b=d.a.isMac?u()(l.N900,.1):u()(l.N900,.15),E=l.N400,_="#FAD355",C=l.G500,T=m,O=l.B500,k=u()(l.N900,.1),S="crossLightGray",w="crossLightBlue",I="crossLightGreen",x="crossLightPurple",L="crossLightYellow",R="crossLightRed",N="crossGray",D="crossBlue",M="crossGreen",P="crossPurple",j="crossYellow",F="crossRed",B=(r={},s()(r,S,u()(l.N1000,.05)),s()(r,w,u()(l.B500,.15)),s()(r,I,u()(l.G500,.15)),s()(r,x,u()(l.P500,.15)),s()(r,L,u()(l.Y500,.15)),s()(r,R,u()(l.R500,.15)),s()(r,N,u()("#08141F",.2)),s()(r,D,u()(l.B500,.45)),s()(r,M,u()(l.G500,.5)),s()(r,P,u()(l.P500,.55)),s()(r,j,u()(l.Y500,.6)),s()(r,F,u()(l.R500,.55)),r),U={normal:l.N50,embed:l.N00},H=u()(l.B500,.06),z=l.N600,V=l.N300,K=l.N500,W={color:b,width:1},Y={color:E,width:1},q={color:l.N800,width:1},Z={color:_,width:2},X={color:_,width:1},Q={color:"transparent",width:1},J={color:y,width:1},$={color:u()(l.B500,1),width:1},ee={color:l.N400,width:2},te={offsetX:0,offsetY:0,color:u()(l.N900,.4),blur:16},ne=(u()(l.N900,.1),{color:T,width:2}),re={color:T,width:0},ie={color:l.N00,width:1},oe=u()(l.B500,.06),ae={color:T,width:1},se={color:T,width:1},ce={color:C,width:2},ue=u()(l.B500,.2),le="rgba(255, 205, 0, 0.25)",de=6;(o=i=i||{})[o.Level0=0]="Level0",o[o.Level1=100]="Level1",o[o.Level2=200]="Level2",o[o.Level3=300]="Level3",o[o.Level4=400]="Level4",o[o.Level5=500]="Level5",o[o.Level6=600]="Level6",o[o.Level7=700]="Level7",o[o.Level8=800]="Level8",o[o.Level9=900]="Level9",o[o.Level10=1e3]="Level10";var pe={color:l.N300,hoverColor:l.N400},fe={background:l.N00},he={borderRight:ne,background:H,zindex:i.Level2},ge={borderBottom:ne,background:H,zindex:i.Level2},me={borderBottom:ne,background:u()(l.N00,.2),zindex:i.Level2},ve={borderRight:ne,background:u()(l.N00,.2),zindex:i.Level2},ye={background:oe},be={border:re,background:oe},Ee={x:3,y:3,width:6,height:6,border:ie,background:T},_e={width:12,height:12},Ae={width:12,height:12,border:{width:1.5,color:l.N00},background:m},Ce={resizeLineX:0,resizeLineY:0,resizeTipLineX:50,resizeTipLineY:24},Te={fontSize:12,borderRadius:4},Oe=1,ke={radius:10,minWidth:20,minHeight:20,padding:[1,6],margin:[3,2,3,2]}},SFb0:function(e,t,n){},SKAX:function(e,t,n){var r=n("JC6p"),i=n("lQqw")(r);e.exports=i},SLR9:function(e,t,n){"use strict";n.d(t,"a",function(){return k}),n.d(t,"d",function(){return S}),n.d(t,"b",function(){return I});var r,i,o,a,s,c=n("lwsE"),u=n.n(c),l=n("W8MJ"),d=n.n(l),p=n("U+yc"),f=n.n(p),h=(n("faYQ"),n("nVH4")),g=n("YWBl"),m=n("7Kxq"),v=n("YNKm"),y=n("/spq"),b=n("F9bh"),E=n("aBgF"),_=n("y2sV"),C=n("q1tI"),T=n.n(C),O=n("Nl7c"),k="IGNORE_INLINE_CODE";function S(e){if(e instanceof HTMLElement){var t=e.className,n=e.getAttribute("style");if(-1<t.indexOf("list-code"))return!0;if(/\bdisplay:\s*block\b/i.test(n))return!0}return!1}var w=T.a.createElement(_.w,{spellCheck:!1,className:"inline-code "}),I=(r=Object(y.a)(["aceKeyEvent"]),i=Object(O.a)(),o=Object(b.a)(),r((s=function(){function t(e){var o=this;u()(this,t),this.attributeKey="inline-code",this.aceInitialized=function(e,t){o.editorInfo=t.editorInfo,o.editorInfo.doInsertInlineCode=o.doInsertInlineCode,o.regist(o.editorInfo)},this.regist=function(e){var a="inline-code";e.registerAceCommand(v.D,function(e,t,n,r){var i=r.source,o=t.doInsertInlineCode({attribKey:"inline-code",attribValue:!0});Object(g.a)({action:a,op:o?m.g:m.f,source:i})},{statusKey:a})},this.getStyleType=function(e){var t=[];e&&(t=e.split(";"));for(var n=0;n<t.length;++n)if(-1<t[n].indexOf("background-color")){var r=/(^| )background-color:\s*(.*)/.exec(t[n]);if(r)return r[2]}},this.getNextPositionPoint=function(e,t,n){var r=[t[0],t[1]-1],i=[t[0],t[1]+1];return n!==h.c.LEFT||o.isInlineCodeAtPosition(e,i)?n!==h.c.RIGHT||0!==t[1]&&o.isInlineCodeAtPosition(e,r)?[]:i:r},this.isInlineCodeAtPosition=function(e,t,n){var r,i,o=e.selection.getZone();return!(!(i=n?(r=e.getReps()[o]).attributeManager.getAttributesOnSelection(t,[t[0],t[1]+1],r).attribs:e.getAttributesOnPosition(o,t[0],t[1]))||!i.some(function(e){return"inline-code"===e[0]}))},this.aceAttribsToClasses=function(e,t){if("inline-code"===t.key)return"inline-code"},e&&this.aceInitialized("",Object.assign({editorInfo:e},e))}return d()(t,[{key:"match",value:function(e){return e===this.attributeKey}},{key:"renderInlineWrapper",value:function(){return w}},{key:"reset",value:function(){this.editorInfo=null}},{key:"doInsertInlineCode",value:function(e){var t=e.attribKey,n=e.attribValue,r=e.isAllHasAttrib,i=e.isSpecialSelection,o=e.range,a=o.selStart,s=o.selEnd,c=o.attributeManager;return i?(c.setAttributesOnRange(a,s,[[t,r?"":n]]),r):this.editor.toggleAttributeOnSelection(t,o,n)}},{key:"aceKeyEvent",value:function(e,t){var n=t.evt,r=t.editorInfo,i=n.type,o=n.keyCode,a=n.shiftKey;if("keydown"!==i||Object(E.d)(n))return!1;if(o!==h.c.LEFT&&o!==h.c.RIGHT)return!1;if(!r.selection.isCaret())return!1;var s=r.getRep(),c=s.selStart,u=[c[0],c[1]+1],l=[c[0],c[1]-1],d=o===h.c.LEFT||o===h.c.BACKSPACE?this.isInlineCodeAtPosition(r,l,!0):this.isInlineCodeAtPosition(r,u);if(!d||o!==h.c.LEFT&&o!==h.c.RIGHT)return!1;var p=this.getNextPositionPoint(r,c,o);return!!p.length&&(n.preventDefault(),t.preventOtherHooksHandle=!0,r.setWithSelection(s.zoneId,a?c:p,p),r.updateBrowserSelectionFromRep(),!0)}},{key:"deserialize",value:function(e){var t=e.node,n=e.deltaSet,r=e.zoneId;if(t instanceof HTMLElement){var i=t.tagName,o=t.className;if("CODE"===i&&!S(t)||"SPAN"===i&&-1<o.indexOf("inline-code"))return Object(_.H)(n,r,{"inline-code":"true"})}return n}}]),t}(),f()(s.prototype,"renderInlineWrapper",[i],Object.getOwnPropertyDescriptor(s.prototype,"renderInlineWrapper"),s.prototype),f()(s.prototype,"doInsertInlineCode",[o],Object.getOwnPropertyDescriptor(s.prototype,"doInsertInlineCode"),s.prototype),a=s))||a);t.c=new I},SPx3:function(e,t,n){var u=n("Yvyk");function c(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):u.resolve(c).then(r,i)}function r(s){return function(){var e=this,a=arguments;return new u(function(t,n){var r=s.apply(e,a);function i(e){c(r,t,n,i,o,"next",e)}function o(e){c(r,t,n,i,o,"throw",e)}i(void 0)})}}e.exports=r},SQ87:function(e,t,n){"use strict";n.d(t,"g",function(){return g}),n.d(t,"f",function(){return y}),n.d(t,"b",function(){return b}),n.d(t,"a",function(){return E}),n.d(t,"h",function(){return _}),n.d(t,"j",function(){return C}),n.d(t,"c",function(){return T}),n.d(t,"i",function(){return O}),n.d(t,"d",function(){return k}),n.d(t,"e",function(){return S});var r=n("lwsE"),i=n.n(r),o=n("W8MJ"),a=n.n(o),s=n("J4zp"),w=n.n(s),c=(n("lSNA"),n("Muja")),u=n("U5G9"),v=n("4D8z"),l=n("Wwog"),d=n("FJEn"),p=(n("H6oK"),n("iP/4")),f=n("L1JX"),h=n("GixS"),g=(Object(u.b)({module:u.a.TABLE}),function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:v.l;return e-v.w+t}),y=function(e,t,n,r){var i,o=f.a.IS_FS_MODE?0:t.paddingRight,a=f.a.IS_FS_MODE?0:t.paddingLeft,s=f.a.TABLE_FULL_WIDTH_RIGHT,c=f.a.TABLE_FULL_WIDTH_WITH_COMMENT_RIGHT,u=0,l=0,d=r.width,u=e?1600<=d?c+v.h+v.g:900<=d?c+v.i+v.g:0:s,l=v.w,p=g(t.left-r.left,a);return n===v.q&&(i=r.right-t.right-u+o+2*h.b),{tableFullLeftMargin:p,tableFullRightMargin:i,tableVisibleWidth:d-l-u}},m=function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!Object(c.default)(e[n],t[n]))return!1;return!0},b=Object(l.a)(function(e,t,n,r,i,o,a,s){return E({platform:o,fullWidth:n,scrollLeft:r,docbodyRect:e,tableTotalWidth:i,isCommentCross:a,showRightScrollShadow:s,containerRect:t})},m),E=function(e){var t=e.platform,n=e.fullWidth,r=e.docbodyRect,i=e.tableTotalWidth,o=e.isCommentCross,a=e.scrollLeft,s=e.containerRect,c=r.innerWidth,u={marginLeft:0,marginRight:0,paddingRight:0,docScrollWidth:null,tableScrollWidth:null,leftShadowOffset:0};if(!t)return u.docScrollWidth=c,u.tableScrollWidth=r.width,u;if(!n||i<=c||s.width<=900)return u;var l=y(o,r,t,s),d=l.tableFullLeftMargin,p=l.tableFullRightMargin,f=l.tableVisibleWidth,h=Math.min(a,d);if(c+p<i&&900<s.width){var g=f<=i?f:i+v.x,m=f<=i?d:g-c-p;return o||(u.paddingRight=v.x),u.marginLeft=-m,u.marginRight=-p,u.docScrollWidth=g,u.leftShadowOffset=-h,u.tableScrollWidth=c+p,u}return u.marginRight=-(i-c),u.docScrollWidth=i,u.tableScrollWidth=i,u};function _(){return{aceTable:function(e,t){var n=d.tableIds.getRowAndColIdFromTableValue(e),r=t.getVectorReps();return{pluginCounts:[["aceTable",1]],childReps:d.tableIds.getSortedTableCellIdsByTableIdFromVectorReps(r,n).map(function(e){return t.getRep(e)})}}}}function C(e){return 0<$(e).parents(".inner-zone-ace-editor-wrapper").length}function T(e,t,n){for(var r=-1,i=-1,o=e;0<=o&&-1===r;o--){for(var a=t;0<=a&&-1===i;a--){var s=n[o][a];(void 0===s.colspan||s.colspan&&0<s.colspan)&&(i=a)}var c=n[o][i];(void 0===c.rowspan||c.rowspan&&0<c.rowspan)&&(r=o)}return{rowIndex:-1===r?e:r,colIndex:-1===i?t:i}}function O(e,t){var n=t.getVectorReps(),r=e.split("x"),i=w()(r,3),o=i[1],a=i[2];if(!o||!a)return 0;var s=Object.keys(n).find(function(e){return n[e].vectorIds.includes(o)}),c=Object.keys(n).find(function(e){return n[e].vectorIds.includes(a)});if(!s||!c)return 0;var u=t.getVectorsRep(s,!0),l=t.getVectorsRep(c,!1),d=u.vectorIds.indexOf(o),p=l.vectorIds.indexOf(a);if(-1===d||-1===p)return 0;var f=t.changesetHelper.getAttributesPerCharacter(l.alines[0],t.getApool()),h=t.changesetHelper.getAttributesPerCharacter(u.alines[0],t.getApool())[d]||{},g=f[p]||{};if(h.mergeCellID&&g.mergeCellID){var m=h.mergeCellID.split(","),v="",y=!0,b=!1,E=void 0;try{for(var _,C=m[Symbol.iterator]();!(y=(_=C.next()).done);y=!0){var T=_.value;if(g.mergeCellID&&g.mergeCellID.includes(T)){v=T;break}}}catch(e){b=!0,E=e}finally{try{y||null==C.return||C.return()}finally{if(b)throw E}}if(0<v.length){for(var O=0,k=p-1;0<=k&&(f[k].mergeCellID&&f[k].mergeCellID.includes(v));k--)O+=I(f[k]);for(var S=p;S<f.length&&(f[S].mergeCellID&&f[S].mergeCellID.includes(v));S++)O+=I(f[S]);return O}}return I(g)}function I(e){return Number(e.colWidth)||v.r}var k=new(function(){function e(){i()(this,e),this.isRealMousedown=!1,this.invalidMousedown=!1,this.bindEvent()}return a()(e,[{key:"bindEvent",value:function(){var e=this;p.a.isSafari&&(document.addEventListener("mousedown",function(){e.isRealMousedown=!0}),document.addEventListener("mouseup",function(){e.isRealMousedown||(e.invalidMousedown=!0),e.isRealMousedown=!1}))}}]),e}());function S(e,t){for(var n=0,r=0;r<t;r++)n+=e[r];return n}},SSkQ:function(e,t,n){e.exports=n("4zJj")},SSwK:function(e,t,n){"use strict";var E=n("RNEt");e.exports=function(v){function r(f,e,h){h=h||{};var t,n,r=E.parseCSS(e),g=[],m="style";function i(e){for(var t,n,r,i=e[0],o=e[1],a=new E.Selector(i),s=a.parsed(),c=y(s),u=0;u<s.length;++u){var l=s[u];if(l.pseudos)for(var d=0;d<l.pseudos.length;++d){var p=l.pseudos[d];if(0<=v.ignoredPseudos.indexOf(p.name))return}}c&&(n=(t=s[s.length-1]).pseudos,t.pseudos=b(t.pseudos),i=s.toString(),t.pseudos=n);try{r=f(i)}catch(e){return}r.each(function(){var e,t,n,l=this;function r(e,t){for(var n,r,i,o,a,s,c=0,u=e.length;c<u;c++)"property"==e[c].type&&(n=e[c].name,r=e[c].value,(i=null!==e[c].value.match(/!important$/))&&!h.preserveImportant&&(r=r.replace(/\s*!important$/,"")),o=[e[c].position.start.line,e[c].position.start.col],a=new E.Property(n,r,t,i?2:0,o),s=l.styleProps[n],v.excludedProperties.indexOf(n)<0&&(s&&s.compare(a)===a||!s)&&(s&&s.selector!==t?delete l.styleProps[n]:s&&(a.nextProp=s),l.styleProps[n]=a))}l.name&&0<=v.nonVisualElements.indexOf(l.name.toUpperCase())||(c&&((t=l[e="pseudo"+c])||((t=l[e]=f("<span />").get(0)).pseudoElementType=c,(t.pseudoElementParent=l)[e]=t),l=t),l.styleProps||(l.styleProps={},f(l).attr(m)&&(n="* { "+f(l).attr(m)+" } ",r(E.parseCSS(n)[0][1],new E.Selector("<style>",!0))),g.push(l)),r(o,a))})}function o(n){Object.keys(n.styleProps).length;var r=[];Object.keys(n.styleProps).forEach(function(e){for(var t=n.styleProps[e];void 0!==t;)r.push(t),t=t.nextProp}),r.sort(function(e,t){return e.compareFunc(t)});var e=r.filter(function(e){return"content"!==e.prop}).map(function(e){return e.prop+": "+e.value.replace(/["]/g,"'")+";"}).join(" ");e&&f(n).attr(m,e)}function a(e){var t,n;e.pseudoElementType&&e.styleProps.content&&((t=l(e.styleProps.content.value)).img?(e.name="img",f(e).attr("src",t.img)):f(e).text(t),n=e.pseudoElementParent,"before"===e.pseudoElementType?f(n).prepend(e):f(n).append(e))}function s(e,t){if(e.name){var n=e.name.toUpperCase();if(-1<v[t+"Elements"].indexOf(n))for(var r in e.styleProps)if(e.styleProps[r].prop===t){if(e.styleProps[r].value.match(/px/)){var i=e.styleProps[r].value.replace("px","");return void f(e).attr(t,i)}if(-1<v.tableElements.indexOf(n)&&e.styleProps[r].value.match(/\%/))return void f(e).attr(t,e.styleProps[r].value)}}}function c(e){return 0!==e.indexOf("url(")?e:e.replace(/^url\((["'])?([^"']+)\1\)$/,"$2")}function u(e){if(e.name){var t,n,r=e.name.toUpperCase(),i=Object.keys(v.styleToAttribute);if(-1<v.tableElements.indexOf(r))for(var o in e.styleProps)-1<i.indexOf(e.styleProps[o].prop)&&(t=v.styleToAttribute[e.styleProps[o].prop],n=e.styleProps[o].value,"background"===t&&(n=c(n)),/(linear|radial)-gradient\(/i.test(n)||f(e).attr(t,n))}}h.styleAttributeName&&(m=h.styleAttributeName),r.forEach(i),g.forEach(o),h.inlinePseudoElements&&g.forEach(a),h.applyWidthAttributes&&g.forEach(function(e){s(e,"width")}),h.applyHeightAttributes&&g.forEach(function(e){s(e,"height")}),h.applyAttributesTableElements&&g.forEach(u),h.insertPreservedExtraCss&&h.extraCss&&((t=E.getPreservedText(h.extraCss,{mediaQueries:h.preserveMediaQueries,fontFaces:h.preserveFontFaces,keyFrames:h.preserveKeyFrames}))&&(!(n=null)!==h.insertPreservedExtraCss?n=f(h.insertPreservedExtraCss):((n=f("head")).length||(n=f("body")),n.length||(n=f.root())),n.first().append("<style>"+t+"</style>")))}function l(e){if("none"===e||"normal"===e)return"";var t=e.match(/^\s*url\s*\(\s*(.*?)\s*\)\s*$/i);return t?{img:t[1].replace(/^['"]|['"]$/g,"")}:e=(e=e.slice(1,e.length-1)).replace(/\\/g,"")}function y(e){if(0!==e.length){var t=e[e.length-1].pseudos;if(t)for(var n=0;n<t.length;n++)if(i(t[n]))return t[n].name}}function i(e){return"before"===e.name||"after"===e.name}function b(e){return e.filter(function(e){return!i(e)})}function e(e,t){var n=o(e,t=E.getDefaultOptions(t));return r(e,n+="\n"+t.extraCss,t),e}function n(t,n){var r,i,o,a=[];return t("style").each(function(){var e;1===(r=(o=this).childNodes).length&&(i=r[0].data,n.applyStyleTags&&void 0===t(o).attr("data-embed")&&a.push(i),n.removeStyleTags&&void 0===t(o).attr("data-embed")&&((e=E.getPreservedText(o.childNodes[0].nodeValue,{mediaQueries:n.preserveMediaQueries,fontFaces:n.preserveFontFaces,keyFrames:n.preserveKeyFrames,pseudos:n.preservePseudos},v.ignoredPseudos))?o.childNodes[0].nodeValue=e:t(o).remove()),t(o).removeAttr("data-embed"))}),a}function o(e,t){return n(e,t).join("\n")}return v.ignoredPseudos=["hover","active","focus","visited","link"],v.widthElements=["TABLE","TD","TH","IMG"],v.heightElements=["TABLE","TD","TH","IMG"],v.tableElements=["TABLE","TH","TR","TD","CAPTION","COLGROUP","COL","THEAD","TBODY","TFOOT"],v.nonVisualElements=["HEAD","TITLE","BASE","LINK","STYLE","META","SCRIPT","NOSCRIPT"],v.styleToAttribute={"background-color":"bgcolor","background-image":"background","text-align":"align","vertical-align":"valign"},v.excludedProperties=[],v.juiceDocument=e,v.inlineDocument=r,v}},ScS1:function(e,t){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMjRweCIgaGVpZ2h0PSIyNHB4IiB2aWV3Qm94PSIwIDAgMjQgMjQiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDU2LjMgKDgxNzE2KSAtIGh0dHBzOi8vc2tldGNoLmNvbSAtLT4KICAgIDx0aXRsZT5pY29uX3Rvb2xfcHJldmlld3ZpZXdfbm9yPC90aXRsZT4KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPgogICAgPGcgaWQ9IldlYi0xNioxNiIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+CiAgICAgICAgPGcgaWQ9IkFydGJvYXJkIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtODU0LjAwMDAwMCwgLTYwMC4wMDAwMDApIj4KICAgICAgICAgICAgPGcgaWQ9Imljb25fdG9vbF9wcmV2aWV3dmlld19ub3IiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDg1NC4wMDAwMDAsIDYwMC4wMDAwMDApIj4KICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik01LjM1LDE3LjQ4ODkyOTkgTDE4LjY1LDE3LjQ4ODkyOTkgQzE4Ljg0MzI5OTcsMTcuNDg4OTI5OSAxOSwxNy42NTY4MjMxIDE5LDE3Ljg2MzkyOTkgTDE5LDE4LjYxMzkyOTkgQzE5LDE4LjgyMTAzNjcgMTguODQzMjk5NywxOC45ODg5Mjk5IDE4LjY1LDE4Ljk4ODkyOTkgTDUuMzUsMTguOTg4OTI5OSBDNS4xNTY3MDAzNCwxOC45ODg5Mjk5IDUsMTguODIxMDM2NyA1LDE4LjYxMzkyOTkgTDUsMTcuODYzOTI5OSBDNSwxNy42NTY4MjMxIDUuMTU2NzAwMzQsMTcuNDg4OTI5OSA1LjM1LDE3LjQ4ODkyOTkgWiBNNS41LDUgTDE4LjUsNSBDMTguNzc2MTQyNCw1IDE5LDUuMjIzODU3NjMgMTksNS41IEwxOSwxNC41IEMxOSwxNC43NzYxNDI0IDE4Ljc3NjE0MjQsMTUgMTguNSwxNSBMNS41LDE1IEM1LjIyMzg1NzYzLDE1IDUsMTQuNzc2MTQyNCA1LDE0LjUgTDUsNS41IEM1LDUuMjIzODU3NjMgNS4yMjM4NTc2Myw1IDUuNSw1IFogTTYuNSw2LjUgTDYuNSwxMy41IEwxNy41LDEzLjUgTDE3LjUsNi41IEw2LjUsNi41IFoiIGlkPSJDb21iaW5lZC1TaGFwZSIgZmlsbD0iIzJCMkYzNiI+PC9wYXRoPgogICAgICAgICAgICA8L2c+CiAgICAgICAgPC9nPgogICAgPC9nPgo8L3N2Zz4K"},Shz6:function(e,t,n){var r=n("cs4F"),i=n("GIBT"),o=n("3OWR"),a={tag:!0,script:!0,style:!0};t.isTag=function(e){return e.type&&(e=e.type),a[e]||!1},t.camelCase=function(e){return e.replace(/[_.-](\w|$)/g,function(e,t){return t.toUpperCase()})},t.cssCase=function(e){return e.replace(/[A-Z]/g,"-$&").toLowerCase()},t.domEach=function(e,t){for(var n=0,r=e.length;n<r&&!1!==t.call(e,n,e[n]);)++n;return e},t.cloneDom=function(e,t){return t=o({},t,{_useHtmlParser2:!0}),r(i(e,t),t,!1).children};var s=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/;t.isHtml=function(e){if("<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&3<=e.length)return!0;var t=s.exec(e);return!(!t||!t[1])}},Si88:function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i=d(n("17x9")),o=l(n("ycFn")),a=l(n("VOcB")),s=l(n("q1tI")),c=l(n("S3Uj")),u=n("xfxO");function l(e){return e&&e.__esModule?e:{default:e}}function d(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var g,m=function(t,e){return t&&e&&e.split(" ").forEach(function(e){return(0,o.default)(t,e)})},v=function(t,e){return t&&e&&e.split(" ").forEach(function(e){return(0,a.default)(t,e)})},y=(r({},c.default.propTypes,{classNames:u.classNamesShape,onEnter:i.func,onEntering:i.func,onEntered:i.func,onExit:i.func,onExiting:i.func,onExited:i.func}),h(b,g=s.default.Component),b.prototype.removeClasses=function(e,t){var n=this.getClassNames(t),r=n.className,i=n.activeClassName,o=n.doneClassName;r&&v(e,r),i&&v(e,i),o&&v(e,o)},b.prototype.reflowAndAddClass=function(e,t){t&&(e&&e.scrollTop,m(e,t))},b.prototype.render=function(){var e=r({},this.props);return delete e.classNames,s.default.createElement(c.default,r({},e,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},b);function b(){var e,r;p(this,b);for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];return(e=r=f(this,g.call.apply(g,[this].concat(n)))).onEnter=function(e,t){var n=r.getClassNames(t?"appear":"enter").className;r.removeClasses(e,"exit"),m(e,n),r.props.onEnter&&r.props.onEnter(e)},r.onEntering=function(e,t){var n=r.getClassNames(t?"appear":"enter").activeClassName;r.reflowAndAddClass(e,n),r.props.onEntering&&r.props.onEntering(e)},r.onEntered=function(e,t){var n=r.getClassNames("enter").doneClassName;r.removeClasses(e,t?"appear":"enter"),m(e,n),r.props.onEntered&&r.props.onEntered(e)},r.onExit=function(e){var t=r.getClassNames("exit").className;r.removeClasses(e,"appear"),r.removeClasses(e,"enter"),m(e,t),r.props.onExit&&r.props.onExit(e)},r.onExiting=function(e){var t=r.getClassNames("exit").activeClassName;r.reflowAndAddClass(e,t),r.props.onExiting&&r.props.onExiting(e)},r.onExited=function(e){var t=r.getClassNames("exit").doneClassName;r.removeClasses(e,"exit"),m(e,t),r.props.onExited&&r.props.onExited(e)},r.getClassNames=function(e){var t=r.props.classNames,n="string"!=typeof t?t[e]:t+"-"+e;return{className:n,activeClassName:"string"!=typeof t?t[e+"Active"]:n+"-active",doneClassName:"string"!=typeof t?t[e+"Done"]:n+"-done"}},f(r,e)}y.propTypes={},t.default=y,e.exports=t.default},Sjdk:function(e,t,n){"use strict";var r=n("CnBM"),i=n.n(r),o=n("q1tI"),a=n.n(o);t.a=i()({loader:function(){return Promise.all([n.e("doc_index_css"),n.e("chunk_adit"),n.e(0),n.e(5),n.e(7),n.e("comment_textarea")]).then(n.bind(null,"MHQM"))},loading:function(){return null},render:function(e,t){var n=e.default;return a.a.createElement(n,Object.assign({},t,{ref:t.getRef}))}})},SnPR:function(e,i,o){"use strict";(function(e){o.d(i,"a",function(){return r});var t=o("J4zp"),l=o.n(t),d=o("gpFw"),n=o("q1tI"),p=o.n(n),f=e("anonymous.login");function r(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",n=new RegExp(t+f,"ig"),r=e.match(n);if(!r||1<r.length)throw new TypeError("No matched ".concat(f,'" or matched multiple result,\n    Indentifier such as "@" should be included before hypertext "').concat(f,'"\n    when content has mutiple "').concat(f,'".'));var i=r[0],o=e.split(i),a=l()(o,2),s=a[0],c=a[1],u=0<t.length?i.slice(t.length):i;return p.a.createElement("span",null,s,p.a.createElement(d.a,{loginText:u}),c)}}).call(this,o("2vAP"))},SskX:function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,(e.exports=n).id="SskX"},Sxd8:function(e,t,n){var r=n("ZCgT");function i(e){var t=r(e),n=t%1;return t==t?n?t-n:t:0}e.exports=i},SyrE:function(e,t,n){"use strict";n.d(t,"a",function(){return _}),n.d(t,"b",function(){return b}),n.d(t,"c",function(){return k}),n.d(t,"d",function(){return h}),n.d(t,"e",function(){return g}),n.d(t,"f",function(){return m}),n.d(t,"g",function(){return d}),n.d(t,"h",function(){return T}),n.d(t,"i",function(){return s}),n.d(t,"j",function(){return i}),n.d(t,"k",function(){return p});var u=n("Trbk"),l=n("i+co"),o=[];function a(e,t){return typeof e==typeof t?e===t:e instanceof RegExp?e.test(t):t instanceof RegExp&&t.test(e)}var r={on:function(t,e){var n=o.findIndex(function(e){return a(t,e.eventName)});-1<n?o[n].funcList.push(e):o.push({eventName:t,funcList:[e]})},emit:function(t){for(var n=[],e=1;e<arguments.length;e++)n[e-1]=arguments[e];var r=o.find(function(e){return a(t,e.eventName)});r&&r.funcList.forEach(function(e){try{e.apply(e,n)}catch(e){throw Error(e)}})},off:function(t,n){var e,r=o.find(function(e){return a(t,e.eventName)});!r||-1<(e=r.funcList.findIndex(function(e){return e===n}))&&r.funcList.splice(e,1)},getListeners:function(r){if(r instanceof RegExp){var i=Object.create(null);return o.forEach(function(e){var n=e.eventName,t=e.funcList;"string"==typeof n&&(i[n]=[],a(n,r)&&t.forEach(function(e,t){return i[n][t]={listener:e}}))}),i}var e=o.find(function(e){return a(r,e.eventName)});return e?e.funcList:[]}},d=r;function i(e){d=e,o.forEach(function(e){var t=e.eventName;return e.funcList.forEach(function(e){return d.on(t,e)})}),o.length=0}function s(){d=r}var c=function(e,t){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function p(e,t){function n(){this.constructor=e}c(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var f,h=function(){return(h=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function g(e,a,n,s){function c(t){return t instanceof n?t:new n(function(e){e(t)})}return new(n=n||Promise)(function(t,n){function r(e){try{o(s.next(e))}catch(e){n(e)}}function i(e){try{o(s.throw(e))}catch(e){n(e)}}function o(e){e.done?t(e.value):c(e.value).then(r,i)}o((s=s.apply(e,a||[])).next())})}function m(e,n){var r,i,o,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},t={next:s(0),throw:s(1),return:s(2)};return"function"==typeof Symbol&&(t[Symbol.iterator]=function(){return this}),t;function s(t){return function(e){return c([t,e])}}function c(t){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,i&&(o=2&t[0]?i.return:t[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,t[1])).done)return o;switch(i=0,o&&(t=[2&t[0],o.value]),t[0]){case 0:case 1:o=t;break;case 4:return a.label++,{value:t[1],done:!1};case 5:a.label++,i=t[1],t=[0];continue;case 7:t=a.ops.pop(),a.trys.pop();continue;default:if(!(o=0<(o=a.trys).length&&o[o.length-1])&&(6===t[0]||2===t[0])){a=0;continue}if(3===t[0]&&(!o||t[1]>o[0]&&t[1]<o[3])){a.label=t[1];break}if(6===t[0]&&a.label<o[1]){a.label=o[1],o=t;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(t);break}o[2]&&a.ops.pop(),a.trys.pop();continue}t=n.call(e,a)}catch(e){t=[6,e],i=0}finally{r=o=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}}var v=((f={})[l.d.INFO]="",f[l.d.WARNING]="[warning]",f[l.d.ERROR]="[error]",f);function y(){var c=this;this.platform=l.e.WEB,this.currentLogIdMap=Object.create(null),this.timerMap=Object.create(null),this.logMap=Object.create(null),this.clear=function(t,e){e?e.forEach(function(e){void 0!==c.logMap[t]&&delete c.logMap[t][e]}):(delete c.currentLogIdMap[t],delete c.timerMap[t],delete c.logMap[t])},this.collect=function(e,t){c.initLogId(t),c.increaseLogId(t);var n,r,i=e.event,o=e.timestamp,a=e.level,s=e.type;c.logMap[t]&&c.logMap[t][i]&&c.logMap[t][i]>=o||(n=v[a]+"["+c.platform+"]["+s+"] "+e.message,r=h(h({id:c.currentLogIdMap[t],platform:c.platform},e),{message:n}),c.platform===l.e.RN&&d.emit(u.c+":"+u.e,r),d.emit(u.c+":"+u.e+":"+t,r),c.logMap[t]||(c.logMap[t]=Object.create(null)),c.logMap[t][i]=o)}}var b=new(y.prototype.clearTimer=function(e){this.timerMap[e]&&clearTimeout(this.timerMap[e]),delete this.timerMap[e]},y.prototype.initLogId=function(e){void 0===this.currentLogIdMap[e]&&(this.currentLogIdMap[e]=0)},y.prototype.increaseLogId=function(e){var t=this;this.timerMap[e]||(this.timerMap[e]=setTimeout(function(){t.clearTimer(e),"number"==typeof t.currentLogIdMap[e]&&t.currentLogIdMap[e]++}))},y.prototype.setPlatform=function(e){this.platform=e},y);function E(){this.defaultModuleMap=Object.create(null),this.moduleMap=Object.create(null)}var _=new(E.prototype.has=function(e,t){return!!this.defaultModuleMap[e]||!!(t&&this.moduleMap[t]&&this.moduleMap[t][e])},E.prototype.set=function(e,t){t?(this.moduleMap[t]||(this.moduleMap[t]=Object.create(null)),this.moduleMap[t][e.moduleName]=e):this.defaultModuleMap[e.moduleName]=e},E.prototype.remove=function(e,t){t&&this.moduleMap[t]&&delete this.moduleMap[t][e],delete this.defaultModuleMap[e]},E.prototype.map=function(e,t){Object.values(this.defaultModuleMap).forEach(t),this.moduleMap[e]&&Object.values(this.moduleMap[e]).forEach(t)},E.prototype.get=function(e,t){return(this.moduleMap[e]&&this.moduleMap[e][t]?this.moduleMap[e]:this.defaultModuleMap)[t]},E.prototype.clear=function(e){delete this.moduleMap[e],this.defaultModuleMap=Object.create(null)},E);function C(){var i=this;this.muteModuleReplayMap=Object.create(null),this.muteAllModulesPlay=function(e,t,n){i.muteModuleReplayMap[n]||(i.muteModuleReplayMap[n]=Object.create(null)),i.muteModuleReplayMap[n].all=t+e,i.deleteObjectPropertyAfterDuration(i.muteModuleReplayMap[n],"all",e)},this.muteOtherModulesPlay=function(e,t,n,r){i.muteModuleReplayMap[r]||(i.muteModuleReplayMap[r]=Object.create(null)),i.muteModuleReplayMap[r].whiteList||(i.muteModuleReplayMap[r].whiteList=Object.create(null)),i.muteModuleReplayMap[r].whiteList[t]=n+e,i.deleteObjectPropertyAfterDuration(i.muteModuleReplayMap[r].whiteList,t,e)},this.muteModulesPlay=function(t,e,n,r){i.muteModuleReplayMap[r]||(i.muteModuleReplayMap[r]=Object.create(null)),i.muteModuleReplayMap[r].blackList||(i.muteModuleReplayMap[r].blackList=Object.create(null)),e.forEach(function(e){i.muteModuleReplayMap[r].blackList[e]=n+t,i.deleteObjectPropertyAfterDuration(i.muteModuleReplayMap[r].blackList,e,t)})}}var T=new(C.prototype.checkIsModuleMute=function(e,t,n){if(!this.muteModuleReplayMap[n])return!1;var r=this.muteModuleReplayMap[n],i=r.all,o=void 0===i?void 0:i,a=r.whiteList,s=void 0===a?{}:a,c=r.blackList,u=void 0===c?{}:c;if(o&&t<=o)return!0;var l=Object.keys(s).find(function(e){return s[e]>=t});return l?l!==e:!!(u[e]&&u[e]>=t)},C.prototype.clear=function(e){delete this.muteModuleReplayMap[e]},C.prototype.deleteObjectPropertyAfterDuration=function(e,t,n){setTimeout(function(){return delete e[t]},n)},C);function O(){this.funcMap=Object.create(null)}new(O.prototype.set=function(e,t){this.funcMap[e]=t},O.prototype.run=function(e,t){this.funcMap[e]&&this.funcMap[e].apply(this.funcMap[e],t)},O.prototype.clear=function(){this.funcMap=Object.create(null)},O);function k(e){var t=new Date(e);return t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate()+" "+t.getHours()+":"+t.getMinutes()}},T1AV:function(e,t,n){var g=n("t2Dn"),m=n("5Tg0"),v=n("yP5f"),y=n("Q1l4"),b=n("+iFO"),E=n("03A+"),_=n("Z0cm"),C=n("3L66"),T=n("DSRE"),O=n("lSCD"),k=n("GoyQ"),S=n("YO3V"),w=n("c6wG"),I=n("itsj"),x=n("jeLo");function r(e,t,n,r,i,o,a){var s,c,u,l,d,p=I(e,n),f=I(t,n),h=a.get(f);h?g(e,n,h):((s=void 0===(d=o?o(p,f,n+"",e,t,a):void 0))&&(u=!(c=_(f))&&T(f),l=!c&&!u&&w(f),d=f,c||u||l?d=_(p)?p:C(p)?y(p):u?m(f,!(s=!1)):l?v(f,!(s=!1)):[]:S(f)||E(f)?E(d=p)?d=x(p):k(p)&&!O(p)||(d=b(f)):s=!1),s&&(a.set(f,d),i(d,f,r,o,a),a.delete(f)),g(e,n,d))}e.exports=r},T2iA:function(e,t){var i,o,a;function s(){i=window.addEventListener?"addEventListener":"attachEvent",o=window.removeEventListener?"removeEventListener":"detachEvent",a="addEventListener"!==i?"on":""}t.bind=function(e,t,n,r){return i||s(),e[i](a+t,n,r||!1),n},t.unbind=function(e,t,n,r){return o||s(),e[o](a+t,n,r||!1),n}},T7Wt:function(e,t,n){"use strict";var r=n("lwsE"),i=n.n(r),o=n("W8MJ"),a=n.n(o),s=n("a1gu"),c=n.n(s),u=n("Nsbk"),l=n.n(u),d=n("7W2i"),p=n.n(d),f=n("q1tI"),h=n.n(f),g=(n("17x9"),n("nHtH")),m=function(e){function n(e){var t;return i()(this,n),(t=c()(this,l()(n).call(this,e))).updateVisibilityChange=function(){var e;"hidden"===document.visibilityState?t.timer&&(clearInterval(t.timer),t.timer=null):(e=t.props.intervalTime,t.updateDate(),t.timer||(t.timer=setInterval(t.updateDate,e)))},t.updateDate=function(){var e=Object(g.c)(t.props.time);t.state.time!==e&&t.setState({time:e})},t.state={time:Object(g.c)(t.props.time)},t}return p()(n,e),a()(n,[{key:"componentDidMount",value:function(){var e=this.props.intervalTime;this.timer=setInterval(this.updateDate,e),document.addEventListener("visibilitychange",this.updateVisibilityChange),this.updateVisibilityChange()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.props.time!==e.time&&this.setState({time:Object(g.c)(e.time)})}},{key:"shouldComponentUpdate",value:function(e,t){return this.state.time!==t.time}},{key:"componentWillUnmount",value:function(){this.timer&&(clearInterval(this.timer),this.timer=null),document.removeEventListener("visibilitychange",this.updateVisibilityChange)}},{key:"render",value:function(){var e=this.props,t=e.className,n=void 0===t?"":t,r=e.prefix,i=void 0===r?"":r;return h.a.createElement("span",{className:n},i||"",this.state.time)}}]),n}(f.Component);m.defaultProps={intervalTime:2e4},t.a=m},T8tx:function(e,t,n){var i=n("ulEd"),o=n("2lMS"),a=n("wclG"),s=n("/lCS");function r(e,t,n){var r=t+"";return a(e,o(r,s(i(r),n)))}e.exports=r},TAZq:function(e,t,n){e.exports=function(l){var d="/*|*/",p=d+"}";function f(e){if(e)try{l(e+"}")}catch(e){}}return function(e,t,n,r,i,o,a,s,c,u){switch(e){case 1:if(0===c&&64===t.charCodeAt(0))return l(t+";"),"";break;case 2:if(0===s)return t+d;break;case 3:switch(s){case 102:case 112:return l(n[0]+t),"";default:return t+(0===u?d:"")}case-2:t.split(p).forEach(f)}}}},TBry:function(e,t,n){"use strict";n.d(t,"a",function(){return b}),n.d(t,"b",function(){return E});var r=n("lwsE"),i=n.n(r),o=n("W8MJ"),a=n.n(o),s=n("cDf5"),c=n.n(s),u=n("q1tI"),l=n.n(u),d=n("YNKm"),p=n("YWBl"),f=n("7Kxq"),h=n("F9bh"),g=n("y2sV"),m=n("OWch"),v=n("Nl7c"),y=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":c()(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;0<=s;s--)(i=e[s])&&(a=(o<3?i(a):3<o?i(t,n,a):i(t,n))||a);return 3<o&&a&&Object.defineProperty(t,n,a),a},b="IGNORE_STRIKE_THROUGH",E=function(){function t(e){var a=this;i()(this,t),this.editor=e,this.className="Strikethrough",this.aceInitialized=function(e,t){a.register(t.editorInfo)},this.register=function(e){e.commands.registerAceCommand(d.X.toLowerCase(),function(e,t,n,r){var i=r.source,o=a.toggleAttribute({attribKey:"strikethrough",attribValue:!0});Object(p.a)({action:"strikethrough",op:o?f.g:f.f,source:i})},{statusKey:"strikethrough-true"})},this.aceAttribsToClasses=function(e,t){return"strikethrough"===t.key?["tag:s"]:null},this.editor=e,this.register(e)}return a()(t,[{key:"toggleAttribute",value:function(e){var t=e.attribKey,n=e.attribValue,r=e.range,i=e.isSpecialSelection,o=e.isAllHasAttrib,a=r.selStart,s=r.selEnd,c=r.attributeManager;return i?(c.setAttributesOnRange(a,s,[[t,o?"":n]]),o):this.editor.toggleAttributeOnSelection(t,r,n)}},{key:"serialize",value:function(e){return Object(g.P)(e,{tagAttribute:d.X,wrapTag:g.a[d.X]})}},{key:"match",value:function(e){return"strikethrough"===e}},{key:"deserialize",value:function(e){var t=e.node,n=e.deltaSet,r=e.zoneId;if(t instanceof HTMLElement){var i=t.tagName,o=t.getAttribute("style")||"";if("S"===i||"DEL"===i||"STRIKE"===i||/\btext-decoration(-line)?:[^;]*line-through\b/i.test(o))return Object(g.H)(n,r,{strikethrough:"true"})}return n}},{key:"render",value:function(e){var t=e.children;return l.a.createElement(g.w,{style:{textDecoration:"line-through"}},t)}}]),t}();y([Object(h.a)()],E.prototype,"toggleAttribute",null),y([m.a,Object(v.b)()],E.prototype,"render",null)},TEMH:function(e,t,n){e.exports=n("A9Lq")},TJjI:function(e,t,n){"use strict";var r,i;n.d(t,"a",function(){return r}),(i=r=r||{}).EQUAL="equal",i.ALLOW_DOWN="allow_down",i.NEAR="near",i.ALLOW_UP="allow_up",i.ALLOW_UP_DEFAULT="allow_up_default"},TK5s:function(e,t,n){"use strict";var r=n("Dpjh"),i={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:n("XZ2T").a,variable:"",imports:{_:{escape:r.a}}};t.a=i},TR4g:function(e,t){e.exports={Text:"text",Directive:"directive",Comment:"comment",Script:"script",Style:"style",Tag:"tag",CDATA:"cdata",Doctype:"doctype",isTag:function(e){return"tag"===e.type||"script"===e.type||"style"===e.type}}},TS0X:function(e,t){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMjRweCIgaGVpZ2h0PSIyNHB4IiB2aWV3Qm94PSIwIDAgMjQgMjQiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDU2LjMgKDgxNzE2KSAtIGh0dHBzOi8vc2tldGNoLmNvbSAtLT4KICAgIDx0aXRsZT5pY29uX3Rvb2xfY2FyZHZpZXdfbm9yPC90aXRsZT4KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPgogICAgPGcgaWQ9IldlYi0xNioxNiIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+CiAgICAgICAgPGcgaWQ9IkFydGJvYXJkIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtODU0LjAwMDAwMCwgLTU2Ni4wMDAwMDApIj4KICAgICAgICAgICAgPGcgaWQ9Imljb25fdG9vbF9jYXJkdmlld19ub3IiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDg1NC4wMDAwMDAsIDU2Ni4wMDAwMDApIj4KICAgICAgICAgICAgICAgIDxyZWN0IGlkPSJiZyIgZmlsbC1ydWxlPSJub256ZXJvIiB4PSIwIiB5PSIwIiB3aWR0aD0iMjQiIGhlaWdodD0iMjQiPjwvcmVjdD4KICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik01LjgsOS44IEw1LjgsMTQuMiBMMTguMiwxNC4yIEwxOC4yLDkuOCBMNS44LDkuOCBaIE01LjgxMjUwMDU1LDE4LjMgTDE4LjE4OTE3MTUsMTguMyBMMTguMTg5MTcxNSwxOC42MjUgQzE4LjE4OTE3MTUsMTguNDk4ODQyNSAxOC4yNDg5MTQ0LDE4LjM3OTgxNzcgMTguMzQ4MDI4NCwxOC4zIEwxOC42MzkxNzE1LDE4LjMgQzE4LjU2MDEyOTksMTguMyAxOC40ODc4NDA3LDE4LjI4MTY5ODggMTguNDI1NDE4NSwxOC4yNSBDMTguNDg3ODQwNywxOC4yMTgzMDEyIDE4LjU2MDEyOTksMTguMiAxOC42MzkxNzE1LDE4LjIgTDE4LjM0ODAyODQsMTguMiBDMTguMjQ4OTE0NCwxOC4xMjAxODIzIDE4LjE4OTE3MTUsMTguMDAxMTU3NSAxOC4xODkxNzE1LDE3Ljg3NSBMMTguMTg5MTcxNSwxOC4yIEw1LjgxMjUwMDU1LDE4LjIgTDUuODEyNTAwNTUsMTcuODc1IEM1LjgxMjUwMDU1LDE4LjAwMTE1NzUgNS43NTI3NTc1OSwxOC4xMjAxODIzIDUuNjUzNjQzNTksMTguMiBMNS4zNjI1MDA1NSwxOC4yIEM1LjQ0MTU0MjE1LDE4LjIgNS41MTM4MzEyNywxOC4yMTgzMDEyIDUuNTc2MjUzNTIsMTguMjUgQzUuNTEzODMxMjcsMTguMjgxNjk4OCA1LjQ0MTU0MjE1LDE4LjMgNS4zNjI1MDA1NSwxOC4zIEw1LjY1MzY0MzU5LDE4LjMgQzUuNzUyNzU3NTksMTguMzc5ODE3NyA1LjgxMjUwMDU1LDE4LjQ5ODg0MjUgNS44MTI1MDA1NSwxOC42MjUgTDUuODEyNTAwNTUsMTguMyBaIE01LjY0MTE0MzA0LDUuOCBMNS44LDUuOCBMNS44LDUuNyBMNS42NDExNDMwNCw1LjcgQzUuNTY0NDk4NTgsNS43NjE3MjI2OSA1LjQ2NDMxMDc3LDUuOCA1LjM1LDUuOCBMNS42NDExNDMwNCw1LjggQzUuNzQwMjU3MDQsNS44Nzk4MTc2NyA1LjgsNS45OTg4NDI1MyA1LjgsNi4xMjUgTDUuOCw1LjggTDE4LjIsNS44IEwxOC4yLDYuMTI1IEMxOC4yLDUuOTk4ODQyNTMgMTguMjU5NzQzLDUuODc5ODE3NjcgMTguMzU4ODU3LDUuOCBMMTguNjUsNS44IEMxOC41NzA5NTg0LDUuOCAxOC40OTg2NjkzLDUuNzgxNjk4ODQgMTguNDM2MjQ3LDUuNzUgQzE4LjQ5ODY2OTMsNS43MTgzMDExNiAxOC41NzA5NTg0LDUuNyAxOC42NSw1LjcgTDE4LjM1ODg1Nyw1LjcgQzE4LjI1OTc0Myw1LjYyMDE4MjMzIDE4LjIsNS41MDExNTc0NyAxOC4yLDUuMzc1IEwxOC4yLDUuNyBMNS44LDUuNyBMNS44LDUuMzc1IEM1LjgsNS41MDExNTc0NyA1Ljc0MDI1NzA0LDUuNjIwMTgyMzMgNS42NDExNDMwNCw1LjcgTDUuMzUsNS43IEM1LjQ2NDMxMDc3LDUuNyA1LjU2NDQ5ODU4LDUuNzM4Mjc3MzEgNS42NDExNDMwNCw1LjggWiIgaWQ9Imljb25fdG9vbF9jYXJkLXZpZXdfbm9yIiBzdHJva2U9IiMyQjJGMzYiIHN0cm9rZS13aWR0aD0iMS42Ij48L3BhdGg+CiAgICAgICAgICAgIDwvZz4KICAgICAgICA8L2c+CiAgICA8L2c+Cjwvc3ZnPg=="},TYER:function(e,t,n){"use strict";n.d(t,"a",function(){return d}),n.d(t,"b",function(){return Y}),n.d(t,"c",function(){return u}),n.d(t,"d",function(){return i}),n.d(t,"e",function(){return O}),n.d(t,"f",function(){return K}),n.d(t,"g",function(){return s}),n.d(t,"h",function(){return T}),n.d(t,"i",function(){return C}),n.d(t,"j",function(){return U});var C,r,i,o,T,a,s,c,u,l,d,p,O,f,h=n("cDf5"),g=n.n(h),k=n("UXvI"),S=n("XhtD"),m=n("vJtL"),v=n("YHdI"),y=n("4O8T"),w=n.n(y);(r=C=C||{})[r.SUCCESS=0]="SUCCESS",r[r.FAILED=1]="FAILED",r[r.INVALID_PARAM=2]="INVALID_PARAM",r[r.NOT_FOUND=3]="NOT_FOUND",r[r.FORBIDDEN=4]="FORBIDDEN",r[r.LOGIN_REQUIRED=5]="LOGIN_REQUIRED",r[r.LIMIT_EXCEED=6]="LIMIT_EXCEED",r[r.CHANGESET_LIMIT_EXCEED=1001]="CHANGESET_LIMIT_EXCEED",r[r.OBJECT_DELETED=1002]="OBJECT_DELETED",r[r.NOT_IN_SESSION=1003]="NOT_IN_SESSION",r[r.CHAGESET_INVALID=1005]="CHAGESET_INVALID",r[r.INTERNAL_ERROR=1006]="INTERNAL_ERROR",r[r.INVALID_MESSAGE=1007]="INVALID_MESSAGE",r[r.SYNC_FAILED=1008]="SYNC_FAILED",r[r.VERSION_TOO_OLD=1010]="VERSION_TOO_OLD",r[r.WRITE_PERMISSION_DENIED=1012]="WRITE_PERMISSION_DENIED",r[r.COMMENT_PERMISSION_DENIED=1013]="COMMENT_PERMISSION_DENIED",r[r.SERVICE_ERROR=1015]="SERVICE_ERROR",r[r.DATABASE_CONFLICT=1021]="DATABASE_CONFLICT",r[r.SERVER_BUSY=9998]="SERVER_BUSY",r[r.MISSING_VERSION_VERIFY_FAILED=-1101]="MISSING_VERSION_VERIFY_FAILED",r[r.RETRY_OVER_TIMES=-1102]="RETRY_OVER_TIMES",(o=i=i||{}).JSON="JSON",o.MESSAGE_BOX="MESSAGE_BOX",o.DOC="DOC",(a=T=T||{}).USER_NEWINFO="USER_NEWINFO",a.USER_LEAVE="USER_LEAVE",a.CLIENT_VARS="CLIENT_VARS",a.GET_VERSION="GET_VERSION",a.ENGAGEMENT_CURSOR="ENGAGEMENT_CURSOR",a.WATCH="WATCH",a.ACCEPT_WATCH="ACCEPT_WATCH",a.ACCEPT_COMMIT="ACCEPT_COMMIT",a.NEW_CHANGES="NEW_CHANGES",a.GET_MESSAGE="GET_MESSAGE",a.USER_CHANGES="USER_CHANGES",a.MESSAGE_CHANNEL="MESSAGE_CHANNEL",a.ROOM_MEMBERS="ROOM_MEMBERS",a.ERROR="ERROR",a.MESSAGE="MESSAGE",(c=s=s||{}).ENGINE_CHANNEL="engine_channel",c.MEMBER_CHANNEL="member_channel",(l=u=u||{}).Content="content",l.Note="note",l.Topic="topic",l.Title="title",l.Image="image",l.None="none",(p=d=d||{})[p.MISSING_VERSION_TOO_MANY=0]="MISSING_VERSION_TOO_MANY",p[p.MISSING_VERSION_VERIFY_FAILED=1]="MISSING_VERSION_VERIFY_FAILED",(f=O=O||{}).CLIENT_ERROR="CLIENT_ERROR",f.RESPONSE_ERROR="RESPONSE_ERROR";var I=function(){return(I=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function b(e,t){var n={};for(i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]]);return n}function E(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":g()(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;0<=s;s--)(i=e[s])&&(a=(o<3?i(a):3<o?i(t,n,a):i(t,n))||a);return 3<o&&a&&Object.defineProperty(t,n,a),a}function _(e,t){if("object"===("undefined"==typeof Reflect?"undefined":g()(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function x(e,a,n,s){function c(t){return t instanceof n?t:new n(function(e){e(t)})}return new(n=n||Promise)(function(t,n){function r(e){try{o(s.next(e))}catch(e){n(e)}}function i(e){try{o(s.throw(e))}catch(e){n(e)}}function o(e){e.done?t(e.value):c(e.value).then(r,i)}o((s=s.apply(e,a||[])).next())})}function L(e,n){var r,i,o,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},t={next:s(0),throw:s(1),return:s(2)};return"function"==typeof Symbol&&(t[Symbol.iterator]=function(){return this}),t;function s(t){return function(e){return c([t,e])}}function c(t){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,i&&(o=2&t[0]?i.return:t[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,t[1])).done)return o;switch(i=0,o&&(t=[2&t[0],o.value]),t[0]){case 0:case 1:o=t;break;case 4:return a.label++,{value:t[1],done:!1};case 5:a.label++,i=t[1],t=[0];continue;case 7:t=a.ops.pop(),a.trys.pop();continue;default:if(!(o=0<(o=a.trys).length&&o[o.length-1])&&(6===t[0]||2===t[0])){a=0;continue}if(3===t[0]&&(!o||t[1]>o[0]&&t[1]<o[3])){a.label=t[1];break}if(6===t[0]&&a.label<o[1]){a.label=o[1],o=t;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(t);break}o[2]&&a.ops.pop(),a.trys.pop();continue}t=n.call(e,a)}catch(e){t=[6,e],i=0}finally{r=o=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}}function R(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function N(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||0<t--)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function D(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(N(arguments[t]));return e}function M(e){return e&&"function"==typeof e.then}function P(a){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e[2],i=(n.get,n.set,n.writable,n.value),r=b(n,["get","set","writable","value"]);if(!Object(m.default)(i))return n;var o=new Map;return I(I({},r),{value:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e[0]||a;if(!o.get(n)){var r=i.call.apply(i,D([this],e));return M(r)?(o.set(n,!0),r.then(function(e){return o.delete(n),e}).catch(function(e){throw o.delete(n),e})):console.error("should return an Promise")}}})}}function j(t){return new Promise(function(e){setTimeout(function(){e()},t)})}var F=(B.prototype.log=function(e,t){this.loggable&&console.log(this.prefix,e,t)},B.prototype.enable=function(){this.loggable=!0},B.prototype.disable=function(){this.loggable=!1},B);function B(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.loggable=!0,this.prefix="["+e.join("][")+"]"}var U=(H.prototype._log=function(e,t){void 0===t&&(t={}),this._logger.log(e,I(I({},this._loggerOptions),t))},Object.defineProperty(H.prototype,"NEW_CHANGES",{get:function(){return this._alias&&this._alias[T.NEW_CHANGES]||T.NEW_CHANGES},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"CLIENT_VARS",{get:function(){return this._alias&&this._alias[T.CLIENT_VARS]||T.CLIENT_VARS},enumerable:!0,configurable:!0}),H.prototype.registerEntity=function(){return x(this,void 0,void 0,function(){var t,n,r,i,o,a=this;return L(this,function(e){switch(e.label){case 0:return t={interval:1,callback:function(e){var t=a._version;e<=t||(console.log("engine: local: "+t+", remote: "+e),a.fetchMissVersionWithLimitingFrequency(e))}},n=Object.values(this.channels).reduce(function(e,t){var n,r=t.channel,i=t.heartbeat;return r&&i?I(I({},e),((n={})[r]=i,n)):e},((o={})[s.ENGINE_CHANNEL]=t,o)),r=this.generateWatchEntity(),i={handler:this.handleMessageFromServer,filter:r},[4,Promise.resolve(this._io.isEntityRegistered(r))];case 1:return e.sent()?(this._io.addHeartbeat(r,s.ENGINE_CHANNEL,t),this._io.addMessage(r,s.ENGINE_CHANNEL,i)):this._io.register(r,{message:i,heartbeats:n,acceptWatchHandler:this.handleAcceptWatch,isNewHeartbeatsProtocol:this._isNewProtocol}),[2]}})})},H.prototype.generateWatchEntity=function(){return I(I({type:this._syncType,token:this._token},this._requestDataOptions),this._requestWatchDataOptions)},H.prototype.syncEngineBaseRev=function(e){this.syncBaseRev("engine_channel",e)},H.prototype.syncBaseRev=function(e,t){this._receiveClientVars&&this._io.setHeartbeatVersion({type:this._syncType,token:this._token},e,t)},H.prototype.verrifyFetchMiss=function(e,t){return t[0]===e[0]},H.prototype.fetchMissVersionWithLimitingFrequency=function(e){e>this._latestVersion&&(this._latestVersion=e),this.fetchMissVersionFromCurrentToLatest()},H.prototype.fetchMissVersion=function(i){var o=this;if(this._receiveClientVars){if(!this._isFetching){var e=i[0];return i[i.length-1]-e>this.missVersionLimit?(this._log("dev_sync_fetch_missing_version_too_old"),void this.emit(T.ERROR,{type:O.RESPONSE_ERROR,msg:"version too old",code:C.VERSION_TOO_OLD,requestType:T.NEW_CHANGES})):0!==i.length?(this._log("dev_sync_fetch_missing",{rev_list:i,version:this._version}),this._isFetching=!0,(this._isNewProtocol&&this._request&&this._requestAPI?this.autoRetryRequestDoNotRelyOnIO(this._requestAPI.NEW_CHANGES,{member_id:this.memberId,token:this._token,rev_list:i}).then(function(e){return o.tryHandleErrorV2(e,T.NEW_CHANGES)}).then(function(e){var t,n=e.data,r=o.getChangesets(n);r?(t=r.sort(function(e,t){return o.getVersionOfChangeset(e)-o.getVersionOfChangeset(t)}).map(function(e){return o.getVersionOfChangeset(e)}),o.verrifyFetchMiss(i,t)?(V("NEW_CHANGES",e),o.handleNewChanges(n)):(o._log("dev_sync_fetch_missing_verrify_failed",{version:o._version,fetching_list:i,fetched_verion:t}),o.emit(T.ERROR,{code:C.MISSING_VERSION_VERIFY_FAILED,type:O.CLIENT_ERROR,msg:"fetched missing version verrified failed",options:{send:i,receive:t}}))):o._log("dev_sync_fetch_missing_no_changes")}):this.autoRetryRequest({type:this.NEW_CHANGES,member_id:this.memberId,token:this._token,rev_list:i},v.c.http).then(function(e){return o.tryHandleError(e,T.NEW_CHANGES)}).then(function(e){var t,n=e.data,r=o.getChangesets(n);r?(t=r.sort(function(e,t){return o.getVersionOfChangeset(e)-o.getVersionOfChangeset(t)}).map(function(e){return o.getVersionOfChangeset(e)}),o.verrifyFetchMiss(i,t)?o.handleMessageFromServer(e):(o._log("dev_sync_fetch_missing_verrify_failed",{version:o._version,fetching_list:i,fetched_verion:t}),o.emit(T.ERROR,{code:C.MISSING_VERSION_VERIFY_FAILED,type:O.CLIENT_ERROR,msg:"fetched missing version verrified failed",options:{send:i,receive:t}}))):o._log("dev_sync_fetch_missing_no_changes")})).finally(function(){o._log("dev_sync_fetch_missing_end",{rev_list:i,version:o._version}),o._isFetching=!1})):void this._log("dev_sync_fetch_missing_versions_is_empty",{version:this._version})}}else this._log("dev_sync_fetch_missing_before_client_vars")},H.prototype.verifyMessage=function(e){return e.type===this._syncType&&(e.data&&e.data.type===T.ERROR?e.token===this._token:e.data&&e.data.token===this._token)},H.prototype.autoRetryRequestDoNotRelyOnIO=function(r,i,o){return void 0===o&&(o=0),x(this,void 0,void 0,function(){var t,n;return L(this,function(e){switch(e.label){case 0:return e.trys.push([0,4,,6]),[4,this._request({url:r,method:"post",headers:I({"Content-Type":"application/json"},this._requestExceptWatchHeaderOptions),data:I(I({},i),this._requestDataOptions)})];case 1:return t=e.sent(),o<=0?[2,t]:t.code!==C.SERVICE_ERROR&&t.code!==C.DATABASE_CONFLICT?[3,3]:[4,j(3/o*1e3)];case 2:return e.sent(),this._log("dev_sync_request_retry_since_code",{retry:o,res_code:t.code,rev:this.version}),console.warn("[sync] retry request by server code"),[2,this.autoRetryRequestDoNotRelyOnIO(r,i,o-1)];case 3:return[3,6];case 4:if(n=e.sent(),o<=0)throw console.error("[sync] error response when io reject"),n;return[4,j(3/o*1e3)];case 5:return e.sent(),this._log("dev_sync_request_retry_since_reject",{retry:o,rev:this.version}),console.warn("[sync] retry request by net error"),[2,this.autoRetryRequestDoNotRelyOnIO(r,i,o-1)];case 6:return[2,t]}})})},H.prototype.autoRetryRequest=function(r,i,o){return void 0===i&&(i=v.c.http),void 0===o&&(o=0),x(this,void 0,void 0,function(){var t,n;return L(this,function(e){switch(e.label){case 0:return e.trys.push([0,4,,6]),[4,this._io.request(I({type:this._syncType,data:I(I({},r),this._requestDataOptions)},this._requestMessageOptions),{channel:i})];case 1:return t=e.sent(),o<=0?[2,t]:t.code!==C.SERVICE_ERROR&&t.data.code!==C.SERVICE_ERROR&&t.data.code!==C.DATABASE_CONFLICT?[3,3]:[4,j(3/o*1e3)];case 2:return e.sent(),this._log("dev_sync_request_retry_since_code",{retry:o,res_code:t.code,data_code:t.data.code,rev:this.version}),console.warn("[sync] retry request by server code"),[2,this.autoRetryRequest(r,v.c.http,o-1)];case 3:return[3,6];case 4:if(n=e.sent(),o<=0)throw console.error("[sync] error response when io reject"),n;return[4,j(3/o*1e3)];case 5:return e.sent(),this._log("dev_sync_request_retry_since_reject",{retry:o,rev:this.version}),console.warn("[sync] retry request by net error"),[2,this.autoRetryRequest(r,v.c.http,o-1)];case 6:return[2,t]}})})},H.prototype.handleChannelMessage=function(e){var t,n,r,i,o,a=e.type,s=this._channelMessageMap.get(a);s&&(t=s.getVersionOfChannelMessage,n=s.channel,r=s.refetchMessageIfVersionBreak,t&&n&&(i=t(e),(o=(this.io.getHeartbeatInfo(this.syncType,this.token)||{})[n].version)&&o+1<i&&r?r(o,i):this.syncBaseRev(n,i)),s.onChannelMessage&&s.onChannelMessage(e))},H.prototype.emit=function(e,t){this._em.emit(e,t)},H.prototype.on=function(e,t){this._em.on(e,t)},H.prototype.off=function(e,t){this._em.off(e,t)},Object.defineProperty(H.prototype,"version",{get:function(){return this._version},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"memberId",{get:function(){return this._io.getMemberId()+""},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"token",{get:function(){return this._token},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"io",{get:function(){return this._io},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"channels",{get:function(){return this._channels},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"syncType",{get:function(){return this._syncType},enumerable:!0,configurable:!0}),Object.defineProperty(H.prototype,"receiveClientVars",{get:function(){return this._receiveClientVars},enumerable:!0,configurable:!0}),H.prototype.setClientVars=function(e){this.handleClientVars(e)},H.prototype.fetchClientVars=function(c){return void 0===c&&(c={}),x(this,void 0,void 0,function(){var t,n,r,i,o,a,s=this;return L(this,function(e){switch(e.label){case 0:return this._log("dev_fetch_client_vars"),this._isNewProtocol&&this._request&&this._requestAPI?[4,this.autoRetryRequestDoNotRelyOnIO(this._requestAPI.CLIENT_VARS,I({token:this._token,member_id:this.memberId},c),3).then(function(e){return s.tryHandleErrorV2(e,T.CLIENT_VARS)})]:[3,2];case 1:return(t=e.sent()).code!==C.SUCCESS?(console.error("fetchClientVars failed: ",t.data),[2,Promise.reject(t.data)]):(n=t.data,r=this.getVersionOfClientVars(n),this.handleClientVars(r),[2,n]);case 2:return[4,this.autoRetryRequest(I({type:this.CLIENT_VARS,token:this._token,member_id:this.memberId},c),v.c.http,3).then(function(e){return s.tryHandleError(e,T.CLIENT_VARS)})];case 3:return(i=e.sent()).data.type===T.ERROR?(console.error("fetchClientVars failed: ",i.data),[2,Promise.reject(i.data)]):(o=i.data,a=this.getVersionOfClientVars(o),this.handleClientVars(a),[2,o])}})})},H.prototype.handleClientVars=function(e){var t=this;this._log("dev_handle_client_vars",{version:e}),this._receiveClientVars=!0,this._version=e,this.syncEngineBaseRev(this._version);var n=this.generateWatchEntity();this._io.watch(n,{isNewProtocol:this._isNewProtocol}).catch(function(e){t._log("dev_watch_failed"),t.emit(T.ERROR,I(I({},e),{type:O.RESPONSE_ERROR,requestType:T.WATCH}))})},H.prototype.sendUserChange=function(e){var n=this;return this._log("dev_user_changes",{local_rev:this._version,rev:this._version+1}),this._isNewProtocol&&this._request&&this._requestAPI?this.autoRetryRequestDoNotRelyOnIO(this._requestAPI.USER_CHANGES,I({token:this._token,type:T.USER_CHANGES,member_id:this.memberId},e),3).then(function(e){return n.tryHandleErrorV2(e,T.USER_CHANGES)}).then(function(e){var t=e.data;V("ACCEPT_COMMIT",e),n.handleAcceptCommit(t),n.emit(T.MESSAGE,e)}):this.autoRetryRequest(I({token:this._token,type:T.USER_CHANGES,member_id:this.memberId},e),v.c.socket,3).then(function(e){return n.tryHandleError(e,T.USER_CHANGES)}).then(this.handleMessageFromServer)},H.prototype.destroy=function(){var e,t;null!==(t=(e=this.fetchMissVersionFromCurrentToLatest).cancel)&&void 0!==t&&t.call(e);var n=this.generateWatchEntity();this._io.removeMessage(n,s.ENGINE_CHANNEL),this._io.removeHeartbeat(n,s.ENGINE_CHANNEL),this._io.unRegister(n),this._em.removeEvent()},H);function H(e){var t,n,p=this,r=e.io,i=e.type,o=e.token,a=e.alias,s=e.requestMessageOptions,c=e.requestDataOptions,u=e.requestWatchDataOptions,l=e.requestExceptWatchHeaderOptions,d=e.request,f=e.requestAPI,h=e.isNewProtocol,g=e.registerChannels,m=e.logger,v=e.fetchMissWait,y=void 0===v?1e3:v;this._version=1,this._receiveClientVars=!1,this._loggerOptions={},this._em=new w.a,this._channelMessageMap=new Map,this._isFetching=!1,this._isNewProtocol=!1,this._latestVersion=1,this.tryHandleError=function(e,t){var n,r,i=e.data,o=e.request_id;return i.type===T.ERROR&&(n=i.code,r=i.msg,p._log("dev_sync_error",{code:n,requestType:t,msg:r,requestId:o}),p.emit(T.ERROR,I(I({},i),{type:O.RESPONSE_ERROR,requestType:t}))),e},this.tryHandleErrorV2=function(e,t){var n=e.code,r=e.msg;return n!==C.SUCCESS&&(p._log("dev_sync_error",{code:n,requestType:t,msg:r}),p.emit(T.ERROR,I(I({},e),{type:O.RESPONSE_ERROR,requestType:t}))),e},this.fetchMissVersionFromCurrentToLatest=function(){p._version>=p._latestVersion||p.fetchMissVersion(Object(S.a)(p._version+1,p._latestVersion+1))},this.handleMessageFromServer=function(e){if(!e.data)return p.emit(T.MESSAGE,e),e;if(z(e),!p.verifyMessage(e))return p.emit(T.MESSAGE,e),e;var t=e.data;switch(t.type){case p.NEW_CHANGES:p.handleNewChanges(t);break;case T.ACCEPT_COMMIT:p.handleAcceptCommit(t);break;default:p.handleChannelMessage(t)}return p.emit(T.MESSAGE,e),e},this.handleAcceptWatch=function(e){var t,n,r=e.data.entities,i=p._version;p.emit(T.ACCEPT_WATCH);try{for(var o=R(r),a=o.next();!a.done;a=o.next()){var s=a.value,c=s.type,u=s.token,l=s.version;if(c===p._syncType&&u===p._token)return void(l&&i<l&&p.fetchMissVersionWithLimitingFrequency(l))}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}},this.handleNewChanges=function(e){var t,n;if(e.over_size){var r=p.getVersionOfOversize(e);return(p._log("dev_sync_new_changes_oversize",{version:r,rev:p.version}),r<=p._version)?void p._log("dev_sync_new_changes_oversize_return"):void p.fetchMissVersionWithLimitingFrequency(r)}var i=p.getChangesets(e);if(p._log("dev_sync_new_changes",{rev_list:i.map(function(e){return p.getVersionOfChangeset(e)}),rev:p._version}),i.length)if(i.sort(function(e,t){return p.getVersionOfChangeset(e)-p.getVersionOfChangeset(t)}),p.getVersionOfChangeset(i[0])>p._version+1){var o=i[i.length-1],a=p.getVersionOfChangeset(o);p.fetchMissVersionWithLimitingFrequency(a)}else try{for(var s=R(i),c=s.next();!c.done;c=s.next()){var u=c.value,l=p.getVersionOfChangeset(u);if(!(l<=p._version)){if(l>p._version+1)break;var d=p.version;if(p._version=l,p.syncEngineBaseRev(p._version),p.isSelfChangeset(u))return p._log("dev_sync_new_changes_ack",{rev:p.version}),void p.emit(T.ACCEPT_COMMIT,u);p._log("dev_sync_emit_new_changes",{oldVersion:d,rev:p.version}),p.emit(T.NEW_CHANGES,u)}}}catch(e){t={error:e}}finally{try{c&&!c.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}},this.handleAcceptCommit=function(e){var t=p.getVersionOfAcceptCommit(e);p._log("dev_sync_ack",{rev:t,local_rev:p._version});var n=p._version;t===n+1?(p._version=t,p.syncEngineBaseRev(p._version),p.emit(T.ACCEPT_COMMIT,e)):n<t&&p.fetchMissVersionWithLimitingFrequency(t)},this.fetchMissVersionFromCurrentToLatest=Object(k.default)(this.fetchMissVersionFromCurrentToLatest,y),this._io=r,this._syncType=i,this._token=o,this._alias=a,this._requestMessageOptions=s||{},this._requestDataOptions=c||{},this._requestWatchDataOptions=u||{},this._requestExceptWatchHeaderOptions=l||{},this._request=d,this._requestAPI=f,this._isNewProtocol=Boolean(h),this._channels=g?g(this):{};var b=function(t){t.messageTypes&&Array.from(t.messageTypes).forEach(function(e){p._channelMessageMap.set(e,t)})};try{for(var E=R(Object.values(this.channels)),_=E.next();!_.done;_=E.next())b(_.value)}catch(e){t={error:e}}finally{try{_&&!_.done&&(n=E.return)&&n.call(E)}finally{if(t)throw t.error}}this._loggerOptions={sync_type:this._syncType,sync_token:window.encryptTea?window.encryptTea(this._token):""},this._logger=m||new F("DataJS","Sync",i),this.registerEntity()}function z(e){var t=e.data,n=t.type;"RESPONSE"===n||n===T.ENGAGEMENT_CURSOR||n===T.CLIENT_VARS&&"gzip_snapshot"in t||(n!==T.ERROR?console.log("received!",n,t.new_rev||t.revision||t.note_revision,e.request_id):console.error("received!",n,t.code,t.msg,e.request_id))}function V(e,t){var n=t.data;console.log("received!",e,n.new_rev||n.revision||n.note_revision,t)}var K=(Object.defineProperty(W.prototype,"messageTypes",{get:function(){return new Set([T.USER_LEAVE,T.USER_NEWINFO,T.ROOM_MEMBERS])},enumerable:!0,configurable:!0}),Object.defineProperty(W.prototype,"channel",{get:function(){return"member_channel"},enumerable:!0,configurable:!0}),Object.defineProperty(W.prototype,"heartbeat",{get:function(){var n=this;return{interval:1,callback:function(e,t){e<=t||(console.log("oldVersion: "+t+", newVersion: "+e),n.fetchRoomMembers())}}},enumerable:!0,configurable:!0}),W.prototype.getVersionOfChannelMessage=function(e){return e.version},W.prototype.fetchRoomMembers=function(){var r=this;return this.fetchMemberList().then(function(e){var t=e.data,n=t.version;r.setHeartbeatVersion(n),r.emit(T.ROOM_MEMBERS,t)})},W.prototype.setHeartbeatVersion=function(e){this.sync.io.setHeartbeatVersion({type:this.sync.syncType,token:this.sync.token},this.channel,e)},W.prototype.onChannelMessage=function(e){switch(e.type){case T.USER_NEWINFO:this.emit(T.USER_NEWINFO,e);break;case T.USER_LEAVE:this.emit(T.USER_LEAVE,e)}},W.prototype.on=function(e,t){this._em.on(e,t)},W.prototype.off=function(e,t){this._em.off(e,t)},W.prototype.emit=function(e,t){this._em.emit(e,t)},E([P(),_("design:type",Function),_("design:paramtypes",[]),_("design:returntype",void 0)],W.prototype,"fetchRoomMembers",null),W);function W(e,t){var n=this,r=t.fetchMemberList,i=t.shouldFetchMemberList;this.sync=e,this._em=new w.a,this.handleAcceptWatch=function(){n.fetchRoomMembers()},this.refetchMessageIfVersionBreak=function(e,t){t<=e+1||n.shouldFetchMemberList&&!1===n.shouldFetchMemberList()||n.fetchRoomMembers()},this.fetchMemberList=r,this.shouldFetchMemberList=i,e.on(T.ACCEPT_WATCH,this.handleAcceptWatch)}var Y=(Object.defineProperty(q.prototype,"messageTypes",{get:function(){return new Set([T.ENGAGEMENT_CURSOR])},enumerable:!0,configurable:!0}),q.prototype.onChannelMessage=function(e){this.emit(T.ENGAGEMENT_CURSOR,e)},q.prototype.on=function(e,t){this._em.on(e,t)},q.prototype.off=function(e,t){this._em.off(e,t)},q.prototype.emit=function(e,t){this._em.emit(e,t)},q);function q(){this._em=new w.a}},TYy9:function(e,t,n){var r=n("XGnz");function i(e){return(null==e?0:e.length)?r(e,1):[]}e.exports=i},TaAU:function(e,t,n){},TfC2:function(e,t,n){"use strict";n.d(t,"d",function(){return r}),n.d(t,"c",function(){return i}),n.d(t,"e",function(){return o}),n.d(t,"b",function(){return a}),n.d(t,"a",function(){return s}),n.d(t,"f",function(){return c});var r=64,i=2,o=r+2*i,a=34,s=20-2*i,c=9},Tj6G:function(e,t,n){},TqRt:function(e,t){function n(e){return e&&e.__esModule?e:{default:e}}e.exports=n},Tqb2:function(e,t,n){"use strict";n.d(t,"d",function(){return x}),n.d(t,"b",function(){return L}),n.d(t,"e",function(){return D}),n.d(t,"U",function(){return M}),n.d(t,"v",function(){return j}),n.d(t,"u",function(){return B}),n.d(t,"q",function(){return U}),n.d(t,"r",function(){return H}),n.d(t,"s",function(){return z}),n.d(t,"M",function(){return V}),n.d(t,"G",function(){return K}),n.d(t,"L",function(){return W}),n.d(t,"F",function(){return q}),n.d(t,"n",function(){return Z}),n.d(t,"o",function(){return X}),n.d(t,"f",function(){return Q}),n.d(t,"l",function(){return ee}),n.d(t,"m",function(){return te}),n.d(t,"c",function(){return ne}),n.d(t,"D",function(){return re}),n.d(t,"K",function(){return ae}),n.d(t,"w",function(){return se}),n.d(t,"t",function(){return ue}),n.d(t,"W",function(){return le}),n.d(t,"V",function(){return de}),n.d(t,"R",function(){return pe}),n.d(t,"p",function(){return fe}),n.d(t,"E",function(){return he}),n.d(t,"H",function(){return ge}),n.d(t,"k",function(){return me}),n.d(t,"h",function(){return ve}),n.d(t,"B",function(){return ye}),n.d(t,"T",function(){return be}),n.d(t,"y",function(){return Ee}),n.d(t,"J",function(){return _e}),n.d(t,"g",function(){return Ae}),n.d(t,"a",function(){return Te}),n.d(t,"I",function(){return Oe}),n.d(t,"j",function(){return ke}),n.d(t,"P",function(){return Se}),n.d(t,"Q",function(){return we}),n.d(t,"z",function(){return xe}),n.d(t,"x",function(){return Le}),n.d(t,"i",function(){return Re}),n.d(t,"C",function(){return Ne}),n.d(t,"S",function(){return De}),n.d(t,"O",function(){return Pe}),n.d(t,"N",function(){return je}),n.d(t,"A",function(){return Fe});var r=n("o0o1"),i=n.n(r),o=n("yXPU"),a=n.n(o),s=n("J4zp"),c=n.n(s),u=n("RIqP"),l=n.n(u),d=n("/xWd"),p=n("BpSZ"),_=n("j1lG"),C=n("Z/PY"),f=n("y2sV"),h=n("oTSI"),g=n("m8R6"),m=n("cGQV"),v=n("wN88"),y=n("3doy"),b=n("lQZd"),E=n("rLED"),T=n("elsr"),O=n("15MJ"),k=n("mWyS"),S=n("Pozx"),w=n("SQ87"),I=n("XB4d"),x=Array.prototype.flat?function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;return e.flat(t)}:d.a;function L(e){if(!Object(p.b)(e))return null;var t=p.a.exec(e);if(!t||!t[1])return null;var n=t[1],r=t[2];return fetch(e).then(function(e){return e.blob()}).then(function(e){var t="data-url-convert-to-file-".concat(Date.now(),".").concat(r);return new File([e],t,{type:n})}).catch(function(e){return console.error("data url convert to file fail.",e),null})}function R(e){var t=e.naturalWidth,n=e.naturalHeight,r=e.displayHeight,i=e.displayWidth,o=1,a=1,s=0,c=0;return t&&n&&(s=Object(C.m)(t,n)),r&&i&&(c=Object(C.m)(i,r)),0<s&&s!==o?a=s:0<c&&c!==o&&(a=c),a}var N=function(e){var t=e.natrualHeight,n=e.natrualWidth,r=e.width,i=e.height;("100%"===r||"auto"===i)&&n&&t&&(r=n,i=t);var o=parseInt(t,10),a=parseInt(n,10),s=parseInt(i,10),c=parseInt(r,10);return{naturalHeight:o,naturalWidth:a,displayHeight:s,displayWidth:c,aspectRatio:R({naturalWidth:a,naturalHeight:o,displayWidth:c,displayHeight:s})}};function D(e){var t,n,r,i,o,a,s,c,u=e.uuid,l=e.image_type,d=e.src,p=void 0===d?"":d,f=e.size,h=e.comments,g=decodeURIComponent(p),m=Object(C.w)(e)||g,v=Object(S.a)(m),y=Object(k.c)(m),b=N(e),E={};return"isLocalAttribs"in e&&(t=e.uploading,n=e.uploadProgress,r=e.intermediateSrc,i=e.loadingShowPreview,o=e.sourceFileToken,a=e.needTransformToGallery,s=e.needSaveDriveImage,c=e.needSaveExternal,Object.assign(E,{uploading:t,uploadProgress:n,intermediateSrc:r,imageCategory:_.D.Drive,loadingShowPreview:i,sourceFileToken:o,needTransformToGallery:a,needSaveDriveImage:s,needSaveExternal:c})),Object.assign({uuid:u,token:y,serverSrc:g,originSrc:m,imageCategory:v,mimeType:l||"",fileSize:f,comments:h,size:b},E)}function M(e){var t=null;try{t=JSON.parse(e)}catch(e){console.error("[image plugin] gallery attribsString is not json string:",e)}return t}function P(e){return!!e&&"IMG"===e.tagName}function j(e){if(P(e))return e.dataset.uuid;var t=$(e).find("img")[0];return t&&t.dataset&&t.dataset.uuid||null}function F(e){var t=[[_.M],[_.K]];return e.getEntities(t)}function B(e){return H(F(e))}function U(e){var t={},n=!0,r=!1,i=void 0;try{for(var o,a=e[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value,c=s.attributes,u=void 0===c?{}:c;if(u.author){var l=z(s),d=!0,p=!1,f=void 0;try{for(var h,g=l[Symbol.iterator]();!(d=(h=g.next()).done);d=!0)t[h.value.uuid]=u.author}catch(e){p=!0,f=e}finally{try{d||null==g.return||g.return()}finally{if(p)throw f}}}}}catch(e){r=!0,i=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}return t}function H(e){var n=[];return e.forEach(function(e){var t=z(e);if(t)return n.push.apply(n,l()(t))}),n}function z(e){var t,n,r=e.attributes;return r[_.K]?t=fe(_.K,r[_.K]):r[_.M]&&(n=t=fe(_.M,r[_.M]),c()(n,1)[0].comments=ke(r)),t||[]}function V(t){return t.attributes&&_.p.some(function(e){return!!t.attributes[e]})}function K(e){return e.attributes&&e.attributes.align&&"full"===e.attributes.align}function W(e){return e._getOps().some(function(e){return V(e)})}function Y(e,t){var n,r,i;Object(E.Q)()||t&&W(t)&&(r=(n=t._entry.getAllInstancesByName("gallery"))[n.length-1].id,i="image-upload-image-".concat(r),e.call("galleryImageChoosed",i))}function q(e,t){return Object(I.a)({editor:e,evt:t,isSpecialContent:function(e,t){return W(t)},selectContentCallback:function(e,t){return Y(e,t)}})}function Z(e,t){return e?t.selection._toModelRange({startContainer:e,startOffset:0,endContainer:e,endOffset:e.childNodes.length}):null}function X(n,e){return e.getEntities(function(e,t){return!!_.p.includes(e)&&t.includes(n.uuid)})}function Q(e){var t={items:[J(e)]};return JSON.stringify(t)}function J(e){var t=e.uuid,n=e.token,r=e.size,i=e.mimeType,o=e.fileSize,a=e.comments,s=void 0===a?[]:a,c=e.serverSrc,u=e.imageCategory,l=r.naturalHeight,d=r.naturalWidth,p=r.displayHeight,f=r.displayWidth,h=r.aspectRatio,g={uuid:t,src:encodeURIComponent(c),height:p.toString(),width:f.toString(),currHeight:p.toString(),currWidth:f.toString(),natrualHeight:l.toString(),natrualWidth:d.toString(),image_type:i,size:o,comments:s,pluginName:O.s,scale:h};return Object(S.b)(u)?g:Object.assign({},g,{file_token:n})}function ee(e){if(e.dataTransfer){var t=e.dataTransfer,n=t.items,r=t.files;if(n)return ie(n);if(r)return oe(r)}return[]}function te(e){return ee(e).filter(function(e){return ae(e)})}function ne(e){if(e.dataTransfer){var t=e.dataTransfer,n=t.items,r=t.files;return n?Array.from(n).some(function(e){return e.type.startsWith("image")}):!!r&&!!Array.from(r).some(function(e){return e.type.startsWith("image")})}return!1}function re(e){var t=(e.clipboardData||{}).files;return t?Array.from(t).filter(function(e){return ae(e)}):[]}function ie(e){if(!e.length)return[];for(var t=[],n=0,r=Array.from(e);n<r.length;n++){var i=r[n].getAsFile();i&&t.push(i)}return t}function oe(e){return Array.from(e)}function ae(e){return!!e.type&&!!e.type.match(/image\/(gif|jpg|jpeg|bmp|png)$/)}function se(e){var t=null;return e.getEntities([]).forEach(function(e){V(e)&&(t=e)}),t}function ce(t){return new Promise(function(n,e){t||e(new Error("get image rect failed for without src."));var r=new Image;r.onload=function(){var e=r.width,t=r.height;n({naturalHeight:t,naturalWidth:e})},r.onerror=function(){e(new Error("get image rect failed for load image error."))},r.src=t})}function ue(e){return{galleryAttribsString:e[_.K]||e[_.c],oldImageAttribsString:e[_.M]||e[_.d]}}function le(e){var t=ue(e),n=t.galleryAttribsString,r=t.oldImageAttribsString;if(n){var i=M(n);return i?i.items:[]}return r?[Object(m.c)(r)]:[]}function de(e){return le(e).map(function(e){return D(e)})}var pe=Object(h.a)(ce);function fe(e,t){return _.p.includes(e)&&t?(_.K.includes(e)?(n=M(t))&&(r=n.items.map(function(e){return D(e)})):r=[D(Object(m.c)(t))],r||null):null;var n,r}var he=function(e,t){var n=!(2<arguments.length&&void 0!==arguments[2])||arguments[2],r=3<arguments.length?arguments[3]:void 0,i=e.start,o=e.end,a=t.getContentState(),s=r?a.getZoneState(r):a.getActiveZone();if(n){var c=s.getLine(i.line),u=c.getOps(),l=u.length;if(u[0]&&u[0].insert===f.o&&l--,u[u.length-1]&&"\n"===u[u.length-1].insert&&l--,1===l)return{retainLen:s.pointToOffset({line:i.line,offset:0}),deleteLen:c.length(),isExclusive:!0}}var d=s.pointToOffset({line:i.line,offset:i.offset});return{retainLen:d,deleteLen:s.pointToOffset({line:o.line,offset:o.offset})-d,isExclusive:!1}};function ge(e,t,n){var r=e.line,i=e.zoneId,o=t.getContentState().getZoneState(i);if(!(r+1===o.length()))return!1;var a=o.getLine(r);return!!a&&n>=a.length()}function me(e,t){var n=Object(b.g)(),r={mountPoint:{type:y.MountPointType.DOC_IMAGE,token:n},coverOptions:t};return Object(v.e)(e,r)}function ve(e){return e.getEntities(_e)}function ye(e,t,n){return e.getEntities({start:t,end:n},_e)}function be(e){var t=e.map(function(e){return de(e.attributes)});return x(t)}function Ee(e,t){var n=t.line,r=t.zoneId;return r!==T.a?e.getLineNumInRootZone(r,n):n}function _e(e){return-1<_.p.indexOf(e)}function Ae(e){return Ce.apply(this,arguments)}function Ce(){return(Ce=a()(i.a.mark(function e(t){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(i,e){t||e("[image plugin] generateGifCover failed, no image src");var o=new Image;o.onload=function(){var e=document.createElement("canvas"),t=o.width,n=o.height;e.width=t,e.height=n;var r=e.getContext("2d");r&&(r.drawImage(o,0,0,t,n),i(e.toDataURL()))},o.onerror=e,o.src=t}));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Te(e){var t=e.imageCategory,n=e.uploading,r=e.needTransformToGallery,i=e.needSaveExternal,o=e.needSaveDriveImage,a=!n||!(o||i||r);return[_.D.Drive,_.D.Doc].includes(t)&&a}function Oe(e){return"image/gif"===e}var ke=function(e){return Array.from(Object.keys(e)).filter(function(e){return e.includes("comment-")})};function Se(e,t){return t.getEntities(e).find(function(e){return 0<e.text.length&&!e.attributes.lmkr})}function we(e){var t=e.start,n=t.zoneId,r=t.line;return n===T.a&&0===r}function Ie(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]&&arguments[3],i=n.getContentState().getZoneState(t).getLine(e);return i&&(r?i.getModelText():i.getText())}function xe(e,t){var n=e.start,r=n.line,i=n.zoneId,o=n.offset;return(Ie(r,i,t,!0)||"").slice(o)}function Le(e,t,n){var r=n.getContentState().getZoneState(e).getLine(t);return r?H(r.getEntities([])):null}function Re(e,t,n){var r=n!==T.a,i=2*_.A*e;return t-(r?2*_.b:_.h+_.i)-i}function Ne(e,t){return e===T.a?null:Object(w.i)(e,t)}function De(e){return Object(S.a)(decodeURIComponent(e.src))===_.D.Doc?Object(g.default)(e,["file_token"]):e}var Me=function(e,t,n){if(!e.isCollapsed())return!1;var r=e.start,i=r.line,o=r.zoneId,a=t.getContentState().getZoneState(o).getLine(i);return!!a&&n(a)},Pe=function(t,e){return Me(t,e,function(e){return 0===t.start.offset})},je=function(t,e){return Me(t,e,function(e){return t.start.offset===e.length()-1})};function Fe(n,e){var t=e.getEntities(function(e,t){return e===_.c&&-1<t.indexOf(n)});return c()(t,1)[0]}},Trbk:function(e,t,n){"use strict";n.d(t,"a",function(){return c}),n.d(t,"b",function(){return i}),n.d(t,"c",function(){return a}),n.d(t,"d",function(){return h}),n.d(t,"e",function(){return r}),n.d(t,"f",function(){return l}),n.d(t,"g",function(){return u}),n.d(t,"h",function(){return d}),n.d(t,"i",function(){return p}),n.d(t,"j",function(){return o}),n.d(t,"k",function(){return s}),n.d(t,"l",function(){return m}),n.d(t,"m",function(){return g}),n.d(t,"n",function(){return y}),n.d(t,"o",function(){return v}),n.d(t,"p",function(){return f});var r="FOLLOW_LOG",i="FOLLOW_ACTION_LIFECYCLE_CHANGE",o="NEW_ACTIONS",a="FOLLOW_EVENT",s="PRESENTER_STATE",c="FOLLOW_ACTION",u="FOLLOW_REPLAY",l="FOLLOW_REFRESH",d="FOLLOW_RUN_FUNCTION",p="FOLLOW_STATE_CHANGE",f="SUITE_VERSION_CHANGE",h="FOLLOW_GET_CURRENT_STATE",g="START_RECORD",m="START_FOLLOW",v="STOP_RECORD",y="STOP_FOLLOW"},TtDe:function(e,t,n){e.exports={lex:n("xBWZ"),parse:n("C/u9"),stringify:n("oAEL")}},"U+yc":function(e,t){function n(n,r,e,t,i){var o={};return Object.keys(t).forEach(function(e){o[e]=t[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=e.slice().reverse().reduce(function(e,t){return t(n,r,e)||e},o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(n,r,o),o=null),o}e.exports=n},U5G9:function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return s}),n.d(t,"c",function(){return c});var r=n("FJEn"),o=n("OX8E"),i=r.ChangesetHelper.ChangesetHelper,a={COMMENT:"comment",MENTION:"mention",HISTORY:"history",MINDMAP:"mindmap",SHEET:"sheet",BACK:"back",ATTRIBUTE_POSITION:"attribute_position",SELECTION_POPUP:"selection_popup",NOTE_TITLE:"note_title",INSERT_DIR:"insert_dir",CODEBLOCK:"codeblock",HYPERLINK:"hyperlink",TABLE:"table",HISTORY_NEW:"history_new",SUBSCRIPTION:"subscription"};function s(t){var e=new i;return e.setErrorHandler(function(e){throw e.silence||o.a.trigger("EtherpadPlugin:Error",[Object.assign({},t,{from:"etherpad",message:e.message,type:"changeset",editor:null})]),e}),e}function c(r,i){return function(){try{for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return r.apply(null,t)}catch(e){o.a.trigger("EtherpadPlugin:Error",[Object.assign({},i,{from:"etherpad",message:e.message,type:"changeset",editor:null})])}}}},"U6+H":function(e,t){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iNDBweCIgaGVpZ2h0PSI0MHB4IiB2aWV3Qm94PSIwIDAgNDAgNDAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8ZGVmcz4KICAgICAgICA8cmVjdCBpZD0icGF0aC0xIiB4PSIwIiB5PSIwIiB3aWR0aD0iNDAiIGhlaWdodD0iNDAiPjwvcmVjdD4KICAgICAgICA8bGluZWFyR3JhZGllbnQgeDE9Ijk4LjAzMSUiIHkxPSIwLjE2MSUiIHgyPSI1OC44ODglIiB5Mj0iNDAuNzY2JSIgaWQ9ImxpbmVhckdyYWRpZW50LTMiPgogICAgICAgICAgICA8c3RvcCBzdG9wLWNvbG9yPSIjMDA1MkNDIiBvZmZzZXQ9IjE4JSI+PC9zdG9wPgogICAgICAgICAgICA8c3RvcCBzdG9wLWNvbG9yPSIjMjY4NEZGIiBvZmZzZXQ9IjEwMCUiPjwvc3RvcD4KICAgICAgICA8L2xpbmVhckdyYWRpZW50PgogICAgICAgIDxsaW5lYXJHcmFkaWVudCB4MT0iMTAwLjY2NSUiIHkxPSIwLjQ1NSUiIHgyPSI1NS40MDIlIiB5Mj0iNDQuNzI3JSIgaWQ9ImxpbmVhckdyYWRpZW50LTQiPgogICAgICAgICAgICA8c3RvcCBzdG9wLWNvbG9yPSIjMDA1MkNDIiBvZmZzZXQ9IjE4JSI+PC9zdG9wPgogICAgICAgICAgICA8c3RvcCBzdG9wLWNvbG9yPSIjMjY4NEZGIiBvZmZzZXQ9IjEwMCUiPjwvc3RvcD4KICAgICAgICA8L2xpbmVhckdyYWRpZW50PgogICAgPC9kZWZzPgogICAgPGcgaWQ9IkRvYy3ov57mjqUtSmlyYSIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+CiAgICAgICAgPGcgaWQ9ImppcmEtMSI+CiAgICAgICAgICAgIDxtYXNrIGlkPSJtYXNrLTIiIGZpbGw9IndoaXRlIj4KICAgICAgICAgICAgICAgIDx1c2UgeGxpbms6aHJlZj0iI3BhdGgtMSI+PC91c2U+CiAgICAgICAgICAgIDwvbWFzaz4KICAgICAgICAgICAgPGcgaWQ9Ik1hc2siPjwvZz4KICAgICAgICAgICAgPGcgbWFzaz0idXJsKCNtYXNrLTIpIiBmaWxsLXJ1bGU9Im5vbnplcm8iIGlkPSJQYXRoIj4KICAgICAgICAgICAgICAgIDxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDQuMDAwMDAwLCA0LjAwMDAwMCkiPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik0zMC4wNjE5ODA1LDAgTDE0Ljk1NDU2MjksMCBDMTQuOTU0NTYyOSwzLjc2NjQyOTU3IDE4LjAwNzg1NzQsNi44MTk3MjQwMiAyMS43NzQyODY5LDYuODE5NzI0MDIgTDI0LjU1NzI0ODQsNi44MTk3MjQwMiBMMjQuNTU3MjQ4NCw5LjUwNjcyMTMzIEMyNC41NTk3MDU5LDEzLjI2OTcyMTcgMjcuNjA5NTQ4NiwxNi4zMTk2ODczIDMxLjM3MjU0OSwxNi4zMjIxNDQ4IEwzMS4zNzI1NDksMS4zMTA1Njg1NiBDMzEuMzcyNTQ5LDAuNTg2OTY2NjI1IDMwLjc4NTk1MSwwIDMwLjA2MTk4MDUsMCBaIiBmaWxsPSIjMjY4NEZGIj48L3BhdGg+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTIyLjU4Njg0OTMsNy41Mjc0NzUyOCBMNy40Nzk1NTQ2Miw3LjUyNzQ3NTI4IEM3LjQ4MTg4OTIyLDExLjI5MDQ3NTcgMTAuNTMxNzMxOSwxNC4zNDA0NDEzIDE0LjI5NDg1NTIsMTQuMzQyODk4NyBMMTcuMDc3ODE2NywxNC4zNDI4OTg3IEwxNy4wNzc4MTY3LDE3LjAzODQ5NzIgQzE3LjA4MjYwODgsMjAuODAxNDk3NiAyMC4xMzQ1NDAzLDIzLjg0OTM3NDMgMjMuODk3NTQwNywyMy44NDkzNzQzIEwyMy44OTc1NDA3LDguODM4Mjg5NTkgQzIzLjg5NzU0MDcsOC4xMTQ0NDE5IDIzLjMxMDY5Nyw3LjUyNzQ3NTI4IDIyLjU4Njg0OTMsNy41Mjc0NzUyOCBMMjIuNTg2ODQ5Myw3LjUyNzQ3NTI4IFoiIGZpbGw9InVybCgjbGluZWFyR3JhZGllbnQtMykiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTUuMTA3NDE3NSwxNS4wNTA2NSBMMCwxNS4wNTA2NSBDMCwxOC44MTcwOTA4IDMuMDUzNDA2MDQsMjEuODcwMzc0IDYuODE5NzI0MDIsMjEuODcwMzc0IEw5LjYxMTQwOTU0LDIxLjg3MDM3NCBMOS42MTE0MDk1NCwyNC41NTcyNDg0IEM5LjYxMzg2NzAxLDI4LjMxNjgwODQgMTIuNjU4NDI2MiwzMS4zNjU0MjI0IDE2LjQxODEwOSwzMS4zNzI1NDkgTDE2LjQxODEwOSwxNi4zNjEzNDE0IEMxNi40MTgxMDksMTUuNjM3NDkzNyAxNS44MzEyNjUyLDE1LjA1MDY1IDE1LjEwNzQxNzUsMTUuMDUwNjUgWiIgZmlsbD0idXJsKCNsaW5lYXJHcmFkaWVudC00KSI+PC9wYXRoPgogICAgICAgICAgICAgICAgPC9nPgogICAgICAgICAgICA8L2c+CiAgICAgICAgPC9nPgogICAgPC9nPgo8L3N2Zz4K"},U6MA:function(e,t,n){var i=n("cs4F"),o=n("yE7x").default,a=n("yE7x").flatten,s=n("Shz6").isHtml,c={extend:n("qbnB"),bind:n("JpaV"),forEach:n("bNQv"),defaults:n("la6v")},r=[n("dwMB"),n("+EwR"),n("nbnp"),n("Zc1+"),n("lFky")],u=e.exports=function(e,t,n,r){return this instanceof u?(this.options=c.defaults(a(r),this.options,o),e?(n&&("string"==typeof n&&(n=i(n,this.options,!1)),this._root=u.call(this,n)),e.cheerio?e:(l(e)&&(e=[e]),Array.isArray(e)?(c.forEach(e,c.bind(function(e,t){this[t]=e},this)),this.length=e.length,this):"string"==typeof e&&s(e)?u.call(this,i(e,this.options,!1).children):(t?"string"==typeof t?t=s(t)?(t=i(t,this.options,!1),u.call(this,t)):(e=[t,e].join(" "),this._root):t.cheerio||(t=u.call(this,t)):t=this._root,t?t.find(e):this))):this):new u(e,t,n,r)};c.extend(u,n("0RZP")),u.prototype.cheerio="[cheerio object]",u.prototype.length=0,u.prototype.splice=Array.prototype.splice,u.prototype._make=function(e,t){var n=new this.constructor(e,t,this._root,this.options);return n.prevObject=this,n},u.prototype.toArray=function(){return this.get()},r.forEach(function(e){c.extend(u.prototype,e)});var l=function(e){return e.name||"text"===e.type||"comment"===e.type}},U6jy:function(e,t){e.exports=n;var i=Object.prototype.hasOwnProperty;function n(){for(var e={},t=0;t<arguments.length;t++){var n,r=arguments[t];for(n in r)i.call(r,n)&&(e[n]=r[n])}return e}},UAY2:function(e,t,n){"use strict";var r=n("lwsE"),i=n.n(r),o=n("W8MJ"),a=n.n(o),s=n("a1gu"),c=n.n(s),u=n("Nsbk"),l=n.n(u),d=n("7W2i"),p=n.n(d),f=n("q1tI"),h=n.n(f),g=n("TSYQ"),m=n.n(g),v=(n("17x9"),n("2M8O"),function(e){function t(){return i()(this,t),c()(this,l()(t).apply(this,arguments))}return p()(t,e),a()(t,[{key:"render",value:function(){var e=m()("spiner",this.props.className),t={transform:"scale(".concat(this.props.scale,")")};return h.a.createElement("span",{className:e,style:t},h.a.createElement("span",{"aria-hidden":"true"}),h.a.createElement("span",{"aria-hidden":"true"}),h.a.createElement("span",{"aria-hidden":"true"}))}}]),t}(f.PureComponent));t.a=v},UF4K:function(e,t,n){e.exports=n("F8Eo")},UH97:function(e,t,n){},"UNi/":function(e,t){function n(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}e.exports=n},UOpo:function(e,t,n){e.exports=r;var i=n("5wDT"),o={__proto__:null,exists:10,equals:8,not:7,start:6,end:6,any:5,hyphen:4,element:4};function r(e){for(var t=e.map(a),n=1;n<e.length;n++){var r=t[n];if(!(r<0))for(var i=n-1;0<=i&&r<t[i];i--){var o=e[i+1];e[i+1]=e[i],e[i]=o,t[i+1]=t[i],t[i]=r}}}function a(e){var t=i[e.type];if(t===i.attribute)(t=o[e.action])===o.equals&&"id"===e.name&&(t=9),e.ignoreCase&&(t>>=1);else if(t===i.pseudo)if(e.data)if("has"===e.name||"contains"===e.name)t=0;else if("matches"===e.name||"not"===e.name){for(var n=t=0;n<e.data.length;n++)if(1===e.data[n].length){var r=a(e.data[n][0]);if(0===r){t=0;break}t<r&&(t=r)}1<e.data.length&&0<t&&--t}else t=1;else t=3;return t}},UPmY:function(e,t,n){"use strict";var r=n("fshX"),i="Expected a function";function o(e,t){var n;if("function"!=typeof t)throw new TypeError(i);return e=Object(r.a)(e),function(){return 0<--e&&(n=t.apply(this,arguments)),e<=1&&(t=void 0),n}}t.a=o},"UQe+":function(e,t,n){n("QQub");var r=n("oWnS");e.exports=r("Array").map},UeI0:function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"c",function(){return i}),n.d(t,"b",function(){return o});var f=n("PCTH"),r=function(n,e,t,r){var i=t[0],o=t[t.length-1],a=[],s=n.getReps()[e],c=n.lineTracker.collapseLines;if(c){var u=c.trackers[e].entries,l=[];for(t.forEach(function(e){l.push(u[e].output.renderCollapsed)});l.includes(!0);){for(var d=i;d<=o;d++)if(u[d].output.renderCollapsed){for(var p=d;!u[p].output.startOfCollapseSection;)p--;a.push(p)}a.forEach(function(e){var t=Object(f.e)(e,s);Object(f.c)(n,t,!0,n.isEditable(),r)}),t.forEach(function(e,t){l.splice(t,1,u[e].output.renderCollapsed)})}}};function i(e){var t=new RegExp("([a-z]+)([123456789])").exec(e);return t?{type:t[1],indent:Number(t[2])}:null}function o(e){return e["clientside-collapse"]?"true"===e["clientside-collapse"]:"true"===e.collapse}},Ui3k:function(e,t,n){var r=n("OsYe");n("KHTo")(r.JSON,"JSON",!0)},UndK:function(e,t,n){var o=n("/Y+E"),a=n("T2iA"),s=["focus","blur"];t.bind=function(n,r,e,i,t){return-1!==s.indexOf(e)&&(t=!0),a.bind(n,e,function(e){var t=e.target||e.srcElement;e.delegateTarget=o(t,r,!0,n),e.delegateTarget&&i.call(n,e)},t)},t.unbind=function(e,t,n,r){-1!==s.indexOf(t)&&(r=!0),a.unbind(e,t,n,r)}},UwWT:function(e,t,n){"use strict";var r=t.NAMESPACES={HTML:"http://www.w3.org/1999/xhtml",MATHML:"http://www.w3.org/1998/Math/MathML",SVG:"http://www.w3.org/2000/svg",XLINK:"http://www.w3.org/1999/xlink",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"};t.ATTRS={TYPE:"type",ACTION:"action",ENCODING:"encoding",PROMPT:"prompt",NAME:"name",COLOR:"color",FACE:"face",SIZE:"size"},t.DOCUMENT_MODE={NO_QUIRKS:"no-quirks",QUIRKS:"quirks",LIMITED_QUIRKS:"limited-quirks"};var i=t.TAG_NAMES={A:"a",ADDRESS:"address",ANNOTATION_XML:"annotation-xml",APPLET:"applet",AREA:"area",ARTICLE:"article",ASIDE:"aside",B:"b",BASE:"base",BASEFONT:"basefont",BGSOUND:"bgsound",BIG:"big",BLOCKQUOTE:"blockquote",BODY:"body",BR:"br",BUTTON:"button",CAPTION:"caption",CENTER:"center",CODE:"code",COL:"col",COLGROUP:"colgroup",DD:"dd",DESC:"desc",DETAILS:"details",DIALOG:"dialog",DIR:"dir",DIV:"div",DL:"dl",DT:"dt",EM:"em",EMBED:"embed",FIELDSET:"fieldset",FIGCAPTION:"figcaption",FIGURE:"figure",FONT:"font",FOOTER:"footer",FOREIGN_OBJECT:"foreignObject",FORM:"form",FRAME:"frame",FRAMESET:"frameset",H1:"h1",H2:"h2",H3:"h3",H4:"h4",H5:"h5",H6:"h6",HEAD:"head",HEADER:"header",HGROUP:"hgroup",HR:"hr",HTML:"html",I:"i",IMG:"img",IMAGE:"image",INPUT:"input",IFRAME:"iframe",KEYGEN:"keygen",LABEL:"label",LI:"li",LINK:"link",LISTING:"listing",MAIN:"main",MALIGNMARK:"malignmark",MARQUEE:"marquee",MATH:"math",MENU:"menu",MENUITEM:"menuitem",META:"meta",MGLYPH:"mglyph",MI:"mi",MO:"mo",MN:"mn",MS:"ms",MTEXT:"mtext",NAV:"nav",NOBR:"nobr",NOFRAMES:"noframes",NOEMBED:"noembed",NOSCRIPT:"noscript",OBJECT:"object",OL:"ol",OPTGROUP:"optgroup",OPTION:"option",P:"p",PARAM:"param",PLAINTEXT:"plaintext",PRE:"pre",RB:"rb",RP:"rp",RT:"rt",RTC:"rtc",RUBY:"ruby",S:"s",SCRIPT:"script",SECTION:"section",SELECT:"select",SOURCE:"source",SMALL:"small",SPAN:"span",STRIKE:"strike",STRONG:"strong",STYLE:"style",SUB:"sub",SUMMARY:"summary",SUP:"sup",TABLE:"table",TBODY:"tbody",TEMPLATE:"template",TEXTAREA:"textarea",TFOOT:"tfoot",TD:"td",TH:"th",THEAD:"thead",TITLE:"title",TR:"tr",TRACK:"track",TT:"tt",U:"u",UL:"ul",SVG:"svg",VAR:"var",WBR:"wbr",XMP:"xmp"},o=t.SPECIAL_ELEMENTS=Object.create(null);o[r.HTML]=Object.create(null),o[r.HTML][i.ADDRESS]=!0,o[r.HTML][i.APPLET]=!0,o[r.HTML][i.AREA]=!0,o[r.HTML][i.ARTICLE]=!0,o[r.HTML][i.ASIDE]=!0,o[r.HTML][i.BASE]=!0,o[r.HTML][i.BASEFONT]=!0,o[r.HTML][i.BGSOUND]=!0,o[r.HTML][i.BLOCKQUOTE]=!0,o[r.HTML][i.BODY]=!0,o[r.HTML][i.BR]=!0,o[r.HTML][i.BUTTON]=!0,o[r.HTML][i.CAPTION]=!0,o[r.HTML][i.CENTER]=!0,o[r.HTML][i.COL]=!0,o[r.HTML][i.COLGROUP]=!0,o[r.HTML][i.DD]=!0,o[r.HTML][i.DETAILS]=!0,o[r.HTML][i.DIR]=!0,o[r.HTML][i.DIV]=!0,o[r.HTML][i.DL]=!0,o[r.HTML][i.DT]=!0,o[r.HTML][i.EMBED]=!0,o[r.HTML][i.FIELDSET]=!0,o[r.HTML][i.FIGCAPTION]=!0,o[r.HTML][i.FIGURE]=!0,o[r.HTML][i.FOOTER]=!0,o[r.HTML][i.FORM]=!0,o[r.HTML][i.FRAME]=!0,o[r.HTML][i.FRAMESET]=!0,o[r.HTML][i.H1]=!0,o[r.HTML][i.H2]=!0,o[r.HTML][i.H3]=!0,o[r.HTML][i.H4]=!0,o[r.HTML][i.H5]=!0,o[r.HTML][i.H6]=!0,o[r.HTML][i.HEAD]=!0,o[r.HTML][i.HEADER]=!0,o[r.HTML][i.HGROUP]=!0,o[r.HTML][i.HR]=!0,o[r.HTML][i.HTML]=!0,o[r.HTML][i.IFRAME]=!0,o[r.HTML][i.IMG]=!0,o[r.HTML][i.INPUT]=!0,o[r.HTML][i.LI]=!0,o[r.HTML][i.LINK]=!0,o[r.HTML][i.LISTING]=!0,o[r.HTML][i.MAIN]=!0,o[r.HTML][i.MARQUEE]=!0,o[r.HTML][i.MENU]=!0,o[r.HTML][i.META]=!0,o[r.HTML][i.NAV]=!0,o[r.HTML][i.NOEMBED]=!0,o[r.HTML][i.NOFRAMES]=!0,o[r.HTML][i.NOSCRIPT]=!0,o[r.HTML][i.OBJECT]=!0,o[r.HTML][i.OL]=!0,o[r.HTML][i.P]=!0,o[r.HTML][i.PARAM]=!0,o[r.HTML][i.PLAINTEXT]=!0,o[r.HTML][i.PRE]=!0,o[r.HTML][i.SCRIPT]=!0,o[r.HTML][i.SECTION]=!0,o[r.HTML][i.SELECT]=!0,o[r.HTML][i.SOURCE]=!0,o[r.HTML][i.STYLE]=!0,o[r.HTML][i.SUMMARY]=!0,o[r.HTML][i.TABLE]=!0,o[r.HTML][i.TBODY]=!0,o[r.HTML][i.TD]=!0,o[r.HTML][i.TEMPLATE]=!0,o[r.HTML][i.TEXTAREA]=!0,o[r.HTML][i.TFOOT]=!0,o[r.HTML][i.TH]=!0,o[r.HTML][i.THEAD]=!0,o[r.HTML][i.TITLE]=!0,o[r.HTML][i.TR]=!0,o[r.HTML][i.TRACK]=!0,o[r.HTML][i.UL]=!0,o[r.HTML][i.WBR]=!0,o[r.HTML][i.XMP]=!0,o[r.MATHML]=Object.create(null),o[r.MATHML][i.MI]=!0,o[r.MATHML][i.MO]=!0,o[r.MATHML][i.MN]=!0,o[r.MATHML][i.MS]=!0,o[r.MATHML][i.MTEXT]=!0,o[r.MATHML][i.ANNOTATION_XML]=!0,o[r.SVG]=Object.create(null),o[r.SVG][i.TITLE]=!0,o[r.SVG][i.FOREIGN_OBJECT]=!0,o[r.SVG][i.DESC]=!0},Uwf0:function(e,t,n){var r=n("hS6j"),i=r.DomHandler,o=r.DomUtils;function a(e,t){this.init(e,t)}function s(e,t){return o.getElementsByTagName(e,t,!0)}function c(e,t){return o.getElementsByTagName(e,t,!0,1)[0]}function u(e,t,n){return o.getText(o.getElementsByTagName(e,t,n,1)).trim()}function l(e,t,n,r,i){var o=u(n,r,i);o&&(e[t]=o)}n("P7XM")(a,i),a.prototype.init=i;var d=function(e){return"rss"===e||"feed"===e||"rdf:RDF"===e};a.prototype.onend=function(){var e,t,n={},r=c(d,this.dom);r&&("feed"===r.name?(t=r.children,n.type="atom",l(n,"id","id",t),l(n,"title","title",t),(e=c("link",t))&&(e=e.attribs)&&(e=e.href)&&(n.link=e),l(n,"description","subtitle",t),(e=u("updated",t))&&(n.updated=new Date(e)),l(n,"author","email",t,!0),n.items=s("entry",t).map(function(e){var t,n={};return l(n,"id","id",e=e.children),l(n,"title","title",e),(t=c("link",e))&&(t=t.attribs)&&(t=t.href)&&(n.link=t),(t=u("summary",e)||u("content",e))&&(n.description=t),(t=u("updated",e))&&(n.pubDate=new Date(t)),n})):(t=c("channel",r.children).children,n.type=r.name.substr(0,3),n.id="",l(n,"title","title",t),l(n,"link","link",t),l(n,"description","description",t),(e=u("lastBuildDate",t))&&(n.updated=new Date(e)),l(n,"author","managingEditor",t,!0),n.items=s("item",r.children).map(function(e){var t,n={};return l(n,"id","guid",e=e.children),l(n,"title","title",e),l(n,"link","link",e),l(n,"description","description",e),(t=u("pubDate",e))&&(n.pubDate=new Date(t)),n}))),this.dom=n,i.prototype._handleCallback.call(this,r?null:Error("couldn't find root of feed"))},e.exports=a},Uy1N:function(e,t,n){"use strict";n.d(t,"d",function(){return D}),n.d(t,"b",function(){return M});var r=n("lSNA"),b=n.n(r),i=n("QILm"),E=n.n(i),o=n("lwsE"),a=n.n(o),s=n("W8MJ"),c=n.n(s),u=n("a1gu"),l=n.n(u),d=n("Nsbk"),p=n.n(d),f=n("PJYZ"),h=n.n(f),g=n("7W2i"),m=n.n(g),v=n("TSYQ"),_=n.n(v),y=n("YZDV"),C=n.n(y),T=n("q1tI"),O=n.n(T),k=n("32lH"),S=n("/lcV");n.d(t,"c",function(){return S.b});n("Iabx");var w=n("0AMS"),I=n("eFqs"),x=n("8KlA"),L=n.n(x),R=n("nQL7"),N=n.n(R),D={startTime:Date.now(),endTime:0,logged:!1,loading:!1,isError:!1,loadCount:0},M=Promise.resolve(void 0);function P(){D.loading||(D.loading=!0,D.loadCount+=1,D.isError=!1,D.logged=!1,D.endTime=0,M=new Promise(function(e,t){var n=new Image;n.src=L.a,n.onload=function(){D.loading=!1,D.endTime=Date.now(),e(void 0)},n.onerror=function(){D.endTime=Date.now(),D.loading=!1,D.isError=!0,t(new Error("load emoji sprite failed"))}}))}function j(e,t){var n,r,i;e.props.src&&(r=(n=Object(I.e)(e.props.src)).protocol,i=n.domain,e.isFirstLoaded&&!t&&(e.isFirstLoaded=!1,e.logger.storeMetrics({status:t?I.a.UNAVAILABLE:I.a.OK,attributes:{protocol:r,domain:i,oversea:Number(e.props.isOversea)},data:{code:e.props.code},metrics:{"larkw-emoji.fmp":Date.now()-e.logger.span.userStartTime}})))}P();var F=function(e){function n(e){var t;return a()(this,n),(t=l()(this,p()(n).call(this,e))).isFirstLoaded=!0,t.unmout=!1,t.handleError=function(e){j(h()(t),!0),t.state.isLoadFailed||t.setState({isLoadFailed:!0}),t.props.onError&&t.props.onError(e)},t.handleLoad=function(e){j(h()(t),!1),t.props.onLoad&&t.props.onLoad(e)},t.handleContextMenu=function(e){e.nativeEvent.stopImmediatePropagation(),e.stopPropagation()},t.state={fallbackSrc:"",isLoadFailed:!1},t.logger=Object(I.c)("larkw-emoji",e.tracing),D.isError&&(P(),t.logger.error("retry to load sprite image, count: ".concat(D.loadCount))),D.endTime&&!D.logged&&(D.logged=!0,t.logger.storeMetrics({attributes:{loadCount:D.loadCount},metrics:{"larkw-emoji.load-sprite.duration":D.endTime-D.startTime}})),t}return m()(n,e),c()(n,[{key:"componentDidMount",value:function(){this.loadFallbackEmoji()}},{key:"componentDidUpdate",value:function(){this.loadFallbackEmoji()}},{key:"componentWillUnmount",value:function(){this.unmout=!0}},{key:"loadFallbackEmoji",value:function(){var t=this,e=this.props,n=e.code;e.src||this.state.isLoadFailed||this.unmout||!n||Object(S.d)(n)||S.b.getFallbackSrc(n).then(function(e){e&&!t.unmout&&t.setState({fallbackSrc:e})})}},{key:"shouldComponentUpdate",value:function(e,t){return e.code===this.props.code&&e.src===this.props.src||this.setState({isLoadFailed:!1}),C()(this,e,t)}},{key:"render",value:function(){var e=this.props,t=e.wrapperClassName,n=e.className,r=e.copiable,i=e.code,o=e.src,a=e.config,s=e.size,c=e.isOversea,u=E()(e,["wrapperClassName","className","copiable","code","src","config","size","isOversea"]),l=this.state,d=l.isLoadFailed,p=l.fallbackSrc,f=Object(S.e)(i,a.lang),h=Object(S.d)(i),g=N.a,m="";o?d?m=Object(S.c)(S.a.UNKNOWN,c):g=o:h?m=Object(S.c)(h,c):p&&!d?g=p:m=Object(S.c)(S.a.UNKNOWN,c);var v=_()(n,"".concat(k.h,"-emoji__img"),b()({},"".concat(k.h,"-emoji__img-").concat(m),Boolean(m))),y=_()("".concat(k.h,"-emoji__wrapper"),t);return this.loadStartTime=Date.now(),O.a.createElement("span",{className:y},O.a.createElement("img",Object.assign({},u,{className:v,style:{fontSize:s?"".concat(s,"px"):void 0,cursor:this.props.onClick?"pointer":""},src:g,onError:this.handleError,onLoad:this.handleLoad,onContextMenu:this.handleContextMenu})),r&&O.a.createElement("span",{className:_()("".concat(k.h,"-emoji__copy"),"".concat(k.h,"-emoji__text"))},"[".concat(f,"]")))}}]),n}(T.Component);t.a=Object(w.a)(F)},Uy54:function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"c",function(){return i}),n.d(t,"b",function(){return o});var a=n("FJEn"),s=n("kESg"),r=function(e,t,n){return e.getAttributeOnLine(t,n,s.k.ZoneType)===s.l.CodeBlock?e.getAttributeOnLine(t,n,s.k.ZoneId):""};function i(e){return!(!e.insert||!e.attributes||e.attributes[s.k.ZoneType]!==s.l.CodeBlock)}function o(e,t){if(e===a.DEFAULT_REP_ZONE)return!1;var n=t.managers.zoneToLineEntry[e];if(!n)return!1;var r=t.getRep(n.zone).lines.indexOfEntry(n);if(r<0)return console.warn("can not find codeblock entry in container zone"),!1;var i=t.getContentState().getZoneState(n.zone).getLine(r);if(!i)return!1;var o=i.getAttributes().toMap();return o[s.k.ZoneType]&&o[s.k.ZoneType]===s.l.CodeBlock}},V2TW:function(e,t,n){"use strict";n.d(t,"b",function(){return i}),n.d(t,"a",function(){return o});var r=n("VI6H"),i=function(){return Object(r.c)().get("id")||window.User.id},o=function(e){var t=/author-([0-9]+|-|z.+?z)/.exec(e);return t&&t[1]?t[1].replace(/[0-9]+|-|z.+?z/g,function(e){return"-"===e?".":"z"===e.charAt(0)?String.fromCharCode(Number(e.slice(1,-1))):e}):null}},V5dN:function(e,t,n){"use strict";n.d(t,"c",function(){return r}),n.d(t,"b",function(){return d}),n.d(t,"a",function(){return C});var r,i,u,o,l,a,d,s,p,c,f=n("o0o1"),h=n.n(f),g=n("yXPU"),m=n.n(g),v=n("lwsE"),y=n.n(v),b=n("W8MJ"),E=n.n(b),_=n("HhHe");(i=r=r||{}).Alice="alice",i.Bob="bob",(o=u=u||{}).Command="command",o.Ready="ready",(a=l=l||{}).Success="success",a.Reject="reject",(s=d=d||{}).CheckStatus="checkStatus",s.CheckSendStatus="checkSendStatus",s.SendChangeset="sendChangeset",s.AcceptCommit="acceptCommit",s.ReceiveChangeset="receiveChangeset",s.GetActions="getActions",s.GetSnapshot="getSnapshot",(c=p=p||{})[c.Ready=0]="Ready",c[c.Pending=1]="Pending";var C=function(){function n(e){var t=this;y()(this,n),this.status=p.Pending,this.unRegisterMessage=function(){},this.receiveMessage=function(e){Object(_.a)(e.origin)&&t.handleMessage(e)},this.adapter=e,this.unRegisterMessage=this.registerMessage()}function e(){return t.apply(this,arguments)}var t,r,i,o;function a(){return r.apply(this,arguments)}function s(){return i.apply(this,arguments)}function c(e){return o.apply(this,arguments)}return E()(n,[{key:"registerMessage",value:function(){var e=this;return window.addEventListener("message",this.receiveMessage,!1),function(){window.removeEventListener("message",e.receiveMessage,!1)}}},{key:"prepared",value:function(e){this.adapter.replaceHandle(),this.initialSnapshot=this.adapter.getSnapshot(),window.flowRole=e.role}},{key:"handleMessage",value:(o=m()(h.a.mark(function e(t){var n,r,i;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.data&&t.source){e.next=2;break}return e.abrupt("return");case 2:e.t0=t.data.name,e.next=e.t0===d.GetActions?5:e.t0===d.GetSnapshot?8:e.t0===d.CheckStatus?11:e.t0===d.CheckSendStatus?17:e.t0===d.SendChangeset?21:e.t0===d.AcceptCommit?26:e.t0===d.ReceiveChangeset?30:34;break;case 5:return n=this.adapter.getActions(),t.source.postMessage(Object.assign({},t.data,{type:u.Command,actions:n,status:l.Success}),t.origin),e.abrupt("return");case 8:return t.data.initial?r=this.initialSnapshot:(r=this.adapter.getSnapshot(),this.initialSnapshot=r),t.source.postMessage(Object.assign({},t.data,{type:u.Command,snapshot:r,status:l.Success}),t.origin),e.abrupt("return");case 11:if(this.adapter.isLoaded()&&this.status!==p.Ready){e.next=13;break}return e.abrupt("return");case 13:return this.prepared(t.data),t.source.postMessage(Object.assign({},t.data,{type:u.Ready,status:l.Success}),t.origin),this.status=p.Ready,e.abrupt("return");case 17:if(this.adapter.checkSendStatus()){e.next=19;break}return e.abrupt("return");case 19:return t.source.postMessage(Object.assign({},t.data,{type:u.Ready,status:l.Success}),t.origin),e.abrupt("return");case 21:return e.next=23,this.sendChangeset();case 23:return i=e.sent,t.source.postMessage(Object.assign({},t.data,{type:u.Command,status:i?l.Success:l.Reject}),t.origin),e.abrupt("return");case 26:return e.next=28,this.acceptCommit();case 28:return t.source.postMessage(Object.assign({},t.data,{type:u.Command,status:l.Success}),t.origin),e.abrupt("return");case 30:return e.next=32,this.receiveChangeset();case 32:return t.source.postMessage(Object.assign({},t.data,{type:u.Command,status:l.Success}),t.origin),e.abrupt("return");case 34:case"end":return e.stop()}},e,this)})),c)},{key:"reset",value:function(){this.unRegisterMessage()}},{key:"sendChangeset",value:(i=m()(h.a.mark(function e(){return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.adapter.sendChangeset();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)})),s)},{key:"acceptCommit",value:(r=m()(h.a.mark(function e(){return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.adapter.acceptCommit();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)})),a)},{key:"receiveChangeset",value:(t=m()(h.a.mark(function e(){return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.adapter.receiveChangeset();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)})),e)}]),n}()},V6Ve:function(e,t,n){var r=n("kekF")(Object.keys,Object);e.exports=r},V9aw:function(e,t){function n(e){return e.placeholder}e.exports=n},VCL8:function(e,t,n){"use strict";function c(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!=e&&this.setState(e)}function u(n){function e(e){var t=this.constructor.getDerivedStateFromProps(n,e);return null!=t?t:null}this.setState(e.bind(this))}function l(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}function r(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if("function"!=typeof e.getDerivedStateFromProps&&"function"!=typeof t.getSnapshotBeforeUpdate)return e;var n=null,r=null,i=null;if("function"==typeof t.componentWillMount?n="componentWillMount":"function"==typeof t.UNSAFE_componentWillMount&&(n="UNSAFE_componentWillMount"),"function"==typeof t.componentWillReceiveProps?r="componentWillReceiveProps":"function"==typeof t.UNSAFE_componentWillReceiveProps&&(r="UNSAFE_componentWillReceiveProps"),"function"==typeof t.componentWillUpdate?i="componentWillUpdate":"function"==typeof t.UNSAFE_componentWillUpdate&&(i="UNSAFE_componentWillUpdate"),null!==n||null!==r||null!==i){var o=e.displayName||e.name,a="function"==typeof e.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+o+" uses "+a+" but also contains the following legacy lifecycles:"+(null!==n?"\n  "+n:"")+(null!==r?"\n  "+r:"")+(null!==i?"\n  "+i:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"==typeof e.getDerivedStateFromProps&&(t.componentWillMount=c,t.componentWillReceiveProps=u),"function"==typeof t.getSnapshotBeforeUpdate){if("function"!=typeof t.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=l;var s=t.componentDidUpdate;t.componentDidUpdate=function(e,t,n){var r=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:n;s.call(this,e,t,r)}}return e}n.r(t),n.d(t,"polyfill",function(){return r}),c.__suppressDeprecationWarning=!0,u.__suppressDeprecationWarning=!0,l.__suppressDeprecationWarning=!0},VGuC:function(e,t,n){"use strict";function r(e){return e instanceof Date&&!isNaN(+e)}n.d(t,"a",function(){return r})},VI8A:function(e,t,n){"use strict";n.d(t,"b",function(){return s}),n.d(t,"a",function(){return c});var r=n("lwsE"),i=n.n(r),o=n("W8MJ"),a=n.n(o),s=function(){function e(){i()(this,e),this.frame=void 0}return a()(e,[{key:"hasRequested",value:function(){return void 0!==this.frame}},{key:"request",value:function(){var t=this;return this.cancel(),new Promise(function(e){t.frame=window.requestAnimationFrame(function(){t.frame=void 0,e()})})}},{key:"cancel",value:function(){void 0!==this.frame&&(window.cancelAnimationFrame(this.frame),this.frame=void 0)}}]),e}(),c=function(){function e(){i()(this,e),this.frame=void 0,this.timer=void 0}return a()(e,[{key:"hasRequested",value:function(){return void 0!==this.frame||void 0!==this.timer}},{key:"request",value:function(){var t=this;return 0<arguments.length&&void 0!==arguments[0]&&arguments[0]||this.cancel(),new Promise(function(e){t.frame=window.requestAnimationFrame(function(){t.frame=void 0,t.timer=window.setTimeout(function(){t.timer=void 0,e()})})})}},{key:"cancel",value:function(){void 0!==this.frame&&(window.cancelAnimationFrame(this.frame),this.frame=void 0),void 0!==this.timer&&(window.clearTimeout(this.timer),this.timer=void 0)}}]),e}()},VIxa:function(e,t,n){"use strict";var r=n("pevS"),u=n("zJQS"),i=n("rSeq"),o=n("m40S"),l=n("W1ep");r({target:"Promise",stat:!0},{allSettled:function(e){var s=this,t=i.f(s),c=t.resolve,n=t.reject,r=o(function(){var r=u(s.resolve),i=[],o=0,a=1;l(e,function(e){var t=o++,n=!1;i.push(void 0),a++,r.call(s,e).then(function(e){n||(n=!0,i[t]={status:"fulfilled",value:e},--a||c(i))},function(e){n||(n=!0,i[t]={status:"rejected",reason:e},--a||c(i))})}),--a||c(i)});return r.error&&n(r.value),t.promise}})},VN5G:function(e,t,n){"use strict";var r=n("f+gR"),i=n("x/Yo"),o=n("toa8"),a=n("Q9MD"),s=n("D7h9"),c=n("ZGZ5"),u=n("5cZX"),l=n("lwsE"),d=n.n(l),p=n("W8MJ"),f=n.n(p),h=n("cDf5"),g=n.n(h),y=n("7EGn"),m=n("xKvl"),b=n("1dfU"),v=n("fQzm"),E=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":g()(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;0<=s;s--)(i=e[s])&&(a=(o<3?i(a):3<o?i(t,n,a):i(t,n))||a);return 3<o&&a&&Object.defineProperty(t,n,a),a},_=parseInt(Object(y.default)(window,"DATA.clientVars.data.user_info.member_id"),10),C=function(){function e(){d()(this,e)}return f()(e,[{key:"logInitVersion",value:function(e){}},{key:"logVersionBreak",value:function(e){var t=e.localVersion;e.remoteVersion<t&&this.logLocateRemoteDiffVersion(e)}},{key:"logBroadcastVersion",value:function(e){var t=e.localVersion,n=e.remoteVersion,r=e.module,i=e.token,o=e.message;console.log("received! BROADCAST_".concat(r,"\n      localVersion: ").concat(t,"\n      remoteVersion: ").concat(n),o),v.b.info("IO: memberId(".concat(_,"):\n      BROADCAST_").concat(r,"\n      token: ").concat(Object(b.a)(i),"\n      localVersion: ").concat(t,"\n      remoteVersion: ").concat(n)),n<t&&this.logLocateRemoteDiffVersion(e)}},{key:"logLocateRemoteDiffVersion",value:function(e){}}]),e}();E([Object(m.a)("doc_comment_log_init_data_version",function(e){var t=e.args[0],n=t.aheadVersion,r=t.behindVersion,i=t.token,o=t.source,a=t.module;return{aheadVersion:n,behindVersion:r,source:o,token:Object(b.a)(i),module:a}})],C.prototype,"logInitVersion",null),E([Object(m.a)("doc_comment_log_broadcast_locate_remote_version",function(e){var t,n,r,i,o,a,s,c,u=e.args[0],l=u.localVersion,d=u.remoteVersion,p=u.source,f=u.token,h=u.module,g=u.message,m={},v=Object(y.default)(g,"data.message.context",null);return"COMMENT"===h&&v?(t=v.ACTION,n=v.REQUEST_ID,r=v.USER_ID,i=v.comment_id,o=v.reply_id,m={actionType:t,requestId:n,commentId:Object(b.a)(i),replyId:Object(b.a)(o),sendUserId:Object(b.a)(r)}):"COMMENT_REACTION"===h&&v&&(a=v.ACTION,s=v.REQUEST_ID,c=v.USER_ID,m={actionType:a,requestId:s,reactionKey:v.reaction_key,sendUserId:Object(b.a)(c)}),Object.assign({localVersion:l,remoteVersion:d,source:p,module:h,token:Object(b.a)(f),memberId:_},m)})],C.prototype,"logBroadcastVersion",null),E([Object(m.a)("doc_comment_log_locate_remote_diff_version",function(e){var t=e.args[0],n=t.localVersion,r=t.remoteVersion,i=t.source,o=t.token;return{localVersion:n,remoteVersion:r,source:i,module:t.module,token:Object(b.a)(o)}})],C.prototype,"logLocateRemoteDiffVersion",null);var T=new C,O=n("paQS"),k=n("kUgE"),S=n("WzBf"),w=n("rLED"),I=n("SebV");n.d(t,"a",function(){return R}),n.d(t,"b",function(){return N});var x=new r.a,L=new i.CommentRecordManager;function R(e,t){e&&"default"!==t||Object(I.a)("createCommentService token objType no collect");var n=x.getOrCreateCommentService({rootType:e,rootToken:t,commentRecordManager:L,getUserId:function(){return Object(c.a)(s.default.getState()).get("id")||window.User.id},getMemberId:function(){return Object(a.b)(s.default.getState())},getIsOwner:function(){return Object(u.F)(s.default.getState())},getLanguage:k.getLanguage,msgBox:Object(w.d)("message_msgBox_enable")?S.a:null,messageVersion:3,isNewMentionUi:Object(w.G)(),isCommentMergeMessage:!1});return n.setupRequest(o.d),n.setupLogger(T),n}function N(e,t,n){n||(x.destroyCommentService(t),L.destroyCommentRecord(e,t),O.a.destroy({suiteType:e,suiteToken:t}))}},VOcB:function(e,t,n){"use strict";function r(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}e.exports=function(e,t){e.classList?e.classList.remove(t):"string"==typeof e.className?e.className=r(e.className,t):e.setAttribute("class",r(e.className&&e.className.baseVal||"",t))}},VOtZ:function(e,t,n){var r=n("juv8"),i=n("MvSz");function o(e,t){return r(e,i(e),t)}e.exports=o},VU2s:function(e,t,n){"use strict";n.r(t),n.d(t,"SuccessType",function(){return i}),n.d(t,"FetchType",function(){return o}),n.d(t,"requestor",function(){return y}),n.d(t,"fetchData",function(){return b}),n.d(t,"getData",function(){return E}),n.d(t,"setData",function(){return _}),n.d(t,"setCacheDataMap",function(){return C});var i,r,o,a,s=n("7EGn"),c=n("toa8"),u=n("ywOK"),l=n("kfiP"),d=n("2ACu"),p=n("vYB2"),f=n.n(p),h=Object(l.a)().localhost,g={},m={};(r=i=i||{})[r.NO_PRELOAD=0]="NO_PRELOAD",r[r.HAS_PRELOAD=1]="HAS_PRELOAD",(a=o=o||{})[a.NO_PENDING=0]="NO_PENDING",a[a.PENDINIG=1]="PENDINIG",a[a.ERROER=2]="ERROER";var v="preloadHttpHelper",y=c.d;function b(t,n){var e=y(n);e.then(function(e){return g[t]?void console.error("".concat(t," key is exist")):(g[t]=e,delete m[t],n&&n.callback&&n.callback(t,e.data.blocks),e)},function(e){return"url"===u.c.from&&T(v,{success:i.NO_PRELOAD,isFetching:o.ERROER,message:e.message}),e});var r=f.a.CancelToken.source();return m[t]={promise:e,source:r},m[t]}function E(e){var t="url"===u.c.from;if(g[e]||m[e]){if(g[e]){t&&T(v,{success:i.HAS_PRELOAD,isFetching:o.NO_PENDING});var n=g[e];return delete g[e],{data:n,promise:Promise.resolve(n)}}return t&&T(v,{success:i.HAS_PRELOAD,isFetching:o.PENDINIG}),Object.assign({},m[e])}t&&T(v,{success:i.NO_PRELOAD})}function _(e,t){var n,r;m[e]||(n=t.promise,r=t.source,m[e]={promise:n,source:r})}function C(e,t){null===t?delete g[e]:g[e]=t}function T(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};(Object(s.default)(window,"local.localhost")||h)&&console.log("collectEvent",e,t),Object(d.collectSuiteEvent)(e,Object.assign({},t))}},Va3G:function(e,t,n){},VaNO:function(e,t){function n(e){return this.__data__.has(e)}e.exports=n},VdC8:function(e,t,n){var r=n("pevS"),i=n("9E9t");r({target:"Object",stat:!0,forced:Object.assign!==i},{assign:i})},VdqC:function(e,t,n){var r=n("D5Sy"),i=r.hasAttrib,s=r.getAttributeValue,c=n("meR+").falseFunc,u=/[-[\]{}()*+?.,\\^$|#\s]/g,o={__proto__:null,equals:function(n,e){var r=e.name,i=e.value;return e.ignoreCase?(i=i.toLowerCase(),function(e){var t=s(e,r);return null!=t&&t.toLowerCase()===i&&n(e)}):function(e){return s(e,r)===i&&n(e)}},hyphen:function(n,e){var r=e.name,i=e.value,o=i.length;return e.ignoreCase?(i=i.toLowerCase(),function(e){var t=s(e,r);return null!=t&&(t.length===o||"-"===t.charAt(o))&&t.substr(0,o).toLowerCase()===i&&n(e)}):function(e){var t=s(e,r);return null!=t&&t.substr(0,o)===i&&(t.length===o||"-"===t.charAt(o))&&n(e)}},element:function(n,e){var r=e.name,t=e.value;if(/\s/.test(t))return c;var i="(?:^|\\s)"+(t=t.replace(u,"\\$&"))+"(?:$|\\s)",o=e.ignoreCase?"i":"",a=new RegExp(i,o);return function(e){var t=s(e,r);return null!=t&&a.test(t)&&n(e)}},exists:function(t,e){var n=e.name;return function(e){return i(e,n)&&t(e)}},start:function(n,e){var r=e.name,i=e.value,o=i.length;return 0===o?c:e.ignoreCase?(i=i.toLowerCase(),function(e){var t=s(e,r);return null!=t&&t.substr(0,o).toLowerCase()===i&&n(e)}):function(e){var t=s(e,r);return null!=t&&t.substr(0,o)===i&&n(e)}},end:function(n,e){var r=e.name,i=e.value,o=-i.length;return 0===o?c:e.ignoreCase?(i=i.toLowerCase(),function(e){var t=s(e,r);return null!=t&&t.substr(o).toLowerCase()===i&&n(e)}):function(e){var t=s(e,r);return null!=t&&t.substr(o)===i&&n(e)}},any:function(n,e){var r=e.name,i=e.value;if(""===i)return c;if(e.ignoreCase){var o=new RegExp(i.replace(u,"\\$&"),"i");return function(e){var t=s(e,r);return null!=t&&o.test(t)&&n(e)}}return function(e){var t=s(e,r);return null!=t&&0<=t.indexOf(i)&&n(e)}},not:function(n,e){var r=e.name,i=e.value;return""===i?function(e){return!!s(e,r)&&n(e)}:e.ignoreCase?(i=i.toLowerCase(),function(e){var t=s(e,r);return null!=t&&t.toLowerCase()!==i&&n(e)}):function(e){return s(e,r)!==i&&n(e)}}};e.exports={compile:function(e,t,n){if(n&&n.strict&&(t.ignoreCase||"not"===t.action))throw SyntaxError("Unsupported attribute selector");return o[t.action](e,t)},rules:o}},Vfrr:function(e,t,n){"use strict";n.d(t,"a",function(){return _});var f,r,h,i,c=n("xpYl");(r=f=f||{}).POST="post",r.GET="get",(i=h=h||{}).InitData="InitData",i.Broadcast="Broadcast",i.VersionBreak="VersionBreak";var a=function(){return(a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function g(e,a,n,s){function c(t){return t instanceof n?t:new n(function(e){e(t)})}return new(n=n||Promise)(function(t,n){function r(e){try{o(s.next(e))}catch(e){n(e)}}function i(e){try{o(s.throw(e))}catch(e){n(e)}}function o(e){e.done?t(e.value):c(e.value).then(r,i)}o((s=s.apply(e,a||[])).next())})}function m(e,n){var r,i,o,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},t={next:s(0),throw:s(1),return:s(2)};return"function"==typeof Symbol&&(t[Symbol.iterator]=function(){return this}),t;function s(t){return function(e){return c([t,e])}}function c(t){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,i&&(o=2&t[0]?i.return:t[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,t[1])).done)return o;switch(i=0,o&&(t=[2&t[0],o.value]),t[0]){case 0:case 1:o=t;break;case 4:return a.label++,{value:t[1],done:!1};case 5:a.label++,i=t[1],t=[0];continue;case 7:t=a.ops.pop(),a.trys.pop();continue;default:if(!(o=0<(o=a.trys).length&&o[o.length-1])&&(6===t[0]||2===t[0])){a=0;continue}if(3===t[0]&&(!o||t[1]>o[0]&&t[1]<o[3])){a.label=t[1];break}if(6===t[0]&&a.label<o[1]){a.label=o[1],o=t;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(t);break}o[2]&&a.ops.pop(),a.trys.pop();continue}t=n.call(e,a)}catch(e){t=[6,e],i=0}finally{r=o=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}}function d(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function o(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||0<t--)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function v(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(o(arguments[t]));return e}var y="BROADCAST",s="/api/broadcast",p=s+"/get_range_message/",b=s+"/get_init_data/",u=2,l=(E.prototype.sendMessage=function(e,t){var n=this.entity,r=n.type,i=n.token,o={type:r,data:a({type:e,token:i},t),version:u};return this.io.request(o)},E.prototype.addHeartbeat=function(e,t){var n;this.registeredId?this.io.updateEntityObserver(this.entity,this.registeredId,{heartbeats:((n={})[""+e]=t,n)}):this.registHbQueue.push({name:e,options:t})},E.prototype.removeHeartbeat=function(e){this.io.removeHeartbeat(this.entity,e)},E.prototype.setHeartbeatVersion=function(e,t){this.io.setHeartbeatVersion(this.entity,e,t)},E.prototype.destroy=function(){this.registeredId&&this.io.unregisterEntityObserver(this.entity,this.registeredId),this.registeredId="",this.registHbQueue=[]},E);function E(e,t,n){var r=this;this.handleMessageQueue=[],this.registeredId="",this.registHbQueue=[],this.handleMessageFromServer=function(t){r.handleMessageQueue.forEach(function(e){return e(t)})},this.onHandlerMessageFromServer=function(e){r.handleMessageQueue.push(e)},this.offHandlerMessageFromServer=function(t){r.handleMessageQueue=r.handleMessageQueue.filter(function(e){return!(e===t)})},this.io=n,this.entity={type:e,token:t};var i=this.io.registerEntityObserver(this.entity,{heartbeats:{},messageHandler:this.handleMessageFromServer});i.then?i.then(function(e){r.registeredId=e,r.registHbQueue.forEach(function(e){var t=e.name,n=e.options;r.addHeartbeat(t,n)})}):this.registeredId=i}var _=(C.prototype.getHeartbeatEntity=function(e){return"broadcast_"+e.toLowerCase()},C.prototype.getBroadcastEntity=function(e){return e.toUpperCase()},C.prototype.unregister=function(e,t){var n=e.toUpperCase();t||this.versionManager.delete(n);var r=this.messageModuleHandlerManager.get(n);r&&this.syncClient.offHandlerMessageFromServer(r),this.messageModuleHandlerManager.delete(n),this.messageHandleManager.delete(n);var i=this.getHeartbeatEntity(n);this.syncClient.removeHeartbeat(i)},C.prototype.fetchClientVars=function(p){return g(this,void 0,void 0,function(){var t,n,r,i,o,a,s,c,u,l,d=this;return m(this,function(e){switch(e.label){case 0:return p=this.getBroadcastEntity(p),this.pendingFetchStatus.set(p,!0),[4,this.request({url:b,method:f.GET,params:{obj_type:this.serviceType,obj_token:this.serviceToken,data_type:p}}).finally(function(){d.pendingFetchStatus.set(p,!1)})];case 1:return t=e.sent(),n=t.ahead_version,r=t.behind_version,i=t.data,o=this.pendingFetchNewVersion.get(p)||0,this.logger&&this.logger.logInitVersion({aheadVersion:n,behindVersion:r,token:this.serviceToken,source:h.InitData,module:p}),a=Math.max(r,o),this.pendingFetchNewVersion.delete(p),s=[i],n===a?[3,3]:[4,this.fetchMissMessage(p,n,a)];case 2:c=e.sent().messages,u=this.handleRemoteMessage(c),c.push.apply(c,v(u)),e.label=3;case 3:return this.updateVersion(p,n),(l=this.messageHandleManager.get(p))&&l(s),[2,t]}})})},C.prototype.setupRequest=function(e){this.requestMethod=e},C.prototype.setupLogger=function(e){this.logger=e},C.prototype.updateVersion=function(e,t){var n,r=this.versionManager.get(e);void 0!==r&&r<t&&(this.versionManager.set(e,t),n=this.getHeartbeatEntity(e),this.syncClient.setHeartbeatVersion(n,t))},C.prototype.fetchMissMessage=function(s,c,u,l){return void 0===l&&(l=0),g(this,void 0,void 0,function(){var t,n,r,i,o,a;return m(this,function(e){switch(e.label){case 0:return 100<l?[2,{messages:[]}]:[4,this.request({url:p,method:f.GET,params:{obj_type:this.serviceType,obj_token:this.serviceToken,data_type:s,min_version:c,max_version:u}})];case 1:return(t=e.sent(),n=t.max_version,r=t.messages,t.has_more)?(i=l+1,[4,this.fetchMissMessage(s,n,u,i)]):[3,3];case 2:o=e.sent(),a=o.messages,t.messages=[].concat(r,a),e.label=3;case 3:return[2,t]}})})},C.prototype.request=function(n){return g(this,void 0,void 0,function(){var t;return m(this,function(e){switch(e.label){case 0:if(!this.requestMethod)throw new Error("no request method found");return this.getMemberId&&(t={memberId:this.getMemberId()},n.headers&&(t=a(a({},n.headers),t)),n.headers=t),[4,this.requestMethod(n)];case 1:return[2,e.sent().data]}})})},C.prototype.handleRemoteMessage=function(e){return e.map(function(e){return e.data})},C.prototype.destroy=function(){var t,e,n,r;this.pendingFetchNewVersion.clear(),this.pendingFetchStatus.clear(),this.messageHandleManager.clear(),this.versionManager.clear(),this.messageModuleHandlerManager.clear(),this.syncClient.destroy();try{for(var i=d(this.versionManager.keys()),o=i.next();!o.done;o=i.next()){var a=o.value,s=this.getHeartbeatEntity(a);this.syncClient.removeHeartbeat(s)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}try{for(var c=d(this.messageModuleHandlerManager.values()),u=c.next();!u.done;u=c.next()){var l=u.value;this.syncClient.offHandlerMessageFromServer(l)}}catch(e){n={error:e}}finally{try{u&&!u.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}},C);function C(e){var a=this;this.requestMethod=null,this.logger=null,this.messageHandleManager=new Map,this.messageModuleHandlerManager=new Map,this.versionManager=new Map,this.pendingFetchStatus=new Map,this.pendingFetchNewVersion=new Map,this.register=function(e,t,n){var r=e.toUpperCase(),i=a.getHeartbeatEntity(r);n||a.versionManager.set(r,0);var o=Object(c.a)(a.handleMessageFromServer,r);a.messageModuleHandlerManager.set(r,o),a.messageHandleManager.set(r,t),a.syncClient.onHandlerMessageFromServer(o),a.syncClient.addHeartbeat(i,{interval:1,callback:Object(c.a)(a.handleMessageVersionBreak,r)})},this.handleMessageFromServer=function(d,p){return g(a,void 0,void 0,function(){var t,n,r,i,o,a,s,c,u,l;return m(this,function(e){switch(e.label){case 0:return(e.trys.push([0,4,,5]),p.data)?p.type!==y?[2]:(t=p.data,(n=t.type)!==d?[2]:t.token!==this.serviceToken||void 0===(r=this.pendingFetchStatus.get(d))?(this.fetchClientVars(d),[2]):void 0!==(i=this.versionManager.get(d))&&(o=this.messageHandleManager.get(d))?(a=t.message,s=a.version,!0===r?(this.pendingFetchNewVersion.set(d,s),[2]):(this.logger&&this.logger.logBroadcastVersion({localVersion:i,remoteVersion:s,source:h.Broadcast,module:d,token:this.serviceToken,message:p}),s<i?(this.fetchClientVars(d),[2]):i+1!==s||t.oversize?[3,1]:(u=this.handleRemoteMessage([a]),o(u),[3,3]))):[2]):[2];case 1:return[4,this.fetchMissMessage(n,i,s)];case 2:c=e.sent(),u=this.handleRemoteMessage(c.messages),o(u),e.label=3;case 3:return this.updateVersion(d,s),[3,5];case 4:return l=e.sent(),console.error(l),[3,5];case 5:return[2]}})})},this.handleMessageVersionBreak=function(s,c){return g(a,void 0,void 0,function(){var t,n,r,i,o,a;return m(this,function(e){switch(e.label){case 0:return void 0===(t=this.versionManager.get(s))?[2]:c<=t||void 0===(n=this.pendingFetchStatus.get(s))?[2]:!0===n?(this.pendingFetchNewVersion.set(s,c),[2]):(this.logger&&this.logger.logVersionBreak({localVersion:t,remoteVersion:c,source:h.VersionBreak,module:s,token:this.serviceToken}),c<t?(this.fetchClientVars(s),[2]):(r=this.messageHandleManager.get(s))?(i=this.getBroadcastEntity(s),[4,this.fetchMissMessage(i,t,c)]):[2]);case 1:return o=e.sent(),a=this.handleRemoteMessage(o.messages),r(a),this.versionManager.set(s,c),[2]}})})};var t=e.serviceType,n=e.serviceToken,r=e.engineType,i=e.io,o=e.getRequest,s=e.getMemberId;this.syncClient=new l(r,n,i),this.serviceType=t,this.serviceToken=n,this.getMemberId=s(),this.requestMethod=o()}T.prototype.getOrCreateBroadcast=function(e){var t=this.broadcastMap.get(e.serviceToken);return t||(t=new _(e),this.broadcastMap.set(e.serviceToken,t)),t},T.prototype.destroyBroadcast=function(e){var t=this.broadcastMap.get(e);t&&t.destroy(),this.broadcastMap.delete(e)};function T(){this.broadcastMap=new Map}},VkAN:function(e,t){function n(e,t){return t=t||e.slice(0),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}e.exports=n},VmAD:function(e,t,n){"use strict";n.d(t,"d",function(){return l}),n.d(t,"h",function(){return d}),n.d(t,"e",function(){return p}),n.d(t,"i",function(){return f}),n.d(t,"a",function(){return h}),n.d(t,"c",function(){return g}),n.d(t,"g",function(){return m}),n.d(t,"b",function(){return v}),n.d(t,"f",function(){return y});var r=n("QILm"),a=n.n(r),i=n("lSNA"),s=n.n(i),c=n("jp/M"),u=n("QM+C"),o=n("VIFs"),l=function(){return s()({type:c.actionTypes.settings.FETCH_USER_SETTING},u.REQUEST,{url:c.apiUrls.GET_USER_PROPERTIES,method:c.apiUrls.METHOD.GET})},d=function(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1],n=e.permission_type,r=e.allow_share_outside,i=a()(e,["permission_type","allow_share_outside"]),o=t?{ext_properties:{onboarding:e}}:{permission_type:n,properties:Object.assign({},i,{allow_share_outside:Boolean(r)})};return s()({type:c.actionTypes.settings.UPDATE_USER_SETTING,payload:{settings:e}},u.REQUEST,{url:c.apiUrls.POST_UPDATE_USER_PROPERTIES,headers:{"Content-Type":"application/json"},method:c.apiUrls.METHOD.POST,data:o,options:{transformResponse:function(){return Object.assign({},e)}}})},p=function(){return s()({type:c.actionTypes.settings.FETCH_USER_TRANSLATE_SETTING},u.REQUEST,{url:c.apiUrls.GET_USER_TRANSLATE_SETTING,method:c.apiUrls.METHOD.POST})},f=function(e){return s()({type:c.actionTypes.settings.UPDATE_USER_TRANSLATE_SETTING},u.REQUEST,{url:c.apiUrls.POST_UPDATE_USER_TRANSLATE_SETTING,method:c.apiUrls.METHOD.POST,headers:{"Content-Type":"application/json"},data:e})},h=function(){return s()({type:c.actionTypes.settings.FETCH_IS_USER_TRANSLATE_VIP},u.REQUEST,{url:c.apiUrls.GET_IS_USER_TRANSLATE_VIP,method:c.apiUrls.METHOD.POST})},g=function(){return s()({type:c.actionTypes.settings.FETCH_USER_LANG_CORRECTION_SETTING},u.REQUEST,{url:c.apiUrls.LANG_CORRECTION,method:c.apiUrls.METHOD.GET,options:{transformResponse:function(e){return{lang_correction_perm:e.enabled?1:0}}}})},m=function(e){return s()({type:c.actionTypes.settings.UPDATE_USER_LANG_CORRECTION_SETTING},u.REQUEST,{url:c.apiUrls.SET_LANG_CORRECTION,method:c.apiUrls.METHOD.POST,headers:{"Content-Type":"application/json"},data:e,options:{baseURL:Object(o.prependPureAPI)(""),transformResponse:function(){return{lang_correction_perm:e.enable_ai_error_correction?1:0}}}})},v=function(){return s()({type:c.actionTypes.settings.FETCH_SMART_COMPOSE_SETTING},u.REQUEST,{url:c.apiUrls.GET_SMART_COMPOSE_SETTING,method:c.apiUrls.METHOD.POST})},y=function(e){return s()({type:c.actionTypes.settings.FETCH_UPDATE_SMART_COMPOSE_SETTING},u.REQUEST,{url:c.apiUrls.POST_UPDATE_SMART_COMPOSE_SETTING,method:c.apiUrls.METHOD.POST,headers:{"Content-Type":"application/json"},data:{setting:e},options:{transformResponse:function(){return e}}})}},Vr4U:function(e,q,Z){"use strict";Z.r(q),function(r){Z.d(q,"default",function(){return F}),Z.d(q,"docMention",function(){return Y});var e=Z("J4zp"),a=Z.n(e),t=Z("o0o1"),i=Z.n(t),n=Z("yXPU"),o=Z.n(n),s=Z("lwsE"),c=Z.n(s),u=Z("W8MJ"),l=Z.n(u),B=(Z("kooH"),Z("HmyT")),U=Z("mRaX"),H=Z("AiBH"),z=Z("7Kxq"),d=Z("7EGn"),p=Z("OZf9"),f=Z("UXvI"),h=Z("Bq+3"),g=Z("9h4r"),m=Z("pIdd"),v=Z("FGOA"),V=Z("iP/4"),y=Z("aXiW"),b=Z("H6oK"),E=Z("2ACu"),_=Z("lG83"),C=Z("dDhe"),T=Z("Hydg"),O=Z("OX8E"),k=Z("nQY9"),S=Z("lQZd"),w=Z("VI6H"),I=Z("/fVd"),K=Z("QM+C"),x=Z("rLED"),W=Z("D28M"),L=Z("y2sV"),R=Z("whZn"),N=Z("oJoF"),D=Z("Mvmg"),M=Z("PI5S"),P=Z("Guq5"),j=32,F=function(){function n(e){var s=this;c()(this,n),this.className="Mention",this.customIconEnable=Object(x.n)(),this.callbackQueueInNextTick=[],this.hasPressedAt=!1,this.init=function(){Object(C.c)()||s.initContainer(),s.cache={},s.handleResize=Object(f.default)(s.onResize,500),s.hover=new g.a(s.props),v.a.init();var e=s.props,t=e.showChatCards,n=e.source,r=e.type;t&&m.a.init({editor:s.editor,source:n}),s.mentionNotification=new k.a({editor:s.props.editor,boxType:r,fileType:Object(S.l)(),fileToken:Object(S.g)()}),s.editor.on(H.l,s.hidePopover),s.editor.on(T.a.ADD_MENTION_NOTIFY,s.onAddUserMentionNotify),s.editor.on(H.B,s.handleAfterTableRegister),s.props.controller&&s.props.controller.onReferenceListMount(s.pullAllMentionObjects)},this.hidePopover=function(e){var t=e.isDragging;s.hover&&s.hover.setCanShowPopover(!t)},this.handleAfterTableRegister=function(){s.initEmbedObjMap()},this.hasTriedPullingMention=!1,this.onMount=function(){s.updateMentionInfo({0:s.editor.getClientVars().apool.numToAttrib}),window.addEventListener("click",s.onWindowClick),O.a.on(H.D,s.toggleEmbedObjClassName),s.props.controller&&s.editor.on(N.b,o()(i.a.mark(function e(){var t,n;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([Z.e("doc_index_css"),Z.e("chunk_adit"),Z.e("commons--doc_index_delay--voteEmoji--votePicker"),Z.e(16),Z.e("commons--doc_index_delay--jira"),Z.e("doc_index_delay")]).then(Z.bind(null,"GYvY"));case 2:if(t=e.sent,n=t.default,s.editor){e.next=6;break}return e.abrupt("return");case 6:s.mentionFileManager=new n,s.docMention.setMentionFileManager(s.mentionFileManager),s.hasTriedPullingMention&&s.pullAllMentionObjects();case 9:case"end":return e.stop()}},e)})))},this.pullAllMentionObjects=function(){var e,t=s.mentionFileManager,n=s.props.controller;t&&n?(e=t.pullAllMentionObjects(s.editor),n.mentionFileListChange(e)):s.hasTriedPullingMention=!0},this.toggleEmbedObjClassName=function(e,r){var t,i;s.editor&&(t=Object(R.b)(s.editor,e),i="content-with-lock",s.editor.getObserver().withoutRecordingMutations(function(){t.forEach(function(e){var t,n=e.querySelector("a");n&&(t=n.classList.contains(i),r?t||n.classList.add(i):t&&n.classList.remove(i))})}))},this.initEmbedObjMap=function(){var e;s.embedObjShareEnable&&(e=function(e){return 0===Object.keys(e).length},I.a&&e(I.a.embedObjMap)&&I.a.initEmbedObjMap(s.editor))},this.lineNodesRendered=function(e,t){var n=t.data,r=n.lineEntries,i=void 0===r?[]:r,o=n.isFirstBlock,a=i.map(function(e){return e&&e.lineNode});setTimeout(function(){o||m.a.updateWithNodes(s.editor,a)})},this.lineNodesMounted=function(e,t){var n;s.embedObjShareEnable&&(n=I.a&&I.a.cantReadFiles||{},Object.keys(n).forEach(function(e){var t=n[e];s.toggleEmbedObjClassName(e,t)}))},this.searchStringRange=function(e,t){t.attributeList.find(function(e){return-1<e.indexOf("mention-chatId_")||-1<e.indexOf("drive-fileId")})&&(t.isSearchable=!1)},this.aceInitialized=function(e,t){s.editor=t.editorInfo,s.docMention.editor=s.editor,s.init()},this.initContainer=function(){var e=s.editor.getDocBody(),t=Object(B.$)(e).parents(".etherpad-container");t.length||(t=Object(B.$)(e).parent()),s.$positionHolder=Object(B.$)(".doc-position"),s.$positionHolder.length||(s.$positionHolder=Object(B.$)('<div class="doc-position"></div>'),t.prepend(s.$positionHolder))},this.updateMentionInfo=function(e){m.a.update(s.editor,e)},this.collectText=function(e,t){var n=t.attributes;if(-1<(n?n.map(function(e){return e[0]||""}).join(" "):"").indexOf("mention-chatId"))return"[".concat(r("etherpad.lark.group.card"),"]")},this.collectCommentTargetType=function(e,t){var n=t.node;if(-1<Object(d.default)(n,"children[0].className","").indexOf("mention-chatId"))return"groupCard"},this.onWindowClick=function(){O.a.trigger(T.a.HIDE_SHARE_POPUP)},this.onAddUserMentionNotify=function(e){var t=e.user,n=e.blockId;s.mentionNotification.addMentionNotify({userId:t.id,userName:Object(w.q)(t),isExternal:t.is_external,blockId:n,notNotify:t.not_notify,blockNotify:t.block_notify})},this.nextTick=function(e){s.callbackQueueInNextTick.push(e)},this.changesetApply=function(e,t){var n,r=t.changeset,i=t.editor;r&&(n=i.getAttributesFromChangeset(t.changeset),Object.keys(n).length&&(m.a.update(i,n),s.callbackQueueInNextTick.forEach(function(e){return e()}),s.callbackQueueInNextTick=[],s.docMention.changesetApply(e,t)))},this.reset=function(){window.removeEventListener("click",s.onWindowClick),O.a.off(H.D,s.toggleEmbedObjClassName),s.editor.off(T.a.ADD_MENTION_NOTIFY,s.onAddUserMentionNotify),s.editor.off(H.l,s.hidePopover),s.editor.off(H.B,s.handleAfterTableRegister),s.cache={};var e=s.mentionFileManager;s.props.showChatCards&&m.a.reset(),s.docMention.destory(),s.hover.destory(),v.a.destory(),s.editor=null,s.docMention.editor=null,s.closeMention(),s.docMention=null,s.handleResize.cancel(),s.handleResize=null,s.$positionHolder=null,s.component=null,e&&e.reset();var t=s.props.controller;t&&t.offReferenceListMount(s.pullAllMentionObjects)},this.bufferChanged=function(e,t){return s.docMention.bufferChanged(e,t)},this.editorAlinesDidSplice=function(e,t){return s.docMention.editorAlinesDidSplice(e,t)},this.processBeforeInsertNode=function(e,t){return s.docMention.processBeforeInsertNode(e,t)},this.aceAttribsToClasses=function(e,t){return s.docMention.aceAttribsToClasses(e,t)},this.aceCreateDomLine=function(e,t){return s.docMention.aceCreateDomLine(e,t)},this.match=function(e,t){return s.docMention.match(e,t)},this.render=function(e){return s.docMention.render(e)},this.deserialize=function(e){return s.docMention.deserialize(e)},this.serialize=function(e){return s.docMention.serialize(e)},this.aceBeforeCopy=function(e){return s.docMention.aceBeforeCopy(e)},this.aceAfterCompositionEnd=function(e){return s.docMention.aceAfterCompositionEnd(e)},this.UNSAFE_editorNormalizePasteNode=function(e){return s.docMention.UNSAFE_editorNormalizePasteNode(e)},this.editorWillPaste=function(e){return s.docMention.editorWillPaste(e)},this.collectContentPre=function(e,t){return s.docMention.collectContentPre(e,t)},this.afterPasteInsert=function(e,t){return s.docMention.afterPasteInsert(e,t)},this.acePaste=function(e,t){return s.docMention.acePaste(e,t)},this.beforeAceSelectionChange=function(e,t){Object(U.b)(s.editor,t)},this.commentListUpdate=function(){s.handleResize()},this.onResize=function(){var e,t,n,r,i,o;s.component&&s.component.isMentionBoxVisible()&&(e=s.uuid,(t=Object(B.$)(".".concat(z.a).concat(e)).get(0))&&(r=(n=s.props).boxWidth,o=(i=n.container)?Object(B.$)(i):Object(B.$)(".doc-position"),s.component.mentionBox.setState({style:Object(U.F)(Object(U.v)(t,{boxWidth:r,$boxContainer:o,bottomGap:16}))})))},this.editorSizeChange=function(){s.handleResize()},this.aceCompositionEvent=function(e,t){return s.handleKeyEvent(t,h.a,"doc")},this.isStandardAt=function(e){var t=e.key,n=e.shiftKey,r=e.type,i=e.originalEvent||e;return"keydown"===r&&(("@"===t||"Digit2"===Object(d.default)(i,"code"))&&n)},this.upload=function(e){var t=e.event,n=e.source;[P.a.A_PANEL,P.a.BLOCK_MENU].includes(n)&&s.uploadVideoFile(t)},this.linesWillReplace=function(e,t){s.docMention.linesWillReplace(e,t);var o,n=t.oldLineEntries,a=t.newLineEntries;n[0]&&a[0]&&(o=".".concat(H.o),Object(p.a)(n,function(e,t){var n,r,i=e.lineNode;a[t]&&(n=a[t].lineNode,Object(B.$)(n).find(".drive").length||Object(B.$)(i).find(".drive").length||(r=Object(B.$)(i).find(o)).length&&(Object(B.$)(n).find(o).replaceWith(r),s.editor.markNodeClean(n,a[t])))}))},this.prevTextIsWordsOrNumber=function(){if(s.editor.inCallStackIfNecessary("openMention",function(){s.editor.fastIncorp()}),V.a.isIE)return Object(U.T)();var e=s.editor.getRep(),t=a()(e.selStart,2),n=t[0],r=t[1],i=e.lines.atIndex(n),o=r?i.text.slice(r-2,r-1):"";return/^[a-zA-Z0-9]$/.test(o)},this.openMention=function(e,t,n){var r=s.uuid=Object(U.h)();s.component=s.docMention,s.closeMention();var i={uuid:r,list:[],message:s.cache.message};return t.preventDefault(),s.component.showMentionBox(e,i,t,n),Object(y.a)("confirm_mention").push({recommend_group:"default_recomment"}),!0},this.closeMention=function(e){s.component&&s.component.isMentionBoxVisible()&&(s.hasPressedAt=!1,s.component.mentionBox&&s.component.mentionBox.close(e))},this.handleChange=function(e,t){var n=s.getKeyWords(e);void 0!==n&&(Object(y.a)("confirm_mention").push({recommend_group:n?"search_recommend":"default_recomment"}),s.docMention&&s.docMention.updateKeywords(n,t))},this.handleIframeBtnClick=function(e,t,n){s.editor.call("insertIframeLink",{e:e,iframeKey:t,createSource:n})};var t=e.editor;this.props=e,t&&(this.editor=t,this.addMentionCls(),this.embedObjShareEnable=Object(x.s)(),this.init()),this.docMention=new h.a(Object.assign({},e,{embedObjShareEnable:this.embedObjShareEnable})),this.docMention.setCustomIconEnableFG(this.customIconEnable)}return l()(n,[{key:"addMentionCls",value:function(){var e;Object(x.G)()&&(e=this.editor.getDocBody(),Object(U.a)(e))}},{key:"aceKeyEvent",value:function(e,t){var n=this.props.type,r=this.editor.getRep();if(!r||0!==r.selStart[0]||"0"!==r.zoneId||"doc"!==n)return this.handleKeyEvent(t)}},{key:"insertReturn",value:function(){var e=this,t=this.editor.getRep(),n=this.editor.getLine(),r=t.lines.atIndex(n);if(this.editor.version.includes(L.y)){var i=this.editor.getContentState().getZoneState(t.zoneId).getLine(n);if(!i)return;if(i.getLineAttributes().every(function(e){return z.c.includes(e[0])})&&i.isEmpty())return}else if(r&&"string"==typeof r.text&&Object(U.N)(r.text))return;var o=t.selStart[0],a=t.lines.atIndex(o),s=[o,a.text.length],c=[o,a.text.length],u=t.selStart[0]+1;this.editor.callWithAce(function(){e.editor.performDocumentReplaceRange(e.editor.getRep().zoneId,s,c,"\n"),e.editor.dom?e.editor.performSelectionChange(t.zoneId,[u,0],[u,0]):e.editor.performSelectionChange([u,0],[u,0]),e.editor.version.includes(L.y)||e.editor.updateBrowserSelectionFromRep(!0)},"doReturn",!0)}},{key:"handleBarBtnClick",value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};r.command=t;var i={editor:this.editor,rep:this.editor.getRep()};return Object.values(H.p).includes(r.command)?(Object(E.default)("confirm_mention",{mention_type:"iframe",mention_sub_type:e,panel_source:"a_panel",zone:Object(_.l)(),line_is_empty:Object(U.P)(this.editor)}),this.handleIframeBtnClick(r,e,"toolbar")):r.command===b.BlockType.POLL_BLOCK?this.handlePollConfirm(i,n):r.command===H.q.DRIVE?this.handleFileUpload(i):(r.command===H.q.CHAT&&this.insertReturn(),this.handleOpenMention(i,r)),!0}},{key:"handleOpenMention",value:function(e,t){var n=this.uuid=Object(U.h)();this.component=this.docMention,this.closeMention();var r={uuid:n,list:[],message:this.cache.message};this.component.showMentionBox(e,r,t)}},{key:"handleFileUpload",value:function(e){this.insertReturn(),document.getElementById("uploader-file-btn").click()}},{key:"isVideoFile",value:function(e){return!!e.type&&/video\/(.*)$/.test(e.type)}},{key:"uploadVideoFile",value:function(n){var r=this;this.insertReturn(),Array.from(Object(d.default)(n,"target.files")||[]).forEach(function(e){var t;r.isVideoFile(e)&&(t=Object.assign(e,{source:D.i.TOOL_BAR,event:n}),Object(M.c)(t))})}},{key:"handlePollConfirm",value:function(e,t){var n=this.docMention,r=b.BlockType.POLL_BLOCK,i=this.uuid=Object(U.h)(),o={uuid:i,list:[],message:this.cache.message,isAPanelPoll:!0},a=Object(b.generateBlockDataSet)(Object.assign({blockType:r,creator:Object(b.getBlockCreator)(r,this.editor)},t));Object(E.default)("click_create_poll",{block_id:a.blockId,create_source:"toolbar",poll_type:t.initData.type}),n.createBlankDom(e,i,U.c,e.rep.selStart,!0);var s=function(){n.handleConfirm({data:{dataSet:a,type:H.E.BLOCK,pollType:t.initData.type}},e,o)};e.editor.version.includes(L.y)?e.editor.once("paint",s):s()}},{key:"editorKeyDown",value:function(e,t){O.a.trigger(T.a.HIDE_SHARE_POPUP),this.hover&&this.hover.hidePopover()}},{key:"handleKeyEvent",value:function(t,e){var n=this,r=t.evt,i=t.isTypeForCmdKey,o=t.padShortcutEnabled,a=r.keyCode,s=r.type,c=r.which,u=r.altKey,l=r.ctrlKey,d=r.metaKey,p=H.t.LEFT,f=H.t.RIGHT,h=H.t.UP,g=H.t.DOWN,m=H.t.RETURN,v=H.t.BACKSPACE,y=H.t.ESC,b=H.t.TAB,E=H.t.DELETE,_=this.docMention,C=_.deleteMentionIfNecessary,T=_.isMentionBoxVisible,O=_.mentionBox,k=T(),S=String.fromCharCode(c).toLowerCase();if(i&&"z"===S&&(d||l)&&!u&&o.cmdZ)k&&this.nextTick(function(){return n.handleChange(t,r)});else if(!(i&&"y"===S&&(d||l)&&o.cmdY||"c"===S&&(d||l))){var w,I=Object(U.A)(),x=Object(B.$)(I.focusNode).parent(),L=-1<[p,h,f,g,v].indexOf(a),R=!1,N=!1;if(Object(U.O)(I)&&(w=I.focusOffset,R=!this.editor.dom.isRootOfZone(x[0])&&w===x.text().length,N=0===w),"compositionstart"===s?this.composition=!0:"compositionend"===s&&(this.composition=!1),Object(U.R)(x.get(0))&&!L&&!R&&!N)if("compositionstart"===s)this.startText=x.text();else if("compositionend"===s)x.text(this.startText);else if("keydown"===s)return r.preventDefault(),!0;var D=this.props.showable,M=!k&&!K.isAnonymousAccess&&D;if("keypress"===s&&"@"===S&&M&&(this.hasPressedAt=!0),"keyup"===s&&-1===[h,g,f,p,v,m,y,b].indexOf(a)&&M){var P=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"@";if(n.hasPressedAt=!1,!n.prevTextIsWordsOrNumber())return V.a.isEdge?(n.composition=!1,n.editor.fastIncorp(!0),n.openMention(t,r,e)):n.composition?void 0:n.openMention(t,r,e)};if(Object(U.U)(this.editor))P();else if(this.hasPressedAt){var j=Object(U.E)();if(null===j)return;P(j)}}if((a===v||a===E)&&"keydown"===s&&!k)return this.needOpenMentionBox=!1,C(t);if("keydown"===s&&k&&-1<[p,f].indexOf(a)&&(t.preventOtherHooksHandle=!0,r.preventDefault()),a===v&&"keyup"===s&&k){var F=Object(U.A)().focusNode;if(Object(B.$)(F.parentNode).prev().hasClass("".concat(z.a).concat(this.uuid)))return!0;Object(W.l)(F,"".concat(z.a).concat(this.uuid))||(this.needOpenMentionBox=!1,O&&O.close())}if(k&&("keydown"===s||"compositionend"===s)){if(-1<[m,h,g,f,p].indexOf(a))return t.preventOtherHooksHandle=!0,r.preventDefault(),!0;this.nextTick(function(){return n.handleChange(t,r)})}}}},{key:"getKeyWords",value:function(e){var t=e.editor,n=t.getRep(),r=n.alinesWidth,i=n.selStart,o=n.zoneId,a=i[0],s=z.a+this.uuid,c=t.getTextAndAttrsOnSelection({selStart:[a,0],selEnd:[a,r[a]],selZone:o}).filter(function(e){return e.attributes[s]});if(c.length){var u=c[0].text,l="";if(0!==u.length){if(u[0]===U.c)l=Object(U.f)(u);else{if("@"!==u.slice(0,1))return void this.closeMention();l=u.slice(1)}return(l=(l||"").split(String.fromCharCode(160)).join(" ")).slice(0,j)}this.closeMention(!0)}}}]),n}(),Y=new F({type:"doc",postAddMentionId:!0,hoverArea:"#innerdocbody",showable:!0,showChatCards:!0,boxWidth:540,source:H.z.DOC,container:".doc-position",notify:!0})}.call(this,Z("2vAP"))},VrO2:function(e,t,n){"use strict";var l=3,u=e.exports=function(e){this.length=0,this.entries=[],this.treeAdapter=e,this.bookmark=null};u.MARKER_ENTRY="MARKER_ENTRY",u.ELEMENT_ENTRY="ELEMENT_ENTRY",u.prototype._getNoahArkConditionCandidates=function(e){var t=[];if(this.length>=l)for(var n=this.treeAdapter.getAttrList(e).length,r=this.treeAdapter.getTagName(e),i=this.treeAdapter.getNamespaceURI(e),o=this.length-1;0<=o;o--){var a=this.entries[o];if(a.type===u.MARKER_ENTRY)break;var s=a.element,c=this.treeAdapter.getAttrList(s);this.treeAdapter.getTagName(s)===r&&this.treeAdapter.getNamespaceURI(s)===i&&c.length===n&&t.push({idx:o,attrs:c})}return t.length<l?[]:t},u.prototype._ensureNoahArkCondition=function(e){var t=this._getNoahArkConditionCandidates(e),n=t.length;if(n){for(var r=this.treeAdapter.getAttrList(e),i=r.length,o=Object.create(null),a=0;a<i;a++){var s=r[a];o[s.name]=s.value}for(a=0;a<i;a++)for(var c=0;c<n;c++){var u=t[c].attrs[a];if(o[u.name]!==u.value&&(t.splice(c,1),n--),t.length<l)return}for(a=n-1;l-1<=a;a--)this.entries.splice(t[a].idx,1),this.length--}},u.prototype.insertMarker=function(){this.entries.push({type:u.MARKER_ENTRY}),this.length++},u.prototype.pushElement=function(e,t){this._ensureNoahArkCondition(e),this.entries.push({type:u.ELEMENT_ENTRY,element:e,token:t}),this.length++},u.prototype.insertElementAfterBookmark=function(e,t){for(var n=this.length-1;0<=n&&this.entries[n]!==this.bookmark;n--);this.entries.splice(n+1,0,{type:u.ELEMENT_ENTRY,element:e,token:t}),this.length++},u.prototype.removeEntry=function(e){for(var t=this.length-1;0<=t;t--)if(this.entries[t]===e){this.entries.splice(t,1),this.length--;break}},u.prototype.clearToLastMarker=function(){for(;this.length;){var e=this.entries.pop();if(this.length--,e.type===u.MARKER_ENTRY)break}},u.prototype.getElementEntryInScopeWithTagName=function(e){for(var t=this.length-1;0<=t;t--){var n=this.entries[t];if(n.type===u.MARKER_ENTRY)return null;if(this.treeAdapter.getTagName(n.element)===e)return n}return null},u.prototype.getElementEntry=function(e){for(var t=this.length-1;0<=t;t--){var n=this.entries[t];if(n.type===u.ELEMENT_ENTRY&&n.element===e)return n}return null}},VsT0:function(e,t,n){n("qLPT");var r=n("oWnS");e.exports=r("Array").forEach},VsXB:function(e,t,n){n("pevS")({target:"Object",stat:!0},{setPrototypeOf:n("7GIe")})},"W/5f":function(e,t,n){"use strict";e.exports=o;var g=/^(?:\\.|[\w\-\u00c0-\uFFFF])+/,r=/\\([\da-f]{1,6}\s?|(\s)|.)/gi,m=/^\s*((?:\\.|[\w\u00c0-\uFFFF\-])+)\s*(?:(\S?)=\s*(?:(['"])([^]*?)\3|(#?(?:\\.|[\w\u00c0-\uFFFF\-])*)|)|)\s*(i)?\]/,v={__proto__:null,undefined:"exists","":"equals","~":"element","^":"start",$:"end","*":"any","!":"not","|":"hyphen"},y={__proto__:null,">":"child","<":"parent","~":"sibling","+":"adjacent"},b={__proto__:null,"#":["id","equals"],".":["class","element"]},E={__proto__:null,has:!0,not:!0,matches:!0},_={__proto__:null,contains:!0,icontains:!0},C={__proto__:null,'"':!0,"'":!0};function i(e,t,n){var r="0x"+t-65536;return r!=r||n?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)}function T(e){return e.replace(r,i)}function O(e){return" "===e||"\n"===e||"\t"===e||"\f"===e||"\r"===e}function o(e,t){var n=[];if(""!==(e=k(n,e+"",t)))throw new SyntaxError("Unmatched selector: "+e);return n}function k(e,n,t){var r,i,o,a,s=[],c=!1;function u(){var e=n.match(g)[0];return n=n.substr(e.length),T(e)}function l(e){for(;O(n.charAt(e));)e++;n=n.substr(e)}function d(e){for(var t=0;"\\"===n.charAt(--e);)t++;return 1==(1&t)}for(l(0);""!==n;)if(O(i=n.charAt(0)))c=!0,l(1);else if(i in y)s.push({type:y[i]}),c=!1,l(1);else if(","===i){if(0===s.length)throw new SyntaxError("empty sub-selector");e.push(s),c=!(s=[]),l(1)}else if(c&&(0<s.length&&s.push({type:"descendant"}),c=!1),"*"===i)n=n.substr(1),s.push({type:"universal"});else if(i in b)n=n.substr(1),s.push({type:"attribute",name:b[i][0],action:b[i][1],value:u(),ignoreCase:!1});else if("["===i){if(!(r=(n=n.substr(1)).match(m)))throw new SyntaxError("Malformed attribute selector: "+n);n=n.substr(r[0].length),o=T(r[1]),t&&("lowerCaseAttributeNames"in t?!t.lowerCaseAttributeNames:t.xmlMode)||(o=o.toLowerCase()),s.push({type:"attribute",name:o,action:v[r[2]],value:T(r[4]||r[5]||""),ignoreCase:!!r[6]})}else if(":"===i)if(":"!==n.charAt(1)){if(n=n.substr(1),o=u().toLowerCase(),r=null,"("===n.charAt(0))if(o in E){var p=(a=n.charAt(1))in C;if(n=k(r=[],n=n.substr(p+1),t),p){if(n.charAt(0)!==a)throw new SyntaxError("unmatched quotes in :"+o);n=n.substr(1)}if(")"!==n.charAt(0))throw new SyntaxError("missing closing parenthesis in :"+o+" "+n);n=n.substr(1)}else{for(var f=1,h=1;0<h&&f<n.length;f++)"("!==n.charAt(f)||d(f)?")"!==n.charAt(f)||d(f)||h--:h++;if(h)throw new SyntaxError("parenthesis not matched");r=n.substr(1,f-2),n=n.substr(f),o in _&&((a=r.charAt(0))===r.slice(-1)&&a in C&&(r=r.slice(1,-1)),r=T(r))}s.push({type:"pseudo",name:o,data:r})}else n=n.substr(2),s.push({type:"pseudo-element",name:u().toLowerCase()});else{if(!g.test(n))return s.length&&"descendant"===s[s.length-1].type&&s.pop(),S(e,s),n;o=u(),t&&("lowerCaseTags"in t?!t.lowerCaseTags:t.xmlMode)||(o=o.toLowerCase()),s.push({type:"tag",name:o})}return S(e,s),n}function S(e,t){if(0<e.length&&0===t.length)throw new SyntaxError("empty sub-selector");e.push(t)}},W0Ae:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n("mrSG"),i=n("isby"),o=n("IUTb"),a=n("MGBS"),s=n("zotm");function c(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(1===e.length){if(!Object(i.a)(e[0]))return e[0];e=e[0]}return Object(o.a)(e,void 0).lift(new u)}var u=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new l(e))},e}(),l=function(n){function e(e){var t=n.call(this,e)||this;return t.hasFirst=!1,t.observables=[],t.subscriptions=[],t}return r.__extends(e,n),e.prototype._next=function(e){this.observables.push(e)},e.prototype._complete=function(){var e=this.observables,t=e.length;if(0===t)this.destination.complete();else{for(var n=0;n<t&&!this.hasFirst;n++){var r=e[n],i=Object(s.a)(this,r,r,n);this.subscriptions&&this.subscriptions.push(i),this.add(i)}this.observables=null}},e.prototype.notifyNext=function(e,t,n,r,i){if(!this.hasFirst){this.hasFirst=!0;for(var o,a=0;a<this.subscriptions.length;a++)a!==n&&((o=this.subscriptions[a]).unsubscribe(),this.remove(o));this.subscriptions=null}this.destination.next(t)},e}(a.a)},W1ep:function(e,t,n){var p=n("b42z"),f=n("JhaV"),h=n("ZyXh"),g=n("GUr9"),m=n("C3ug"),v=n("+qqD"),y=function(e,t){this.stopped=e,this.result=t};(e.exports=function(e,t,n,r,i){var o,a,s,c,u,l,d=g(t,n,r?2:1);if(i)o=e;else{if("function"!=typeof(a=m(e)))throw TypeError("Target is not iterable");if(f(a)){for(s=0,c=h(e.length);s<c;s++)if((u=r?d(p(l=e[s])[0],l[1]):d(e[s]))&&u instanceof y)return u;return new y(!1)}o=a.call(e)}for(;!(l=o.next()).done;)if((u=v(o,d,l.value,r))&&u instanceof y)return u;return new y(!1)}).stop=function(e){return new y(!0,e)}},WASD:function(e,t,n){var r=n("b70m"),i={input:!0,option:!0,optgroup:!0,select:!0,button:!0,datalist:!0,textarea:!0},o={tr:{tr:!0,th:!0,td:!0},th:{th:!0},td:{thead:!0,th:!0,td:!0},body:{head:!0,link:!0,script:!0},li:{li:!0},p:{p:!0},h1:{p:!0},h2:{p:!0},h3:{p:!0},h4:{p:!0},h5:{p:!0},h6:{p:!0},select:i,input:i,output:i,button:i,datalist:i,textarea:i,option:{option:!0},optgroup:{optgroup:!0}},a={__proto__:null,area:!0,base:!0,basefont:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,isindex:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},s={__proto__:null,math:!0,svg:!0},c={__proto__:null,mi:!0,mo:!0,mn:!0,ms:!0,mtext:!0,"annotation-xml":!0,foreignObject:!0,desc:!0,title:!0},u=/\s|\//;function l(e,t){this._options=t||{},this._cbs=e||{},this._tagname="",this._attribname="",this._attribvalue="",this._attribs=null,this._stack=[],this._foreignContext=[],this.startIndex=0,this.endIndex=null,this._lowerCaseTagNames="lowerCaseTags"in this._options?!!this._options.lowerCaseTags:!this._options.xmlMode,this._lowerCaseAttributeNames="lowerCaseAttributeNames"in this._options?!!this._options.lowerCaseAttributeNames:!this._options.xmlMode,this._options.Tokenizer&&(r=this._options.Tokenizer),this._tokenizer=new r(this._options,this),this._cbs.onparserinit&&this._cbs.onparserinit(this)}n("P7XM")(l,n("fiWp").EventEmitter),l.prototype._updatePosition=function(e){null===this.endIndex?this._tokenizer._sectionStart<=e?this.startIndex=0:this.startIndex=this._tokenizer._sectionStart-e:this.startIndex=this.endIndex+1,this.endIndex=this._tokenizer.getAbsoluteIndex()},l.prototype.ontext=function(e){this._updatePosition(1),this.endIndex--,this._cbs.ontext&&this._cbs.ontext(e)},l.prototype.onopentagname=function(e){if(this._lowerCaseTagNames&&(e=e.toLowerCase()),this._tagname=e,!this._options.xmlMode&&e in o)for(var t;(t=this._stack[this._stack.length-1])in o[e];this.onclosetag(t));!this._options.xmlMode&&e in a||(this._stack.push(e),e in s?this._foreignContext.push(!0):e in c&&this._foreignContext.push(!1)),this._cbs.onopentagname&&this._cbs.onopentagname(e),this._cbs.onopentag&&(this._attribs={})},l.prototype.onopentagend=function(){this._updatePosition(1),this._attribs&&(this._cbs.onopentag&&this._cbs.onopentag(this._tagname,this._attribs),this._attribs=null),!this._options.xmlMode&&this._cbs.onclosetag&&this._tagname in a&&this._cbs.onclosetag(this._tagname),this._tagname=""},l.prototype.onclosetag=function(e){if(this._updatePosition(1),this._lowerCaseTagNames&&(e=e.toLowerCase()),!this._stack.length||e in a&&!this._options.xmlMode)this._options.xmlMode||"br"!==e&&"p"!==e||(this.onopentagname(e),this._closeCurrentTag());else{var t=this._stack.lastIndexOf(e);if(-1!==t)if(this._cbs.onclosetag)for(t=this._stack.length-t;t--;)this._cbs.onclosetag(this._stack.pop());else this._stack.length=t;else"p"!==e||this._options.xmlMode||(this.onopentagname(e),this._closeCurrentTag())}},l.prototype.onselfclosingtag=function(){this._options.xmlMode||this._options.recognizeSelfClosing||this._foreignContext[this._foreignContext.length-1]?this._closeCurrentTag():this.onopentagend()},l.prototype._closeCurrentTag=function(){var e=this._tagname;this.onopentagend(),this._stack[this._stack.length-1]===e&&(this._cbs.onclosetag&&this._cbs.onclosetag(e),this._stack.pop(),(e in s||e in c)&&this._foreignContext.pop())},l.prototype.onattribname=function(e){this._lowerCaseAttributeNames&&(e=e.toLowerCase()),this._attribname=e},l.prototype.onattribdata=function(e){this._attribvalue+=e},l.prototype.onattribend=function(){this._cbs.onattribute&&this._cbs.onattribute(this._attribname,this._attribvalue),this._attribs&&!Object.prototype.hasOwnProperty.call(this._attribs,this._attribname)&&(this._attribs[this._attribname]=this._attribvalue),this._attribname="",this._attribvalue=""},l.prototype._getInstructionName=function(e){var t=e.search(u),n=t<0?e:e.substr(0,t);return this._lowerCaseTagNames&&(n=n.toLowerCase()),n},l.prototype.ondeclaration=function(e){var t;this._cbs.onprocessinginstruction&&(t=this._getInstructionName(e),this._cbs.onprocessinginstruction("!"+t,"!"+e))},l.prototype.onprocessinginstruction=function(e){var t;this._cbs.onprocessinginstruction&&(t=this._getInstructionName(e),this._cbs.onprocessinginstruction("?"+t,"?"+e))},l.prototype.oncomment=function(e){this._updatePosition(4),this._cbs.oncomment&&this._cbs.oncomment(e),this._cbs.oncommentend&&this._cbs.oncommentend()},l.prototype.oncdata=function(e){this._updatePosition(1),this._options.xmlMode||this._options.recognizeCDATA?(this._cbs.oncdatastart&&this._cbs.oncdatastart(),this._cbs.ontext&&this._cbs.ontext(e),this._cbs.oncdataend&&this._cbs.oncdataend()):this.oncomment("[CDATA["+e+"]]")},l.prototype.onerror=function(e){this._cbs.onerror&&this._cbs.onerror(e)},l.prototype.onend=function(){if(this._cbs.onclosetag)for(var e=this._stack.length;0<e;this._cbs.onclosetag(this._stack[--e]));this._cbs.onend&&this._cbs.onend()},l.prototype.reset=function(){this._cbs.onreset&&this._cbs.onreset(),this._tokenizer.reset(),this._tagname="",this._attribname="",this._attribs=null,this._stack=[],this._cbs.onparserinit&&this._cbs.onparserinit(this)},l.prototype.parseComplete=function(e){this.reset(),this.end(e)},l.prototype.write=function(e){this._tokenizer.write(e)},l.prototype.end=function(e){this._tokenizer.end(e)},l.prototype.pause=function(){this._tokenizer.pause()},l.prototype.resume=function(){this._tokenizer.resume()},l.prototype.parseChunk=l.prototype.write,l.prototype.done=l.prototype.end,e.exports=l},WPeF:function(e,t){function n(e,r,i,o,t){return t(e,function(e,t,n){i=o?(o=!1,e):r(i,e,t,n)}),i}e.exports=n},WUVX:function(e,t,n){"use strict";var r=n("RIqP"),$=n.n(r),i=n("J4zp"),ee=n.n(i),o=n("o0o1"),te=n.n(o),a=n("yXPU"),ne=n.n(a),re=n("hbEN"),ie=n("Bw5p"),oe=n("q1tI"),ae=n.n(oe),s=n("XRg5"),c=n("VkAN"),u=n.n(c),l=n("vOnD"),d=n("/GXw"),p=n("qxQb"),f=n.n(p),se=n("TfC2");function h(){var e=u()(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  border-radius: 4px;\n  background-color: ",";\n}"]);return h=function(){return e},e}function g(){var e=u()(["\n  position: relative;\n  min-width: 1px;\n  width: ","%;\n  background-color: ",";\n  &::before,\n  &::after {\n    content: '';\n    top: 0;\n    position: absolute;\n    width: 8px;\n    height: 8px;\n    border-radius: 50%;\n    background-color: ",";\n  }\n  &::before {\n    left: -4px;\n  }\n  &::after {\n    right: -4px;\n  }\n"]);return g=function(){return e},e}function m(){var e=u()(["\n  display: flex;\n  width: 40px;\n  height: 8px;\n  padding: 0 4px;\n  border-radius: 4px;\n  background-color: ",";\n  z-index: 1;\n"]);return m=function(){return e},e}function v(){var e=u()(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  border-radius: 4px;\n  background-color: ",";\n  pointer-events: none;\n"]);return v=function(){return e},e}function y(){var e=u()(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  border-radius: 4px;\n  background-color: ",";\n"]);return y=function(){return e},e}function b(){var e=u()(["\n  position: absolute;\n  top: 0;\n  right: 0;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 24px;\n  height: 24px;\n  border-radius: 4px;\n  cursor: pointer;\n  z-index: 2;\n  svg {\n    pointer-events: none;\n  }\n  &:hover {\n    opacity: 0.9;\n  }\n"]);return b=function(){return e},e}function E(){var e=u()(["\n  position: relative;\n  width: ","px;\n  height: ","px;\n  margin: ","px;\n  transition: transform .1s linear;\n  border: 1px solid ",";\n  border-radius: 4px;\n  ","\n  "," {\n    display: ",";\n  }\n  ","\n  ","\n  ","\n  img {\n    width: 100%;\n    height: 100%;\n    display: block;\n    object-fit: cover;\n    border-radius: 4px;\n    cursor: zoom-in;\n    user-select: none;\n  }\n"]);return E=function(){return e},e}function _(){var e=u()(["\n  position: relative;\n  display: flex;\n  align-items: center;\n  flex-wrap: wrap;\n  margin: -2px;\n  cursor: ",";\n  "," {\n    cursor: ",";\n  }\n  "," {\n    img {\n      cursor: ",";\n    }\n    ","\n  }\n"]);return _=function(){return e},e}var ce=l.default.div(_(),function(e){return e.isDragImage?"grabbing":"auto"},function(){return T},function(e){return e.isDragImage?"grabbing":"pointer"},function(){return C},function(e){return e.isDragImage?"grabbing":"zoom-in"},function(e){return e.isDragImage?"":"\n      &:hover {\n        &::before {\n          content: '';\n          position: absolute;\n          left: -1px;\n          top: -1px;\n          right: -1px;\n          bottom: -1px;\n          border-radius: 4px;\n          border: 2px solid ".concat(d.c,";\n          pointer-events: none;\n        }\n      }\n    ")}),C=l.default.div(E(),se.d,se.d,se.c,d.s,function(e){return e.isDragImage?"\n    opacity: .6;\n    &::before {\n      content: '';\n      position: absolute;\n      left: -1px;\n      top: -1px;\n      right: -1px;\n      bottom: -1px;\n      border-radius: 4px;\n      border: 2px solid ".concat(d.c,";\n      pointer-events: none;\n    }\n  "):""},function(){return T},function(e){return e.isDragImage?"none":"flex"},function(e){return e.isDrag?"\n    &::after {\n      content: '';\n      position: absolute;\n      right: -6px;\n      top: 0;\n      width: 2px;\n      height: ".concat(se.d,"px;\n      background-color: ").concat(d.f,";\n    }\n  "):""},function(e){return e.isDragFirst?"\n    &::after {\n      content: '';\n      position: absolute;\n      left: -".concat(se.a,"px;\n      top: 0;\n      width: 2px;\n      height: ").concat(se.d,"px;\n      background-color: ").concat(d.f,";\n    }\n  "):""},function(e){return e.needTransformRight?"\n    transform: translateX(".concat(se.a,"px);\n  "):""}),T=l.default.div(b()),O=l.default.div(y(),d.r),k=l.default.div(v(),f()(d.q,.4)),S=l.default.div(m(),f()(d.t,.6)),w=l.default.div(g(),function(e){return e.percentage},d.f,d.f),I=l.default.div(h(),d.r),x=n("lwsE"),L=n.n(x),R=n("W8MJ"),N=n.n(R),D=n("UXvI"),ue=function(){function t(e){var E=this;L()(this,t),this.mouseDownContext=null,this.handleMouseDown=function(e){var t,n=e.target;e instanceof MouseEvent&&2===e.button||n instanceof HTMLImageElement&&n.classList.contains("comment-image-cover")&&E.options.container.contains(n)&&(e.preventDefault(),t=Array.from(E.options.container.querySelectorAll(".comment-image-cover")).findIndex(function(e){return e===n}),E.mouseDownContext={currentImage:t,hasTriggerDrag:!1,isMoving:!1,dragPosition:-1})},this.handleMouseMove=Object(D.default)(function(e){var t,n,r,i,o,a,s,c,u,l,d,p,f,h,g,m,v,y,b;E.mouseDownContext&&(n=e instanceof MouseEvent?(t=e.pageX,e.pageY):(t=e.touches[0].pageX,e.touches[0].pageY),i=(r=E.mouseDownContext).hasTriggerDrag,o=r.currentImage,s=(a=E.options).imageList,c=a.container,u=a.onDragPositionChange,l=a.onDrag,d=a.lineImageCount,l&&!i&&(l(o),E.mouseDownContext.hasTriggerDrag=!0),E.mouseDownContext.isMoving=!0,p=s[o],E.insertImageDrag(n-se.b/2,t-se.b/2,p.coverSrc||p.src),g=n-(f=c.getBoundingClientRect()).top,(h=t-(f.left-se.e/2))>se.e*(d+1)||g>se.e*Math.ceil(se.f/d)||h<0||g<0?u&&u(-1):(m=Math.floor(h/se.e)+Math.floor(g/se.e)*(d+1),v=s.length,y=Math.floor(v/d)*(d+1)+v%d,b=Math.min(m,y),E.mouseDownContext.dragPosition=b,u&&u(b)))},16),this.handleMouseUp=function(){var e,t,n,r,i,o,a,s,c,u,l;E.mouseDownContext&&(t=(e=E.mouseDownContext).isMoving,n=e.dragPosition,r=e.currentImage,E.mouseDownContext=null,t&&(o=(i=E.options).onDragPositionChange,a=i.onDrag,s=i.onDragEnd,c=i.lineImageCount,E.removeImageDrag(),o&&o(-1),a&&a(-1),u=r+Math.ceil((r+1)/c)<=n,l=n-Math.floor(n/(c+1))-(u?1:0),s&&s(r,l)))},document.addEventListener("mousedown",this.handleMouseDown),document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("mouseup",this.handleMouseUp),document.addEventListener("touchstart",this.handleMouseDown),document.addEventListener("touchmove",this.handleMouseMove),document.addEventListener("touchend",this.handleMouseUp),this.options=e}return N()(t,[{key:"insertImageDrag",value:function(e,t,n){var r,i=document.getElementById("comment-image-drag");i?(i.style.top=e+"px",i.style.left=t+"px"):((i=document.createElement("div")).id="comment-image-drag",i.style.position="absolute",i.style.top=e+"px",i.style.left=t+"px",i.style.width="".concat(se.b,"px"),i.style.height="".concat(se.b,"px"),i.style.padding="2px",i.style.borderRadius="4px",i.style.backgroundColor=d.o,i.style.border="1px solid ".concat(d.s),i.style.zIndex="9999",i.style.cursor="grabbing",i.style.pointerEvents="none",(r=document.createElement("img")).src=n,r.style.display="block",r.style.width="100%",r.style.height="100%",r.style.objectFit="cover",r.style.borderRadius="4px",i.appendChild(r),document.body.appendChild(i))}},{key:"removeImageDrag",value:function(){var e=document.getElementById("comment-image-drag");e&&e.remove()}},{key:"updateImageList",value:function(e){this.options.imageList=e}},{key:"destroy",value:function(){this.removeImageDrag(),document.removeEventListener("mousedown",this.handleMouseDown),document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),document.removeEventListener("touchstart",this.handleMouseDown),document.removeEventListener("touchmove",this.handleMouseMove),document.removeEventListener("touchend",this.handleMouseUp)}}]),t}(),M=n("96li"),P=n("pVnL"),j=n.n(P),F=n("QILm"),B=n.n(F),U=function(e){e.styles;var t=B()(e,["styles"]);return ae.a.createElement("svg",j()({width:"18",height:"18",viewBox:"0 0 18 18",fill:"none"},t),ae.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9 18A9 9 0 109 0a9 9 0 000 18z",fill:"#1F2329",fillOpacity:".6"}),ae.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.48 12.4a.4.4 0 000 .57l.29.28c.15.16.4.16.56 0l3.54-3.53 3.53 3.53a.4.4 0 00.57 0l.28-.28a.4.4 0 000-.57L9.72 8.87l3.53-3.54a.4.4 0 000-.56l-.28-.29a.4.4 0 00-.57 0L8.87 8.02 5.33 4.48a.4.4 0 00-.56 0l-.29.29a.4.4 0 000 .56l3.54 3.54-3.54 3.53z",fill:"#fff"}))},H=function(e){e.styles;var t=B()(e,["styles"]);return ae.a.createElement("svg",j()({width:"20",height:"18",viewBox:"0 0 20 18",fill:"none"},t),ae.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.05 8.4L5.66 6a.69.69 0 00-.98 0l-3.3 3.31V1.38h10.78l.8-1.38H.7C.31 0 0 .3 0 .69v15.86c0 .38.3.7.69.7h2.17l5.19-8.86zm9.19-3.92a1.72 1.72 0 11-3.45 0 1.72 1.72 0 013.45 0zM15.76 0h3.55c.38 0 .69.3.69.69v15.86c0 .38-.3.7-.69.7H5.66l4.15-7.1 2.6 2.6 2.96-2.95c.27-.27.71-.27.98 0l2.27 2.27V1.37h-3.67L15.76 0z",fill:"#9CA2A9"}))},z=n("HiAM"),V=function(){var e=Object(oe.useState)(!1),t=ee()(e,2),n=t[0],r=t[1];return Object(oe.useEffect)(function(){var e=setTimeout(function(){r(!0)},100);return function(){clearTimeout(e)}},[]),n?ae.a.createElement(O,null):null},le=function(e){var t=e.isDragImage,n=e.isDrag,r=e.isDragFirst,i=e.needTransformRight,o=e.canEdit,a=e.canDelete,s=e.onDelete,c=e.imageItem,u=e.onImageMouseDown,l=e.onImagePreview,d=e.inViewport,p=Object(oe.useState)(c.status),f=ee()(p,2),h=f[0],g=f[1];Object(oe.useEffect)(function(){c.status===M.a.LOADING&&-1<[M.a.READY,M.a.FAILED,M.a.LOADING].indexOf(h)||g(c.status)},[c.status]);var m=function(e){e.preventDefault()},v=function(){g(M.a.FAILED)},y=function(){o||g(M.a.READY)},b=function(){var e=null;switch(h){case M.a.UPLOADING:if(!o)break;e=ae.a.createElement(k,null,ae.a.createElement(S,null,ae.a.createElement(w,{percentage:c.percentage||1})));break;case M.a.FAILED:e=ae.a.createElement(I,null,ae.a.createElement(H,null));break;case M.a.LOADING:e=ae.a.createElement(V,null)}return e};return ae.a.createElement(C,{className:"comment-image-item",isDragImage:t,isDrag:n,isDragFirst:r,needTransformRight:i},(o||a)&&ae.a.createElement(T,{onMouseDown:m,onClick:function(){return s()},"data-keep":!0},ae.a.createElement(U,null)),b(),h!==M.a.FAILED&&ae.a.createElement(z.c,{canEdit:o,imageStatus:h,imageItem:c,onMouseDown:u,onClick:l,onLoad:y,onError:v,canLoadCover:d}))},K=n("m3ds"),W=n("LghI"),de=n("OX8E"),pe=n("SyrE"),fe=n("Trbk"),Y=n("Xngx"),q=n("hNo0"),he=function(e,t){return!(t.left-e.left+t.width<0||t.left-e.left>e.width||t.top-e.top+t.height<0||t.top-e.top>e.height)},ge="DocComment",Z=function(e){var n=document.createElement("div");return e.forEach(function(e){var t;e.status!==M.a.FAILED&&((t=document.createElement("img")).dataset.src=e.src,n.appendChild(t))}),n},me=function(){var i=ne()(te.a.mark(function e(t,n,r,i){var o,a;return te.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!K.a.isLark||K.a.isLKP||K.a.isInVC){e.next=7;break}return o=t.map(function(e,t){return e.token?{key:"commentImage"+t,url:Object(Y.c)({fileToken:e.token,mountPoint:{token:r,type:q.a.COMMENT_IMAGE}})}:void console.warn("[comment image] Can not find token when preview.")}).filter(function(e){return!!e}),e.next=4,W.e.openLarkImageViewer({images:o,index:n});case 4:if(e.sent)return e.abrupt("return",null);e.next=7;break;case 7:return(a=Object(s.createViewer)(Z(t),{initialViewIndex:n,hidden:function(){i&&i(-1),a.destroy()},loading:!0,report:function(e){"PREV"!==e.actionType&&"NEXT"!==e.actionType||i&&i(a.index)}},s.MODULE_TYPE.COMMENT)).show(),e.abrupt("return",a);case 10:case"end":return e.stop()}},e)}));return function(e,t,n,r){return i.apply(this,arguments)}}(),X=function(l){var e=l.style,t=l.imageList,o=l.onImageListChange,n=l.onDeleteImage,d=l.canEdit,p=l.canDelete,r=l.lineImageCount,i=void 0===r?1/0:r,a=l.scrollContainer,s=l.isCalcCommentPosition,c=void 0===s||s,u=Object(oe.useState)(-1),f=ee()(u,2),h=f[0],g=f[1],m=Object(oe.useState)(-1),v=ee()(m,2),y=v[0],b=v[1],E=Object(oe.useState)(t),_=ee()(E,2),C=_[0],T=_[1],O=Object(oe.useState)(!1),k=ee()(O,2),S=k[0],w=k[1],I=Object(oe.useRef)(null),x=Object(oe.useRef)(C),L=Object(oe.useState)(i),R=ee()(L,2),N=R[0],D=R[1],M=Object(oe.useRef)(null),P=Object(oe.useRef)(null),j=Object(oe.useRef)(null),F=Object(oe.useRef)(a),B=function(e){g(e)},U=function(e){M.current=null,b(e)},H=Object(oe.useCallback)(function(e,t){var n,r,i;e!==t&&(r=(n=$()(x.current)).splice(e,1),i=ee()(r,1)[0],n.splice(t,0,i),o&&o(n))},[x]),z=Object(oe.useCallback)(function(){if(N!==1/0)return N;var e=I.current.getBoundingClientRect().width;return Math.floor((e+2*se.c)/se.e)||1},[N]),V=function(e){I.current&&!P.current&&(P.current=new ue({container:I.current,imageList:C,lineImageCount:e,onDragPositionChange:B,onDrag:U,onDragEnd:H}))},K=Object(oe.useCallback)(function(){var t=ne()(te.a.mark(function e(t){var n,r,i,o,a,s,c,u;return te.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.actionType,r=t.data,i=r.commentId,o=r.replyId,a=r.imageIndex,s=l.commentId,c=l.replyId,"CommentImagePreview"!==n||i!==s||o!==c)return j.current&&(j.current.destroy(),j.current=null),e.abrupt("return");e.next=6;break;case 6:if(!(-1<a)){e.next=17;break}if(!j.current){e.next=11;break}j.current.view(a),e.next=15;break;case 11:return e.next=13,me(C,a,o);case 13:(u=e.sent)&&(j.current=u);case 15:e.next=18;break;case 17:j.current&&(j.current.destroy(),j.current=null);case 18:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}(),[C]),W=Object(oe.useCallback)(function(e){var t,n,r;S||c&&I.current&&e.target&&((t=e.target).contains(I.current)&&(n=t.getBoundingClientRect(),r=I.current.getBoundingClientRect(),he(Object(ie.a)(n,["top","left","width","height"]),Object(ie.a)(r,["top","left","width","height"]))&&w(!0)))},[I,S,c]),Y=Object(oe.useCallback)(Object(re.default)(W,150),[W]);Object(oe.useEffect)(function(){var e=z();return D(e),d&&V(e),a.forEach(function(e){W({target:e}),e.addEventListener("scroll",Y)}),pe.g.on("".concat(fe.g,":").concat(ge),K),function(){P.current&&P.current.destroy(),Y.cancel(),F.current.forEach(function(e){e.removeEventListener("scroll",Y)}),pe.g.off("".concat(fe.g,":").concat(ge),K)}},[]),Object(oe.useEffect)(function(){F.current.forEach(function(e){e.removeEventListener("scroll",Y)}),a.forEach(function(e){W({target:e}),e.addEventListener("scroll",Y)}),F.current=a},[a]),Object(oe.useEffect)(function(){return de.a.on("CommentImageScroll",Y),function(){de.a.off("CommentImageScroll",Y)}},[Y]),Object(oe.useEffect)(function(){T(t),x.current=t},[t]),Object(oe.useEffect)(function(){var e;0<C.length?(e=z(),D(e),P.current?P.current.updateImageList(C):d&&V(e)):P.current&&(P.current.destroy(),P.current=null)},[C]);var q,Z=function(e){if(n&&!n(e))return;var t=$()(C);t.splice(e,1),o&&o(t)},X=function(e){var t;2!==e.button&&(e.preventDefault(),t=z(),D(t),M.current={pageX:e.pageX,pageY:e.pageY})},Q=function(){var n=ne()(te.a.mark(function e(t,n){var r,i,o,a,s,c,u;return te.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(M.current){e.next=2;break}return e.abrupt("return");case 2:if(r=t.pageX,i=t.pageY,o=M.current,a=o.pageX,s=o.pageY,5<Math.abs(a-r)||5<Math.abs(s-i))return e.abrupt("return");e.next=6;break;case 6:t.stopPropagation(),c=l.commentId,u=l.replyId,me(C,n,u,function(e){de.a.emit(fe.a,{module:ge,actionType:"CommentImagePreview",data:{commentId:c,replyId:u,imageIndex:e}})}),c&&u&&de.a.emit(fe.a,{module:ge,actionType:"CommentImagePreview",data:{commentId:c,replyId:u,imageIndex:n}});case 10:case"end":return e.stop()}},e)}));return function(e,t){return n.apply(this,arguments)}}();i&&i!==1/0&&(q=se.e*i+se.a);var J=Math.ceil(C.length/N);return ae.a.createElement("div",{style:e,ref:I},C.length&&ae.a.createElement(ce,{style:{maxWidth:q},isDragImage:-1<y},Array(J).fill(0).map(function(e,s){var c=Math.floor(h/(N+1))===s,u=h%(N+1);return Array(N).fill(0).map(function(e,t){var n=s*N+t;if(n+1>C.length)return null;var r=C[n],i=c&&0!==u&&u-1===t,o=c&&0===u&&0===t,a=u<=t&&c;return ae.a.createElement(le,{key:n+(r.uid||""),isDragImage:y===n,isDrag:i,isDragFirst:o,needTransformRight:a,onDelete:function(){return Z(n)},imageItem:C[n],onImageMouseDown:X,onImagePreview:function(e){return Q(e,n)},canDelete:p,canEdit:d,inViewport:S})})})))};t.a=X},WUpD:function(e,t,n){"use strict";var r=n("pevS"),i=n("3uAa").findIndex,o=n("xE4W"),a="findIndex",s=!0;a in[]&&Array(1)[a](function(){s=!1}),r({target:"Array",proto:!0,forced:s},{findIndex:function(e){return i(this,e,1<arguments.length?arguments[1]:void 0)}}),o(a)},"Wc+A":function(e,s,f){"use strict";(function(m){var e=f("pVnL"),c=f.n(e),t=f("lwsE"),n=f.n(t),v=f("wq9/"),y=f("HmyT"),b=f("mRaX"),u=f("bCSi"),r=f("q1tI"),l=f.n(r),i=f("i8i4"),d=f.n(i),o=f("Si88"),p=f.n(o),a=function e(){var g=this;n()(this,e),this.showPopover=function(e){var t=e.uuid,n=e.editor,r=e.container,i=e.token,o=e.suiteType,a=e.title;g.visible&&(g.clearPopupHideTimeout(),g.closePopOver());var s,c,u,l,d,p,f,h=Object(y.$)(".mention-uuid_".concat(t));h&&(s=Object(v.a)(h.get(0),n),c=Object(y.$)(r),u=84,l=48,d=Object(b.k)([m("permission.embed.share_tips_2")+m("permission.embed.share_btn")],57),p=Object(b.v)(h,{horizontalAlign:"center",boxWidth:d,boxMaxHeight:u,boxMinHeight:l,upFirst:!0,gap:10,zoom:s,$container:c,coverNavBar:!0}),f={style:Object(b.F)(p),container:c.get(0),handlePopOverEnter:g.onMouseEnter,handlePopOverLeave:g.onMouseLeave},g.renderPopOver(f,i,o,a),g.hidePopupTimeoutId=setTimeout(function(){g.onHideSharePopup()},4e3))},this.renderPopOver=function(e,t,n,r){var i=e.container,o=e.style,a=document.createElement("div");i.appendChild(a),g.container=i,g.wrapper=a;var s=!0;d.a.render(l.a.createElement(p.a,{in:s,timeout:250,classNames:"popover-fade",onExited:g.remove},l.a.createElement("section",{onMouseEnter:g.onMouseEnter,onMouseLeave:g.onMouseLeave},l.a.createElement(u.a,c()({token:t,type:n,title:r,style:o},{closePopover:g.closePopOver,onHideSharePopup:g.onHideSharePopup})))),a,function(){g.visible=!0})},this.close=function(){d.a.unmountComponentAtNode(g.wrapper),g.container.removeChild(g.wrapper),g.wrapper=null,g.container=null},this.closePopOver=function(){g.visible&&(g.close(),g.visible=!1)},this.onMouseEnter=function(){g.isHoverPopup=!0,g.clearPopupHideTimeout()},this.onMouseLeave=function(){g.isHoverPopup=!1,g.clearPopupHideTimeout(),g.hidePopupTimeoutId=setTimeout(function(){g.onHideSharePopup()},2e3)},this.onHideSharePopup=function(){g.isHoverPopup||g.closePopOver()},this.clearPopupHideTimeout=function(){clearTimeout(g.hidePopupTimeoutId),g.hidePopupTimeoutId=0},this.destroy=function(){g.clearPopupHideTimeout(),g.closePopOver()},this.isHoverPopup=!1,this.hidePopupTimeoutId=0,this.visible=!1,this.wrapper=null,this.container=null};s.a=a}).call(this,f("2vAP"))},WtIE:function(e,t,n){"use strict";n.d(t,"a",function(){return b}),n.d(t,"b",function(){return E});var r=n("lwsE"),i=n.n(r),o=n("W8MJ"),a=n.n(o),s=n("cDf5"),c=n.n(s),u=n("q1tI"),l=n.n(u),d=n("YNKm"),p=n("YWBl"),f=n("7Kxq"),h=n("F9bh"),g=n("y2sV"),m=n("OWch"),v=n("Nl7c"),y=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":c()(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;0<=s;s--)(i=e[s])&&(a=(o<3?i(a):3<o?i(t,n,a):i(t,n))||a);return 3<o&&a&&Object.defineProperty(t,n,a),a},b="IGNORE_UNDERLINE",E=function(){function t(e){var a=this;i()(this,t),this.editor=e,this.className="Underline",this.aceInitialized=function(e,t){a.register(t.editorInfo)},this.register=function(e){e.commands.registerAceCommand(d.db,function(e,t,n,r){var i=r.source,o=a.toggleAttribute({attribKey:"underline",attribValue:!0});Object(p.a)({action:"underline",op:o?f.g:f.f,source:i})},{statusKey:"underline-true"})},this.aceAttribsToClasses=function(e,t){return"underline"===t.key?["tag:u"]:null},this.editor=e,this.register(e)}return a()(t,[{key:"toggleAttribute",value:function(e){var t=e.attribKey,n=e.attribValue,r=e.range,i=e.isSpecialSelection,o=e.isAllHasAttrib,a=r.selStart,s=r.selEnd,c=r.attributeManager;return i?(c.setAttributesOnRange(a,s,[[t,o?"":n]]),o):this.editor.toggleAttributeOnSelection(t,r,n)}},{key:"serialize",value:function(e){return Object(g.P)(e,{tagAttribute:d.db,wrapTag:g.a[d.db]})}},{key:"match",value:function(e){return"underline"===e}},{key:"deserialize",value:function(e){var t=e.node,n=e.deltaSet,r=e.zoneId;if(t instanceof HTMLElement){var i=t.tagName,o=t.getAttribute("style")||"";if("U"===i||"INS"===i||/\btext-decoration(-line)?:[^;]*underline\b/i.test(o))return Object(g.H)(n,r,{underline:"true"})}return n}},{key:"render",value:function(e){var t=e.children;return l.a.createElement(g.w,{style:{textDecoration:"underline"}},t)}}]),t}();y([Object(h.a)()],E.prototype,"toggleAttribute",null),y([m.a,Object(v.b)()],E.prototype,"render",null)},WtsB:function(e,t,n){var r=n("pevS"),i=n("wbIY"),c=n("FN+V"),u=n("pCEo"),l=n("RLqH"),d=n("bBVJ");r({target:"Object",stat:!0,sham:!i},{getOwnPropertyDescriptors:function(e){for(var t,n,r=u(e),i=l.f,o=c(r),a={},s=0;o.length>s;)void 0!==(n=i(r,t=o[s++]))&&d(a,t,n);return a}})},Wvup:function(e,t,n){var r,i,o,a=n("OsYe"),s=n("Bvq2"),c=n("/EgQ"),u=n("GUr9"),l=n("7b0v"),d=n("ejc7"),p=a.location,f=a.setImmediate,h=a.clearImmediate,g=a.process,m=a.MessageChannel,v=a.Dispatch,y=0,b={},E="onreadystatechange",_=function(e){var t;b.hasOwnProperty(e)&&(t=b[e],delete b[e],t())},C=function(e){return function(){_(e)}},T=function(e){_(e.data)},O=function(e){a.postMessage(e+"",p.protocol+"//"+p.host)};f&&h||(f=function(e){for(var t=[],n=1;n<arguments.length;)t.push(arguments[n++]);return b[++y]=function(){("function"==typeof e?e:Function(e)).apply(void 0,t)},r(y),y},h=function(e){delete b[e]},"process"==c(g)?r=function(e){g.nextTick(C(e))}:v&&v.now?r=function(e){v.now(C(e))}:m?(o=(i=new m).port2,i.port1.onmessage=T,r=u(o.postMessage,o,1)):!a.addEventListener||"function"!=typeof postMessage||a.importScripts||s(O)?r=E in d("script")?function(e){l.appendChild(d("script"))[E]=function(){l.removeChild(this),_(e)}}:function(e){setTimeout(C(e),0)}:(r=O,a.addEventListener("message",T,!1))),e.exports={set:f,clear:h}},WwFo:function(e,t,n){var r=n("juv8"),i=n("7GkX");function o(e,t){return e&&r(t,i(t),e)}e.exports=o},WxoT:function(e,t,n){e.exports=n("DSbf")},Wy5O:function(e,t,n){"use strict";var r=n("Yvae"),i=n("uT1x"),o=n("LV2V"),a=n("AQwl"),s=Object(o.a)(function(e,t){return Object(a.a)(e)?Object(r.a)(e,Object(i.a)(t,1,a.a,!0)):[]});t.a=s},Wz9t:function(e,t,n){"use strict";n.r(t),n.d(t,"$",function(){return E}),n.d(t,"A",function(){return ee}),n.d(t,"B",function(){return L}),n.d(t,"C",function(){return _}),n.d(t,"D",function(){return Z}),n.d(t,"E",function(){return ne}),n.d(t,"F",function(){return Y}),n.d(t,"G",function(){return T}),n.d(t,"H",function(){return U}),n.d(t,"I",function(){return K}),n.d(t,"J",function(){return V}),n.d(t,"K",function(){return H}),n.d(t,"L",function(){return Ae}),n.d(t,"M",function(){return B}),n.d(t,"N",function(){return O}),n.d(t,"O",function(){return le}),n.d(t,"P",function(){return D}),n.d(t,"Q",function(){return R}),n.d(t,"R",function(){return j}),n.d(t,"S",function(){return w}),n.d(t,"T",function(){return X}),n.d(t,"U",function(){return P}),n.d(t,"V",function(){return S}),n.d(t,"W",function(){return x}),n.d(t,"X",function(){return z}),n.d(t,"Y",function(){return J}),n.d(t,"Z",function(){return Q}),n.d(t,"_",function(){return $}),n.d(t,"a",function(){return C}),n.d(t,"b",function(){return Ee}),n.d(t,"c",function(){return q}),n.d(t,"d",function(){return _e}),n.d(t,"e",function(){return N}),n.d(t,"f",function(){return I}),n.d(t,"g",function(){return ue}),n.d(t,"h",function(){return ae}),n.d(t,"i",function(){return ge}),n.d(t,"j",function(){return de}),n.d(t,"k",function(){return pe}),n.d(t,"l",function(){return fe}),n.d(t,"m",function(){return W}),n.d(t,"n",function(){return he}),n.d(t,"o",function(){return me}),n.d(t,"p",function(){return se}),n.d(t,"q",function(){return ye}),n.d(t,"r",function(){return ce}),n.d(t,"s",function(){return ve}),n.d(t,"t",function(){return oe}),n.d(t,"u",function(){return ie}),n.d(t,"v",function(){return be}),n.d(t,"w",function(){return re}),n.d(t,"x",function(){return k}),n.d(t,"y",function(){return te}),n.d(t,"z",function(){return M});var r,i,o,a=n("5PDf"),s=n.n(a),c=n("04Ix"),u=n.n(c),l=n("yIs4"),d=n("OL4R"),p=n("STz3"),f=n.n(p),h=n("BmhO"),g=n("UF4K"),m=n.n(g),v=n("ZbhI"),y=n.n(v),b={"archive.name":"","archive.no_result":"","archive.size":"","common.can_not_copy":"","common.cancel":"","common.confirm":"","common.download":"","common.download_failed":"","common.download_success":"","common.downloading":"","common.file_deleted_content":"","common.file_need_password":"","common.file_not_found_content":"","common.file_preview_failed":"","common.file_too_large":"","common.file_too_small":"0","common.file_transcoding":"","common.file_type_not_supported":"","common.find":"","common.find_placeholder":"","common.loading":"","common.network_error":"","common.no_authority":"","common.no_permission_content":"","common.open_locally":"","common.prompt":"","common.retry":"","common.save_failed":"","common.save_success":"!","common.save_to_drive":"","common.saving_to_drive":"...","common.share":"","common.view_in_drive":"","common.waiting_render":"","error.excel.size_exceeded":"","error.wps.action_back_to_preview":"","error.wps.action_request_permission":"","error.wps.file_too_large":"","error.wps.generic":"","error.wps.offline":"","error.wps.permission":"","error.wps.session_full":"","image.download":"","image.exitfullscreen":"","image.fullscreen":"","image.next":"","image.onetoone":"","image.prev":"","image.reset":"","image.rotate":"","image.zoomin":"","image.zoomout":"","pdf.comment":"","pdf.copy":"","pdf.download":"","pdf.exitfullscreen":"","pdf.fullscreen":"","pdf.fullscreen_tips":" ESC ","pdf.next":"","pdf.password_is_wrong":"","pdf.password_tips":"","pdf.play":"","pdf.presentation_end":"","pdf.presentation_last":" ESC ","pdf.prev":"","pdf.print":"","pdf.print_loading":"","pdf.sidebar":"","pdf.turn_page":"","pdf.zoomin":"","pdf.zoomout":"","video.aborted_error":"","video.decode_error":"","video.error":"","video.have_current_data":"/","video.have_enough_data":"","video.have_future_data":"","video.have_meta_data":"/","video.have_nothing":"/","video.network.empty":"/","video.network.idle":"/","video.network.loading":"","video.network.no_source":"/","video.network_error":"","video.not_supported":"/","video.original_file":"","video.replay":"","video.stats":"","warning.file_preview_limited":"${1} "},E=Object.freeze({__proto__:null,default:b}),_={EXPLORER:"explorer"},C={SAVE_TO_DRIVE_SUCCESS:"SAVE_TO_DRIVE_SUCCESS",SAVE_TO_DRIVE_FAILED:"SAVE_TO_DRIVE_FAILED",WAITING_RENDER:"WAITING_RENDER",DOWNLOAD_ERROR:"DOWNLOAD_ERROR",DOWNLOAD_SUCCESS:"DOWNLOAD_SUCCESS",COPY_FAILED:"COPY_FAILED"},T=3e3,O=1e4,k=40,S=10,w=90002101,I=2e3,x="folder",L=s()(r=f()(h.m)).call(r,l.default),R=[h.m.LINEARIZED_JPG,h.m.LINEARIZED_PNG],N={AUDIO:"audio",VIDEO:"video"},D=new m.a([[h.m.PDF,h.n.PDF],[h.m.LINEARIZED_PDF,h.n.PDF],[h.m.PNG,h.n.IMG],[h.m.JPG,h.n.IMG],[h.m.LINEARIZED_JPG,h.n.IMG],[h.m.LINEARIZED_PNG,h.n.IMG],[h.m.VIDEO,h.n.VIDEO],[h.m.ARCHIVE,h.n.ARCHIVE],[h.m.TEXT,h.n.CODE],[h.m.HTML,h.n.SHEET]]),M=new m.a([[h.s.PDF,[h.m.LINEARIZED_PDF,h.m.PDF]],[h.s.DOC,[h.m.LINEARIZED_PDF,h.m.PDF]],[h.s.DOCX,[h.m.LINEARIZED_PDF,h.m.PDF]],[h.s.DOT,[h.m.LINEARIZED_PDF,h.m.PDF]],[h.s.DOTX,[h.m.LINEARIZED_PDF,h.m.PDF]],[h.s.PPT,[h.m.LINEARIZED_PDF,h.m.PDF]],[h.s.PPTX,[h.m.LINEARIZED_PDF,h.m.PDF]],[h.s.PPS,[h.m.LINEARIZED_PDF,h.m.PDF]],[h.s.PPSX,[h.m.LINEARIZED_PDF,h.m.PDF]],[h.s.POT,[h.m.LINEARIZED_PDF,h.m.PDF]],[h.s.RTF,[h.m.LINEARIZED_PDF,h.m.PDF]],[h.s.XLS,[h.m.HTML,h.m.LINEARIZED_PDF,h.m.PDF]],[h.s.XLSX,[h.m.HTML,h.m.LINEARIZED_PDF,h.m.PDF]],[h.s.XLSM,[h.m.HTML,h.m.LINEARIZED_PDF,h.m.PDF]],[h.s.CSV,[h.m.TEXT,h.m.LINEARIZED_PDF,h.m.PDF]],[h.s.TXT,[h.m.TEXT,h.m.LINEARIZED_PDF,h.m.PDF]],[h.s.AVI,[h.m.VIDEO]],[h.s.MOV,[h.m.VIDEO]],[h.s.MP4,[h.m.VIDEO]],[h.s.A3GP,[h.m.VIDEO]],[h.s.A3GPP,[h.m.VIDEO]],[h.s.A3GPP2,[h.m.VIDEO]],[h.s.ASF,[h.m.VIDEO]],[h.s.DV,[h.m.VIDEO]],[h.s.M2T,[h.m.VIDEO]],[h.s.M4V,[h.m.VIDEO]],[h.s.MKV,[h.m.VIDEO]],[h.s.MPE,[h.m.VIDEO]],[h.s.MPG,[h.m.VIDEO]],[h.s.MTS,[h.m.VIDEO]],[h.s.OGV,[h.m.VIDEO]],[h.s.RM,[h.m.VIDEO]],[h.s.TS,[h.m.VIDEO]],[h.s.VOB,[h.m.VIDEO]],[h.s.WEBM,[h.m.VIDEO]],[h.s.WMV,[h.m.VIDEO]],[h.s.SKETCH,[h.m.PNG]],[h.s.HEIC,[h.m.JPG]],[h.s.HEIF,[h.m.JPG]],[h.s.JPEG,[h.m.LINEARIZED_JPG]],[h.s.JPG,[h.m.LINEARIZED_JPG]],[h.s.PNG,[h.m.LINEARIZED_PNG]],[h.s.SVG,[h.m.LINEARIZED_PNG,h.m.PNG]],[h.s.PSD,[h.m.LINEARIZED_PNG,h.m.PNG]],[h.s.PSB,[h.m.LINEARIZED_PNG,h.m.PNG]],[h.s.AI,[h.m.LINEARIZED_PNG,h.m.PNG]],[h.s.TAR,[h.m.ARCHIVE]],[h.s.GZ,[h.m.ARCHIVE]],[h.s.BZ2,[h.m.ARCHIVE]],[h.s.ZIP,[h.m.ARCHIVE]],[h.s.RAR,[h.m.ARCHIVE]],[h.s.PAGES,[h.m.LINEARIZED_PDF,h.m.PDF]],[h.s.NUMBERS,[h.m.LINEARIZED_PDF,h.m.PDF]],[h.s.KEY,[h.m.LINEARIZED_PDF,h.m.PDF]]]),P=new m.a([[h.m.LINEARIZED_JPG,h.m.JPG],[h.m.LINEARIZED_PNG,h.m.PNG],[h.m.LINEARIZED_PDF,h.m.PDF]]),j=[h.j.INTERFACE_ERROR,h.j.GET_FILE_INFO_ERROR,h.j.IFRAME_NETWORK_ERROR,h.j.PROGRESS,h.j.WPS_GENERIC_ERROR,h.j.WPS_NETWORK_OFFLINE],F=(i={},u()(i,h.a.LARK,h.h.LARK),u()(i,h.a.APPBUILDER,h.h.APPBUILDER),u()(i,h.a.SMARTABLE,h.h.SMARTABLE),i),B=Object(d.a)(F),U="drive-pdf-info",H="drive-media-info",z="drive-sheet-info",V=256,K={SAVE_TO_DRIVE:"saveToDrive",VIEW_IN_DRIVE:"viewInDrive",DOWNLOAD:"download",OPEN_LOCALLY:"openLocally",SHARE:"share"},W={name:"",size:-1,available_preview_type:[],preview_status:h.j.GET_FILE_INFO_ERROR,version:"",data_version:"",comment_flag:0,weboffice:!1},Y={FILE_TOKEN:"FILE_TOKEN",VERSION:"VERSION",SEED:"SEED",IS_IN_EDIT_MODE:"IS_IN_EDIT_MODE"},q=[h.n.PDF],Z={chrome:["mp4v","hvc1","fmp4","hev1","apcn"],safari:["mp4v","vp09","fmp4","hev1"]},X={EXCEL:"excel",PDF:"pdf"},Q={WPS:1},J={UNKNOWN:"Unknown",FILE_INFO_ERROR:"GetFileInfoFailed",USER_NOT_LOGIN:"userNotLogin",INVALID_LINK:"InvalidLink",SESSION_FULL:"SessionFull",FAIL:"Fail",PERMISSION_DENIED:"PermissionDenied",GET_TOKEN_FAILED:"GetTokenFailed",SESSION_EXPIRED:"SessionExpired",FILE_TOO_LARGE:"fileTooLarge"},$={READ:1,EDIT:2},ee="ALL_PREVIEW_STATUS",te={PDF_PRINT:"PDF_PRINT",PDF_TO_PREV_PAGE:"PDF_TO_PREV_PAGE",PDF_TO_NEXT_PAGE:"PDF_TO_NEXT_PAGE",PDF_JUMP_TO_PAGE:"PDF_JUMP_TO_PAGE",PDF_ZOOM_IN:"PDF_ZOOM_IN",PDF_ZOOM_OUT:"PDF_ZOOM_OUT",MEDIA_PLAY:"MEDIA_PLAY",MEDIA_PAUSE:"MEDIA_PAUSE",MEDIA_SET_CURRENT_TIME:"MEDIA_SET_CURRENT_TIME",MEDIA_SET_CURRENT_VOLUME:"MEDIA_SET_CURRENT_VOLUME",SHEET_TO_TAB:"SHEET_TO_TAB",WPS_JUMP_TO_PAGE:"WPS_JUMP_TO_PAGE",WPS_SAVE:"WPS_SAVE",WPS_TAB_TO_INDEX:"WPS_TAB_TO_INDEX",WPS_PRINT:"WPS_PRINT"},ne={HEADER:"header",TOOLBAR:"toolbar",NOT_PREVIEWABLE_COMPONENT:"not_previewable_component",PREVIEW_COMPONENT:"preview_component"},re={CLICK:"click",AUTO:"auto"},ie=s()(o=f()(h.b)).call(o,function(e){return 0===y()(e).call(e,h.k)}),oe=[h.b.SAVE_TO_DRIVE_FAILED,h.b.WPS_COMMON_ERROR,h.b.MULTI_ERROR],ae="toggle_attribute",se="preview_pv",ce="outside_toggle_attribute",ue="dev_performance_drive_open_finish",le="dev_performance_drive_open_stages",de="click_open_mentioned_obj",pe="mention_download",fe="link_clicked",he="drive_enter_presentation",ge="preview_error",me="media_play_cost_time",ve="common_error",ye="preview_reload_i18n",be={RequestFileInfo:"request_file_info",RequestPreviewUrl:"request_preview_url",RenderFile:"render_file"},Ee={Success:"DEC0",Cancel:"DEC1",NetworkError:"DEC2",RenderError:"DEC3",RequestFileInfoError:"DEC4",RequestPreviewUrlError:"DEC5",FileDeletedError:"DEC6",NoPermission:"DEC7",NotFound:"DEC8",Unknown:"DEC9",UnsupportedFileType:"DEC11",FileSizeExceed:"DEC12",EmptyFileContent:"DEC13",Transcoding:"DEC14"},_e=new m.a([[h.j.INTERFACE_ERROR,Ee.NetworkError],[h.j.FILE_RENDER_ERROR,Ee.RenderError],[h.j.GET_FILE_INFO_ERROR,Ee.RequestFileInfoError],[h.j.GET_PREVIEW_URL_ERROR,Ee.RequestPreviewUrlError],[h.j.GET_PREVIEW_URL_FATAL,Ee.RequestPreviewUrlError],[h.j.FILE_TYPE_UNSUPPORTED,Ee.UnsupportedFileType],[h.j.FILE_TOO_LARGE,Ee.FileSizeExceed],[h.j.FILE_EMPTY,Ee.EmptyFileContent],[h.j.IFRAME_NETWORK_ERROR,Ee.NetworkError],[h.j.PROGRESS,Ee.Transcoding],[h.j.NO_PERMISSION,Ee.NoPermission],[h.j.FILE_DELETED,Ee.FileDeletedError],[h.j.FILE_NOT_FOUND,Ee.NotFound],[h.j.FILE_NEED_PASSWORD,Ee.Cancel],[h.j.PART_ERROR,Ee.RequestPreviewUrlError],[h.j.PREVIEW_TYPE_UNMATCH,Ee.RequestPreviewUrlError],[h.j.ARCHIVE_FILE_TYPE_UNEXPECTED,Ee.RequestPreviewUrlError],[h.j.ARCHIVE_FILE_WHOLE_NODE_COUNT_EXCEEDED,Ee.FileSizeExceed],[h.j.ARCHIVE_FILE_SINGLE_NODE_COUNT_EXCEEDED,Ee.FileSizeExceed]]),Ae={doc:"drivesdk_creation",doc_file:"drivesdk_creation",bitable:"drivesdk_creation",default:"ccm_drive"}},WzBf:function(e,t,n){"use strict";n.d(t,"a",function(){return d});var r=n("lwsE"),i=n.n(r),o=n("W8MJ"),a=n.n(o),s=n("mJXI"),c=n("5gS9"),u=n("toa8"),l=n("rLED"),d=function(){function o(){i()(this,o)}return a()(o,null,[{key:"register",value:function(e,t){var n=this.generateOptions(e),r=n.token,i=o.messageBoxMap.get(r);i||(i=new s.a(n,c.b.getInstance(),u.d,Object(l.H)()),o.messageBoxMap.set(r,i)),i.register(t,n.subtype)}},{key:"deregister",value:function(e,t){var n=this.generateOptions(e),r=o.messageBoxMap.get(n.token);r&&(r.deregister(t,n.subtype),r.isRegistered()||(r.destory(),o.messageBoxMap.delete(n.token)))}},{key:"onError",value:function(e,t){var n=this.generateOptions(e),r=o.messageBoxMap.get(n.token);r||(r=new s.a(n,c.b.getInstance(),u.d,Object(l.H)()),o.messageBoxMap.set(n.token,r)),r.onError(t)}},{key:"removeErrorListener",value:function(e,t){var n=this.generateOptions(e),r=o.messageBoxMap.get(n.token);r&&r.removeErrorListener(t)}},{key:"generateOptions",value:function(e){return"string"==typeof e?{token:e}:e}}]),o}();d.messageBoxMap=new Map},X2y7:function(e,m,v){"use strict";(function(s){v.d(m,"a",function(){return l}),v.d(m,"b",function(){return g});var e=v("o0o1"),f=v.n(e),t=v("yXPU"),r=v.n(t),n=v("lwsE"),i=v.n(n),h=v("LghI"),o=v("wOYm"),a=v("n/R6"),c=v("Douc"),u=v("2ACu"),l="newComment",d=function e(t){var p=this;i()(this,e),this.isSupportDraft=!1,this.activeDocDraft=null,this.drafCommentId=null,this.commentData=null,this.commentPositionLoaded=!1,this.isHandleCommentDraftMounted=!1,this.commentDrafContextMap=new Map,this.logDevCommentDraft=function(e){Object(u.collectSuiteEvent)("comment_draft_dev_log",e)},this.updateLoadingStatus=function(e){p.commentPositionLoaded=e},this.getCommentPositionLoaded=function(){return p.commentPositionLoaded},this.setCommentData=function(e){p.commentData=e,p.handleUnusualScene()},this.handleUnusualScene=function(){if(p.commentData&&p.activeDocDraft){var e=p.activeDocDraft,t=e.commentId,n=e.replyId,r=e.commentDrafContext;if(t!==l&&!r){var i=p.findCommentById(t);if(!i)return p.resetActiveDocDraft(),p.handleToast(s("draft.comment.deleted")),void console.error("");var o=i.finish,a=i.commentList;if(o)return p.resetActiveDocDraft(),void p.handleToast(s("draft.comment.finish"));n&&(a.find(function(e){return e.replyId===n})||(p.resetActiveDocDraft(),p.handleToast(s("draft.comment.deleted"))))}}},this.resetActiveDocDraft=r()(f.a.mark(function e(){var t;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(p.activeDocDraft){e.next=2;break}return e.abrupt("return");case 2:if(t=p.activeDocDraft.id,p.clearActiveDocDraft(),t)return e.next=7,p.deleteDocDraft(t);e.next=7;break;case 7:case"end":return e.stop()}},e)})),this.getIsHandleCommentDraftMounted=function(){return p.isHandleCommentDraftMounted},this.showOriginTextDeleted=function(){p.resetActiveDocDraft(),p.handleToast(s("draft.comment.text_deleted"))},this.handleToast=function(e){a.a.removeAll(),a.a.error({duration:3e3,closable:!0,content:e})},this.findCommentById=function(t){return p.commentData?p.commentData.find(function(e){return e.commentId===t}):null},this.clearDrafCommentId=function(){p.drafCommentId=null},this.clearActiveDocDraft=function(){p.activeDocDraft=null},this.getCommentDrafIsSupport=function(){return p.isSupportDraft},this.getDrafCommentId=function(){return p.drafCommentId},this.getActiveDocDraft=function(){return p.activeDocDraft},this.deleteDocDraft=function(){var t=r()(f.a.mark(function e(t){var n;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.e.deleteDocDraft(t,p.token);case 2:return n=e.sent,p.logDevCommentDraft({action:"deleteDocDraft",draftId:t}),e.abrupt("return",n);case 5:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}(),this.destroy=function(){p.clearDrafCommentId(),p.clearActiveDocDraft(),p.isSupportDraft=!1,p.commentPositionLoaded=!1,p.isHandleCommentDraftMounted=!1},this.setCommentDraft=function(){var t=r()(f.a.mark(function e(t){var n,r,i,o,a,s,c,u,l,d;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(p.isSupportDraft){e.next=2;break}return e.abrupt("return");case 2:if(n=t.commentId,r=t.commentDrafContext,i=t.replyId,o=t.content,a=t.html,s=t.whole,r&&p.commentDrafContextMap.set(n,r),o){e.next=11;break}if(p.drafCommentId)return e.next=8,p.deleteDocDraft(p.drafCommentId);e.next=10;break;case 8:p.clearDrafCommentId(),p.clearActiveDocDraft();case 10:return e.abrupt("return");case 11:if(p.drafCommentId){e.next=16;break}return e.next=14,h.e.saveDocDraft({token:p.token,content:o||"",extra:{commentId:n,replyId:i,html:a||"",whole:s,commentDrafContext:p.commentDrafContextMap.get(n)||null},updateTime:(new Date).getTime()});case 14:return p.drafCommentId=e.sent,e.abrupt("return");case 16:return e.next=18,h.e.getDocDraft(p.token);case 18:if((c=e.sent).length<=0)return e.abrupt("return");e.next=21;break;case 21:return u=c[c.length-1],l=r||u.extra.commentDrafContext||p.commentDrafContextMap.get(n),d={commentId:n,replyId:i,whole:s,html:a||u.extra.html||"",commentDrafContext:l},e.next=26,h.e.saveDocDraft({id:p.drafCommentId,token:p.token,content:o||u.content||"",updateTime:(new Date).getTime(),extra:d});case 26:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}(),this.getHasDocDraft=r()(f.a.mark(function e(){var t,n;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(p.activeDocDraft)return e.abrupt("return",!0);e.next=2;break;case 2:if(Object(h.d)()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.prev=4,e.next=7,h.e.getDocDraft(p.token);case 7:if((t=e.sent).length<=0)return e.abrupt("return",!1);e.next=10;break;case 10:if(n=t[t.length-1],p.activeDocDraft=n.extra,"string"==typeof p.activeDocDraft&&(p.activeDocDraft=JSON.parse(p.activeDocDraft)),p.activeDocDraft){e.next=15;break}return e.abrupt("return");case 15:return p.activeDocDraft.id=n.id,e.abrupt("return",!0);case 19:return e.prev=19,e.t0=e.catch(4),e.abrupt("return",!1);case 22:case"end":return e.stop()}},e,null,[[4,19]])})),this.handleCommentDraftMount=function(){var n=r()(f.a.mark(function e(t,n){var r,i,o;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(p.isSupportDraft=Object(h.d)(),p.logDevCommentDraft({action:"handleCommentDraftMount",isSupportDraft:p.isSupportDraft}),p.isSupportDraft){e.next=4;break}return e.abrupt("return");case 4:if(p.isHandleCommentDraftMounted=!1,p.activeDocDraft){e.next=16;break}return e.next=8,h.e.getDocDraft(p.token);case 8:if((r=e.sent).length<=0)return e.abrupt("return");e.next=11;break;case 11:if(i=r[r.length-1],p.activeDocDraft=i.extra,p.activeDocDraft){e.next=15;break}return e.abrupt("return");case 15:p.activeDocDraft.id=i.id;case 16:if(p.activeDocDraft.id)return e.next=19,p.deleteDocDraft(p.activeDocDraft.id);e.next=19;break;case 19:if(p.logDevCommentDraft({action:"getActiveDocDraft",haveHtml:!!p.activeDocDraft.html,haveDrafContext:!!p.activeDocDraft.commentDrafContext,haveOnCommentDraftMount:!!t}),p.activeDocDraft.html){e.next=22;break}return e.abrupt("return");case 22:if(p.activeDocDraft.commentDrafContext&&t)return e.next=25,t({commentId:p.activeDocDraft.commentId,commentDraftContext:p.activeDocDraft.commentDrafContext,token:p.token});e.next=30;break;case 25:if(o=e.sent,p.logDevCommentDraft({action:"onCommentDraftMountResult",result:o}),o===c.a.SUCCESS_AND_CHANGE&&p.handleToast(s("draft.comment.change")),o===c.a.VERSION_OUT_OF_BOUNDS||o===c.a.NET_EXCEPTION||o===c.a.FOLLOW_EXCEPTION||o===c.a.COMMENT_MOUNT_EXCEPTION)return e.abrupt("return");e.next=30;break;case 30:p.handleUnusualScene(),p.isHandleCommentDraftMounted=!0,n();case 33:case"end":return e.stop()}},e)}));return function(e,t){return n.apply(this,arguments)}}(),this.token=t.token};function p(e){var t=e.token;return new d({token:t})}var g=Object(o.a)(p,function(e){return"".concat(e.token)})}).call(this,v("2vAP"))},X32N:function(e,t){e.exports=function(e,t,n){if(!(e instanceof t))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return e}},"X5/F":function(e,t,n){var r=n("CeEi"),i=n("mRwR");function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=r(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}e.exports=o},XB4d:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var I=n("nVH4"),x=n("iP/4");function r(e){var n=e.editor,r=e.evt,t=e.isSpecialContent,i=e.selectContentCallback,o=5,a=r.keyCode,s=r.ctrlKey,c=r.metaKey,u=r.shiftKey,l=n.selection.getSelection().start,d=l.line,p=l.offset,f=n.getContentState().getActiveZone(),h=f.getLine(d),g=Math.max(0,d-1),m=f.getLine(g),v=d+1,y=f.getLine(v),b=!!h&&t(n,h,d),E=!!m&&t(n,m,g),_=!!y&&t(n,y,v),C=n.getContentState().getActiveZone().getZoneId();if(!b&&!E&&!_||c||s||u)return!1;if((E||_)&&!b&&a===I.a.UP&&0<h._entry.getCharRect(p).top)return!1;var T=h.length()-h.getLineMarker();function O(){if(0===T)return!0;if(b)return!0;var e=h._entry.getCharRect(p),t=h._entry.getCharRect(0);return Math.abs(t.top-e.top)<=o}function k(){if(0===T)return!0;if(b)return!0;var e=h._entry.getCharRect(p),t=h._entry.getCharRect(h.length()-1);return Math.abs(t.top-e.top)<=o}function S(){var e=!E&&m?m.length():0;n.performSelectionChange(C,[g,e],[g,e]);var t=x.a.isEdge||x.a.isIE;n.updateBrowserSelectionFromRep(t),r.preventDefault(),m&&i&&i(n,m,g)}function w(){var e=0;n.performSelectionChange(C,[v,e],[v,e]);var t=x.a.isEdge||x.a.isIE;n.updateBrowserSelectionFromRep(t),r.preventDefault(),y&&i&&i(n,y,v)}switch(a){case I.a.UP:if(E&&O()||b)return S(),!0;break;case I.a.DOWN:if(_&&k()||b)return w(),!0;break;case I.a.LEFT:if(E&&p===h.getLineMarker()||b)return S(),!0;break;case I.a.RIGHT:if(_&&p+1>=h.length()||b)return w(),!0;break;default:return!1}return!1}},XDjv:function(e,t,n){"use strict";var r=n("RIqP"),h=n.n(r),i=n("lwsE"),o=n.n(i),a=n("W8MJ"),s=n.n(a),c=n("ibWA"),g=n("H6oK"),m=n("Xngx"),v=n("uEBw"),y=n("Mvmg"),u=n("jVwk"),l=n("2ACu");function d(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};Object(l.default)("block_update_props",Object.assign({block_id:e.blockId,block_type:e.blockType},t))}var _=n("mRaX");n.d(t,"a",function(){return p});var p=function(){function n(e,t){var E=this;o()(this,n),this.insertInSingleLine=function(){var e=E.ace.editorInfo,t=e.getRep();e.inCallStackIfNecessary("insertDriveInSingleLine",function(){e.fastIncorp(),e.performDocumentReplaceRangeWithAttributes(t.zoneId,t.selStart,t.selEnd,"\n")})},this.insertPlaceholder=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=t.driveKey,r=void 0===n?"none":n,i=t.uploadOwner,o=void 0===i?"":i,a=t.atUuid,s=void 0===a?"":a,c=E.ace,u=E.uuid,l=c.editorInfo,d=l.getRep();if(l.updateBrowserSelectionFromRep(!0),e instanceof File){l.inCallStackIfNecessary("mentionFastIncrop",function(){l.fastIncorp()});var p=d.selStart||[1,0],f=d.selEnd||[1,0],h=d.zoneId||"0",g={};if(s){if(!(g=Object(_.z)(l,s)))return;p=g.selStart,f=g.selEnd,h=g.selZone}var m,v,y=" ",b=!0;p&&f&&(m=E.generateCardAttributes({file:e,uuid:u,driveKey:r,uploadOwner:o,useDriveStorage:b}),l.callWithAce(function(){l.fastIncorp();var e=E.adaptEnterText(m,p,f,h,g);y=e.text;var t=e.ops;l.performDocumentReplaceMultiRangeWithAttributes(h,t)},"insertDriveUploadPlaceholder",!0),v=d.selStart[0]+1,"\n"!==y.slice(-1)&&v<d.lines.length()&&l.inCallStackIfNecessary("insertDrivePerformRepChange",function(){l.performSelectionChange(h,[v,0],[v,0])}))}},this.adaptEnterText=function(n,r,i,e){var t=4<arguments.length&&void 0!==arguments[4]?arguments[4]:{},o=E.ace.editorInfo.getReps()[e],a=Object(u.a)(o,null,t);return{text:a,ops:Object(c.b)(a).map(function(e,t){return{start:0===t?r:i,end:i,newText:e,attributes:"\n"===e?[]:n}})}},this.updateFileCard=function(e){var t=e.driveKey,n=void 0===t?"":t,r=e.owner,i=void 0===r?"":r,o=E.ace.editorInfo;o.callWithAce(function(){o.fastIncorp(),E._replaceCard(o,{driveKey:n,owner:i})},"insertFileCardSuccess",!0)},this.updateDriveKey=function(e){E.updateFileCard({driveKey:e})},this.updateFileOwner=function(e){E.updateFileCard({owner:e})},this.generateCardAttributes=function(e){var t=e.file,n=e.uuid,r=e.driveKey,i=e.uploadOwner,o=e.useDriveStorage,a=t.name,s=t.size,c=t.type,u={name:a,type:a.split(".").pop(),actualType:c,size:s,driveKey:r,uploadOwner:i,useDriveStorage:o},l=["m4a"],d=g.ViewTypes.CARD;!Object(v.e)(u.type,s)||Object(m.m)(u.type)||Object(m.k)(u.type)||l.includes(u.type.toLowerCase())||(d=g.ViewTypes.PREVIEW);var p=Object(g.generateBlockDataSet)({blockType:g.BlockType.FILE_CARD_BLOCK,props:{data:{fileId:n,fileInfo:u},viewType:d,version:y.g}}),f=E.ace.editorInfo.plugins.blockPlugin.getAttrsFromBlockDataSet(p);return E.blockId=p.blockId,[["at-holder",0]].concat(h()(f))},this._replaceCard=function(e,t){var n,r,i=t.driveKey,o=void 0===i?"":i,a=t.owner,s=void 0===a?"":a,c=e.plugins.blockPlugin.blockInfos.get(E.blockId);c&&c.instance?(n=c.instance.props.data)&&n.fileInfo?(r=n.fileInfo,o&&(r.driveKey=o),s&&(r.owners||(r.owners={}),r.owners[s]=!0),n.fileInfo=r,c.instance.setProps({data:n}),d(c.instance,{status:"success"})):d(c.instance,{status:"error-fileInfo"}):d(c.instance,{status:"error-instance"})},this.ace=t,this.uuid=e}return s()(n,[{key:"destroy",value:function(){delete this.ace}},{key:"deleteFileCard",value:function(){var n=this,r=this.ace.editorInfo;r.callWithAce(function(){r.fastIncorp();var e=r.plugins.blockPlugin,t=e.getBlockById(n.blockId);t&&e.deleteBlock({block:t})},"deleteDriveFileCard",!0)}}]),n}()},XDpg:function(e,t,n){!function(){"use strict";n("wd/R").defineLocale("zh-cn",{months:"___________".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYYMD",LLL:"YYYYMDAhmm",LLLL:"YYYYMDddddAhmm",l:"YYYY/M/D",ll:"YYYYMD",lll:"YYYYMD HH:mm",llll:"YYYYMDdddd HH:mm"},meridiemParse:/|||||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t||""===t||""===t||""!==t&&""!==t&&11<=e?e:e+12},meridiem:function(e,t,n){var r=100*e+t;return r<600?"":r<900?"":r<1130?"":r<1230?"":r<1800?"":""},calendar:{sameDay:"[]LT",nextDay:"[]LT",nextWeek:"[]ddddLT",lastDay:"[]LT",lastWeek:"[]ddddLT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(||)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"";case"M":return e+"";case"w":case"W":return e+"";default:return e}},relativeTime:{future:"%s",past:"%s",s:"",ss:"%d ",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "},week:{dow:1,doy:4}})}()},XEyi:function(e,t,n){e.exports=n("oM22")},XGjS:function(e,t,n){e.exports=n("45KF")},XGnz:function(e,t,n){var c=n("CH3K"),u=n("BiGR");function l(e,t,n,r,i){var o=-1,a=e.length;for(n=n||u,i=i||[];++o<a;){var s=e[o];0<t&&n(s)?1<t?l(s,t-1,n,r,i):c(i,s):r||(i[i.length]=s)}return i}e.exports=l},XNb2:function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return s});var r=n("J4zp"),o=n.n(r),i=function(e,t){return t?a(e,function(e){return e===t}):null},a=function(e,t){if(t){var n=null,r=e.getMatchedAttributePositionOnSelection(n,t),i=o()(r,1)[0];if(i)return i.docPosition}return null},s=function(e,t){if(t){var n=null,r=function(e){return e===t};return 0<e.getMatchedAttributePositionOnSelection(n,r).length}return!1}},XRg5:function(e,i,o){"use strict";o.r(i),function(l){o.d(i,"DEFAULT_ZOOM_RATIO",function(){return v}),o.d(i,"ZOOM_TWICE_RATIO",function(){return y}),o.d(i,"MODULE_TYPE",function(){return t}),o.d(i,"BLOCK_VIEW_TYPE",function(){return d}),o.d(i,"imageViewerCreator",function(){return n}),o.d(i,"createViewer",function(){return r});o("fFdo");var d,e,p=o("dvZ7"),f=o("2ACu"),h=o("Z/PY"),g=o("Mp37"),m=o("rLED"),v=.15,y=Math.pow(1+v,2)-1,t={DOC_FULLSCREEN:"presentation",DOC_BODY:"mainbody",SHEET:"sheet",MINDNOTE:"mindnote",COMMENT:"comment"};(e=d=d||{}).PICTURE="picture",e.DIAGRAM="diagram";var b={DEFAULT:[[g.TOOLBAR_TYPE.ZOOM_OUT,!0],[g.TOOLBAR_TYPE.ZOOM_IN,!0],[g.TOOLBAR_TYPE.ROTATE_LEFT,!0],[g.TOOLBAR_TYPE.ONE_TO_ONE,!0],[g.TOOLBAR_TYPE.DOWNLOAD,!1]],BLACK:[[g.TOOLBAR_TYPE.PREV,!0],[g.TOOLBAR_TYPE.PAGE_NUM,!0],[g.TOOLBAR_TYPE.NEXT,!0],[g.TOOLBAR_TYPE.SEPARATOR_LINE,!0],[g.TOOLBAR_TYPE.ZOOM_OUT,!0],[g.TOOLBAR_TYPE.RATIO,!0],[g.TOOLBAR_TYPE.ZOOM_IN,!0],[g.TOOLBAR_TYPE.ONE_TO_ONE,!0],[g.TOOLBAR_TYPE.SEPARATOR_LINE,!0],[g.TOOLBAR_TYPE.ROTATE_LEFT,!0]]},n={create:function(e){return r(e.elementsWrapper,e.options,e.evtSource)}};function r(e,s,c){var u=3<arguments.length&&void 0!==arguments[3]?arguments[3]:d.PICTURE,t=Date.now(),n=function(e){var t,n,r=e.actionType,i=e.evtType,o="";s.report&&s.report({actionType:r,evtType:i});var a=i===g.UX_EVENT_TYPE.KEYBOARD?"keydown":i===g.UX_EVENT_TYPE.WHEEL||i===g.UX_EVENT_TYPE.PINCH?"touchpad":"mouseclick";switch(r){case g.UX_ACTION_TYPE.HIDE:t="close",n=i===g.UX_EVENT_TYPE.KEYBOARD?"esc":i===g.UX_EVENT_TYPE.BUTTON_CLICK?"click_icon":"click_bg";break;case g.UX_ACTION_TYPE.NEXT:case g.UX_ACTION_TYPE.PREV:t=r===g.UX_ACTION_TYPE.NEXT?"next_image":"previous_image",n=i===g.UX_EVENT_TYPE.KEYBOARD?"keyboard":"click_icon";break;case g.UX_ACTION_TYPE.ZOOM_IN:case g.UX_ACTION_TYPE.ZOOM_OUT:t=r===g.UX_ACTION_TYPE.ZOOM_IN?"zoom_in":"zoom_out",n=i===g.UX_EVENT_TYPE.KEYBOARD?"keyboard":i===g.UX_EVENT_TYPE.WHEEL?"wheel":i===g.UX_EVENT_TYPE.PINCH?"pinch":"click_icon",o=r===g.UX_ACTION_TYPE.ZOOM_IN?"zoom-in":"zoom-out";break;case g.UX_ACTION_TYPE.ORIGINAL_SIZE:case g.UX_ACTION_TYPE.INITIAL_SIZE:t=r===g.UX_ACTION_TYPE.ORIGINAL_SIZE?"original_size":"initial_size",n=i===g.UX_EVENT_TYPE.CANVAS_DBL_CLICK?"double_click":"click_icon",o=t;break;case g.UX_ACTION_TYPE.MOVE:t="move",n=i===g.UX_EVENT_TYPE.DRAG?"drag":"wheel";break;case g.UX_ACTION_TYPE.FULLSCREEN:case g.UX_ACTION_TYPE.NOT_FULLSCREEN:t=r===g.UX_ACTION_TYPE.FULLSCREEN?"fullscreen":"not_fullscreen",n=i===g.UX_EVENT_TYPE.CANVAS_DBL_CLICK?"double_click":"click_icon",o=t;break;default:return}Object(f.default)("client_block_view",{client_block_view_type:u,client_block_view_subtype:"picture_".concat(t,"_by_").concat(n),client_block_view_source:c}),s.isDrive&&o&&Object(p.f)({action:o,source:"toolbar",eventType:a,subFileType:s.fileType})},r=function(){var e=Date.now();Object(f.default)("client_block_view",{client_block_view_type:u,client_block_view_subtype:"picture_open",client_block_view_source:c,client_block_view_launch_duration:e-t})},i=Object(m.N)("image_viewer_theme","DEFAULT"),o=b[i],a=new g.default(e,Object.assign({minZoomRatio:.1,maxZoomRatio:5,zoomRatio:v,navbar:!1,clearSwitchTransition:!0,theme:i,toolbar:o,i18n:{toolbar_zoom_in:l("image.zoom-in"),toolbar_zoom_out:l("image.zoom-out"),toolbar_one_to_one:l("image.one-to-one"),toolbar_rotate_left:l("viewer.toolbar.rotate"),toolbar_fullscreen:l("viewer.toolbar.fullscreen"),toolbar_exit_fullscreen:l("viewer.toolbar.exitfullscreen"),toolbar_download:l("viewer.toolbar.download"),toolbar_reset:l("image.reset"),toolbar_prev:l("image.prev"),toolbar_next:l("image.next")},rotateRight:!1,keyboard:!0,loop:!1,url:function(e){var t=e.getAttribute("data-src"),n=Object(h.p)(t)&&/\/file\/f\//.test(t)?t.replace(/\/$/,"~noop"):t;return(n||e.src).replace(/"/g,"").replace(/'/g,"")},viewed:function(e){var t=e.detail.image.getBoundingClientRect().width;t&&1===a.imageData.ratio&&window.innerWidth/4>=t&&(a.zoom(y,{evtType:g.UX_EVENT_TYPE.INIT_ZOOM},!0),a.initialImageData.ratio=a.imageData.ratio)},report:n,shown:r},s));return a}}.call(this,o("2vAP"))},XSSY:function(e,t,n){e.exports=n("ZCZK")},XUVG:function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n("lwsE"),i=n.n(r),o=n("W8MJ"),a=n.n(o),l=n("NFsq"),d=n("HmyT"),p=n("iP/4"),f=n("H6oK"),h=n("2ACu"),s=n("y2sV"),c="client_performance_doc_paste_keydown_to_paint",u=function(){function t(e){var u=this;i()(this,t),this.aceInitialized=function(e,t){u.editorContext=t.editorInfo},this.handlePaste=function(){u.editorContext.profile.start(c)},this.handleDidPaste=function(){u.editorContext.profile.end(c)},this.UNSAFE_editorNormalizePasteNode=function(e){var t,n,r,i,o,a=u.editorContext.getRep(),s=e.data.node,c=e.types;""!==s.innerHTML&&(Object(l.a)(c,"text/html")||p.a.modernIE)&&(s.innerHTML.includes("mubu-node")&&Object(h.collectSuiteEvent)("toggle_attribute",{action:"paste",paste_source:"space_mindnote"}),t=function(e){var n=e;return["table","thead","tbody","tfoot","tr","th","td","caption"].forEach(function(e){var t=new RegExp("<".concat(e,"(\\s.*?)?>(.*?)</").concat(e,">"),"gi");n=n.replace(t,"$2")}),n=n.replace(/<colgroup(\s.*?)?>.*?<\/colgroup>/gi,"")},o=s,Object(d.$)(o).find("table table").filter(function(){return 1===Object(d.$)(this).parents("table").length}).each(function(){var e=Object(d.$)(this);e.replaceWith("<div>".concat(t(e.html()),"</div>"))}),n=function(e){var t=Object(d.$)(e).siblings();return 0===t.length||1===t.length&&t.is("meta")},a.zoneId&&"0"!==a.zoneId&&(n(i=(r=Object(d.$)(s)).find("table"))||i.remove(),r.find("span.block-type-".concat(f.BlockType.SHEET_BLOCK)).closest(".ace-line,blockquote").remove(),r.find("span.block-type-".concat(f.BlockType.BITABLE_BLOCK)).closest(".ace-line,blockquote").remove(),r.find("span.block-type-".concat(f.BlockType.JIRA_FILTER_BLOCK)).closest(".ace-line,blockquote").remove()))},this.editorWillPaste=function(e){var t=e.deltaSet,n=e.zoneId;u.collectPasteInfo(t,n)},this.collectPasteInfo=function(e,t){var i=0,o=0,n={},a=function(e){n[e]=(n[e]||0)+1},s=0;e.get(t).eachLine(function(e,t,n){var r;"heading"in t&&a("paste_heading"),"list"in t&&(r="paste_"+/([a-z]+)([0-9]+)/.exec(t.list)[1],a(r)),"blockquote"in t&&a("paste_blockquote"),"gallery"in t&&a("paste_gallery"),"dataMetaBlockProps"in t&&a("paste_block"),"aceTable"in t&&o++,s=n+1,i+=Object.keys(t).length}),u.editorContext.profile.pushData(c,Object.assign({paste_text_lines:s,paste_attribute_count:i,paste_table_count:o},n))},e&&(this.editorContext=e,this.editorContext.on(s.k.PASTE,this.handlePaste),this.editorContext.on(s.k.DID_PASTE,this.handleDidPaste))}return a()(t,[{key:"destroy",value:function(){this.editorContext.on(s.k.off,this.handlePaste),this.editorContext.off(s.k.DID_PASTE,this.handleDidPaste)}}]),t}();new u},XVMX:function(e,y,b){"use strict";(function(i){b.d(y,"b",function(){return o}),b.d(y,"a",function(){return p}),b.d(y,"d",function(){return h}),b.d(y,"c",function(){return m});var o,e,t=b("o0o1"),a=b.n(t),n=b("yXPU"),r=b.n(n),s=b("q1tI"),c=b.n(s),u=b("n/R6"),l=0;function d(){return l+=1,"toast_".concat(Date.now(),"_").concat(l)}(e=o=o||{})[e.CONFIRMED=0]="CONFIRMED",e[e.CANCELED=1]="CANCELED";var p=8e3,f="";function h(e){return g.apply(this,arguments)}function g(){return(g=r()(a.a.mark(function e(n){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(t){f&&u.a.remove(f),f=d();var e=i("CreationDoc_FeishuDocs_Mention_Notification_Toast",n.join("".concat(i("common.separator"))));u.a.show({key:f,content:c.a.createElement("div",{className:"toast-confirm"},c.a.createElement("p",{className:"toast-text"},e),c.a.createElement("button",{className:"toast-button",onClick:function(e){u.a.remove(f),f="",t(o.CANCELED)}},i("common.undo"))),duration:p,className:"permissionToast",cancelText:i("common.undo"),onClose:function(){return t(o.CONFIRMED)}})}));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function m(e){return v.apply(this,arguments)}function v(){return(v=r()(a.a.mark(function e(r){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(t){var n=d(),e=i("permission.invite_confirm",r.join("".concat(i("common.separator"))));u.a.show({key:n,content:c.a.createElement("div",{className:"toast-confirm"},c.a.createElement("p",{className:"toast-text"},e),c.a.createElement("button",{className:"toast-button",onClick:function(e){u.a.remove(n),t(o.CONFIRMED)}},i("common.confirm"))),duration:p,className:"permissionToast",onClose:function(){return t(o.CANCELED)}})}));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}}).call(this,b("2vAP"))},XYm9:function(e,t,n){var r=n("+K+b");function i(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}e.exports=i},XZ2T:function(e,t,n){"use strict";var r=/<%=([\s\S]+?)%>/g;t.a=r},"Xd/R":function(e,E,_){"use strict";(function(s){_.d(E,"a",function(){return b});var e=_("lwsE"),n=_.n(e),t=_("W8MJ"),r=_.n(t),i=_("a1gu"),o=_.n(i),a=_("Nsbk"),c=_.n(a),u=_("7W2i"),l=_.n(u),d=_("q1tI"),p=_.n(d),f=_("ybRk"),h=_("UlbS"),g=_("P438"),m=_("zrMW"),v=_("yN2k"),y=(_("t73A"),"connect-dialog"),b=function(e){function t(){return n()(this,t),o()(this,c()(t).apply(this,arguments))}return l()(t,e),r()(t,[{key:"renderIcon",value:function(){var e=this.props,t=e.connectStatus,n=e.logoIcon,r=(t===g.a.CONNECT_FAIL?v:m).a;return p.a.createElement("div",{className:"".concat(y,"__body__icon")},n,p.a.createElement(r,{className:"connect_status_icon"}),p.a.createElement("span",{className:"logo_icon"}))}},{key:"renderContent",value:function(){var e=this.props,t=e.connectStatus,n=e.onReconnect,r=e.onCancelConnect,i=e.connectFailText,o=e.connectingText,a=p.a.createElement(h.Button,{className:"connect_btn",onClick:r},s("doc.common.cancel_connection"));return p.a.createElement(d.Fragment,null,this.renderIcon(),t===g.a.CONNECT_FAIL?p.a.createElement(d.Fragment,null,p.a.createElement("div",{className:"".concat(y,"__body__fail")},i),a,p.a.createElement(h.Button,{type:"primary",className:"connect_btn",onClick:n},s("doc.common.re_auth"))):p.a.createElement(d.Fragment,null,p.a.createElement("div",{className:"".concat(y,"__body__connecting")},o),a))}},{key:"render",value:function(){var e=t.DIALOG_WIDTH;return p.a.createElement("div",{className:"".concat(y,"__container")},p.a.createElement(f.a,{visible:!0,width:e,zIndex:2063,bodyClassName:"".concat(y,"__body"),closeClassName:"".concat(y,"__close-icon"),center:!0,title:null,footer:null,onClose:this.props.onCancelConnect},this.renderContent()))}}]),t}(p.a.Component);b.DIALOG_WIDTH=480}).call(this,_("2vAP"))},XhtD:function(e,t,n){"use strict";var r=n("eHo2"),i=Object(r.a)();t.a=i},XiKa:function(e,t,n){var r=n("hS6j"),i=n("U6jy"),o=n("AvKE"),O=n("4qD0");function k(t,n){t&&Object.keys(t).forEach(function(e){n(t[e],e)})}function S(e,t){return{}.hasOwnProperty.call(e,t)}function w(e,t){var n=[];return k(e,function(e){t(e)&&n.push(e)}),n}function I(e,a,t){var s="";function c(e,t){var n=this;this.tag=e,this.attribs=t||{},this.tagPosition=s.length,this.text="",this.updateParentNodeText=function(){m.length&&(m[m.length-1].text+=n.text)}}a?(a=i(I.defaults,a)).parser?a.parser=i(x,a.parser):a.parser=x:(a=I.defaults).parser=x;var u,l,d=a.nonTextTags||["script","style","textarea"];a.allowedAttributes&&(u={},l={},k(a.allowedAttributes,function(e,t){u[t]=[];var n=[];e.forEach(function(e){0<=e.indexOf("*")?n.push(o(e).replace(/\\\*/g,".*")):u[t].push(e)}),l[t]=new RegExp("^("+n.join("|")+")$")}));var p={};k(a.allowedClasses,function(e,t){u&&(S(u,t)||(u[t]=[]),u[t].push("class")),p[t]=e});var f,h={};k(a.transformTags,function(e,t){var n;"function"==typeof e?n=e:"string"==typeof e&&(n=I.simpleTransform(e)),"*"===t?f=n:h[t]=n});var g=0,m=[],v={},y={},b=!1,E=0,n=new r.Parser({onopentag:function(r,e){var i,t,n,o;b?E++:(i=new c(r,e),m.push(i),t=!1,n=!!i.text,S(h,r)&&(o=h[r](r,e),i.attribs=e=o.attribs,void 0!==o.text&&(i.innerText=o.text),r!==o.tagName&&(i.name=r=o.tagName,y[g]=o.tagName)),f&&(o=f(r,e),i.attribs=e=o.attribs,r!==o.tagName&&(i.name=r=o.tagName,y[g]=o.tagName)),a.allowedTags&&-1===a.allowedTags.indexOf(r)&&(t=!0,-1!==d.indexOf(r)&&(b=!0,E=1),v[g]=!0),g++,t||(s+="<"+r,u&&!S(u,r)&&!u["*"]||k(e,function(e,t){var n;if(!u||S(u,r)&&-1!==u[r].indexOf(t)||u["*"]&&-1!==u["*"].indexOf(t)||S(l,r)&&l[r].test(t)||l["*"]&&l["*"].test(t))if("href"!==t&&"src"!==t||!C(r,e)){if("srcset"===t)try{if(k(n=O.parse(e),function(e){C("srcset",e.url)&&(e.evil=!0)}),!(n=w(n,function(e){return!e.evil})).length)return void delete i.attribs[t];e=O.stringify(w(n,function(e){return!e.evil})),i.attribs[t]=e}catch(e){return void delete i.attribs[t]}"class"!==t||(e=T(e,p[r])).length?(s+=" "+t,e.length&&(s+='="'+_(e)+'"')):delete i.attribs[t]}else delete i.attribs[t];else delete i.attribs[t]}),-1!==a.selfClosing.indexOf(r)?s+=" />":(s+=">",!i.innerText||n||a.textFilter||(s+=i.innerText))))},ontext:function(e){var t,n,r;b||((t=m[m.length-1])&&(n=t.tag,e=void 0!==t.innerText?t.innerText:e),"script"===n||"style"===n?s+=e:(r=_(e),a.textFilter?s+=a.textFilter(r):s+=r),m.length&&(m[m.length-1].text+=e))},onclosetag:function(e){if(b){if(--E)return;b=!1}var t=m.pop();if(t){if(b=!1,v[--g])return delete v[g],void t.updateParentNodeText();y[g]&&(e=y[g],delete y[g]),a.exclusiveFilter&&a.exclusiveFilter(t)?s=s.substr(0,t.tagPosition):(t.updateParentNodeText(),-1===a.selfClosing.indexOf(e)&&(s+="</"+e+">"))}}},a.parser);return n.write(e),n.end(),s;function _(e){return"string"!=typeof e&&(e+=""),e.replace(/\&/g,"&amp;").replace(/</g,"&lt;").replace(/\>/g,"&gt;").replace(/\"/g,"&quot;")}function C(e,t){var n=(t=(t=t.replace(/[\x00-\x20]+/g,"")).replace(/<\!\-\-.*?\-\-\>/g,"")).match(/^([a-zA-Z]+)\:/);if(!n)return!!t.match(/^[\/\\]{2}/)&&!a.allowProtocolRelative;var r=n[1].toLowerCase();return S(a.allowedSchemesByTag,e)?-1===a.allowedSchemesByTag[e].indexOf(r):!a.allowedSchemes||-1===a.allowedSchemes.indexOf(r)}function T(e,t){return t?(e=e.split(/\s+/)).filter(function(e){return-1!==t.indexOf(e)}).join(" "):e}}e.exports=I;var x={decodeEntities:!0};I.defaults={allowedTags:["h3","h4","h5","h6","blockquote","p","a","ul","ol","nl","li","b","i","strong","em","strike","code","hr","br","div","table","thead","caption","tbody","tr","th","td","pre"],allowedAttributes:{a:["href","name","target"],img:["src"]},selfClosing:["img","br","hr","area","base","basefont","input","link","meta"],allowedSchemes:["http","https","ftp","mailto"],allowedSchemesByTag:{},allowProtocolRelative:!0},I.simpleTransform=function(r,i,o){return o=void 0===o||o,i=i||{},function(e,t){if(o)for(var n in i)t[n]=i[n];else t=i;return{tagName:r,attribs:t}}}},XjP5:function(e,t,n){"use strict";var r=n("pVnL"),i=n.n(r),o=n("QILm"),a=n.n(o),s=n("q1tI"),c=n.n(s);t.a=function(e){e.styles;var t=a()(e,["styles"]);return c.a.createElement("svg",i()({width:"16",height:"16",viewBox:"0 0 16 16"},t),c.a.createElement("g",{transform:"translate(-29 -4)",fill:"none",fillRule:"evenodd"},c.a.createElement("rect",{stroke:"#E3E5EA",x:".5",y:".5",width:"73",height:"23",rx:"4"}),c.a.createElement("path",{d:"M0 0h16v16H0z"}),c.a.createElement("path",{d:"M37 6a6 6 0 110 12 6 6 0 010-12zm3.07 3.8a.35.35 0 00-.5 0l-3.3 3.3-1.71-1.73a.35.35 0 00-.5 0l-.33.33a.35.35 0 000 .5l1.92 1.94.03.04.34.34c.13.14.35.14.49 0l3.89-3.89a.35.35 0 000-.5z",fill:"#8F959E"})))}},Xngx:function(e,t,n){"use strict";var r=n("RIqP"),i=n.n(r),o=n("yIs4"),a=n("F2y5"),s=n("BmhO"),c=n("VIFs"),u=n("kUgE"),l=n("EVj1"),d=n("5ydi"),p=n("y94N"),f=n("VQSS"),h=n("JC8k");function g(e){var t=e.fileToken,n=e.mountPoint,r=e.version,i=Object(c.prependDriveStreamAPI)("/api/box/stream/download/all/".concat(t,"/")),o=Object(f.a)({mount_node_token:n&&n.token,mount_point:n&&n.type,version:r});return i+Object(l.d)(o)}function m(e){var t=e.fileToken,n=e.mountPoint,r=e.coverOptions,i=Object(c.prependAPI)("/api/box/stream/download/v2/cover/".concat(t,"/")),o=Object(f.a)({mount_node_token:n&&n.token,mount_point:n&&n.type,width:r&&r.width,height:r&&r.height,policy:r&&r.policy,shape:r&&r.shape});return i+Object(l.d)(o)}function v(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:2;if(!Object(o.default)(e))return"";var n=e;return n<1024?"".concat(Math.round(n)," B"):(n/=1024)<1024?"".concat(n.toFixed(t)," KB"):(n/=1024)<1024?"".concat(n.toFixed(t)," MB"):(n/=1024)<1024?"".concat(n.toFixed(t)," GB"):"".concat((n/=1024).toFixed(t)," TB")}function y(e){var t=Object(h.a)(e),n={image:i()(s.C),video:i()(s.D),audio:i()(s.E),txt:i()(s.F),word:i()(s.G),excel:i()(s.B),ppt:i()(s.H),code:i()(s.A)};return Object.keys(n).find(function(e){return n[e].includes(t)})||t}function b(e){return s.w.includes(e.toLowerCase())}function E(e){return s.x.includes(e.toLowerCase())}function _(e){return s.u.includes(e.toLowerCase())}function C(e){return s.J.includes(e.toLowerCase())}var T=function(e){return Array.isArray(e)?e.map(function(e){switch(e&&e.type){case d.e.NewVersion:return new d.b(e);case d.e.RenameFile:return new d.c(e);case d.e.DeleteVersion:return new d.a(e);case d.e.RestoreVersion:return new d.d(e);default:return null}}).filter(function(e){return e}):[]},O=function(e,t){var n=e.map(function(e){return e.get("version")});return t.filter(function(e){return e&&!n.includes(e.get("version"))})};function k(e){return"number"!=typeof e||e<1e4?e:"zh"===Object(u.getLanguage)()?"".concat(Object(a.a)(e/1e4,1),""):"".concat(Object(a.a)(e/1e3,1),"K")}function S(e){if(!e.render_config)return{};try{var t=e.render_config;return"string"==typeof e.render_config&&(t=JSON.parse(e.render_config)),{"--top-border-bg-color":t&&t.show_top_border?t.top_border_color:"transparent"}}catch(e){return{}}}function w(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",t=Object(h.a)(e);return s.C.includes(t)?s.C:s.D.includes(t)?s.D:s.E.includes(t)?s.E:s.G.includes(t)?s.G:s.B.includes(t)?s.B:s.H.includes(t)?s.H:t===s.s.PDF?[s.s.PDF]:void 0}function I(e){return s.C.includes(e)?p.d.IMAGE:p.d.FILE}n.d(t,"d",function(){return h.a}),n.d(t,"f",function(){return h.b}),n.d(t,"c",function(){return g}),n.d(t,"b",function(){return m}),n.d(t,"g",function(){return v}),n.d(t,"e",function(){return y}),n.d(t,"n",function(){return b}),n.d(t,"l",function(){return E}),n.d(t,"m",function(){return _}),n.d(t,"k",function(){return C}),n.d(t,"o",function(){return T}),n.d(t,"p",function(){return O}),n.d(t,"a",function(){return k}),n.d(t,"i",function(){return S}),n.d(t,"j",function(){return w}),n.d(t,"h",function(){return I})},XrPT:function(e,t,n){},XsFf:function(e,t,n){"use strict";var r=n("o0o1"),o=n.n(r),i=n("J4zp"),a=n.n(i),s=n("lwsE"),c=n.n(s),u=n("W8MJ"),l=n.n(u),d=n("yXPU"),p=n.n(d),f=n("cDf5"),h=n.n(f),g=n("BeL+"),m=n("Z0Cl"),v=n("ZBlo"),y=n("toa8"),b=n("H6oK"),E=n("4PSP"),_=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":h()(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;0<=s;s--)(i=e[s])&&(a=(o<3?i(a):3<o?i(t,n,a):i(t,n))||a);return 3<o&&a&&Object.defineProperty(t,n,a),a},C=function(){function t(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];c()(this,t),this.array=[],this.maxSize=0,this.array=e}return l()(t,[{key:"setMaxSize",value:function(e){this.maxSize=e}},{key:"length",value:function(){return this.array.length}},{key:"add",value:function(e){var t=this.findIndex(e.id);-1<t?this.array.splice(t,1,e):(0<this.maxSize&&this.array.length===this.maxSize&&this.pop(),this.array.push(e))}},{key:"delete",value:function(e){var t=this.findIndex(e);-1!==t&&this.array.splice(t,1)}},{key:"pop",value:function(){return this.array.shift()}},{key:"findIndex",value:function(t){return this.array.findIndex(function(e){return e.id===t})}},{key:"latest",value:function(){return this.array[this.length()-1]}},{key:"toJSON",value:function(){return this.array}},{key:"clear",value:function(){this.array=[]}},{key:"isPendding",get:function(){return 0===this.maxSize||this.array.length<this.maxSize}}]),t}(),T=function(){function r(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1;c()(this,r),this.workerFn=t,this.maxOccurs=n,this.waitQueue=e,this.workerQueue=new C,this.workerQueue.setMaxSize(n),this.pause=!1,this.workerResult=[],this.workerRqs=[]}return l()(r,[{key:"setCallback",value:function(e,t){this.onSuccess=e,this.onFail=t}},{key:"setWorker",value:function(e){this.workerFn=e}},{key:"appendWaitQueue",value:function(e){var t=this;e.forEach(function(e){t.waitQueue.add(e)})}},{key:"start",value:function(){var t=this;return this.workerResult=[],this.workerRqs=[],new Promise(function(e){t.resolveQueue=e,0===t.waitQueue.length()&&t.resolveQueue([]),t.work()})}},{key:"stop",value:function(){this.pause=!0}},{key:"clearWait",value:function(){this.waitQueue.clear()}},{key:"continue",value:function(){this.pause=!1,this.work()}},{key:"clear",value:function(){this.pause=!1,this.cancel(),this.waitQueue.clear(),this.workerQueue.clear(),this.workerRqs=[]}},{key:"cancel",value:function(){this.workerRqs.forEach(function(e){var t=e.abort||e.cancel;t&&"function"==typeof t&&t()}),this.workerRqs=[]}},{key:"work",value:function(){for(var e=Math.min(this.waitQueue.length(),this.maxOccurs-this.workerQueue.length()),t=0;t<e;t++)this.addQueue()}},{key:"checkQueuePending",value:function(){return this.workerQueue.isPendding}},{key:"checkWaitQueueEmpty",value:function(){return 0===this.waitQueue.length()}},{key:"addQueue",value:function(){var e;this.pause||!this.checkQueuePending()||(e=this.waitQueue.pop())&&(this.workerQueue.add(e),this.worker())}},{key:"worker",value:function(){var n,e,t,r,i=this;this.pause||(n=this.workerQueue.latest(),e=n.id,t=n.data,r=this.workerFn(t),this.workerRqs.push(r),r.then(function(e){var t={payload:n,response:e};i.workerResult.push(t),i.onSuccess&&i.onSuccess(t)}).catch(function(e){var t={payload:n,response:e};i.workerResult.push(t),i.onFail&&i.onFail(t)}).finally(function(){i.removeWorkerQueue(e),i.queueEmpty()&&i.resolveQueue?i.resolveQueue(i.workerResult):i.pause||i.addQueue()}))}},{key:"removeWorkerQueue",value:function(e){this.workerQueue.delete(e)}},{key:"checkWorkerQueueEmpty",value:function(){return 0===this.workerQueue.length()}},{key:"queueEmpty",value:function(){return this.checkWaitQueueEmpty()&&this.checkWorkerQueueEmpty()}}]),r}();_([Object(E.Bind)()],T.prototype,"clear",null);var O=n("HIeq"),k=n("jp/M"),S=n("AiBH");n.d(t,"a",function(){return R}),n.d(t,"b",function(){return N});var w,I=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":h()(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;0<=s;s--)(i=e[s])&&(a=(o<3?i(a):3<o?i(t,n,a):i(t,n))||a);return 3<o&&a&&Object.defineProperty(t,n,a),a},x=5,L=50;function R(){return w=w||new P}function N(n,r,i){var o=R();return new Promise(function(e,t){o.resCacheMap.has(n)?e(o.resCacheMap.get(n)):(o.fetchingSet.has(n)||o.appendWaitQueue([n],r,i),o.addDetachMap(n,{resolve:e,reject:t}))})}function D(e,t,n){return M.apply(this,arguments)}function M(){return(M=p()(o.a.mark(function e(t,n,r){var i;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.d.post(k.apiUrls.POST_FETCH_USER_DETAIL,{mentioned_users:t,source:n,token:r},{headers:{"Content-Type":"application/json"}});case 3:return i=e.sent,e.abrupt("return",i.data.entities);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",Promise.reject(new Error("pull users Error ".concat(e.t0.code,": ").concat(e.t0.msg))));case 10:case"end":return e.stop()}},e,null,[[0,7]])}))).apply(this,arguments)}var P=function(){function e(){c()(this,e),this.resCacheMap=new Map,this.detachMap=new Map,this.userQueue=null,this.fetchingSet=new Set,this.throttleWaitUserIds=[],this.userQueue=new T(new C,this.fetchUsers,x),this.userQueue.setCallback(this.fetchUsersSuccess,this.fetchUsersFail),this.userQueue.start()}return l()(e,[{key:"fetchUsersToQueue",value:function(e,t,n){var r=this,i=Object(m.a)(Object(g.a)(e),function(e){return!r.resCacheMap.has(e)&&!r.fetchingSet.has(e)});this.appendWaitQueue(i,t,n)}},{key:"fetchEditorUsers",value:function(e,t){var n=S.z.DOC,r=this.collectEditorUsers(e);this.fetchUsersToQueue(r,n,t)}},{key:"collectEditorUsers",value:function(e){var n="dataMetaBlockProps",t=function(e,t){return Boolean(e===n&&JSON.parse(t).blockType===b.BlockType.AT_USER_BLOCK)};return e.getMatchedAttributePositionOnSelection(null,t,{shouldMerge:!1}).map(function(e){try{return JSON.parse(e.attrValue).props.data.user.id}catch(e){return{}}})}},{key:"pause",value:function(){this.userQueue&&this.userQueue.clear(),this.fetchingSet.clear()}},{key:"fetchUsers",value:function(e){var t=this,n=a()(e,3),r=n[0],i=n[1],o=n[2];return r.forEach(function(e){return t.fetchingSet.add(e)}),D(r,i,o)}},{key:"fetchUsersFinally",value:function(t,n){var r=this;Object.keys(t).forEach(function(e){r.detachMap.has(e)&&n(e,t[e]),r.fetchingSet.delete(e),r.detachMap.delete(e)})}},{key:"resolve",value:function(e,t){this.detachMap.get(e).forEach(function(e){e.resolve(t)}),this.resCacheMap.set(e,t)}},{key:"reject",value:function(e,t){this.detachMap.get(e).forEach(function(e){e.reject(t)})}},{key:"fetchUsersSuccess",value:function(e){var t=e.response;this.fetchUsersFinally(t,this.resolve)}},{key:"fetchUsersFail",value:function(e){var t=e.response;this.fetchUsersFinally(t,this.reject)}},{key:"appendWaitQueue",value:function(e,t,n){this.userQueue&&(this.userQueue.appendWaitQueue(Object(v.a)(e,L).map(function(e){return{id:Object(O.b)(),data:[e,t,n]}})),this.userQueue.continue())}},{key:"addDetachMap",value:function(e,t){var n,r=t.resolve,i=t.reject;this.detachMap.has(e)?(n=this.detachMap.get(e),this.detachMap.set(e,n.concat([{resolve:r,reject:i}]))):this.detachMap.set(e,[{resolve:r,reject:i}])}}]),e}();I([Object(E.Bind)()],P.prototype,"pause",null),I([Object(E.Bind)()],P.prototype,"fetchUsers",null),I([Object(E.Bind)()],P.prototype,"resolve",null),I([Object(E.Bind)()],P.prototype,"reject",null),I([Object(E.Bind)()],P.prototype,"fetchUsersSuccess",null),I([Object(E.Bind)()],P.prototype,"fetchUsersFail",null)},XsWd:function(e,t,n){"use strict";var r=n("lwsE"),o=n.n(r),i=n("W8MJ"),a=n.n(i),s=n("a1gu"),u=n.n(s),c=n("Nsbk"),l=n.n(c),d=n("7W2i"),p=n.n(d),f=n("q1tI"),h=n.n(f),g=n("i8i4"),m=n.n(g),v=n("DzJC"),y=n.n(v),b=n("lSNA"),E=n.n(b),_=n("K7zS"),C=n("TSYQ"),T=n.n(C),O=n("lYoT"),k=(n("Tj6G"),function(e){function t(){var n;return o()(this,t),(n=u()(this,l()(t).apply(this,arguments))).appendPortalContainer=function(){var e,t;n.overlayContainer=n.getOverlayContainer(),n.overlayContainer&&(e=n.props.className,(t=document.createElement("div")).className=T()("".concat(_.d,"-portal"),E()({},e,!!e)),n.overlayContainer.appendChild(t),n.portalContainer=t)},n.removePortalContainer=function(){n.portalContainer&&n.portalContainer.remove()},n}return p()(t,e),a()(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.className;this.props.className!==e.className&&this.portalContainer&&(this.portalContainer.className=T()("".concat(_.d,"-portal"),E()({},t,!!t)))}},{key:"componentWillUnmount",value:function(){this.removePortalContainer()}},{key:"getOverlayContainer",value:function(){var e=this.props.container;return"function"==typeof e?e():e}},{key:"render",value:function(){return this.portalContainer||this.appendPortalContainer(),this.portalContainer?m.a.createPortal(f.Children.only(this.props.children),this.portalContainer):null}}]),t}(f.PureComponent));k.defaultProps={className:"",container:O.b};var S=k,w=n("PJYZ"),I=n.n(w),x=n("aP0E"),L=n.n(x),R=n("rsGM"),N=n.n(R);function D(e){return null!==e&&e===e.window}function M(e,t){var n=0;function r(){n&&(window.clearTimeout(n),n=0)}function i(){r(),n=window.setTimeout(e,t)}return{bufferFn:i,clear:r}}var P=n("cDf5"),j=n.n(P),F=Object.prototype.hasOwnProperty;function B(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function U(e,t){if(B(e,t))return!0;if("object"!==j()(e)||null===e||"object"!==j()(t)||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(!F.call(t,n[i])||!U(e[n[i]],t[n[i]]))return!1;return!0}var H=U,z=function(e){function t(){var c;return o()(this,t),(c=u()(this,l()(t).apply(this,arguments))).reAlignCheck=function(e){var t,n,r=!1,i=c.props;i.disabled||(e.disabled||i.alignWithRegion?r=!H(e.targetRegion,i.targetRegion):e.disabled||!H(e.align,i.align)?r=!0:(t=e.target(),n=i.target(),D(t)&&D(n)?r=!1:t!==n&&(r=!0)),r&&c.forceAlign())},c.forceAlign=function(){var e=c.props,t=e.alignWithRegion;e.disabled||(t?c.forceAlignRegion():c.forceAlignElement())},c.forceAlignElement=function(){var e,t,n=c.props,r=n.align,i=n.alignContainer,o=n.onAlign,a=n.padding,s=n.target;o&&s&&o(e=m.a.findDOMNode(I()(c)),t=s(),L()(e,t,r,a,i()))},c.forceAlignRegion=function(){var e,t=c.props,n=t.align,r=t.targetRegion;r&&(e=m.a.findDOMNode(I()(c)),Object(x.alignRegion)(e,r,n))},c}return p()(t,e),a()(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.disabled,n=e.monitorWindowResize;this.forceAlign(),!t&&n&&this.startMonitorWindowResize()}},{key:"componentDidUpdate",value:function(e){var t=this.props;this.reAlignCheck(e),t.monitorWindowResize&&!t.disabled?this.startMonitorWindowResize():this.stopMonitorWindowResize()}},{key:"componentWillUnmount",value:function(){this.stopMonitorWindowResize()}},{key:"render",value:function(){var e=this.props,t=e.childrenProps,n=e.children,r=e.injectAlignMethod,i=h.a.Children.only(n);if(!r&&!t)return i;var o={};if(r&&(o.$$popupTriggerForceAlign=this.forceAlign),t)for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(o[a]=this.props[t[a]]);return h.a.cloneElement(i,o)}},{key:"startMonitorWindowResize",value:function(){this.resizeHandler||(this.bufferMonitor=M(this.forceAlign,this.props.monitorBufferTime),this.resizeHandler=N()(window,"resize",this.bufferMonitor.bufferFn))}},{key:"stopMonitorWindowResize",value:function(){this.resizeHandler&&(this.bufferMonitor&&this.bufferMonitor.clear(),this.resizeHandler.remove(),this.resizeHandler=null)}}]),t}(f.Component);z.defaultProps={align:{newAlign:!1,offset:[0,0],overflow:{adjustX:!0,adjustY:!0},points:["bc","tc"],targetOffset:["0%","0%"]},alignContainer:function(){return document.body},childrenProps:{},disabled:!1,injectAlignMethod:!1,monitorBufferTime:50,monitorWindowResize:!1,onAlign:_.c,padding:{},target:function(){return document.body},alignWithRegion:!1};n("XrPT");var V=function(e){function t(){var e;return o()(this,t),(e=u()(this,l()(t).apply(this,arguments))).alignRef=h.a.createRef(),e}return p()(t,e),a()(t,[{key:"render",value:function(){var n=this,e=this.props,t=e.getPortalContainer,r=e.isOpen,i=e.popup,o=e.onMouseEnter,a=e.onMouseLeave,s=e.portalClassname,c=e.cache;if(!r&&!c)return null;var u=i;"function"==typeof i&&(u=i());var l=(Array.isArray(u)?u:[u]).map(function(e,t){return n.generateOnePopup(e,t)}),d=T()("".concat(_.d,"-trigger-popup"),E()({},"".concat(_.d,"-trigger-popup-hidden"),!r));return h.a.createElement(S,{container:t(),className:s},h.a.createElement("div",{className:d,onMouseEnter:o,onMouseLeave:a},l))}},{key:"generateOnePopup",value:function(e,t){var n=this.props,r=n.alignContainer,i=n.popupAlign,o=n.onAlign;if(!e||!e.props)return null;var a=Array.isArray(i)?i[t]:i;return!1===a?e:h.a.createElement(z,Object.assign({ref:this.alignRef,key:t},Object.assign(this.defaultAlignProps,a),{alignContainer:r,onAlign:o}),e)}},{key:"defaultAlignProps",get:function(){var e=this.props;return{align:{overflow:{adjustX:!0,adjustY:!0},points:["bc","tc"]},target:e.getDefaultTarget,padding:{},getPortalContainer:e.getPortalContainer}}}]),t}(f.PureComponent);function K(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var c=a.value;-1<e.indexOf(c)&&n.push(c)}}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}function W(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var c=a.value;-1===t.indexOf(c)&&n.push(c)}}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return 1!==n.length||n[0]?n:[]}var Y=function(e){function t(){return o()(this,t),u()(this,l()(t).apply(this,arguments))}return p()(t,e),a()(t,[{key:"render",value:function(){var r=this;if("function"==typeof this.props.children){var n={},e={open:this.openEvents,close:this.closeEvents,toggle:this.toggleEvents};return Object.keys(e).forEach(function(t){e[t].forEach(function(e){n[e]=r.props[t]})}),this.props.children(Object.assign({},n))}var i=h.a.Children.only(this.props.children),t=i.props.className,o={className:T()(E()({},t,!!t))},a={open:this.openEvents,close:this.closeEvents,toggle:this.toggleEvents};return Object.keys(a).forEach(function(n){a[n].forEach(function(t){o[t]=function(e){i.props[t]&&i.props[t](e),r.props[n]()}})}),h.a.cloneElement(i,o)}},{key:"openEvents",get:function(){var e=this.props,t=e.openEvents,n=e.closeEvents;return W(t.split(" "),n.split(" "))}},{key:"closeEvents",get:function(){var e=this.props,t=e.openEvents;return W(e.closeEvents.split(" "),t.split(" "))}},{key:"toggleEvents",get:function(){var e=this.props,t=e.openEvents,n=e.closeEvents;return K(t.split(" "),n.split(" "))}}]),t}(f.PureComponent);Y.defaultProps={openEvents:"",closeEvents:"",open:_.c,close:_.c,toggle:_.c};var q=n("iWIM"),Z=n.n(q);function X(e,t,n){for(var r=e.length;r;)if(--r,e[r].fn===t&&(!n||n===e[r].owner))return r;return-1}var Q,J,$=function(){function e(){o()(this,e),this.listeners={}}return a()(e,[{key:"dispatchEvent",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};t&&(t.type||(t.type=e),t.target||(t.target=this)),this.listeners||(this.listeners={});var n=this.listeners[e];return!!n&&(n.slice().forEach(function(e){e.fn.call(e.owner,t)}),!0)}},{key:"dispatchLastEvent",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};t&&(t.type||(t.type=e),t.target||(t.target=this)),this.listeners||(this.listeners={});var n=this.listeners[e],r=null;return!(!n||!n.length)&&((r=n[n.length-1]).fn.call(r.owner,t),!0)}},{key:"addEventListeners",value:function(e,t,n){if("object"===j()(e))for(var r=0,i=Object.keys(e);r<i.length;r++){var o=i[r];"function"==typeof e[o]&&this.addEventListener(o,e[o],t,n)}return this}},{key:"addEventListener",value:function(e,t,n,r){var i=n;return t&&"function"==typeof t&&(this.listeners||(this.listeners={}),this.listeners[e]instanceof Array||(this.listeners[e]=[]),this.listeners[e].push({fn:t,owner:i,tag:r})),this}},{key:"removeEventListenersByTag",value:function(r){var i=this;Object.keys(this.listeners).forEach(function(e){var t,n=i.listeners[e];if(n){for(;-1<(t=n.findIndex(function(e){return e.tag===r}));)n.splice(t,1);n.length||delete i.listeners[e]}})}},{key:"removeEventListener",value:function(e,t,n){if("function"!=typeof t)return this.listeners[e]=[],this;if(!this.listeners[e])return this;if(!this.listeners[e].length)return delete this.listeners[e],this;var r=X(this.listeners[e],t,n);return-1!==r&&this.listeners[e].splice(r,1),this.listeners[e].length||delete this.listeners[e],this}},{key:"removeEventListeners",value:function(e,t){if(e&&"object"===j()(e))for(var n=0,r=Object.keys(e);n<r.length;n++){var i=r[n];this.removeEventListener(i,e[i],t)}else this.listeners={}}}]),e}(),ee=n("QVxZ"),te=function(e){function n(e){var t;return o()(this,n),(t=u()(this,l()(n).call(this))).dispatchAsyncEvent=e?t.dispatchWinAsyncEvent:t.dispatchNextLoopEvent,t}return p()(n,e),a()(n,[{key:"dispatchEvent",value:function(e,t){return Z()(l()(n.prototype),"dispatchEvent",this).call(this,e,{payload:t})}},{key:"dispatchNextLoopEvent",value:function(e,t){var n=this;setTimeout(function(){requestAnimationFrame(function(){n.dispatchEvent(e,t)})},0)}},{key:"dispatchWinAsyncEvent",value:function(e,t){var n=this;setTimeout(function(){n.dispatchNextLoopEvent(e,t)},0)}}]),n}($);te.instance=new te(ee.a),te.getInstance=function(){return te.instance},(J=Q=Q||{}).activateImPage="activateImPage",J.canHideFeed="canHideFeed",J["close-webview-announcement"]="close-webview-announcement",J["close-webview-doc-feed"]="close-webview-doc-feed",J.confirmDingNotification="confirmDingNotification",J.globalArrowKey="globalArrowKey",J.globalEnter="globalEnter",J.globalEscape="globalEscape",J.globalShift="globalShift",J.globalClick="globalClick",J.globalBackspace="globalBackspace",J.globalMouseDown="globalMouseDown",J.globalTab="globalTab",J["main-app-logged-in"]="main-app-logged-in",J.modalChange="modalChange",J.onQuickJumpOpen="onQuickJumpOpen",J.onWindowBlur="onWindowBlur",J.onWindowFocus="onWindowFocus",J["open-webview-announcement"]="open-webview-announcement",J["open-webview-doc-feed"]="open-webview-doc-feed",J.openQuickSearch="openQuickSearch",J.pushRouterEvent="pushRouterEvent",J.scrollChatToTop="scrollChatToTop",J.showChatBox="showChatBox",J.updateFeedCard="updateFeedCard";var ne=function(e){function t(){return o()(this,t),u()(this,l()(t).apply(this,arguments))}return p()(t,e),a()(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.onArrowKey,n=e.onClick,r=e.onEsc,i=e.onEnter,o=e.onBackspace,a=e.onTab,s=e.onMouseDown,c=e.eventDispatcher;n&&c&&c.addEventListener(Q.globalClick,n),t&&c&&c.addEventListener(Q.globalArrowKey,t),r&&c&&c.addEventListener(Q.globalEscape,r),i&&c&&c.addEventListener(Q.globalEnter,i),o&&c&&c.addEventListener(Q.globalBackspace,o),a&&c&&c.addEventListener(Q.globalTab,a),s&&c&&c.addEventListener(Q.globalMouseDown,s)}},{key:"componentWillUnmount",value:function(){var e=this.props,t=e.onArrowKey,n=e.onClick,r=e.onEsc,i=e.onEnter,o=e.onBackspace,a=e.onTab,s=e.onMouseDown,c=e.eventDispatcher;n&&c&&c.removeEventListener(Q.globalClick,n),t&&c&&c.removeEventListener(Q.globalArrowKey,t),r&&c&&c.removeEventListener(Q.globalEscape,r),i&&c&&c.removeEventListener(Q.globalEnter,i),o&&c&&c.removeEventListener(Q.globalBackspace,o),a&&c&&c.removeEventListener(Q.globalTab,a),s&&c&&c.removeEventListener(Q.globalMouseDown,s)}},{key:"render",value:function(){return null}}]),t}(h.a.PureComponent);ne.defaultProps={eventDispatcher:te.getInstance()};n("PYRs");n.d(t,"a",function(){return re});var re=function(e){function t(e){var i;return o()(this,t),(i=u()(this,l()(t).call(this,e))).handleClickClosableEventFire=function(e){i.state.open&&i.props.clickClosable&&i.handleCommonClosableEventFire(e)},i.handleScrollClosableEventFire=function(e){i.state.open&&i.props.scrollClosable&&i.handleCommonClosableEventFire(e)},i.handleCommonClosableEventFire=function(e){var t=m.a.findDOMNode(i.targetRef.current),n=m.a.findDOMNode(i.popupRef.current),r=e.target;t&&!t.contains(r)&&n&&!n.contains(r)&&i.delayClose()},i.handleResizeEventFire=y()(function(){i.state.open&&i.forceAlign()},100),i.handleGetDefaultTarget=function(){return m.a.findDOMNode(i.targetRef.current)},i.handlePopupMouseLeave=function(){var e=i.props.closeEvents;/^(?:.* |)onMouseLeave(?=$| )/.test(e)&&i.delayClose()},i.open=function(){i.unmounted||i.props.disabled||(i.isAddListener(!0),i.setState({open:!0}))},i.close=function(){!i.unmounted&&i.state.open&&(i.isAddListener(!1),i.setState({open:!1}))},i.isAddListener=function(e){var t=i.props.scrollContainer,n=e?"addEventListener":"removeEventListener";document[n]("click",i.handleClickClosableEventFire,!0),(t?t():window)[n]("scroll",i.handleScrollClosableEventFire,!0),window[n]("resize",i.handleResizeEventFire)},i.toggle=function(){var e=i.state.open;i.setState({open:!e})},i.delayOpen=function(){window.clearTimeout(i.delayTimer);var e=i.props.openDelay;return i.delayTimer=window.setTimeout(i.open,e),i.delayTimer},i.delayClose=function(){window.clearTimeout(i.delayTimer);var e=i.props.closeDelay;return i.delayTimer=window.setTimeout(i.close,e),i.delayTimer},i.delayToggle=function(){return i.state.open?i.delayClose():i.delayOpen()},i.forceAlign=function(){i.popupRef.current&&i.popupRef.current.alignRef.current&&i.popupRef.current.alignRef.current.forceAlign()},i.unmounted=!1,i.targetRef=h.a.createRef(),i.popupRef=h.a.createRef(),i.state={open:!1},i}return p()(t,e),a()(t,[{key:"componentDidMount",value:function(){this.unmounted=!1}},{key:"componentDidUpdate",value:function(e,t){var n=this.props.onOpenChange,r=this.state.open;n&&r!==t.open&&n(r)}},{key:"componentWillUnmount",value:function(){this.delayTimer&&clearTimeout(this.delayTimer),this.unmounted=!0,this.isAddListener(!1)}},{key:"render",value:function(){var e=this.state.open,t=this.props,n=t.escClosable,r=t.eventDispatcher;return[this.target,this.popup,n&&e&&h.a.createElement(ne,{eventDispatcher:r,onEsc:this.delayClose,key:"listener"})]}},{key:"target",get:function(){var e=this.props,t=e.children,n=e.closeEvents,r=e.openEvents;return h.a.createElement(Y,{key:"target",ref:this.targetRef,openEvents:r,closeEvents:n,open:this.delayOpen,close:this.delayClose,toggle:this.delayToggle},t)}},{key:"popup",get:function(){var e=this.state.open,t=this.props,n=t.alignContainer,r=t.getPortalContainer,i=t.popup,o=t.popupAlign,a=t.onAlign,s=t.portalClassname,c=t.cache;return h.a.createElement(V,{key:"popup",ref:this.popupRef,alignContainer:n,getDefaultTarget:this.handleGetDefaultTarget,portalClassname:s,getPortalContainer:r,isOpen:e,onMouseEnter:this.delayOpen,onMouseLeave:this.handlePopupMouseLeave,popup:i,popupAlign:o,onAlign:a,cache:c})}}]),t}(f.Component);re.defaultProps={disabled:!1,closeDelay:0,closeEvents:"onMouseLeave",clickClosable:!1,escClosable:!1,cache:!1,getPortalContainer:O.b,openDelay:0,openEvents:"onMouseEnter",onOpenChange:_.c,popup:null,popupAlign:!1,portalClassname:"",eventDispatcher:te.getInstance()}},YAKS:function(e,t,n){"use strict";e.exports=n("pGAK")},YO3V:function(e,t,n){var r=n("NykK"),i=n("LcsW"),o=n("ExA7"),a="[object Object]",s=Function.prototype,c=Object.prototype,u=s.toString,l=c.hasOwnProperty,d=u.call(Object);function p(e){if(!o(e)||r(e)!=a)return!1;var t=i(e);if(null===t)return!0;var n=l.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&u.call(n)==d}e.exports=p},YO6O:function(e,t,n){"use strict";n.r(t);var r=n("QILm"),o=n.n(r),i=n("lwsE"),a=n.n(i),s=n("W8MJ"),c=n.n(s),u=n("a1gu"),l=n.n(u),d=n("Nsbk"),p=n.n(d),f=n("7W2i"),h=n.n(f),g=n("q1tI"),m=n.n(g),v=n("Si88"),y=n.n(v),b=n("VI6H"),E=n("D0c4"),_=n("pVnL"),C=n.n(_),T=n("PJYZ"),O=n.n(T),k=n("Bw5p"),S=n("i8i4"),w=n.n(S);n("17x9");function I(e,t,n,r){var i=w.a.unstable_batchedUpdates?function(e){w.a.unstable_batchedUpdates(n,e)}:n;return e.addEventListener(t,i,r),{cancel:function(){e.removeEventListener(t,i,r)}}}function x(e,t){for(;t;){if(t===e)return!0;t=t.parentNode}return!1}var L=n("EB6M"),R=n("lSNA"),N=n.n(R),D=n("TSYQ"),M=n.n(D),P=n("UXvI"),j=n("Muja"),F=n("kaUV");function B(e){return null!=e&&e===e.window}var U=function(e){function i(){var e,s;a()(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(s=l()(this,(e=p()(i)).call.apply(e,[this].concat(n)))).observer=null,s.prevHeight=0,s.forceAlign=function(){var e=s.props,t=e.target,n=e.align,r=e.disabled,i=e.onAlign;if(!r){var o=Object(S.findDOMNode)(O()(s));if(!o)return console.error("Align Component findDOMNode return null");var a=Object(F.c)(o,t,n);i&&i(o,t,a)}},s}return h()(i,e),c()(i,[{key:"componentDidMount",value:function(){this.forceAlign(),!this.props.disabled&&this.props.observe&&this.startMutationObserver(),!this.props.disabled&&this.props.monitorWindowResize&&this.startMonitorWindowResize()}},{key:"componentDidUpdate",value:function(e){var t,n,r=!1,i=this.props;i.disabled||(e.disabled||!Object(j.default)(e.align,i.align)?r=!0:(t=e.target,n=i.target,B(t)&&B(n)?r=!1:t!==n&&(r=!0))),r&&this.forceAlign(),i.monitorWindowResize&&!i.disabled?this.startMonitorWindowResize():this.stopMonitorWindowResize(),i.observe&&!i.disabled?this.startMutationObserver():this.stopMutationObserve()}},{key:"componentWillUnmount",value:function(){this.stopMonitorWindowResize(),this.stopMutationObserve()}},{key:"startMonitorWindowResize",value:function(){this.resizeHandler||(this.bufferMonitor=Object(P.default)(this.forceAlign,this.props.monitorBufferTime),this.resizeHandler=I(window,"resize",this.bufferMonitor))}},{key:"stopMonitorWindowResize",value:function(){this.resizeHandler&&(this.bufferMonitor.cancel(),this.resizeHandler.cancel(),this.resizeHandler=null)}},{key:"startMutationObserver",value:function(){var t,e,n,r=this;this.observer||(t=Object(S.findDOMNode)(this),e={attribute:!0,childList:!0,subtree:!0},n=function(){var e;!t||(e=t.offsetHeight)!==r.prevHeight&&(r.prevHeight=e,r.forceAlign())},this.observer=new MutationObserver(n),this.observer.observe(t,e))}},{key:"stopMutationObserve",value:function(){this.observer&&this.observer.disconnect(),this.observer=null}},{key:"render",value:function(){return g.Children.only(this.props.children)}}]),i}(g.Component);U.defaultProps={target:window,monitorBufferTime:50,monitorWindowResize:!0,observe:!0};var H=U,z=function(e){function o(){var e,t;a()(this,o);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=l()(this,(e=p()(o)).call.apply(e,[this].concat(r)))).setAlign=function(e){t.align=e},t.setPopupInner=function(e){t.popupInner=e},t.forceAlign=function(){t.align&&t.align.forceAlign()},t}return h()(o,e),c()(o,[{key:"getPopupElement",value:function(){var e=this.props,t=e.prefixCls,n=e.className,r=e.style,i=e.children,o=e.visible,a=e.destroyOnHide,s=e.placement,c=e.zIndex,u=e.align,l=e.target,d=e.onMouseEnter,p=e.onMouseLeave,f=e.onAlign;if(a&&!o)return null;var h=M()(t,"".concat(t,"_").concat(s),n,N()({},"".concat(t,"_hidden"),!o));return m.a.createElement(H,{ref:this.setAlign,target:l,align:u,disabled:!o,onAlign:f},m.a.createElement("div",{ref:this.setPopupInner,className:h,onMouseEnter:d,onMouseLeave:p,style:Object.assign({},r,{zIndex:c})},m.a.createElement(L.b,{visible:o},i)))}},{key:"getMaskElement",value:function(){var e=this.props,t=e.prefixCls,n=e.mask,r=e.visible,i=e.zIndex,o=M()("".concat(t,"__mask"),N()({},"".concat(t,"__mask_hidden"),!r));return n&&m.a.createElement(L.b,{visible:r},m.a.createElement("div",{className:o,style:{zIndex:i}}))}},{key:"render",value:function(){return m.a.createElement("div",null,this.getMaskElement(),this.getPopupElement())}}]),o}(g.Component),V={adjustX:!0,adjustY:!0,alwaysByViewport:!0},K=[0,0],W={l:{points:["cr","cl"],overflow:V,offset:[0,0],targetOffset:[10,0],useCssRight:!0},r:{points:["cl","cr"],overflow:V,offset:[0,0],targetOffset:[10,0]},t:{points:["bc","tc"],overflow:V,offset:[0,0],targetOffset:[0,7],useCssBottom:!0},b:{points:["tc","bc"],overflow:V,offset:[0,0],targetOffset:[0,7]},tl:{points:["bl","tl"],overflow:V,offset:[0,0],targetOffset:K},lt:{points:["tr","tl"],overflow:V,offset:[0,0],targetOffset:K},tr:{points:["br","tr"],overflow:V,offset:[0,0],targetOffset:K},rt:{points:["tl","tr"],overflow:V,offset:[0,0],targetOffset:K},bt:{points:["tr","br"],overflow:V,offset:[0,0],targetOffset:K},rb:{points:["bl","br"],overflow:V,offset:[0,0],targetOffset:K},bl:{points:["tl","bl"],overflow:V,offset:[0,0],targetOffset:K},lb:{points:["br","bl"],overflow:V,offset:[0,0],targetOffset:K}},Y=["onClick","onMouseEnter","onMouseLeave","onFocus","onBlur"],q=function(e){function t(e){var i;return a()(this,t),(i=l()(this,p()(t).call(this,e))).setTrigger=function(e){i.trigger=e},i.setContainerRender=function(e){i.containerRender=e},i.handleDocumentClick=function(e){var t;i.props.mask&&!i.props.maskClosable||(x(w.a.findDOMNode(O()(i)),t=e.target)||x(i.containerRender.component.popupInner,t)||i.setPopupVisible(!1))},i.handlePopupMouseEnter=function(e){i.clearDelayTimer()},i.handlePopupMouseLeave=function(e){e.relatedTarget&&i.trigger&&x(i.trigger,e.relatedTarget)||i.delaySetPopupVisible(!1,i.mouseLeaveDelay)},i.getPopup=function(){var e=O()(i).props,t={};i.isMouseEnterToShow()&&(t.onMouseEnter=i.handlePopupMouseEnter),i.isMouseLeaveToHide()&&(t.onMouseEnter=i.handlePopupMouseEnter,t.onMouseLeave=i.handlePopupMouseLeave);var n=Object(k.a)(e,["prefixCls","className","style","visible","placement","destroyOnHide","mask","zIndex","onAlign"]),r=Object.assign({},W[e.placement],{},e.align);return m.a.createElement(z,C()({},t,n,{target:w.a.findDOMNode(O()(i)),align:r,visible:i.state.visible}),i.props.popup)},i.handleClick=function(e){if(i.onClick(e),i.focusTime){if(Math.abs(Date.now()-i.focusTime)<20)return;i.focusTime=0}var t=!i.state.visible;(i.isClickToHide()&&!t||i.isClickToShow()&&t)&&i.setPopupVisible(t)},i.handleMouseEnter=function(e){i.onMouseEnter(e),i.delaySetPopupVisible(!0,i.props.mouseEnterDelay)},i.handleMouseLeave=function(e){i.onMouseLeave(e),i.delaySetPopupVisible(!1,i.props.mouseLeaveDelay)},i.handleFocus=function(e){i.onFocus(e),i.clearDelayTimer(),i.isFocusToShow()&&(i.focusTime=Date.now(),i.delaySetPopupVisible(!0,i.props.focusDelay))},i.handleBlur=function(e){i.onBlur(e),i.clearDelayTimer(),i.isBlurToHide()&&i.delaySetPopupVisible(!1,i.props.blurDelay)},i.state={visible:!!e.visible},Y.forEach(function(t){i[t]=function(e){return i.fireEvents(t,e)}}),i}return h()(t,e),c()(t,[{key:"componentDidMount",value:function(){this.componentDidUpdate({},{visible:this.state.visible})}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){"visible"in e&&this.setState({visible:e.visible})}},{key:"componentDidUpdate",value:function(e,n){var r=this;this.containerRender.renderComponent(null,function(){var e,t=r.state;n.visible===t.visible||(e=r.props.afterPopupVisibleChange)&&e(t.visible)}),this.state.visible?!this.clickOutsideHandler&&this.isClickToHide()&&(this.clickOutsideHandler=I(document,"click",this.handleDocumentClick)):this.clearOutsideHandler()}},{key:"componentWillUnmount",value:function(){this.clearDelayTimer(),this.clearOutsideHandler()}},{key:"isClickToShow",value:function(){var e=this.props,t=e.action,n=e.showAction;return-1!==t.indexOf("click")||-1!==n.indexOf("click")}},{key:"isClickToHide",value:function(){var e=this.props,t=e.action,n=e.hideAction;return-1!==t.indexOf("click")||-1!==n.indexOf("click")}},{key:"isMouseEnterToShow",value:function(){var e=this.props,t=e.action,n=e.showAction;return-1!==t.indexOf("hover")||-1!==n.indexOf("mouseEnter")}},{key:"isMouseLeaveToHide",value:function(){var e=this.props,t=e.action,n=e.hideAction;return-1!==t.indexOf("hover")||-1!==n.indexOf("mouseLeave")}},{key:"isFocusToShow",value:function(){var e=this.props,t=e.action,n=e.showAction;return-1!==t.indexOf("focus")||-1!==n.indexOf("focus")}},{key:"isBlurToHide",value:function(){var e=this.props,t=e.action,n=e.hideAction;return-1!==t.indexOf("focus")||-1!==n.indexOf("blur")}},{key:"setPopupVisible",value:function(e){var t;this.clearDelayTimer(),this.state.visible!==e&&("visible"in this.props||this.setState({visible:e}),(t=this.props.onVisibleChange)&&t(e))}},{key:"delaySetPopupVisible",value:function(e,t){var n=this;this.clearDelayTimer(),t?this.delayTimer=setTimeout(function(){return n.setPopupVisible(e)},t):this.setPopupVisible(e)}},{key:"clearDelayTimer",value:function(){this.delayTimer&&(clearTimeout(this.delayTimer),this.delayTimer=null)}},{key:"fireEvents",value:function(e,t){var n=this.props.children.props[e];n&&n(t);var r=this.props[e];r&&r(t)}},{key:"clearOutsideHandler",value:function(){this.clickOutsideHandler&&(this.clickOutsideHandler.cancel(),this.clickOutsideHandler=null)}},{key:"render",value:function(){var e={ref:this.setTrigger},t=g.Children.only(this.props.children);return e.onClick=this.isClickToShow()||this.isClickToHide()?this.handleClick:this.onClick,e.onMouseEnter=this.isMouseEnterToShow()?this.handleMouseEnter:this.onMouseEnter,e.onMouseLeave=this.isMouseLeaveToHide()?this.handleMouseLeave:this.onMouseLeave,this.isFocusToShow()||this.isBlurToHide()?(e.onFocus=this.handleFocus,e.onBlur=this.handleBlur):(e.onFocus=this.onFocus,e.onBlur=this.onBlur),m.a.createElement(L.a,{ref:this.setContainerRender,autoMount:!1,visible:this.state.visible,getComponent:this.getPopup,getContainer:this.props.getContainer},Object(g.cloneElement)(t,e))}}]),t}(g.Component);q.defaultProps={action:[],showAction:[],hideAction:[],mask:!1,maskClosable:!0,mouseEnterDelay:0,mouseLeaveDelay:100,focusDelay:0,blurDelay:150,getContainer:function(){var e=document.createElement("div");return e.style.position="absolute",e.style.left=0,e.style.top=0,e.style.width=0,e.style.height=0,document.body.appendChild(e),e}};var Z=q,X=n("I4N/"),Q=n("2ACu"),J=n("iP/4");n("p/xT"),n("xD9Q"),n("BzeS");n.d(t,"default",function(){return $});var $=function(e){function t(e){var i;return a()(this,t),(i=l()(this,p()(t).call(this,e))).getPopup=function(){var e=i.props,t=e.token,n=e.source,r=e.grantViewAccessDisabled;return m.a.createElement(y.a,{in:i.state.isFadingInOrOut,timeout:250,className:"mention-popover comment-ignore-blur",classNames:"popover-fade",onExited:i.hidePopup},m.a.createElement("section",null,m.a.createElement(E.default,{closePopover:i.hidePopup,grantViewAccessDisabled:r,token:t,source:Object(X.a)(n)})))},i.onVisibleChange=function(e){if(!e)return i.startToFadeOut();i.props.onVisibleChange&&i.props.onVisibleChange(!0),i.props.usePopover&&(Object(Q.default)("click_user_photo",{source_user_photo:i.props.source}),i.setState({visible:!0,isFadingInOrOut:!0}))},i.hidePopup=function(){i.props.onVisibleChange&&i.props.onVisibleChange(!1),i.setState({visible:!1})},i.state={isFadingInOrOut:!1,visible:!1},i}return h()(t,e),c()(t,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){}},{key:"startToFadeOut",value:function(){this.setState({isFadingInOrOut:!1})}},{key:"componentWillUnmount",value:function(){this.props.onVisibleChange&&this.props.onVisibleChange(!1)}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.trigger,r=(e.usePopover,e.onVisibleChange,e.className),i=o()(e,["children","trigger","usePopover","onVisibleChange","className"]);return Object(b.u)(this.props.token)||J.a.isOpendoc?t:m.a.createElement(Z,Object.assign({},i,{className:r,mask:!0,maskClosable:!1,action:[n],popup:this.getPopup(),destroyOnHide:!0,visible:this.state.visible,onVisibleChange:this.onVisibleChange}),t)}}]),t}(g.Component);$.defaultProps={usePopover:!0}},YZDV:function(e,t,n){"use strict";var r=n("rzV7");function i(e,t,n){return!r(e.props,t)||!r(e.state,n)}e.exports=i},YdDX:function(e,t,n){var r=n("wTvh"),i=n("Q4cU"),o=n("rZkV");function a(e,t){return t=t||o(e).call(e,0),i(r(e,{raw:{value:i(t)}}))}e.exports=a},Ye3z:function(e,t,n){"use strict";var r=n("MkRQ"),i=n("LV2V"),o=n("4k7n"),a=n("AQwl"),s=Object(i.a)(function(e){return Object(o.a)(Object(r.a)(e,a.a))});t.a=s},YfG3:function(e,t,n){"use strict";var r=n("+EKe"),i=n("kt0j"),o=n("4/q3"),a=Object(i.a)(function(e,t){Object(r.a)(t,Object(o.a)(t),e)});t.a=a},YlgD:function(e,t,n){"use strict";n.d(t,"b",function(){return i}),n.d(t,"a",function(){return o});var r=n("VI6H"),i=function(e){return{userId:e.id,userName:e.name,avatarUrl:e.avatarUrl||Object(r.k)(e.id),description:e.description?e.description.text:"",descType:e.description?e.description.type:0,anonymous:Object(r.n)(e.id)}},o=function(e){return{id:e.userId,name:e.userName,avatarUrl:e.avatarUrl,description:e.description?{text:e.description,type:e.descType||0}:void 0}}},YnFm:function(e,t,n){e.exports=n("NzrZ")},Yoag:function(e,t,n){var r=n("dTAl"),i=n("RrRF"),o=4294967295;function a(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=o,this.__views__=[]}a.prototype=r(i.prototype),a.prototype.constructor=a,e.exports=a},YpxX:function(e,t,n){"use strict";var r=n("pRQB").CODE_POINTS;function i(e,t){return 55296<=e&&e<=56319&&56320<=t&&t<=57343}function o(e,t){return 1024*(e-55296)+9216+t}var a=65536,s=e.exports=function(){this.html=null,this.pos=-1,this.lastGapPos=-1,this.lastCharPos=-1,this.gapStack=[],this.skipNextNewLine=!1,this.lastChunkWritten=!1,this.endOfChunkHit=!1,this.bufferWaterline=a};s.prototype.dropParsedChunk=function(){this.pos>this.bufferWaterline&&(this.lastCharPos-=this.pos,this.html=this.html.substring(this.pos),this.pos=0,this.lastGapPos=-1,this.gapStack=[])},s.prototype._addGap=function(){this.gapStack.push(this.lastGapPos),this.lastGapPos=this.pos},s.prototype._processHighRangeCodePoint=function(e){if(this.pos!==this.lastCharPos){var t=this.html.charCodeAt(this.pos+1);i(e,t)&&(this.pos++,e=o(e,t),this._addGap())}else if(!this.lastChunkWritten)return this.endOfChunkHit=!0,r.EOF;return e},s.prototype.write=function(e,t){this.html?this.html+=e:this.html=e,this.lastCharPos=this.html.length-1,this.endOfChunkHit=!1,this.lastChunkWritten=t},s.prototype.insertHtmlAtCurrentPos=function(e){this.html=this.html.substring(0,this.pos+1)+e+this.html.substring(this.pos+1,this.html.length),this.lastCharPos=this.html.length-1,this.endOfChunkHit=!1},s.prototype.advance=function(){if(this.pos++,this.pos>this.lastCharPos)return this.lastChunkWritten||(this.endOfChunkHit=!0),r.EOF;var e=this.html.charCodeAt(this.pos);return this.skipNextNewLine&&e===r.LINE_FEED?(this.skipNextNewLine=!1,this._addGap(),this.advance()):e===r.CARRIAGE_RETURN?(this.skipNextNewLine=!0,r.LINE_FEED):(this.skipNextNewLine=!1,55296<=e?this._processHighRangeCodePoint(e):e)},s.prototype.retreat=function(){this.pos===this.lastGapPos&&(this.lastGapPos=this.gapStack.pop(),this.pos--),this.pos--}},YsTz:function(e,t,n){"use strict";var r=n("52x2")();e.exports=function(e){return e!==r&&null!==e}},YsUP:function(e,t,n){"use strict";var r=n("yIs4");function i(e){return Object(r.default)(e)&&e!=+e}t.a=i},Yspk:function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return o});var r=n("nN3d");function i(e,t){var n=e.getRep(t).lines.totalWidth();return e.changesetHelper.builder(n)}function o(e){return Object(r.c)(e||6)}},Ysvc:function(e,t,n){"use strict";var r=n("7EGn"),i=n("iP/4"),o=function(i){var o,a=this;return function(){if(o)return o;for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=i.apply(a,t);return o=r}};function a(){for(var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",t=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:"").split("."),n=e.split("."),r=Math.max(t.length,n.length),i=0;i<r;i++){var o=t[i],a=n[i];if(!a)return!0;if(!o)return!1;var s=Number(o),c=Number(a);if(s<c)return!1;if(c<s)return!0}return!0}function s(e,t){var n;i.a.isDocsSDK?i.a.android?n=e[0]:i.a.ios&&(n=e[1]):i.a.android?n=t[0]:i.a.ios&&(n=t[1]);var r=l();return!!n&&a(r,n)}n.d(t,"a",function(){return u}),n.d(t,"e",function(){return d}),n.d(t,"f",function(){return p}),n.d(t,"d",function(){return f}),n.d(t,"c",function(){return h}),n.d(t,"b",function(){return m});var c=o(function(){var e=window.navigator.userAgent;return Object(r.default)(e.match(/DocsSDK\/([0-9.]+)/i),"[1]")}),u=(o(function(){var e=c();return!!(e&&i.a.isLark&&(i.a.ios&&a(e,"1.3")||!i.a.ios&&a(e,"1.1.0")))}),o(function(){var e=c();return!!(e&&i.a.ios&&a(e,"1.7.0"))}));function l(){if(i.a.isDocsSDK)return c();var e=navigator.userAgent||"";return Object(r.default)(e.match(/Docs[^SDK/]*\/([0-9.]+)/),"[1]")}function d(){var e=l(),t="",t=i.a.isDocsSDK?i.a.android?"1.2.3":"1.8.2":"0.2.5";return(!i.a.isIOS||g())&&a(e,t)}function p(){var e=l(),t="";return!i.a.isDocsSDK||i.a.android?t="0.2.4":i.a.ios&&(t="1.8.0"),a(e,t)}function f(){return s(["1.12.99","1.9.1"],["0.2.7","0.2.7"])}function h(){if(i.a.isDocs){if(i.a.ios)return!0;var e=i.a.isDocsSDK?"1.12.99":"0.2.7";return a(l(),e)}return!1}function g(){return-1<location.protocol.indexOf("docsource")}function m(){return s(["1.15.99","1.9.4"],["0.3.0","0.3.0"])}s(["1.15.99","1.9.4"],["0.3.0","0.3.0"])},Yvyk:function(e,t,n){e.exports=n("mEwK")},"Z/PY":function(e,me,ve){"use strict";(function(e){ve.d(me,"a",function(){return S}),ve.d(me,"w",function(){return R}),ve.d(me,"x",function(){return N}),ve.d(me,"y",function(){return D}),ve.d(me,"u",function(){return F}),ve.d(me,"v",function(){return B}),ve.d(me,"e",function(){return U}),ve.d(me,"E",function(){return H}),ve.d(me,"d",function(){return K}),ve.d(me,"n",function(){return W}),ve.d(me,"D",function(){return Y}),ve.d(me,"g",function(){return q}),ve.d(me,"p",function(){return X}),ve.d(me,"C",function(){return Q}),ve.d(me,"b",function(){return J}),ve.d(me,"i",function(){return $}),ve.d(me,"l",function(){return ee}),ve.d(me,"t",function(){return te}),ve.d(me,"j",function(){return ne}),ve.d(me,"s",function(){return re}),ve.d(me,"r",function(){return ie}),ve.d(me,"q",function(){return oe}),ve.d(me,"f",function(){return ae}),ve.d(me,"m",function(){return se}),ve.d(me,"c",function(){return ce}),ve.d(me,"B",function(){return ue}),ve.d(me,"h",function(){return le}),ve.d(me,"k",function(){return pe}),ve.d(me,"o",function(){return fe}),ve.d(me,"A",function(){return he}),ve.d(me,"z",function(){return ge});var t=ve("o0o1"),i=ve.n(t),n=ve("yXPU"),r=ve.n(n),o=ve("J4zp"),I=ve.n(o),a=ve("dtwz"),s=ve("yIs4"),c=ve("F294"),u=ve("CpTu"),x=ve("15MJ"),l=ve("2ACu"),d=ve("+Xq6"),p=ve("3doy"),f=ve("skFV"),h=ve("VIFs"),g=ve("kUgE"),m=ve("BpSZ"),v=ve("lQZd"),y=ve("6O0K"),b=ve("jJw9"),E=ve("EVj1"),_=ve("dDhe"),C=ve("cGQV"),T=ve("rLED"),O=ve("wMS7"),k=ve.n(O);function S(){Object(y.a)(e("anonymous.paste_toast_with_login"))}var w=1280,L=730;function R(e){if(e){var t=e.src,n=e.file_token;if(!n)return Object(b.replaceImageDataSrc)(decodeURIComponent(t).replace(/\/\/file/,"/file"));var r=$(n);return Object(_.c)()?j(r):r}return null}function N(e){if(e){var t=e.src;return!!e.file_token?M(e):Object(b.replaceImageDataSrc)(decodeURIComponent(t).replace(/\/\/file/,"/file"))}return null}function D(e){if(!e)return!1;var t=e.size;if(!!!e.file_token)return!1;if(!t||!Object(s.default)(+t))return!1;var n=Object(T.M)("gif_load_icon_limit_value",Number.MAX_SAFE_INTEGER);return!!n&&n<+t}function M(e){if(!e)return null;var t=e.file_token;if(!!!t)return null;var n=Object(a.a)($,j)(t);return n?D(e)?P(n):n:null}function P(e){return e?e.replace("/all/","/v2/cover/"):null}function j(e){if(!e)return null;var t=Object(E.k)(e,!0),n=t.pathname,r=t.search,i=t.hash,o="".concat(n).concat(r).concat(i),a=Object(c.a)(Object(f.i)())||Object(c.a)(Object(f.r)());if(!a)return console.error("get api domain faild."),null;var s="https://".concat(a);return"".concat(s).concat(o)}function F(e){return e&&e.includes("pluginName="+x.s)}function B(e,t,n){var r=n.getAllAttributesOnLine(e,t);return!!Object(u.a)(r,function(e){return x.t.includes(e[0])})}function U(e){var t,n="";for(t in e)n+="".concat(t,"=").concat(e[t],"&");return n.slice(0,n.length-1)}function H(e){return void 0===e||"undefined"===e||"null"===e?void 0:e}function z(e,t){var n="t"===e[0]?-1:1,r="l"===e[1]?-1:1;return{width:t.width*r,height:t.height*n}}function V(e){return e/Math.abs(e)}function K(e){for(var t=e.direction,n=e.alignment,r=e.imageSize,i=e.moveVector,o=e.imageMaxWidth,a=z(t,r),s=[V(a.width),V(a.height)],c=i.x,u=i.y,l="center"===n?2:1,d=r.width/l,p=r.height,f=a.width/l,h=a.height,g=o/l,m=f*h<0?-1:1,v=u*f*m<h*c*m,y=0,b=[["left","tr","top"],["center","tl","top"],["center","tr","top"],["right","tl","top"],["left","bl","side"],["right","br","side"]];y<b.length;y++){var E=b[y];E[0]===n&&E[1]===t&&(v="top"===E[2])}var _=(v?[f+c,h*(f+c)/f]:[f*(h+u)/h,h+u]).map(function(e,t){return e*s[t]}),C=I()(_,2),T=C[0],O=C[1],k=[d*l<p?x.m/l:x.m*d/p,d*l<p?x.m/l*p/d:x.m],S=[g,g*p/d],w=[Math.round(Math.min(S[0],Math.max(k[0],T))),Math.round(Math.min(S[1],Math.max(k[1],O)))];return{width:w[0]*l,height:w[1]}}function W(e,t,n){var r=n.split(".").pop()||"unknown";Object(l.default)("mention_drag_upload",{upload_status:e||"fail",mention_file_length:t,mention_file_type:r})}function Y(e,t){return parseFloat(Number(e).toFixed(t))}function q(e){return Z.apply(this,arguments)}function Z(){return(Z=r()(i.a.mark(function e(t){var r;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t)return r=new Image,e.abrupt("return",new Promise(function(n){r.onload=function(){var e=document.createElement("canvas");e.width=r.width,e.height=r.height;var t=e.getContext("2d");t&&(t.drawImage(r,0,0,e.width,e.height),n(e.toDataURL()))},r.src=t}));e.next=3;break;case 3:return e.abrupt("return",null);case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function X(e){var t=Object(f.h)();return new RegExp("^https?:\\/\\/[\\w\\-._]+\\.(".concat(t.map(function(e){return e.replace(/\./g,"\\.")}).join("|"),")\\/space\\/api\\/")).test(e)}function Q(e){var t=null;if(e)try{t=JSON.parse(e)}catch(e){}return t}function J(e){try{e=decodeURIComponent(e)}catch(e){}return!!e&&/^(?:([A-Za-z]+):){1}(?:\/\/([.\-\w]+)){1}(?::(\d+))?(\/[^?#<>"']*)?(\?[^#<>"']*)?(#[^<>"']*)?$/.test(e)}function $(e,t){t=t||Object(v.g)();var n={mountPoint:{type:p.MountPointType.DOC_IMAGE,token:t}};return Object(d.h)(e,n)}function ee(){var e=Object(g.getLanguage)();return x.o[e]||x.n}function te(e){return!(!e||Object(m.b)(e))&&(!Object(h.isDocUrl)(e)||!re(e)&&!ie(e))}function ne(e){return e?"drive":"doc"}function re(e){return x.d.test(e)}function ie(e){return x.c.test(e)}function oe(e,t){return w<t&&e*w/t<L}function ae(e,n){var t=e.getMatchedAttributePositionOnSelection(null,function(e,t){return"image-previewer"===e&&n(Object(C.c)(t))});return 0<t.length?t[0].docPosition:null}function se(e,t){var n=Object(s.default)(e)?e:parseFloat(e),r=Object(s.default)(t)?t:parseFloat(t);return isNaN(n)||isNaN(r)||r<=0||n<=0?1:n/r}function ce(e){var t="#ssrBox #container-wrap-".concat(x.u,"-image-").concat(e," img");return!!document.querySelector(t)}function ue(e){return k.a.sanitize(e,{SAFE_FOR_JQUERY:!0,ALLOW_DATA_ATTR:!0,ALLOW_UNKNOWN_PROTOCOLS:!0,ADD_ATTR:["contenteditable"]}).replace(/data-faketext=""/g,'data-faketext=" "')}function le(e){return de.apply(this,arguments)}function de(){return(de=r()(i.a.mark(function e(t){var n;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(decodeURIComponent(t),{credentials:"include"});case 3:return n=e.sent,e.next=6,n.blob();case 6:return e.abrupt("return",e.sent);case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:return e.abrupt("return");case 13:case"end":return e.stop()}},e,null,[[0,9]])}))).apply(this,arguments)}function pe(e){return e&&Object.keys(e).find(function(e){return"gallery"===e||"image-uploaded"===e})}function fe(e){return/^comment-(id|resolved|deleted)-[0-9]+$/.test(e)}function he(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{transformSrc:!0},r=[];return"gallery"===e?r=ge(t).items||[]:"image-uploaded"===e&&(r=[Object(C.c)(t)]),n.transformSrc&&r.forEach(function(e){e.src=R(e)}),r}function ge(e){var t={};try{t=JSON.parse(e)}catch(e){console.error("attrObj gallery is not json string:",e)}return t}}).call(this,ve("2vAP"))},"Z/fP":function(e,s,c){"use strict";(function(t){c.d(s,"a",function(){return a});var e=c("lwsE"),n=c.n(e),r=c("W8MJ"),i=c.n(r),o=c("6IgM"),a=new(function(){function e(){n()(this,e),this._mobileEditor=null,this._ttI18NMap={},"undefined"!=typeof window&&"function"==typeof t&&(this._ttI18NMap={"sheet.spread.pass_instance_tips":t("sheet.spread.pass_instance_tips"),"sheet.spread.target_not_exit_tips":t("sheet.spread.target_not_exit_tips"),"sheet.copy_item":t("sheet.copy_item"),"sheet.pasting":t("sheet.pasting"),"sheet.fail_to_paste":t("sheet.fail_to_paste"),"sheet.conflict":t("sheet.conflict"),"sheet.cell_limit_exceed":t("sheet.cell_limit_exceed"),"common.unnamed_document":t("common.unnamed_document"),"common.unnamed_sheet":t("common.unnamed_sheet"),"sheet.invalid_link":t("sheet.invalid_link"),"sheet.overlapping_spans":t("sheet.overlapping_spans"),"sheet.paste_merges_over_filtered_rows":t("sheet.paste_merges_over_filtered_rows"),"sheet.protection.sync_permission_fail":t("sheet.protection.sync_permission_fail"),"sheet.conventional":t("sheet.conventional"),"sheet.plain_text":t("sheet.plain_text"),"sheet.digital":t("sheet.digital"),"sheet.digital_point":t("sheet.digital_point"),"sheet.digital_without_separator":t("sheet.digital_without_separator"),"sheet.percent":t("sheet.percent"),"sheet.percent_point":t("sheet.percent_point"),"sheet.scientific_count":t("sheet.scientific_count"),"sheet.currency_dollar_rounded":t("sheet.currency_dollar_rounded"),"sheet.currency_dollar":t("sheet.currency_dollar"),"sheet.date":t("sheet.date"),"sheet.time":t("sheet.time"),"sheet.data_time":t("sheet.data_time"),"sheet.format_code.date_with_slash":t("sheet.format_code.date_with_slash"),"sheet.format_text.date_with_slash":t("sheet.format_text.date_with_slash"),"sheet.format_code.date_with_hyphen":t("sheet.format_code.date_with_hyphen"),"sheet.format_text.date_with_hyphen":t("sheet.format_text.date_with_hyphen"),"sheet.format_code.date_time":t("sheet.format_code.date_time"),"sheet.format_text.date_time":t("sheet.format_text.date_time"),"sheet.currency_cny_rounded":t("sheet.currency_cny_rounded"),"sheet.currency_cny":t("sheet.currency_cny"),"sheet.copy_with_hidden_rows":t("sheet.copy_with_hidden_rows"),"sheet.copy_with_hidden_cols":t("sheet.copy_with_hidden_cols"),"sheet.copy_with_hidden_rows&cols":t("sheet.copy_with_hidden_rows&cols"),"sheet.error.drag_from_part_spans":t("sheet.error.drag_from_part_spans"),"sheet.error.drag_to_part_spans":t("sheet.error.drag_to_part_spans"),"sheet.error.drag_with_filter":t("sheet.error.drag_with_filter"),"sheet.error.drag_to_protected":t("sheet.error.drag_to_protected"),"sheet.error.drag_contain_protected":t("sheet.error.drag_contain_protected"),"sheet.fill_no_merge":t("sheet.fill_no_merge"),"sheet.reminder.day_of_event":t("smartable.reminder.day_of_event"),"sheet.reminder.1_day_before":t("smartable.reminder.1_day_before"),"sheet.reminder.2_day_before":t("smartable.reminder.2_day_before"),"sheet.reminder.1_week_before":t("smartable.reminder.1_week_before"),"sheet.reminder.at_time_of_event":t("smartable.reminder.at_time_of_event"),"sheet.reminder.remind_before_5_mins":t("smartable.reminder.remind_before_min",5),"sheet.reminder.remind_before_15_mins":t("smartable.reminder.remind_before_min",15),"sheet.reminder.remind_before_30_mins":t("smartable.reminder.remind_before_min",30),"sheet.reminder.remind_before_1_hour":t("smartable.reminder.1_hour_before"),"sheet.reminder.remind_before_2_hours":t("smartable.reminder.remind_before_hour",2),"sheet.reminder.popover.beforeOneDay":t("reminder.popover.beforeDay",1),"sheet.reminder.popover.beforeTwoDay":t("reminder.popover.beforeDay",2),"sheet.reminder.popover.beforeOneWeek":t("reminder.popover.beforeWeek",1),"common.edit":t("common.edit"),"common.copy":t("common.copy"),"common.delete":t("common.delete"),"common.cut":t("common.cut"),"sheet.chart.nodata":t("sheet.chart.nodata"),"header.please_enter_title":t("header.please_enter_title"),"sheet.chart_download_img":t("sheet.chart_download_img"),"sheet.chart_download_fail":t("sheet.chart_download_fail"),"common.reactivate_tab_apply_data":t("common.reactivate_tab_apply_data"),"sheet.new_commen_deleted.toast":t("sheet.new_commen_deleted.toast"),sheet_more_date_time:t("sheet_more_date_time"),"sheet.chart_loading":t("sheet.chart_loading"),"sheets.filter_view.view_only_temporary":t("sheets.filter_view.view_only_temporary"),"sheets.filter_view.hover_create_new":t("sheets.filter_view.hover_create_new"),"mobile.sheet.view_image":t("mobile.sheet.view_image"),"common.download_file":t("common.download_file"),"sheet.resize_value_tip":t("CreationDoc_Sheets_Hyperlink_HeightHoverTooltip")})}return i()(e,[{key:"t",value:function(e){return this._ttI18NMap[e]}},{key:"moirae",get:function(){return this._moirae||o.o},set:function(e){this._moirae=e}},{key:"collectSuiteEvent",get:function(){return this._collectSuiteEvent||o.c},set:function(e){this._collectSuiteEvent=e}},{key:"collectToAdmin",get:function(){return this._collectToAdmin||o.d},set:function(e){this._collectToAdmin=e}},{key:"transformPerformanceData",get:function(){return this._transformPerformanceData||o.t},set:function(e){this._transformPerformanceData=e}},{key:"encryptTea",get:function(){return this._encryptTea||o.e},set:function(e){this._encryptTea=e}},{key:"getFileType",get:function(){return this._getFileType||o.j},set:function(e){this._getFileType=e}},{key:"prependSpace",get:function(){return this._prependSpace||o.q},set:function(e){this._prependSpace=e}},{key:"beforeCopy",get:function(){return this._beforeCopy||o.a},set:function(e){this._beforeCopy=e}},{key:"EditorManager",get:function(){return this._EditorManager},set:function(e){this._EditorManager=e}},{key:"isLarkProduct",get:function(){return this._isLarkProduct||o.u},set:function(e){this._isLarkProduct=e}},{key:"diyIconEnable",get:function(){return this._diyIconEnable||!1},set:function(e){this._diyIconEnable=e}},{key:"syncbufferEnable",get:function(){return this._syncbufferEnable||!1},set:function(e){this._syncbufferEnable=e}},{key:"replaceImageDataSrc",get:function(){return this._replaceImageDataSrc||o.r},set:function(e){this._replaceImageDataSrc=e}},{key:"getSegmentArray",get:function(){return this._getSegmentArray||o.k},set:function(e){this._getSegmentArray=e}},{key:"getCustomIconUrl",get:function(){return this._getCustomIconUrl||o.i},set:function(e){this._getCustomIconUrl=e}},{key:"generateEditorValue",get:function(){return this._generateEditorValue||o.f},set:function(e){this._generateEditorValue=e}},{key:"Toast",get:function(){return this._Toast||o.s},set:function(e){this._Toast=e}},{key:"modalHelper",get:function(){return this._modalHelper||o.n},set:function(e){this._modalHelper=e}},{key:"mobileEditor",get:function(){return this._mobileEditor},set:function(e){this._mobileEditor=e}},{key:"imageHelper",get:function(){return this._imageHelper||{getDriveImageUrl:function(){return console.error("No imageHelper Instance"),""},getDriveOriginalImageUrl:function(){return console.error("No imageHelper Instance"),""},getDriveImageToken:function(){return console.error("No imageHelper Instance"),""},decodeInfo:function(){console.error("No imageHelper Instance")},encodeInfo:function(){return console.error("No imageHelper Instance"),""},copyDriveImages:function(){return new Promise(function(e){console.error("No imageHelper Instance"),e([])})},collectImageError:function(){console.error("No collectImageError Instance")},copyDriveImageForSheet:function(){return new Promise(function(e){console.error("No imageHelper Instance"),e({})})}}},set:function(e){this._imageHelper=e}},{key:"freezeSheetToggle",get:function(){return this._freezeSheetToggle},set:function(e){this._freezeSheetToggle=e}},{key:"checkCopyAuthority",get:function(){return this._checkCopyAuthority},set:function(e){this._checkCopyAuthority=e}},{key:"checkExportAuthority",get:function(){return this._checkExportAuthority},set:function(e){this._checkExportAuthority=e}},{key:"logHelper",get:function(){return this._logHelper},set:function(e){this._logHelper=e}},{key:"collectLoadPerformance",get:function(){return this._collectLoadPerformance||o.b},set:function(e){this._collectLoadPerformance=e}},{key:"getCustomIconFG",get:function(){return this._getCustomIconFG||o.h},set:function(e){this._getCustomIconFG=e}},{key:"isAnonymousAccess",get:function(){return this._isAnonymousAccess},set:function(e){this._isAnonymousAccess=e}},{key:"isSheetGarrEnable",get:function(){return this._isSheetGarrEnable},set:function(e){this._isSheetGarrEnable=e}},{key:"getSuiteMember",get:function(){return this._getSuiteMember},set:function(e){this._getSuiteMember=e}},{key:"performanceStageCollector",get:function(){return this._performanceStageCollector||o.p},set:function(e){this._performanceStageCollector=e}},{key:"sheetRenderStage",get:function(){return this._sheetRenderStage||{}},set:function(e){this._sheetRenderStage=e}},{key:"getLanguage",get:function(){return this._getLanguage},set:function(e){this._getLanguage=e}},{key:"getSheetCellLimitNum",get:function(){return this._getSheetCellLimitNum||o.g},set:function(e){this._getSheetCellLimitNum=e}},{key:"getSheetCopyDataVersion",get:function(){return this._getSheetCopyDataVersion||o.l},set:function(e){this._getSheetCopyDataVersion=e}},{key:"getSheetDropdown2DataValidationEnable",get:function(){return this._getSheetDropdown2DataValidationEnable||o.m},set:function(e){this._getSheetDropdown2DataValidationEnable=e}},{key:"browser",set:function(e){this._browser=e},get:function(){return this._browser}}]),e}())}).call(this,c("2vAP"))},Z3Pq:function(e,t,n){"use strict";var r=n("uE2L"),i=n("m71m"),o=Object(i.a)(function(e,t,n){Object(r.a)(e,n,t)});t.a=o},ZCZK:function(e,t,n){e.exports=n("rAxL")},ZCgT:function(e,t,n){var r=n("tLB3"),i=1/0,o=17976931348623157e292;function a(e){return e?(e=r(e))!==i&&e!==-i?e==e?e:0:(e<0?-1:1)*o:0===e?e:0}e.exports=a},ZCpW:function(e,t,n){var r=n("lm/5"),i=n("O7RO"),o=n("IOzZ");function a(t){var n=i(t);return 1==n.length&&n[0][2]?o(n[0][0],n[0][1]):function(e){return e===t||r(e,t,n)}}e.exports=a},ZDp4:function(e,t){function n(e){if(null==e)throw new TypeError("Cannot destructure undefined")}e.exports=n},ZLJe:function(e){e.exports=JSON.parse('{"amp":"&","apos":"\'","gt":">","lt":"<","quot":"\\""}')},ZLpy:function(e,t,n){"use strict";n.d(t,"a",function(){return f}),n.d(t,"b",function(){return g});var a=n("AiBH"),r=n("hMnB"),i=n.n(r),o=n("rLED"),s=!function(){return["larksuite.com","larksuite-staging.com"].some(function(e){return-1<i.a.hostname.indexOf(e)})}(),c=["youtube","gmaps","tiktok","vimeo","instagram","facebook","googleDrive","datastudio","oneDrive","imgur","soundcloud","slideshare","speakerdeck","lark_survey"],u=["youku","bilibili","autonavi","baidumap","xigua","modao","canva","feishu_survey","jinshuju"],l=c.reduce(function(e,t){return e[t]=!0,e},{}),d=u.reduce(function(e,t){return e[t]=!0,e},{});function p(){return"1"===window.User.tenantId}var f=function(e){if(!e)return!1;if(p())return!0;if(e=e.replace(/Code$/,""),s){if(c.includes(e))return!1}else if(u.includes(e))return!1;return!0};function h(e,t){var n=Object(o.x)();return n&&n.length?e.filter(function(e){return!n.includes(t(e))}):e}function g(e){var n,t=e.inChina,r=e.isBytedance,i=e.list,o=e.getKey;return h(r?i.filter(function(e){return o(e)!==a.b.LARK_SURVEY}):(n=t?l:d,i.filter(function(e){var t=o(e);return!n[t]})),o)}},ZNvi:function(e,t){},ZZQp:function(e,t,n){var r=n("bpon"),i=n("39uu"),o=n("eOcF"),a=n("QYBB").f,s=n("PoCt"),c=n("Qub4"),u=s("meta"),l=0,d=Object.isExtensible||function(){return!0},p=function(e){a(e,u,{value:{objectID:"O"+ ++l,weakData:{}}})},f=function(e,t){if(!i(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!o(e,u)){if(!d(e))return"F";if(!t)return"E";p(e)}return e[u].objectID},h=function(e,t){if(!o(e,u)){if(!d(e))return!0;if(!t)return!1;p(e)}return e[u].weakData},g=function(e){return c&&m.REQUIRED&&d(e)&&!o(e,u)&&p(e),e},m=e.exports={REQUIRED:!1,fastKey:f,getWeakData:h,onFreeze:g};r[u]=!0},ZbhI:function(e,t,n){e.exports=n("J6x8")},"Zc1+":function(e,t,n){var i=n("Shz6").domEach,r={pick:n("JZM8")},o=Object.prototype.toString;function a(t,n,e,r){var i;"string"==typeof n?(i=s(t),"function"==typeof e&&(e=e.call(t,r,i[n])),""===e?delete i[n]:null!=e&&(i[n]=e),t.attribs.style=c(i)):"object"==typeof n&&Object.keys(n).forEach(function(e){a(t,e,n[e])})}function s(e,t){var n=u(e.attribs.style);return"string"==typeof t?n[t]:Array.isArray(t)?r.pick(n,t):n}function c(n){return Object.keys(n||{}).reduce(function(e,t){return e+((e?" ":"")+t+": "+n[t])+";"},"")}function u(e){return(e=(e||"").trim())?e.split(";").reduce(function(e,t){var n=t.indexOf(":");return n<1||n===t.length-1||(e[t.slice(0,n).trim()]=t.slice(n+1).trim()),e},{}):{}}t.css=function(n,r){return 2===arguments.length||"[object Object]"===o.call(n)?i(this,function(e,t){a(t,n,r,e)}):s(this[0],n)}},ZpVk:function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),(r=t.CanonicalCode||(t.CanonicalCode={}))[r.OK=0]="OK",r[r.CANCELLED=1]="CANCELLED",r[r.UNKNOWN=2]="UNKNOWN",r[r.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",r[r.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",r[r.NOT_FOUND=5]="NOT_FOUND",r[r.ALREADY_EXISTS=6]="ALREADY_EXISTS",r[r.PERMISSION_DENIED=7]="PERMISSION_DENIED",r[r.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",r[r.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",r[r.ABORTED=10]="ABORTED",r[r.OUT_OF_RANGE=11]="OUT_OF_RANGE",r[r.UNIMPLEMENTED=12]="UNIMPLEMENTED",r[r.INTERNAL=13]="INTERNAL",r[r.UNAVAILABLE=14]="UNAVAILABLE",r[r.DATA_LOSS=15]="DATA_LOSS",r[r.UNAUTHENTICATED=16]="UNAUTHENTICATED"},Zss7:function($,ee,te){var ne;!function(u){var r=/^\s+/,i=/\s+$/,o=0,a=u.round,l=u.min,d=u.max,e=u.random;function p(e,t){if(t=t||{},(e=e||"")instanceof p)return e;if(!(this instanceof p))return new p(e,t);var n=s(e);this._originalInput=e,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=a(100*this._a)/100,this._format=t.format||n.format,this._gradientType=t.gradientType,this._r<1&&(this._r=a(this._r)),this._g<1&&(this._g=a(this._g)),this._b<1&&(this._b=a(this._b)),this._ok=n.ok,this._tc_id=o++}function s(e){var t={r:0,g:0,b:0},n=1,r=null,i=null,o=null,a=!1,s=!1;return"string"==typeof e&&(e=Q(e)),"object"==typeof e&&(X(e.r)&&X(e.g)&&X(e.b)?(t=c(e.r,e.g,e.b),a=!0,s="%"===String(e.r).substr(-1)?"prgb":"rgb"):X(e.h)&&X(e.s)&&X(e.v)?(r=z(e.s),i=z(e.v),t=m(e.h,r,i),a=!0,s="hsv"):X(e.h)&&X(e.s)&&X(e.l)&&(r=z(e.s),o=z(e.l),t=h(e.h,r,o),a=!0,s="hsl"),e.hasOwnProperty("a")&&(n=e.a)),n=M(n),{ok:a,format:e.format||s,r:l(255,d(t.r,0)),g:l(255,d(t.g,0)),b:l(255,d(t.b,0)),a:n}}function c(e,t,n){return{r:255*P(e,255),g:255*P(t,255),b:255*P(n,255)}}function f(e,t,n){e=P(e,255),t=P(t,255),n=P(n,255);var r,i=d(e,t,n),o=l(e,t,n),a=(i+o)/2;if(i==o)r=c=0;else{var s=i-o,c=.5<a?s/(2-i-o):s/(i+o);switch(i){case e:r=(t-n)/s+(t<n?6:0);break;case t:r=(n-e)/s+2;break;case n:r=(e-t)/s+4}r/=6}return{h:r,s:c,l:a}}function h(e,t,n){var r,i,o,a,s;function c(e,t,n){return n<0&&(n+=1),1<n&&--n,n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}return e=P(e,360),t=P(t,100),n=P(n,100),0===t?o=a=s=n:(o=c(i=2*n-(r=n<.5?n*(1+t):n+t-n*t),r,e+1/3),a=c(i,r,e),s=c(i,r,e-1/3)),{r:255*o,g:255*a,b:255*s}}function g(e,t,n){e=P(e,255),t=P(t,255),n=P(n,255);var r,i=d(e,t,n),o=l(e,t,n),a=i,s=i-o,c=0===i?0:s/i;if(i==o)r=0;else{switch(i){case e:r=(t-n)/s+(t<n?6:0);break;case t:r=(n-e)/s+2;break;case n:r=(e-t)/s+4}r/=6}return{h:r,s:c,v:a}}function m(e,t,n){e=6*P(e,360),t=P(t,100),n=P(n,100);var r=u.floor(e),i=e-r,o=n*(1-t),a=n*(1-i*t),s=n*(1-(1-i)*t),c=r%6;return{r:255*[n,a,o,o,s,n][c],g:255*[s,n,n,a,o,o][c],b:255*[o,o,s,n,n,a][c]}}function t(e,t,n,r){var i=[H(a(e).toString(16)),H(a(t).toString(16)),H(a(n).toString(16))];return r&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function n(e,t,n,r,i){var o=[H(a(e).toString(16)),H(a(t).toString(16)),H(a(n).toString(16)),H(V(r))];return i&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)&&o[3].charAt(0)==o[3].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0):o.join("")}function v(e,t,n,r){return[H(V(r)),H(a(e).toString(16)),H(a(t).toString(16)),H(a(n).toString(16))].join("")}function y(e,t){t=0===t?0:t||10;var n=p(e).toHsl();return n.s-=t/100,n.s=j(n.s),p(n)}function b(e,t){t=0===t?0:t||10;var n=p(e).toHsl();return n.s+=t/100,n.s=j(n.s),p(n)}function E(e){return p(e).desaturate(100)}function _(e,t){t=0===t?0:t||10;var n=p(e).toHsl();return n.l+=t/100,n.l=j(n.l),p(n)}function C(e,t){t=0===t?0:t||10;var n=p(e).toRgb();return n.r=d(0,l(255,n.r-a(-t/100*255))),n.g=d(0,l(255,n.g-a(-t/100*255))),n.b=d(0,l(255,n.b-a(-t/100*255))),p(n)}function T(e,t){t=0===t?0:t||10;var n=p(e).toHsl();return n.l-=t/100,n.l=j(n.l),p(n)}function O(e,t){var n=p(e).toHsl(),r=(n.h+t)%360;return n.h=r<0?360+r:r,p(n)}function k(e){var t=p(e).toHsl();return t.h=(t.h+180)%360,p(t)}function S(e){var t=p(e).toHsl(),n=t.h;return[p(e),p({h:(n+120)%360,s:t.s,l:t.l}),p({h:(n+240)%360,s:t.s,l:t.l})]}function w(e){var t=p(e).toHsl(),n=t.h;return[p(e),p({h:(n+90)%360,s:t.s,l:t.l}),p({h:(n+180)%360,s:t.s,l:t.l}),p({h:(n+270)%360,s:t.s,l:t.l})]}function I(e){var t=p(e).toHsl(),n=t.h;return[p(e),p({h:(n+72)%360,s:t.s,l:t.l}),p({h:(n+216)%360,s:t.s,l:t.l})]}function x(e,t,n){t=t||6,n=n||30;var r=p(e).toHsl(),i=360/n,o=[p(e)];for(r.h=(r.h-(i*t>>1)+720)%360;--t;)r.h=(r.h+i)%360,o.push(p(r));return o}function L(e,t){t=t||6;for(var n=p(e).toHsv(),r=n.h,i=n.s,o=n.v,a=[],s=1/t;t--;)a.push(p({h:r,s:i,v:o})),o=(o+s)%1;return a}p.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},getLuminance:function(){var e=this.toRgb(),t=e.r/255,n=e.g/255,r=e.b/255,i=t<=.03928?t/12.92:u.pow((t+.055)/1.055,2.4),G=n<=.03928?n/12.92:u.pow((n+.055)/1.055,2.4),o=r<=.03928?r/12.92:u.pow((r+.055)/1.055,2.4);return.2126*i+.7152*G+.0722*o},setAlpha:function(e){return this._a=M(e),this._roundA=a(100*this._a)/100,this},toHsv:function(){var e=g(this._r,this._g,this._b);return{h:360*e.h,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=g(this._r,this._g,this._b),t=a(360*e.h),n=a(100*e.s),r=a(100*e.v);return 1==this._a?"hsv("+t+", "+n+"%, "+r+"%)":"hsva("+t+", "+n+"%, "+r+"%, "+this._roundA+")"},toHsl:function(){var e=f(this._r,this._g,this._b);return{h:360*e.h,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=f(this._r,this._g,this._b),t=a(360*e.h),n=a(100*e.s),r=a(100*e.l);return 1==this._a?"hsl("+t+", "+n+"%, "+r+"%)":"hsla("+t+", "+n+"%, "+r+"%, "+this._roundA+")"},toHex:function(e){return t(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return n(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:a(this._r),g:a(this._g),b:a(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+a(this._r)+", "+a(this._g)+", "+a(this._b)+")":"rgba("+a(this._r)+", "+a(this._g)+", "+a(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:a(100*P(this._r,255))+"%",g:a(100*P(this._g,255))+"%",b:a(100*P(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+a(100*P(this._r,255))+"%, "+a(100*P(this._g,255))+"%, "+a(100*P(this._b,255))+"%)":"rgba("+a(100*P(this._r,255))+"%, "+a(100*P(this._g,255))+"%, "+a(100*P(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&N[t(this._r,this._g,this._b,!0)]||!1},toFilter:function(e){var t,n="#"+v(this._r,this._g,this._b,this._a),r=n,i=this._gradientType?"GradientType = 1, ":"";return e&&(r="#"+v((t=p(e))._r,t._g,t._b,t._a)),"progid:DXImageTransform.Microsoft.gradient("+i+"startColorstr="+n+",endColorstr="+r+")"},toString:function(e){var t=!!e;e=e||this._format;var n=!1,r=this._a<1&&0<=this._a;return t||!r||"hex"!==e&&"hex6"!==e&&"hex3"!==e&&"hex4"!==e&&"hex8"!==e&&"name"!==e?("rgb"===e&&(n=this.toRgbString()),"prgb"===e&&(n=this.toPercentageRgbString()),"hex"!==e&&"hex6"!==e||(n=this.toHexString()),"hex3"===e&&(n=this.toHexString(!0)),"hex4"===e&&(n=this.toHex8String(!0)),"hex8"===e&&(n=this.toHex8String()),"name"===e&&(n=this.toName()),"hsl"===e&&(n=this.toHslString()),"hsv"===e&&(n=this.toHsvString()),n||this.toHexString()):"name"===e&&0===this._a?this.toName():this.toRgbString()},clone:function(){return p(this.toString())},_applyModification:function(e,t){var n=e.apply(null,[this].concat([].slice.call(t)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(_,arguments)},brighten:function(){return this._applyModification(C,arguments)},darken:function(){return this._applyModification(T,arguments)},desaturate:function(){return this._applyModification(y,arguments)},saturate:function(){return this._applyModification(b,arguments)},greyscale:function(){return this._applyModification(E,arguments)},spin:function(){return this._applyModification(O,arguments)},_applyCombination:function(e,t){return e.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination(x,arguments)},complement:function(){return this._applyCombination(k,arguments)},monochromatic:function(){return this._applyCombination(L,arguments)},splitcomplement:function(){return this._applyCombination(I,arguments)},triad:function(){return this._applyCombination(S,arguments)},tetrad:function(){return this._applyCombination(w,arguments)}},p.fromRatio=function(e,t){if("object"==typeof e){var n,r={};for(n in e)e.hasOwnProperty(n)&&(r[n]="a"===n?e[n]:z(e[n]));e=r}return p(e,t)},p.equals=function(e,t){return!(!e||!t)&&p(e).toRgbString()==p(t).toRgbString()},p.random=function(){return p.fromRatio({r:e(),g:e(),b:e()})},p.mix=function(e,t,n){n=0===n?0:n||50;var r=p(e).toRgb(),i=p(t).toRgb(),o=n/100;return p({r:(i.r-r.r)*o+r.r,g:(i.g-r.g)*o+r.g,b:(i.b-r.b)*o+r.b,a:(i.a-r.a)*o+r.a})},p.readability=function(e,t){var n=p(e),r=p(t);return(u.max(n.getLuminance(),r.getLuminance())+.05)/(u.min(n.getLuminance(),r.getLuminance())+.05)},p.isReadable=function(e,t,n){var r=p.readability(e,t),i=!1,o=J(n);switch(o.level+o.size){case"AAsmall":case"AAAlarge":i=4.5<=r;break;case"AAlarge":i=3<=r;break;case"AAAsmall":i=7<=r}return i},p.mostReadable=function(e,t,n){for(var r,i=null,o=0,a=(n=n||{}).includeFallbackColors,s=n.level,c=n.size,u=0;u<t.length;u++)o<(r=p.readability(e,t[u]))&&(o=r,i=p(t[u]));return p.isReadable(e,i,{level:s,size:c})||!a?i:(n.includeFallbackColors=!1,p.mostReadable(e,["#fff","#000"],n))};var R=p.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},N=p.hexNames=D(R);function D(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&(n[e[t]]=t);return n}function M(e){return e=parseFloat(e),(isNaN(e)||e<0||1<e)&&(e=1),e}function P(e,t){B(e)&&(e="100%");var n=U(e);return e=l(t,d(0,parseFloat(e))),n&&(e=parseInt(e*t,10)/100),u.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function j(e){return l(1,d(0,e))}function F(e){return parseInt(e,16)}function B(e){return"string"==typeof e&&-1!=e.indexOf(".")&&1===parseFloat(e)}function U(e){return"string"==typeof e&&-1!=e.indexOf("%")}function H(e){return 1==e.length?"0"+e:""+e}function z(e){return e<=1&&(e=100*e+"%"),e}function V(e){return u.round(255*parseFloat(e)).toString(16)}function K(e){return F(e)/255}var W,Y,q,Z=(Y="[\\s|\\(]+("+(W="(?:"+"[-\\+]?\\d*\\.\\d+%?"+")|(?:"+"[-\\+]?\\d+%?"+")")+")[,|\\s]+("+W+")[,|\\s]+("+W+")\\s*\\)?",q="[\\s|\\(]+("+W+")[,|\\s]+("+W+")[,|\\s]+("+W+")[,|\\s]+("+W+")\\s*\\)?",{CSS_UNIT:new RegExp(W),rgb:new RegExp("rgb"+Y),rgba:new RegExp("rgba"+q),hsl:new RegExp("hsl"+Y),hsla:new RegExp("hsla"+q),hsv:new RegExp("hsv"+Y),hsva:new RegExp("hsva"+q),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});function X(e){return!!Z.CSS_UNIT.exec(e)}function Q(e){e=e.replace(r,"").replace(i,"").toLowerCase();var t,n=!1;if(R[e])e=R[e],n=!0;else if("transparent"==e)return{r:0,g:0,b:0,a:0,format:"name"};return(t=Z.rgb.exec(e))?{r:t[1],g:t[2],b:t[3]}:(t=Z.rgba.exec(e))?{r:t[1],g:t[2],b:t[3],a:t[4]}:(t=Z.hsl.exec(e))?{h:t[1],s:t[2],l:t[3]}:(t=Z.hsla.exec(e))?{h:t[1],s:t[2],l:t[3],a:t[4]}:(t=Z.hsv.exec(e))?{h:t[1],s:t[2],v:t[3]}:(t=Z.hsva.exec(e))?{h:t[1],s:t[2],v:t[3],a:t[4]}:(t=Z.hex8.exec(e))?{r:F(t[1]),g:F(t[2]),b:F(t[3]),a:K(t[4]),format:n?"name":"hex8"}:(t=Z.hex6.exec(e))?{r:F(t[1]),g:F(t[2]),b:F(t[3]),format:n?"name":"hex"}:(t=Z.hex4.exec(e))?{r:F(t[1]+""+t[1]),g:F(t[2]+""+t[2]),b:F(t[3]+""+t[3]),a:K(t[4]+""+t[4]),format:n?"name":"hex8"}:!!(t=Z.hex3.exec(e))&&{r:F(t[1]+""+t[1]),g:F(t[2]+""+t[2]),b:F(t[3]+""+t[3]),format:n?"name":"hex"}}function J(e){var t,n;return"AA"!==(t=((e=e||{level:"AA",size:"small"}).level||"AA").toUpperCase())&&"AAA"!==t&&(t="AA"),"small"!==(n=(e.size||"small").toLowerCase())&&"large"!==n&&(n="small"),{level:t,size:n}}$.exports?$.exports=p:void 0===(ne=function(){return p}.call(ee,te,ee,$))||($.exports=ne)}(Math)},ZuxE:function(e,t,n){var r=n("AdCt"),i=e.exports=Object.create(r),o={tagName:"name"};Object.keys(o).forEach(function(e){var t=o[e];Object.defineProperty(i,e,{get:function(){return this[t]||null},set:function(e){return this[t]=e}})})},ZvLv:function(e,t,n){"use strict";var r=n("lwsE"),i=n.n(r),o=n("W8MJ"),a=n.n(o),s=n("a1gu"),c=n.n(s),u=n("Nsbk"),l=n.n(u),d=n("7W2i"),p=n.n(d),f=n("q1tI"),h=n.n(f),g=n("TSYQ"),m=n.n(g),v=n("UlbS"),y=n("FI0B"),b=n("HmyT"),E=function(e){function t(){var n;return i()(this,t),(n=c()(this,l()(t).apply(this,arguments))).handleToggleRef=function(e,t){n.hideTooltip=t},n}return p()(t,e),a()(t,[{key:"render",value:function(){var t=this,e=this.props,n=e.className,r=e.tooltip,i=e.container,o=e.etherpadContainer,a=m()(n,{"hpx-button":!0}),s=["bottom"],c=[!0,"check-viewport"],u={padding:"4px 6px",pointer_events:"none"};return h.a.createElement(v.Tooltip,{title:r,placement:"bottom",tooltipClassName:"ignore-dom editor_toggle_button",adjustPlacements:s,adjustOverflow:c,getContainer:function(){return Object(b.$)(document.body).hasClass("fs-mode-non-paged")?i:o||null},style:u,onTooltipMouseEnter:function(e){setTimeout(function(){t.hideTooltip()},0)},toggleRef:this.handleToggleRef,gap:3,showDelay:500},h.a.createElement("button",{className:a,disabled:e.disabled,onClick:e.onClick,dir:"auto","data-track-title":e["track-title"]},h.a.createElement("span",{className:"dmc-button-content"},h.a.createElement("span",{className:"icon-wraper"},h.a.createElement(y.a,null)))))}}]),t}(f.PureComponent);t.a=E},"Zz/9":function(e,t,n){"use strict";n.d(t,"a",function(){return se});var r=n("q1tI"),i=n.n(r),o=n("LYCE"),a=n.n(o),s=n("HnXd"),c=n.n(s),u=n("qjzJ"),l=n.n(u),d=n("RXMP"),p=n.n(d),f=n("fHi0"),h=n.n(f),g=n("5PDf"),m=n.n(g),v=n("OWCx"),y=n.n(v),b=n("+oHS"),E=n.n(b),_=n("04Ix"),C=n.n(_),T=n("06Pm"),O=n.n(T),k=n("kA7L"),S=n.n(k),w=n("3SUL"),I=n.n(w),x=n("eYnF"),L=n.n(x),R=n("X5/F"),N=n.n(R),D=n("yIs4"),M=n("Wz9t"),P=n("i8i4"),j=n.n(P),F=n("YdDX"),B=n.n(F),U=n("vOnD"),H=n("tpxy"),z=n.n(H),V=n("LNMi"),K=n("5xSS"),W=n.n(K),Y='<svg width="25" height="24" viewBox="0 0 25 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path fill-rule="evenodd" clip-rule="evenodd" d="M17.4767 11.1563C18.0942 11.5493 18.0942 12.4507 17.4767 12.8437L9.33937 18.022C8.67364 18.4456 7.80249 17.9674 7.80249 17.1783V6.82168C7.80249 6.03259 8.67364 5.55437 9.33937 5.97801L17.4767 11.1563Z" fill="white"/>\n</svg>',q='<svg width="25" height="24" viewBox="0 0 25 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n<rect x="7.80249" y="6" width="3" height="12" rx="0.5" fill="white"/>\n<rect x="14.8025" y="6" width="3" height="12" rx="0.5" fill="white"/>\n</svg>',Z='<svg width="25" height="24" viewBox="0 0 25 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path fill-rule="evenodd" clip-rule="evenodd" d="M12.6806 5C12.5126 5 12.3492 5.05678 12.2162 5.16139L9.37036 7.3962L7.29698 5.34193C7.14098 5.18737 6.88955 5.18747 6.73369 5.34216L6.29597 5.77655C6.13823 5.93309 6.13834 6.1882 6.2962 6.34461L18.5109 18.4467C18.6669 18.6013 18.9183 18.6012 19.0742 18.4465L19.5119 18.0121C19.6696 17.8556 19.6695 17.6005 19.5117 17.444L18.9006 16.8386C20.0788 15.5814 20.8025 13.8768 20.8025 12C20.8025 10.1053 20.0653 8.38683 18.8676 7.12644C18.7248 6.97633 18.4909 6.98178 18.3461 7.12956L17.8097 7.67711C17.6558 7.83422 17.6631 8.08972 17.8128 8.25111C18.7213 9.22722 19.2787 10.5471 19.2787 12C19.2787 13.456 18.7191 14.7781 17.807 15.755L16.7135 14.6717C17.359 13.9749 17.7549 13.0345 17.7549 12C17.7549 10.9605 17.3553 10.0163 16.7046 9.31861C16.5663 9.17044 16.3377 9.17978 16.196 9.32444L15.6676 9.86344C15.5069 10.0276 15.5248 10.2974 15.6737 10.4732C16.0208 10.8823 16.2311 11.4163 16.2311 12C16.2311 12.5884 16.0177 13.1258 15.6657 13.5361C15.6505 13.5539 15.6366 13.5727 15.6241 13.5923L13.9453 11.929V5.77778C13.9453 5.34806 13.6044 5 13.1834 5H12.6806ZM7.46916 14.7281V9.49754L13.9453 15.914V18.2222C13.9453 18.6519 13.6044 19 13.1834 19H12.6806C12.5126 19 12.3492 18.9432 12.2162 18.8386L7.76668 15.3444C7.57887 15.1974 7.46916 14.9696 7.46916 14.7281ZM4.80249 9.27778C4.80249 9.06311 4.97049 8.88889 5.17749 8.88889H5.92749C6.13449 8.88889 6.30249 9.06311 6.30249 9.27778V14.7222C6.30249 14.9369 6.13449 15.1111 5.92749 15.1111H5.17749C4.97049 15.1111 4.80249 14.9369 4.80249 14.7222V9.27778Z" fill="white"/>\n</svg>',X='<svg width="25" height="24" viewBox="0 0 25 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path fill-rule="evenodd" clip-rule="evenodd" d="M10.2391 13.4371C10.3856 13.2907 10.623 13.2907 10.7694 13.4371L11.2998 13.9675C11.4462 14.1139 11.4462 14.3514 11.2998 14.4978L8.29877 17.4978H10.4321C10.6392 17.4978 10.8071 17.6657 10.8071 17.8728V18.6228C10.8071 18.8299 10.6392 18.9978 10.4321 18.9978H6.55249C6.34538 18.9978 6.15788 18.9139 6.02216 18.7781C5.88644 18.6424 5.80249 18.4549 5.80249 18.2478V14.378C5.80249 14.1709 5.97038 14.003 6.17749 14.003H6.92749C7.1346 14.003 7.30249 14.1709 7.30249 14.378V16.3728L10.2391 13.4371ZM19.0455 5C19.2526 5 19.4401 5.08395 19.5758 5.21967C19.7116 5.35539 19.7955 5.54289 19.7955 5.75V9.61983C19.7955 9.82693 19.6276 9.99483 19.4205 9.99483H18.6705C18.4634 9.99483 18.2955 9.82693 18.2955 9.61983V7.62504L15.3589 10.5607C15.2124 10.7071 14.975 10.7071 14.8285 10.5607L14.2982 10.0303C14.1518 9.88388 14.1518 9.64645 14.2982 9.5L17.2992 6.5H15.1659C14.9588 6.5 14.7909 6.33211 14.7909 6.125V5.375C14.7909 5.16789 14.9588 5 15.1659 5H19.0455Z" fill="white"/>\n</svg>',Q='<svg width="25" height="24" viewBox="0 0 25 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path fill-rule="evenodd" clip-rule="evenodd" d="M10.5588 13.4981C10.7659 13.4981 10.9534 13.582 11.0891 13.7177C11.2248 13.8535 11.3088 14.041 11.3088 14.2481V18.1179C11.3088 18.325 11.1409 18.4929 10.9338 18.4929H10.1838C9.97667 18.4929 9.80878 18.325 9.80878 18.1179V16.1231L6.87216 19.0587C6.72571 19.2052 6.48827 19.2052 6.34183 19.0587L5.8115 18.5284C5.66505 18.3819 5.66505 18.1445 5.8115 17.9981L8.8125 14.9981H6.67919C6.47208 14.9981 6.30419 14.8302 6.30419 14.6231V13.8731C6.30419 13.666 6.47208 13.4981 6.67919 13.4981H10.5588ZM18.7417 4.9415C18.8882 4.79505 19.1256 4.79505 19.272 4.9415L19.8024 5.47183C19.9488 5.61828 19.9488 5.85571 19.8024 6.00216L16.8014 9.00216H18.9347C19.1418 9.00216 19.3097 9.17005 19.3097 9.37716V10.1272C19.3097 10.3343 19.1418 10.5022 18.9347 10.5022H15.0551C14.848 10.5022 14.6605 10.4182 14.5248 10.2825C14.389 10.1468 14.3051 9.95927 14.3051 9.75216V5.88233C14.3051 5.67523 14.473 5.50733 14.6801 5.50733H15.4301C15.6372 5.50733 15.8051 5.67523 15.8051 5.88233V7.87712L18.7417 4.9415Z" fill="white"/>\n</svg>',J='<svg width="25" height="24" viewBox="0 0 25 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path fill-rule="evenodd" clip-rule="evenodd" d="M12.6806 5C12.5126 5 12.3492 5.05678 12.2162 5.16139L7.76668 8.65556C7.57887 8.80256 7.46916 9.03044 7.46916 9.27194V14.7281C7.46916 14.9696 7.57887 15.1974 7.76668 15.3444L12.2162 18.8386C12.3492 18.9432 12.5126 19 12.6806 19H13.1834C13.6044 19 13.9453 18.6519 13.9453 18.2222V5.77778C13.9453 5.34806 13.6044 5 13.1834 5H12.6806ZM4.80249 9.27778C4.80249 9.06311 4.97049 8.88889 5.17749 8.88889H5.92749C6.13449 8.88889 6.30249 9.06311 6.30249 9.27778V14.7222C6.30249 14.9369 6.13449 15.1111 5.92749 15.1111H5.17749C4.97049 15.1111 4.80249 14.9369 4.80249 14.7222V9.27778ZM18.8566 16.8852C18.7141 17.0346 18.4802 17.0291 18.3358 16.8813L17.7994 16.3342C17.6452 16.1767 17.6528 15.92 17.8033 15.759C18.7175 14.7817 19.2787 13.4579 19.2787 12C19.2787 10.5471 18.7213 9.22722 17.8128 8.25111C17.6631 8.08972 17.6558 7.83422 17.8097 7.67711L18.3461 7.12956C18.4909 6.98178 18.7248 6.97633 18.8676 7.12644C20.0653 8.38683 20.8025 10.1053 20.8025 12C20.8025 13.9001 20.0608 15.6237 18.8566 16.8852ZM16.6932 14.6934C16.5549 14.8404 16.3271 14.8307 16.1857 14.6868L15.6581 14.1478C15.4966 13.9829 15.5153 13.7119 15.6657 13.5361C16.0177 13.1258 16.2311 12.5884 16.2311 12C16.2311 11.4163 16.0208 10.8823 15.6737 10.4732C15.5248 10.2974 15.5069 10.0276 15.6676 9.86344L16.196 9.32444C16.3377 9.17978 16.5663 9.17044 16.7046 9.31861C17.3553 10.0163 17.7549 10.9605 17.7549 12C17.7549 13.0453 17.3507 13.9946 16.6932 14.6934Z" fill="white"/>\n</svg>',$='<svg xmlns="http://www.w3.org/2000/svg" width="100" height="100" viewbox="0 0 100 100">\n  <path d="M100,50A50,50,0,1,1,50,0"></path>\n</svg>',ee='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path fill-rule="evenodd" clip-rule="evenodd" d="M17.7453 8C16.4804 6.18652 14.3787 5 12 5C8.13401 5 5 8.13401 5 12C5 15.866 8.13401 19 12 19C15.171 19 17.8496 16.8915 18.7101 14H20.777C19.8675 18.008 16.2832 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3C14.8273 3 17.35 4.30367 19 6.34267V3.5C19 3.22386 19.2239 3 19.5 3H20.5C20.7761 3 21 3.22386 21 3.5V9C21 9.55228 20.5523 10 20 10H14.5C14.2239 10 14 9.77614 14 9.5V8.5C14 8.22386 14.2239 8 14.5 8H17.7453Z" fill="#2B2F36"/>\n</svg>';function te(){var e=B()(["\n  width: 100%;\n  height: 100%;\n\n  & {\n    ."," {\n      .",'-slider:before {\n        content: "','" !important;\n      }\n      &.',"-isloading {\n        .","-start {\n          display: none !important;\n        }\n      }\n    }\n  }\n}\n"]);return te=function(){return e},e}var ne="xgplayer",re=U.default.div(te(),ne,ne,function(e){return e.volumeText},ne,ne);function ie(e,t){void 0===t&&(t={});var n,r,i=t.insertAt;e&&"undefined"!=typeof document&&(n=document.head||document.getElementsByTagName("head")[0],(r=document.createElement("style")).type="text/css","top"===i&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e)))}function oe(t,e){var n,r=E()(t);return y.a&&(n=y()(t),e&&(n=m()(n).call(n,function(e){return h()(t,e).enumerable})),r.push.apply(r,n)),r}function ae(t){for(var e=1;e<arguments.length;e++){var n,r,i=null!=arguments[e]?arguments[e]:{};e%2?p()(n=oe(Object(i),!0)).call(n,function(e){C()(t,e,i[e])}):l.a?c()(t,l()(i)):p()(r=oe(Object(i))).call(r,function(e){a()(t,e,h()(i,e))})}return t}ie(".xgplayer{width:100%;height:100%;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;overflow:hidden}.xgplayer *{margin:0;padding:0;border:0;font-size:100%;font:inherit;vertical-align:baseline;-webkit-tap-highlight-color:#000}.xgplayer li,.xgplayer ul{list-style:none}.xgplayer .xgplayer-none{display:none}.xgplayer.xgplayer-inactive:hover .xgplayer-controls{display:block}.xgplayer.xgplayer-is-fullscreen{width:100%;height:100%;padding-top:0;z-index:9999}.xgplayer .trigger,.xgplayer .xg-mini-layer{display:none}.xgplayer video{width:100%;height:100%;outline:none;position:absolute;top:0;left:0}.xgplayer[data-xgfill=cover] video{-o-object-fit:cover;object-fit:cover}.xgplayer[data-xgfill=fill] video{-o-object-fit:fill;object-fit:fill}.xgplayer .btn-text{position:relative;text-align:center;font-family:PingFangSC-Regular;font-size:14px;height:24px;color:#fff;padding:1px 0;border:1px solid hsla(0,0%,100%,.2);font-weight:700}.xgplayer .btn-text span{height:20px;border-radius:4px;display:block;line-height:20px;font-family:inherit!important}@-webkit-keyframes optionShow{0%{height:0;opacity:1}99%{transform:scale(1.3);opacity:0}to{height:auto;opacity:1}}@keyframes optionShow{0%{height:0;opacity:1}99%{transform:scale(1.3);opacity:0}to{height:auto;opacity:1}}@-webkit-keyframes optionHide{0%{transform:scale(1);opacity:1}99%{transform:scale(1.3);opacity:0}to{transform:scale(0);opacity:1}}@keyframes optionHide{0%{transform:scale(1);opacity:1}99%{transform:scale(1.3);opacity:0}to{transform:scale(0);opacity:1}}.xgplayer .xg-options-list{position:absolute;display:none;width:140px;left:50%;bottom:32px;background:#000;border:1px solid rgba(187,191,196,.5);transform:translate(-50%);white-space:nowrap;z-index:26;cursor:pointer;overflow:hidden;opacity:.9;border-radius:4px;padding:8px 0}.xgplayer .xg-options-list li{width:100%;height:32px;line-height:20px;font-family:inherit;font-size:14px;color:#dee0e3;position:relative;padding:6px 0;text-align:center}.xgplayer .xg-options-list li.selected{color:#fff;font-weight:700}.xgplayer .xg-options-list li.selected:before{content:\" \";display:inline-block;margin-left:-12px;margin-bottom:-6px;width:12px;height:12px;transform:translate(-50%,-50%);background-size:cover;background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='48' height='48' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M18.435 34.82l21.92-21.92a1 1 0 011.415 0l1.414 1.414a1 1 0 010 1.414L19.142 39.77a1 1 0 01-1.414 0l-1.414-1.415L5 27.042a1 1 0 010-1.415l1.414-1.414a1 1 0 011.414 0L18.435 34.82z' fill='%23fff' stroke='%23fff' stroke-width='4' fill-rule='evenodd'/%3E%3C/svg%3E\")}.xgplayer .xg-options-list li:hover{color:#fff;background:hsla(0,0%,100%,.2)}.xgplayer .xg-options-list.active{display:block}.xgplayer.xgplayer-is-cssfullscreen{position:fixed;left:0;top:0;width:100%;height:100%;z-index:99999}.xgplayer{border-radius:4px;background:#373c43}.xgplayer xg-bar{display:block}.xgplayer.xgplayer-ended xg-bar,.xgplayer.xgplayer-inactive xg-bar,.xgplayer.xgplayer-mini xg-bar{display:none}.xgplayer .xg-top-bar{position:absolute;top:0;left:0;width:100%;height:50px}.xgplayer .xg-left-bar,.xgplayer .xg-right-bar{display:none;position:absolute;top:0;bottom:50px;margin-top:50px;width:50px}.xgplayer .xg-left-bar{left:0}.xgplayer .xg-right-bar{right:0}.xgplayer .xgplayer-play{width:24px;height:24px;margin-left:16px}.xgplayer .xgplayer-play .xg-icon-play{display:none}.xgplayer .xgplayer-play .xg-icon-pause,.xgplayer .xgplayer-play[data-state=pause] .xg-icon-play{display:block}.xgplayer .xgplayer-play[data-state=pause] .xg-icon-pause{display:none}.xgplayer .xgplayer-play .xg-tips{top:-42px;left:-12px}.xgplayer .xgplayer-play .xg-tips:after{left:24px}.xgplayer .xgplayer-start{display:flex;justify-content:center;align-items:center;width:80px;height:80px;background:rgba(31,35,41,.75);overflow:hidden;position:absolute;left:50%;top:50%;z-index:99;transform:translate(-50%,-50%);cursor:pointer;border-radius:6px}.xgplayer .xgplayer-start svg{fill:#fff;width:64px;height:64px}.xgplayer .xgplayer-start:hover{background:#3370ff}.xgplayer .xgplayer-start:active{background:#245bdb}.xgplayer .xgplayer-start .xg-icon-play{display:block}.xgplayer .xgplayer-start .xg-icon-pause,.xgplayer .xgplayer-start[data-state=pause] .xg-icon-play{display:none}.xgplayer .xgplayer-start[data-state=pause] .xg-icon-pause{display:block}.xgplayer .xgplayer-start.interact{-webkit-animation:playPause .4s ease-out forwards;animation:playPause .4s ease-out forwards}.xgplayer .xgplayer-start.hide{display:none}.xgplayer .xgplayer-start.show{display:block}.xgplayer.xgplayer-mobile .xgplayer-start,.xgplayer.xgplayer-mobile .xgplayer-start svg{height:50px;width:50px}.xgplayer.xgplayer-ended .xgplayer-start,.xgplayer.xgplayer-inactive .xgplayer-start.auto-hide{display:none}@-webkit-keyframes playPause{0%{transform:translate(-50%,-50%) scale(1);opacity:1}99%{transform:translate(-50%,-50%) scale(1.3);opacity:0}to{transform:translate(-50%,-50%) scale(0);opacity:1}}@keyframes playPause{0%{transform:translate(-50%,-50%) scale(1);opacity:1}99%{transform:translate(-50%,-50%) scale(1.3);opacity:0}to{transform:translate(-50%,-50%) scale(0);opacity:1}}.xgplayer-enter{display:none}.xgplayer .xgplayer-poster{display:block;position:absolute;left:0;top:0;width:100%;height:100%;z-index:10;background-position:50%;background-size:contain;background-repeat:no-repeat;background-color:#000}.xgplayer.not-allow-autoplay .xgplayer-poster,.xgplayer.xgplayer-ended .xgplayer-poster,.xgplayer.xgplayer-nostart .xgplayer-poster{display:block}.xgplayer.xgplayer-ended .xgplayer-poster.hide,.xgplayer.xgplayer-playing .xgplayer-poster{display:none}.xgplayer-placeholder{flex:1;order:3;display:block}.xgplayer.not-allow-autoplay .flex-controls,.xgplayer.not-allow-autoplay .xgplayer-controls,.xgplayer.xgplayer-inactive .control_autohide,.xgplayer.xgplayer-nostart .flex-controls,.xgplayer.xgplayer-nostart .xgplayer-controls,.xgplayer .xgplayer-prompt{display:none}.xgplayer .xgplayer-controls{display:block;position:absolute;left:0;right:0;bottom:0;height:64px;z-index:100;background-image:linear-gradient(0deg,rgba(0,0,0,.6),rgba(0,0,0,.1));padding:13px 12px 12px}.xgplayer .xgplayer-controls .inner-controls{position:absolute;left:0;right:0;height:40px}.xgplayer .xgplayer-controls .left-grid,.xgplayer .xgplayer-controls .right-grid{position:relative;float:left;display:flex;height:24px;z-index:36;align-items:flex-end;margin-top:14px}.xgplayer .xgplayer-controls .right-grid{float:right;flex-direction:row-reverse}.xgplayer .xgplayer-controls .center{display:block;position:absolute;width:100%;outline:none;z-index:35;margin-top:-2px}.xgplayer .flex-controls .inner-controls{justify-content:space-around;display:flex}.xgplayer .flex-controls .center{display:flex;flex:1;position:relative;top:0;height:100%;justify-content:space-between;padding:0 10px;left:0;right:0}.xgplayer .xg-tips{display:none;position:absolute;background:#1f2329;border-radius:1px;font-family:inherit;font-size:12px;line-height:18px;color:#fff;padding:8px 12px;border-radius:4px;text-align:center;min-width:54px;white-space:nowrap}.xgplayer .xg-tips:after{content:\" \";position:absolute;bottom:-7px;transform:translateX(-50%);border:4px solid transparent;border-top-color:#1f2329}.xgplayer xg-icon{position:relative;cursor:pointer;box-sizing:border-box}.xgplayer xg-icon:hover .xg-tips{display:block}.xgplayer xg-icon .xgplayer-icon{cursor:pointer;fill:#fff;width:24px;height:24px;border-radius:4px}.xgplayer xg-icon .xgplayer-icon:hover{background:hsla(0,0%,100%,.2)}.xgplayer xg-icon .xgplayer-icon:active{background:hsla(0,0%,100%,.1)}.xgplayer xg-icon .xgplayer-icon .xg-img{width:100%}.xgplayer xg-icon svg{width:24px;height:24px}.xgplayer .right-grid xg-icon{margin-right:12px}.xgplayer .right-grid xg-icon:first-child{margin-right:20px}.xgplayer-replay,.xgplayer.xgplayer-mobile xg-icon:hover .xg-tips{display:none}.xgplayer .xgplayer-replay{position:absolute;left:50%;top:50%;width:80px;height:80px;z-index:99;display:none;justify-content:center;align-items:center;flex-direction:column;transform:translate(-50%,-50%);background:rgba(31,35,41,.75);border-radius:6px;cursor:pointer}.xgplayer .xgplayer-replay:hover{background:#3370ff}.xgplayer .xgplayer-replay:active{background:#245bdb}.xgplayer .xgplayer-replay svg{width:48px;height:48px}.xgplayer .xgplayer-replay svg path{fill:#fff}.xgplayer .xgplayer-replay .xgplayer-replay-txt{display:none;font-family:PingFangSC-Regular;font-size:14px;color:#fff;line-height:34px}.xgplayer .xgplayer-replay .xgplayer-replay-svg{width:80px;height:80px}.xgplayer.xgplayer-mobile .xgplayer-replay{width:50px;height:50px}.xgplayer.xgplayer-mobile .xgplayer-replay svg{width:36px;height:36px}.xgplayer.xgplayer-mobile .xgplayer-replay-txt{line-height:24px}.xgplayer.xgplayer-ended .xgplayer-controls{display:none!important}@-webkit-keyframes loadingRotate{0%{transform:rotate(0)}to{transform:rotate(1turn)}}@keyframes loadingRotate{0%{transform:rotate(0)}to{transform:rotate(1turn)}}@-webkit-keyframes loadingDashOffset{0%{stroke-dashoffset:236}to{stroke-dashoffset:0}}@keyframes loadingDashOffset{0%{stroke-dashoffset:236}to{stroke-dashoffset:0}}.xgplayer-loading{display:none;width:48px;height:48px;overflow:hidden;position:absolute;z-index:99;left:50%;top:50%;margin:-24px auto auto -24px}.xgplayer-loading svg{width:100%;height:100%;border-radius:50%;transform-origin:center;-webkit-animation:loadingRotate 1s linear infinite;animation:loadingRotate 1s linear infinite}.xgplayer-loading svg path{stroke:#f8f9fa;stroke-dasharray:236;-webkit-animation:loadingDashOffset 2s linear infinite;animation:loadingDashOffset 2s linear infinite;animation-direction:alternate-reverse;fill:none;stroke-width:20px}.xgplayer-mobile .xgplayer-loading{transform:scale(.5)}.xgplayer-nostart .xgplayer-loading{display:none}.xgplayer-nostart:after{content:\" \";position:absolute;top:0;left:0;width:100%;height:100%;background:rgba(31,35,41,.3);z-index:10}.xgplayer-pause .xgplayer-loading{display:none!important}.xgplayer-isloading .xgplayer-loading{display:block}.xgplayer-isloading:after{content:\" \";position:absolute;top:0;left:0;width:100%;height:100%;background:rgba(31,35,41,.3);z-index:10}.xgplayer .xgplayer-progress{display:flex;position:relative;width:calc(100% - 24px);height:9px;line-height:4px;left:0;right:0;top:10px;transform:translateY(-10px);outline:none;z-index:35;flex:1;cursor:pointer}.xgplayer .xgplayer-progress .xg-spot-content{display:none}.xgplayer .xgplayer-progress.active .xg-spot-info{display:block;position:absolute;left:0;bottom:8px}.xgplayer .xgplayer-progress.active .xg-spot-info .xgplayer-progress-point{display:block!important}.xgplayer .xgplayer-progress-outer{background:hsla(0,0%,100%,.5);transition:height .2s ease-in,opacity .2s ease-out;display:block;height:4px;line-height:4px;width:100%;position:relative;border-radius:1px;cursor:pointer}.xgplayer .xgplayer-progress-cache,.xgplayer .xgplayer-progress-played{display:block;height:100%;line-height:1;position:absolute;left:0;top:0}.xgplayer .xgplayer-progress-cache{width:0;background:hsla(0,0%,100%,.6);border-radius:1px}.xgplayer .xgplayer-progress-played{display:block;width:0;background:#3370ff;border-radius:1px}.xgplayer .xgplayer-progress-btn{display:none;position:absolute;left:0;top:-4px;width:12px;height:12px;border-radius:50%;background:#fff;box-shadow:0 0 2px 0 rgba(0,0,0,.26);transform:translate(-50%);z-index:17}.xgplayer .xgplayer-progress-btn:hover{display:block;width:14px;height:14px;top:-5px!important}.xgplayer.xgplayer-mobile .xgplayer-progress-btn,.xgplayer .xgplayer-progress-btn.active{display:block}.xgplayer .xgplayer-progress-point{position:absolute;background:#1f2329;border-radius:1px;font-family:inherit;font-size:12px;line-height:18px;color:#fff;padding:8px 12px;border-radius:4px;text-align:center;min-width:54px;white-space:nowrap;top:-42px;display:none;z-index:100}.xgplayer .xgplayer-progress-point:after{content:\" \";position:absolute;bottom:-7px;left:50%;transform:translateX(-50%);border:4px solid transparent;border-top-color:#1f2329}.xgplayer .xgplayer-progress-point:hover{display:none!important}.xgplayer .xgplayer-progress-dot{display:inline-block;position:absolute;height:100%;width:5px;top:0;background:#fff;border-radius:6px;z-index:16}.xgplayer .xgplayer-progress-dot .xgplayer-progress-tip{position:absolute;left:25%;top:-40px;height:auto;line-height:30px;width:auto;transform:scale(.8) translateX(-50%);background:rgba(0,0,0,.3);border-radius:6px;border:1px solid rgba(0,0,0,.8);cursor:default;white-space:nowrap;display:none}.xgplayer .xgplayer-progress-dot:hover .xgplayer-progress-tip{display:block}.xgplayer .progress-thumbnail{position:absolute;box-sizing:border-box;top:-10px;transform:translateY(-100%);opacity:1}.xgplayer .xgplayer-progress:focus .xgplayer-progress-btn,.xgplayer .xgplayer-progress:hover .xgplayer-progress-btn{display:block;top:-4px}.xgplayer .xgplayer-fullscreen .xg-exit-fullscreen{display:none}.xgplayer .xgplayer-fullscreen .xg-get-fullscreen,.xgplayer .xgplayer-fullscreen[data-state=full] .xg-exit-fullscreen{display:block}.xgplayer .xgplayer-fullscreen[data-state=full] .xg-get-fullscreen{display:none}.xgplayer .xgplayer-fullscreen .xg-tips{top:-42px;right:-16px}.xgplayer .xgplayer-fullscreen .xg-tips:after{right:20px}.xgplayer .xgplayer-cssfullscreen .xg-get-cssfull{display:block}.xgplayer .xgplayer-cssfullscreen .xg-exit-cssfull,.xgplayer .xgplayer-cssfullscreen[data-state=full] .xg-get-cssfull{display:none}.xgplayer .xgplayer-cssfullscreen[data-state=full] .xg-exit-cssfull{display:block}.xgplayer .xgplayer-volume{padding-top:8px}.xgplayer .xgplayer-volume.slide-show .xgplayer-slider{display:flex}.xgplayer .xgplayer-slider{display:none;position:absolute;width:50px;height:150px;background:rgba(0,0,0,.9);bottom:32px;left:-50%;outline:none;justify-content:center;align-items:center;border:1px solid rgba(187,191,196,.5);border-radius:4px;cursor:auto}.xgplayer .xgplayer-slider:before{content:\" \";display:inline-block;position:absolute;top:12px;width:48px;color:#fff;font-size:12px;line-height:14px;text-align:center}.xgplayer .xgplayer-bar{position:relative;margin-top:20px}.xgplayer .xgplayer-bar,.xgplayer .xgplayer-drag{display:block;border-radius:1px;width:14px;height:96px;outline:none;cursor:pointer;padding:0 5px;background:hsla(0,0%,100%,.3);background-clip:content-box!important}.xgplayer .xgplayer-drag{position:absolute;bottom:0;left:0;background:#3370ff;height:96px;max-height:96px}.xgplayer .xgplayer-drag:after{content:\" \";display:inline-block;width:12px;height:12px;background:#fff;box-shadow:0 0 5px 0 rgba(0,0,0,.26);position:absolute;border-radius:50%;left:1px;top:-6px}.xgplayer .xgplayer-volume[data-state=normal] .xg-volume-mute,.xgplayer .xgplayer-volume[data-state=normal] .xg-volume-small,.xgplayer .xgplayer-volume[data-state=small] .xg-volume{display:none}.xgplayer .xgplayer-volume[data-state=small] .xg-volume-small{display:block}.xgplayer .xgplayer-volume[data-state=mute] .xg-volume,.xgplayer .xgplayer-volume[data-state=mute] .xg-volume-small,.xgplayer .xgplayer-volume[data-state=small] .xg-volume-mute{display:none}.xgplayer .xgplayer-volume[data-state=mute] .xg-volume-mute{display:block}.xgplayer.xgplayer-mobile .xgplayer-volume .xgplayer-slider{display:none}.xgplayer-definition{display:none;cursor:pointer;padding-top:8px}.xgplayer-definition .xgplayer-icon{width:auto!important;min-width:64px!important}.xgplayer-definition .xgplayer-icon .icon-text{min-width:35px;padding:0 4px}.xgplayer-definition.show{display:inline-block}.xgplayer .xgplayer-time{width:auto;font-family:ArialMT;font-size:14px;color:#fff;height:20px;line-height:20px;text-align:center;display:inline-flex;margin-left:16px;margin-bottom:2px;cursor:auto}.xgplayer .xgplayer-time span{text-align:center;vertical-align:middle}.xgplayer .xgplayer-time .time-duration{color:#dee0e3}.xgplayer .xgplayer-time .time-separator{margin:0 2px}.xgplayer .xgplayer-time .time-live-tag{display:none}.xgplayer.xgplayer-mobile .xgplayer-time{font-family:PingFangSC-Regular;font-size:12px}.xgplayer .xgplayer-playbackrate{display:none;cursor:default;padding-top:8px}.xgplayer .xgplayer-playbackrate .xgplayer-icon{width:64px!important}.xgplayer .xgplayer-playbackrate.show{display:inline-block}.xgplayer .xgplayer-download{position:relative;display:block;cursor:pointer}.lang-is-en .xgplayer-download .xgplayer-tips{margin-left:-32px}.lang-is-jp .xgplayer-download .xgplayer-tips{margin-left:-40px}.xgplayer .xgplayer-playnext{position:relative;display:none;cursor:pointer}.xgplayer .xgplayer-playnext .xgplayer-icon{width:24px}.xgplayer .xgplayer-playnext .xgplayer-icon svg{transform:translate(-10px,-1px)}.xgplayer .xgplayer-playnext .xgplayer-tips .xgplayer-tip-playnext{display:block}.xgplayer .xgplayer-playnext:hover{opacity:.85}.xgplayer .xgplayer-playnext:hover .xgplayer-tips{display:block}.lang-is-en .xgplayer-playnext .xgplayer-tips{margin-left:-25px}.lang-is-jp .xgplayer-playnext .xgplayer-tips{margin-left:-38px}.xgplayer .xgplayer-pip,.xgplayer .xgplayer-shot{display:none}.xgplayer-error{background:#000;display:none;position:absolute;left:0;top:0;width:100%;height:100%;z-index:125;font-family:PingFangSC-Regular;font-size:14px;color:#fff;text-align:center;line-height:100%;justify-content:center;align-items:center}.xgplayer-error .xgplayer-error-text{line-height:18px;margin:auto 6px}.xgplayer-error .xgplayer-error-tips{display:none}.xgplayer-is-error .xgplayer-error{display:flex}");var se=function(e){function n(e){var c;O()(this,n),(c=I()(this,L()(n).call(this,e))).xgPlayerRef=void 0,c.initPlayer=function(){var e,t=c.props,n=(t.mediaType,t.onPlayerReady),r=t.i18nText,i=t.lang,o=t.coverLoadFailed,a=z()(t,["mediaType","onPlayerReady","i18nText","lang","coverLoadFailed"]),s=ae({},c.commonConfig,{},a,{lang:i,el:c.xgPlayerRef});r&&(e="jp"===i?ae({},W.a.TEXT,{},r):r,V.a.I18N.use({TEXT:e,LANG:i})),c.player=new V.a(s),c.player.on("volumechange",c.handleVolumeChange),n&&n(c.player,c.xgPlayerRef),s.poster&&!o||c.hidePosterElement()},c.handleVolumeChange=function(e){var t,n;e&&e.player&&(t=e.player.muted,n=e.player.volume,c.setState({volume:t?0:n}))},c.setXgPlayerRef=function(e){return c.xgPlayerRef=e},c.renderPlayerContainer=function(){var e=c.props.mediaType===M.e.AUDIO?"xgplayer-audio":"xgplayer-video";return i.a.createElement(re,{volumeText:c.volumeText,"data-sel":"".concat(e,"-inner-wrapper")},i.a.createElement("div",{ref:c.setXgPlayerRef,className:"".concat(e,"-container")}))};var t=c.props.volume;return c.state={volume:Object(D.default)(t)?t:.6},c}return N()(n,e),S()(n,[{key:"componentDidMount",value:function(){this.props.mountElement&&this.initPlayer()}},{key:"componentDidUpdate",value:function(e){e.mountElement||!this.props.mountElement||this.player||this.initPlayer(),!e.coverLoadFailed&&this.props.coverLoadFailed&&this.hidePosterElement()}},{key:"componentWillUnmount",value:function(){this.player&&this.player.off("volumechange",this.handleVolumeChange)}},{key:"hidePosterElement",value:function(){var e;!this.xgPlayerRef||this.props.mediaType!==M.e.VIDEO||(e=this.xgPlayerRef.querySelector(".xgplayer-poster"))&&(e.style.display="none")}},{key:"render",value:function(){var e=this.props.mountElement;return e?j.a.createPortal(this.renderPlayerContainer(),e):null}},{key:"commonConfig",get:function(){return{closeFocusVideoFocus:!0,pc:{disableContextmenu:!1},isSeekedPlay:!1,cssFullscreen:!1,inactive:0,icons:{loadingIcon:$,play:Y,startPlay:Y,pause:q,volumeMuted:Z,fullscreen:X,exitFullscreen:Q,volumeSmall:J,volumeLarge:J,replay:ee}}}},{key:"volumeText",get:function(){return"".concat(Math.ceil(100*this.state.volume),"%")}}]),n}(r.PureComponent);se.defaultProps={mediaType:M.e.VIDEO}},"a/hH":function(e,t,n){"use strict";n.r(t);var r=n("qYkn");n.d(t,"copyTextWithoutPermission",function(){return r.a}),n.d(t,"noAdminPermission",function(){return r.b});var i=n("CVSs");n.d(t,"clearFailedServices",function(){return i.clearFailedServices}),n.d(t,"setFailedServices",function(){return i.setFailedServices});var o=n("ZSG8");n.d(t,"setHelpBtnVisible",function(){return o.p}),n.d(t,"updateDocTitle",function(){return o.u}),n.d(t,"syncNoteMeta",function(){return o.s}),n.d(t,"setCustomIcon",function(){return o.l});var a=n("MUo5");n.d(t,"setEditMode",function(){return a.setEditMode}),n.d(t,"fetchAuthorizedMembers",function(){return a.fetchAuthorizedMembers}),n.d(t,"fetchSuitePublicPermission",function(){return a.fetchSuitePublicPermission}),n.d(t,"fetchUserPermissionOnSuite",function(){return a.fetchUserPermissionOnSuite});var s=n("0GMm");n.d(t,"fetchCurrentUser",function(){return s.a});var c=n("XMIC");n.d(t,"openModal",function(){return c.c});var u=n("GoHq");n.d(t,"updateSuiteMember",function(){return u.e});var l=n("/PhZ");n.d(t,"fetchRecentObjListInBackNav",function(){return l.fetchRecentObjListInBackNav});var d=n("yaX4");n.d(t,"closeUserGuide",function(){return d.a}),n.d(t,"updateUserGuide",function(){return d.d});var p=n("vnAn");n.d(t,"closeDocFindReplaceBox",function(){return p.closeFindReplaceBox});var f=n("qD9r");n.d(t,"createNormalRequest",function(){return f.a});var h=n("xXG4");n.d(t,"updateTranslateConfig",function(){return h.e}),n.d(t,"updateTranslateStatus",function(){return h.f}),n.d(t,"updateTranslateView",function(){return h.g});var g=n("VmAD");n.d(t,"fetchUserTranslateSettings",function(){return g.e})},a0dU:function(e,t,n){e.exports=n("qGoJ")},a0eB:function(o,e,t){"use strict";(function(e){function t(e){for(var t=[],n=0;n<e.length;n++)-1===t.indexOf(e[n])&&t.push(e[n]);return t}function n(e){var t=new Set;return e.filter(function(e){return!t.has(e)&&(t.add(e),!0)})}function r(e){var t=[];return new Set(e).forEach(function(e){t.push(e)}),t}function i(){var t=!1;return new Set([!0]).forEach(function(e){t=e}),!0===t}"Set"in e?"function"==typeof Set.prototype.forEach&&i()?o.exports=r:o.exports=n:o.exports=t}).call(this,t("yLpj"))},a1zH:function(e,t,n){var k=n("y4QH"),S=n("MMiu"),w=n("t2dP"),I=n("EldB"),x=n("5sOR"),L=n("V9aw"),R=n("pzgU"),N=n("6KkN"),D=n("Kz5y"),r=1,i=2,o=8,a=16,s=128,M=512;function P(c,u,l,d,p,f,h,g,m,v){var y=u&s,b=u&r,E=u&i,_=u&(o|a),C=u&M,T=E?void 0:I(c);function O(){for(var e,t,n=arguments.length,r=Array(n),i=n;i--;)r[i]=arguments[i];if(_&&(e=L(O),t=w(r,e)),d&&(r=k(r,d,p,_)),f&&(r=S(r,f,h,_)),n-=t,_&&n<v){var o=N(r,e);return x(c,u,P,O.placeholder,l,r,o,g,m,v-n)}var a=b?l:this,s=E?a[c]:c,n=r.length;return g?r=R(r,g):C&&1<n&&r.reverse(),y&&m<n&&(r.length=m),this&&this!==D&&this instanceof O&&(s=T||I(s)),s.apply(a,r)}return O}e.exports=P},a5q3:function(e,t,n){var r=n("Of+w"),i=r&&new r;e.exports=i},aBPM:function(e,t,n){"use strict";var r,i,o,a=n("pevS"),s=n("cEKj"),c=n("OsYe"),u=n("dktu"),l=n("Cupc"),d=n("KHTo"),p=n("04M5"),f=n("39uu"),h=n("zJQS"),g=n("X32N"),m=n("/EgQ"),v=n("W1ep"),y=n("feed"),b=n("sOpI"),E=n("Wvup").set,_=n("oOYW"),C=n("fvkw"),T=n("wvDy"),O=n("rSeq"),k=n("m40S"),S=n("xLjh"),w=n("L1rz"),I=n("oOVA"),x=n("A2Ma")("species"),L="Promise",R=w.get,N=w.set,D=w.getterFor(L),M=c[L],P=c.TypeError,j=c.document,F=c.process,B=c.fetch,U=F&&F.versions,H=U&&U.v8||"",z=O.f,V=z,K="process"==m(F),W=!!(j&&j.createEvent&&c.dispatchEvent),Y="unhandledrejection",q="rejectionhandled",Z=0,X=1,Q=2,J=1,$=2,ee=I(L,function(){var e=M.resolve(1),t=function(){},n=(e.constructor={})[x]=function(e){e(t,t)};return!((K||"function"==typeof PromiseRejectionEvent)&&(!s||e.finally)&&e.then(t)instanceof n&&0!==H.indexOf("6.6")&&-1===S.indexOf("Chrome/66"))}),te=ee||!y(function(e){M.all(e).catch(function(){})}),ne=function(e){var t;return!(!f(e)||"function"!=typeof(t=e.then))&&t},re=function(d,p,f){var h;p.notified||(p.notified=!0,h=p.reactions,_(function(){for(var e=p.value,t=p.state==X,n=0;h.length>n;){var r,i,o,a=h[n++],s=t?a.ok:a.fail,c=a.resolve,u=a.reject,l=a.domain;try{s?(t||(p.rejection===$&&se(d,p),p.rejection=J),!0===s?r=e:(l&&l.enter(),r=s(e),l&&(l.exit(),o=!0)),r===a.promise?u(P("Promise-chain cycle")):(i=ne(r))?i.call(r,c,u):c(r)):u(e)}catch(e){l&&!o&&l.exit(),u(e)}}p.reactions=[],p.notified=!1,f&&!p.rejection&&oe(d,p)}))},ie=function(e,t,n){var r,i;W?((r=j.createEvent("Event")).promise=t,r.reason=n,r.initEvent(e,!1,!0),c.dispatchEvent(r)):r={promise:t,reason:n},(i=c["on"+e])?i(r):e===Y&&T("Unhandled promise rejection",n)},oe=function(r,i){E.call(c,function(){var e,t=i.value,n=ae(i);if(n&&(e=k(function(){K?F.emit("unhandledRejection",t,r):ie(Y,r,t)}),i.rejection=K||ae(i)?$:J,e.error))throw e.value})},ae=function(e){return e.rejection!==J&&!e.parent},se=function(e,t){E.call(c,function(){K?F.emit("rejectionHandled",e):ie(q,e,t.value)})},ce=function(t,n,r,i){return function(e){t(n,r,e,i)}},ue=function(e,t,n,r){t.done||(t.done=!0,r&&(t=r),t.value=n,t.state=Q,re(e,t,!0))},le=function(n,r,e,t){if(!r.done){r.done=!0,t&&(r=t);try{if(n===e)throw P("Promise can't be resolved itself");var i=ne(e);i?_(function(){var t={done:!1};try{i.call(e,ce(le,n,t,r),ce(ue,n,t,r))}catch(e){ue(n,t,e,r)}}):(r.value=e,r.state=X,re(n,r,!1))}catch(e){ue(n,{done:!1},e,r)}}};ee&&(M=function(e){g(this,M,L),h(e),r.call(this);var t=R(this);try{e(ce(le,this,t),ce(ue,this,t))}catch(e){ue(this,t,e)}},(r=function(e){N(this,{type:L,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:Z,value:void 0})}).prototype=l(M.prototype,{then:function(e,t){var n=D(this),r=z(b(this,M));return r.ok="function"!=typeof e||e,r.fail="function"==typeof t&&t,r.domain=K?F.domain:void 0,n.parent=!0,n.reactions.push(r),n.state!=Z&&re(this,n,!1),r.promise},catch:function(e){return this.then(void 0,e)}}),i=function(){var e=new r,t=R(e);this.promise=e,this.resolve=ce(le,e,t),this.reject=ce(ue,e,t)},O.f=z=function(e){return e===M||e===o?new i(e):V(e)},s||"function"!=typeof B||a({global:!0,enumerable:!0,forced:!0},{fetch:function(e){return C(M,B.apply(c,arguments))}})),a({global:!0,wrap:!0,forced:ee},{Promise:M}),d(M,L,!1,!0),p(L),o=u[L],a({target:L,stat:!0,forced:ee},{reject:function(e){var t=z(this);return t.reject.call(void 0,e),t.promise}}),a({target:L,stat:!0,forced:s||ee},{resolve:function(e){return C(s&&this===o?M:this,e)}}),a({target:L,stat:!0,forced:te},{all:function(e){var s=this,t=z(s),c=t.resolve,u=t.reject,n=k(function(){var r=h(s.resolve),i=[],o=0,a=1;v(e,function(e){var t=o++,n=!1;i.push(void 0),a++,r.call(s,e).then(function(e){n||(n=!0,i[t]=e,--a||c(i))},u)}),--a||c(i)});return n.error&&u(n.value),t.promise},race:function(e){var n=this,r=z(n),i=r.reject,t=k(function(){var t=h(n.resolve);v(e,function(e){t.call(n,e).then(r.resolve,i)})});return t.error&&i(t.value),r.promise}})},aLRh:function(e,t,n){var r=n("TR4g"),i=n("GIBT"),o=r.isTag;function a(e,t){return e.children?e.children.map(function(e){return i(e,t)}).join(""):""}function s(e){return Array.isArray(e)?e.map(s).join(""):o(e)?"br"===e.name?"\n":s(e.children):e.type===r.CDATA?s(e.children):e.type===r.Text?e.data:""}e.exports={getInnerHTML:a,getOuterHTML:i,getText:s}},aOYg:function(e,t,n){"use strict";var r=n("IWB/");e.exports=function(e){if(!r(e))throw new TypeError(e+" is not an Object");return e}},aOzW:function(e,t,n){n("VsXB");var r=n("dktu");e.exports=r.Object.setPrototypeOf},aP0E:function(e,o,a){(function(e){var t,n,r,i,ue=a("cDf5");window,i=function(){return n=[function(e,t,n){"use strict";var r;n.r(t);var i={Webkit:"-webkit-",Moz:"-moz-",ms:"-ms-",O:"-o-"};function o(){if(void 0!==r)return r;r="";var e,t=document.createElement("p").style;for(e in i)e+"Transform"in t&&(r=e);return r}function _(){return o()?"".concat(o(),"TransitionProperty"):"transitionProperty"}function d(){return o()?"".concat(o(),"Transform"):"transform"}function C(e,t){var n=_();n&&(e.style[n]=t,"transitionProperty"!==n&&(e.style.transitionProperty=t))}function p(e,t){var n=d();n&&(e.style[n]=t,"transform"!==n&&(e.style.transform=t))}var l,f=/matrix\((.*)\)/,h=/matrix3d\((.*)\)/;function a(e){return(a="function"==typeof Symbol&&"symbol"==ue(Symbol.iterator)?function(e){return ue(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":ue(e)})(e)}function T(e){var t=e.style.display;e.style.display="none",e.offsetHeight,e.style.display=t}function O(e,t,n){var r,i=n;if("object"!==a(t))return void 0!==i?("number"==typeof i&&(i="".concat(i,"px")),void(e.style[t]=i)):l(e,t);for(r in t)t.hasOwnProperty(r)&&O(e,r,t[r])}function s(e,t){var n,r=e["page".concat(t?"Y":"X","Offset")],i="scroll".concat(t?"Top":"Left");return"number"==typeof r||"number"!=typeof(r=(n=e.document).documentElement[i])&&(r=n.body[i]),r}function g(e){return s(e)}function m(e){return s(e,!0)}function k(e){var t,n,r,i,o,a,s=(n=e.ownerDocument,r=n.body,i=n&&n.documentElement,o=(t=e.getBoundingClientRect()).left,a=t.top,{left:o-=i.clientLeft||r.clientLeft||0,top:a-=i.clientTop||r.clientTop||0}),c=e.ownerDocument,u=c.defaultView||c.parentWindow;return s.left+=g(u),s.top+=m(u),s}function v(e){return null!=e&&e==e.window}function c(e){return v(e)?e.document:9===e.nodeType?e:e.ownerDocument}var u=new RegExp("^(".concat(/[-+]?(?:\d*\.|)\d+(?:[eE][-+]?\d+|)/.source,")(?!px)[a-z%]+$"),"i"),y=/^(top|right|bottom|left)$/,b="currentStyle",E="runtimeStyle",S="left",w="px";function I(e,t){return"left"===e?t.useCssRight?"right":e:t.useCssBottom?"bottom":e}function x(e){return"left"===e?"right":"right"===e?"left":"top"===e?"bottom":"bottom"===e?"top":void 0}function L(e,t,n){"static"===O(e,"position")&&(e.style.position="relative");var r=-999,i=-999,o=I("left",n),a=I("top",n),s=x(o),c=x(a);"left"!==o&&(r=999),"top"!==a&&(i=999);var u="",l=k(e);("left"in t||"top"in t)&&(u=e.style.transitionProperty||e.style[_()]||"",C(e,"none")),"left"in t&&(e.style[s]="",e.style[o]="".concat(r,"px")),"top"in t&&(e.style[c]="",e.style[a]="".concat(i,"px")),T(e);var d,p,f,h,g=k(e),m={};for(d in t)t.hasOwnProperty(d)&&(p=I(d,n),f="left"===d?r:i,h=l[d]-g[d],m[p]=p===d?f+h:f-h);O(e,m),T(e),("left"in t||"top"in t)&&C(e,u);var v,y,b,E={};for(v in t)t.hasOwnProperty(v)&&(y=I(v,n),b=t[v]-l[v],E[y]=v===y?m[y]+b:m[y]-b);O(e,E)}function R(r,e){var t,n,i,o,a,s,c=k(r),u=function(){var e=window.getComputedStyle(r,null),t=e.getPropertyValue("transform")||e.getPropertyValue(d());if(t&&"none"!==t){var n=t.replace(/[^0-9\-.,]/g,"").split(",");return{x:parseFloat(n[12]||n[4],0),y:parseFloat(n[13]||n[5],0)}}return{x:0,y:0}}(),l={x:u.x,y:u.y};"left"in e&&(l.x=u.x+e.left-c.left),"top"in e&&(l.y=u.y+e.top-c.top),t=r,n=l,a=window.getComputedStyle(t,null),(s=a.getPropertyValue("transform")||a.getPropertyValue(d()))&&"none"!==s?(o=s.match(f))?((i=(o=o[1]).split(",").map(function(e){return parseFloat(e,10)}))[4]=n.x,i[5]=n.y,p(t,"matrix(".concat(i.join(","),")"))):((i=s.match(h)[1].split(",").map(function(e){return parseFloat(e,10)}))[12]=n.x,i[13]=n.y,p(t,"matrix3d(".concat(i.join(","),")"))):p(t,"translateX(".concat(n.x,"px) translateY(").concat(n.y,"px) translateZ(0)"))}function N(e,t){for(var n=0;n<e.length;n++)t(e[n])}function D(e){return"border-box"===l(e,"boxSizing")}"undefined"!=typeof window&&(l=window.getComputedStyle?function(e,t,n){var r=n,i="",o=c(e);return(r=r||o.defaultView.getComputedStyle(e,null))&&(i=r.getPropertyValue(t)||r[t]),i}:function(e,t){var n,r,i,o=e[b]&&e[b][t];return u.test(o)&&!y.test(t)&&(r=(n=e.style)[S],i=e[E][S],e[E][S]=e[b][S],n[S]="fontSize"===t?"1em":o||0,o=n.pixelLeft+w,n[S]=r,e[E][S]=i),""===o?"auto":o});var M=["margin","border","padding"],P=-1,j=2,F=1;function B(e,t,n){for(var r,i,o=0,a=0;a<t.length;a++)if(r=t[a])for(i=0;i<n.length;i++){var s=void 0,s="border"===r?"".concat(r).concat(n[i],"Width"):r+n[i];o+=parseFloat(l(e,s))||0}return o}var A={};function U(e,t,n){var r=n;if(v(e))return"width"===t?A.viewportWidth(e):A.viewportHeight(e);if(9===e.nodeType)return"width"===t?A.docWidth(e):A.docHeight(e);var i="width"===t?["Left","Right"]:["Top","Bottom"],o="width"===t?e.getBoundingClientRect().width:e.getBoundingClientRect().height,a=(l(e),D(e)),s=0;(null==o||o<=0)&&(o=void 0,(null==(s=l(e,t))||Number(s)<0)&&(s=e.style[t]||0),s=parseFloat(s)||0),void 0===r&&(r=a?F:P);var c=void 0!==o||a,u=o||s;return r===P?c?u-B(e,["border","padding"],i):s:c?r===F?u:u+(r===j?-B(e,["border"],i):B(e,["margin"],i)):s+B(e,M.slice(r),i)}N(["Width","Height"],function(o){A["doc".concat(o)]=function(e){var t=e.document;return Math.max(t.documentElement["scroll".concat(o)],t.body["scroll".concat(o)],A["viewport".concat(o)](t))},A["viewport".concat(o)]=function(e){var t="client".concat(o),n=e.document,r=n.body,i=n.documentElement[t];return"CSS1Compat"===n.compatMode&&i||r&&r[t]||i}});var H={position:"absolute",visibility:"hidden",display:"block"};function z(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,i=t[0];return 0!==i.offsetWidth?r=U.apply(void 0,t):function(e,t,n){var r,i={},o=e.style;for(r in t)t.hasOwnProperty(r)&&(i[r]=o[r],o[r]=t[r]);for(r in n.call(e),t)t.hasOwnProperty(r)&&(o[r]=i[r])}(i,H,function(){r=U.apply(void 0,t)}),r}function V(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}N(["width","height"],function(r){var e=r.charAt(0).toUpperCase()+r.slice(1);A["outer".concat(e)]=function(e,t){return e&&z(e,r,t?0:F)};var i="width"===r?["Left","Right"]:["Top","Bottom"];A[r]=function(e,t){var n=t;return void 0===n?e&&z(e,r,P):e?(l(e),D(e)&&(n+=B(e,["padding","border"],i)),O(e,r,n)):void 0}});var K={getWindow:function(e){if(e&&e.document&&e.setTimeout)return e;var t=e.ownerDocument||e;return t.defaultView||t.parentWindow},getDocument:c,offset:function(e,t,n){if(void 0===t)return k(e);var r,i,o;r=e,i=t,!(o=n||{}).useCssRight&&!o.useCssBottom&&o.useCssTransform&&d()in document.body.style?R(r,i):L(r,i,o)},isWindow:v,each:N,css:O,clone:function(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);if(e.overflow)for(t in e)e.hasOwnProperty(t)&&(n.overflow[t]=e.overflow[t]);return n},mix:V,getWindowScrollLeft:function(e){return g(e)},getWindowScrollTop:function(e){return m(e)},merge:function(){for(var e={},t=0;t<arguments.length;t++)K.mix(e,t<0||arguments.length<=t?void 0:arguments[t]);return e},viewportWidth:0,viewportHeight:0};V(K,A);var W=K,Y=function(e){if(W.isWindow(e)||9===e.nodeType)return null;var t,n=W.getDocument(e).body,r=W.css(e,"position");if("fixed"!==r&&"absolute"!==r)return"html"===e.nodeName.toLowerCase()?null:e.parentNode;for(t=e.parentNode;t&&t!==n;t=t.parentNode)if("static"!==(r=W.css(t,"position")))return t;return null};function q(e,t){return 0<=e.top&&0<=e.left&&e.bottom>e.top&&e.right>e.left?{top:e.top+(t&&t.top?t.top:0),left:e.left+(t&&t.left?t.left:0),right:e.right-(t&&t.right?t.right:0),bottom:e.bottom-(t&&t.bottom?t.bottom:0)}:null}var Z=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=2<arguments.length?arguments[2]:void 0,r={left:0,right:1/0,top:0,bottom:1/0},i=Y(e),o=W.getDocument(e),a=o.defaultView||o.parentWindow,s=o.body,c=o.documentElement;if(n){var u=n.getBoundingClientRect(),l=u.left,d=u.right,p=u.top,f=u.bottom;return r.left=l,r.top=p,r.bottom=f,r.right=d,q(r,t)}for(;i;){if(-1!==navigator.userAgent.indexOf("MSIE")&&0===i.clientWidth||i===s||i===c||"visible"===W.css(i,"overflow")){if(i===s||i===c)break}else{var h=W.offset(i);h.left+=i.clientLeft,h.top+=i.clientTop,r.top=Math.max(r.top,h.top),r.right=Math.min(r.right,h.left+i.clientWidth),r.bottom=Math.min(r.bottom,h.top+i.clientHeight),r.left=Math.max(r.left,h.left)}i=Y(i)}var g=null;W.isWindow(e)||9===e.nodeType||(g=e.style.position,"absolute"===W.css(e,"position")&&(e.style.position="fixed"));var m,v,y=W.getWindowScrollLeft(a),b=W.getWindowScrollTop(a),E=W.viewportWidth(a),_=W.viewportHeight(a),C=c.scrollWidth,T=c.scrollHeight;return e.style&&(e.style.position=g),function(e){if(!W.isWindow(e)&&9!==e.nodeType)for(var t=W.getDocument(e).body,n=null,n=e.parentNode;n&&n!==t;n=n.parentNode)if("fixed"===W.css(n,"position"))return 1}(e)?(r.left=Math.max(r.left,y),r.top=Math.max(r.top,b),r.right=Math.min(r.right,y+E),r.bottom=Math.min(r.bottom,b+_)):(m=Math.max(C,y+E),r.right=Math.min(r.right,m),v=Math.max(T,b+_),r.bottom=Math.min(r.bottom,v)),q(r,t)},X=function(e,t,n,r){var i=W.clone(e),o={width:t.width,height:t.height};return r.adjustX&&i.left<n.left&&(i.left=n.left),r.resizeWidth&&i.left>=n.left&&i.left+o.width>n.right&&(o.width-=i.left+o.width-n.right),r.adjustX&&i.left+o.width>n.right&&(i.left=Math.max(n.right-o.width,n.left)),r.adjustY&&i.top<n.top&&(i.top=n.top),r.resizeHeight&&i.top>=n.top&&i.top+o.height>n.bottom&&(o.height-=i.top+o.height-n.bottom),r.adjustY&&i.top+o.height>n.bottom&&(i.top=Math.max(n.bottom-o.height,n.top)),W.mix(i,o)},G=function(e){var t,n,r,i;return i=W.isWindow(e)||9===e.nodeType?(t=W.getWindow(e),n={left:W.getWindowScrollLeft(t),top:W.getWindowScrollTop(t)},r=W.viewportWidth(t),W.viewportHeight(t)):(n=W.offset(e),r=W.outerWidth(e),W.outerHeight(e)),n.width=r,n.height=i,n},Q=function(e,t){var n=t.charAt(0),r=t.charAt(1),i=e.width,o=e.height,a=e.left,s=e.top;return"c"===n?s+=o/2:"b"===n&&(s+=o),"c"===r?a+=i/2:"r"===r&&(a+=i),{left:a,top:s}},J=function(e,t,n,r,i){var o=Q(t,n[1]),a=Q(e,n[0]),s=[a.left-o.left,a.top-o.top];return{left:e.left-s[0]+r[0]-i[0],top:e.top-s[1]+r[1]-i[1]}};function $(e,t,n){return e.left<n.left||e.left+t.width>n.right}function ee(e,t,n){return e.top<n.top||e.top+t.height>n.bottom}function te(e,t,n){var r=[];return W.each(e,function(e){r.push(e.replace(t,function(e){return n[e]}))}),r}function ne(e,t){return e[t]=-e[t],e}function re(e,t){return(/%$/.test(e)?parseInt(e.substring(0,e.length-1),10)/100*t:parseInt(e,10))||0}function ie(e,t){e[0]=re(e[0],t.width),e[1]=re(e[1],t.height)}var oe=function(e){var t=e.el,n=e.targetRegion,r=e.align,i=e.isTargetRegionVisible,o=e.padding,a=e.container,s=r.points,c=r.offset||[0,0],u=r.targetOffset||[0,0],l=r.overflow,d=r.source||t,p=r.newAlign||!1,c=[].concat(c),u=[].concat(u),l=l||{},f={},h=0,g=Z(d,o,a),m=G(d);ie(c,m),ie(u,n);var v,y,b,E,_,C,T,O,k,S,w=J(m,n,s,c,u),I=W.merge(m,w);return g&&(l.adjustX||l.adjustY)&&i&&(l.adjustX&&$(w,m,g)&&(v=te(s,/[lr]/gi,{l:"r",r:"l"}),y=ne(c,0),b=ne(u,0),(S=J(m,n,v,y,b)).left>g.right||S.left+m.width<g.left||(h=1,s=v,c=y,u=b)),l.adjustY&&ee(w,m,g)&&(E=te(s,/[tb]/gi,{t:"b",b:"t"}),_=ne(c,1),C=ne(u,1),(k=J(m,n,E,_,C)).top>g.bottom||k.top+m.height<g.top||(h=1,s=E,c=_,u=C)),h&&(w=J(m,n,s,c,u),W.mix(I,w)),T=$(w,m,g),O=ee(w,m,g),p||(T||O)&&(s=r.points,c=r.offset||[0,0],u=r.targetOffset||[0,0]),f.adjustX=l.adjustX&&T,f.adjustY=l.adjustY&&O,(f.adjustX||f.adjustY)&&(I=X(w,m,g,f),p&&(c=[I.left-w.left,I.top-w.top]))),I.width!==m.width&&W.css(d,"width",W.width(d)+I.width-m.width),I.height!==m.height&&W.css(d,"height",W.height(d)+I.height-m.height),W.offset(d,{left:Math.floor(I.left),top:Math.floor(I.top)},{useCssRight:r.useCssRight,useCssBottom:r.useCssBottom,useCssTransform:r.useCssTransform}),{points:s,offset:c,targetOffset:u,overflow:f}};function ae(e,t,n){var r,i,o,a=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{},s=4<arguments.length?arguments[4]:void 0,c=n.target||t,u=G(c),l=(i=Z(r=c,a,s),o=G(r),!(!i||o.left+o.width<=i.left||o.top+o.height<=i.top||o.left>=i.right||o.top>=i.bottom));return oe({el:e,targetRegion:u,align:n,isTargetRegionVisible:l,padding:a,container:s})}ae.__getOffsetParent=Y,ae.__getVisibleRectForElement=Z;var se=ae,ce=function(e,t,n){var r=Math.max(document.documentElement.clientHeight,window.innerHeight),i=!(t.bottom<0||t.top>=r);return oe({el:e,targetRegion:t,align:n,isTargetRegionVisible:i})};n.d(t,"alignElement",function(){return se}),n.d(t,"alignRegion",function(){return ce}),t.default=se}],r={},i.m=n,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==ue(t)&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=0);function i(e){if(r[e])return r[e].exports;var t=r[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,i),t.l=!0,t.exports}var n,r},"object"==ue(o)&&"object"==ue(e)?e.exports=i():(n=[],void 0===(r="function"==typeof(t=i)?t.apply(o,n):t)||(e.exports=r))}).call(this,a("YuTi")(e))},aX3c:function(e,t,i){"use strict";i.r(t),i.d(t,"importMessageListener",function(){return te}),i.d(t,"importBitableBridgeForSheet",function(){return ne}),i.d(t,"importBitableDefaultActions",function(){return re}),i.d(t,"importTypes",function(){return ie}),i.d(t,"importSheetToBitableManager",function(){return oe}),i.d(t,"importMention",function(){return ae}),i.d(t,"importHyperLinks",function(){return se}),i.d(t,"importUndo",function(){return ce}),i.d(t,"importRedo",function(){return ue}),i.d(t,"importIndent",function(){return le}),i.d(t,"importMentionNotificationQueue",function(){return de}),i.d(t,"importLinkToBlock",function(){return pe}),i.d(t,"importMentionPopover",function(){return fe}),i.d(t,"importViewerActionType",function(){return he}),i.d(t,"importUtilsViewer",function(){return ge}),i.d(t,"importWebUploader",function(){return me});var n=i("o0o1"),a=i.n(n),r=i("yXPU"),o=i.n(r),s=i("OX8E");i.d(t,"eventEmitter",function(){return s.a});var c=i("mHIB");i.d(t,"noticeMsgHandler",function(){return c.a});var u=i("NVF8"),l=i("fw5c");i.d(t,"preloadData",function(){return l});var d=i("VU2s");i.d(t,"preloadHttp",function(){return d});var p=i("LN8o");i.d(t,"replaceEditorValue",function(){return p.replaceEditorValue});var f=i("SGN9");i.d(t,"isGuideTypeDone",function(){return f.n}),i.d(t,"getUserProfileAttr",function(){return f.k});var h=i("LghI");i.d(t,"getIsOpenDoc",function(){return h.a});var g=i("+HKK");i.d(t,"snakelize",function(){return g.d});var m=i("vE74");i.d(t,"isBold",function(){return m.f}),i.d(t,"parseFont",function(){return m.h}),i.d(t,"px2pt",function(){return m.i});var v=i("lQSh");i.d(t,"CreatedSource",function(){return v.b}),i.d(t,"BlockExtraFunctions",function(){return v.BlockExtraFunctions});var y=i("DLuH");i.d(t,"Subpub",function(){return y.a});var b=i("D7h9");i.d(t,"store",function(){return b.default});var E=i("toa8");i.d(t,"normalRequest",function(){return E.d}),i.d(t,"createCustomEvent",function(){return m.b});var _=i("nN3d");i.d(t,"camelCase",function(){return _.b}),i.d(t,"hasUrlProtocol",function(){return _.d}),i.d(t,"intToAZ",function(){return _.e}),i.d(t,"snakeCase",function(){return _.l}),i.d(t,"isEmpty",function(){return _.h}),i.d(t,"generateRandomString",function(){return _.c});var C=i("n9xE");i.d(t,"gzip",function(){return C.a}),i.d(t,"ungzip",function(){return C.b});var T=i("1dfU");i.d(t,"encryptTea",function(){return T.a}),i.d(t,"acknowledgeSteps",function(){return f.a}),i.d(t,"addSteps",function(){return f.b}),i.d(t,"completeSteps",function(){return f.f}),i.d(t,"hideSteps",function(){return f.l}),i.d(t,"removeSteps",function(){return f.q}),i.d(t,"renderSteps",function(){return f.r}),i.d(t,"showSteps",function(){return f.t});var O=i("kfiP");i.d(t,"getAllUrlParams",function(){return O.a});var k=i("GIL9");i.d(t,"isShortCut",function(){return k.a});var S=i("JaxG");i.d(t,"getHeartbeatsOption",function(){return S.d});var w=i("0X7r");i.d(t,"UserPermissionManager",function(){return w.b}),i.d(t,"UserPermissionManagerProps",function(){return w.ManagerProps}),i.d(t,"getSyncHelpers",function(){return S.e});var I=i("7SOz");i.d(t,"translate",function(){return I.a}),i.d(t,"toAILabTypeData",function(){return I.c}),i.d(t,"toLineTexts",function(){return I.d});var x=i("cudk"),L=i("SLjs");i.d(t,"AILabTypeData",function(){return L.AILabTypeData}),i.d(t,"TranslateAPIData",function(){return L.TranslateAPIData}),i.d(t,"TranslateText",function(){return L.TranslateText}),i.d(t,"DISPLAY_TYPE",function(){return L.b});var R=i("TJjI");i.d(t,"CoverPolicy",function(){return R.a});var N=i("Xngx");i.d(t,"getDownloadUrl",function(){return N.c}),i.d(t,"getCoverDownloadUrl",function(){return N.b});var D=i("skFV");i.d(t,"getCommonEnv",function(){return D.g}),i.d(t,"makeBitableSdk",function(){return x.b}),i.d(t,"makeLoadableBitableSdkComponent",function(){return x.c}),i.d(t,"makeBitableInjectBitableDep",function(){return x.a});var M=i("rLED");i.d(t,"getCommentReactionEnabled",function(){return M.i}),i.d(t,"getDiyIconEnable",function(){return M.n}),i.d(t,"getSheetDataValidationEnable",function(){return M.bb}),i.d(t,"getSheetSingleDataValidationAsDropdownEnable",function(){return M.db}),i.d(t,"getSheetDropdown2DataValidationEnable",function(){return M.cb}),i.d(t,"getSheetDataValidationApplyToAll",function(){return M.ab});var P=i("uzFr");i.d(t,"getIsParallelRequestEnable",function(){return P.b}),i.d(t,"getSheetRequestBlockLimit",function(){return P.m}),i.d(t,"getSheetTranslateTextCount",function(){return P.p}),i.d(t,"getBlockParallelTaskCount",function(){return P.a}),i.d(t,"getSheetSendUserChangeDebounce",function(){return P.n}),i.d(t,"getSheetRangeActionCount",function(){return P.l}),i.d(t,"getSubBlocksTimeout",function(){return P.q}),i.d(t,"getMissVersionThreshold",function(){return P.d}),i.d(t,"getSheetGroupToolBtnEnable",function(){return P.j}),i.d(t,"getSheetSyncBufferEnable",function(){return P.o}),i.d(t,"getSheetNewSortEnable",function(){return P.k}),i.d(t,"getIsRangeActionEnable",function(){return P.c}),i.d(t,"getSheetCellLimitNum",function(){return P.f}),i.d(t,"getSheetCopyDataVersion",function(){return P.i}),i.d(t,"getSearchThresholdValue",function(){return P.e}),i.d(t,"getSheetCellPositionEnable",function(){return P.g});var j=i("c/bE");i.d(t,"resourceGuard",function(){return j.a});var F=i("KrGf");i.d(t,"getIsAnonymousAccess",function(){return F.b});var B=i("cPIY");i.d(t,"getAppStateModule",function(){return B.a});var U=i("Xngv");i.d(t,"getEntitiesModule",function(){return U.a});var H=i("djbN");i.d(t,"freezeSheetToggle",function(){return H.b}),i.d(t,"exportFile",function(){return H.a});var z=i("pZkr");i.d(t,"getSheetModule",function(){return z.getSheetModule});var V=i("m1/u");i.d(t,"selectIsSpecifiedStatusAllLoaded",function(){return V.d}),i.d(t,"selectFetchStatus",function(){return V.a});var K=i("EVj1");i.d(t,"parseUrl",function(){return K.m}),i.d(t,"parseQuery",function(){return K.l});var W=i("fJND");i.d(t,"isSameFileToken",function(){return W.b});var Y=i("kaax");i.d(t,"panoMatcher",function(){return Y.b}),i.d(t,"requestPano",function(){return Y.c}),i.d(t,"BatchGetMentionEntitiesByUrlResponse",function(){return Y.BatchGetMentionEntitiesByUrlResponse});var q=i("RHO4");i.d(t,"RequestResponse",function(){return q.RequestResponse});var Z=i("lBQb");i.d(t,"isRenderNewLayout",function(){return Z.p});var X=i("kS6I");i.d(t,"checkAuthority",function(){return X.c}),i.d(t,"checkAuthoritySync",function(){return X.d}),i.d(t,"PermissionType",function(){return X.b}),i.d(t,"AUTHORITY_TYPE",function(){return X.a});var Q=i("erPj");i.d(t,"hasCopyAuthority",function(){return Q.b}),i.d(t,"hasExportAuthority",function(){return Q.d});var J=i("QM+C");i.d(t,"ENTITY_TYPE",function(){return J.ENTITY_TYPE});var $=i("po4q");i.d(t,"sheetBottomTemplateSizeLimit",function(){return $.B});var ee=i("6omo");i.d(t,"RecommendTemplateType",function(){return ee.RecommendTemplateType});var te=function(){var e=o()(a.a.mark(function e(){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.e(65).then(i.bind(null,"i6Ox"));case 2:return e.abrupt("return",e.sent.MessageListener);case 3:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),ne=function(){var e=o()(a.a.mark(function e(){var t,n;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.e(66).then(i.bind(null,"hOeA"));case 2:return t=e.sent,n=t.LoadableBitableBridgeForSheet,e.abrupt("return",n);case 5:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),re=function(){var e=o()(a.a.mark(function e(){var t,n;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(u.a)("bitable");case 2:return e.next=4,e.sent.defaultAction();case 4:return t=e.sent,n=t.DefaultActions,e.abrupt("return",n);case 7:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),ie=function(){var e=o()(a.a.mark(function e(){var t,n,r,i,o;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(x.b)();case 2:return t=e.sent,n=t.ViewType,r=t.BitableType,i=t.FieldType,o=t.FieldTypeName,e.abrupt("return",{ViewType:n,BitableType:r,FieldType:i,FieldTypeName:o});case 8:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),oe=function(){var e=o()(a.a.mark(function e(){var t,n;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(u.a)("bitable");case 2:return e.next=4,e.sent.bitableSheetManage();case 4:return t=e.sent,n=t.SheetToBitableManager,e.abrupt("return",n);case 7:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),ae=function(){var e=o()(a.a.mark(function e(){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([i.e("doc_index_css"),i.e(16),i.e(38)]).then(i.bind(null,"Vr4U"));case 2:return e.abrupt("return",e.sent.default);case 3:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),se=function(){var e=o()(a.a.mark(function e(){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([i.e("doc_index_css"),i.e("chunk_adit"),i.e(7),i.e(45)]).then(i.bind(null,"5Ucn"));case 2:return e.next=4,e.sent.HyperLinks;case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),ce=function(){var e=o()(a.a.mark(function e(){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.e(64).then(i.bind(null,"OIAp"));case 2:return e.abrupt("return",e.sent.default);case 3:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),ue=function(){var e=o()(a.a.mark(function e(){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.e(63).then(i.bind(null,"chgP"));case 2:return e.abrupt("return",e.sent.default);case 3:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),le=function(){var e=o()(a.a.mark(function e(){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.e(68).then(i.bind(null,"nMtL"));case 2:return e.abrupt("return",e.sent.default);case 3:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),de=function(){var e=o()(a.a.mark(function e(){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.e(51).then(i.bind(null,"AvAw"));case 2:return e.abrupt("return",e.sent.default);case 3:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),pe=function(){var e=o()(a.a.mark(function e(){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.e(49).then(i.bind(null,"5TP0"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),fe=function(){var e=o()(a.a.mark(function e(){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([i.e("doc_index_css"),i.e(53)]).then(i.bind(null,"3EEQ"));case 2:return e.abrupt("return",e.sent.default);case 3:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),he=function(){var e=o()(a.a.mark(function e(){var t,n;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.e(71).then(i.bind(null,"Mp37"));case 2:return t=e.sent,n=t.UX_ACTION_TYPE,e.abrupt("return",n);case 5:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),ge=function(){var e=o()(a.a.mark(function e(){var t,n,r;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([i.e("doc_index_css"),i.e(48)]).then(i.bind(null,"XRg5"));case 2:return t=e.sent,n=t.createViewer,r=t.MODULE_TYPE,e.abrupt("return",{createViewer:n,MODULE_TYPE:r});case 6:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),me=function(){var e=o()(a.a.mark(function e(){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([i.e(5),i.e(70)]).then(i.bind(null,"Jn5N"));case 2:return e.abrupt("return",e.sent.default);case 3:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()},ad02:function(e,t,n){"use strict";n.r(t),n.d(t,"distinctUntilChanged",function(){return s});var r=n("mrSG"),i=n("FFOo"),o=n("Ehmk"),a=n("eihs");function s(t,n){return function(e){return e.lift(new c(t,n))}}var c=function(){function e(e,t){this.compare=e,this.keySelector=t}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.compare,this.keySelector))},e}(),u=function(i){function e(e,t,n){var r=i.call(this,e)||this;return r.keySelector=n,r.hasKey=!1,"function"==typeof t&&(r.compare=t),r}return r.__extends(e,i),e.prototype.compare=function(e,t){return e===t},e.prototype._next=function(e){var t=this.keySelector,n=e;if(t&&(n=Object(o.a)(this.keySelector)(e))===a.a)return this.destination.error(a.a.e);var r=!1;if(this.hasKey){if((r=Object(o.a)(this.compare)(this.key,n))===a.a)return this.destination.error(a.a.e)}else this.hasKey=!0;!1===Boolean(r)&&(this.key=n,this.destination.next(e))},e}(i.a)},ahDk:function(e,t,n){"use strict";n.r(t);var c=n("mrSG"),d=n("Ehmk"),p=n("eihs"),r=n("MGBS"),f=n("zotm");function i(t){return function(e){return e.lift(new o(t))}}var o=function(){function e(e){this.durationSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.durationSelector))},e}(),a=function(r){function e(e,t){var n=r.call(this,e)||this;return n.durationSelector=t,n.hasValue=!1,n}return c.__extends(e,r),e.prototype._next=function(e){var t,n;this.value=e,this.hasValue=!0,this.throttled||((t=Object(d.a)(this.durationSelector)(e))===p.a?this.destination.error(p.a.e):!(n=Object(f.a)(this,t))||n.closed?this.clearThrottle():this.add(this.throttled=n))},e.prototype.clearThrottle=function(){var e=this,t=e.value,n=e.hasValue,r=e.throttled;r&&(this.remove(r),this.throttled=null,r.unsubscribe()),n&&(this.value=null,this.hasValue=!1,this.destination.next(t))},e.prototype.notifyNext=function(e,t,n,r){this.clearThrottle()},e.prototype.notifyComplete=function(){this.clearThrottle()},e}(r.a),s=n("T1DM"),u=n("gI3B");function l(e,t){return void 0===t&&(t=s.a),i(function(){return Object(u.a)(e,t)})}var h=n("DaYz"),g=n("FFOo");function m(t,n){return void 0===n&&(n=null),function(e){return e.lift(new v(t,n))}}var v=function(){function e(e,t){this.bufferSize=e,this.startBufferEvery=t,this.subscriberClass=t&&e!==t?b:y}return e.prototype.call=function(e,t){return t.subscribe(new this.subscriberClass(e,this.bufferSize,this.startBufferEvery))},e}(),y=function(r){function e(e,t){var n=r.call(this,e)||this;return n.bufferSize=t,n.buffer=[],n}return c.__extends(e,r),e.prototype._next=function(e){var t=this.buffer;t.push(e),t.length==this.bufferSize&&(this.destination.next(t),this.buffer=[])},e.prototype._complete=function(){var e=this.buffer;0<e.length&&this.destination.next(e),r.prototype._complete.call(this)},e}(g.a),b=function(i){function e(e,t,n){var r=i.call(this,e)||this;return r.bufferSize=t,r.startBufferEvery=n,r.buffers=[],r.count=0,r}return c.__extends(e,i),e.prototype._next=function(e){var t=this,n=t.bufferSize,r=t.startBufferEvery,i=t.buffers,o=t.count;this.count++,o%r==0&&i.push([]);for(var a=i.length;a--;){var s=i[a];s.push(e),s.length===n&&(i.splice(a,1),this.destination.next(s))}},e.prototype._complete=function(){for(var e=this,t=e.buffers,n=e.destination;0<t.length;){var r=t.shift();0<r.length&&n.next(r)}i.prototype._complete.call(this)},e}(g.a),E=n("nkY7");function _(t){var e=arguments.length,n=s.a;Object(E.a)(arguments[arguments.length-1])&&(n=arguments[arguments.length-1],e--);var r=null;2<=e&&(r=arguments[1]);var i=Number.POSITIVE_INFINITY;return 3<=e&&(i=arguments[2]),function(e){return e.lift(new C(t,r,i,n))}}var C=function(){function e(e,t,n,r){this.bufferTimeSpan=e,this.bufferCreationInterval=t,this.maxBufferSize=n,this.scheduler=r}return e.prototype.call=function(e,t){return t.subscribe(new O(e,this.bufferTimeSpan,this.bufferCreationInterval,this.maxBufferSize,this.scheduler))},e}(),T=function(){function e(){this.buffer=[]}return e}(),O=function(l){function e(e,t,n,r,i){var o=l.call(this,e)||this;o.bufferTimeSpan=t,o.bufferCreationInterval=n,o.maxBufferSize=r,o.scheduler=i,o.contexts=[];var a,s,c,u=o.openContext();return o.timespanOnly=null==n||n<0,o.timespanOnly?(a={subscriber:o,context:u,bufferTimeSpan:t},o.add(u.closeAction=i.schedule(k,t,a))):(s={subscriber:o,context:u},c={bufferTimeSpan:t,bufferCreationInterval:n,subscriber:o,scheduler:i},o.add(u.closeAction=i.schedule(w,t,s)),o.add(i.schedule(S,n,c))),o}return c.__extends(e,l),e.prototype._next=function(e){for(var t,n=this.contexts,r=n.length,i=0;i<r;i++){var o=n[i],a=o.buffer;a.push(e),a.length==this.maxBufferSize&&(t=o)}t&&this.onBufferFull(t)},e.prototype._error=function(e){this.contexts.length=0,l.prototype._error.call(this,e)},e.prototype._complete=function(){for(var e=this,t=e.contexts,n=e.destination;0<t.length;){var r=t.shift();n.next(r.buffer)}l.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.contexts=null},e.prototype.onBufferFull=function(e){this.closeContext(e);var t,n,r=e.closeAction;r.unsubscribe(),this.remove(r),!this.closed&&this.timespanOnly&&(e=this.openContext(),n={subscriber:this,context:e,bufferTimeSpan:t=this.bufferTimeSpan},this.add(e.closeAction=this.scheduler.schedule(k,t,n)))},e.prototype.openContext=function(){var e=new T;return this.contexts.push(e),e},e.prototype.closeContext=function(e){this.destination.next(e.buffer);var t=this.contexts;0<=(t?t.indexOf(e):-1)&&t.splice(t.indexOf(e),1)},e}(g.a);function k(e){var t=e.subscriber,n=e.context;n&&t.closeContext(n),t.closed||(e.context=t.openContext(),e.context.closeAction=this.schedule(e,e.bufferTimeSpan))}function S(e){var t=e.bufferCreationInterval,n=e.bufferTimeSpan,r=e.subscriber,i=e.scheduler,o=r.openContext(),a=this;r.closed||(r.add(o.closeAction=i.schedule(w,n,{subscriber:r,context:o})),a.schedule(e,t))}function w(e){var t=e.subscriber,n=e.context;t.closeContext(n)}var I=n("pugT");function x(t,n){return function(e){return e.lift(new L(t,n))}}var L=function(){function e(e,t){this.openings=e,this.closingSelector=t}return e.prototype.call=function(e,t){return t.subscribe(new R(e,this.openings,this.closingSelector))},e}(),R=function(i){function e(e,t,n){var r=i.call(this,e)||this;return r.openings=t,r.closingSelector=n,r.contexts=[],r.add(Object(f.a)(r,t)),r}return c.__extends(e,i),e.prototype._next=function(e){for(var t=this.contexts,n=t.length,r=0;r<n;r++)t[r].buffer.push(e)},e.prototype._error=function(e){for(var t=this.contexts;0<t.length;){var n=t.shift();n.subscription.unsubscribe(),n.buffer=null,n.subscription=null}this.contexts=null,i.prototype._error.call(this,e)},e.prototype._complete=function(){for(var e=this.contexts;0<e.length;){var t=e.shift();this.destination.next(t.buffer),t.subscription.unsubscribe(),t.buffer=null,t.subscription=null}this.contexts=null,i.prototype._complete.call(this)},e.prototype.notifyNext=function(e,t,n,r,i){e?this.closeBuffer(e):this.openBuffer(t)},e.prototype.notifyComplete=function(e){this.closeBuffer(e.context)},e.prototype.openBuffer=function(e){try{var t=this.closingSelector.call(this,e);t&&this.trySubscribe(t)}catch(e){this._error(e)}},e.prototype.closeBuffer=function(e){var t,n,r=this.contexts;r&&e&&(t=e.buffer,n=e.subscription,this.destination.next(t),r.splice(r.indexOf(e),1),this.remove(n),n.unsubscribe())},e.prototype.trySubscribe=function(e){var t=this.contexts,n=[],r=new I.a,i={buffer:n,subscription:r};t.push(i);var o=Object(f.a)(this,e,i);!o||o.closed?this.closeBuffer(i):(o.context=i,this.add(o),r.add(o))},e}(r.a);function N(t){return function(e){return e.lift(new D(t))}}var D=function(){function e(e){this.closingSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new M(e,this.closingSelector))},e}(),M=function(r){function e(e,t){var n=r.call(this,e)||this;return n.closingSelector=t,n.subscribing=!1,n.openBuffer(),n}return c.__extends(e,r),e.prototype._next=function(e){this.buffer.push(e)},e.prototype._complete=function(){var e=this.buffer;e&&this.destination.next(e),r.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.buffer=null,this.subscribing=!1},e.prototype.notifyNext=function(e,t,n,r,i){this.openBuffer()},e.prototype.notifyComplete=function(){this.subscribing?this.complete():this.openBuffer()},e.prototype.openBuffer=function(){var e=this.closingSubscription;e&&(this.remove(e),e.unsubscribe());var t=this.buffer;this.buffer&&this.destination.next(t),this.buffer=[];var n=Object(d.a)(this.closingSelector)();n===p.a?this.error(p.a.e):(e=new I.a,this.closingSubscription=e,this.add(e),this.subscribing=!0,e.add(Object(f.a)(this,n)),this.subscribing=!1)},e}(r.a);function P(r){return function(e){var t=new j(r),n=e.lift(t);return t.caught=n}}var j=function(){function e(e){this.selector=e}return e.prototype.call=function(e,t){return t.subscribe(new F(e,this.selector,this.caught))},e}(),F=function(i){function e(e,t,n){var r=i.call(this,e)||this;return r.selector=t,r.caught=n,r}return c.__extends(e,i),e.prototype.error=function(e){if(!this.isStopped){var t=void 0;try{t=this.selector(e,this.caught)}catch(e){return void i.prototype.error.call(this,e)}this._unsubscribeAndRecycle(),this.add(Object(f.a)(this,t))}},e}(r.a),B=n("dzgT");function U(t){return function(e){return e.lift(new B.a(t))}}var H=n("isby"),z=n("0/uQ");function V(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=null;return"function"==typeof t[t.length-1]&&(n=t.pop()),1===t.length&&Object(H.a)(t[0])&&(t=t[0].slice()),function(e){return e.lift.call(Object(z.a)([e].concat(t)),new B.a(n))}}var K=n("dEwP");function W(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){return e.lift.call(K.a.apply(void 0,[e].concat(t)))}}var Y=n("Txjg"),q=n("psW0");function Z(e,t){return Object(q.a)(e,t,1)}function X(e,t){return Z(function(){return e},t)}function Q(t){return function(e){return e.lift(new J(t,e))}}var J=function(){function e(e,t){this.predicate=e,this.source=t}return e.prototype.call=function(e,t){return t.subscribe(new $(e,this.predicate,this.source))},e}(),$=function(i){function e(e,t,n){var r=i.call(this,e)||this;return r.predicate=t,r.source=n,r.count=0,r.index=0,r}return c.__extends(e,i),e.prototype._next=function(e){this.predicate?this._tryPredicate(e):this.count++},e.prototype._tryPredicate=function(e){var t;try{t=this.predicate(e,this.index++,this.source)}catch(e){return void this.destination.error(e)}t&&this.count++},e.prototype._complete=function(){this.destination.next(this.count),this.destination.complete()},e}(g.a),ee=n("bWpG"),te=n("Gi3i"),ne=n("HJBe"),re=n("vubp"),ie=n("6blF");function oe(t,n){return n?function(e){return new ce(e,n).lift(new ae(t))}:function(e){return e.lift(new ae(t))}}var ae=function(){function e(e){this.delayDurationSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new se(e,this.delayDurationSelector))},e}(),se=function(r){function e(e,t){var n=r.call(this,e)||this;return n.delayDurationSelector=t,n.completed=!1,n.delayNotifierSubscriptions=[],n}return c.__extends(e,r),e.prototype.notifyNext=function(e,t,n,r,i){this.destination.next(e),this.removeSubscription(i),this.tryComplete()},e.prototype.notifyError=function(e,t){this._error(e)},e.prototype.notifyComplete=function(e){var t=this.removeSubscription(e);t&&this.destination.next(t),this.tryComplete()},e.prototype._next=function(e){try{var t=this.delayDurationSelector(e);t&&this.tryDelay(t,e)}catch(e){this.destination.error(e)}},e.prototype._complete=function(){this.completed=!0,this.tryComplete()},e.prototype.removeSubscription=function(e){e.unsubscribe();var t=this.delayNotifierSubscriptions.indexOf(e);return-1!==t&&this.delayNotifierSubscriptions.splice(t,1),e.outerValue},e.prototype.tryDelay=function(e,t){var n=Object(f.a)(this,e,t);n&&!n.closed&&(this.add(n),this.delayNotifierSubscriptions.push(n))},e.prototype.tryComplete=function(){this.completed&&0===this.delayNotifierSubscriptions.length&&this.destination.complete()},e}(r.a),ce=function(r){function e(e,t){var n=r.call(this)||this;return n.source=e,n.subscriptionDelay=t,n}return c.__extends(e,r),e.prototype._subscribe=function(e){this.subscriptionDelay.subscribe(new ue(e,this.source))},e}(ie.a),ue=function(r){function e(e,t){var n=r.call(this)||this;return n.parent=e,n.source=t,n.sourceSubscribed=!1,n}return c.__extends(e,r),e.prototype._next=function(e){this.subscribeToSource()},e.prototype._error=function(e){this.unsubscribe(),this.parent.error(e)},e.prototype._complete=function(){this.subscribeToSource()},e.prototype.subscribeToSource=function(){this.sourceSubscribed||(this.sourceSubscribed=!0,this.unsubscribe(),this.source.subscribe(this.parent))},e}(g.a);function le(){return function(e){return e.lift(new de)}}var de=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new pe(e))},e}(),pe=function(t){function e(e){return t.call(this,e)||this}return c.__extends(e,t),e.prototype._next=function(e){e.observe(this.destination)},e}(g.a);function fe(t,n){return function(e){return e.lift(new he(t,n))}}var he=function(){function e(e,t){this.keySelector=e,this.flushes=t}return e.prototype.call=function(e,t){return t.subscribe(new ge(e,this.keySelector,this.flushes))},e}(),ge=function(i){function e(e,t,n){var r=i.call(this,e)||this;return r.keySelector=t,r.values=new Set,n&&r.add(Object(f.a)(r,n)),r}return c.__extends(e,i),e.prototype.notifyNext=function(e,t,n,r,i){this.values.clear()},e.prototype.notifyError=function(e,t){this._error(e)},e.prototype._next=function(e){this.keySelector?this._useKeySelector(e):this._finalizeNext(e,e)},e.prototype._useKeySelector=function(e){var t,n=this.destination;try{t=this.keySelector(e)}catch(e){return void n.error(e)}this._finalizeNext(t,e)},e.prototype._finalizeNext=function(e,t){var n=this.values;n.has(e)||(n.add(e),this.destination.next(t))},e}(r.a),me=n("ad02");function ve(n,r){return Object(me.distinctUntilChanged)(function(e,t){return r?r(e[n],t[n]):e[n]===t[n]})}var ye=n("b7mW"),be=n("VnD/"),Ee=n("tNVB"),_e=n("t9fZ");function Ae(n,t){if(n<0)throw new ye.a;var r=2<=arguments.length;return function(e){return e.pipe(Object(be.a)(function(e,t){return t===n}),Object(_e.a)(1),r?Object(ne.a)(t):Object(Ee.a)(function(){return new ye.a}))}}var Ce=n("IUTb"),Te=n("PU8L"),Oe=n("G5J1");function ke(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return function(e){var t=r[r.length-1];Object(E.a)(t)?r.pop():t=null;var n=r.length;return 1!==n||t?0<n?Object(K.a)(e,Object(Ce.a)(r,t)):Object(K.a)(e,Object(Oe.b)(t)):Object(K.a)(e,Object(Te.a)(r[0]))}}function Se(t,n){return function(e){return e.lift(new we(t,n,e))}}var we=function(){function e(e,t,n){this.predicate=e,this.thisArg=t,this.source=n}return e.prototype.call=function(e,t){return t.subscribe(new Ie(e,this.predicate,this.thisArg,this.source))},e}(),Ie=function(o){function e(e,t,n,r){var i=o.call(this,e)||this;return i.predicate=t,i.thisArg=n,i.source=r,i.index=0,i.thisArg=n||i,i}return c.__extends(e,o),e.prototype.notifyComplete=function(e){this.destination.next(e),this.destination.complete()},e.prototype._next=function(e){var t=!1;try{t=this.predicate.call(this.thisArg,e,this.index++,this.source)}catch(e){return void this.destination.error(e)}t||this.notifyComplete(!1)},e.prototype._complete=function(){this.notifyComplete(!0)},e}(g.a);function xe(){return function(e){return e.lift(new Le)}}var Le=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new Re(e))},e}(),Re=function(n){function e(e){var t=n.call(this,e)||this;return t.hasCompleted=!1,t.hasSubscription=!1,t}return c.__extends(e,n),e.prototype._next=function(e){this.hasSubscription||(this.hasSubscription=!0,this.add(Object(f.a)(this,e)))},e.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete()},e.prototype.notifyComplete=function(e){this.remove(e),this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},e}(r.a),Ne=n("67Y/");function De(t,i){return i?function(e){return e.pipe(De(function(n,r){return Object(z.a)(t(n,r)).pipe(Object(Ne.map)(function(e,t){return i(n,e,r,t)}))}))}:function(e){return e.lift(new Me(t))}}var Me=function(){function e(e){this.project=e}return e.prototype.call=function(e,t){return t.subscribe(new Pe(e,this.project))},e}(),Pe=function(r){function e(e,t){var n=r.call(this,e)||this;return n.project=t,n.hasSubscription=!1,n.hasCompleted=!1,n.index=0,n}return c.__extends(e,r),e.prototype._next=function(e){this.hasSubscription||this.tryNext(e)},e.prototype.tryNext=function(e){var t=this.index++,n=this.destination;try{var r=this.project(e,t);this.hasSubscription=!0,this.add(Object(f.a)(this,r,e,t))}catch(e){n.error(e)}},e.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete()},e.prototype.notifyNext=function(e,t,n,r,i){this.destination.next(t)},e.prototype.notifyError=function(e){this.destination.error(e)},e.prototype.notifyComplete=function(e){this.remove(e),this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},e}(r.a);function je(t,n,r){return void 0===n&&(n=Number.POSITIVE_INFINITY),void 0===r&&(r=void 0),n=(n||0)<1?Number.POSITIVE_INFINITY:n,function(e){return e.lift(new Fe(t,n,r))}}var Fe=function(){function e(e,t,n){this.project=e,this.concurrent=t,this.scheduler=n}return e.prototype.call=function(e,t){return t.subscribe(new Be(e,this.project,this.concurrent,this.scheduler))},e}(),Be=function(o){function a(e,t,n,r){var i=o.call(this,e)||this;return i.project=t,i.concurrent=n,i.scheduler=r,i.index=0,i.active=0,i.hasCompleted=!1,n<Number.POSITIVE_INFINITY&&(i.buffer=[]),i}return c.__extends(a,o),a.dispatch=function(e){var t=e.subscriber,n=e.result,r=e.value,i=e.index;t.subscribeToProjection(n,r,i)},a.prototype._next=function(e){var t,n,r,i=this.destination;i.closed?this._complete():(t=this.index++,this.active<this.concurrent?(i.next(e),(n=Object(d.a)(this.project)(e,t))===p.a?i.error(p.a.e):this.scheduler?(r={subscriber:this,result:n,value:e,index:t},this.add(this.scheduler.schedule(a.dispatch,0,r))):this.subscribeToProjection(n,e,t)):this.buffer.push(e))},a.prototype.subscribeToProjection=function(e,t,n){this.active++,this.add(Object(f.a)(this,e,t,n))},a.prototype._complete=function(){this.hasCompleted=!0,this.hasCompleted&&0===this.active&&this.destination.complete()},a.prototype.notifyNext=function(e,t,n,r,i){this._next(t)},a.prototype.notifyComplete=function(e){var t=this.buffer;this.remove(e),this.active--,t&&0<t.length&&this._next(t.shift()),this.hasCompleted&&0===this.active&&this.destination.complete()},a}(r.a),Ue=n("2WpN");function He(t,n){if("function"!=typeof t)throw new TypeError("predicate is not a function");return function(e){return e.lift(new ze(t,e,!1,n))}}var ze=function(){function e(e,t,n,r){this.predicate=e,this.source=t,this.yieldIndex=n,this.thisArg=r}return e.prototype.call=function(e,t){return t.subscribe(new Ve(e,this.predicate,this.source,this.yieldIndex,this.thisArg))},e}(),Ve=function(a){function e(e,t,n,r,i){var o=a.call(this,e)||this;return o.predicate=t,o.source=n,o.yieldIndex=r,o.thisArg=i,o.index=0,o}return c.__extends(e,a),e.prototype.notifyComplete=function(e){var t=this.destination;t.next(e),t.complete()},e.prototype._next=function(e){var t=this,n=t.predicate,r=t.thisArg,i=this.index++;try{n.call(r||this,e,i,this.source)&&this.notifyComplete(this.yieldIndex?i:e)}catch(e){this.destination.error(e)}},e.prototype._complete=function(){this.notifyComplete(this.yieldIndex?-1:void 0)},e}(g.a);function Ke(t,n){return function(e){return e.lift(new ze(t,e,!0,n))}}var Ge=n("P6uZ"),We=n("IxPp");function Ye(){return function(e){return e.lift(new qe)}}var qe=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new Ze(e))},e}(),Ze=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return c.__extends(t,e),t.prototype._next=function(e){},t}(g.a);function Xe(){return function(e){return e.lift(new Qe)}}var Qe=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new Je(e))},e}(),Je=function(t){function e(e){return t.call(this,e)||this}return c.__extends(e,t),e.prototype.notifyComplete=function(e){var t=this.destination;t.next(e),t.complete()},e.prototype._next=function(e){this.notifyComplete(!1)},e.prototype._complete=function(){this.notifyComplete(!0)},e}(g.a),$e=n("3fWJ");function et(t){return function(e){return 0===t?Object(Oe.b)():e.lift(new tt(t))}}var tt=function(){function e(e){if(this.total=e,this.total<0)throw new ye.a}return e.prototype.call=function(e,t){return t.subscribe(new nt(e,this.total))},e}(),nt=function(r){function e(e,t){var n=r.call(this,e)||this;return n.total=t,n.ring=new Array,n.count=0,n}return c.__extends(e,r),e.prototype._next=function(e){var t=this.ring,n=this.total,r=this.count++;t.length<n?t.push(e):t[r%n]=e},e.prototype._complete=function(){var e=this.destination,t=this.count;if(0<t)for(var n=this.count>=this.total?this.total:this.count,r=this.ring,i=0;i<n;i++){var o=t++%n;e.next(r[o])}e.complete()},e}(g.a),rt=n("mChF");function it(r,e){var t=2<=arguments.length;return function(n){return n.pipe(r?Object(be.a)(function(e,t){return r(e,t,n)}):rt.a,et(1),t?Object(ne.a)(e):Object(Ee.a)(function(){return new $e.a}))}}var ot=n("aGNc"),at=n("60iU");function st(){return function(e){return e.lift(new ct)}}var ct=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new ut(e))},e}(),ut=function(t){function e(e){return t.call(this,e)||this}return c.__extends(e,t),e.prototype._next=function(e){this.destination.next(at.a.createNext(e))},e.prototype._error=function(e){var t=this.destination;t.next(at.a.createError(e)),t.complete()},e.prototype._complete=function(){var e=this.destination;e.next(at.a.createComplete()),e.complete()},e}(g.a);function lt(t,n){var r=2<=arguments.length?!0:!1;return function(e){return e.lift(new dt(t,n,r))}}var dt=function(){function e(e,t,n){void 0===n&&(n=!1),this.accumulator=e,this.seed=t,this.hasSeed=n}return e.prototype.call=function(e,t){return t.subscribe(new pt(e,this.accumulator,this.seed,this.hasSeed))},e}(),pt=function(o){function e(e,t,n,r){var i=o.call(this,e)||this;return i.accumulator=t,i._seed=n,i.hasSeed=r,i.index=0,i}return c.__extends(e,o),Object.defineProperty(e.prototype,"seed",{get:function(){return this._seed},set:function(e){this.hasSeed=!0,this._seed=e},enumerable:!0,configurable:!0}),e.prototype._next=function(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)},e.prototype._tryNext=function(e){var t,n=this.index++;try{t=this.accumulator(this.seed,e,n)}catch(e){this.destination.error(e)}this.seed=t,this.destination.next(t)},e}(g.a),ft=n("y3By");function ht(r,t){return 2<=arguments.length?function(e){return Object(ft.a)(lt(r,t),et(1),Object(ne.a)(t))(e)}:function(e){return Object(ft.a)(lt(function(e,t,n){return r(e,t,n+1)}),et(1))(e)}}function gt(n){return ht("function"==typeof n?function(e,t){return 0<n(e,t)?e:t}:function(e,t){return t<e?e:t})}var mt=n("p0ib");function vt(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){return e.lift.call(mt.a.apply(void 0,[e].concat(t)))}}var yt=n("Zn8D");function bt(e,t,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),"function"==typeof t?Object(q.a)(function(){return e},t,n):("number"==typeof t&&(n=t),Object(q.a)(function(){return e},n))}function Et(t,n,r){return void 0===r&&(r=Number.POSITIVE_INFINITY),function(e){return e.lift(new _t(t,n,r))}}var _t=function(){function e(e,t,n){this.accumulator=e,this.seed=t,this.concurrent=n}return e.prototype.call=function(e,t){return t.subscribe(new At(e,this.accumulator,this.seed,this.concurrent))},e}(),At=function(o){function e(e,t,n,r){var i=o.call(this,e)||this;return i.accumulator=t,i.acc=n,i.concurrent=r,i.hasValue=!1,i.hasCompleted=!1,i.buffer=[],i.active=0,i.index=0,i}return c.__extends(e,o),e.prototype._next=function(e){var t,n,r;this.active<this.concurrent?(t=this.index++,n=Object(d.a)(this.accumulator)(this.acc,e),r=this.destination,n===p.a?r.error(p.a.e):(this.active++,this._innerSub(n,e,t))):this.buffer.push(e)},e.prototype._innerSub=function(e,t,n){this.add(Object(f.a)(this,e,t,n))},e.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&(!1===this.hasValue&&this.destination.next(this.acc),this.destination.complete())},e.prototype.notifyNext=function(e,t,n,r,i){var o=this.destination;this.acc=t,this.hasValue=!0,o.next(t)},e.prototype.notifyComplete=function(e){var t=this.buffer;this.remove(e),this.active--,0<t.length?this._next(t.shift()):0===this.active&&this.hasCompleted&&(!1===this.hasValue&&this.destination.next(this.acc),this.destination.complete())},e}(r.a);function Ct(n){return ht("function"==typeof n?function(e,t){return n(e,t)<0?e:t}:function(e,t){return e<t?e:t})}var Tt=n("xlPZ"),Ot=n("mZXl");function kt(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return 1===t.length&&Object(H.a)(t[0])&&(t=t[0]),function(e){return e.lift(new St(t))}}var St=function(){function e(e){this.nextSources=e}return e.prototype.call=function(e,t){return t.subscribe(new wt(e,this.nextSources))},e}(),wt=function(r){function e(e,t){var n=r.call(this,e)||this;return n.destination=e,n.nextSources=t,n}return c.__extends(e,r),e.prototype.notifyError=function(e,t){this.subscribeToNextSource()},e.prototype.notifyComplete=function(e){this.subscribeToNextSource()},e.prototype._error=function(e){this.subscribeToNextSource()},e.prototype._complete=function(){this.subscribeToNextSource()},e.prototype.subscribeToNextSource=function(){var e=this.nextSources.shift();e?this.add(Object(f.a)(this,e)):this.destination.complete()},e}(r.a),It=n("qyHS");function xt(e,t){function n(){return!n.pred.apply(n.thisArg,arguments)}return n.pred=e,n.thisArg=t,n}function Lt(t,n){return function(e){return[Object(be.a)(t,n)(e),Object(be.a)(xt(t,n))(e)]}}function Rt(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t.length;if(0===n)throw new Error("list of properties cannot be empty.");return function(e){return Object(Ne.map)(Nt(t,n))(e)}}function Nt(i,o){return function(e){for(var t=e,n=0;n<o;n++){var r=t[i[n]];if(void 0===r)return;t=r}return t}}var Dt=n("K9Ia");function Mt(e){return e?Object(Tt.a)(function(){return new Dt.a},e):Object(Tt.a)(new Dt.a)}var Pt=n("3J/R"),jt=n("svcd");function Ft(){return function(e){return Object(Tt.a)(new jt.a)(e)}}var Bt=n("s4kO"),Ut=n("W0Ae");function Ht(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){return 1===t.length&&Object(H.a)(t[0])&&(t=t[0]),e.lift.call(Ut.a.apply(void 0,[e].concat(t)))}}function zt(t){return void 0===t&&(t=-1),function(e){return 0===t?Object(Oe.b)():t<0?e.lift(new Vt(-1,e)):e.lift(new Vt(t-1,e))}}var Vt=function(){function e(e,t){this.count=e,this.source=t}return e.prototype.call=function(e,t){return t.subscribe(new Kt(e,this.count,this.source))},e}(),Kt=function(i){function e(e,t,n){var r=i.call(this,e)||this;return r.count=t,r.source=n,r}return c.__extends(e,i),e.prototype.complete=function(){if(!this.isStopped){var e=this,t=e.source,n=e.count;if(0===n)return i.prototype.complete.call(this);-1<n&&(this.count=n-1),t.subscribe(this._unsubscribeAndRecycle())}},e}(g.a);function Gt(t){return function(e){return e.lift(new Wt(t))}}var Wt=function(){function e(e){this.notifier=e}return e.prototype.call=function(e,t){return t.subscribe(new Yt(e,this.notifier,t))},e}(),Yt=function(i){function e(e,t,n){var r=i.call(this,e)||this;return r.notifier=t,r.source=n,r.sourceIsBeingSubscribedTo=!0,r}return c.__extends(e,i),e.prototype.notifyNext=function(e,t,n,r,i){this.sourceIsBeingSubscribedTo=!0,this.source.subscribe(this)},e.prototype.notifyComplete=function(e){if(!1===this.sourceIsBeingSubscribedTo)return i.prototype.complete.call(this)},e.prototype.complete=function(){if(this.sourceIsBeingSubscribedTo=!1,!this.isStopped){if(this.retries||this.subscribeToRetries(),!this.retriesSubscription||this.retriesSubscription.closed)return i.prototype.complete.call(this);this._unsubscribeAndRecycle(),this.notifications.next()}},e.prototype._unsubscribe=function(){var e=this,t=e.notifications,n=e.retriesSubscription;t&&(t.unsubscribe(),this.notifications=null),n&&(n.unsubscribe(),this.retriesSubscription=null),this.retries=null},e.prototype._unsubscribeAndRecycle=function(){var e=this._unsubscribe;return this._unsubscribe=null,i.prototype._unsubscribeAndRecycle.call(this),this._unsubscribe=e,this},e.prototype.subscribeToRetries=function(){this.notifications=new Dt.a;var e=Object(d.a)(this.notifier)(this.notifications);if(e===p.a)return i.prototype.complete.call(this);this.retries=e,this.retriesSubscription=Object(f.a)(this,e)},e}(r.a),qt=n("5tAl");function Zt(t){return function(e){return e.lift(new Xt(t,e))}}var Xt=function(){function e(e,t){this.notifier=e,this.source=t}return e.prototype.call=function(e,t){return t.subscribe(new Qt(e,this.notifier,this.source))},e}(),Qt=function(i){function e(e,t,n){var r=i.call(this,e)||this;return r.notifier=t,r.source=n,r}return c.__extends(e,i),e.prototype.error=function(e){if(!this.isStopped){var t=this.errors,n=this.retries,r=this.retriesSubscription;if(n)this.errors=null,this.retriesSubscription=null;else{if(t=new Dt.a,(n=Object(d.a)(this.notifier)(t))===p.a)return i.prototype.error.call(this,p.a.e);r=Object(f.a)(this,n)}this._unsubscribeAndRecycle(),this.errors=t,this.retries=n,this.retriesSubscription=r,t.next(e)}},e.prototype._unsubscribe=function(){var e=this,t=e.errors,n=e.retriesSubscription;t&&(t.unsubscribe(),this.errors=null),n&&(n.unsubscribe(),this.retriesSubscription=null),this.retries=null},e.prototype.notifyNext=function(e,t,n,r,i){var o=this._unsubscribe;this._unsubscribe=null,this._unsubscribeAndRecycle(),this._unsubscribe=o,this.source.subscribe(this)},e}(r.a),Jt=n("yGWI");function $t(t){return function(e){return e.lift(new en(t))}}var en=function(){function e(e){this.notifier=e}return e.prototype.call=function(e,t){var n=new tn(e),r=t.subscribe(n);return r.add(Object(f.a)(n,this.notifier)),r},e}(),tn=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.hasValue=!1,e}return c.__extends(e,t),e.prototype._next=function(e){this.value=e,this.hasValue=!0},e.prototype.notifyNext=function(e,t,n,r,i){this.emitValue()},e.prototype.notifyComplete=function(){this.emitValue()},e.prototype.emitValue=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.value))},e}(r.a);function nn(t,n){return void 0===n&&(n=s.a),function(e){return e.lift(new rn(t,n))}}var rn=function(){function e(e,t){this.period=e,this.scheduler=t}return e.prototype.call=function(e,t){return t.subscribe(new on(e,this.period,this.scheduler))},e}(),on=function(i){function e(e,t,n){var r=i.call(this,e)||this;return r.period=t,r.scheduler=n,r.hasValue=!1,r.add(n.schedule(an,t,{subscriber:r,period:t})),r}return c.__extends(e,i),e.prototype._next=function(e){this.lastValue=e,this.hasValue=!0},e.prototype.notifyNext=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.lastValue))},e}(g.a);function an(e){var t=e.subscriber,n=e.period;t.notifyNext(),this.schedule(e,n)}function sn(t,n){return function(e){return e.lift(new cn(t,n))}}var cn=function(){function e(e,t){this.compareTo=e,this.comparor=t}return e.prototype.call=function(e,t){return t.subscribe(new un(e,this.compareTo,this.comparor))},e}(),un=function(i){function e(e,t,n){var r=i.call(this,e)||this;return r.compareTo=t,r.comparor=n,r._a=[],r._b=[],r._oneComplete=!1,r.add(t.subscribe(new ln(e,r))),r}return c.__extends(e,i),e.prototype._next=function(e){this._oneComplete&&0===this._b.length?this.emit(!1):(this._a.push(e),this.checkValues())},e.prototype._complete=function(){this._oneComplete?this.emit(0===this._a.length&&0===this._b.length):this._oneComplete=!0},e.prototype.checkValues=function(){for(var e=this,t=e._a,n=e._b,r=e.comparor;0<t.length&&0<n.length;){var i=t.shift(),o=n.shift(),a=!1;r?(a=Object(d.a)(r)(i,o))===p.a&&this.destination.error(p.a.e):a=i===o,a||this.emit(!1)}},e.prototype.emit=function(e){var t=this.destination;t.next(e),t.complete()},e.prototype.nextB=function(e){this._oneComplete&&0===this._a.length?this.emit(!1):(this._b.push(e),this.checkValues())},e}(g.a),ln=function(r){function e(e,t){var n=r.call(this,e)||this;return n.parent=t,n}return c.__extends(e,r),e.prototype._next=function(e){this.parent.nextB(e)},e.prototype._error=function(e){this.parent.error(e)},e.prototype._complete=function(){this.parent._complete()},e}(g.a),dn=n("S1nX"),pn=n("klSw");function fn(t){return function(e){return e.lift(new hn(t,e))}}var hn=function(){function e(e,t){this.predicate=e,this.source=t}return e.prototype.call=function(e,t){return t.subscribe(new gn(e,this.predicate,this.source))},e}(),gn=function(i){function e(e,t,n){var r=i.call(this,e)||this;return r.predicate=t,r.source=n,r.seenValue=!1,r.index=0,r}return c.__extends(e,i),e.prototype.applySingleValue=function(e){this.seenValue?this.destination.error("Sequence contains more than one element"):(this.seenValue=!0,this.singleValue=e)},e.prototype._next=function(e){var t=this.index++;this.predicate?this.tryNext(e,t):this.applySingleValue(e)},e.prototype.tryNext=function(e,t){try{this.predicate(e,t,this.source)&&this.applySingleValue(e)}catch(e){this.destination.error(e)}},e.prototype._complete=function(){var e=this.destination;0<this.index?(e.next(this.seenValue?this.singleValue:void 0),e.complete()):e.error(new $e.a)},e}(g.a),mn=n("0mNj");function vn(t){return function(e){return e.lift(new yn(t))}}var yn=function(){function e(e){if(this._skipCount=e,this._skipCount<0)throw new ye.a}return e.prototype.call=function(e,t){return 0===this._skipCount?t.subscribe(new g.a(e)):t.subscribe(new bn(e,this._skipCount))},e}(),bn=function(r){function e(e,t){var n=r.call(this,e)||this;return n._skipCount=t,n._count=0,n._ring=new Array(t),n}return c.__extends(e,r),e.prototype._next=function(e){var t,n,r,i=this._skipCount,o=this._count++;o<i?this._ring[o]=e:(t=o%i,r=(n=this._ring)[t],n[t]=e,this.destination.next(r))},e}(g.a);function En(t){return function(e){return e.lift(new _n(t))}}var _n=function(){function e(e){this.notifier=e}return e.prototype.call=function(e,t){return t.subscribe(new An(e,this.notifier))},e}(),An=function(r){function e(e,t){var n=r.call(this,e)||this;return n.hasValue=!1,n.add(n.innerSubscription=Object(f.a)(n,t)),n}return c.__extends(e,r),e.prototype._next=function(e){this.hasValue&&r.prototype._next.call(this,e)},e.prototype.notifyNext=function(e,t,n,r,i){this.hasValue=!0,this.innerSubscription&&this.innerSubscription.unsubscribe()},e.prototype.notifyComplete=function(){},e}(r.a);function Cn(t){return function(e){return e.lift(new Tn(t))}}var Tn=function(){function e(e){this.predicate=e}return e.prototype.call=function(e,t){return t.subscribe(new On(e,this.predicate))},e}(),On=function(r){function e(e,t){var n=r.call(this,e)||this;return n.predicate=t,n.skipping=!0,n.index=0,n}return c.__extends(e,r),e.prototype._next=function(e){var t=this.destination;this.skipping&&this.tryCallPredicate(e),this.skipping||t.next(e)},e.prototype.tryCallPredicate=function(e){try{var t=this.predicate(e,this.index++);this.skipping=Boolean(t)}catch(e){this.destination.error(e)}},e}(g.a),kn=n("p0Sj"),Sn=n("KQya"),wn=n("/21U"),In=function(i){function r(e,t,n){void 0===t&&(t=0),void 0===n&&(n=Sn.a);var r=i.call(this)||this;return r.source=e,r.delayTime=t,r.scheduler=n,(!Object(wn.a)(t)||t<0)&&(r.delayTime=0),n&&"function"==typeof n.schedule||(r.scheduler=Sn.a),r}return c.__extends(r,i),r.create=function(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=Sn.a),new r(e,t,n)},r.dispatch=function(e){var t=e.source,n=e.subscriber;return this.add(t.subscribe(n))},r.prototype._subscribe=function(e){var t=this.delayTime,n=this.source;return this.scheduler.schedule(r.dispatch,t,{source:n,subscriber:e})},r}(ie.a);function xn(t,n){return void 0===n&&(n=0),function(e){return e.lift(new Ln(t,n))}}var Ln=function(){function e(e,t){this.scheduler=e,this.delay=t}return e.prototype.call=function(e,t){return new In(t,this.delay,this.scheduler).subscribe(e)},e}(),Rn=n("15JJ");function Nn(){return Object(Rn.a)(rt.a)}function Dn(e,t){return t?Object(Rn.a)(function(){return e},t):Object(Rn.a)(function(){return e})}var Mn=n("ny24");function Pn(t){return function(e){return e.lift(new jn(t))}}var jn=function(){function e(e){this.predicate=e}return e.prototype.call=function(e,t){return t.subscribe(new Fn(e,this.predicate))},e}(),Fn=function(r){function e(e,t){var n=r.call(this,e)||this;return n.predicate=t,n.index=0,n}return c.__extends(e,r),e.prototype._next=function(e){var t,n=this.destination;try{t=this.predicate(e,this.index++)}catch(e){return void n.error(e)}this.nextOrComplete(e,t)},e.prototype.nextOrComplete=function(e,t){var n=this.destination;Boolean(t)?n.next(e):n.complete()},e}(g.a),Bn=n("xMyE"),Un=n("+gEr"),Hn=n("AJqF"),zn=n("lYZG");function Vn(r){return void 0===r&&(r=s.a),function(e){return Object(zn.a)(function(){return e.pipe(lt(function(e,t){var n=e.current;return{value:t,current:r.now(),last:n}},{current:r.now(),value:void 0,last:void 0}),Object(Ne.map)(function(e){var t=e.current,n=e.last,r=e.value;return new Kn(r,t-n)}))})}}var Kn=function(){function e(e,t){this.value=e,this.interval=t}return e}(),Gn=n("3U0i"),Wn=n("VGuC");function Yn(r,i,o){return void 0===o&&(o=s.a),function(e){var t=Object(Wn.a)(r),n=t?+r-o.now():Math.abs(r);return e.lift(new qn(n,t,i,o))}}var qn=function(){function e(e,t,n,r){this.waitFor=e,this.absoluteTimeout=t,this.withObservable=n,this.scheduler=r}return e.prototype.call=function(e,t){return t.subscribe(new Zn(e,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))},e}(),Zn=function(a){function t(e,t,n,r,i){var o=a.call(this,e)||this;return o.absoluteTimeout=t,o.waitFor=n,o.withObservable=r,o.scheduler=i,o.action=null,o.scheduleTimeout(),o}return c.__extends(t,a),t.dispatchTimeout=function(e){var t=e.withObservable;e._unsubscribeAndRecycle(),e.add(Object(f.a)(e,t))},t.prototype.scheduleTimeout=function(){var e=this.action;e?this.action=e.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(t.dispatchTimeout,this.waitFor,this))},t.prototype._next=function(e){this.absoluteTimeout||this.scheduleTimeout(),a.prototype._next.call(this,e)},t.prototype._unsubscribe=function(){this.action=null,this.scheduler=null,this.withObservable=null},t}(r.a),Xn=n("XlPw");function Qn(e,t){return void 0===t&&(t=s.a),Yn(e,Object(Xn.a)(new Gn.a),t)}function Jn(t){return void 0===t&&(t=s.a),Object(Ne.map)(function(e){return new $n(e,t.now())})}var $n=function(){function e(e,t){this.value=e,this.timestamp=t}return e}();function er(e,t,n){return 0===n?[t]:(e.push(t),e)}function tr(){return ht(er,[])}function nr(t){return function(e){return e.lift(new rr(t))}}var rr=function(){function e(e){this.windowBoundaries=e}return e.prototype.call=function(e,t){var n=new ir(e),r=t.subscribe(n);return r.closed||n.add(Object(f.a)(n,this.windowBoundaries)),r},e}(),ir=function(n){function e(e){var t=n.call(this,e)||this;return t.window=new Dt.a,e.next(t.window),t}return c.__extends(e,n),e.prototype.notifyNext=function(e,t,n,r,i){this.openWindow()},e.prototype.notifyError=function(e,t){this._error(e)},e.prototype.notifyComplete=function(e){this._complete()},e.prototype._next=function(e){this.window.next(e)},e.prototype._error=function(e){this.window.error(e),this.destination.error(e)},e.prototype._complete=function(){this.window.complete(),this.destination.complete()},e.prototype._unsubscribe=function(){this.window=null},e.prototype.openWindow=function(){var e=this.window;e&&e.complete();var t=this.destination,n=this.window=new Dt.a;t.next(n)},e}(r.a);function or(t,n){return void 0===n&&(n=0),function(e){return e.lift(new ar(t,n))}}var ar=function(){function e(e,t){this.windowSize=e,this.startWindowEvery=t}return e.prototype.call=function(e,t){return t.subscribe(new sr(e,this.windowSize,this.startWindowEvery))},e}(),sr=function(i){function e(e,t,n){var r=i.call(this,e)||this;return r.destination=e,r.windowSize=t,r.startWindowEvery=n,r.windows=[new Dt.a],r.count=0,e.next(r.windows[0]),r}return c.__extends(e,i),e.prototype._next=function(e){for(var t=0<this.startWindowEvery?this.startWindowEvery:this.windowSize,n=this.destination,r=this.windowSize,i=this.windows,o=i.length,a=0;a<o&&!this.closed;a++)i[a].next(e);var s,c=this.count-r+1;0<=c&&c%t==0&&!this.closed&&i.shift().complete(),++this.count%t!=0||this.closed||(s=new Dt.a,i.push(s),n.next(s))},e.prototype._error=function(e){var t=this.windows;if(t)for(;0<t.length&&!this.closed;)t.shift().error(e);this.destination.error(e)},e.prototype._complete=function(){var e=this.windows;if(e)for(;0<e.length&&!this.closed;)e.shift().complete();this.destination.complete()},e.prototype._unsubscribe=function(){this.count=0,this.windows=null},e}(g.a);function cr(t){var n=s.a,r=null,i=Number.POSITIVE_INFINITY;return Object(E.a)(arguments[3])&&(n=arguments[3]),Object(E.a)(arguments[2])?n=arguments[2]:Object(wn.a)(arguments[2])&&(i=arguments[2]),Object(E.a)(arguments[1])?n=arguments[1]:Object(wn.a)(arguments[1])&&(r=arguments[1]),function(e){return e.lift(new ur(t,r,i,n))}}var ur=function(){function e(e,t,n,r){this.windowTimeSpan=e,this.windowCreationInterval=t,this.maxWindowSize=n,this.scheduler=r}return e.prototype.call=function(e,t){return t.subscribe(new dr(e,this.windowTimeSpan,this.windowCreationInterval,this.maxWindowSize,this.scheduler))},e}(),lr=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._numberOfNextedValues=0,e}return c.__extends(e,t),e.prototype.next=function(e){this._numberOfNextedValues++,t.prototype.next.call(this,e)},Object.defineProperty(e.prototype,"numberOfNextedValues",{get:function(){return this._numberOfNextedValues},enumerable:!0,configurable:!0}),e}(Dt.a),dr=function(l){function e(e,t,n,r,i){var o=l.call(this,e)||this;o.destination=e,o.windowTimeSpan=t,o.windowCreationInterval=n,o.maxWindowSize=r,o.scheduler=i,o.windows=[];var a,s,c,u=o.openWindow();return null!==n&&0<=n?(a={subscriber:o,window:u,context:null},s={windowTimeSpan:t,windowCreationInterval:n,subscriber:o,scheduler:i},o.add(i.schedule(hr,t,a)),o.add(i.schedule(fr,n,s))):(c={subscriber:o,window:u,windowTimeSpan:t},o.add(i.schedule(pr,t,c))),o}return c.__extends(e,l),e.prototype._next=function(e){for(var t=this.windows,n=t.length,r=0;r<n;r++){var i=t[r];i.closed||(i.next(e),i.numberOfNextedValues>=this.maxWindowSize&&this.closeWindow(i))}},e.prototype._error=function(e){for(var t=this.windows;0<t.length;)t.shift().error(e);this.destination.error(e)},e.prototype._complete=function(){for(var e=this.windows;0<e.length;){var t=e.shift();t.closed||t.complete()}this.destination.complete()},e.prototype.openWindow=function(){var e=new lr;return this.windows.push(e),this.destination.next(e),e},e.prototype.closeWindow=function(e){e.complete();var t=this.windows;t.splice(t.indexOf(e),1)},e}(g.a);function pr(e){var t=e.subscriber,n=e.windowTimeSpan,r=e.window;r&&t.closeWindow(r),e.window=t.openWindow(),this.schedule(e,n)}function fr(e){var t=e.windowTimeSpan,n=e.subscriber,r=e.scheduler,i=e.windowCreationInterval,o=n.openWindow(),a=this,s={action:a,subscription:null},c={subscriber:n,window:o,context:s};s.subscription=r.schedule(hr,t,c),a.add(s.subscription),a.schedule(e,i)}function hr(e){var t=e.subscriber,n=e.window,r=e.context;r&&r.action&&r.subscription&&r.action.remove(r.subscription),t.closeWindow(n)}function gr(t,n){return function(e){return e.lift(new mr(t,n))}}var mr=function(){function e(e,t){this.openings=e,this.closingSelector=t}return e.prototype.call=function(e,t){return t.subscribe(new vr(e,this.openings,this.closingSelector))},e}(),vr=function(o){function e(e,t,n){var r=o.call(this,e)||this;return r.openings=t,r.closingSelector=n,r.contexts=[],r.add(r.openSubscription=Object(f.a)(r,t,t)),r}return c.__extends(e,o),e.prototype._next=function(e){var t=this.contexts;if(t)for(var n=t.length,r=0;r<n;r++)t[r].window.next(e)},e.prototype._error=function(e){var t=this.contexts;if(this.contexts=null,t)for(var n=t.length,r=-1;++r<n;){var i=t[r];i.window.error(e),i.subscription.unsubscribe()}o.prototype._error.call(this,e)},e.prototype._complete=function(){var e=this.contexts;if(this.contexts=null,e)for(var t=e.length,n=-1;++n<t;){var r=e[n];r.window.complete(),r.subscription.unsubscribe()}o.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var e=this.contexts;if(this.contexts=null,e)for(var t=e.length,n=-1;++n<t;){var r=e[n];r.window.unsubscribe(),r.subscription.unsubscribe()}},e.prototype.notifyNext=function(e,t,n,r,i){if(e===this.openings){var o=this.closingSelector,a=Object(d.a)(o)(t);if(a===p.a)return this.error(p.a.e);var s=new Dt.a,c=new I.a,u={window:s,subscription:c};this.contexts.push(u);var l=Object(f.a)(this,a,u);l.closed?this.closeWindow(this.contexts.length-1):(l.context=u,c.add(l)),this.destination.next(s)}else this.closeWindow(this.contexts.indexOf(e))},e.prototype.notifyError=function(e){this.error(e)},e.prototype.notifyComplete=function(e){e!==this.openSubscription&&this.closeWindow(this.contexts.indexOf(e.context))},e.prototype.closeWindow=function(e){var t,n,r,i;-1!==e&&(r=(n=(t=this.contexts)[e]).window,i=n.subscription,t.splice(e,1),r.complete(),i.unsubscribe())},e}(r.a);function yr(t){return function(e){return e.lift(new br(t))}}var br=function(){function e(e){this.closingSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new Er(e,this.closingSelector))},e}(),Er=function(r){function e(e,t){var n=r.call(this,e)||this;return n.destination=e,n.closingSelector=t,n.openWindow(),n}return c.__extends(e,r),e.prototype.notifyNext=function(e,t,n,r,i){this.openWindow(i)},e.prototype.notifyError=function(e,t){this._error(e)},e.prototype.notifyComplete=function(e){this.openWindow(e)},e.prototype._next=function(e){this.window.next(e)},e.prototype._error=function(e){this.window.error(e),this.destination.error(e),this.unsubscribeClosingNotification()},e.prototype._complete=function(){this.window.complete(),this.destination.complete(),this.unsubscribeClosingNotification()},e.prototype.unsubscribeClosingNotification=function(){this.closingNotification&&this.closingNotification.unsubscribe()},e.prototype.openWindow=function(e){void 0===e&&(e=null),e&&(this.remove(e),e.unsubscribe());var t=this.window;t&&t.complete();var n=this.window=new Dt.a;this.destination.next(n);var r,i=Object(d.a)(this.closingSelector)();i===p.a?(r=p.a.e,this.destination.error(r),this.window.error(r)):this.add(this.closingNotification=Object(f.a)(this,i))},e}(r.a);function _r(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return function(e){var t;"function"==typeof n[n.length-1]&&(t=n.pop());return e.lift(new Ar(n,t))}}var Ar=function(){function e(e,t){this.observables=e,this.project=t}return e.prototype.call=function(e,t){return t.subscribe(new Cr(e,this.observables,this.project))},e}(),Cr=function(s){function e(e,t,n){var r=s.call(this,e)||this;r.observables=t,r.project=n,r.toRespond=[];var i=t.length;r.values=new Array(i);for(var o=0;o<i;o++)r.toRespond.push(o);for(o=0;o<i;o++){var a=t[o];r.add(Object(f.a)(r,a,a,o))}return r}return c.__extends(e,s),e.prototype.notifyNext=function(e,t,n,r,i){this.values[n]=t;var o,a=this.toRespond;0<a.length&&(-1!==(o=a.indexOf(n))&&a.splice(o,1))},e.prototype.notifyComplete=function(){},e.prototype._next=function(e){var t;0===this.toRespond.length&&(t=[e].concat(this.values),this.project?this._tryProject(t):this.destination.next(t))},e.prototype._tryProject=function(e){var t;try{t=this.project.apply(this,e)}catch(e){return void this.destination.error(e)}this.destination.next(t)},e}(r.a),Tr=n("909l");function Or(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){return e.lift.call(Tr.b.apply(void 0,[e].concat(t)))}}function kr(t){return function(e){return e.lift(new Tr.a(t))}}n.d(t,"audit",function(){return i}),n.d(t,"auditTime",function(){return l}),n.d(t,"buffer",function(){return h.a}),n.d(t,"bufferCount",function(){return m}),n.d(t,"bufferTime",function(){return _}),n.d(t,"bufferToggle",function(){return x}),n.d(t,"bufferWhen",function(){return N}),n.d(t,"catchError",function(){return P}),n.d(t,"combineAll",function(){return U}),n.d(t,"combineLatest",function(){return V}),n.d(t,"concat",function(){return W}),n.d(t,"concatAll",function(){return Y.a}),n.d(t,"concatMap",function(){return Z}),n.d(t,"concatMapTo",function(){return X}),n.d(t,"count",function(){return Q}),n.d(t,"debounce",function(){return ee.a}),n.d(t,"debounceTime",function(){return te.a}),n.d(t,"defaultIfEmpty",function(){return ne.a}),n.d(t,"delay",function(){return re.a}),n.d(t,"delayWhen",function(){return oe}),n.d(t,"dematerialize",function(){return le}),n.d(t,"distinct",function(){return fe}),n.d(t,"distinctUntilChanged",function(){return me.distinctUntilChanged}),n.d(t,"distinctUntilKeyChanged",function(){return ve}),n.d(t,"elementAt",function(){return Ae}),n.d(t,"endWith",function(){return ke}),n.d(t,"every",function(){return Se}),n.d(t,"exhaust",function(){return xe}),n.d(t,"exhaustMap",function(){return De}),n.d(t,"expand",function(){return je}),n.d(t,"filter",function(){return be.a}),n.d(t,"finalize",function(){return Ue.a}),n.d(t,"find",function(){return He}),n.d(t,"findIndex",function(){return Ke}),n.d(t,"first",function(){return Ge.a}),n.d(t,"groupBy",function(){return We.b}),n.d(t,"ignoreElements",function(){return Ye}),n.d(t,"isEmpty",function(){return Xe}),n.d(t,"last",function(){return it}),n.d(t,"map",function(){return Ne.map}),n.d(t,"mapTo",function(){return ot.a}),n.d(t,"materialize",function(){return st}),n.d(t,"max",function(){return gt}),n.d(t,"merge",function(){return vt}),n.d(t,"mergeAll",function(){return yt.a}),n.d(t,"mergeMap",function(){return q.a}),n.d(t,"flatMap",function(){return q.a}),n.d(t,"mergeMapTo",function(){return bt}),n.d(t,"mergeScan",function(){return Et}),n.d(t,"min",function(){return Ct}),n.d(t,"multicast",function(){return Tt.a}),n.d(t,"observeOn",function(){return Ot.b}),n.d(t,"onErrorResumeNext",function(){return kt}),n.d(t,"pairwise",function(){return It.a}),n.d(t,"partition",function(){return Lt}),n.d(t,"pluck",function(){return Rt}),n.d(t,"publish",function(){return Mt}),n.d(t,"publishBehavior",function(){return Pt.a}),n.d(t,"publishLast",function(){return Ft}),n.d(t,"publishReplay",function(){return Bt.a}),n.d(t,"race",function(){return Ht}),n.d(t,"reduce",function(){return ht}),n.d(t,"repeat",function(){return zt}),n.d(t,"repeatWhen",function(){return Gt}),n.d(t,"retry",function(){return qt.a}),n.d(t,"retryWhen",function(){return Zt}),n.d(t,"refCount",function(){return Jt.a}),n.d(t,"sample",function(){return $t}),n.d(t,"sampleTime",function(){return nn}),n.d(t,"scan",function(){return lt}),n.d(t,"sequenceEqual",function(){return sn}),n.d(t,"share",function(){return dn.a}),n.d(t,"shareReplay",function(){return pn.a}),n.d(t,"single",function(){return fn}),n.d(t,"skip",function(){return mn.a}),n.d(t,"skipLast",function(){return vn}),n.d(t,"skipUntil",function(){return En}),n.d(t,"skipWhile",function(){return Cn}),n.d(t,"startWith",function(){return kn.a}),n.d(t,"subscribeOn",function(){return xn}),n.d(t,"switchAll",function(){return Nn}),n.d(t,"switchMap",function(){return Rn.a}),n.d(t,"switchMapTo",function(){return Dn}),n.d(t,"take",function(){return _e.a}),n.d(t,"takeLast",function(){return et}),n.d(t,"takeUntil",function(){return Mn.a}),n.d(t,"takeWhile",function(){return Pn}),n.d(t,"tap",function(){return Bn.a}),n.d(t,"throttle",function(){return Un.b}),n.d(t,"throttleTime",function(){return Hn.a}),n.d(t,"throwIfEmpty",function(){return Ee.a}),n.d(t,"timeInterval",function(){return Vn}),n.d(t,"timeout",function(){return Qn}),n.d(t,"timeoutWith",function(){return Yn}),n.d(t,"timestamp",function(){return Jn}),n.d(t,"toArray",function(){return tr}),n.d(t,"window",function(){return nr}),n.d(t,"windowCount",function(){return or}),n.d(t,"windowTime",function(){return cr}),n.d(t,"windowToggle",function(){return gr}),n.d(t,"windowWhen",function(){return yr}),n.d(t,"withLatestFrom",function(){return _r}),n.d(t,"zip",function(){return Or}),n.d(t,"zipAll",function(){return kr})},asDA:function(e,t){function n(e,t,n,r){var i=-1,o=null==e?0:e.length;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n}e.exports=n},"b+Vi":function(e,t,n){"use strict";n.d(t,"b",function(){return p}),n.d(t,"d",function(){return f}),n.d(t,"c",function(){return h}),n.d(t,"a",function(){return g});var r,i=n("7EGn"),o=n("EWn2"),a=n("skFV"),s=n("VIFs"),c=n("rAc3"),u=n("wCm6"),l=n("+mgp");function d(){var e=Object(s.getDomainConfig)("tea");if(e&&!0===e.open)return{appID:Object(i.default)(e,"config.appId.drive_sdk"),channelDomain:Object(i.default)(e,"config.channel_domain"),userID:window.User.id,tenantID:window.User.tenantId}}function p(){return{customRequest:l.i?u.a:void 0,spaceAPIHosts:Object(a.r)(),driveAPIHosts:Object(a.i)(),nearbyDriveAPIHosts:Object(a.j)(),isOnlineEnv:!(Object(a.D)()||Object(a.z)()),isLocalhost:Object(a.z)(),teaConfig:d(),source:"CCM"}}function f(){return r?(console.warn("Uploader already initialized."),r):r=new o.d({envConfigs:p()})}function h(){if(!r)throw new Error("Uploader not initialized.");return r}function g(e,t){if(e&&t){var n=e.get(t);if(n&&Object(c.a)(n))return o.a.NewSharedFolder;if(n&&Object(c.k)(n))return o.a.V3Folder}return o.a.Normal}},b2z7:function(e,t){var n=/\w*$/;function r(e){var t=new e.constructor(e.source,n.exec(e));return t.lastIndex=e.lastIndex,t}e.exports=r},b4mI:function(e,t){},b5gA:function(e,b,E){"use strict";(function(e){E.d(b,"a",function(){return y});var t=E("lwsE"),r=E.n(t),n=E("W8MJ"),i=E.n(n),o=E("cDf5"),c=E.n(o),u=E("HmyT"),a=E("xKvl"),s=E("4PSP"),l=(E("s4BX"),E("VIFs")),d=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":c()(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;0<=s;s--)(i=e[s])&&(a=(o<3?i(a):3<o?i(t,n,a):i(t,n))||a);return 3<o&&a&&Object.defineProperty(t,n,a),a},p=".link-noty-popup",f=".doc-popup-container",h=Object(l.getPublicDocs)("airtable-block"),g='<div class="link-noty-popup layout-row link-popup_hidden">\n    <div class="link-noty-content">\n      <span class="link-noty-text">'.concat(e("iframe.airtable-noty"),"</span>\n      <a href='").concat(h,'\' class="link-noty-btn" target="_blank" rel="noopener noreferrer">\n        ').concat(e("iframe.view-example"),"\n      </a>\n    </div>\n</div>\n"),m='<div class="link-noty-popup layout-row link-popup_hidden">\n    <div class="link-noty-content">\n      <span class="link-noty-text">'.concat(e("iframe.amap-noty"),"</span>\n    </div>\n</div>\n"),v=function(){function t(e){var n=this;r()(this,t),this.linkNotyClick=function(){n.clearTimer(),n.hide(),n.log()},this.onClickOutside=function(e){var t=e.target;0===Object(u.$)(t).parents(p).length&&(n.clearTimer(),n.hide())},this.onMouseEnter=function(e){n.clearTimer()},this.onMouseOut=function(e){n.hideAfterDuration(3e3)},this.template=e}return i()(t,[{key:"init",value:function(){this.container=Object(u.$)(f),this.popup=Object(u.$)(this.template),this.popup.appendTo(this.container),this.popup.delegate(".link-noty-btn","click",this.linkNotyClick)}},{key:"log",value:function(){}},{key:"destroy",value:function(){Object(u.$)(window).off("click",this.onClickOutside),this.popup.undelegate(".link-noty-btn","click",this.linkNotyClick),this.popup[0].removeEventListener("mouseenter",this.onMouseEnter),this.popup[0].removeEventListener("mouseleave",this.onMouseOut),this.clearTimer(),this.popup=null}},{key:"clearTimer",value:function(){this.timer&&(window.clearTimeout(this.timer),this.timer=void 0)}},{key:"hide",value:function(){this.popup.addClass("link-popup_hidden"),Object(u.$)(window).off("click",this.onClickOutside),this.popup[0].removeEventListener("mouseenter",this.onMouseEnter),this.popup[0].removeEventListener("mouseleave",this.onMouseOut)}},{key:"show",value:function(e){var t=this;this.popup.css({left:"-2000px"}),this.popup.removeClass("link-popup_hidden");var n=e.getBoundingClientRect(),r=this.popup[0].getBoundingClientRect(),i=this.container[0].getBoundingClientRect(),o=(n.width-r.width)/2,o=Math.max(0,o),a=n.left-i.left+o,s=n.top-i.top-r.height-10;this.popup.css({left:"".concat(a,"px"),top:"".concat(s,"px")}),window.setTimeout(function(){Object(u.$)(window).on("click",t.onClickOutside),t.popup[0].addEventListener("mouseenter",t.onMouseEnter),t.popup[0].addEventListener("mouseleave",t.onMouseOut)}),this.hideAfterDuration(5e3)}},{key:"hideAfterDuration",value:function(e){var t=this;this.timer=window.setTimeout(function(){t.timer=void 0,t.hide()},e)}}]),t}();d([Object(s.Bind)(),Object(a.b)("click_airtable_error_viewexample",function(e){e.context;return{withFileInfo:!0}})],v.prototype,"log",null);var y=function(){function e(){r()(this,e),this.badCases=[{regex:/^https:\/\/airtable.com\/[^\s]*$/,noty:new v(g)},{regex:/^http:\/\/f.amap.com\/[^\s]*$/,noty:new v(m)}],this.badCases.forEach(function(e){return e.noty.init()})}return i()(e,[{key:"destroy",value:function(){this.badCases.forEach(function(e){return e.noty.destroy()})}},{key:"testUrlAndShowNoty",value:function(t,n){this.badCases.some(function(e){return!!e.regex.test(t)&&(e.noty.show(n),!0)})}}]),e}()}).call(this,E("2vAP"))},b6qs:function(e,t,n){"use strict";var r=n("HA5h"),i={},o={init:function(e){},reset:function(){i={}},setCacheInfo:function(e){Object(r.a)(i,e)},getCacheInfo:function(e){return i[e]},getAllCacheInfo:function(){return i}};t.a=o},b70m:function(e,t,n){e.exports=ye;var o=n("cHMM"),r=n("8PLQ"),i=n("kWb8"),a=n("ZLJe"),s=0,c=s++,u=s++,l=s++,d=s++,p=s++,f=s++,h=s++,g=s++,m=s++,v=s++,y=s++,b=s++,E=s++,_=s++,C=s++,T=s++,O=s++,k=s++,S=s++,w=s++,I=s++,x=s++,L=s++,R=s++,N=s++,D=s++,M=s++,P=s++,j=s++,F=s++,B=s++,U=s++,H=s++,z=s++,V=s++,K=s++,W=s++,Y=s++,q=s++,Z=s++,X=s++,Q=s++,J=s++,$=s++,ee=s++,te=s++,ne=s++,re=s++,ie=s++,oe=s++,ae=s++,se=s++,ce=s++,ue=s++,le=s++,de=0,pe=de++,fe=de++,he=de++;function ge(e){return" "===e||"\n"===e||"\t"===e||"\f"===e||"\r"===e}function me(t,n,r){var i=t.toLowerCase();return t===i?function(e){e===i?this._state=n:(this._state=r,this._index--)}:function(e){e===i||e===t?this._state=n:(this._state=r,this._index--)}}function ve(t,n){var r=t.toLowerCase();return function(e){e===r||e===t?this._state=n:(this._state=l,this._index--)}}function ye(e,t){this._state=c,this._buffer="",this._sectionStart=0,this._index=0,this._bufferOffset=0,this._baseState=c,this._special=pe,this._cbs=t,this._running=!0,this._ended=!1,this._xmlMode=!(!e||!e.xmlMode),this._decodeEntities=!(!e||!e.decodeEntities)}ye.prototype._stateText=function(e){"<"===e?(this._index>this._sectionStart&&this._cbs.ontext(this._getSection()),this._state=u,this._sectionStart=this._index):this._decodeEntities&&this._special===pe&&"&"===e&&(this._index>this._sectionStart&&this._cbs.ontext(this._getSection()),this._baseState=c,this._state=ae,this._sectionStart=this._index)},ye.prototype._stateBeforeTagName=function(e){"/"===e?this._state=p:"<"===e?(this._cbs.ontext(this._getSection()),this._sectionStart=this._index):">"===e||this._special!==pe||ge(e)?this._state=c:"!"===e?(this._state=C,this._sectionStart=this._index+1):"?"===e?(this._state=O,this._sectionStart=this._index+1):(this._state=this._xmlMode||"s"!==e&&"S"!==e?l:B,this._sectionStart=this._index)},ye.prototype._stateInTagName=function(e){"/"!==e&&">"!==e&&!ge(e)||(this._emitToken("onopentagname"),this._state=g,this._index--)},ye.prototype._stateBeforeCloseingTagName=function(e){ge(e)||(">"===e?this._state=c:this._special!==pe?"s"===e||"S"===e?this._state=U:(this._state=c,this._index--):(this._state=f,this._sectionStart=this._index))},ye.prototype._stateInCloseingTagName=function(e){">"!==e&&!ge(e)||(this._emitToken("onclosetag"),this._state=h,this._index--)},ye.prototype._stateAfterCloseingTagName=function(e){">"===e&&(this._state=c,this._sectionStart=this._index+1)},ye.prototype._stateBeforeAttributeName=function(e){">"===e?(this._cbs.onopentagend(),this._state=c,this._sectionStart=this._index+1):"/"===e?this._state=d:ge(e)||(this._state=m,this._sectionStart=this._index)},ye.prototype._stateInSelfClosingTag=function(e){">"===e?(this._cbs.onselfclosingtag(),this._state=c,this._sectionStart=this._index+1):ge(e)||(this._state=g,this._index--)},ye.prototype._stateInAttributeName=function(e){"="!==e&&"/"!==e&&">"!==e&&!ge(e)||(this._cbs.onattribname(this._getSection()),this._sectionStart=-1,this._state=v,this._index--)},ye.prototype._stateAfterAttributeName=function(e){"="===e?this._state=y:"/"===e||">"===e?(this._cbs.onattribend(),this._state=g,this._index--):ge(e)||(this._cbs.onattribend(),this._state=m,this._sectionStart=this._index)},ye.prototype._stateBeforeAttributeValue=function(e){'"'===e?(this._state=b,this._sectionStart=this._index+1):"'"===e?(this._state=E,this._sectionStart=this._index+1):ge(e)||(this._state=_,this._sectionStart=this._index,this._index--)},ye.prototype._stateInAttributeValueDoubleQuotes=function(e){'"'===e?(this._emitToken("onattribdata"),this._cbs.onattribend(),this._state=g):this._decodeEntities&&"&"===e&&(this._emitToken("onattribdata"),this._baseState=this._state,this._state=ae,this._sectionStart=this._index)},ye.prototype._stateInAttributeValueSingleQuotes=function(e){"'"===e?(this._emitToken("onattribdata"),this._cbs.onattribend(),this._state=g):this._decodeEntities&&"&"===e&&(this._emitToken("onattribdata"),this._baseState=this._state,this._state=ae,this._sectionStart=this._index)},ye.prototype._stateInAttributeValueNoQuotes=function(e){ge(e)||">"===e?(this._emitToken("onattribdata"),this._cbs.onattribend(),this._state=g,this._index--):this._decodeEntities&&"&"===e&&(this._emitToken("onattribdata"),this._baseState=this._state,this._state=ae,this._sectionStart=this._index)},ye.prototype._stateBeforeDeclaration=function(e){this._state="["===e?x:"-"===e?k:T},ye.prototype._stateInDeclaration=function(e){">"===e&&(this._cbs.ondeclaration(this._getSection()),this._state=c,this._sectionStart=this._index+1)},ye.prototype._stateInProcessingInstruction=function(e){">"===e&&(this._cbs.onprocessinginstruction(this._getSection()),this._state=c,this._sectionStart=this._index+1)},ye.prototype._stateBeforeComment=function(e){"-"===e?(this._state=S,this._sectionStart=this._index+1):this._state=T},ye.prototype._stateInComment=function(e){"-"===e&&(this._state=w)},ye.prototype._stateAfterComment1=function(e){this._state="-"===e?I:S},ye.prototype._stateAfterComment2=function(e){">"===e?(this._cbs.oncomment(this._buffer.substring(this._sectionStart,this._index-2)),this._state=c,this._sectionStart=this._index+1):"-"!==e&&(this._state=S)},ye.prototype._stateBeforeCdata1=me("C",L,T),ye.prototype._stateBeforeCdata2=me("D",R,T),ye.prototype._stateBeforeCdata3=me("A",N,T),ye.prototype._stateBeforeCdata4=me("T",D,T),ye.prototype._stateBeforeCdata5=me("A",M,T),ye.prototype._stateBeforeCdata6=function(e){"["===e?(this._state=P,this._sectionStart=this._index+1):(this._state=T,this._index--)},ye.prototype._stateInCdata=function(e){"]"===e&&(this._state=j)},ye.prototype._stateAfterCdata1=function(e){this._state="]"===e?F:P},ye.prototype._stateAfterCdata2=function(e){">"===e?(this._cbs.oncdata(this._buffer.substring(this._sectionStart,this._index-2)),this._state=c,this._sectionStart=this._index+1):"]"!==e&&(this._state=P)},ye.prototype._stateBeforeSpecial=function(e){"c"===e||"C"===e?this._state=H:"t"===e||"T"===e?this._state=J:(this._state=l,this._index--)},ye.prototype._stateBeforeSpecialEnd=function(e){this._special!==fe||"c"!==e&&"C"!==e?this._special!==he||"t"!==e&&"T"!==e?this._state=c:this._state=ne:this._state=Y},ye.prototype._stateBeforeScript1=ve("R",z),ye.prototype._stateBeforeScript2=ve("I",V),ye.prototype._stateBeforeScript3=ve("P",K),ye.prototype._stateBeforeScript4=ve("T",W),ye.prototype._stateBeforeScript5=function(e){"/"!==e&&">"!==e&&!ge(e)||(this._special=fe),this._state=l,this._index--},ye.prototype._stateAfterScript1=me("R",q,c),ye.prototype._stateAfterScript2=me("I",Z,c),ye.prototype._stateAfterScript3=me("P",X,c),ye.prototype._stateAfterScript4=me("T",Q,c),ye.prototype._stateAfterScript5=function(e){">"===e||ge(e)?(this._special=pe,this._state=f,this._sectionStart=this._index-6,this._index--):this._state=c},ye.prototype._stateBeforeStyle1=ve("Y",$),ye.prototype._stateBeforeStyle2=ve("L",ee),ye.prototype._stateBeforeStyle3=ve("E",te),ye.prototype._stateBeforeStyle4=function(e){"/"!==e&&">"!==e&&!ge(e)||(this._special=he),this._state=l,this._index--},ye.prototype._stateAfterStyle1=me("Y",re,c),ye.prototype._stateAfterStyle2=me("L",ie,c),ye.prototype._stateAfterStyle3=me("E",oe,c),ye.prototype._stateAfterStyle4=function(e){">"===e||ge(e)?(this._special=pe,this._state=f,this._sectionStart=this._index-5,this._index--):this._state=c},ye.prototype._stateBeforeEntity=me("#",se,ce),ye.prototype._stateBeforeNumericEntity=me("X",le,ue),ye.prototype._parseNamedEntityStrict=function(){var e,t;this._sectionStart+1<this._index&&(e=this._buffer.substring(this._sectionStart+1,this._index),(t=this._xmlMode?a:r).hasOwnProperty(e)&&(this._emitPartial(t[e]),this._sectionStart=this._index+1))},ye.prototype._parseLegacyEntity=function(){var e=this._sectionStart+1,t=this._index-e;for(6<t&&(t=6);2<=t;){var n=this._buffer.substr(e,t);if(i.hasOwnProperty(n))return this._emitPartial(i[n]),void(this._sectionStart+=t+1);t--}},ye.prototype._stateInNamedEntity=function(e){";"===e?(this._parseNamedEntityStrict(),this._sectionStart+1<this._index&&!this._xmlMode&&this._parseLegacyEntity(),this._state=this._baseState):(e<"a"||"z"<e)&&(e<"A"||"Z"<e)&&(e<"0"||"9"<e)&&(this._xmlMode||this._sectionStart+1===this._index||(this._baseState!==c?"="!==e&&this._parseNamedEntityStrict():this._parseLegacyEntity()),this._state=this._baseState,this._index--)},ye.prototype._decodeNumericEntity=function(e,t){var n,r,i=this._sectionStart+e;i!==this._index?(n=this._buffer.substring(i,this._index),r=parseInt(n,t),this._emitPartial(o(r)),this._sectionStart=this._index):this._sectionStart--,this._state=this._baseState},ye.prototype._stateInNumericEntity=function(e){";"===e?(this._decodeNumericEntity(2,10),this._sectionStart++):(e<"0"||"9"<e)&&(this._xmlMode?this._state=this._baseState:this._decodeNumericEntity(2,10),this._index--)},ye.prototype._stateInHexEntity=function(e){";"===e?(this._decodeNumericEntity(3,16),this._sectionStart++):(e<"a"||"f"<e)&&(e<"A"||"F"<e)&&(e<"0"||"9"<e)&&(this._xmlMode?this._state=this._baseState:this._decodeNumericEntity(3,16),this._index--)},ye.prototype._cleanup=function(){this._sectionStart<0?(this._buffer="",this._bufferOffset+=this._index,this._index=0):this._running&&(this._state===c?(this._sectionStart!==this._index&&this._cbs.ontext(this._buffer.substr(this._sectionStart)),this._buffer="",this._bufferOffset+=this._index,this._index=0):this._sectionStart===this._index?(this._buffer="",this._bufferOffset+=this._index,this._index=0):(this._buffer=this._buffer.substr(this._sectionStart),this._index-=this._sectionStart,this._bufferOffset+=this._sectionStart),this._sectionStart=0)},ye.prototype.write=function(e){this._ended&&this._cbs.onerror(Error(".write() after done!")),this._buffer+=e,this._parse()},ye.prototype._parse=function(){for(;this._index<this._buffer.length&&this._running;){var e=this._buffer.charAt(this._index);this._state===c?this._stateText(e):this._state===u?this._stateBeforeTagName(e):this._state===l?this._stateInTagName(e):this._state===p?this._stateBeforeCloseingTagName(e):this._state===f?this._stateInCloseingTagName(e):this._state===h?this._stateAfterCloseingTagName(e):this._state===d?this._stateInSelfClosingTag(e):this._state===g?this._stateBeforeAttributeName(e):this._state===m?this._stateInAttributeName(e):this._state===v?this._stateAfterAttributeName(e):this._state===y?this._stateBeforeAttributeValue(e):this._state===b?this._stateInAttributeValueDoubleQuotes(e):this._state===E?this._stateInAttributeValueSingleQuotes(e):this._state===_?this._stateInAttributeValueNoQuotes(e):this._state===C?this._stateBeforeDeclaration(e):this._state===T?this._stateInDeclaration(e):this._state===O?this._stateInProcessingInstruction(e):this._state===k?this._stateBeforeComment(e):this._state===S?this._stateInComment(e):this._state===w?this._stateAfterComment1(e):this._state===I?this._stateAfterComment2(e):this._state===x?this._stateBeforeCdata1(e):this._state===L?this._stateBeforeCdata2(e):this._state===R?this._stateBeforeCdata3(e):this._state===N?this._stateBeforeCdata4(e):this._state===D?this._stateBeforeCdata5(e):this._state===M?this._stateBeforeCdata6(e):this._state===P?this._stateInCdata(e):this._state===j?this._stateAfterCdata1(e):this._state===F?this._stateAfterCdata2(e):this._state===B?this._stateBeforeSpecial(e):this._state===U?this._stateBeforeSpecialEnd(e):this._state===H?this._stateBeforeScript1(e):this._state===z?this._stateBeforeScript2(e):this._state===V?this._stateBeforeScript3(e):this._state===K?this._stateBeforeScript4(e):this._state===W?this._stateBeforeScript5(e):this._state===Y?this._stateAfterScript1(e):this._state===q?this._stateAfterScript2(e):this._state===Z?this._stateAfterScript3(e):this._state===X?this._stateAfterScript4(e):this._state===Q?this._stateAfterScript5(e):this._state===J?this._stateBeforeStyle1(e):this._state===$?this._stateBeforeStyle2(e):this._state===ee?this._stateBeforeStyle3(e):this._state===te?this._stateBeforeStyle4(e):this._state===ne?this._stateAfterStyle1(e):this._state===re?this._stateAfterStyle2(e):this._state===ie?this._stateAfterStyle3(e):this._state===oe?this._stateAfterStyle4(e):this._state===ae?this._stateBeforeEntity(e):this._state===se?this._stateBeforeNumericEntity(e):this._state===ce?this._stateInNamedEntity(e):this._state===ue?this._stateInNumericEntity(e):this._state===le?this._stateInHexEntity(e):this._cbs.onerror(Error("unknown _state"),this._state),this._index++}this._cleanup()},ye.prototype.pause=function(){this._running=!1},ye.prototype.resume=function(){this._running=!0,this._index<this._buffer.length&&this._parse(),this._ended&&this._finish()},ye.prototype.end=function(e){this._ended&&this._cbs.onerror(Error(".end() after done!")),e&&this.write(e),this._ended=!0,this._running&&this._finish()},ye.prototype._finish=function(){this._sectionStart<this._index&&this._handleTrailingData(),this._cbs.onend()},ye.prototype._handleTrailingData=function(){var e=this._buffer.substr(this._sectionStart);this._state===P||this._state===j||this._state===F?this._cbs.oncdata(e):this._state===S||this._state===w||this._state===I?this._cbs.oncomment(e):this._state!==ce||this._xmlMode?this._state!==ue||this._xmlMode?this._state!==le||this._xmlMode?this._state!==l&&this._state!==g&&this._state!==y&&this._state!==v&&this._state!==m&&this._state!==E&&this._state!==b&&this._state!==_&&this._state!==f&&this._cbs.ontext(e):(this._decodeNumericEntity(3,16),this._sectionStart<this._index&&(this._state=this._baseState,this._handleTrailingData())):(this._decodeNumericEntity(2,10),this._sectionStart<this._index&&(this._state=this._baseState,this._handleTrailingData())):(this._parseLegacyEntity(),this._sectionStart<this._index&&(this._state=this._baseState,this._handleTrailingData()))},ye.prototype.reset=function(){ye.call(this,{xmlMode:this._xmlMode,decodeEntities:this._decodeEntities},this._cbs)},ye.prototype.getAbsoluteIndex=function(){return this._bufferOffset+this._index},ye.prototype._getSection=function(){return this._buffer.substring(this._sectionStart,this._index)},ye.prototype._emitToken=function(e){this._cbs[e](this._getSection()),this._sectionStart=-1},ye.prototype._emitPartial=function(e){this._baseState!==c?this._cbs.onattribdata(e):this._cbs.ontext(e)}},b80T:function(e,t,n){var l=n("UNi/"),d=n("03A+"),p=n("Z0cm"),f=n("DSRE"),h=n("wJg7"),g=n("c6wG"),m=Object.prototype.hasOwnProperty;function r(e,t){var n,r=p(e),i=!r&&d(e),o=!r&&!i&&f(e),a=!r&&!i&&!o&&g(e),s=r||i||o||a,c=s?l(e.length,String):[],u=c.length;for(n in e)!t&&!m.call(e,n)||s&&("length"==n||o&&("offset"==n||"parent"==n)||a&&("buffer"==n||"byteLength"==n||"byteOffset"==n)||h(n,u))||c.push(n);return c}e.exports=r},bCSi:function(e,t,n){"use strict";var r=n("lwsE"),i=n.n(r),o=n("W8MJ"),a=n.n(o),s=n("a1gu"),c=n.n(s),u=n("Nsbk"),l=n.n(u),d=n("7W2i"),p=n.n(d),f=n("q1tI"),h=n.n(f),g=n("m/+l"),m=n("D7h9"),v=n("5cZX"),y=n("XMIC"),b=n("jBvr"),E=function(e){return{embedObjPermissions:Object(v.y)(e)}},_={openModal:y.c},C=Object(g.connect)(E,_)(b.a),T=function(e){function t(){return i()(this,t),c()(this,l()(t).apply(this,arguments))}return p()(t,e),a()(t,[{key:"render",value:function(){return h.a.createElement(g.Provider,{store:m.default},h.a.createElement(C,this.props))}}]),t}(f.Component);t.a=T},bCqk:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAABbQAAADcCAMAAACf49d1AAAAn1BMVEXv8PFkanOPlZ7n6OmHjJPt7u9uc3zEx8uVmaDc3uBnbXbQ0tV/hYzIy867vcJ9gonT1dfr7O7Aw8d6f4aYnKLN0NOLkJeSlp2tsbZqb3hyd3/f4OKztrvh4+WPk5nk5uegpKrp6uuan6S9wMTLzdB1eoKDiI+kqK2qrrO4u8Da3N6nq7G2ub2ws7h3fIXV19qdoahwdX5rcXrX2dv///8tA35dAAAYdklEQVR42uzBgQAAAACAoP2pF6kCAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGD24EAAAAAAAMj/tRFUVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVYU9OKYBAAYBALaHBCuEA/yrmw2OtgAAAAAAAAAAAAAAAAAAcEdM9WZu18Tjs2en62kCYRSAz5EdFQUtLqDiwuKuae//2lqtcQAVq3RJW98/+RFDhu88cyCTl5eXl49MmuuVM30u4eXl5eXlo1IcvZKhOwpKUPDrjJNOMsb/5fWnz8tHYQdhbYq/m/8PvJRKceVCLOFx8cQDAK0XSbiu9NGLEu3b+0hBedsqCgwWH+DJ8LPmaUXRCn+I1ForKLDqx/jZFNxg4xfx/oEa+DHtcB2YDj62MXJGawdn3tsQec0R/irepHLFxEOeod1g4EjZcwag2WMsHSnIGZh9CY/xvMxVNHrwWEdpczZQIKKGQoNgiTxvhgJ/bJ7zXhD01vhltpZXUMpswZikIUPmHNd8Wlp41vRNx1XxW63tV+1nHj0tcY/VAXJkWiijOnp2LfkcfjX7UNj6EDnl51k+d8HbBAoy6uzjpGrAYYKsHZf4m0iTylUTCTk+b/DfCzVUAGPPd5+Rk/DhuHNXsfYKlL2F0kY9FlWszCkuTdwtThZUkRfQRYE/Nc9aACxbN941p8tPuK/wuCxhBze1uEKVaThSvhuQnpKGky5lPGtHHVcNeWBGy5mNh0ikgRMljPI/rTNBCeMetfysi9fyYA7K+IrnS7vt4kL5eYrcSzJCvuW2yvp8VTtsjBFQQ4bGvY2/hxJXbogVZNX1G+o46jABmhvKywOXGymf+P69KMeehx9DLjKBmMHnoOfhR0hGsz71k3iiu3JUa23sy4a1jdm0u0twweUcl1qi6D32kDNWOUeR3z9PqTsGWgmwDgFg5LaREzHBXRobBdU+ZBe3zKiOUWVLe0e+j/K6mdi8T2fb4ArXjbfWrmaS7FWc50rm8wyfzAmylmyjBIemlJ918VoezGHOK4Y27hlckPTQjwuOR0rMs1zuwrbP/hZZEwY4qZo6lOEMGcqGFrKkD9ziTuUm58EgTHpK12RbOTZSTxVtu5CPauRx0n2TdMU3qxcGYpq50oamcq+h2DZuu7W+yRwJR9p07neX8ZBsqDwKcWLHy6S7Xvu+3+Dw22eCiT50p+nSPu+nEYmcFdUyQZefpxCGs+P0WlwCieqfTo6npIWMEdm8n8OqR3YGuCFkHYAtDRbb6qzuHMZbxUmHAVBlhHckjmrqwRv5pmZ8Epv34WxFI2xx4uGSPVvKJtvPlYyrGvC5ypdihBI6Ij0x68K1PJiDxSvC8f27vmD6QdiwcGA0Lxgl5lkud0F7Y8tDTsS57VW1uQNgRR8X1qwhq80YGasOPghJr6SMvowqgi7hESvKXkTK9YOVyeTwVcJBM5f8vhWJibi84N8ubSiegjvqPDD7NbcddJM3DqfNhXd+cqoU1IY7Saw6Tmxe0cXZRpS2RObX0WCMEkrPUxi/V/GcpgEl3u9jGwc6e9lxWtz/SA7ekFQdXDUiR0CdaavzoTuNy9IWLDYU5IjN+2C24iOqcspT70sQms7iHJ+1eK60R/3GGPoSGTP2gfHn+irWo8EzpyMWBDHrgrU8lsOlRY8a7pHUPJNB0b51S8yzVO6CT0YjCLEry1HNpMmD1rGOl7gg9TgbVB0/1uVNcrq9BGlN0sLHMK+kffnypZIyxxVakuLgzN5wZag9ZjVxYC8+f95udcrbhTeQxsjYNXJ69MVVSQOCEfi4b9C16tuRgoOpmn8xj+NkvbIcTTP5CVnK1Fr5vr9eryO6c8vR6rNqc5Qu7WqqF+38zjUHKPZr5yl8Pr+CRNmNJG3YyCy7w/YP5YB6SLYlXDFjCMAz1bARuRVdb092QRPfTSijoLSlPWcoKO1HshVi1pqGcsxTZgfCjnH5M9iqqedW1HRisqbmznfuGeRPR/KzLlrLoznkKTUOnzt8r6ZKe9/K2NMtMc8SuQvKjnTHSJF5om6i4W6dvR3Z7eh65XDQ0jB5NsFBRB8ZE6oDfASKXlTauoJLEwrp5JekhW2dLeubgLXDlxabOFuYPQM/QqYv5kp6eNfUSdPAI5ZUtwCgLOvICygjr/jfySGrqafJGICS7j8d9/ymeWrci/cDDSlNkwEERaVTmIMgtclQ/Hpjk9g4Wt/e/xrZLirtgEPcKe372Qpjp7tzWz0e9KImgFHIaTohv3xpY9W236f3lb1z3VIVB6Iwu7nZiALiDfGCCqjYIuj7v9ucIBpMuLQ6y9NrpvePnl4jHJMq8qVSqdDblRRryKXFUn+/y9dCjepo3uJqZwq7als3Q5v3Ay8xunBnC8d9ooKli0lx22fMumz4pD1f8zuVGwKre2iZ/sA8HmCXoWyJO52MYTLu+p9WngpdM1cHSISfoOMHB+2iGNvM1gMCmWS9Xk9Of37syWPSOUQXhGTLh/bF5v3LwkwqQEYOcSCQewzaIoV2RwLQMh9MMTgXzMqSwj3pixNUQTyrX5sRh1uPDcpk0Y3MFOP112G7SfqjIWAHinai/5qG5ra9yZ4HSskVdOYjFLzqA2KDH6h6yoSGGnPoN1N5VRU66RXainRVEdpHMgWbrYK2/OBt9i2fgw0lsiAmJjOL4ZGE3ivQ5pUCgKLPPQXTB6OwFnDaLi9W4EpYeVvXtaXWDyxX5/nUfeAemf7Vrolf/UR4/yq0qV7wO5WfQivNDmzKdzBkv6OqZDV9jD5nHvS7waRwXlnD+RHl+Lt6aDMW6OCDUIDMQLZCaioxJzzpXfxZgIzoYMFCZoN5T0q1UL3Yy+w+BO3j3gYczxUekg8ts3y3JSwCY3n54kGn94e84723CnBSkEmzWDezI0BDqSi0xwiFRr3Jni2saLnNfagtG8V2jiA1Tp5UM4p7n+YB+thWlpVcoV1U8Qs2JDlQUMgM3ibfMkr2Xd/tIiYroeSSrepjyGS3/kVof311zmLWk/LscTKnWjHA6AZAOrWIswyBEW/rxrZQPzRD21QwLADKIqvQSLt+iVGZu/0EBn8d2tTvjOQ9XZ4wytzjjvdeQpIhuh3oJU2a3D/u4GIwa4KD8AO0r4f2/tuQ6WIiXSBzMgwjhpZnRU16r6ZjMrSBtSCuRwqw+Ca0Z0J7EwOYjB+d52QDu3xZdxBMbZRv19xJ0T+8qXqW80dmPspygZ4Ou98afcyHUr7mDCaxEWqQ+glJia97KnB0i8ddYvQWh83aEur0JnumWNOxzEwmA0At/N6phXaNZecUzRWXdaGtMmgvTaIhtiYRjRhAtgkX7av20Ngqgmbf8hrmi6QwW826Do50U3v2PLSD1br67lV5lBuDiiOzNVWAoOtqHCR5Wze2hfqhGdr+CUPrLsgmlXNb8pPMFtVW2mMi10P7aXu+7vdIB0Zi+T3ZMzAAVSzwWuPk1k4rxETCD1BSD+3k25CJMRiRh+94YYtm5DpfJ2kFkAbZE5IONQCG534T2q0JgHTly2zFZolEhhrXVFYCX1gPstvmrZWXb0X6O2htpviKUypQKRSaFiDf2ybwFQBSbSHVe+xpFgkesWCeI6TbUUPhKWh/QYuajgMuT1h/oU/Df+Y6VcO0eHmCdFA/eHnfUvFpqt6Fkx72V0vk6yLR7PTai0ehTWR7qlUNQ15t/6pNWXfE/Qk4URJW27quLfV+4E9jqdqV2XTLe5uVh47zgp6qbcgJ9kIztJvHJt+H1/3ec6Csq5LAcGRBcC+jvjM4RrNSuEtFJ7olUaULRMLfV6se2q1SyJDKWkD5IwqZ1lYgkMlHH9C7L5MV7Tzb5HrZyYb14puwWADAJPHl5gMDfIkTrZi3QqX0GxOQ1CHVZ3vgd0iiqw/J9wdt0zxG5dAWobG1tk6w8Zz6cOc99hxDF6pTIG3Ei1v57vkpaLsK6HxuVBWP2RuhBtq+BvQKrYoRzpoHL+9bnnFxPlQvjDZh36o0JAJKPQdGT34I2t19qAFQvHMZMq6kE4/q1BR4TctPK84SDZjzDeFt3dwW3g+8PKysgDKbrto+yU+HOGBUWWKzQSo2Q7t5bPJ9eN3vLmC7NcWztcG7O1DbriXMUkzZSJs/3vv39RS0bUmSHO3PD4NC5iznkFn2AgS7k2aS30f5gRBLQtomCF5pADwmGG2AdjIofajXkxJ1mcLV5c2pa2YUnn3VXAhLA5L8/a14pXBqAwoT32EuklBGug5TYyxweo89w7txZ7Jo7si3LN5KeAbaCxuFOTDAIPufXe4ErZxBuyddlMLOfyMdNE8oQtsHPLl28K7HM8a3Va3e3C4RLzA7XqGzscYKEEutZBgAkvxgTltUPRtA2OW+ug1nPU6GBulUKfT2SKqaC0jUmJW2bm4L7wdeI+yFqG/xmZU5obDSIbXZ8CviVQ07oQHatWOzpg8v+90F9Eorzuuy/e05LtK3Y2i07xraJVmwlvD3RdMj9HDNM+kRIgIZde4AK1HYk61Y30bq557IinR2CjSvj4PwELSfLo4cIKgYglMbmVJPDcqzkVMM66GtQmeKMkZyXixLzwJyeoc98/0iKr2iJRs4s2egLep3+/cx/AuW+HAmg/a07MxOpECfF6C9xrx+mSwH2HzHtzPgePtteWnY/tqfJIDx5eYbgQr6T2xEDloaaNPEo0oO1AS46mQPV72aElIe5ugDE+Kvels3t4X3A6+wPFR0s6M2LqGeV5V2kkMYchO0n7Xn636fAkq3IpI+oV1d8wycwtFqrqcgUm7h+gRqSdp7Ivx97T9qtX8UMgcEG1MQEwAbCZjnk99yZF4K3/uusMf4TdDeVdXpB4CebA+JpAAO2DqwxdElIWLZA3jCOVtOCYI1vI9Sbdh5/VZ6C3zWAqe32NOD/Z3j9VNgKzwBbUu6r/3WswaLCnbl0J61/2iQGkN42vB6On6EUOzfQbtVD+0utFmdb2mv4tvcpeXj3L6+FgBxTy7mZ6Jnqh0WBzvv/v4EKmkzVY9MrrSxRPyLxOUdBRqdeHlbN7al2Q8MiTiN526Obw29Sip2hCZoP2vP1/0uDGxAiko/yU/IloHEg3Otb7A6qxTOmZqTt2ME/ICiv109tHePQkYkIYMaYN4DwLDCw4lc+T5od5BW7D/bx9s5qxgI7/aGFABaHEOqhPYMTpzeb2G2Af8+ElgArsDpHfYUT/hij+iuyxJAkOQnoC2PmK2DIb4y6gZyObQzbTBoobu9jfvFSMx6OgajVsXgtdGv8S1VeAtpzTyBZTn24uIa9JfMzt1rJWrj7EDNlpzHMIjXHn5rZA9o5WdCPKHZ1nxbGvzA40tb1L+BvFVVuOo7dC30vpK/Zr9TWRvA2ZWuZj6yW7VN2dF/tWiGtk9zKvkXL4OP20Be/oidyGM9tI+lkGkdDofU+fMjYSFD3PGlE9PJKaZbFE1oEq49DO3ZC9AWy018vJu75U6rWOhjAJPRMAYAnU8OKhm0F8YJCLr3NbLS1UT2NX0SC7zeYc8DFMom2jqe2bEoPA7tKAQ2JfXBHvpCNbR99MlGpGWn1PRZTw/KRQ40JdOq/A0+X8C51rd09ozYzcGrf12VzVDuX4OMOGt4wx6Vjk4JCDVIVsabPtCSm2zNt6XJD/wl86YjjxUZbZU09Q3QfsLvVGacLUZ5239dYjXe3SrsSlPk8bkKh3acJPz/uuRWXU67JZdChoqDTLvvAB+fWezQWzg2cyrpcWgvidOeVYzku1kTen4wykbRFgDitcy6X81naJetbusxqe55aez0BntaATfQB3zUPwbSSHgY2vLU4TjiwWNS+By0xYmyyKpH/OK4rk2PqFCY0/e1vqXw/KDlbQ05awPq65ChZRlCnQKYfPRwgi7S3PZw2Wxrvi3NfqCaOQ09/gJWVcwOReEN0H7W7/T4f+rzuxyfl2Ii6xEWiPlOZFLslfEjXhrV9MIoHjKDXUE+l4NVNi750yGwsRVWUItZvcPFK0nnEVgEL5hpCuzLUBnUYN68HWPvhIDtM2ePx1WzspXDJ38KXHqgatEPgn4+/7/BnhtoLotahU2YeED8KTwM7U8JCHwuNhpmtg5mVdBeStjlJX99JPK3oB0Vj9svAtjWd3x7BoVj2PB28zNNUMre+kVoTxsq1TT+/p2CeFbkZa/R1nxbmv1AJRqsFfnV16q8UkuDIQpvgPaTfqdan4Ate4eRjdGy1p3hVFpkmLlUTIsAmnoDZky/Xc2vZuUhw4iBjExOBM5GUNQu+kKE1C3YLpRLg/0BK70IizmUtvCsPKDPRTiWg0P1Rk2Uh6uEj70Y8Kz7zMNnOd6Sm4mM/Jv1axQeYz5HnIVRb7DnUcO4YVlsHRQgXDzkB6LZ9lLKwsjMHvxPB8q4fTGWNYsWBWjPdAyvddoLGyPrO9CWJ7R/7Rja8Vu+bVF2Rg2cjdLCtQrGL0C7ORu25HawIomZN9Vps635tjT7gVpUwqlucTVboTyKXawAe1ECtWRwp+RZaL/ud6rIAIZ3dtMvvl0jKOFzig+50qXk+d8wewTMmH63mv8IwuOQIZZuaZBmwhRehi6r8BKM0F/mnXZN1aL+Y1WExfkEpKNkfzjsk9YwtCfKQ9kfAPrXwJWZyXq4pn4tfja6OFwcIZbJR1vAjgq4MxDvltf7FlH+qwu06VpMvd9qnxL79LIuvcGesg5D5p1cCCjk3QTQNswD3OiH5VoCMFFLjHxJ9B0nAOBM4lQD8EWhfSanOW6Ha9wA0rIW2nTMhAPyz589wOl8y7efIE3xTdKdkBi3UkdPKS74owAr+RVon6HJHH6oUoD8R759ttUAzge8rZvb0uyHXKYOqDU93Dvlu6HyVAHmfPT++vu0qZ73O69lC4ijomfg5icp4u5ndsVnW726fuBA34m3e0XmeLQ+B7PSZ8b0u9X858Z4yExGnIIiZJY7HUhJZ1ZkfrP0wlg0CSxiXQpjB6D7CUud11qg8nX2FU2PyGxpIAqi+yOv0Oxw3p+HtnIXdn9OAGM1VKD418k+WNyHZ4Bi2HEwUXAD8xZ2MRCwV3ZhtCTkCK3skBjmDfb8QllNqkjnkJkNQGfil0Y/uKsTAPvAh370DJ24bk2Qy6HQXiqQrMKJyM8UIx7aO7RKQio4hu4AsM3v+TaBntFECYdp6aJIGn70k2QeBgCkYmdcG8kr0F4CXFIKnOTrtxmAwfWp2da0LQ/6QbA8prSCkapkrOQ1MIC4NKHp6Zy8Z6D9ot95fWlQaIs3kPKeKACgBA6Awjt8UkALwvlcCg3m7Kk1B5hkDDum367mP+zLQ6ZMRciMAHtnCYJ4cDK7RKdNYf01HTrIlNrSRyR8V4tOd7zfkBeG7Hq++Sk8ptm2JQWaZt2/eHl0Qi7ncJdJ7GsANMmlrzi5H5xTI7/TSWMjfzRa2ph6OgEAhUY4BxLfqGRqeIc95XVp7fVmG9EAKezJDz8kCpSkijI7rOiF7vH8uZCLOW1Psu6OsR/T9j20o3NkhvD4wSkhkz6Vv+db+VKqvI+BcihauEpJjsxDFuDrBWgLKXzuJk40U6Ft5cdtTdvyqB8EeQiprgfuya6o4Ia2t4Tn1dyHV/3Oy1cKx8v6N7+K65F9AbcxpN9urUP6SvQV8w9tNsxExozpvyZ3VcpstwwyUpvTsAiZs6TmMMrDKfYIujU7R6LwdskLfgC7pu+3j9wHy2PnXA81MfpcLJnhWeR+b2rKBRpMnNXKCUThh9jTNYUntO5Z1fbgx18R2kuLefeIyCSCPkDUFnhZUac3mDX6ljuh7w7Uo1x2aYf8gdBpr+3yn55PWrVllpLU0Ixu75F9qcW50daPt0Wso7LYsJ8fVT3z40h4Rc19eNnvvCJ7RLvDjNWlVeKOY4e8VbvpG/kx/fckbkpyI2LpFLgtmXWkPMTYh+rV5nq46gm/uigaOs78U/hf2nMd05XBXmdiuX2+UlGHw+Hq79e/qp4s/Oq/IZEj8xvG9Hsl95gXR7V6v8/vv6hfY/7qV/8t/YAxLe5aBWTvfsAB+1/96le/+lWN5ONun7RayX53/AGTyK9+9Q97cCAAAAAAAOT/2giqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqsIeHAgAAAAAAPm/NoKqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqrQHhwQAAAAAgv6/doMdAAAAAAAAAAAAAAAAAAAA4AndP02O9CdYyAAAAABJRU5ErkJggg=="},bIgJ:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAtwAAAGSCAMAAADnzebaAAAAP1BMVEXl5ujn5+r19vfk5eecoqmus7nj5efR1Njz9PXv8fKmq7Kgpq3f4uS3u8C0uL3p6+3N0dTHy8+/wsfY2t2wtLtBBvaRAAAAAnRSTlPsSYtYiOwAAAWUSURBVHja7NIxEcAwDAAxN57Cn3CD40/CoPlmIejVnnsg6M7sgaSVmyq5yZKbLLnJkpssucmSmyy5yZKbLLnJkpssucmSmyy5yZKbLLnJkpssucmSmyy5yZKbLLnJkpssucmSmyy5yZKbLLnJkpssucmSmyy5yZKbLLnJkpssucmSmyy5yZKbLLnJkpssucmSmyy5yZKbLLnJkpssucmSmyy5yZKbLLnJkpssucmSmyy5yZKbLLnJkpssucmSmyy5yZKbLLnJkpssucmSmyy5yZKbLLnJkpssucmSmyy5yZKbLLnJkpssucmSmyy5yZL7Z5cOZAAAAAAG+Vvf4yuG2JKbLbnZkpstudmSmy252ZKbLbnZkpstudmSmy252ZKbLbnZkpstudmSmy252ZKbLbnZkpstudmSmy252ZKbLbnZkpstudmSmy252ZKbLbnZkpstudmSmy252ZKbLbnZkpstudmSmy252ZKbLbnZkpstudmSmy252ZKbLbnZkpstudmSmy252ZKbLbnZkpstudmSmy252ZKbLbnZkpstudmSmy252ZKbLbnZkpstudmSmy252ZKbLbnZkpstudmSmy252ZKbLbnZkpstudmSm9i5m503YSCMwlI6BIe/QNL7v9Z6HKp8AUdedTFvz7MyXqIjBLaMLOKGLOKGLOKGLOKGLOKGLOKGLOKGLOKGLOKGLOKGLOKGLOKGLOKGLOKGLOKGLOKGLOKGLOKGLOKGLOKGLOL+t9burM/zt6Vz6wU/EHcodjbe8vxmLxf8RNyRmG39weTzvduI+4C4IzG7Xr66EvcBcUfyJe7bcyLuCuKOpB73r8FsScR9RNyh1ONeLOuJ+4S4I6nHPVi2EfcJcUdSj/th2ZO4T4g7kj3ue58+vicXs40PyjPijuQV9zTanD7mb4nVkgrijsTj9rYt1806dxNxR+Jxe9ulbuJuIe5IctzedvEg7hbijsRsHW3XE3cLcUdib78/998TcZ8RdyT25jf6mi7FfWD7vYa4I7Hs/cadhjntbVuum7iPiDuS0xGFOZW23TIR9wFxR2J/rf7Afq13e9vFQNwHxB2J7bqUL2ZzS2mbY2Y1xB2J7aY8nmxH3N8QdyT2Mudh6oi7hbgjsWK85+FqxN1C3JFYsfm2zUjcTcQdibkhlQMKxN1E3JGYe/qNNuJuIu5Q/HdqDx88ugN+p1ZB3ABx4/9G3JBF3JBF3JBF3JBF3JBF3JBF3JBF3JBF3JBF3JBF3JBF3JBF3JBF3JBF3JBF3JBF3JBF3JBF3JBF3JBF3JBF3JBF3JBF3JBF3JBF3JBF3JBF3JBF3JBF3JBF3JBF3JBF3JD1h106kAEAAAAY5G99j68YkpstudmSmy252ZKbLbnZkpstudmSmy252ZKbLbnZkpstudmSmy252ZKbLbnZkpstudmSmy252ZKbLbnZkpstudmSmy252ZKbLbnZkpstudmSmy252ZKbLbnZkpstudmSmy252ZKbLbnZkpstudmSmy252ZKbLbnZkpstudmSmy252ZKbLbnZkpstudmSmy252ZKbLbnZkpstudmSmy252ZKbLbnZkpstudmSmy252ZKbLbnZkpstudmSmy252ZKbLbnZkpstudmSmy252ZKbLblrlw6KAAYBIIgd5YV/w/Wxk2gIWXKTJTdZcpMlN1lykyU3WXKTJTdZcpMlN1lykyU3WXKTJTdZcpMlN1lykyU3WXKTJTdZcpMlN1lykyU3WXKTJTdZcpMlN1lykyU3WXKTJTdZcpMlN1lykyU3WXKTJTdZcpMlN1lykyU3WXKTJTdZcpMlN1lykyU3WXKTJTdZcpMlN1lykyU3WXKTJTdZcpMlN1lykyU3WXKTJTdZcpMlN1lykyU3WXd7HwS97exC0M4PFp8M/ukGaV4AAAAASUVORK5CYII="},bNQv:function(e,t,n){var r=n("gFfm"),i=n("SKAX"),o=n("EwQA"),a=n("Z0cm");function s(e,t){return(a(e)?r:i)(e,o(t))}e.exports=s},bPB8:function(e,t,n){"use strict";function r(e){for(var t=-1,n=null==e?0:e.length,r=0,i=[];++t<n;){var o=e[t];o&&(i[r++]=o)}return i}t.a=r},bWpG:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var i=n("mrSG"),r=n("MGBS"),o=n("zotm");function a(t){return function(e){return e.lift(new s(t))}}var s=function(){function e(e){this.durationSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.durationSelector))},e}(),c=function(r){function e(e,t){var n=r.call(this,e)||this;return n.durationSelector=t,n.hasValue=!1,n.durationSubscription=null,n}return i.__extends(e,r),e.prototype._next=function(e){try{var t=this.durationSelector.call(this,e);t&&this._tryNext(e,t)}catch(e){this.destination.error(e)}},e.prototype._complete=function(){this.emitValue(),this.destination.complete()},e.prototype._tryNext=function(e,t){var n=this.durationSubscription;this.value=e,this.hasValue=!0,n&&(n.unsubscribe(),this.remove(n)),(n=Object(o.a)(this,t))&&!n.closed&&this.add(this.durationSubscription=n)},e.prototype.notifyNext=function(e,t,n,r,i){this.emitValue()},e.prototype.notifyComplete=function(){this.emitValue()},e.prototype.emitValue=function(){var e,t;this.hasValue&&(e=this.value,(t=this.durationSubscription)&&(this.durationSubscription=null,t.unsubscribe(),this.remove(t)),this.value=null,this.hasValue=!1,r.prototype._next.call(this,e))},e}(r.a)},bZiw:function(e,t,n){"use strict";var r,i,o,a,s,c;n.d(t,"a",function(){return r}),n.d(t,"c",function(){return o}),n.d(t,"b",function(){return s}),(i=r=r||{})[i.Normal=1]="Normal",i[i.High=2]="High",(a=o=o||{}).Idle="idle",a.Pending="pending",a.Done="done",(c=s=s||{}).onDemand="onDemand",c.runInBackground="runInBackground"},bkUZ:function(e,t,n){"use strict";n.r(t);var r=n("2ACu");n.d(t,"collectEvent",function(){return r.default});var i=n("aXiW");n.d(t,"LogFlow",function(){return i.a}),n.d(t,"collectSuiteEvent",function(){return r.collectSuiteEvent}),n.d(t,"collectWithCustomizeFn",function(){return r.collectWithCustomizeFn});var o=n("FnDM");n.d(t,"getEncryToken",function(){return o.d}),n.d(t,"getFileType",function(){return o.f});var a=n("fQzm");n.d(t,"moirae",function(){return a.b})},br0Y:function(e,t,n){n("xahd"),e.exports=n("dktu").setTimeout},bsrO:function(e,T,O){"use strict";(function(i){O.d(T,"b",function(){return l}),O.d(T,"a",function(){return d}),O.d(T,"c",function(){return o}),O.d(T,"l",function(){return p}),O.d(T,"g",function(){return f}),O.d(T,"i",function(){return h}),O.d(T,"h",function(){return m}),O.d(T,"f",function(){return v}),O.d(T,"d",function(){return y}),O.d(T,"e",function(){return b}),O.d(T,"j",function(){return _}),O.d(T,"k",function(){return C});var o,e,t=O("lSNA"),a=O.n(t),n=O("D7h9"),r=O("rWdK"),s=O("7ZH0"),c=O("QM+C"),u=O("rLED"),l="doc_jira_filter_panel_feature",d="jira_filter_feature_tutorial_modal";function p(e,t){var n,r=(n={},a()(n,o.PERMISSION_DENY,i("doc.jira.no_match_jira_base_url")),a()(n,o.DELETED_FAILED,i("doc.jira.filter_deleted_or_no_permission")),a()(n,o.AUTH_REQUIRED,i("issue"===t?"doc.jira.insert_need_connect":"doc.jira.insert_filter_need_connect")),n);s.a.show({tip:r[e]||i("doc.jira.internet_error_tip"),type:"error"})}function f(t){return t?[/^https?:\/\/[^\s]+\.atlassian\.net/].some(function(e){return e.test(t)})?"jira_cloud":"jira_server":""}function h(){return Object(r.a)(n.default.getState()).jiraType}function g(){return Object(r.a)(n.default.getState()).baseUrl}function m(){return Object(r.a)(n.default.getState()).authState}function v(){return Object(u.K)("jira_issue_enable")}function y(){return Object(u.K)("jira_filter_enable")}function b(e){var t="temporary_filter";return Number(e)<0?t="recommend_filter":0<Number(e)&&(t="user_filter"),t}(e=o=o||{})[e.PERMISSION_DENY=95004]="PERMISSION_DENY",e[e.DELETED_FAILED=95007]="DELETED_FAILED",e[e.AUTH_REQUIRED=95012]="AUTH_REQUIRED",e[e.COLLAB_FAILED=95013]="COLLAB_FAILED",e[e.SERVER_SYNCING=95014]="SERVER_SYNCING",e[e.ISSUE_CREATE_SUCCESS_SEARCH_FAIL=95015]="ISSUE_CREATE_SUCCESS_SEARCH_FAIL";var E=new RegExp("(".concat(c.PROTOCOL,")://"));function _(e){var t=g();return!!e.includes(t.replace(E,""))}function C(e,t){var n=/[A-Z0-9]+-[0-9]+/,r=g(),i=new RegExp("".concat(r));if("issue"===t){var o=/((browse)|(projects\/[^\s]+\/issues))\//,a=/[^\s]+\/[^\s]+\?selectedIssue=/;return new RegExp("^(".concat(i.source,"/((").concat(o.source,")|(").concat(a.source,"))(").concat(n.source,"))$"),"i").test(e)}if("filter"!==t)return!1;var s=/issues\//,c=new RegExp("browse/".concat(n.source)),u=/\?jql=[^\s]*(&(amp;)?filter=-?\d*)?/,l=new RegExp("(".concat(/\?filter=-?\d*(&(amp;)?jql=[^\s]*)?/.source,")|(").concat(u.source,")"));return new RegExp("^(".concat(i.source,"/((").concat(s.source,")|(").concat(c.source,"))(").concat(l.source,"))$"),"i").test(e)}}).call(this,O("2vAP"))},c3ME:function(e,t,n){"use strict";var r=n("YsTz"),i=Object.keys;e.exports=function(e){return i(r(e)?Object(e):e)}},c6wG:function(e,t,n){var r=n("dD9F"),i=n("sEf8"),o=n("mdPL"),a=o&&o.isTypedArray,s=a?i(a):r;e.exports=s},cEV7:function(e,t,n){"use strict";n.r(t);var y,r,o,i,a=n("cDf5"),T=n.n(a),s=n("Dpjh"),L=n("fujP"),c=n("HI9p"),u=n("vEhQ"),l=n("lE2N"),V=n("HA5h"),d=n("Z0Cl"),p=n("CpTu"),E=n("Bw5p"),f=n("3Hq1"),h=n("UXvI"),z=n("xWuZ"),g=n("Muja"),m=n("ipyK"),v=n("XhtD"),b=n("gSGL"),K=n("7EGn"),_=n("NFsq"),S=n("OZf9"),C=n("ukIz"),N=n("FJEn"),R=n("y2sV"),P=n("q1tI"),O=n.n(P),k=n("EVdn"),W=n.n(k),D=n("uAje"),M=n("H6oK"),w=n("PyL4"),I=n.n(w),x=n("M55E"),j=n.n(x),F=function(){return(F=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},B=window,U="bear";function H(){var e=navigator.userAgent;return/android/i.test(e)?y.android:/iPad|iPhone|iPod|Mac OS X/.test(e)?y.ios:y.unknown}function Y(){var e,t,n=H();return console.info("[DocSDK Bridge] getNewBridgeEnable sysType: "+n),n===y.ios?null===(t=null===(e=null===B||void 0===B?void 0:B.webkit)||void 0===e?void 0:e.messageHandlers)||void 0===t?void 0:t.invokeNative:n===y.android&&B.Lark_Bridge}(r=y=y||{})[r.android=1]="android",r[r.ios=2]="ios",r[r.unknown=3]="unknown",(i=o=o||{}).success="success",i.failure="failure",i.timeout="timeout",i.cancel="cancel";var q=(Z.prototype.setConfig=function(e){this.config=e},Z.prototype.on=function(e,t,n,r){e&&this.invoke(e,t,n,r)},Z.prototype.call=function(e,t,n,r){void 0===r&&(r=!0),this.on(e,t,n,r)},Z.prototype.off=function(e,t){if(this.eventMap[e])for(var n=this.eventMap[e].length-1;0<=n;n--){var r=this.eventMap[e][n];r&&r.callback===t?(this.eventMap[e].splice(n,1),delete B[r.callbackId]):t||delete B[r.callbackId]}t||(this.eventMap[e]=[])},Z.prototype.trigger=function(e,t){B[e](t)},Z.prototype.register=function(e,t,n){void 0===n&&(n=!0),this.on(e,{},t,n)},Z.prototype.invoke=function(e,t,n,r){var i;void 0===r&&(r=!0),n&&(i=this.genCallbackId(e,r),this.addCallbackToMap(e,i,n),this.injectCallback(i,n)),this.postMessage({handlerName:e,callbackId:i,data:t})},Z.prototype._handleMessageFromNative=function(e){var t,n,r=this.parseMessageFromNative(e);try{if(this.newBridgeEnable){var i=r.callbackID,o=r.data;return void(i&&this.trigger(i,o))}var a=r.responseId,s=r.responseData;a&&(null!==(n=null===(t=this)||void 0===t?void 0:t.config)&&void 0!==n&&n.debug&&console.debug("bridge message from native",r),this.trigger(a,s))}catch(e){console.log(e,"bridge error")}},Z.prototype.parseMessageFromNative=function(t){var n;if("string"==typeof t)try{n=JSON.parse(t)}catch(e){n=JSON.parse(t.replace(/\n/g,"")),console.log("JSON.parse",t,!0)}else n=t;if(this.newBridgeEnable){var e=n.callbackID,r=n.data;if(e)try{n.data=JSON.parse(r)}catch(e){n.data=r}return n}var i=n.responseId,o=n.responseData;if(i)try{n.responseData=JSON.parse(o)}catch(e){n.responseData=o}return n},Z.prototype.postMessage=function(e){var t,n,r,i,o,a,s,c,u,l,d=H(),p=e.handlerName,f=e.callbackId,h=e.data,g=B.webkit;null!==(n=null===(t=this)||void 0===t?void 0:t.config)&&void 0!==n&&n.debug&&console.debug("bridge send message to native",e);var m={callbackID:f,apiName:p,data:h},v=JSON.stringify(m);if(this.newBridgeEnable)switch(d){case y.android:null!==(r=null===B||void 0===B?void 0:B.Lark_Bridge)&&void 0!==r&&r.invokeNative(v);break;case y.ios:null!==(a=null===(o=null===(i=null===B||void 0===B?void 0:B.webkit)||void 0===i?void 0:i.messageHandlers)||void 0===o?void 0:o.invokeNative)&&void 0!==a&&a.postMessage(m)}else switch(d){case y.android:this.postMessageToAndroid({handlerName:p,callbackId:f,data:h});break;case y.ios:this.config.postMessageToIOS?this.config.postMessageToIOS({method:p,args:F(F({},h),{callback:f})}):null!==(l=null===(c=null===(s=null===g||void 0===g?void 0:g.messageHandlers)||void 0===s?void 0:s.invoke)||void 0===c?void 0:(u=c).postMessage)&&void 0!==l&&l.call(u,{method:p,args:F(F({},h),{callback:f})});break;default:console.error("postMessage getSystemType is unknown")}},Z.prototype.postMessageToAndroid=function(e){var t,n=JSON.stringify([e]);null!==(t=null===B||void 0===B?void 0:B._DocsBridge)&&void 0!==t&&t.prompt(U+"://return/_fetchQueue/"+encodeURIComponent(n))},Z.prototype.genCallbackId=function(e,t){var n=e;return t&&(n="func_"+e.replace(/\./g,"")+Date.now()+"_"+Math.floor(1e4*Math.random())),n},Z.prototype.addCallbackToMap=function(e,t,n){this.eventMap||(this.eventMap={}),this.eventMap[e]||(this.eventMap[e]=[]),this.eventMap[e].push({callbackId:t,callback:n})},Z.prototype.injectCallback=function(e,t){B[e]=t},Z);function Z(e){var i=this;void 0===e&&(e={debug:!1}),this.config=e,this.type="DocSDK",this.eventMap={},this.nativeCallBack=function(e){if(console.log("DocSDK Bridge nativeCallBack: ",e),!e)return console.info("[Bridge] nativeCallBack no message");var t,n=e.callbackType,r=e.data;n===o.success?(t=JSON.stringify(e),i._handleMessageFromNative(t)):console.info("[Bridge] nativeCallBack type: "+n+", err: "+JSON.stringify(r))},this.config=e,this.newBridgeEnable=Y(),console.info("[DocSDK Bridge] Bridge newBridgeEnable: "+this.newBridgeEnable)}var X=window,Q=X.LkWebViewJavascriptBridge;Q||(Q=X.LkWebViewJavascriptBridge=new q,X._LarkJsBridge=Q),X.LarkWebViewJavaScriptBridge={nativeCallBack:Q.nativeCallBack},setTimeout(function(){Q&&"DocSDK"===Q.type&&Q.call("biz.notify.ready",{})});var J=Q,$=n("i8i4"),ee=n("TSYQ"),te=n.n(ee),ne=n("J7eW"),re=n("fp5s");n.d(t,"ADIT_ATTRIBUTE_KEY",function(){return gi}),n.d(t,"ADIT_ATTRIBUTE_SELECTED",function(){return vi}),n.d(t,"ADIT_ATTRIBUTE_VALUE",function(){return mi}),n.d(t,"AT_HOLDER_PREFIX",function(){return Ys}),n.d(t,"Align",function(){return me}),n.d(t,"Author",function(){return ye}),n.d(t,"AutoCapitalization",function(){return Lc}),n.d(t,"BackgroundColor",function(){return pi}),n.d(t,"BlockFormatter",function(){return Yi}),n.d(t,"Bold",function(){return we}),n.d(t,"CheckAll",function(){return xe}),n.d(t,"Checkbox",function(){return Ai}),n.d(t,"ColorFormat",function(){return Ir}),n.d(t,"CursorTrack",function(){return eu}),n.d(t,"CursorTrackSender",function(){return Qc}),n.d(t,"EditorCopyStyle",function(){return Ue}),n.d(t,"EditorPaste",function(){return ze}),n.d(t,"EditorStatus",function(){return Ge}),n.d(t,"FontColor",function(){return ri}),n.d(t,"FontFamily",function(){return ai}),n.d(t,"FontSize",function(){return Sr}),n.d(t,"FontWeight",function(){return ui}),n.d(t,"GDCopySupport",function(){return qe}),n.d(t,"HOLD_WHEN_REPLACE",function(){return qs}),n.d(t,"Heading",function(){return et}),n.d(t,"HorizontalLine",function(){return rt}),n.d(t,"HyperLinkWidth",function(){return wt}),n.d(t,"HyperLinks",function(){return It}),n.d(t,"IGNORE_HEADING_CLASS",function(){return $e}),n.d(t,"IGNORE_HYPERLINK_CLASS",function(){return Ct}),n.d(t,"IGNORE_LINE_BACKGROUND_CLASS",function(){return Tt}),n.d(t,"Image",function(){return vo}),n.d(t,"Indent",function(){return Lt}),n.d(t,"InlineStyleHolder",function(){return Sc}),n.d(t,"InserDomLineBetweenPicture",function(){return Bt}),n.d(t,"InterferenceEditorStatus",function(){return Vt}),n.d(t,"Italic",function(){return Wt}),n.d(t,"KeyboardShortcuts",function(){return Bu}),n.d(t,"Line",function(){return Zt}),n.d(t,"Link2Mention",function(){return dc}),n.d(t,"List",function(){return Rn}),n.d(t,"Markdown",function(){return Ki}),n.d(t,"MarkdownType",function(){return Ri}),n.d(t,"MentionBlockCreator",function(){return _c}),n.d(t,"MentionPlugin",function(){return Zs}),n.d(t,"NativeMention",function(){return Ga}),n.d(t,"OneNoteCopySupport",function(){return Dn}),n.d(t,"PasteStyleInherit",function(){return Tc}),n.d(t,"Placeholder",function(){return Ti}),n.d(t,"Quote",function(){return Oe}),n.d(t,"Range",function(){return yu}),n.d(t,"Rect",function(){return Pn}),n.d(t,"Redo",function(){return Bn}),n.d(t,"RestoreLastEmptyLine",function(){return Hn}),n.d(t,"SimpleTags",function(){return Vn}),n.d(t,"SingleLineManager",function(){return Qn}),n.d(t,"Strikethrough",function(){return ir}),n.d(t,"StylePlaceholder",function(){return xi}),n.d(t,"TabKey",function(){return cr}),n.d(t,"Toolbar",function(){return yi}),n.d(t,"UUIDv4",function(){return Jt}),n.d(t,"Underline",function(){return dr}),n.d(t,"Undo",function(){return gr}),n.d(t,"UserChangeDetector",function(){return _u}),n.d(t,"UserCreator",function(){return Hs}),n.d(t,"WordCopySupport",function(){return Cr}),n.d(t,"blankChar",function(){return $t}),n.d(t,"genUUID",function(){return Qt}),n.d(t,"getListNumberId",function(){return en}),n.d(t,"getTagName",function(){return tn}),n.d(t,"EmbedFormatter",function(){return N.EmbedFormatter}),n.d(t,"Formatter",function(){return N.Formatter}),n.d(t,"TreeFormatter",function(){return N.TreeFormatter}),n.d(t,"BlockManager",function(){return M.BlockManager});var ie=function(e,t){return(ie=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function oe(e,t){function n(){this.constructor=e}ie(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var ae,se,ce=function(){return(ce=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function ue(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":T()(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;0<=s;s--)(i=e[s])&&(a=(o<3?i(a):3<o?i(t,n,a):i(t,n))||a);return 3<o&&a&&Object.defineProperty(t,n,a),a}function le(e,t){if("object"===("undefined"==typeof Reflect?"undefined":T()(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function de(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function pe(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||0<t--)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function fe(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(pe(arguments[t]));return e}function he(e,t){var n,r,i=(t=t||{}).insertAt,o=t.className;e&&"undefined"!=typeof document&&(n=document.head||document.getElementsByTagName("head")[0],(r=document.createElement("style")).type="text/css",o&&r.setAttribute("class",o),"top"===i&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e)))}he(".adit-outer-container .adit-container .image-container-wrap {\n  text-align: center;\n}\n.adit-outer-container .adit-container .align-center {\n  text-align: center;\n}\n.adit-outer-container .adit-container .align-center .image-container-wrap {\n  text-align: center;\n}\n.adit-outer-container .adit-container .align-center li {\n  list-style-position: inside;\n}\n.adit-outer-container .adit-container .align-right {\n  text-align: right;\n}\n.adit-outer-container .adit-container .align-right .image-container-wrap {\n  text-align: right;\n}\n.adit-outer-container .adit-container .align-right li {\n  list-style-position: inside;\n}\n.adit-outer-container .adit-container .align-left .image-container-wrap {\n  text-align: left;\n}\n.adit-outer-container .adit-container .align-justify {\n  text-align: justify;\n}\n.adit-outer-container .adit-container .align-justify .image-container-wrap {\n  text-align: justify;\n}\n.adit-outer-container .adit-container .align-justify li {\n  list-style-position: inside;\n}\n",{className:"adit-style"}),(se=ae=ae||{}).left="left",se.center="center",se.right="right",se.justify="justify",se.full="full";var ge,me=(oe(ve,ge=N.Formatter),ve.setClass=function(e){return["align-"+e]},ve.collect=function(e){var t=[],n=/(?:^| )align-(\S+)/.exec(e.className);return(n=n||/\btext-align:\s*(left|center|right)\b/i.exec(e.style.cssText))&&t.push(["align",n[1]]),{attributes:t}},ve.prototype.isDowngradable=function(){return this.option.downgradable},ve.prototype.editorWillDoReturnKey=function(e){var t,n=e.delta,r=e.editor,i=r.getContentState().getActiveZone(),o=i.getZoneId(),a=r.selection.getSelection(),s=a.toPosition(),c=s.start,u=s.len,l=i.getLine(a.start.line),d=l.getLineAttributes().toMap(),p=l.isEmpty(),f=d.align;!f||n.ops.length||u||(t=new R.E({zoneId:o}),p&&"left"!==f&&(d.align="",t.retain(c-1).retain(1,d)),p||t.retain(c).insertEnter().insertLineMarker(d),e.delta=n.compose(t))},ve.prototype.editorWillDoDeleteKey=function(e){var t,n,r,i,o=e.deltaSet,a=e.editor,s=a.getContentState().getActiveZone(),c=s.getZoneId(),u=a.selection.getSelection(),l=u.toPosition(),d=l.start,p=l.len,f=s.getLine(u.start.line).getLineAttributes().toMap(),h=f.align;h&&!p&&(t=1===u.start.offset,n=new R.E({zoneId:c}),r=o.get(c).ops.length,t&&!r&&"left"!==h&&(i={right:"center",center:"left"},f.align=i[h],n.retain(d-1).retain(1,f)),e.deltaSet=o.compose(n))},ve.prototype.serialize=function(e){var t,n=e.type,r=e.node,i=e.lineAttributes,o=i&&i.align;return n===R.u.LINE&&o&&((t=document.createElement("div")).appendChild(r),t.style["text-align"]=o,e.node=t),e},ve.formatKey="align",ve.formatType=N.Formatter.FormatType.BLOCK,ve.formatValueType=N.Formatter.FormatValueType.String,ve.toggleable=!0,ve);function ve(e,t){void 0===t&&(t={downgradable:!0});var n=ge.call(this)||this;return n.option=t,n}var ye=(be.prototype.aceAttribsToClasses=function(e,t){var n=t.key,r=t.value;return"author"===n?[this.getAuthorClassName(r)]:""},be.prototype.getAuthorClassName=function(e){return"author-"+e.replace(/[^a-y0-9]/g,function(e){return"."===e?"-":"z"+e.charCodeAt(0)+"z"})},be);function be(){}he(".adit-outer-container .ace-editor .blockquote {\n  margin-left: 0!important;\n}\n.adit-outer-container .ace-editor .blockquote.list-div {\n  margin-left: 0!important;\n}\n",{className:"adit-style"});var Ee,_e="#8f959e",Ae="blockquote",Ce=[Ae],Te={paddingLeft:"12px",borderLeft:"solid 2px "+"#3370ff",color:"#1f2329",margin:"8px 0"},Oe=(oe(ke,Ee=N.Formatter),ke.setClass=function(){return[Ae]},ke.prototype.aceRegisterBlockElements=function(){return Ce},ke.prototype.aceAttribsToClasses=function(e,t){return t.key===Ae?["blockquote:blockquote"]:[]},ke.prototype.aceDomLineProcessLineAttributes=function(e,t){var n,r=t.spanClass,i=/(?:^| )blockquote:([A-Za-z0-9]*)/.exec(r);i&&(n=Object(C.a)(Ce,i[1])),void 0!==n&&0<=n&&(t.lineClass+=" blockquote",t.processedMarker=!0)},ke.prototype.renderWrapper=function(){return O.a.createElement(R.z,{style:Te})},ke.prototype.match=function(e){return"blockquote"===e},ke.collect=function(e){var t=[];return!e.classList.contains(Ae)&&"blockquote"!==e.tagName.toLowerCase()||t.push([Ae,Ae]),{attributes:t}},ke.prototype.bindEvents=function(){var e=W()("[data-key=reference]");e.off("click",this.handleClick),e.on("click",this.handleClick)},ke.prototype.unbindEvents=function(){W()("[data-key=reference]").off("click",this.handleClick)},ke.prototype.reset=function(){this.unbindEvents()},ke.prototype.pluginReadOnly=function(){this.unbindEvents()},ke.prototype.pluginReadWrite=function(){this.bindEvents()},ke.prototype.editorWillDoReturnKey=function(e){var t,n=e.delta,r=e.editor,i=r.getContentState().getActiveZone(),o=i.getZoneId(),a=r.selection.getSelection(),s=a.toPosition(),c=s.start,u=s.len,l=i.getLine(a.start.line),d=l.getLineAttributes().toMap(),p=l.isEmpty();n.ops.length||!d.blockquote||u||(t=new R.E({zoneId:o}),p?(d.blockquote="",t.retain(c-1).retain(1,d)):t.retain(c).insertEnter().insertLineMarker(d),e.delta=n.compose(t))},ke.prototype.editorWillDoDeleteKey=function(e){var t,n=e.deltaSet,r=e.editor,i=r.getContentState().getActiveZone(),o=i.getZoneId(),a=r.selection.getSelection(),s=i.getLine(a.start.line).getLineAttributes().toMap(),c=a.toPosition(),u=c.start,l=c.len,d=1===a.start.offset;!n.get(o).ops.length&&s.blockquote&&d&&!l&&(s.blockquote="",t=new R.E({zoneId:o}).retain(u-1).retain(1,s),e.deltaSet=n.compose(t))},ke.prototype.serialize=function(e){return Object(R.Q)(e,{tagAttribute:"blockquote"})},ke.prototype.deserialize=function(e){var t=e.node,n=e.deltaSet,r=e.zoneId;if(t instanceof HTMLElement){var i=t.className,o=t.tagName;if(-1<i.indexOf(Ae)||"BLOCKQUOTE"===o)return Object(R.I)(n,r,{blockquote:"true"})}return n},ke.formatKey=Ae,ke.formatType=N.Formatter.FormatType.BLOCK,ke.formatValueType=N.Formatter.FormatValueType.Boolean,ke.toggleable=!0,ke);function ke(e){var t=Ee.call(this)||this;return t.adit=e,t.className="Quote",t.name="blockquote",t.handleClick=function(){t.adit.format(ke.formatKey,"true")},t}var Se,we=(oe(Ie,Se=N.Formatter),Ie.setClass=function(e){return e?["b"]:[]},Ie.setTags=function(e){return e?["b"]:[]},Ie.getCssStyle=function(e){return["font-weight",e?Ie.formatKey:""]},Ie.formatKey="bold",Ie.formatType=N.Formatter.FormatType.INLINE,Ie.formatValueType=N.Formatter.FormatValueType.Boolean,Ie.toggleable=!0,Ie.execCommandKey=Ie.formatKey,Ie);function Ie(){return null!==Se&&Se.apply(this,arguments)||this}var xe=(Le.prototype.bindEvents=function(){this.$document=W()(document),this.$document.on("keydown",this.handleEventKey),this.$document.on("selectionchange",this.selectionFun)},Le.prototype.setRange=function(e){e.preventDefault();var t=this.editor.getInnerContainer();this.checkAll=!1;var n=window.getSelection().getRangeAt(0),r=t.childNodes[0],i=t.childNodes.length,o=t.childNodes[i-1],a=o.childNodes.length;n&&(n.setStart(r,0),n.setEnd(o,a),this.afterCheckAll=!0)},Le.prototype.reset=function(){this.$document&&(this.$document.off("selectionchange",this.selectionFun),this.$document.off("keydown",this.handleEventKey))},Le);function Le(e){var a=this;this.editor=e,this.className="CheckAll",this.checkAll=!1,this.$document=null,this.afterCheckAll=!1,this.selectionFun=function(e){Object(D.q)()||(a.checkAll&&a.setRange(e),null==a.editor.selection.getSelection()&&!0===a.afterCheckAll&&(a.editor.inCallStackIfNecessary("selectionchange",function(){a.editor.selection.setWithSelection("0",[0,0],[0,0])}),a.afterCheckAll=!1))},this.handleEventKey=function(e){var t,n,r,i,o=N.browser.isMac?e.metaKey:e.ctrlKey;e.keyCode===D.i.A&&o&&(t=document.activeElement,n="true"!==W()(t).attr("contenteditable"),r="input"!==t.tagName.toLowerCase(),i="textarea"!==t.tagName.toLowerCase(),n&&r&&i&&(a.checkAll=!0))},this.bindEvents()}var Re=function(e){for(var t=["heading-h1","heading-h2","heading-h3","heading-h4","heading-h5","heading-h6","heading-h7","heading-h8","heading-h9"],n=0;n<t.length;n++)if(e instanceof HTMLElement&&e.classList.contains(t[n]))return t[n];return null},Ne=function(e){return Number(e.match(/\d+/)[0])},De=/author-(\d+)/,Me=["number","bullet","check","done"],Pe="",je=!1;function Fe(e,t){return e.isBlockElement(t)&&"\n"!==t.innerText}function Be(e){var t=(new DOMParser).parseFromString(e,"text/html"),n=3;return Array.from(t.body.childNodes).every(function(e){return e.nodeType===n})}var Ue=(He.prototype.getStyleForNode=function(_,C,T){var O=this;Object(S.a)(_,function(e,t){var n,r,i=W()(e),o=i.find("table.ace-table");o.length||i.hasClass("ace-table")&&(o=i);var a=t===_.length-1;if(o.length){W()(e).replaceWith(o[0].outerHTML);var s=W()(e).find(".ace-editor");try{for(var c=de(s),u=c.next();!u.done;u=c.next()){var l=u.value;O.getStyleForNode(W()(l.children))}}catch(e){n={error:e}}finally{try{u&&!u.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}a||(Pe+="\n")}else{O.getCommonStyle(e,a,C,T);var d,p=null,f=W()(e).hasClass("blockquote"),h=W()(e).find('[class^="list-check"],[class^="list-done"]'),g=W()(e).find('[class^="list-number"],[class^="list-bullet"]'),m=0<h.length,v=0<g.length&&!O.listCopyImprove,y=O.list(g,v),b=O.checkBox(h,m),E=y||b;f&&(d=O.styles+"margin: 0 0 0 22px;\n          border-left: solid 2px "+_e+" !important;\n          color: "+_e+";\n          padding-left: 12px!important;",p=W()("<blockquote></blockquote>").attr("style",d)),E?p?(p.empty().append(E),W()(e).replaceWith(p)):W()(e).replaceWith(E):p&&(p.html(W()(e).html()),W()(e).replaceWith(p))}})},He.prototype.revertListHtml=function(e){0===e.children().length||Object(D.P)(e[0],!0)},He.prototype.aceCopy=function(e,t){if(""===t.html&&!t.text)return t;var n=W()("<div></div>"),r=Be(t.html);n.html(t.html),this.wrapTextsInSingleLine(n,t);var i=n.children();return 0===i.length&&(je=!0),this.getStyleForNode(i,t.e.target,r),this.listCopyImprove&&this.revertListHtml(n),je?(je=!1,N.browser.isEdge?{html:t.html,text:n.text()}:void 0):(t.html=n.html(),t.text=Pe.replace(/\u00A0|\u200B|\u0008/g,this.convertTextChar),Pe="",t)},He.prototype.isOneFullLineOfListSelected=function(e){if(!(void 0!==e.editorInfo.getAttributesOnSelection().attribs.find(function(e){return"list"===pe(e,1)[0]})))return!1;var t=e.rep,n=t.selStart[0];if(n!==t.selEnd[0])return!1;var r=t.selStart[1];return t.selEnd[1]-r==t.lines.atIndex(n).text.length-1},He.prototype.convertTextChar=function(e){return""===e||"\b"===e?"":""===e?" ":e},He.prototype.list=function(e,t){if(t){var n=/list-(number|bullet)(\d+)/,r=e[0].className,i=e[0].dataset.originStart,o=e[0].getAttribute("start"),a=n.exec(r),s=a?a[2]:null,c=a?a[1]:null,u=e.children();return this.createList(s,c,o,i,u)}},He.prototype.checkBox=function(e,t){if(t){var n=/list-(check|done)(\d+)/,r=e[0].className,i=n.exec(r),o=i?i[2]:null,a=i?i[1]:null,s=e[0].innerHTML;return this.createCheckBox(o,a,s)}},He.prototype.createCheckBox=function(e,t,n){if(!e||!t)return!1;var r=parseInt(e,10);r<1&&(r=1);for(var i=r,o=this.styles+"list-style-type: none; margin: 0;",a='<input type="checkbox" checked="" disabled="" style="margin-right: 2px;">',s='<input type="checkbox" disabled="" style="margin-right: 2px;">',c=null,u=null,l="check"===t?1:-1;0<r;){r--;var d=W()("<ul></ul>").addClass("list-"+t+i);if(u||(u=d).attr("style",o),c&&c.empty().append(d),0===r)return d.append(n),l?d.find("li").prepend(a):d.find("li").prepend(s),u;c=d}return!1},He.prototype.createList=function(e,t,n,r,i){if(!e||!t)return!1;for(var o=parseInt(e,10),a=this.styles+"margin: 0",s="number"===t?"ol":"ul",c=null,u=null,l=0;l<o;){l++;var d=W()("<"+s+"></"+s+">").addClass(t+l);if(u||(u=d).attr("style",a),c&&c.empty().append(d),o===l)return d.append(i),n&&d.attr("start",n),r&&d.data("originStart",r),u;c=d}return!1},He.prototype.getLineText=function(e){var t=W()(e).find("ol,ul"),n=0<t.length,r=e.innerText;if(n){var i=/list-(number|bullet|check|done)(\d+)/,o=t[0].className,a=t[0].getAttribute("start"),s=i.exec(o),c=s?s[2]:null,u=s?s[1]:null,l="";if(c)for(var d=0;d<parseInt(c,10)-1;d++)l+="  ";"number"===u&&this.isDoc?r=l+a+". "+r:"bullet"===u&&this.isDoc?r=l+"- "+r:"done"===u?r=l+"[x] "+r:"check"===u&&(r=l+"[ ] "+r)}return r},He.prototype.getCommonStyle=function(e,t,n,r){var i=this.getLineText(e);Pe+=i,!t&&Fe(this.editor,e)&&(Pe+="\n");var o,a,s=e.id,c=W()(e).find("span")[0];c&&(o=c.className,(a=De.exec(o))&&W()(e).find("span").removeClass(a[0]));var u,l,d,p,f,h,g,m=document.getElementById(s);m&&(u=r?n&&window.getComputedStyle(n,null):window.getComputedStyle(m,null)),u&&(l=u.backgroundColor||"",d=u.fontSize||"",p=u.textAlign||"",f=u.fontWeight||"",h=u.color||"",g=u.lineHeight||"",this.styles="background-color: "+l+";\n        font-size: "+d+";\n        text-align: "+p+";\n        font-weight: "+f+";\n        line-height: "+g+";\n        color: "+h+";",W()(e).attr("style",this.styles)),W()(e).removeClass(function(e,t){return(t.match(/(^|\s)lineguid-\S+/g)||[]).join(" ")})},He.prototype.aceCut=function(e,t){return this.aceCopy("aceCopy",t)},He);function He(e,t){var I=this;this.editor=e,this.styles="",this.wrapTextsInSingleLine=function(e,t){var n=e.children().length&&"span"===e.children()[0].nodeName.toLowerCase(),r=0===e.children().length,i=t.e,o=t.editorInfo,a=t.rep,s=i.target,c=W()(s).closest(".ace-line")[0];if(c&&(r||n)){var u,l=void 0,d=s,p=o.getLine(),f=a.lines.atIndex(p),h=a.selStart[1]===f.lineMarker&&a.selEnd[1]===f.text.length,g=I.isOneFullLineOfListSelected(t);for(l=r?((u=document.createElement(s.tagName||"span")).innerHTML=t.html,W()(u)):e.clone();d&&d!==c;){var m,v=W()(d).parent().clone(),y=v.is("li, ol, ul"),b=v.is("code"),E=v.is(".blockquote")&&h,_=y&&g,C=d.parentElement===c,T=-1<c.className.indexOf("heading-"),O=C&&(E||g||T),k=v.length&&!v.attr("data-meta-block-props")&&!b&&(!y||_);v.length&&!h&&C&&(m=/list-div|(list-start-number\s+)|ol-[0-9a-z]+|blockquote/gi,v[0].className=v[0].className.replace(m," ")),(O||k&&(r||_))&&(l=v.html("").append(l)),d=d.parentElement}var S,w=Re(l.get(0));w&&(S=Ne(w),l=W()("<h"+S+">").append(l)),e.html("").append(l)}},this.editorWillCopy=function(e){var t,n,r,i=I.editor,o=e.deltaSet,a=e.range,s=a.start,c=s.zoneId,u=s.line,l=s.offset,d=i.getContentState();(d.hasLineMarker(a.start)?1<l:0<l)&&(t=a.start.line===a.end.line,n=d.getLineAttributes(c,u).toMap(),t&&n.list&&Me.some(function(e){return n.list.includes(e)})&&(n.list="",n.start="",n["ol-id"]="",n["origin-start"]=""),n.blockquote&&t&&(n.blockquote=""),n&&n.lmkr&&(r=(new R.E).insertLineMarker(n),e.deltaSet=o.compose(r)))},this.isDoc=!(t&&!1===t.isDoc),this.listCopyImprove=!(!t||!t.listCopyImprove)}var ze=Ve;function Ve(e){var u=this;this.editorContext=null,this.aceInitialized=function(e,t){u.editorContext=t.editorInfo},this.UNSAFE_editorNormalizePasteNode=function(e){var t,n,r,i,o,a=u.editorContext.getRep(),s=e.data.node,c=e.types;""!==s.innerHTML&&(Object(_.a)(c,"text/html")||N.browser.modernIE)&&(t=function(e){var n=e;return["table","thead","tbody","tfoot","tr","th","td","caption"].forEach(function(e){var t=new RegExp("<"+e+"(\\s.*?)?>(.*?)</"+e+">","gi");n=n.replace(t,"$2")}),n=n.replace(/<colgroup(\s.*?)?>.*?<\/colgroup>/gi,"")},o=s,W()(o).find("table table").filter(function(){return 1===W()(this).parents("table").length}).each(function(){var e=W()(this);e.replaceWith("<div>"+t(e.html())+"</div>")}),n=function(e){var t=W()(e).siblings();return 0===t.length||1===t.length&&t.is("meta")},a.zoneId&&"0"!==a.zoneId&&(n(i=(r=W()(s)).find("table"))||i.remove(),r.find("span.block-type-"+M.BlockType.SHEET_BLOCK).closest(".ace-line,blockquote").remove(),r.find("span.block-type-"+M.BlockType.BITABLE_BLOCK).closest(".ace-line,blockquote").remove(),r.find("span.block-type-"+M.BlockType.JIRA_FILTER_BLOCK).closest(".ace-line,blockquote").remove()),N.browser.modernIE||e.preventDefault())},e&&(this.editorContext=e)}function Ke(e,t,n){if(n.getLineListType(e,t))return!0;if(n.isImageLine(e,t))return!0;if(n.isSheetLine(e,t))return!0;var r=n.getReps()[e];if(!(t>=r.lines.length())){var i=r.lines.atIndex(t);return""!==Object(K.default)(i,"domInfo.node.textContent")}}var Ge=(We.prototype.reset=function(){this.unbind()},We.prototype.bind=function(){var e=this.innerContainer;W()(e).on("click",this.clickToEnterWriteStatus),W()(e).on("click",".image-uploaded",this.clickToEnterWriteStatus)},We.prototype.unbind=function(){var e=this.innerContainer;W()(e).off("click",this.clickToEnterWriteStatus),W()(e).off("click",".image-uploaded",this.clickToEnterWriteStatus)},We.prototype.pluginReadOnly=function(){var e=this.editor;this.isReadOnly=!0,this.bind(),this.shouldEnterWriteStatus=!1,e.call("isEnterWriteStatus",this.shouldEnterWriteStatus)},We.prototype.pluginReadWrite=function(){var e=this.editor;this.isReadOnly=!1,this.bind(),this.isBodyHasText(),e.call("isEnterWriteStatus",this.shouldEnterWriteStatus)},We.prototype.isBodyHasText=function(){var e,t,n=this.editor;n&&(e=1,Ke((t=n.getRep()).zoneId,e,n)||Ke(t.zoneId,e+1,n)||3<t.lines.length()?window.getSelection().removeAllRanges():this.shouldEnterWriteStatus=!0)},We);function We(e){var i=this;this.editor=e,this.isReadOnly=!0,this.shouldEnterWriteStatus=!1,this.clickToEnterWriteStatus=function(e){var t=i.editor,n=e.target,r=W()(n).parents(".sheet");i.isReadOnly||i.shouldEnterWriteStatus||(t.setEditable(!i.shouldEnterWriteStatus),t.enable&&(t.enable(),r.length||W()(i.innerContainer).focus()),i.shouldEnterWriteStatus=!0,t.call("isEnterWriteStatus",i.shouldEnterWriteStatus)),i.unbind()},this.innerContainer=e.getInnerContainer()}function Ye(e){if("A"!==e.tagName)return"";var t=e.href;return"url-"+Object(D.z)(10)+":"+t}var qe=(Ze.prototype.UNSAFE_editorNormalizePasteNode=function(e){var t,n,r,i,o,a=e.data.node,s=e.types;Object(p.a)(s,function(e){return"text/plain"===e})&&(t=a.querySelector("[id^=docs-internal-]"),n=function(e){return e.nodeType===Node.ELEMENT_NODE},t&&(!N.browser.isEdge||(r=a.childNodes).length&&Array.from(r).forEach(function(e){n(e)&&(e.id=t.id)}),i=a.querySelectorAll("img"),Array.from(i).forEach(function(e){0===e.width&&0===e.height&&e.parentNode&&e.parentNode.removeChild(e)}),"B"===t.tagName&&"700"!==t.style.fontWeight&&t.parentNode&&((o=document.createElement("span")).setAttribute("id",t.id),o.innerHTML=t.innerHTML,t.parentNode.innerHTML=o.outerHTML)))},Ze.prototype.isFromGoogle=function(e){return e.id&&-1<e.id.indexOf("docs-internal")},Ze.prototype.getBoldType=function(e){if(!e)return null;var t=e&&/\bfont-weight:\s*(\d+)/i.exec(e);return t&&700<=parseInt(t[1],10)?"bold":null},Ze.prototype.getHeadingType=function(e){if(/^h[1-3]$/.test(e))return e},Ze);function Ze(){var f=this;this.className="GDCopySupport",this.deserialize=function(e){var t,n,r,i,o,a,s,c,u=e.node,l=e.deltaSet,d=e.zoneId,p=l;return u instanceof HTMLElement&&(n=u.tagName,r=u.getAttribute("style")||"",f.isFromGoogle(u)&&(i=f.getHeadingType(n.toLowerCase()),o="A"===n,a=f.getBoldType(r),i&&(p=Object(R.I)(p,d,{heading:i})),o&&(s=Ye(u),c="url-"+Object(D.z)(10),p=Object(R.H)(p,d,((t={})[c]=s,t))),a&&(p=Object(R.H)(p,d,{bold:"true"})))),p}}he(".adit-outer-container .adit-container .heading-h1 {\n  line-height: 1.5;\n  font-size: 30px;\n  margin-top: 20px;\n  margin-bottom: 20px;\n  font-weight: 500;\n}\n.adit-outer-container .adit-container .heading-h2 {\n  line-height: 1.5;\n  font-size: 24px;\n  margin-top: 16px;\n  margin-bottom: 16px;\n  font-weight: 500;\n}\n.adit-outer-container .adit-container .heading-h3 {\n  line-height: 1.5;\n  font-size: 20px;\n  margin-top: 14px;\n  margin-bottom: 14px;\n  font-weight: 500;\n}\n.adit-outer-container .adit-container .ace-table .heading-h1 {\n  font-size: 24px;\n}\n.adit-outer-container .adit-container .ace-table .heading-h2 {\n  font-size: 20px;\n}\n.adit-outer-container .adit-container .ace-table .heading-h3 {\n  font-size: 16px;\n}\n",{className:"adit-style"});var Xe,Qe={24:"h1",20:"h2",18:"h3"},Je="heading",$e="IGNORE_HEADING",et=(oe(tt,Xe=N.Formatter),tt.setClass=function(e){return[tt.formatKey+"-"+e]},tt.prototype.getHeadingType=function(e,t,n){var r=/(?:^| )heading-(\S+)/.exec(t);if(r)return r[1];if(/^h[1-3]$/.test(e))return e;var i=/font-size: (\d+)px/.exec(n);return n&&(-1<n.indexOf("font-weight: bold;")||-1<n.indexOf("font-weight: 700;"))&&i&&Qe[i[1]]?Qe[i[1]]:null},tt.prototype.editorWillDoReturnKey=function(e){var t,n,r=e.delta,i=e.editor,o=i.selection.getSelection(),a=i.getContentState().getActiveZone(),s=a.getZoneId(),c=a.getLine(o.start.line),u=c.getLineAttributes().toMap(),l=o.toPosition(),d=l.start,p=l.len;u.heading&&!p&&(t=c.isEmpty(),n=new R.E({zoneId:s}),r.ops.length?t||n.retain(d+1).retain(1,{heading:""}):(u.heading="",n.retain(d).insertEnter().insertLineMarker(u)),e.delta=r.compose(n))},tt.prototype.editorWillDoDeleteKey=function(e){var t,n,r,i,o,a,s=e.deltaSet,c=e.editor,u=c.selection.getSelection(),l=c.getContentState().getActiveZone(),d=l.getZoneId(),p=l.getLine(u.start.line),f=p.previousSibling(),h=p.getLineAttributes().toMap(),g=u.toPosition(),m=g.start,v=g.len,y=1===u.start.offset;f&&!v&&h.heading&&y&&(t=Number(f.hasLineMarker()),n=f.isEmpty(),r=f.getLineAttributes().toMap(),i=Object.keys(r).find(function(e){return!["author","lmkr","insertorder","lineguid","align"].includes(e)}),o=s.get(d).ops.length,i||!n||o||(a=new R.E({zoneId:d}),(t?a.retain(m-3).retain(1,ce(ce({},r),{heading:h.heading})):a.retain(m-2).insertLineMarker(ce(ce({},r),{heading:h.heading}))).delete(2),e.deltaSet=s.compose(a)))},tt.prototype.serialize=function(e){return Object(R.Q)(e,{tagAttribute:"heading"})},tt.formatKey=Je,tt.formatType=N.Formatter.FormatType.BLOCK,tt.formatValueType=N.Formatter.FormatValueType.String,tt.toggleable=!0,tt);function tt(e){var u=Xe.call(this)||this;return u.adit=e,u.deserialize=function(e){var t,n=e.node,r=e.deltaSet,i=e.zoneId;if(n instanceof HTMLElement){var o=n.tagName,a=n.className,s=n.getAttribute("style")||"",c=u.getHeadingType(o.toLowerCase(),a,s);if(c)return Object(R.I)(r,i,((t={})[Je]=c,t))}return r},u.editorWillPaste=function(e){var t=e.deltaSet,n=e.zoneId,r=u.adit.getEditor(),i=r.selection.getSelection().start;if(r.getContentState().getZoneState(n).getLine(i.line).isEmpty())return t;var o=t.get(n),a=o.ops[0];if(!a||!a.attributes||!a.attributes.heading)return t;var s=o.reduce(function(e,t,n){return 0===n?e:e.push(t)},new R.E({zoneId:n}));return t.replace(n,s)},u}he("/* Web  */\n.adit-outer-container .adit-container hr.horizontal-line {\n  box-sizing: content-box;\n  display: block;\n  padding: 12px 0;\n  overflow: auto;\n  height: 1px;\n  background-origin: content-box;\n  background-image: linear-gradient(90deg, #bbbfc4, #bbbfc4);\n  background-repeat: no-repeat;\n  border: 0;\n}\n.adit-outer-container .adit-container .horizontal-line.single-clicked > hr.horizontal-line {\n  background-image: linear-gradient(90deg, #3370ff, #3370ff);\n}\n",{className:"adit-style"});var nt,rt=(oe(it,nt=N.EmbedFormatter),it.isFormatAcceptable=function(e,t){return"undo"===e||"redo"===e},it.setLineClass=function(){return["single-line"]},it.setValue=function(){return{tagName:"span",className:["horizontal-line","single-elem-cls"],domAttributes:['contenteditable="false"'],childNodes:[{tagName:"hr",className:["horizontal-line"],domAttributes:['data-faketext="&nbsp;"']}]}},it.prototype.setHTMLWhenOnlySelectHorizontalLine=function(e){var t,n=e.e,r=this.adit.getCurrentSelection(),i=r.selStart,o=r.selEnd;i[0]===o[0]&&(this.adit.getEditor().getRep().attributeManager.getAllAttributesOnLine(i[0]).some(function(e){return"horizontal-line"===e[0]})&&(t=W()(n.target).closest(".ace-line"),e.html=t.get(0).outerHTML),e.handled=!0)},it.prototype.handleCopy=function(e){this.setHTMLWhenOnlySelectHorizontalLine(e)},it.prototype.handleCut=function(e){this.setHTMLWhenOnlySelectHorizontalLine(e)},it.prototype.deserialize=function(e){var t=e.node,n=e.deltaSet,r=e.zoneId,i=new R.e;if(t instanceof HTMLElement){var o=t.tagName,a=t.className;if("SPAN"===o&&a.includes("horizontal-line"))return n.forEach(function(e,t){var n;i=t===r&&e instanceof R.E?((n=e.create(e)).insert(" ",{"horizontal-line":"true"}),i.concat(n)):i.concat(e)}),i}return n},it.prototype.destroy=function(){this.adit.off(R.k.COPY,this.handleCopy),this.adit.off(R.k.CUT,this.handleCut)},it.formatKey="horizontal-line",it.formatType=N.EmbedFormatter.FormatType.BLOCK,it.formatValueType=N.EmbedFormatter.FormatValueType.Boolean,it.toggleable=!0,it.isInsertNewLine=!0,ue([Object(D.c)(),le("design:type",Function),le("design:paramtypes",[Object]),le("design:returntype",void 0)],it.prototype,"handleCopy",null),ue([Object(D.c)(),le("design:type",Function),le("design:paramtypes",[Object]),le("design:returntype",void 0)],it.prototype,"handleCut",null),it);function it(e){var t=nt.call(this)||this;return t.adit=e,t.adit.on(R.k.COPY,t.handleCopy),t.adit.on(R.k.CUT,t.handleCut),t}function ot(e){var t=e.text,n=e.link,r=e.sure,i=e.addLinkInfo;return"\n    <div class='link-popup layout-row link-popup_hidden'>\n      <svg\n        class='link-popup__triangle'\n        width='20px'\n        height='20px'\n        viewBox='271 193 224 132'\n        version='1.1'\n        xmlns='http://www.w3.org/2000/svg'>\n        \x3c!-- <polygon\n          id='Triangle'\n          stroke='none'\n          fill='#fff'\n          fill-rule='evenodd'\n          points='383 193 495 325 271 325' /> --\x3e\n      </svg>\n      <div class='link-popup__input-group'>\n        <div class='link-row'>\n          <span class=\"link-row-text\">"+t+"</span>\n          <input\n            type='text'\n            spellcheck='false'\n            placeholder= '"+e.addTextInfo+"'\n            class='link-row-input text-input' />\n        </div>\n        <div class='link-row'>\n          <span class=\"link-row-text\">"+n+"</span>\n          <input\n            type='text'\n            spellcheck='false'\n            class='link-row-input link-input'\n            placeholder= '"+i+'\' />\n          <button class="link-submit">'+r+"</button>\n        </div>\n      </div>\n    </div>\n  "}he("/* Web  */\n.adit-popup-container {\n  position: relative;\n}\n.adit-popup-container .link-popup,\n.adit-popup-container .link-modify-popup,\n.adit-popup-container .link-noty-popup {\n  z-index: 10000;\n  box-sizing: border-box;\n  margin: 0;\n  padding: 0;\n  -webkit-font-smoothing: antialiased;\n  border-radius: 4px;\n  position: absolute !important;\n  padding: 8px;\n  line-height: 1.5;\n  font-size: 14px;\n  background-color: #fff;\n  box-shadow: 0 3px 12px 0 rgba(31, 35, 41, 0.1);\n  border: 1px solid #dee0e3;\n  color: #8f959e;\n}\n.adit-popup-container .link-popup *,\n.adit-popup-container .link-modify-popup *,\n.adit-popup-container .link-noty-popup * {\n  box-sizing: border-box;\n  margin: 0;\n  padding: 0;\n  -webkit-font-smoothing: antialiased;\n}\n.adit-popup-container .link-popup a,\n.adit-popup-container .link-modify-popup a,\n.adit-popup-container .link-noty-popup a,\n.adit-popup-container .link-popup button,\n.adit-popup-container .link-modify-popup button,\n.adit-popup-container .link-noty-popup button,\n.adit-popup-container .link-popup input,\n.adit-popup-container .link-modify-popup input,\n.adit-popup-container .link-noty-popup input,\n.adit-popup-container .link-popup textarea,\n.adit-popup-container .link-modify-popup textarea,\n.adit-popup-container .link-noty-popup textarea {\n  outline: 0;\n}\n.adit-popup-container .link-popup button,\n.adit-popup-container .link-modify-popup button,\n.adit-popup-container .link-noty-popup button {\n  cursor: pointer;\n  border: none;\n  background: none;\n}\n.adit-popup-container .link-popup.link-popup_hidden,\n.adit-popup-container .link-modify-popup.link-popup_hidden,\n.adit-popup-container .link-noty-popup.link-popup_hidden,\n.adit-popup-container .link-popup.link-modify-popup_hidden,\n.adit-popup-container .link-modify-popup.link-modify-popup_hidden,\n.adit-popup-container .link-noty-popup.link-modify-popup_hidden,\n.adit-popup-container .link-popup.link-noty-popup_hidden,\n.adit-popup-container .link-modify-popup.link-noty-popup_hidden,\n.adit-popup-container .link-noty-popup.link-noty-popup_hidden {\n  display: none;\n}\n.adit-popup-container .link-popup__triangle,\n.adit-popup-container .link-modify-popup__triangle,\n.adit-popup-container .link-noty-popup__triangle {\n  position: absolute;\n  top: -15px;\n  left: 50%;\n  margin-left: -10px;\n  -webkit-filter: drop-shadow(1px -1px 1px rgba(67, 74, 84, 0.12));\n  filter: drop-shadow(1px -1px 1px rgba(67, 74, 84, 0.12));\n}\n.adit-popup-container .link-popup .link-row,\n.adit-popup-container .link-modify-popup .link-row,\n.adit-popup-container .link-noty-popup .link-row {\n  white-space: nowrap;\n}\n.adit-popup-container .link-popup .link-row-text,\n.adit-popup-container .link-modify-popup .link-row-text,\n.adit-popup-container .link-noty-popup .link-row-text {\n  display: inline-block;\n  margin-right: 5px;\n  text-align: right;\n}\n.adit-popup-container .link-popup .link-row-input,\n.adit-popup-container .link-modify-popup .link-row-input,\n.adit-popup-container .link-noty-popup .link-row-input {\n  height: 32px;\n  width: 261px;\n  line-height: 32px;\n  font-size: 14px;\n  padding-left: 9px;\n  border-radius: 4px;\n  border: solid 1px #dee0e3;\n}\n.adit-popup-container .link-popup .link-row-input::-webkit-input-placeholder,\n.adit-popup-container .link-modify-popup .link-row-input::-webkit-input-placeholder,\n.adit-popup-container .link-noty-popup .link-row-input::-webkit-input-placeholder {\n  color: #bbbfc4;\n}\n.adit-popup-container .link-popup .link-row-input::-moz-placeholder,\n.adit-popup-container .link-modify-popup .link-row-input::-moz-placeholder,\n.adit-popup-container .link-noty-popup .link-row-input::-moz-placeholder {\n  color: #bbbfc4;\n}\n.adit-popup-container .link-popup .link-row-input:-ms-input-placeholder,\n.adit-popup-container .link-modify-popup .link-row-input:-ms-input-placeholder,\n.adit-popup-container .link-noty-popup .link-row-input:-ms-input-placeholder {\n  color: #bbbfc4;\n}\n.adit-popup-container .link-popup .link-row-input:focus,\n.adit-popup-container .link-modify-popup .link-row-input:focus,\n.adit-popup-container .link-noty-popup .link-row-input:focus {\n  border-color: #3370ff;\n}\n.adit-popup-container .link-popup .link-row:last-child,\n.adit-popup-container .link-modify-popup .link-row:last-child,\n.adit-popup-container .link-noty-popup .link-row:last-child {\n  margin-top: 8px;\n}\n.adit-popup-container .link-popup .link-row:first-child,\n.adit-popup-container .link-modify-popup .link-row:first-child,\n.adit-popup-container .link-noty-popup .link-row:first-child {\n  margin-top: 0;\n}\n.adit-popup-container .link-popup .link-submit,\n.adit-popup-container .link-modify-popup .link-submit,\n.adit-popup-container .link-noty-popup .link-submit,\n.adit-popup-container .link-popup .link-modify-submit,\n.adit-popup-container .link-modify-popup .link-modify-submit,\n.adit-popup-container .link-noty-popup .link-modify-submit {\n  display: inline-block;\n  vertical-align: top;\n  width: 68px;\n  border: none;\n  height: 32px;\n  color: #fff;\n  cursor: pointer;\n  background-color: #3370ff;\n  margin-left: 4px;\n  border-radius: 4px;\n  font-size: 14px;\n}\n.adit-popup-container .link-popup .link-submit:active,\n.adit-popup-container .link-modify-popup .link-submit:active,\n.adit-popup-container .link-noty-popup .link-submit:active,\n.adit-popup-container .link-popup .link-modify-submit:active,\n.adit-popup-container .link-modify-popup .link-modify-submit:active,\n.adit-popup-container .link-noty-popup .link-modify-submit:active {\n  background-color: #3370ff;\n}\n.adit-popup-container .link-popup .link-submit > svg,\n.adit-popup-container .link-modify-popup .link-submit > svg,\n.adit-popup-container .link-noty-popup .link-submit > svg,\n.adit-popup-container .link-popup .link-modify-submit > svg,\n.adit-popup-container .link-modify-popup .link-modify-submit > svg,\n.adit-popup-container .link-noty-popup .link-modify-submit > svg {\n  display: inline-block;\n}\n.adit-popup-container .link-popup.link-popup__uncollapsed .link-row:first-child,\n.adit-popup-container .link-modify-popup.link-popup__uncollapsed .link-row:first-child,\n.adit-popup-container .link-noty-popup.link-popup__uncollapsed .link-row:first-child,\n.adit-popup-container .link-popup.link-modify-popup__uncollapsed .link-row:first-child,\n.adit-popup-container .link-modify-popup.link-modify-popup__uncollapsed .link-row:first-child,\n.adit-popup-container .link-noty-popup.link-modify-popup__uncollapsed .link-row:first-child,\n.adit-popup-container .link-popup.link-noty-popup__uncollapsed .link-row:first-child,\n.adit-popup-container .link-modify-popup.link-noty-popup__uncollapsed .link-row:first-child,\n.adit-popup-container .link-noty-popup.link-noty-popup__uncollapsed .link-row:first-child {\n  display: none;\n}\n.adit-popup-container .link-popup.link-popup__uncollapsed .link-row:last-child,\n.adit-popup-container .link-modify-popup.link-popup__uncollapsed .link-row:last-child,\n.adit-popup-container .link-noty-popup.link-popup__uncollapsed .link-row:last-child,\n.adit-popup-container .link-popup.link-modify-popup__uncollapsed .link-row:last-child,\n.adit-popup-container .link-modify-popup.link-modify-popup__uncollapsed .link-row:last-child,\n.adit-popup-container .link-noty-popup.link-modify-popup__uncollapsed .link-row:last-child,\n.adit-popup-container .link-popup.link-noty-popup__uncollapsed .link-row:last-child,\n.adit-popup-container .link-modify-popup.link-noty-popup__uncollapsed .link-row:last-child,\n.adit-popup-container .link-noty-popup.link-noty-popup__uncollapsed .link-row:last-child {\n  margin-top: 0;\n}\n.adit-popup-container .link-input::-webkit-input-placeholder,\n.adit-popup-container .link-modify-input::-webkit-input-placeholder,\n.adit-popup-container .link-input::-moz-placeholder,\n.adit-popup-container .link-modify-input::-moz-placeholder,\n.adit-popup-container .link-input:-ms-input-placeholder,\n.adit-popup-container .link-modify-input:-ms-input-placeholder,\n.adit-popup-container .link-input:-moz-placeholder,\n.adit-popup-container .link-modify-input:-moz-placeholder {\n  color: #bbbfc4;\n}\n.adit-popup-container .link-iframe {\n  display: flex;\n  flex-flow: row nowrap;\n  align-items: center;\n}\n.adit-popup-container .link-iframe__icon {\n  width: 24px;\n  height: 24px;\n  background-size: contain;\n  border-radius: 50%;\n  border: 1px solid #e3e5ea;\n}\n.adit-popup-container .link-iframe__input {\n  margin: 0 19px 0 9px;\n  border: none;\n  text-overflow: ellipsis;\n  width: 210px;\n}\n.adit-popup-container .link-iframe__example {\n  font-size: 14px;\n  color: #0077ff;\n}\n.adit-popup-container .link-iframe__submit {\n  background-color: #0077ff;\n  border-radius: 16px;\n  font-size: 14px;\n  color: #ffffff;\n  line-height: 20px;\n  padding: 6px 18px;\n  margin-left: 16px;\n}\n.adit-popup-container .link-iframe.hidden {\n  display: none;\n}\n.adit-popup-container .link-popup__input-group.hidden {\n  display: none;\n}\n.adit-popup-container .link-popup--iframe .link-popup__triangle {\n  display: none;\n}\n",{className:"adit-style"});var at=392,st=(ct.prototype.getStatus=function(){return this.showStatus},ct.prototype.hidePopup=function(){this.editor.call("editorbar:toggleAButtonVisible",!0),this.showStatus=!1,this.domSet.linkPopup.addClass("link-popup_hidden")},ct.prototype.showPopup=function(e,t,n,r){var i=this.editor.selection,o=i.getRealEndLine,a=i.getRealFirstLine,s=i.getSelectionRange,c=this.editor.getRep();this.domSet.linkPopup.removeClass("link-popup_hidden link-popup__uncollapsed"),e||r||this.domSet.linkPopup.addClass("link-popup__uncollapsed"),t&&n?(this.domSet.textInput.val(n),this.domSet.linkInput.val(t)):(this.domSet.textInput.val(""),this.domSet.linkInput.val(""));var u=c.selStart,l=c.selEnd,d={selStart:u,selEnd:l},p=o(c.zoneId,d),f=a(c.zoneId,d),h={};f===u[0]&&f===p?h.selStart=u:h.selStart=[p,0],p===l[0]?h.selEnd=l:h.selEnd=[p,c.lines.atIndex(p).text.length];var g,m,v,y,b=c.lines.atIndex(h.selStart[0]),E=s(h.selStart,h.selEnd,b,b),_={top:0,left:0,width:0,height:0},C=E.startContainer;E.collapsed&&"BR"===C.tagName?(C.parentNode?E.selectNode(C.parentNode):E.selectNode(C),m=(g=E.getBoundingClientRect()).top,v=g.left,y=g.height,_.top=m,_.left=v,_.width=8,_.height=y):_=E.getBoundingClientRect();var T=_.left+_.width/2-at/2,O=this.boundaryContainer.getBoundingClientRect(),k=O.left,S=O.right-at,T=Math.max(T,k);T=Math.min(T,S);var w=_.top+_.height,I=this.popupMountNode.getBoundingClientRect();this.domSet.linkPopup.css({left:T-I.left+"px",top:w-I.top+"px"}),this.showStatus=!0},ct.prototype.getContainer=function(){return this.domSet.outContainer},ct);function ct(e,t,n,r){this.editor=t,this.popupMountNode=n,this.boundaryContainer=r,this.showStatus=!1;var i=W()(n),o=e.i18n["hyperlink.text"],a=e.i18n["hyperlink.link"],s=W()(ot({text:o,link:a,sure:e.i18n["hyperlink.determine"],addLinkInfo:e.i18n["hyperlink.add-link"],addTextInfo:e.i18n["hyperlink.enter-text"]}));s.appendTo(i);var c=s.find(".link-popup__triangle"),u=s.find(".text-input"),l=s.find(".link-input"),d=s.find(".link-popup__input-group");this.domSet={outContainer:i,linkPopup:s,triangle:c,textInput:u,linkInput:l,linkGroup:d}}var ut=N.RepManager.DEFAULT_REP_ZONE;function lt(e,t){return{top:(e.top||0)*t,bottom:(e.bottom||0)*t,left:(e.left||0)*t,right:(e.right||0)*t,height:(e.height||0)*t,width:(e.width||0)*t,x:(e.x||0)*t,y:(e.y||0)*t}}function dt(e,t){var n=t.domToRep(e);if(!n)return 1;var r=n.selStart[2],i=(r===ut?n:t.getZoneSelectionInMainZone(r)).selStart[0],o=t.getRep(ut).lines.atIndex(i);return o&&o.zoom||1}function pt(){return'\n    <div class=\'link-modify-popup link-popup_hidden layout-row\'>\n      <div class=\'link-popup__input-group\'>\n        <div class=\'link-row\'>\n          <span class=\'link-modify-text\'></span>\n          <button class=\'link-modify-submit\'>\n          <svg width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n            \x3c!-- Generator: Sketch 56.3 (81716) - https://sketch.com --\x3e\n            <title>icon_global_rename_nor</title>\n            <desc>Created with Sketch.</desc>\n            <g id="Web-16*16" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n                <g id="Artboard" transform="translate(-400.000000, -1991.000000)">\n                    <g id="icon_global_renameB_nor" transform="translate(400.000000, 1991.000000)">\n                        <path d="M15.1265037,5.60544547 L8.35345598,12.4306046 L8.35345598,14.985114 C8.35345598,15.3550164 8.65332107,15.6548815 9.02322342,15.6548815 L11.5777328,15.6548815 L18.3999676,8.83245595 L18.3999676,18.2566083 C18.3999676,18.6676109 18.0667842,19.0007943 17.6557816,19.0007943 L5.74880481,19.0007943 C5.33780221,19.0007943 5.00461877,18.6676109 5.00461877,18.2566083 L5.00461877,6.34963151 C5.00461877,5.93862891 5.33780221,5.60544547 5.74880481,5.60544547 L15.1265037,5.60544547 L15.4582223,5.2711746 L15.4563749,5.26931747 L15.9287278,4.79696465 C16.1902882,4.53540419 16.6143615,4.53540419 16.875922,4.79696465 L19.1772725,7.1104204 C19.4376619,7.37217982 19.4371068,7.79529503 19.1760315,8.05637033 L18.3999676,8.83245595 L18.3999676,11.0565059 L16.9022932,12.5632027 L16.9022932,17.510386 L6.50229318,17.510386 L6.50229318,7.09585377 L11.3951561,7.09585377 L12.8584857,5.60544547 L15.1265037,5.60544547 Z M17.7374633,7.56240771 L16.3810852,6.19889305 L15.2403052,7.36197835 L16.5896521,8.7113252 L17.7374633,7.56240771 Z M15.6429141,9.65897563 L14.3022815,8.318343 L9.71477192,12.9955508 L11.0107447,14.2935655 L11.0127867,14.2935655 L15.6429141,9.65897563 Z" fill="#2B2F36"></path>\n                    </g>\n                </g>\n            </g>\n          </svg>\n          </button>\n          <button class=\'link-modify-delete\'>\n          <svg width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n            \x3c!-- Generator: Sketch 57.1 (83088) - https://sketch.com --\x3e\n            <title>icon_global_delete_nor</title>\n            <desc>Created with Sketch.</desc>\n            <g id="Web-16*16" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n                <g id="Artboard" transform="translate(-173.000000, -990.000000)">\n                    <g id="icon_-global_delete_nor" transform="translate(173.000000, 990.000000)">\n                        <g id="bg"></g>\n                        <g id="icon_global_delete_nor" transform="translate(4.000000, 4.000000)" fill="#2B2F36">\n                            <path d="M10.2,0.5 C10.6418278,0.5 11,0.8581722 11,1.3 L11,2 L15.487223,2 C15.6655267,2 15.730184,2.01856512 15.7953691,2.05342654 C15.8605543,2.08828796 15.911712,2.13944567 15.9465735,2.20463086 C15.9814349,2.26981604 16,2.33447329 16,2.51277704 L16,2.98722296 C16,3.16552671 15.9814349,3.23018396 15.9465735,3.29536914 C15.911712,3.36055433 15.8605543,3.41171204 15.7953691,3.44657346 C15.730184,3.48143488 15.6655267,3.5 15.487223,3.5 L14,3.5 L14,14.7 C14,15.1418278 13.6418278,15.5 13.2,15.5 L2.8,15.5 C2.3581722,15.5 2,15.1418278 2,14.7 L2,3.5 L0.51277704,3.5 C0.334473292,3.5 0.269816044,3.48143488 0.204630859,3.44657346 C0.139445674,3.41171204 0.0882879593,3.36055433 0.0534265408,3.29536914 C0.0185651222,3.23018396 -1.15226757e-16,3.16552671 -4.0588721e-16,2.98722296 L-2.36571968e-16,2.51277704 C-2.13603789e-16,2.33447329 0.0185651222,2.26981604 0.0534265408,2.20463086 C0.0882879593,2.13944567 0.139445674,2.08828796 0.204630859,2.05342654 C0.269816044,2.01856512 0.334473292,2 0.51277704,2 L5,2 L5,1.3 C5,0.8581722 5.3581722,0.5 5.8,0.5 L10.2,0.5 Z M12.5,3.5 L3.5,3.5 L3.5,14 L12.5,14 L12.5,3.5 Z M6.6,5.5 C6.8209139,5.5 7,5.6790861 7,5.9 L7,11.6 C7,11.8209139 6.8209139,12 6.6,12 L5.9,12 C5.6790861,12 5.5,11.8209139 5.5,11.6 L5.5,5.9 C5.5,5.6790861 5.6790861,5.5 5.9,5.5 L6.6,5.5 Z M10.1,5.5 C10.3209139,5.5 10.5,5.6790861 10.5,5.9 L10.5,11.6 C10.5,11.8209139 10.3209139,12 10.1,12 L9.4,12 C9.1790861,12 9,11.8209139 9,11.6 L9,5.9 C9,5.6790861 9.1790861,5.5 9.4,5.5 L10.1,5.5 Z" id="Combined-Shape"></path>\n                        </g>\n                    </g>\n                </g>\n            </g>\n          </svg>\n          </button>\n\n        </div>\n      </div>\n    </div>\n  '}he(".adit-popup-container {\n  position: relative;\n}\n.adit-popup-container .link-modify-popup {\n  z-index: 10000;\n  box-sizing: border-box;\n  margin: 0;\n  padding: 0;\n  -webkit-font-smoothing: antialiased;\n  height: 40px;\n  padding: 8px;\n}\n.adit-popup-container .link-modify-popup * {\n  box-sizing: border-box;\n  margin: 0;\n  padding: 0;\n  -webkit-font-smoothing: antialiased;\n}\n.adit-popup-container .link-modify-popup a,\n.adit-popup-container .link-modify-popup button,\n.adit-popup-container .link-modify-popup input,\n.adit-popup-container .link-modify-popup textarea {\n  outline: 0;\n}\n.adit-popup-container .link-modify-popup button {\n  cursor: pointer;\n  border: none;\n  background: none;\n}\n.adit-popup-container .link-modify-popup .link-popup__input-group {\n  font-size: 0;\n}\n.adit-popup-container .link-modify-popup .link-popup__input-group .link-row {\n  padding-left: 5px;\n}\n.adit-popup-container .link-modify-popup .link-popup__input-group .link-row button {\n  width: 24px;\n  height: 24px;\n  margin-left: 12px;\n  vertical-align: middle;\n}\n.adit-popup-container .link-modify-popup .link-popup__input-group .link-row .link-modify-input {\n  width: 253px;\n}\n.adit-popup-container .link-modify-popup .link-popup__input-group .link-row .link-modify-text {\n  display: inline-block;\n  overflow: hidden;\n  width: 249px;\n  font-size: 14px;\n  text-align: left;\n  vertical-align: middle;\n  color: #3370ff;\n}\n.adit-popup-container .link-modify-popup .link-popup__input-group .link-row .link-modify-submit {\n  background: none;\n  margin-left: 15px;\n  border-top-left-radius: 0;\n  border-bottom-left-radius: 0;\n}\n.adit-popup-container .link-modify-popup .link-popup__input-group .link-row .link-modify-close {\n  margin-top: 2px;\n  display: inline-block;\n}\n",{className:"adit-style"});var ft=350;function ht(e,t,n){var r,i;if(!e.getClientRects)return lt(e.getBoundingClientRect(),n);var o=e.getClientRects(),a={};Object.values(o).map(function(e){return lt(e,n)}).forEach(function(e){var t;a[e.y]?(t=a[e.y],a[e.y]={left:Math.min(t.left,e.left),top:e.top,width:t.width+e.width,height:e.height}):a[e.y]=e});try{for(var s=de(Object.values(a)),c=s.next();!c.done;c=s.next()){var u=c.value,l=u.top,d=u.top+u.height;if(l<=t&&t<=d)return u}}catch(e){r={error:e}}finally{try{c&&!c.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}return lt(e.getBoundingClientRect(),n)}var gt=(mt.prototype.getStatus=function(){return this.showStatus},mt.prototype.hidePopup=function(){this.showStatus=!1,this.domSet.modifyPopup.addClass("link-popup_hidden"),this.domSet.modifyPopup.find(".link-modify-submit").off("click"),this.domSet.modifyPopup.find(".link-modify-delete").off("click")},mt.prototype.showPopup=function(e,t,n){void 0===n&&(n=1);var r=ht(e,t.y,n),i=r.left+r.width/2-ft/2,o=this.boundaryContainer.getBoundingClientRect(),a=o.left,s=o.right-ft;i<a&&(i=a),s<i&&(i=s);var c=r.top+r.height,u=this.popupMountNode.getBoundingClientRect();this.domSet.modifyPopup.css({left:i-u.left+"px",top:c-u.top+"px"}),this.showStatus=!0},mt.prototype.getContainer=function(){return this.domSet.outContainer},mt);function mt(e,t){this.popupMountNode=e,this.boundaryContainer=t,this.showStatus=!1;var n=W()(e),r=W()(pt());r.appendTo(n);var i=r.find(".link-popup__triangle"),o=r.find("span.link-modify-text"),a=r.find("span.link-modify-delete");this.domSet={outContainer:n,modifyPopup:r,triangle:i,linkText:o,linkDelete:a}}he(".adit-outer-container .lb {\n  background: #eff0f1;\n}\n.adit-outer-container .url > a {\n  color: #3370ff;\n}\n.adit-outer-container .url > a:hover {\n  text-decoration: none;\n}\n.adit-outer-container .removeLink {\n  hyphens: none;\n  word-break: break-all;\n}\n.adit-outer-container span.outer-u-container:hover {\n  text-decoration: underline;\n}\n",{className:"adit-style"});var vt,yt=function(s,f){return function(e,u){s.lastIndex=0;for(var t,i=null,n=null,l=!1;t=s.exec(e);){i&&n||(i=[],n=[]);var r=t.index,o=t[0];i.push([r,o]),n.push(r,r+o.length)}if(!i)return u;var d,p=function(e,t){if(!i)return!1;for(var n=0;n<i.length;n++){var r=i[n];if(e>=r[0]&&e<r[0]+r[1].length){if(!t)return r[1];i.splice(n,1),n--}}return!1},a=(d=0,function(e,t,n,r,i){void 0===t&&(t=""),-1!==t.indexOf("list:code")&&(l=!0);var o=e.length,a=t,s=-1<t.indexOf("hyperlink-href")&&-1===t.indexOf("manual"),c=p(d,s);c&&!l&&(a+=" "+f+":"+c),u(e,a,n,r,i),d+=o});return N.LineStyleFilter.textAndClassFuncSplitter(a,n)}},bt=D.E.getHotKeyName,Et=D.E.LINK,_t=D.J.completeURLProtocol,At=D.J.isDataURL,Ct="IGNORE_HYPERLINK",Tt="IGNORE_LINE_BACKGROUND",Ot=new RegExp("mention-type|"+Ct),kt=null,St=null,wt=338,It=(oe(xt,vt=N.TreeFormatter),xt.prototype.formatAttributes=function(t,e,n){var a=this;return t&&!t.linkId?e.map(function(e){return t.linkId=Object(D.z)(10),e.attribs.push([xt.formatKey,t]),e.attribs.push(["removeLink",""]),e}):t?e:e.map(function(e){var t=e.selStart,n=e.attribs.some(function(e){return pe(e,1)[0]===xt.formatKey}),r={zone:"0",selStart:t},i=a.linkIdentity(r),o=[[xt.formatKey,""]];return n&&!i||o.push(["removeLink","true"]),e.attribs=o,e})},xt.prototype.aceAttribsToClasses=function(e,t){if(t.key!==xt.formatKey)return"removeLink"===t.key?["removeLink"]:"link_background"===t.key?["lb"]:[];var n=JSON.parse(t.value);return"javascript:void(0)"===n.href?[]:[t.key+"-href:"+n.href,t.key+"-linkId:"+n.linkId]},xt.prototype.aceGetFilterStack=function(){return this.urlFilter},xt.prototype.aceCreateDomLine=function(e,t){var n=t.spanClass,r=t.htmls;0===r.length&&(this.currentURL="",this.processingURL=!1);var i=/(?:^| )hyperlink-href:(\S+)/.exec(n),o=-1<n.indexOf("removeLink");if(i){var a,s,c,u=i[1];if(0===u.indexOf("javascript://")&&(u=""),Ot.test(n)&&u)return t.spanClass=n.replace(i[0],""),void this.closeUrlSpan(r);if(o&&((s=r[a=r.length-1])&&/data-faketext/.test(s)&&/inline/.test(s)?r[a]=s.replace(D.f,""):t.extraOpenHtml+=D.e,t.extraCloseHtml+=D.f),u&&!o){u!==this.currentURL&&(c='<span class="outer-u-container '+(this.option&&this.option.outerContainerClass?this.option.outerContainerClass:"")+'">',this.processingURL&&t.htmls.push("</span>"),t.htmls.push(c),this.currentURL=u),this.processingURL=!0;var l=this.getCustomProtocols(),d="<a href="+Object(w.escapeHTMLAttribute)(_t(u,l))+' rel="noopener" target="_blank">';return t.extraOpenTags=""+d+t.extraOpenTags,void(t.extraCloseTags=t.extraCloseTags+"</a>")}this.closeUrlSpan(r),t.spanClass=n.replace(i[0],"")}else this.closeUrlSpan(r)},xt.prototype.acePreWriteDomLineHTML=function(e,t){var n=t.htmls;this.closeUrlSpan(n)},xt.prototype.changesetApply=function(){this.modifyPopup&&this.modifyPopup.getStatus()&&this.closeModifyPopup()},xt.prototype.reset=function(){this.removeEvents(),this.removeMouseEvent()},xt.prototype.pluginReadOnly=function(){this.removeEvents()},xt.prototype.pluginReadWrite=function(){this.removeEvents(),this.addEvents()},xt.prototype.getCustomProtocols=function(){return this.option&&this.option.customProtocols?this.option.customProtocols:[]},xt.prototype.getCustomLinkRegexp=function(e){var t,n;return null!==(n=null===(t=this)||void 0===t?void 0:t.option)&&void 0!==n&&n.customLinkRegexp?this.option.customLinkRegexp:e},xt.collect=function(e,t){var n,r,i,o=[];if(t.flags.dataMetaBlockProps)return{attributes:o};if(null!==(i=null===(n=null===e||void 0===e?void 0:e.classList)||void 0===n?void 0:(r=n).contains)&&void 0!==i&&i.call(r,"removeLink")&&o.push(["removeLink","true"]),"A"===e.tagName.toUpperCase()){for(var a=e.parentElement;null!==a&&"span"!==a.tagName.toLocaleLowerCase()&&"body"!==a.tagName.toLocaleLowerCase();)a=a.parentElement;var s,c,u=a&&a.className,l=u&&-1<u.indexOf("hyperlink"),d=u&&-1<u.indexOf("mention"),p=u&&!l&&-1<u.indexOf("hyperlink"),f=e.getAttribute("href"),h="string"==typeof f&&-1<f.indexOf("javascript:void(0)");l&&u&&f&&((s=/(?:^| )hyperlink-linkId:([A-Za-z0-9]*)/.exec(u))&&o.push([xt.formatKey,JSON.stringify({linkId:s[1],href:f})])),l||h||d||p||(c=e.innerText,D.n.LINK_REG.lastIndex=0,!D.n.LINK_REG.exec(c)&&f&&o.push([xt.formatKey,JSON.stringify({linkId:Object(D.z)(10),href:f})]))}return{attributes:o}},xt.prototype.initPopup=function(){var e,t,n,r,i;this.option&&this.option.getContainer&&this.option.getBoundaryContainer&&(t=(e=this.option).getContainer,n=e.getBoundaryContainer,this.disablePopup=!1,r=t(),i=n(),r.classList.add("adit-popup-container"),this.linkPopup=new st(this.adit,this.editor,r,i),this.modifyPopup=new gt(r,i))},xt.prototype.register=function(){var e=this;this.editor.commands.registerCommand(Et,function(){e.handleClickLinkButton()})},xt.prototype.handleSave=function(){var n=this,e=this.linkPopup.domSet,t=e.linkInput,r=e.textInput,i=t.val();At(i)&&(i="");var o=r.val();W()(".link-popup__uncollapsed").length||o||(o=i),this.editor.callWithAce(function(){var e,t;n.doToggleLinkBackground("link_background"),i&&(e=n.editor.getRep(),t=n.getCustomProtocols(),n.doInsertLink(e.zoneId,_t(i,t),null,o))},"insertLink",!0,{mergeEvent:"insertLink"}),this.linkPopup.hidePopup(),t.val(""),r.val("")},xt.prototype.inHyperBtn=function(e){return e&&W()("[data-key=link]").get(0)&&W()("[data-key=link]").get(0).contains(e)},xt.prototype.storeSelPosition=function(){var e=this.editor.getRep();this.storeSel={selZone:e.zoneId,selStart:[e.selStart[0],e.selStart[1]],selEnd:[e.selEnd[0],e.selEnd[1]]}},xt.prototype.setCursorPositionFromStore=function(){var e,t,n,r;this.storeSel&&(t=(e=this.storeSel).selZone,n=e.selStart,r=e.selEnd,this.editor.selection.setWithSelection(t,n,r,!1),this.editor.updateBrowserSelectionFromRep(),this.clearSelPosition())},xt.prototype.clearSelPosition=function(){this.storeSel=null},xt.prototype.setHyperDom=function(e){var t=this.editor.dom,n=t.rootNodeOfZoneContaining(e);if(n){var r=t.zoneOfRootNode(n),i=this.editor.domToRep(e);if(i)return this.editor.activeCaret(),this.editor.selection.setWithSelection(r,i.selStart,i.selEnd,!1),this.editor.updateBrowserSelectionFromRep(),{zone:r,_rep:i}}},xt.prototype.linkIdentity=function(e){var t=this.editor.getReps()[e.zone].lines.atIndex(e.selStart[0]).text;return!!D.n.LINK_REG.exec(t)},xt.prototype.closeModifyPopup=function(){this.handleMouseLeaveUrl()},xt.prototype.handleClickLinkButton=function(e){var t,n=this,r=void 0===e?{link:"",text:"",existsLink:!1}:e,i=r.link,o=r.text,a=r.existsLink,s=window.getSelection();s&&(t=s.isCollapsed,this.linkPopup.getStatus()?(this.editor.callWithAce(function(){n.doToggleLinkBackground("link_background")},"insertLink",!0),this.linkPopup.hidePopup(),this.setCursorPositionFromStore()):(this.linkPopup.showPopup(t,i,o,a),setTimeout(function(){t?n.storeSelPosition():n.editor.callWithAce(function(){n.doToggleLinkBackground("link_background")},"insertLink",!0,{mergeEvent:"insertLink"}),n.linkPopup.domSet.linkInput.get(0).focus()},0)))},xt.prototype.closeUrlSpan=function(e){this.processingURL&&(this.currentURL="",this.processingURL=!1,e.push("</span>"))},xt.prototype.doInsertLink=function(n,e,t,r){var i,o,a,s,c=this,u=this.editor,l=u.getReps()[n],d=t||l,p=l.attributeManager;u.removeMatchedAttributeOnSelection(n,d,"hyperlink"),d.selStart&&d.selEnd&&(i=["removeLink",""],o=Object(D.z)(10),a=["hyperlink",JSON.stringify({href:e,linkId:o})],s=["author",u.getAuthor()],r?u.performDocumentReplaceRangeWithAttributes(d.zoneId,d.selStart,d.selEnd,r,[a,s]):N.RangeHelper.splitSelectionWithClassName(d,u.domToRep,Ct).forEach(function(e){var t=e.selStart,n=e.selEnd;p.setAttributesOnRange(t,n,[i,a,s])}),d.selEnd&&setTimeout(function(){var e=window.getSelection();e&&e.rangeCount&&e.removeAllRanges();var t=W()(c.editor.getScrollContainer()).scrollTop();u.focus(t),u.selection.setWithSelection(n,d.selEnd,d.selEnd,!1),u.updateBrowserSelectionFromRep()},0))},xt.prototype.doToggleLinkBackground=function(e){this.editor.toggleAttributeOnSelection(e,void 0,void 0,void 0,N.config.LOCAL)},xt.prototype.addMouseEvent=function(){var e=this.editor.getInnerContainer();W()(e).on("mouseenter"+this.eventNamespace,'[class*="hyperlink"], .manual',this.handleMouseEnterUrl).on("mouseleave"+this.eventNamespace,'[class*="hyperlink"], .manual',this.handleMouseLeaveUrl).on("mousedown"+this.eventNamespace,'[class*="hyperlink"], .manual',this.handleMouseDown).on("mouseup"+this.eventNamespace,'[class*="hyperlink"], .manual',this.handleMouseUp).on("dragstart"+this.eventNamespace,'[class*="hyperlink"], .manual',this.handleDragStart),e.addEventListener("click",this.handleUrlClick,!0)},xt.prototype.addEvents=function(){var e,t;this.disablePopup||(e=this.modifyPopup.domSet.modifyPopup,t=this.linkPopup.domSet.linkPopup,e&&e.on("mouseenter"+this.eventNamespace,this.handleMouseEnterModifyPopup).on("mouseleave"+this.eventNamespace,this.handleMouseLeaveModifyPopup).on("keyup"+this.eventNamespace,this.handleModifyPopupKeyUp),t&&t.on("blur"+this.eventNamespace,this.handleInputBlur).on("keyup"+this.eventNamespace,this.handleLinkPopupKeyUp).find("input").on("keydown"+this.eventNamespace,this.handleInputKeyDown),W()(".link-submit").on("click"+this.eventNamespace,this.handleClickSubmit),W()(window).on("blur"+this.eventNamespace,this.handleWindowBlur),W()(document).on("mousedown"+this.eventNamespace,this.handleDocumentMouseDown))},xt.prototype.removeMouseEvent=function(){var e=this.editor.getInnerContainer();W()(e).off(this.eventNamespace),e.removeEventListener("click",this.handleUrlClick,!0)},xt.prototype.removeEvents=function(){this.disablePopup||(W()(".link-popup").off(this.eventNamespace).find("input").off(this.eventNamespace),W()(".link-modify-popup").off(this.eventNamespace).find("input").off(this.eventNamespace),W()(window).off(this.eventNamespace),W()(document).off(this.eventNamespace),W()(".link-submit").off(this.eventNamespace),W()(".link-modify-submit").off("click",this.handleClickModify))},xt.prototype.aceKeyEvent=function(e,t){var n=t.evt;return bt(n)===Et&&(n.preventDefault(),this.editor.commands.triggerCommand(Et),!0)},xt.prototype.serialize=function(e){var t,n,r,i=e.type,o=e.node,a=e.op,s=null===(r=null===a||void 0===a?void 0:a.attributes)||void 0===r?void 0:r.hyperlink;if(i===R.u.LEAF&&s){var c=document.createElement("a"),u=JSON.parse(s);try{for(var l=de(Object.entries(u)),d=l.next();!d.done;d=l.next()){var p=pe(d.value,2),f=p[0],h=p[1];c.setAttribute(f,String(h))}}catch(e){t={error:e}}finally{try{d&&!d.done&&(n=l.return)&&n.call(l)}finally{if(t)throw t.error}}return c.setAttribute("target","_blank"),c.setAttribute("rel","noopener noreferrer"),c.appendChild(o),Object.assign(e,{node:c})}return e},xt.formatKey="hyperlink",xt.formatType=N.TreeFormatter.FormatType.INLINE,xt.formatValueType=N.TreeFormatter.FormatValueType.Object,xt.toggleable=!0,xt);function xt(e,t){var d=vt.call(this)||this;return d.adit=e,d.option=t,d.className="HyperLinks",d.storeSel=null,d.eventNamespace=".link"+ +new Date,d.currentURL="",d.processingURL=!1,d.disablePopup=!0,d.handleLinkPopupKeyUp=function(e){d.linkPopup.getStatus()&&e.keyCode===D.j.Esc&&d.handleClickLinkButton()},d.handleModifyPopupKeyUp=function(e){d.modifyPopup.getStatus()&&e.keyCode===D.j.Esc&&d.modifyPopup.hidePopup()},d.handleDocumentMouseDown=function(e){var t,n=e.target;!d.linkPopup.getStatus()||d.linkPopup.domSet.linkPopup.get(0).contains(n)||d.inHyperBtn(n)||((t=W()('#editbar-line-popover [data-key="link"]').get(0))&&t.contains(n)||(d.linkPopup.hidePopup(),d.editor.callWithAce(function(){d.doToggleLinkBackground("link_background")},"insertLink",!0))),d.modifyPopup.getStatus()&&!d.modifyPopup.domSet.modifyPopup.get(0).contains(n)&&d.modifyPopup.hidePopup()},d.handleClickModify=function(e){var t=e.data.hyperDom;d.setHyperDom(t);var n=W()(t).find("a").get(0).href,r=W()(t).text();d.modifyPopup.hidePopup(),d.handleClickLinkButton({link:n,text:r,existsLink:!0})},d.handleClickDelete=function(e){var t,n,r,i,o=e.data,a=o.attr,s=o.hyperDom,c=d.editor,u=c.getDocBody(),l=d.setHyperDom(s);l&&l.zone&&(t=l.zone,n=l._rep.selStart.slice(0,2),r=d.linkIdentity({zone:t,selStart:n}),d.clearSelPosition(),i=c.getRep(),u.contains(s)?c.callWithAce(function(){a?(c.removeAttributeOnDom(i.zoneId,s,xt.formatKey),r&&c.setAttributeOnSelection(i.zoneId,"removeLink",!0,i)):c.setAttributeOnSelection(i.zoneId,"removeLink",!0,i)},"removeAttributeOnDom",!0):console.log("don not in innerbody"),d.modifyPopup.hidePopup())},d.handleCloseModifyPopup=function(){d.modifyPopup.hidePopup()},d.handleMouseEnterModifyPopup=function(){kt&&(clearTimeout(kt),kt=null)},d.handleMouseLeaveModifyPopup=function(){d.closeModifyPopup()},d.handleWindowBlur=function(){St&&(clearTimeout(St),St=null)},d.handleMouseEnterUrl=function(o){d.option&&d.option.onMouseEnter&&d.option.onMouseEnter(o.originalEvent),d.disablePopup||(St=window.setTimeout(function(){var e,t,n=o.currentTarget,r=W()(n).find("a").get(0).href,i=/hyperlink-href:(\S+)/.exec(n.className);d.editor.dom.isCurrentContext(d.editor.dom.getRootNodeForDom(n))&&(d.modifyPopup.domSet.linkText.html(r),e=dt(n,d.editor),d.modifyPopup.showPopup(n,{y:0},e),t={attr:i,hyperDom:n},d.modifyPopup.domSet.modifyPopup.removeClass("link-popup_hidden"),kt&&clearTimeout(kt),W()(".link-modify-submit").one("click",t,d.handleClickModify),W()(".link-modify-delete").one("click",t,d.handleClickDelete))},500))},d.handleMouseLeaveUrl=function(e){e&&d.option&&d.option.onMouseLeave&&d.option.onMouseLeave(e.originalEvent),d.disablePopup||(St&&clearTimeout(St),kt=window.setTimeout(d.handleCloseModifyPopup,500))},d.handleMouseDown=function(e){var t,n,r=e.originalEvent;d.option&&d.option.onMouseDown&&d.option.onMouseDown(r),2!==r.which&&4!==r.button||(t=e.currentTarget,(n=W()(t).find("a").get(0).href)&&0<n.length&&window.open(n,"_blank"))},d.handleMouseUp=function(e){d.option&&d.option.onMouseUp&&d.option.onMouseUp(e.originalEvent)},d.handleUrlClick=function(e){for(var t=d.editor.getInnerContainer(),n=e.target,r=!1;n&&n!==t;){if(n.classList.contains("manual")||Object(b.a)(n.className)&&n.className.includes("hyperlink")){r=!0;break}n=n.parentElement}r&&d.option&&d.option.onClick&&d.option.onClick(e)},d.handleDragStart=function(){return!1},d.handleClickSubmit=function(){d.handleSave()},d.handleInputBlur=function(){d.editor.callWithAce(function(){d.doToggleLinkBackground("link_background")},"insertLink",!0),setTimeout(function(){d.linkPopup.hidePopup()},100)},d.handleInputKeyDown=function(e){e.keyCode===D.j.Enter&&(W()(".link-submit").focus(),d.handleSave(),e.stopPropagation(),e.preventDefault())},d.editor=e.getEditor(),d.register(),d.initPopup(),d.removeEvents(),d.addEvents(),d.addMouseEvent(),D.n.addExtraProtocols(d.getCustomProtocols()),d.urlFilter=yt(d.getCustomLinkRegexp(D.n.LINK_REG),"hyperlink-href"),d}var Lt=(Rt.prototype.doIndent=function(e){var t=this;this.editor.inCallStackIfNecessary("fastIncorp",function(){t.editor.fastIncorp()}),this.editor.doTabKey({shiftKey:e,stopImmediatePropagation:function(){}})},Rt.prototype.editorWillDoReturnKey=function(e){var t,n,r=e.delta,i=e.editor,o=i.getContentState().getActiveZone(),a=o.getZoneId(),s=i.selection.getSelection(),c=o.getLine(s.start.line),u=c.getLineAttributes().toMap(),l=s.toPosition(),d=l.start,p=l.len;u["text-indent"]&&!p&&(t=c.isEmpty(),n=new R.E({zoneId:a}),u["text-indent"]="",t?r.ops.length||n.retain(d-1).retain(1,u):r.ops.length?n.retain(d+1).retain(1,u):n.retain(d).insertEnter().insertLineMarker(u),e.delta=r.compose(n))},Rt.prototype.editorWillDoDeleteKey=function(e){var t,n=e.deltaSet,r=e.editor,i=r.getContentState().getActiveZone(),o=i.getZoneId(),a=r.selection.getSelection(),s=i.getLine(a.start.line).getLineAttributes().toMap(),c=1===a.start.offset,u=a.toPosition(),l=u.start,d=u.len;!n.get(o).ops.length&&s["text-indent"]&&c&&!d&&(s["text-indent"]="",t=new R.E({zoneId:o}).retain(l-1).retain(1,s),e.deltaSet=n.compose(t))},Rt);function Rt(e){var t=this;(this.editor=e).commands.registerCommand("indentleft",function(){t.doIndent(!0)}),e.commands.registerCommand("indentright",function(){t.doIndent(!1)})}function Nt(e,t){return void 0===t&&(t=document),t.querySelector(e)}function Dt(e,t){return e.classList?e.classList.contains(t):!!e.getAttribute&&(e.getAttribute("class")||"").split(" ").some(function(e){return e===t})}function Mt(e,t){for(;e;){if(Dt(e,t))return e;e=e.parentNode}return null}function Pt(e){return e.previousElementSibling||e.previousSibling}function jt(e){return e.nextElementSibling||e.nextSibling}var Ft=8,Bt=(Ut.prototype.pluginReadOnly=function(){this.readOnly=!0},Ut.prototype.pluginReadWrite=function(){this.readOnly=!1},Ut.prototype.reset=function(){this.innerBody.removeEventListener("click",this.handleBodyClick)},Ut.prototype.isElementTopClick=function(e,t){var n=Mt(t.target,"ace-line");if(!n)return!1;var r=n.getBoundingClientRect();return t.y-r.top<Ft&&0<t.y-r.top},Ut.prototype.isElementBottomClick=function(e,t){var n=Mt(t.target,"ace-line");if(!n)return!1;var r=n.getBoundingClientRect();return r.bottom-t.y<Ft&&0<r.bottom-t.y},Ut.prototype.getTargetIndex=function(e){var t=this,n=null;return this.editor.callStack.inCallStackIfNecessary("getTargetIndex",function(){n=t.editor.domToRep(e)},{shouldIncorp:!0}),n&&n.selStart[0]},Ut.prototype.createEmptyLine=function(e,t){var n=[e,0];this.editor.performDocumentReplaceRange(t,n,n,"\n"),this.editor.selection.setWithSelection(t,n,n),this.editor.updateBrowserSelectionFromRep(!0)},Ut.prototype.isImage=function(e){return Dt(e,"image-uploaded")},Ut.prototype.isSheet=function(e){return Dt(e,"sheet")},Ut.prototype.isHorizontalLine=function(e){return Dt(e,"horizontal-line")},Ut.prototype.isAceTable=function(e){return-1<e.className.indexOf("aceTable-")},Ut.prototype.isSingleLine=function(e){return Dt(Mt(e,"ace-line"),"single-line")},Ut.prototype.isValidDOM=function(e){return!!e&&!!(this.isImage(e)||this.isSheet(e)||this.isHorizontalLine(e)||this.isAceTable(e)||this.isSingleLine(e))},Ut.prototype.handleBodyClick=function(e){var t,n,r,i,o,a,s,c=this;this.readOnly||(t=e.target)!==e.currentTarget&&(Dt(n=t,"ace-line")||(n=Mt(t,"ace-line")),n&&(r=Nt("span:first-child",n),!this.isValidDOM(r)||(i=this.getTargetIndex(n))&&(o=this.editor.selection.getPositionForNode(n),this.isElementTopClick(t,e)?(a=Nt("span:first-child",Pt(n)),this.isValidDOM(a)&&this.editor.callWithAce(function(){c.createEmptyLine(i,o.zone)},"insertLinePrev",!0)):this.isElementBottomClick(t,e)&&(s=Nt("span:first-child",jt(n)||n),this.isValidDOM(s)&&(i++,this.editor.callWithAce(function(){c.createEmptyLine(i,o.zone)},"insertLineNext",!0))))))},Ut);function Ut(e){this.editor=e,this.readOnly=!0,this.handleBodyClick=this.handleBodyClick.bind(this),this.innerBody=this.editor.getDocBody(),this.innerBody.removeEventListener("click",this.handleBodyClick),this.innerBody.addEventListener("click",this.handleBodyClick)}var Ht={targetWithClass:["sheet","ace-table-wrapper"],selStartWithAttribs:["aceTable"]},zt=16,Vt=(Kt.prototype.aceKeyEvent=function(e,t){var n=t.evt.originalEvent,r=n.type;"keyup"===r&&this.onKeyDown(n),"keypress"===r&&this.onKeyDown(n)},Kt.prototype.reset=function(){this.innerdocbody&&(this.innerdocbody.removeEventListener("mousedown",this.onMouseDown),this.innerdocbody.removeEventListener("keyup",this.onKeyUp))},Kt);function Kt(e){var i=this;this.editor=e,this.enabled=!1,this.innerdocbody=null,this.onKeyUp=function(e){e.which===zt&&(i.enabled=!0)},this.onKeyDown=function(e){e.which===zt?i.enabled=!1:i.enabled=!0},this.checkIsInWhiteList=function(t){var n=i.editor.getRep(),e=Ht.targetWithClass.some(function(e){return!!Mt(t.target,e)}),r=Ht.selStartWithAttribs.some(function(e){return""!==n.attributeManager.getAttributeOnLine(n.selStart[0],e)});return e||r},this.onMouseDown=function(e){var t,n,r=i.checkIsInWhiteList(e);!i.enabled||r||0!==e.button||(t=window.getSelection()).rangeCount&&((n=t.getRangeAt(0)).collapse(!0),t.removeAllRanges(),t.addRange(n))},N.browser.isIE||(this.enabled=!0,this.innerdocbody=e.getInnerContainer(),this.innerdocbody&&(this.innerdocbody.addEventListener("mousedown",this.onMouseDown),this.innerdocbody.addEventListener("keyup",this.onKeyUp)))}var Gt,Wt=(oe(Yt,Gt=N.Formatter),Yt.setClass=function(e){return e?["i"]:[]},Yt.setTags=function(e){return e?["i"]:[]},Yt.getCssStyle=function(e){return["font-style",e?Yt.formatKey:""]},Yt.prototype.serialize=function(e){return Object(R.P)(e,{tagAttribute:Yt.formatKey,wrapTag:R.a[Yt.formatKey]})},Yt.formatKey="italic",Yt.formatType=N.Formatter.FormatType.INLINE,Yt.formatValueType=N.Formatter.FormatValueType.Boolean,Yt.toggleable=!0,Yt.execCommandKey=Yt.formatKey,Yt);function Yt(){return null!==Gt&&Gt.apply(this,arguments)||this}var qt=[],Zt=(Line.prototype.addToLineClass=function(t,e){return e.split(/\s+/).forEach(function(e){0===e.indexOf("line:")&&(t+=""+(t?" ":"")+e.substring(5))}),t},Line.prototype.aceAttribsToClasses=function(e,t){var n=t.key,r=n+"-"+t.value;"lineguid"===n&&qt.indexOf(r)<=-1&&qt.push(r)},Line.prototype.aceCreateDomLine=function(e,t){var n,r=t.text,i=t.lineClass;!r&&0<qt.length&&(n=i?" ":"",t.lineClass+=n+"locate "+I.a.escapeHTML(qt.join(" ")),qt=[])},Line.prototype.reset=function(){qt=[]},Line);function Line(){this.className="Line"}he(".adit-outer-container .adit-container ul,\n.adit-outer-container .adit-container ol {\n  list-style-type: none;\n  margin: 0;\n  padding: 0;\n}\n.adit-outer-container .adit-container li {\n  list-style: none;\n}\n.adit-outer-container .adit-container .list-prefix {\n  padding-right: 4px;\n}\n.adit-outer-container .adit-container .list-code {\n  margin: 0;\n}\n.adit-outer-container .adit-container .list-code[class*=heading-h] {\n  position: unset;\n  margin: 0;\n}\n.adit-outer-container .adit-container ul[class^=list-bullet] {\n  list-style: none;\n}\n.adit-outer-container .adit-container ul[class^=list-indent] {\n  list-style-type: none;\n}\n.adit-outer-container .adit-container ul[class^=list-bullet] li.list-prefix {\n  margin-left: -20px;\n  margin-right: 20px;\n}\n.adit-outer-container .adit-container ul[class^=list-bullet] li.list-prefix {\n  display: inline-block;\n  box-sizing: border-box;\n  font-family: PingFangSC-Regular, PingFang SC;\n  width: 0;\n  font-size: 0.8em;\n  transform: scale(1.25);\n  text-align: right;\n  color: #3370ff;\n}\n.adit-outer-container .adit-container .heading-h1 ul[class^=list-bullet] li.list-prefix,\n.adit-outer-container .adit-container .heading-h1 ol[class^=list-bullet] li.list-prefix {\n  margin-left: -29px;\n  margin-right: 29px;\n}\n.adit-outer-container .adit-container .heading-h2 ul[class^=list-bullet] li.list-prefix,\n.adit-outer-container .adit-container .heading-h2 ol[class^=list-bullet] li.list-prefix {\n  margin-left: -21px;\n  margin-right: 21px;\n}\n.adit-outer-container .adit-container .heading-h3 ul[class^=list-bullet] li.list-prefix,\n.adit-outer-container .adit-container .heading-h3 ol[class^=list-bullet] li.list-prefix {\n  margin-left: -20px;\n  margin-right: 20px;\n}\n.adit-outer-container .adit-container .text-indent ul[class^=list-bullet] .list-prefix,\n.adit-outer-container .adit-container .text-indent ol[class^=list-bullet] .list-prefix {\n  text-indent: -1em;\n}\n.adit-outer-container .adit-container ul.list-bullet1 .list-prefix,\n.adit-outer-container .adit-container ul.list-bullet4 .list-prefix,\n.adit-outer-container .adit-container ul.list-bullet7 .list-prefix,\n.adit-outer-container .adit-container ul.list-bullet10 .list-prefix,\n.adit-outer-container .adit-container ul.list-bullet13 .list-prefix,\n.adit-outer-container .adit-container ul.list-bullet16 .list-prefix {\n  padding-right: 4px;\n  content: '\\2022';\n}\n.adit-outer-container .adit-container .chrome:not(.window) ul.list-bullet2 .list-prefix,\n.adit-outer-container .adit-container .safari ul.list-bullet2 .list-prefix,\n.adit-outer-container .adit-container .chrome:not(.window) ul.list-bullet5 .list-prefix,\n.adit-outer-container .adit-container .safari ul.list-bullet5 .list-prefix,\n.adit-outer-container .adit-container .chrome:not(.window) ul.list-bullet8 .list-prefix,\n.adit-outer-container .adit-container .safari ul.list-bullet8 .list-prefix,\n.adit-outer-container .adit-container .chrome:not(.window) ul.list-bullet11 .list-prefix,\n.adit-outer-container .adit-container .safari ul.list-bullet11 .list-prefix,\n.adit-outer-container .adit-container .chrome:not(.window) ul.list-bullet14 .list-prefix,\n.adit-outer-container .adit-container .safari ul.list-bullet14 .list-prefix {\n  transform: scale(1);\n  font-weight: bold;\n}\n.adit-outer-container .adit-container ul.list-bullet2 .list-prefix,\n.adit-outer-container .adit-container ul.list-bullet5 .list-prefix,\n.adit-outer-container .adit-container ul.list-bullet8 .list-prefix,\n.adit-outer-container .adit-container ul.list-bullet11 .list-prefix,\n.adit-outer-container .adit-container ul.list-bullet14 .list-prefix {\n  padding-right: 4px;\n  content: '\\25E6';\n}\n.adit-outer-container .adit-container ul.list-bullet3 .list-prefix,\n.adit-outer-container .adit-container ul.list-bullet6 .list-prefix,\n.adit-outer-container .adit-container ul.list-bullet9 .list-prefix,\n.adit-outer-container .adit-container ul.list-bullet12 .list-prefix,\n.adit-outer-container .adit-container ul.list-bullet15 .list-prefix {\n  content: '\\25AA';\n}\n.adit-outer-container .adit-container ul[class^=list-number],\n.adit-outer-container .adit-container ol[class^=list-number] {\n  list-style-type: none;\n}\n.adit-outer-container .adit-container ul[class^=list-number] li.list-prefix,\n.adit-outer-container .adit-container ol[class^=list-number] li.list-prefix {\n  margin-left: -22px;\n  padding-right: 4px;\n  padding-left: 2px;\n  margin-right: 4px;\n  transform: translateX(-2px);\n}\n.adit-outer-container .adit-container ul[class^=list-number] li.list-prefix,\n.adit-outer-container .adit-container ol[class^=list-number] li.list-prefix {\n  content: attr(data-start) \".\";\n  height: 100%;\n  text-align: left;\n  white-space: nowrap;\n  overflow: visible;\n  box-sizing: border-box;\n  color: #3370ff;\n  font-family: 'Helvetica Neue', 'Consolas';\n  line-height: 1.2;\n  display: inline-block;\n  min-width: 18px;\n  border-radius: 2px;\n  background-clip: padding-box;\n}\n.adit-outer-container .adit-container .heading-h1 ul[class^=list-number] li.list-prefix,\n.adit-outer-container .adit-container .heading-h1 ol[class^=list-number] li.list-prefix {\n  margin-left: -32px;\n  padding-right: 4px;\n  padding-left: 2px;\n  margin-right: 3px;\n  transform: translateX(-2px);\n}\n.adit-outer-container .adit-container .heading-h1 ul[class^=list-number] li.list-prefix,\n.adit-outer-container .adit-container .heading-h1 ol[class^=list-number] li.list-prefix {\n  min-width: 1.1em;\n}\n.adit-outer-container .adit-container .heading-h2 ul[class^=list-number] li.list-prefix,\n.adit-outer-container .adit-container .heading-h2 ol[class^=list-number] li.list-prefix {\n  margin-left: -23px;\n  padding-right: 4px;\n  padding-left: 2px;\n  margin-right: 2px;\n  transform: translateX(-2px);\n}\n.adit-outer-container .adit-container .heading-h3 ul[class^=list-number] li.list-prefix,\n.adit-outer-container .adit-container .heading-h3 ol[class^=list-number] li.list-prefix {\n  margin-left: -22px;\n  padding-right: 4px;\n  padding-left: 2px;\n  margin-right: 2px;\n  transform: translateX(-2px);\n}\n.adit-outer-container .adit-container .heading-h4 ul[class^=list-number] li.list-prefix,\n.adit-outer-container .adit-container .heading-h4 ol[class^=list-number] li.list-prefix {\n  margin-left: -21px;\n  padding-right: 4px;\n  padding-left: 2px;\n  margin-right: 2px;\n  transform: translateX(-2px);\n}\n.adit-outer-container .adit-container .heading-h5 ul[class^=list-number] li.list-prefix,\n.adit-outer-container .adit-container .heading-h6 ul[class^=list-number] li.list-prefix,\n.adit-outer-container .adit-container .heading-h7 ul[class^=list-number] li.list-prefix,\n.adit-outer-container .adit-container .heading-h8 ul[class^=list-number] li.list-prefix,\n.adit-outer-container .adit-container .heading-h9 ul[class^=list-number] li.list-prefix,\n.adit-outer-container .adit-container .heading-h5 ol[class^=list-number] li.list-prefix,\n.adit-outer-container .adit-container .heading-h6 ol[class^=list-number] li.list-prefix,\n.adit-outer-container .adit-container .heading-h7 ol[class^=list-number] li.list-prefix,\n.adit-outer-container .adit-container .heading-h8 ol[class^=list-number] li.list-prefix,\n.adit-outer-container .adit-container .heading-h9 ol[class^=list-number] li.list-prefix {\n  margin-left: -20px;\n  padding-right: 4px;\n  padding-left: 2px;\n  margin-right: 2px;\n  transform: translateX(-2px);\n}\n.adit-outer-container .adit-container .text-indent ul[class^=list-number] li.list-prefix,\n.adit-outer-container .adit-container .text-indent ol[class^=list-number] li.list-prefix {\n  margin-left: -20px;\n  padding-right: 4px;\n}\n.adit-outer-container .adit-container .text-indent ul[class^=list-number] li.list-prefix,\n.adit-outer-container .adit-container .text-indent ol[class^=list-number] li.list-prefix {\n  text-indent: 0;\n}\n.adit-outer-container .adit-container .text-indent.heading-h1 ul[class^=list-number] li.list-prefix,\n.adit-outer-container .adit-container .text-indent.heading-h2 ul[class^=list-number] li.list-prefix,\n.adit-outer-container .adit-container .text-indent.heading-h1 ol[class^=list-number] li.list-prefix,\n.adit-outer-container .adit-container .text-indent.heading-h2 ol[class^=list-number] li.list-prefix {\n  margin-left: -26px;\n  padding-right: 4px;\n}\n.adit-outer-container .adit-container.window ul[class^=list-number] .list-prefix,\n.adit-outer-container .adit-container.window ol[class^=list-number] .list-prefix {\n  padding-right: 0px !important;\n}\n.adit-outer-container .adit-container.window .heading-h1 ul[class^=list-number] .list-prefix,\n.adit-outer-container .adit-container.window .heading-h2 ul[class^=list-number] .list-prefix,\n.adit-outer-container .adit-container.window .heading-h1 ol[class^=list-number] .list-prefix,\n.adit-outer-container .adit-container.window .heading-h2 ol[class^=list-number] .list-prefix {\n  padding-right: 0px !important;\n}\n.adit-outer-container .adit-container.window .heading-h2 ul[class^=list-number] .list-prefix,\n.adit-outer-container .adit-container.window .heading-h2 ol[class^=list-number] .list-prefix {\n  padding-right: 0px !important;\n}\n.adit-outer-container .adit-container.window .heading-h3 ul[class^=list-number] .list-prefix,\n.adit-outer-container .adit-container.window .heading-h4 ul[class^=list-number] .list-prefix,\n.adit-outer-container .adit-container.window .heading-h5 ul[class^=list-number] .list-prefix,\n.adit-outer-container .adit-container.window .heading-h6 ul[class^=list-number] .list-prefix,\n.adit-outer-container .adit-container.window .heading-h7 ul[class^=list-number] .list-prefix,\n.adit-outer-container .adit-container.window .heading-h8 ul[class^=list-number] .list-prefix,\n.adit-outer-container .adit-container.window .heading-h9 ul[class^=list-number] .list-prefix,\n.adit-outer-container .adit-container.window .heading-h3 ol[class^=list-number] .list-prefix,\n.adit-outer-container .adit-container.window .heading-h4 ol[class^=list-number] .list-prefix,\n.adit-outer-container .adit-container.window .heading-h5 ol[class^=list-number] .list-prefix,\n.adit-outer-container .adit-container.window .heading-h6 ol[class^=list-number] .list-prefix,\n.adit-outer-container .adit-container.window .heading-h7 ol[class^=list-number] .list-prefix,\n.adit-outer-container .adit-container.window .heading-h8 ol[class^=list-number] .list-prefix,\n.adit-outer-container .adit-container.window .heading-h9 ol[class^=list-number] .list-prefix {\n  padding-right: 2px !important;\n}\n.adit-outer-container .adit-container.chrome ul[class^=list-number] li,\n.adit-outer-container .adit-container.chrome ol[class^=list-number] li {\n  vertical-align: -4px;\n}\n.adit-outer-container .adit-container.chrome ul[class^=list-number] li.list-prefix,\n.adit-outer-container .adit-container.chrome ol[class^=list-number] li.list-prefix {\n  background-position: bottom 6px right 1px !important;\n}\n.adit-outer-container .adit-container.chrome .heading-h1 ul[class^=list-number] li,\n.adit-outer-container .adit-container.chrome .heading-h1 ol[class^=list-number] li {\n  line-height: 42px;\n}\n.adit-outer-container .adit-container.chrome .heading-h1 ul[class^=list-number] li.list-prefix,\n.adit-outer-container .adit-container.chrome .heading-h1 ol[class^=list-number] li.list-prefix {\n  background-position: bottom 9px right 3px !important;\n}\n.adit-outer-container .adit-container.chrome .heading-h1 ul[class^=list-number] li .collapsable-section-handle,\n.adit-outer-container .adit-container.chrome .heading-h1 ol[class^=list-number] li .collapsable-section-handle {\n  height: 42px;\n}\n.adit-outer-container .adit-container.chrome .heading-h2 ul[class^=list-number] li,\n.adit-outer-container .adit-container.chrome .heading-h2 ol[class^=list-number] li {\n  line-height: 32px;\n}\n.adit-outer-container .adit-container.chrome .heading-h2 ul[class^=list-number] li.list-prefix,\n.adit-outer-container .adit-container.chrome .heading-h2 ol[class^=list-number] li.list-prefix {\n  background-position: bottom 6px right 0 !important;\n}\n.adit-outer-container .adit-container.chrome .heading-h2 ul[class^=list-number] li .collapsable-section-handle,\n.adit-outer-container .adit-container.chrome .heading-h2 ol[class^=list-number] li .collapsable-section-handle {\n  height: 32px;\n}\n.adit-outer-container .adit-container.chrome .heading-h3 ul[class^=list-number] li,\n.adit-outer-container .adit-container.chrome .heading-h3 ol[class^=list-number] li {\n  line-height: 25px;\n}\n.adit-outer-container .adit-container.chrome .heading-h3 ul[class^=list-number] li.list-prefix,\n.adit-outer-container .adit-container.chrome .heading-h3 ol[class^=list-number] li.list-prefix {\n  background-position: bottom 4px right 0 !important;\n}\n.adit-outer-container .adit-container.chrome .heading-h3 ul[class^=list-number] li .collapsable-section-handle,\n.adit-outer-container .adit-container.chrome .heading-h3 ol[class^=list-number] li .collapsable-section-handle {\n  height: 25px;\n}\n.adit-outer-container .adit-container ul.list-check16,\n.adit-outer-container .adit-container ul.list-done16 {\n  margin-left: 354px;\n}\n.adit-outer-container .adit-container ul.list-bullet16,\n.adit-outer-container .adit-container ol.list-number16 {\n  margin-left: 360px;\n}\n.adit-outer-container .adit-container ul.list-check15,\n.adit-outer-container .adit-container ul.list-done15 {\n  margin-left: 330px;\n}\n.adit-outer-container .adit-container ul.list-bullet15,\n.adit-outer-container .adit-container ol.list-number15 {\n  margin-left: 336px;\n}\n.adit-outer-container .adit-container ul.list-check14,\n.adit-outer-container .adit-container ul.list-done14 {\n  margin-left: 306px;\n}\n.adit-outer-container .adit-container ul.list-bullet14,\n.adit-outer-container .adit-container ol.list-number14 {\n  margin-left: 312px;\n}\n.adit-outer-container .adit-container ul.list-check13,\n.adit-outer-container .adit-container ul.list-done13 {\n  margin-left: 282px;\n}\n.adit-outer-container .adit-container ul.list-bullet13,\n.adit-outer-container .adit-container ol.list-number13 {\n  margin-left: 288px;\n}\n.adit-outer-container .adit-container ul.list-check12,\n.adit-outer-container .adit-container ul.list-done12 {\n  margin-left: 258px;\n}\n.adit-outer-container .adit-container ul.list-bullet12,\n.adit-outer-container .adit-container ol.list-number12 {\n  margin-left: 264px;\n}\n.adit-outer-container .adit-container ul.list-check11,\n.adit-outer-container .adit-container ul.list-done11 {\n  margin-left: 234px;\n}\n.adit-outer-container .adit-container ul.list-bullet11,\n.adit-outer-container .adit-container ol.list-number11 {\n  margin-left: 240px;\n}\n.adit-outer-container .adit-container ul.list-check10,\n.adit-outer-container .adit-container ul.list-done10 {\n  margin-left: 210px;\n}\n.adit-outer-container .adit-container ul.list-bullet10,\n.adit-outer-container .adit-container ol.list-number10 {\n  margin-left: 216px;\n}\n.adit-outer-container .adit-container ul.list-check9,\n.adit-outer-container .adit-container ul.list-done9 {\n  margin-left: 186px;\n}\n.adit-outer-container .adit-container ul.list-bullet9,\n.adit-outer-container .adit-container ol.list-number9 {\n  margin-left: 192px;\n}\n.adit-outer-container .adit-container ul.list-check8,\n.adit-outer-container .adit-container ul.list-done8 {\n  margin-left: 162px;\n}\n.adit-outer-container .adit-container ul.list-bullet8,\n.adit-outer-container .adit-container ol.list-number8 {\n  margin-left: 168px;\n}\n.adit-outer-container .adit-container ul.list-check7,\n.adit-outer-container .adit-container ul.list-done7 {\n  margin-left: 138px;\n}\n.adit-outer-container .adit-container ul.list-bullet7,\n.adit-outer-container .adit-container ol.list-number7 {\n  margin-left: 144px;\n}\n.adit-outer-container .adit-container ul.list-check6,\n.adit-outer-container .adit-container ul.list-done6 {\n  margin-left: 114px;\n}\n.adit-outer-container .adit-container ul.list-bullet6,\n.adit-outer-container .adit-container ol.list-number6 {\n  margin-left: 120px;\n}\n.adit-outer-container .adit-container ul.list-check5,\n.adit-outer-container .adit-container ul.list-done5 {\n  margin-left: 90px;\n}\n.adit-outer-container .adit-container ul.list-bullet5,\n.adit-outer-container .adit-container ol.list-number5 {\n  margin-left: 96px;\n}\n.adit-outer-container .adit-container ul.list-check4,\n.adit-outer-container .adit-container ul.list-done4 {\n  margin-left: 66px;\n}\n.adit-outer-container .adit-container ul.list-bullet4,\n.adit-outer-container .adit-container ol.list-number4 {\n  margin-left: 72px;\n}\n.adit-outer-container .adit-container ul.list-check3,\n.adit-outer-container .adit-container ul.list-done3 {\n  margin-left: 42px;\n}\n.adit-outer-container .adit-container ul.list-bullet3,\n.adit-outer-container .adit-container ol.list-number3 {\n  margin-left: 48px;\n}\n.adit-outer-container .adit-container ul.list-check2,\n.adit-outer-container .adit-container ul.list-done2 {\n  margin-left: 18px;\n}\n.adit-outer-container .adit-container ul.list-bullet2,\n.adit-outer-container .adit-container ol.list-number2 {\n  margin-left: 24px;\n}\n.adit-outer-container .adit-container ul.list-check1,\n.adit-outer-container .adit-container ul.list-done1 {\n  margin-left: -6px;\n}\n.adit-outer-container .adit-container ul.list-bullet1,\n.adit-outer-container .adit-container ol.list-number1 {\n  margin-left: 0px;\n}\n.adit-outer-container .adit-container ul.list-indent16 {\n  margin-left: 382px;\n}\n.adit-outer-container .adit-container ul.list-indent15 {\n  margin-left: 358px;\n}\n.adit-outer-container .adit-container ul.list-indent14 {\n  margin-left: 334px;\n}\n.adit-outer-container .adit-container ul.list-indent13 {\n  margin-left: 310px;\n}\n.adit-outer-container .adit-container ul.list-indent12 {\n  margin-left: 286px;\n}\n.adit-outer-container .adit-container ul.list-indent11 {\n  margin-left: 262px;\n}\n.adit-outer-container .adit-container ul.list-indent10 {\n  margin-left: 238px;\n}\n.adit-outer-container .adit-container ul.list-indent9 {\n  margin-left: 214px;\n}\n.adit-outer-container .adit-container ul.list-indent8 {\n  margin-left: 190px;\n}\n.adit-outer-container .adit-container ul.list-indent7 {\n  margin-left: 166px;\n}\n.adit-outer-container .adit-container ul.list-indent6 {\n  margin-left: 142px;\n}\n.adit-outer-container .adit-container ul.list-indent5 {\n  margin-left: 118px;\n}\n.adit-outer-container .adit-container ul.list-indent4 {\n  margin-left: 94px;\n}\n.adit-outer-container .adit-container ul.list-indent3 {\n  margin-left: 70px;\n}\n.adit-outer-container .adit-container ul.list-indent2 {\n  margin-left: 46px;\n}\n.adit-outer-container .adit-container ul.list-indent1 {\n  margin-left: 22px;\n}\n.adit-outer-container .adit-container .heading-h1 ul.list-indent16 {\n  margin-left: 392px;\n}\n.adit-outer-container .adit-container .heading-h1 ul.list-indent15 {\n  margin-left: 368px;\n}\n.adit-outer-container .adit-container .heading-h1 ul.list-indent14 {\n  margin-left: 344px;\n}\n.adit-outer-container .adit-container .heading-h1 ul.list-indent13 {\n  margin-left: 320px;\n}\n.adit-outer-container .adit-container .heading-h1 ul.list-indent12 {\n  margin-left: 296px;\n}\n.adit-outer-container .adit-container .heading-h1 ul.list-indent11 {\n  margin-left: 272px;\n}\n.adit-outer-container .adit-container .heading-h1 ul.list-indent10 {\n  margin-left: 248px;\n}\n.adit-outer-container .adit-container .heading-h1 ul.list-indent9 {\n  margin-left: 224px;\n}\n.adit-outer-container .adit-container .heading-h1 ul.list-indent8 {\n  margin-left: 200px;\n}\n.adit-outer-container .adit-container .heading-h1 ul.list-indent7 {\n  margin-left: 176px;\n}\n.adit-outer-container .adit-container .heading-h1 ul.list-indent6 {\n  margin-left: 152px;\n}\n.adit-outer-container .adit-container .heading-h1 ul.list-indent5 {\n  margin-left: 128px;\n}\n.adit-outer-container .adit-container .heading-h1 ul.list-indent4 {\n  margin-left: 104px;\n}\n.adit-outer-container .adit-container .heading-h1 ul.list-indent3 {\n  margin-left: 80px;\n}\n.adit-outer-container .adit-container .heading-h1 ul.list-indent2 {\n  margin-left: 56px;\n}\n.adit-outer-container .adit-container .heading-h1 ul.list-indent1 {\n  margin-left: 32px;\n}\n.adit-outer-container .adit-container .heading-h2 ul.list-indent16 {\n  margin-left: 383px;\n}\n.adit-outer-container .adit-container .heading-h2 ul.list-indent15 {\n  margin-left: 359px;\n}\n.adit-outer-container .adit-container .heading-h2 ul.list-indent14 {\n  margin-left: 335px;\n}\n.adit-outer-container .adit-container .heading-h2 ul.list-indent13 {\n  margin-left: 311px;\n}\n.adit-outer-container .adit-container .heading-h2 ul.list-indent12 {\n  margin-left: 287px;\n}\n.adit-outer-container .adit-container .heading-h2 ul.list-indent11 {\n  margin-left: 263px;\n}\n.adit-outer-container .adit-container .heading-h2 ul.list-indent10 {\n  margin-left: 239px;\n}\n.adit-outer-container .adit-container .heading-h2 ul.list-indent9 {\n  margin-left: 215px;\n}\n.adit-outer-container .adit-container .heading-h2 ul.list-indent8 {\n  margin-left: 191px;\n}\n.adit-outer-container .adit-container .heading-h2 ul.list-indent7 {\n  margin-left: 167px;\n}\n.adit-outer-container .adit-container .heading-h2 ul.list-indent6 {\n  margin-left: 143px;\n}\n.adit-outer-container .adit-container .heading-h2 ul.list-indent5 {\n  margin-left: 119px;\n}\n.adit-outer-container .adit-container .heading-h2 ul.list-indent4 {\n  margin-left: 95px;\n}\n.adit-outer-container .adit-container .heading-h2 ul.list-indent3 {\n  margin-left: 71px;\n}\n.adit-outer-container .adit-container .heading-h2 ul.list-indent2 {\n  margin-left: 47px;\n}\n.adit-outer-container .adit-container .heading-h2 ul.list-indent1 {\n  margin-left: 23px;\n}\n.adit-outer-container .adit-container .heading-h3 ul.list-indent16 {\n  margin-left: 382px;\n}\n.adit-outer-container .adit-container .heading-h3 ul.list-indent15 {\n  margin-left: 358px;\n}\n.adit-outer-container .adit-container .heading-h3 ul.list-indent14 {\n  margin-left: 334px;\n}\n.adit-outer-container .adit-container .heading-h3 ul.list-indent13 {\n  margin-left: 310px;\n}\n.adit-outer-container .adit-container .heading-h3 ul.list-indent12 {\n  margin-left: 286px;\n}\n.adit-outer-container .adit-container .heading-h3 ul.list-indent11 {\n  margin-left: 262px;\n}\n.adit-outer-container .adit-container .heading-h3 ul.list-indent10 {\n  margin-left: 238px;\n}\n.adit-outer-container .adit-container .heading-h3 ul.list-indent9 {\n  margin-left: 214px;\n}\n.adit-outer-container .adit-container .heading-h3 ul.list-indent8 {\n  margin-left: 190px;\n}\n.adit-outer-container .adit-container .heading-h3 ul.list-indent7 {\n  margin-left: 166px;\n}\n.adit-outer-container .adit-container .heading-h3 ul.list-indent6 {\n  margin-left: 142px;\n}\n.adit-outer-container .adit-container .heading-h3 ul.list-indent5 {\n  margin-left: 118px;\n}\n.adit-outer-container .adit-container .heading-h3 ul.list-indent4 {\n  margin-left: 94px;\n}\n.adit-outer-container .adit-container .heading-h3 ul.list-indent3 {\n  margin-left: 70px;\n}\n.adit-outer-container .adit-container .heading-h3 ul.list-indent2 {\n  margin-left: 46px;\n}\n.adit-outer-container .adit-container .heading-h3 ul.list-indent1 {\n  margin-left: 22px;\n}\n.adit-outer-container .adit-container .heading-h4 ul.list-indent16 {\n  margin-left: 382px;\n}\n.adit-outer-container .adit-container .heading-h4 ul.list-indent15 {\n  margin-left: 358px;\n}\n.adit-outer-container .adit-container .heading-h4 ul.list-indent14 {\n  margin-left: 334px;\n}\n.adit-outer-container .adit-container .heading-h4 ul.list-indent13 {\n  margin-left: 310px;\n}\n.adit-outer-container .adit-container .heading-h4 ul.list-indent12 {\n  margin-left: 286px;\n}\n.adit-outer-container .adit-container .heading-h4 ul.list-indent11 {\n  margin-left: 262px;\n}\n.adit-outer-container .adit-container .heading-h4 ul.list-indent10 {\n  margin-left: 238px;\n}\n.adit-outer-container .adit-container .heading-h4 ul.list-indent9 {\n  margin-left: 214px;\n}\n.adit-outer-container .adit-container .heading-h4 ul.list-indent8 {\n  margin-left: 190px;\n}\n.adit-outer-container .adit-container .heading-h4 ul.list-indent7 {\n  margin-left: 166px;\n}\n.adit-outer-container .adit-container .heading-h4 ul.list-indent6 {\n  margin-left: 142px;\n}\n.adit-outer-container .adit-container .heading-h4 ul.list-indent5 {\n  margin-left: 118px;\n}\n.adit-outer-container .adit-container .heading-h4 ul.list-indent4 {\n  margin-left: 94px;\n}\n.adit-outer-container .adit-container .heading-h4 ul.list-indent3 {\n  margin-left: 70px;\n}\n.adit-outer-container .adit-container .heading-h4 ul.list-indent2 {\n  margin-left: 46px;\n}\n.adit-outer-container .adit-container .heading-h4 ul.list-indent1 {\n  margin-left: 22px;\n}\n.adit-outer-container .adit-container .ace-table ul[class^=list-bullet] li.list-prefix {\n  margin-left: -19px;\n  margin-right: 19px;\n}\n.adit-outer-container .adit-container .ace-table .heading-h1 ul[class^=list-bullet] li.list-prefix,\n.adit-outer-container .adit-container .ace-table .heading-h1 ol[class^=list-bullet] li.list-prefix {\n  margin-left: -29px;\n  margin-right: 29px;\n}\n.adit-outer-container .adit-container .ace-table .heading-h2 ul[class^=list-bullet] li.list-prefix,\n.adit-outer-container .adit-container .ace-table .heading-h2 ol[class^=list-bullet] li.list-prefix {\n  margin-left: -23px;\n  margin-right: 23px;\n}\n.adit-outer-container .adit-container .ace-table .heading-h3 ul[class^=list-bullet] li.list-prefix,\n.adit-outer-container .adit-container .ace-table .heading-h3 ol[class^=list-bullet] li.list-prefix {\n  margin-left: -20px;\n  margin-right: 20px;\n}\n.adit-outer-container .adit-container .ace-table .heading-h4 ul[class^=list-bullet] li.list-prefix,\n.adit-outer-container .adit-container .ace-table .heading-h4 ol[class^=list-bullet] li.list-prefix {\n  margin-left: -20px;\n  margin-right: 20px;\n}\n.adit-outer-container .adit-container .ace-table ul[class^=list-number] li.list-prefix,\n.adit-outer-container .adit-container .ace-table ol[class^=list-number] li.list-prefix {\n  margin-left: -20px;\n  padding-right: 4px;\n  padding-left: 2px;\n  margin-right: 2px;\n  transform: translateX(-2px);\n}\n.adit-outer-container .adit-container .ace-table .heading-h1 ul[class^=list-number] li,\n.adit-outer-container .adit-container .ace-table .heading-h1 ol[class^=list-number] li {\n  line-height: 27px;\n}\n.adit-outer-container .adit-container .ace-table .heading-h1 ul[class^=list-number] li.list-prefix,\n.adit-outer-container .adit-container .ace-table .heading-h1 ol[class^=list-number] li.list-prefix {\n  margin-left: -29px;\n  padding-right: 4px;\n  padding-left: 2px;\n  margin-right: 4px;\n  transform: translateX(-2px);\n}\n.adit-outer-container .adit-container .ace-table .heading-h2 ul[class^=list-number] li,\n.adit-outer-container .adit-container .ace-table .heading-h2 ol[class^=list-number] li {\n  line-height: 23px;\n}\n.adit-outer-container .adit-container .ace-table .heading-h2 ul[class^=list-number] li.list-prefix,\n.adit-outer-container .adit-container .ace-table .heading-h2 ol[class^=list-number] li.list-prefix {\n  margin-left: -23px;\n  padding-right: 4px;\n  padding-left: 2px;\n  margin-right: 3px;\n  transform: translateX(-2px);\n}\n.adit-outer-container .adit-container .ace-table .heading-h3 ul[class^=list-number] li,\n.adit-outer-container .adit-container .ace-table .heading-h3 ol[class^=list-number] li {\n  line-height: 21px;\n}\n.adit-outer-container .adit-container .ace-table .heading-h3 ul[class^=list-number] li.list-prefix,\n.adit-outer-container .adit-container .ace-table .heading-h3 ol[class^=list-number] li.list-prefix {\n  margin-left: -20px;\n  padding-right: 4px;\n  padding-left: 2px;\n  margin-right: 2px;\n  transform: translateX(-2px);\n}\n.adit-outer-container .adit-container .ace-table .heading-h4 ul[class^=list-number] li,\n.adit-outer-container .adit-container .ace-table .heading-h4 ol[class^=list-number] li {\n  line-height: 18px;\n}\n.adit-outer-container .adit-container .ace-table .heading-h4 ul[class^=list-number] li.list-prefix,\n.adit-outer-container .adit-container .ace-table .heading-h4 ol[class^=list-number] li.list-prefix {\n  margin-left: -20px;\n  padding-right: 4px;\n  padding-left: 2px;\n  margin-right: 2px;\n  transform: translateX(-2px);\n}\n.adit-outer-container .adit-container.chrome .ace-table .heading-h1 ul[class^=list-number] li.list-prefix,\n.adit-outer-container .adit-container.chrome .ace-table .heading-h1 ol[class^=list-number] li.list-prefix {\n  background-position: bottom 11px right 3px !important;\n}\n.adit-outer-container .adit-container.chrome .ace-table .heading-h2 ul[class^=list-number] li.list-prefix,\n.adit-outer-container .adit-container.chrome .ace-table .heading-h2 ol[class^=list-number] li.list-prefix {\n  background-position: bottom 7px right 1px !important;\n}\n.adit-outer-container .adit-container.chrome .ace-table .heading-h3 ul[class^=list-number] li.list-prefix,\n.adit-outer-container .adit-container.chrome .ace-table .heading-h3 ol[class^=list-number] li.list-prefix {\n  background-position: bottom 6px right 0 !important;\n}\n.adit-outer-container .adit-container.chrome .ace-table .heading-h4 ul[class^=list-number] li.list-prefix,\n.adit-outer-container .adit-container.chrome .ace-table .heading-h4 ol[class^=list-number] li.list-prefix {\n  background-position: bottom 5px right 0 !important;\n}\n",{className:"adit-style"});var Xt=0;function Qt(){return Xt++,Object(D.z)(6)+"-"+Xt}function Jt(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})}var $t=String.fromCharCode(8203);function en(){return Object(D.z)(8)}function tn(e){return e&&(e.tagName||"").toLowerCase()}function nn(e){return"indent"===e||"bullet"===e||"check"===e||"done"===e}function rn(e){var i=[],o=[];return e.forEach(function(e){var t=pe(e,2),n=t[0],r=t[1];"list-fontsize"===n&&(i.push("font-size: "+r+";"),i.push("font-size:"+r+";")),"list-fontcolor"===n&&(i.push("color: "+r+";"),i.push("color:"+r+";")),"list-backgroundcolor"===n&&(i.push("background-color: "+r+";"),i.push("background-color:"+r+";")),"list-fontfamily"===n&&(i.push("font-family: "+r+";"),i.push("font-family:"+r+";")),"list-italic"===n&&i.push("font-style:italic;"),"list-bold"===n&&i.push("font-weight:bold;"),"list-underline"===n&&o.push("underline"),"list-strikethrough"===n&&o.push("line-through")}),o.length&&i.push("text-decoration:"+o.join(" ")+";"),i}function on(e,t){for(var n in t)if(t.hasOwnProperty(n)){var r=t[n];if(r[0]===e)return r[1]}return""}function an(e,t,n,r,i,o){var a,s,c,u=[["ol-id",n],["list",""],["start",""]],l=o&&o.selStart||e.selStart,d=o&&o.selEnd||e.selEnd,p=e.attributeManager.getAttributesAndPoints(u).map(function(e){var t=e.selStart,n=e.attribs,r=e.selEnd;return{attribs:n,lineNum:t&&t[0],selStart:[t[0],t[1]],selEnd:[r[0],r[1]]}}),f=[];return r||!i?(a=Object(v.a)(l[0],d[0]+1),s=p.filter(function(e){return!a.includes(e.lineNum)}),f.push.apply(f,fe(t))):s=(c=p.concat(t).sort(function(e,t){return e.lineNum-t.lineNum})).filter(function(e,t){return t+1>=c.length||e.lineNum!==c[t+1].lineNum}),sn(s,0,1,!1,f,n),f}function sn(e,t,n,r,i,o){if(!e||!e.length)return t;for(var a=e[t].attribs,s=on("start",a),c=r?Number(s):1,u=n,l=on("list",a);t<=e.length;){var d=e[t],p=d.lineNum,f=d.attribs,l=/([a-z]+)([0-9]+)/.exec(l),u=Number(l[2]),h=on("text-indent",f),g=on("start",f);if(isNaN(u)||nn(l[1]))t++;else if(u===n){var m=[["start",c],["ol-id",o]];if(c!==Number(g)&&(h&&m.push(["text-indent",""]),i.push({attribs:f.concat(m),lineNum:p})),c++,++t===e.length)return t}else{if(u<n)return t;t=sn(e,t,n+1,r,i,o)}if(t===e.length)return t;l=on("list",e[t].attribs)}return t}function cn(t,e){e&&(t.classList.forEach(function(e){e.includes("ol-id")&&t.classList.remove(e)}),t.classList.add("ol-id"+e))}function un(e){for(var t=e.parentElement;t;){if("OL"===t.tagName&&t.start)return t.start;t=t.parentElement}return 1}function ln(e){for(var t=null;e.parentElement;){if("UL"===e.parentElement.tagName){t="bullet";break}if("OL"===e.parentElement.tagName){t="number";break}e=e.parentElement}return t}function dn(e){for(var t=0,n=e.parentElement;n;)["OL","UL"].includes(n.tagName)&&t++,n=n.parentElement;return t}function pn(e){for(var t=null,n=e;n;){var r=/(?:^| )list-([a-z]+[0-9]+)\b/.exec(n.className);if(r&&r[1]){t=r[1];break}n=n.parentElement}return t}function fn(l){var d=[],p=0;return l.forEach(function(e,t){var n,r,i=l[t-1],o=hn(e),a=o.type,s=o.level,c=d[p]&&hn(d[p][0]),u=Number(null===(n=null===e||void 0===e?void 0:e.parentNode)||void 0===n?void 0:n.dataset.lineIndex)===Number(null===(r=null===i||void 0===i?void 0:i.parentNode)||void 0===r?void 0:r.dataset.lineIndex)+1;0===t||u&&(a===c.type||s!==c.level)&&s>c.level?d[p]||(d[p]=[]):d[++p]=[],d[p].push(e)}),d}function hn(e){if(e instanceof HTMLElement){var t=mn(e.dataset.list||"");if(t)return{type:"ol",level:Number(t)};var n=vn(e.dataset.list||"");return{type:"ul",level:Number(n)}}throw new Error("unkonw list node")}function gn(e){return mn(e)||vn(e)}function mn(e){return e.split("number")[1]}function vn(e){return e.split("bullet")[1]}function yn(e,t){if(void 0===t&&(t=1),1<t){var n=yn(e,--t),r=n.child,i=n.root,o=document.createElement(e);return o.appendChild(i),{child:r,root:o}}var a=document.createElement(e);return{child:a,root:a}}var bn,En=/(?:^| )ol-id(\S+)/,_n=["&#x2022;","&#x25E6;","&#x25AA;"],An=["lang","start","origin-start","ol-id","text-indent"],Cn=["bold","italic","underline","strikethrough","fontsize","fontcolor","fontfamily","fontweight","backgroundcolor"],Tn=Cn.map(function(e){return"list-"+e}),On="list-prefix",kn="active-list",Sn="no-caret",wn=".ace-line",In='[data-contentcollector-ignore-space-at="start"]',xn="temp-li",Ln="list",Rn=(oe(Nn,bn=N.TreeFormatter),Nn.setValue=function(e,n){var t,r,i="list-"+String(e).replace(/[^\w-]/g,""),o=["list-div",i],a=I.a.escapeHTMLAttribute(n.start)||"1",s=['data-start="'+a+'"'];n["ol-id"]&&(t="ol-id"+String(n["ol-id"]).replace(/[^\w-]/g,""),s.push(t),o.push(t)),n["origin-start"]&&s.push('data-origin-start="'+I.a.escapeHTML(n["origin-start"])+'"');var c=Object.keys(n).filter(function(e){return e.startsWith("list-")}).map(function(e){var t=n[e].replace(/ /g,"");return"list-fontsize"===e&&(r=["padding-left: "+1.5*parseInt(t,10)+"px"]),e+":"+I.a.escapeHTML(t)}),u=/([a-z]+)([0-9]+)/.exec(e),l=u?Number(u[2]):1;if("code"===e)return{className:o,childNodes:[{tagName:"code",domAttributes:s,className:[i]}]};if(e.startsWith("number")){var d=parseInt(a),p=a;switch(l%3){case 0:p=Object(D.H)(d);break;case 2:p=Object(D.G)(d)}return{className:o,childNodes:[{tagName:"ol",domAttributes:s,className:[i],childNodes:[{tagName:"li",domAttributes:['data-start="'+p+'"'],className:c,style:r||void 0}]}]}}var f=e.startsWith("bullet");return{className:o,childNodes:[{tagName:"ul",className:[i],childNodes:[{tagName:"li",className:f&&c.length?c:void 0,style:f&&r?r:void 0}]}]}},Nn.prototype.isFormatAcceptable=function(e,t){return!(this.activeLists.length&&!Cn.includes(e))},Nn.prototype.formatAttributes=function(e,f,t){var h=this.editor.getRep(t&&t.zoneId||"0"),n=t&&t.selStart||h.selStart,r=t&&t.selEnd||h.selEnd,g=t&&t.zoneId||h.zoneId;if(!n||!r)return[];if(this.formatCommands.length){var i=this.formatCommands.map(function(e){var t=e.lineNum;return{lineNum:t,selStart:[t,0],selEnd:[t,1],attribs:[["list-"+e.key,e.value]]}});return this.formatCommands=[],i}for(var m=this.adit.getEditor(),v=e.replace(/^([a-z]+)\d*$/g,"$1"),y=!v,b="number"===v,E="bullet"===v,_="",C=[],o=f.length,a=function(e){var t=0,n="",r=f[e],i=r.lineNum,o=r.attribs,a=r.selStart,s=r.selEnd,c=on("text-indent",o),u=on("list",o),l=/([a-z]+)([0-9]+)/.exec(u),d=void 0;l&&(n=l[1],t=Number(l[2]),d=m.getClosetListNumberId(g,n,ce(ce({},h),{selEnd:s,selStart:a}))),d&&!_&&(_=d),c&&(t+=1),n=u||c;var p=[["list",y?"":n?v+t:v+"1"],["text-indent",""]];(b||E)&&T.adit.getFormat({selection:{selEnd:s,selStart:a,zoneId:g}}).forEach(function(e){var t=pe(e,2),n=t[0],r=t[1];Cn.includes(n)&&p.push(["list-"+n,r])}),y&&Nn.relativeAttrKeys.forEach(function(e){p.push([e,""])}),C.push({attribs:p,lineNum:i,selStart:a,selEnd:s})},T=this,s=0;s<o;s++)a(s);if(!_&&b)_=en();else if(!_&&!b)return C;return an(h,C,_,y,b,t)},Nn.prototype.editorWillDoDeleteKey=function(e){var t,n,r,i,o,a,s,c,u,l=e.deltaSet,d=e.editor,p=d.getContentState().getActiveZone(),f=p.getZoneId(),h=d.selection.getSelection(),g=h.start,m=p.getLine(g.line);!m||(t=m.getLineAttributes().toMap()).list&&(r=(n=h.toPosition()).start,i=n.len,o=Number(m.hasLineMarker()),a=t.list.match(/([a-z]+)([0-9]+)/),!i&&g.offset-o==0&&a&&(s=new R.E({zoneId:f}),c=a[1],u=Number(a[2]),"number"===c?(t["origin-start"]="",t.start="",t["ol-id"]="",t.list="indent"+u):t.list="",s.retain(r-1).retain(1,t),e.deltaSet=l.compose(s)))},Nn.prototype.editorWillDoReturnKey=function(e){var t,n,r,i,o,a,s,c,u,l,d,p,f,h,g,m,v=e.evt,y=e.delta,b=e.editor,E=b.getContentState(),_=E.getActiveZone(),C=_.getZoneId(),T=b.selection.getSelection(),O=T.start.line,k=_.getLine(O),S=k.getLineAttributes().toMap(),w=T.toPosition(),I=w.start,x=w.len;S.list&&!x&&(n=(t=S.list.match(/([a-z]+)([0-9]+)/))[1],r=Number(t[2]),i=k.isEmpty(),o=1===T.start.offset,a=v.shiftKey,s=new R.E({zoneId:C}),c=S["ol-id"],["number","bullet","check","done","indent"].includes(n)&&(i?(1===r?["list","start","origin-start","ol-id"].forEach(function(e){S[e]=""}):S.list=n+(r-1),s.retain(I-1).retain(1,S)):(a&&(S.list="indent"+r,["start","origin-start","ol-id"].forEach(function(e){S[e]=""})),u=this.findLastListLine(_,O),"indent"===n&&!a&&u&&("number"===u.type[1]&&(S.list=u.start+1),S.list=u.type[1]+u.type[2]),s.retain(I).insertEnter().insertLineMarker(S),"done"===n&&o&&(s=s.compose(new R.E({zoneId:C}).retain(I).retain(I+1,ce(ce({},S),{list:"check"+r}))))),this.renumberInfoCache={zoneId:C,line:O,olId:c}),l=k.previousSibling(),"code"===n&&l&&(0===O?s.retain(I).insertEnter().insertLineMarker(S):(d=l.index,p=!(l.length()-Number(l.hasLineMarker())),f=E.rangeToPosition({start:{line:d,offset:0,zoneId:C},end:{line:d,offset:0,zoneId:C}}).start,g="code1"===(h=l.getAttributes().toMap()).list,i&&p&&g?(h.list="",m=new R.E({zoneId:C}).retain(f).retain(f+1,h),s.retain(I-1).retain(1,S).compose(m),this.renumberInfoCache={zoneId:C,line:O+1}):(s.retain(I).insertEnter().insertLineMarker(S),this.renumberInfoCache={zoneId:C,line:O}))),e.delta=y.compose(s))},Nn.prototype.editorAfterDoReturnKey=function(){var e,t,n,r;this.renumberInfoCache&&(t=(e=this.renumberInfoCache).zoneId,n=e.line,r=e.olId,this.editor.renumberList(t,n,r),this.renumberInfoCache=null)},Nn.prototype.findLastListLine=function(e,t){for(var n=t,r="";0<=n-1;){var i=e.getLine(n-1).getLineAttributes().toMap();if(!(r=i.list))return null;if("bullet"===(r=/([a-z]+)([0-9]+)/.exec(r))[1]||"number"===r[1]||"check"===r[1]||"done"===r[1])return{line:--n,type:"done"===r[1]?{0:"check"+r[2],1:"check",2:r[2]}:r,start:"number"===r[1]?parseInt(i.start,10)||1:null};n--}return null},Nn.prototype.getFormatAttributes=function(e){var o=this,t=e.map(function(e){var t=pe(e,2),n=t[0],r=t[1];if(n===Nn.formatKey&&r){var i=r.replace(/^([a-z]+)\d*$/g,"$1");return"done"===i&&(i="check"),[n,i]}return o.activeLists.length?Tn.includes(n)?[n.slice(5),r]:null:e}).filter(function(e){return e});return Object(m.a)(t,g.default)},Nn.prototype.acePreWriteDomLineHTML=function(e,t){var n,r,i;t.info&&(r=(n=t.info.lineClass).includes("list-number"),i=n.includes("list-bullet"),(r||i)&&(t.isPocket=!0))},Nn.prototype.addPocketToLine=function(e,t){var n,r,i=this,o=t.lineEntry,a=t.linePocket,s=o.lineNode;s&&(n=s.className.includes("list-number"),r=s.className.includes("list-bullet"),(n||r)&&a.put([{uniqueClass:"list-custom-style",mount:function(e){e.innerHTML="",e.appendChild(i.createPrefix(s,n))},fakeTextStyle:rn(s.querySelector("li").className.split(" ").map(function(e){return e.split(":",2)})).join("")}]))},Nn.prototype.reset=function(){W()(this.adit.getHost()).off("keydown",this.handleKeyDown),this.adit.off("paste",this.handlePaste),this.adit.off("format",this.handleFormat)},Nn.prototype.createPrefix=function(e,t){var n,r=document.createElement("span"),i=e.querySelector("li");if(!i)return r;var o,a=Array.from(i.classList).map(function(e){return e.split(":")}),s=Array.from(i.classList).map(function(e){return e.split(":")[0]}),c=rn(a.filter(function(e){var t=pe(e,1)[0];return!["list-underline","list-strikethrough","list-backgroundcolor"].includes(t)}));return r.setAttribute("style",c.join(";")),(n=r.classList).add.apply(n,fe([On,t?"number":"bullet"],s)),t?i&&(r.innerHTML=i.getAttribute("data-start")+"."||!1):(o=e.className.match(/list-bullet(\w*)/))&&o[1]&&(r.innerHTML=_n[(Number(o[1])-1)%3]),r},Nn.prototype.handleKeyDown=function(){this.activeLists.length&&this.deactivateList()},Nn.prototype.handleFormat=function(e){var t=this,n=e.formatKey,r=e.value,i=e.selection,o=i.selStart,a=i.selEnd,s=i.zoneId,c=this.adit.getFormat({formatKey:Nn.formatKey,selection:i})[0],u=this.adit.getEditor().getRep();if(u.lines.atIndex(a[0])&&Cn.includes(n)){if(this.formatCommands=[],this.activeLists.length&&c[1])return this.formatCommands=this.activeLists.map(function(e){return{lineNum:e.lineNum,key:n,value:r}}),this.adit.format(Nn.formatKey,"number",i),void setTimeout(function(){t.activeLists=t.activeLists.map(function(e){var t=e.lineNum,n=u.lines.atIndex(t);if(!n)return null;var r=W()(n.lineNode).find("."+On)[0];return r?{lineNum:t,target:r}:null}).filter(function(e){return null!==e}),t.activateList()});for(var l=o[0];l<=a[0];l++){var d,p,f,h,g,m=u.lines.atIndex(l);m&&(d=o[0]===a[0]&&o[1]<=1&&a[1]===m.width-1,p=o[0]!==a[0]&&l===o[0]&&o[1]<=1,f=o[0]!==a[0]&&l>o[0]&&l<a[0],h=o[0]!==a[0]&&l===a[0]&&a[1]===m.width-1,(d||p||f||h)&&(g={selStart:[l,0],selEnd:[l,1],zoneId:s},this.adit.getFormat({formatKey:Nn.formatKey,selection:g})[0]&&this.formatCommands.push({lineNum:l,key:n,value:r})))}this.formatCommands.length&&this.adit.format(Nn.formatKey,"number",i)}},Nn.prototype.handlePrefixClick=function(e){var t=e.detail,n=e.target;if(t&&!(1<t)){var r=W()(n).closest(wn),i=this.adit.getEditor().getRep();if(r[0]){var o=r[0].id,a=i.lines.indexOfKey(o),s=this.adit.getFormat({formatKey:Nn.formatKey})[0];if(s&&!n.classList.contains(On)&&this.activeLists.length)return this.deactivateList(),void(i.lines.atKey(o)&&this.adit.setSelection({zoneId:"0",selStart:[a,0],selEnd:[a,1]}));n.classList.contains(On)&&(this.adit.setSelection({zoneId:"0",selStart:[a,0],selEnd:[a,1]}),this.deactivateList(),this.activeLists=[{target:n,lineNum:a}],this.activateList())}else this.deactivateList()}},Nn.prototype.handlePaste=function(e){var t=e.pasteDataWrapper,n=this.editor.getRep();if(n&&n.selStart){var r=n.selStart[0];if(!(W()(t).find("ol").length<=0)){var i=t.firstElementChild;i&&"meta"===tn(i)&&(i=i.nextElementSibling);for(var o=n.attributeManager.findAttributeOnLine(r-1,"ol-id"),a={},s=/ol-id([\w]{8})/,c=n.attributeManager.findAttributeOnLine(r,"ol-id")||o;i&&i.tagName;){var u,l=i.className,d=s.exec(l);u=d?(a[d[0]]||(a[d[0]]=en()),a[d[0]]):"ol"===i.tagName.toLowerCase()?c||en():"",cn(i,u),c=u,i=i.nextElementSibling}}}},Nn.prototype.activateList=function(){var n=this;this.activeLists.forEach(function(e){var t=e.target;t.classList.contains(kn)||t.classList.add(kn),n.editor.getObserver().withoutRecordingMutations(function(){W()(t).closest(wn).find(In).addClass(Sn)})})},Nn.prototype.deactivateList=function(){var n=this;this.activeLists.forEach(function(e){var t=e.target;t.classList.contains(kn)&&t.classList.remove(kn),n.editor.getObserver().withoutRecordingMutations(function(){W()(t).closest(wn).find(In).removeClass(Sn)})}),this.activeLists=[]},Nn.prototype.editorDoDeleteKey=function(e,t){var n=t.lineMarker,r=t.col,i=t.theLine,o=t.prevLineEntry,a=t.editor,s=t.lineEntry;if(n<r)return!1;var c=a.getLineListType,u=a.handleAlignText,l=a.performDocumentReplaceRange,d=a.hasOtherAttribsOnLine,p=a.getRep().attributeManager,f=a.getRep().zoneId,h=i-1,g=0<i?c(f,h):"",m=c(f,i),v=c(f,i+1),y=o&&o.text.length===o.lineMarker,b=p.getAttributesOnLine(i-1),E=p.getAttributeOnLine(i,"heading"),_=p.lineHasMarker(i),C=Object(K.default)(s,"lineNode.className",""),T=Object(K.default)(s,"lineNode.innerHTML",""),O=Object(K.default)(o,"lineNode.innerHTML",""),k=Object(K.default)(o,"lineNode.className",""),S=-1<k.indexOf("blockquote"),w=-1<k.indexOf("heading"),I=-1<T.indexOf("horizontal-line"),x=-1<O.indexOf("horizontal-line"),L=-1<C.indexOf("blockquote"),R=-1<C.indexOf("heading"),N=/(?:^| )align-([A-Za-z]*)/.exec(C),D=-1<C.indexOf("text-indent");if(x)return l(f,[i-1,0],[i,0],""),!0;if(I&&v)return l(f,[i,0],[i+1,0],""),!0;var M=this.adit.getFormatter("align"),P=M&&M.isDowngradable();if((!L||S&&o||!R||w)&&o){if(L)return m?this.removeListAttribute(f,p,i):N&&"left"!==N[1]&&P?u(N,i,o,s):D?p.removeAttributeOnLine(i,"text-indent"):l(f,[i-1,o.text.length],[i,s.lineMarker],""),!0;if(R){if(m)return this.removeListAttribute(f,p,i),!0;if(N&&"left"!==N[1]&&o&&P)return u(N,i,o,s),!0;if(D)return p.removeAttributeOnLine(i,"text-indent"),!0;if(!d(b,"align")&&y)return l(f,[i-1,o.text.length],[i,s.lineMarker],""),p.setAttributeOnLine(i-1,"heading",E),!0}else{if(m){if(N)return this.removeListAttribute(f,p,i),!0;if(y&&!g)return this.performCurrentListDelete(f,i,t),!0;if(g){var j=a.getRep(),F=p.getAttributesOnSelection([h,0],[h,o.text.length],j,!!o.lineMarker),B=Object(z.a)(F.attribs)||[],U=-1<B.indexOf("image-uploaded"),H=-1<B.indexOf("drive");return U||H?p.removeAttributeOnLine(i,"list"):this.performCurrentListDelete(f,i,t),!0}return l(f,[i,0],[i,s.lineMarker],""),this.performTextIndent(f,m,i),!0}if(_&&o)return N&&P?u(N,i,o,s):D?p.removeAttributeOnLine(i,"text-indent"):l(f,[i-1,o.text.length],[i,s.lineMarker],""),!0;if(0<i)return l(f,[i-1,o.text.length],[i,0],""),!0}}else{if(m)return this.removeListAttribute(f,p,i),!0;if(N&&"left"!==N[1]&&P)return u(N,i,o,s),!0;if(L)return p.removeAttributeOnLine(i,"blockquote"),!0;if(o)return l(f,[i,0],[i,s.lineMarker],""),!0;if(D)return p.removeAttributeOnLine(i,"text-indent"),!0}return!1},Nn.prototype.performCurrentListDelete=function(e,t,n){var r,i=this.editor,o=i.getLineListType,a=i.performDocumentReplaceRange,s=i.renumberList,c=n.lineEntry,u=n.prevLineEntry,l=i.getRep().attributeManager;-1<o(e,t).indexOf("indent")?a(e,[t,0],[t,c.lineMarker],""):((r=l.findAttributeOnLine(t,"ol-id"))&&this.removeListAttribute(e,l,t),r||a(e,[t-1,u.text.length],[t,c.lineMarker],""),s(e,t,r,!1))},Nn.prototype.performTextIndent=function(e,t,n){var r,i=this.editor.setLineListType,o=/([a-z]+)([0-9]+)/.exec(t);-1===o[1].indexOf("number")||0<(r=Number(o[2]))&&i(e,n,"indent"+r)},Nn.prototype.removeListAttribute=function(e,t,n){var r=(0,this.editor.getLineListType)(e,n),i=t.findAttributeOnLine(n,"ol-id");Nn.relativeAttrKeys.concat("list").forEach(function(e){t.removeAttributeOnLine(n,e)}),this.performTextIndent(e,r,n),this.editor.renumberList(e,n,i,!1)},Nn.prototype.serialize=function(e){var t,n,r=e.type,i=e.node,o=e.lineAttributes,a=null===o||void 0===o?void 0:o.list;if(r===R.u.LINE&&a&&gn(a)){var s=document.createElement("li");return s.classList.add(xn),o&&(s.dataset.list=o.list,s.dataset.olId=o["ol-id"],s.dataset.start=o.start),s.appendChild(i),Object.assign(e,{node:s})}if(r===R.u.ROOT){var c=fn(e.node.querySelectorAll("."+xn)),u=function(l){var d=l.shift(),e=d.parentNode,p=e.parentNode,t=function e(t){void 0===t&&(t=1);var n=hn(d),r=n.type,i=n.level,o=yn(r,t),a=o.child,s=o.root;for(d.dataset.start&&a.setAttribute("start",d.dataset.start);d&&hn(d).level===i;){var c,u=d;u.classList.remove(xn),a.appendChild(u),(d=l.shift())&&p.removeChild(d.parentNode),d&&hn(d).level>i&&(c=e(hn(d).level-i),u.appendChild(c))}return s}(hn(d).level);p.replaceChild(t,e)};try{for(var l=de(c),d=l.next();!d.done;d=l.next())u(d.value)}catch(e){t={error:e}}finally{try{d&&!d.done&&(n=l.return)&&n.call(l)}finally{if(t)throw t.error}}}return e},Nn.formatKey=Ln,Nn.formatType=N.TreeFormatter.FormatType.BLOCK,Nn.formatValueType=N.TreeFormatter.FormatValueType.String,Nn.toggleable=!0,Nn.relativeAttrKeys=An.concat(Tn),ue([Object(D.c)(),le("design:type",Function),le("design:paramtypes",[]),le("design:returntype",void 0)],Nn.prototype,"reset",null),ue([Object(D.c)(),le("design:type",Function),le("design:paramtypes",[Element,Boolean]),le("design:returntype",void 0)],Nn.prototype,"createPrefix",null),ue([Object(D.c)(),le("design:type",Function),le("design:paramtypes",[]),le("design:returntype",void 0)],Nn.prototype,"handleKeyDown",null),ue([Object(D.c)(),le("design:type",Function),le("design:paramtypes",[Object]),le("design:returntype",void 0)],Nn.prototype,"handleFormat",null),ue([Object(D.c)(),le("design:type",Function),le("design:paramtypes",[Object]),le("design:returntype",void 0)],Nn.prototype,"handlePrefixClick",null),ue([Object(D.c)(),le("design:type",Function),le("design:paramtypes",[Object]),le("design:returntype",void 0)],Nn.prototype,"handlePaste",null),ue([Object(D.c)(),le("design:type",Function),le("design:paramtypes",[]),le("design:returntype",void 0)],Nn.prototype,"activateList",null),ue([Object(D.c)(),le("design:type",Function),le("design:paramtypes",[]),le("design:returntype",void 0)],Nn.prototype,"deactivateList",null),Nn);function Nn(e){var C=bn.call(this)||this;return C.adit=e,C.prefixAttributes=Tn,C.activeLists=[],C.formatCommands=[],C.ccTimes=0,C.renumberInfoCache=null,C.aceAfterCollectPasteContent=function(e,t){var d,r,i,p=t.rep,n=t.lines,o=p.selStart[0],a=t.lineAttribs,f=function(e,t){if(e){var n=C.editor.changesetHelper.opIterator(e);if(n.hasNext())return C.editor.changesetHelper.opAttributeValue(n.next(),t,p.apool)||""}return""},h=function(e){return f(e,"list")},g=function(e){var t,n=e.rep,r=e.lineAttribs,i=e.lineNum,o=e.attrName,a=e.oldAttrValue,s=e.newAttrValue,c=n.apool.getAttribNum(o+","+a);c&&(t=s?C.editor.changesetHelper.makeAttribsString("+",[[o,s]],n.apool):"",r[i]=r[i].replace("*"+c.toString(36),t))},s=h(a[0]),c=p.alinesWidth[o]-1,u=0===c||1===c&&C.editor.getAttributeOnLine(p.zoneId,o,"lmkr"),l=u&&s||c===n[0].length&&a[1]&&h(a[1]),m=u&&s,v=function(){var e=p.attributeManager.getAttributeOnLine(p.selStart[0],"list");if(l){var t=a.slice(1).map(function(e){return Number(h(e).slice(-1))}).filter(function(e){return!!e});if(t.length){var n=Number(e.slice(-1))||Math.min.apply(Math,fe(t)),r=!e&&1===n,i=e&&n+Math.min.apply(Math,fe(t))-t[0]<1;if(!r&&!i)return[n,!!e]}}}();v&&(d=0,r=function(e,t,n,r){var i,o=/([a-z]+)([0-9]+)/.exec(t),a=o&&o[1],s=o&&Number(o[2]),c=pe(n,2),u=c[0],l=c[1];a&&s&&(i="",i=l?(0===e&&(d=u-s),0===e?""+a+u:""+a+(s+d)):(s!==u&&(d=s-u),s===u?a+"1":""+a+(d+1)),g({rep:p,lineAttribs:r,lineNum:e,attrName:"list",oldAttrValue:t,newAttrValue:i}))},(i=m?a:a.slice(1)).forEach(function(e,t){var n=h(e);n&&r(t,n,v,i)}),a=m?i:[a[0]].concat(i));var y=function(e,t){for(var n,r=e;0<=r-1;){if(!(n=h(t[r-1])))return null;if("bullet"===(n=/([a-z]+)([0-9]+)/.exec(n))[1]||"number"===n[1]||"check"===n[1]||"done"===n[1])return{line:--r,type:"done"===n[1]?{0:"check"+n[2],1:"check",2:n[2]}:n,start:"number"===n[1]?parseInt(f(t[r],"start"),10)||1:null};r--}return null},b=function(e,t,u){var n,l=/([a-z]+)[0-9]+/.exec(t);if(C.editor.unNumberType(l[1]))return null;for(;0<=e-1&&(n=h(u[e-1]))&&(n=/([a-z]+)[0-9]+/.exec(n),"code"!==l[1]||l[1]===n[1]);)e--;var r=y(e,u);(function e(t,n,r){for(var i,o=f(u[t],"origin-start"),a=f(u[t],"start"),s=r?a:o||1,c=n;h(u[t]);)if(i=/([a-z]+)([0-9]+)/.exec(h(u[t])),c=Number(i[2]),isNaN(c)||C.editor.unNumberType(i[1])||i[1]!==l[1]){if("code"===l[1])return t;t++}else if(c===n)"number"===i[1]||"code"===i[1]?(a&&g({rep:p,lineAttribs:u,lineNum:t,attrName:"start",oldAttrValue:f(u[t],"start"),newAttrValue:s}),s!==o&&o&&g({rep:p,lineAttribs:u,lineNum:t,attrName:"origin-start",oldAttrValue:f(u[t],"origin-start"),newAttrValue:""})):console.error("Fail to find list node"),s++,t++;else{if(c<n)return t;t=e(t,n+1,r)}return t})(e,1,!!r&&"number"===r.type[1]&&r.type[1]===l[1])},E=!1,_=m?a:a.slice(1);_.forEach(function(e,t){var n=h(e);n&&!E&&b(t,n,_),E=!!n}),a=m?_:[a[0]].concat(_),t.lineAttribs=a},C.deserialize=function(e){var t,n,r,i,o,a,s,c=e.node,u=e.deltaSet,l=e.zoneId,d=u;return c instanceof HTMLElement&&(t=c.tagName,n=c.className,(r=En.exec(n))&&(d=Object(R.I)(d,l,{"ol-id":r[1]})),"LI"===t&&(i=ln(c),o=dn(c),a=un(c),s=pn(c),(1<=o&&i||s)&&(d=Object(R.I)(d,l,{list:s||""+i+o,start:String(a)})))),d},C.editor=e.getEditor(),W()(C.adit.getHost()).on("keydown",C.handleKeyDown),C.adit.on("paste",C.handlePaste),C.adit.on("format",C.handleFormat),C}var Dn=(Mn.prototype.checkOneNoteType=function(e,t){return"div"===e&&-1<t.innerHTML.indexOf("OneNote")},Mn);function Mn(){var c=this;this.deserialize=function(e){var t,n=e.node,r=e.deltaSet;if((null===n||void 0===n?void 0:n.nodeType)===Node.TEXT_NODE){var i=(null===(t=n.parentElement)||void 0===t?void 0:t.tagName)||"";if(!(n.textContent||"").trim()&&("UL"===i||"OL"===i)){for(var o=n.parentElement,a=!1;o;){var s=o.tagName.toLowerCase();if(c.checkOneNoteType(s,o)){a=!0;break}o=o.parentElement}if(a)return new R.e}}return r}}var Pn=(Rect.prototype.clearRects=function(){var t,e,n=this.editor.getReps();try{for(var r=de(Object.keys(n)),i=r.next();!i.done;i=r.next())for(var o=n[i.value].lines,a=o.atIndex(0)||null;a;)a.deleteRect(),a=o.next(a)}catch(e){t={error:e}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}},Rect.prototype.editorSizeChange=function(){this.clearRects()},Rect.prototype.handleImageResize=function(){this.clearRects()},Rect.prototype.handleSheet=function(){this.clearRects()},Rect.prototype.changesetApply=function(e,t){var n,r=t.changeset,i=!1,o=this.editor.changesetHelper,a=o.unpack(r);for(n in a)if(a.hasOwnProperty(n))if(o.opIterator(a[n].ops).hasNext()){i=!0;break}i&&this.clearRects()},Rect.prototype.reset=function(){window.removeEventListener("resize",this.onWindowResize),this.onWindowResize.cancel()},Rect);function Rect(e){var t=this;this.editor=e,this.className="Rect",this.onWindowResize=Object(h.default)(function(){t.clearRects()},60),window.addEventListener("resize",this.onWindowResize)}var jn=D.E.getHotKeyName,Fn=D.E.REDO,Bn=(Un.prototype.aceKeyEvent=function(e,t){var n=t.evt;return jn(n)===Fn&&(n.preventDefault(),this.editor.commands.triggerCommand(Fn),!0)},Un);function Un(e){(this.editor=e).commands.registerCommand(Fn,function(e,t){t.doUndoRedo(e)})}var Hn=(zn.prototype.aceEditEvent=function(e,t){var n=t.callstack;n.docTextChanged&&n.domClean&&"applyChangesToBase"!==n.type&&this.editor.isEditable()&&this.restoreLastEmptyLineIfNecessary()},zn);function zn(e){var i=this;this.editor=e,this.restoreLastEmptyLineIfNecessary=function(){var e,t,n,r=i.editor.getRep("0");r.lines.length()<1||(e=r.lines.length()-1,(t=r.lines.atIndex(e)).text.length!==t.lineMarker&&(n=[r.lines.length()-1,t.text.length],i.editor.performDocumentReplaceRange("0",n,n,"\n",!0)))}}var Vn=(Kn.prototype.aceCreateDomLine=function(e,t){var r,i,o,n,a,s=t.spanClass;0<=s.indexOf("tag")&&(i=[],o=[],(r=s).replace(/(^| )tag:([bisu])/g,function(e,t,n){return i.push(n.toLowerCase()),r=r.replace(e,""),o.push(t+n),t+n}),a=n="",0<i.length&&(i.sort(),n=n+"<"+i.join("><")+">",i.reverse(),a="</"+i.join("></")+">"+a),t.spanClass=r+" "+o.join(" "),t.extraOpenTags=""+t.extraOpenTags+n,t.extraCloseTags=""+a+t.extraCloseTags)},Kn);function Kn(){}function Gn(e){var t,n;if(!e)return!1;var r=[".sheet:not(.sheet-pasting)","."+D.a+":not(.sheet-pasting)"];try{for(var i=de(r),o=i.next();!o.done;o=i.next()){var a=o.value;if(0<W()(e).parents(a).length)return!0}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return!1}var Wn="single-line",Yn="single-clicked",qn="single-line-multi-selection",Zn="single-elem-cls",Xn="ignore-collect",Qn=(Jn.prototype.reset=function(){this.editor&&this.$docBody&&(this.$docBody.off("click",".single-line",this._handleLineClick),this.$docBody.off("mousedown",this._handleDocClick))},Jn.prototype.onMount=function(e,t){var n=t.editor;this.$docBody=W()(n.getDocBody()),this.$docBody.on("click",".single-line",this._handleLineClick),this.$docBody.on("mousedown",this._handleDocClick)},Jn.prototype.aceKeyEvent=function(e,t){var n=t.evt,r=t.editor,i=n.type,o=n.keyCode,a=n.shiftKey;if("keydown"!==i)return!1;var s=D.i.LEFT,c=D.i.UP,u=D.i.RIGHT,l=D.i.DOWN,d=D.i.RETURN,p=D.i.BACKSPACE,f=D.i.H,h=n.ctrlKey&&o===f;return-1<[s,c,u,l].indexOf(o)&&!a?(this._removeClickClass(r),this._doMoveCursor(n,t)):o===d?this._doReturn(n,t):!(!h&&o!==p)&&(r.isCaret()?this._doDelete(n,t):this._doRangeDelete(n,t))},Jn.prototype._addClickClass=function(n,e,r){var i=e.editorInfo;i.getObserver().withoutRecordingMutations(function(){n.find("."+Xn+", ."+D.b+", ."+Zn).addClass([Yn,r?qn:""]);var e=n.get(0),t=i.dom.getEntryForNode(e);i.dirtyChecker.markNodeClean(e,t)})},Jn.prototype._markLineClean=function(e,i){Object(S.a)(e,function(e){var t,n=W()(e).parents("[id^=magicdomid]"),r=i.dom.zoneOfdom(n.get(0));r&&(t=i.getRep(r).lines.atKey(n.get(0).id),i.dirtyChecker.markNodeClean(n.get(0),t))})},Jn.prototype._removeClickClass=function(t){var n=this,r=W()("."+Yn);t.getObserver().withoutRecordingMutations(function(){var e=r.parents("[id^=magicdomid]");r.length&&e.length&&(r.removeClass([Yn,qn]),n._markLineClean(r,t))})},Jn.prototype._getMutiLineNodes=function(e,t,n){var r=n.rep,i=e,o=t;t<e&&(i=t,o=e);for(var a=[];i<=o;){var s=Object(K.default)(r.lines.atIndex(i),"domInfo.node");a.push(s),i+=1}return a},Jn.prototype.aceSelectionChanged=function(e,n){var r=this,i=n.editorInfo,o=i.getDocBody(),a=i.getRep(),t=this._getMutiLineNodes(a.selStart[0],a.selEnd[0],n),s=0;t.forEach(function(e){var t=W()(e);W.a.contains(o,e)&&(s++,!t.is("[id^=magicdomid]")&&t.parents("[id^=magicdomid]").length&&(t=t.parents("[id^=magicdomid]")),t.hasClass(Wn)?r._addClickClass(t,n,1<s):t.hasClass(Yn)&&i.dirtyChecker.markNodeClean(e,a.lines.atKey(e.id)))})},Jn.prototype._doMoveCursor=function(n,e){if(!e.preventOtherHooksHandle){var t=n.keyCode,r=n.metaKey,i=n.ctrlKey,o=n.shiftKey,a=e.editor,s=e.rep;a.fastIncorp();var c=D.i.DOWN,u=D.i.UP,l=D.i.LEFT,d=D.i.RIGHT,p=s.selStart[0],f=0===p?0:p-1,h=p+1,g=er(h,e),m=er(p,e),v=er(f,e);if((g||m||v)&&!r&&!i&&!o){if((v||g)&&!m){var y=s.lines.atIndex(p),b=s.selStart[1];if(0<y.getCharRect(b).top)return}switch(t){case u:C();break;case l:var E=Object(K.default)(s.lines.atIndex(p),"lineMarker");s.selEnd[1]!==E&&!m||C();break;case c:T();break;case d:var _=Object(K.default)(s.lines.atIndex(p),"text.length");(s.selEnd[1]>=_||m)&&T();break;default:return}return!0}}function C(){var e,t=0;(v||m)&&(v||(t=Object(K.default)(s.lines.atIndex(f),"text.length"),n.preventDefault()),O(f),a.performSelectionChange(s.zoneId,[f,t],[f,t]),e=N.browser.isEdge||N.browser.isIE,a.updateBrowserSelectionFromRep(e))}function T(){var e,t=0;(g||m)&&(g||n.preventDefault(),O(h),a.performSelectionChange(s.zoneId,[h,t],[h,t]),e=N.browser.isEdge||N.browser.isIE,a.updateBrowserSelectionFromRep(e))}function O(e){var t,n,r;a.isImageLine(s.zoneId,e)&&(t=s.attributeManager.findAttributeOnLine(e,"gallery"),r="image-upload-image-"+(n=JSON.parse(t).items)[n.length-1].uuid,a.call("galleryImageChoosed",r))}},Jn.prototype._doReturn=function(e,t){var n=t.editor,r=n.getRep();if(er(r.selStart[0],t)){var i=r.selStart[0],o=r.lines.atIndex(i),a=[i,o.text.length],s=[i,o.text.length];return n.selection.setWithSelection(r.zoneId,a,s,!1),setTimeout(function(){n.getInInternationalComposition()||n.inCallStackIfNecessary("singleLineDoReturn",function(){n.performDocumentReplaceRange(r.zoneId,a,s,"\n"),n.selection.setWithSelection(r.zoneId,[i+1,0],[i+1,0],!1),n.updateBrowserSelectionFromRep()},{shouldIncorp:!0})}),!0}return!1},Jn.prototype._doDelete=function(e,t){var n=t.preventOtherHooksHandle,r=t.preventOtherHooks;if(n)return!1;var i=t.editor,o=i.getRep(),a=o.zoneId,s=o.selStart,c=o.selEnd,u=s[0],l=o.lines.atIndex(u),d=l.lineMarker,p=l.lineNode,f=l.text,h=u-1,g=Math.random().toString();if(er(u,t))return i.observer.withoutRecordingMutations(function(){W()(".comment-line-popup").removeClass("comment-line-popup_active")}),$n(u,t,g),e.preventDefault(),!0;var m=i.getLineListType(a,u);if(s[1]!==d||c[1]!==d||m||!er(h,t))return!1;var v=o.lines.atIndex(h),y=Object(K.default)(v,"lineNode");i.hooks.callAll("shouldDeletePrevSingleLine",{prevLineEntry:v}).find(function(e){return e})?$n(h,t,g):setTimeout(function(){W()(y).children().first().click()});var b=f.length,E=0<b&&W()(p).text().length+d===b;return s[0]===c[0]&&s[0]===o.lines.length()-1||E||i.inCallStackIfNecessary("delete-single-line",function(){i.fastIncorp(),i.performDelete(u),r&&r()},{mergeEvent:g}),e.preventDefault(),!0},Jn.prototype._doRangeDelete=function(e,t){var n=t.preventOtherHooksHandle,r=t.editor;if(!n){var i=r.getRep().zoneId,o=nr(t);if(o){var a=o.correctSelStart,s=o.correctSelEnd;return r.inCallStackIfNecessary("delete-range-single-line",function(){r.performDocumentReplaceRange(i,a,s,"")},{shouldIncorp:!0}),e.preventDefault(),!0}}},Jn.prototype.aceCutRangeReplaceSeletion=function(e,t){var n,r,i=t.rep.zoneId,o=nr(t);o&&(n=o.correctSelStart,r=o.correctSelEnd,this.editor.selection.setWithSelection(i,n,r,!1))},Jn);function Jn(e){var d=this;this.editor=e,this.className="SingleLineManager",this.willPaste=function(){var e,t=d.editor.getRep(),n=t.zoneId,r=pe(t.selStart,2),i=r[0],o=r[1],a=pe(t.selEnd,2),s=a[0],c=a[1],u=t.alinesWidth,l=t.lines.atIndex(s);er(i,{rep:t})&&o>=u[i]-1&&i+1<=s&&d.editor.selection.setWithSelection(n,[i+1,0],[s,c]),er(s,{rep:t})&&c<=((null===l||void 0===l?void 0:l.lineMarker)||0)&&i<=s-1&&(e=s-1,d.editor.selection.setWithSelection(n,[i,o],[e,u[e]-1]))},this._handleDocClick=function(e){var t=W()("."+Yn),n=W()(e.target),r=n.parents(".toolbar").length,i=n.parents("."+Yn).length;r||!t.length||i&&1===t.length||d._removeClickClass(d.editor)},this._handleLineClick=function(e){if(Gn(e.target))return!1;var t=d.editor,n=W()(e.target).parents("[id^=magicdomid]"),r=t.dom.zoneOfdom(n.get(0));if(!r)return!1;var i=t.getRep(r);if(n.length){var o=n.index(),a=i.lines.atIndex(o);if(!a)return!1;var s=a.lineMarker;return t.inCallStackIfNecessary("clickSingleLine",function(){t.selection.setWithSelection(i.zoneId,[o,s],[o,s+1],!1),d._removeClickClass(t),t.performSelectionChange(i.zoneId,[o,0],[o,0])}),t.updateBrowserSelectionFromRep(!0),n.hasClass("drive-uploader-file")}return!1}}function $n(e,t,n){var r,i=t.editor,o=i.getRep(),a=o.lines.atIndex(e);a&&(r=a.text.length,i.inCallStackIfNecessary("delete-single-line",function(){i.fastIncorp(),i.performDocumentReplaceRange(o.zoneId,[e,0],[e,r],"")},{mergeEvent:n}))}function er(e,t){if(e<0)return!1;var n=tr(e,t);return n&&W()(n).hasClass(Wn)}function tr(e,t){var n=t.rep;return Object(K.default)(n.lines.atIndex(e),"domInfo.node")}function nr(e){var t=e.rep,n=t.selStart,r=t.selEnd,i=t.alinesWidth,o=t.lines;if(!n||!r)return null;var a=n[0],s=a+1,c=r[0],u=c-1,l=o.atIndex(a),d=o.atIndex(c);if(!d||!l)return null;var p=r[1]<=d.lineMarker,f=n[1]>l.lineMarker,h=n,g=r;return er(c,e)&&p&&a<=u&&(g=[u,i[u]-1]),er(a,e)&&f&&s<=c&&(h=[s,0]),h!==n||g!==r?{correctSelStart:h,correctSelEnd:g}:null}var rr,ir=(oe(or,rr=N.Formatter),or.setClass=function(e){return e?["s"]:[]},or.setTags=function(e){return e?["s"]:[]},or.getCssStyle=function(e){return["text-decoration",e?"line-through":""]},or.prototype.serialize=function(e){return Object(R.P)(e,{tagAttribute:or.formatKey,wrapTag:R.a[or.formatKey]})},or.formatKey="strikethrough",or.formatType=N.Formatter.FormatType.INLINE,or.formatValueType=N.Formatter.FormatValueType.Boolean,or.toggleable=!0,or.execCommandKey="strikeThrough",or);function or(){return null!==rr&&rr.apply(this,arguments)||this}he(".adit-outer-container .adit-container .text-indent {\n  text-indent: 2em;\n}\n",{className:"adit-style"});var ar,sr="text-indent",cr=(oe(ur,ar=N.Formatter),ur.setClass=function(e){return e?[ur.formatKey]:[]},ur.collect=function(e){var t=[];return e.className&&e.className.includes&&e.className.includes(sr)&&t.push([sr,"true"]),{attributes:t}},ur.formatKey=sr,ur.formatType=N.Formatter.FormatType.BLOCK,ur.formatValueType=N.Formatter.FormatValueType.Boolean,ur.toggleable=!0,ur);function ur(){return null!==ar&&ar.apply(this,arguments)||this}new cr;var lr,dr=(oe(pr,lr=N.Formatter),pr.setClass=function(e){return e?["u"]:[]},pr.setTags=function(e){return e?["u"]:[]},pr.getCssStyle=function(e){return["text-decoration",e?pr.formatKey:""]},pr.prototype.serialize=function(e){return Object(R.P)(e,{tagAttribute:pr.formatKey,wrapTag:R.a[pr.formatKey]})},pr.formatKey="underline",pr.formatType=N.Formatter.FormatType.INLINE,pr.formatValueType=N.Formatter.FormatValueType.Boolean,pr.toggleable=!0,pr.execCommandKey=pr.formatKey,pr);function pr(){return null!==lr&&lr.apply(this,arguments)||this}var fr=D.E.getHotKeyName,hr=D.E.UNDO,gr=mr;function mr(e){var i=this;this.editor=e,this.aceKeyEvent=function(e,t){var n=t.evt,r=t.isTypeForSpecialKey;return!(fr(n)!==hr||!r)&&(i.editor.commands.triggerCommand(hr),n.preventDefault(),!0)},e.commands.registerCommand(hr,function(e,t){t.doUndoRedo(e)})}var vr=["h1","h2","h3","h4","h5","h6","h7","h8"],yr=/Mso(List|Normal)/,br=/mso-list/,Er=/h(\d+)/,_r=/white-space: pre-wrap;/;function Ar(e){return"A"!==e.tagName?"":e.href}var Cr=(Tr.prototype.getLevel=function(e){var t=/level(\d+)/.exec(e);return t?parseInt(t[1]):-1},Tr.prototype.ccRegisterBlockElements=function(){return vr},Tr.prototype.convertCharToNum=function(e){for(var t="a".charCodeAt(0),n=e.length,r=0,i=0;i<n-1;++i)r+=(n-1-i)*(e[i].charCodeAt(0)-t+1)*26;return r+=e[n-1].charCodeAt(0)-t},Tr.prototype.converRomanToNum=function(e){for(var t=e.toUpperCase(),n=0,r=[1e3,900,500,400,100,90,50,40,10,9,5,4,1],i=["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"],o=0;o<=r.length;o++)for(;0===t.indexOf(i[o]);)n+=r[o],t=t.replace(i[o],"");return n},Tr.prototype.convertToNum=function(e,t){var n=t%3,r=e.substring(0,e.length-1);return 0===n?this.converRomanToNum(r):1===n?parseInt(r,10):2===n?this.convertCharToNum(r):-1},Tr.prototype.findListNode=function(e){var t=[e],n=0,r=0;if(!e.children)return e;for(;n<=r;){var i=t[n];if(i.style.cssText&&this.whiteSpaceReg.exec(i.style.cssText))return i;t=t.concat(Array.prototype.slice.call(i.children)),n+=1,r+=i.children.length}return e},Tr.prototype.getStart=function(e,t){var n=this.findListNode(e);if(-1===t)return-1;var r=((r=n.firstElementChild&&n.firstElementChild.firstElementChild&&n.firstElementChild.firstElementChild.textContent)||"").replace(/(^\s*)|(\s*$)/g,"");return n.firstElementChild&&n.removeChild(n.firstElementChild),1<r.length?this.convertToNum(r,t):-1},Tr.prototype.checkMsType=function(e,t){return-1<t.innerHTML.indexOf("OfficeDocument")},Tr.prototype.deserialize=function(e){for(var t,n=e.node,r=e.deltaSet,i=e.zoneId,o=!1,a=!1,s=n||null;s;){if(s instanceof HTMLElement){var c=s.tagName;if(this.checkMsType(c.toLowerCase(),s)){o=!0;break}"SPAN"===c&&"EN-US"===s.lang&&(a=!0)}s=s.parentNode}if(n&&n.nodeType===Node.TEXT_NODE){var u=n.parentNode&&n.parentNode instanceof Element&&n.parentNode.className||"",l=n.parentNode&&n.parentNode instanceof Element&&n.parentNode.tagName||"",d=!(n.textContent||"").trim();if((d&&("UL"===l||"OL"===l)||d&&u&&"ace-line"===u)&&o){var p=new R.e;return r.forEach(function(e,t){p=t===i?p.concat(new R.E({zoneId:i})):p.concat(e)}),p}if(a){var f=new R.e;return r.forEach(function(e,t){var n;f=t===i?(n=e.reduce(function(e,t){var n,r=t.insert;return"string"==typeof r&&(n=r.replace(/[|]/g,'"').replace(/[|]/g,"'"),e.insert(n)),e},new R.E({zoneId:i})),f.concat(n)):f.concat(e)}),f}}if(n instanceof HTMLElement){var c=n.tagName,h=n.getAttribute("style")||"",g=r;if(o){var m,v,y=this.headingReg.exec(c.toLowerCase());y&&(v="h"+((m=Number.parseInt(y[1],10))<4?m:3),g=Object(R.I)(g,i,{heading:v}));var b,E=Ar(n);if(E&&(b="url-"+Object(D.z)(10),g=Object(R.H)(g,i,((t={})[b]=E,t))),"P"===c&&this.msListReg.exec(h)){var _="",C=this.getLevel(h),T=this.getStart(n,C);if(-1===C)return g;_=-1!==T?(g=Object(R.I)(g,i,{start:String(T)}),"number"+C):"bullet"+C,g=Object(R.I)(g,i,{list:_})}}return g}return r},Tr.prototype.UNSAFE_editorNormalizePasteNode=function(e){var t=e.data.node;t&&this.checkMsType(t.tagName.toLowerCase(),t)&&t.querySelectorAll("table.MsoTableGrid").forEach(function(e){e.querySelectorAll("o\\:p").forEach(function(e){e.parentNode&&(e.parentNode.append(document.createElement("br")),e.parentNode.removeChild(e))}),e.querySelectorAll(".MsoNormal").forEach(function(e){var t=Array.from(e.childNodes),n=e.parentNode;n&&(Array.from(n.childNodes).filter(function(e){return e.nodeType===Node.TEXT_NODE}).forEach(function(e){n.removeChild(e)}),n.removeChild(e),n.append.apply(n,fe(t)))})})},Tr);function Tr(){this.className="WordCopySupport",this.msReg=yr,this.msListReg=br,this.headingReg=Er,this.whiteSpaceReg=_r}he(".adit-outer-container .adit-container .heading-h1 span {\n  font-size: 30px !important;\n  font-weight: 500 !important;\n}\n.adit-outer-container .adit-container .heading-h2 span {\n  font-size: 24px !important;\n  font-weight: 500 !important;\n}\n.adit-outer-container .adit-container .heading-h3 span {\n  font-size: 20px !important;\n  font-weight: 500 !important;\n}\n",{className:"adit-style"});var Or,kr="",Sr=(oe(wr,Or=N.TreeFormatter),wr.setValue=function(e){return{className:[wr.formatKey],style:["font-size: "+e]}},wr.prototype.formatAttributes=function(e,t){var n=t[0],r=n.selStart,i=n.selEnd;return Object(g.default)(r,i)?(kr=e,[{selStart:r,selEnd:i,attribs:[[wr.formatKey,"3"]]}]):[]},wr.collect=function(e){var t=[],n=e.style.fontSize;return e.className&&e.className.includes&&e.className.includes("heading")||!n||(kr&&n.includes("medium")&&(n=kr,kr=""),t.push([wr.formatKey,n])),{attributes:t}},wr.getCssStyle=function(e){return["font-size",e]},wr.formatKey="fontsize",wr.formatType=N.TreeFormatter.FormatType.INLINE,wr.formatValueType=N.TreeFormatter.FormatValueType.String,wr.toggleable=!1,wr.execCommandKey="fontSize",wr);function wr(){return null!==Or&&Or.apply(this,arguments)||this}var Ir,xr,Lr={black:{HEX:"#000000",RGB:"rgb(0,0,0)"},silver:{HEX:"#C0C0C0",RGB:"rgb(192,192,192)"},gray:{HEX:"#808080",RGB:"rgb(128,128,128)"},white:{HEX:"#FFFFFF",RGB:"rgb(255,255,255)"},maroon:{HEX:"#800000",RGB:"rgb(128,0,0)"},red:{HEX:"#FF0000",RGB:"rgb(255,0,0)"},purple:{HEX:"#800080",RGB:"rgb(128,0,128)"},fuchsia:{HEX:"#FF00FF",RGB:"rgb(255,0,255)"},green:{HEX:"#008000",RGB:"rgb(0,128,0)"},lime:{HEX:"#00FF00",RGB:"rgb(0,255,0)"},olive:{HEX:"#808000",RGB:"rgb(128,128,0)"},yellow:{HEX:"#FFFF00",RGB:"rgb(255,255,0)"},navy:{HEX:"#000080",RGB:"rgb(0,0,128)"},blue:{HEX:"#0000FF",RGB:"rgb(0,0,255)"},teal:{HEX:"#008080",RGB:"rgb(0,128,128)"},aqua:{HEX:"#00FFFF",RGB:"rgb(0,255,255)"},aliceblue:{HEX:"#F0F8FF",RGB:"rgb(240,248,255)"},antiquewhite:{HEX:"#FAEBD7",RGB:"rgb(250,235,215)"},aquamarine:{HEX:"#7FFFD4",RGB:"rgb(127,255,212)"},azure:{HEX:"#F0FFFF",RGB:"rgb(240,255,255)"},beige:{HEX:"#F5F5DC",RGB:"rgb(245,245,220)"},bisque:{HEX:"#FFE4C4",RGB:"rgb(255,228,196)"},blanchedalmond:{HEX:"#FFEBCD",RGB:"rgb(255,235,205)"},blueviolet:{HEX:"#8A2BE2",RGB:"rgb(138,43,226)"},brown:{HEX:"#A52A2A",RGB:"rgb(165,42,42)"},burlywood:{HEX:"#DEB887",RGB:"rgb(222,184,135)"},cadetblue:{HEX:"#5F9EA0",RGB:"rgb(95,158,160)"},chartreuse:{HEX:"#7FFF00",RGB:"rgb(127,255,0)"},chocolate:{HEX:"#D2691E",RGB:"rgb(210,105,30)"},coral:{HEX:"#FF7F50",RGB:"rgb(255,127,80)"},cornflowerblue:{HEX:"#6495ED",RGB:"rgb(100,149,237)"},cornsilk:{HEX:"#FFF8DC",RGB:"rgb(255,248,220)"},crimson:{HEX:"#DC143C",RGB:"rgb(220,20,60)"},cyan:{HEX:"#00FFFF",RGB:"rgb(0,255,255)"},darkblue:{HEX:"#00008B",RGB:"rgb(0,0,139)"},darkcyan:{HEX:"#008B8B",RGB:"rgb(0,139,139)"},darkgoldenrod:{HEX:"#B8860B",RGB:"rgb(184,134,11)"},darkgray:{HEX:"#A9A9A9",RGB:"rgb(169,169,169)"},darkgreen:{HEX:"#006400",RGB:"rgb(0,100,0)"},darkgrey:{HEX:"#A9A9A9",RGB:"rgb(169,169,169)"},darkkhaki:{HEX:"#BDB76B",RGB:"rgb(189,183,107)"},darkmagenta:{HEX:"#8B008B",RGB:"rgb(139,0,139)"},darkolivegreen:{HEX:"#556B2F",RGB:"rgb(85,107,47)"},darkorange:{HEX:"#FF8C00",RGB:"rgb(255,140,0)"},darkorchid:{HEX:"#9932CC",RGB:"rgb(153,50,204)"},darkred:{HEX:"#8B0000",RGB:"rgb(139,0,0)"},darksalmon:{HEX:"#E9967A",RGB:"rgb(233,150,122)"},darkseagreen:{HEX:"#8FBC8F",RGB:"rgb(143,188,143)"},darkslateblue:{HEX:"#483D8B",RGB:"rgb(72,61,139)"},darkslategray:{HEX:"#2F4F4F",RGB:"rgb(47,79,79)"},darkslategrey:{HEX:"#2F4F4F",RGB:"rgb(47,79,79)"},darkturquoise:{HEX:"#00CED1",RGB:"rgb(0,206,209)"},darkviolet:{HEX:"#9400D3",RGB:"rgb(148,0,211)"},deeppink:{HEX:"#FF1493",RGB:"rgb(255,20,147)"},deepskyblue:{HEX:"#00BFFF",RGB:"rgb(0,191,255)"},dimgray:{HEX:"#696969",RGB:"rgb(105,105,105)"},dimgrey:{HEX:"#696969",RGB:"rgb(105,105,105)"},dodgerblue:{HEX:"#1E90FF",RGB:"rgb(30,144,255)"},firebrick:{HEX:"#B22222",RGB:"rgb(178,34,34)"},floralwhite:{HEX:"#FFFAF0",RGB:"rgb(255,250,240)"},forestgreen:{HEX:"#228B22",RGB:"rgb(34,139,34)"},gainsboro:{HEX:"#DCDCDC",RGB:"rgb(220,220,220)"},ghostwhite:{HEX:"#F8F8FF",RGB:"rgb(248,248,255)"},gold:{HEX:"#FFD700",RGB:"rgb(255,215,0)"},goldenrod:{HEX:"#DAA520",RGB:"rgb(218,165,32)"},greenyellow:{HEX:"#ADFF2F",RGB:"rgb(173,255,47)"},grey:{HEX:"#808080",RGB:"rgb(128,128,128)"},honeydew:{HEX:"#F0FFF0",RGB:"rgb(240,255,240)"},hotpink:{HEX:"#FF69B4",RGB:"rgb(255,105,180)"},indianred:{HEX:"#CD5C5C",RGB:"rgb(205,92,92)"},indigo:{HEX:"#4B0082",RGB:"rgb(75,0,130)"},ivory:{HEX:"#FFFFF0",RGB:"rgb(255,255,240)"},khaki:{HEX:"#F0E68C",RGB:"rgb(240,230,140)"},lavender:{HEX:"#E6E6FA",RGB:"rgb(230,230,250)"},lavenderblush:{HEX:"#FFF0F5",RGB:"rgb(255,240,245)"},lawngreen:{HEX:"#7CFC00",RGB:"rgb(124,252,0)"},lemonchiffon:{HEX:"#FFFACD",RGB:"rgb(255,250,205)"},lightblue:{HEX:"#ADD8E6",RGB:"rgb(173,216,230)"},lightcoral:{HEX:"#F08080",RGB:"rgb(240,128,128)"},lightcyan:{HEX:"#E0FFFF",RGB:"rgb(224,255,255)"},lightgoldenrodyellow:{HEX:"#FAFAD2",RGB:"rgb(250,250,210)"},lightgray:{HEX:"#D3D3D3",RGB:"rgb(211,211,211)"},lightgreen:{HEX:"#90EE90",RGB:"rgb(144,238,144)"},lightgrey:{HEX:"#D3D3D3",RGB:"rgb(211,211,211)"},lightpink:{HEX:"#FFB6C1",RGB:"rgb(255,182,193)"},lightsalmon:{HEX:"#FFA07A",RGB:"rgb(255,160,122)"},lightseagreen:{HEX:"#20B2AA",RGB:"rgb(32,178,170)"},lightskyblue:{HEX:"#87CEFA",RGB:"rgb(135,206,250)"},lightslategray:{HEX:"#778899",RGB:"rgb(119,136,153)"},lightslategrey:{HEX:"#778899",RGB:"rgb(119,136,153)"},lightsteelblue:{HEX:"#B0C4DE",RGB:"rgb(176,196,222)"},lightyellow:{HEX:"#FFFFE0",RGB:"rgb(255,255,224)"},limegreen:{HEX:"#32CD32",RGB:"rgb(50,205,50)"},linen:{HEX:"#FAF0E6",RGB:"rgb(250,240,230)"},magenta:{HEX:"#FF00FF",RGB:"rgb(255,0,255)"},mediumaquamarine:{HEX:"#66CDAA",RGB:"rgb(102,205,170)"},mediumblue:{HEX:"#0000CD",RGB:"rgb(0,0,205)"},mediumorchid:{HEX:"#BA55D3",RGB:"rgb(186,85,211)"},mediumpurple:{HEX:"#9370DB",RGB:"rgb(147,112,219)"},mediumseagreen:{HEX:"#3CB371",RGB:"rgb(60,179,113)"},mediumslateblue:{HEX:"#7B68EE",RGB:"rgb(123,104,238)"},mediumspringgreen:{HEX:"#00FA9A",RGB:"rgb(0,250,154)"},mediumturquoise:{HEX:"#48D1CC",RGB:"rgb(72,209,204)"},mediumvioletred:{HEX:"#C71585",RGB:"rgb(199,21,133)"},midnightblue:{HEX:"#191970",RGB:"rgb(25,25,112)"},mintcream:{HEX:"#F5FFFA",RGB:"rgb(245,255,250)"},mistyrose:{HEX:"#FFE4E1",RGB:"rgb(255,228,225)"},moccasin:{HEX:"#FFE4B5",RGB:"rgb(255,228,181)"},navajowhite:{HEX:"#FFDEAD",RGB:"rgb(255,222,173)"},oldlace:{HEX:"#FDF5E6",RGB:"rgb(253,245,230)"},olivedrab:{HEX:"#6B8E23",RGB:"rgb(107,142,35)"},orange:{HEX:"#FFA500",RGB:"rgb(255,165,0)"},orangered:{HEX:"#FF4500",RGB:"rgb(255,69,0)"},orchid:{HEX:"#DA70D6",RGB:"rgb(218,112,214)"},palegoldenrod:{HEX:"#EEE8AA",RGB:"rgb(238,232,170)"},palegreen:{HEX:"#98FB98",RGB:"rgb(152,251,152)"},paleturquoise:{HEX:"#AFEEEE",RGB:"rgb(175,238,238)"},palevioletred:{HEX:"#DB7093",RGB:"rgb(219,112,147)"},papayawhip:{HEX:"#FFEFD5",RGB:"rgb(255,239,213)"},peachpuff:{HEX:"#FFDAB9",RGB:"rgb(255,218,185)"},peru:{HEX:"#CD853F",RGB:"rgb(205,133,63)"},pink:{HEX:"#FFC0CB",RGB:"rgb(255,192,203)"},plum:{HEX:"#DDA0DD",RGB:"rgb(221,160,221)"},powderblue:{HEX:"#B0E0E6",RGB:"rgb(176,224,230)"},rosybrown:{HEX:"#BC8F8F",RGB:"rgb(188,143,143)"},royalblue:{HEX:"#4169E1",RGB:"rgb(65,105,225)"},saddlebrown:{HEX:"#8B4513",RGB:"rgb(139,69,19)"},salmon:{HEX:"#FA8072",RGB:"rgb(250,128,114)"},sandybrown:{HEX:"#F4A460",RGB:"rgb(244,164,96)"},seagreen:{HEX:"#2E8B57",RGB:"rgb(46,139,87)"},seashell:{HEX:"#FFF5EE",RGB:"rgb(255,245,238)"},sienna:{HEX:"#A0522D",RGB:"rgb(160,82,45)"},skyblue:{HEX:"#87CEEB",RGB:"rgb(135,206,235)"},slateblue:{HEX:"#6A5ACD",RGB:"rgb(106,90,205)"},slategray:{HEX:"#708090",RGB:"rgb(112,128,144)"},slategrey:{HEX:"#708090",RGB:"rgb(112,128,144)"},snow:{HEX:"#FFFAFA",RGB:"rgb(255,250,250)"},springgreen:{HEX:"#00FF7F",RGB:"rgb(0,255,127)"},steelblue:{HEX:"#4682B4",RGB:"rgb(70,130,180)"},tan:{HEX:"#D2B48C",RGB:"rgb(210,180,140)"},thistle:{HEX:"#D8BFD8",RGB:"rgb(216,191,216)"},tomato:{HEX:"#FF6347",RGB:"rgb(255,99,71)"},turquoise:{HEX:"#40E0D0",RGB:"rgb(64,224,208)"},violet:{HEX:"#EE82EE",RGB:"rgb(238,130,238)"},wheat:{HEX:"#F5DEB3",RGB:"rgb(245,222,179)"},whitesmoke:{HEX:"#F5F5F5",RGB:"rgb(245,245,245)"},yellowgreen:{HEX:"#9ACD32",RGB:"rgb(154,205,50)"}},Rr="\\s*(1?[0-9]{1,2}|2[0-4][0-9]|25[0-5])\\s*",Nr="\\s*(0?(?:\\.\\d+)?|(1))\\s*",Dr=new RegExp("^rgb\\("+Rr+","+Rr+","+Rr+"\\)$","i"),Mr=new RegExp("^rgba\\("+Rr+","+Rr+","+Rr+","+Nr+"\\)$","i");function Pr(e){var t=e.toLocaleLowerCase().replace(/\s/g,"");return Lr[t]}function jr(e){return/^#[0-9a-f]{6}$/i.test(e)}function Fr(e){return/^#[0-9a-f]{8}$/i.test(e)}function Br(e){return Dr.test(e)}function Ur(e){return Mr.test(e)}function Hr(e){return!!Pr(e)}function zr(e){return jr(e)?Ir.HEX:Fr(e)?Ir.HEXRGBA:Br(e)?Ir.RGB:Ur(e)?Ir.RGBA:Hr(e)?Ir.W3C_COLOR:(console.error("Given color type is wrong"),"")}function Vr(e,t){var n=zr(e);if(n===t)return n===Ir.RGB||n===Ir.RGBA?e.toLowerCase():e.toUpperCase();switch(t){case Ir.HEX:return $r(e,n);case Ir.HEXRGBA:return ti(e,n);case Ir.RGB:return ei(e,n);case Ir.RGBA:return Jr(e,n);default:return""}}function Kr(e){e=e.substr(1);var t=parseInt(e,16);return"rgb("+(t>>16&255)+","+(t>>8&255)+","+(255&t)+")"}function Gr(e){var t=Dr.exec(e);return t?"#"+t.slice(1,4).map(function(e){var t=Number(e).toString(16).toUpperCase();return 2!==t.length?"0"+t:t}).join(""):(console.error("rgb parse error",JSON.stringify(e)),e)}function Wr(e){var t=Mr.exec(e);return"#"+t.slice(1,4).map(function(e){var t=Number(e).toString(16).toUpperCase();return 2!==t.length?"0"+t:t}).join("")+(255*Number(t[4])|256).toString(16).slice(1)}function Yr(e){e=e.substr(1);var t=parseInt(e,16);return"rgba("+(t>>24&255)+","+(t>>16&255)+","+(t>>8&255)+","+(255&t)/255+")"}function qr(e){return("rgba("+Dr.exec(e).slice(1,4).join(",")+",1)").toLocaleLowerCase()}function Zr(e){return("rgb("+Mr.exec(e).slice(1,4).join(",")+")").toLocaleLowerCase()}function Xr(e){return(e+"FF").toUpperCase()}function Qr(e){return e.slice(0,-2).toUpperCase()}function Jr(e,t){switch(t){case Ir.HEX:return qr(Kr(e));case Ir.HEXRGBA:return Yr(e);case Ir.RGB:return qr(e);case Ir.W3C_COLOR:return qr(Pr(e)[Ir.RGB]);default:return""}}function $r(e,t){switch(t){case Ir.HEXRGBA:return Qr(e);case Ir.RGB:return Gr(e);case Ir.RGBA:return Gr(Zr(e));case Ir.W3C_COLOR:return Pr(e)[Ir.HEX];default:return""}}function ei(e,t){switch(t){case Ir.HEX:return Kr(e);case Ir.HEXRGBA:return Kr(Qr(e));case Ir.RGBA:return Zr(e);case Ir.W3C_COLOR:return Pr(e)[Ir.RGB];default:return""}}function ti(e,t){switch(t){case Ir.HEX:return Xr(e);case Ir.RGB:return Xr(Gr(e));case Ir.RGBA:return Wr(e);case Ir.W3C_COLOR:return Xr(Pr(e)[Ir.HEX]);default:return""}}(xr=Ir=Ir||{}).RGB="RGB",xr.HEX="HEX",xr.RGBA="RGBA",xr.HEXRGBA="HEXRGBA",xr.W3C_COLOR="W3C_COLOR";var ni,ri=(oe(ii,ni=N.TreeFormatter),ii.setValue=function(e){return e=Vr(e,this.colorFormat),{className:[ii.formatKey],style:["color: "+e]}},ii.collect=function(e){var t=[],n=e.style.color;return n&&"A"!==e.nodeName.toUpperCase()&&(n=Vr(n,this.colorFormat),t.push([ii.formatKey,n])),{attributes:t}},ii.prototype.formatAttributes=function(e,t,n){var r=Vr(e,ii.colorFormat),i=this.editor.getRep(),o=n||i;return[{selStart:o.selStart,selEnd:o.selEnd,attribs:[[ii.formatKey,r]]}]},ii.prototype.getFormatAttributes=function(e){var t=new Set(e.filter(function(e){var t=pe(e,2),n=t[0],r=t[1];return n===ii.formatKey&&r}).map(function(e){var t=pe(e,2);t[0];return Vr(t[1],ii.colorFormat)}));return e=fe(e.filter(function(e){return pe(e,1)[0]!==ii.formatKey}),Array.from(t).map(function(e){return[ii.formatKey,e]}))},ii.getCssStyle=function(e){return["color",Vr(e,ii.colorFormat)]},ii.formatKey="fontcolor",ii.formatType=N.Formatter.FormatType.INLINE,ii.formatValueType=N.Formatter.FormatValueType.String,ii.toggleable=!1,ii.execCommandKey="foreColor",ii.isTreeFormatter=!0,ii.colorFormat=Ir.HEX,ii);function ii(e,t){var n=ni.call(this)||this;return n.editor=e.getEditor(),ii.colorFormat=t&&t.colorFormat||ii.colorFormat,n}var oi,ai=(oe(si,oi=N.Formatter),si.setStyle=function(e){return["font-family: "+e.replace(/"/g,"&quot;")]},si.setClass=function(){return[si.formatKey]},si.collect=function(e){var t=[],n=e.style.fontFamily;return n&&t.push([si.formatKey,n]),{attributes:t}},si.getCssStyle=function(e){return["font-family",""+e.replace(/"/g,"&quot;")]},si.formatKey="fontfamily",si.formatType=N.Formatter.FormatType.INLINE,si.formatValueType=N.Formatter.FormatValueType.String,si.toggleable=!1,si.execCommandKey="fontName",si);function si(){return null!==oi&&oi.apply(this,arguments)||this}var ci,ui=(oe(li,ci=N.Formatter),li.setStyle=function(e){return["font-weight: "+e]},li.setClass=function(){return[li.formatKey]},li.collect=function(e){var t=[],n=e.style.fontWeight;return e.className&&e.className.includes&&e.className.includes("heading")||!n||!Number(n)||t.push([li.formatKey,n]),{attributes:t}},li.getCssStyle=function(e){return["font-weight",e]},li.formatKey="fontweight",li.formatType=N.Formatter.FormatType.INLINE,li.formatValueType=N.Formatter.FormatValueType.String,li.toggleable=!1,li.execCommandKey="fontWeight",li);function li(){return null!==ci&&ci.apply(this,arguments)||this}var di,pi=(oe(fi,di=N.Formatter),fi.setStyle=function(e){return["background-color: "+e]},fi.setClass=function(){return[fi.formatKey]},fi.collect=function(e){var t=[],n=e.style.backgroundColor;return n&&t.push([fi.formatKey,n]),{attributes:t}},fi.getCssStyle=function(e){return["background-color",e]},fi.formatKey="backgroundcolor",fi.formatType=N.Formatter.FormatType.INLINE,fi.formatValueType=N.Formatter.FormatValueType.String,fi.toggleable=!1,fi.execCommandKey="backColor",fi);function fi(){return null!==di&&di.apply(this,arguments)||this}function hi(e,i,t,o,n){if(!i)return!1;if(t&&t.has(i)){var r=t.get(i);return r&&r(),!1}var a,s=!o,c=e.getEditor().formatterManager,u=e.getFormat(),l=s?u.some(function(e){var t=pe(e,2),n=t[0],r=t[1];return n===i&&r}):u.some(function(e){var t=pe(e,2),n=t[0],r=t[1];return n===i&&r===o});return c.isFormatterToggleable(i)?l?(e.removeFormat(i),a=void 0):(a=!!s||o,e.format(i,a)):(e.format(i,o),a=o),n&&n({key:i,value:a}),!0}var gi="adit-key",mi="adit-value",vi="adit-selected",yi=(bi.prototype.reset=function(){this.unbindEvent(),this.manager.release()},bi.prototype.onMount=function(){this.updateAttributeOnSelection()},bi.prototype.bindEvent=function(){var e=this.adit;e.on("selectionchange",this.handleSelectionChange),e.on("contentchange",this.handleContentChange)},bi.prototype.unbindEvent=function(){var e=this.adit;e.off("selectionchange",this.handleSelectionChange),e.off("contentchange",this.handleContentChange)},bi.prototype.updateAttributeOnSelection=function(e){var t=this,n=t.adit,r=t.manager;e=e||n.getCurrentSelection();var i=n.getFormat({selection:e}).filter(function(e){var t=pe(e,2)[1];return""!==t&&("boolean"!=typeof t||t)}),o=n.getFormatKeys(),a=e.selStart,s=e.selEnd,c=n.getEditor().getRep(e.zoneId).lines,u=c.atIndex(s[0]),l=c.atIndex(s[0]-1);a[0]!==s[0]&&(null===u||void 0===u?void 0:u.lineMarker)===s[1]&&l&&(e.selEnd=[s[0]-1,l.width-1]);var d=n.getFormattableKeys(e),p=o.filter(function(e){return!d.includes(e)}),f=new Map(i);r.render(f,p)},bi);function bi(e,t){var r=this;this.adit=e,this.handleUndo=function(){var e=r.adit,t=e.canUndo,n=e.undo;t()&&n()},this.handleRedo=function(){var e=r.adit,t=e.canRedo,n=e.redo;t()&&n()},this.aditExtraKeyMap=new Map([["undo",this.handleUndo],["redo",this.handleRedo]]),this.handleSelectionChange=function(e){r.updateAttributeOnSelection(e)},this.handleContentChange=function(){r.updateAttributeOnSelection()},this.setFormat=function(e,t){hi(r.adit,e,r.aditExtraKeyMap,t)&&r.updateAttributeOnSelection()},this.triggerCommand=function(e){r.adit.getEditor().commands.triggerCommand(e)};var n=t.Manager;this.manager=new n({adit:e,setFormat:this.setFormat,triggerCommand:this.triggerCommand,canRedo:this.adit.canRedo,canUndo:this.adit.canUndo}),this.bindEvent()}he(".adit-outer-container .adit-container {\n  /*\n   * important!\n   * for every heading including non-heading\n   *   ul:padding-left = @margin * 2 + width\n   *   before:margin-left = -(ul:padding-left - @margin)\n   *   before:margin-right = @margin\n   *\n   * non-heading as eg:\n   *   @margin = 9.6px (get this margin through debugging)\n   *   width = 12px\n   *   margin-left = -23.6px\n   *   margin-right = 9.6px\n   */\n}\n.adit-outer-container .adit-container ul[class^=list-done] li {\n  text-decoration: line-through;\n}\n.adit-outer-container .adit-container ul[class^=list-done] li:before {\n  background-image: url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='14px' height='14px' viewBox='0 0 14 14' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3E%3Ctitle%3E%E4%BB%BB%E5%8A%A1%E5%88%97%E8%A1%A8%3C/title%3E%3Cdesc%3ECreated with Sketch.%3C/desc%3E%3Cdefs/%3E%3Cg id='Page-1' stroke='none' stroke-width='1' fill='none' fill-rule='evenodd'%3E%3Cg id='%E6%96%B0-copy-7' transform='translate%28-290.000000%2C -886.000000%29' fill='%233370FF' fill-rule='nonzero'%3E%3Cg id='checkbox-copy' transform='translate%28290.000000%2C 886.000000%29'%3E%3Cg id='checkbox'%3E%3Cg id='Group-45'%3E%3Cpath d='M9.99090829%2C4.16874623 C10.221752%2C3.94375126 10.5960235%2C3.94375126 10.8268672%2C4.16874623 C11.0577109%2C4.39374121 11.0577109%2C4.75853015 10.8268672%2C4.98352512 L5.67998988%2C10 L3.17313277%2C7.5566572 C2.94228908%2C7.33166223 2.94228908%2C6.96687329 3.17313277%2C6.74187831 C3.40397645%2C6.51688333 3.77824802%2C6.51688333 4.00909171%2C6.74187831 L5.67998988%2C7.5566572 L9.99090829%2C4.16874623 Z' id='Path-5'/%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/svg%3E\");\n  border-color: #373c43;\n}\n.adit-outer-container .adit-container ul[class^=list-check],\n.adit-outer-container .adit-container ul[class^=list-done] {\n  padding-left: 28px;\n  margin-left: -6px;\n  list-style-type: none;\n}\n.adit-outer-container .adit-container ul[class^=list-check] li:before,\n.adit-outer-container .adit-container ul[class^=list-done] li:before {\n  width: 14px;\n  height: 14px;\n  margin-left: -22px;\n  margin-right: 6px;\n  border: 1px solid #2b2f36;\n}\n.adit-outer-container .adit-container ul[class^=list-check] .collapsable-section-handle,\n.adit-outer-container .adit-container ul[class^=list-done] .collapsable-section-handle {\n  transform: translateY(1px);\n}\n.adit-outer-container .adit-container ul[class^=list-check] li:before,\n.adit-outer-container .adit-container ul[class^=list-done] li:before {\n  content: \" \";\n  cursor: pointer;\n  display: block;\n  float: left;\n  position: relative;\n  line-height: normal;\n  font-size: 16px;\n  top: 2px;\n  border-radius: 2px;\n  border: 1px solid #2b2f36;\n  background-position: center;\n  white-space: normal;\n}\n.adit-outer-container .adit-container .disable-click ul[class^=list-check] li:before,\n.adit-outer-container .adit-container .disable-click ul[class^=list-done] li:before {\n  cursor: default;\n}\n.adit-outer-container .adit-container .heading-h1 ul[class^=list-check],\n.adit-outer-container .adit-container .heading-h1 ul[class^=list-done] {\n  padding-left: 40px;\n  margin-left: -6px;\n}\n.adit-outer-container .adit-container .heading-h1 ul[class^=list-check] li:before,\n.adit-outer-container .adit-container .heading-h1 ul[class^=list-done] li:before {\n  width: 18px;\n  height: 18px;\n  margin-left: -34px;\n  margin-right: 10px;\n  border: 3px solid #2b2f36;\n}\n.adit-outer-container .adit-container .heading-h1 ul[class^=list-check] li:before,\n.adit-outer-container .adit-container .heading-h1 ul[class^=list-done] li:before {\n  font-size: 30px;\n}\n.adit-outer-container .adit-container .heading-h2 ul[class^=list-check],\n.adit-outer-container .adit-container .heading-h2 ul[class^=list-done] {\n  padding-left: 33px;\n  margin-left: -6px;\n}\n.adit-outer-container .adit-container .heading-h2 ul[class^=list-check] li:before,\n.adit-outer-container .adit-container .heading-h2 ul[class^=list-done] li:before {\n  width: 15px;\n  height: 15px;\n  margin-left: -27px;\n  margin-right: 8px;\n  border: 2px solid #2b2f36;\n}\n.adit-outer-container .adit-container .heading-h2 ul[class^=list-check] li:before,\n.adit-outer-container .adit-container .heading-h2 ul[class^=list-done] li:before {\n  font-size: 24px;\n}\n.adit-outer-container .adit-container .heading-h3 ul[class^=list-check],\n.adit-outer-container .adit-container .heading-h3 ul[class^=list-done] {\n  padding-left: 32px;\n  margin-left: -6px;\n}\n.adit-outer-container .adit-container .heading-h3 ul[class^=list-check] li:before,\n.adit-outer-container .adit-container .heading-h3 ul[class^=list-done] li:before {\n  width: 14px;\n  height: 14px;\n  margin-left: -26px;\n  margin-right: 8px;\n  border: 2px solid #2b2f36;\n}\n.adit-outer-container .adit-container .heading-h3 ul[class^=list-check] li:before,\n.adit-outer-container .adit-container .heading-h3 ul[class^=list-done] li:before {\n  font-size: 20px;\n}\n.adit-outer-container .adit-container .ace-table .heading-h1 ul[class^=list-check],\n.adit-outer-container .adit-container .ace-table .heading-h1 ul[class^=list-done] {\n  padding-left: 32px;\n  margin-left: -6px;\n}\n.adit-outer-container .adit-container .ace-table .heading-h1 ul[class^=list-check] li:before,\n.adit-outer-container .adit-container .ace-table .heading-h1 ul[class^=list-done] li:before {\n  width: 16px;\n  height: 16px;\n  margin-left: -26px;\n  margin-right: 6px;\n  border: 2px solid #2b2f36;\n}\n.adit-outer-container .adit-container .ace-table .heading-h1 ul[class^=list-check] li:before,\n.adit-outer-container .adit-container .ace-table .heading-h1 ul[class^=list-done] li:before {\n  font-size: 24px;\n}\n.adit-outer-container .adit-container .ace-table .heading-h2 ul[class^=list-check],\n.adit-outer-container .adit-container .ace-table .heading-h2 ul[class^=list-done] {\n  padding-left: 30px;\n  margin-left: -6px;\n}\n.adit-outer-container .adit-container .ace-table .heading-h2 ul[class^=list-check] li:before,\n.adit-outer-container .adit-container .ace-table .heading-h2 ul[class^=list-done] li:before {\n  width: 14px;\n  height: 14px;\n  margin-left: -24px;\n  margin-right: 6px;\n  border: 2px solid #2b2f36;\n}\n.adit-outer-container .adit-container .ace-table .heading-h2 ul[class^=list-check] li:before,\n.adit-outer-container .adit-container .ace-table .heading-h2 ul[class^=list-done] li:before {\n  font-size: 20px;\n}\n.adit-outer-container .adit-container .ace-table .heading-h3 ul[class^=list-check],\n.adit-outer-container .adit-container .ace-table .heading-h3 ul[class^=list-done] {\n  padding-left: 28px;\n  margin-left: -6px;\n}\n.adit-outer-container .adit-container .ace-table .heading-h3 ul[class^=list-check] li:before,\n.adit-outer-container .adit-container .ace-table .heading-h3 ul[class^=list-done] li:before {\n  width: 12px;\n  height: 12px;\n  margin-left: -22px;\n  margin-right: 6px;\n  border: 2px solid #2b2f36;\n}\n.adit-outer-container .adit-container .ace-table .heading-h3 ul[class^=list-check] li:before,\n.adit-outer-container .adit-container .ace-table .heading-h3 ul[class^=list-done] li:before {\n  font-size: 18px;\n}\n.adit-outer-container .adit-container .ace-table .heading-h4 ul[class^=list-check],\n.adit-outer-container .adit-container .ace-table .heading-h4 ul[class^=list-done] {\n  padding-left: 28px;\n  margin-left: -6px;\n}\n.adit-outer-container .adit-container .ace-table .heading-h4 ul[class^=list-check] li:before,\n.adit-outer-container .adit-container .ace-table .heading-h4 ul[class^=list-done] li:before {\n  width: 12px;\n  height: 12px;\n  margin-left: -22px;\n  margin-right: 6px;\n  border: 2px solid #2b2f36;\n}\n.adit-outer-container .adit-container .ace-table .heading-h4 ul[class^=list-check] li:before,\n.adit-outer-container .adit-container .ace-table .heading-h4 ul[class^=list-done] li:before {\n  font-size: 19px;\n}\n",{className:"adit-style"});var Ei=D.E.CHECKBOX,_i={h1:26,h2:20,h3:18,"":14},Ai=(Ci.prototype.bindEvent=function(){this.removeEvent(),this.innerBody&&(N.browser.isMobile?(this.innerBody.delegate("[class^=list-done]","touchend",this.handleMobileClickCheckbox),this.innerBody.delegate("[class^=list-check]","touchend",this.handleMobileClickCheckbox)):(this.innerBody.delegate("[class^=list-check]","click",this.handleClickCheckbox),this.innerBody.delegate("[class^=list-check]","mousedown",this.handleCheckboxMousedown),this.innerBody.delegate("[class^=list-done]","click",this.handleClickCheckbox),this.innerBody.delegate("[class^=list-done]","mousedown",this.handleCheckboxMousedown)))},Ci.prototype.removeEvent=function(){this.innerBody&&(N.browser.isMobile?(this.innerBody.undelegate("[class^=list-done]","touchend",this.handleMobileClickCheckbox),this.innerBody.undelegate("[class^=list-check]","touchend",this.handleMobileClickCheckbox)):(this.innerBody.undelegate("[class^=list-check]","click",this.handleClickCheckbox),this.innerBody.undelegate("[class^=list-done]","click",this.handleClickCheckbox),this.innerBody.undelegate("[class^=list-check]","mousedown",this.handleCheckboxMousedown),this.innerBody.undelegate("[class^=list-done]","mousedown",this.handleCheckboxMousedown)))},Ci.prototype.cursorInCheckBox=function(e,t){var n=this.editor,r=e.target,i=r.firstChild,o=(i.getBoundingClientRect?i:i.parentElement).getBoundingClientRect(),a=W()(r).parents("[id^=magicdom]").index(),s=n.getAttributeOnLine(t,a,"heading"),c=_i[s]||14,u=c*(N.browser.mobile?.5:.15),l=o.left-.3*c,d=l-c-u,p=o.top+u,f=p+c+u;return N.browser.mobile&&(l=o.left,p=o.top),!!this.clickPositionInCheckbox(d,l,p,f,e.clientX||0,e.clientY||0)},Ci.prototype.checkStrikethrough=function(e){var t=this.editor,n=e.selStart[2],r=t.getAttributesOnSelection(n,e,!1);return Object.values(r.attribs).some(function(e){return"strikethrough"===e[0]})},Ci.prototype.clickPositionInCheckbox=function(e,t,n,r,i,o){return!!(N.browser.mobile&&e<=i&&i<=t)||e<=i&&i<=t&&o<=r&&n<=o},Ci.prototype.pluginReadOnly=function(){this.removeEvent()},Ci.prototype.pluginReadWrite=function(){this.bindEvent()},Ci.prototype.reset=function(){this.removeEvent()},Ci);function Ci(e){var l=this;this.adit=e,this.className="Checkbox",this.innerBody=null,this.handleMobileClickCheckbox=function(e){var t=e,n=e.originalEvent,r=n.touches[0]||n.changedTouches[0];return t.clientX=r&&r.clientX,t.clientY=r&&r.clientY,l.handleClickCheckbox(e)},this.handleCheckboxMousedown=function(e){var t,n=e.target;"LI"===(n&&n.tagName)&&(t=l.editor.selection.getPositionForNode(n),l.cursorInCheckBox(e,t.zone)&&e.preventDefault())},this.handleClickCheckbox=function(e){var t,n,r,i,o,a=e.target,s=a&&a.tagName,c=l.editor,u=c.selection.getPositionForNode(a);"LI"!==s||(t=c.domToRep(a))&&l.cursorInCheckBox(e,u.zone)&&(n=W()(a).parents("[id^=magicdom]").index(),r=c.getLineListType(u.zone,n),i=/check/.test(r)?"done":"check",o="check"===i?l.checkStrikethrough(t):"",c.callWithAce(function(){c.fastIncorp(!0),e.preventDefault(),o&&c.setAttributeOnSelection(u.zone,"strikethrough","",t),l.adit.format("list",i,{selEnd:[n,0],selStart:[n,0],zoneId:u.zone})},"doToggleCheckBox",!0))},this.editor=this.adit.getEditor(),this.innerBody=W()(this.editor.getDocBody()),this.bindEvent(),this.editor.commands.registerCommand(Ei,function(e,t,n,r){r.source;l.editor.doInsertList&&l.editor.doInsertList({attribKey:"list",attribValue:"check"})},{statusKey:"list-done list-check"})}var Ti=(Oi.prototype.changesetApply=function(){this.togglePlaceHolder()},Oi.prototype.onMount=function(){this.togglePlaceHolder()},Oi.prototype.updateStyle=function(){var e;D.x.deleteRuleById(this.className),this.props.hiddenWhileFocusing?(e="."+this.className+":focus>:first-child::before{visibility:hidden;}",D.x.insertRule(e,this.className+"~focus")):D.x.deleteRuleById(this.className+"~focus"),D.x.insertRule(this.genCssText(this.genAlignText(this.getAlign())),this.className)},Oi.prototype.getAlign=function(){var e=this.adit.getFormat().find(function(e){return"align"===e[0]}),t=e&&e[1]?e[1]:"left";return"string"==typeof t?t:"left"},Oi.prototype.genAlignText=function(e){return"text-align:"+e+";"},Oi.prototype.reset=function(){this.adit.getHost(!0).removeEventListener("keyup",this.togglePlaceHolder),this.adit.off("contentchange",this.togglePlaceHolder),D.x.deleteRuleById(this.className),D.x.deleteRuleById(this.className+"~focus")},Oi);function Oi(e,t){var u=this;this.adit=e,this.props=t,this.adapterKey="placeholder",this.isDisplaying=!1,this.align="left",this.setProps=function(e){Object.assign(u.props,e),u.updateStyle()},this.genCssText=function(e){var t=u.props,n=t.text,r=t.color,i=t.fontFamily,o=t.fontSize,a=t.lineHeight,s=t.opacity,c=[["position","absolute"],["width","100%"],["content",'"'+n.replace(/"/g,'\\"')+'"'],["color",r],["font-family",i],["font-size",o],["line-height",a],["opacity",s]].map(function(e){var t=pe(e,2),n=t[0],r=t[1];return null!=r?n+":"+r+";":""}).join("");return"."+u.className+">:first-child::before{"+c+e+"}"},this.togglePlaceHolder=function(){var e,t=u.adit.getHost(!0);Object(D.I)(t)?(u.isDisplaying||(u.isDisplaying=!0,t.classList.add(u.className)),(e=u.getAlign())!==u.align&&(u.align=e,u.updateStyle())):u.isDisplaying&&(u.isDisplaying=!1,t.classList.remove(u.className))},this.className="adit-placeholder-"+Object(D.z)(8),this.updateStyle(),e.getHost(!0).addEventListener("keyup",this.togglePlaceHolder),e.on("contentchange",this.togglePlaceHolder)}var ki="~focus",Si="line-break-hide",wi="line-break-show",Ii=[["color","fontcolor"],["bold","bold"],["italic","italic"],["underline","underline"],["fontFamily","fontfamily"],["strikeThrough","strikethrough"],["backgroundColor","backgroundcolor"]],xi=(Li.prototype.changesetApply=function(){this.togglePlaceHolder()},Li.prototype.onMount=function(){this.currentIsList=this.isList(),D.x.insertRule(this.genCssText(),this.className),D.x.insertRule(this.displayLineBreak(!1),this.className+Si),this.togglePlaceHolder(),this.executeCommand()},Li.prototype.setProps=function(e){Object.assign(this.props,e),this.initialStyle(),this.updateStyle()},Li.prototype.getProps=function(){var i=this,o=this.props;return Ii.forEach(function(e){var t=pe(e,2),n=t[0],r=t[1];Object(f.default)(i.formats[r])||(o[n]=i.formats[r])}),o},Li.prototype.executeCommand=function(){this.isDisplaying&&this.adit.restoreInlineFormatToNewLine(Object.entries(this.formats))},Li.prototype.handleFormat=function(e){var t,n=e.formatKey,r=e.value,i=e.selection,o=i.selStart,a=i.zoneId,s="list"===n,c=this.adit.getFormatterConstructor(n);0===o[0]&&c&&(c.getCssStyle(r)||s)&&(!(t=this.adit.getEditor().getRep(a).lines.atIndex(0))||o[1]>t.lineMarker||(s?this.currentIsList=this.isList():this.formats[n]=r,this.updateStyle()))},Li.prototype.handleFocus=function(){var e=this;this.isDisplaying&&setTimeout(function(){return e.executeCommand()})},Li.prototype.handleKeyDown=function(e){var t,n,r,o=this;e.keyCode!==D.j.Delete&&e.keyCode!==D.j.BackSpace||(n=(t=this.adit.getCurrentSelection()).selStart,r=t.zoneId,0===n[0]&&(this.adit.getFormat({selection:{selStart:[0,0],selEnd:[0,0],zoneId:r}}).forEach(function(e){var t=pe(e,2),n=t[0],r=t[1],i=o.adit.getFormatterConstructor(n);i&&i.getCssStyle(r)&&(o.formats[n]=r)}),this.updateStyle()))},Li.prototype.isList=function(){var e=this.adit.getFormat().find(function(e){return"list"===e[0]});return!(!e||!e[1])},Li.prototype.displayLineBreak=function(e){return"."+this.className+(e?":focus":"")+">:first-child br {\n      display: "+(e?"block":"none")+"\n    }"},Li.prototype.updateStyle=function(){D.x.deleteRuleById(this.className),D.x.insertRule(this.genCssText(),this.className)},Li.prototype.genCssText=function(){var u=this,e=this.props,t=e.text,n=e.fontSize,r=e.lineHeight,i=e.opacity,l={};Object.entries(this.formats).forEach(function(e){var t,n,r,i,o=pe(e,2),a=o[0],s=o[1],c=u.adit.getFormatterConstructor(a);s&&c&&((t=c.getCssStyle(s))&&(r=(n=pe(t,2))[0],i=n[1],l[r]?l[r]+=" "+i:l[r]=i))});var o=Object.entries(l),a=[["content",'"'+t.replace(/"/g,'\\"')+'"'],["font-size",n],["line-height",r],["opacity",i],["white-space","pre-wrap"]].concat(o).map(function(e){var t=pe(e,2),n=t[0],r=t[1];return null!=r?n+":"+r+";":""}).join("");return"."+this.className+">:first-child"+(this.currentIsList?" li":"")+"::after{\n        "+a+"\n      }"},Li.prototype.initialStyle=function(){var i=this;Ii.forEach(function(e){var t=pe(e,2),n=t[0],r=t[1];Object(f.default)(i.props[n])||(i.formats[r]=i.props[n])})},Li.prototype.reset=function(){var e=this.adit.getHost(!0);e.removeEventListener("keyup",this.togglePlaceHolder),e.removeEventListener("keydown",this.handleKeyDown),this.adit.off("focus",this.handleFocus),this.adit.off("format",this.handleFormat),this.adit.off("contentchange",this.togglePlaceHolder),D.x.deleteRuleById(this.className),D.x.deleteRuleById(this.className+ki),D.x.deleteRuleById(this.className+Si),D.x.deleteRuleById(this.className+wi)},ue([Object(D.c)(),le("design:type",Function),le("design:paramtypes",[Object]),le("design:returntype",void 0)],Li.prototype,"setProps",null),ue([Object(D.c)(),le("design:type",Function),le("design:paramtypes",[]),le("design:returntype",void 0)],Li.prototype,"getProps",null),ue([Object(D.c)(),le("design:type",Function),le("design:paramtypes",[]),le("design:returntype",void 0)],Li.prototype,"executeCommand",null),ue([Object(D.c)(),le("design:type",Function),le("design:paramtypes",[Object]),le("design:returntype",void 0)],Li.prototype,"handleFormat",null),ue([Object(D.c)(),le("design:type",Function),le("design:paramtypes",[]),le("design:returntype",void 0)],Li.prototype,"handleFocus",null),ue([Object(D.c)(),le("design:type",Function),le("design:paramtypes",[KeyboardEvent]),le("design:returntype",void 0)],Li.prototype,"handleKeyDown",null),Li);function Li(e,t){var n=this;this.adit=e,this.props=t,this.adapterKey="placeholder",this.isDisplaying=!1,this.currentIsList=!1,this.formats={},this.togglePlaceHolder=function(){var e,t=n.adit.getHost(!0);!n.adit.isEmptyArticle()||n.adit.getEditor().getInInternationalComposition()?n.isDisplaying&&(n.isDisplaying=!1,t.classList.remove(n.className)):(n.isDisplaying||(n.isDisplaying=!0,t.classList.add(n.className)),(e=n.isList())!==n.currentIsList&&(n.currentIsList=e,n.updateStyle())),n.executeCommand()},this.className="adit-placeholder-"+Object(D.z)(8);var r,i=t.hiddenWhileFocusing;this.initialStyle(),i&&(r="."+this.className+":focus>:first-child li::after, ."+this.className+":focus>:first-child::after{\n          display:none;\n        }",D.x.insertRule(r,this.className+ki),D.x.insertRule(this.displayLineBreak(!0),this.className+wi));var o=e.getHost(!0);o.addEventListener("keyup",this.togglePlaceHolder),o.addEventListener("keydown",this.handleKeyDown),e.on("focus",this.handleFocus),e.on("format",this.handleFormat),e.on("contentchange",this.togglePlaceHolder)}var Ri,Ni,Di=8,Mi=90,Pi=32,ji=189,Fi=192,Bi=N.browser.isEdge,Ui=N.browser.isAndroid&&!N.browser.isX5,Hi=["align","heading","aceTable","list","blockquote","lmkr","origin-start","insertorder","text-indent","start","origin-start","lang"],zi="horizontal-line",Vi=null;(Ni=Ri=Ri||{}).heading="heading",Ni.blockQuote="blockQuote",Ni.ul="ul",Ni.ol="ol",Ni.codeBlock="codeBlock",Ni.checkbox="checkbox",Ni.horizontal="horizontal",Ni.bold="bold",Ni.inlineCode="inlineCode",Ni.italic="italic",Ni.underline="underline",Ni.strikethrough="strikethrough";var Ki=(Gi.prototype.pluginEnterMindmapDocs=function(){Vi=this.markdownMap.heading,delete this.markdownMap.heading},Gi.prototype.pluginExitMindmapDocs=function(){Vi&&(this.markdownMap.heading=Vi)},Gi.prototype.destory=function(){this.editor=null},Gi.prototype.inTitleLine=function(){var e=this.editor,t=e&&e.getRep();return!(!t||!t.selStart||0!==t.selStart[0]||"0"!==t.zoneId)},Gi.prototype.isSpecialKey=function(e){var t=e.key,n=e.keyCode,r=e.originalEvent.code,i=this.editor;if(i){if((Bi&&i.getInInternationalComposition()||Ui)&&229===n)return!0;var o=e.metaKey||e.ctrlKey;return"~"===t||"`"===t||n===Fi||("*"===t||"8"===t)&&!o||("-"===t||n===ji||"Minus"===r)}},Gi.prototype.isInKeydownStatusWithoutKeycode=function(e){var t="keydown"===e.type,n=229===e.keyCode;return t&&n},Gi.prototype.getTabLevel=function(e,t,n,r){if(!/bullet[0-9]+/.exec(e)&&!("number1"===e))return!1;var i=n.attributeManager.findAttributeOnLine(r,"text-indent");if(!i)return!1;var o=/([a-z]+)([0-9]+)/.exec(t.getLineListType(n.zoneId,r)),a=0;return o&&(a=Number(o[2])),i&&(a+=2),a},Gi.prototype.performText=function(e,t){var n=e.editor,r=e.rep;if(r&&r.selStart&&r.selEnd){for(var i=r.selStart[0],o=r.selEnd[1],a=1===o?[]:r.attributeManager.getAttributesOnSelection([i,o-1],[i,o-1],r,!1).attribs,s=!1,c=0;c<a.length;++c)"author"===a[c][0]&&(a[c][1]=n.getAuthor(),s=!0),Hi.includes(a[c][0])&&a.splice(c,1);s||a.push(["author",n.getAuthor()]),n.performDocumentReplaceRangeWithAttributes(r.zoneId,[i,o],[i,o],t,a)}},Gi);function Gi(e,t){var C=this;this.adit=e,this.options=t,this.className="Markdown",this.adapterKey="markdown",this.markdownMap={heading:{regExp:/^(#{1,3}\s)(\S*|\S+[\s\S]*)$/,match:function(e){var t=this.regExp.exec(e);return t?{key:"heading",value:"h"+(t[1].length-1),type:"line",replaceLen:t[1].length,active:"heading-h"+(t[1].length-1)}:null},format:function(e){var t=/<h(\d) .*>(.*)<\/h\d>/.exec(e);return t?"<div class='heading-h"+t[1]+"'>"+t[2]+"</div>":e}},blockQuote:{regExp:/^(>\s)(\S*|\S+[\s\S]*)$/,match:function(e){var t=this.regExp.exec(e);return t?{key:"blockquote",value:"blockquote",type:"line",replaceLen:t[1].length,active:"reference"}:null},format:function(e){var t=/<blockquote>(.*)<\/blockquote>/.exec(e);return t?"<div class='blockquote'>"+t[1]+"</div>":null}},ul:{regExp:/^([*]+\s)(\S*|\S+[\s\S]*)$|^([-]+\s)(\S*|\S+[\s\S]*)$/,match:function(e){var t=this.regExp.exec(e);if(!t)return null;var n=t[1]||t[3];return{key:"list",value:"bullet"+(n.length-1),type:"line",replaceLen:n.length,active:"list-bullet"}}},ol:{regExp:/^([1-9][0-9]*\.\s)(\S*|\S+[\s\S]*)$/,match:function(e){var t=this.regExp.exec(e);return t?{key:"list",value:"number1",type:"line",replaceLen:t[1].length,start:parseInt(t[1],10),active:"list-number"}:null},format:function(e){var t=/<ol(?:\s+\S*)*><li(?:\s+\S*)*>(.*)<\/li><\/ol>/.exec(e);return t?"<ol class='list-number1'><li>"+t[1]+"</li></ol>":e}},codeBlock:{regExp:/^```$/,match:function(e){return this.regExp.exec(e)?{key:"list",value:"code1",type:"line",replaceLen:3,start:1,active:"code"}:null},format:function(e){return/<pre><code(\s.*){0,1}>/.exec(e)?e.replace(/<code(\s[^>]*){0,1}>/,'<code class="list-code1">').replace(/\n/,"<br/>"):null}},checkbox:{regExp:/^((\[\]\s)|(\u3010\u3011\s))(\S*|\S+[\s\S]*)$/,match:function(e){var t=this.regExp.exec(e);return t?{key:"list",value:"check1",type:"line",replaceLen:t[1].length,active:"checkbox"}:null},format:function(e){return/^<p>(\[\]\s)(\S*|\S+[\s\S]*)<\/p>$/.exec(e)?e.replace("<p>[] ","<ul class='list-check1'><li>").replace("</p>","</li></ul>"):e}},horizontal:{regExp:/^---$|^\*\*\*$/,match:function(e){var t=this.regExp.exec(e);return t?{name:zi,value:"true",type:"inline",replaceRight:!1,execLen:3,replaceLen:t[0].length,startReplacePos:t.index,endReplacePos:t.index+t[0].length,textLen:0,active:"insertseparator"}:null},doInsert:function(e,t,n,r){e.format(zi,!0,{zoneId:t.zone,selStart:n,selEnd:r})}},bold:{regExp:/\*\*(\S+.*\S+)\*\*\s/,match:function(e){var t=this.regExp.exec(e);if(!t)return null;var n=t[1];return n&&/[^_|^*]/.test(n)?{type:"inline",name:"bold",value:"true",replaceRight:!0,execLen:2,replaceLen:t.index+n.length+5,startReplacePos:t.index,endReplacePos:t.index+n.length,textLen:n.length,active:"bold"}:null},format:function(e){return e.replace(/<strong>/g,"<b>").replace(/<\/strong>/g,"</b>")}},inlineCode:{regExp:/`(\S*|\S+[\s\S]*)`/g,match:function(e){var t=this.regExp.exec(e);if(!t)return null;var n=t[1];return n&&"`"!==n&&/[^_|^*]/.test(n)?{type:"inline",name:"inline-code",value:"true",replaceRight:!0,execLen:1,replaceLen:t.index+n.length+2,startReplacePos:t.index,endReplacePos:t.index+n.length,textLen:n.length,active:"inline-code"}:null}},italic:{regExp:/(\*+)(\S+.*\S+)(\*+)\s/,match:function(e){var t=this.regExp.exec(e);if(!t)return null;var n=t[1],r=t[2];return!r||1<n.length||!/[^_|^*]/.test(r)?null:{type:"inline",name:"italic",value:"true",replaceRight:!0,execLen:1,replaceLen:t.index+r.length+3,startReplacePos:t.index,endReplacePos:t.index+r.length,textLen:r.length,active:"italic"}},format:function(e){return e.replace(/<em>/g,"<i>").replace(/<\/em>/g,"</i>")}},underline:{regExp:/(~+)(\S+.*\S+)(~+)\s/,match:function(e){var t=this.regExp.exec(e);if(!t)return null;var n=t[1],r=t[2];return!r||1<n.length||!/[^~]/.test(r)?null:{type:"inline",name:"underline",value:"true",replaceRight:!0,execLen:1,replaceLen:t.index+r.length+3,startReplacePos:t.index,endReplacePos:t.index+r.length,textLen:r.length,active:"underline"}},format:function(e){var t=/(~)[^~]\S*\s*(~)/,n=t.exec(e);return n?2<n[0].length?e.replace(t,function(e){return"<u>"+e.substr(1,e.length-2)+"</u>"}):null:e}},strikethrough:{regExp:/~~(\S+.*\S+)~~\s/,match:function(e){var t=this.regExp.exec(e);if(!t)return null;var n=t[1];return n&&/[^~]/.test(n)?{type:"inline",name:"strikethrough",value:"true",replaceRight:!0,execLen:2,replaceLen:t.index+n.length+5,startReplacePos:t.index,endReplacePos:t.index+n.length,textLen:n.length,active:"strikethrough"}:null},format:function(e){return e.replace(/<del>/g,"<s>").replace(/<\/del>/g,"</s>")}}},this.aceKeyEvent=function(e,o){var a=o.evt,f=o.editor,t=a.keyCode,n=a.key,r=a.type,i=a.which,s=f.getInInternationalComposition(),c=t===Mi;if(!(C.options.ignoreFirstLine&&C.inTitleLine()||!f.isCaret())){var h=f.getRep();if(h&&h.selStart&&h.selEnd){var g,m,u=!s&&C.lastInternationalComposition&&N.browser.isSafari;if(" "===n&&(s||u)&&"keydown"===r)return C.shouldContinue=!1;if("keyup"===r&&!C.shouldContinue)return!(C.shouldContinue=!0);if(C.lastInternationalComposition=s,C.lastKeydownStatus=C.keydownStatus,C.keydownStatus=C.isInKeydownStatusWithoutKeycode(a),!N.browser.isSafari&&C.keydownStatus)return!1;if(!Bi&&s)return!1;if(s&&Bi&&"keyup"!==r)return!1;if(c)return!1;if(65<=t&&t<=90)return!1;if(37<=i&&i<=40)return!1;if(!C.isSpecialKey(a)&&!(t===Pi||" "===n))return!1;if(t===Di)return!1;var l=h.selEnd[1],d="";if((!C.keydownStatus&&C.lastKeydownStatus||N.browser.isX5)&&"keyup"===r){if(null===h.selStart)return!1;if(f.fastIncorp(),h=f.getRep(),m=h.selStart[0],-1<f.getLineListType(h.zoneId,m).indexOf("code"))return;g=h.lines.atIndex(m);var p=h.selEnd[1],v=Bi&&s&&g.lineNode?g.lineNode.innerText:g.text.substr(g.lineMarker,p-g.lineMarker)}else{if("keydown"!==r||null===h.selStart||N.browser.isX5)return!1;if(f.fastIncorp(),!h.selEnd)return!1;if(l=h.selEnd[1],m=h.selStart[0],-1<f.getLineListType(h.zoneId,m).indexOf("code")||!f.isCaret())return;C.isInKeydownStatusWithoutKeycode(a)||(d="spacebar"===n.toLowerCase()?" ":n),g=h.lines.atIndex(m);var y=h.selEnd[1];v=g.text.substr(g.lineMarker,y-g.lineMarker)+d}var b,E=function(e){if(C.markdownMap.hasOwnProperty(e)){var i=C.markdownMap[e],p=i.match(v);if(p){Bi&&s&&(f.fastIncorp(!0),h=f.getRep(),g=h.lines.atIndex(m),l=h.selEnd[1]),d&&(a.preventDefault(),C.performText(o,d),d="");var t,n=g.lineMarker+p.replaceLen,r=h.selEnd[1]>n&&l<n;return n===h.selEnd[1]||r?("line"===p.type?(!(t=f.getAttributeOnLine(h.zoneId,m,p.key))||t&&t!==p.value)&&f.makeNewEvent("macro",function(){var e=C.adit.getCurrentSelection(),t=e.zoneId,n=e.selStart,r=e.selEnd,i=C.adit.getFormat({selection:{zoneId:t,selStart:[n[0],n[1]-1],selEnd:[r[0],r[1]-1]}}),o=C.adit.getFormatter("list"),a=[],s=[];o&&(s=i.filter(function(e){var t=pe(e,1)[0];return o.prefixAttributes.includes("list-"+t)}),a=s.map(function(e){var t=pe(e,2);return["list-"+t[0],t[1]]}));var c,u,l,d=function(){a.length&&(h.attributeManager.setAttributesOnLine(m,a),setTimeout(function(){C.adit.restoreInlineFormatToNewLine(s)}))};f.performDocumentReplaceRange(h.zoneId,[m,g.lineMarker],[m,g.lineMarker+p.replaceLen],""),-1<p.value.indexOf("code")?(f.performDocumentReplaceRange(h.zoneId,[m,0],[m,g.lineMarker],""),f.setLineListType(h.zoneId,m,p.value)):(p.start?((u=C.getTabLevel(p.value,f,h,m))&&(p.value="number"+u,h.attributeManager.removeAttributeOnLine(m,"text-indent")),c=C.editor.getClosetListNumberId(h.zoneId,p.value,h)||en(),f.setLineListTypeWithStart(h.zoneId,m,p.value,p.start,p.start,c)):((u=C.getTabLevel(p.value,f,h,m))&&(l=u+p.replaceLen-2,p.value="bullet"+l,h.attributeManager.removeAttributeOnLine(m,"text-indent")),f.setAttributeOnLine(h.zoneId,m,p.key,p.value)),d())}):"inline"===p.type&&f.makeNewEvent("macro",function(){var e=[m,g.lineMarker+p.startReplacePos],t=[m,g.lineMarker+p.endReplacePos],n=[m,g.lineMarker+p.startReplacePos],r=[m,g.lineMarker+p.startReplacePos+p.textLen];f.performDocumentReplaceRange(h.zoneId,e,[m,e[1]+p.execLen],""),p.replaceRight?(f.performDocumentReplaceRange(h.zoneId,t,[m,t[1]+p.execLen],""),f.toggleAttributeOnSelection(p.name,ce(ce({},h),{selStart:n,selEnd:r}))):i.doInsert&&i.doInsert(C.adit,g,n,r)}),{value:void 0}):"continue"}}};for(b in C.markdownMap){var _=E(b);if("object"===T()(_))return _.value}}}},this.createHtml=function(e){var t=["<li","<ul","<ol","<h1","<h2","<h3","<blockquote","<code","<table","<em","<strong"],n=(n=e.split(/[\r|\n]+/)).map(function(e){return e.replace(/^( *)(\[([x ])?\]) /,"$1- $2 ")}).join("\n"),r="",i=!1,o=new j.a.Converter;o.setFlavor("github"),o.setOption("ghMentions",!1),o.setOption("simplifiedAutoLink",!1),r=o.makeHtml(n),t.forEach(function(e){if(-1!==r.indexOf(e))return i=!0}),r=r.split("\n");var a=!1,s=/>([\n]+)</g;return{html:r=(r=r.map(function(e){return a&&-1===e.indexOf("</p>")?"<p>"+e+"</p>\n":0===e.indexOf("<p>")&&-1===e.indexOf("</p>")?(a=!0,e+"</p>\n"):-1===e.indexOf("<p>")&&-1!==e.indexOf("</p>")?(a=!0,"<p>"+e):(a=!1,e)}).join("\n")).replace(s,"><"),hasMarkdown:i}},this.maybePasteMarkdown=function(e){if(!e)return!1;var t=C.createHtml(e),n=t.html;return!!t.hasMarkdown&&n},this.shouldContinue=!0,this.lastInternationalComposition=!1,this.lastKeydownStatus=!1,this.keydownStatus=!1,this.markdownMap=Object(E.a)(this.markdownMap,t.types),e&&(this.editor=e.getEditor())}var Wi,Yi=(oe(qi,Wi=M.BlockPlugin),qi.setValue=function(){return{}},qi.setLineClass=function(){return[]},qi.isFormatAcceptable=function(){return!1},qi.collect=function(){return{attributes:[]}},qi.getCssStyle=function(){return null},qi.prototype.formatAttributes=function(e,t,n){return t},qi.prototype.getFormatAttributes=function(e){return e},qi.isEmbedFormatter=!0,qi.formatKey=M.BLOCK_DATA_META_BLOCK_PROPS,qi.formatType=N.Formatter.FormatType.BLOCK,qi.toggleable=!1,qi.execCommandKey="",qi.formatValueType=N.Formatter.FormatValueType.Object,qi);function qi(e,t){return Wi.call(this,{editor:e.getEditor(),blockManager:t.blockManager,appConfig:t.appConfig})||this}he("/* Web  */\n.adit-outer-container .adit-container .align-center .image-container {\n  text-align: center;\n}\n.adit-outer-container .adit-container .align-left .image-container {\n  text-align: left;\n}\n.adit-outer-container .adit-container .align-right .image-container {\n  text-align: right;\n}\n.adit-outer-container .adit-container .image-container {\n  text-align: center;\n  color: transparent;\n}\n.adit-outer-container .adit-container .image-container .image-wrapper {\n  position: relative;\n  border: 2px solid transparent;\n  line-height: 0;\n  display: inline-block;\n}\n.adit-outer-container .adit-container .image-container .image-wrapper:hover {\n  box-shadow: 0 0 0 2px #bacefd;\n}\n.adit-outer-container .adit-container .image-container .image-wrapper img {\n  max-width: 100%;\n  -webkit-user-drag: none;\n  display: block;\n}\n.adit-outer-container .adit-container .image-container .image-wrapper .point {\n  display: none;\n  position: absolute;\n  width: 18px;\n  height: 18px;\n  border: 2px solid #fff;\n  background-color: #3370ff;\n  font-size: 14px;\n  user-select: none;\n}\n.adit-outer-container .adit-container .image-container .image-wrapper .point.n-icon-dragable {\n  height: 16px;\n  width: 16px;\n  background: #3370ff;\n  border-radius: 50%;\n}\n.adit-outer-container .adit-container .image-container .image-wrapper .tl {\n  top: -10px;\n  left: -10px;\n  cursor: nwse-resize;\n}\n.adit-outer-container .adit-container .image-container .image-wrapper .tc {\n  top: -10px;\n  left: 50%;\n  margin-left: -10px;\n  cursor: n-resize;\n}\n.adit-outer-container .adit-container .image-container .image-wrapper .tr {\n  top: -10px;\n  right: -10px;\n  cursor: nesw-resize;\n}\n.adit-outer-container .adit-container .image-container .image-wrapper .cr {\n  top: 50%;\n  right: -10px;\n  margin-top: -10px;\n  cursor: e-resize;\n}\n.adit-outer-container .adit-container .image-container .image-wrapper .br {\n  bottom: -10px;\n  right: -10px;\n  cursor: nwse-resize;\n}\n.adit-outer-container .adit-container .image-container .image-wrapper .bc {\n  bottom: -10px;\n  left: 50%;\n  margin-left: -10px;\n  cursor: s-resize;\n}\n.adit-outer-container .adit-container .image-container .image-wrapper .bl {\n  bottom: -10px;\n  left: -10px;\n  cursor: nesw-resize;\n}\n.adit-outer-container .adit-container .image-container .image-wrapper .lc {\n  left: -10px;\n  top: 50%;\n  margin-top: -10px;\n  cursor: w-resize;\n}\n.adit-outer-container .adit-container .image-container.single-clicked .image-wrapper {\n  border-color: #3370ff;\n}\n.adit-outer-container .adit-container .image-container.single-clicked:not(.single-line-multi-selection) .image-wrapper .point.n-icon-dragable {\n  display: block;\n}\n.adit-outer-container .adit-container .image-container.unresize .image-wrapper,\n.adit-outer-container .adit-container .image-container.single-clicked.unresize .image-wrapper {\n  border: 0;\n}\n.adit-outer-container .adit-container .image-container.unresize .image-wrapper:hover,\n.adit-outer-container .adit-container .image-container.single-clicked.unresize .image-wrapper:hover {\n  box-shadow: none;\n}\n.adit-outer-container .adit-container .image-container.unresize .image-wrapper .point.n-icon-dragable,\n.adit-outer-container .adit-container .image-container.single-clicked.unresize .image-wrapper .point.n-icon-dragable {\n  display: none;\n}\n",{className:"adit-style"});var Zi=4,Xi=20,Qi=["tl","tr","br","bl"],Ji=["image/jpeg","image/bmp","image/png","image/gif","image/x-icon"];function $i(e){if(!e)return null;var t=e.items||null,n=e.files||null;if(n&&n.length)return n;if(t){for(var r=[],i=0,o=t.length;i<o;i++){var a=t[i];"file"===a.kind&&a.getAsFile()&&r.push(a.getAsFile())}return r.length?r:null}return null}function eo(e){var t,n;try{for(var r=de(Array.from(e)),i=r.next();!i.done;i=r.next()){var o=i.value;if(!o)return!1;if(!Ji.includes(o.type))return!1}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return!!e.length}function to(e){return W()(e.target).closest(".ace-line").get(0).outerHTML}function no(e,t){var n="t"===e[0]?-1:1,r="l"===e[1]?-1:1;return{width:t.width*r,height:t.height*n}}function ro(e){return e/Math.abs(e)}function io(e){var t,n,r=e.direction,i=e.alignment,o=e.imageSize,a=e.moveVector,s=e.imageMaxWidth,c=no(r,o),u=[ro(c.width),ro(c.height)],l=a.x,d=a.y,p="center"===i?2:1,f=o.width/p,h=o.height,g=c.width/p,m=c.height,v=s/p,y=g*m<0?-1:1,b=d*g*y<m*l*y,E=[["left","tr","top"],["center","tl","top"],["center","tr","top"],["right","tl","top"],["left","bl","side"],["right","br","side"]];try{for(var _=de(E),C=_.next();!C.done;C=_.next()){var T=C.value;T[0]===i&&T[1]===r&&(b="top"===T[2])}}catch(e){t={error:e}}finally{try{C&&!C.done&&(n=_.return)&&n.call(_)}finally{if(t)throw t.error}}var O=pe((b?[g+l,m*(g+l)/g]:[g*(m+d)/m,m+d]).map(function(e,t){return e*u[t]}),2),k=O[0],S=O[1],w=[f<h?Xi/p:Xi*f/h,f<h?Xi/p*h/f:Xi],I=[v,v*h/f],x=pe([Math.round(Math.min(I[0],Math.max(w[0],k))),Math.round(Math.min(I[1],Math.max(w[1],S)))],2);return{width:x[0]*p,height:x[1]}}function oo(e){var t=e.direction,n=e.alignment,r=e.imageSize,i=e.moveVector,o=e.imageMaxWidth,a=e.uuid,s=io({direction:t,alignment:n,imageSize:r,moveVector:i,imageMaxWidth:o}),c=s.width,u=s.height;c===r.width&&u===r.height||ao(c,u,a)}function ao(e,t,n){var r=so(n);W()("#"+r).remove(),W()("body").append("\n    <style id="+r+">\n        "+co(n)+"{\n          width: "+e+"px!important;\n      }\n    </style>\n  ")}function so(e){return"image-resize-rect-style-"+e}function co(e){return".adit-container .image-wrapper img[data-uuid="+e+"]"}function uo(e){if(!e)return!1;var t=e.types,n=e.items||e.files,r=e.getData("text/html"),i=t&&t.length&&Array.prototype.some.call(t,function(e){return"text/rtf"===e}),o=n&&n.length||0,a=!1;if(o)for(var s=0;s<o;++s)/image/.exec(n[s].type)&&(a=!0);var c=r&&-1<r.indexOf("schemas-microsoft-com"),u=r&&-1<r.indexOf("schemas.microsoft.com");return i&&a&&(c||u)}var lo=(po.prototype.bind=function(){var e=W()(document);e.on("mousemove",this.handleResizeMove),e.on("mousedown",".point",this.handleMouseDown),e.on("mouseup",this.handleMouseUp);var t=this.editor.getScrollContainer();t&&W()(t).on("scroll",this.handleResizeScroll)},po.prototype.unbind=function(){var e=W()(document);e.off("mousemove",this.handleResizeMove),e.off("mousedown",".point",this.handleMouseDown),e.off("mouseup",this.handleMouseUp);var t=this.editor.getScrollContainer();t&&W()(t).on("scroll",this.handleResizeScroll)},po.prototype.handleMouseDown=function(e){var t,n;if(this.editor.isContentEditable()&&this.isSameInstance(e.target)){var r=this.editor.getScrollContainer();if(this.$image=W()(e.target).siblings("img"),!this.$image.parents(".unresize")[0]){var i=this.$image.parents(".ace-line");this.oriScrollTop=r?r.scrollTop:0,this.resizeImageLineKey=null,this.direction=Object(p.a)(e.target.className.split(" "),function(e){return-1<Qi.indexOf(e)}),this.imageWidth=this.$image.width(),this.imageHeight=this.$image.height(),this.imageMaxWidth=i.width(),this.imageMaxWidth=this.imageMaxWidth&&this.imageMaxWidth-Zi,this.uuid=this.$image.data("uuid"),this.canDrag=!0,this.pointX=e.pageX,this.pointY=e.pageY;var o=[["align-left","left"],["align-center",this.alignment="center"],["align-right","right"]];try{for(var a=de(o),s=a.next();!s.done;s=a.next()){var c=pe(s.value,2),u=c[0],l=c[1];i.hasClass(u)&&(this.alignment=l)}}catch(e){t={error:e}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return this.direction&&["tl","br"].includes(this.direction)?this.$body.addClass("keep-nwse-cursor"):this.direction&&["tr","bl"].includes(this.direction)&&this.$body.addClass("keep-nesw-cursor"),e.preventDefault(),!1}}},po.prototype.applyDynamicResize=function(e){var t=e.pageX,n=e.pageY,r=e.target,i=e.scrollTop;if(this.direction&&this.imageWidth&&this.uuid&&this.alignment&&this.imageHeight&&this.imageMaxWidth){var o=i-this.oriScrollTop;this.diffX=t-this.pointX,this.diffY=n-this.pointY+o,this.isMoved=!0;var a={width:this.imageWidth,height:this.imageHeight},s={x:this.diffX,y:this.diffY};oo({direction:this.direction,alignment:this.alignment,imageSize:a,moveVector:s,imageMaxWidth:this.imageMaxWidth,uuid:this.uuid});var c=r;if(!this.resizeImageLineKey){for(;c&&c!==document.body&&(!c.id||!/magicdomid/.test(c.id));)c=c.parentElement;this.resizeImageLineKey=r&&r.id}}},po.prototype.handleScroll=function(e){var t,n;this.canDrag&&this.pageX&&this.pageY&&this.isSameInstance(e.target)&&(t=this.editor.getScrollContainer(),n=e.target,this.applyDynamicResize({pageX:this.pageX,pageY:this.pageY,target:n,scrollTop:t?t.scrollTop:0}))},po.prototype.handleMouseMove=function(e){var t,n;this.canDrag&&this.isSameInstance(e.target)&&(t=this.editor.getScrollContainer(),n=e.target,this.pageX=e.pageX,this.pageY=e.pageY,this.applyDynamicResize({pageX:this.pageX,pageY:this.pageY,target:n,scrollTop:t?t.scrollTop:0}))},po.prototype.handleMouseUp=function(){this.resizeImageLineKey=null,this.canDrag=!1,this.isMoved&&this.uuid&&(this.$body.removeClass("keep-nwse-cursor"),this.$body.removeClass("keep-nesw-cursor"),this.applyImageStyle(),W()("#"+so(this.uuid)).remove()),this.isMoved=!1},po.prototype.applyImageStyle=function(){var e,t,n,r,i,o,a,s,c,u,l,d,p,f,h;this.uuid&&(t=(e=W()(co(this.uuid))).parent(),n=this.editor.dom.rootNodeOfZoneContaining(t.get(0)),t.length&&e&&n&&((r=this.editor.dom.zoneOfRootNode(n))&&(i=this.editor.getReps()[r],o=e.width(),a=i.selStart[0],c=(s=i.lines.atIndex(a)).text.length,u=[a,s.lineMarker],l=[a,c],(d=this.adit.getFormat({selection:{selEnd:l,selStart:u,zoneId:r},formatKey:"image"})).length&&(f=(p=pe(d[0],2))[0],(h=p[1]).width=o+"px",this.adit.format(f,h,{selEnd:l,selStart:u,zoneId:r})))))},ue([Object(D.c)(),le("design:type",Function),le("design:paramtypes",[Object]),le("design:returntype",void 0)],po.prototype,"handleMouseDown",null),ue([Object(D.c)(),le("design:type",Function),le("design:paramtypes",[Object]),le("design:returntype",void 0)],po.prototype,"applyDynamicResize",null),ue([Object(D.c)(),le("design:type",Function),le("design:paramtypes",[Object]),le("design:returntype",void 0)],po.prototype,"handleScroll",null),ue([Object(D.c)(),le("design:type",Function),le("design:paramtypes",[Object]),le("design:returntype",void 0)],po.prototype,"handleMouseMove",null),ue([Object(D.c)(),le("design:type",Function),le("design:paramtypes",[]),le("design:returntype",void 0)],po.prototype,"handleMouseUp",null),po);function po(e){var t=this;this.adit=e,this.canDrag=!1,this.pointX=0,this.pointY=0,this.pageX=0,this.pageY=0,this.diffX=0,this.diffY=0,this.$body=W()(document.body),this.isMoved=!1,this.oriScrollTop=0,this.isSameInstance=function(e){return t.editor.getDocBody().contains(e)},this.handleResizeMove=Object(h.default)(this.handleMouseMove,16),this.handleResizeScroll=Object(h.default)(this.handleScroll,16),this.editor=e.getEditor()}var fo,ho,go="image-container",mo="image-wrapper",vo=(oe(Image,fo=N.EmbedFormatter),Image.isFormatAcceptable=function(e,t){return"align"===e},Image.setConfig=function(e){this.config=e},Image.setValue=function(e){var t=e.src,n=e.width,r=e.height,i=e.attributes,o=e.resizeable,a=Object(D.z)(8),s=this.config.protocol,c=t;s&&(c=t.replace(/^(https?:|)\/\//,function(e){return"s"===e.slice(4,5)&&(s+="s"),s+"://"}));var u=!1===o?"unresize":"",l=['src="'+c.replace(/"/g,"&quot;")+'"','data-faketext=" "',"data-uuid="+a,'data-resizeable="'+u+'"'];return i&&Object.entries(i).forEach(function(e){var t=pe(e,2),n=t[0],r=t[1],n=n.replace(/[^\w-]/g,"");/^on/i.test(n)&&l.push("invalid-key-onxxxx"),l.push(n+'="'+String(r).replace(/"/g,"&quot;")+'"')}),{tagName:"div",className:[go,"single-elem-cls",u],domAttributes:N.browser.isMobile?[]:['contenteditable="false"'],childNodes:[{tagName:"span",className:[mo],childNodes:fe(Qi.map(function(e){return{tagName:"span",className:["point",e,"n-icon-dragable"]}}),[{tagName:"img",domAttributes:l,style:["width: "+(n||"100%"),"height: "+(r||"auto")]}])}]}},Image.setLineClass=function(e){return["image-upload","single-line"]},Image.prototype.reset=function(){this.adit.off(R.k.CUT,this.handleCut),this.adit.off(R.k.COPY,this.handleCopy),this.adit.off(R.k.PASTE,this.handlePaste),this.event.unbind();var e=this.options,t=e.onInsertImage,n=e.inputElem;n&&t&&n.removeEventListener("change",this.handleInputChange)},Image.prototype.handleCut=function(e){var t=this.adit.getCurrentSelection(),n=t.selStart,r=t.selEnd,i=pe(this.adit.getFormat({formatKey:Image.formatKey,fullCoverage:!1}),1),o=pe(i[0],2),a=o[0],s=o[1];a&&s&&n[0]===r[0]&&(e.html=to(e.e),this.adit.getEditor().performDelete(n[0]),e.handled=!0)},Image.prototype.handleCopy=function(e){var t,n,r,i;this.adit.getFormat({formatKey:Image.formatKey,fullCoverage:!1}).some(function(e){return!!pe(e,2)[1]})&&(t=e.e,r=(n=this.adit.getCurrentSelection()).selStart,i=n.selEnd,r[0]===i[0]&&(e.html=to(t)),e.handled=!0)},Image.prototype.handlePaste=function(e){var t=e.evt,n=e.stopEvent,r=t.clipboardData,i=$i(r),o=this.options.onInsertImage;!uo(r)&&i&&eo(i)&&o&&(n(),o(r.files,{adit:this.adit}))},Image.prototype.handleInputChange=function(e){var t,n;if(e.target){var r=e.target,i=r.files;if(i&&!eo(i))return console.warn("No support image type");if(i&&this.options.onInsertImage){var o=[];try{for(var a=de(Array.from(i)),s=a.next();!s.done;s=a.next()){var c=s.value;o.push(c)}}catch(e){t={error:e}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}this.options.onInsertImage(o,{adit:this.adit})}r.value=""}},Image.prototype.serialize=function(e){var t,n,r,i=e.type,o=e.node,a=e.op,s=null===(r=null===a||void 0===a?void 0:a.attributes)||void 0===r?void 0:r.image;if(i===R.u.LEAF&&s){var c=document.createElement("img"),u=JSON.parse(s);if(c.setAttribute("src",u.src),u.height&&c.setAttribute("height",u.height),u.width&&c.setAttribute("width",u.width),u.attributes)try{for(var l=de(Object.entries(u.attributes)),d=l.next();!d.done;d=l.next()){var p=pe(d.value,2),f=p[0],h=p[1];c.setAttribute(f,String(h))}}catch(e){t={error:e}}finally{try{d&&!d.done&&(n=l.return)&&n.call(l)}finally{if(t)throw t.error}}return c.appendChild(o),Object.assign(e,{node:c})}return e},Image.formatKey="image",Image.formatType=N.EmbedFormatter.FormatType.BLOCK,Image.toggleable=!1,Image.formatValueType=N.EmbedFormatter.FormatValueType.Object,Image.config={protocol:""},ue([Object(D.c)(),le("design:type",Function),le("design:paramtypes",[Object]),le("design:returntype",void 0)],Image.prototype,"handleCut",null),ue([Object(D.c)(),le("design:type",Function),le("design:paramtypes",[Object]),le("design:returntype",void 0)],Image.prototype,"handleCopy",null),ue([Object(D.c)(),le("design:type",Function),le("design:paramtypes",[R.v]),le("design:returntype",void 0)],Image.prototype,"handlePaste",null),ue([Object(D.c)(),le("design:type",Function),le("design:paramtypes",[Event]),le("design:returntype",void 0)],Image.prototype,"handleInputChange",null),Image);function Image(e,t){void 0===t&&(t={});var n=fo.call(this)||this;n.adit=e,n.options=t,n.collectContentImage=function(e,t){var n,r,i,o,a=t.state,s=t.cc,c=t.node,u=c.getAttribute("data-src")||c.src;u&&(n=c.style.width||c.width&&c.width+"px"||"",r=c.style.height||c.height&&c.height+"px"||"",i="unresize"!==c.dataset.resizeable,(o=s.lines.textOfLine(s.lines.length()-1))&&0<o.length&&s.startNewLine(a),s.hasLineAttributes(a)&&s._produceLineAttributesMarker(a),a.imageUploaded=["image",JSON.stringify({width:n,height:r,src:u,resizeable:i})],s._recalcAttribString(a),s.lines.appendText(" ",a.attribString))},n.adit.on(R.k.CUT,n.handleCut),n.adit.on(R.k.COPY,n.handleCopy),n.adit.on(R.k.PASTE,n.handlePaste),n.event=new lo(n.adit),n.event.bind();var r=t.onInsertImage,i=t.inputElem;return i&&r&&i.addEventListener("change",n.handleInputChange),n}var yo,bo,Eo,_o,Ao={RETURN:13,LEFT:37,UP:38,RIGHT:39,DOWN:40,SPACE:32,ESC:27,BACKSPACE:8,TAB:9,AT:50,DELETE:46,FAKE_CODE:229},Co={USER:0,FILE:1,FOLDER:2,SHEET:3,SHEET_DOC:4,CHAT:5,GROUP:6,BLOCK:7,BITABLE:8,TABLE:9,INLINE_BLOCK:10,MINDNOTE:11,BOX:12,SLIDE:15},To={PREV:4,AFTER:2},Oo={NOT_SELECTABLE_TYPE:"no-select",USER:"USER",DOCUMENT:"FILE-SHEET-BITABLE-MINDNOTE-BOX-SLIDE",ALL:"USER",CHAT:"CHAT",GROUP:"GROUP",USER_GROUP:"USER-GROUP",DRIVE:"DRIVE",SLIDE:"SLIDE",UPLOAD:"UPLOAD",UPLOADER_FILE:"UPLOADER_FILE",REACTION_BLOCK:"REACTION_BLOCK",INSERT_SHEET:"INSERT_SHEET",INSERT_TABLE:"INSERT_TABLE",POLL_BLOCK:"POLL_BLOCK",IFRAME_BLOCK:"IFRAME_BLOCK"},ko=[Oo.INSERT_TABLE,Oo.INSERT_SHEET],So={ASIDE:[Oo.USER,Oo.ALL],TYPE:[Co.USER,Co.GROUP]},wo="compositionstart",Io="compositionend",xo={DOCUMENT:"file-sheet-bitable-mindnote-box",DRIVE:"drive",INSERT_TABLE:"insertTable",SHEET:"sheet",USER:"user",CHAT:"chat",POLL_BLOCK:"poll_block",LINK:"link",CHECKBOX:"checkbox",INSERTIMAGE:"insertimage",YOUTUBE:"youtube",BILIBILI:"bilibili",YOUKU:"youku",AIRTABLE:"airtable",BAIDUMAP:"baidumap",AUTONAVI:"autonavi",GMAPS:"gmaps",XIGUA:"xigua",TIKTOK:"tiktok"},Lo=((ho={})[xo.DOCUMENT]=Oo.DOCUMENT,ho[xo.DRIVE]=Oo.DRIVE,ho[xo.INSERT_TABLE]=Oo.INSERT_TABLE,ho[xo.SHEET]=Oo.INSERT_SHEET,ho[xo.USER]=Oo.USER,ho[xo.CHAT]=Oo.CHAT,ho[xo.POLL_BLOCK]=Oo.POLL_BLOCK,ho),Ro="at-uuid_",No={HIDE:0,SHOW:1},Do=["backcolor","bold","italic","underline","strikethrough"],Mo=419,Po=116;(bo=yo=yo||{}).PEOPLE_MENTION="PEOPLE_MENTION",bo.DOC_MENTION="DOC_MENTION",(_o=Eo=Eo||{}).LEFT="LEFT",_o.RIGHT="RIGHT",_o.START="START",_o.END="END";var jo="data-contentcollector-ignore-space-at",Fo="inline-block-placeholder";function Bo(){return window.getSelection?window.getSelection():null}var Uo=String.fromCharCode(8203);function Ho(e){var t=new RegExp(Uo,"g");return e.replace(t,"")}function zo(){return location.pathname?Object(D.M)(window.location.href).token:""}function Vo(e){return N.browser.isIE?e&&0===e.toString().length:e&&"Caret"===e.type}function Ko(e){return N.browser.isIE?e&&0<e.toString().length:e&&"Range"===e.type}function Go(){return Yo(function(e,t){return"@"===e[t-1]})}function Wo(){return Yo(function(e,t){var n=0<=t-2?e[t-2]:"";return/^[a-zA-Z0-9]$/.test(n)})}function Yo(e){var t=Bo();if(!t)return!1;var n=t.focusOffset,r=t.focusNode;if(!r)return!1;var i=r&&r.nodeValue||"";return(N.browser.isIE||"Caret"===t.type)&&e(i,n)}function qo(e,t){if(void 0===e)return null;var n=new RegExp(t+"_([^\\s]+)");return Object(K.default)(e.match(n),"[1]")||""}function Zo(e,t){var n,r=e.rep,i=e.editorInfo,o=e.evt,a=r.selStart,s=r.selEnd,c=a,u=s,l=Xo();if(l){var d=l.attr("class"),p=i.domToRep(l.get(0));if(p){l.get(1)&&(n=i.domToRep(l.get(1))),p.selStart[1]<a[1]&&(c=p.selStart),p.selEnd[1]>s[1]&&p.selEnd[0]>=s[0]&&(u=p.selEnd),n&&n.selEnd[1]>s[1]&&(u=n.selEnd),i.inCallStackIfNecessary("docDeleteMention",function(){i.dom?i.performDocumentReplaceRange(r.zoneId,c,u,""):i.performDocumentReplaceRange(c,u,"")}),i.updateBrowserSelectionFromRep();var f,h,g,m,v=qo(d,"mention-id"),y=qo(d,"mention-tempId"),b=qo(d,"mention-token"),E=qo(d,"mention-type");return o.preventDefault(),!Object(M.isBlockTypeNode)(M.BlockType.AT_USER_BLOCK,l[0])||(f=Object(M.getBlockDataSet)(l[0]))&&f.props&&(g=(h=f.props.data).user,m=h.mentionId,g&&m&&(b=g.id,E=Co.USER.toString(),v=m)),v&&"undefined"!==v&&Co.USER.toString(),!y||"undefined"===y||E!==Co.USER.toString()&&E!==Co.GROUP.toString()||t&&t({type:E,mentionTempId:y,mentionToken:b,fileToken:zo()}),!0}}}function Xo(e){var t,n,r,i,o,a,s,c=Bo(),u=[];return c&&(t=c.anchorNode,n=c.anchorOffset,i=c.focusNode,o=c.focusOffset,(r=$o())&&(i=r,o=0),i&&t&&(a=ta(W()(i),o,"prev",e),!Ko(c)||(s=ta(W()(t),n,"prev",e))&&s.length&&u.push(s[0]),a&&a.length&&u.push(a[0])),u.length&&u.sort(function(e,t){return e.compareDocumentPosition(t)===To.PREV?-1:1})),W()(u)}function Qo(e){void 0===e&&(e="");var t=e.split(" "),r={type:"",link:""};return t.forEach(function(e){var t,n=e.match(/mention-([a-zA-Z]+)_(.+)/);n&&(t=n[1],r[t]=n[2])}),r}function Jo(e){return Object(l.a)(e,function(e){return e[0]})}function $o(){var e=Bo();if(!e)return null;var t=e.focusNode;if(!t)return null;var n=t.parentNode,r=t;return 3===t.nodeType&&n&&(r=n),ea(r)?r:null}function ea(e){return e.getAttribute(jo)}function ta(e,t,n,r){var i;void 0===r&&(r=!0);var o=Bo();if(e)for(;e.length&&!/magicdomid/.test(e.attr("id")||"");){var a=e.text(),s=0===t&&"next"===n;if(e.hasClass("mention")&&(s||0!==t))return e;if("prev"===n){var c=0===t&&Vo(o);if((e.prev().hasClass("mention")||e.prev().hasClass(Fo)||e.prev().find("."+Fo).length)&&(c||!r)){i=e.prev();break}}else{c=t===a.length||1===t&&" "===a.slice(-1);if((e.next().hasClass("mention")||e.next().hasClass(Fo)||e.next().find("."+Fo).length)&&(c||!r)){i=e.next();break}}e=e.parent()}return i}function na(e,t,n){var r,i;if(!e.getClientRects)return lt(e.getBoundingClientRect(),n);var o=e.getClientRects();if(1===o.length)return lt(o[0],n);if(!t)return lt(o[o.length-1],n);var a=e.className,s=parseInt(qo(a,"mention-type"));try{for(var c=de(Array.from(o)),u=c.next();!u.done;u=c.next()){var l=lt(u.value,n),d=l.top,p=l.top+l.height;if(d<=t&&t<=p||s===Co.USER&&d-2<=t&&t<=p+2)return l}}catch(e){r={error:e}}finally{try{u&&!u.done&&(i=c.return)&&i.call(c)}finally{if(r)throw r.error}}}var ra={horizontalAlign:"left",boxWidth:540,boxMaxHeight:390,boxMinHeight:350};function ia(e,t){if(e){var n=W()(e),r=(t=Object(V.a)({},ra,t)).horizontalAlign,i=t.boxWidth,o=void 0===i?ra.boxWidth:i,a=t.boxMaxHeight,s=t.boxMinHeight,c=t.upFirst,u=void 0!==c&&c,l=t.mouseY,d=t.zoom,p=void 0===d?1:d,f=t.coverNavBar,h=void 0!==f&&f,g=t.$boxContainer,m=void 0===g?W()(".adit-doc-position"):g;m.length||(m=n.closest(".innerdocbody").parent());var v,y=m.offset(),b=m.outerHeight(),E=W()(".adit-outer-container").get(0),_=0,C=0,T=1e4;E&&(v=getComputedStyle(E),T=parseInt(v["padding-left"])+parseInt(v["margin-left"]));var O=na(n.get(0),l,p);if(O){var k,S,w,I,x=window.innerWidth,L=window.innerHeight,R=parseInt(getComputedStyle(n.get(0))["line-height"])||18,N=O.width,D=O.height,M=O.top,P=O.left,j=y.top,F=y.left,B=M+R-j,U=L-M-D,H=h?M-_:M-_-C,z=x-P-("center"===r?N/2:N);return"left"===r?(I=P+N-F,z<o&&(I-=o)):"center"===r&&(I=P+N/2-o/2-F,w=-F,I=Math.max(I,w),z<o/2&&(I-=z)),I&&I<-T&&(I=o<x?P+N-F-(o-z):-T),u?(k=-M+j+b,B=void 0,H<a&&a<U&&(k=void 0,B=M+R-j)):a<H&&U<a&&(k=-M+j+b,B=void 0),U<a&&H<a&&(s<H?(k=-M+j+b,S=H,B=void 0):S=Math.max(U-10,s)),a===s&&(S=a),{left:I,bottom:k,top:B,height:S}}}}function oa(e){if(e){var t=e.left,n=e.top,r=e.bottom,i={left:t,height:e.height};return void 0!==r?i.bottom=r:i.top=n,i}}function aa(e,t){var n=e.evt,r=e.editorInfo,i=$o();r.fastIncorp();var o=r.getRep(),a=sa(t);if(i&&a){if(n.preventDefault(),ea(a)){var s=r.domToRep(a);if(!s)return;var c=[s.selStart[0],s.selStart[1]];r.selection.setWithSelection(o.zoneId,c,c,!1)}return r.updateBrowserSelectionFromRep()}t!==Eo.START&&t!==Eo.END||(n.preventDefault(),c=ca(o,t),r.selection.setWithSelection(o.zoneId,c,c,!1),r.updateBrowserSelectionFromRep())}function sa(e){var t,n=Eo.LEFT,r=Eo.RIGHT;if(e===n){if((t=Xo()).length)return t.prev().get(0)}else if(e===r)if((t=ua())&&0<t.length)return t.next().get(0);return null}function ca(e,t){var n=e.selStart[0],r=Eo.START,i=Eo.END;if(t===r)return[n,0];if(t===i){var o=e.lines.atIndex(n);if(o&&o.text)return[n,o.text.length]}return[0,0]}function ua(e){var t=Bo();if(t){var n=t.focusNode,r=t.focusOffset,i=$o(),o=n,a=r;return i&&(o=i,a=1),o&&ta(W()(o),a,"next",e)}}function la(e,t){var n,r,i=[];if(!e||!e.length)return i;var o="";try{for(var a=de(e),s=a.next();!s.done;s=a.next()){var c=s.value;c!==t?o+=c:(o&&(i.push(o),o=""),i.push(c))}}catch(e){n={error:e}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}return o&&i.push(o),i}function da(e,t){for(var n=null,r=e;!n&&r;)r.classList&&r.classList.contains(t)&&(n=r),r=r.parentNode;return n}function pa(e,t,n,r,i,o){e.performDocumentReplaceRangeWithAttributes(e.getRep().zoneId,t,n,r,Jo(i)),e.updateBrowserSelectionFromRep(o)}function fa(e,t,n,r){e.inCallStackIfNecessary("performSpace",function(){e.makeNewEvent("nonundoable",function(){e.fastIncorp(),e.performDocumentReplaceRangeWithAttributes(e.getRep().zoneId,t,n," ",Jo(r))})})}function ha(e,n,r,t,i,o){var a=la(t," ").map(function(e,t){return{start:0===t?n:r,end:r,newText:e,attributes:/^\n+$/.test(e)?[]:Jo(i)}}),s=function(){e.dom?e.performDocumentReplaceMultiRangeWithAttributes(e.getRep().zoneId,a):e.performDocumentReplaceMultiRangeWithAttributes(a)};o?e.inCallStackIfNecessary("performAt",function(){e.fastIncorp(!0),s()}):e.callWithAce(s,"performAt",!0)}function ga(n,e){var t=e.repManager.getActiveRep(),r=t.zoneId,i=e.getAttributesOnSelection,o=Object(K.default)(i(r,t),"attribs")||[];return o=Object(d.a)(o,function(e){var t=e[0];return n.includes(t)})}var ma=D.v.forcePastShowDate;function va(e){if(!e)return"";var t=e.type,n=e.department,r=e.edit_time,i=n;return[Co.SHEET,Co.FILE,Co.BITABLE,Co.BOX,Co.MINDNOTE,Co.SLIDE].includes(t)&&(i=""+ma(r)),i}var ya=document.createElement("div");ya.innerHTML='<svg width="80" height="80" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M36.464 9.95c2.202 5.102 7.52 6.994 7.52 6.994s4.565-.56 4.654 2.71c.09 3.272-3.1 3.141-3.1 3.141s.192 8.876.192 18.575c0 8.026.059 14.712.177 20.059l14.267.136V56.11c0-10.608-7.199-11.45-3.981-17.238 2.212-3.978 1.77-7.956-1.327-11.492-4.77-5.447-2.604-8.559-2.211-12.376.392-3.817.864-13.203-9.732-14.586 0 0-.672-.2-1.722-.2-2.028 0-5.466.743-8.216 5.096-.309.49 2.91 3.322 3.479 4.637z" id="a"/></defs><path d="M48.174 71.29H23.13l-7.315-10.334 15.779-11.463z"/><path d="M37.781 57.882L25.2 39.727c-2.307-3.145-6.297-10.418-9.644-8.098 0 0-4.714 2.618.677 7.749m-3.827-5.305s-2.782 1.345-.572 6.406c.659 1.507 3.441 6.116 4.746 4.898M9.913 36.16s-4.544 2.075-1.408 6.62c.836 1.212 3.65 6.512 5.39 4.599" stroke="#18263C" stroke-width=".696" stroke-linecap="round" stroke-linejoin="round"/><path d="M6.435 38.595S2.04 40.54 5.177 45.087l4.404 6.36c2.517 3.63 13.26 19.67 13.26 19.67" stroke="#18263C" stroke-width=".696" stroke-linecap="round" stroke-linejoin="round"/><path d="M62.446 43.472L62.26 71.29H35.278c0-14.994 12.164-27.82 27.168-27.82z"/><g transform="translate(16 9.862)"><path d="M39.016 34.426S19.424 40.054 19.424 60.65M.174 50.878L18.029 37.66M7.594 56.907l13.102-10.203m-4.633-.168a1.965 1.965 0 01-2.44-3.078 1.967 1.967 0 012.76.32c.674.85.53 2.085-.32 2.758zM37.214 27.69c2.087-.233 3.598-.293 3.598-.293" stroke="#18263C" stroke-width=".696" stroke-linecap="round" stroke-linejoin="round"/><use xlink:href="#a"/></g><path d="M25.71 42.508s-7.102-2.985-8.696-2.783c-3.783.482 2.519 7.08 4.61 6.986m-3.015-12.87s4.319 5.102 3.623 6.928m4.087-4.435l-3.946 2.993M41.74 14.073c-.921 2.463-1.182 5.06-1.114 8.542.066 3.397.037 9.351.037 9.351l2.66.18s.074 2.995.909 5.231" stroke="#18263C" stroke-width=".696" stroke-linecap="round" stroke-linejoin="round"/><path d="M40.783 18.682l6.811-2.232s-2.892-2.928-5.942-2.928c-.87 1.392-.87 5.16-.87 5.16z"/><path d="M39.647 12.55c-7.365 0-13.356 5.991-13.356 13.356s5.991 13.357 13.356 13.357 13.357-5.992 13.357-13.357c0-7.365-5.992-13.357-13.357-13.357m0 30.294c-9.34 0-16.937-7.598-16.937-16.937 0-9.34 7.598-16.938 16.937-16.938 9.34 0 16.938 7.599 16.938 16.938 0 9.34-7.598 16.937-16.938 16.937"/><path d="M44.159 25.24c1.633 1.752 3.377 1.752 5.232 0" stroke="#18263C" stroke-width=".696" stroke-linecap="round" stroke-linejoin="round"/></svg>';var ba,Ea,_a,Aa,Ca,Ta=ya.firstChild,Oa=Co.USER;function ka(e){var t=e.hasAside,n=e.style,r=e.domsObject,o=e.activeAside,a=e.handleAsideClick,i=e.registerMentionsInfo,s=e.keyboardActiveAside;if(!t)return"";function c(e,t){var n=e.content,r=e.type,i=Object(D.t)("li",{key:t,className:"m-mention-aside__item "+r+" "+(o===t?"active":"")+" "+(s===t?"keyboardActiveAside":"")},[Object(D.t)("div",{className:"title"},[Object(D.t)("span",{className:"m-mention-aside__content"},n)])]).element;return{element:i,release:ba=D.o.call(i,"click",function(){a(e,t)})}}var u=Object(D.t)("ul",{className:"m-mention-aside",style:{maxHeight:n.maxHeight},ref:function(e){r.aside=e}},i.map(function(e,t){return c(e,t)})),l=u.element,d=u.release;return{element:l,release:Object(D.N)(ba,d)}}function Sa(e){var o=e.i18n,a=e.list,s=e.subMenu,c=e.message,u=e.fetchType,l=e.activeIndex,d=e.fetchState,t=e.shouldNotify,n=e.settingText,p=e.domsObject,r=e.showCheckBox,i=e.rightPanelWidth,f=e.activeMentionType,h=e.shouldShowNotification,g=e.onToggleCheckbox,m=e.handleConfirm,v=e.handleScroll;function y(){return"init"!==u||a.length<=0?"":Object(D.t)("div",{className:"m-mention-box-hd",ref:function(e){p.mentionHd=e}},[Object(D.t)("span",{},o["mention.recently"])]).element}function b(e,t){return e?Object(D.t)("img",{tip:!1,className:"m-mention-box__item_icon",src:t}).element:""}function E(e,t){return e?"":Object(D.t)("i",{className:"m-mention-box__item_icon m-mention-box__item_icon_"+t}).element}function _(){return a.length?a.map(function(e,t){var n=e.content,r=e.type,i=e.url,o=r===Oa,a=n,s=va(e),c=Object(D.t)("li",{"data-index":t,ref:function(e){p.mentionList=e},className:"m-mention-box__item layout-row layout-cross-center "+(l===t?"active":"")},[b(o,i),E(o,r),Object(D.t)("div",{className:"layout-column flex"},[Object(D.t)("div",{className:"m-mention-box__item_info"},[Object(D.t)("span",{className:"m-mention-box__item_main, overlong "+(s?"no-sub-content":"")},[a])]),Object(D.t)("p",{className:"m-mention-box__item_sub sub-common"},s)])]).element;return{element:c,releaseListItem:Ea=D.o.call(c,"click",function(e){m(t,e)})}}):""}function C(){var e,t=Object(D.s)(Ta),n=0<a.length;if("loaded"===d&&!n)return Object(D.t)("div",{className:"m-mention-nodata layout-row layout-main-center layout-cross-center"},[t,Object(D.t)("p",{className:"m-mention-nodata__des"},[c||o["mention.no-result-and-try-another"]])]);var r=((e={})["max-height"]=342-("init"===u?32:0)+"px",e),i=Object(D.t)("ul",{style:r,className:"m-mention-box flex",ref:function(e){return p.mentionBox=e}},_()).element;return{element:i,releaseMentionBox:_a=D.o.call(i,"wheel",function(e){v(e)})}}function T(){return"loading"!==d?"":Object(D.t)("div",{className:"layout-row layout-main-center layout-cross-center mention-loading-wrapper"},Object(D.t)("span",{className:"spiner"},[Object(D.t)("span",{"aria-hidden":"true"}),Object(D.t)("span",{"aria-hidden":"true"}),Object(D.t)("span",{"aria-hidden":"true"})])).element}function O(e){var t=f===Oo.CHAT?o.insert:o["mention.mentioned"],n=Object(D.t)("button",{className:"lark-notification-confirm-btn",disabled:e},t).element;return e||(n=Object(D.t)("button",{className:"lark-notification-confirm-btn"},t).element),{element:n,releaseNotification:Aa=D.o.call(n,"click",function(e){m(l,e)})}}function k(){if(!a.length||l<0)return"";var e=s.style,t=s.arrowStyle,n=s.visible,r=a[l],i=r.content,o=r.isContentOverLong;return e.visibility=n?"visible":"hidden",e.display=o?"block":"none",Object(D.t)("div",{className:"m-mention-box_more_wrap",style:{display:e.display||"",visibility:e.visibility||""},ref:function(e){p.subMenu=e}},[Object(D.t)("div",{className:"m-mention-box_more"},[Object(D.t)("div",{className:"content"},i),"",Object(D.t)("i",{className:"arrow",style:t})])]).element}function S(e){var t=e.disabled,n=e.onChange,r=e.className,i=void 0===r?"":r,o="docs-checkbox",a="checkbox",s=e.checked,c=o+" "+i;s&&(c+=o+"-checked"),t&&(c+=o+"-disabled");var u=(s?Object(D.t)("input",{className:o+"-input",type:""+a,checked:s}):Object(D.t)("input",{className:o+"-input",type:""+a})).element;return Ca=D.o.call(u,"change",function(){n&&n()}),{element:Object(D.t)("span",{className:""+c},[u,Object(D.t)("span",{className:o+"-inner"})]).element,release:Object(D.N)(Ca)}}function w(){if(a.length<=0)return"";var e=h?"":"disabled";return Object(D.t)("div",{className:"lark-notification-wrap"},[Object(D.t)("div",{className:"lark-notification-confirm layout-row"},[Object(D.t)("div",{className:"lark-notification-additional-settings layout-row layout-cross-center"},[r?Object(D.t)("label",{className:"lark-notification-setting"},[S({onChange:g,checked:t}),Object(D.t)("span",{className:"lark-notification-setting-text"},n)]):""]),O(e)])]).element}var I=Object(D.t)("div",{className:"m-mention-box-wrapper layout-column",style:{width:i+"px"}},[y(),C(),T(),k(),w()]),x=I.element,L=I.release;return{element:x,release:Object(D.N)(L,Ca,Ea,_a,Aa)}}var wa={};function Ia(e,n,r){e(n).then(function(e){var t;Object(K.default)(e,"data.result_list.length")&&(t=void 0===n.content||""===n.content?"All":n.content,Object(u.a)(wa,n.type+"."+t,{time:+new Date,result:e})),r(e)},function(e){console.log(e)})}he(".adit-outer-container .spiner {\n  display: inline-block;\n  position: relative;\n  height: 20px;\n  width: 40px;\n  vertical-align: middle;\n}\n.adit-outer-container .spiner > * {\n  position: absolute;\n  top: 5px;\n  height: 10px;\n  width: 10px;\n  border-radius: 50%;\n  background: #3370ff;\n  opacity: 0.6;\n  -webkit-transform: translateX(0px);\n  transform: translateX(0px);\n}\n.adit-outer-container .spiner > *:nth-child(1) {\n  left: 0;\n  -webkit-animation: mymove 1.3s infinite ease-in;\n  animation: mymove 1.3s infinite ease-in;\n}\n.adit-outer-container .spiner > *:nth-child(2) {\n  left: 12px;\n  -webkit-animation: mymove 1.3s 0.3s infinite ease-in;\n  animation: mymove 1.3s 0.3s infinite ease-in;\n}\n.adit-outer-container .spiner > *:nth-child(3) {\n  left: 24px;\n  -webkit-animation: mymove 1.3s 0.6s infinite ease-in;\n  animation: mymove 1.3s 0.6s infinite ease-in;\n}\n@-webkit-keyframes mymove {\n  0%,\n  100%,\n  80% {\n    opacity: 0.6;\n    -webkit-transform: scale(0.4);\n  }\n  40% {\n    opacity: 1;\n    -webkit-transform: scale(1);\n  }\n}\n@keyframes mymove {\n  0%,\n  100%,\n  80% {\n    opacity: 0.6;\n    transform: scale(0.4);\n  }\n  40% {\n    opacity: 1;\n    transform: scale(1);\n  }\n}\n",{className:"adit-style"}),he(".adit-outer-container .over-hide {\n  overflow: hidden !important;\n}\n.adit-outer-container .adit-doc-position {\n  position: relative;\n  height: 0;\n  width: 0;\n}\n.adit-outer-container .permissionToast {\n  padding: 12px;\n}\n.adit-outer-container .permissionToast .toast__icon {\n  display: none;\n}\n.adit-outer-container .permissionToast .toast__content {\n  margin-right: 0;\n}\n.adit-outer-container .permissionToast .toast-confirm {\n  display: flex;\n}\n.adit-outer-container .permissionToast .toast-confirm .toast-text {\n  border-right: 1px solid #bbbfc4;\n  padding-right: 10px;\n  margin-right: 10px;\n}\n.adit-outer-container .permissionToast .toast-confirm .toast-button {\n  color: #3370ff;\n  min-width: 30px;\n}\n.adit-outer-container .m-mention-container {\n  position: absolute !important;\n  transition: top 0.3s;\n  z-index: 2061;\n  font-size: 14px;\n  background-color: #fff;\n  box-shadow: 0 6px 24px 0 rgba(31, 35, 41, 0.1);\n  border: solid 1px #dee0e3;\n  border-radius: 4px;\n  max-height: 390px;\n  color: #2b2f36;\n  min-height: 64px;\n}\n.adit-outer-container .m-mention-container.at-mention {\n  padding-top: 8px;\n}\n.adit-outer-container .m-mention-container.at-mention .m-mention-box__item_sub {\n  margin-bottom: 5px;\n}\n.adit-outer-container .m-mention-container.mention-part_comment,\n.adit-outer-container .m-mention-container.mention-full_comment {\n  max-width: 280px;\n}\n.adit-outer-container .m-mention-container.mention-part_comment .m-mention-box-wrapper,\n.adit-outer-container .m-mention-container.mention-full_comment .m-mention-box-wrapper {\n  max-width: 100%;\n}\n.adit-outer-container .m-mention-container.mention-part_comment .m-mention-box-wrapper .m-mention-box,\n.adit-outer-container .m-mention-container.mention-full_comment .m-mention-box-wrapper .m-mention-box {\n  max-width: 100%;\n}\n.adit-outer-container .m-mention-container .mention-loading-wrapper {\n  position: absolute;\n  flex: none;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;\n}\n.adit-outer-container .m-mention-container .m-mention-aside {\n  flex: none;\n  max-height: 100%;\n  padding: 8px 0;\n  border-right: 1px solid #f5f6f7;\n  -ms-overflow-style: none;\n  overflow-y: auto;\n}\n.adit-outer-container .m-mention-container .m-mention-aside::-webkit-scrollbar {\n  display: none;\n}\n.adit-outer-container .m-mention-container .m-mention-aside__item {\n  position: relative;\n  height: 36px;\n  line-height: 36px;\n  overflow: hidden;\n  list-style: none;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  color: #1f2329;\n  font-size: 14px;\n  padding: 0 12px;\n  cursor: pointer;\n}\n.adit-outer-container .m-mention-container .m-mention-aside__item.no-select {\n  color: #8f959e;\n  cursor: default;\n  font-size: 12px;\n}\n.adit-outer-container .m-mention-container .m-mention-aside__item.active {\n  color: #3370ff;\n}\n.adit-outer-container .m-mention-container .m-mention-aside__item.active:before {\n  content: ' ';\n  position: absolute;\n  left: 0;\n  width: 4px;\n  height: 20px;\n  top: 50%;\n  margin-top: -10px;\n  background-color: #3370ff;\n}\n.adit-outer-container .m-mention-container .m-mention-aside__item.keyboardActive {\n  background-color: #eff0f1;\n}\n.adit-outer-container .m-mention-container .sub-common {\n  height: 17px;\n  line-height: 17px;\n  font-size: 12px;\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n}\n.adit-outer-container .m-mention-container .m-mention-box-wrapper {\n  position: relative;\n  flex: 1;\n}\n.adit-outer-container .m-mention-container .m-mention-box-wrapper .m-mention-box-hd {\n  position: relative;\n  width: 100%;\n  z-index: 2;\n  height: 40px;\n  line-height: 34px;\n  color: #bbbfc4;\n  padding: 0 16px;\n}\n.adit-outer-container .m-mention-container .m-mention-box-wrapper .m-mention-box-tip {\n  float: right;\n  font-size: 12px;\n}\n.adit-outer-container .m-mention-container .m-mention-box {\n  position: relative;\n  width: 100%;\n  overflow-y: scroll;\n  padding: 0;\n  -ms-flex: 1 1 auto;\n  -ms-overflow-style: none;\n}\n.adit-outer-container .m-mention-container .m-mention-box::-webkit-scrollbar {\n  display: none;\n}\n.adit-outer-container .m-mention-container .m-mention-box__item {\n  padding: 0 16px;\n  color: #1f2329;\n  user-select: none;\n  cursor: pointer;\n}\n.adit-outer-container .m-mention-container .m-mention-box__item_info {\n  display: flex;\n  align-items: center;\n  margin-top: 5px;\n}\n.adit-outer-container .m-mention-container .m-mention-box__item_info .label__external {\n  margin-left: 8px;\n}\n.adit-outer-container .m-mention-container .m-mention-box__item_info .label__external.no-sub-content {\n  margin-top: 0;\n}\n.adit-outer-container .m-mention-container .m-mention-box__item_info .label__not_in_chat {\n  margin-left: 8px;\n}\n.adit-outer-container .m-mention-container .m-mention-box__item_main {\n  position: relative;\n  color: #1f2329;\n  max-width: 360px;\n  font-size: 14px;\n  max-height: 40px;\n  line-height: 20px;\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n}\n.adit-outer-container .m-mention-container .m-mention-box__item_main.overlong {\n  padding-right: 10px;\n}\n.adit-outer-container .m-mention-container .m-mention-box__item_main.overlong:after {\n  position: absolute;\n  height: 20px;\n  content: '...';\n  right: -1px;\n  bottom: 0;\n}\n.adit-outer-container .m-mention-container .m-mention-box__item_main.no-sub-content {\n  margin-top: 0;\n}\n.adit-outer-container .m-mention-container .m-mention-box__item_sub {\n  max-width: 204px;\n  color: #8f959e;\n}\n.adit-outer-container .m-mention-container .m-mention-box__item_icon {\n  flex: none;\n  align-self: flex-start;\n  height: 32px;\n  width: 32px;\n  margin: 8px 10px 8px 0;\n  border-radius: 50%;\n  background-position: 50% 50%;\n}\n.adit-outer-container .m-mention-container .m-mention-box__item_icon_1 {\n  background-image: url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='22px' height='28px' viewBox='0 0 22 28' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3E%3Ctitle%3Eicon_file_doc_nor%3C/title%3E%3Cdesc%3ECreated with Sketch.%3C/desc%3E%3Cdefs%3E%3Cpath d='M1.5%2C0 L15.5857864%2C0 C15.8510029%2C2.8648903e-15 16.1053568%2C0.10535684 16.2928932%2C0.292893219 L21.7071068%2C5.70710678 C21.8946432%2C5.89464316 22%2C6.14899707 22%2C6.41421356 L22%2C26.5 C22%2C27.3284271 21.3284271%2C28 20.5%2C28 L1.5%2C28 C0.671572875%2C28 1.01453063e-16%2C27.3284271 0%2C26.5 L0%2C1.5 C-1.01453063e-16%2C0.671572875 0.671572875%2C1.52179594e-16 1.5%2C0 Z' id='path-1'/%3E%3C/defs%3E%3Cg id='Web-16*16' stroke='none' stroke-width='1' fill='none' fill-rule='evenodd'%3E%3Cg id='Artboard' transform='translate%28-400.000000%2C -2576.000000%29'%3E%3Cg id='icon_file_doc_nor' transform='translate%28400.000000%2C 2576.000000%29'%3E%3Cg id='icon_blue_28'%3E%3Cg%3E%3Cmask id='mask-2' fill='white'%3E%3Cuse xlink:href='%23path-1'/%3E%3C/mask%3E%3Cuse id='Mask' fill='%233370FF' xlink:href='%23path-1'/%3E%3Cpath d='M16%2C-1 L23%2C6 L17.5%2C6 C16.6715729%2C6 16%2C5.32842712 16%2C4.5 L16%2C-1 Z' id='Rectangle' fill='%23245BDB' mask='url%28%23mask-2%29'/%3E%3C/g%3E%3C/g%3E%3Cg transform='translate%283.000000%2C 9.000000%29'%3E%3Cpolygon id='%E7%9F%A9%E5%BD%A2' points='0 0 16 0 16 16 0 16'/%3E%3Cpath d='M2.2%2C3 L13.8%2C3 C13.9104569%2C3 14%2C3.08954305 14%2C3.2 L14%2C4.3 C14%2C4.41045695 13.9104569%2C4.5 13.8%2C4.5 L2.2%2C4.5 C2.08954305%2C4.5 2%2C4.41045695 2%2C4.3 L2%2C3.2 C2%2C3.08954305 2.08954305%2C3 2.2%2C3 Z M2.2%2C7.5 L13.8%2C7.5 C13.9104569%2C7.5 14%2C7.58954305 14%2C7.7 L14%2C8.8 C14%2C8.91045695 13.9104569%2C9 13.8%2C9 L2.2%2C9 C2.08954305%2C9 2%2C8.91045695 2%2C8.8 L2%2C7.7 C2%2C7.58954305 2.08954305%2C7.5 2.2%2C7.5 Z M2.2%2C12 L8.8%2C12 C8.91045695%2C12 9%2C12.0895431 9%2C12.2 L9%2C13.3 C9%2C13.4104569 8.91045695%2C13.5 8.8%2C13.5 L2.2%2C13.5 C2.08954305%2C13.5 2%2C13.4104569 2%2C13.3 L2%2C12.2 C2%2C12.0895431 2.08954305%2C12 2.2%2C12 Z' id='Combined-Shape' fill='%23FFFFFF'/%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/svg%3E\");\n  background-repeat: no-repeat;\n}\n.adit-outer-container .m-mention-container .m-mention-box__item_icon_3 {\n  background-image: url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='22px' height='28px' viewBox='0 0 22 28' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3E%3Ctitle%3Eicon_file_sheet_nor%3C/title%3E%3Cdesc%3ECreated with Sketch.%3C/desc%3E%3Cdefs%3E%3Cpath d='M1.5%2C0 L15.5857864%2C0 C15.8510029%2C2.8648903e-15 16.1053568%2C0.10535684 16.2928932%2C0.292893219 L21.7071068%2C5.70710678 C21.8946432%2C5.89464316 22%2C6.14899707 22%2C6.41421356 L22%2C26.5 C22%2C27.3284271 21.3284271%2C28 20.5%2C28 L1.5%2C28 C0.671572875%2C28 1.01453063e-16%2C27.3284271 0%2C26.5 L0%2C1.5 C-1.01453063e-16%2C0.671572875 0.671572875%2C1.52179594e-16 1.5%2C0 Z' id='path-1'/%3E%3C/defs%3E%3Cg id='Web-16*16' stroke='none' stroke-width='1' fill='none' fill-rule='evenodd'%3E%3Cg id='Artboard' transform='translate%28-399.000000%2C -2768.000000%29'%3E%3Cg id='icon_file_sheet_nor' transform='translate%28399.000000%2C 2768.000000%29'%3E%3Cg id='icon_green_28'%3E%3Cg%3E%3Cmask id='mask-2' fill='white'%3E%3Cuse xlink:href='%23path-1'/%3E%3C/mask%3E%3Cuse id='Mask' fill='%2334C724' xlink:href='%23path-1'/%3E%3Cpath d='M16%2C-1 L23%2C6 L17.5%2C6 C16.6715729%2C6 16%2C5.32842712 16%2C4.5 L16%2C-1 Z' id='Rectangle' fill='%232EA121' mask='url%28%23mask-2%29'/%3E%3C/g%3E%3C/g%3E%3Cg transform='translate%283.000000%2C 9.000000%29'%3E%3Cpolygon id='%E7%9F%A9%E5%BD%A2' points='0 0 16 0 16 16 0 16'/%3E%3Cpath d='M6%2C4.5 L3.5%2C4.5 L3.5%2C7 L6%2C7 L6%2C4.5 Z M7.5%2C4.5 L7.5%2C7 L12.5%2C7 L12.5%2C4.5 L7.5%2C4.5 Z M12.5%2C8.5 L7.5%2C8.5 L7.5%2C12.5 L12.5%2C12.5 L12.5%2C8.5 Z M6%2C12.5 L6%2C8.5 L3.5%2C8.5 L3.5%2C12.5 L6%2C12.5 Z M2.3%2C3 L13.7%2C3 C13.8656854%2C3 14%2C3.13431458 14%2C3.3 L14%2C13.7 C14%2C13.8656854 13.8656854%2C14 13.7%2C14 L2.3%2C14 C2.13431458%2C14 2%2C13.8656854 2%2C13.7 L2%2C3.3 C2%2C3.13431458 2.13431458%2C3 2.3%2C3 Z' id='Combined-Shape' fill='%23FFFFFF' fill-rule='nonzero'/%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/svg%3E\");\n  background-repeat: no-repeat;\n}\n.adit-outer-container .m-mention-container .m-mention-box__item_icon_8 {\n  background-image: url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='22px' height='28px' viewBox='0 0 22 28' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3E%3Ctitle%3Eicon_file_bitable_nor%3C/title%3E%3Cdesc%3ECreated with Sketch.%3C/desc%3E%3Cdefs%3E%3Cpath d='M1.5%2C0 L15.5857864%2C0 C15.8510029%2C2.8648903e-15 16.1053568%2C0.10535684 16.2928932%2C0.292893219 L21.7071068%2C5.70710678 C21.8946432%2C5.89464316 22%2C6.14899707 22%2C6.41421356 L22%2C26.5 C22%2C27.3284271 21.3284271%2C28 20.5%2C28 L1.5%2C28 C0.671572875%2C28 1.01453063e-16%2C27.3284271 0%2C26.5 L0%2C1.5 C-1.01453063e-16%2C0.671572875 0.671572875%2C1.52179594e-16 1.5%2C0 Z' id='path-1'/%3E%3C/defs%3E%3Cg id='Web-16*16' stroke='none' stroke-width='1' fill='none' fill-rule='evenodd'%3E%3Cg id='Artboard' transform='translate%28-400.000000%2C -2720.000000%29'%3E%3Cg id='icon_file_bitable_nor' transform='translate%28400.000000%2C 2720.000000%29'%3E%3Cg id='icon_yellow_28'%3E%3Cg%3E%3Cmask id='mask-2' fill='white'%3E%3Cuse xlink:href='%23path-1'/%3E%3C/mask%3E%3Cuse id='Mask' fill='%23FFC60A' xlink:href='%23path-1'/%3E%3Cpath d='M16%2C-1 L23%2C6 L17.5%2C6 C16.6715729%2C6 16%2C5.32842712 16%2C4.5 L16%2C-1 Z' id='Rectangle' fill='%23DC9B04' mask='url%28%23mask-2%29'/%3E%3C/g%3E%3C/g%3E%3Cg id='icon_file_bitable_no' transform='translate%283.000000%2C 9.000000%29'%3E%3Cpolygon id='%E7%9F%A9%E5%BD%A2' points='0 0 16 0 16 16 0 16'/%3E%3Cpath d='M2.3%2C7.5 L4.7%2C7.5 C4.86568542%2C7.5 5%2C7.63431458 5%2C7.8 L5%2C8.7 C5%2C8.86568542 4.86568542%2C9 4.7%2C9 L2.3%2C9 C2.13431458%2C9 2%2C8.86568542 2%2C8.7 L2%2C7.8 C2%2C7.63431458 2.13431458%2C7.5 2.3%2C7.5 Z M6.8%2C7.5 L13.7%2C7.5 C13.8656854%2C7.5 14%2C7.63431458 14%2C7.8 L14%2C8.7 C14%2C8.86568542 13.8656854%2C9 13.7%2C9 L6.8%2C9 C6.63431458%2C9 6.5%2C8.86568542 6.5%2C8.7 L6.5%2C7.8 C6.5%2C7.63431458 6.63431458%2C7.5 6.8%2C7.5 Z M2.3%2C12 L4.7%2C12 C4.86568542%2C12 5%2C12.1343146 5%2C12.3 L5%2C13.2 C5%2C13.3656854 4.86568542%2C13.5 4.7%2C13.5 L2.3%2C13.5 C2.13431458%2C13.5 2%2C13.3656854 2%2C13.2 L2%2C12.3 C2%2C12.1343146 2.13431458%2C12 2.3%2C12 Z M6.8%2C12 L13.7%2C12 C13.8656854%2C12 14%2C12.1343146 14%2C12.3 L14%2C13.2 C14%2C13.3656854 13.8656854%2C13.5 13.7%2C13.5 L6.8%2C13.5 C6.63431458%2C13.5 6.5%2C13.3656854 6.5%2C13.2 L6.5%2C12.3 C6.5%2C12.1343146 6.63431458%2C12 6.8%2C12 Z M2.3%2C3 L13.7%2C3 C13.8656854%2C3 14%2C3.13431458 14%2C3.3 L14%2C4.2 C14%2C4.36568542 13.8656854%2C4.5 13.7%2C4.5 L2.3%2C4.5 C2.13431458%2C4.5 2%2C4.36568542 2%2C4.2 L2%2C3.3 C2%2C3.13431458 2.13431458%2C3 2.3%2C3 Z' id='Combined-Shape' fill='%23FFFFFF'/%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/svg%3E\");\n  background-repeat: no-repeat;\n}\n.adit-outer-container .m-mention-container .m-mention-box__item_icon_11 {\n  background-image: url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='22px' height='28px' viewBox='0 0 22 28' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3E%3Ctitle%3Eicon_file_mindnote_nor%3C/title%3E%3Cdesc%3ECreated with Sketch.%3C/desc%3E%3Cdefs%3E%3Cpath d='M1.5%2C0 L15.5857864%2C0 C15.8510029%2C2.8648903e-15 16.1053568%2C0.10535684 16.2928932%2C0.292893219 L21.7071068%2C5.70710678 C21.8946432%2C5.89464316 22%2C6.14899707 22%2C6.41421356 L22%2C26.5 C22%2C27.3284271 21.3284271%2C28 20.5%2C28 L1.5%2C28 C0.671572875%2C28 1.01453063e-16%2C27.3284271 0%2C26.5 L0%2C1.5 C-1.01453063e-16%2C0.671572875 0.671572875%2C1.52179594e-16 1.5%2C0 Z' id='path-1'/%3E%3C/defs%3E%3Cg id='Web-16*16' stroke='none' stroke-width='1' fill='none' fill-rule='evenodd'%3E%3Cg id='Artboard' transform='translate%28-626.000000%2C -2576.000000%29'%3E%3Cg id='icon_file_mindnote_nor' transform='translate%28626.000000%2C 2576.000000%29'%3E%3Cg id='icon_Wathet_28'%3E%3Cg%3E%3Cmask id='mask-2' fill='white'%3E%3Cuse xlink:href='%23path-1'/%3E%3C/mask%3E%3Cuse id='Mask' fill='%2314C0FF' xlink:href='%23path-1'/%3E%3Cpath d='M16%2C-1 L23%2C6 L17.5%2C6 C16.6715729%2C6 16%2C5.32842712 16%2C4.5 L16%2C-1 Z' id='Rectangle' fill='%23049FD7' mask='url%28%23mask-2%29'/%3E%3C/g%3E%3C/g%3E%3Cg transform='translate%283.000000%2C 9.000000%29'%3E%3Cpolygon id='%E7%9F%A9%E5%BD%A2' points='0 0 16 0 16 16 0 16'/%3E%3Cpath d='M2.18994141%2C5.89251623 C1.77061114%2C5.57281012 1.5%2C5.06800737 1.5%2C4.5 C1.5%2C3.53350169 2.28350169%2C2.75 3.25%2C2.75 C4.21649831%2C2.75 5%2C3.53350169 5%2C4.5 C5%2C5.31455032 4.44348923%2C5.99912058 3.68994141%2C6.19423709 L3.68994141%2C8 L5.20476074%2C8 C5.37044617%2C8 5.50476074%2C8.13431458 5.50476074%2C8.3 L5.50476074%2C9.2 C5.50476074%2C9.36568542 5.37044617%2C9.5 5.20476074%2C9.5 L3.68994141%2C9.5 L3.68994141%2C12.2 C3.68994141%2C12.3656854 3.82425598%2C12.5 3.98994141%2C12.5 L3.83994141%2C12.5 L5.20476074%2C12.5 C5.37044617%2C12.5 5.50476074%2C12.6343146 5.50476074%2C12.8 L5.50476074%2C13.7 C5.50476074%2C13.8656854 5.37044617%2C14 5.20476074%2C14 L3.48994141%2C14 C3.4729058%2C14 3.45620183%2C13.9985801 3.43994141%2C13.9958521 C3.42368098%2C13.9985801 3.40697702%2C14 3.38994141%2C14 L2.93994141%2C14 C2.52572784%2C14 2.18994141%2C13.6642136 2.18994141%2C13.25 L2.18994141%2C5.89251623 Z M7.3%2C3.5 L14.2%2C3.5 C14.3656854%2C3.5 14.5%2C3.63431458 14.5%2C3.8 L14.5%2C4.7 C14.5%2C4.86568542 14.3656854%2C5 14.2%2C5 L7.3%2C5 C7.13431458%2C5 7%2C4.86568542 7%2C4.7 L7%2C3.8 C7%2C3.63431458 7.13431458%2C3.5 7.3%2C3.5 Z M7.3%2C8 L14.2%2C8 C14.3656854%2C8 14.5%2C8.13431458 14.5%2C8.3 L14.5%2C9.2 C14.5%2C9.36568542 14.3656854%2C9.5 14.2%2C9.5 L7.3%2C9.5 C7.13431458%2C9.5 7%2C9.36568542 7%2C9.2 L7%2C8.3 C7%2C8.13431458 7.13431458%2C8 7.3%2C8 Z M7.3%2C12.5 L14.2%2C12.5 C14.3656854%2C12.5 14.5%2C12.6343146 14.5%2C12.8 L14.5%2C13.7 C14.5%2C13.8656854 14.3656854%2C14 14.2%2C14 L7.3%2C14 C7.13431458%2C14 7%2C13.8656854 7%2C13.7 L7%2C12.8 C7%2C12.6343146 7.13431458%2C12.5 7.3%2C12.5 Z' id='icon_global_mindnote_nor' fill='%23FFFFFF'/%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/svg%3E\");\n  background-repeat: no-repeat;\n}\n.adit-outer-container .m-mention-container .m-mention-box__item_icon_12 {\n  background-image: url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='22px' height='28px' viewBox='0 0 22 28' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3E%3Ctitle%3Eicon_file_unknow_nor%3C/title%3E%3Cdesc%3ECreated with Sketch.%3C/desc%3E%3Cdefs%3E%3Cpath d='M1.5%2C0 L15.5857864%2C0 C15.8510029%2C2.8648903e-15 16.1053568%2C0.10535684 16.2928932%2C0.292893219 L21.7071068%2C5.70710678 C21.8946432%2C5.89464316 22%2C6.14899707 22%2C6.41421356 L22%2C26.5 C22%2C27.3284271 21.3284271%2C28 20.5%2C28 L1.5%2C28 C0.671572875%2C28 1.01453063e-16%2C27.3284271 0%2C26.5 L0%2C1.5 C-1.01453063e-16%2C0.671572875 0.671572875%2C1.52179594e-16 1.5%2C0 Z' id='path-1'/%3E%3C/defs%3E%3Cg id='Web-16*16' stroke='none' stroke-width='1' fill='none' fill-rule='evenodd'%3E%3Cg id='Artboard' transform='translate%28-626.000000%2C -2480.000000%29'%3E%3Cg id='icon_file_unknow_nor' transform='translate%28626.000000%2C 2480.000000%29'%3E%3Cg id='icon_grey_28'%3E%3Cg%3E%3Cmask id='mask-2' fill='white'%3E%3Cuse xlink:href='%23path-1'/%3E%3C/mask%3E%3Cuse id='Mask' fill='%239CA3AD' xlink:href='%23path-1'/%3E%3Cpath d='M16%2C-1 L23%2C6 L17.5%2C6 C16.6715729%2C6 16%2C5.32842712 16%2C4.5 L16%2C-1 Z' id='Rectangle' fill='%23646A73' mask='url%28%23mask-2%29'/%3E%3C/g%3E%3C/g%3E%3Cg transform='translate%282.648649%2C 8.702703%29'%3E%3Cg%3E%3Cpolygon id='%E7%9F%A9%E5%BD%A2' points='0 0 16.6486486 0 16.6486486 16.6486486 0 16.6486486'/%3E%3Cpath d='M8.51184014%2C1.51351351 C9.74762104%2C1.51351351 10.7413396%2C1.86947239 11.4984986%2C2.5867813 C12.2192381%2C3.26747971 12.5794077%2C4.18791304 12.5794077%2C5.33513514 C12.5794077%2C6.16644402 12.3227456%2C6.92636524 11.8200625%2C7.58985813 C11.610791%2C7.85620366 11.1435226%2C8.31012154 10.301287%2C9.0721091 C9.88123076%2C9.43965827 9.64026765%2C9.68981954 9.45260682%2C10.0088405 C9.20204202%2C10.4383801 9.08108108%2C10.8790235 9.08108108%2C11.3702703 L9.08108108%2C11.9189189 C9.08108108%2C12.0234052 8.9963782%2C12.1081081 8.89189189%2C12.1081081 L7.73783784%2C12.1081081 C7.63335153%2C12.1081081 7.54864865%2C12.0234052 7.54864865%2C11.9189189 L7.54864865%2C11.3702703 C7.54864865%2C10.790574 7.66962399%2C10.2512257 7.90693832%2C9.7767514 C8.19559197%2C9.15820787 8.74200451%2C8.52897434 9.62671183%2C7.75541223 C10.1867348%2C7.19538927 10.360664%2C7.01584947 10.4814221%2C6.86493015 C10.8604905%2C6.37755654 11.0469753%2C5.88749195 11.0469753%2C5.37297297 C11.0469753%2C4.61928389 10.8260649%2C4.01840771 10.4023875%2C3.5770202 C9.95791175%2C3.13254445 9.31396079%2C2.91351351 8.45508338%2C2.91351351 C7.49263977%2C2.91351351 6.79156035%2C3.22703972 6.31362613%2C3.8641315 C5.93505298%2C4.33734793 5.72297987%2C4.76274551 5.68268352%2C5.57587633 C5.68041896%2C5.62157255 5.67856523%2C5.71843602 5.67712235%2C5.86646676 C5.67635174%2C5.97036386 5.59184182%2C6.05405405 5.48794214%2C6.05405405 L4.35279655%2C6.05405405 C4.24824112%2C6.05417923 4.16348219%2C5.9694203 4.16348219%2C5.86486486 C4.16348219%2C5.86430992 4.16348463%2C5.86375497 4.16348951%2C5.86320005 C4.16480578%2C5.71352714 4.16649716%2C5.61504892 4.16856368%2C5.5677654 C4.22000737%2C4.39069174 4.57973488%2C3.64404763 5.24745531%2C2.86504727 C6.03567813%2C1.95859102 7.12364537%2C1.51351351 8.51184014%2C1.51351351 Z M7.75675676%2C13.6216216 L8.89189189%2C13.6216216 C8.9963782%2C13.6216216 9.08108108%2C13.7063245 9.08108108%2C13.8108108 L9.08108108%2C14.9459459 C9.08108108%2C15.0504322 8.9963782%2C15.1351351 8.89189189%2C15.1351351 L7.75675676%2C15.1351351 C7.65227045%2C15.1351351 7.56756757%2C15.0504322 7.56756757%2C14.9459459 L7.56756757%2C13.8108108 C7.56756757%2C13.7063245 7.65227045%2C13.6216216 7.75675676%2C13.6216216 Z' id='%EF%BC%9F' fill='%23FFFFFF' fill-rule='nonzero'/%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/svg%3E\");\n  background-repeat: no-repeat;\n}\n.adit-outer-container .m-mention-container .m-mention-box__item_icon_15 {\n  background-image: url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='22px' height='28px' viewBox='0 0 22 28' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3E%3Ctitle%3Eicon_file_slide_nor%3C/title%3E%3Cdesc%3ECreated with Sketch.%3C/desc%3E%3Cdefs%3E%3Cpath d='M1.5%2C0 L15.5857864%2C0 C15.8510029%2C2.8648903e-15 16.1053568%2C0.10535684 16.2928932%2C0.292893219 L21.7071068%2C5.70710678 C21.8946432%2C5.89464316 22%2C6.14899707 22%2C6.41421356 L22%2C26.5 C22%2C27.3284271 21.3284271%2C28 20.5%2C28 L1.5%2C28 C0.671572875%2C28 1.01453063e-16%2C27.3284271 0%2C26.5 L0%2C1.5 C-1.01453063e-16%2C0.671572875 0.671572875%2C1.52179594e-16 1.5%2C0 Z' id='path-1'/%3E%3C/defs%3E%3Cg id='Web-16*16' stroke='none' stroke-width='1' fill='none' fill-rule='evenodd'%3E%3Cg id='Artboard' transform='translate%28-400.000000%2C -2624.000000%29'%3E%3Cg id='icon_file_slide_nor' transform='translate%28400.000000%2C 2624.000000%29'%3E%3Cg id='icon_orange_28'%3E%3Cg%3E%3Cmask id='mask-2' fill='white'%3E%3Cuse xlink:href='%23path-1'/%3E%3C/mask%3E%3Cuse id='Mask' fill='%23FF8800' xlink:href='%23path-1'/%3E%3Cpath d='M16%2C-1 L23%2C6 L17.5%2C6 C16.6715729%2C6 16%2C5.32842712 16%2C4.5 L16%2C-1 Z' id='Rectangle' fill='%23DE7802' mask='url%28%23mask-2%29'/%3E%3C/g%3E%3C/g%3E%3Cg transform='translate%283.000000%2C 9.000000%29'%3E%3Cpolygon id='%E7%9F%A9%E5%BD%A2' points='0 0 16.6486486 0 16.6486486 16.6486486 0 16.6486486'/%3E%3Cpath d='M1.8%2C2 L14.2%2C2 C14.3656854%2C2 14.5%2C2.13431458 14.5%2C2.3 L14.5%2C13.7 C14.5%2C13.8656854 14.3656854%2C14 14.2%2C14 L1.8%2C14 C1.63431458%2C14 1.5%2C13.8656854 1.5%2C13.7 L1.5%2C2.3 C1.5%2C2.13431458 1.63431458%2C2 1.8%2C2 Z M3%2C5 L3%2C11 L13%2C11 L13%2C5 L3%2C5 Z' id='Combined-Shape' fill='%23FFFFFF'/%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/svg%3E\");\n  background-repeat: no-repeat;\n}\n.adit-outer-container .m-mention-container .m-mention-box__item_icon_no-select {\n  display: none;\n}\n.adit-outer-container .m-mention-container .m-mention-box__item.active {\n  background-color: #eff0f1;\n}\n.adit-outer-container .m-mention-container .m-mention-box .m-mention-box__no_ret {\n  height: 48px;\n  color: #8f959e;\n  font-size: 14px;\n  text-align: center;\n  line-height: 48px;\n  color: #1f2329;\n}\n.adit-outer-container .lark-notification-wrap {\n  height: 52px;\n  min-height: 52px;\n  font-size: 12px;\n}\n.adit-outer-container .lark-notification-wrap:not(:empty) {\n  border-top: 1px solid #f8f9fa;\n}\n.adit-outer-container .lark-notification-wrap .lark-notification-confirm {\n  padding: 9px 16px 1px;\n}\n.adit-outer-container .lark-notification-wrap .lark-notification-confirm .lark-notification-additional-settings {\n  height: 32px;\n}\n.adit-outer-container .lark-notification-wrap .lark-notification-confirm .lark-notification-additional-settings span {\n  user-select: none;\n  color: #646a73;\n}\n.adit-outer-container .lark-notification-wrap .lark-notification-confirm .lark-notification-additional-settings span.lark-notification-setting-text {\n  margin-left: 8px;\n}\n.adit-outer-container .lark-notification-wrap .lark-notification-confirm-btn {\n  min-width: 60px;\n  padding: 0 10px;\n  height: 32px;\n  border-radius: 4px;\n  font-size: 14px;\n  background-color: #3370ff;\n  color: #fff;\n  margin-left: auto;\n  transition: opacity 0.3s cubic-bezier(0.645, 0.045, 0.355, 1);\n}\n.adit-outer-container .lark-notification-wrap .lark-notification-confirm-btn[disabled] {\n  cursor: not-allowed;\n  opacity: 0.3;\n}\n.adit-outer-container .lark-notification-wrap .lark-notification-confirm-btn:not([disabled]):hover {\n  background-color: #3370ff;\n}\n.adit-outer-container .m-mention-container .m-mention-nodata {\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background-color: #fff;\n}\n.adit-outer-container .m-mention-container .m-mention-nodata img {\n  margin-left: 15px;\n  width: 30px;\n}\n.adit-outer-container .m-mention-container .m-mention-nodata__desc {\n  padding: 10px 15px;\n  font-size: 14px;\n  color: #8f959e;\n}\n.adit-outer-container .m-mention-container.comment .m-mention-nodata {\n  flex-direction: row;\n}\n.adit-outer-container .m-mention-container.comment .m-mention-nodata img {\n  width: 22px;\n  margin-right: 5px;\n}\n.adit-outer-container .m-mention-container.comment .m-mention-nodata__desc {\n  padding-top: 0;\n}\n",{className:"adit-style"});var xa=-1,La=(Ra.prototype.bindEvent=function(){document.addEventListener("click",this.handleClose,!1),W()(document).on("keydown",this.handleKeyEvents),W()(document).on("keyup",this.handleKeyUp)},Ra.prototype.search=function(){var e,t=this,n=this.state,r=n.keywords,i=n.activeAside,o=n.boxType,a=n.source,s=void 0===a?"":a,c=n.token,u={content:r,source:s,token:void 0===c?"":c,type:""},l=this.registerMentionsInfo[i];l&&"doc"===o?u.type=l.type.split("-").map(function(e){return Co[e]}).join(","):(e=[Co.USER],u.type=e.join(",")),r&&(this.fetchType="search",this.state.keywords="");var d="preLoading",p="loading";"init"===this.fetchType?(this.state.fetchState=p,this.state.shouldShowStaticBox=!1,this.render()):(this.state.fetchState=d,this.state.shouldShowStaticBox=!1,this.delayLoading&&clearTimeout(this.delayLoading),this.delayLoading=setTimeout(function(){t.state.fetchState===d&&(t.state.fetchState=p,t.render())},300));var f=function(e){t.setFetchResult(e,t.fetchType),t.doms.mentionBox&&(t.doms.mentionBox.scrollTop=0)};Ia(this.externalSearchFun,u,f)},Ra.prototype.removeEvent=function(){document.removeEventListener("click",this.handleClose,!1),W()(document).off("keydown",this.handleKeyEvents),W()(document).off("keyup",this.handleKeyUp)},Ra.prototype.getIsVisible=function(){return this.visible},Ra.prototype.showBox=function(e){var t,n,r=e.style,i=e.onAsideClick,o=e.onClose,a=e.onConfirm,s=e.mentionBoxProps;this.state.style=r,this.state.onAsideClick=i,this.state.uuid=s.uuid,this.state.onClose=o,this.state.onConfirm=a,"0"!==this.adit.getCurrentSelection().zoneId&&(this.registerMentionsInfo=this.registerMentionsInfo.filter(function(e){return!ko.includes(e.type)})),this.mount(),null!==(n=(t=this.options).onBoxVisibleChange)&&void 0!==n&&n.call(t,!0)},Ra.prototype.scrollAsideIfNecessary=function(e,t){for(var n=e.children,r=n[t],i=this.getDomHeight(r),o=W()(r).position().top,a=this.getDomHeight(e),s=e.scrollTop,c=!0,u=0;u<t;u++)if(!Array.from(n[u].classList).includes("no-select")){c=!1;break}if(c)e.scrollTop=0;else if(o<0)e.scrollTop=s+o;else if(a<o+i){for(var l=!0,u=t+1;u<n.length;u++)if(!Array.from(n[u].classList).includes("no-select")){l=!1;break}l?e.scrollTop=e.scrollHeight:e.scrollTop=o+3*i/2+s-a}},Ra);function Ra(e,t){var n,r,x=this;this.adit=e,this.options=t,this.visible=!1,this.mentionBoxNode=null,this.mentionBoxNodeRelease=null,this.mounted=!1,this.doms={},this.delayLoading=null,this.fetchType="init",this.notificationTypes=new Map,this.canSelectedAsideIndex=[],this.registerMentionsInfo=[],this.handleKeyUp=function(){x.isDoubleSpace()&&x.close()},this.isDoubleSpace=function(){var e=x.state.keywords;return/\s{2,}/.test(e)},this.setFetchResult=function(e,t){var n,r,i,o,a=e.code,s=e.message;x.mounted&&(x.state.fetchState="loaded",a||(n=Object(K.default)(e,"data.result_list")||[],r=Object(K.default)(e,"data.entities.users")||{},i=Object(K.default)(e,"data.uuid")||"",o=-1===x.state.keyboardActiveAside?0:-1,x.state.list=n,x.state.users=r,x.state.type=t,x.state.mentionUuid=i,x.state.activeIndex=o,x.state.message=s,x.render()))},this.handleCheckBoxClick=function(){var e=x.state.shouldNotify;x.state.shouldNotify=!e,x.render()},this.handleKeyEvents=function(e){var t=e.keyCode,n=x.state.activeIndex,r=Ao.RETURN,i=Ao.UP,o=Ao.DOWN,a=Ao.ESC,s=Ao.LEFT,c=Ao.RIGHT;t===r?(e.preventDefault(),e.stopImmediatePropagation(),n!==xa&&x.handleConfirm(n,e)):t===o?(x.isFocusOnAside()?x.moveActiveAside("down"):x.moveActiveIndex("down"),e.preventDefault(),e.stopImmediatePropagation()):t===i?(x.isFocusOnAside()?x.moveActiveAside("up"):x.moveActiveIndex("up"),e.preventDefault(),e.stopImmediatePropagation()):t===s?(x.moveKeyboardFocus("left"),e.preventDefault(),e.stopImmediatePropagation()):t===c?(x.moveKeyboardFocus("right"),e.preventDefault(),e.stopImmediatePropagation()):t===a&&x.close()},this.moveKeyboardFocus=function(e){var t,n,r=x.state,i=r.keyboardActiveAside,o=r.activeIndex,a=r.activeAside,s=x.registerMentionsInfo[a].noList;if("left"===e&&i===xa&&o!==xa)t=a,n=xa;else{if("right"!==e||i===xa||o!==xa||s)return;t=xa,n=0,x.setScrollIfNecessary(n)}x.state.keyboardActiveAside=t,x.state.activeIndex=n,x.render()},this.moveActiveIndex=function(e){var t;"loading"!==x.state.fetchState&&x.doms.mentionBox&&Object(K.default)(x.doms,"mentionBox.children.length")&&(t=x.getNextActiveIndex(e),x.setScrollIfNecessary(t),x.state.activeIndex=t,x.render())},this.setScrollIfNecessary=function(e){var t,n,r,i,o,a,s,c=x.doms.mentionBox;c&&c.children&&((t=c.children[e])&&(n=0,r=x.getDomHeight(t),i=W()(t).position().top-n,o=c.scrollTop,a=i+r,s=x.getDomHeight(c),parseInt(String(a))>parseInt(String(s))?c.scrollTop=a+o-s:parseInt(String(i))<0&&(c.scrollTop=o+i)))},this.getNextActiveIndex=function(e){var t=x.state,n=t.list,r=t.activeIndex,i=[];Object(S.a)(n,function(e,t){e.type!==Oo.NOT_SELECTABLE_TYPE&&i.push(t)});var o=Object(c.a)(i,function(e){return e===r}),a=i.length-1,s=i[0]||0;return"down"===e?a<o+1?s:i[o+1]:o-1<0?i[a]:i[o-1]},this.moveActiveAside=function(e){var t=x.getNextActiveAside(e),n=x.registerMentionsInfo[t].type;x.scrollAsideIfNecessary(x.doms.aside,t),x.state.keyboardActiveAside=t,x.state.activeAside=t,x.state.activeMentionType=n,x.render()},this.getNextActiveAside=function(e){var t=x.state.activeAside,n=Object(c.a)(x.canSelectedAsideIndex,function(e){return e===t});if(n<=-1)return t;var r=x.canSelectedAsideIndex.length,i="up"===e?0<=n-1?n-1:r-1:n+1<r?n+1:0;return x.canSelectedAsideIndex[i]},this.isFocusOnAside=function(){var e=x.state,t=e.activeAside,n=e.activeIndex;return 0<=t&&n===xa},this.mentionBoxDidMounted=function(){x.bindEvent(),x.fetchType="init",x.search()},this.mount=function(){x.mentionBoxUnMount(),x.render(),x.mounted&&x.mentionBoxDidMounted()},this.render=function(){var e,t,n=null===(t=null===(e=x.doms)||void 0===e?void 0:e.mentionBox)||void 0===t?void 0:t.scrollTop;x.mentionBoxUnMount();var r=x.state,i=r.boxType,o=r.activeAside,a=r.activeIndex,s=r.style,c=r.activeMentionType,u=r.keyboardActiveAside,l=r.list,d=r.subMenu,p=r.message,f=r.fetchState,h=r.shouldNotify,g=x.options.boxStyle&&x.options.boxStyle.asideSize||Po,m=x.options.boxStyle&&x.options.boxStyle.width||Mo,v=m,y=g+m;window.innerWidth<y&&(v=(y=window.innerWidth)-g);var b=So.ASIDE,E=So.TYPE,_=-1<b.indexOf(c)&&u===xa,C=-1<b.indexOf(c)&&-1<E.indexOf(l[a]&&l[a].type)&&x.notify,T=x.options.boxStyle,O={left:(T&&T.left?T:s).left+"px",top:(T&&T.top?T:s).top+"px",bottom:(T&&T.bottom?T:s).bottom+"px",right:(T&&T.right?T:s).right+"px",height:(T&&T.height?T.height:360)+"px"},k=2<x.registerMentionsInfo.length,S=Object(D.t)("section",{className:"m-mention-container layout-row comment-ignore-blur mention-"+i+" at-mention",style:O,ref:function(e){x.doms.container=e}},[ka({hasAside:k,style:s,activeAside:o,keyboardActiveAside:u,domsObject:x.doms,handleAsideClick:x.handleAsideClick,registerMentionsInfo:x.registerMentionsInfo}),Sa({i18n:x.adit.i18n,list:l,subMenu:d,message:p,activeIndex:a,fetchState:f,shouldNotify:h,rightPanelWidth:""+v,showCheckBox:C,activeMentionType:c,fetchType:x.fetchType,domsObject:x.doms,shouldShowNotification:_,handleConfirm:x.handleConfirm,handleScroll:x.handleScroll,onToggleCheckbox:x.handleCheckBoxClick,settingText:x.adit.i18n["mention.notification"]})]),w=S.element,I=S.release;W()(w).appendTo(x.root),x.mentionBoxNode=w,x.mentionBoxNode&&(x.visible=!0,x.mounted=!0),x.mentionBoxNodeRelease=I,"number"==typeof n&&0!==n&&(x.doms.mentionBox.scrollTop=n)},this.getDomHeight=function(e){return e?e.getBoundingClientRect().height:0},this.mentionBoxUnMount=function(){x.mounted&&x.visible&&x.mentionBoxNode&&(x.root.removeChild(x.mentionBoxNode),x.mentionBoxNodeRelease&&x.mentionBoxNodeRelease(),x.visible=!1,x.mounted=!1)},this.handleScroll=function(e){var t=e.deltaY,n=e.currentTarget,r=n.scrollHeight,i=n.scrollTop,o=i+x.getDomHeight(n)>=r&&0<t;(0===i&&t<0||o)&&(e.preventDefault(),e.stopPropagation())},this.handleConfirm=function(e,t,n){var r,i;void 0===n&&(n=!1);var o=Object(K.default)(t,"nativeEvent");t&&t.preventDefault&&t.preventDefault(),o&&o.stopImmediatePropagation();var a=x.state,s=a.list,c=a.users,u=a.activeIndex,l=a.shouldNotify,d=a.mentionUuid,p=a.activeMentionType,f=a.onConfirm;if(e!==u)return x.handleFocus(e);var h=s[e];if(!h){var g=x.state.onClose;return g&&g(),void(null!==(i=(r=x.options).onBoxVisibleChange)&&void 0!==i&&i.call(r,!1))}var m,v,y,b=!1;return 0===h.type&&(m=c[h.token],v=M.BlockType.AT_USER_BLOCK,h.dataSet=Object(M.generateBlockDataSet)({blockType:v,creator:Object(M.getBlockCreator)(v,x.adit.getEditor()),props:{data:{mentionNotify:l,user:Object(E.a)(m,["avatar_url","cn_name","en_name","id","name","type"])}}}),l&&!b&&(!x.notificationTypes.has("USER")||(y=x.notificationTypes.get("USER").metionNotify)&&y(h))),x.state.activeIndex=e,x.render(),f&&f({data:ce(ce({},h),{mentionType:p,shouldNotifyLark:l&&!b}),mentionUuid:d,fromNotification:n,isClick:t&&"click"===t.type}),!1},this.handleFocus=function(e){x.state.activeIndex=e,x.state.keyboardActiveAside=-1,x.render()},this.handleAsideClick=function(e,t){var n=e.type,r=x.state,i=r.activeAside,o=r.onAsideClick;n!==Oo.NOT_SELECTABLE_TYPE&&i!==t&&(o&&o(),x.scrollAsideIfNecessary(x.doms.aside,t),x.state.activeAside=t,x.state.activeMentionType=n,x.state.keyboardActiveAside=-1,x.state.activeIndex=0,x.render())},this.update=function(e){var t=e.activeAside,n=e.keywords,r=e.style,i=x.state,o=i.activeAside,a=i.keywords,s=i.style;(t||n)&&(o!==t&&void 0!==t&&(x.state.activeAside=t),a!==n&&void 0!==n&&(x.state.keywords=n),x.search()),r&&(s!==r&&(x.state.style=r),x.render())},this.isFocusOnThisMention=function(){var e=getSelection(),t=Object(K.default)(e,"focusNode.parentNode"),n=Ro+x.state.uuid;return t&&new RegExp(n).test(t.className)},this.handleClose=function(e){x.doms.container&&(x.doms.container.contains(e.target)||x.isFocusOnThisMention()||(x.close(),e.preventDefault()))},this.close=function(){var e,t;x.state.onClose&&x.state.onClose(),x.visible&&(x.removeEvent(),x.mentionBoxUnMount(),null!==(t=(e=x.options).onBoxVisibleChange)&&void 0!==t&&t.call(e,!1))},this.notify=this.options.notify||!1,this.externalSearchFun=this.options.search,this.state={style:null,keywords:"",uuid:"",list:[],users:[],type:"",fetchState:"init",activeAside:1,activeIndex:0,keyboardActiveAside:-1,shouldShowStaticBox:!1,subMenuVisible:!1,mentionUuid:"",boxType:this.options.type||"DocSDK",activeMentionType:Oo.ALL,shouldNotify:this.notify||!1,source:this.options.source||"DocSDK",container:this.options.container||"adit-doc-position",subMenu:{style:{},arrowStyle:{},visible:!1}},this.registerMentionsInfo.push({type:Oo.NOT_SELECTABLE_TYPE,content:e.i18n["mention.mentioned"]});try{for(var i=de(t.types),o=i.next();!o.done;o=i.next()){var a=o.value;this.registerMentionsInfo.push(a),a.notify&&this.notificationTypes.set(a.type,a)}}catch(e){n={error:e}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}this.registerMentionsInfo.forEach(function(e,t){e.type===Oo.NOT_SELECTABLE_TYPE&&x.canSelectedAsideIndex.push(t)}),this.innerBody=this.adit.getHost(!0),1===this.state.container.nodeType?(this.root=document.createElement("div"),this.root.classList.add("adit-outer-container"),this.state.container.appendChild(this.root),this.removeRootCb=function(){x.state.container.removeChild(x.root)}):(this.root=document.createElement("div"),this.root.classList.add(this.state.container),this.innerBody.parentNode&&this.innerBody.parentNode.insertBefore(this.root,this.innerBody))}var Na,Da,Ma,Pa,ja,Fa,Ba,Ua,Ha,za,Va,Ka=N.Scroll.scrollSelectionIntoView,Ga=(Wa.prototype.atFinder=function(e,t){var n=e.keyword,r=e.show,i=e.token;J.call("biz.util.atfinder",{id:"atfinder",source:"0",show:r,token:i,type:"0",content:n,callback:t},t)},Wa.prototype.notify=function(){},Wa);function Wa(e,t){var k=this;this.adit=e,this.options=t,this.isVisible=!1,this.uuid="",this.context=null,this.tempId="",this.getIsVisible=function(){return k.isVisible},this.show=function(e,t){var n,r,i,o,a,s,c,u,l=k.uuid,d=k.context,p=k.editor;d&&(k.isVisible=!0,n=d.event&&d.event.type,r=""+Ro+l,i=k.editor.getRep(),o=k.adit.getCurrentSelection(),a=i.attributeManager.author,c=t?(s=t.selStart[0],t.selStart[1]):(s=o.selStart[0],o.selStart[1]-1),u=ga(Do,p),n===Io?p.inCallStackIfNecessary("iosCompositionEnd",function(){p.fastIncorp(),p.performDocumentReplaceRangeWithAttributes(i.zoneId,[s,c],i.selEnd,"@",fe([["author",a],["at-holder","true"],[r,"true"]],u))}):(p.fastIncorp(),p.performDocumentReplaceRangeWithAttributes(i.zoneId,[s,c],i.selEnd,"@",fe([["author",a],["at-holder","true"],[r,"true"]],u))),k.atFinder({keyword:e,show:No.SHOW,token:""},k.showCallback))},this.update=function(e){var t=k.editor;t&&t.getInInternationalComposition()&&(e=(e||"").replace(/\s+/g,"")),k.atFinder({keyword:e,show:No.SHOW,token:""},k.showCallback)},this.hide=function(){k.atFinder({keyword:"",show:No.HIDE,token:""},k.showCallback),k.isVisible=!1},this.close=function(){k.atFinder({keyword:"",show:No.HIDE,token:""}),k.isVisible=!1},this.setContext=function(e){k.context=Object(V.a)(k.context,e)},this.setUuid=function(e){k.uuid=e},this.setVisible=function(e){k.isVisible=e},this.showCallback=function(e){var t=e.data;if(e.canceled)return k.isVisible=!1,void(k.uuid="");var E,_=k.uuid,C=k.editor,T=C.getRep(),O=T.attributeManager.author,n=t.result_list;Object(L.default)(t)?k.close():(C.updateBrowserSelectionFromRep(!0),E=W()("."+Ro+_),k.close(),E.length&&(C.isEditable()||C.setEditable(!0),Object(S.a)(n,function(e,t){var n,r,i,o=e.content,a=e.token,s=e.url,c=parseInt(e.type),u=k.i18Content(window.decodeURIComponent(window.escape(window.atob(o))),c),l=null,d=""+Ro+_;if(0===Number(t)){if(C.inCallStackIfNecessary("mentionFastIncrop",function(){C.fastIncorp(!0)}),E=W()("."+d),!(l=C.domToRep(E.get(0))))return;f=l.selStart,h=l.selEnd}else var p=T.zoneId,f=[(l=T).selStart[0],l.selStart[1],p],h=[l.selEnd[0],l.selEnd[1],p];k.tempId=Qt();var g=" ",m=[["author",O],["at-holder",0],[d,0],["mention-type_"+c,!0],["mention-link_"+encodeURIComponent(s),!0]],v=ga(Do,C),m=(c===Co.USER?(m.push(["mention-tempId_"+k.tempId,!0]),g="@"+u,m.push(["mention-token_"+a,!0])):(m.push(["mention-token_"+a,!0]),g=u),m.concat(v));ha(C,f,h,g,m,!0);var y=[f[0],f[1]+g.length],b=fe([["author",O]],v);fa(C,y,y,b),C.updateBrowserSelectionFromRep(!0),W()(".mention-type_"+Co.USER+".mention-token_"+a).off("click",k.handleMentionClick).on("click",{token:a},k.handleMentionClick),null!==(i=null===(n=k.options)||void 0===n?void 0:(r=n).onConfirm)&&void 0!==i&&i.call(r,e),setTimeout(function(){Ka(C)},150)})))},this.handleMentionClick=function(e){var t,n,r,i=e.data.token;null!==(r=null===(t=k.options)||void 0===t?void 0:(n=t).onMentionClick)&&void 0!==r&&r.call(n,e.data),J.call("biz.util.showProfile",{userId:i})},this.unbindMentionClick=function(){W()("mention-type_"+Co.USER).off("click",k.handleMentionClick)},this.i18Content=function(e,t){return e||""},this.editor=e.getEditor()}(Ma=Da=Da||{}).FOLDER="folder",Ma.SHARE_FOLDERS="share-folders",Ma.SHARE_FILES="share-files",Ma.DOC="doc",Ma.SHEET="sheet",Ma.BITABLE="bitable",Ma.MINDNOTE="mindnote",Ma.IMPORT="import",Ma.FILE="file",Ma.SLIDE="slide",(ja=Pa=Pa||{})[ja.DOC=2]="DOC",ja[ja.SHEET=3]="SHEET",ja[ja.BITABLE=8]="BITABLE",ja[ja.MINDNOTE=11]="MINDNOTE",ja[ja.FILE=12]="FILE",ja[ja.SLIDE=15]="SLIDE",(Ba=Fa=Fa||{})[Ba.FOLDER=0]="FOLDER",Ba[Ba.SHARE_FOLDER=6]="SHARE_FOLDER",Ba[Ba.SHARE_FOLDER_LINK=7]="SHARE_FOLDER_LINK",(Ha=Ua=Ua||{})[Ha.ALL=101]="ALL",Ha[Ha.DOC=102]="DOC",Ha[Ha.SHEET=103]="SHEET",(Va=za=za||{})[Va.BITABLE=8]="BITABLE",Va[Va.BY_TEMPLATE=101]="BY_TEMPLATE",Va[Va.DOC=2]="DOC",Va[Va.FILE=12]="FILE",Va[Va.FOLDER=0]="FOLDER",Va[Va.MINDNOTE=11]="MINDNOTE",Va[Va.SHARE_FOLDER=6]="SHARE_FOLDER",Va[Va.SHARE_FOLDER_LINK=7]="SHARE_FOLDER_LINK",Va[Va.SHEET=3]="SHEET",Va[Va.SLIDE=15]="SLIDE";(Na={})[Da.FOLDER]=za.FOLDER,Na[Da.DOC]=za.DOC,Na[Da.SHEET]=za.SHEET,Na[Da.SLIDE]=za.SLIDE,Na[Da.BITABLE]=za.BITABLE,Na[Da.MINDNOTE]=za.MINDNOTE,Na[Da.FILE]=za.FILE,Na[Da.SLIDE]=za.SLIDE;var Ya,qa,Za={USER:0,FILE:1,FOLDER:2,SHEET:3,SHEET_DOC:4,CHAT:5,GROUP:6,BLOCK:7,BITABLE:8,TABLE:9,INLINE_BLOCK:10,MINDNOTE:11,BOX:12,SLIDE:15,WIKI:16};(qa=Ya=Ya||{}).BMP="bmp",qa.GIF="gif",qa.ICO="ico",qa.JPEG="jpeg",qa.JPG="jpg",qa.PNG="png",qa.RAW="raw",qa.SVG="svg",qa.TIF="tif",qa.TIFF="tiff",qa.WEBP="webp",qa.SKETCH="sketch",qa.HEIC="heic",qa.A3GP="3gp",qa.A3GPP="3gpp",qa.A3GPP2="3gpp2",qa.ASF="asf",qa.AVI="avi",qa.DV="dv",qa.F4V="f4v",qa.FLV="flv",qa.M2T="m2t",qa.M4V="m4v",qa.MKV="mkv",qa.MOV="mov",qa.MP4="mp4",qa.MPE="mpe",qa.MPEG="mpeg",qa.MPG="mpg",qa.MTS="mts",qa.OGV="ogv",qa.RM="rm",qa.RMVB="rmvb",qa.VOB="vob",qa.WEBM="webm",qa.WMV="wmv",qa.AAC="aac",qa.AMR="amr",qa.AU="au",qa.CDA="cda",qa.FLAC="flac",qa.M4A="m4a",qa.MP3="mp3",qa.OGA="oga",qa.OGG="ogg",qa.WAV="wav",qa.WMA="wma",qa.PDF="pdf",qa.RTF="rtf",qa.TXT="txt",qa.DOC="doc",qa.DOCX="docx",qa.DOTX="dotx",qa.DOT="dot",qa.DOTM="dotm",qa.XLS="xls",qa.XLSX="xlsx",qa.XLSM="xlsm",qa.XLM="xlm",qa.XLSB="xlsb",qa.CSV="csv",qa.PPT="ppt",qa.PPTX="pptx",qa.PPS="pps",qa.PPSX="ppsx",qa.POTX="potx",qa.POT="pot",qa.PPTM="pptm",qa.POTM="potm",qa.PPSM="ppsm",qa.KEY="key",qa.PAGES="pages",qa.NUMBER="number",qa.A7Z="7z",qa.RAR="rar",qa.TAR="tar",qa.GZ="gz",qa.ZIP="zip",qa.APK="apk",qa.AE="aep",qa.AI="ai",qa.PSD="psd",qa.C="c",qa.H="h",qa.M="m",qa.CPP="cpp",qa.SWIFT="swift",qa.HTML="html",qa.CSS="css",qa.JS="js",qa.JAVA="java",qa.PY="py",qa.PHP="php",qa.XML="xml",qa.MD="md",qa.GO="go",qa.RB="rb",qa.CS="cs",qa.SH="sh",qa.BASH="bash",qa.SQL="sql",qa.SCSS="scss",qa.LESS="less",qa.TS="ts",qa.TSX="tsx",qa.JSX="jsx",qa.LOG="log",qa.EJS="ejs",qa.JSP="jsp",qa.KT="kt",qa.VUE="vue",qa.R="r",qa.SCALA="scala",qa.PL="pl",qa.HS="hs",qa.LUA="lua",qa.DART="dart",qa.CONF="conf",qa.COFFEE="coffee",qa.RS="rs",qa.JSON="json";var Xa=[Ya.AAC,Ya.AMR,Ya.AU,Ya.CDA,Ya.FLAC,Ya.M4A,Ya.MP3,Ya.OGA,Ya.OGG,Ya.WAV,Ya.WMA],Qa=[Ya.ZIP,Ya.A7Z,Ya.RAR,Ya.TAR,Ya.GZ],Ja=Object.values(Ya),$a=fe(Xa,Qa),es={horizontalAlign:"left",boxWidth:540,boxMaxHeight:390,boxMinHeight:350};function ts(e,t){var n=new RegExp(t+"_([^\\s]+)"),r=e.match(n);return r&&r[1]||""}function ns(e){var t=e.left,n=e.top,r=e.bottom,i={left:t,height:e.height,top:void 0,bottom:void 0};return void 0!==r?i.bottom=r:i.top=n,i}function rs(e,t,n){var r,i;if(!e.getClientRects)return is(e.getBoundingClientRect(),n);var o=e.getClientRects();if(1===o.length)return is(o[0],n);if(!t)return is(o[o.length-1],n);var a=e.className,s=parseInt(ts(a,"mention-type"));try{for(var c=de(Array.from(o)),u=c.next();!u.done;u=c.next()){var l=is(u.value,n),d=l.top,p=l.top+l.height;if(d<=t&&t<=p||s===Za.USER&&d-2<=t&&t<=p+2)return l}}catch(e){r={error:e}}finally{try{u&&!u.done&&(i=c.return)&&i.call(c)}finally{if(r)throw r.error}}return null}function is(e,t){return{top:(e.top||0)*t,bottom:(e.bottom||0)*t,left:(e.left||0)*t,right:(e.right||0)*t,height:(e.height||0)*t,width:(e.width||0)*t,x:(e.x||0)*t,y:(e.y||0)*t}}function os(e,t){if(!e)return null;var n=W()(e),r=(t=Object(V.a)({},es,t)).horizontalAlign,i=t.boxWidth,o=void 0===i?es.boxWidth:i,a=t.boxMaxHeight,s=t.boxMinHeight,c=t.upFirst,u=void 0!==c&&c,l=t.mouseY,d=t.zoom,p=void 0===d?1:d,f=t.coverNavBar,h=void 0!==f&&f,g=t.boundaryContainer,m=t.boxContainer,v=void 0===m?W()(".adit-doc-position").get(0):m,y=W()(v);v||(y=W()(".adit-outer-container"));var b=y.offset(),E=y.outerHeight(),_=0,C=0,T=W()(g).offset(),O=rs(n.get(0),l,p);if(!O)return null;var k,S,w,I=window.innerWidth,x=window.innerHeight,L=parseInt(getComputedStyle(n.get(0))["line-height"])||18,R=O.width,N=O.height,D=O.top,M=O.left,P=b.top,j=b.left,F=D+L-P,B=x-D-N,U=h?D-_-T.top:D-_-C-T.top,H=I-M-("center"===r?R/2:R),z=0;return"left"===r?(z=M+R-j,H<o&&(z-=o)):"center"===r&&(z=M+R/2-o/2-j,w=-j,z=Math.max(z,w),H<o/2&&(z-=o/2)),z=Math.max(z,T.left-j),u?(k=-D+P+E,F=void 0,U<a&&a<B&&(k=void 0,F=D+L-P)):a<U&&B<a&&(k=-D+P+E,F=void 0),B<a&&U<a&&(s<U?(k=-D+P+E,S=U,F=void 0):S=Math.max(B-10,s)),a===s&&(S=a),{left:z,bottom:k,top:F,height:S}}function as(e){var t=String(e).split(".").pop();return t&&t!==e?t.toLowerCase():""}function ss(e){return Boolean($a.includes(e)||!Ja.includes(e))}he(".adit-doc-position .adit-mention-popover {\n  position: absolute;\n  width: 280px;\n  min-height: 300px;\n  border-radius: 4px;\n  background-color: #fff;\n  box-shadow: 0 3px 12px 2px rgba(67, 74, 84, 0.12);\n  border: solid 1px #dee0e3;\n  z-index: 2061;\n}\n.adit-doc-position .adit-mention-popover.doc.profile {\n  width: 322px;\n}\n.adit-doc-position .adit-mention-popover .popover-loading {\n  position: absolute;\n  height: 100%;\n  left: 0;\n  width: 100%;\n}\n.adit-doc-position .adit-mention-popover.comment {\n  height: 48px;\n  min-height: 48px;\n  width: 240px;\n  border: none;\n  background-color: #fff;\n}\n.adit-doc-position .adit-mention-popover .m-mention-container {\n  box-shadow: 0 0 0 0;\n  border: none;\n}\n.adit-doc-position .popover-fade-enter {\n  opacity: 0;\n}\n.adit-doc-position .popover-fade-enter.popover-fade-enter-active {\n  opacity: 1;\n  transition: opacity 300ms ease-in-out;\n}\n.adit-doc-position .popover-fade-exit {\n  opacity: 1;\n}\n.adit-doc-position .popover-fade-exit.popover-fade-exit-active {\n  opacity: 0;\n  transition: opacity 300ms ease-in-out;\n}\n",{className:"adit-style"}),he(".adit-doc-position .adit-mention-pop__shortcut {\n  padding: 20px 20px 0 20px;\n  overflow: hidden;\n  text-align: center;\n}\n.adit-doc-position .adit-mention-pop__shortcut > img {\n  max-width: 320px;\n  max-height: 320px;\n}\n.adit-doc-position .adit-mention-pop__time {\n  height: 32px;\n  line-height: 32px;\n  margin-top: 4px;\n  padding: 0 12px;\n  color: #8f959e;\n  font-size: 12px;\n  background-color: #f5f6f7;\n  border-bottom-left-radius: 4px;\n  border-bottom-right-radius: 4px;\n}\n.adit-doc-position .sheet .adit-mention-pop__time {\n  padding: 0 14px;\n}\n.adit-doc-position .short-cut__error {\n  height: 48px;\n  color: #1f2329;\n}\n.adit-doc-position .short-cut__icon {\n  padding: 0 12px 0 16px;\n}\n.adit-doc-position .short-cut__msg {\n  font-size: 14px;\n}\n.adit-doc-position .short-cut__notPreviewable {\n  position: relative;\n  width: 100%;\n  height: 180px;\n  overflow: hidden;\n}\n.adit-doc-position .short-cut__img {\n  width: 100%;\n  height: 100%;\n}\n.adit-doc-position .adit-mention-popover.doc {\n  height: auto !important;\n  min-height: 48px;\n}\n.adit-doc-position .adit-mention-popover.comment .m-mention-box__item_main {\n  white-space: nowrap;\n  text-overflow: ellipsis;\n}\n.adit-doc-position .adit-mention-popover.docs .adit-mention-pop__shortcut {\n  padding: 20px 12px 0 12px;\n}\n.adit-doc-position .adit-mention-popover.sheet .adit-mention-pop__shortcut {\n  padding: 20px 14px 0 14px;\n}\n.adit-doc-position .adit-mention-popover.docs.shortcut {\n  width: 344px;\n}\n.adit-doc-position .adit-mention-popover.sheet.shortcut {\n  width: 348px;\n}\n",{className:"adit-style"});var cs,us=(oe(ls,cs=P.PureComponent),ls.prototype.render=function(){var t=this,e=this.props,n=e.style,r=e.className;return Object(P.createElement)("div",null,Object(P.createElement)("section",{className:r+" adit-mention-popover comment-ignore-blur",style:n,onMouseOver:this.handleMouseOver,onMouseOut:this.handleMouseOut,ref:function(e){t.popoverRef=e}},Object(P.createElement)("section",{className:"adit-mention-pop"})))},ls);function ls(){var t=null!==cs&&cs.apply(this,arguments)||this;return t.isPopOverShow=!1,t.popoverRef=null,t.handleMouseOut=function(e){t.popoverRef&&t.popoverRef.contains(e.nativeEvent.toElement)||(t.props.onMouseLeave(),t.isPopOverShow=!1)},t.handleMouseOver=function(){t.isPopOverShow||t.props.onMouseEnter()},t}var ds,ps=100,fs=500,hs=(oe(gs,ds=P.PureComponent),gs.prototype.render=function(){return this.props.children(this.delayShowPopOver,this.hidePopover)},gs);function gs(){var M=null!==ds&&ds.apply(this,arguments)||this;return M.hoverTimeout=null,M.delayShowPopOverTimeout=null,M.popOver=!1,M.$popOverTarget=null,M.delayShowPopOver=function(e){var t;M.props.isMouseMoved()&&(e.persist(),t={currentTarget:e.currentTarget,target:e.target,clientX:e.clientX,clientY:e.clientY},M.delayShowPopOverTimeout=window.setTimeout(function(){M.showPopover(t)},fs))},M.showPopover=function(e){var t=e.currentTarget,n=e.target,r=e.clientX,i=e.clientY;if(!M.popOver){var o=W()(t);if(o.parents("body").length){var a=M.props,s=a.getContainer,c=a.getBoundaryContainer,u=a.onShowPopOver,l=a.beforeShowPopover;if(s&&(!l||!1!==l(n))){var d=s(),p=o.prop("className"),f=parseInt(ts(p,"mention-type")),h=ts(p,"mention-token")||o.attr("token")||o.data("token"),g=Za.USER,m=Za.FILE,v=Za.SHEET,y=Za.BITABLE,b=Za.MINDNOTE,E=Za.BOX,_=Za.SLIDE;M.hoverTimeout&&clearTimeout(M.hoverTimeout),M.$popOverTarget=o;var C=320,T=500,O=T,k="doc",S=f===m;!S&&f!==v&&f!==y&&f!==b&&f!==E&&f!==_||(k+=" shortcut",k+=S?" docs":" sheet",T=O=378,C=S?344:348),f===g&&(k+=" profile");var w=W()(s()),I=r,x=i,L=c?c():document.body,R=ns(os(o,{horizontalAlign:"center",boxWidth:C,boxMaxHeight:O,boxMinHeight:T,mouseX:I,mouseY:x,boxContainer:w.get(0),zoom:1,coverNavBar:g===f,boundaryContainer:L}));if(f===E)if(ss(as(o.get(0).innerText)))return;var N={className:k,style:R};Object($.render)(Object(P.createElement)(us,ce({},N,{onMouseEnter:M.clearHideTimeout,onMouseLeave:M.hidePopover})),d),M.popOver=!0;var D=W()(d).find("section.adit-mention-pop");u(W()(n),D,{type:f,token:h})}}}},M.closePopOver=function(){var e;M.popOver&&(e=M.props.getContainer,Object($.unmountComponentAtNode)(e()),M.popOver=!1)},M.clearHideTimeout=function(){M.hoverTimeout&&clearTimeout(M.hoverTimeout)},M.hidePopover=function(){M.delayShowPopOverTimeout&&clearTimeout(M.delayShowPopOverTimeout),M.popOver&&M.$popOverTarget&&(M.hoverTimeout&&clearTimeout(M.hoverTimeout),M.hoverTimeout=window.setTimeout(M.closePopOver,ps))},M}function ms(e){void 0===e&&(e="");var t=Object(D.M)(e);return{pathname:t.pathname,search:t.search,hash:t.hash}}function vs(e){var t=document.cookie.match(new RegExp("(?:^|;)\\s*"+e+"=([^;]+)"));return window.decodeURIComponent(t?t[1]:"")}function ys(i){var e=ms(window.location.href).search;if(!e)return"";var o="";return e.slice(1).split("&").find(function(e){var t=pe(e.split("="),2),n=t[0],r=t[1];return n===i&&(o=r,!0)}),o}function bs(e){return"en"===(ys("lang")?ys("lang"):Es())?e.en_name||e.name||e.cn_name:e.name||e.cn_name||e.en_name}function Es(){if(window.User&&window.User.language)return window.User.language;switch(_s()){case"zh-CN":return"zh";case"en-US":return"en";case"ja-JP":return"ja";default:return"en"}}function _s(){var e="";return window.User&&window.User.language?e=window.User.language:ys("lang")?e=ys("lang"):vs("lang")?e=vs("lang"):window.navigator.language&&(e=window.navigator.language),e&&-1!==e.indexOf("zh")?"zh-CN":e&&-1!==e.indexOf("ja")?"ja-JP":"en-US"}he(".profile-modal.bg-white {\n  background: #fff;\n}\n.profile-modal.bg-white .profile-tenant {\n  -webkit-font-smoothing: auto;\n  -moz-osx-font-smoothing: auto;\n}\n.mention-pop__avatar {\n  position: relative;\n  width: 280px;\n  height: 200px;\n}\n.mention-pop__avatar .avatar-holder {\n  background: #dee0e3;\n  height: 100%;\n  border-top-right-radius: 4px;\n  border-top-left-radius: 4px;\n}\n.mention-pop__avatar .avatar-wrapper {\n  height: 200px;\n  width: 278px;\n  display: block;\n  border-top-right-radius: 4px;\n  border-top-left-radius: 4px;\n  overflow: hidden;\n  cursor: default;\n}\n.mention-pop__avatar .avatar-wrapper .avatar-mask {\n  position: absolute;\n  opacity: 0.1;\n  left: 1px;\n  top: 0;\n  right: 1px;\n  bottom: 0;\n  transition: all 0.2s ease;\n  background-image: linear-gradient(-180deg, rgba(31, 35, 41, 0.4) 0%, #000 50%);\n}\n.mention-pop__avatar .avatar-wrapper .avatar-name {\n  position: absolute;\n  bottom: 16px;\n  color: #fff;\n  font-weight: 500;\n  left: 16px;\n  opacity: 1;\n  transition: all 0.2s ease;\n  font-size: 18px;\n}\n.mention-pop__avatar .avatar-wrapper:hover .avatar-name {\n  opacity: 0;\n}\n.mention-pop__avatar .avatar-wrapper:hover .avatar-mask {\n  opacity: 0;\n}\n.mention-pop__infos {\n  position: relative;\n  padding: 0 18px;\n}\n.mention-pop__info {\n  position: relative;\n  line-height: 20px;\n  margin-top: 16px;\n}\n.mention-pop__info:last-of-type {\n  padding-bottom: 16px;\n}\n.mention-pop__title {\n  width: 86px;\n  font-size: 14px;\n  text-align: left;\n  display: inline-block;\n  color: #8f959e;\n}\n.mention-pop__deleted {\n  width: 100%;\n}\n.mention-pop__desc {\n  font-size: 14px;\n  color: #1f2329;\n  word-break: break-all;\n}\n.mention-pop__external_concat {\n  width: 100%;\n  height: 32px;\n  text-align: center;\n  background: #3370ff;\n  border-radius: 4px;\n  font-size: 14px;\n  font-weight: 400;\n  color: #fff;\n  line-height: 32px;\n}\n.mention-pop__chat {\n  position: absolute;\n  right: 13px;\n  text-align: center;\n  width: 44px;\n  height: 44px;\n  border-radius: 50%;\n  background: #3370ff;\n  bottom: -15px;\n  box-shadow: 0 5px 12px 0 rgba(31, 35, 41, 0.16);\n  color: #fff;\n}\n.mention-pop__chat:hover {\n  text-decoration: none !important;\n}\n.mention-pop__chat .icon-wrap {\n  margin-top: 7px;\n}\n.mention-pop__chat .text {\n  font-size: 12px;\n  color: #fff;\n  transform: scale(0.8);\n}\n.user-popover-container {\n  position: relative;\n}\n.user-popover-container .grant-user-permission-btn {\n  position: absolute;\n  left: 16px;\n  right: 16px;\n  bottom: 16px;\n  height: 40px;\n  color: #fff;\n  background-color: #3370ff;\n  text-align: center;\n  line-height: 40px;\n  z-index: 100;\n  border-radius: 4px;\n  cursor: pointer;\n}\n",{className:"adit-style"}),he(".spiner {\n  display: inline-block;\n  position: relative;\n  height: 20px;\n  width: 40px;\n  vertical-align: middle;\n}\n.spiner > * {\n  position: absolute;\n  top: 5px;\n  height: 10px;\n  width: 10px;\n  border-radius: 50%;\n  background: #3370ff;\n  opacity: 0.6;\n  -webkit-transform: translateX(0px);\n  transform: translateX(0px);\n}\n.spiner > *:nth-child(1) {\n  left: 0;\n  -webkit-animation: mymove 1.3s infinite ease-in;\n  animation: mymove 1.3s infinite ease-in;\n}\n.spiner > *:nth-child(2) {\n  left: 12px;\n  -webkit-animation: mymove 1.3s 0.3s infinite ease-in;\n  animation: mymove 1.3s 0.3s infinite ease-in;\n}\n.spiner > *:nth-child(3) {\n  left: 24px;\n  -webkit-animation: mymove 1.3s 0.6s infinite ease-in;\n  animation: mymove 1.3s 0.6s infinite ease-in;\n}\n@-webkit-keyframes mymove {\n  0%,\n  100%,\n  80% {\n    opacity: 0.6;\n    -webkit-transform: scale(0.4);\n  }\n  40% {\n    opacity: 1;\n    -webkit-transform: scale(1);\n  }\n}\n@keyframes mymove {\n  0%,\n  100%,\n  80% {\n    opacity: 0.6;\n    transform: scale(0.4);\n  }\n  40% {\n    opacity: 1;\n    transform: scale(1);\n  }\n}\n",{className:"adit-style"});var As,Cs=(oe(Ts,As=P.PureComponent),Ts.prototype.render=function(){var e=te()("spiner",this.props.className),t={transform:"scale("+this.props.scale+")"};return Object(P.createElement)("span",{className:e,style:t},Object(P.createElement)("span",{"aria-hidden":"true"}),Object(P.createElement)("span",{"aria-hidden":"true"}),Object(P.createElement)("span",{"aria-hidden":"true"}))},Ts);function Ts(){return null!==As&&As.apply(this,arguments)||this}he('/* font-family */\n/*\n  \n  \n  Gray-8\n  Gray-7\n  Gray-6\n  Gray-5\n  Gray-4\n  Gray-3\n  Gray-2\n  Gray-1/\n*/\n/*\n  \n  \n  \n  \n*/\n/*\n  less\n  tint: http://lesscss.org/functions/#color-operations-tint\n  softlight: http://lesscss.org/functions/#color-blending-softlight\n*/\n/* Black */\n/* White */\n/* Blue */\n/* Red */\n/* Green */\n/* onleave */\n/*\n * /\n */\n/**\n * \n * todo: V3.2lark_blue,lark_gray,lark_red\n */\n@font-face {\n  font-family: "suite-design";\n  src: url(data:application/font-sfnt;charset=utf-8;base64,AAEAAAALAIAAAwAwR1NVQrD+s+0AAAE4AAAAQk9TLzI8g0kdAAABfAAAAFZjbWFw7abvawAAAigAAALKZ2x5Zjgm8IUAAAUgAAALZGhlYWQVdkrpAAAA4AAAADZoaGVhB90DlgAAALwAAAAkaG10eFQA//8AAAHUAAAAVGxvY2EafB14AAAE9AAAACxtYXhwASUAcAAAARgAAAAgbmFtZW9ed/IAABCEAAACnXBvc3T5H7d/AAATJAAAATEAAQAAA4D/gABcBAD//wAABAAAAQAAAAAAAAAAAAAAAAAAABUAAQAAAAEAAEy82AFfDzz1AAsEAAAAAADZLAN2AAAAANksA3b///+ABAADgAAAAAgAAgAAAAAAAAABAAAAFQBkAAYAAAAAAAIAAAAKAAoAAAD/AAAAAAAAAAEAAAAKAB4ALAABREZMVAAIAAQAAAAAAAAAAQAAAAFsaWdhAAgAAAABAAAAAQAEAAQAAAABAAgAAQAGAAAAAQAAAAAAAQQAAZAABQAIAokCzAAAAI8CiQLMAAAB6wAyAQgAAAIABQMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUGZFZABA5g3nKwOA/4AAXAOAAIAAAAABAAAAAAAABAAAAAQAAAAEAAAABAAAAAQA//8EAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAAAAAABQAAAAMAAAAsAAAABAAAAcoAAQAAAAAAxAADAAEAAAAsAAMACgAAAcoABACYAAAAGAAQAAMACOYN5iXmK+ZJ5mvmfuaC5pnm9ecF5yv//wAA5g3mJeYr5kfmZeZ+5oHmmeb15wXnK///AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABABgAGAAYABgAHAAoACgAKgAqACoAKgAAAA0ACQABAAoACwAMAA4ADwAQABEAEgATABQABAAFAAYABwACAAMACAAAAQYAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAAAAAABAAAAAAAAAAAUAADmDQAA5g0AAAANAADmJQAA5iUAAAAJAADmKwAA5isAAAABAADmRwAA5kcAAAAKAADmSAAA5kgAAAALAADmSQAA5kkAAAAMAADmZQAA5mUAAAAOAADmZgAA5mYAAAAPAADmZwAA5mcAAAAQAADmaAAA5mgAAAARAADmaQAA5mkAAAASAADmagAA5moAAAATAADmawAA5msAAAAUAADmfgAA5n4AAAAEAADmgQAA5oEAAAAFAADmggAA5oIAAAAGAADmmQAA5pkAAAAHAADm9QAA5vUAAAACAADnBQAA5wUAAAADAADnKwAA5ysAAAAIAAAAAAAAACYAXgC6ARABcAG2AfwCPgJSAoIC4gMMA14DlAPuBEwEmAT2BRgFsgABAAD/hQMLA3sAEQAABSInASY0NwE2HgEGBwkBHgEGAugMCv4CCgoB/gobEwEK/h0B4woBFHoIAdoKHAoB2gkBFRoK/j/+PwkbFQAAAgAA/64D0gNSABAAHAAAAREuASIGBxEeARczPgE0JicDJgAnNgA3FgAXBgACLwEaKBoBARsT6RQaGhTpxv76BQUBBsbGAQYFBf76Aa8BFxQaGhT+uhMbAQEaKBoB/gAFAQbGxgEGBQX++sbG/voAAAQAAP+2A8oDSgATAB8AKwA3AAAlBwYmPwEuATU2ADcWABcGAAciJgMyPgE0LgEjDgEUFgUyPgE0LgEjDgEUFgcyPgE0LgEjDgEUFgEGjA4VBCUkJQUBAsLCAQIFBf7+wkN/GRAcEREcEBojIwHQERwQEBwRGSMjwhEbEREbERoiIgElAxUOjDh+QsIBAgUF/v7Cwv7+BSYBZhAdIB0QASI0IgEQHSAdEAEiNCIBEB0gHRABIjQiAAAD////pAQAAzcAHQArADcAACUhLgEnESMuATQ2NyEeARQGByMRDgEHIRUOASImJwMiBhQWMyEyPgE0LgEjBSIGFBY7ATI2NCYjAdH+6SY2AS8UGhoUA6QUGhoULwE2Jv7pARooGgG7ExoaEwHUDBUMDBUM/iwTGhoT6xMaGhOJATYmAfUBGicZAQEZJxoB/gsmNgG2FBoaFAJ/GicaDBYYFQy3GicaGicaAAAABAAA/7AEAANcABsAKAA1ADkAAAE1PgE3IR4BFxUzHgEXEQ4BByEiLgI1ET4BNxcOAQcRHgEyNjcRLgElDgEHER4BMjY3ES4BJSE1IQEMATcqASQqNwGPNUcBAUc1/PoZLSQTAUc1wBUbAQEbKhsBARsBcRUbAQEbKhsBARv+lgEk/twClmMqNwEBNypjAkY2/hY1RwETIy4ZAeo2RgKtARsV/tYUHBwUASoVGwEBGxX+1hQcHBQBKhUbrmMAAAAAAgAA/+gD3ANcAB8AKwAAATMeARcRDgEHIS4BJxE+ATczNTQ2MhYXFSE1PgEyFhUFDgEUFhchPgE0JicDHVgsOQEBOSz9Fiw5AQE5LFgbKBsBAXwBGygb/ZYUGxsUApoUGxsUAxQBOiz9oiw5AgI5LAJeLDoBGBQbGxQYGBQbGxTXARsoGwEBGygbAQACAAD/gAQAA4AAGQAlAAABBwYeAT8BFxY+AS8BNzY0JiIPAScmIgYUFxMmACc2ADcWABcGAAHMmw8LKQ+bmw8pCw+bmwoWHQubmwsdFgrP2v7fBQUBIdraASEFBf7fAYCbDykLD5ubDwspD5ubCx0WCpubChYdC/1lBQEh2toBIQUF/t/a2v7fAAAAAAMAAP/mA7QDPAAaAB4AIwAAJSEyFhQGByEiLgE2PwE2NwE+AR8BHgEHAQYHATcnBxcnAQc3AT8CThAWFhD85gsSCgIGPwIGAfsSNRNwFAIS/gUGCAFFg16DKV3+zCmGMxYhFQELFBUJ1QkGAh8TAhFpEzMV/eEGAwHHjFiNj1f+tooyAAEAAP/ZAfIDJwAFAAABJwkBNwEB8kz+WgGmTP6lAttL/lr+WksBWwACAAAAAAPWAtYAGQAdAAABNzYWFREUBi8BFRQGIyEiJjURNDYzITIWFQUVMzUDFYQVJycVhBgS/YASGRkSAoASGP3WgAI9PAkYF/5aFxgJPG4SGBkRAlYSGBgSgICAAAAFAAD/1QOrAysAFQAZAB0AJQA+AAABJisBDgEHIyIGHQEhIiYnET4BNx4BBRUzNScVITUTNS4BIgYHFSM1PgE3HgEXFTMyFhcVDgEHIS4BJzU+ATMDVTE5Flp5AisJDP7AEhgBBNmjoNf9tKurAVXWASpAKgFAAk47O04CKgkMAQEMCf6WCQwBAQwJAbkcAnhbDAnAGREBVqPZBATQwlVVq1VV/oA1ICoqIDU1O08BAU87NQwJwAkMAQEMCcAJDAADAAD/7gOrA0UADQARABUAAAEeARcOAQchIiYnET4BAxUhNSUVITUCALXxBQXxtf6AEhgBBfE2AQD/AAGrA0QE8bW28AUZEgGAtfH+GlZWqlVVAAADAAD/mQPcAxMAHQApADUAACUHBiIvASMiLgI1ETQ+AjMhMh4CFREUDgIjAQ4BFBYXIT4BNCYnBSIGFBYzITI2NCYjAppkFjsWZNkWKB8QEB8oFgLcFigfEBAfKBb9pBcfHxcB3BcfHxf+JBcfHxcBABgfHxgSYxYWYxEfKBYCJRYoHxAQHygW/dsWKB8RAiUBHy4fAQEfLh8B3B8vHx8vHwAAAAEAAP+ABAADgAAbAAAJASYiBhQXCQEGFBYyNwkBFjI2NCcJATY0JiIHAgD+TA0lGg0BtP5MDRolDQG0AbQNJRoN/kwBtA0aJQ0BwQGzDBokDv5M/kwNIxwNAbT+TA0cIw0BtAG0DiQaDAAAAAYAAP+9A8MDQwAIABEAGgAjADMANwAAEzU+ATczFSMVAzMVMxUjLgEnASM1IzUzHgEXERUOAQcjNTM1ASEeARcRDgEHIS4BJxE+ARcRIRE9ARgQzbg+PrjNERcBA4Y+uM0QGAEBGBDNuP2FAewRFwEBFxH+FBEXAQEXJgHCAk3NEBgBPrj+Zrg+ARcRAme4PgEYEP2ZzRAYAT64AewBFxH+FBEXAQEXEQHsERc9/j4BwgAAAAMAAP+YA+gDWAAVADEAPQAAJRcWFAYiLwEOASMuASc+ATceARcOASU1NDYyFh0BMzIWFAYrARUUBiImPQEjIiY0NjMTPgE3LgEnDgEHHgEDO54OHikQnjqMS7v4BQX4u7v5BQEx/lsRGhKuDRERDa4SGhGvDRERDc2h1gQE1qGh1gQE1o6eECkeDp4uMQX5u7v4BQX4u06L968NERENrxEaEq4NERENrhIaEf5nBNahodYEBNahodYAAAAAAwAA/5gD6ANYABUAIQAtAAAlFxYUBiIvAQ4BIy4BJz4BNx4BFw4BBT4BNy4BJw4BBx4BAyEyFhQGIyEiJjQ2AzueDh4pEJ46jEu7+AUF+Lu7+QUBMf55odYEBNahodYEBNYsAZoNEREN/mYNERGOnhApHg6eLjEF+bu7+AUF+LtOi6IE1qGh1gQE1qGh1gGVERoSEhoRAAAGAAD/vQPDA0MADwATAB0AJwAwADkAABMhHgEXEQ4BByEuAScRPgEXESERBTMRIzUGBzU+ASUzESM1Bgc1PgEHIiY0NjIWFAYHIiY0NjIWFAZmAzQQGAEBGBD8zBEXAQEYJQMK/bsiLRopFCwBkyItGikULMENEhIaERENDRISGhERA0MBGBD8zBAYAQEXEQM0EBg9/PYDCvD+3O4ZCywFGRD+3O4ZCywFGVwSGhERGhKPERoSEhoRAAAAAAEAAP/HAwYDOQAQAAAJASY0NjIXARYUBwEGIiY0NwKm/pMLFR0KAZELC/5vChwWCwGAAXwLHBUK/msLHAv+awoVHAsABQAA/54D9gNiACgAQABJAFYAYwAAExceAQ8BBiYvASY2HwE+ATcWABcGAAcuAScmNhYXHgEXPgE3LgEnDgEXNhYVFAYHJiczFjMyNj0BIw4BIyImNDYXJgYUFjI2NCY3MhcWFAcGIicmNDc2FyIHBhQXFjI3NjQnJpAyDAgIXwcUBUQGDgwyN/GbzQEQBQX+8M2Q6j0GFCMHNcx+s+0EBO2zgs/TNjc7MlULKwksHiQCDCUWLDM7LRshIDcgId00HBoaHGcdGRkdMyQOCwsOSA8LCw8CHwYCFwljBwMIdwsUAQaOqgIF/vHNzf7xBQGXhBAcBA9zhAEF7bKy7QUCi5EBTUNIWAEBTys7KgUTEjdXOCUBJDkhIjohJSsphykrKyiJKCslKBteHCgoHF4bKAAAAAAAABIA3gABAAAAAAAAABUAAAABAAAAAAABAAwAFQABAAAAAAACAAcAIQABAAAAAAADAAwAKAABAAAAAAAEAAwANAABAAAAAAAFAAsAQAABAAAAAAAGAAwASwABAAAAAAAKACsAVwABAAAAAAALABMAggADAAEECQAAACoAlQADAAEECQABABgAvwADAAEECQACAA4A1wADAAEECQADABgA5QADAAEECQAEABgA/QADAAEECQAFABYBFQADAAEECQAGABgBKwADAAEECQAKAFYBQwADAAEECQALACYBmQpDcmVhdGVkIGJ5IGljb25mb250CnN1aXRlLWRlc2lnblJlZ3VsYXJzdWl0ZS1kZXNpZ25zdWl0ZS1kZXNpZ25WZXJzaW9uIDEuMHN1aXRlLWRlc2lnbkdlbmVyYXRlZCBieSBzdmcydHRmIGZyb20gRm9udGVsbG8gcHJvamVjdC5odHRwOi8vZm9udGVsbG8uY29tAAoAQwByAGUAYQB0AGUAZAAgAGIAeQAgAGkAYwBvAG4AZgBvAG4AdAAKAHMAdQBpAHQAZQAtAGQAZQBzAGkAZwBuAFIAZQBnAHUAbABhAHIAcwB1AGkAdABlAC0AZABlAHMAaQBnAG4AcwB1AGkAdABlAC0AZABlAHMAaQBnAG4AVgBlAHIAcwBpAG8AbgAgADEALgAwAHMAdQBpAHQAZQAtAGQAZQBzAGkAZwBuAEcAZQBuAGUAcgBhAHQAZQBkACAAYgB5ACAAcwB2AGcAMgB0AHQAZgAgAGYAcgBvAG0AIABGAG8AbgB0AGUAbABsAG8AIABwAHIAbwBqAGUAYwB0AC4AaAB0AHQAcAA6AC8ALwBmAG8AbgB0AGUAbABsAG8ALgBjAG8AbQAAAAACAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABUBAgEDAQQBBQEGAQcBCAEJAQoBCwEMAQ0BDgEPARABEQESARMBFAEVARYABGJhY2sLZGVhY3RpdmF0ZWQLc2VhcmNoLWNoYXQOc3RhdHVzLW1lZXRpbmcUc3RhdHVzLWJ1c2luZXNzLXRyaXAPc3RhdHVzLXZhY2F0aW9uDHN0YXR1cy1jbGVhcgRlZGl0BWJhY2sxCnZpZGVvLWNoYXQLc2VjcmV0LWNoYXQMbWVzc2FnZS1jaGF0DnN0YXR1cy1kZWZhdWx0CGl2LWNsb3NlCml2LWFkYXB0ZXIKaXYtZW5sYXJnZQlpdi1yZWR1Y2UJaXYtb3JpZ2luCGl2LXJpZ2h0CWl2LXJvdGF0ZQAAAAAA) format(\'truetype\'),  url(suite-design.woff) format(\'woff\'), url(suite-design.svg#lark-pc-icon) format(\'svg\');\n  /* iOS 4.1- */\n}\n[class^="sd-"],\n[class*=" sd-"] {\n  /* use !important to prevent issues with browser extensions that change fonts */\n  font-family: "suite-design" !important;\n  speak: none;\n  font-style: normal;\n  font-weight: normal;\n  font-variant: normal;\n  text-transform: none;\n  line-height: 1;\n  /* Better Font Rendering =========== */\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n.sd-back:before {\n  content: "\\E62B";\n}\n.sd-deactivated:before {\n  content: "\\E6F5";\n}\n.sd-search-chat:before {\n  content: "\\E705";\n}\n.sd-status-meeting:before {\n  content: "\\E67E";\n}\n.sd-status-business-trip:before {\n  content: "\\E681";\n}\n.sd-status-vacation:before {\n  content: "\\E682";\n}\n.sd-status-clear:before {\n  content: "\\E699";\n}\n.sd-edit:before {\n  content: "\\E72B";\n}\n.sd-back1:before {\n  content: "\\E625";\n}\n.sd-video-chat:before {\n  content: "\\E647";\n}\n.sd-secret-chat:before {\n  content: "\\E648";\n}\n.sd-message-chat:before {\n  content: "\\E649";\n}\n.sd-status-default:before {\n  content: "\\E60D";\n}\n.sd-iv-close:before {\n  content: "\\E665";\n}\n.sd-iv-adapter:before {\n  content: "\\E666";\n}\n.sd-iv-enlarge:before {\n  content: "\\E667";\n}\n.sd-iv-reduce:before {\n  content: "\\E668";\n}\n.sd-iv-origin:before {\n  content: "\\E669";\n}\n.sd-iv-right:before {\n  content: "\\E66A";\n}\n.sd-iv-rotate:before {\n  content: "\\E66B";\n}\n\n.suite-profile-icon-button {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  height: 28px;\n  width: 28px;\n  position: relative;\n  box-sizing: border-box;\n  border-radius: 50%;\n  background: rgba(255, 255, 255, 0.4);\n  color: #fff;\n  cursor: pointer;\n}\n.suite-profile-icon-button:hover {\n  background-color: #37f;\n}\n.suite-profile-icon-button:hover .suite-profile-icon-button-tip {\n  display: inline-flex;\n}\n.suite-profile-icon-button:nth-child(n+2) {\n  margin-left: 10px;\n}\n.suite-profile-icon-button:first-child .suite-profile-icon-button-tip {\n  left: -15px;\n}\n.suite-profile-icon-button > i {\n  font-size: 14px;\n  line-height: 16px;\n  cursor: pointer;\n}\n.suite-profile-icon-button-tip {\n  z-index: 1;\n  display: none;\n  position: absolute;\n  bottom: 35px;\n  border-radius: 3px;\n  box-shadow: 0 3px 5px 0 rgba(0, 0, 0, 0.2);\n  padding: 8px 12px;\n  background-color: rgba(20, 31, 51, 0.9);\n  color: #fff;\n  font-size: 12px;\n  line-height: 1.5;\n  word-break: keep-all;\n  white-space: nowrap;\n  text-align: center;\n}\n.suite-profile-item {\n  margin-top: 16px;\n  line-height: 20px;\n  font-size: 14px;\n  display: flex;\n  position: relative;\n}\n.suite-profile-item-name {\n  color: #a1a5ad;\n  width: 86px;\n}\n.suite-profile-item-value {\n  flex: 1;\n  word-break: break-word;\n  color: #141f33;\n  cursor: default;\n}\n.suite-profile-item-link {\n  font-size: 14px;\n  cursor: pointer;\n  color: #37f;\n  text-decoration: none;\n}\n.suite-profile-item-status {\n  color: #a1a5ad;\n  position: relative;\n  display: flex;\n  flex-direction: row;\n  font-size: 12px;\n  line-height: 16px;\n  cursor: pointer;\n}\n.suite-profile-item-status .suite-profile-item-value {\n  font-size: 14px;\n  line-height: 20px;\n}\n.suite-profile-item-input {\n  width: 100%;\n  height: 20px;\n  font-size: 14px;\n  line-height: 20px;\n  color: #a1a5ad;\n  position: relative;\n}\n.suite-profile-item-input-content {\n  width: calc(100% - 20px);\n  font-size: 14px;\n  outline: none;\n  border: none;\n}\n.suite-profile-button {\n  height: 32px;\n  min-width: 100px;\n  font-size: 14px;\n  padding: 0 16px;\n  background: #37f;\n  color: white;\n  position: relative;\n  outline: none;\n  border: none;\n  border-radius: 4px;\n}\n.suite-profile-apply-btn,\n.suite-profile-accept-btn,\n.suite-profile-send-btn {\n  width: 300px;\n  cursor: pointer;\n}\n.suite-profile-applied-btn {\n  width: 300px;\n}\n.suite-profile-button-cover {\n  display: inline-block;\n  padding: 0 16px;\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background: rgba(255, 255, 255, 0.5);\n}\n.suite-profile-send-btn {\n  width: 100px;\n}\n.suite-chat-container {\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  align-items: center;\n  box-sizing: border-box;\n  height: 40px;\n}\n.suite-message-input-container,\n.suite-chat-container {\n  width: 100%;\n  position: absolute;\n  bottom: 0;\n  z-index: 3;\n  background: #fff;\n}\n.suite-message-input-icon {\n  height: 14px;\n  color: #aaa;\n}\n.suite-message-input {\n  font-size: 14px;\n  width: calc(100% - 24px);\n  background: #f6f6f7;\n  border: none;\n  outline: none;\n}\n.suite-message-input::-webkit-input-placeholder {\n  color: #a1a5ad;\n}\n.suite-chat-input {\n  box-sizing: border-box;\n  height: 40px;\n  width: calc(100% - 20px);\n  padding: 10px;\n  margin: 10px;\n  border: 1px solid #e6e8eb;\n  border-radius: 4px;\n  background: #f6f6f7;\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  align-items: center;\n  -webkit-user-select: none;\n  user-select: none;\n  outline: none;\n}\n.suite-chat-input::-webkit-input-placeholder {\n  color: #a1a5ad;\n}\n.suite-profile {\n  width: 320px;\n  height: 500px;\n  position: relative;\n  z-index: 5;\n  overflow: hidden;\n}\n.suite-profile::-webkit-scrollbar {\n  display: none;\n}\n.suite-profile-content {\n  transition: all 0.1s ease-in;\n}\n.suite-profile-header {\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-end;\n  position: relative;\n  z-index: 0;\n  width: 100%;\n  height: 270px;\n}\n.suite-profile-header-content {\n  width: 100%;\n  min-height: 120px;\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-end;\n  position: absolute;\n  box-sizing: border-box;\n  padding: 16px;\n  z-index: 3;\n  opacity: 1;\n  user-select: none;\n  color: #fff;\n  transition: all 0.1s ease-in;\n}\n.suite-header-back {\n  position: absolute;\n  top: 10px;\n  left: 16px;\n  width: 22px;\n  height: 22px;\n  background-color: rgba(20, 31, 51, 0.1);\n  z-index: 4;\n  text-align: center;\n  line-height: 1;\n  border-radius: 50%;\n  padding-top: 6px;\n  box-sizing: border-box;\n  cursor: pointer;\n}\n.suite-profile-header-wrapper {\n  position: relative;\n  z-index: 1;\n}\n.suite-status-container {\n  margin: 1px 0;\n  font-size: 10px;\n  overflow: hidden;\n  line-height: 14px;\n  opacity: 1;\n  transition: all 0.2s ease-out;\n}\n.suite-profile-header-wrapper-enlarge {\n  cursor: -webkit-zoom-in;\n}\n.suite-header-background {\n  z-index: 1;\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  background-position: center center;\n  background-size: cover;\n  transition: all 0.1s ease-in;\n}\n.suite-header-mask {\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  z-index: 2;\n  opacity: 0.6;\n  background-image: linear-gradient(-180deg, rgba(0, 0, 0, 0), #000);\n  transition: all 0.2s ease;\n}\n.suite-profile-name-wrapper {\n  text-shadow: 0 1px 5px rgba(0, 0, 0, 0.2);\n}\n.suite-profile-name {\n  font-size: 24px;\n  font-weight: 600;\n  line-height: 1em;\n  padding-top: 5px;\n  padding-bottom: 7px;\n  margin: 0;\n  user-select: text;\n  cursor: text;\n  display: inline-block;\n}\n.suite-profile-tenant {\n  font-size: 14px;\n  line-height: 18px;\n  padding-top: 1px;\n  padding-bottom: 7px;\n  font-weight: 100;\n  margin: 0;\n}\n.suite-onleave-info-other {\n  font-size: 10px;\n  font-weight: 600;\n  font-style: normal;\n  font-stretch: normal;\n  letter-spacing: normal;\n  white-space: nowrap;\n  display: inline-flex;\n  padding: 0 5px;\n  height: 15px;\n  line-height: 15px;\n  align-items: center;\n  color: #fff;\n  background-color: #ff5b4c;\n  border-radius: 2px;\n  cursor: default;\n}\n.suite-button-wrapper {\n  margin-top: 7px;\n  display: flex;\n  opacity: 1;\n  transition: all 0.2s ease-out;\n}\n.suite-profile-main {\n  box-sizing: border-box;\n  height: 320px;\n  width: 100%;\n  padding: 0 18px;\n  overflow: hidden;\n  z-index: 2;\n  position: relative;\n  background: #fff;\n}\n.sd-status-clear {\n  color: #c2c5cc;\n  font-size: 14px;\n  cursor: pointer;\n}\n.sd-edit {\n  color: #c2c5cc;\n  font-size: 14px;\n  margin-left: 2px;\n  cursor: pointer;\n}\n.sd-edit:hover {\n  color: #37f;\n}\n.suite-now-status {\n  font-size: 14px;\n  margin-right: 8px;\n  line-height: 20px;\n}\n.suite-status-icon {\n  font-size: 14px;\n  line-height: 16px;\n  cursor: pointer;\n  line-height: 28px;\n  vertical-align: middle;\n}\n.suite-status-icon-default {\n  color: #c2c5cc;\n}\n.suite-status-icon-business-trip {\n  color: #37f;\n}\n.suite-status-icon-vacation {\n  color: #fc3;\n}\n.suite-status-icon-meeting {\n  color: #ff7040;\n}\n.suite-status-list {\n  left: 0;\n  right: 0;\n  top: 20px;\n  margin: 0 auto;\n  padding: 6px 0;\n  width: 198px;\n  background-color: #fff;\n  box-shadow: 0 2px 5px 0 rgba(0, 0, 0, 0.08);\n  position: absolute;\n  z-index: 2;\n}\n.suite-status-list::after {\n  z-index: -1;\n}\n.suite-status-item {\n  height: 28px;\n  padding-left: 12px;\n}\n.suite-status-item:hover {\n  background-color: #37f;\n}\n.suite-status-item:hover .suite-status-icon-business-trip,\n.suite-status-item:hover .suite-status-icon-vacation,\n.suite-status-item:hover .suite-status-icon-meeting {\n  color: white;\n}\n.suite-status-item:hover .suite-status-icon,\n.suite-status-item:hover .suite-status-text {\n  color: #fff;\n}\n.suite-status-text {\n  margin-left: 8px;\n  line-height: 28px;\n  font-size: 12px;\n  color: #141f33;\n  vertical-align: middle;\n}\n.suite-chat-disabled {\n  opacity: 0.4;\n  cursor: not-allowed;\n}\n.suite-chat-container {\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  align-items: center;\n  box-sizing: border-box;\n  height: 40px;\n  width: 300px;\n  margin: 10px;\n}\n.suite-chat-input {\n  font-size: 14px;\n}\n.suite-profile-shrink .suite-profile-content {\n  transform: translateY(-150px);\n}\n.suite-profile-shrink .suite-profile-header-content {\n  transform: translateY(35px);\n}\n.suite-profile-shrink .suite-header-background {\n  filter: blur(18px);\n}\n.suite-profile-shrink .suite-button-wrapper {\n  opacity: 0;\n}\n.suite-profile-user-resigned {\n  background: #a1a5ad;\n  color: white;\n}\n.suite-profile-modal {\n  width: 320px;\n  height: 500px;\n  border-radius: 4px;\n  box-shadow: 0 2px 5px 0 rgba(0, 0, 0, 0.08);\n  position: relative;\n  overflow: hidden;\n}\n.suite-profile-list {\n  display: flex;\n  position: absolute;\n  transition: left 0.2s ease-out;\n}\n.suite-profile-back {\n  position: absolute;\n  width: 20px;\n  height: 20px;\n  top: 10px;\n  left: 16px;\n  z-index: 10;\n  border-radius: 50%;\n  background: rgba(255, 255, 255, 0.4);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  color: #fff;\n  cursor: pointer;\n}\n.sd-back1 {\n  font-size: 10px;\n  margin-left: 4px;\n}\n\n/* font-family */\n/*\n  \n  \n  Gray-8\n  Gray-7\n  Gray-6\n  Gray-5\n  Gray-4\n  Gray-3\n  Gray-2\n  Gray-1/\n*/\n/*\n  \n  \n  \n  \n*/\n/*\n  less\n  tint: http://lesscss.org/functions/#color-operations-tint\n  softlight: http://lesscss.org/functions/#color-blending-softlight\n*/\n/* Black */\n/* White */\n/* Blue */\n/* Red */\n/* Green */\n/* onleave */\n/*\n * /\n */\n/**\n * \n * todo: V3.2lark_blue,lark_gray,lark_red\n */\n@font-face {\n  font-family: "suite-design";\n  src: url(data:application/font-sfnt;charset=utf-8;base64,AAEAAAALAIAAAwAwR1NVQrD+s+0AAAE4AAAAQk9TLzI8g0kdAAABfAAAAFZjbWFw7abvawAAAigAAALKZ2x5Zjgm8IUAAAUgAAALZGhlYWQVdkrpAAAA4AAAADZoaGVhB90DlgAAALwAAAAkaG10eFQA//8AAAHUAAAAVGxvY2EafB14AAAE9AAAACxtYXhwASUAcAAAARgAAAAgbmFtZW9ed/IAABCEAAACnXBvc3T5H7d/AAATJAAAATEAAQAAA4D/gABcBAD//wAABAAAAQAAAAAAAAAAAAAAAAAAABUAAQAAAAEAAEy82AFfDzz1AAsEAAAAAADZLAN2AAAAANksA3b///+ABAADgAAAAAgAAgAAAAAAAAABAAAAFQBkAAYAAAAAAAIAAAAKAAoAAAD/AAAAAAAAAAEAAAAKAB4ALAABREZMVAAIAAQAAAAAAAAAAQAAAAFsaWdhAAgAAAABAAAAAQAEAAQAAAABAAgAAQAGAAAAAQAAAAAAAQQAAZAABQAIAokCzAAAAI8CiQLMAAAB6wAyAQgAAAIABQMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUGZFZABA5g3nKwOA/4AAXAOAAIAAAAABAAAAAAAABAAAAAQAAAAEAAAABAAAAAQA//8EAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAAAAAABQAAAAMAAAAsAAAABAAAAcoAAQAAAAAAxAADAAEAAAAsAAMACgAAAcoABACYAAAAGAAQAAMACOYN5iXmK+ZJ5mvmfuaC5pnm9ecF5yv//wAA5g3mJeYr5kfmZeZ+5oHmmeb15wXnK///AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABABgAGAAYABgAHAAoACgAKgAqACoAKgAAAA0ACQABAAoACwAMAA4ADwAQABEAEgATABQABAAFAAYABwACAAMACAAAAQYAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAAAAAABAAAAAAAAAAAUAADmDQAA5g0AAAANAADmJQAA5iUAAAAJAADmKwAA5isAAAABAADmRwAA5kcAAAAKAADmSAAA5kgAAAALAADmSQAA5kkAAAAMAADmZQAA5mUAAAAOAADmZgAA5mYAAAAPAADmZwAA5mcAAAAQAADmaAAA5mgAAAARAADmaQAA5mkAAAASAADmagAA5moAAAATAADmawAA5msAAAAUAADmfgAA5n4AAAAEAADmgQAA5oEAAAAFAADmggAA5oIAAAAGAADmmQAA5pkAAAAHAADm9QAA5vUAAAACAADnBQAA5wUAAAADAADnKwAA5ysAAAAIAAAAAAAAACYAXgC6ARABcAG2AfwCPgJSAoIC4gMMA14DlAPuBEwEmAT2BRgFsgABAAD/hQMLA3sAEQAABSInASY0NwE2HgEGBwkBHgEGAugMCv4CCgoB/gobEwEK/h0B4woBFHoIAdoKHAoB2gkBFRoK/j/+PwkbFQAAAgAA/64D0gNSABAAHAAAAREuASIGBxEeARczPgE0JicDJgAnNgA3FgAXBgACLwEaKBoBARsT6RQaGhTpxv76BQUBBsbGAQYFBf76Aa8BFxQaGhT+uhMbAQEaKBoB/gAFAQbGxgEGBQX++sbG/voAAAQAAP+2A8oDSgATAB8AKwA3AAAlBwYmPwEuATU2ADcWABcGAAciJgMyPgE0LgEjDgEUFgUyPgE0LgEjDgEUFgcyPgE0LgEjDgEUFgEGjA4VBCUkJQUBAsLCAQIFBf7+wkN/GRAcEREcEBojIwHQERwQEBwRGSMjwhEbEREbERoiIgElAxUOjDh+QsIBAgUF/v7Cwv7+BSYBZhAdIB0QASI0IgEQHSAdEAEiNCIBEB0gHRABIjQiAAAD////pAQAAzcAHQArADcAACUhLgEnESMuATQ2NyEeARQGByMRDgEHIRUOASImJwMiBhQWMyEyPgE0LgEjBSIGFBY7ATI2NCYjAdH+6SY2AS8UGhoUA6QUGhoULwE2Jv7pARooGgG7ExoaEwHUDBUMDBUM/iwTGhoT6xMaGhOJATYmAfUBGicZAQEZJxoB/gsmNgG2FBoaFAJ/GicaDBYYFQy3GicaGicaAAAABAAA/7AEAANcABsAKAA1ADkAAAE1PgE3IR4BFxUzHgEXEQ4BByEiLgI1ET4BNxcOAQcRHgEyNjcRLgElDgEHER4BMjY3ES4BJSE1IQEMATcqASQqNwGPNUcBAUc1/PoZLSQTAUc1wBUbAQEbKhsBARsBcRUbAQEbKhsBARv+lgEk/twClmMqNwEBNypjAkY2/hY1RwETIy4ZAeo2RgKtARsV/tYUHBwUASoVGwEBGxX+1hQcHBQBKhUbrmMAAAAAAgAA/+gD3ANcAB8AKwAAATMeARcRDgEHIS4BJxE+ATczNTQ2MhYXFSE1PgEyFhUFDgEUFhchPgE0JicDHVgsOQEBOSz9Fiw5AQE5LFgbKBsBAXwBGygb/ZYUGxsUApoUGxsUAxQBOiz9oiw5AgI5LAJeLDoBGBQbGxQYGBQbGxTXARsoGwEBGygbAQACAAD/gAQAA4AAGQAlAAABBwYeAT8BFxY+AS8BNzY0JiIPAScmIgYUFxMmACc2ADcWABcGAAHMmw8LKQ+bmw8pCw+bmwoWHQubmwsdFgrP2v7fBQUBIdraASEFBf7fAYCbDykLD5ubDwspD5ubCx0WCpubChYdC/1lBQEh2toBIQUF/t/a2v7fAAAAAAMAAP/mA7QDPAAaAB4AIwAAJSEyFhQGByEiLgE2PwE2NwE+AR8BHgEHAQYHATcnBxcnAQc3AT8CThAWFhD85gsSCgIGPwIGAfsSNRNwFAIS/gUGCAFFg16DKV3+zCmGMxYhFQELFBUJ1QkGAh8TAhFpEzMV/eEGAwHHjFiNj1f+tooyAAEAAP/ZAfIDJwAFAAABJwkBNwEB8kz+WgGmTP6lAttL/lr+WksBWwACAAAAAAPWAtYAGQAdAAABNzYWFREUBi8BFRQGIyEiJjURNDYzITIWFQUVMzUDFYQVJycVhBgS/YASGRkSAoASGP3WgAI9PAkYF/5aFxgJPG4SGBkRAlYSGBgSgICAAAAFAAD/1QOrAysAFQAZAB0AJQA+AAABJisBDgEHIyIGHQEhIiYnET4BNx4BBRUzNScVITUTNS4BIgYHFSM1PgE3HgEXFTMyFhcVDgEHIS4BJzU+ATMDVTE5Flp5AisJDP7AEhgBBNmjoNf9tKurAVXWASpAKgFAAk47O04CKgkMAQEMCf6WCQwBAQwJAbkcAnhbDAnAGREBVqPZBATQwlVVq1VV/oA1ICoqIDU1O08BAU87NQwJwAkMAQEMCcAJDAADAAD/7gOrA0UADQARABUAAAEeARcOAQchIiYnET4BAxUhNSUVITUCALXxBQXxtf6AEhgBBfE2AQD/AAGrA0QE8bW28AUZEgGAtfH+GlZWqlVVAAADAAD/mQPcAxMAHQApADUAACUHBiIvASMiLgI1ETQ+AjMhMh4CFREUDgIjAQ4BFBYXIT4BNCYnBSIGFBYzITI2NCYjAppkFjsWZNkWKB8QEB8oFgLcFigfEBAfKBb9pBcfHxcB3BcfHxf+JBcfHxcBABgfHxgSYxYWYxEfKBYCJRYoHxAQHygW/dsWKB8RAiUBHy4fAQEfLh8B3B8vHx8vHwAAAAEAAP+ABAADgAAbAAAJASYiBhQXCQEGFBYyNwkBFjI2NCcJATY0JiIHAgD+TA0lGg0BtP5MDRolDQG0AbQNJRoN/kwBtA0aJQ0BwQGzDBokDv5M/kwNIxwNAbT+TA0cIw0BtAG0DiQaDAAAAAYAAP+9A8MDQwAIABEAGgAjADMANwAAEzU+ATczFSMVAzMVMxUjLgEnASM1IzUzHgEXERUOAQcjNTM1ASEeARcRDgEHIS4BJxE+ARcRIRE9ARgQzbg+PrjNERcBA4Y+uM0QGAEBGBDNuP2FAewRFwEBFxH+FBEXAQEXJgHCAk3NEBgBPrj+Zrg+ARcRAme4PgEYEP2ZzRAYAT64AewBFxH+FBEXAQEXEQHsERc9/j4BwgAAAAMAAP+YA+gDWAAVADEAPQAAJRcWFAYiLwEOASMuASc+ATceARcOASU1NDYyFh0BMzIWFAYrARUUBiImPQEjIiY0NjMTPgE3LgEnDgEHHgEDO54OHikQnjqMS7v4BQX4u7v5BQEx/lsRGhKuDRERDa4SGhGvDRERDc2h1gQE1qGh1gQE1o6eECkeDp4uMQX5u7v4BQX4u06L968NERENrxEaEq4NERENrhIaEf5nBNahodYEBNahodYAAAAAAwAA/5gD6ANYABUAIQAtAAAlFxYUBiIvAQ4BIy4BJz4BNx4BFw4BBT4BNy4BJw4BBx4BAyEyFhQGIyEiJjQ2AzueDh4pEJ46jEu7+AUF+Lu7+QUBMf55odYEBNahodYEBNYsAZoNEREN/mYNERGOnhApHg6eLjEF+bu7+AUF+LtOi6IE1qGh1gQE1qGh1gGVERoSEhoRAAAGAAD/vQPDA0MADwATAB0AJwAwADkAABMhHgEXEQ4BByEuAScRPgEXESERBTMRIzUGBzU+ASUzESM1Bgc1PgEHIiY0NjIWFAYHIiY0NjIWFAZmAzQQGAEBGBD8zBEXAQEYJQMK/bsiLRopFCwBkyItGikULMENEhIaERENDRISGhERA0MBGBD8zBAYAQEXEQM0EBg9/PYDCvD+3O4ZCywFGRD+3O4ZCywFGVwSGhERGhKPERoSEhoRAAAAAAEAAP/HAwYDOQAQAAAJASY0NjIXARYUBwEGIiY0NwKm/pMLFR0KAZELC/5vChwWCwGAAXwLHBUK/msLHAv+awoVHAsABQAA/54D9gNiACgAQABJAFYAYwAAExceAQ8BBiYvASY2HwE+ATcWABcGAAcuAScmNhYXHgEXPgE3LgEnDgEXNhYVFAYHJiczFjMyNj0BIw4BIyImNDYXJgYUFjI2NCY3MhcWFAcGIicmNDc2FyIHBhQXFjI3NjQnJpAyDAgIXwcUBUQGDgwyN/GbzQEQBQX+8M2Q6j0GFCMHNcx+s+0EBO2zgs/TNjc7MlULKwksHiQCDCUWLDM7LRshIDcgId00HBoaHGcdGRkdMyQOCwsOSA8LCw8CHwYCFwljBwMIdwsUAQaOqgIF/vHNzf7xBQGXhBAcBA9zhAEF7bKy7QUCi5EBTUNIWAEBTys7KgUTEjdXOCUBJDkhIjohJSsphykrKyiJKCslKBteHCgoHF4bKAAAAAAAABIA3gABAAAAAAAAABUAAAABAAAAAAABAAwAFQABAAAAAAACAAcAIQABAAAAAAADAAwAKAABAAAAAAAEAAwANAABAAAAAAAFAAsAQAABAAAAAAAGAAwASwABAAAAAAAKACsAVwABAAAAAAALABMAggADAAEECQAAACoAlQADAAEECQABABgAvwADAAEECQACAA4A1wADAAEECQADABgA5QADAAEECQAEABgA/QADAAEECQAFABYBFQADAAEECQAGABgBKwADAAEECQAKAFYBQwADAAEECQALACYBmQpDcmVhdGVkIGJ5IGljb25mb250CnN1aXRlLWRlc2lnblJlZ3VsYXJzdWl0ZS1kZXNpZ25zdWl0ZS1kZXNpZ25WZXJzaW9uIDEuMHN1aXRlLWRlc2lnbkdlbmVyYXRlZCBieSBzdmcydHRmIGZyb20gRm9udGVsbG8gcHJvamVjdC5odHRwOi8vZm9udGVsbG8uY29tAAoAQwByAGUAYQB0AGUAZAAgAGIAeQAgAGkAYwBvAG4AZgBvAG4AdAAKAHMAdQBpAHQAZQAtAGQAZQBzAGkAZwBuAFIAZQBnAHUAbABhAHIAcwB1AGkAdABlAC0AZABlAHMAaQBnAG4AcwB1AGkAdABlAC0AZABlAHMAaQBnAG4AVgBlAHIAcwBpAG8AbgAgADEALgAwAHMAdQBpAHQAZQAtAGQAZQBzAGkAZwBuAEcAZQBuAGUAcgBhAHQAZQBkACAAYgB5ACAAcwB2AGcAMgB0AHQAZgAgAGYAcgBvAG0AIABGAG8AbgB0AGUAbABsAG8AIABwAHIAbwBqAGUAYwB0AC4AaAB0AHQAcAA6AC8ALwBmAG8AbgB0AGUAbABsAG8ALgBjAG8AbQAAAAACAAAAAAAAAAoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABUBAgEDAQQBBQEGAQcBCAEJAQoBCwEMAQ0BDgEPARABEQESARMBFAEVARYABGJhY2sLZGVhY3RpdmF0ZWQLc2VhcmNoLWNoYXQOc3RhdHVzLW1lZXRpbmcUc3RhdHVzLWJ1c2luZXNzLXRyaXAPc3RhdHVzLXZhY2F0aW9uDHN0YXR1cy1jbGVhcgRlZGl0BWJhY2sxCnZpZGVvLWNoYXQLc2VjcmV0LWNoYXQMbWVzc2FnZS1jaGF0DnN0YXR1cy1kZWZhdWx0CGl2LWNsb3NlCml2LWFkYXB0ZXIKaXYtZW5sYXJnZQlpdi1yZWR1Y2UJaXYtb3JpZ2luCGl2LXJpZ2h0CWl2LXJvdGF0ZQAAAAAA) format(\'truetype\'),  url(suite-design.woff) format(\'woff\'), url(suite-design.svg#lark-pc-icon) format(\'svg\');\n  /* iOS 4.1- */\n}\n[class^="sd-"],\n[class*=" sd-"] {\n  /* use !important to prevent issues with browser extensions that change fonts */\n  font-family: "suite-design" !important;\n  speak: none;\n  font-style: normal;\n  font-weight: normal;\n  font-variant: normal;\n  text-transform: none;\n  line-height: 1;\n  /* Better Font Rendering =========== */\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n.sd-back:before {\n  content: "\\E62B";\n}\n.sd-deactivated:before {\n  content: "\\E6F5";\n}\n.sd-search-chat:before {\n  content: "\\E705";\n}\n.sd-status-meeting:before {\n  content: "\\E67E";\n}\n.sd-status-business-trip:before {\n  content: "\\E681";\n}\n.sd-status-vacation:before {\n  content: "\\E682";\n}\n.sd-status-clear:before {\n  content: "\\E699";\n}\n.sd-edit:before {\n  content: "\\E72B";\n}\n.sd-back1:before {\n  content: "\\E625";\n}\n.sd-video-chat:before {\n  content: "\\E647";\n}\n.sd-secret-chat:before {\n  content: "\\E648";\n}\n.sd-message-chat:before {\n  content: "\\E649";\n}\n.sd-status-default:before {\n  content: "\\E60D";\n}\n.sd-iv-close:before {\n  content: "\\E665";\n}\n.sd-iv-adapter:before {\n  content: "\\E666";\n}\n.sd-iv-enlarge:before {\n  content: "\\E667";\n}\n.sd-iv-reduce:before {\n  content: "\\E668";\n}\n.sd-iv-origin:before {\n  content: "\\E669";\n}\n.sd-iv-right:before {\n  content: "\\E66A";\n}\n.sd-iv-rotate:before {\n  content: "\\E66B";\n}\n\n.suite-reactionIcon {\n  width: auto;\n  min-width: 18px;\n  height: 18px;\n  margin-right: 5px;\n  background-size: cover;\n  cursor: pointer;\n}\n.suite-reactionList {\n  display: flex;\n  align-items: center;\n  flex-wrap: wrap;\n  -webkit-user-select: none;\n  user-select: none;\n}\n.suite-reactionList > .reactionItem {\n  display: flex;\n  align-items: center;\n  flex-wrap: wrap;\n  padding: 2px 6px;\n  margin: 4px 10px 0 0;\n  font-size: 12px;\n  line-height: 18px;\n  color: #a1a5ad;\n  border-radius: 11px;\n  background-color: rgba(0, 0, 0, 0.04);\n}\n.reactionItemIcon {\n  width: auto;\n  height: 18px;\n  margin-right: 5px;\n  cursor: pointer;\n}\n.reactionItemSeparate {\n  width: 0;\n  height: 12px;\n  margin-right: 6px;\n  border-left: 1px solid #c2c5cc;\n}\n.reactionItemUser:not(:last-child)::after {\n  content: ",";\n  margin-right: 5px;\n}\n@media (min-width: 768px) {\n  .reactionItemUser:hover,\n  .reactionItemMore_users:hover {\n    cursor: pointer;\n    color: #37f;\n  }\n}\n.reactionItemMoreTip {\n  margin-left: 5px;\n}\n.reactionItemMoreTip.suite-tipContent {\n  display: block;\n  position: relative;\n  margin: 0;\n  max-width: 200px;\n  white-space: inherit;\n  word-break: break-word;\n  text-align: left;\n}\n.reactionItemMoreTip.suite-tipContent > .reactionItemUser:not(:last-child)::after {\n  content: ",";\n  margin-right: 5px;\n}\n.suite-reactionPanel {\n  display: flex;\n  flex-direction: column;\n  width: 323px;\n  height: auto;\n  overflow: hidden;\n  border-radius: 10px;\n  background: #fff;\n  box-shadow: 0 1px 10px 0 rgba(0, 0, 0, 0.12);\n  box-sizing: border-box;\n  z-index: 3;\n}\n.suite-reactionPanel.recentBottom {\n  flex-direction: column-reverse;\n}\n.suite-reactionPanel.recentBottom > .reactionPanelRecent {\n  border: none;\n  border-top: 1px solid #e4e5e7;\n}\n.reactionPanelRecent {\n  height: 59px;\n  padding: 0 0 6px 0;\n  background: #fafbfc;\n  box-sizing: border-box;\n  border-bottom: 1px solid #e4e5e7;\n}\n.reactionPanelTip {\n  color: #646a73;\n  font-size: 10px;\n  line-height: 14px;\n  padding: 5px 0 4px 11px;\n}\n.reactionPanelItem {\n  float: left;\n  width: 53px;\n  height: 28px;\n  cursor: pointer;\n}\n@media (min-width: 768px) {\n  .reactionPanelItem:hover > .suite-reactionIcon {\n    transform: scale(1.4);\n    -webkit-user-drag: none;\n  }\n}\n.reactionPanelItem > .suite-reactionIcon {\n  display: block;\n  width: auto;\n  height: 29px;\n  margin: 0 auto;\n  transition: transform 300ms;\n  user-select: none;\n  -webkit-user-select: none;\n}\n.reactionPanelAll {\n  height: 161px;\n  padding: 4px;\n  overflow-y: overlay;\n  overflow-x: hidden;\n}\n.reactionPanelAll::-webkit-scrollbar {\n  width: 3px;\n}\n.reactionPanelAll > .reactionPanelItem {\n  width: 35px;\n  height: 23px;\n  margin: 6px 0;\n}\n.reactionPanelAll > .reactionPanelItem > .suite-reactionIcon {\n  height: 23px;\n  width: auto;\n}\n.suite-reactionsDetail {\n  width: 600px;\n}\n.reactionsDetailTabs {\n  max-height: 172px;\n  display: flex;\n  flex-wrap: wrap;\n  overflow-y: overlay;\n}\n.reactionsDetailTabs_item {\n  margin: 0 8px 12px 8px;\n  height: 28px;\n  width: 60px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border-radius: 14px;\n  background: #e4e5e7;\n  cursor: pointer;\n}\n.reactionsDetailTabs_itemIcon {\n  width: 20px;\n  height: 20px;\n  margin-right: 6px;\n}\n.reactionsDetailTabs_itemCount {\n  font-size: 16px;\n  color: #646a73;\n}\n.reactionsDetailTabs_item.active {\n  background: #3370ff;\n}\n.reactionsDetailTabs_item.active > .reactionsDetailTabs_itemCount {\n  color: #fff;\n}\n.reactionsDetailUsers {\n  width: 100%;\n  height: 416px;\n  margin-top: 20px;\n  border: 1px solid #e4e5e7;\n  box-sizing: border-box;\n  transform: translate(0, 0);\n  overflow: hidden;\n}\n.reactionsDetailUsers_separate {\n  height: calc(100% - 40px);\n  left: 50%;\n  top: 20px;\n  width: 1px;\n  background: #e4e5e7;\n  position: fixed;\n}\n.reactionsDetailUsers_box {\n  height: 100%;\n  overflow-y: overlay;\n  overflow-x: hidden;\n}\n.reactionsDetailUsers_box > div {\n  display: flex;\n  flex-wrap: wrap;\n  height: auto;\n  padding: 20px 0 0 0;\n}\n.reactionsDetailUsers_item {\n  width: 50%;\n  height: 52px;\n  display: flex;\n  align-items: center;\n  padding: 10px 16px;\n  box-sizing: border-box;\n}\n.reactionsDetailUsers_item:hover {\n  background: rgba(228, 229, 231, 0.9);\n}\n.reactionsDetailUsers_itemAvatar,\n.reactionsDetailUsers_itemUsername,\n.reactionsDetailUsers_itemStatus {\n  margin-right: 10px;\n  flex-shrink: 0;\n}\n.reactionsDetailUsers_itemUsername {\n  max-width: 100px;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n.reactionsDetailUsers_itemStatus {\n  font-size: 14px;\n  line-height: 28px;\n  vertical-align: middle;\n  cursor: pointer;\n}\n.reactionsDetailUsers_itemStatus.sd-status-default {\n  color: #c3c6cb;\n}\n.reactionsDetailUsers_itemStatus.sd-status-business-trip {\n  color: #3370ff;\n}\n.reactionsDetailUsers_itemStatus.sd-status-vacation {\n  color: #ffc60a;\n}\n.reactionsDetailUsers_itemStatus.sd-status-meeting {\n  color: #f80;\n}\n.reactionsDetailUsers_itemDesc {\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  color: #646a73;\n  font-size: 12px;\n}\n.reactionsDetailUsers_itemAvatar {\n  height: 32px;\n  width: 32px;\n  background-size: cover;\n  background-color: #eff0f1;\n  background-position: center center;\n  border-radius: 50%;\n  overflow: hidden;\n  cursor: pointer;\n}\n.reactionsDetailUsers_itemAvatar > img {\n  width: 100%;\n  height: 100%;\n  position: relative;\n  border-radius: inherit;\n  object-fit: cover;\n}\n.reactionsDetailTabs::-webkit-scrollbar-thumb,\n.reactionsDetailUsers_box::-webkit-scrollbar-thumb {\n  border-radius: 4px;\n  transition: all 1s;\n  background-color: rgba(194, 197, 204, 0.5);\n  border-bottom: none;\n  border-top: none;\n}\n.reactionsDetailTabs::-webkit-scrollbar,\n.reactionsDetailUsers_box::-webkit-scrollbar {\n  width: 7px;\n  height: 7px;\n}\n.suite-tip {\n  position: relative;\n}\n.suite-tipContent {\n  z-index: 1;\n  display: inline-flex;\n  border-radius: 3px;\n  box-shadow: 0 3px 5px 0 rgba(190, 160, 160, 0.2);\n  padding: 8px 12px;\n  background-color: rgba(31, 35, 41, 0.9);\n  color: #fff;\n  font-size: 12px;\n  line-height: 1.5;\n  word-break: keep-all;\n  white-space: nowrap;\n  text-align: center;\n}\n.suite-portal {\n  position: fixed;\n  top: 0;\n  left: 0;\n  height: 0;\n  z-index: 1;\n}\n.suite-portalContent {\n  position: relative;\n}\n* {\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n}\n\n',{className:"adit-style"});var Os,ks,Ss=ne.Profile,ws=_s(),Is=function(){return O.a.createElement("div",{className:"layout-main-center layout-cross-center layout-row popover-loading"},O.a.createElement(Cs,null))};(ks=Os=Os||{})[ks.FAILD=-1]="FAILD",ks[ks.LOADING=0]="LOADING",ks[ks.LOADED=1]="LOADED";var xs,Ls=(oe(Rs,xs=P.Component),Rs.prototype.componentDidMount=function(){var e=this.props.hoverUserId;D.k.init(),this.getUser(e,"")},Rs.prototype.render=function(){var e=this.state,t=e.loaded,n=e.targetUsers,r=this.props.currentUser;return t===Os.LOADING?O.a.createElement(Is,null):O.a.createElement("div",{className:"user-popover-container"},O.a.createElement(Ss,{className:"bg-white",locale:ws,data:n,currentUser:r,onLeaderClick:this.onLeaderClick,onCopyMyLink:this.onCopyMyLink,onChat:this.onChat,onViewHistory:this.onChat}))},Rs);function Rs(e){var o=xs.call(this,e)||this;return o.UserInfoCache={},o.getUser=function(n,r){void 0===r&&(r="");var e=o.UserInfoCache[n];e&&e.userId||o.props.getUser(n).then(function(e){var t;e.isSuccessful?(t=e.data,o.UserInfoCache[n]=t,o.setState({loaded:Os.LOADED,targetUsers:fe(o.state.targetUsers,[t])})):o.setState({loaded:Os.FAILD,targetUsers:fe(o.state.targetUsers,[{userId:n,name:r}])})})},o.onLeaderClick=function(e){o.getUser(e)},o.onCopyMyLink=function(e){var t=o.props,n=t.getMyLink,r=t.onCopySucceed,i=n(e);D.r.setDataWithoutEvent({html:i,text:i}),r&&r()},o.onChat=function(e){var t=o.UserInfoCache[e];D.k.openLark(t.chatId)},o.state={targetUsers:[],loaded:Os.LOADING},o}var Ns,Ds=(oe(Ms,Ns=P.PureComponent),Ms.prototype.render=function(){var e=this.props,t=e.user,n=e.mentionId,r=void 0===n?"":n,i=e.currentUserId,o=e.externalServices,a=e.isMouseMoved,s=t?bs(t):"",c=t?t.id:0,u=function(e,t){return Object(P.createElement)("a",{className:"at-user-text mention-type_0\n        mention-token_"+c+" mention-id_"+r+": "+r+"\n        "+(i===c?"at-self-highlight":""),href:"javascript:void(0)","data-user-name":s,onMouseEnter:e,onMouseLeave:t},Object(P.createElement)("span",null,"@"+s))};if(o.popoverOptions){var l=o.popoverOptions,d=l.getContainer,p=l.getBoundaryContainer;return Object(P.createElement)(hs,{isMouseMoved:a,getContainer:d,getBoundaryContainer:p,onShowPopOver:this.onShowPopOver},u)}return u()},Ms);function Ms(){var c=null!==Ns&&Ns.apply(this,arguments)||this;return c.onShowPopOver=function(e,t){var n=c.props.externalServices.popoverOptions,r=n.currentUser,i=n.getUser,o=n.getMyLink,a=e.closest(".block-type-AT_USER_BLOCK").data("meta-block-props"),s="";try{s=a.props.data.user.id}catch(e){console.error(e)}Object($.render)(Object(P.createElement)(Ls,{currentUser:r,getUser:i,getMyLink:o,hoverUserId:s}),t[0])},c}he(".adit-outer-container .j-block-container a.at-user-text {\n  outline: none;\n  color: #3370ff;\n  text-decoration: none;\n  word-break: break-all;\n  white-space: nowrap;\n  padding-top: 2px;\n  padding-bottom: 2px;\n}\n.adit-outer-container .j-block-container a.at-user-text:hover {\n  text-decoration: none !important;\n}\n.adit-outer-container .j-block-container a.at-user-text.at-self-highlight {\n  padding-left: 0.4em;\n  padding-right: 0.4em;\n  color: #fff !important;\n  background: #3370ff;\n  border-radius: 999em;\n}\n.adit-outer-container .j-block-container a.at-user-text::before {\n  content: '';\n  display: inline-block;\n}\n",{className:"adit-style"});var Ps,js=(oe(Fs,Ps=M.Block),Fs.prototype.render=function(){var t=this;if(this.props.data){var e=this.props.data,n=e.user,r=e.mentionId,i=e.mentionNotify,o=void 0!==i&&i,a=this.editor.getAuthor();return new Promise(function(e){Object($.render)(Object(P.createElement)(Ds,ce({},{user:n,mentionId:r,mentionNotify:o,currentUserId:a},{externalServices:t.externalServices,isMouseMoved:t.isMouseMove})),t.mountPoint,e)})}return Promise.resolve()},Fs.prototype.unmount=function(e){Ps.prototype.unmount.call(this,e),Object($.unmountComponentAtNode)(this.mountPoint)},Fs.prototype.resize=function(){},Fs.prototype.commentQuota=function(){return this.props.data?"@"+bs(this.props.data.user):""},Fs.prototype.onCopy=function(e){var t=e.blockType,n=e.props,r=Object(M.generateBlockDataSet)({blockType:t,props:n}),i="",o="";return r.props&&r.props.data&&delete r.props.data.mentionId,this.props.data&&(i="@"+bs(this.props.data.user),o=Object(M.generateBlockHTML)(r,i)),{html:o,text:i}},Fs);function Fs(e,t,n,r,i){var o=Ps.call(this,e,t)||this;return o.editor=n,o.externalServices=r,o.isMouseMove=i,o.editor=n,o.externalServices=r,o.isMouseMove=i,o}var Bs,Us=40,Hs=(oe(zs,Bs=M.Creator),zs.prototype.create=function(e,t,n){return new js(e,t,n,this.ExternalServices,this.isMouseMoved)},zs);function zs(e){var t=e.ExternalServices,n=e.isSyncRender,r=e.usePrerenderPlaceholder,i=e.getExternalNode,o=Bs.call(this,{isSyncRender:n,usePrerenderPlaceholder:r,getExternalNode:i})||this;return o.blockType=M.BlockType.AT_USER_BLOCK,o.defaultProps={displayMode:M.BlockDisplayMode.INLINE},o.defaultDisplayMode=M.BlockDisplayMode.INLINE,o.mouseMoved=!1,o.setMouseMoveTimeout=null,o.setMouseMoved=function(){o.mouseMoved=!0,o.setMouseMoveTimeout&&window.clearTimeout(o.setMouseMoveTimeout),o.setMouseMoveTimeout=window.setTimeout(function(){o.mouseMoved=!1},Us)},o.isMouseMoved=function(){return o.mouseMoved},o.destroy=function(){o.ExternalServices.popoverOptions&&W()(document).on("mousemove",o.setMouseMoved)},o.ExternalServices=t,o.ExternalServices.popoverOptions&&W()(document).on("mousemove",o.setMouseMoved),o}he(".adit-outer-container {\n  /* input-group is a general style */\n}\n.adit-outer-container input::-ms-clear {\n  display: none;\n}\n.adit-outer-container button {\n  cursor: pointer;\n  border: none;\n  background: none;\n}\n.adit-outer-container button svg:only-child {\n  display: block;\n}\n.adit-outer-container svg {\n  flex-shrink: 0;\n}\n.adit-outer-container a {\n  cursor: pointer;\n  -webkit-transition: color 0.3s ease;\n  transition: color 0.3s ease;\n  text-decoration: none;\n  outline: none;\n  background: transparent;\n}\n.adit-outer-container .clearfix:after,\n.adit-outer-container .clearfix:before {\n  display: table;\n  content: \"\";\n}\n.adit-outer-container .clearfix:after {\n  clear: both;\n  overflow: hidden;\n}\n.adit-outer-container .clearfix {\n  zoom: 1;\n}\n.adit-outer-container .layout-row {\n  position: relative;\n  display: flex;\n  flex-direction: row;\n}\n.adit-outer-container .layout-row > .flex {\n  min-width: 0;\n}\n.adit-outer-container .layout-column {\n  display: flex;\n  flex-direction: column;\n}\n.adit-outer-container .layout-column > .flex {\n  min-height: 0;\n}\n.adit-outer-container .layout-main-center {\n  justify-content: center;\n}\n.adit-outer-container .layout-main-end {\n  justify-content: flex-end;\n}\n.adit-outer-container .layout-main-space-around {\n  justify-content: space-around;\n}\n.adit-outer-container .layout-main-space-between {\n  justify-content: space-between;\n}\n.adit-outer-container .layout-cross-center {\n  align-items: center;\n}\n.adit-outer-container .layout-cross-end {\n  align-items: flex-end;\n}\n.adit-outer-container .layout-main-cross-center {\n  align-items: center;\n  justify-content: center;\n}\n.adit-outer-container .flex {\n  -webkit-box-flex: 1;\n  -ms-flex: 1;\n  flex: 1;\n}\n.adit-outer-container .f-g-1 {\n  flex-grow: 1;\n}\n.adit-outer-container .f-s-0 {\n  flex-shrink: 0;\n}\n.adit-outer-container .noselect,\n.adit-outer-container .select-disabled {\n  -webkit-user-select: none;\n  /* Safari */\n  -moz-user-select: none;\n  /* Firefox */\n  -ms-user-select: none;\n  /* Internet Explorer/Edge */\n  user-select: none;\n  /* Non-prefixed version, currently                           supported by Chrome and Opera */\n  -webkit-touch-callout: none;\n  /* iOS Safari */\n  -khtml-user-select: none;\n  /* Konqueror HTML */\n}\n.adit-outer-container .view-frame {\n  position: relative;\n  overflow: hidden;\n}\n.adit-outer-container .fill-in {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n}\n.adit-outer-container .scrollable {\n  overflow-y: auto;\n}\n.adit-outer-container .router-link {\n  color: #1f2329;\n  outline: none;\n}\n.adit-outer-container .router-link:focus {\n  text-decoration: none;\n}\n.adit-outer-container .input-group {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n}\n.adit-outer-container .input-group > :first-child {\n  border-radius: 4px 0 0 4px;\n}\n.adit-outer-container .input-group > :last-child {\n  border-radius: 0 4px 4px 0;\n}\n.adit-outer-container .input-group > :not(:first-child) {\n  border-left: none;\n}\n.adit-outer-container .g-dpn {\n  display: none;\n}\n.adit-outer-container .g-db {\n  display: block;\n}\n.adit-outer-container .g-pr {\n  position: relative;\n}\n.adit-outer-container .g-pa {\n  position: absolute;\n}\n.adit-outer-container .g-fr {\n  float: right;\n}\n.adit-outer-container .g-tr {\n  text-align: right;\n}\n.adit-outer-container .g-fl {\n  float: left;\n}\n.adit-outer-container .g-bgfff {\n  background: #fff;\n}\n.adit-outer-container .g-dflex {\n  display: flex;\n}\n.adit-outer-container .pointer {\n  cursor: pointer;\n}\n.adit-outer-container .g-cp {\n  cursor: pointer;\n}\n.adit-outer-container .nowrap {\n  white-space: nowrap;\n}\n.adit-outer-container .g-nowrap {\n  white-space: nowrap;\n}\n.adit-outer-container .fs14 {\n  font-size: 14px;\n}\n.adit-outer-container .g-modalPosition .cp-modal {\n  top: 40% !important;\n  padding-bottom: 0;\n  transform: translateY(-50%) !important;\n}\n.adit-outer-container .g-mr10 {\n  margin-right: 10px;\n}\n.adit-outer-container .g-abs-center {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  -webkit-transform: translate(-50%, -50%);\n  -ms-transform: translate(-50%, -50%);\n  transform: translate(-50%, -50%);\n}\n.adit-outer-container .cp-modal-mask {\n  background-color: rgba(31, 35, 41, 0.6) !important;\n}\n.adit-outer-container .cp-modal .cp-modal-title {\n  font-size: 16px;\n  padding-right: 20px;\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n}\n.adit-outer-container .cp-modal .cp-modal-header,\n.adit-outer-container .cp-modal .cp-modal-footer {\n  border: none;\n}\n.adit-outer-container .vertical-center-modal .cp-modal {\n  max-height: 90%;\n  padding-bottom: 0;\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  transform: translate(-50%, -50%);\n}\n.adit-outer-container .ellipsis {\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n}\n.adit-outer-container .g-scrollbar::-webkit-scrollbar {\n  width: 8px;\n  height: 6px;\n  opacity: 0;\n}\n.adit-outer-container .g-scrollbar::-webkit-scrollbar-track {\n  border-radius: 10px;\n  background: rgba(85, 85, 85, 0.1);\n}\n.adit-outer-container .g-scrollbar::-webkit-scrollbar-thumb {\n  border-radius: 10px;\n  background: rgba(0, 0, 0, 0.2);\n}\n.adit-outer-container .g-scrollbar::-webkit-scrollbar-thumb:hover {\n  background: rgba(0, 0, 0, 0.4);\n}\n.adit-outer-container .height-1-1 {\n  height: 100%;\n}\n.adit-outer-container .inline-flex {\n  display: inline-flex;\n}\n.adit-outer-container .tooltip-max-width {\n  display: flex;\n  justify-content: center;\n}\n.adit-outer-container .tooltip-max-width > div > div {\n  white-space: normal;\n}\n.adit-outer-container .tooltip-max-width.tooltip-max-width-small {\n  width: 100px;\n}\n.adit-outer-container .tooltip-max-width.tooltip-max-width-small > div > div {\n  max-width: 100px;\n}\n.adit-outer-container .tooltip-max-width.tooltip-max-width-large {\n  width: 400px;\n}\n.adit-outer-container .tooltip-max-width.tooltip-max-width-large > div > div {\n  max-width: 400px;\n}\n.adit-outer-container .mention-chat-card,\n.adit-outer-container .mention-uploader-file-card {\n  padding: 6px 0;\n}\n.adit-outer-container .ie11_dragable {\n  cursor: pointer;\n}\n.adit-outer-container .history-sidebar .mention-chat-button,\n.adit-outer-container .history-sidebar .mention-file-card-button,\n.adit-outer-container .history-sidebar .mention-chat-button-opt,\n.adit-outer-container .history-sidebar .mention-file-card-button-opt {\n  display: none;\n}\n.adit-outer-container span.mention {\n  overflow: hidden;\n}\n.adit-outer-container span.mention > a {\n  outline: none;\n  color: #3370ff;\n  font-style: normal;\n  text-decoration: none!important;\n  word-break: break-all;\n  margin-right: 2px;\n}\n.adit-outer-container span.mention > a:hover {\n  text-decoration: none;\n}\n.adit-outer-container span.mention.mention-type_0 a {\n  word-break: break-all;\n  white-space: nowrap;\n  padding-top: 2px;\n  padding-bottom: 2px;\n}\n.adit-outer-container span.mention.mention-type_0 a::before {\n  content: '';\n  display: inline-block;\n}\n.adit-outer-container span.mention .heading-h1 i span.mention-type_0 a {\n  padding-bottom: 3px;\n}\n.adit-outer-container span.mention.at-self-highlight a {\n  padding-left: 0.4em;\n  padding-right: 0.4em;\n  color: #fff !important;\n  background: #3370ff;\n  border-radius: 999em;\n}\n.adit-outer-container .list-code .mention-type_1 > a:before,\n.adit-outer-container .list-code .mention-type_3 > a:before,\n.adit-outer-container .list-code .mention-type_8 > a:before,\n.adit-outer-container .list-code .mention-type_11 > a:before,\n.adit-outer-container .list-code .mention-type_12 > a:before,\n.adit-outer-container .list-code .mention-type_15 > a:before {\n  padding-left: 0.4em !important;\n}\n.adit-outer-container .j-block-container .at-user-text span {\n  cursor: pointer;\n}\n.mobile .adit-outer-container .mention .open-lark {\n  color: #8f959e !important;\n}\n.mobile .adit-outer-container .mention.mention-type_5 {\n  display: block;\n}\n",{className:"adit-style"});var Vs=D.E.MENTION,Ks=32,Gs=D.u.getEdgeMovement,Ws=D.u.getHorizontalMovement,Ys="at-uuid_",qs="hold-when-replace",Zs=(Xs.prototype.getKeyWords=function(){var e=W()("."+Ys+this.uuid).text(),t="";if(0!==e.length){if(e[0]===$t)t=Ho(e);else{if("@"!==e.slice(0,1))return void this.closeMentionBox();t=e.slice(1)}return(t=(t||"").split(String.fromCharCode(160)).join(" ")).slice(0,Ks)}this.closeMentionBox(!0)},Xs.prototype.deleteBlankChar=function(e,t){var n,r,i,o,a,s,c,u,l,d;t||(n=this.author,r=""+Ys+e,i=ga(Do,this.editor),o=W()("."+Ys+e),(a=this.adit.getSelectionForElement(o.get(0)))&&(s=this.editor,c=a.selStart,u=a.selEnd,l=a.zoneId,d=[{start:fe(c,[l]),end:fe(u,[l]),newText:Ho(o.text()),attributes:[["author",n],["at-holder","true"],[r,"true"]].concat(i)}],s.callWithAce(function(e){e.fastIncorp(),s.dom?e.performDocumentReplaceMultiRangeWithAttributes(l,d):e.performDocumentReplaceMultiRangeWithAttributes(d),e.updateBrowserSelectionFromRep(!0)},"filterChar",!0)))},Xs.prototype.deserialize=function(e){var t=e.node,n=e.deltaSet,r=e.zoneId,i=n;if(t instanceof HTMLElement){var o=t.className,a=t.tagName,s=a;if("A"===a){for(;t&&"SPAN"!==s&&"BODY"!==s;)t=t.parentNode||void 0,s=Object(K.default)(t,"tagName")||"";-1<o.indexOf("mention")&&Object(S.a)(o.split(" "),function(e){var t;/mention|b/.test(e)&&"mention"!==e&&(i=0===e.indexOf("mention-icon")?(t=e.substring("mention-icon_".length),Object(R.H)(i,r,{"mention-icon":t})):Object(R.H)(i,r,{item:"true"}))})}"SPAN"===s&&-1<o.indexOf("at-holder")&&Object(S.a)(o.split(" "),function(e){/at-(.+)/.test(e)&&(i=Object(R.H)(i,r,{item:"true"}))})}return i},Xs.prototype.reset=function(){this.mentionBox&&this.mentionBox.close(),this.mentionBox&&this.mentionBox.unbindMentionClick&&this.mentionBox.unbindMentionClick(),this.mentionBox&&this.mentionBox.removeRootCb&&this.mentionBox.removeRootCb(),this.handleResize.cancel()},Xs.prototype.isMentionNode=function(e){var t=W()(e).parents("span"),n=t.attr("class");return!(t.text()!==W()(e).text()||void 0===n||!/mention-type/.test(n))},Xs);function Xs(e,t){var R=this;this.adit=e,this.options=t,this.uuid="",this.cache={},this.composition=!1,this.startText="",this.charOffsetTop=0,this.isClickAt=!1,this.command=!1,this.prevKeyWords="",this.author="",this.register=function(){R.editor.commands.registerAceCommand(Vs,function(e,t){var n=R.adit.getCurrentSelection(),r=n.selStart,i=n.zoneId,o=n.selEnd,a=R.mentionBox;t.inCallStackIfNecessary("addAt",function(){var e=Qt();R.uuid=e,a.setUuid(e),a.setContext({evt:{type:"trigger"}}),R.isClickAt=!0,R.charOffsetTop=R.getCurrentCharTop()||0,R.prevKeyWords="",a&&a.show("",{selStart:r,zoneId:i,selEnd:o})}),R.scrollWindow()})},this.getCurrentCharTop=function(){var e=R.adit.getCurrentSelection().selStart,t=R.editor.getRep().lines.atIndex(e[0]),n=t&&t.getCharRect(e[1]);return n&&n.top},this.aceKeyEvent=function(e,t){return R.handleKeyEvent(t)},this.aceCompositionEvent=function(e,t){if(N.browser.mobile)return R.handleKeyEvent(t)},this.handlePCKeyEvent=function(e){var t=e.evt,n=e.isTypeForCmdKey,r=e.padShortcutEnabled,i=t.keyCode,o=t.type,a=t.which,s=t.altKey,c=t.ctrlKey,u=t.metaKey,l=Ao.LEFT,d=Ao.RIGHT,p=Ao.UP,f=Ao.DOWN,h=Ao.RETURN,g=Ao.BACKSPACE,m=Ao.ESC,v=Ao.TAB,y=String.fromCharCode(a).toLowerCase(),b=R.isMentionBoxVisible();if(n&&"z"===y&&(u||c)&&!s&&r.cmdZ)return!1;if(!n||"y"!==y||!u&&!c||!r.cmdY){if("c"===y&&(u||c))return!!R.isCursorInChatCard()&&(t.preventDefault(),!0);var E,_=Bo(),C=_&&_.focusNode&&W()(_.focusNode).parent(),T=-1<[l,p,d,f,g].indexOf(i),O=!1,k=!1;if(_&&Vo(_)&&C&&(O=(E=_.focusOffset)===C.text().length,k=0===E),o===wo?R.composition=!0:o===Io&&(R.composition=!1),C&&R.isMentionNode(C.get(0))&&!T&&!O&&!k)if(o===wo)R.startText=C.text();else if(o===Io)C.text(R.startText);else if("keydown"===o)return t.preventDefault(),!0;var S=R.options.showAble||!0;if("keyup"===o&&-1===[p,f,d,l,g,h,m,v].indexOf(i)&&!b&&Go()&&!R.prevTextIsWordsOrNumber()&&!R.isCursorInChatCard()&&S){if(N.browser.isEdge)return R.composition=!1,R.editor.fastIncorp(!0),R.openMentionBox(t);if(!R.composition)return R.openMentionBox(t)}if(i===g&&"keydown"===o&&!b)return Zo(e);if("keydown"===o&&b&&-1<[l,d].indexOf(i)&&(e.preventOtherHooksHandle=!0,t.preventDefault()),i===g&&"keyup"===o&&b){var w=Bo(),I=w&&w.focusNode;if(I&&I.parentNode){if(W()(I.parentNode).prev().hasClass(""+Ys+R.uuid))return!0;W()(I.parentNode).hasClass(""+Ys+R.uuid)||R.mentionBox.close()}}var x=Ws(t),L=Gs(t);if(!b&&(x||L))return aa(e,x||L),!0;if(b&&("keydown"===o||"compositionend"===o)){if(-1<[h,p,f,d,l].indexOf(i))return e.preventOtherHooksHandle=!0,t.preventDefault(),!0;setTimeout(function(){R.handleChange()})}}},this.editorKeyUp=function(e,t){if(N.browser.mobile)return R.handleKeyUp(t)},this.handleKeyUp=function(e,t){var n=e.evt,r=n&&n.keyCode,i=Ao.BACKSPACE;if(r!==Ao.RETURN){var o=R.mentionBox,a=o.getIsVisible();if(R.isCursorInMention()&&!a&&i!==r)return n.preventDefault(),!0;if(!a&&i!==r&&!R.isCursorInChatCard()&&Go()){n.preventDefault();var s=Qt();return R.uuid=s,o.setUuid(s),o.setContext(),R.charOffsetTop=R.getCurrentCharTop()||0,R.editor.inCallStackIfNecessary("mentionFastIncorp",function(){R.editor.fastIncorp()}),R.scrollWindow(),o.show("")}a&&R.isCursorInAt()&&R.handleChange()}},this.handleMobileKeyEvent=function(e){var t=e.evt,n=t.keyCode,r=t.shiftKey,i=t.type,o=Ao.LEFT,a=Ao.RIGHT,s=Ao.UP,c=Ao.DOWN,u=Ao.RETURN,l=Ao.BACKSPACE,d=R.mentionBox,p=R.isMentionBoxVisible();if(R.isCursorInMention()&&!p&&l!==n)return t.preventDefault(),!0;if(i===Io&&R.handleKeyUp(e,!0),n===l&&"keydown"===i&&!p)return Zo(e,function(e){var t=e.mentionTempId;d.getTimer(t)&&d.clearTimer(t)});if(-1<[a,o,l].indexOf(n)&&"keyup"===i&&p){var f=Bo(),h=f&&f.focusNode;if(h&&h.parentNode&&n===l&&W()(h.parentNode).prev().hasClass(""+Ys+R.uuid))return!0;h&&h.parentNode&&!W()(h.parentNode).hasClass(""+Ys+R.uuid)&&d.hide()}if(-1<[a,o].indexOf(n)&&"keydown"===i&&!r)return aa(e),!0;if(p&&("keydown"===i||i===Io)){if(-1<[s,c].indexOf(n))return e.preventOtherHooksHandle=!0,t.preventDefault(),!0;u===n&&d.hide()}},this.handleKeyEvent=function(e){return N.browser.mobile?R.handleMobileKeyEvent(e):R.handlePCKeyEvent(e)},this.handleChange=function(){var e=R.getKeyWords()||"";e!==R.prevKeyWords&&(R.mentionBox.update({keywords:e}),R.prevKeyWords=e)},this.openMentionBox=function(e){var t={uuid:R.uuid=Qt(),list:[],message:R.cache};return e.preventDefault(),R.showMentionBox(t,e),!0},this.closeMentionBox=function(e){R.mentionBox&&R.mentionBox.getIsVisible()&&R.mentionBox&&R.mentionBox.close(e)},this.showMentionBox=function(t,e){var n=t.uuid,r=R.editor,i=R.options,o=i.boxWidth,a=i.container,s=R.author,c=""+Ys+n;if(e.command){var u=e.command===Lo[xo.USER]?"@":$t;R.createBlankDom(u,s,c,!0),R.command=e.command}else{var l=ga(Do,r),d=R.editor.getRep(),p=d.selStart,f=p&&p[0],h=d.lines.atIndex(f),g=h&&h.lineNode;if(!g)return;var m=/lineguid-(\S+)/.exec(g.className),v=m&&m[1],y=fe([["author",s],["at-holder",!0],[c,!0]],v?[["lineguid",v]]:[],l),b=R.adit.getCurrentSelection(),E=b.selStart,_=b.selEnd;E&&_&&pa(R.editor,[E[0],E[1]-1],_,"@",y)}var C=R.editor.getOuterContainer(),T=Boolean(a&&1===a.nodeType)?W()(a):"string"==typeof a?W()("."+a):W()(".adit-doc-position",C),O=W()("."+Ys+n,C),k=dt(O.get(0),R.editor),S=oa(ia(O.get(0),{boxWidth:o,$boxContainer:T,zoom:k}));S&&(N.browser.modernIE&&(S.height=ra.boxMinHeight+"px"),R.mentionBox.showBox({style:S,mentionBoxProps:t,command:R.command,onConfirm:function(e){return R.handleConfirm(e,t)},onAsideClick:function(){return r.updateBrowserSelectionFromRep(!0)},onClose:R.command?function(e){return R.deleteBlankChar(n,e)}:null}))},this.handleConfirm=function(e,t){var n,r,i,o,a,s,c,u,l,d,p,f,h,g,m,v,y,b,E,_=R.adit.getEditor(),C=R.author,T=t.uuid,O=e.data,k=O.type,S=O.token,w=O.url,I=O.content,x=W()("."+Ys+T),I=(I||"weeee").trim();_.updateBrowserSelectionFromRep(!0),Object(L.default)(O)||(_.inCallStackIfNecessary("mentionFastIncrop",function(){_.fastIncorp(!0)}),n=""+Ys+T,x=W()("."+n),(r=R.adit.getSelectionForElement(x.get(0)))&&(i=r.selStart,o=r.selEnd,a=r.zoneId,u=(c=(s=_.getRep()).lines.atIndex(i[0]))?c.text.length:0,o[1]>u&&(l=s.lines.atIndex(o[0]),o[1]=l?l.text.length:0),d=I,p=" ",m=[["author",C],["at-holder",0],[n,0],["mention-type_"+k,!0],["mention-link_"+encodeURIComponent(w),!0]],f=ga(Do,_),m=k===Co.USER?(p=" ",fe(f,m=_.plugins.blockPlugin.getAttrsFromBlockDataSet(e.data.dataSet))):(h={blockType:M.BlockType.MENTION_BLOCK,props:{displayMode:M.BlockDisplayMode.INLINE,link:encodeURIComponent(w),type:k,token:S,uuid:T,title:d},blockInitData:void 0},g=Object(M.generateBlockDataSet)(h),fe(f,m=_.plugins.blockPlugin.getAttrsFromBlockDataSet(g))),v=fe(i,[a]),y=fe(o,[a]),ha(_,v,y,p,m,!1),k!==Co.INLINE_BLOCK&&k!==Co.USER||(_.inCallStackIfNecessary("insertInlineBlockPerformRepChange",function(){_.performSelectionChange(a,o,o)}),_.updateBrowserSelectionFromRep(!0),k===Co.USER&&(b=[i[0],i[1]+p.length],E=fe([["author",C]],f),fa(_,b,b,E))),R.mentionBox.close(!0)))},this.aceBeforeCopy=function(){var e,t=window.getSelection();if(t&&(t.getRangeAt?e=t.getRangeAt(0):(e=document.createRange(),t.anchorNode&&e.setStart(t.anchorNode,t.anchorOffset),t.focusNode&&e.setEnd(t.focusNode,t.focusOffset)),3===e.endContainer.nodeType)){var n=da(e.endContainer,"mention-type_"+Co.USER);if(n)return n.outerHTML+"<span> </span>"}},this.aceAttribsToClasses=function(e,t){var n=t.key,r=t.value;return-1<["mention-type","mention-link","mention-token","mention-id","mention-tempId","mention-chatId"].indexOf(n)?n+"_"+r:/mention/.test(n)||/at-(.+)/.test(n)?n:""},this.linesWillReplace=function(e,t){var o,n=t.oldLineEntries,a=t.newLineEntries;n[0]&&a[0]&&(o="."+qs,Object(S.a)(n,function(e,t){var n,r,i=e.lineNode;a[t]&&(n=a[t].lineNode,(r=W()(i).find(o)).length&&n&&(W()(n).find(o).replaceWith(r),R.editor.dirtyChecker.markNodeClean(n,a[t])))}))},this.UNSAFE_editorNormalizePasteNode=function(e){var t=e.preventDefault,n=e.data.node,r=W()(n),i=r.find(".mention");i.length&&(N.browser.mobile?r.find(".mention").removeAttr("class").find("a").removeAttr("href"):(Object(S.a)(i,function(e){e.className=e.className.replace(/mention-tempId_\S*/,"")}),t()))},this.aceCreateDomLine=function(e,t){var n,r,i,o,a,s,c,u,l,d=t.spanClass;/(^| )mention-token|mention-chatId/.test(d)&&(r=(n=Qo(d)).type,o=(i=n.link)&&decodeURIComponent(i)||"",c=s=a=l=u="",l=(u=parseInt(r)===Co.USER?'<a href="javascript:void(0)" contenteditable="false">':Object(D.L)(o).isCurDocAnchor?'<a href="javascript:void(0);" data-href="'+o+'"\n              rel="noopener noreferrer" contenteditable="false">':'<a href="'+o+'" data-href="'+o+'"\n              rel="noopener noreferrer" target="_blank" contenteditable="false">',"</a>"),a?t.rawHtml=a:(t.extraOpenTags=""+t.extraOpenTags+u,t.extraCloseTags=""+l+t.extraCloseTags,t.extraOpenHtml=D.e,t.extraCloseHtml=D.f),t.attributes["data-faketext"]=t.text,t.spanClass=(d||"")+" mention "+(s||""),c&&(t.lineClass=t.lineClass+" "+c))},this.handleResize=Object(h.default)(function(){var e,t,n,r,i;R.mentionBox&&R.mentionBox.isVisible&&(e=R.uuid,(t=W()("."+Ys+e).get(0))&&(i=oa(ia(t,{boxWidth:(n=R.options).boxWidth,$boxContainer:(r=n.container)?W()("."+r):W()(".doc-position")})),R.mentionBox.update({style:i})))},500),this.editorSizeChange=function(){R.handleResize()},this.aceSelectionChanged=function(e,t){N.browser.mobile&&(R.isClickAt?R.isClickAt=!1:R.mentionBox.getIsVisible()&&(R.isCursorInAt()||R.mentionBox.hide(),R.charOffsetTop!==R.getCurrentCharTop()&&(R.scrollWindow(),R.charOffsetTop=R.getCurrentCharTop()||0)))},this.createBlankDom=function(e,t,n,r){var i=R.editor,o=ga(Do,i),a=fe([["author",t],["at-holder",!0],[n,!0]],o),s=i.getRep();i.callWithAce(function(){pa(i,s.selStart,s.selEnd,e,fe(a,o),r)},"createBlankDom",!0)},this.handleBarBtnClick=function(e,t){return void 0===t&&(t={}),t.command=e,R.openMentionBox(t),!0},this.prevTextIsWordsOrNumber=function(){var e=R.editor;if(e.inCallStackIfNecessary("openMention",function(){e.fastIncorp()}),N.browser.isIE)return Wo();var t=R.adit.getCurrentSelection();if(t.selStart){var n=pe(t.selStart,2),r=n[0],i=n[1],o=e.getRep().lines.atIndex(r),a=r&&o&&o.text||"",s=i?a&&a.slice(i-2,i-1):"";return s&&/^[a-zA-Z0-9]$/.test(s)}return!1},this.isCursorInMention=function(){var e,t=R.editor,n=t.getRep().zoneId,r=t.selection.getRealSelection(n),i=!1;for(e in t.getAttributesOnSelection(n,r).attribsKey)if(/^mention/.test(e)){i=!0;break}if(!i)return!1;if(0===r.selStart[1])return!1;var o=Bo();return!!o&&!(o.focusNode&&o.focusOffset===W()(o.focusNode).text().length)},this.isCursorInAt=function(){var e=R.editor,t=e.getRep(),n=W()("."+Ys+R.uuid).get(0);if(!n)return!1;var r=e.domToRep(n);return!!r&&R.isRepInDomRep(t,r)},this.isRepInDomRep=function(e,t){var n=e.selStart,r=e.selEnd,i=t.selStart,o=t.selEnd;return n&&r&&n[0]===r[0]&&n[1]===r[1]&&r&&n&&n[1]>=i[1]&&r[1]<=o[1]},this.isCursorInChatCard=function(){var e=window.getSelection(),t=R.editor.getRep(),n=t.selStart[0],r=t.lines.atIndex(n),i=r&&r.lineNode;return e&&Vo(e)&&W()(i).find(".mention-type_"+Co.CHAT).length},this.isMentionBoxVisible=function(){return R.mentionBox&&R.mentionBox.getIsVisible()},this.scrollWindow=function(){var e,t,n,r,i,o=W()(R.adit.getHost(!0));!o||(t=(e=R.editor.getRep()).lines.atIndex(e.selStart[0]))&&(n=t.getLineRect(),r=t.getCharRect(e.selStart[1]),i=n.top+o.offset().top+r.top,window.setTimeout(function(){window.scrollTo(0,i)},50))},this.editor=e.getEditor(),N.browser.mobile?(this.mentionBox=new Ga(this.adit,t),this.register()):this.mentionBox=new La(this.adit,t),this.author=this.editor.getAuthor()}function Qs(e,t,n,r){return void 0===r&&(r=!0),'<span class="author-'+n+" link-mention-holder "+t+'\n  url">'+(r?" ":"")+'<a href="'+e+'" target="_blank">'+e+"</a></span>"}function Js(e){return Object(l.a)(e,function(e){return e[0]})}function $s(e,t,n,r){e.inCallStackIfNecessary("performSpace",function(){e.makeNewEvent("nonundoable",function(){e.fastIncorp(),e.dom,e.performDocumentReplaceRangeWithAttributes(e.getRep().zoneId,t,n," ",Js(r))})})}var ec=D.i.UP,tc=D.i.DOWN,nc=D.i.RIGHT,rc=D.i.LEFT,ic=D.i.BACKSPACE,oc=D.i.RETURN,ac=D.i.ESC,sc=D.i.TAB,cc=D.i.SPACE,uc=1e3,lc="A",dc=(pc.prototype.clearReplaceTimer=function(){this.replaceTimer&&clearTimeout(this.replaceTimer)},pc.prototype.deserialize=function(e){var t=e.node,n=e.deltaSet,r=e.zoneId,i=n;if(t instanceof HTMLElement){var o=t.className,a=t.tagName,s=a;if("A"===a){for(;t&&"SPAN"!==s&&"BODY"!==s;)t=t.parentNode||void 0,s=Object(K.default)(t,"tagName")||"";-1<o.indexOf("mention")&&Object(S.a)(o.split(" "),function(e){var t;/mention|b/.test(e)&&"mention"!==e&&(i=0===e.indexOf("mention-icon")?(t=e.substring("mention-icon_".length),Object(R.H)(i,r,{"mention-icon":t})):Object(R.H)(i,r,{item:"true"}))})}"SPAN"===s&&-1<o.indexOf("at-holder")&&Object(S.a)(o.split(" "),function(e){/at-(.+)/.test(e)&&(i=Object(R.H)(i,r,{item:"true"}))})}return i},pc.prototype.aceKeyEvent=function(e,t){var n,r,i,o,a,s,c,u,l,d,p,f,h,g,m,v,y,b,E,_,C,T=this,O=t.evt,k=t.editor,S=O.type,w=O.keyCode,I=O.altKey,x=O.ctrlKey,L=O.metaKey;"keydown"===S&&(this.ignore=I||x||L),"keyup"!==S||-1<pc.BLACK_LIST.indexOf(w)||k.getInInternationalComposition()||(r=(n=getSelection()).extentNode||n.focusNode)&&(i=r.nodeValue,o=r.parentNode,a=r.previousSibling,this.ignore||W()(r).closest('[class*="comment-id-"]').length?this.ignore=!1:(this.clearReplaceTimer(),s=o.tagName.toUpperCase()===lc,c=-1<o.className.toLowerCase().indexOf("url"),(s&&Object(D.C)(i)||c)&&a&&Object(D.C)(a.innerHTML+i)&&(u=k.getAuthor(),l=i,(d=o).tagName.toUpperCase()!==lc&&(l=a.innerHTML+i,d=a),(p=k.domToRep(d))&&(f=p.selStart,h=p.selEnd,g=k.getRep().zoneId,m=this.getExtendedAttribs(k),v=Qt(),y=pc.HOLDER_PREFIX+v,(b=Object(D.C)(l))&&(this.space=!1,E=b.protocol,_=b.type,C=b.token,this.performMentionHolder(k,f,h,g,l,[["author",u],[pc.HOLDER_CLASS,!0],[y,!0]].concat(m)),this.replaceTimer=window.setTimeout(function(){T.doReplace(k,l,{type:_,token:C,protocol:E},v)},uc))))))},pc.prototype.UNSAFE_editorNormalizePasteNode=function(e){var t,n,r,i,o,a=e.data.node,s=getSelection(),c=s.extentNode||s.focusNode;W()(c).closest(".comment-textarea").length||(t=a.textContent)&&Object(D.C)(t)&&(n=this.editor.getAuthor(),r=Qt(),i=pc.HOLDER_PREFIX+r,a.innerHTML=Qs(t,i,n,this.space),this.space=!0,(o=Object(D.C)(t))&&this.doReplace(this.editor,t,o,r))},pc.prototype.actionLink2Mention=function(e,t){var n,r=e.getRep(),i=e.getAuthor(),o=r.selStart,a=r.selEnd,s=r.zoneId,c=Qt(),u=pc.HOLDER_PREFIX+c,l=this.getExtendedAttribs(e),d=Object(D.C)(t);d&&(this.space=!1,n=[["author",i],[pc.HOLDER_CLASS,!0],[u,!0],["url",!0]].concat(l),this.performMentionHolder(e,o,a,s,t,n),this.doReplace(e,t,d,c))},pc.prototype.performMentionHolder=function(e,t,n,r,i,o){e.inCallStackIfNecessary("performMentionHolder",function(){e.fastIncorp(),e.performDocumentReplaceRangeWithAttributes(r,t,n,i,Js(o))})},pc.prototype.getExtendedAttribs=function(e){var t=e.getRep(),n=t.zoneId,r=Object(K.default)(e.getAttributesOnSelection(n,t,void 0),"attribs")||[];return r=Object(d.a)(r,function(e){var t=e[0];return-1<["backcolor","bold","italic","underline","strikethrough"].indexOf(t)})},pc.prototype.doReplace=function(f,h,e,g){var m=this,v=e.type,y=e.token,t=f.plugins.blockPlugin.blockManager.creators.mentionBlock,n=t.ExternalServices,b=t.t,E=e.protocol;n.getFileInfo(h).then(function(e){if(!f.getInInternationalComposition()){f.inCallStackIfNecessary("performMentionHolder",function(){f.fastIncorp()});var t=W()("."+(pc.HOLDER_PREFIX+g));if(t[0]){var n=f.domToRep(t[0]);if(n){var r=n.selStart,i=n.selEnd,o=f.getAuthor(),a=e.title,s=Za.BOX;switch(v){case"doc":s=Za.FILE,a=a||b("common.unnamed_document");break;case"sheet":s=Za.SHEET,a=a||b("common.unnamed_sheet");break;case"bitable":s=Za.BITABLE,a=a||b("common.unnamed_bitable");break;case"mindnote":s=Za.MINDNOTE,a=a||b("common.unnamed_mindnote");break;case"slide":s=Za.SLIDE,a=a||b("common.unnamed_slide");break;case"wiki":s=Za.WIKI,a=a||b("common.unnamed_wiki");break;case"file":s=Za.FILE,a=a||b("common.unnamed_file")}E||(E=window?window.location.protocol:"https",h=E+"//"+h);var c={blockType:M.BlockType.MENTION_BLOCK,props:{displayMode:M.BlockDisplayMode.INLINE,link:encodeURIComponent(h),type:s,token:y,uuid:g,title:a},blockInitData:void 0},u=" ",l=m.getExtendedAttribs(f);r[1]=m.space&&0<r[1]?r[1]-1:r[1],m.adit.format("dataMetaBlockProps",Object(M.generateBlockDataSet)(c),{selStart:r.slice(0,2),selEnd:i.slice(0,2),zoneId:f.getRep().zoneId},"INLINE");var d=[r[0],r[1]+u.length],p=[["author",o]].concat(l);$s(f,d,d,p)}}}})},pc.prototype.reset=function(){this.ignore=!1,this.clearReplaceTimer()},pc.BLACK_LIST=[ec,tc,nc,rc,ic,oc,ac,sc,cc],pc.HOLDER_PREFIX="link-mention-uuid_",pc.HOLDER_CLASS="link-mention-holder",pc);function pc(e){this.adit=e,this.ignore=!1,this.space=!1,this.adapterKey="Link2Mention",this.aceAttribsToClasses=function(e,t){var n=t.key,r=t.value;return-1<["mention-type","mention-link","mention-token","mention-id","mention-tempId","mention-chatId"].indexOf(n)?n+"_"+r:/mention/.test(n)||/at-(.+)/.test(n)?n:null},this.replaceTimer=null,this.editor=e.getEditor()}var fc,hc=(oe(gc,fc=P.PureComponent),gc.prototype.render=function(){var e=this.props,n=e.link,r=e.token,i=e.type,o=e.uuid,a=e.title,t=e.externalServices,s=e.isMouseMoved,c=t.getContainer,u=t.getBoundaryContainer,l=t.beforeShowPopover,d=decodeURIComponent(n),p=/^\s*http|^\s*\//.test(d)?d:"",f=function(e,t){return Object(P.createElement)("span",{className:"mention mention-link_"+n+" mention-token_"+r+" mention-type_"+i+" mention-uuid_"+o,onMouseEnter:e,onMouseLeave:t},Object(P.createElement)("a",{href:p,"data-href":decodeURIComponent(n),rel:"noopener noreferrer",target:"_blank"},a))};return c&&c()?Object(P.createElement)(hs,{isMouseMoved:s,getContainer:c,getBoundaryContainer:u,onShowPopOver:this.onShowPopOver,beforeShowPopover:l},f):f()},gc);function gc(){var u=null!==fc&&fc.apply(this,arguments)||this;return u.onShowPopOver=function(e,t,n){var r=n.type,i=n.token,o=u.props.externalServices.onShowPopOver,a=e.closest(".block-type-mentionBlock").data("meta-block-props"),s="";try{var c=a.props.link,s=decodeURIComponent(c)}catch(e){console.error(e)}o({token:i,type:r,url:s},t[0])},u}he(".mobile .adit-outer-container .mention .open-lark {\n  color: #8f959e !important;\n}\n.mobile .adit-outer-container .mention.mention-type_5 {\n  display: block;\n}\n.adit-outer-container .mention-chat-card,\n.adit-outer-container .mention-uploader-file-card {\n  padding: 6px 0;\n}\n.adit-outer-container .ie11_dragable {\n  cursor: pointer;\n}\n.adit-outer-container span.mention {\n  overflow: hidden;\n}\n.adit-outer-container span.mention > a {\n  outline: none;\n  color: #3370ff;\n  font-style: normal;\n  text-decoration: none!important;\n  word-break: break-all;\n  margin-right: 2px;\n}\n.adit-outer-container span.mention > a:hover {\n  text-decoration: none;\n}\n.adit-outer-container span.mention.mention-type_1 > a,\n.adit-outer-container span.mention.mention-type_3 > a,\n.adit-outer-container span.mention.mention-type_8 > a,\n.adit-outer-container span.mention.mention-type_11 > a,\n.adit-outer-container span.mention.mention-type_12 > a,\n.adit-outer-container span.mention.mention-type_15 > a,\n.adit-outer-container span.mention.mention-type_16 > a {\n  cursor: pointer;\n}\n.adit-outer-container span.mention.mention-type_1 > a:before,\n.adit-outer-container span.mention.mention-type_3 > a:before,\n.adit-outer-container span.mention.mention-type_8 > a:before,\n.adit-outer-container span.mention.mention-type_11 > a:before,\n.adit-outer-container span.mention.mention-type_12 > a:before,\n.adit-outer-container span.mention.mention-type_15 > a:before,\n.adit-outer-container span.mention.mention-type_16 > a:before {\n  content: ' ';\n  display: inline-block;\n  width: 4px;\n  height: 100%;\n  padding-left: 0.7em;\n  background-position: 50%;\n  margin-left: 2px;\n  margin-right: 2px;\n  background-repeat: no-repeat;\n  background-size: contain;\n  background-image: url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='14px' height='14px' viewBox='0 0 14 14' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3E%3Ctitle%3Einlineblock/doc%3C/title%3E%3Cdesc%3ECreated with Sketch.%3C/desc%3E%3Cg id='Symbols' stroke='none' stroke-width='1' fill='none' fill-rule='evenodd'%3E%3Cg id='inlineblock/doc' fill='%233370FF' fill-rule='nonzero'%3E%3Cg transform='translate%281.000000%2C 0.000000%29' id='Combined-Shape'%3E%3Cpath d='M10.5857864%2C3.5 L8.5%2C1.41421356 L8.5%2C3.5 L10.5857864%2C3.5 Z M7.5%2C1 L1%2C1 L1%2C13 L11%2C13 L11%2C4.5 L8.5%2C4.5 C7.94771525%2C4.5 7.5%2C4.05228475 7.5%2C3.5 L7.5%2C1 Z M1%2C0 L8.5%2C0 L12%2C3.5 L12%2C13 C12%2C13.5522847 11.5522847%2C14 11%2C14 L1%2C14 C0.44771525%2C14 6.76353751e-17%2C13.5522847 0%2C13 L0%2C1 C-6.76353751e-17%2C0.44771525 0.44771525%2C1.01453063e-16 1%2C0 Z M3%2C6 L9%2C6 L9%2C7 L3%2C7 L3%2C6 Z M3%2C8 L9%2C8 L9%2C9 L3%2C9 L3%2C8 Z M3%2C10 L9%2C10 L9%2C11 L3%2C11 L3%2C10 Z'/%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/svg%3E\");\n}\n.adit-outer-container span.mention.mention-type_3 > a:before {\n  background-image: url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='14px' height='14px' viewBox='0 0 14 14' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3E%3Ctitle%3Einlineblock/sheet%3C/title%3E%3Cdesc%3ECreated with Sketch.%3C/desc%3E%3Cg id='Symbols' stroke='none' stroke-width='1' fill='none' fill-rule='evenodd'%3E%3Cg id='inlineblock/sheet' fill='%233370FF' fill-rule='nonzero'%3E%3Cg id='sheet' transform='translate%281.000000%2C 0.000000%29'%3E%3Cpath d='M5.5%2C11 L5.5%2C9.5 L4%2C9.5 L4%2C8.5 L5.5%2C8.5 L5.5%2C7 L4%2C7 L4%2C11 L5.5%2C11 Z M6.5%2C11 L8%2C11 L8%2C7 L6.5%2C7 L6.5%2C8.5 L8%2C8.5 L8%2C9.5 L6.5%2C9.5 L6.5%2C11 Z M10.5857864%2C3.5 L8.5%2C1.41421356 L8.5%2C3.5 L10.5857864%2C3.5 Z M7.5%2C1 L1%2C1 L1%2C13 L11%2C13 L11%2C4.5 L8.5%2C4.5 C7.94771525%2C4.5 7.5%2C4.05228475 7.5%2C3.5 L7.5%2C1 Z M1%2C0 L8.5%2C0 L12%2C3.5 L12%2C13 C12%2C13.5522847 11.5522847%2C14 11%2C14 L1%2C14 C0.44771525%2C14 6.76353751e-17%2C13.5522847 0%2C13 L0%2C1 C-6.76353751e-17%2C0.44771525 0.44771525%2C1.01453063e-16 1%2C0 Z M3%2C6 L9%2C6 L9%2C12 L3%2C12 L3%2C6 Z' id='Combined-Shape'/%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/svg%3E\");\n}\n.adit-outer-container span.mention.mention-type_8 > a:before {\n  background-image: url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='14px' height='14px' viewBox='0 0 14 14' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3E%3Ctitle%3Einlineblock/bitable%3C/title%3E%3Cdesc%3ECreated with Sketch.%3C/desc%3E%3Cg id='Symbols' stroke='none' stroke-width='1' fill='none' fill-rule='evenodd'%3E%3Cg id='inlineblock/bitable'%3E%3Cg id='bitable' transform='translate%281.000000%2C 0.000000%29'%3E%3Cpath d='M10.5857864%2C3.5 L8.5%2C1.41421356 L8.5%2C3.5 L10.5857864%2C3.5 Z M7.5%2C1 L1%2C1 L1%2C13 L11%2C13 L11%2C4.5 L8.5%2C4.5 C7.94771525%2C4.5 7.5%2C4.05228475 7.5%2C3.5 L7.5%2C1 Z M1%2C0 L8.5%2C0 L12%2C3.5 L12%2C13 C12%2C13.5522847 11.5522847%2C14 11%2C14 L1%2C14 C0.44771525%2C14 6.76353751e-17%2C13.5522847 0%2C13 L0%2C1 C-6.76353751e-17%2C0.44771525 0.44771525%2C1.01453063e-16 1%2C0 Z M3%2C8 L9%2C8 L9%2C7 L3%2C7 L3%2C8 Z M3%2C9 L3%2C11 L4%2C11 L4%2C9 L3%2C9 Z M5%2C11 L9%2C11 L9%2C9 L5%2C9 L5%2C11 Z M2%2C6 L10%2C6 L10%2C12 L2%2C12 L2%2C6 Z' id='Combined-Shape' fill='%233370FF' fill-rule='nonzero'/%3E%3Cg id='Group' transform='translate%282.000000%2C 6.000000%29'/%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/svg%3E\");\n}\n.adit-outer-container span.mention.mention-type_11 > a:before {\n  background-image: url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='14px' height='14px' viewBox='0 0 14 14' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3E%3Ctitle%3Einlineblock/%E6%80%9D%E7%BB%B4%E7%AC%94%E8%AE%B0%3C/title%3E%3Cdesc%3ECreated with Sketch.%3C/desc%3E%3Cg id='Symbols' stroke='none' stroke-width='1' fill='none' fill-rule='evenodd'%3E%3Cg id='inlineblock/%E6%80%9D%E7%BB%B4%E7%AC%94%E8%AE%B0' fill='%233370FF' fill-rule='nonzero'%3E%3Cg id='%E6%80%9D%E7%BB%B4%E7%AC%94%E8%AE%B0' transform='translate%281.000000%2C 0.000000%29'%3E%3Cpath d='M10.5857864%2C3.5 L8.5%2C1.41421356 L8.5%2C3.5 L10.5857864%2C3.5 Z M7.5%2C1 L1%2C1 L1%2C13 L11%2C13 L11%2C4.5 L8.5%2C4.5 C7.94771525%2C4.5 7.5%2C4.05228475 7.5%2C3.5 L7.5%2C1 Z M1%2C0 L8.5%2C0 L12%2C3.5 L12%2C13 C12%2C13.5522847 11.5522847%2C14 11%2C14 L1%2C14 C0.44771525%2C14 6.76353751e-17%2C13.5522847 0%2C13 L0%2C1 C-6.76353751e-17%2C0.44771525 0.44771525%2C1.01453063e-16 1%2C0 Z M7.0285335%2C11.4556095 C6.0354415%2C11.2660831 5.25077702%2C10.4890569 5.05000906%2C9.5 L4.30902663%2C9.5 C4.17169649%2C9.6534373 3.97212495%2C9.75 3.75%2C9.75 C3.33578644%2C9.75 3%2C9.4142136 3%2C9 C3%2C8.5857864 3.33578644%2C8.25 3.75%2C8.25 C3.97212495%2C8.25 4.17169649%2C8.3465627 4.30902663%2C8.5 L5.05000906%2C8.5 C5.25077702%2C7.5109431 6.0354415%2C6.73391689 7.0285335%2C6.54439055 C7.1179199%2C6.23013883 7.407084%2C6 7.75%2C6 C8.1642136%2C6 8.5%2C6.33578644 8.5%2C6.75 C8.5%2C7.1474121 8.1909016%2C7.4726305 7.8%2C7.4983598 L7.8%2C7.5 L7.4999997%2C7.5 C6.8468906%2C7.5 6.2912711%2C7.9174038 6.0853529%2C8.5 L7.1909734%2C8.5 C7.3283035%2C8.3465627 7.527875%2C8.25 7.75%2C8.25 C8.1642136%2C8.25 8.5%2C8.5857864 8.5%2C9 C8.5%2C9.4142136 8.1642136%2C9.75 7.75%2C9.75 C7.527875%2C9.75 7.3283035%2C9.6534373 7.1909734%2C9.5 L6.0853529%2C9.5 C6.2912711%2C10.0825962 6.8468906%2C10.5 7.5%2C10.5 L7.8%2C10.5 L7.8%2C10.5016402 C8.1909016%2C10.5273695 8.5%2C10.8525879 8.5%2C11.25 C8.5%2C11.6642136 8.1642136%2C12 7.75%2C12 C7.407084%2C12 7.1179199%2C11.7698612 7.0285335%2C11.4556095 Z' id='Combined-Shape'/%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/svg%3E\");\n}\n.adit-outer-container span.mention.mention-type_12 > a:before {\n  background-image: url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='14px' height='14px' viewBox='0 0 14 14' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3E%3Ctitle%3Einlineblock/%E6%96%87%E4%BB%B6%3C/title%3E%3Cdesc%3ECreated with Sketch.%3C/desc%3E%3Cg id='Symbols' stroke='none' stroke-width='1' fill='none' fill-rule='evenodd'%3E%3Cg id='inlineblock/%E6%96%87%E4%BB%B6' fill='%233370FF' fill-rule='nonzero'%3E%3Cg transform='translate%281.000000%2C 0.000000%29' id='Combined-Shape'%3E%3Cpath d='M10.5857864%2C3.5 L8.5%2C1.41421356 L8.5%2C3.5 L10.5857864%2C3.5 Z M7.5%2C1 L1%2C1 L1%2C13 L11%2C13 L11%2C4.5 L8.5%2C4.5 C7.94771525%2C4.5 7.5%2C4.05228475 7.5%2C3.5 L7.5%2C1 Z M1%2C0 L8.5%2C0 L12%2C3.5 L12%2C13 C12%2C13.5522847 11.5522847%2C14 11%2C14 L1%2C14 C0.44771525%2C14 6.76353751e-17%2C13.5522847 0%2C13 L0%2C1 C-6.76353751e-17%2C0.44771525 0.44771525%2C1.01453063e-16 1%2C0 Z'/%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/svg%3E\");\n}\n.adit-outer-container span.mention.mention-type_15 > a:before {\n  background-image: url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='14px' height='14px' viewBox='0 0 14 14' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3E%3Ctitle%3Einlineblock/slide%3C/title%3E%3Cdesc%3ECreated with Sketch.%3C/desc%3E%3Cg id='Symbols' stroke='none' stroke-width='1' fill='none' fill-rule='evenodd'%3E%3Cg id='inlineblock/slide' fill='%233370FF' fill-rule='nonzero'%3E%3Cg id='icon_Insert-file_slide_16' transform='translate%281.000000%2C 0.000000%29'%3E%3Cpath d='M8.49594221%2C1.49565474 L8.49594221%2C3.55231022 L10.5486499%2C3.55231022 L8.49594221%2C1.49565474 Z M8.5%2C0 L12%2C3.5 L12%2C13 C12%2C13.5522847 11.5522847%2C14 11%2C14 L1%2C14 C0.44771525%2C14 0%2C13.5522847 0%2C13 L0%2C1 C0%2C0.44771525 0.44771525%2C0 1%2C0 L8.5%2C0 Z M7.5%2C1 L1%2C1 L1%2C13 L11%2C13 L11%2C4.5110435 L8.5%2C4.5110435 C7.94771525%2C4.5110435 7.5%2C4.06332825 7.5%2C3.5110435 L7.5%2C1 Z M3%2C6 L9%2C6 L9%2C11 L3%2C11 L3%2C6 Z M4%2C7.5 L4%2C9.5 L8%2C9.5 L8%2C7.5 L4%2C7.5 Z' id='Shape'/%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/svg%3E\");\n}\n.adit-outer-container span.mention.mention-type_5 {\n  max-width: 100%;\n  display: inline-block;\n  vertical-align: middle;\n  background-color: transparent!important;\n}\n.adit-outer-container span.mention.mention-type_0 a {\n  word-break: break-all;\n  white-space: nowrap;\n  padding-top: 2px;\n  padding-bottom: 2px;\n}\n.adit-outer-container span.mention.mention-type_0 a::before {\n  content: '';\n  display: inline-block;\n}\n.adit-outer-container span.mention .heading-h1 i span.mention-type_0 a {\n  padding-bottom: 3px;\n}\n.adit-outer-container span.mention.at-self-highlight a {\n  padding-left: 0.4em;\n  padding-right: 0.4em;\n  color: #fff !important;\n  background: #3370ff;\n  border-radius: 999em;\n}\n.adit-outer-container span.mention .mention-chat {\n  position: relative;\n  width: 438px;\n  text-indent: 0;\n  max-height: 85px;\n  max-width: 100%;\n  overflow: hidden;\n  border-radius: 4px;\n  background-color: #f5f6f7;\n  user-select: none;\n  color: #f5f6f7;\n  font-weight: normal!important;\n  border: 1px solid transparent;\n}\n.adit-outer-container span.mention .mention-chat.joined {\n  background-color: #f5f6f7;\n  opacity: 0.6;\n  transition: opacity 0.5s ease-in-out;\n}\n.adit-outer-container span.mention .mention-chat.single-clicked {\n  border-color: #3370ff !important;\n  user-select: none;\n  -webkit-user-modify: read-only;\n  user-modify: read-only;\n}\n.adit-outer-container span.mention .mention-chat .mention-chat-icon {\n  width: 48px;\n  height: 48px;\n  margin: 8px 0 8px 8px;\n  color: transparent;\n}\n.adit-outer-container span.mention .mention-chat .mention-chat-icon img {\n  width: 48px;\n  border-radius: 50%;\n}\n.adit-outer-container span.mention .mention-chat-tit {\n  font-size: 16px!important;\n  max-height: 44px;\n  line-height: 22px;\n  color: #1f2329;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  text-align: left;\n  display: -webkit-box;\n  -webkit-line-clamp: 2;\n  -webkit-box-orient: vertical;\n}\n.adit-outer-container span.mention .mention-chat-tit.mt12 {\n  margin-top: 12px;\n}\n.adit-outer-container span.mention .mention-chat-ct {\n  user-select: none;\n  margin: 0 8px 0 12px;\n}\n.adit-outer-container span.mention .mention-chat-desc {\n  height: 17px;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  font-size: 12px;\n  margin-bottom: 12px;\n  color: #8f959e;\n  user-select: none;\n}\n.adit-outer-container span.mention .mention-chat-button {\n  font-size: 14px!important;\n  border: 1px solid transparent;\n  width: 96px;\n  height: 32px;\n  line-height: 32px;\n  text-align: center;\n  border-radius: 4px;\n  margin-right: 16px;\n  user-select: none;\n}\n.adit-outer-container span.mention .mention-chat-button:hover {\n  background-color: #fff;\n  border: solid 1px #dee0e3;\n}\n.adit-outer-container span.mention .mention-chat-button-opt {\n  padding-right: 12px;\n}\n.adit-outer-container span.mention .mention-chat-button,\n.adit-outer-container span.mention .mention-chat-button-opt {\n  cursor: pointer;\n  font-weight: 500;\n  text-decoration: none;\n  color: #3370ff;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n.adit-outer-container span.mention .mention-chat-button .button-cancel,\n.adit-outer-container span.mention .mention-chat-button-opt .button-cancel,\n.adit-outer-container span.mention .mention-chat-button .button-confirm,\n.adit-outer-container span.mention .mention-chat-button-opt .button-confirm {\n  display: inline-block;\n  width: 64px;\n  height: 34px;\n  border-radius: 2px;\n  font-size: 12px;\n}\n.adit-outer-container span.mention .mention-chat-button .button-cancel,\n.adit-outer-container span.mention .mention-chat-button-opt .button-cancel {\n  background-color: #fff;\n  border: solid 1px #dee0e3;\n  color: #8f959e;\n  margin-right: 8px;\n}\n.adit-outer-container span.mention .mention-chat-button .button-confirm,\n.adit-outer-container span.mention .mention-chat-button-opt .button-confirm {\n  background-color: #3370ff;\n  color: #fff;\n}\n.adit-outer-container .list-code .mention-type_1 > a:before,\n.adit-outer-container .list-code .mention-type_3 > a:before,\n.adit-outer-container .list-code .mention-type_8 > a:before,\n.adit-outer-container .list-code .mention-type_11 > a:before,\n.adit-outer-container .list-code .mention-type_12 > a:before,\n.adit-outer-container .list-code .mention-type_15 > a:before {\n  padding-left: 0.4em !important;\n}\n.adit-outer-container .spreadsheet span.mention.mention-type_0.at-self-highlight a {\n  padding: 0;\n  color: #3370ff !important;\n  background: transparent !important;\n}\n.adit-outer-container .j-block-container .at-user-text span {\n  cursor: pointer;\n}\n.windows .adit-outer-container .heading-h1 span.mention-type_0 a,\n.windows .adit-outer-container .heading-h2 span.mention-type_0 a,\n.windows .adit-outer-container .heading-h3 span.mention-type_0 a,\n.windows .adit-outer-container .heading-h1 .j-block-container .at-user-text,\n.windows .adit-outer-container .heading-h2 .j-block-container .at-user-text,\n.windows .adit-outer-container .heading-h3 .j-block-container .at-user-text {\n  padding-top: 0;\n}\n.windows .adit-outer-container .heading-h1 .j-block-container .at-user-text,\n.windows .adit-outer-container .heading-h2 .j-block-container .at-user-text,\n.windows .adit-outer-container .heading-h3 .j-block-container .at-user-text {\n  padding-top: 2px;\n}\n.windows .adit-outer-container .heading-h1.list-code span.mention-type_0 a,\n.windows .adit-outer-container .heading-h2.list-code span.mention-type_0 a,\n.windows .adit-outer-container .heading-h3.list-code span.mention-type_0 a,\n.windows .adit-outer-container .heading-h1.list-code .j-block-container .at-user-text,\n.windows .adit-outer-container .heading-h2.list-code .j-block-container .at-user-text,\n.windows .adit-outer-container .heading-h3.list-code .j-block-container .at-user-text {\n  padding-top: 2px;\n}\n.windows .adit-outer-container span.block-type-AT_USER_BLOCK {\n  padding-bottom: 2px;\n}\n.windows .adit-outer-container .list-code span.block-type-AT_USER_BLOCK,\n.windows .adit-outer-container .comment-textarea span.block-type-AT_USER_BLOCK {\n  padding-top: 2px;\n}\n.windows .adit-outer-container .j-block-container .at-user-text.at-self-highlight,\n.adit-outer-container .j-block-container .bgcolor-wrap-padding .at-user-text.at-self-highlight,\n.adit-outer-container .pc-comment .at-user-text.at-self-highlight {\n  background: transparent;\n}\n.windows .adit-outer-container .j-block-container .at-user-text.at-self-highlight::after,\n.adit-outer-container .j-block-container .bgcolor-wrap-padding .at-user-text.at-self-highlight::after,\n.adit-outer-container .pc-comment .at-user-text.at-self-highlight::after {\n  content: '';\n  background: #3370ff;\n  border-radius: 999em;\n  position: absolute;\n  left: 0;\n  top: 0;\n  bottom: 0;\n  right: 0;\n  z-index: 0;\n}\n.windows .adit-outer-container .j-block-container .at-user-text.at-self-highlight span,\n.adit-outer-container .j-block-container .bgcolor-wrap-padding .at-user-text.at-self-highlight span,\n.adit-outer-container .pc-comment .at-user-text.at-self-highlight span {\n  position: relative;\n  z-index: 1;\n}\n.adit-doc-position {\n  width: 0;\n  height: 0;\n  position: relative;\n}\n",{className:"adit-style"});var mc,vc=(oe(yc,mc=M.Block),yc.prototype.render=function(){var n=this;if(this.props){var e=this.props,r=e.link,i=e.token,o=e.type,a=e.uuid,s=e.title,t=decodeURIComponent(r),c=/^\s*http|^\s*\//.test(t)?t:"";return new Promise(function(t){Object($.render)(Object(P.createElement)(hc,{link:r,token:i,type:o,uuid:a,title:s,externalServices:n.externalServices,isMouseMoved:n.isMouseMove}),n.mountPoint,function(){var e;0===n.mountPoint.innerHTML.length&&(Object($.render)(Object(P.createElement)("a",{href:c,rel:"noopener",target:"_blank"},decodeURIComponent(r)),n.mountPoint),e=new Error("mention block render failed by react"),console.error(e.stack)),t()})})}return Promise.resolve()},yc.prototype.onCopy=function(e){var t=e.blockType,n=e.props,r=Object(M.generateBlockDataSet)({blockType:t,props:n}),i="",o="";return this.props&&(i=this.props.title,o=Object(M.generateBlockHTML)(r,i)),{html:o,text:i}},yc.prototype.resize=function(){},yc.prototype.unmount=function(e){mc.prototype.unmount.call(this,e),Object($.unmountComponentAtNode)(this.mountPoint)},yc);function yc(e,t,n,r){var i=mc.call(this,e,t)||this;return i.externalServices={},i.externalServices=n,i.isMouseMove=r,i}var bc,Ec=40,_c=(oe(Ac,bc=M.Creator),Ac.prototype.create=function(e,t){return new vc(e,t,this.ExternalServices,this.isMouseMoved)},Ac.prototype.t=function(e){return(this.ExternalServices.i18n||this.defaultI18n)[e]},ue([Object(M.Bind)(),le("design:type",Function),le("design:paramtypes",[String]),le("design:returntype",void 0)],Ac.prototype,"t",null),Ac);function Ac(e){var t=e.ExternalServices,n=e.isSyncRender,r=e.usePrerenderPlaceholder,i=e.getExternalNode,o=bc.call(this,{isSyncRender:n,usePrerenderPlaceholder:r,getExternalNode:i})||this;return o.ExternalServices={},o.blockType=M.BlockType.MENTION_BLOCK,o.defaultProps={displayMode:M.BlockDisplayMode.INLINE},o.defaultDisplayMode=M.BlockDisplayMode.INLINE,o.defaultI18n={"common.unnamed_document":"","common.unnamed_sheet":"","common.unnamed_bitable":"","common.unnamed_mindnote":"","common.unnamed_slide":"","common.unnamed_wiki":""},o.mouseMoved=!1,o.setMouseMoveTimeout=null,o.setMouseMoved=function(){o.mouseMoved=!0,o.setMouseMoveTimeout&&window.clearTimeout(o.setMouseMoveTimeout),o.setMouseMoveTimeout=window.setTimeout(function(){o.mouseMoved=!1},Ec)},o.isMouseMoved=function(){return o.mouseMoved},o.destroy=function(){W()(document).off("mousemove",o.setMouseMoved)},o.ExternalServices=t,W()(document).on("mousemove",o.setMouseMoved),o}function Cc(e,n,r){var t=document.createElement("div");return t.innerHTML=e,Array.from(t.querySelectorAll("span[style],b,u,i,s")).forEach(function(e){"span"===e.tagName.toLowerCase()&&e instanceof HTMLElement&&e.style?e.style.cssText="":e.parentElement&&e.firstChild&&(e.parentElement.appendChild(e.firstChild),e.remove())}),Array.from(t.children).forEach(function(e){var t;e instanceof HTMLElement&&e.style&&(e.classList.contains(".single-line")||e.querySelectorAll("img").length||(e.style.cssText=n,(t=e.querySelectorAll("li")).length&&Array.from(t).forEach(function(e){e.className=r})))}),t.innerHTML}var Tc=(Oc.prototype.destroy=function(){this.adit.off("paste",this.handlePaste)},Oc.prototype.handlePaste=function(e){var t,n,r,i,u,l,o,a,d=this,s=e.pasteDataWrapper,c=e.text,p=s.innerHTML;(p||c)&&(n=(t=this.adit.getCurrentSelection()).zoneId,r=t.selStart,i=this.adit.getFormat({selection:{zoneId:n,selStart:r,selEnd:r}}),u={},l="",i.forEach(function(e){var t,n,r,i,o=pe(e,2),a=o[0],s=o[1],c=d.adit.getFormatterConstructor(a);s&&c&&((t=c.getCssStyle(s))&&(r=(n=pe(t,2))[0],i=n[1],u[r]?u[r]+=" "+i:u[r]=i,l+="list-"+a+":"+String(s).replace(new RegExp(" ","g"),"")+" "))}),o="",Object.keys(u).forEach(function(e){o+=e+": "+u[e]+";"}),!(a=p)&&c&&(a=c.split("\n").reduce(function(e,t){return e+=e?"<div>"+t+"</div>":"<span>"+t+"</span>"},a)),s.innerHTML=Cc(a,o,l))},ue([Object(D.c)(),le("design:type",Function),le("design:paramtypes",[Object]),le("design:returntype",void 0)],Oc.prototype,"handlePaste",null),Oc);function Oc(e){(this.adit=e).on("paste",this.handlePaste)}var kc=10,Sc=(wc.prototype.aceCreateLineWithStyle=function(e,t){var n=t.inlineAttributesInEnter,r=t.lineClass,i=t.htmls,o=this.inlineAttributes2Style(n);r.includes("list-")||i.length||i.push("<span class='inlineStyleHolder'\n       style='"+o+'\' data-faketext data-contentcollector-ignore-space-at="end">&#8203</span>')},wc.prototype.aceKeyEvent=function(e,t){var n=t.evt,r=t.editor,i=n.type,o=n.keyCode;r.fastIncorp();var a=r.getRep(),s=a.selStart[0]===a.selEnd[0],c=r.selection.getLine(),u=r.getAttributesOnLine(a.zoneId,c).map(function(e){return e[0]});if(u.includes("list")){var l=a.lines.atIndex(c);if("keydown"===i&&o===D.j.Enter&&r.isCaret()&&l&&l.text.length<=l.lineMarker){var d=this.filterInlineAttributes(this.adit.getFormat());return this.insertEnterInNextLineWithAttributes(a,d),r.performDocumentReplaceRange(a.zoneId,[c,0],[c+1,0],""),n.preventDefault(),!0}return!1}return"keydown"===i&&((!s||!u.some(function(e){return["image","image_upload","gallery"].includes(e)}))&&(o===D.j.Enter?this.handleEnterKey(t):o===D.j.BackSpace&&this.handleDeleteKey(t)))},wc.prototype.handleEnterKey=function(e){var t=e.evt,n=e.editor.getRep(),r=pe(n.selStart,2),i=r[0],o=r[1],a=n.lines.atIndex(i),s=Object(K.default)(a,"text",""),c=Object(K.default)(a,"lineMarker",0),u=0===o;return o===s.length?(t.preventDefault(),e.preventOtherHooks(),c?this.performEnterInNextLineWithLineMarker(n):this.insertEnterInNextLineWithAttributes(n,this.filterInlineAttributes(this.adit.getFormat())),!0):!!u&&(t.preventDefault(),this.editor.performDocumentReplaceRangeWithAttributes(n.zoneId,n.selStart,n.selEnd,"\n",this.filterInlineAttributes(this.adit.getFormat())),!0)},wc.prototype.handleDeleteKey=function(e){var t=e.evt,n=e.editor,r=n.getRep(),i=pe(r.selStart,2),o=i[0],a=i[1],s=r.lines.atIndex(o),c=Object(K.default)(s,"text","");return n.isCaret()&&0===a&&!c&&o?(t.preventDefault(),this.removeEnter(r),!0):!!this.checkIsLineWillEmpty()&&(t.preventDefault(),this.updateAttributesOnEnter(),!0)},wc.prototype.doReturnKey=function(){var e,t,n,r,i,o,a,s;this.isFocusAtTextNode()&&((e=this.editor).fastIncorp(),t=e.isCaret(),r=pe((n=e.getRep()).selStart,1)[0],i=n.lines.atIndex(r),o=Object(K.default)(i,"text",""),a=Object(K.default)(i,"lineMarker",0),s=0<o.length-a,t&&s&&this.collectAttributesInPositionAndExecCommand(n.selStart,n.zoneId))},wc.prototype.aceDoDeleteKey=function(e,t){var n,r,i,o,a,s,c,u,l,d=t.editor;this.isFocusAtTextNode()&&(d.fastIncorp(),n=d.isCaret(),o=(i=pe((r=d.getRep()).selStart,2))[0],a=i[1],s=r.lines.atIndex(o),c=Object(K.default)(s,"text",""),u=Object(K.default)(s,"lineMarker",0),l=0<c.length-u,n?l&&n&&this.execCommandIfNeccessary(d):this.collectAttributesInPositionAndExecCommand([o,a+1],r.zoneId))},wc.prototype.execCommandIfNeccessary=function(e){var t,n=e.getRep(),r=pe(n.selStart,2),i=r[0],o=r[1],a=n.alines[i],s=0,c=o,u=!1;a.replace(/(?:\*[0-9a-z]+)?\+([0-9a-z]+)/gi,function(e,t){return s=parseInt(t,36),(0===(c-=s)&&1===s||1===c)&&(u=!0),""}),u&&(t=this.adit.getFormat(),this.execCommand(t))},wc.prototype.isFocusAtTextNode=function(){var e=window.getSelection();if(e){var t=e.focusNode&&3===e.focusNode.nodeType,n=e.anchorNode&&3===e.anchorNode.nodeType;return t&&n}return!1},wc.prototype.collectAttributesInPositionAndExecCommand=function(e,t){var n={selection:{selStart:e,selEnd:e,zoneId:t}},r=this.adit.getFormat(n);this.execCommand(r)},wc.prototype.execCommand=function(e){var t=this;e.length&&(this.flag=!0,this.formats=e,window.setTimeout(function(){t.adit.restoreInlineFormatToNewLine(t.formats),t.flag=!1,t.formats=null},kc))},wc.prototype.bindEvent=function(){this.adit.on("format",this.handleFormat),this.adit.on("selectionchange",this.handleSelectionChange)},wc.prototype.reset=function(){this.adit.off("format",this.handleFormat),this.adit.off("selectionchange",this.handleSelectionChange)},wc.prototype.createChangesetBuilder=function(e){var t=this.editor.getRep(e).lines.totalWidth();return this.editor.changesetHelper.builder(t)},wc.prototype.builderToCs=function(e,t){var n={};return n[e]=t.toUnpacked(),this.editor.changesetHelper._pack(n)},wc.prototype.insertEnterInNextLineWithAttributes=function(e,t){var n=e.zoneId,r=e.selStart,i=e.apool,o=r[0],a=e.alines[o],s=this.createChangesetBuilder(n);this.editor.changesetHelper.buildKeepToStartOfRange(e,s,r);var c=this.getCoveredAttributes(t,i,a),u=e.lines.atIndex(o);u&&u.lineMarker===u.width-1?s.insert("\n",c,e.apool):s.insert("\n"),s.keep(1,1,c,e.apool);var l=this.builderToCs(n,s);this.editor.performDocumentApplyChangeset(l),this.adit.setSelection({zoneId:n,selStart:[r[0]+1,0],selEnd:[r[0]+1,0]})},wc.prototype.removeEnter=function(e){var t=e.zoneId,n=e.selStart,r=n[0]-1,i=e.alinesWidth[r]-1,o=this.createChangesetBuilder(t);this.editor.changesetHelper.buildKeepToStartOfRange(e,o,n),o.remove(1,1);var a=this.builderToCs(t,o);this.editor.performDocumentApplyChangeset(a),this.adit.setSelection({zoneId:t,selStart:[r,i],selEnd:[r,i]})},wc.prototype.inlineAttributes2Style=function(e){var a=this,s=[],c={underline:"underline",strikethrough:"line-through"},t=e.reduce(function(e,t){var n=pe(t,2),r=n[0],i=n[1],o=a.adit.getFormatterConstructor(r);return c[r]?s.push(c[r]):e.push(o.getCssStyle(i).join(":")),e},[]);return t.push("text-decoration:"+s.join(" ")),t.join(";")},wc.prototype.performEnterInNextLineWithLineMarker=function(e){var t=pe(e.selStart,1)[0],n=e.zoneId,r=e.alines[t],i=this.adit.getFormat({selection:{zoneId:n,selStart:[t,0],selEnd:[t,1]}}),o=this.adit.getFormat({selection:ce({},e)}),a=this.createChangesetBuilder(n);this.editor.changesetHelper.buildKeepToStartOfRange(e,a,e.selStart);var s=this.getCoveredAttributes(this.filterInlineAttributes(o),e.apool,r),c=e.lines.atIndex(t);c&&c.lineMarker===c.width-1?a.insert("\n",s,e.apool):a.insert("\n"),a.keep(1,1,s,e.apool);var u=this.builderToCs(n,a);this.editor.performDocumentApplyChangeset(u),this.editor.performDocumentReplaceRangeWithAttributes(n,[t+1,0],[t+1,0],"*",i.concat([["lmkr","1"]])),this.adit.setSelection({zoneId:n,selStart:[t+1,1],selEnd:[t+1,1]})},wc.prototype.filterInlineAttributes=function(n){var r=["bold","underline","italic","strikethrough","backgroundcolor","fontcolor","fontfamily","fontsize","fontweight"];return n.filter(function(e){var t=pe(e,1)[0];return r.includes(t)||t.startsWith("list-")&&r.includes(t.substr(5))&&n.every(function(e){var t=pe(e,1)[0];return t!==t.substr(5)})}).map(function(e){var t=pe(e,2),n=t[0],r=t[1];return n.startsWith("list-")?[n.substr(5),r]:e})},wc.prototype.checkIsLineMarkerAtPosition=function(e,t){return this.editor.getAttributesOnPosition(e,t,0).some(function(e){return"lmkr"===pe(e,1)[0]})},wc.prototype.composeChangesets=function(e){var t,n,r=this.editor,i=r.getRep(),o=e.shift();try{for(var a=de(e),s=a.next();!s.done;s=a.next())var c=s.value,u=r.changesetHelper.follow(o,c,!1,i.apool),o=r.changesetHelper.compose(o,u,i.apool)}catch(e){t={error:e}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return o},wc.prototype.checkIsLineWillEmpty=function(){var e=this.editor.getRep(),t=this.editor.isCaret(),n=e.selStart,r=e.selEnd,i=e.lines.atIndex(n[0]),o=Object(K.default)(i,"lineMarker",0),a=e.alinesWidth[n[0]]-1,s=e.alinesWidth[r[0]]-1,c=t&&n[1]===a&&n[1]===o+1,u=!t&&n[1]===o&&r[1]===s;return c||u},wc.prototype.updateAttributesOnEnter=function(){var e=this.editor.getRep(),t=e.selStart,n=e.zoneId,r=t[0],i=e.lines.atIndex(t[0]),o=Object(K.default)(i,"lineMarker",0),a=this.editor.getAttributesOnPosition(n,r,o+1),s=this.createChangesetBuilder(n),c=e.alines[r];this.editor.changesetHelper.buildKeepToStartOfRange(e,s,[r,o]),this.editor.changesetHelper.buildRemoveRange(e,s,[r,o],e.selEnd),s.keep(1,1,this.getCoveredAttributes(this.filterInlineAttributes(a),e.apool,c),e.apool);var u=this.builderToCs(n,s);this.editor.performDocumentApplyChangeset(u),this.adit.setSelection({zoneId:n,selStart:[t[0],0],selEnd:[t[0],0]})},wc.prototype.getCoveredAttributes=function(e,t,n){var r=this.editor.changesetHelper.getInlineAttributesInEnter,i=e.map(function(e){return pe(e,1)[0]}),o=r(t,n).reduce(function(e,t){var n=pe(t,1)[0];return i.includes(n)||e.push([n,""]),e},[]);return e.concat(o)},wc);function wc(e){var v=this;this.adit=e,this.flag=!1,this.formats=null,this.handleSelectionChange=function(){v.flag&&v.formats&&v.adit.restoreInlineFormatToNewLine(v.formats)},this.handleFormat=function(e){var t,n,r=e.formatKey,i=e.value,o=e.selection;if("list"!==r){var a=v.editor.formatterManager.convertAttribs([[r,i]]),s=v.editor.getRep(o.zoneId),c=0,u=s.lines.length()-1;s.selStart&&s.selEnd&&(c=s.selStart[0],u=s.selEnd[0]);var l=s.alinesWidth.slice(c,u+1).reduce(function(e,t,n){var r=c+n;return(1===t||2===t&&v.checkIsLineMarkerAtPosition(s.zoneId,r))&&e.push([r,t-1]),e},[]);if(1!==l.length||0===c){var d,p=[];try{for(var f=de(l),h=f.next();!h.done;h=f.next()){var g=h.value,m=v.createChangesetBuilder(s.zoneId);v.editor.changesetHelper.buildKeepToStartOfRange(s,m,g),m.keep(1,1,a,s.apool),p.push(v.builderToCs(s.zoneId,m))}}catch(e){t={error:e}}finally{try{h&&!h.done&&(n=f.return)&&n.call(f)}finally{if(t)throw t.error}}p.length&&(d=v.composeChangesets(p),v.editor.performDocumentApplyChangeset(d))}}},this.editor=e.getEditor(),this.bindEvent()}var Ic,xc,Lc=(Rc.prototype.editorKeyDown=function(e,t){var n,r,i,o,a,s,c,u,l,d=t.rep,p=t.evt;Object(f.default)(p.keyCode)||d.selStart&&this.editor.isCaret()&&this.isUppercaseLine(d,d.selStart)&&(n=d.selStart[0],!(r=d.lines.atIndex(n))||(i=r.text.substring(r.lineMarker,r.text.length))&&(this.autoUppercase&&p.keyCode===D.j.Space?(o=d.selStart[1]-r.lineMarker,this.isUppercasePosition(i,o)&&(s=(a=this.findSentencePosition(i,o)).sentence,c=a.position,u=a.sentenceIndex,this.shouldUppercase(s,c,d,n,o)&&(this.editor.getInInternationalComposition()||(p.preventDefault(),this.performUppercase(d,n,i,u))))):(l=p.metaKey||p.ctrlKey,p.keyCode===D.j.Ime||p.keyCode===D.j.Z&&l||p.keyCode===D.j.V&&l||(-1<Rc.CURSOR_KEY_CODE.indexOf(p.keyCode)||l?this.autoUppercase=!1:this.autoUppercase=!0))))},Rc.prototype.aceClickEvent=function(){this.autoUppercase=!1},Rc.prototype.aceAfterCompositionEnd=function(){this.autoUppercase=!0},Rc.prototype.willPaste=function(){this.autoUppercase=!1},Rc.prototype.performUndoRedo=function(){this.autoUppercase=!1},Rc.prototype.isUppercaseLine=function(e,t){var n=e.attributeManager.getAttributesOnSelection(t,t,e),r=n.attribs.some(function(e){return"lang"===e[0]||"list"===e[0]&&"code1"===e[1]}),i=n.attribs.some(function(e){return"inline-code"===e[0]&&"true"===e[1]});return!(r||i)},Rc.prototype.findSentencePosition=function(e,t){for(var n=Rc.SENTENCE_END_REG,r=e.length,i=[],o=0,a=-1,s=-1,c=n.exec(e);c;)i.push({sentence:e.substring(o,c.index),index:c.index+c[0].length}),o=c.index+c[0].length,a++,-1===s&&t<=o&&(s=a),c=n.exec(e);o<r-1&&(-1===s&&(s=a+1),i.push({sentence:e.substring(o,r),index:r}));var u=0===s?0:i[s-1].index;return{sentence:i[s].sentence,position:t-u,sentenceIndex:u}},Rc.prototype.isUppercasePosition=function(e,t){if(0<t&&t<e.length){var n=e[t-1]+e[t],r=Rc.SENTENCE_END_REG;if("  "===n||r.test(n))return!1}var i=this.findSentencePosition(e,t),o=i.sentence,a=i.position;return!(-1<o.substring(0,a).indexOf(" "))},Rc.prototype.shouldUppercase=function(e,t,n,r,i){var o=/^[a-z][A-Za-z'-]*$/,a=e.substring(0,t);if(o.test(a)){var s=[r,i-t],c=[r,i];return!n.attributeManager.getAttributesOnSelection(s,c,n,!1).attribs.some(function(e){return"inline-code"===e[0]&&"true"===e[1]})}return!1},Rc.prototype.performUppercase=function(n,e,r,i){var t,o,a,s,c=this,u=n.selStart;!u||(t=n.lines.atIndex(e))&&(o=i+t.lineMarker,a=[e,o],s=[e,o+1],this.editor.inCallStackIfNecessary("autoUppercase",function(){var e=n.attributeManager.getAttributesOnSelection(a,s,n,!1);c.editor.performDocumentReplaceRangeWithAttributes(n.zoneId,a,s,r.substr(i,1).toUpperCase(),e.attribs);var t=n.attributeManager.getAttributesOnSelection(u,u,n,!1);c.editor.performDocumentReplaceRangeWithAttributes(n.zoneId,u,u," ",t.attribs)},{shouldIncorp:!0}))},Rc.END_PUNCTUATION=["",".","","?","","!"],Rc.SENTENCE_END_REG=new RegExp("["+Rc.END_PUNCTUATION.map(function(e){return"\\"+e}).join("")+"]\\s+","g"),Rc.CURSOR_KEY_CODE=[D.j.Up,D.j.Down,D.j.Left,D.j.Right,D.j.PageUp,D.j.PageDown,D.j.Home,D.j.End],Rc);function Rc(e){this.autoUppercase=!0,this.editor=e}function Nc(e,t){return null==e?null==t:null!=t&&(e.selFocusAtStart===t.selFocusAtStart&&Dc(fe(e.selStart,[e.selZone]),fe(t.selStart,[t.selZone]))&&Dc(fe(e.selEnd,[e.selZone]),fe(t.selEnd,[t.selZone])))}function Dc(e,t){return null==e?null==t:null!=t&&(e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2])}function Mc(e){var t=e.selStart,n=e.selEnd;return t[0]===n[0]&&t[1]===n[1]}function Pc(e){var t=e.selStart,n=e.selEnd;return e.selFocusAtStart?t:n}function jc(e){var t=e.selStart,n=e.selEnd;return null!=t&&null!=n&&2===t.length&&2===n.length}function Fc(e){var t=e.selStart,n=e.selEnd;return null!=t&&null!=n&&2===t.length&&2===n.length&&(t[0]<n[0]||t[0]===n[0]&&t[1]<n[1])}(xc=Ic=Ic||{})[xc.KEEP_SHOWING=0]="KEEP_SHOWING",xc[xc.SHOW_TEMPORARILY=1]="SHOW_TEMPORARILY",xc[xc.HIDE=2]="HIDE";var Bc=Ic,Uc=1500,Hc=(zc.prototype.enterKeepShowing=function(){this.enter(Ic.KEEP_SHOWING)},zc.prototype.enterShowTemporarily=function(){this.delay(this.enterHide,Uc),this.enter(Ic.SHOW_TEMPORARILY)},zc.prototype.onEnter=function(e,t){return this.enterCallbackMap.set(e,t),this},zc.prototype.is=function(e){return this.state===e},zc.prototype.destroy=function(){this.clearTimer(),this.enterCallbackMap.clear()},zc.prototype.enter=function(e){var t=this.state;this.state=e,this.reinstallTimer(),t!==e&&this.enterCallbackMap.has(e)&&this.enterCallbackMap.get(e)(t,e)},zc.prototype.delay=function(e,t){this.newTimeoutParams=[e,t]},zc.prototype.reinstallTimer=function(){this.clearTimer(),this.installTimer()},zc.prototype.installTimer=function(){var e,t,n,r=this;this.newTimeoutParams&&(e=pe(this.newTimeoutParams,2),t=e[0],n=e[1],this.newTimeoutParams=null,this.curTimeoutId=window.setTimeout(function(){r.curTimeoutId=void 0,t()},n))},zc.prototype.clearTimer=function(){this.curTimeoutId&&(window.clearInterval(this.curTimeoutId),this.curTimeoutId=void 0)},zc);function zc(){var e=this;this.state=Ic.HIDE,this.curTimeoutId=void 0,this.newTimeoutParams=null,this.enterCallbackMap=new Map,this.enterHide=function(){e.enter(Ic.HIDE)}}he(".adit-outer-container .ep-cursors .ep-cursor {\n  position: absolute;\n  z-index: 24;\n  pointer-events: none;\n  cursor: text;\n}\n.adit-outer-container .ep-cursors .ep-cursor__caret {\n  width: 2px;\n  margin-left: -1px;\n}\n.adit-outer-container .ep-cursors .ep-cursor__dot {\n  font-size: 0;\n  position: absolute;\n  top: -3px;\n  left: -3px;\n  width: 6px;\n  height: 6px;\n  pointer-events: auto;\n}\n.adit-outer-container .ep-cursors .ep-cursor__name {\n  font-size: 12px;\n  font-weight: bold;\n  line-height: 1;\n  position: absolute;\n  top: -17px;\n  left: -3px;\n  padding: 4px 10px;\n  user-select: none;\n  white-space: nowrap;\n  transition: transform 0.2s cubic-bezier(0, 0.5, 0, 1), opacity 0.1s cubic-bezier(0, 0.5, 0, 1) 0.1s;\n  transform: scale(0);\n  opacity: 0;\n  transform-origin: left bottom;\n  color: #fff;\n}\n.adit-outer-container .ep-cursors .ep-cursor__name_active {\n  transform: scale(1);\n  opacity: 1;\n}\n",{className:"adit-style"});var Vc=N.RepManager.DEFAULT_REP_ZONE,Kc="ep-cursor__name_active",Gc=Object(D.O)('\n  <div class="ep-cursor" style="display: none">\n    <div class="ep-cursor__caret"></div>\n    <div class="ep-cursor__dot"></div>\n    <div class="ep-cursor__name"></div>\n  </div>\n'),Wc=(Yc.prototype.showName=function(){this.nameState.is(Bc.KEEP_SHOWING)||this.nameState.enterShowTemporarily()},Yc.prototype.draw=function(e){var t,n,r;(e||this._drawInvalid)&&(this._stopRendering?this._delayDrawing=!0:(this._drawInvalid=!1,null!=this._position?(t=this._memberId,n=this.context.getMember(t)||{},r=Object(D.A)()[n.color_id]||"",this._nameDom.text(Object(s.a)(this.context.isCN?n.cn_name:n.en_name)),new D.g(this._root.children()).css("background-color",r).show()):new D.g(this._root).hide()))},Yc.prototype.layout=function(e){void 0===e&&(e=!1),(e||this._layoutInvalid||this.mountManager.willMountStateChange())&&(this._stopRendering?this._delayLayout=!0:this._layout())},Yc.prototype.suspendRendering=function(){this._stopRendering=!0},Yc.prototype.resumeRendering=function(){var e;this._stopRendering&&(e=!0,this._stopRendering=!1,this._delayLayout&&(this._delayLayout=!1,this.layout(e)),this._delayDrawing&&(this._delayDrawing=!1,this.draw(e)))},Yc.prototype._layout=function(){if(this.mountManager.mountIfNeeded())if(this._layoutInvalid=!1,null==this._position||this._hide)new D.g(this._root).hide();else{var e=pe(this._position,2)[1],t=pe(this._position,3),n=t[0],r=t[2],i=this.context.editorInfo.getReps()[r].lines;if(!(n>i.length()))if(n!==this.context.disableLineNum){var o=i.atIndex(n);if(o){e=Math.max(e,o.lineMarker);var a=o.getLineRect(r),s=i.isStartOfLine(n,e)?o.getCharRect(e,!1,r):o.getCharRect(e-1,!0,r),c=Boolean(this.context.editorInfo.getAttributeOnLine(r,n,"list"));if(o.text.length===o.lineMarker&&c){var u=o.lineNode;if(!u)return void console.error("has no lineNode");var l=u.querySelector("li"),d=l&&l.firstElementChild;l&&d&&(s.left=d.getBoundingClientRect().left-l.getBoundingClientRect().left)}new D.g(this._caretDom).css("height",s.height),new D.g(this._root).css("top",s.top+a.top).css("left",s.left+a.left).show()}else console.error("has no lineEntry")}else new D.g(this._root).hide()}},Yc.prototype.setPosition=function(e){this._position&&Dc(this._position,e)||(this._position=e,this._layoutInvalid=!0)},Yc.prototype.getPosition=function(){return this._position},Yc.prototype.setMemberId=function(e){this._memberId!==e&&(this._drawInvalid=!0,this._memberId=e)},Yc.prototype.show=function(){this._hide=!1,new D.g(this._root).show()},Yc.prototype.hide=function(){this._hide=!0,new D.g(this._root).hide()},Yc.prototype.isRowMounted=function(){var e=pe(this._position,3),t=e[0],n=e[2],r=n!==Vc?this.context.editorInfo.getLineNumInRootZone(n,0):t;return-1!==r&&this.context.isRowMounted(r)},Yc.prototype.shouldMount=function(){return this.isRowMounted()},Yc.prototype.attach=function(e){this._parent!==e&&(this.mountManager.unmountIfNeeded(),this._parent=e,this.mountManager.mountIfNeeded())},Yc.prototype.mountImpl=function(){var e=this;if(this._parent)return this._parent._root&&this._parent._root.append(this._root),this._root.on("mouseenter",this.handleMouseEnter).on("mouseleave",this.handleMouseLeave),function(){e._root.off("mouseenter",e.handleMouseEnter).off("mouseleave",e.handleMouseLeave),e._root.remove()}},Yc.prototype.detach=function(){this.nameState.destroy(),this.mountManager.unmountIfNeeded(),this._parent=null},ue([Object(D.l)({leading:!1}),le("design:type",Function),le("design:paramtypes",[]),le("design:returntype",void 0)],Yc.prototype,"_layout",null),Yc);function Yc(e){var t=this;this.context=e,this._root=W()(Gc),this._caretDom=W()(this._root[0].querySelector(".ep-cursor__caret")),this._dotDom=W()(this._root[0].querySelector(".ep-cursor__dot")),this._nameDom=W()(this._root[0].querySelector(".ep-cursor__name")),this._stopRendering=!1,this._delayDrawing=!1,this._delayLayout=!1,this._parent=null,this.nameState=new Hc,this.mountManager=new D.m(this),this._drawInvalid=!1,this._layoutInvalid=!1,this._hide=!1,this._position=null,this._memberId="",this._showName=function(){t._nameDom.addClass(Kc)},this._hideName=function(){t._nameDom.removeClass(Kc)},this.handleMouseEnter=function(){t.nameState.enterKeepShowing()},this.handleMouseLeave=function(){t.nameState.enterShowTemporarily()},this.nameState.onEnter(Bc.KEEP_SHOWING,this._showName).onEnter(Bc.SHOW_TEMPORARILY,this._showName).onEnter(Bc.HIDE,this._hideName)}var qc="ep-cursors "+D.h,Zc=(Xc.prototype.addCursor=function(e,t,n){var r=this._cursors[e];r||(r=new Wc(this.context),this._cursors[e]=r),r.setPosition(fe(t,[n])),r.setMemberId(e),r.attach(this),r.layout(),r.draw(!0)},Xc.prototype.updateCursor=function(e,t,n){var r=this._cursors[e];r&&(r.setPosition(fe(t,[n])),r.layout())},Xc.prototype.hideCursor=function(e){var t=this._cursors[e];t&&t.hide()},Xc.prototype.showCursor=function(e){var t=this._cursors[e];t&&t.show()},Xc.prototype.activeCursor=function(e){var t=this._cursors[e];t&&t.showName()},Xc.prototype.hasCursor=function(e){return!!this._cursors[e]},Xc.prototype.removeCursor=function(e){var t=this._cursors[e];t&&t.detach(),delete this._cursors[e]},Xc.prototype.isEmpty=function(){return 0===Object.keys(this._cursors).length},Xc.prototype.attach=function(e){var t=e.find("."+qc);t.length?this._root=t:(this._root=W()('<div class="'+qc+" "+(this.context.className||"")+'"></div>'),e.append(this._root))},Xc.prototype.layout=function(e){var t,n=this._cursors;for(t in n)n.hasOwnProperty(t)&&n[t].layout(e)},Xc.prototype.suspendRendering=function(){var e,t=this._cursors;for(e in t)t.hasOwnProperty(e)&&t[e].suspendRendering()},Xc.prototype.resumeRendering=function(){var e,t=this._cursors;for(e in t)t.hasOwnProperty(e)&&t[e].resumeRendering()},Xc.prototype.layoutFromLine=function(e){var t,n,r,i=this._cursors;for(t in i)!i.hasOwnProperty(t)||(r=(n=i[t]).getPosition())&&r[0]>=e&&n.layout(!0)},Xc.prototype.detach=function(){var e,t=this._cursors;for(e in t)t.hasOwnProperty(e)&&t[e].detach();this._cursors={},this._root&&this._root.remove(),this._root=W()('<div class="ep-cursors"></div>')},Xc);function Xc(e){this.context=e,this._cursors={},this._root=null}var Qc=Jc;function Jc(e,t){var o=this;this.editor=e,this.props=t,this.className="CursorTrackSender",this.lastSentCursor=null,this.aceSelectionChanged=function(e,t){return!(t.editorInfo.flags&&t.editorInfo.flags.contentChanged||"initContent"===t.callstack.type)&&(o.sendSelection(),!0)},this.isReadonly=function(){return!o.editor.isEditable()},this.sendSelection=Object(h.default)(function(){var e,t,n,r,i=o.editor;o.isReadonly()||(t=(e=i.getRep()).selStart,n=e.selEnd,r=e.selFocusAtStart,o.lastSentCursor&&Nc(o.lastSentCursor,{selZone:e.zoneId,selStart:t,selEnd:n,selFocusAtStart:r})||jc(e)&&(o.lastSentCursor={selStart:t,selEnd:n,selZone:e.zoneId,selFocusAtStart:r},o.props.onLocalCursorChange({selZone:e.zoneId,selStart:t,selEnd:n,selFocusAtStart:r})))},1e3)}var $c,eu=(oe(tu,$c=Qc),tu.prototype.isRowMounted=function(e){var t=this.editor.blockRender.getLinesStatus();return t[N.DEFAULT_REP_ZONE][e]&&t[N.DEFAULT_REP_ZONE][e].isActive},tu.prototype.isImageLineSelected=function(e){var t=e.selZone,n=e.selStart,r=e.selEnd,i=this.editor.getRep(t);if(n[0]!==r[0])return!1;var o=n[0];return i.attributeManager.getAllAttributesOnLine(o).some(function(e){return"image"===e[0]})},tu.prototype.isBlockLineAndCursorCanNotRender=function(e,t){var n=this.editor.getRep(e);if(!n.alines)return!0;var r=n.attributeManager.getAllAttributesOnLine(t);if(0<r.filter(function(e){return"sheet-id"===e[0]}).map(function(e){return e[1]}).length)return!0;var i=pe(r.filter(function(e){return e[0]===M.BLOCK_DATA_META_BLOCK_PROPS}).map(function(e){return e[1]}),1)[0];if(Boolean(i)){var o=JSON.parse(i);return o&&o.props&&o.props.displayMode===M.BlockDisplayMode.INLINE?!1:!0}return!1},tu);function tu(e,t){var O=$c.call(this,e,t)||this;return O.className="CursorTrack",O.selections={},O.lastZoneOfMembers={},O.cursorsViews={},O.onWindowResize=Object(h.default)(function(){Object.values(O.cursorsViews).forEach(function(e){return e.layout(!0)})},60),O.isReadonly=function(){return!O.editor.isEditable()},O.getTotalCursorViews=function(){return Object.keys(O.cursorsViews).reduce(function(e,t){var n=O.cursorsViews[t];return n&&n._cursors?e+Object.keys(n._cursors).length:e},0)},O.mountCursorsView=function(e){var t=e.el,n=e.zoneId,r=void 0===n?"0":n,i=e.className,o=void 0===i?"":i,a=new Zc(Object.assign({editorInfo:O.editor,editor:O.editor,disableLineNum:O.props.disableLineNum,getMember:O.props.getMember,isCN:O.props.isCN},{className:o,isRowMounted:O.isRowMounted.bind(O)}));a.attach(W()(t)),O.cursorsViews[r]=a},O.editorSizeChange=function(){try{Object.values(O.cursorsViews).forEach(function(e){return e.layout(!0)})}catch(e){console.log("editor resize change catch",e)}},O.lineNodesMounted=function(){try{Object.values(O.cursorsViews).forEach(function(e){return e.layout(!0)})}catch(e){console.log("editor line nodes mounted catch",e)}},O._changesetApply=function(e,t){var n,r,i,o,a,s,c,u,l,d,p,f,h,g,m=t.changeset,v=t.memberId,y=O.cursorsViews,b=O.editor.changesetHelper,E=b.formatCs(m),_=b.unpack(m),C=O.selections,T=O.editor;for(n in C)C.hasOwnProperty(n)&&(r=(s=C[n]).selZone,i=v===n,o=s.chars,E[r]&&!O.cursorsViews[r].isEmpty()&&(s=(u=(a=pe(b.characterRangeFollow(E[r],o[0],o[1]),2))[0])===(l=a[1])||i?{selZone:r,selStart:c=T.selection.lineAndColumnFromChar(r,l),selEnd:c,selFocusAtStart:!1,chars:[l,l]}:(u=b.characterRangeFollow(E[r],o[0],o[0]),l=b.characterRangeFollow(E[r],o[1],o[1],!0),{selZone:r,selStart:c=T.selection.lineAndColumnFromChar(r,u[0]),selEnd:T.selection.lineAndColumnFromChar(r,l[0]),selFocusAtStart:s.selFocusAtStart,chars:[u[0],l[0]]}),d=Pc(C[n]=s),y[r].updateCursor(n,d,r),p=d[0],O.isBlockLineAndCursorCanNotRender(r,p)?y[r].hideCursor(n):y[r].showCursor(n),y[r].updateCursor(n,d,r),T.updateRange(n,r,s),f=_[r],(h=b.opIterator(f.ops)).hasNext()&&(g=h.next(),y[r].layoutFromLine(g.lines)),v&&y[r].activeCursor(v+"")))},O.changesetApply=function(e,t){try{O._changesetApply(name,t)}catch(e){console.log("cursorTrack apply changeset error",t)}},O.invalidMemberId=function(e){return!e||O.props.memberId===e&&(console.error("etherpad.received_same_menberId_message "+e),!0)},O.handleImageResize=function(e,t){var n=t.zoneId;O.cursorsViews[n]&&O.cursorsViews[n].layout(!0)},O.fixPosition=function(e,t){var n=O.editor.getReps()[e].lines,r=n.length(),i=t[0];if(r<=i)return[i=r-1,Math.max(n.atIndex(i).width-1,0)];var o=n.atIndex(i).width;return[i,Math.max(t[1]<o?t[1]:o-1,0)]},O.fixSelection=function(e){var t=O.fixPosition(e.selZone,e.selStart),n=O.fixPosition(e.selZone,e.selEnd),r=!Dc(fe(t,[e.selZone]),fe(n,[e.selZone]))&&e.selFocusAtStart;return{selZone:e.selZone,selStart:t,selEnd:n,selFocusAtStart:r}},O.handleCollabCursor=function(e){O.invalidMemberId(e.member_id)||O.addUserCursor(e)},O.addUserCursor=function(e){var t,n,r,i,o,a,s,c,u,l,d,p,f,h,g,m=e.member_id+"";O.props.getMember(m)?jc(e.cursor_info)&&(n=(t=e.cursor_info).selZone,r=t.selStart,i=t.selEnd,o=t.selFocusAtStart,(s=(a=O.editor).getReps()[n])&&0!==s.lines.length()&&(c=O.fixSelection({selZone:n,selStart:r,selEnd:i,selFocusAtStart:o}),u=s.lines,O.isImageLineSelected(c)&&(Mc(c)&&(c.selEnd=[i[0],i[1]+1]),c.selFocusAtStart=!0),c.chars=[u.offsetOfPoint(r[0],r[1]),u.offsetOfPoint(i[0],i[1])],d=(l=Pc(O.selections[m]=c))[0],(p=O.isBlockLineAndCursorCanNotRender(n,d))?a.removeRange(m,n):a.hasRange(m,n)?a.updateRange(m,n,c):(h=void 0===(f=(O.props.getMember(m)||{}).color_id)?"":f,g=Object(D.A)()[h]||h,a.addRange(c,g,m)),O.cursorsViews[n]&&(O.cursorsViews[n].hasCursor(m)||O.cursorsViews[n].addCursor(m,l,n),p?O.cursorsViews[n].hideCursor(m):O.cursorsViews[n].showCursor(m),O.lastZoneOfMembers[m]&&O.lastZoneOfMembers[m]!==n&&O.cursorsViews[O.lastZoneOfMembers[m]]&&O.cursorsViews[O.lastZoneOfMembers[m]].removeCursor(m),O.cursorsViews[n].updateCursor(m,l,n),O.cursorsViews[n].activeCursor(m),O.lastZoneOfMembers[m]=n))):console.error("etherpad.received_not_exist_message "+m)},O.handleUserLeave=function(e){(e.memberId||e.member_id).forEach(function(e){var t;!e||O.invalidMemberId(e)||Object(f.default)(O.selections[e])||(t=O.selections[e].selZone,O.cursorsViews[t].removeCursor(e),delete O.selections[e],O.editor.removeRange(e,t))})},O.handleRoomMembers=function(e){var t,r=e.members,n=function(n){var e;O.selections.hasOwnProperty(n)&&(r.find(function(e){var t=e.member_id;return n===t})||(e=O.selections[n].selZone,O.cursorsViews[e].removeCursor(n),delete O.selections[n],O.editor.removeRange(n,e)))};for(t in O.selections)n(t)},O.reset=function(){for(var e in Object.values(O.cursorsViews).forEach(function(e){return e.detach()}),O.selections){var t;O.selections.hasOwnProperty(e)&&(t=O.selections[e].selZone,O.editor.removeRange(e,t))}O.editor.off("innerZoneMount",O.mountCursorsView),O.sendSelection.cancel(),O.onWindowResize.cancel(),window.removeEventListener("resize",O.onWindowResize)},O.fullscreenEntered=function(){Object.values(O.cursorsViews).forEach(function(e){return e.suspendRendering()})},O.fullscreenExited=function(){Object.values(O.cursorsViews).forEach(function(e){return e.resumeRendering()})},t.onCollabCursorChange(O.handleCollabCursor),t.onUserLeave(O.handleUserLeave),t.onRoomMembers(O.handleRoomMembers),O.mountCursorsView({el:e.getOuterContainer()}),window.addEventListener("resize",O.onWindowResize),e.on("innerZoneMount",O.mountCursorsView),O}he("#innerdocbodyWrap {\n  z-index: 1;\n  position: relative;\n}\n.ep-row {\n  position: absolute;\n  width: 100%;\n  opacity: 0.2;\n  z-index: -10;\n}\n.main-ep-ranges .ep-row {\n  z-index: -1;\n}\n",{className:"adit-style"});var nu=N.RepManager.DEFAULT_REP_ZONE,ru=N.browser.isEdge||N.browser.modernIE?ou:iu;function iu(e,t){if(e.top<t.height)return e;var n=e.height/2-6;return e.top=Math.ceil(e.top-n),e.height=e.height+n,e}function ou(e){return e}var au={None:0,FromStart:1,ToEnd:2,Whole:3},su=Object(D.O)('\n  <div class="ep-row">\n    <div class="ep-row__head"></div>\n    <div class="ep-row__body"></div>\n    <div class="ep-row__tail"></div>\n  </div>\n'),cu=(uu.prototype.draw=function(e){(e||this._drawInvalid)&&(new D.g(this._root.children()).css("background-color",this._color||"rgb(233, 77, 61)"),this._drawInvalid=!1)},uu.prototype.layout=function(){if(this.mountManager.mountIfNeeded()){var e=this,t=e._row,n=e.zone,r=this.context.editorInfo.getReps()[n].lines.atIndex(t);if(r&&r.lineNode&&r.lineNode.parentNode){var i=new D.g([r.lineNode.parentNode]).width(),o=this,a=o.startColumn,s=o.endColumn;this.fromStart()&&(a=r.lineMarker),this.toEnd()&&(s=r.text.length),a=Math.max(a,r.lineMarker);var c=new D.g(this._root),u=new D.g(this._head),l=new D.g(this._body),d=new D.g(this._tail);if(s<=a)c.hide();else{var p=r.getCharRect(0),f=ru(r.getCharRect(a,!1,n),p),h=ru(r.getCharRect(s-1,!0,n),p),g=r.getLineRect(n),m=this.context.editorInfo.getOuterContainer(),v=parseInt(W()(m).css("padding-left"));if(c.css("top",g.top).css("padding-left",g.left-v).css("max-width",i+20).show(),u.css("height",f.height).css("margin-top",f.top).css("margin-left",f.left),h.top-f.top<.1*f.height)return u.css("width",h.left-f.left),d.hide(),void l.hide();u.css("width","auto"),d.css("width",h.left).css("height",h.height);var y=h.top-f.top-f.height;if(y<=6)return d.css("height",h.height+y).show(),void l.hide();d.show(),l.css("height",y).show()}}}},uu.prototype.setRow=function(e){this._row!==e&&(this._row=e,this._root.attr("data-line-number",e))},uu.prototype.setType=function(e){this.type!==e&&(this.type=e)},uu.prototype.setZone=function(e){this.zone!==e&&(this.zone=e)},uu.prototype.setColor=function(e){this._color!==e&&(this._color=e,this._drawInvalid=!0)},uu.prototype.fromStart=function(){return!!(this.type&au.FromStart)},uu.prototype.toEnd=function(){return!!(this.type&au.ToEnd)},uu.prototype.setStartColumn=function(e){this.startColumn=e},uu.prototype.setEndColumn=function(e){this.endColumn=e},uu.prototype.hide=function(){new D.g(this._root).hide()},uu.prototype.show=function(){new D.g(this._root).show()},uu.prototype.isRowMounted=function(){var e=this.zone!==nu?this.context.editorInfo.getLineNumInRootZone(this.zone,0):this._row;return-1!==e&&this.context.isRowMounted(e)},uu.prototype.shouldMount=function(){return this.isRowMounted()},uu.prototype.attach=function(e){this._parent!==e&&(this.mountManager.unmountIfNeeded(),this._parent=e,this.mountManager.mountIfNeeded())},uu.prototype.mountImpl=function(){var e=this;if(this._parent)return this._parent._root.append(this._root),function(){e._root.remove()}},uu.prototype.detach=function(){this.mountManager.unmountIfNeeded(),this._parent=null},ue([Object(D.l)({leading:!1}),le("design:type",Function),le("design:paramtypes",[]),le("design:returntype",void 0)],uu.prototype,"layout",null),uu);function uu(e){this.context=e,this._root=W()(su),this._head=W()(this._root[0].querySelector(".ep-row__head")),this._body=W()(this._root[0].querySelector(".ep-row__body")),this._tail=W()(this._root[0].querySelector(".ep-row__tail")),this._parent=null,this.mountManager=new D.m(this),this._drawInvalid=!1,this._color=null,this._row=0,this.zone="0",this.startColumn=0,this.endColumn=0,this.type=au.None}var lu=Object(D.O)('\n  <div class="ep-range" style="pointer-events: none"></div>\n'),du=(pu.prototype.draw=function(e){if(void 0===e&&(e=!1),e||this._drawInvalid){var t,n,r=this._rows;for(t in r)r.hasOwnProperty(t)&&((n=r[t]).setColor(this._color),n.draw(e));this._drawInvalid=!1}},pu.prototype.layout=function(e){if(void 0===e&&(e=!1),this._range&&(e||this._layoutInvalid)){if(this._layoutInvalid=!1,!Fc(this._range))return this.clearRows(),this._empty=!0,void(this._listeners&&this._listeners.onRangeEmpty&&this._listeners.onRangeEmpty(this._root.attr("data-id")));var t=this._range,n=t.selStart,r=t.selEnd,i=t.selZone,o=this.context.editorInfo.getReps()[i].lines;this._chars=[o.offsetOfPoint(n[0],n[1]),o.offsetOfPoint(r[0],r[1])],this._empty=!1,this._updateRows(e)}},pu.prototype.setId=function(e){this._root.attr("data-id",e)},pu.prototype.setRange=function(e){this._range&&Nc(this._range,e)||(this._range=e,this._layoutInvalid=!0)},pu.prototype.setColor=function(e){this._color!==e&&(this._color=e,this._drawInvalid=!0)},pu.prototype.setListeners=function(e){void 0===e&&(e={}),this._listeners=e},pu.prototype.addClasses=function(e){void 0===e&&(e=[]),Object(L.default)(e)||this._root.addClass(e.join(" "))},pu.prototype.removeClasses=function(e){void 0===e&&(e=[]),Object(L.default)(e)||this._root.removeClass(e.join(" "))},pu.prototype.applyChangeset=function(e){if(this._range){var t=this._range&&this._range.selZone,n=this.context.editorInfo.changesetHelper;if(!this._empty&&t){var r,i=n.formatCs(e);for(r in i)if(i.hasOwnProperty(r)){var o=i[r],a=this._chars;if(!a)break;var s,c,u=this.context.editorInfo,l=pe(n.characterRangeFollow(o,a[0],a[1]),2),d=l[0],p=l[1];d===p?(s=u.selection.lineAndColumnFromChar(t,p),this.setRange(ce(ce({},this._range),{selStart:s,selEnd:s,selZone:t}))):(d=n.characterRangeFollow(o,a[0],a[0]),p=n.characterRangeFollow(o,a[1],a[1],!0),s=u.selection.lineAndColumnFromChar(t,d[0]),c=u.selection.lineAndColumnFromChar(t,p[0]),this.setRange(ce(ce({},this._range),{selStart:s,selEnd:c,selZone:t}))),this.layout(!0)}}}},pu.prototype._updateRows=function(e){var t,n,r=this,i=r._range,o=r._rows,a=r.context;if(i){for(var s={},c=i.selStart,u=i.selEnd,l=i.selZone,d=pe(c,2),p=d[0],f=d[1],h=pe(u,2),g=h[0],m=h[1],v=p;v<=g;v++){var y=o[v]||new cu(a);(s[v]=y).setZone(l),y.setRow(v),y.setColor(this._color),v!==p&&v!==g?y.setType(au.Whole):v===p&&v===g?(y.setType(au.None),y.setStartColumn(f),y.setEndColumn(m)):v===p?(y.setType(au.ToEnd),y.setStartColumn(f)):(y.setType(au.FromStart),y.setEndColumn(m)),y.attach(this)}for(v in o)o[v]&&!s[v]&&o[v].detach();this._rows=s;var b=Object.keys(s);try{for(var E=de(b),_=E.next();!_.done;_=E.next())(y=s[v=_.value]).layout(e),y.draw()}catch(e){t={error:e}}finally{try{_&&!_.done&&(n=E.return)&&n.call(E)}finally{if(t)throw t.error}}}},pu.prototype.clearRows=function(){var e,t=this._rows;for(e in t)t.hasOwnProperty(e)&&t[e].detach();this._rows=[]},pu.prototype.attach=function(e){e._root.append(this._root)},pu.prototype.detach=function(){this.clearRows(),this._root.remove()},pu);function pu(e){this.context=e,this._root=W()(lu),this._rows={},this._drawInvalid=!1,this._layoutInvalid=!1,this._empty=!1,this._range=null,this._color=null,this._chars=null,this._listeners=null}var fu=(hu.prototype._nextRangeId=function(){return Object(re.a)()},hu.prototype.attach=function(e){e.append(this._root)},hu.prototype.addRange=function(e,t,n,r,i){if(Mc(e))return null;var o=new du(this._context);return n=n||this._nextRangeId(),o.setId(n),o.setRange(e),o.setColor(t),o.setListeners(r),o.addClasses(i),(this._ranges[n]=o).layout(),o.draw(),o.attach(this),n},hu.prototype.updateRange=function(e,t,n,r){var i;null==e||(i=this._ranges[e])&&(t&&i.setRange(t),void 0!==n&&i.setColor(n),void 0!==r&&(0<r.toRemove.length&&i.removeClasses(r.toRemove),0<r.toAdd.length&&i.addClasses(r.toAdd)),i.layout(),i.draw())},hu.prototype.applyChangeset=function(e){if(this._options.useDefaultLayoutStrategy){var t,n,r=this._ranges;for(t in r)!r.hasOwnProperty(t)||(n=r[t])&&n.applyChangeset(e)}},hu.prototype.getRange=function(e){return this._ranges[e]},hu.prototype.getAllRangeIds=function(){return Object.keys(this._ranges)},hu.prototype.hasRange=function(e){return!!this._ranges[e]},hu.prototype.removeRange=function(e){var t;null==e||(t=this._ranges[e])&&(delete this._ranges[e],t.detach())},hu.prototype.layout=function(e){if(this._options.useDefaultLayoutStrategy){var t,n,r=this._ranges;for(t in r)!r.hasOwnProperty(t)||(n=r[t])&&n.layout(e)}},hu.prototype.setOptions=function(e){this._options=e},hu.prototype.detach=function(){this._ranges={},this._root.remove(),this._root=W()('<div class="ep-range-group '+this._options.className+'"></div>')},hu);function hu(e,t){void 0===t&&(t={}),this._context=e,this._ranges={},this._options={useDefaultLayoutStrategy:!0,className:""},this._options=ce(ce({},this._options),t),this._root=W()('<div class="ep-range-group '+this._options.className+'"></div>')}var gu="ep-ranges "+D.h,mu=(vu.prototype._nextRangeId=function(){return this._rangeId=Object(re.a)(),this._rangeId},vu.prototype.attach=function(e,t){var n=e.find("."+gu);n.length?this._root=n:(this._root=W()('<div class="'+gu+" "+(this.context.className||"")+'"></div>'),e.append(this._root)),"0"===t&&this._root&&this._root.addClass("main-ep-ranges")},vu.prototype.addRange=function(e,t,n,r,i,o){if(void 0===o&&(o="main"),Mc(e))return null;var a;!this._groups.has(o)&&this._root&&(a=new fu(this.context,this._groupOptions.get(o)),this._groups.set(o,a),a.attach(this._root));var s=this._groups.get(o);if(s){var c=s.addRange(e,t,n,r,i);if(c)return this._rangeIdToGroupIdMap.set(c,o),c}return null},vu.prototype.updateRange=function(e,t,n,r){var i,o;null!=e&&this._rangeIdToGroupIdMap.has(e)&&(!(i=this._rangeIdToGroupIdMap.get(e))||(o=this._groups.get(i))&&o.updateRange(e,t,n,r))},vu.prototype.applyChangeset=function(t){this._groups.forEach(function(e){return e.applyChangeset(t)})},vu.prototype.getRange=function(e){var t=this._rangeIdToGroupIdMap.get(e);if(t){var n=this._groups.get(t);if(n)return n.getRange(e)}},vu.prototype.hasRange=function(e){return this._rangeIdToGroupIdMap.has(e)},vu.prototype.removeRange=function(e){var t,n;null!=e&&this._rangeIdToGroupIdMap.has(e)&&(!(t=this._rangeIdToGroupIdMap.get(e))||(n=this._groups.get(t))&&(n.removeRange(e),this._rangeIdToGroupIdMap.delete(e)))},vu.prototype.removeGroup=function(e){var t,n=this;!this._groups.has(e)||(t=this._groups.get(e))&&(t.getAllRangeIds().forEach(function(e){return n._rangeIdToGroupIdMap.delete(e)}),this._groups.delete(e),t.detach()),this._groupOptions.delete(e)},vu.prototype.setGroupOptions=function(e,t){this._groupOptions.set(e,t);var n=this._groups.get(e);n&&n.setOptions(t)},vu.prototype.layout=function(t){this._groups.forEach(function(e){return e.layout(t)})},vu.prototype.detach=function(){this._groups.forEach(function(e){return e.detach()}),this._groups.clear(),this._rangeIdToGroupIdMap.clear(),this._groupOptions.clear(),this._root&&this._root.remove(),this._root=W()('<div class="ep-ranges '+(this.context.className||"")+'"></div>')},vu);function vu(e){this.context=e,this._groups=new Map,this._rangeIdToGroupIdMap=new Map,this._groupOptions=new Map,this._root=null,this._rangeId=""}var yu=(bu.prototype.isRowMounted=function(e){var t=this.editor.blockRender.getLinesStatus();return t[N.DEFAULT_REP_ZONE][e]&&t[N.DEFAULT_REP_ZONE][e].isActive},bu.prototype.removeGroup=function(t){Object.values(this.rangesViews).forEach(function(e){return e.removeGroup(t)})},bu.prototype.setGroupOptions=function(t,n){Object.values(this.rangesViews).forEach(function(e){return e.setGroupOptions(t,n)})},bu);function bu(e){var s=this;this.editor=e,this.className="Range",this.rangesViews={},this.lastZoneOfMember={},this.forceLayout=function(){try{Object.values(s.rangesViews).forEach(function(e){return e.layout(!0)})}catch(e){console.log("editor resize change catch",e)}},this.onWindowResize=Object(h.default)(this.forceLayout,60),this.lineNodesMounted=function(){s.forceLayout()},this._changesetApply=function(e,t){var n,r=t.changeset,i=t.insertsAfterSelection,o=s.editor.changesetHelper;i||(n=o.formatCs(r),Object.keys(n).forEach(function(e){var t=n[e];t&&s.rangesViews[e]&&s.rangesViews[e].applyChangeset(t)}))},this.changesetApply=function(e,t){try{s._changesetApply(e,t)}catch(e){console.log("range apply changeset error",t)}},this.reset=function(){Object.values(s.rangesViews).forEach(function(e){return e.detach()}),window.removeEventListener("resize",s.onWindowResize),s.editor.off("innerZoneMount",s.mountRangesView),s.rangesViews={},s.lastZoneOfMember={}},this.editorSizeChange=function(){s.forceLayout()},this.handleImageResize=function(e,t){var n=t.zoneId;s.rangesViews[n]&&s.rangesViews[n].layout(!0)},this.handleSheet=function(){s.forceLayout()},this.mountRangesView=function(e){var t=e.el,n=e.zoneId,r=void 0===n?"0":n,i=e.className,o=void 0===i?"":i,a=new mu({editorInfo:s.editor,className:o,isRowMounted:s.isRowMounted.bind(s)});a.attach(W()(t),r),s.rangesViews[r]=a},this.getRange=function(e,t){var n=t||s.editor.selection.getZone();if(null!==e&&s.rangesViews[n])return s.rangesViews[n].getRange(e)},this.addRange=function(e,t,n,r,i,o){var a=e.selZone;return s.rangesViews[a]?(s.resetLastRange(n,a),s.lastZoneOfMember[n]=a,s.rangesViews[a].addRange(e,t,n,r,i,o)):null},this.resetLastRange=function(e,t){s.lastZoneOfMember[e]&&s.lastZoneOfMember[e]!==t&&s.rangesViews[s.lastZoneOfMember[e]]&&s.rangesViews[s.lastZoneOfMember[e]].removeRange(e)},this.updateRange=function(e,t,n,r,i){var o=t||s.editor.selection.getZone();s.resetLastRange(e,o),null!=e&&s.rangesViews[o]&&s.rangesViews[o].updateRange(e,n,r,i)},this.hasRange=function(e,t){var n=t||s.editor.selection.getZone();if(null!=e&&s.rangesViews[n])return s.rangesViews[n].hasRange(e)},this.removeRange=function(e,t){var n=t||s.editor.selection.getZone();null!=e&&s.rangesViews[n]&&s.rangesViews[n].removeRange(e)},this.mountRangesView({el:e.getOuterContainer()}),e.ace_getRange=this.getRange,e.ace_addRange=this.addRange,e.ace_updateRange=this.updateRange,e.ace_removeRange=this.removeRange,e.ace_hasRange=this.hasRange,e.getRange=this.getRange,e.addRange=this.addRange,e.updateRange=this.updateRange,e.removeRange=this.removeRange,e.hasRange=this.hasRange,window.addEventListener("resize",this.onWindowResize),this.editor.on("innerZoneMount",this.mountRangesView)}var Eu,_u=(Au.prototype.destroy=function(){this.editor.off(N.config.READY_TO_PERFORM_CHANGESET,this.handleChangeset),this.editor.off(N.config.DIRTYDOM_WITHOUT_CHANGESET,this.handleDirtydomWithoutChangeset)},Au);function Au(e){var t=this;this.className="UserChangeDetector",this.handleChangeset=function(e){e.applyingNonUserchanges||!t.editor.changesetTracker.hasChangesetNeedToCollab(e.cs)||t.editor.changesetHelper.isIdentity(e.cs)||t.editor.call(N.config.WILL_HANDLE_USER_CHANGESET,N.config.UserChangesetType.perform)},this.handleDirtydomWithoutChangeset=function(){t.editor.call(N.config.DID_HANDLE_USER_CHANGESET)},this.editor=e,this.editor.on(N.config.READY_TO_PERFORM_CHANGESET,this.handleChangeset),this.editor.on(N.config.DIRTYDOM_WITHOUT_CHANGESET,this.handleDirtydomWithoutChangeset)}var Cu=D.E.getHotKeyName,Tu=D.E.BOLD,Ou=D.E.STRIKETHROUGH,ku=D.E.UNDERLINE,Su=D.E.ITALIC,wu=D.E.INSERTUNORDEREDLIST,Iu=D.E.INSERTORDEREDLIST,xu=D.E.ALIGNLEFT,Lu=D.E.ALIGNCENTER,Ru=D.E.ALIGNRIGHT,Nu=D.E.CHECKBOX,Du=D.E.BLOCKQUOTE,Mu=D.E.LINK,Pu=D.E.INDENT,ju=D.E.DIVIDER,Fu=((Eu={})[Tu]={key:Tu},Eu[Ou]={key:Ou},Eu[ku]={key:ku},Eu[Su]={key:Su},Eu[wu]={key:"list",value:"bullet"},Eu[Iu]={key:"list",value:"number"},Eu[xu]={key:"align",value:"left"},Eu[Lu]={key:"align",value:"center"},Eu[Ru]={key:"align",value:"right"},Eu[Nu]={key:"list",value:"check"},Eu[Du]={key:Du},Eu[Mu]={key:Mu},Eu[Pu]={key:Pu},Eu[ju]={key:"horizontal-line"},Eu),Bu=Uu;function Uu(e,t){var c=this;this.adit=e,this.options=t,this.aceKeyEvent=function(e,t){var n=t.evt,r=t.isTypeForSpecialKey,i=Cu(n),o=Fu[i];if(r&&o){var a=o.key,s=o.value;return hi(c.adit,a,null,s,c.options&&c.options.onShortcutCall),n.preventDefault(),!0}return!1}}},cGQV:function(e,t,n){"use strict";n.d(t,"b",function(){return i}),n.d(t,"c",function(){return o}),n.d(t,"a",function(){return a});var r=n("RKCD");function i(e){return Object(r.a)(e,{evaluate:/\{\{([\s\S]+?)\}\}/g,interpolate:/\{\{=([\s\S]+?)\}\}/g,escape:/\{\{\{([\s\S]+?)\}\}\}/g})}function o(){var n={};return(0<arguments.length&&void 0!==arguments[0]?arguments[0]:"").split("&").forEach(function(e){var t=e.split("=");n[t[0]]=t[1]}),n}function a(e){return"number"==typeof e&&isFinite(e)&&!isNaN(e)}},cHHt:function(e,a,s){"use strict";(function(e){s.d(a,"a",function(){return o});var t=s("zhgJ"),n=((e("placeholder.body.blank.guide")||"").split("|||"),(e("placeholder.comment.blank.guide")||"").split("|||")),r="commentPlaceHolderGuide";var i="";function o(){if(i)return i;var e=Object(t.f)(r);return 0<e&&e<=n.length&&(i=n[e-1]),i}}).call(this,s("2vAP"))},cHMM:function(e,t,n){var r=n("tRRp");function i(e){if(55296<=e&&e<=57343||1114111<e)return"";e in r&&(e=r[e]);var t="";return 65535<e&&(e-=65536,t+=String.fromCharCode(e>>>10&1023|55296),e=56320|1023&e),t+=String.fromCharCode(e)}e.exports=i},cLsO:function(e,t,n){"use strict";var r,i,o,a,s,c,u,l,d,p,f,h,g,m,v,y=n("RIqP"),b=n.n(y),E=n("lSNA"),_=n.n(E),C=n("fujP"),T=n("owWc"),O=n("Muja"),k=n("ANjH"),S=n("6SzI"),w=n("hyzN"),I=n("AUfY"),x=n("iP/4"),L=n("USG6"),R=n("mr8a"),N=x.a.mobile,D=Object(S.handleActions)((r={},_()(r,R.W,function(e){return Object.assign({},e,{halt:!0})}),_()(r,L.CONTENT_VISIBLE,function(e,t){var n=t.payload,r=void 0===n?!e.visible:n;return r===e.visible?e:Object.assign({},e,{visible:r})}),_()(r,L.FREEZE_SPREAD_TOGGLE,function(e,t){var n=t.payload,r=void 0===n?!e.frozen:n;return r===e.frozen?e:Object.assign({},e,{frozen:r})}),_()(r,R.Cb,function(e,t){var n=t.payload;return n.emptySheet===e.emptySheet?e:Object.assign({},e,{emptySheet:n.emptySheet})}),_()(r,R.f,function(e){return e.online?e:Object.assign({},e,{online:!0})}),_()(r,R.e,function(e){return e.online?Object.assign({},e,{online:!1}):e}),_()(r,R.ub,function(e,t){var n=t.payload;return Object.assign({},e,{isTemplate:n.isTemplate})}),r),{frozen:!0,emptySheet:!1,online:!0,timeMachine:!1,halt:!1,isMobile:N}),M=Object(S.handleActions)((i={},_()(i,R.ib,function(e){return Object.assign({},e,{visible:!0})}),_()(i,R.D,function(e){return Object.assign({},e,{visible:!1})}),_()(i,R.sb,function(e){return Object.assign({},e,{visible:!e.visible})}),_()(i,R.y,function(e,t){var n=t.payload;return Object.assign({},e,{correct_result:Object.assign({},n)})}),_()(i,R.x,function(e,t){t.payload;return Object.assign({},e,{correct_result:null})}),_()(i,R.v,function(e,t){var n=t.payload;return Object.assign({},e,{formulaList:Object.assign({},n)})}),_()(i,R.u,function(e,t){t.payload;return Object.assign({},e,{formulaList:null})}),i),{visible:!1}),P=D,j=Object(S.handleActions)(_()({},R.Cb,function(e,t){var n=t.payload.coord;return!n||n.row===e.row&&n.col===e.col?e:Object.assign({},e,{},n)}),{row:0,col:0}),F=Object(S.handleActions)((o={},_()(o,R.Cb,function(e,t){var n=t.payload,r=n.cellStatus,i=void 0===r?{}:r,o=n.rangeStatus,a=void 0===o?{}:o,s=n.isFiltered,c=void 0!==s&&s;return c===e.isFiltered&&Object(O.default)(i,e.cellStatus)&&Object(O.default)(a,e.rangeStatus)?e:Object.assign({},e,{cellStatus:i||{},rangeStatus:a||{},isFiltered:c})}),_()(o,R.kb,function(e,t){var n=t.payload;return Object.assign({},e,{hyperlinkEditor:Object.assign({},e.hyperlinkEditor,{},n,{isShowRangeSelectorModal:!1})})}),_()(o,L.HIDE_HYPER_LINK_EDITOR,function(e,t){var n=t.payload;if(!1===e.hyperlinkEditor)return e;if(n&&!0===n.isShowRangeSelectorModal){var r=Object.assign({},e.hyperlinkEditor,{},n);return Object.assign({},e,{hyperlinkEditor:r})}return Object.assign({},e,{hyperlinkEditor:!1})}),_()(o,R.tb,function(e,t){var n=t.payload;return Object.assign({},e,{toggleNavBar:Object.assign({},n)})}),_()(o,"SHIFT_SHEET_TOOLBAR_ROW",function(e,t){var n=t.payload;return Object.assign({},e,{isSingleRow:n})}),_()(o,R.wb,function(e,t){var n=t.payload;return Object(O.default)(e.rangeConditionFormatRules,n)?e:Object.assign({},e,{rangeConditionFormatRules:n})}),o),{cellStatus:{},rangeStatus:{},isSingleRow:Object(I.b)(),rangeConditionFormatRules:[]}),B=Object(S.handleActions)((a={},_()(a,R.S,function(e,t){var n=t.payload;return Object.assign({},e,{visible:n})}),_()(a,R.R,function(e,t){var n=t.payload;return Object.assign({},e,{onComment:n})}),_()(a,L.SET_EMBED_SHEET_ALLOW_COMMENT,function(e,t){var n=t.payload;return Object.assign({},e,{commentable:n})}),_()(a,R.O,function(e,t){var n=t.payload;return Object.assign({},e,{activeSheetId:n})}),a),{visible:!1,onComment:null,commentable:!1,activeSheetId:""}),U=Object(S.handleActions)(_()({},R.s,function(e,t){var n=t.payload,r=void 0===n?null:n,i=null==r?!e.painterFormatting:r;return Object.assign({},e,{painterFormatting:i})}),{painterFormatting:!1}),H=Object(S.handleActions)((s={},_()(s,R.hb,function(e,t){var n=t.payload;return e.visible&&!n?Object.assign({},e,{findFocus:!0}):Object.assign({},e,{visible:!0,replaceVisible:n,findFocus:!0})}),_()(s,L.HIDE_FINDBAR,function(e){return!1===e.visible&&!1===e.replaceVisible&&!1===e.findFocus?e:Object.assign({},e,{visible:!1,replaceVisible:!1,findFocus:!1})}),_()(s,R.r,function(e,t){var n=t.payload;return Object.assign({},e,{findFocus:n})}),s),{visible:!1,replaceVisible:!1,findFocus:!1}),z=Object(S.handleActions)((c={},_()(c,R.rb,function(e,t){var n=t.payload,r=e.toggle,i=e.target,o=n.toggle,a=void 0===o?!r:o,s=n.target,c=void 0===s?i:s;return Object.assign({},e,{toggle:a,target:c||null,reopenCommentId:null,mask:!1})}),_()(c,R.I,function(e,t){var n=t.payload;return Object.assign({},e,{data:Object.assign({},e.data,{},n),reopenCommentId:null})}),_()(c,R.H,function(e,t){t.payload;return e}),_()(c,R.vb,function(e,t){var n=t.payload;return Object.assign({},e,{data:Object.assign({},e.data,{},n),reopenCommentId:null})}),_()(c,R.q,function(e,t){var n=t.payload;if(n){var r=n.commentId,i=n.replyId,o=n.content,a=e.data[r];if(!a||!a.comment_list)return e;var s=a.comment_list.findIndex(function(e){return e.reply_id===i});if(s<0)return e;var c=b()(a.comment_list);return c[s]=Object.assign({},c[s],{content:o}),a.comment_list=c,Object.assign({},e,{data:Object.assign({},e.data,_()({},r,a))})}return e}),_()(c,R.Bb,function(e,t){var n=t.payload;if(n){var r=n.commentId,i=n.replyId,o=e.data[r];if(!o||!o.comment_list)return e;var a=o.comment_list.findIndex(function(e){return e.reply_id===i});if(a<0)return e;var s=b()(o.comment_list);return s[a]=Object.assign({},s[a],{},n.reply),o.comment_list=s,Object.assign({},e,{data:Object.assign({},e.data,_()({},r,o))})}return e}),_()(c,R.k,function(e,t){var n=t.payload.commentId,r=Object.assign({},e);return r[n]&&delete r[n],r}),_()(c,L.REOPEN_SHEET_COMMENT,function(e,t){var n=t.payload;return Object.assign({},e,{data:Object.assign({},e.data,_()({},n.comment_id,Object.assign({},n,{finish:0}))),reopenCommentId:n.comment_id})}),_()(c,R.qb,function(e,t){var n=t.payload;return e.mask!==n?Object.assign({},e,{target:e.mask&&n?null:e.target,mask:n}):e}),_()(c,R.g,function(e,t){return{toggle:!1,target:null,data:{},mask:!0}}),_()(c,R.Q,function(e,t){var n=t.payload.comments;if(!n)return e;var r={};return n.forEach(function(e){r[e.comment_id]=e}),Object.assign({},e,{data:Object.assign({},e.data,{},r)})}),c),{toggle:!1,target:null,data:{},reopenCommentId:null,mask:!0}),V=Object(S.handleActions)((u={},_()(u,R.jb,function(e,t){var n=t.payload;return Object.assign({},e,{visible:!0,localVisible:!!n})}),_()(u,R.E,function(e){return Object.assign({},e,{visible:!1,localVisible:!1})}),_()(u,L.TOGGLE_HISTORY,function(e){return Object.assign({},e,{visible:!e.visible,localVisible:!1})}),u),{visible:!1,localVisible:!1}),K=Object(S.handleActions)((l={},_()(l,R.fb,function(e,t){var n=t.payload;return e.visible&&!n?e:Object.assign({},e,{visible:!0})}),_()(l,L.HIDE_DROPDOWN_MENU,function(e){return!1===e.visible?e:Object.assign({},e,{visible:!1})}),l),{visible:!1}),W=Object(S.handleActions)((d={},_()(d,R.nb,function(e){return Object.assign({},e,{spreadState:Object.assign({},e.spreadState,{loading:!1,loaded:!0,activeSheetLoaded:!0})})}),_()(d,R.ob,function(e){return Object.assign({},e,{spreadState:Object.assign({},e.spreadState,{loading:!0,loaded:!1})})}),_()(d,R.pb,function(e,t){var n=t.payload,i=n.activeSheetId,o=n.initialRows,r=n.snapshot,a=r.sheetCount||1,s=0,c=Object(T.a)(r.sheets,function(e,t){var n=0,r=null==t.rowCount?w.G:t.rowCount;return t.id===i&&(n=o),r<=n?(s++,e[t.id]={loading:!1,loaded:!0}):e[t.id]={loading:!0,loaded:!1},e},{}),u=s===a;return{spreadState:{totalSheet:a,loading:!u,loaded:u,loadedSheet:s,activeSheetLoaded:u},sheetState:c}}),_()(d,R.ab,function(e,t){var n=t.payload,r=n.sheetId,i=n.isActiveSheet,o=e.spreadState,a=Object.assign({},e.sheetState[r]);return Object(C.default)(a)&&(a={loaded:!1,loading:!0},o.totalSheet+=1),a.loaded=!0,a.loading=!1,o.loadedSheet+=1,o.loadedSheet>=o.totalSheet&&(o.loading=!1,o.loaded=!0),i&&(o.activeSheetLoaded=i),Object.assign({},e,{spreadState:Object.assign({},o),sheetState:Object.assign({},e.sheetState,_()({},r,a))})}),_()(d,R.K,function(e,t){var n=t.payload;return Object.assign({},e,{spreadState:Object.assign({},e.spreadState,{activeSheetLoaded:n.isActiveSheetLoaded})})}),_()(d,R.L,function(e){return{spreadState:{loading:!0,loaded:!1,totalSheet:0,loadedSheet:0,activeSheetLoaded:!1},sheetState:{}}}),d),{spreadState:{loading:!0,loaded:!1,totalSheet:0,loadedSheet:0,activeSheetLoaded:!1},sheetState:{}}),Y=Object(S.handleActions)(_()({},L.EXPORT_FILE,function(e,t){var n=t.payload,r=void 0===n?{}:n;return Object.assign({},e,{},r)}),{isExport:!1}),q=Object(S.handleActions)((p={},_()(p,R.gb,function(e,t){var n=t.payload;return Object.assign({},n)}),_()(p,L.HIDE_FILTER_MENU,function(e){return{visible:!1}}),p),{visible:!1}),Z=Object(S.handleActions)(_()({},R.Db,function(e,t){var n=t.payload;return Object.assign({},e,{},n)}),{}),X=Object(S.handleActions)(_()({},R.zb,function(e,t){var n=t.payload;if("del"!==n)return[].concat(b()(e),[n]);var r=b()(e);return r.length&&r.pop(),r}),[]),Q=Object(S.handleActions)(_()({},R.xb,function(e,t){var n=t.payload;return Object.assign({},e,{},n)}),{}),J=Object(S.handleActions)((f={},_()(f,R.J,function(e,t){return null}),_()(f,R.V,function(e,t){return t.payload||e}),f),null),$=Object(S.handleActions)(_()({},L.TOGGLE_TITLE_FOCUS_STATUS,function(e,t){var n=t.payload;return Object.assign({},n)}),{isFocus:!1}),ee=Object(S.handleActions)((h={},_()(h,R.n,function(e,t){var n=t.payload,r=b()(e.mountedList);return r.splice(n.index,0,n.sheetId),{mountedList:r}}),_()(h,R.p,function(e,t){var n=t.payload;return{mountedList:e.mountedList.filter(function(e){return e!==n.sheetId})}}),_()(h,R.o,function(e,t){return{mountedList:t.payload}}),h),{mountedList:[]}),te=Object(S.handleActions)(_()({},R.X,function(e,t){var n=t.payload;return n||e}),[]),ne=Object(S.handleActions)(_()({},R.d,function(e,t){var n=t.payload;return Object.assign({},e,{},n)}),{hasPermission:!0,colPermission:!0,rowPermission:!0,sheetPermission:!0}),re={dialog:{source:"",isShow:!1,protectionType:0,range:null,permission:[],permId:"",sheetId:"",note:""},panel:{isShow:!1}},ie=Object(S.handleActions)((g={},_()(g,R.lb,function(e,t){var n=t.payload;return Object.assign({},e,{dialog:Object.assign({},e.dialog,{},n,{isShow:!0})})}),_()(g,R.i,function(e){return Object.assign({},e,{dialog:Object.assign({},re.dialog)})}),_()(g,R.mb,function(e){return Object.assign({},e,{panel:Object.assign({},e.panel,{isShow:!0})})}),_()(g,R.j,function(e){return Object.assign({},e,{panel:Object.assign({},re.panel)})}),_()(g,R.L,function(e){return Object.assign({},re)}),_()(g,R.d,function(e,t){var n=t.payload;return Object.assign({},e,{permissions:Object.assign({},e.permissions,{},n)})}),g),{dialog:{isShow:!1,protectionType:0,range:null,permId:"",permission:[],sheetId:"",note:""},panel:{isShow:!1}}),oe=Object(S.handleActions)((m={},_()(m,R.db,function(e){return!0===e.isPanelShow?e:Object.assign({},e,{isPanelShow:!0})}),_()(m,R.B,function(e){return!1===e.isPanelShow?e:Object.assign({},e,{isPanelShow:!1})}),_()(m,R.C,function(e){return Object.assign({},e,{isShowSelectionModal:!1})}),_()(m,R.eb,function(e){return Object.assign({},e,{isShowSelectionModal:!0})}),m),{isPanelShow:!1,isShowSelectionModal:!1}),ae=Object(S.handleActions)(_()({},R.Y,function(e,t){var n=t.payload;return Object.assign({},e,{},n)}),{isProcessing:!1,viewType:0,isShowRangeSelector:!1}),se=Object(S.handleActions)(_()({},R.P,function(e,t){var n=t.payload;return Object.assign({},e,{},n)}),{settingPanelType:w.wb.CHART_SETUP}),ce=Object(S.handleActions)((v={},_()(v,R.F,function(e,t){var n=t.payload;return Object.assign({},e,{},n)}),_()(v,R.U,function(e,t){var n=t.payload,r=n.chartBlock,i=n.forceUpdate,o=r.sheetId,a=r.chartId;return e[o]?Object.assign({},e,_()({},o,Object.assign({},e[o],_()({},a,Object.assign({},e[o][a],{},r,{forceUpdate:i}))))):Object.assign({},e,_()({},o,_()({},a,Object.assign({},r,{forceUpdate:i}))))}),_()(v,R.m,function(e,t){var n=t.payload,r=n.sheetId,i=n.chartId,o=Object.assign({},e,_()({},r,Object.assign({},e[r])));return Reflect.deleteProperty(o[r],i),e.activeChartId===i&&(e.isShowChartSettingPanel&&(o.isShowChartSettingPanel=!1),o.activeChartId=""),o}),_()(v,R.N,function(e,t){var n,r=t.payload,i=r.sheetId,o=r.chartId;if(e[i][o].isActive)return e;var a,s=Object.assign({},e[i]);for(a in s)s[a].isActive=!1;return Object.assign({},e,(n={},_()(n,i,Object.assign({},s,_()({},o,Object.assign({},e[i][o],{forceUpdate:!1,isActive:!0})))),_()(n,"activeChartId",o),n))}),_()(v,R.h,function(n){var r=n;return Object.keys(n).forEach(function(t){n[t]&&Object.keys(n[t]).forEach(function(e){n[t][e].isActive&&(r=Object.assign({},r,_()({},t,Object.assign({},r[t],_()({},e,Object.assign({},r[t][e],{isActive:!1}))))))})}),r.activeChartId="",r}),_()(v,R.z,function(e){return e.isShowChartSettingPanel?Object.assign({},e,{isShowChartSettingPanel:!1}):e}),_()(v,R.bb,function(e){return e.isShowChartSettingPanel?e:Object.assign({},e,{isShowChartSettingPanel:!0})}),_()(v,R.A,function(e){return Object.assign({},e,{isShowChartSelectionModal:!1})}),_()(v,R.cb,function(e){return Object.assign({},e,{isShowChartSelectionModal:!0})}),_()(v,R.c,function(e,t){var n=t.payload;return Object.assign({},e,{chartPreviewColorType:n})}),v),{isShowChartSettingPanel:!1,chartPreviewColorType:null,isShowChartSelectionModal:!1}),ue=Object(S.handleActions)(_()({},R.yb,function(e,t){var n=t.payload;return Object.assign({},e,{},n)}),{chart:!1,protection:!1}),le=Object(S.handleActions)(_()({},R.T,function(e,t){var n=t.payload;return Object.assign({},e,{},n)}),{visible:!1}),de=Object(S.handleActions)(_()({},R.Z,function(e,t){var n=t.payload;return Object.assign({},e,{},n)}),{isActive:!1});t.a=Object(k.combineReducers)({toolbar:F,status:P,formula:M,findbar:H,coord:j,filter:q,formatPainter:U,comment:z,history:V,dropdownMenu:K,fetchState:W,embedToolbar:B,fileExport:Y,clientVars:J,titleInput:$,embedSheet:ee,permission:ne,protection:ie,chart:ce,featureTips:ue,highlightBar:le,permissions:te,chartSettingPanelOptions:se,translateMode:de,conditionFormat:oe,smartableTransformState:ae,zoom:Z,crossHightlight:Q,sheetMode:X})},cUew:function(e,t){var n=Element.prototype,i=n.matchesSelector||n.webkitMatchesSelector||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector;function r(e,t){if(i)return i.call(e,t);for(var n=e.parentNode.querySelectorAll(t),r=0;r<n.length;++r)if(n[r]==e)return!0;return!1}e.exports=r},cWqo:function(e,t,n){n("b4mI"),n("Pkew"),n("UUWy"),n("aBPM"),n("NioV");var r=n("dktu");e.exports=r.Promise},cgHO:function(e,t,n){n("m/sp")("dispose")},cgIo:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n("RKCD");function i(e){return Object(r.a)(e,{evaluate:/\{\{([\s\S]+?)\}\}/g,interpolate:/\{\{=([\s\S]+?)\}\}/g,escape:/\{\{\{([\s\S]+?)\}\}\}/g})}},chSF:function(e,E,_){"use strict";(function(r){_.d(E,"a",function(){return b});var e=_("lwsE"),i=_.n(e),t=_("W8MJ"),n=_.n(t),o=_("a1gu"),a=_.n(o),s=_("Nsbk"),c=_.n(s),u=_("7W2i"),l=_.n(u),d=_("q1tI"),p=_.n(d),f=_("UlbS"),h=_("CnBM"),g=_.n(h),m=(_("wQU+"),_("YlgD")),v={padding:"4px"},y=g()({loader:function(){return Promise.all([_.e("commons--home_banner--reaction--user_profile--whats_new_request"),_.e("commons--reaction--user_profile"),_.e("reaction")]).then(_.bind(null,"fVNN"))},loading:function(){return null}}),b=function(e){function t(){var n;return i()(this,t),(n=a()(this,c()(t).apply(this,arguments))).handleReactionDetailClick=function(e){e.stopPropagation()},n.handleAvatarClick=function(e,t){n.props.onUserClick&&n.props.onUserClick(Object(m.b)(e),t)},n}return l()(t,e),n()(t,[{key:"render",value:function(){var e=this.props,t=e.reactions,n=e.activeReactionType;return p.a.createElement("div",{onClick:this.handleReactionDetailClick},p.a.createElement(f.Dialog,{className:"reaction-detail-dialog",visible:!0,center:!0,footer:null,width:640,title:r("reaction.detail"),animate:!1,style:v,onClose:this.props.onClose},p.a.createElement(y,{reactions:t.map(function(e){return{type:e.reactionKey,chatters:e.userList.map(function(e){return Object(m.a)(e)})}}),activeReactionType:n,onAvatarClick:this.handleAvatarClick})))}}]),t}(p.a.PureComponent)}).call(this,_("2vAP"))},chgP:function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return s});var r=n("lwsE"),i=n.n(r),o=n("YWBl"),a=n("YNKm"),s=function e(t){var r=this;i()(this,e),this.aceKeyEvent=function(e,t){var n=t.evt;return!!Object(a.hb)(n,a.T)&&(n.preventDefault(),r.editor.triggerCommand(a.T),!0)},this.editor=t.editor,this.editor.registerCommand(a.T,function(e,t){t.doUndoRedo(e),Object(o.a)({action:e})})}},"cq/+":function(e,t,n){var r=n("mc0g")();e.exports=r},cqmu:function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),(r=t.TraceFlags||(t.TraceFlags={}))[r.NONE=0]="NONE",r[r.SAMPLED=1]="SAMPLED"},cs4F:function(e,a,t){(function(r){var i=t("hS6j"),n=t("o4mS");function o(e,t){return(t?n.parse:n.parseFragment)(e,{treeAdapter:n.treeAdapters.htmlparser2}).children}(a=e.exports=function(e,t,n){var r=a.evaluate(e,t,n),i=a.evaluate("<root></root>",t,!1)[0];return i.type="root",i.parent=null,a.update(r,i),i}).evaluate=function(e,t,n){return r.isBuffer(e)&&(e=e.toString()),"string"==typeof e?t.xmlMode||t._useHtmlParser2?i.parseDOM(e,t):o(e,n):e},a.update=function(e,t){Array.isArray(e)||(e=[e]),t?t.children=e:t=null;for(var n=0;n<e.length;n++){var r=e[n],i=r.parent||r.root,o=i&&i.children;o&&o!==e&&(o.splice(o.indexOf(r),1),r.prev&&(r.prev.next=r.next),r.next&&(r.next.prev=r.prev)),t?(r.prev=e[n-1]||null,r.next=e[n+1]||null):r.prev=r.next=null,t&&"root"===t.type?(r.root=t,r.parent=null):(r.root=null,r.parent=t)}return t}}).call(this,t("HDXh").Buffer)},cudk:function(e,t,n){"use strict";n.d(t,"b",function(){return d}),n.d(t,"a",function(){return p}),n.d(t,"c",function(){return f});var r=n("o0o1"),i=n.n(r),o=n("yXPU"),a=n.n(o),s=n("q1tI"),c=n.n(s),u=n("CnBM"),l=n.n(u),d=function(){var e=a()(i.a.mark(function e(){var t;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,garrRequire("bitable");case 2:return e.next=4,e.sent.bitableSdk();case 4:return t=e.sent,e.abrupt("return",t);case 6:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),p=function(){var e=a()(i.a.mark(function e(){var t;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,garrRequire("bitable");case 2:return e.next=4,e.sent.bitableInjectBitableDep();case 4:return t=e.sent,e.abrupt("return",t.default);case 6:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),f=function(r){return l.a.Map({loader:{bitableSdk:d},loading:function(){return null},render:function(e,t){var n=e.bitableSdk[r];return c.a.createElement(n,Object.assign({},t))}})}},cvCv:function(e,t){function n(e){return function(){return e}}e.exports=n},czxZ:function(e,t,n){var o=n("TR4g").isTag;function r(e,t,n,r){return Array.isArray(t)||(t=[t]),"number"==typeof r&&isFinite(r)||(r=1/0),c(e,t,!1!==n,r)}function c(e,t,n,r){for(var i,o=[],a=0,s=t.length;a<s&&!(e(t[a])&&(o.push(t[a]),--r<=0))&&(i=t[a].children,!(n&&i&&0<i.length&&(i=c(e,i,n,r),o=o.concat(i),(r-=i.length)<=0)));a++);return o}function i(e,t){for(var n=0,r=t.length;n<r;n++)if(e(t[n]))return t[n];return null}function a(e,t){for(var n=null,r=0,i=t.length;r<i&&!n;r++)o(t[r])&&(e(t[r])?n=t[r]:0<t[r].children.length&&(n=a(e,t[r].children)));return n}function s(e,t){for(var n=0,r=t.length;n<r;n++)if(o(t[n])&&(e(t[n])||0<t[n].children.length&&s(e,t[n].children)))return!0;return!1}function u(e,t){for(var n=[],r=t.slice();r.length;){var i=r.shift();o(i)&&(i.children&&0<i.children.length&&r.unshift.apply(r,i.children),e(i)&&n.push(i))}return n}e.exports={filter:r,find:c,findOneChild:i,findOne:a,existsOne:s,findAll:u}},d4XP:function(e,t,n){"use strict";var i=window.URL||window.webkitURL;e.exports=function(t,n){try{try{var r;try{(r=new(window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder)).append(t),r=r.getBlob()}catch(e){r=new Blob([t])}return new Worker(i.createObjectURL(r))}catch(e){return new Worker("data:application/javascript,"+encodeURIComponent(t))}}catch(e){if(!n)throw Error("Inline worker is not supported");return new Worker(n)}}},dD9F:function(e,t,n){var r=n("NykK"),i=n("shjB"),o=n("ExA7"),a="[object Arguments]",s="[object Array]",c="[object Boolean]",u="[object Date]",l="[object Error]",d="[object Function]",p="[object Map]",f="[object Number]",h="[object Object]",g="[object RegExp]",m="[object Set]",v="[object String]",y="[object WeakMap]",b="[object ArrayBuffer]",E="[object DataView]",_="[object Float64Array]",C="[object Int8Array]",T="[object Int16Array]",O="[object Int32Array]",k="[object Uint8Array]",S="[object Uint8ClampedArray]",w="[object Uint16Array]",I="[object Uint32Array]",x={};function L(e){return o(e)&&i(e.length)&&!!x[r(e)]}x["[object Float32Array]"]=x[_]=x[C]=x[T]=x[O]=x[k]=x[S]=x[w]=x[I]=!0,x[a]=x[s]=x[b]=x[c]=x[E]=x[u]=x[l]=x[d]=x[p]=x[f]=x[h]=x[g]=x[m]=x[v]=x[y]=!1,e.exports=L},dF9M:function(e,o,a){"use strict";(function(i){a.d(o,"a",function(){return r});var e=a("wd/R"),t=a.n(e),n=(a("XDpg"),a("B55N"),a("f8Ac"));t.a.locale("en"),t.a.locale(Object(n.c)().toLowerCase()),t.a.relativeTimeThreshold("ss",0),t.a.relativeTimeThreshold("s",60),t.a.relativeTimeThreshold("m",60),t.a.relativeTimeThreshold("h",24),t.a.relativeTimeThreshold("d",31),t.a.relativeTimeThreshold("M",12);var r={TODAY:"h:mm A [Today]",YESTERDAY:"h:mm A [Yesterday]",BEFORE_YESTERDAY:"h:mm A [The day before yesterday]",SAME_YEAR:"h:mm A MMM D",BEFORE_YEAR:"MMM D, YYYY"};(function(){r.TODAY=i("space.date_format.today"),r.YESTERDAY=i("space.date_format.yesterday"),r.BEFORE_YESTERDAY=i("space.date_format.before_yesterday"),r.SAME_YEAR=i("space.date_format.same_year"),r.BEFORE_YEAR=i("space.date_format.before_year");var e=t.a.locale();t.a.locale(e,{relativeTime:{future:i("space.in_future"),past:function(e){return-1===[i("date.just")].indexOf(e)?"".concat(e).concat(i("space.time_before")):e},s:function(e,t,n,r){return i(r?"space.a_moment":"date.just")},ss:i("space.ss_seconds"),m:i("space.a_minute"),mm:i("space.mm_minutes"),h:i("space.a_hour"),hh:i("space.hh_hours")}})})()}).call(this,a("2vAP"))},dHvJ:function(e,t,n){"use strict";n.d(t,"a",function(){return E});var r=n("lwsE"),i=n.n(r),o=n("W8MJ"),a=n.n(o),s=n("a1gu"),c=n.n(s),u=n("Nsbk"),l=n.n(u),d=n("PJYZ"),p=n.n(d),f=n("7W2i"),h=n.n(f),g=n("q1tI"),m=n.n(g),v=(n("17x9"),n("i8i4")),y=n.n(v),b=n("OX8E"),E=function(e){function n(e){var t;return i()(this,n),(t=c()(this,l()(n).call(this,e))).setNode=t.setNode.bind(p()(t)),t.viewportContentChange=t.viewportContentChange.bind(p()(t)),t}return h()(n,e),a()(n,[{key:"componentDidMount",value:function(){b.a.on("viewportContentChange",this.viewportContentChange),this.viewportContentChange()}},{key:"componentWillUnmount",value:function(){b.a.off("viewportContentChange",this.viewportContentChange)}},{key:"setNode",value:function(e){var t=g.Children.only(this.props.children);t.ref&&t.ref(e),this.node=y.a.findDOMNode(e)}},{key:"viewportContentChange",value:function(){if(this.node){var e=this.node.getBoundingClientRect().top,t=window.innerHeight;if(0<e&&e<t)return this.props.once&&b.a.off("viewportContentChange",this.viewportContentChange),void this.props.onAppear();this.props.onDisappear&&this.props.onDisappear()}}},{key:"render",value:function(){var e=g.Children.only(this.props.children);return Object(g.cloneElement)(e,{ref:this.setNode})}}]),n}(m.a.Component)},dKDz:function(e,t,n){"use strict";var s=/["'&<>]/;function r(e){var t,n=""+e,r=s.exec(n);if(!r)return n;for(var i="",o=0,a=0,o=r.index;o<n.length;o++){switch(n.charCodeAt(o)){case 34:t="&quot;";break;case 38:t="&amp;";break;case 39:t="&#39;";break;case 60:t="&lt;";break;case 62:t="&gt;";break;default:continue}a!==o&&(i+=n.substring(a,o)),a=o+1,i+=t}return a!==o?i+n.substring(a,o):i}e.exports=r},"dOQ/":function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),(r=t.SpanKind||(t.SpanKind={}))[r.INTERNAL=0]="INTERNAL",r[r.SERVER=1]="SERVER",r[r.CLIENT=2]="CLIENT",r[r.PRODUCER=3]="PRODUCER",r[r.CONSUMER=4]="CONSUMER"},dP0U:function(e,t,n){n("m/sp")("observable")},dP4c:function(e,t,n){"use strict";n.d(t,"c",function(){return u}),n.d(t,"a",function(){return l}),n.d(t,"b",function(){return d}),n.d(t,"d",function(){return f});var r=n("hMnB"),i=n.n(r),o=n("iP/4"),a=n("ucr6"),s=n("QM+C"),c=n("Ysvc");function u(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1],n=2<arguments.length&&void 0!==arguments[2]&&arguments[2];!o.a.isLark&&t?window.open(e):Object(c.a)()||n?i.a.href=e:a.a.push(e)}function l(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",t=new RegExp(s.LENGTH_LIMITED_EMAIL_REG).test(e);return/^https?:|^mailto:|^ftp:/.test(e)?e:t?"mailto:"+e:(e.startsWith("http")||(e="http://"+e),e)}function d(){return/^data:/.test(0<arguments.length&&void 0!==arguments[0]?arguments[0]:"")}var p="docs-open-link-iframe";function f(e){var t=document.querySelector("iframe#".concat(p));return t||((t=document.createElement("iframe")).id=p,t.style.display="none",document.body.appendChild(t)),t.src=e,t}},dTAl:function(e,t,n){var r=n("GoyQ"),i=Object.create,o=function(e){if(!r(e))return{};if(i)return i(e);a.prototype=e;var t=new a;return a.prototype=void 0,t};function a(){}e.exports=o},dVj6:function(e,J,$){(function(Z,X){var Q;!function(){Z&&Z.exports;var e="object"==typeof X&&X;e.global!==e&&e.window;var c={rangeOrder:"A ranges `stop` value must be greater than or equal to the `start` value.",codePointRange:"Invalid code point value. Code points range from U+000000 to U+10FFFF."},u=55296,l=56319,p=56320,f=57343,n=/\\x00([^0123456789]|$)/g,t={},r=t.hasOwnProperty,i=function(e,t){for(var n in t)r.call(t,n)&&(e[n]=t[n]);return e},o=function(e,t){for(var n=-1,r=e.length;++n<r;)t(e[n],n)},a=t.toString,s=function(e){return"[object Array]"==a.call(e)},d=function(e){return"number"==typeof e||"[object Number]"==a.call(e)},h="0000",g=function(e,t){var n=String(e);return n.length<t?(h+n).slice(-t):n},m=function(e){return Number(e).toString(16).toUpperCase()},v=[].slice,y=function(e){for(var t,n=-1,r=e.length,i=r-1,o=[],a=!0,s=0;++n<r;)t=e[n],a?(o.push(t),s=t,a=!1):t==s+1?n==i?(a=!0,o.push(t+1)):s=t:(o.push(s+1,t),s=t);return a||o.push(t+1),o},b=function(e,t){for(var n,r,i=0,o=e.length;i<o;){if(n=e[i],r=e[i+1],n<=t&&t<r)return t==n?r==n+1?e.splice(i,2):e[i]=t+1:t==r-1?e[i+1]=t:e.splice(i,2,n,t,t+1,r),e;i+=2}return e},E=function(e,t,n){if(n<t)throw Error(c.rangeOrder);for(var r,i,o=0;o<e.length;){if(r=e[o],i=e[o+1]-1,n<r)return e;if(t<=r&&i<=n)e.splice(o,2);else{if(r<=t&&n<i)return t==r?(e[o]=n+1,e[o+1]=i+1):e.splice(o,2,r,t,n+1,i+1),e;if(r<=t&&t<=i)e[o+1]=t;else if(r<=n&&n<=i)return e[o]=n+1,e;o+=2}}return e},_=function(e,t){var n,r,i=0,o=null,a=e.length;if(t<0||1114111<t)throw RangeError(c.codePointRange);for(;i<a;){if(n=e[i],r=e[i+1],n<=t&&t<r)return e;if(t==n-1)return e[i]=t,e;if(t<n)return e.splice(null!=o?o+2:0,0,t,t+1),e;if(t==r)return t+1==e[i+2]?e.splice(i,4,n,e[i+3]):e[i+1]=t+1,e;o=i,i+=2}return e.push(t,t+1),e},C=function(e,t){for(var n,r,i=0,o=e.slice(),a=t.length;i<a;)o=(n=t[i])==(r=t[i+1]-1)?_(o,n):O(o,n,r),i+=2;return o},T=function(e,t){for(var n,r,i=0,o=e.slice(),a=t.length;i<a;)o=(n=t[i])==(r=t[i+1]-1)?b(o,n):E(o,n,r),i+=2;return o},O=function(e,t,n){if(n<t)throw Error(c.rangeOrder);if(t<0||1114111<t||n<0||1114111<n)throw RangeError(c.codePointRange);for(var r,i,o=0,a=!1,s=e.length;o<s;){if(r=e[o],i=e[o+1],a){if(r==n+1)return e.splice(o-1,2),e;if(n<r)return e;t<=r&&r<=n&&(t<i&&i-1<=n?e.splice(o,2):e.splice(o-1,2),o-=2)}else{if(r==n+1)return e[o]=t,e;if(n<r)return e.splice(o,0,t,n+1),e;if(r<=t&&t<i&&n+1<=i)return e;r<=t&&t<i||i==t?(e[o+1]=n+1,a=!0):t<=r&&i<=n+1&&(e[o]=t,e[o+1]=n+1,a=!0)}o+=2}return a||e.push(t,n+1),e},k=function(e,t){var n=0,r=e.length,i=e[n],o=e[r-1];if(2<=r&&(t<i||o<t))return!1;for(;n<r;){if(i=e[n],o=e[n+1],i<=t&&t<o)return!0;n+=2}return!1},S=function(e,t){for(var n,r=0,i=t.length,o=[];r<i;)n=t[r],k(e,n)&&o.push(n),++r;return y(o)},w=function(e){return!e.length},I=function(e){return 2==e.length&&e[0]+1==e[1]},x=function(e){for(var t,n,r=0,i=[],o=e.length;r<o;){for(t=e[r],n=e[r+1];t<n;)i.push(t),++t;r+=2}return i},L=Math.floor,R=function(e){return parseInt(L((e-65536)/1024)+u,10)},N=function(e){return parseInt((e-65536)%1024+p,10)},D=String.fromCharCode,M=function(e){var t=9==e?"\\t":10==e?"\\n":12==e?"\\f":13==e?"\\r":92==e?"\\\\":36==e||40<=e&&e<=43||45<=e&&e<=47||63==e||91<=e&&e<=94||123<=e&&e<=125?"\\"+D(e):32<=e&&e<=126?D(e):e<=255?"\\x"+g(m(e),2):"\\u"+g(m(e),4);return t},P=function(e){return e<=65535?M(e):"\\u{"+e.toString(16).toUpperCase()+"}"},j=function(e){var t,n=e.length,r=e.charCodeAt(0);return u<=r&&r<=l&&1<n?(t=e.charCodeAt(1),1024*(r-u)+t-p+65536):r},F=function(e){var t,n,r="",i=0,o=e.length;if(I(e))return M(e[0]);for(;i<o;)r+=(t=e[i])==(n=e[i+1]-1)?M(t):t+1==n?M(t)+M(n):M(t)+"-"+M(n),i+=2;return"["+r+"]"},B=function(e){var t,n,r="",i=0,o=e.length;if(I(e))return P(e[0]);for(;i<o;)r+=(t=e[i])==(n=e[i+1]-1)?P(t):t+1==n?P(t)+P(n):P(t)+"-"+P(n),i+=2;return"["+r+"]"},U=function(e){for(var t,n,r=[],i=[],o=[],a=[],s=0,c=e.length;s<c;)t=e[s],n=e[s+1]-1,t<u?(n<u&&o.push(t,n+1),u<=n&&n<=l&&(o.push(t,u),r.push(u,n+1)),p<=n&&n<=f&&(o.push(t,u),r.push(u,l+1),i.push(p,n+1)),f<n&&(o.push(t,u),r.push(u,l+1),i.push(p,f+1),n<=65535?o.push(f+1,n+1):(o.push(f+1,65536),a.push(65536,n+1)))):u<=t&&t<=l?(u<=n&&n<=l&&r.push(t,n+1),p<=n&&n<=f&&(r.push(t,l+1),i.push(p,n+1)),f<n&&(r.push(t,l+1),i.push(p,f+1),n<=65535?o.push(f+1,n+1):(o.push(f+1,65536),a.push(65536,n+1)))):p<=t&&t<=f?(p<=n&&n<=f&&i.push(t,n+1),f<n&&(i.push(t,f+1),n<=65535?o.push(f+1,n+1):(o.push(f+1,65536),a.push(65536,n+1)))):f<t&&t<=65535?n<=65535?o.push(t,n+1):(o.push(t,65536),a.push(65536,n+1)):a.push(t,n+1),s+=2;return{loneHighSurrogates:r,loneLowSurrogates:i,bmp:o,astral:a}},H=function(e){for(var t,n,r,i,o,a,s=[],c=[],u=!1,l=-1,d=e.length;++l<d;)if(t=e[l],n=e[l+1]){for(r=t[0],i=t[1],o=n[0],a=n[1],c=i;o&&r[0]==o[0]&&r[1]==o[1];)c=I(a)?_(c,a[0]):O(c,a[0],a[1]-1),r=(t=e[++l])[0],i=t[1],o=(n=e[l+1])&&n[0],a=n&&n[1],u=!0;s.push([r,u?c:i]),u=!1}else s.push(t);return z(s)},z=function(e){if(1==e.length)return e;for(var t=-1,n=-1;++t<e.length;)for(var r=e[t],i=r[1],o=i[0],a=i[1],n=t;++n<e.length;){var s=e[n],c=s[1],u=c[0],l=c[1];o==u&&a==l&&(I(s[0])?r[0]=_(r[0],s[0][0]):r[0]=O(r[0],s[0][0],s[0][1]-1),e.splice(n,1),--n)}return e},V=function(e){if(!e.length)return[];for(var t,n,r,i,o,a,s=0,c=[],u=e.length;s<u;){t=e[s],n=e[s+1]-1,r=R(t),i=N(t),o=R(n);var l=(a=N(n))==f,d=!1;r==o||i==p&&l?(c.push([[r,o+1],[i,a+1]]),d=!0):c.push([[r,r+1],[i,f+1]]),!d&&r+1<o&&(l?(c.push([[r+1,o+1],[p,a+1]]),d=!0):c.push([[r+1,o],[p,f+1]])),d||c.push([[o,o+1],[p,a+1]]),s+=2}return H(c)},K=function(e){var r=[];return o(e,function(e){var t=e[0],n=e[1];r.push(F(t)+F(n))}),r.join("|")},W=function(e,t,n){if(n)return B(e);var r=[],i=U(e),o=i.loneHighSurrogates,a=i.loneLowSurrogates,s=i.bmp,c=i.astral,u=!w(o),l=!w(a),d=V(c);return t&&(s=C(s,o),u=!1,s=C(s,a),l=!1),w(s)||r.push(F(s)),d.length&&r.push(K(d)),u&&r.push(F(o)+"(?![\\uDC00-\\uDFFF])"),l&&r.push("(?:[^\\uD800-\\uDBFF]|^)"+F(a)),r.join("|")},Y=function(e){return 1<arguments.length&&(e=v.call(arguments)),this instanceof Y?(this.data=[],e?this.add(e):this):(new Y).add(e)};Y.version="1.3.3";var q=Y.prototype;i(q,{add:function(e){var t=this;return null==e?t:e instanceof Y?(t.data=C(t.data,e.data),t):(1<arguments.length&&(e=v.call(arguments)),s(e)?o(e,function(e){t.add(e)}):t.data=_(t.data,d(e)?e:j(e)),t)},remove:function(e){var t=this;return null==e?t:e instanceof Y?(t.data=T(t.data,e.data),t):(1<arguments.length&&(e=v.call(arguments)),s(e)?o(e,function(e){t.remove(e)}):t.data=b(t.data,d(e)?e:j(e)),t)},addRange:function(e,t){var n=this;return n.data=O(n.data,d(e)?e:j(e),d(t)?t:j(t)),n},removeRange:function(e,t){var n=this,r=d(e)?e:j(e),i=d(t)?t:j(t);return n.data=E(n.data,r,i),n},intersection:function(e){var t=this,n=e instanceof Y?x(e.data):e;return t.data=S(t.data,n),t},contains:function(e){return k(this.data,d(e)?e:j(e))},clone:function(){var e=new Y;return e.data=this.data.slice(0),e},toString:function(e){var t=W(this.data,!!e&&e.bmpOnly,!!e&&e.hasUnicodeFlag);return t?t.replace(n,"\\0$1"):"[]"},toRegExp:function(e){var t=this.toString(e&&-1!=e.indexOf("u")?{hasUnicodeFlag:!0}:null);return RegExp(t,e||"")},valueOf:function(){return x(this.data)}}),q.toArray=q.valueOf,void 0===(Q=function(){return Y}.call(J,$,J,Z))||(Z.exports=Q)}()}).call(this,$("YuTi")(e),$("yLpj"))},dXj0:function(e,t){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMjRweCIgaGVpZ2h0PSIyNHB4IiB2aWV3Qm94PSIwIDAgMjQgMjQiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDU2LjMgKDgxNzE2KSAtIGh0dHBzOi8vc2tldGNoLmNvbSAtLT4KICAgIDx0aXRsZT5pY29uX3Rvb2xfaW5saW5ldmlld19ub3I8L3RpdGxlPgogICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+CiAgICA8ZyBpZD0iV2ViLTE2KjE2IiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgICAgICA8ZyBpZD0iQXJ0Ym9hcmQiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC04NTQuMDAwMDAwLCAtNTMyLjAwMDAwMCkiPgogICAgICAgICAgICA8ZyBpZD0iaWNvbl90b29sX2lubGluZXZpZXdfbm9yIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg4NTQuMDAwMDAwLCA1MzIuMDAwMDAwKSI+CiAgICAgICAgICAgICAgICA8cmVjdCBpZD0iYmciIGZpbGwtcnVsZT0ibm9uemVybyIgeD0iMCIgeT0iMCIgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0Ij48L3JlY3Q+CiAgICAgICAgICAgICAgICA8cGF0aCBkPSJNOS42LDExIEwxOS42LDExIEMxOS44MjA5MTM5LDExIDIwLDExLjE2Nzg5MzIgMjAsMTEuMzc1IEwyMCwxMi4xMjUgQzIwLDEyLjMzMjEwNjggMTkuODIwOTEzOSwxMi41IDE5LjYsMTIuNSBMOS42LDEyLjUgQzkuMzc5MDg2MSwxMi41IDkuMiwxMi4zMzIxMDY4IDkuMiwxMi4xMjUgTDkuMiwxMS4zNzUgQzkuMiwxMS4xNjc4OTMyIDkuMzc5MDg2MSwxMSA5LjYsMTEgWiBNNC40Mjg1NzE0MywxMSBMNi41NzE0Mjg1NywxMSBDNi44MDgxMjIwNCwxMSA3LDExLjE2Nzg5MzIgNywxMS4zNzUgTDcsMTIuMTI1IEM3LDEyLjMzMjEwNjggNi44MDgxMjIwNCwxMi41IDYuNTcxNDI4NTcsMTIuNSBMNC40Mjg1NzE0MywxMi41IEM0LjE5MTg3Nzk2LDEyLjUgNCwxMi4zMzIxMDY4IDQsMTIuMTI1IEw0LDExLjM3NSBDNCwxMS4xNjc4OTMyIDQuMTkxODc3OTYsMTEgNC40Mjg1NzE0MywxMSBaIiBpZD0iaWNvbl90b29sX2lubGluZS12aWV3X25vciIgZmlsbD0iIzJCMkYzNiI+PC9wYXRoPgogICAgICAgICAgICA8L2c+CiAgICAgICAgPC9nPgogICAgPC9nPgo8L3N2Zz4="},dYt1:function(e,t,n){"use strict";var r=n("CfRg"),i=4;function o(e){return Object(r.a)(e,i)}t.a=o},dccM:function(e,t,n){},dd8S:function(e,F,B){"use strict";(function(H){var e=B("lSNA"),c=B.n(e),t=B("lwsE"),a=B.n(t),n=B("a1gu"),s=B.n(n),r=B("Nsbk"),u=B.n(r),i=B("W8MJ"),l=B.n(i),o=B("7W2i"),d=B.n(o),z=B("NZ+B"),V=B("yIs4"),p=B("q1tI"),K=B.n(p),f=(B("17x9"),B("TSYQ")),W=B.n(f),Y=B("uQON"),q=B("1QvZ"),Z=(B("pTmc"),B("P4CN")),X=B("YO6O"),Q=B("sTQd"),h=B("dHvJ"),g=B("OX8E"),m=B("GdfX"),v=B("VIFs"),y=B("EVj1"),b=B("lQZd"),E=B("16UX"),R=B("mOv+"),J=B("AcDe"),_=B("UlbS"),C=B("DOYj"),T=B("7I3H"),O=B("5gSl"),k=B("7ESD"),S=B("Sjdk"),$=B("VI6H"),ee=B("T7Wt"),N=B("QM+C"),w=B("m3ds"),I=B("MO5G"),x=B("WUVX"),L=B("96li"),D=B("Xngx"),M=B("8wh8"),P=B("l8+p"),j=function(e){function o(e){var L;a()(this,o),(L=s()(this,u()(o).call(this,e))).toggleExpand=function(e){e.stopPropagation(),L.setState({expanded:!L.state.expanded},function(){var e=L.props.onResize;e&&e(!0)})},L.handleRetry=function(e){e.stopPropagation();var t=L.props,n=t.onRetry,r=t.error,i=t.type,o=t.replyId;r&&n(i,o)},L.handleReply=function(e){var t=L.props,n=t.onReply,r=t.token;n&&n(e,r)},L.handleDelete=function(){var e=L.props,t=e.onDelete,n=e.replyId;t&&t(n)},L.handleTranslate=function(e,t){var n=L.props,r=n.onTranslate,i=n.replyId,o=n.translateContentCompare;L.setState({showCompare:o}),r&&r(i,t)},L.handleToggleTranslateContent=function(e){Object(O.a)(e),L.setState({showCompare:!L.state.showCompare},function(){var e=L.props.onResize;e&&e()})},L.handleReactionVisibleChange=function(e){(L.isReactionShow=e)&&L.props.onShowReactionPanel()},L.renderCommentItemControls=function(){var e=L.props,t=e.source,n=e.isMyReply,r=e.onResolve,i=e.getToolTipContainer,o=e.sending,a=e.error,s=e.readonly,c=e.enableReaction,u=e.onReactionMouseEnter,l=e.translateContent,d=e.translateStatus,p=e.transEnabled,f=e.highlight,h=e.token,g=e.equalLang,m=e.enableFullCommentStyle,v=e.enableReply,y=e.content;if(!f)return null;var b=L.state.showCompare,E=!o&&!a&!s,_=c&&E,C=E&&n,T=Object($.n)(h)&&Object($.h)()&&!Object($.j)(),O=E&&(n||T),k=E&&v&&!N.isAnonymousAccess,S=p&&"loading"!==d&&!l&&E&&y&&!y.match(/^[\s\n]+$/),w=p&&l&&E&&!b,I=L.state.showTranslate,x=E&&(!m||v);return"full_comment"===t||m?K.a.createElement(R.a,{canResolve:x,canReply:k,canReact:_,canDelete:O,canEdit:C,onResolve:r,onReact:L.handleReactionClick,onDelete:L.handleDelete,onEdit:L.handleOnEdit,onReply:L.handleReply,getToolTipContainer:i,onReactionVisibleChange:L.handleReactionVisibleChange,onReactionMouseEnter:u,onTranslate:L.handleTranslate,onToggleTranslateContent:L.handleToggleTranslateContent,canTranslate:S,equalLang:g,canShowTranslate:I,canShowContent:w,onReactionPopoverMouseEnter:L.handleMouseEnter}):K.a.createElement(R.b,{canResolve:E,canReact:_,canDelete:O,canEdit:C,canReply:k,onResolve:r,onReact:L.handleReactionClick,onDelete:L.handleDelete,onEdit:L.handleOnEdit,onReply:L.handleReply,getToolTipContainer:i,onReactionVisibleChange:L.handleReactionVisibleChange,onReactionMouseEnter:u,onTranslate:L.handleTranslate,onToggleTranslateContent:L.handleToggleTranslateContent,canTranslate:S,equalLang:g,canShowTranslate:I,canShowContent:w,onReactionPopoverMouseEnter:L.handleMouseEnter})},L.handleOnEdit=function(e){var t=L.props,n=t.onEdit,r=t.onResize,i=t.replyId;n&&n(i),L.setState(function(e){return Object.assign({},e,{edit:!0})},function(){r&&r(),L.shouldFocusTextArea&&L.handleTextareaFocus(e)}),L.toggleHighlight(!1);var o=L.props.commentId;k.a.triggerFind(o)},L.handleTextareaFocus=function(e){var t,n=L.props,r=n.content,i=n.entities,o=n.extra;L.textareaRef.handleFillHtml(r,e,i),L.getCommentImageEnabled()&&o&&o.image_list&&0<o.image_list.length&&(t=L.getImageListByToken(o.image_list),L.textareaRef.handleFillImage(t)),L.textareaRef.focus(),L.textareaRef.setCursorEnd()},L.toggleHighlight=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=L.props,r=n.onHighlightChange,i=n.replyId;"function"==typeof r&&(L.clearMouseLeaveTimer(),0<t?L.mouseLeaveTimer=setTimeout(function(){e!==L.props.highlight&&r(i,e)},t):e!==L.props.highlight&&r(i,e))},L.handleUpdateTextareaClose=function(){L.setState({edit:!1}),window.setTimeout(function(){var e=L.props.onResize;e&&e()});var e=L.props.commentId;k.a.triggerFind(e)},L.handleUpdateTextareaConfirm=function(e,t,n){var r=L.props,i=r.updateTextAreaProps,o=r.replyId,a=r.commentId;i.onConfirm(o,e,t,n,a),L.handleUpdateTextareaClose()},L.getUpdateTextareaRef=function(e){var t=L.props,n=t.updateTextAreaProps,r=t.replyId;L.textareaRef=e,n.getUpdateTextareaRef&&n.getUpdateTextareaRef(r,e)},L.renderUpdateTextarea=function(){var e=L.state.edit;if(L.props.updateTextAreaProps&&e){var t,n="comment-panel",r=W()(c()({},"".concat(n,"__textarea--expand"),e),L.props.updateTextAreaProps.className,L.props.updateTextAreaProps.expandCls),i=L.props,o=i.extra,a=i.commentImageEnabled;o&&o.image_list&&(t=L.getImageListByToken(o.image_list));var s=Object.assign({},L.props.updateTextAreaProps,{onConfirm:L.handleUpdateTextareaConfirm,getRef:L.getUpdateTextareaRef,onCancel:L.handleUpdateTextareaClose,onEscCancel:L.handleUpdateTextareaClose,alwaysShowConfirmBtn:!0,className:r,replyId:L.props.replyId,imageList:t,isGlobal:1===L.props.isWhole,commentImageEnabled:a});return K.a.createElement(S.a,s)}return null},L.renderTranslate=function(e){var t=L.props,n=t.translateStatus,r=t.translateContent,i=t.entities,o=t.content,a=t.commentId,s=t.translateContentCompare,c=t.replyId,u=t.embedObjShareEnable,l=L.state,d=l.edit,p=l.showCompare;if("loading"!==n&&"success"!==n)return null;var f=p&&!s?o:r;return K.a.createElement(K.a.Fragment,null,p&&r&&!d&&K.a.createElement(J.a,{isTranslateContent:!p,key:c,contentCls:W()(e,"comment-list-item__translate-content",{"comment-list-item__translate-content-bg":s},"clearfix"),style:"",content:f,entities:i,replyId:c,commentId:a,isEdit:d,embedObjShareEnable:u},L.renderTranslateBtn(!0)))},L.renderTranslateBtn=function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0],t=L.props.translateStatus,n=L.state,r=n.edit,i=n.showTranslate,o=n.showCompare;if("loading"!==t&&"success"!==t)return null;var a=W()("comment-list-item__translate-wrapper",{"comment-list-item__translate-wrapper-loading":"loading"===t}),s=e||!o,c=H(e?i?"comment.hide_more_content":"common.translate_text_pack":i?"common.translate_comment_original_text":"common.translate_text"),u=function(){return K.a.createElement("span",{className:W()("comment-list-item__translate"),onClick:L.handleToggleTranslateContent},K.a.createElement(T.a,{className:a}),K.a.createElement(C.a,{className:"comment-list-item__translate-A"}))};return K.a.createElement(K.a.Fragment,null,s&&!r&&K.a.createElement(_.Tooltip,{title:c,placement:"left"},e?K.a.createElement("div",{className:"comment-list-item__translate-icon-wrapper"},u()):u()))},L.handleReactionClick=function(t){if(!L.props.readonly){var e=L.props,n=e.currentUserId,r=e.reactions,i=e.replyId;if(r){var o=r.find(function(e){return e.reactionKey===t});if(o)if(o.userList.find(function(e){return e.userId===n}))return void L.props.removeReaction(o,event)}L.props.addReaction({referKey:i,reactionKey:t},event)}},L.handleReactionDetailClick=function(e,t){var n=L.props.reactions;L.props.onClickReactionDetail(e,n,t)},L.handleReactionDetailClose=function(){L.toggleHighlight(!1)},L.handleMouseEnter=function(){L.state.edit||L.toggleHighlight(!0)},L.handleMouseMove=function(){L.state.edit||L.toggleHighlight(!0)},L.handleMouseLeave=function(){L.toggleHighlight(!1,L.isReactionShow?300:0)},L.handleIPadClick=function(){w.a.isIPad&&L.handleMouseEnter()},L.handleAnimationEnd=function(){L.setState({highlightAnimationCls:void 0})};var t=L.props,n=t.translateContentCompare,r=t.translateStatus,i=!n&&"success"===r;return L.state={textOverLimit:!1,expanded:!1,edit:!1,highlightAnimationCls:void 0,showTranslate:i,showCompare:n&&"success"===r},L.mouseLeaveTimer=null,L.isReactionShow=!1,L.isAppear=!1,L.mouseDownContext=null,L}return d()(o,e),l()(o,null,[{key:"getDerivedStateFromProps",value:function(e){return{showTranslate:!e.translateContentCompare&&"success"===e.translateStatus}}}]),l()(o,[{key:"componentDidMount",value:function(){var e,t=this,n=this.props.showContentLimit;!Object(V.default)(n)||(e=this.itemRef.querySelector(".comment-list-item__content"))&&e.getBoundingClientRect().height>n&&window.setTimeout(function(){t.setState({textOverLimit:!0},function(){var e=t.props.onResize;e&&e()})})}},{key:"componentDidUpdate",value:function(e,t){var n,r=t.expanded,i=e.translateStatus,o=e.translateContentCompare,a=this.props,s=a.translateStatus,c=a.translateContentCompare;o===c&&s===i||this.setState({showCompare:c&&"success"===s}),this.state.expanded===r||(n=this.props.onResize)&&n()}},{key:"componentWillUnmount",value:function(){this.clearMouseLeaveTimer()}},{key:"clearMouseLeaveTimer",value:function(){this.mouseLeaveTimer&&(clearTimeout(this.mouseLeaveTimer),this.mouseLeaveTimer=null)}},{key:"getCommentImageEnabled",value:function(){return Object(I.a)()&&this.props.commentImageEnabled}},{key:"renderAudioComment",value:function(){var e=this.state.edit,t=this.props,n=t.source,r=t.extra,i=t.highlight;if(r&&r.attachment&&r.attachment.audio_file_token){var o=r.attachment,a=o.audio_file_token,s=o.audio_duration,c=Object(v.prependDriveStreamAPI)("/api/box/stream/download/all/".concat(a,"/")),u={mount_node_token:encodeURIComponent("obj:".concat(Object(b.l)(),":").concat(Object(b.g)())),mount_point:"comment"},l=c+Object(y.d)(u),d=W()("comment-list-item__audio",{"comment-list-item__audio--edit":e,"comment-list-item__audio--highlight":"full_comment"===n&&i});return K.a.createElement("div",{className:d},K.a.createElement(m.a,{url:l,duration:s}))}return null}},{key:"renderReactionList",value:function(){var e=this.props,t=e.reactions,n=e.enableReaction,r=this.state.edit;return t&&!r&&n?K.a.createElement(E.b,{reactions:t,onReactionClick:this.handleReactionClick,onMoreClick:this.handleReactionDetailClick,onReactionDetailClose:this.handleReactionDetailClose}):null}},{key:"startHighlightAnimation",value:function(e){this.state.highlightAnimationCls||this.setState({highlightAnimationCls:e})}},{key:"getItemRef",value:function(){return this.itemRef}},{key:"getImageListByToken",value:function(e){var r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:L.a.READY,i=Object(M.a)(),o=Object(M.b)(),a=this.props.replyId;return e.map(function(e){var t,n;return i[e]?t=n=i[e]:(t=Object(D.c)({fileToken:e,mountPoint:{token:a,type:"comment_image"}}),n=o[e]||Object(D.b)({fileToken:e,mountPoint:{token:a,type:"comment_image"},coverOptions:{width:360,height:360,shape:"square"}})),{src:t,coverSrc:n,token:e,status:r}})}},{key:"renderImage",value:function(){var e=this.state.edit,t=this.props,n=t.extra,r=t.isWhole,i=t.replyId,o=t.scrollContainer,a=t.isCalcCommentPosition,s=this.props.commentId;if(e||!n||!n.image_list||0===n.image_list.length)return null;s&&-1<s.indexOf(":")&&(s=s.split(":")[2]);var c=this.getImageListByToken(n.image_list,L.a.LOADING),u=o?[o]:Object(P.a)(1===r?"globalComment":void 0);return K.a.createElement(x.a,{style:{marginTop:8},imageList:c,lineImageCount:r?1/0:3,commentId:s,replyId:i,scrollContainer:u,isCalcCommentPosition:a})}},{key:"renderItem",value:function(){var t=this,e=this.props,n=e.readonly,r=e.userName,i=e.avatar,o=e.content,a=e.time,s=e.showContentLimit,c=e.error,u=e.sending,l=e.status,d=e.showBadge,p=e.ellipsisAuthorClass,f=e.modify,h=e.token,g=e.panelExpand,m=e.source,v=e.entities,y=e.replyId,b=e.translateContent,E=e.highlight,_=e.commentId,C=e.embedObjShareEnable,T=e.enableFullCommentStyle,O=this.state,k=O.textOverLimit,S=O.expanded,w=O.edit,I=O.highlightAnimationCls,x=O.showTranslate,L=Object(V.default)(s),R=W()("comment-list-item",I),N=L&&k,D=W()("comment-list-item__content",{"comment-list-item__content--overlimit":N,"comment-list-item__content--expanded":S}),M=!S&&N?{maxHeight:"".concat(s,"px")}:{},P=W()("comment-list-item__more",{"comment-list-item__more--expanded":!L||S}),j=W()("comment-list-item__textarea",{"comment-list-item__textarea--edit":w}),F=W()("comment-list-item__author ellipsis",p),B=x?b:o,U=g&&!!h&&!Object($.n)(h)&&!Object($.j)();return K.a.createElement("div",{className:R,ref:function(e){return t.itemRef=e},onAnimationEnd:this.handleAnimationEnd},K.a.createElement("div",{className:W()("comment-list-item__wrapper","layout-row","flex",{"highlight-comment":("full_comment"===m||T)&&E}),onMouseEnter:this.handleMouseEnter,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onClick:this.handleIPadClick},K.a.createElement("div",{className:"comment-list-item__avatar"},K.a.createElement(X.default,{source:m,token:h,name:r,trigger:"click",placement:"l",prefixCls:"cooperater-user-popover",usePopover:!!U,hideAction:["mouseLeave"]},K.a.createElement("div",{className:"avatar",alt:r,style:i?{backgroundImage:"url(".concat(i,")")}:{}}))),K.a.createElement("div",{className:"comment-list-item__content-wrapper layout-column flex"},K.a.createElement("div",{className:"comment-list-item__author-info layout-row"},K.a.createElement("span",{className:F},r,u||c?"":K.a.createElement("span",{className:"comment-list-item__time"},a&&K.a.createElement(ee.a,{time:Object(Q.a)(a),intervalTime:6e4})," ",a&&f?H("comment.modify"):"")),u&&K.a.createElement(q.a,{className:"comment-list-item__loading",width:"12",height:"12"}),Object(z.a)(d)||l===Z.a?K.a.createElement("div",{className:"comment-list-item__unread-dot"}):null,!n&&this.renderCommentItemControls()),B&&K.a.createElement(J.a,{isTranslateContent:!!x,key:y,contentCls:D,contentStyle:M,content:B,entities:v,replyId:y,isEdit:w,commentId:_,embedObjShareEnable:C},this.renderTranslateBtn()),this.renderTranslate(D),N&&K.a.createElement("div",{className:P,onClick:this.toggleExpand},H(S?"comment.hide_more_content":"comment.show_more_content")),this.renderImage(),c&&K.a.createElement("div",{className:"comment-list-item__error"},K.a.createElement("div",{className:"error-icon"}),K.a.createElement("div",{className:"error-tips"},K.a.createElement("span",null,Object(Y.i)(c.code)," "),K.a.createElement("span",{className:"error-retry",onClick:this.handleRetry},H("comment.error_retry")))),this.renderAudioComment(),this.renderReactionList())),K.a.createElement("div",{className:j},this.renderUpdateTextarea()))}},{key:"handleAppear",value:function(){var e=this.props,t=e.busNameSpace,n=e.messageId,r=e.status,i=e.replyId,o="".concat(t,".inViewport"),a="".concat(t,".unreadyInViewport");r===Z.a&&g.a.trigger(o,[n]),void 0===r&&g.a.trigger(a,[i]),this.isAppear||(this.isAppear=!0)}},{key:"handleDisappear",value:function(){this.isAppear&&(this.isAppear=!1)}},{key:"render",value:function(){var e=this,t=this.props.replyId;return K.a.createElement(h.a,{onAppear:function(){return e.handleAppear()},onDisappear:function(){return e.handleDisappear()},key:t},this.renderItem())}},{key:"shouldFocusTextArea",get:function(){return this.textareaRef&&!this.textareaRef.isFocus()}}]),o}(K.a.Component);F.a=j}).call(this,B("2vAP"))},djbN:function(e,t,n){"use strict";n.d(t,"b",function(){return o}),n.d(t,"a",function(){return a}),n.d(t,"h",function(){return s}),n.d(t,"i",function(){return c}),n.d(t,"g",function(){return u}),n.d(t,"c",function(){return l}),n.d(t,"e",function(){return d}),n.d(t,"d",function(){return p}),n.d(t,"f",function(){return f});var r=n("USG6"),i=n("6SzI"),o=Object(i.createAction)(r.FREEZE_SPREAD_TOGGLE),a=function(e){var t=e.isExport,n=e.fileType;return{type:r.EXPORT_FILE,payload:{isExport:t,fileType:n}}},s=function(){return{type:r.TOGGLE_HISTORY}},c=function(e){return{type:r.TOGGLE_TITLE_FOCUS_STATUS,payload:{isFocus:e}}},u=function(e){return{type:r.CONTENT_VISIBLE,payload:e}},l=Object(i.createAction)(r.HIDE_DROPDOWN_MENU),d=function(){return{type:r.HIDE_HYPER_LINK_EDITOR}},p=Object(i.createAction)(r.HIDE_FILTER_MENU),f=function(e){return{type:r.SET_EMBED_SHEET_ALLOW_COMMENT,payload:e}}},dmt9:function(e,t,n){"use strict";var u=n("QYBB").f,l=n("SJYm"),d=n("Cupc"),p=n("GUr9"),f=n("X32N"),h=n("W1ep"),a=n("QFZC"),s=n("04M5"),g=n("wbIY"),m=n("ZZQp").fastKey,r=n("L1rz"),v=r.set,y=r.getterFor;e.exports={getConstructor:function(e,n,r,i){var o=e(function(e,t){f(e,o,n),v(e,{type:n,index:l(null),first:void 0,last:void 0,size:0}),g||(e.size=0),null!=t&&h(t,e[i],e,r)}),s=y(n),a=function(e,t,n){var r,i,o=s(e),a=c(e,t);return a?a.value=n:(o.last=a={index:i=m(t,!0),key:t,value:n,previous:r=o.last,next:void 0,removed:!1},o.first||(o.first=a),r&&(r.next=a),g?o.size++:e.size++,"F"!==i&&(o.index[i]=a)),e},c=function(e,t){var n,r=s(e),i=m(t);if("F"!==i)return r.index[i];for(n=r.first;n;n=n.next)if(n.key==t)return n};return d(o.prototype,{clear:function(){for(var e=this,t=s(e),n=t.index,r=t.first;r;)r.removed=!0,r.previous&&(r.previous=r.previous.next=void 0),delete n[r.index],r=r.next;t.first=t.last=void 0,g?t.size=0:e.size=0},delete:function(e){var t,n,r=this,i=s(r),o=c(r,e);return o&&(t=o.next,n=o.previous,delete i.index[o.index],o.removed=!0,n&&(n.next=t),t&&(t.previous=n),i.first==o&&(i.first=t),i.last==o&&(i.last=n),g?i.size--:r.size--),!!o},forEach:function(e){for(var t,n=s(this),r=p(e,1<arguments.length?arguments[1]:void 0,3);t=t?t.next:n.first;)for(r(t.value,t.key,this);t&&t.removed;)t=t.previous},has:function(e){return!!c(this,e)}}),d(o.prototype,r?{get:function(e){var t=c(this,e);return t&&t.value},set:function(e,t){return a(this,0===e?0:e,t)}}:{add:function(e){return a(this,e=0===e?0:e,e)}}),g&&u(o.prototype,"size",{get:function(){return s(this).size}}),o},setStrong:function(e,t,n){var r=t+" Iterator",i=y(t),o=y(r);a(e,t,function(e,t){v(this,{type:r,target:e,state:i(e),kind:t,last:void 0})},function(){for(var e=o(this),t=e.kind,n=e.last;n&&n.removed;)n=n.previous;return e.target&&(e.last=n=n?n.next:e.state.first)?"keys"==t?{value:n.key,done:!1}:"values"==t?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:{value:e.target=void 0,done:!0}},n?"entries":"values",!n,!0),s(t)}}},dtMt:function(e,t,n){"use strict";var s=n("fBAZ"),r=n("UwWT").DOCUMENT_MODE,i={element:1,text:3,cdata:4,comment:8},o={tagName:"name",childNodes:"children",parentNode:"parent",previousSibling:"prev",nextSibling:"next",nodeValue:"data"},c=function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t])};c.prototype={get firstChild(){var e=this.children;return e&&e[0]||null},get lastChild(){var e=this.children;return e&&e[e.length-1]||null},get nodeType(){return i[this.type]||i.element}},Object.keys(o).forEach(function(e){var t=o[e];Object.defineProperty(c.prototype,e,{get:function(){return this[t]||null},set:function(e){return this[t]=e}})}),t.createDocument=function(){return new c({type:"root",name:"root",parent:null,prev:null,next:null,children:[],"x-mode":r.NO_QUIRKS})},t.createDocumentFragment=function(){return new c({type:"root",name:"root",parent:null,prev:null,next:null,children:[]})},t.createElement=function(e,t,n){for(var r=Object.create(null),i=Object.create(null),o=Object.create(null),a=0;a<n.length;a++){var s=n[a].name;r[s]=n[a].value,i[s]=n[a].namespace,o[s]=n[a].prefix}return new c({type:"script"===e||"style"===e?e:"tag",name:e,namespace:t,attribs:r,"x-attribsNamespace":i,"x-attribsPrefix":o,children:[],parent:null,prev:null,next:null})},t.createCommentNode=function(e){return new c({type:"comment",data:e,parent:null,prev:null,next:null})};var a=function(e){return new c({type:"text",data:e,parent:null,prev:null,next:null})},u=t.appendChild=function(e,t){var n=e.children[e.children.length-1];n&&((n.next=t).prev=n),e.children.push(t),t.parent=e},l=t.insertBefore=function(e,t,n){var r=e.children.indexOf(n),i=n.prev;i&&((i.next=t).prev=i),(n.prev=t).next=n,e.children.splice(r,0,t),t.parent=e};t.setTemplateContent=function(e,t){u(e,t)},t.getTemplateContent=function(e){return e.children[0]},t.setDocumentType=function(e,t,n,r){for(var i=s.serializeContent(t,n,r),o=null,a=0;a<e.children.length;a++)if("directive"===e.children[a].type&&"!doctype"===e.children[a].name){o=e.children[a];break}o?(o.data=i,o["x-name"]=t,o["x-publicId"]=n,o["x-systemId"]=r):u(e,new c({type:"directive",name:"!doctype",data:i,"x-name":t,"x-publicId":n,"x-systemId":r}))},t.setDocumentMode=function(e,t){e["x-mode"]=t},t.getDocumentMode=function(e){return e["x-mode"]},t.detachNode=function(e){var t,n,r;e.parent&&(t=e.parent.children.indexOf(e),n=e.prev,r=e.next,e.prev=null,e.next=null,n&&(n.next=r),r&&(r.prev=n),e.parent.children.splice(t,1),e.parent=null)},t.insertText=function(e,t){var n=e.children[e.children.length-1];n&&"text"===n.type?n.data+=t:u(e,a(t))},t.insertTextBefore=function(e,t,n){var r=e.children[e.children.indexOf(n)-1];r&&"text"===r.type?r.data+=t:l(e,a(t),n)},t.adoptAttributes=function(e,t){for(var n=0;n<t.length;n++){var r=t[n].name;void 0===e.attribs[r]&&(e.attribs[r]=t[n].value,e["x-attribsNamespace"][r]=t[n].namespace,e["x-attribsPrefix"][r]=t[n].prefix)}},t.getFirstChild=function(e){return e.children[0]},t.getChildNodes=function(e){return e.children},t.getParentNode=function(e){return e.parent},t.getAttrList=function(e){var t,n=[];for(t in e.attribs)n.push({name:t,value:e.attribs[t],namespace:e["x-attribsNamespace"][t],prefix:e["x-attribsPrefix"][t]});return n},t.getTagName=function(e){return e.name},t.getNamespaceURI=function(e){return e.namespace},t.getTextNodeContent=function(e){return e.data},t.getCommentNodeContent=function(e){return e.data},t.getDocumentTypeNodeName=function(e){return e["x-name"]},t.getDocumentTypeNodePublicId=function(e){return e["x-publicId"]},t.getDocumentTypeNodeSystemId=function(e){return e["x-systemId"]},t.isTextNode=function(e){return"text"===e.type},t.isCommentNode=function(e){return"comment"===e.type},t.isDocumentTypeNode=function(e){return"directive"===e.type&&"!doctype"===e.name},t.isElementNode=function(e){return!!e.attribs}},dtw8:function(e,t,n){"use strict";n.r(t);var r=n("8Wa3");n.d(t,"MemoryRouter",function(){return r.a});var i=n("LWYa");n.d(t,"Prompt",function(){return i.a});var o=n("mLw1");n.d(t,"Redirect",function(){return o.a});var a=n("4p7I");n.d(t,"Route",function(){return a.a});var s=n("nr6O");n.d(t,"Router",function(){return s.a});var c=n("yczp");n.d(t,"StaticRouter",function(){return c.a});var u=n("yoKv");n.d(t,"Switch",function(){return u.a});var l=n("l1PF");n.d(t,"generatePath",function(){return l.a});var d=n("SsKX");n.d(t,"matchPath",function(){return d.a});var p=n("9C/b");n.d(t,"withRouter",function(){return p.a})},duSr:function(e,t,n){"use strict";n.d(t,"b",function(){return i}),n.d(t,"a",function(){return o});var r=n("rLED");function i(){return Object(r.K)("mention_optimization")}function o(){return Object(r.K)("mention_height_adaptive")}},dvZ7:function(e,t,n){"use strict";var b=n("7EGn"),o=n("BmhO"),a=n("TtEC"),r=n("WzBf");function i(e){return{token:"DRIVE_PREVIEW_EVENT_".concat(e),resourceType:"DRIVE_PREVIEW_EVENT",routeType:"local",routeKey:""}}function s(e,t){var n=i(e);r.a.register(n,t),r.a.onError(n,function(e){console.error("[MessageBoxError]:",e)})}function c(e,t){var n=i(e);r.a.deregister(n,t)}var u={register:s,deregister:c},E=n("Xngx"),l=n("rLED"),d=n("vE74"),p=n("QM+C"),f=n("iP/4"),_=n("skFV"),h=n("f8Ac"),C=n("5dbN"),g=n("omim"),m=n("EVj1"),v=n("VI6H"),y=n("EQyw"),T=n("erPj"),O=n("wCm6"),k=n("zaV1"),S=n("2ACu"),w=n("lgTS"),I=n("ucr6"),x=n("1dfU");function L(e){var t=e.file,n=e.files;if(!t||t instanceof w.e)return null;var r=t.get("type"),i=(t.get("subtype")||"").toLowerCase();return r===p.NUM_SUITE_TYPE.FILE&&o.u.includes(i)?n.filter(function(e){var t=e.get("type"),n=(e.get("subtype")||"").toLowerCase();return e instanceof w.f&&t===p.NUM_SUITE_TYPE.FILE&&o.u.includes(n)}).map(function(e){return e.get("obj_token")}):null}function R(e){var t=p.mapTypeToSuite[Object(E.d)(e).toLowerCase()]||"";return p.NUM_SUITE_TYPE[t.toUpperCase()]}function N(e){var t=e.action,n=void 0===t?"":t,r=e.fileToken,i=void 0===r?"":r,o=e.fileName,a=void 0===o?"":o,s=e.status,c=void 0===s?"success":s,u=e.subConfirmType,l=void 0===u?"":u,d=e.source,p=void 0===d?"":d,f=e.isCrossTenant,h=e.dummyToken,g=Object(E.d)(a),m=Object(C.getCurrentRouteObj)(),v=m&&m.module?m.module:"",y=m&&m.subModule?m.subModule:"";Object(S.default)("client_content_management",{action:n,source:p,sub_file_type:g,file_id:i?Object(x.a)(i):"",dummy_token:h&&Object(x.a)(h),module:v,sub_module:y,status_name:c,sub_confirm_type:l,file_is_cross_tenant:f,api_host:_.d,location_country:Object(b.default)(window,"User.locationCountry")})}function D(e){var t=e.action,n=void 0===t?"":t,r=e.status,i=void 0===r?"success":r,o=e.subConfirmType,a=void 0===o?"":o,s=e.source,c=void 0===s?"":s,u=e.isCrossTenant,l=Object(C.getCurrentRouteObj)(),d=l&&l.module?l.module:"",p=l&&l.subModule?l.subModule:"";Object(S.default)("client_content_management",{action:n,source:c,file_type:"folder",sub_file_type:"",file_id:"",module:d,sub_module:p,status_name:i,sub_confirm_type:a,file_is_cross_tenant:u||void 0,api_host:_.d,location_country:Object(b.default)(window,"User.locationCountry")})}function M(e){var t,n=e.action,r=void 0===n?"":n,i=e.source,o=void 0===i?"direct":i,a=e.eventType,s=void 0===a?"mouseclick":a,c=e.commentId,u=void 0===c?"":c,l=e.replyId,d=void 0===l?"":l,p=e.statusCode,f=void 0===p?0:p,h=e.statusName,g=void 0===h?"success":h,m=e.commentType,v=void 0===m?"full_comment":m,y=Object(k.a)();y&&y.type&&(t=y.type,Object(S.default)("client_comment",{action:r,eventType:s,source:o,comment_type:v,comment_id:u,reply_id:d,comment_target_type:"whole_file",zone:"full_comment",mode:"drive_view",status_code:f,status_name:g,sub_file_type:t||""}))}function P(e){var t=e.action,n=void 0===t?"":t,r=e.source,i=void 0===r?"":r,o=e.eventType,a=void 0===o?"mouseclick":o,s=e.subFileType,c=Object(k.a)(),u=s||c&&c.type||"";Object(S.default)("toggle_attribute",{product_type:"drive",eventType:a,sub_file_type:u,mode:"drive_view",action:n,source:i})}function j(e){var t=e.source,n=e.action,r=e.subFileType,i=e.fileToken,o=Object(C.getCurrentRouteObj)(),a=o&&o.module?o.module:"";Object(S.default)("office_online_edit",{source:t,action:n,module:a,file_type:"file",sub_file_type:r,file_id:i?Object(x.a)(i):""})}function F(e){var t=e.costTime,n=e.fileToken,r=e.stage;Object(S.default)("dev_box_load_performance",{stage:r,file_id:n?Object(x.a)(n):"",cost_time:t})}function B(){window.dispatchEvent(Object(d.b)("resize"))}n.d(t,"i",function(){return L}),n.d(t,"k",function(){return R}),n.d(t,"b",function(){return N}),n.d(t,"d",function(){return D}),n.d(t,"a",function(){return M}),n.d(t,"f",function(){return P}),n.d(t,"e",function(){return j}),n.d(t,"c",function(){return F}),n.d(t,"p",function(){return B}),n.d(t,"h",function(){return z}),n.d(t,"j",function(){return W}),n.d(t,"g",function(){return q}),n.d(t,"m",function(){return Z}),n.d(t,"l",function(){return X}),n.d(t,"o",function(){return Q}),n.d(t,"n",function(){return J});var U={isOnlineEnv:!(Object(_.D)()||Object(_.z)()),apiHosts:Object(_.r)(),driveApiHosts:Object(_.i)(),fileUrlPrefix:Object(_.k)().fileURLPrefix||"",isLocalhost:Object(_.z)(),fileWebOfficeDomain:Object(_.k)().fileWebOfficeDomain||"",updatePreviewTplSeed:Object(_.k)().updatePreviewTplSeed},H=Object(_.g)().tea;function z(e){var t=Object(v.c)(),r=[],n=f.a.isInVC;n&&r.push(o.n.SHEET),(n||p.isAnonymousAccess||f.a.isFeed||!e)&&r.push(o.n.WPS);var i=function(e){var t=r.slice(),n=Z(e);return n.edit||n.preview||t.push(o.n.WPS),t};return{customRequest:O.a,PreviewMessageHandler:u,envConfig:U,seclinkEnabled:a.j,languageType:Object(h.a)(),userId:t.get("id")||window.User.id,tenantId:t.get("tenant_id")||window.User.tenantId,showDownloadProgress:g.g,enablePDFProgressCache:!0,enableSheetProgressCache:!0,enableMediaProgressCache:!0,getDisabledPreviewComponents:i,maxPollCount:Object(a.f)(),pdfRangeChunkSize:Object(a.g)(),showPDFDigitalSign:!0,unsupportedVideoCodec:Object(a.h)(),authority:{downloadable:Object(T.c)(),printable:Object(T.e)(),exportable:Object(T.d)(),copyable:Object(T.b)()},floatingToolbarHiddenOnStart:f.a.isInVC}}H&&!0===H.open&&(U.teaConfig={sdkAppId:Object(b.default)(H,"config.appId.drive_sdk"),suiteAppId:Object(b.default)(H,"config.appId.doc"),singleProductAppID:Object(b.default)(H,"config.appId.single_product"),channelDomain:Object(b.default)(H,"config.channel_domain")}),U.slardarConfig={slardarCommonConfig:Object(_.g)().slardar,slardarMinaConfig:Object(l.L)("slardar_config"),sentryConfig:Object(_.g)().sentry,sentryMinaConfig:Object(l.L)("sentry_filter_config"),scm:Object(b.default)(window,"scm"),rvRev:Object(b.default)(window,"rv_rev")};var V=["pdf","csv"];function K(e){return!V.includes(e)&&o.l.includes(e)}function W(e){return Boolean(e&&e.weboffice)}function Y(e){var t=Object(E.d)(e);return Object(a.a)()&&o.H.includes(t)}function q(e){return Object(a.d)()&&K(Object(E.d)(e))||Y(e)}function Z(e){if(!e)return{preview:!1,edit:!1};var t=W(e);return Y(e.name)?{preview:t,edit:t}:{preview:Boolean(t&&Object(a.e)()),edit:Boolean(t&&Object(a.d)()&&!V.includes(Object(E.d)(e.name)))}}function X(e,t){var n=Z(e);return t?n.edit:n.preview}function Q(e){var t=Object(m.l)(I.a.location.search)||{};e?t.office_edit="1":delete t.office_edit,I.a.replace({search:Object(m.d)(t)})}function J(e){return e&&!Object(y.a)()}},dwMB:function(e,l,t){var n=t("0RZP"),r=t("Shz6"),d=r.isTag,p=r.domEach,f=Object.prototype.hasOwnProperty,h=r.camelCase,g=r.cssCase,m=/\s+/,v="data-",a={forEach:t("bNQv"),extend:t("qbnB"),some:t("MJIl")},y={null:null,true:!0,false:!1},i=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,b=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,u=function(e,t){if(e&&d(e))return e.attribs||(e.attribs={}),t?f.call(e.attribs,t)?i.test(t)?t:e.attribs[t]:"option"===e.name&&"value"===t?n.text(e.children):"input"!==e.name||"radio"!==e.attribs.type&&"checkbox"!==e.attribs.type||"value"!==t?void 0:"on":e.attribs},E=function(e,t,n){null===n?C(e,t):e.attribs[t]=n+""};l.attr=function(r,i){return"object"==typeof r||void 0!==i?p(this,"function"==typeof i?function(e,t){E(t,r,i.call(t,e,t.attribs[r]))}:function(e,n){d(n)&&("object"==typeof r?a.forEach(r,function(e,t){E(n,t,e)}):E(n,r,i))}):u(this[0],r)};var s=function(e,t){if(e&&d(e))return f.call(e,t)?e[t]:i.test(t)?void 0!==u(e,t):u(e,t)},c=function(e,t,n){e[t]=i.test(t)?!!n:n};l.prop=function(r,i){var n,o=0;if("string"==typeof r&&void 0===i){switch(r){case"style":n=this.css(),a.forEach(n,function(e,t){n[o++]=t}),n.length=o;break;case"tagName":case"nodeName":n=this[0].name.toUpperCase();break;default:n=s(this[0],r)}return n}if("object"==typeof r||void 0!==i)return p(this,"function"==typeof i?function(e,t){c(t,r,i.call(t,e,s(t,r)))}:function(e,n){d(n)&&("object"==typeof r?a.forEach(r,function(e,t){c(n,t,e)}):c(n,r,i))})};var o=function(e,t,n){if(e.data||(e.data={}),"object"==typeof t)return a.extend(e.data,t);"string"==typeof t&&void 0!==n&&(e.data[t]=n)},_=function(e,t){for(var n,r,i,o,a=1===arguments.length,s=a?(n=Object.keys(e.attribs).filter(function(e){return e.slice(0,v.length)===v})).map(function(e){return h(e.slice(v.length))}):(n=[v+g(t)],[t]),c=0,u=n.length;c<u;++c)if(r=n[c],i=s[c],f.call(e.attribs,r)){if(o=e.attribs[r],f.call(y,o))o=y[o];else if(o===String(Number(o)))o=Number(o);else if(b.test(o))try{o=JSON.parse(o)}catch(e){}e.data[i]=o}return a?e.data:o};l.data=function(n,r){var e=this[0];if(e&&d(e))return e.data||(e.data={}),n?"object"==typeof n||void 0!==r?(p(this,function(e,t){o(t,n,r)}),this):f.call(e.data,n)?e.data[n]:_(e,n):_(e)},l.val=function(e){var t=0===arguments.length,n=this[0];if(n)switch(n.name){case"textarea":return this.text(e);case"input":return"radio"!==this.attr("type")?this.attr("value",e):t?this.attr("value"):(this.attr("value",e),this);case"select":var r,i=this.find("option:selected");if(void 0===i)return;if(t)return r=i.attr("value"),f.call(this.attr(),"multiple")&&(r=[],p(i,function(e,t){r.push(u(t,"value"))})),r;if(!f.call(this.attr(),"multiple")&&"object"==typeof e)return this;"object"!=typeof e&&(e=[e]),this.find("option").removeAttr("selected");for(var o=0;o<e.length;o++)this.find('option[value="'+e[o]+'"]').attr("selected","");return this;case"option":return t?this.attr("value"):(this.attr("value",e),this)}};var C=function(e,t){e.attribs&&f.call(e.attribs,t)&&delete e.attribs[t]};l.removeAttr=function(n){return p(this,function(e,t){C(t,n)}),this},l.hasClass=function(o){return a.some(this,function(e){var t,n=e.attribs,r=n&&n.class,i=-1;if(r&&o.length)for(;-1<(i=r.indexOf(o,i+1));)if(t=i+o.length,(0===i||m.test(r[i-1]))&&(t===r.length||m.test(r[t])))return!0})},l.addClass=function(r){if("function"==typeof r)return p(this,function(e,t){var n=t.attribs.class||"";l.addClass.call([t],r.call(t,e,n))});if(!r||"string"!=typeof r)return this;for(var e=r.split(m),t=this.length,n=0;n<t;n++)if(d(this[n])){var i,o,a=u(this[n],"class");if(a){o=" "+a+" ",i=e.length;for(var s=0;s<i;s++){var c=e[s]+" ";o.indexOf(" "+c)<0&&(o+=c)}E(this[n],"class",o.trim())}else E(this[n],"class",e.join(" ").trim())}return this};var T=function(e){return e?e.trim().split(m):[]};l.removeClass=function(n){var a,s,c;return"function"==typeof n?p(this,function(e,t){l.removeClass.call([t],n.call(t,e,t.attribs.class||""))}):(a=T(n),s=a.length,c=0===arguments.length,p(this,function(e,t){if(d(t))if(c)t.attribs.class="";else{for(var n,r,i=T(t.attribs.class),o=0;o<s;o++)0<=(n=i.indexOf(a[o]))&&(i.splice(n,1),r=!0,o--);r&&(t.attribs.class=i.join(" "))}}))},l.toggleClass=function(n,r){if("function"==typeof n)return p(this,function(e,t){l.toggleClass.call([t],n.call(t,e,t.attribs.class||"",r),r)});if(!n||"string"!=typeof n)return this;for(var e,t,i=n.split(m),o=i.length,a="boolean"==typeof r?r?1:-1:0,s=this.length,c=0;c<s;c++)if(d(this[c])){e=T(this[c].attribs.class);for(var u=0;u<o;u++)t=e.indexOf(i[u]),0<=a&&t<0?e.push(i[u]):a<=0&&0<=t&&e.splice(t,1);this[c].attribs.class=e.join(" ")}return this},l.is=function(e){return!!e&&0<this.filter(e).length}},dzgT:function(e,t,n){"use strict";n.d(t,"b",function(){return l}),n.d(t,"a",function(){return d});var i=n("mrSG"),o=n("nkY7"),a=n("isby"),r=n("MGBS"),s=n("zotm"),c=n("IUTb"),u={};function l(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=null,r=null;return Object(o.a)(e[e.length-1])&&(r=e.pop()),"function"==typeof e[e.length-1]&&(n=e.pop()),1===e.length&&Object(a.a)(e[0])&&(e=e[0]),Object(c.a)(e,r).lift(new d(n))}var d=function(){function e(e){this.resultSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new p(e,this.resultSelector))},e}(),p=function(r){function e(e,t){var n=r.call(this,e)||this;return n.resultSelector=t,n.active=0,n.values=[],n.observables=[],n}return i.__extends(e,r),e.prototype._next=function(e){this.values.push(u),this.observables.push(e)},e.prototype._complete=function(){var e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(var n=0;n<t;n++){var r=e[n];this.add(Object(s.a)(this,r,r,n))}}},e.prototype.notifyComplete=function(e){0==--this.active&&this.destination.complete()},e.prototype.notifyNext=function(e,t,n,r,i){var o=this.values,a=o[n],s=this.toRespond?a===u?--this.toRespond:this.toRespond:0;o[n]=t,0===s&&(this.resultSelector?this._tryResultSelector(o):this.destination.next(o.slice()))},e.prototype._tryResultSelector=function(e){var t;try{t=this.resultSelector.apply(this,e)}catch(e){return void this.destination.error(e)}this.destination.next(t)},e}(r.a)},"e+wO":function(e,t){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMjRweCIgaGVpZ2h0PSIyNHB4IiB2aWV3Qm94PSIwIDAgMjQgMjQiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDU2LjMgKDgxNzE2KSAtIGh0dHBzOi8vc2tldGNoLmNvbSAtLT4KICAgIDx0aXRsZT5pY29uX2dsb2JhbF9saW5rX25vcjwvdGl0bGU+CiAgICA8ZGVzYz5DcmVhdGVkIHdpdGggU2tldGNoLjwvZGVzYz4KICAgIDxnIGlkPSJXZWItMTYqMTYiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnIGlkPSJBcnRib2FyZCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTg1NC4wMDAwMDAsIC03MzYuMDAwMDAwKSIgZmlsbC1ydWxlPSJub256ZXJvIj4KICAgICAgICAgICAgPGcgaWQ9Imljb25fZ2xvYmFsX2xpbmtfbm9yIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg4NTQuMDAwMDAwLCA3MzYuMDAwMDAwKSI+CiAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTIuMzk0NTI1LDkuNjAxMDQ3NDEgQzEyLjcxNTM2ODMsOS43MzU0NTM2NSAxMy4wMjI3NDc2LDkuOTE3MTEzNjkgMTMuMzA2NzIyOCwxMC4xNDcwNzIzIEMxNC45MTYyNDQ4LDExLjQ1MDQzNzUgMTUuMTY0NDMzOSwxMy44MTE3OTkxIDEzLjg2MTA2ODcsMTUuNDIxMzIxMSBMMTEuNzM3MTEyNCwxOC4wNDQxODg3IEMxMC40MzM3NDcyLDE5LjY1MzcxMDcgOC4wNzIzODU1NSwxOS45MDE4OTk4IDYuNDYyODYzNTcsMTguNTk4NTM0NiBDNC44NTMzNDE1OCwxNy4yOTUxNjk0IDQuNjA1MTUyNDcsMTQuOTMzODA3OCA1LjkwODUxNzY4LDEzLjMyNDI4NTggTDcuOTM5OTM2NDEsMTAuODE1NjkyNSBMOC4wMDQ2Nzg2MiwxMS40MzE2NzM1IEM4LjA1MDIxMjcsMTEuODY0OTAxMyA4LjE5ODY4MzUzLDEyLjI2MjM5MDUgOC40MjMyMzQzLDEyLjYwMjM5MjkgTDcuMDc0MjM2NjIsMTQuMjY4MjY2NCBDNi4yOTIyMTc1LDE1LjIzMzk3OTUgNi40NDExMzA5NiwxNi42NTA3OTY1IDcuNDA2ODQ0MTUsMTcuNDMyODE1NiBDOC4zNzI1NTczNCwxOC4yMTQ4MzQ4IDkuNzg5Mzc0MzIsMTguMDY1OTIxMyAxMC41NzEzOTM0LDE3LjEwMDIwODEgTDEyLjY5NTM0OTgsMTQuNDc3MzQwNSBDMTMuNDc3MzY4OSwxMy41MTE2MjczIDEzLjMyODQ1NTQsMTIuMDk0ODEwMyAxMi4zNjI3NDIyLDExLjMxMjc5MTIgQzEyLjA2NzIzMjIsMTEuMDczNDkxOSAxMS43Mjk0ODIxLDEwLjkyMTM2MjQgMTEuMzgwNjA2NCwxMC44NTMxMzI2IEwxMi4zOTQ1MjUsOS42MDEwNDc0MSBMMTIuMzk0NTI1LDkuNjAxMDQ3NDEgWiBNMTEuMjYzNzMxMSwxNC4zMjk2Mjg3IEMxMC45NDI4ODc3LDE0LjE5NTIyMjQgMTAuNjM1NTA4NCwxNC4wMTM1NjI0IDEwLjM1MTUzMzMsMTMuNzgzNjAzOCBDOC43NDIwMTEyNywxMi40ODAyMzg2IDguNDkzODIyMTYsMTAuMTE4ODc3IDkuNzk3MTg3MzcsOC41MDkzNTUgTDExLjkyMTE0MzcsNS44ODY0ODczOCBDMTMuMjI0NTA4OSw0LjI3Njk2NTM5IDE1LjU4NTg3MDUsNC4wMjg3NzYyOCAxNy4xOTUzOTI1LDUuMzMyMTQxNDkgQzE4LjgwNDkxNDUsNi42MzU1MDY2OSAxOS4wNTMxMDM2LDguOTk2ODY4MzMgMTcuNzQ5NzM4NCwxMC42MDYzOTAzIEwxNS43MTgzMTk3LDEzLjExNDk4MzUgTDE1LjY1MzU3NzUsMTIuNDk5MDAyNSBDMTUuNjA4MDQzNCwxMi4wNjU3NzQ3IDE1LjQ1OTU3MjYsMTEuNjY4Mjg1NSAxNS4yMzUwMjE4LDExLjMyODI4MzEgTDE2LjU4NDAxOTUsOS42NjI0MDk3MiBDMTcuMzY2MDM4Niw4LjY5NjY5NjUzIDE3LjIxNzEyNTEsNy4yNzk4Nzk1NSAxNi4yNTE0MTE5LDYuNDk3ODYwNDMgQzE1LjI4NTY5ODcsNS43MTU4NDEzMSAxMy44Njg4ODE4LDUuODY0NzU0NzcgMTMuMDg2ODYyNiw2LjgzMDQ2Nzk3IEwxMC45NjI5MDYzLDkuNDUzMzM1NTggQzEwLjE4MDg4NzIsMTAuNDE5MDQ4OCAxMC4zMjk4MDA3LDExLjgzNTg2NTggMTEuMjk1NTEzOCwxMi42MTc4ODQ5IEMxMS41OTEwMjM5LDEyLjg1NzE4NDIgMTEuOTI4Nzc0LDEzLjAwOTMxMzYgMTIuMjc3NjQ5NywxMy4wNzc1NDM1IEwxMS4yNjM3MzExLDE0LjMyOTYyODcgTDExLjI2MzczMTEsMTQuMzI5NjI4NyBaIiBmaWxsPSIjMkIyRjM2Ij48L3BhdGg+CiAgICAgICAgICAgIDwvZz4KICAgICAgICA8L2c+CiAgICA8L2c+Cjwvc3ZnPgo="},e5cp:function(e,t,n){var g=n("fmRc"),m=n("or5M"),v=n("HDyB"),y=n("seXi"),b=n("QqLw"),E=n("Z0cm"),_=n("DSRE"),C=n("c6wG"),T=1,O="[object Arguments]",k="[object Array]",S="[object Object]",w=Object.prototype.hasOwnProperty;function r(e,t,n,r,i,o){var a=E(e),s=E(t),c=a?k:b(e),u=s?k:b(t),l=(c=c==O?S:c)==S,d=(u=u==O?S:u)==S,p=c==u;if(p&&_(e)){if(!_(t))return!1;l=!(a=!0)}if(p&&!l)return o=o||new g,a||C(e)?m(e,t,n,r,i,o):v(e,t,c,n,r,i,o);if(!(n&T)){var f=l&&w.call(e,"__wrapped__"),h=d&&w.call(t,"__wrapped__");if(f||h)return i(f?e.value():e,h?t.value():t,n,r,o=o||new g)}return!!p&&(o=o||new g,y(e,t,n,r,i,o))}e.exports=r},e989:function(e,t,n){"use strict";e.exports=n("7PmA")()?Object.keys:n("c3ME")},eFqs:function(e,t,n){"use strict";var i,r,o,a,s,c,u=n("qvaM");(r=i=i||{}).Search="search",r.Messenger="messenger",r.MessengerCreateGroup="messenger.create-group",r.MessengerFeed="messenger.feed",r.MessengerPinnedChats="messenger.pinned-chats",r.MessengerChat="messenger.chat",r.MessengerChatMessage="messenger.chat-message",r.MessengerNameCard="messenger.name-card",r.Video="video",r.VC="vc",r.Doc="doc",r.Sheet="sheet",r.PPT="ppt",r.Mail="mail",r.Calendar="calendar",r.Contacts="contacts",r.ContactsShareLink="contacts.share-link",r.ContactsShareQRCode="contacts.share-qrcode",r.ContactsSearch="contacts.search",r.Other="other",(a=o=o||{}).WechatQRCode="wechat.qrcode",a.WechatLink="wechat.link",a.LarkQRCode="lark.qrcode",a.LarkLink="lark.link",a.Other="other",(c=s=s||{}).RustSDK="RustSDK",c.JSSDK="JSSDK",c.Memory="memory",c.LocalStorage="LocalStorage",c.IndexDB="IndexDB",c.Disk="disk",c.None="none",n.d(t,"c",function(){return d}),n.d(t,"d",function(){return p}),n.d(t,"e",function(){return f}),n.d(t,"f",function(){return h}),n.d(t,"a",function(){return u.a});var l=new u.f;function d(e,t){if(!t)return l.logger.startSpan(e);var n;t.spanId&&t.traceId&&(n={spanId:t.spanId,traceId:t.traceId,traceFlags:u.h.NONE});var r=Object.assign({module:t.module,userSource:t.userSource||o.Other},t.attributes);return t.app&&(r.app=t.app,r.appVersion=t.appVersion),l.logger.startSpan(e,{parent:n,attributes:r,startTime:t.userStartTime||u.j.timer.now()})}function p(e,t,n){if(!t)return Object.assign({traceId:e.context.traceId,spanId:e.context.spanId,module:i.Other},n);var r=Object.assign({},t,{},n,{traceId:e.context.traceId,spanId:e.context.spanId,module:t&&t.module||i.Other});return t.attributes&&n&&n.attributes&&(r.attributes=Object.assign({},t.attributes,{},n.attributes)),r}function f(e){if(!e)return{protocol:"unknown",domain:"unknown"};var t=e.match(/^(https?):\/\/([^/]+)/);return{protocol:t&&t[1]||"file",domain:t&&t[2]||"unknown"}}function h(e,t,n){n.data=Object.assign({samplingRatio:t},n.data),e.storeMetrics(n)}l.logger.setAttributes({lib:"lark-widgets"});t.b=l.logger},eHo2:function(e,t,n){"use strict";var s=Math.ceil,c=Math.max;function r(e,t,n,r){for(var i=-1,o=c(s((t-e)/(n||1)),0),a=Array(o);o--;)a[r?o:++i]=e,e+=n;return a}var i=r,o=n("XFn8"),a=n("ywm8");function u(r){return function(e,t,n){return n&&"number"!=typeof n&&Object(o.a)(e,t,n)&&(t=n=void 0),e=Object(a.a)(e),void 0===t?(t=e,e=0):t=Object(a.a)(t),n=void 0===n?e<t?1:-1:Object(a.a)(n),i(e,t,n,r)}}t.a=u},eKYS:function(e,t,n){},eLKs:function(e,t,n){e.exports=n("tbMQ")},eO8H:function(e,t,n){"use strict";n.r(t);var r=n("6DQo"),i=n.n(r),o=n("q1tI"),h=n.n(o),a=n("17x9"),s=n.n(a),c=n("YHGo"),u=n("nr6O").a;function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var f,g=(p(m,f=h.a.Component),m.prototype.componentWillMount=function(){i()(!this.props.history,"<BrowserRouter> ignores the history prop. To use a custom history, use `import { Router }` instead of `import { BrowserRouter as Router }`.")},m.prototype.render=function(){return h.a.createElement(u,{history:this.history,children:this.props.children})},m);function m(){var e,t;l(this,m);for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t=d(this,f.call.apply(f,[this].concat(r)))).history=Object(c.a)(t.props),d(t,e)}g.propTypes={basename:s.a.string,forceRefresh:s.a.bool,getUserConfirmation:s.a.func,keyLength:s.a.number,children:s.a.node};var v=g;function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function E(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var _,C=(E(T,_=h.a.Component),T.prototype.componentWillMount=function(){i()(!this.props.history,"<HashRouter> ignores the history prop. To use a custom history, use `import { Router }` instead of `import { HashRouter as Router }`.")},T.prototype.render=function(){return h.a.createElement(u,{history:this.history,children:this.props.children})},T);function T(){var e,t;y(this,T);for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t=b(this,_.call.apply(_,[this].concat(r)))).history=Object(c.b)(t.props),b(t,e)}C.propTypes={basename:s.a.string,getUserConfirmation:s.a.func,hashType:s.a.oneOf(["hashbang","noslash","slash"]),children:s.a.node};var O=C,k=n("2iEm"),S=n("8Wa3").a,w=n("2INN"),I=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function L(e,t){var n,r={};for(n in e)0<=t.indexOf(n)||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}var R=function(e){var i=e.to,t=e.exact,n=e.strict,r=e.location,o=e.activeClassName,a=e.className,s=e.activeStyle,c=e.style,u=e.isActive,l=e["aria-current"],d=L(e,["to","exact","strict","location","activeClassName","className","activeStyle","style","isActive","aria-current"]),p="object"===(void 0===i?"undefined":x(i))?i.pathname:i,f=p&&p.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1");return h.a.createElement(w.a,{path:f,exact:t,strict:n,location:r,children:function(e){var t=e.location,n=e.match,r=!!(u?u(n,t):n);return h.a.createElement(k.a,I({to:i,className:r?[a,o].filter(function(e){return e}).join(" "):a,style:r?I({},c,s):c,"aria-current":r&&l||null},d))}})};R.propTypes={to:k.a.propTypes.to,exact:s.a.bool,strict:s.a.bool,location:s.a.object,activeClassName:s.a.string,className:s.a.string,activeStyle:s.a.object,style:s.a.object,isActive:s.a.func,"aria-current":s.a.oneOf(["page","step","location","date","time","true"])},R.defaultProps={activeClassName:"active","aria-current":"page"};var N=R,D=n("LWYa").a,M=n("mf+E"),P=n("yczp").a,j=n("jKe7"),F=n("l1PF").a,B=n("SsKX").a,U=n("wIs1");n.d(t,"BrowserRouter",function(){return v}),n.d(t,"HashRouter",function(){return O}),n.d(t,"Link",function(){return k.a}),n.d(t,"MemoryRouter",function(){return S}),n.d(t,"NavLink",function(){return N}),n.d(t,"Prompt",function(){return D}),n.d(t,"Redirect",function(){return M.a}),n.d(t,"Route",function(){return w.a}),n.d(t,"Router",function(){return u}),n.d(t,"StaticRouter",function(){return P}),n.d(t,"Switch",function(){return j.a}),n.d(t,"generatePath",function(){return F}),n.d(t,"matchPath",function(){return B}),n.d(t,"withRouter",function(){return U.a})},eQlZ:function(e,t,n){"use strict";e.exports=v;var r=n("nryN"),i=n("D5Sy"),o=i.findOne,a=i.findAll,s=i.getChildren,c=i.removeSubsets,u=n("meR+").falseFunc,l=n("LpBN"),d=l.compileUnsafe,p=l.compileToken;function f(r){return function(e,t,n){return"function"!=typeof e&&(e=d(e,n,t)),t=(Array.isArray(t)?c:s)(t),r(e,t)}}var h=f(function(e,t){return e!==u&&t&&0!==t.length?a(e,t):[]}),g=f(function(e,t){return e!==u&&t&&0!==t.length?o(e,t):null});function m(e,t,n){return("function"==typeof t?t:l(t,n))(e)}function v(e,t,n){return h(e,t,n)}v.compile=l,v.filters=r.filters,v.pseudos=r.pseudos,v.selectAll=h,v.selectOne=g,v.is=m,v.parse=l,v.iterate=h,v._compileUnsafe=d,v._compileToken=p},eXIe:function(e,t,n){e.exports=n("kw5h")},eYnF:function(t,e,n){var r=n("XSSY"),i=n("CxHw");function o(e){return t.exports=o=i?r:function(e){return e.__proto__||r(e)},o(e)}t.exports=o},eaa2:function(e,t,n){"use strict";var r=n("twO/"),i=n("Meht"),o=n("LV2V"),a=n("GCEQ"),s=n("qAkX"),c=Object(o.a)(function(e){var t=Object(s.a)(e),n=Object(r.a)(e,a.a);return(t="function"==typeof t?t:void 0)&&n.pop(),n.length&&n[0]===e[0]?Object(i.a)(n,void 0,t):[]});t.a=c},eeXp:function(e,t,n){"use strict";var r=n("HwUZ"),o=n("zpDW"),i=n("mGgY"),c=n("qtHR"),u=n("fID9"),a=n("UwWT"),s=n("MCLT").inherits,l=a.TAG_NAMES,d=e.exports=function(e){r.call(this,e),this.parser=e,this.posTracker=null,this.lastStartTagToken=null,this.lastFosterParentingLocation=null,this.currentToken=null};s(d,r),d.prototype._setStartLocation=function(e){this.lastStartTagToken?(e.__location=Object.create(this.lastStartTagToken.location),e.__location.startTag=this.lastStartTagToken.location):e.__location=null},d.prototype._setEndLocation=function(e,t){var n,r,i=e.__location;i&&(t.location?(n=t.location,r=this.parser.treeAdapter.getTagName(e),t.type===o.END_TAG_TOKEN&&r===t.tagName?(i.endTag=Object.create(n),i.endOffset=n.endOffset):i.endOffset=n.startOffset):t.type===o.EOF_TOKEN&&(i.endOffset=this.posTracker.offset))},d.prototype._getOverriddenMethods=function(a,s){return{_bootstrap:function(e,t){s._bootstrap.call(this,e,t),a.lastStartTagToken=null,a.lastFosterParentingLocation=null,a.currentToken=null,a.posTracker=new c(this.tokenizer.preprocessor),new i(this.tokenizer),new u(this.openElements,{onItemPop:function(e){a._setEndLocation(e,a.currentToken)}})},_runParsingLoop:function(e){s._runParsingLoop.call(this,e);for(var t=this.openElements.stackTop;0<=t;t--)a._setEndLocation(this.openElements.items[t],a.currentToken)},_processTokenInForeignContent:function(e){a.currentToken=e,s._processTokenInForeignContent.call(this,e)},_processToken:function(e){if(a.currentToken=e,s._processToken.call(this,e),e.type===o.END_TAG_TOKEN&&(e.tagName===l.HTML||e.tagName===l.BODY&&this.openElements.hasInScope(l.BODY)))for(var t=this.openElements.stackTop;0<=t;t--){var n=this.openElements.items[t];if(this.treeAdapter.getTagName(n)===e.tagName){a._setEndLocation(n,e);break}}},_setDocumentType:function(e){s._setDocumentType.call(this,e);for(var t=this.treeAdapter.getChildNodes(this.document),n=t.length,r=0;r<n;r++){var i=t[r];if(this.treeAdapter.isDocumentTypeNode(i)){i.__location=e.location;break}}},_attachElementToTree:function(e){a._setStartLocation(e),a.lastStartTagToken=null,s._attachElementToTree.call(this,e)},_appendElement:function(e,t){a.lastStartTagToken=e,s._appendElement.call(this,e,t)},_insertElement:function(e,t){a.lastStartTagToken=e,s._insertElement.call(this,e,t)},_insertTemplate:function(e){a.lastStartTagToken=e,s._insertTemplate.call(this,e),this.treeAdapter.getTemplateContent(this.openElements.current).__location=null},_insertFakeRootElement:function(){s._insertFakeRootElement.call(this),this.openElements.current.__location=null},_appendCommentNode:function(e,t){s._appendCommentNode.call(this,e,t);var n=this.treeAdapter.getChildNodes(t);n[n.length-1].__location=e.location},_findFosterParentingLocation:function(){return a.lastFosterParentingLocation=s._findFosterParentingLocation.call(this),a.lastFosterParentingLocation},_insertCharacters:function(e){s._insertCharacters.call(this,e);var t=this._shouldFosterParentOnInsertion(),n=t&&a.lastFosterParentingLocation.parent||this.openElements.currentTmplContent||this.openElements.current,r=this.treeAdapter.getChildNodes(n),i=t&&a.lastFosterParentingLocation.beforeElement?r.indexOf(a.lastFosterParentingLocation.beforeElement)-1:r.length-1,o=r[i];o.__location?o.__location.endOffset=e.location.endOffset:o.__location=e.location}}}},ejTr:function(e,t,n){e.exports=n("mvpf")},ejln:function(e,t){t.removeElement=function(e){var t;e.prev&&(e.prev.next=e.next),e.next&&(e.next.prev=e.prev),e.parent&&(t=e.parent.children).splice(t.lastIndexOf(e),1)},t.replaceElement=function(e,t){var n=t.prev=e.prev;n&&(n.next=t);var r=t.next=e.next;r&&(r.prev=t);var i,o=t.parent=e.parent;o&&((i=o.children)[i.lastIndexOf(e)]=t)},t.appendChild=function(e,t){var n;1!==(t.parent=e).children.push(t)&&(((n=e.children[e.children.length-2]).next=t).prev=n,t.next=null)},t.append=function(e,t){var n,r=e.parent,i=e.next;t.next=i,((t.prev=e).next=t).parent=r,i?(i.prev=t,r&&(n=r.children).splice(n.lastIndexOf(i),0,t)):r&&r.children.push(t)},t.prepend=function(e,t){var n,r=e.parent;r&&(n=r.children).splice(n.lastIndexOf(e),0,t),e.prev&&(e.prev.next=t),t.parent=r,t.prev=e.prev,(t.next=e).prev=t}},elsr:function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return o});var r="0",i="clientside",o={LOCAL:i,PREFIX_LOCAL:"".concat(i,"-"),DEFAULT_REP_ZONE:r}},erPj:function(e,t,n){"use strict";n.d(t,"f",function(){return i}),n.d(t,"c",function(){return o}),n.d(t,"a",function(){return a}),n.d(t,"e",function(){return s}),n.d(t,"d",function(){return c}),n.d(t,"b",function(){return u});var r=n("kS6I");function i(){return Object(r.d)(r.b.FILE_UPLOAD)!==r.a.DENY}function o(){return Object(r.d)(r.b.FILE_DOWNLOAD)!==r.a.DENY}function a(){return Object(r.d)(r.b.FILE_COPY)!==r.a.DENY}function s(){return Object(r.d)(r.b.FILE_PRINT)!==r.a.DENY}function c(){return Object(r.d)(r.b.FILE_EXPORT)!==r.a.DENY}function u(){return Object(r.d)(r.b.FILE_COPY)!==r.a.DENY}},f5dp:function(e,t,n){e.exports=n("9tjs")},fBAZ:function(e,t,n){"use strict";var i=n("UwWT").DOCUMENT_MODE,o="html",a="http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd",s=["+//silmaril//dtd html pro v0r11 19970101//en","-//advasoft ltd//dtd html 3.0 aswedit + extensions//en","-//as//dtd html 3.0 aswedit + extensions//en","-//ietf//dtd html 2.0 level 1//en","-//ietf//dtd html 2.0 level 2//en","-//ietf//dtd html 2.0 strict level 1//en","-//ietf//dtd html 2.0 strict level 2//en","-//ietf//dtd html 2.0 strict//en","-//ietf//dtd html 2.0//en","-//ietf//dtd html 2.1e//en","-//ietf//dtd html 3.0//en","-//ietf//dtd html 3.0//en//","-//ietf//dtd html 3.2 final//en","-//ietf//dtd html 3.2//en","-//ietf//dtd html 3//en","-//ietf//dtd html level 0//en","-//ietf//dtd html level 0//en//2.0","-//ietf//dtd html level 1//en","-//ietf//dtd html level 1//en//2.0","-//ietf//dtd html level 2//en","-//ietf//dtd html level 2//en//2.0","-//ietf//dtd html level 3//en","-//ietf//dtd html level 3//en//3.0","-//ietf//dtd html strict level 0//en","-//ietf//dtd html strict level 0//en//2.0","-//ietf//dtd html strict level 1//en","-//ietf//dtd html strict level 1//en//2.0","-//ietf//dtd html strict level 2//en","-//ietf//dtd html strict level 2//en//2.0","-//ietf//dtd html strict level 3//en","-//ietf//dtd html strict level 3//en//3.0","-//ietf//dtd html strict//en","-//ietf//dtd html strict//en//2.0","-//ietf//dtd html strict//en//3.0","-//ietf//dtd html//en","-//ietf//dtd html//en//2.0","-//ietf//dtd html//en//3.0","-//metrius//dtd metrius presentational//en","-//microsoft//dtd internet explorer 2.0 html strict//en","-//microsoft//dtd internet explorer 2.0 html//en","-//microsoft//dtd internet explorer 2.0 tables//en","-//microsoft//dtd internet explorer 3.0 html strict//en","-//microsoft//dtd internet explorer 3.0 html//en","-//microsoft//dtd internet explorer 3.0 tables//en","-//netscape comm. corp.//dtd html//en","-//netscape comm. corp.//dtd strict html//en","-//o'reilly and associates//dtd html 2.0//en","-//o'reilly and associates//dtd html extended 1.0//en","-//spyglass//dtd html 2.0 extended//en","-//sq//dtd html 2.0 hotmetal + extensions//en","-//sun microsystems corp.//dtd hotjava html//en","-//sun microsystems corp.//dtd hotjava strict html//en","-//w3c//dtd html 3 1995-03-24//en","-//w3c//dtd html 3.2 draft//en","-//w3c//dtd html 3.2 final//en","-//w3c//dtd html 3.2//en","-//w3c//dtd html 3.2s draft//en","-//w3c//dtd html 4.0 frameset//en","-//w3c//dtd html 4.0 transitional//en","-//w3c//dtd html experimental 19960712//en","-//w3c//dtd html experimental 970421//en","-//w3c//dtd w3 html//en","-//w3o//dtd w3 html 3.0//en","-//w3o//dtd w3 html 3.0//en//","-//webtechs//dtd mozilla html 2.0//en","-//webtechs//dtd mozilla html//en"],c=s.concat(["-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"]),u=["-//w3o//dtd w3 html strict 3.0//en//","-/w3c/dtd html 4.0 transitional/en","html"],l=["-//W3C//DTD XHTML 1.0 Frameset//","-//W3C//DTD XHTML 1.0 Transitional//"],d=l.concat(["-//W3C//DTD HTML 4.01 Frameset//","-//W3C//DTD HTML 4.01 Transitional//"]);function p(e){var t=-1!==e.indexOf('"')?"'":'"';return t+e+t}function f(e,t){for(var n=0;n<t.length;n++)if(0===e.indexOf(t[n]))return!0;return!1}t.getDocumentMode=function(e,t,n){if(e!==o)return i.QUIRKS;if(n&&n.toLowerCase()===a)return i.QUIRKS;if(null!==t){if(t=t.toLowerCase(),-1<u.indexOf(t))return i.QUIRKS;var r=null===n?c:s;if(f(t,r))return i.QUIRKS;if(f(t,r=null===n?l:d))return i.LIMITED_QUIRKS}return i.NO_QUIRKS},t.serializeContent=function(e,t,n){var r="!DOCTYPE ";return e&&(r+=e),null!==t?r+=" PUBLIC "+p(t):null!==n&&(r+=" SYSTEM"),null!==n&&(r+=" "+p(n)),r}},fFdo:function(e,t,n){},fHYd:function(e,o,a){"use strict";(function(n){var e=a("Ngi8"),t=a("Qvr1"),r=a.n(t),F=a("yGdm"),B=a("HmyT"),i=a("cgIo"),U=(a("IQA7"),{editorInfo:null,showStatus:!1,referenceCount:0,iframeKey:"",init:function(){var e,t;this.referenceCount++,Object(B.$)(".link-popup").length||(U.outContainer=Object(B.$)(".doc-popup-container"),e=n("etherpad.text"),t=n("etherpad.link"),Object(B.$)(Object(i.a)(r.a)({text:e,link:t,sure:n("common.determine"),addLinkInfo:n("etherpad.addLink"),addTextInfo:n("etherpad.enter_text"),help:n("CreationDocs_Embeds_URL_HelpCenter"),showExample:n("block.iframe_show_example"),iframeInputPlaceholder:n("block.iframe_input_placeholder"),insert:n("common.confirm"),icon:""})).appendTo(U.outContainer),U.linkPopUp=Object(B.$)(".link-popup"),U.triangle=U.linkPopUp.find(".link-popup__triangle"),U.textInput=U.linkPopUp.find(".text-input"),U.linkInput=U.linkPopUp.find(".link-input"),U.linkGroup=U.linkPopUp.find(".link-popup__input-group"),U.linkIframe=U.linkPopUp.find(".link-iframe"),U.linkIframeTitle=U.linkPopUp.find(".link-iframe__title"),U.linkIframeClose=U.linkPopUp.find(".link-iframe__close"),U.linkIframeMain=U.linkPopUp.find(".link-iframe__main"),U.linkIframeInput=U.linkPopUp.find(".link-iframe__input"),U.linkIframeHelp=U.linkPopUp.find(".link-iframe__help"),U.linkIframeExample=U.linkPopUp.find(".link-iframe__example"),U.linkIframeSubmit=U.linkPopUp.find(".link-iframe__submit"))},resetIframeKey:function(){this.iframeKey=""},hidePopUp:function(){this.editorInfo&&this.editorInfo.call("editorbar:toggleAButtonVisible",!0),U.showStatus=!1,Object(B.$)(".comment-line-popup-container").show(),U.linkPopUp.addClass("link-popup_hidden"),U.linkIframeHelp.addClass("hidden")},showPopUp:function(e){var t=e.editorInfo,n=e.isCollapsed,r=e.type,i=e.title,o=e.placeholder,a=e.exampleLink,s=e.helpLink,c=e.link,u=e.text,l=e.exsitLink,d=e.iframeKey,p=(this.editorInfo=t).selection,f=p.getRealEndLine,h=p.getRealFirstLine,g=p.getSelectionRange,m=t.getRep();"iframe"===r?(U.linkIframe.removeClass("hidden"),U.linkGroup.addClass("hidden"),s&&(U.linkIframeHelp.removeClass("hidden"),U.linkIframeHelp.attr("href",s)),U.linkIframeTitle.text(i),U.linkIframeClose.on("click",this.hidePopUp),U.linkIframeInput.val(""),U.linkIframeInput.attr("placeholder",o),U.linkIframeInput.on("focus",this.handleFocus),U.linkIframeInput.on("blur",this.handleBlur),U.linkIframeExample.attr("href",a),U.linkPopUp.addClass("link-popup--iframe")):(U.linkIframe.addClass("hidden"),U.linkGroup.removeClass("hidden"),U.linkIframeHelp.addClass("hidden"),U.linkPopUp.removeClass("link-popup--iframe")),U.linkPopUp.removeClass("link-popup_hidden link-popup__uncollapsed"),n||l||U.linkPopUp.addClass("link-popup__uncollapsed"),U.textInput.val(""),U.linkInput.val(""),c&&u&&(U.textInput.val(u),U.linkInput.val(c));var v=m.selStart,y=m.selEnd,b={selStart:v,selEnd:y},E=f(m.zoneId,b),_=h(m.zoneId,b),C={};_===v[0]&&_===E?C.selStart=v:C.selStart=[E,0],E===y[0]?C.selEnd=y:C.selEnd=[E,m.lines.atIndex(E).text.length];var T=g({selStart:C.selStart,selEnd:C.selEnd,zoneId:m.zoneId},t);T.collapsed&&"BR"===T.startContainer.tagName&&T.selectNode(T.startContainer);var O,k=T.getBoundingClientRect(),S=k.left+k.width/2,w=U.outContainer[0].getBoundingClientRect(),I=F.d,x=Object(B.$)(".etherpad-client-container")[0].getBoundingClientRect(),L=x.width,R=x.right,N=I/2,D=R-N,M=Math.min(S,D)-N-w.left,P=k.top+k.height-w.top+3,j=L+S-N-w.left;U.triangle.css({"margin-left":""}),j<0?(U.triangle.css({"margin-left":"".concat(6+j,"px")}),M=-L-15):D<S&&(O=N-(R-S)-8,U.triangle.css({"margin-left":"".concat(O,"px")})),U.linkPopUp.css({left:"".concat(M,"px"),top:"".concat(P+5,"px")}),U.showStatus=!0,this.iframeKey=d},handleFocus:function(){U.linkIframeMain&&U.linkIframeMain.css({borderColor:e.B500})},handleBlur:function(){U.linkIframeMain&&U.linkIframeMain.css({borderColor:e.N300})},getContainer:function(){return U.outContainer},destroy:function(){this.referenceCount--,this.resetIframeKey(),0===this.referenceCount&&(U.outContainer=null,U.linkPopUp=null,U.triangle=null,U.textInput=null,U.linkInput=null,U.linkGroup=null,U.linkIframe=null,U.linkIframeTitle=null,U.linkIframeClose.off(),U.linkIframeClose=null,U.linkIframeInput.off(),U.linkIframeInput=null,U.linkIframeHelp=null,U.linkIframeExample=null,U.linkIframeSubmit=null)}});o.a=U}).call(this,a("2vAP"))},fHi0:function(e,t,n){e.exports=n("uDyp")},fID9:function(e,t,n){"use strict";var r=n("HwUZ"),i=n("MCLT").inherits,o=e.exports=function(e,t){r.call(this,e),this.onItemPop=t.onItemPop};i(o,r),o.prototype._getOverriddenMethods=function(t,n){return{pop:function(){t.onItemPop(this.current),n.pop.call(this)},popAllUpToHtmlElement:function(){for(var e=this.stackTop;0<e;e--)t.onItemPop(this.items[e]);n.popAllUpToHtmlElement.call(this)},remove:function(e){t.onItemPop(this.current),n.remove.call(this,e)}}}},fJND:function(e,t,n){"use strict";n.d(t,"a",function(){return p}),n.d(t,"b",function(){return r});var l=n("EVj1"),d=n("VIFs");function p(e){var t=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],n=Object(l.f)(e);if(t||(n=n.split(/https?:\/\//).pop()||""),!Object(d.isDocUrl)(n))return null;var r=Object(l.k)(e,!0,t),i=r.token,o=r.type,a=r.protocol,s=r.preText,c=void 0===s?"":s,u=r.restText;return i&&o?{preText:c,token:i,type:o,protocol:a,restText:void 0===u?"":u}:null}function r(e,t,n){if(!e||!t)return!1;var r=p(e)||{},i=r.token,o=r.type,a=p(t)||{},s=a.token,c=a.type,u=Boolean(i&&s&&i===s);return u&&n?n===o&&n===c:u}},fJxK:function(e,t,n){"use strict";n.d(t,"a",function(){return s}),n.d(t,"b",function(){return p});var a,s,r,i=n("lwsE"),o=n.n(i),c=n("W8MJ"),u=n.n(c),l=n("7EGn"),d=n("2ACu");(a=a||{}).ClientComment="client_comment",(r=s=s||{}).InputBox="input_box",r.SubmitBox="submit_box",r.CancelSubmit="cancel_submit",r.StartEditComment="start_edit_comment",r.SubmitEdit="submit_edit",r.ClickCommentEdit="submit_edit",r.DeleteComment="delete_comment",r.ReplyComment="reply_comment",r.UpBtn="up_btn",r.DownBtn="down_btn",r.ClickTarget="click_target",r.FinishComment="finish_comment",r.ViewHistory="view_history",r.ShowReactionPanel="show_reaction_panel",r.SelectReaction="select_reaction",r.CancelReaction="cancel_reaction",r.ShowReactionPage="show_reaction_page",r.ShowReactionPanelFull="show_reaction_page_full";var p=function(){function e(){o()(this,e),this.logContext=null}return u()(e,[{key:"setLogContext",value:function(e){this.logContext=e}},{key:"logClientComment",value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},r="";e!==s.InputBox&&e!==s.SubmitBox&&e!==s.ReplyComment||(r="direct");var i=this.logContext?this.logContext(e,t):{},o=Object.assign({comment_id:Object(l.default)(t,"commentId",null)},n,{},i);Object(d.collectSuiteEvent)(a.ClientComment,Object.assign({action:e},o,{source:o.source||r,comment_type:"part_comment"}))}}]),e}()},fLNQ:function(e,t,n){"use strict";n.d(t,"a",function(){return g});var r,i,o,a=n("puQj"),s=n.n(a),c=n("m3ds"),u="undefined"!=typeof window&&window.User&&window.User.userAgent||navigator.userAgent||"",l=Object.assign({},s.a.detect(u),{isFeishu:!1,isLark:!1,isLarkPcTab:!1,isDocs:!1,isDocsSDK:!1,isFeed:!1,isIphoneX:!1,isIPad:!1,isMobile:!1,isMac:!1,isSafari:!1,isIE:!1,isSougou:!1,isIOS:!1,isAndroid:!1,isQQ:!1,isX5:!1,is360:!1,is360Fast:!1,isUc:!1,isBaiDu:!1,isLB:!1,oldIE:!1,modernIE:!1,kernel:"",isLarkTab:!1,isOldLarkTab:!1,isEdge:!1,isFF:!1,isChrome:!1,isWebKit:!1,isBytedanceApp:!1,isIPhoneSeries:function(){return!1},isPrimaryChrome:!1,isOpera:!1,is2345:!1,isMaxthon:!1,isTheWorld:!1});l.isFeishu=/feishu/i.test(u),l.isLark=l.isFeishu||/lark/i.test(u),l.isLarkPcTab=l.isLark&&/TYPE\/PC_TAB/i.test(u),l.isDocs=/Docs/i.test(u),l.isDocsSDK=l.isLark&&l.isDocs,l.isFeed=/Feed/i.test(u)||/lark=1/.test(location.search)||/sourceType=feed/.test(location.search),l.isIphoneX=f(),l.isIPad=c.a.isIPad,l.isMobile=l.mobile||c.a.isIPad,l.isMac=l.mac,l.isSafari=c.a.isSafari,l.isIE=l.msie||l.msedge,l.isSougou=/MetaSr/i.test(u),l.isIOS=!!u.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),l.isAndroid=-1<u.indexOf("Android")||-1<u.indexOf("Adr"),l.isQQ=/QQBrowser/i.test(u),l.isX5=/MQQBrowser/i.test(u),l.is360=/360SE/i.test(u),l.is360Fast=/360EE/i.test(u),l.isUc=/UBrowser/i.test(u),l.isBaiDu=/BIDUBrowser/i.test(u),l.is2345=/2345Explorer/i.test(u),l.isMaxthon=/Maxthon/i.test(u),l.isTheWorld=/TheWorld/i.test(u),l.isLB=/LBBROWSER/i.test(u),l.isEdge=/Edge/i.test(u),l.isFF=/Firefox/i.test(u),l.isOpera=/OPR/i.test(u),l.isWebKit=/AppleWebKit/i.test(u),l.isChrome="chrome"===l.name.toLocaleLowerCase(),l.isPrimaryChrome=l.isChrome&&!l.isOpera&&!l.isLB&&!l.isUc&&!l.isBaiDu&&!l.is360&&!l.is360Fast&&!l.isQQ&&!l.isSougou&&!l.isEdge&&!l.is2345&&!l.isTheWorld&&!l.isMaxthon,l.msie&&(r=parseInt(String(l.version),10),l.oldIE=r<11,l.modernIE=11<=r),l.isSougou&&(l.name="sougou",i=/SE (\w*.\w*)\s/.exec(u),l.version=i&&i[1]||l.version),l.isQQ&&(l.name="qq",o=u.replace(/^.*QQBrowser\/([\d.]+).*$/,"$1"),l.version=String(parseFloat(o))),l.is360&&(l.name="360"),l.is360Fast&&(l.name="360fast"),l.isLB&&(l.name="liebao"),l.isUc&&(l.name="uc"),l.isBaiDu&&(l.name="baidu");var d=["msie","webkit","blink","gecko","msedge","tablet","mobile"];l.kernel=d.find(function(e){return l[e]}),l.isLarkTab=/from\/(old_)?lark_tab/i.test(u),l.isOldLarkTab=/from\/old_lark_tab/i.test(u);var p=l.isLark||l.isDocs;function f(){return h("X")}function h(e){var t=new RegExp("(iPhone\\s".concat(e,")"));return!!navigator.userAgent.match(t)}l.isBytedanceApp=p,l.isIPhoneSeries=h;var g=l},fOmz:function(e,t,n){"use strict";n.d(t,"a",function(){return O});var r=n("o0o1"),a=n.n(r),i=n("lSNA"),s=n.n(i),o=n("yXPU"),c=n.n(o),u=n("lwsE"),l=n.n(u),d=n("W8MJ"),p=n.n(d),f=n("a1gu"),h=n.n(f),g=n("Nsbk"),m=n.n(g),v=n("7W2i"),y=n.n(v),b=n("jp/M"),E=n("7HY0"),_=n("D7h9"),C=n("cyON"),T=_.default.dispatch,O=function(e){function t(e){var o;return l()(this,t),(o=h()(this,m()(t).call(this,e))).fetchComments=function(){var n,i=0<arguments.length&&void 0!==arguments[0]&&arguments[0];return T({type:"COMMENT_SERVICE",COMMENT:(n=c()(a.a.mark(function e(t,n){var r;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=s()({type:b.actionTypes.commentData.FETCH_COMMENTS,payload:{}},C.a,{resetWhenSuiteTokenChange:!0}),e.abrupt("return",o.wrapperDispatchAction(t,r,function(){return o.commentService.fetchComments(i)}));case 2:case"end":return e.stop()}},e)})),e)});function e(e,t){return n.apply(this,arguments)}},o.fetchComment=function(i){return T({type:"COMMENT_SERVICE",COMMENT:(n=c()(a.a.mark(function e(t,n){var r;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=s()({type:b.actionTypes.commentData.FETCH_COMMENT,payload:{}},C.a,{resetWhenSuiteTokenChange:!0}),e.abrupt("return",o.wrapperDispatchAction(t,r,function(){return o.commentService.fetchComment(i)}));case 2:case"end":return e.stop()}},e)})),e)});function e(e,t){return n.apply(this,arguments)}var n},o.startNewComment=function(e){return T({type:b.actionTypes.commentData.START_NEW_COMMENT,payload:Object.assign({rootType:o.rootType,rootToken:o.rootToken,subCommentToken:o.subCommentToken},e)})},o.addComment=function(r){return T({type:"COMMENT_SERVICE",COMMENT:(t=c()(a.a.mark(function e(t){var n;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n={type:b.actionTypes.commentData.ADD_COMMENT,payload:{addCommentParams:r}},e.abrupt("return",o.wrapperDispatchAction(t,n,function(){return o.commentService.addComment(r)}));case 2:case"end":return e.stop()}},e)})),e)});function e(e){return t.apply(this,arguments)}var t},o.resolveComment=function(r){return T({type:"COMMENT_SERVICE",COMMENT:(t=c()(a.a.mark(function e(t){var n;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n={type:b.actionTypes.commentData.RESOLVE_COMMENT,payload:{rootToken:o.rootToken}},e.abrupt("return",o.wrapperDispatchAction(t,n,function(){return o.commentService.resolveComment(r)}));case 2:case"end":return e.stop()}},e)})),e)});function e(e){return t.apply(this,arguments)}var t},o.resolveCommentAnimationEnd=function(e){var t=e.commentId;return T({type:b.actionTypes.commentData.RESOLVE_COMMENT_ANIMATION_END,payload:{rootType:o.rootType,rootToken:o.rootToken,subCommentToken:o.subCommentToken,commentId:t}})},o.replyComment=function(r){return T({type:"COMMENT_SERVICE",COMMENT:(t=c()(a.a.mark(function e(t){var n;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n={type:b.actionTypes.commentData.REPLY_COMMENT,payload:{replyCommentParams:r}},e.abrupt("return",o.wrapperDispatchAction(t,n,function(){return o.commentService.replyComment(r)}));case 2:case"end":return e.stop()}},e)})),e)});function e(e){return t.apply(this,arguments)}var t},o.updateComment=function(r){return T({type:"COMMENT_SERVICE",COMMENT:(t=c()(a.a.mark(function e(t){var n;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n={type:b.actionTypes.commentData.UPDATE_COMMENT,payload:{updateCommentParams:r}},e.abrupt("return",o.wrapperDispatchAction(t,n,function(){return o.commentService.updateComment(r)}));case 2:case"end":return e.stop()}},e)})),e)});function e(e){return t.apply(this,arguments)}var t},o.deleteComment=function(r){return T({type:"COMMENT_SERVICE",COMMENT:(t=c()(a.a.mark(function e(t){var n;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n={type:b.actionTypes.commentData.DELETE_COMMENT,payload:{deleteCommentParams:r}},e.abrupt("return",o.wrapperDispatchAction(t,n,function(){return o.commentService.deleteComment(r)}));case 2:case"end":return e.stop()}},e)})),e)});function e(e){return t.apply(this,arguments)}var t},o.reopenComment=function(r){return T({type:"COMMENT_SERVICE",COMMENT:(t=c()(a.a.mark(function e(t){var n;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n={type:b.actionTypes.commentData.REOPEN_COMMENT,payload:{reopenCommentParams:r,rootType:o.rootType,rootToken:o.rootToken,subCommentToken:o.subCommentToken}},e.abrupt("return",o.wrapperDispatchAction(t,n,function(){return o.commentService.reopenComment(r)}));case 2:case"end":return e.stop()}},e)})),e)});function e(e){return t.apply(this,arguments)}var t},o.genReplyId=function(r){return T({type:"COMMENT_SERVICE",COMMENT:(t=c()(a.a.mark(function e(t){var n;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n={type:b.actionTypes.commentData.GEN_REPLY_ID,payload:Object.assign({},r)},e.abrupt("return",o.wrapperDispatchAction(t,n,function(){return o.commentService.genReplyId(r)}));case 2:case"end":return e.stop()}},e)})),e)});function e(e){return t.apply(this,arguments)}var t},o.deleteTemplateComment=function(e){var t=e.commentId,n=e.replyId,r=e.type,i=e.oldContent;return T({type:b.actionTypes.commentData.DELETE_TEMPLATE_COMMENT,payload:{commentId:t,replyId:n,type:r,oldContent:i,subCommentToken:o.subCommentToken,rootType:o.rootType,rootToken:o.rootToken}})},o.linkCommentToDoc=function(e){var t=e.commentId,n=e.replyId,r=e.tempReplyId;return T({type:b.actionTypes.commentData.LINK_COMMENT_TO_DOC,payload:{commentId:t,tempReplyId:r,replyId:n,subCommentToken:o.subCommentToken,rootType:o.rootType,rootToken:o.rootToken}})},o.linkCommentToDocOK=function(e){var t=e.commentId,n=e.tempCommentId,r=e.replyId;return T({type:b.actionTypes.commentData.LINK_COMMENT_TO_DOC_OK,payload:{commentId:t,tempCommentId:n,replyId:r,rootType:o.rootType,rootToken:o.rootToken,subCommentToken:o.subCommentToken}})},o.linkCommentToDocError=function(e){var t=e.commentId,n=e.error,r=e.replyId;return T({type:b.actionTypes.commentData.LINK_COMMENT_TO_DOC_ERROR,payload:{commentId:t,replyId:r,error:n,rootType:o.rootType,rootToken:o.rootToken,subCommentToken:o.subCommentToken}})},o.mergeComments=function(e){return T({type:b.actionTypes.commentData.MERGE_COMMENTS,payload:Object.assign({rootToken:o.rootToken,rootType:o.rootType,subCommentToken:o.subCommentToken},e),ADD_USER:function(){return e.entities.users}})},o.commentService.setupCommentRecord(),o}return y()(t,e),p()(t,[{key:"destroyComments",value:function(){this.destroy(),T({type:b.actionTypes.commentPosition.SET_COMMENT_POSITION_DATA,payload:{commentPositions:[],rootToken:this.rootToken,rootType:this.rootType,subCommentToken:this.subCommentToken,isLoaded:!1}}),T({type:b.actionTypes.commentData.RESET_COMMENTS,payload:{rootToken:this.rootToken,rootType:this.rootType,subCommentToken:this.subCommentToken,comments:[]}})}}]),t}(E.a)},"fR/l":function(e,t,n){var i=n("CH3K"),o=n("Z0cm");function r(e,t,n){var r=t(e);return o(e)?r:i(r,n(e))}e.exports=r},fRrQ:function(e,t,n){"use strict";n.d(t,"a",function(){return E});var r=n("lwsE"),i=n.n(r),o=n("W8MJ"),a=n.n(o),s=n("a1gu"),c=n.n(s),u=n("Nsbk"),l=n.n(u),d=n("7W2i"),p=n.n(d),f=n("q1tI"),h=n.n(f),g=n("VI6H"),m=n("lQZd"),v=n("AiBH"),y=n("rLED"),b=n("XsFf"),E=function(e){function n(e){var t;return i()(this,n),(t=c()(this,l()(n).call(this,e))).state={userAvatar:Object(g.k)(t.props.userId)},t}return p()(n,e),a()(n,[{key:"componentDidMount",value:function(){var t=this;Object(y.G)()&&Object(b.b)(this.props.userId,v.z.DOC,Object(m.g)()).then(function(e){t.setState({userAvatar:e.avatar_url})})}},{key:"render",value:function(){var e=this.state.userAvatar;return h.a.createElement("div",{className:"at-user-avatar"},h.a.createElement("img",{src:e}))}}]),n}(f.Component)},fRsX:function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"d",function(){return a}),n.d(t,"b",function(){return s}),n.d(t,"e",function(){return c}),n.d(t,"c",function(){return u}),n.d(t,"f",function(){return l});var r,i,o=n("rLED");(i=r=r||{}).TOP_BOTTOM="v1",i.LEFT_RIGHT="v2";var a=function(){var e=r.LEFT_RIGHT;return Object(o.L)("doc_template_v3_layout")||e},s=Object(o.K)("doc_template_v3_custom_enabled"),c=Object(o.I)("doc_template_v3_mindnote_enabled"),u=Object(o.I)("doc_template_v3_from_v2"),l=Object(o.K)("doc_template_v3_corporate_enabled");a(),r.LEFT_RIGHT},fV25:function(e,t,n){"use strict";n.d(t,"a",function(){return v});var r=n("cDf5"),i=n.n(r),o=n("eq4C"),a=n("fLNQ"),s="object"===("undefined"==typeof window?"undefined":i()(window))&&"object"===i()(window.User)&&"ja"===(window.User.language||navigator.language),c="object"===("undefined"==typeof window?"undefined":i()(window))&&"object"===i()(window.User)&&"zh"===(window.User.language||navigator.language);function u(){return c?o.d.ChineseFont:s?o.d.JapaneseFont:o.d.EnglishFont}function l(){var e=u();return a.a.isSafari?e.replace(/^LarkEmojiFont, /,""):e}var d,p,f,h,g,m,v=l().replace(/\"/g,"").replace(/, /g,",");(p=d=d||{})[p.BTN_SIZE=34]="BTN_SIZE",(h=f=f||{}).ABORT="ABORT",h.COMPLETE="COMPLETE",h.TRANSFER="TRANSFER",(m=g=g||{}).MOVE="MOVE",m.CLONE="CLONE",m.COPY="COPY",m.SHARE="SHARE",m.RENAME="RENAME",m.CREATE_FOLDER="CREATE_FOLDER",m.CREATE_SHARE_FOLDER="CREATE_SHARE_FOLDER",m.EDIT_SHARE_FOLDER_INFO="EDIT_SHARE_FOLDER_INFO",m.DELETE_OR_REMOVE="DELETE_OR_REMOVE",m.MOVE_TO_PERSONAL_FOLDER="MOVE_TO_PERSONAL_FOLDER",m.MOVE_TO_SHARE_FOLDER="MOVE_TO_SHARE_FOLDER",m.DELETE="DELETE";Object.values(g);var y,b,E={TOGGLE_PIN:"TOGGLE_PIN",TOGGLE_STAR:"TOGGLE_STAR"},_=(Object.values(E),Object.assign({NEWTABOPEN:"NEWTABOPEN",OPEN_NEW_TAB:"OPEN_NEW_TAB",COPY:"COPY",SHARE:"SHARE",MOVE:"MOVE",DELETE_OR_REMOVE:"DELETE_OR_REMOVE",RESTORE:"RESTORE",DELETE:"DELETE",REMOVE:"REMOVE"},E)),C={CLONE:"CLONE",PRINT:"PRINT",EXPORT:"EXPORT",EXPORT_CSV:"EXPORT_CSV",HISTORY:"HISTORY",COMMENT_HISTORY:"COMMENT_HISTORY",ABOUT_US:"ABOUT_US"},T={RENAME:"RENAME"},O={CREATE:"CREATE",IMPORT:"IMPORT"};Object.assign({},_,{},C,{},T,{},O);(b=y=y||{}).EXPLORER_GLOBAL_CONTEXT="EXPLORER_GLOBAL_CONTEXT",b.EXPLORER_FILE_DROPDOWN="EXPLORER_FILE_DROPDOWN",b.EXPLORER_FILE_CONTEXT="EXPLORER_FILE_CONTEXT",b.EXPLORER_CREATE_DROPDOWN="EXPLORER_CREATE_DROPDOWN",b.NAVIGATION_BAR_DROPDOWN="NAVIGATION_BAR_DROPDOWN",b.MULTI_SELECT_OPERATION_PANEL="MULTI_SELECT_OPERATION_PANEL";var k,S;(S=k=k||{}).FILELIST_ITEM_STAR="FILELIST_ITEM_STAR",S.SUITE_HEADER_TITLE_STAR="SUITE_HEADER_TITLE_STAR",S.SUITE_HEADER_MENU="SUITE_HEADER_MENU"},fXKp:function(e,t,n){"use strict";var r=n("hwdV").Buffer,i=r.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}function a(e){var t=o(e);if("string"!=typeof t&&(r.isEncoding===i||!i(e)))throw new Error("Unknown encoding: "+e);return t||e}function s(e){var t;switch(this.encoding=a(e),this.encoding){case"utf16le":this.text=h,this.end=g,t=4;break;case"utf8":this.fillLast=d,t=4;break;case"base64":this.text=m,this.end=v,t=3;break;default:return this.write=y,void(this.end=b)}this.lastNeed=0,this.lastTotal=0,this.lastChar=r.allocUnsafe(t)}function c(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function u(e,t,n){var r=t.length-1;if(r<n)return 0;var i=c(t[r]);return 0<=i?(0<i&&(e.lastNeed=i-1),i):--r<n||-2===i?0:0<=(i=c(t[r]))?(0<i&&(e.lastNeed=i-2),i):!(--r<n||-2===i)&&0<=(i=c(t[r]))?(0<i&&(2===i?i=0:e.lastNeed=i-3),i):0}function l(e,t,n){return 128!=(192&t[0])?(e.lastNeed=0,""):1<e.lastNeed&&1<t.length?128!=(192&t[1])?(e.lastNeed=1,""):2<e.lastNeed&&2<t.length&&128!=(192&t[2])?(e.lastNeed=2,""):void 0:void 0}function d(e){var t=this.lastTotal-this.lastNeed,n=l(this,e,t);return void 0!==n?n:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function p(e,t){var n=u(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=n;var r=e.length-(n-this.lastNeed);return e.copy(this.lastChar,0,r),e.toString("utf8",t,r)}function f(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"":t}function h(e,t){if((e.length-t)%2!=0)return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1);var n=e.toString("utf16le",t);if(n){var r=n.charCodeAt(n.length-1);if(55296<=r&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],n.slice(0,-1)}return n}function g(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,n)}return t}function m(e,t){var n=(e.length-t)%3;return 0===n?e.toString("base64",t):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-n))}function v(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function y(e){return e.toString(this.encoding)}function b(e){return e&&e.length?this.write(e):""}(t.StringDecoder=s).prototype.write=function(e){if(0===e.length)return"";var t,n;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<e.length?t?t+this.text(e,n):this.text(e,n):t||""},s.prototype.end=f,s.prototype.text=p,s.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},faYQ:function(e,t,n){},fmRc:function(e,t,n){var r=n("Xi7e"),i=n("77Zs"),o=n("L8xA"),a=n("gCq4"),s=n("VaNO"),c=n("0Cz8");function u(e){var t=this.__data__=new r(e);this.size=t.size}u.prototype.clear=i,u.prototype.delete=o,u.prototype.get=a,u.prototype.has=s,u.prototype.set=c,e.exports=u},ftKO:function(e,t){var n="__lodash_hash_undefined__";function r(e){return this.__data__.set(e,n),this}e.exports=r},fvkw:function(e,t,n){var r=n("b42z"),i=n("39uu"),o=n("rSeq");e.exports=function(e,t){if(r(e),i(t)&&t.constructor===e)return t;var n=o.f(e);return(0,n.resolve)(t),n.promise}},fw5c:function(e,t,n){"use strict";n.r(t),n.d(t,"preloadSheetData",function(){return o}),n.d(t,"IOInstance",function(){return C}),n.d(t,"getFetchClientVarsReq",function(){return a});n("m8R6"),n("Bw5p");var r=n("hMnB"),p=n.n(r),f=n("VU2s"),h=n("mNQo"),g=n("kfiP"),m=n("s+vT"),v=n("uzFr"),i=n("5gS9"),y=n("hyzN"),b=(n("VIFs"),n("n9xE"),"SHEET_CLIENT_VARS"),E=50,_=50,o=function(e){};var C=i.b.getInstance({}),a=function(e,t,n,r,i){var o=Object(v.h)(),a=C.getMemberId(),s=Object(h.a)({token:e,memberId:a}),c={row:0,row_count:E,col:0,col_count:_};t=t||Object(m.a)(),n=n||Object(y.kd)("sheet")||location.hash.slice(1);var u,l={};!i||"function"==typeof(u=i.getClientVarsRequestExtraParams)&&(l=u());var d=Object.assign({url:s,method:"POST"},o?{timeout:o}:{},{data:{type:"SPREADSHEET",data:Object.assign({member_id:a,user_ticket:C.getTicket(),base_rev:0,extra_data:Object.assign({},c,{sheet_id:n}),version:y.E.REF,type:"CLIENT_VARS",token:e,open_type:r||parseInt(Object(g.a)(p.a.href).open_type||0,10)},l),version:2,req_id:2},key:b,headers:{"Content-Type":"application/json","Request-Id":t,"x-tt-trace-id":t,"x-command":"api.sheet.rce.message"}});return Object(f.fetchData)(e+"_"+b,d)};t.default=o},gByu:function(e,t,n){n("i3tW");var r=n("dktu");e.exports=r.Object.getOwnPropertySymbols},gCq4:function(e,t){function n(e){return this.__data__.get(e)}e.exports=n},gFfm:function(e,t){function n(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}e.exports=n},gGBd:function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"injectBitableDep",function(){return Ve}),n.d(r,"Toast",function(){return me.a}),n.d(r,"selectQuery",function(){return ye.a}),n.d(r,"collectSuiteEvent",function(){return be.collectSuiteEvent}),n.d(r,"browser",function(){return Ee.a}),n.d(r,"EventEmitter",function(){return pe.a}),n.d(r,"UserPermissionManager",function(){return _e.b}),n.d(r,"getMinaConfigEnable",function(){return Be.K}),n.d(r,"CLOSE_TYPES",function(){return Ae.CLOSE_TYPES}),n.d(r,"MODAL_TYPES",function(){return Ae.MODAL_TYPES}),n.d(r,"fsController",function(){return Ce.a}),n.d(r,"IO",function(){return Te.b}),n.d(r,"store",function(){return H.default}),n.d(r,"prependAPI",function(){return ze}),n.d(r,"getAllUrlParams",function(){return W.a}),n.d(r,"Seclink",function(){return he}),n.d(r,"preloadHttp",function(){return oe}),n.d(r,"getAppStateModule",function(){return Ue.a}),n.d(r,"getEntitiesModule",function(){return He.a});var i=n("JHqw"),o=n("i8i4"),a=n.n(o),s=n("q1tI"),c=n.n(s),u=n("ANjH"),l=n("CnBM"),d=n.n(l),p=n("m/+l"),f=n("eO8H"),h=n("wd/R"),g=n.n(h),m=n("UlbS"),v=n("6SzI"),y=n("H6oK"),b=n("FJEn"),E=n("nPeR"),_=n("cEV7"),C=n("Hj9z"),T=n("J7eW"),O=n("xlrv"),k=n("DtyJ"),S=n("Mpt7"),w=n("ahDk"),I=n("UqNb"),x=n("16wW"),L=n("+RiE"),R=n("7bO/"),N=n("oZtI"),D=n("dtw8"),M=n("EVdn"),P=n.n(M),j=n("o0o1"),F=n.n(j),B=n("yXPU"),U=n.n(B),H=n("D7h9"),z=n("fQzm"),V=n("VIFs"),K=n("kUgE"),W=n("kfiP"),Y=n("skFV"),q=n("KiYW"),Z=n("oqjh"),X=n("lQZd"),Q=n("AYG9"),J=n("toa8"),$=n("GD9D"),ee=n("mpaB"),te=n("FnDM"),ne=n("fJND"),re=n("Kwn9"),ie=n("uGsk"),oe=n("VU2s"),ae=n("b+Vi"),se=n("77Gt"),ce=n("s+vT"),ue=n("/fVd"),le=n("xetH"),de=n("jtRX"),pe=n("OX8E"),fe=n("jJw9"),he=n("L9Vw"),ge=n("lQSh"),me=n("n/R6"),ve=n("+Xq6"),ye=n("H8M6"),be=n("2ACu"),Ee=n("iP/4"),_e=n("0X7r"),Ae=n("jryj"),Ce=n("m3gH"),Te=n("5gS9"),Oe=n("zhgJ"),ke=n("kEHx"),Se=n("hNoK"),we=n("Sjdk"),Ie=n("x/Yo"),xe=n("c/bE"),Le=n("Vr4U"),Re=n("5Ucn"),Ne=n("OIAp"),De=n("chgP"),Me=n("nMtL"),Pe=n("XUVG"),je=n("uwOl"),Fe=n("ulyP"),Be=n("rLED"),Ue=n("cPIY"),He=n("Xngv"),ze=V.prependAPI;function Ve(t){t.injectBitableDepAsync=U()(F.a.mark(function e(){return F.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([n.e("doc_index_css"),n.e(5),n.e("commons--bitable_utils_async--box_index--file-card--layout_delay--ui-control_modules"),n.e("bitable_utils_async")]).then(n.bind(null,"KcoU"));case 2:e.sent.injectBitableDep(t);case 4:case"end":return e.stop()}},e)})),t.Toast=me.a,t.ListContainer=ke.default,t.CommentPanel=Se.default,t.LoadableCommentTextarea=we.a,t.LoadableMentionPopOverUser=d()({loader:function(){return Promise.resolve().then(n.bind(null,"D0c4"))},loading:function(){return null}}),t.store=H.default,t.ImageHelper={decodeInfo:ve.d,encodeInfo:ve.e,copyDriveImages:ve.c,CopyDriveImagesCode:ve.a,replaceImageDataSrc:fe.replaceImageDataSrc},t.config={ui:{useToolBarPanelHelpIcon:!0},maxRevGap:Object(Be.M)("bitable_max_rev_gap",200)},t.ExternalFn={getLanguage:K.getLanguage,initAtFirstPageVisible:Q.d,request:J.d,permissionAJAXCompensate:$.a,fetchDocsMetaInfo:ee.c,getSuiteTypeNum:ee.d,batchFetchMetaInfo:ee.a,getMentionIconUrl:q.e,getAppVersion:te.b,getPlatForm:te.p,getToken:X.g,generateRequestId:ce.a,clickFeedBack:de.b,getABParameters:Oe.c,suiteType:X.k,generateCommentId:Ie.generateCommentId,generateReplyId:Ie.generateReplyId,getFileToken:ne.a,getFromParam:Fe.c,addUrlParam:Fe.a,getUploadSDKEnvConfig:ae.b},t.i18nHelper=K,t.domainHelper=Object.assign({},V,{isLark:Y.y}),t.MemberHelper={handleSetUser:se.h,handleUserNewInfo:se.j,handleUserLeave:se.i,handleResetMembers:se.g,handleMembersMessage:se.f,getSuiteMembers:se.d},t.MinaConfig={getMinaBooleanConfig:Be.I,getMinaStringConfig:Be.N,getMinaNumberConfig:Be.M,getMinaConfig:Be.J,getBooleanConfigAlwaysTrueInDev:Be.d},t.transformPerformanceData=Z.c,t.moirae=z.b,t.SuiteEmbedObjManager=ue.a,t.SuiteUserManager=le.a,t.eventEmitter=pe.a,t.importPinyinUtil=function(){return n.e("pinyinUtil").then(n.bind(null,"NBhf"))},t.ExternalConst={CreatedSource:ge.b},t.BlockExternalServices=Object.assign({},re.a,{setupBlockServices:ie.a}),t.AditPlugins={Mention:Le.default,HyperLinks:Re.HyperLinks,Undo:Ne.default,Redo:De.default,Indent:Me.default,EditorCopy:Pe.a},t.ResourceReleaseHandler=xe.a,t.FollowFlowListener=je.a}i.a.setExternal("react",c.a),i.a.setExternal("react-dom",a.a),i.a.setExternal("react-redux",p),i.a.setExternal("jquery",P.a),i.a.setExternal("redux",u),i.a.setExternal("react-router-dom",f),i.a.setExternal("react-loadable",d.a),i.a.setExternal("moment",g.a),i.a.setExternal("@byted/byted-spark",m),i.a.setExternal("redux-actions",v),i.a.setExternal("@adit/block",y),i.a.setExternal("@adit/editor",b),i.a.setExternal("@adit/react",E),i.a.setExternal("@adit/plugins",_),i.a.setExternal("@bdeefe/byted-block-instance",C),i.a.setExternal("@bdeefe/suite-design",T),i.a.setExternal("@bdeefe/byted-x-io",O),i.a.setExternal("rxjs",k),i.a.setExternal("immutable",S),i.a.setExternal("rxjs/operators",w),i.a.setExternal("protobufjs",I),i.a.setExternal("@byted/byted-box-preview-sdk",L),i.a.setExternal("pako",x),i.a.setExternal("redux-saga",R),i.a.setExternal("redux-saga/effects",N),i.a.setExternal("react-router",D),i.a.setExternal("bear-bitable-utils",r),console.log("Bitable Garr External Loaded!")},gNEk:function(e,t,n){"use strict";n.d(t,"b",function(){return N}),n.d(t,"d",function(){return D}),n.d(t,"c",function(){return j}),n.d(t,"g",function(){return U}),n.d(t,"f",function(){return H}),n.d(t,"e",function(){return z}),n.d(t,"a",function(){return V});var r=n("lSNA"),b=n.n(r),i=n("J4zp"),E=n.n(i),o=n("RIqP"),_=n.n(o),C=(n("RKCD"),n("FJEn")),a=n("hMnB"),u=n.n(a),T=n("QM+C"),s=n("OX8E"),c=n("jJw9"),l=n("hjac"),d=n("sLU5"),O=n("U5G9"),g=n("HmyT"),m=n("iP/4"),v=n("kmoK"),y=n("ucr6"),k=n("VIFs"),S=n("EzSe"),p=n("U6jp"),f=n("lQZd"),h=n("yGdm"),w=n("M8cP"),I=n("D7h9"),x=n("vc5i"),L=C.utils.getAllAttribKeysFromAline;function R(e,t){var n=e.metaKey,r=e.ctrlKey,i=Object(c.parseAnchorUrl)(t),o=i.isCurDocAnchor,a=i.guid;return o&&(n||r?window.open(t):(e.preventDefault(),v.a.isWiki()&&e.originalEvent&&e.originalEvent.stopImmediatePropagation(),Object(l.a)(a),s.a.emit(d.a.PC.DOCS.EDITOR_JUMP_TO_GUID_POSITION,a))),o}function N(e){var t,n,r,i,o,a,s,c,u,l,d,p,f=1<arguments.length&&void 0!==arguments[1]&&arguments[1],h="A"===e.target.tagName?Object(g.$)(e.target):Object(g.$)(e.currentTarget);"A"===h.prop("tagName")&&(R(e,t=P(h))||(e.preventDefault(),v.a.isWiki()?(i=void 0===(r=(n=new URL(t)).search)?"":r,a=void 0===(o=n.hash)?"":o,e.originalEvent&&e.originalEvent.stopImmediatePropagation(),s=h.data("href")||h.attr("href"),c=v.a.getToken(s).token,u=1===e.button,l=e.ctrlKey&&m.a.isWindows,!v.a.isDocInCurrentSpace(c)||e.metaKey||u||l?(f?Object(S.c):Object(S.b))(t):(d=v.a.getToken(t).token,p=Object(k.prependSpace)("/".concat(T.FILE_TYPE_URL_MAP[T.NUM_SUITE_TYPE.WIKI],"/").concat(d).concat(i).concat(a)),y.a.push(p))):(f?Object(S.c):Object(S.b))(t)))}function D(e){var t,n="A"===e.target.tagName?Object(g.$)(e.target):Object(g.$)(e.currentTarget);"A"===n.prop("tagName")&&(e.preventDefault(),t=P(n),Object(S.b)(t))}function M(t,e,n){try{var r=new URL(t);return r.searchParams.set(e,n),r.href}catch(e){return t}}function P(e){var t=e.data("href")||e.attr("href"),n=v.a.isWiki()?v.a.getWikiUrl(t):t;return Object(k.isSuiteUrl)(n)&&(n=M(n,"from",Object(f.d)()&&Object(p.o)()?T.FROM_SOURCE_TYPE.LARK_ANNOUNTCEMENT:T.FROM_SOURCE_TYPE.PARENT_DOC)),n}function j(e){var t,n;1===e.button&&v.a.isWiki()&&(e.preventDefault(),"A"===(t="A"===e.target.tagName?Object(g.$)(e.target):Object(g.$)(e.currentTarget)).prop("tagName")&&(n=P(t),Object(S.b)(n)))}function F(a,s){var c=0,u=0;if(s)for(;c<s.length&&0===s[c];)c++;function l(e,t){var n,r,i,o;!s||c>=s.length?(a(e,t),u+=e.length):(n=s[c]-u,(r=e.length)<=n?(a(e,t),u+=e.length,n===r&&c++):(i=e,0<n&&(o=i.substring(0,n),a(o,t),u+=n),c++,l(i.substring(n),t)))}return l}var B=function(u,c){T.LINK_REG.lastIndex=0;for(var i,s=null,o=null,l=!1,a=new Map([["(",")"],["[","]"],["{","}"],["<",">"]]),d=null,p=function(){var e=0,t=[],n=!0,r=!1,i=void 0;try{for(var o,a=u[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s,c=o.value;c.insert&&"\n"!==c.insert?(e+=s=c.insert.length,u.getAttributes(e-s,e).find(function(e){var t=E()(e,2),n=t[0];t[1];return n.includes("mention-token")})?t.push([e-s,e]):t.push(null)):t.push(null)}}catch(e){r=!0,i=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}return t.filter(Boolean)},f=u.hasLineMarker()?1:0,e=u.getModelText().slice(f,-1),t=function(){s||(s=[],o=[]);var t=i.index+f,n=i[0];g(n,a)&&(n=m(i[0],a));var e,r=(d=d||p()).filter(function(e){return t<e[0]&&t+n.length>=e[0]});if(r.length&&(e=r[0][0],n=n.slice(0,e-t)),d.some(function(e){return t>=e[0]&&t+n.length<=e[1]}))return"continue";s.push([t,n]),o.push(t,t+n.length)};i=T.LINK_REG.exec(e);)t();if(!s)return null;function h(e){return e.map(function(e){return"\\"+e}).join("")}function g(e,t){var n,r=h((n=_()(t.keys())).concat.apply(n,_()(t.values())));return new RegExp("[".concat(r,"]")).test(e)}function m(e,t){for(var n=[],r=e.length,i=e,o=0;o<r;o++){var a=e[o],s=new RegExp("[".concat(h(_()(t.values())),"]")).test(a);if(t.has(a))n.push([t.get(a),o]);else if(s){var c=n.pop();if(!c)return i=e.slice(0,o);if(a!==c[0])return i=n[0]?i=e.slice(0,n[0][1]):e.slice(0,c[1])}}return n.length&&(i=e.slice(0,n[0][1])),i}function v(e,t,n,r){for(var i=0;i<s.length;i++){var o=s[i];if(e>=o[0]&&e<o[0]+o[1].length){if(!n){if(r){T.LINK_REG.lastIndex=0;var a=T.LINK_REG.exec(o[1].substring(t.length));return a?s.splice(i,1,[o[0]+t.length,a[0]]):s.splice(i,1),o[1]}return o[1]}s.splice(i,1),i--}}return!1}var y,n,r=F((y=0,n=function(e,t){t.list&&/code/.test(t.list)&&(l=!0);var n,r=e.length,i=Object.keys(t),o=i.find(function(e){return e.includes("url-")||e.includes("manual")}),a=i.find(function(e){return"removeLink"===e}),s=v(y,e,o,t.removeLink);!s||l||a?c.retain(r):(n="url:",c.retain(r,b()({},n,encodeURIComponent(s)))),y+=r},Object(O.c)(n,O.a.HYPERLINK)),o);u._getOps().forEach(function(e){return r(e.insert,e.attributes||{})})},U=function(b,E){var e=function(e,u,t,i){b.lastIndex=0;for(var o,s=null,a=null,l=!1,c=new Map([["(",")"],["[","]"],["{","}"],["<",">"]]),d=null,p=function(){var e=t.split(/([^+]*\+\w+)/).filter(Boolean),r=0;return e.map(function(e){var t=e.split("+");if(!t)return null;var n=parseInt(t[1],36);return r+=n,L(e,i).join("").includes("mention-token")?[r-n,r]:null}).filter(Boolean)},n=function(){s||(s=[],a=[]);var t=o.index,n=o[0];h(n,c)&&(n=g(o[0],c));var e,r=(d=d||p()).filter(function(e){return t<e[0]&&t+n.length>=e[0]});if(r.length&&(e=r[0][0],n=n.slice(0,e-t)),d.some(function(e){return t>=e[0]&&t+n.length<=e[1]}))return"continue";s.push([t,n]),a.push(t,t+n.length)};o=b.exec(e);)n();if(!s)return u;function f(e){return e.map(function(e){return"\\"+e}).join("")}function h(e,t){var n,r=f((n=_()(t.keys())).concat.apply(n,_()(t.values())));return new RegExp("[".concat(r,"]")).test(e)}function g(e,t){for(var n=[],r=e.length,i=e,o=0;o<r;o++){var a=e[o],s=new RegExp("[".concat(f(_()(t.values())),"]")).test(a);if(t.has(a))n.push([t.get(a),o]);else if(s){var c=n.pop();if(!c)return i=e.slice(0,o);if(a!==c[0])return i=n[0]?i=e.slice(0,n[0][1]):e.slice(0,c[1])}}return n.length&&(i=e.slice(0,n[0][1])),i}function m(e,t,n,r){for(var i=0;i<s.length;i++){var o=s[i];if(e>=o[0]&&e<o[0]+o[1].length){if(!n){if(r){b.lastIndex=0;var a=b.exec(o[1].substring(t.length));return a?s.splice(i,1,[o[0]+t.length,a[0]]):s.splice(i,1),o[1]}return o[1]}s.splice(i,1),i--}}return!1}var v,r,y=(v=0,r=function(e,t,n,r,i){-1!==t.indexOf("list:code")&&(l=!0);var o=e.length,a=t,s=-1<t.indexOf("url-")&&-1===t.indexOf("manual"),c=m(v,e,s,n.removeLink);c&&!l&&(a+=" "+E+":"+c),u(e,a,n,r,i),v+=o},Object(O.c)(r,O.a.HYPERLINK));return C.LineStyleFilter.textAndClassFuncSplitter(y,a)};return Object(O.c)(e,{module:O.a.HYPERLINK})}(T.LINK_REG,"url"),H=B;function z(e){var t=!0,n=!1,r=void 0;try{for(var i,o=h.m[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var a=i.value;if(e.includes(a))return!0}}catch(e){n=!0,r=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw r}}var s=Object(w.a)(e);if(-1!==h.k.indexOf(s))return!1;var c=/^https:\/\/[\S]+/;return"http:"===u.a.protocol||c.test(e)}function V(){var e=I.default.getState();return Object(x.k)(e)?Object.assign({},h.b,{tiktok:h.g.tiktok,youtube:h.g.youtube,gmaps:h.g.gmaps}):Object(x.A)(e)?h.g:h.b}},gQL9:function(e,t){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iNDBweCIgaGVpZ2h0PSI0MHB4IiB2aWV3Qm94PSIwIDAgNDAgNDAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDU0LjEgKDc2NDkwKSAtIGh0dHBzOi8vc2tldGNoYXBwLmNvbSAtLT4KICAgIDx0aXRsZT5UcmlhbmdsZTwvdGl0bGU+CiAgICA8ZGVzYz5DcmVhdGVkIHdpdGggU2tldGNoLjwvZGVzYz4KICAgIDxnIGlkPSJQYWdlLTEiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnIGlkPSIyLjRfSU3ogYrlpKnpobVf5YWt57G76K+t6Z+z5raI5oGvX+aLluWKqOeKtuaAgSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTEzNi4wMDAwMDAsIC02OTUuMDAwMDAwKSIgZmlsbD0iIzE0MUYzMyI+CiAgICAgICAgICAgIDxnIGlkPSJHcm91cC00LUNvcHkiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDMyLjAwMDAwMCwgMzIwLjAwMDAwMCkiPgogICAgICAgICAgICAgICAgPGcgaWQ9IkJ1YmJsZS0xLUNvcHkiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDgwLjAwMDAwMCwgMC4wMDAwMDApIj4KICAgICAgICAgICAgICAgICAgICA8ZyBpZD0iR3JvdXAiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAuMDAwMDAwLCAxNDMuMDAwMDAwKSI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxnIGlkPSJHcm91cC0yIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwLjAwMDAwMCwgMjA4LjAwMDAwMCkiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGcgaWQ9Ikdyb3VwLTYiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDI0LjAwMDAwMCwgMjQuMDAwMDAwKSI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTEyLDggTDE0LDggQzE0LjU1MjI4NDcsOCAxNSw4LjQ0NzcxNTI1IDE1LDkgTDE1LDMxIEMxNSwzMS41NTIyODQ3IDE0LjU1MjI4NDcsMzIgMTQsMzIgTDEyLDMyIEMxMS40NDc3MTUzLDMyIDExLDMxLjU1MjI4NDcgMTEsMzEgTDExLDkgQzExLDguNDQ3NzE1MjUgMTEuNDQ3NzE1Myw4IDEyLDggWiBNMjYsOCBMMjgsOCBDMjguNTUyMjg0Nyw4IDI5LDguNDQ3NzE1MjUgMjksOSBMMjksMzEgQzI5LDMxLjU1MjI4NDcgMjguNTUyMjg0NywzMiAyOCwzMiBMMjYsMzIgQzI1LjQ0NzcxNTMsMzIgMjUsMzEuNTUyMjg0NyAyNSwzMSBMMjUsOSBDMjUsOC40NDc3MTUyNSAyNS40NDc3MTUzLDggMjYsOCBaIiBpZD0iU2hhcGUiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZz4KICAgICAgICAgICAgICAgICAgICAgICAgPC9nPgogICAgICAgICAgICAgICAgICAgIDwvZz4KICAgICAgICAgICAgICAgIDwvZz4KICAgICAgICAgICAgPC9nPgogICAgICAgIDwvZz4KICAgIDwvZz4KPC9zdmc+"},gWdA:function(e,t,n){"use strict";var i=n("+EKe"),r=n("kt0j"),o=n("4/q3"),a=Object(r.a)(function(e,t,n,r){Object(i.a)(t,Object(o.a)(t),e,r)});t.a=a},gXaK:function(e,t,n){n("KHTo")(Math,"Math",!0)},gpFw:function(e,u,l){"use strict";(function(n){l.d(u,"a",function(){return s});var e=l("hMnB"),t=l.n(e),r=l("q1tI"),i=l.n(r),o=l("q4SO"),a=l("Ngi8");function s(e){var t=e.loginText;return i.a.createElement("a",{onClick:c,style:{color:a.B500}},t||n("anonymous.login"))}function c(){Object(o.c)(t.a.href)}}).call(this,l("2vAP"))},gt4j:function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTkuNDM1MDQgOC4yOTYxM0w1LjY0NTY1IDEyLjQyOTlMOS4yMjQ5MiAxNi41NjQ1QzkuMzUyMTIgMTYuNzExNSA5LjM0NTk4IDE2LjkzMTIgOS4yMTA3OCAxNy4wNzA5TDguNzE5OTcgMTcuNTc3NkM4LjU3NTg5IDE3LjcyNjQgOC4zMzg0OCAxNy43MzAyIDguMTg5NzEgMTcuNTg2MUM4LjE4MjMyIDE3LjU3OSA4LjE3NTIyIDE3LjU3MTUgOC4xNjg0NCAxNy41NjM4TDMuODk1MSAxMi42ODI3QzMuNzY5MTQgMTIuNTM4OCAzLjc3MTYxIDEyLjMyMzIgMy45MDA4MiAxMi4xODIzTDguMzkxODcgNy4yODMwNUM4LjUzMTgyIDcuMTMwMzggOC43NjkwMyA3LjEyMDA3IDguOTIxNyA3LjI2MDAxQzguOTI3MTggNy4yNjUwNCA4LjkzMjUxIDcuMjcwMjIgOC45Mzc2OCA3LjI3NTU2TDkuNDI3OTkgNy43ODE4NEM5LjU2NjA1IDcuOTI0NCA5LjU2OTE0IDguMTQ5ODQgOS40MzUwNCA4LjI5NjEzWk0xOC40NjI4IDEyLjQyOTlMMTQuODM5NCA4LjI5NTUxQzE0LjcxMDcgOC4xNDg2OSAxNC43MTYyIDcuOTI3NyAxNC44NTIgNy43ODc0NkwxNS4zNDI3IDcuMjgwNzZDMTUuNDg2OCA3LjEzMTk4IDE1LjcyNDIgNy4xMjgxOCAxNS44NzMgNy4yNzIyNkMxNS44Nzk5IDcuMjc4OTkgMTUuODg2NiA3LjI4NiAxNS44OTMgNy4yOTMyNUwyMC4yMTEgMTIuMTc3QzIwLjMzODIgMTIuMzIwOCAyMC4zMzYyIDEyLjUzNzMgMjAuMjA2NSAxMi42Nzg4TDE1LjcxNjYgMTcuNTc2OEMxNS41NzY3IDE3LjcyOTUgMTUuMzM5NCAxNy43Mzk4IDE1LjE4NjggMTcuNTk5OEMxNS4xODEzIDE3LjU5NDggMTUuMTc2IDE3LjU4OTYgMTUuMTcwOCAxNy41ODQzTDE0LjY4MDUgMTcuMDc4QzE0LjU0MjQgMTYuOTM1NCAxNC41MzkzIDE2LjcxIDE0LjY3MzQgMTYuNTYzN0wxOC40NjI4IDEyLjQyOTlaTTEyLjc1MjMgNC4wODE2OEwxMy40OTczIDQuMTY4M0MxMy43MDMgNC4xOTIyMiAxMy44NTA0IDQuMzc4MzkgMTMuODI2NSA0LjU4NDExTDEyLjAzODEgMTkuOTY0MUMxMi4wMTQyIDIwLjE2OTggMTEuODI4IDIwLjMxNzIgMTEuNjIyMyAyMC4yOTMzTDEwLjg3NzMgMjAuMjA2N0MxMC42NzE2IDIwLjE4MjggMTAuNTI0MiAxOS45OTY2IDEwLjU0ODEgMTkuNzkwOUwxMi4zMzY1IDQuNDEwODVDMTIuMzYwNCA0LjIwNTEzIDEyLjU0NjYgNC4wNTc3NiAxMi43NTIzIDQuMDgxNjhaIiBmaWxsPSIjMkIyRjM2Ii8+Cjwvc3ZnPgo="},h2lD:function(e,t,n){e.exports=s;var i=n("WASD"),o=n(4).Writable,a=n("fXKp").StringDecoder,r=n("HDXh").Buffer;function s(e,t){var n=this._parser=new i(e,t),r=this._decoder=new a;o.call(this,{decodeStrings:!1}),this.once("finish",function(){n.end(r.end())})}n("P7XM")(s,o),o.prototype._write=function(e,t,n){e instanceof r&&(e=this._decoder.write(e)),this._parser.write(e),n()}},h6PB:function(e,t,n){"use strict";var r=n("pVnL"),i=n.n(r),o=n("QILm"),a=n.n(o),s=n("q1tI"),c=n.n(s);t.a=function(e){e.styles;var t=a()(e,["styles"]);return c.a.createElement("svg",i()({width:"136",height:"74",viewBox:"0 0 136 74",fill:"none"},t),c.a.createElement("g",{clipPath:"url(#b6d0b96388d2ebe11ab0a05481d84ef7-clip0)"},c.a.createElement("path",{fill:"#F8F9FA",fillOpacity:".5",d:"M0 0h136v74H0z"}),c.a.createElement("path",{d:"M59 11c0-1.1.9-2 2-2h61a2 2 0 012 2v10a2 2 0 01-2 2H61a2 2 0 01-2-2V11z",fill:"url(#b6d0b96388d2ebe11ab0a05481d84ef7-paint0_linear)"}),c.a.createElement("rect",{x:"59",y:"29",width:"44",height:"14",rx:"2",fill:"url(#b6d0b96388d2ebe11ab0a05481d84ef7-paint1_linear)"}),c.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M28 42a16 16 0 100-32 16 16 0 000 32z",fill:"url(#b6d0b96388d2ebe11ab0a05481d84ef7-paint2_linear)"}),c.a.createElement("rect",{x:"12",y:"51",width:"112",height:"14",rx:"2",fill:"url(#b6d0b96388d2ebe11ab0a05481d84ef7-paint3_linear)"})),c.a.createElement("defs",null,c.a.createElement("linearGradient",{id:"b6d0b96388d2ebe11ab0a05481d84ef7-paint0_linear",x1:"59",y1:"23",x2:"125.16",y2:"23",gradientUnits:"userSpaceOnUse"},c.a.createElement("stop",{stopColor:"#EFF0F1",stopOpacity:".6"}),c.a.createElement("stop",{offset:"1",stopColor:"#EFF0F1"})),c.a.createElement("linearGradient",{id:"b6d0b96388d2ebe11ab0a05481d84ef7-paint1_linear",x1:"59",y1:"43",x2:"103",y2:"43",gradientUnits:"userSpaceOnUse"},c.a.createElement("stop",{stopColor:"#EFF0F1",stopOpacity:".6"}),c.a.createElement("stop",{offset:"1",stopColor:"#EFF0F1"})),c.a.createElement("linearGradient",{id:"b6d0b96388d2ebe11ab0a05481d84ef7-paint2_linear",x1:"12",y1:"42",x2:"44",y2:"42",gradientUnits:"userSpaceOnUse"},c.a.createElement("stop",{stopColor:"#EFF0F1",stopOpacity:".6"}),c.a.createElement("stop",{offset:"1",stopColor:"#EFF0F1"})),c.a.createElement("linearGradient",{id:"b6d0b96388d2ebe11ab0a05481d84ef7-paint3_linear",x1:"12",y1:"65",x2:"124",y2:"65",gradientUnits:"userSpaceOnUse"},c.a.createElement("stop",{stopColor:"#EFF0F1",stopOpacity:".6"}),c.a.createElement("stop",{offset:"1",stopColor:"#EFF0F1"})),c.a.createElement("clipPath",{id:"b6d0b96388d2ebe11ab0a05481d84ef7-clip0"},c.a.createElement("path",{fill:"#fff",d:"M0 0h136v74H0z"}))))}},h6S9:function(e,t,n){"use strict";var r,i;n.d(t,"a",function(){return r}),(i=r=r||{}).EQUAL="equal",i.NEAR="near"},hJmJ:function(e,t,n){"use strict";n.d(t,"b",function(){return ee}),n.d(t,"c",function(){return te}),n.d(t,"a",function(){return re});var r,i,o=n("lSNA"),d=n.n(o),a=n("lwsE"),s=n.n(a),c=n("W8MJ"),u=n.n(c),l=n("U+yc"),p=n.n(l),f=n("RIqP"),h=n.n(f),g=n("ukIz"),m=n("hbEN"),v=n("XhtD"),y=(n("lTlB"),n("YWBl")),b=n("7Kxq"),E=n("F9bh"),_=n("LFUy"),C=n("q1tI"),T=n.n(C),O=n("i8i4"),k=n.n(O),S=n("PCTH"),w=n("HmyT"),I=n("OX8E"),x=n("elsr"),L=n("puQj"),R=n.n(L),N=n("SGN9"),D=n("G8Hj"),M=n("UeI0"),P=n("+0ye"),j=n("SyrE"),F=n("Trbk"),B=n("2ACu"),U=n("y2sV"),H=n("Poi8"),z=n("PcuH"),V=n("182n"),K=n("YNKm"),W="DocHeading",Y=x.b.PREFIX_LOCAL,q="0",Z=[].concat(h()(V.a),["code"]),X={24:"h1",20:"h2",18:"h3"},Q="heading",J="collapse",$="heading",ee="IGNORE_HEADING",te="MAX_HEADING_LEVEL_CHANGE";function ne(e,t){return-1<e.indexOf(t)}var re=(r=Object(E.a)({ignoreAttrs:[["aceTable"]]}),i=function(){function n(e,t){var p=this;s()(this,n),this.className="Heading",this.needUpdateCollapse=!1,this.headingCount={},this.headingMaxLevel=1,this.lineNumberForPaste=-1,this.lineForPasteIsCollapse=null,this.bindEvent=function(){p.removeEvent(),Object(w.$)(p.editor.getInnerContainer()).on("mouseenter",'[class*="collapsable-section-handle"]',p.onBoarding),j.g.on("".concat(F.g,":").concat(W),p.onVCFollowHandler),p.editor&&p.editor.eventEmitter.on("lineTrackerUpdate",p.lineTrackerUpdateHandler),Object(B.default)("bind_vc_event",{module:W,operation:"on"})},this.lineTrackerUpdateHandler=function(e){var t,n;e.dirtyLines.length&&(t=e.dirtyLines[0].lineNum,n=e.dirtyLines[0].output.startOfCollapseSection,I.a.emit(F.a,{module:W,actionType:"DocHeadingToggle",data:{lineNum:t,isCollapse:n}}))},this.onBoarding=function(e){var t=Object(w.$)(e.target),n=t.hasClass("collapsable-section-handle")?t:t.closest(".collapsable-section-handle"),r="toggle-heading-btn"===n.attr("data-selector");n.length&&0===p.guideCount&&!r&&(n.attr("data-selector","toggle-heading-btn"),Object(N.b)(D.STEP_TYPES.toggle_heading_intro),p.guideCount++)},this.removeEvent=function(){Object(w.$)(p.editor.getInnerContainer()).off("mouseenter",'[class*="collapsable-section-handle"]',p.onBoarding),j.g.off("".concat(F.g,":").concat(W),p.onVCFollowHandler),p.editor&&p.editor.eventEmitter.off("lineTrackerUpdate",p.lineTrackerUpdateHandler),Object(B.default)("bind_vc_event",{module:W,operation:"off"})},this.onHeadingMaxLevel=function(e){p.headingMaxLevel=e},this.getHeadingMaxLevel=function(){return p.headingMaxLevel},this.checkCollapse=function(e){var t,n,r=e.dom,i=e.multiRange,o=e.range,a=e.zoneId,s=e.source;p.editor&&(t=o,n=a||"",r&&(t=p.editor.domToRep(r),n=t.selStart[2]),n&&t&&p.notifyCollapse({sel:[t.selStart,t.selEnd],selZone:n,source:s}),n&&i&&i.forEach(function(e){p.notifyCollapse({sel:[e.start,e.end],selZone:n,source:s})}))},this.getTargetLineHTML=function(e,t,n,r){var i=p.editor.getRep(e).lines.atIndex(t);if(!i||!i.lineNode)return"";var o=document.createRange(),a=p.editor.selection.getPointForChatAtLeafNode(i,n,!0);return r&&i.lineNode.previousSibling?(o.setStart(i.lineNode.previousSibling,0),o.setEnd(a.node,a.index),o.cloneContents().lastChild.outerHTML):!r&&i.lineNode.nextSibling?(o.setStart(a.node,a.index),o.setEnd(i.lineNode.nextSibling,0),o.cloneContents().firstChild.outerHTML):""},this.isSelectionContainsCollapsedLine=function(t,e,n){return t===x.a&&(p.editor.lineTracker.collapseLines&&Object(v.a)(e[0],n[0]+1).some(function(e){return p.checkIsLineCollapsed(t,e)}))},this.aceCutRangeReplaceSeletion=function(e,t){var n=t.range,r=t.rep;r.attributeManager.getAttributeOnLine(r.selEnd[0],"heading")&&2===n.length&&p.cutCollapseRange(n)},this.cutCollapseRange=function(e){var t=p.editor.performDocumentReplaceRangeWithAttributes,n=[e[0],0],r=e[1],i=p.editor.getRep(),o=[r,i.lines.atIndex(r).text.length];t(i.zoneId,n,o,"",[])},this.notifyCollapse=function(e){var t,n,r,i,o,a=e.sel,s=e.selZone,c=e.source,u=p.editor;u&&(t=a[0],n=a[1],r=[],o=t[0],i=n[0],s!==q&&(o=i=u.getLineNumInRootZone(s,t)),r.push(o,i),r=h()(new Set(r)),Object(M.a)(u,q,r,c))},this.aceDoDeleteKey=function(e,t){var n,r,i=t.editor,o=t.rep,a=t.caretLine;i.isCaret()&&(n=a(),r=o.lines.atIndex(n),o.selStart[1]===r.lineMarker||p.handleDeleteCollapse(i,o,n))},this.editorAfterDoDeleteKey=function(e,t){var n=t.editor,r=n.getRep(),i=r.selStart[0];p.handleDeleteCollapse(n,r,i)},this.handleDeleteCollapse=function(e,t,n){var r,i,o,a=e.getContentState().getActiveZone().getLine(n),s=a.getLineAttributes().toMap();s.list&&s.list.includes("code")||(r=Boolean(s.heading),a.isEmpty()||(i=Object(M.b)(s),(r||i)&&(o=Object(S.e)(n,t),p.editor.getAttributeOnLine(x.a,n,J)&&Object(S.d)(e,o,!0,e.isEditable(),!1))))},this.aceRegisterBlockElements=function(){return Z},this.init=function(t){[K.r].concat(V.a).forEach(function(e,a){t.registerAceCommand(e,function(e,t,n,r){var i=r.source,o=p.doInsertHeading({attribKey:Q,attribValue:"h".concat(a)});Object(y.a)({action:"heading-h".concat(a),op:o?b.g:b.f,source:i})},{statusKey:"heading-h".concat(a)})})},this.onVCFollowHandler=function(e){var t,n,r,i=e.actionType,o=e.data;"DocHeadingToggle"===i&&p.editor&&(t=o.lineNum,n=o.isCollapse,(r=p.editor.getRep().lines.atIndex(t))&&r.domInfo.isCollapsedHeading()!==n&&r.lineNode.querySelector(".collapsable-section-handle").click())},this.handleClick=function(t){t.data.context.ace.callWithAce(function(e){p.doInsertHeading({attribKey:Q,attribValue:"h".concat(t.data.headingType+1)})},"insertheading",!0)},this.aceAttribsToClasses=function(e,t){return t.key===Q?["heading:".concat(t.value)]:t.key===J&&"true"===t.value?["".concat(J,"-all:true")]:t.key==="".concat(Y).concat(J)&&"false"===t.value?["collapse-onlymenot:true"]:t.key==="".concat(Y).concat(J)&&"true"===t.value?["collapse-onlyme:true"]:void 0},this.willChangesetApply=function(e,t){var n=t.editor,r=t.changeset,i=[],o=n.getApool();n.changesetHelper.eachAttribNumber(r,function(e){i.push(o.getAttribKey(e))}),p.needUpdateCollapse=i.find(function(e){return e===$})},this.editorAlinesDidSplice=function(e,t){var n,r,i=t.start,o=t.deleteCount,a=t.prevState,s=t.currentState,c=t.editor,u=t.zoneId;p.needUpdateCollapse||(r=(n=c.callStack.getCurrentCallStack())&&n.type===S.a,p.needUpdateCollapse=r||p.hasKey(a.numToAttrib,J)||p.hasKey(s.numToAttrib,J)||p.hasKey(a.numToAttrib,$)&&!p.hasKey(s.numToAttrib,$)),c.lineTracker.splice(u,i,o,s.alinesSplice);var l,d=p.getHeadingCountChange(a,s);for(l in d)p.headingCount[l]=(p.headingCount[l]||0)+d[l];p.notifyHeadingCountChange()},this.notifyHeadingCountChange=Object(m.default)(function(){for(var e=1,t=9;1<=t;t--){var n="h".concat(t);if(p.headingCount[n]){e=t;break}}p.headingMaxLevel!==e&&p.editor&&p.editor.call(te,e),p.headingMaxLevel=e},200),this.hasKey=function(e,t){if(e)for(var n in e)if(e[n][0]===t)return!0;return!1},this.aceCreateDomLine=function(e,t){var n=t.lineClass,r=t.text,i=t.index,o=t.zoneId;p.checkIsLineCollapsed(o,i)&&!n.includes("ace-line-collapsed")&&(t.lineClass+=" ace-line-collapsed");var a=Object(P.a)(n),s=p.editor.getRep().zoneId!==q,c=ne(n,"list-code");if(a&&!s&&p.hasCollapse&&!c){var u=t.spanClass,l=[];if(ne(n,b.b)&&(t.lineClass=t.lineClass.replace(/heading-h\d/,"")),u.replace(/(^| )collapse((-)*[a-z]{0,9}):true/g,function(e,t,n){l.push("collapse".concat(n)),u=u.replace(e,"")}),l.length)return t.spanClass="".concat(u),void(t.lineClass="".concat(t.lineClass," ").concat(l.join(" ")));u||l.length||""!==r||!1===t.collapseStatus.collapseOnlyMe&&(t.lineClass="".concat(t.lineClass," collapse-onlymenot"))}},this.acePreWriteDomLineHTML=function(e,t){var n,r,i,o,a,s,c;t.info&&(r=(n=t.info).lineClass,i=n.lineMarker,a=(o=n.zone)&&o!==q,s=r&&Object(P.a)(r)&&!ne(r,"list-code"),c=r&&ne(r,"single-line"),!s||!(i&&1===i)||p.disCollapse||a||c||(t.isPocket=!0))},this.aceShouldPocketReuse=function(e,t){var n=t.oldLineNode,r=t.newLineEntry,i=t.type,o=n.pocket.lineEntry,a=r.domInfo.lineClass;if(!ne(a,"list-code")&&(Object(P.a)(a)&&Object(P.a)(o.domInfo.lineClass)&&p.hasCollapse))return!(o.domInfo.isCollapsedHeading()!==r.domInfo.isCollapsedHeading())&&"collapseble-header-handle"===i||void 0},this.addPocketToLine=function(e,t){var n,r,i,l=t.editor,o=t.lineEntry,a=t.linePocket,s=o.domInfo.lineClass;ne(s,"list-code")||Object(P.a)(s)&&p.hasCollapse&&o&&o.lineNode&&o.zone===q&&(n=Object(w.$)(o.lineNode).find(".ace-line-pocket")[0],r=Object(w.$)("#editorcontainerbox")[0],i=function(e){var t,n,r,i,o,a,s,c,u=Object(w.$)(e.target).closest(".ace-line");!u.length||(t=l.domToRep(u.get(0)))&&(n=t.selStart[0],r=t.selStart[2],i=l.getContentState().getZoneState(r).getLine(n),o=Number(i.hasLineMarker()),a=i.getAttributes(0,i.length()-1).toMap(),s=Object(M.b)(a),c=Object(S.f)(t,o),Object(S.h)(l,c,s,e))},o.collapsibleSectionHandleRef||(o.collapsibleSectionHandleRef=a.put([{uniqueClass:"collapseble-header-handle",mount:function(e){k.a.render(T.a.createElement(S.b,{editor:l,line:o,container:n,etherpadContainer:r,onClick:i}),e)},unmount:function(e){k.a.unmountComponentAtNode(e)}}])))},this.findCollapsedSecetion=function(){for(var e=p.editor.getRep().lines,t=e.numNodes,n=[],r=0;r<t;r++){var i=e.atIndex(r).domInfo,o=i.collapseStatus,a=i.lineClass;Object(P.a)(a)&&!ne(a,"list-code")&&(o.collapseOnlyMe||o.collapseAll&&!1!==o.collapseOnlyMe)&&n.push(r)}return n},this.beforeFullscreenEnter=function(e,t){var n,r;1===t.mode&&(n=p.findCollapsedSecetion(),r=p.editor.getRep(),n.forEach(function(e){var t=Object(S.e)(e,r);Object(S.c)(p.editor,t,!0,p.editor.isEditable())}))},this.beforeFullscreenModeChange=this.beforeFullscreenEnter,this.changesetApply=function(e,t){var n=t.editor,r=!p.needUpdateCollapse;n.lineTracker.doUpdate(r),p.needUpdateCollapse=!1},this.doReturnKey=function(e){var t,n,r,i,o,a=p.editor,s=a.getRep();s.zoneId===q&&(t=s.selStart[0],n=s.lines.atIndex(t),s.selStart[1]===n.lineMarker?0!==(r=t<1?0:t-1)&&Object(M.a)(a,q,[r]):(i=0<Object(w.$)(n.lineNode).find(".collapsable-section-handle-collapsed").length,o=Object(S.e)(t,s),i&&Object(S.d)(a,o,!0,a.isEditable(),!1)))},this.updateCollapse=function(e,t,n){var c,u,l,r;e&&t&&0<t.length&&n&&(l=!(c=[]),t.length&&(t.length&&t.forEach(function(e,t){var n,r,i=p.editor.getRep(x.a).lines,o=e.lineNum,a=i.atIndex(o),s=p.editor.getContentState().getZoneState(x.a).getLine(o).getLineAttributes().toMap();a&&((n=a.lineNode)&&(u=0===t?o:u,r=e.output.renderCollapsed&&!e.output.startOfCollapseSection,c.push(o),R.a.msie?(r&&Object(w.$)(n).addClass("ace-line-collapsed"),r||Object(w.$)(n).removeClass("ace-line-collapsed")):n.classList.toggle("ace-line-collapsed",r)),e.output.startOfCollapseSection&&0===t&&(l=Object(M.b)(s)))}),(r=p.editor.plugins.sheetBridge.getBridge())&&r.syncVirtualScroll(),I.a.trigger("collapseLineChange",[{startOfCollapseSection:u,collapseRange:c,collapsed:l}])))},this.performUndoRedo=function(e,t){var n=p.editor,r=!p.needUpdateCollapse;n.lineTracker.doUpdate(r),p.needUpdateCollapse=!1},this.lineTrackerUpdate=function(e,t){var n=t.isDirtyZone,r=t.dirtyLines,i=t.root;p.updateCollapse(n,r,i)},this.aceDomLineProcessLineAttributes=function(e,t){var n,r=t.spanClass,i=/(?:^| )heading:([Hh0-9]*)/.exec(r);i&&(n=Object(g.a)(Z,i[1])),void 0!==n&&0<=n&&(t.lineClass+=" heading-".concat(i[1]),t.processedMarker=!0)},this.removeCollapse=function(e){var t,n,r,i,o,a=p.editor.getRep();a.zoneId===q&&(n=(t=a.lines.atIndex(e)).text,r=[e,t.lineMarker],i=[e,n.length],o=[[J,""]],a.attributeManager.setAttributesOnRange(r,i,o))},this.getHeadingType=function(e,t,n){var r=/(?:^| |Mso)[hH]eading-?(\S+)/.exec(t);if(r){var i="h".concat(r[1].replace(/[^\d]/g,""));if(V.a.includes(i))return i}if(/^h[1-9]$/.test(e))return e;var o=/font-size: (\d+)px/.exec(n);return n&&(-1<n.indexOf("font-weight: bold;")||-1<n.indexOf("font-weight: 700;"))&&o&&X[o[1]]?X[o[1]]:null},this.getCollapseType=function(e){var t=e.cls,n=/collapse-([a-z]{3,})/.exec(t);if(n)return n[0]},this.deserialize=function(e){var t=e.node,r=e.deltaSet,i=e.zoneId;if(t instanceof HTMLElement){var n=t.tagName,o=t.className,a=t.getAttribute("style")||"",s=p.getHeadingType(n.toLowerCase(),o,a),c=r,u=p.getCollapseType(o);s&&(c=Object(U.I)(r,i,d()({},Q,s)));var l=function(e,t){var n=c||r;return Object(U.H)(n,i,d()({},e,t))};if(u){if("collapse-all"===u)return l(J,"true");if("collapse-onlymenot"===u)return l("".concat(Y,"collapse"),"false");if("collapse-onlyme"===u)return l("".concat(Y,"collapse"),"true")}return c}return r},this.pluginReadOnly=function(){},e&&(this.hasCollapse=t&&t.hasCollapse,this.editor=e,this.nodes=new Set,this.guideCount=0,this.init(e),this.bindEvent()),this.hasCollapse&&I.a.on("invokeCollapse",this.checkCollapse)}return u()(n,[{key:"acePaste",value:function(e,t){var n=t.rep,r=n.selStart;this.lineNumberForPaste=r[0],this.lineForPasteIsCollapse="true"===n.attributeManager.getAttributeOnLine(this.lineNumberForPaste,"collapse")}},{key:"afterPaste",value:function(e,t){var n=t.rep,r=n.selStart,i=n.zoneId,o="true"===n.attributeManager.getAttributeOnLine(this.lineNumberForPaste,"collapse");(0<=this.lineNumberForPaste&&r[0]!==this.lineNumberForPaste&&o||!1===this.lineForPasteIsCollapse&&o)&&I.a.emit("invokeCollapse",{zoneId:i,range:{selStart:[this.lineNumberForPaste,0],selEnd:[this.lineNumberForPaste,0]},source:"paste"}),this.lineNumberForPaste=-1,this.lineForPasteIsCollapse=null}},{key:"reset",value:function(){this.removeEvent(),this.editor=null,I.a.off("invokeCollapse",this.checkCollapse)}},{key:"clientVars",value:function(){var e=this.editor.getMatchedAttributePositionOnSelection(null,function(e){return"heading"===e}),t=!0,n=!1,r=void 0;try{for(var i,o=e[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var a=i.value.attrValue;this.headingCount[a]=1+(this.headingCount[a]||0)}}catch(e){n=!0,r=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw r}}this.notifyHeadingCountChange()}},{key:"editorWillCopy",value:function(e){var t,r,n=this.editor,i=e.range,o=i.end,a=o.line,s=o.offset,c=o.zoneId,u=n.getContentState().getLineAttributes(c,a).toMap().heading,l=this.checkIsCollapsedHeading(c,a),d=n.getContentState().getZoneState(c),p={};u&&l&&s>=d.getLine(a).length()-2&&(t=d.getContent(),r=a,t.eachLine(function(e,t,n){if(a<n){if(t.heading&&t.heading>=u)return!1;r++}}),p.zoneId=c,p.line=r,p.offset=d.getLine(a).length()-1,i.end=p,e.range=i,e.deltaSet=this.editor.clipboard.slice(i))}},{key:"doInsertHeading",value:function(e){var r=this,i=e.attribKey,o=e.attribValue,a=e.range,s=e.isAllHasAttrib,t=o?o.slice(1):-1;if(!(0<=t&&void 0===Z[t])){var n=a.selStart,c=a.selEnd,u=a.attributeManager,l=a.zoneId,d=Object(v.a)(n[0],c[0]+1),p=[],f=this.editor&&Object(H.i)(this.editor,l),h=!0,g=!0;return d.forEach(function(e){var t,n=a.lines.atIndex(e);!n||!n.lineNode||-1<n.lineNode.className.indexOf(ee)||-1<n.lineNode.className.indexOf(b.b)||Object(_.a)(n.lineNode)||(f||r.editor&&Object(H.f)(r.editor,l,e)?s=h=!1:p.push(e),h&&r.editor&&(t=r.editor.getAttributeOnLine(l,e,i),h=t===o,t&&(g=!1)))}),s||h||o===K.r?o===K.r&&g||(u.removeAttributeOnMultiLines(d,i),this.hasCollapse&&d.forEach(function(e){r.removeCollapse(e)})):u.setAttributeOnMultiLinesExcludeAttrs(p,[[i,o]],[["aceTable",""]]),this.editor&&z.a.tryConvertZone(this.editor,a,i,o),s}}},{key:"serialize",value:function(e){var t,n=e.type,r=e.node,i=e.lineAttributes,o=i&&i[$];return n===U.u.LINE&&o&&((t=document.createElement(o)).appendChild(r),e.node=t),e}},{key:"pluginReadWrite",value:function(){}},{key:"alineToLineInput",value:function(e,t){if(t&&"string"==typeof t.value){var n=Object(M.c)(t.value)||{},r=n.type,i=n.indent;if("h"===r&&"number"==typeof i&&0<i&&i<=9)return i}}},{key:"checkIsLineCollapsed",value:function(e,t){if(void 0!==t){var n=this.editor.lineTracker;if(e&&e!==q||!n||!n.collapseLines||!n.collapseLines.trackers[q])return!1;var r=n.collapseLines.trackers[q].entries[t].output,i=r.renderCollapsed,o=r.startOfCollapseSection;return i&&!o}}},{key:"checkIsCollapsedHeading",value:function(e,t){if(void 0!==t){var n=this.editor.lineTracker;return(!e||e===q)&&n&&n.collapseLines&&n.collapseLines.trackers[q]?!!n.collapseLines.trackers[q].entries[t].output.startOfCollapseSection:!1}}},{key:"getHeadingCountChange",value:function(e,t){var n,r,i=this.getHeadingCountByState(e),o=this.getHeadingCountByState(t),a={};for(n in Object.assign({},i,o))(i[n]||o[n])&&(r=(o[n]||0)-(i[n]||0),a[n]=r);return a}},{key:"getHeadingCountByState",value:function(e){var t={},n=!0,r=!1,i=void 0;try{for(var o,a=e.alinesAttribs[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value,c=!0,u=!1,l=void 0;try{for(var d,p=s[Symbol.iterator]();!(c=(d=p.next()).done);c=!0){var f=d.value;if("heading"===f[0]){var h=f[1];t[h]=1+(t[h]||0);break}}}catch(e){u=!0,l=e}finally{try{c||null==p.return||p.return()}finally{if(u)throw l}}}}catch(e){r=!0,i=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}return t}},{key:"editorWillDoReturnKey",value:function(e){var t,n,r=e.delta,i=e.editor,o=i.selection.getSelection(),a=i.getContentState().getActiveZone(),s=a.getZoneId(),c=a.getLine(o.start.line),u=c.getLineAttributes().toMap(),l=o.toPosition(),d=l.start,p=l.len,f=c.isEndOfLine(o.end.offset);u.heading&&!p&&(t=c.isEmpty(),n=new U.E({zoneId:s}),r.ops.length?t||n.retain(d+1).retain(1,{heading:f?"":u.heading}):(f&&(u.heading=""),n.retain(d).insertEnter().insertLineMarker(u)),e.delta=r.compose(n))}},{key:"editorWillDoDeleteKey",value:function(e){var t,n,r,i,o,a,s=e.deltaSet,c=e.editor,u=c.selection.getSelection(),l=c.getContentState().getActiveZone(),d=l.getZoneId(),p=l.getLine(u.start.line),f=p.previousSibling(),h=p.getLineAttributes().toMap(),g=u.toPosition(),m=g.start,v=g.len,y=1===u.start.offset;f&&!v&&h.heading&&y&&(t=Number(f.hasLineMarker()),n=f.isEmpty(),r=f.getLineAttributes().toMap(),i=Object.keys(r).find(function(e){return!["author","lmkr","insertorder","lineguid","align"].includes(e)}),o=s.get(d).ops.length,i||!n||o||(a=new U.E({zoneId:d}),(t?a.retain(m-3).retain(1,Object.assign({},r,{heading:h.heading})):a.retain(m-2).insertLineMarker(Object.assign({},r,{heading:h.heading}))).delete(2),e.deltaSet=s.compose(a)))}}]),n}(),p()(i.prototype,"doInsertHeading",[r],Object.getOwnPropertyDescriptor(i.prototype,"doInsertHeading"),i.prototype),i);new re},hKza:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var i,r,o=n("lSNA"),a=n.n(o),s=n("J4zp"),D=n.n(s),v=n("716e");function M(e,t,n,r){return e===i.x?{pw:n+t,ph:r}:{pw:n,ph:r+t}}function P(e,t,n,r){return e===v.a.left?{x:n-t,y:r}:e===v.a.right?{x:n+t,y:r}:e===v.a.bottom?{x:n,y:r-t}:{x:n,y:r+t}}function c(e){if(e.isSamplePopup)return K(e);var t=e.container||document.body,n=e.referTarget,r=e.popup,i=e.gapToContainer,o=e.gapToTarget,a=t.getBoundingClientRect(),s=a.left,c=a.top,u=t.offsetWidth,l=t.offsetHeight;i&&(s+=i,c-=i,u-=2*i,l-=2*i);var d=n.getBoundingClientRect(),p=d.left,f=d.top,h=n.offsetWidth,g=n.offsetHeight,m=p-s,v=c+l-f-g,y=r.offsetWidth,b=r.offsetHeight,E=D()(e.placement,2),_=E[0],C=E[1],T=F(_);if(!T)throw new Error("no axis found by direction ".concat(_));var O,k=B(T),S=T,w=_;do{var I=j(S),x=M(S,o||0,y,b),L={tx:m,ty:v,tw:h,th:g,pw:x.pw,ph:x.ph,cw:u,ch:l};if(I.mustMatch(L)){var R=I[w];if(R&&0<R(L)){O=V(w,C,L);break}if(!(w=U(w)))throw new Error("no opposite direction found by direction ".concat(w));O=V(w,C,L);break}}while(w=H(S=k),S!==T);if(O){var N=P(w,o||0,O[0],O[1]);return{point:C,direction:w,position:z(N.x,N.y,{containerLeftToViewport:s,containerTopToViewport:c,ph:b,ch:l})}}return null}function j(e){var t;if(e!==i.x)return t={mustMatch:function(e){var t=e.pw;return 0<e.cw-t}},a()(t,v.a.top,function(e){return d(e.ty,e.th,e.ph,e.ch)}),a()(t,v.a.bottom,function(e){return p(e.ty,e.ph)}),t;var n={mustMatch:function(e){var t=e.ph;return 0<e.ch-t}};return a()(n,v.a.left,function(e){return u(e.tx,e.pw)}),a()(n,v.a.right,function(e){return l(e.tx,e.tw,e.pw,e.cw)}),n}function u(e,t){return e-t}function l(e,t,n,r){return r-(e+t+n)}function d(e,t,n,r){return r-(e+t+n)}function p(e,t){return e-t}function F(e){return e===v.a.left||e===v.a.right?i.x:e===v.a.top||e===v.a.bottom?i.y:null}function B(e){return e===i.x?i.y:i.x}function U(e){switch(e){case v.a.left:return v.a.right;case v.a.right:return v.a.left;case v.a.top:return v.a.bottom;case v.a.bottom:return v.a.top;default:return null}}function H(e){return e===i.x?v.a.left:v.a.top}function y(e,t){return e===v.b.start?0:e===v.b.center?t/2:t}function z(e,t,n){return{left:n.containerLeftToViewport+e,top:n.containerTopToViewport+n.ch-t-n.ph}}function V(e,t,n){var r=n.tx,i=n.ty,o=n.tw,a=n.th,s=n.pw,c=n.ph,u=n.cw,l=n.ch;if(e===v.a.left||e===v.a.right){var d=r-s;e===v.a.right&&(d=r+o);var p=i+y(t,a)-c/2,f=l-p-c;return f<0&&p<0?void 0:0<f&&0<p?[d,p]:f<0?[d,l-c]:[d,0]}var h=i-c;e===v.a.top&&(h=i+a);var g=r+y(t,o)-s/2,m=u-s-g;if(!(g<0&&m<0))return 0<g&&0<m?[g,h]:g<0?[0,h]:[u-s,h]}function K(e){var t=e.referTarget.getBoundingClientRect(),n=t.left;return{position:{top:t.top+t.height/2,right:window.innerWidth-n+20}}}(r=i=i||{}).x="x",r.y="y"},hNo0:function(e,t,n){"use strict";var r,i;n.d(t,"a",function(){return r}),(i=r=r||{}).DOC="doc",i.BITABLE="bitable",i.BITABLE_IMAGE="bitable_image",i.BITABLE_FILE="bitable_file",i.EXPLORER="explorer",i.SHEET_IMAGE="sheet_image",i.DOC_IMAGE="doc_image",i.COMMENT_IMAGE="comment_image"},hNoK:function(e,t,n){"use strict";n.r(t);var r=n("+v7G");t.default=r.a},hO3g:function(e,t){function n(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}e.exports=n},hS6j:function(r,e,t){var i=t("WASD"),o=t("Nsz2");function n(e,t){return delete r.exports[e],r.exports[e]=t}r.exports={Parser:i,Tokenizer:t("b70m"),ElementType:t("TR4g"),DomHandler:o,get FeedHandler(){return n("FeedHandler",t("Uwf0"))},get Stream(){return n("Stream",t("0ejA"))},get WritableStream(){return n("WritableStream",t("h2lD"))},get ProxyHandler(){return n("ProxyHandler",t("vX2W"))},get DomUtils(){return n("DomUtils",t("D5Sy"))},get CollectingHandler(){return n("CollectingHandler",t("0fF6"))},DefaultHandler:o,get RssHandler(){return n("RssHandler",this.FeedHandler)},parseDOM:function(e,t){var n=new o(t);return new i(n,t).end(e),n.dom},parseFeed:function(e,t){var n=new r.exports.FeedHandler(t);return new i(n,t).end(e),n.dom},createDomStream:function(e,t,n){var r=new o(e,t,n);return new i(r,t)},EVENTS:{attribute:2,cdatastart:0,cdataend:0,text:1,processinginstruction:2,comment:1,commentend:0,closetag:1,opentag:2,opentagname:1,error:1,end:0}}},hdMt:function(e,t,n){e.exports=n("mhMO")},heNW:function(e,t){function n(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}e.exports=n},hgQt:function(e,t,n){var r=n("Juji"),i=n("4sDh");function o(e,t){return null!=e&&i(e,t,r)}e.exports=o},hjac:function(e,t,n){"use strict";n.d(t,"a",function(){return o});n("hMnB");var r=n("5dbN"),i=(n("jp/M"),n("ucr6"));function o(e){"function"!=typeof window.docsInLarkHistoryReplace||Object(r.isUnderWiki)()?window.history.replaceState(null,null,"#".concat(e)):window.docsInLarkHistoryReplace(i.a.nativeReplace,{hash:e})}},hjf3:function(e,t,n){"use strict";var r=n("uT1x"),i=1/0;function o(e){return(null==e?0:e.length)?Object(r.a)(e,i):[]}t.a=o},hqaq:function(e,g,m){"use strict";(function(n){m.d(g,"a",function(){return h});var e=m("lwsE"),r=m.n(e),t=m("W8MJ"),i=m.n(t),o=m("a1gu"),a=m.n(o),s=m("Nsbk"),c=m.n(s),u=m("7W2i"),l=m.n(u),d=m("ifKl"),p=m("q1tI"),f=m.n(p),h=(m("17x9"),m("85Se"),function(e){function t(){return r()(this,t),a()(this,c()(t).apply(this,arguments))}return l()(t,e),i()(t,[{key:"render",value:function(){return f.a.createElement("div",{className:"comment-list-placeholder",onClick:this.props.onClick},f.a.createElement("span",null,n("comment.number_collapsed_comment",this.props.count)))}}]),t}(f.a.Component));h.defaultProps={onClick:d.default}}).call(this,m("2vAP"))},hwdV:function(e,t,n){var r=n("HDXh"),i=r.Buffer;function o(e,t){for(var n in e)t[n]=e[n]}function a(e,t,n){return i(e,t,n)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=r:(o(r,t),t.Buffer=a),o(i,a),a.from=function(e,t,n){if("number"==typeof e)throw new TypeError("Argument must not be a number");return i(e,t,n)},a.alloc=function(e,t,n){if("number"!=typeof e)throw new TypeError("Argument must be a number");var r=i(e);return void 0!==t?"string"==typeof n?r.fill(t,n):r.fill(t):r.fill(0),r},a.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i(e)},a.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return r.SlowBuffer(e)}},hypo:function(e,t,n){var r=n("O0oS");function i(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}e.exports=i},hyzN:function(e,t,n){"use strict";var i,r,o=function(e){window.SheetPackagesStatus=window.SheetPackagesStatus||{},window.SheetPackagesStatus[e]=!0};(r=i=i||{}).SET_VALUE="setValue",r.SET_FORMULA="setFormula",r.SET_STYLE="setStyle",r.ADD_SHEET="addSheet",r.CREATE="create",r.SORT="sort",r.SET_CELL="setCell",r.SET_SPANS="setSpans",r.SET_COLUMN_WIDTH="setColumnWidth",r.SET_ROW_HEIGHT="setRowHeight",r.SET_SHEET="setSheet",r.COPY_SHEET="copySheet",r.DEL_SHEET="delSheet",r.SOFT_DEL_SHEET="softDelSheet",r.RESTORE_SHEET="restoreSheet",r.MOVE_SHEET="moveSheet",r.ADD_ROW="addRow",r.ADD_COL="addCol",r.DEL_ROW="delRow",r.DEL_COL="delCol",r.HIDE_ROW="hideRow",r.UNHIDE_ROW="unhideRow",r.HIDE_COL="hideCol",r.UNHIDE_COL="unhideCol",r.DEL_FILTER="delFilter",r.SET_FILTER="setFilter",r.FREEZE_SHEET="freezeSheet",r.ADD_COMMENTS="addComments",r.RECOVER="recover",r.LOCK_ROW="lockRow",r.UNLOCK_ROW="unlockRow",r.LOCK_COL="lockCol",r.UNLOCK_COL="unlockCol",r.LOCK_SHEET="lockSheet",r.UNLOCK_SHEET="unlockSheet",r.SET_CHART="setChart",r.DEL_CHART="delChart",r.SET_FLOAT_IMAGE="setFloatImage",r.DEL_FLOAT_IMAGE="delFloatImage",r.UPGRADE_SNAPSHOT="upgradeSnapshot",r.ADD_CONDITIONAL_FORMAT="addConditionalFormat",r.SET_CONDITIONAL_FORMAT="setConditionalFormat",r.DEL_CONDITIONAL_FORMAT="delConditionalFormat",r.MOVE_CONDITIONAL_FORMAT="moveConditionalFormat",r.COVER_SNAPSHOT="coverSnapshot",r.ADD_BLOCK="addBlock",r.DEL_BLOCK="delBlock",r.RESTORE_BLOCK="restoreBlock",r.MOVE_RANGE="moveRange",r.COVER_SHEET="coverSheet",r.TID_SPLIT="tidSplit",r.SET_RANGE="setRange",r.UPDATE_RANGE="updateRange",r.SET_FORM_DATA="setFormData",r.SET_COL_PROPERTY="setColProperty",r.SET_ROW_PROPERTY="setRowProperty",r.ADD_VIEW="addView",r.SET_VIEW="setView",r.DEL_VIEW="delView",r.SET_FILTER_VIEW="setFilterView",r.LOCAL_ACTIVE_VIEW="localActiveView",r.LOCAL_DEACTIVE_VIEW="localDeactiveView",r.UPDATE_REFERENCE="updateReference";var a,s,c,u,l,d,p,f,h,g,m,v,y,b,E,_,C,T,O,k,S,w,I,x,L,R,N,D,M;i.TID_SPLIT,i.LOCAL_ACTIVE_VIEW,i.LOCAL_DEACTIVE_VIEW;(s=a=a||{})[s.BeginsWith=2]="BeginsWith",s[s.DoesNotBeginWith=3]="DoesNotBeginWith",s[s.EndsWith=4]="EndsWith",s[s.DoesNotEndWith=5]="DoesNotEndWith",s[s.Contains=6]="Contains",s[s.DoesNotContain=7]="DoesNotContain",(u=c=c||{})[u.Equal=0]="Equal",u[u.NotEqual=1]="NotEqual",u[u.Greater=2]="Greater",u[u.GreaterOrEqual=3]="GreaterOrEqual",u[u.Less=4]="Less",u[u.LessOrEqual=5]="LessOrEqual",u[u.Between=6]="Between",u[u.NotBetween=7]="NotBetween",(d=l=l||{})[d.BackgroundColor=0]="BackgroundColor",d[d.ForegroundColor=1]="ForegroundColor",(f=p=p||{})[f.Equal=0]="Equal",f[f.NotEqual=1]="NotEqual",(g=h=h||{})[g.MultiValueCondition=0]="MultiValueCondition",g[g.NumberCondition=1]="NumberCondition",g[g.TextCondition=2]="TextCondition",g[g.ColorCondition=3]="ColorCondition",(v=m=m||{}).NONE="none",v.CELL_COLOR="cellColor",v.FONT_COLOR="fontColor",v.EQUAL="equal",v.NOT_EQUAL="notEqual",v.GREATER="greater",v.GREATER_OR_EQUAL="greater_or_equal",v.LESS="less",v.LESS_OR_EQUAL="less_or_equal",v.BETWEEN="between",v.NOT_BETWEEN="not_between",v.START="start",v.NOT_START="notStart",v.END="end",v.NOT_END="notEnd",v.CONTAIN="contain",v.NOT_CONTAIN="notContain",(y=y||{}).DataValidation="dataValidation",(E=b=b||{})[E.Name=0]="Name",(C=_=_||{}).Height="height",C.Width="width",C.Resizable="resizable",C.Visible="visible",C.PageBreak="pageBreak",C.FId="fId",(O=T=T||{})[O.NORMAL=0]="NORMAL",O[O.ROW=1]="ROW",O[O.COL=2]="COL",O[O.ALL=3]="ALL",O[O.CELL=4]="CELL",O[O.INVALID=5]="INVALID",(S=k=k||{})[S.SEND_COMMENT_CHANGE=-100]="SEND_COMMENT_CHANGE",S[S.FETCH_MISS_VERSION_CORE=-300]="FETCH_MISS_VERSION_CORE",S[S.REFETCH_ROOM_MEMBER=-400]="REFETCH_ROOM_MEMBER",S[S.TRIGGER_CHANGESET=-500]="TRIGGER_CHANGESET",S[S.ONLINE_STATE_CHANGE=-800]="ONLINE_STATE_CHANGE",S[S.HANDLE_BACKUP_LOCAL_ACTION=-900]="HANDLE_BACKUP_LOCAL_ACTION",S[S.BEFORE_UNLOAD=-1e3]="BEFORE_UNLOAD",S[S.FORWARD_CHANGESET_CORE=-1200]="FORWARD_CHANGESET_CORE",S[S.HANDLE_BACKUP_SUBMITTING_FOLLOW=-1300]="HANDLE_BACKUP_SUBMITTING_FOLLOW",S[S.ERROR_PERM_LOCK=-1400]="ERROR_PERM_LOCK",S[S.FOLLOW_ACTIONS=-1500]="FOLLOW_ACTIONS",S[S.FOLLOW_ACTIONS_2=-1600]="FOLLOW_ACTIONS_2",S[S.SUSPEND_READY=-1700]="SUSPEND_READY",S[S.HB=-1800]="HB",S[S.REQUIRE_RESYNC=-1900]="REQUIRE_RESYNC",S[S.CONFLICT=-2e3]="CONFLICT",S[S.RECOVER=-2100]="RECOVER",S[S.ACK=-2200]="ACK",S[S.MOBILE_NETWORK_CHANGE=-2300]="MOBILE_NETWORK_CHANGE",S[S.SPREAD_LOADED=-2400]="SPREAD_LOADED",S[S.NEW_CHANGES=-2500]="NEW_CHANGES",S[S.SYNC_MAX_REV=-2600]="SYNC_MAX_REV",S[S.RESUME_ACTION=-2700]="RESUME_ACTION",S[S.CLEAR_BACKUP=-2800]="CLEAR_BACKUP",S[S.COPY=-2900]="COPY",(I=w=w||{})[I.OLD=3]="OLD",I[I.NEW_SPLIT_CODE=4]="NEW_SPLIT_CODE",I[I.CS_GZIP=5]="CS_GZIP",I[I.NODE=6]="NODE",I[I.REF=7]="REF",(L=x=x||{})[L.RELATED=0]="RELATED",L[L.UNRELATED=1]="UNRELATED",(N=R=R||{})[N.ERROR_CLIENT_VARS=0]="ERROR_CLIENT_VARS",N[N.ERROR_SORT_INCLUDE_MERGE=1]="ERROR_SORT_INCLUDE_MERGE",N[N.ERROR_MERGE_CONTAIN_VALUE=2]="ERROR_MERGE_CONTAIN_VALUE",N[N.ERROR_MERGE_CONTAIN_MERGE=3]="ERROR_MERGE_CONTAIN_MERGE",N[N.ERROR_INVALID_SHEET_NAME=4]="ERROR_INVALID_SHEET_NAME",N[N.ERROR_CELL_NOT_EXIST=5]="ERROR_CELL_NOT_EXIST",N[N.ERROR_SHEET_NOT_EXIST=6]="ERROR_SHEET_NOT_EXIST",N[N.ERROR_SHEET_HID=7]="ERROR_SHEET_HID",N[N.ERROR_ACTION_CONFLICT=8]="ERROR_ACTION_CONFLICT",N[N.ERROR_RECEIVE_RECOVER=9]="ERROR_RECEIVE_RECOVER",N[N.ERROR_UPGRADE_SNAPSHOT=10]="ERROR_UPGRADE_SNAPSHOT",N[N.ERROR_OLD_CALC_REFRESH=11]="ERROR_OLD_CALC_REFRESH",N[N.ERROR_EDIT_PROTECTED_RANGE=12]="ERROR_EDIT_PROTECTED_RANGE",N[N.ERROR_ERROR=13]="ERROR_ERROR",N[N.ERROR_CANVAS=14]="ERROR_CANVAS",N[N.ERROR_CONDITIONAL_FORMATTING_NUM_LIMIT=15]="ERROR_CONDITIONAL_FORMATTING_NUM_LIMIT",N[N.ERROR_SYNC_UPGRADE_SNAPSHOT=16]="ERROR_SYNC_UPGRADE_SNAPSHOT",N[N.ERROR_SORT_LOGICAL_ERROR=17]="ERROR_SORT_LOGICAL_ERROR",N[N.ERROR_RECOVER=18]="ERROR_RECOVER",N[N.ERROR_ILLEGAL_COLLASPREAD_OP=19]="ERROR_ILLEGAL_COLLASPREAD_OP",N[N.ERROR_ADD_REMINDER_CONTAIN_VALUE=20]="ERROR_ADD_REMINDER_CONTAIN_VALUE",(M=D=D||{}).ERR_REQUEST_FAIL="1",M.ERR_INVALID_PARAM="2",M.ERR_NOT_FOUND="3",M.ERR_FORBIDDEN="4",M.ERR_LOGIN_REQUIRE="5",M.ERR_DATA_EXCEED_LIMIT="6",M.ERR_OBJECT_DELETED="7",M.ERR_NOT_IN_ROOM="8",M.ERR_UNCHANGE="9",M.ERR_CHANGESET_EXCEED_LIMIT="1001",M.ERR_NOTE_DELETED="1002",M.ERR_NOT_IN_SESSION="1003",M.ERR_NOTE_NOT_EXISTS="1004",M.ERR_CHAGESET_VALID_FAIL="1005",M.ERR_500="1006",M.ERR_MESSAGE_INVALID="1007",M.ERR_SYNC_ALGO_FAIL="1008",M.ERR_RCE_LIVE_SYNC="1009",M.ERR_OLD_VERSION="1010",M.ERR_USER_LIST_SYNC="1011",M.ERR_NO_WRITE_PERMISSION="1012",M.ERR_NO_COMMENT_PERMISSION="1013",M.ERR_LOCK_FAILED="1015",M.ERR_GET_EXACT_NOTE="2001",M.ERROR_PERM_LOCK="1201",M.ERROR_CLIENT_VARS_RCE_MISMATCH="1202",M.ERROR_CLIENT_VARS_RCE_READONLY="1203",M.ERROR_CREATE_LIMITATION="11001",M.ERROR_CREATE_COPY_EXCEED_IMAGE_LIMIT="130001",M.ERR_FETCH_CLIENTVARS="100",M.ERR_FETCH_BLOCKS="101",M.ERR_BUNDLE_FETCH_BLOCKS="102",M.ERR_HANDLE_BLOCK_DATA="103",M.ERROR_MAX_CELL_LIMIT="5001",M.ERROR_MAX_CELL_LIMIT_OPERATION="5002",M.ERROR_WORKER_SEND_USER_CHANGE="5003",M.ERROR_SEND_HIGH_PRORITY_MESSAGE="5004",M.ERR_CLIENTVARS_INVALID="5005",M.ERROR_APPLY_ACTION_EX="5006",M.ERROR_APPLY_ACTION_CORE_EX="5006_1",M.ERROR_CMD_EX="5007",M.ERROR_WATCH_DOG="5008",M.ERROR_WATCH_DOG_WARNING="5008_1",M.ERROR_WATCH_DOG_ALERT="5008_2",M.ERROR_WATCH_DOG_DONE="5008_3",M.ERROR_ILLEGAL_OP="5009",M.ERROR_RETRY_EXCEED="50010",M.ERROR_ADD_ROW_COL_COUNT_OUT="1211",M.ERROR_SHEET_COL_COUNT_OUT="1212",M.ERROR_CELL_COUNT_OUT="1213",M.ERROR_SUB_SHEET_COUNT_OUT="1214",M.ERROR_BITTABLE_COUNT_OUT="1215",M.ERROR_CELL_STR_LEN_OUT="1216";var P,j,F,B,U,H,z,V,K,W,Y,q,Z,X,Q,J,$,ee,te,ne,re,ie,oe,ae,se,ce,ue,le,de,pe,fe,he,ge,me,ve,ye;function be(e){return e===D.ERR_CHANGESET_EXCEED_LIMIT||e===D.ERROR_MAX_CELL_LIMIT||e===D.ERR_MESSAGE_INVALID||e===D.ERROR_CELL_STR_LEN_OUT||e===D.ERROR_BITTABLE_COUNT_OUT||e===D.ERROR_SUB_SHEET_COUNT_OUT||e===D.ERROR_SHEET_COL_COUNT_OUT||e===D.ERROR_ADD_ROW_COL_COUNT_OUT||e===D.ERROR_CELL_COUNT_OUT}function Ee(e){return e===D.ERR_FORBIDDEN||e===D.ERR_LOGIN_REQUIRE}function _e(e){return e===D.ERROR_PERM_LOCK}function Ae(e){return e===D.ERROR_WATCH_DOG_ALERT||e===D.ERROR_WATCH_DOG_DONE||e===D.ERROR_WATCH_DOG_WARNING}function Ce(e){return e===D.ERR_OLD_VERSION}(j=P=P||{})[j.OTHER=0]="OTHER",j[j.SEND_USER_CS=1]="SEND_USER_CS",j[j.IO_MESSAGE=2]="IO_MESSAGE",(B=F=F||{}).FOLLOW_REJECT="follow_reject",B.RECOVER_CONFLICT="recover_conflict",B.SEND_RECOVER="send_recover",B.SEND_USER_CS="send_user_cs",B.TOO_OLD_REV="too_old_rev",(H=U=U||{}).Line="line",H.Bar="bar",H.Pie="pie",(V=z=z||{}).Row="row",V.Col="col",(W=K=K||{}).Vertical="vertical",W.Horizontal="horizontal",(q=Y=Y||{})[q.Bottom=0]="Bottom",q[q.Right=1]="Right",q[q.Top=2]="Top",q[q.Left=3]="Left",q[q.None=4]="None",(X=Z=Z||{}).ColorA="ColorA",X.ColorB="ColorB",X.ColorC="ColorC",X.ColorD="ColorD",X.ColorE="ColorE",X.ColorF="ColorF",(J=Q=Q||{}).CHART_SETUP="CHART_SETUP",J.CHART_CUSTOMIZE="CHART_CUSTOMIZE",(ee=$=$||{}).Row="row",ee.Col="col",(ne=te=te||{})[ne.General=0]="General",ne[ne.Text=1]="Text",ne[ne.Number=2]="Number",ne[ne.Percentage=3]="Percentage",ne[ne.Currency=4]="Currency",ne[ne.DateTime=5]="DateTime",(ie=re=re||{}).GENERAL="general",ie.PLAIN_TEXT="plain_text",ie.DIGITAL_WITHOUT_SEPARATOR="digital_without_separator",ie.DIGITAL="digital",ie.DIGITAL_ROUNDED="digital_round",ie.PERCENTAGE_ROUNDED="percentage_rounded",ie.PERCENTAGE="percentage",ie.SCIENTIFIC="scientific",ie.CYN_ROUNDED="cyn_rounded",ie.CYN="cyn",ie.DOLLAR_ROUNDED="dollar_rounded",ie.DOLLAR="dollar",ie.DATE_WITH_SLASH="date_with_slash",ie.DATE_WITH_HYPHEN="date_with_hyphen",ie.TIME="time",ie.DATE_TIME="date_time",(ae=oe=oe||{}).TEXT="text",ae.MENTION="mention",ae.URL="url",ae.EMBED_IMAGE="embed-image",ae.REMINDER="reminder",ae.PANO="pano",(ce=se=se||{})[ce.UNSET=0]="UNSET",ce[ce.EMOJI=1]="EMOJI",ce[ce.IMAGE=2]="IMAGE",ce[ce.USER_UPLOAD_IMAGE=3]="USER_UPLOAD_IMAGE",(le=ue=ue||{})[le.UNSET=0]="UNSET",le[le.EMOJI=1]="EMOJI",le[le.IMAGE=2]="IMAGE",le[le.USER_UPLOAD_IMAGE=3]="USER_UPLOAD_IMAGE",(pe=de=de||{}).Equal="equal",pe.NotEqual="notEqual",pe.Greater="greaterThan",pe.GreaterOrEqual="greaterThanOrEqual",pe.Less="lessThan",pe.LessOrEqual="lessThanOrEqual",pe.Between="between",pe.NotBetween="notBetween",(he=fe=fe||{}).BeginsWith="beginsWith",he.EndsWith="endsWith",he.Contains="containsText",he.DoesNotContain="notContains",he.Is="is",(me=ge=ge||{}).Before="before",me.Is="is",me.After="after",(ye=ve=ve||{}).Today="today",ye.Yesterday="yesterday",ye.Tomorrow="tomorrow",ye.Last7Days="last7Days";var Te,Oe,ke,Se,we,Ie,xe=10;(Oe=Te=Te||{}).DUPLICATE_VALUES="duplicateValues",Oe.UNIQUE_VALUES="uniqueValues",Oe.CELL_IS="cellIs",Oe.CONTAINS_TEXT="containsText",Oe.TIME_PERIOD="timePeriod",Oe.CONTAINS_BLANKS="containsBlanks",Oe.NOT_CONTAINS_BLANKS="notContainsBlanks",(Se=ke=ke||{})[Se.NONE=0]="NONE",Se[Se.UNDERLINE=1]="UNDERLINE",Se[Se.LINETHROUGH=2]="LINETHROUGH",Se[Se.BOTH=3]="BOTH",(Ie=we=we||{}).READABLE="readable",Ie.COMMENTABLE="commentable",Ie.EDITABLE="editable",Ie.SHAREABLE="shareable";var Le,Re,Ne,De,Me,Pe,je,Fe;(Re=Le=Le||{}).IFRAME_BLOCK="IFRAME_BLOCK",Re.REACTION_BLOCK="REACTION_BLOCK",Re.SHEET_BLOCK="SHEET_BLOCK",Re.BITABLE_BLOCK="BITABLE_BLOCK",Re.POLL_BLOCK="POLL_BLOCK",Re.REMINDER_BLOCK="REMINDER_BLOCK",Re.PLACEHOLDER_BLOCK="PLACEHOLDER_BLOCK",Re.JIRA_ISSUE_BLOCK="JIRA_ISSUE_BLOCK",Re.JIRA_FILTER_BLOCK="JIRA_FILTER_BLOCK",Re.MINDNOTE_BLOCK="MINDNOTE_BLOCK",Re.MENTION_BLOCK="mentionBlock",Re.JEST_BLOCK="JEST_BLOCK",Re.AT_USER_BLOCK="AT_USER_BLOCK",Re.FILE_CARD_BLOCK="FILE_CARD_BLOCK",Re.HTML_BLOCK="HTML_BLOCK",Re.CHAT_CARD_BLOCK="CHAT_CARD_BLOCK",Re.READ_PROCESS_BLOCK="READ_PROCESS_BLOCK",Re.APPLICATION_CONTROL_BLOCK="APPLICATION_CONTROL_BLOCK",Re.DIAGRAM_BLOCK="DIAGRAM_BLOCK",Re.EQUATION_BLOCK="EQUATION_BLOCK",Re.ISV_BLOCK="ISV_BLOCK",Re.LINK_BLOCK="LINK_BLOCK",Re.OKR_BLOCK="OKR_BLOCK",(De=Ne=Ne||{}).PLACEHOLDER="PLACEHOLDER",De.PLACEHOLDER_NEW="PLACEHOLDER_NEW",De.CONTENT="CONTENT",(Pe=Me=Me||{})[Pe.UNLOADED=0]="UNLOADED",Pe[Pe.LOADING=1]="LOADING",Pe[Pe.LOADED=2]="LOADED",(Fe=je=je||{}).ApplyCS="ApplyCS",Fe.Normal="Normal";var Be,Ue,He=n("EPt+");(Ue=Be=Be||{}).TICK="tick",Ue.END="end",Ue.SCROLL="scroll",Ue.LOAD_ALONE="load_alone_sheet",Ue.LOAD_EMBED="load_embed_sheet",Ue.SWITCHTAB="switch_tab",Ue.HIDE_FREEZE_SHADOW="hide_freeze_shadow",Ue.UNKNOWN="unknown";var ze,Ve,Ke,Ge,We=Object.assign({},Be,{},He.i);(Ve=ze=ze||{})[Ve.BeginsWith=0]="BeginsWith",Ve[Ve.EndsWith=1]="EndsWith",Ve[Ve.Contains=2]="Contains",Ve[Ve.DoesNotContain=3]="DoesNotContain",Ve[Ve.Equal=4]="Equal",Ve[Ve.DoesNotBeginWith=5]="DoesNotBeginWith",Ve[Ve.DoesNotEndWith=6]="DoesNotEndWith",(Ge=Ke=Ke||{}).CELL_IS="cellIs",Ge.CONTAINS_TEXT="containsText",Ge.COLOR="color",Ge.MULTI_VALUES="multiValues";var Ye,qe,Ze,Xe=n("lSNA"),Qe=n.n(Xe);(Ze=qe=qe||{})[Ze.AT_TIME_OF_EVENT=0]="AT_TIME_OF_EVENT",Ze[Ze.BEFORE_5_MINUTES=1]="BEFORE_5_MINUTES",Ze[Ze.BEFORE_15_MINUTES=2]="BEFORE_15_MINUTES",Ze[Ze.BEFORE_30_MINUTES=3]="BEFORE_30_MINUTES",Ze[Ze.BEFORE_1_HOUR=4]="BEFORE_1_HOUR",Ze[Ze.BEFORE_2_HOURS=5]="BEFORE_2_HOURS",Ze[Ze.AT_DAY_OF_EVENT=6]="AT_DAY_OF_EVENT",Ze[Ze.BEFORE_1_DAY=7]="BEFORE_1_DAY",Ze[Ze.BEFORE_2_DAYS=8]="BEFORE_2_DAYS",Ze[Ze.BEFORE_1_WEEK=9]="BEFORE_1_WEEK",Ze[Ze.AT_TIME_BEFORE_1_DAY=10]="AT_TIME_BEFORE_1_DAY",Ze[Ze.AT_TIME_BEFORE_2_DAYS=11]="AT_TIME_BEFORE_2_DAYS",Ze[Ze.AT_TIME_BEFORE_1_WEEK=12]="AT_TIME_BEFORE_1_WEEK";var Je,$e,et,tt,nt=(Ye={},Qe()(Ye,qe.AT_TIME_OF_EVENT,"at_time_of_event"),Qe()(Ye,qe.BEFORE_5_MINUTES,"before_5_minutes"),Qe()(Ye,qe.BEFORE_15_MINUTES,"before_15_minutes"),Qe()(Ye,qe.BEFORE_30_MINUTES,"before_30_minutes"),Qe()(Ye,qe.BEFORE_1_HOUR,"before_1_hour"),Qe()(Ye,qe.BEFORE_2_HOURS,"before_2_hours"),Qe()(Ye,qe.AT_DAY_OF_EVENT,"at_day_of_event"),Qe()(Ye,qe.BEFORE_1_DAY,"before_1_day"),Qe()(Ye,qe.BEFORE_2_DAYS,"before_2_days"),Qe()(Ye,qe.BEFORE_1_WEEK,"before_1_week"),Qe()(Ye,qe.AT_TIME_BEFORE_1_DAY,"at_time_before_1_day"),Qe()(Ye,qe.AT_TIME_BEFORE_2_DAYS,"at_time_before_2_day"),Qe()(Ye,qe.AT_TIME_BEFORE_1_WEEK,"at_time_before_1_week"),Ye);($e=Je=Je||{}).ADD_REMINDER="add_reminder",$e.SWITCH_REMINDER="switch_reminder",$e.SET_REMINDER_TIME="set_reminder_time",$e.EDIT_REMINDER_PERSON="edit_reminder_person",$e.EDIT_REMINDER_TEXT="edit_reminder_text",$e.HOVER_CLOCK_ICON="hover_clock_icon",$e.SHOW_REMINDER_LIMIT_TOAST="show_reminder_limit_toast",(tt=et=et||{}).ON="on",tt.OFF="off";var rt,it,ot,at,st=n("bZiw");(it=rt=rt||{}).List="list",it.Integer="integer",it.Decimal="decimal",it.Date="date",it.Time="time",it.TextLength="textLength",it.Checkbox="checkbox",it.Custom="custom",(at=ot=ot||{}).Between="between",at.NotBetween="notBetween",at.EqualTo="equalTo",at.NotEqualTo="notEqualTo",at.GreaterThan="greaterThan",at.LessThan="lessThan",at.GreaterThanOrEqualTo="greaterThanOrEqualTo",at.LessThanOrEqualTo="lessThanOrEqualTo";var ct,ut,lt=n("S7iq"),dt=n("puQj"),pt=n.n(dt).a.mac;(ut=ct=ct||{})[ut.BackSpace=8]="BackSpace",ut[ut.Tab=9]="Tab",ut[ut.Clear=12]="Clear",ut[ut.Enter=13]="Enter",ut[ut.Shift=16]="Shift",ut[ut.Ctrl=17]="Ctrl",ut[ut.Alt=18]="Alt",ut[ut.Caps=20]="Caps",ut[ut.Esc=27]="Esc",ut[ut.Space=32]="Space",ut[ut.PageUp=33]="PageUp",ut[ut.PageDown=34]="PageDown",ut[ut.End=35]="End",ut[ut.Home=36]="Home",ut[ut.Left=37]="Left",ut[ut.Up=38]="Up",ut[ut.Right=39]="Right",ut[ut.Down=40]="Down",ut[ut.Delete=46]="Delete",ut[ut.Digit0=48]="Digit0",ut[ut.Digit1=49]="Digit1",ut[ut.Digit2=50]="Digit2",ut[ut.Digit3=51]="Digit3",ut[ut.Digit4=52]="Digit4",ut[ut.Digit5=53]="Digit5",ut[ut.Digit6=54]="Digit6",ut[ut.Digit9=57]="Digit9",ut[ut.A=65]="A",ut[ut.B=66]="B",ut[ut.C=67]="C",ut[ut.D=68]="D",ut[ut.E=69]="E",ut[ut.F=70]="F",ut[ut.G=71]="G",ut[ut.H=72]="H",ut[ut.I=73]="I",ut[ut.J=74]="J",ut[ut.K=75]="K",ut[ut.L=76]="L",ut[ut.M=77]="M",ut[ut.N=78]="N",ut[ut.O=79]="O",ut[ut.P=80]="P",ut[ut.Q=81]="Q",ut[ut.R=82]="R",ut[ut.S=83]="S",ut[ut.T=84]="T",ut[ut.U=85]="U",ut[ut.V=86]="V",ut[ut.W=87]="W",ut[ut.X=88]="X",ut[ut.Y=89]="Y",ut[ut.Z=90]="Z",ut[ut.Meta=91]="Meta",ut[ut.RightMeta=92]="RightMeta",ut[ut.Caret=94]="Caret",ut[ut.Numpad0=96]="Numpad0",ut[ut.Numpad9=105]="Numpad9",ut[ut.Asterisk=106]="Asterisk",ut[ut.NumpadDot=110]="NumpadDot",ut[ut.F2=113]="F2",ut[ut.F3=114]="F3",ut[ut.F4=115]="F4",ut[ut.F11=122]="F11",ut[ut.Semicolon=186]="Semicolon",ut[ut.Equal=187]="Equal",ut[ut.Plus=187]="Plus",ut[ut.Comma=188]="Comma",ut[ut.Minus=189]="Minus",ut[ut.Dot=190]="Dot",ut[ut.Grave=192]="Grave",ut[ut.Bracket=219]="Bracket",ut[ut.Quot=222]="Quot",ut[ut.Slash=111]="Slash",ut[ut["/"]=191]="/",ut[ut.Backquote=192]="Backquote",ut[ut["\\"]=220]="\\",ut[ut.BracketRight=221]="BracketRight",ut[ut.Ime=229]="Ime";var ft=[ct.Up,ct.Down,ct.Left,ct.Right];ct.C,ct.V,ct.X;function ht(e){return gt(e)&&e.keyCode===ct.C}function gt(e){return pt?e.metaKey&&!e.altKey:e.ctrlKey&&!e.altKey}function mt(e){return gt(e)&&e.keyCode===ct.X}function vt(e){var t=e.keyCode,n=e.altKey,r=e.ctrlKey,i=e.shiftKey,o=e.metaKey;return!(n||r||i||o||t!==ct.BackSpace&&t!==ct.Delete)}function yt(e){return gt(e)&&e.keyCode===ct.Z}function bt(e){var t=yt(e)&&!!e.shiftKey,n=gt(e)&&e.keyCode===ct.Y;return t||n}function Et(e){var t,n=e.key,r=e.keyCode,i=e.which;229===r&&(t=ct[e.code]||ct[n.toUpperCase()]),/^[a-zA-Z]$/.test(n)&&ct[n.toUpperCase()]!==r&&(t=ct[n.toUpperCase()]),Object.defineProperty(e,"keyCode",{get:function(){return t||r}}),Object.defineProperty(e,"which",{get:function(){return t||i}})}var _t,At=n("fV25"),Ct="embed-image-uploading",Tt=n("Z/fP"),Ot=n("lwsE"),kt=n.n(Ot),St=n("W8MJ"),wt=n.n(St),It=100,xt=50,Lt=function(){function e(){var n=this;kt()(this,e),this.hasInit=!1,this.isPaused=!0,this.anrTime=0,this.lastTime=0,this.anrCalculator=function(){var e=window.performance.now(),t=e-n.lastTime-It;xt<t&&(n.anrTime+=t),n.lastTime=e,n.timeoutId=setTimeout(n.anrCalculator,It)},this.handleVisibilityChange=function(){var e=document.visibilityState;"hidden"===e?n.pause():"visible"===e&&n.start()}}return wt()(e,[{key:"getAnrTime",value:function(){var e=window.performance.now()-this.lastTime-It;return xt<e&&!this.isPaused?this.anrTime+e:this.anrTime}},{key:"init",value:function(){this.hasInit||(this.hasInit=!0,this.start(),document.addEventListener("visibilitychange",this.handleVisibilityChange))}},{key:"destroy",value:function(){this.hasInit&&(this.pause(),document.removeEventListener("visibilitychange",this.handleVisibilityChange),this.hasInit=!1)}},{key:"start",value:function(){var e;this.isPaused&&(e=window.performance,this.isPaused=!1,this.lastTime=e.now(),this.timeoutId=setTimeout(this.anrCalculator,It))}},{key:"pause",value:function(){!this.isPaused&&this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=null,this.isPaused=!0)}}]),e}(),Rt=function(){return _t=_t||new Lt},Nt=new(function(){function e(){kt()(this,e)}return wt()(e,[{key:"setSpread",value:function(e){this.spread=e}},{key:"getSheetCommonOptions",value:function(e){if(this.spread){var t,n,r,i=e||this.spread.getActiveSheet(),o=0,a=0,s=0,c=0,u=0,l=0,d=0,p=0,f=0;return i&&((t=i.sheetFilterModel.getFilterRange())&&(c=t.rowCount()*t.colCount()),u=i._getSpanModel().length,p=0<i.conditionalFormatModel.getAllRules().length?1:0,f=0<Object.keys(i.getChartMap()).length?1:0,s=(o=i.getRowCount())*(a=i.getColumnCount()),n=i.id(),(r=this.spread.cacheManager.cache.get(n))&&(d=r.size()),l=this.spread.getCalcEngine().fmlSpace().getFormulaCount()),{row_count:o,col_count:a,cell_count:s,span_count:u,filter_cell_count:c,formula_count:l,typography_cache_size:d,has_condition:p,has_chart:f}}}},{key:"getSpreadComomOptions",value:function(){if(this.spread)return{sheetNum:this.spread.sheets.length,bitable_block_num:this.spread.getBitableBlockNum(),formula_count:this.spread.getCalcEngine().fmlSpace().getFormulaCount(),typography_cache_size:this.spread.cacheManager.length}}},{key:"collectSheetEvent",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=2<arguments.length?arguments[2]:void 0,r=this.getSheetCommonOptions(n);Tt.a.collectSuiteEvent(e,Object.assign({},r,{},t))}},{key:"collectSpreadEvent",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=this.getSpreadComomOptions();Tt.a.collectSuiteEvent(e,Object.assign({},n,{},t))}},{key:"destroy",value:function(){this.spread=null}}]),e}()),Dt="sheet_lifetime",Mt="open_after_one_minute",Pt={jsHeapSizeLimit:0,totalJSHeapSize:0,usedJSHeapSize:0},jt=function(){var e=window.performance&&window.performance.memory;return e?{jsHeapSizeLimit:e.jsHeapSizeLimit,totalJSHeapSize:e.totalJSHeapSize,usedJSHeapSize:e.usedJSHeapSize}:Pt},Ft=function(e){return parseFloat((e/1024).toFixed())},Bt="sheet_performance_memory",Ut=new(function(){function e(){var n=this;kt()(this,e),this.spread=null,this.sceneMap=new Map,this.anrRecorder=Rt(),this.handleLogSceneEnd=function(){return n.logSceneEnd(Dt,!0)},this.logMemoryBeforeExec=function(e,t){t&&t.commandName&&n.logSceneBegin(t.commandName)},this.logMemoryAfterExec=function(e,t){t&&t.commandName&&n.logSceneEnd(t.commandName,!1,{cs_count:t.changesets&&t.changesets.length})}}return wt()(e,[{key:"bindEvents",value:function(){"undefined"!=typeof window&&window.addEventListener("beforeunload",this.handleLogSceneEnd)}},{key:"unbindEvents",value:function(){"undefined"!=typeof window&&window.removeEventListener("beforeunload",this.handleLogSceneEnd)}},{key:"beginTracker",value:function(){var e=this;this.logSceneBegin(Dt),this.logSceneBegin(Mt),setTimeout(function(){e.logSceneEnd(Mt,!0)},6e4)}},{key:"logSceneBegin",value:function(e,t){var n,r=window.performance.now(),i=jt(),o=this.anrRecorder.getAnrTime();this.sceneMap.has(e)?(n=this.sceneMap.get(e),this.sceneMap.set(e,Object.assign({},n,{begin:r,anrBegin:o},i,{eventParams:t}))):this.sceneMap.set(e,Object.assign({begin:r,anrBegin:o},i,{eventParams:t}))}},{key:"logSceneEnd",value:function(e,t,n){if(!this.sceneMap.has(e))return console.warn("event ".concat(e," doesn't exsit")),this.sceneMap.delete(e);var r,i,o,a=jt(),s=this.sceneMap.get(e)||{},c=void 0!==s.anrBegin?this.anrRecorder.getAnrTime()-s.anrBegin:0,u=void 0!==s.begin?window.performance.now()-s.begin:0,l=Ft(a.totalJSHeapSize-s.totalJSHeapSize),d=Ft(a.usedJSHeapSize-s.usedJSHeapSize),p=Object.assign({scene_name:e,duration:u,ANR_time:c,totalJSHeapSizeDelta:l,usedJSHeapSizeDelta:d,totalJSHeapSize:Ft(a.totalJSHeapSize),usedJSHeapSize:Ft(a.usedJSHeapSize)},s.eventParams,{},n);return t&&this.spread&&this.spread.sheets&&(r=this.spread.sheets.reduce(function(e,t){return t.loadStatus===Me.LOADED?e+1:e},0),i=this.spread.sheets.reduce(function(e,t){return t.loaded?t.getRowCount()*t.getColumnCount()+e:e},0),o=Number((r/this.spread.sheets.length).toFixed(3)),p=Object.assign({},p,{},Nt.getSheetCommonOptions(),{loadedSheetCount:r,loadedSheetCellCount:i,loadingPercent:o})),Nt.collectSpreadEvent(Bt,p),this.sceneMap.delete(e)}},{key:"setup",value:function(e){e&&(this.bindEvents(),e.bind(He.u.CommandExecuting,this.logMemoryBeforeExec),e.bind(He.u.CommandExecuted,this.logMemoryAfterExec),this.spread=e,this.anrRecorder.init())}},{key:"destroy",value:function(){var e=this.spread;e&&(this.unbindEvents(),e.unbind(He.u.CommandExecuting,this.logMemoryBeforeExec),e.unbind(He.u.CommandExecuted,this.logMemoryAfterExec),this.spread=null,this.logSceneEnd(Dt,!0),this.sceneMap.clear(),this.anrRecorder.destroy())}}]),e}()),Ht=n("hbEN"),zt=n("RIqP"),Vt=n.n(zt),Kt=n("gSGL"),Gt="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";function Wt(){for(var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:20,t="",n=0;n<e;n++){var r=Math.floor(Math.random()*Gt.length);t+=Gt[r]}return t}var Yt="https?|s?ftp|ftps|nfs|ssh",qt="\\b([/#?][\\-A-Z0-9@:%_+.~#?&'/=;$,!\\*\\[\\]\\(\\){}^|<>]*[-A-Z0-9&@#/%=~\\(\\)_|]?)?",Zt=/localhost(:[0-9]{2,5})?/,Xt=/(([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.){3}(2[0-4][0-9]|25[0-5]|1[0-9]{2}|[1-9][0-9]|[0-9])(:[0-9]{2,5})?/,Qt=new RegExp("((((".concat(Yt,")://)?(").concat(Zt.source,"))|(((").concat(Yt,")://)(").concat(Xt.source,")))").concat(qt),"gi"),Jt="([\\-A-Z:0-9%_+~#@]{1,256}\\.){1,50}",$t="[a-z\\-]{2,15}",en="com|org|net|int|edu|gov|mil|ac|ad|ae|af|ag|ai|al|am|an|ao|aq|ar|as|at|au|aw|ax|az|ba|bb|bd|be|bf|bg|bh|bi|bj|bm|bn|bo|br|bs|bt|bv|bw|by|bz|ca|cc|cf|cg|ch|ci|ck|cl|cm|cn|co|cr|cu|cv|cw|cx|cy|cz|de|dj|dk|dm|do|dz|ec|ee|eg|eh|er|es|et|eu|fi|fj|fk|fm|fo|fr|ga|gb|gd|ge|gf|gh|gi|gl|gm|gn|gp|gr|gs|gt|gu|gw|gy|hk|hm|hn|hr|ht|hu|id|ie|il|im|in|io|iq|ir|is|it|jm|jo|jp|ke|kg|kh|ki|km|kn|kp|kr|kw|ky|kz|la|lb|lc|li|lk|lr|ls|lt|lu|lv|ly|ma|mc|md|me|mf|mg|mh|mk|ml|mm|mn|mo|mp|mq|mr|ms|mt|mu|mv|mw|mx|my|mz|na|nc|ne|nf|ng|ni|nl|no|np|nr|nu|nz|om|pa|pe|pf|pg|ph|pk|pl|pm|pn|pr|ps|pt|pw|py|qa|re|ro|rs|ru|rw|sa|sb|sc|sd|se|sg|sh|si|sj|sk|sl|sm|sn|so|sr|ss|st|su|sv|sx|sy|sz|tc|td|tf|tg|th|tj|tk|tl|tm|tn|to|tp|tr|tt|tv|tw|tz|ua|ug|uk|um|us|uy|uz|va|vc|ve|vg|vi|vn|vu|wf|ws|ye|yt|za|zm|zw|site|top|wtf|xxx|xyz|cloud|engineering|help|one",tn="com|cn|tk|de|net|org|uk|info|nl|ru|hk",nn=new RegExp("(((".concat(Yt,"):\\/\\/").concat(Jt).concat($t,")|([-A-Z0-9%_+~#@]").concat(Jt,"(").concat(tn,")))(:[0-9]{2,5})?").concat(qt),"gi"),rn="[\\w.!#$%&'*+-/=?^_\\`{|}~]{1,2000}@[A-Za-z0-9_.-]+\\.",on=new RegExp("^(?!data:)((mailto:".concat(rn).concat($t,")|(").concat(rn,"(").concat(en,")))\\b"),"gi"),an=new RegExp("(".concat(Qt.source,")|(").concat(nn.source,")|(").concat(on.source,")"),"gi"),sn=/^(https?|ftp):\/\/|mailto:/i;function cn(e){return new RegExp(sn).test(e)}function un(e){return new RegExp(an).test(e)}function ln(e){return new RegExp("^".concat(on.source,"$"),"i").test(e)}function dn(e){var t=[],n=0,r=new RegExp(an),i=r.exec(e);if(null==i)return e;for(;i;){var o=i.index,a=i[0];o!==n&&t.push({type:"text",text:e.substring(n,o)}),cn(a)?t.push({type:"url",text:a}):un(a)?t.push({type:"url",link:"http://".concat(a),text:a}):ln(a)&&t.push({type:"url",link:"mailto:".concat(a),text:a}),n=r.lastIndex,i=r.exec(e)}return n<e.length&&t.push({type:"text",text:e.substring(n)}),t}function pn(e){return Object(Kt.a)(e)?e.replace(/\u00a0/g," "):e}function fn(e){for(var t="";0<=e;)t=String.fromCharCode(e%26+65)+t,e=Math.floor(e/26)-1;return t}function hn(e){for(var t=e.toUpperCase(),n=0,r=t.length-1,i=0;0<=r;r--,i++)n+=(t.charCodeAt(r)-64)*Math.pow(26,i);return n-1}var gn="[.~`!?@#$%^&*()\\-_+=|{};:\"<>'[\\]]",mn="[                             ]",vn="[\\u4e00-\\u9fa5]",yn="[\\u0800-\\u4e00]",bn="[A-Z]",En="[a-z]",_n="[0-9]";function An(e){if("string"!=typeof e)return e;var t=new RegExp([gn,mn,vn,yn,bn,En,_n].map(function(e){return"(".concat(e,")")}).join("|")+"|.","g");return e.replace(t,function(e,t,n,r,i,o,a,s){return void 0!==t?t:void 0!==n?n:void 0!==r?"":void 0!==i?"":void 0!==o?"X":void 0!==a?"x":void 0!==s?"9":""})}function Cn(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})}function Tn(e){return Object(Kt.a)(e)?e.replace(/"/g,'""'):e}var On=n("vJtL");function kn(e,t){var n=window.getSelection(),r=n.focusNode,i=n.getRangeAt(0),o=("#text"===r.nodeName?i:r).getBoundingClientRect(),a=o.top,s=e.getBoundingClientRect(),c=a-s.top,u=c+o.height-s.height,l=e.scrollTop;r!==e&&(t?e.scrollTop=c<=l?c:l+u:0<=u&&(e.scrollTop=l+u))}function Sn(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(Object(On.default)(CustomEvent))return new CustomEvent(e,t);var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,!!t.bubbles,!!t.cancelable,t.detail),n}var wn,In=function(e){return window.requestAnimationFrame?window.requestAnimationFrame(e):window.setTimeout(e,16)},xn=function(e){window.cancelAnimationFrame?window.cancelAnimationFrame(e):window.clearTimeout(e)},Ln=n("/xWd"),Rn=Array.prototype.flat?function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;return e.flat(t)}:Ln.a,Nn=n("fLNQ"),Dn=n("o0o1"),Mn=n.n(Dn),Pn=n("yXPU"),jn=n.n(Pn),Fn={max:3,factor:0,interval:1e3};function Bn(c,e){var t=Object.assign({},Fn,e),u=t.max,l=t.interval,d=t.factor,p=t.onRetry,f=t.shouldRetry,h=0;return function(){for(var e=arguments.length,s=new Array(e),t=0;t<e;t++)s[t]=arguments[t];return new Promise(function(i,o){var a=function(){var e=jn()(Mn.a.mark(function e(){var t,n,r;return Mn.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=function(e){var t=Math.pow(h++,d)*l;f&&!f(e)||setTimeout(function(){p&&p(h,e),a()},t)},n=s?s[2]:{},e.prev=2,e.next=5,c.apply(null,s);case 5:if(r=e.sent,!f||!f(r)){e.next=12;break}if(h<u)return e.abrupt("return",t(r));e.next=9;break;case 9:o({code:D.ERROR_RETRY_EXCEED,payload:r,customErrorInfo:n}),e.next=13;break;case 12:i({code:0,payload:r});case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(2),h<u&&(!f||f(e.t0))?t(e.t0):o({code:D.ERROR_RETRY_EXCEED,payload:e.t0,customErrorInfo:n});case 18:case"end":return e.stop()}},e,null,[[2,15]])}));return function(){return e.apply(this,arguments)}}();a()})}}function Un(e){return"url"===e.type}function Hn(e){return"mention"===e.type}function zn(e){return Hn(e)&&e.mentionType===He.E.USER}function Vn(e){return Hn(e)&&Gn(e.mentionType)}var Kn=(wn={},Qe()(wn,He.E.DOC,"Doc"),Qe()(wn,He.E.SHEET,"Sheet"),Qe()(wn,He.E.BITABLE,"Bitable"),Qe()(wn,He.E.MINDNOTE,"MindNote"),Qe()(wn,He.E.FILE,"File"),Qe()(wn,He.E.SLIDE,"Slide"),Qe()(wn,He.E.WIKI,"Wiki"),wn);function Gn(e){return void 0!==Kn[e]}function Wn(e){return Hn(e)?decodeURIComponent(e.link||""):e.link||e.text||""}var Yn=n("a1gu"),qn=n.n(Yn),Zn=n("Nsbk"),Xn=n.n(Zn),Qn=n("7W2i"),Jn=n.n(Qn),$n=n("J4zp"),er=n.n($n);var tr,nr,rr=function(e){function t(){return kt()(this,t),qn()(this,Xn()(t).apply(this,arguments))}return Jn()(t,e),wt()(t,[{key:"enqueue",value:function(e,t,n){this.waitingQueue=[[e,t,n]]}}]),t}(function(){function t(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};kt()(this,t),this.waitingQueue=[],this.runningSet=new Set,this.options=Object.assign({maxRunningCount:1},e)}function e(){return n.apply(this,arguments)}var n;return wt()(t,[{key:"schedule",value:function(n){var r=this;return new Promise(function(e,t){r.enqueue(n,e,t),r.execute()})}},{key:"execute",value:(n=jn()(Mn.a.mark(function e(){var t,n,r,i,o,a;return Mn.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(0<this.waitingQueue.length&&this.runningSet.size<this.options.maxRunningCount)return t=this.waitingQueue.shift(),n=er()(t,3),r=n[0],i=n[1],o=n[2],this.runningSet.add(r),e.prev=3,e.next=6,r();e.next=18;break;case 6:a=e.sent,i(a),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),o(e.t0);case 13:return e.prev=13,this.runningSet.delete(r),e.next=17,this.execute();case 17:return e.finish(13);case 18:case"end":return e.stop()}},e,this,[[3,10,13,18]])})),e)},{key:"enqueue",value:function(e,t,n){this.waitingQueue.push([e,t,n])}}]),t}()),ir=n("cDf5"),or=n.n(ir),ar=n("7EGn"),sr=n("4O8T"),cr=n.n(sr),ur="visibilitychange";(nr=tr=tr||{}).Visible="visible",nr.Hidden="hidden";var lr,dr,pr=function(e){function n(){var t;if(kt()(this,n),(t=qn()(this,Xn()(n).call(this))).handlePageVisible=function(){t.visibilityState=tr.Visible,t.emit(ur,tr.Visible)},t.handlePageNotVisible=function(){t.visibilityState=tr.Hidden,t.emit(ur,tr.Hidden)},t.handleVisibilityChange=function(){var e=document.visibilityState;t.visibilityState=e,t.emit(ur,e)},"object"!==("undefined"==typeof document?"undefined":or()(document)))return qn()(t);var e=Nn.a.isLarkPcTab?t.getStateFromLarkStatus():document.visibilityState;return t.visibilityState=e,t}return Jn()(n,e),wt()(n,[{key:"getStateFromLarkStatus",value:function(){return"started"===Object(ar.default)(window,"__APPLICATION__STATUS__")?tr.Visible:tr.Hidden}},{key:"watch",value:function(){Nn.a.isLarkPcTab?(window.addEventListener("application-stop",this.handlePageNotVisible),window.addEventListener("application-start",this.handlePageVisible)):window.addEventListener("visibilitychange",this.handleVisibilityChange),this.isWatching=!0}},{key:"unwatch",value:function(){Nn.a.isLarkPcTab?(window.removeEventListener("application-stop",this.handlePageNotVisible),window.removeEventListener("application-start",this.handlePageVisible)):window.removeEventListener("visibilitychange",this.handleVisibilityChange),this.isWatching=!1}},{key:"isVisible",get:function(){return this.visibilityState===tr.Visible}}]),n}(cr.a),fr=n("CxY0"),hr=n.n(fr),gr=n("Qyje");function mr(e){return new URLSearchParams(location.search.substring(1)).get(e)||""}function vr(e,t){var n=new URLSearchParams(location.search.slice(1));n.set(e,t);var r=n.toString();return r?"?"+r:""}function yr(e){var t=new URLSearchParams(location.search.slice(1));t.delete(e);var n=t.toString();return n?"?"+n:""}function br(e){if(!e)return null;var t=hr.a.parse(e);if(t&&t.query){var n=Object(gr.parse)(t.query);if(n.sheet)return{sheetId:n.sheet,rangeId:n.range}}return null}function Er(e){return e.action===i.UPDATE_RANGE||e.action===i.SET_RANGE}(dr=lr=lr||{}).APPLY_TEMPLATE_ERROR="apply_template_error",dr.APPLY_BLOCK_TEMPLATE_ERROR="apply_block_template_error",dr.SHEET_IS_NIL="sheet_is_nil";var _r=function(){function e(){kt()(this,e)}return wt()(e,null,[{key:"log",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=t.error,r=void 0===n?new Error:n,i=t.data,o=void 0===i?"":i,a="",s="";r instanceof Error&&(a=String(r.message),s=String(r.stack)),Tt.a.moirae.teaLog({key:"sheet_common_error",type:e,message:a,stack:s,error:String(r),data:o})}}]),e}();function Ar(){return window.performance.now()}function Cr(e){return Math.round(window.performance.now()-e)}_r.TYPE=lr;var Tr,Or,kr,Sr,wr=n("PJYZ"),Ir=n.n(wr),xr=n("oShl"),Lr=n.n(xr);(Or=Tr=Tr||{})[Or.Base=5e5]="Base",Or[Or.SYSTEM_ERROR=500100]="SYSTEM_ERROR",Or[Or.HANDLE_REQUEST_FAIL=500101]="HANDLE_REQUEST_FAIL",Or[Or.AUTHORIZATION_FAIL=500200]="AUTHORIZATION_FAIL",Or[Or.NETWORK_ERROR=500300]="NETWORK_ERROR",Or[Or.SPREAD_SHEET_ID_ERROR=500400]="SPREAD_SHEET_ID_ERROR",Or[Or.PARAMETERS_ERROR=500500]="PARAMETERS_ERROR",Or[Or.RECOVER_FAIL=500600]="RECOVER_FAIL",Or[Or.REVISION_GAP_ERROR=500700]="REVISION_GAP_ERROR",Or[Or.HIT_POINT_KILL=500800]="HIT_POINT_KILL",Or[Or.GET_SSR_FAIL=500900]="GET_SSR_FAIL",Or[Or.COMPARE_ERROR=501e3]="COMPARE_ERROR",(Sr=kr=kr||{})[Sr.APPLY_FAIL=4e5]="APPLY_FAIL",Sr[Sr.APPLY_FAIL_SPAN_CONFLICT=400001]="APPLY_FAIL_SPAN_CONFLICT",Sr[Sr.SET_VALUE_FAIL=400100]="SET_VALUE_FAIL",Sr[Sr.SET_FORMULA_FAIL=400200]="SET_FORMULA_FAIL",Sr[Sr.SET_STYLE_FAIL=400300]="SET_STYLE_FAIL",Sr[Sr.ADD_SHEET_FAIL=400400]="ADD_SHEET_FAIL",Sr[Sr.CREATE_FAIL=400500]="CREATE_FAIL",Sr[Sr.SORT_FAIL=400600]="SORT_FAIL",Sr[Sr.SET_CELL_FAIL=400700]="SET_CELL_FAIL",Sr[Sr.SET_SPANS_FAIL=400800]="SET_SPANS_FAIL",Sr[Sr.SET_COLUMN_WIDTH_FAIL=400900]="SET_COLUMN_WIDTH_FAIL",Sr[Sr.SET_ROW_HEIGHT_FAIL=401e3]="SET_ROW_HEIGHT_FAIL",Sr[Sr.SET_SHEET_FAIL=401100]="SET_SHEET_FAIL",Sr[Sr.COPY_SHEET_FAIL=401200]="COPY_SHEET_FAIL",Sr[Sr.DEL_SHEET_FAIL=401300]="DEL_SHEET_FAIL",Sr[Sr.SOFT_DEL_SHEET_FAIL=401400]="SOFT_DEL_SHEET_FAIL",Sr[Sr.RESTORE_SHEET_FAIL=401500]="RESTORE_SHEET_FAIL",Sr[Sr.MOVE_SHEET_FAIL=401600]="MOVE_SHEET_FAIL",Sr[Sr.ADD_ROW_FAIL=401700]="ADD_ROW_FAIL",Sr[Sr.ADD_COL_FAIL=401800]="ADD_COL_FAIL",Sr[Sr.DEL_ROW_FAIL=401900]="DEL_ROW_FAIL",Sr[Sr.DEL_COL_FAIL=402e3]="DEL_COL_FAIL",Sr[Sr.HIDE_ROW_FAIL=402100]="HIDE_ROW_FAIL",Sr[Sr.UNHIDE_ROW_FAIL=402200]="UNHIDE_ROW_FAIL",Sr[Sr.HIDE_COL_FAIL=402300]="HIDE_COL_FAIL",Sr[Sr.UNHIDE_COL_FAIL=402400]="UNHIDE_COL_FAIL",Sr[Sr.DEL_FILTER_FAIL=402500]="DEL_FILTER_FAIL",Sr[Sr.SET_FILTER_FAIL=402600]="SET_FILTER_FAIL",Sr[Sr.FREEZE_SHEET_FAIL=402700]="FREEZE_SHEET_FAIL",Sr[Sr.ADD_COMMENTS_FAIL=402800]="ADD_COMMENTS_FAIL",Sr[Sr.RECOVER_FAIL=402900]="RECOVER_FAIL",Sr[Sr.LOCK_ROW_FAIL=403e3]="LOCK_ROW_FAIL",Sr[Sr.UNLOCK_ROW_FAIL=403100]="UNLOCK_ROW_FAIL",Sr[Sr.LOCK_COL_FAIL=403200]="LOCK_COL_FAIL",Sr[Sr.UNLOCK_COL_FAIL=403300]="UNLOCK_COL_FAIL",Sr[Sr.LOCK_SHEET_FAIL=403400]="LOCK_SHEET_FAIL",Sr[Sr.UNLOCK_SHEET_FAIL=403500]="UNLOCK_SHEET_FAIL",Sr[Sr.SET_CHART_FAIL=403600]="SET_CHART_FAIL",Sr[Sr.DEL_CHART_FAIL=403700]="DEL_CHART_FAIL",Sr[Sr.UPGRADE_SNAPSHOT_FAIL=403800]="UPGRADE_SNAPSHOT_FAIL",Sr[Sr.ADD_CONDITIONAL_FORMAT_FAIL=403900]="ADD_CONDITIONAL_FORMAT_FAIL",Sr[Sr.SET_CONDITIONAL_FORMAT_FAIL=404e3]="SET_CONDITIONAL_FORMAT_FAIL",Sr[Sr.DEL_CONDITIONAL_FORMAT_FAIL=404100]="DEL_CONDITIONAL_FORMAT_FAIL",Sr[Sr.MOVE_CONDITIONAL_FORMAT_FAIL=404200]="MOVE_CONDITIONAL_FORMAT_FAIL",Sr[Sr.COVER_SNAPSHOT_FAIL=404300]="COVER_SNAPSHOT_FAIL",Sr[Sr.ADD_BLOCK_FAIL=404400]="ADD_BLOCK_FAIL",Sr[Sr.DEL_BLOCK_FAIL=404500]="DEL_BLOCK_FAIL",Sr[Sr.RESTORE_BLOCK_FAIL=404600]="RESTORE_BLOCK_FAIL",Sr[Sr.MOVE_RANGE_FAIL=404700]="MOVE_RANGE_FAIL",Sr[Sr.MOVE_RANGE_CONFLICT_SPAN=404701]="MOVE_RANGE_CONFLICT_SPAN",Sr[Sr.COVER_SHEET_FAIL=404800]="COVER_SHEET_FAIL";for(var Rr={},Nr=0,Dr=[Tr,kr];Nr<Dr.length;Nr++){var Mr,Pr=Dr[Nr];for(Mr in Pr)Rr[Mr]={code:Number(Mr),message:Pr[Mr]}}var jr=function(e){function r(e,t){var n;return kt()(this,r),(n=qn()(this,Xn()(r).call(this,e.message)))._extra=t,n._errCode=e.code,n._errMsg=e.message,n.name=n.constructor.name,"function"==typeof Error.captureStackTrace?Error.captureStackTrace(Ir()(n),n.constructor):n.stack=new Error(e.message).stack,n}return Jn()(r,e),wt()(r,[{key:"code",get:function(){return this._errCode}},{key:"message",get:function(){return this._errMsg}},{key:"extra",get:function(){return this._extra}}],[{key:"fromCode",value:function(e,t){return Rr[e]?new r(Rr[e],t):new r({code:e,message:"unknown code"},t)}}]),r}(Lr()(Error));var Fr="temp_";function Br(e){return!!e&&e.startsWith(Fr)}function Ur(e,t){var n=Br(t.view_id);return n?{action:i.ADD_VIEW,sheet_id:e,is_local:n,value:t}:{action:i.ADD_VIEW,sheet_id:e,value:t}}function Hr(e,t){var n=Br(t.view_id);return n?{action:i.DEL_VIEW,sheet_id:e,is_local:n,value:t}:{action:i.DEL_VIEW,sheet_id:e,value:t}}function zr(e,t){var n=Br(t.view_id);return n?{action:i.SET_VIEW,sheet_id:e,is_local:n,value:t}:{action:i.SET_VIEW,sheet_id:e,value:t}}function Vr(e,t){var n=Br(t.view_id);return n?{action:i.SET_FILTER_VIEW,sheet_id:e,is_local:n,value:t}:{action:i.SET_FILTER_VIEW,sheet_id:e,value:t}}function Kr(e,t){return{action:i.LOCAL_ACTIVE_VIEW,sheet_id:e,is_local:!0,value:{view_id:t}}}function Gr(e){return{action:i.LOCAL_DEACTIVE_VIEW,sheet_id:e,is_local:!0}}var Wr,Yr,qr,Zr=n("LqQ0"),Xr=new Map([["COPYCONTENT",Zr.b.OperationType.OperationCopyContent],["EXPORT",Zr.b.OperationType.OperationFrontExport]]),Qr=function(){var e=new Zr.c({log:!1,appId:2,userId:Object(ar.default)(window.User,"id","")});return e.updateSharedParams({Module:Zr.b.ModuleType.ModuleSheets,Env:{Client:Zr.b.ClientType.ClientWeb,UA:window.navigator.userAgent,Flag:Zr.b.FlagType.FlagNormal}}),e},Jr=function(){var n=jn()(Mn.a.mark(function e(t,n){var r,i,o,a;return Mn.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if($r())return e.abrupt("return");e.next=2;break;case 2:return r=window.User.id,i=void 0===r?"":r,e.prev=3,o=Wr=Wr||Qr(),a=Xr.get(t),e.next=8,o.auditEvent({Operation:a,Operator:{Type:Zr.b.EntityType.EntityUserID,Value:i},Objects:[{Type:Zr.b.EntityType.EntitySheetID,Value:n}]});case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),console.error("collectToAdmin "+t,e.t0);case 13:case"end":return e.stop()}},e,null,[[3,10]])}));return function(e,t){return n.apply(this,arguments)}}(),$r=function(){var e="http:"===location.protocol,t=Object(ar.default)(window,"anonymousAccess.isAnonymousAccess",!1);return e||t},ei=n("Naly");function ti(){for(var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],t=Wt(6),n=new Set(e);n.has(t);)t=Wt(6);return t}(qr=Yr=Yr||{})[qr.valid=0]="valid",qr[qr.invalid=1]="invalid",qr[qr.length=2]="length",qr[qr.repeat=3]="repeat";var ni;ni=0;function ri(e){return e&&ii(e[0])}function ii(e){return e&&"embed-image"===e.type&&e.width&&e.height}function oi(e){return!!Array.isArray(e)&&e.some(function(e){return"url"===e.type})}function ai(n){return new Promise(function(e,t){setTimeout(e,n)})}var si=function(e,t){for(var n=0,r=e.length;n<r;n++)if("mention"===(o=e[n]).type&&0===o.mentionType)try{var i,o=JSON.parse(JSON.stringify(o));"function"==typeof t&&(i=t(o),e[n]=i)}catch(e){Tt.a.moirae.ravenCatch(e)}};function ci(e,t){return[].concat(Vt()(e),Vt()(t))}function ui(e){var t,n,r=!1;return 1===e.length&&((t=e[0].action)===i.SET_SHEET?r=!1===(n=e[0].value).hidden&&"visibility"===n.property_name:t===i.MOVE_SHEET&&(r=!0)),r}var li,di,pi=[],fi={},hi=!1,gi=function(e){var t=["KEYBOARD_EDIT","TOOLKIT_EDIT","DROPDOWN_EDIT"],n=e.toUpperCase();return!!li[n]&&!t.includes(n)},mi=Object(Ht.default)(function(){pi.forEach(function(e){e&&e.apply(null)}),pi.length=0},1e3);(di=li=li||{}).LOAD_SHEET_PAGE="load_sheet_page",di.RENDER_SHEET_PAGE="render_sheet_page",di.CONNECT_WEBSOCKET="connect_websocket",di.DOWNLOAD_RESOURCE="download_resource",di.FETCH_CLIENT_VARS="fetch_client_vars",di.UNGZIP_CLIENT_VARS="ungzip_client_vars",di.APPLY_SNAPSHOT="apply_snapshot",di.RENDER_FIRST_PRINT="render_first_print",di.FETCH_SUB_BLOCK="fetch_sub_block",di.FASTER_FIRST_TICK="faster_first_tick",di.INIT_CALC="init_calc",di.APPLY_DATA="apply_data",di.KEYBOARD_EDIT="keyboard_edit",di.TOOLKIT_EDIT="toolkit_edit",di.DROPDOWN_EDIT="dropdown_edit",di.TIME_TO_USAGE="time_to_usage",di.STAGE_PENDING="stage_pending",di.HISTORY_INIT="history_init",di.HISTORY_PREVIEW="history_preview",di.HISTORY_RECOVER="history_recover",di.SHEET_LOADED="client_sheet_loaded",di.SHEET_APPLY_CS="client_sheet_apply_cs",di.TRANSLATION_ENTER="translation_enter",di.TRANSLATION_RESET_LANG="translation_reset_lang",di.GET_RESPONSABLE_RANGE="get_responsable_range",di.LOAD_DOC_SHEET_RESOURCE="load_doc_sheet_resource",di.CALL_BRIDGE_TO_MOUNT_SHEET="call_bridge_to_mount_sheet",di.RENDER_EMBED_SHEET_COMP="render_embed_sheet_comp";var vi,yi,bi,Ei,_i,Ai,Ci=function(e){return(e?performance:Date).now()};function Ti(){hi=!1,fi={}}function Oi(){return hi?"reload":"router"}function ki(){"sheet"===Tt.a.getFileType()&&(hi=!0)}function Si(e,t){return e===He.C.CLIPBOARD_COPY||e===He.C.CLIPBOARD_PASTE||!(!t||t.parent_stage!==He.C.CLIPBOARD_COPY&&t.parent_stage!==He.C.CLIPBOARD_PASTE)}function wi(r,e,i){var o=(i=i||{}).transactionId?"_".concat(i.transactionId):"";i.isSheetGarrEnable=Tt.a.isSheetGarrEnable?1:0;var t=r===li.DOWNLOAD_RESOURCE||r===li.RENDER_SHEET_PAGE||r===li.LOAD_SHEET_PAGE||r===li.TIME_TO_USAGE,a=r===li.DOWNLOAD_RESOURCE,n=Si(r,i),s=Ci(n),c=window;if(t)if(Nn.a.isMobile){if(a&&(!c.renderStartTS||!c.tapVisitStartTS))return;i.open_from=500<=c.renderStartTS-c.tapVisitStartTS?"reload":"router"}else i.open_from=hi?"reload":"router";var u,l=function(e){var t,n=fi["".concat(r,"_start").concat(o)];n&&(t=Math.round(s-n),t=i.costTime||(a&&c.tapVisitStartTS&&c.renderStartTS?c.renderStartTS-c.tapVisitStartTS:t),gi(r)?(pi.push(function(){Nt.collectSheetEvent("sheet_performance_operation",Object.assign({operation:"".concat(r,"_").concat(e)},i)),Nt.collectSheetEvent("sheet_performance_stage",Object.assign({stage:r,type:e,time_cost:t},i))}),mi()):(Nt.collectSheetEvent("sheet_performance_operation",Object.assign({operation:"".concat(r,"_").concat(e)},i)),Nt.collectSheetEvent("sheet_performance_stage",Object.assign({stage:r,type:e,time_cost:t},i))),"error"===e&&console.info("[SHEET LOG] render-node-log: ".concat(r," error")),delete fi["".concat(r,"_start").concat(o)],Ut.logSceneEnd(r,!1,i))};e===vi.START?(u=s,(t||a)&&(u=Nn.a.isMobile&&c.tapVisitStartTS?c.tapVisitStartTS:hi?performance.timing.fetchStart:s),fi["".concat(r,"_start").concat(o)]=u,gi(r)?(pi.push(function(){Nt.collectSheetEvent("sheet_performance_operation",Object.assign({operation:"".concat(r,"_start")},i))}),mi()):Nt.collectSheetEvent("sheet_performance_operation",Object.assign({operation:"".concat(r,"_start")},i)),Ut.logSceneBegin(r,i)):e===vi.END?l("success"):e===vi.ERROR&&l("error")}(yi=vi=vi||{})[yi.START=0]="START",yi[yi.END=1]="END",yi[yi.ERROR=2]="ERROR",(Ei=bi=bi||{}).DOC_IMAGE="doc_image",Ei.DRIVE_IMAGE="drive_image",(Ai=_i=_i||{}).RESOLVED="resolved",Ai.REJECTED="rejected";var Ii,xi,Li,Ri,Ni,Di,Mi=function(){function t(e){kt()(this,t),this.imageType=e,this._resolvedImageCount=0,this._totalTimeCost=0,this._rejectedImageCount=0,this.collectResolvedImagesInfoBatchly=Object(Ht.default)(this.collectResolvedImagesInfo,3e3),this.collectRejectedImagesInfoBatchly=Object(Ht.default)(this.collectRejectedImagesInfo,3e3)}return wt()(t,[{key:"collectResolvedImagesInfo",value:function(){0!==this._resolvedImageCount&&(Tt.a.collectSuiteEvent("sheet_image_monitor",{status:_i.RESOLVED,image_type:this.imageType,count:this._resolvedImageCount,total_time_cost:this._totalTimeCost}),this._resolvedImageCount=0,this._rejectedImageCount=0)}},{key:"collectRejectedImagesInfo",value:function(){0!==this._rejectedImageCount&&(Tt.a.collectSuiteEvent("sheet_image_monitor",{status:_i.REJECTED,image_type:this.imageType,count:this._rejectedImageCount}),this._rejectedImageCount=0)}},{key:"collectImageError",value:function(e){Tt.a.imageHelper.collectImageError(e,{tags:{scm:JSON.stringify(window.scm),key:"SHEET_".concat(this.imageType.toUpperCase(),"_LOAD_FAIL")}})}},{key:"onImageResolve",value:function(e){var t=e.timeCost;this._totalTimeCost+=t,++this._resolvedImageCount,this.collectResolvedImagesInfoBatchly()}},{key:"onImageReject",value:function(e){var t=e.ex;++this._rejectedImageCount,this.collectImageError(t),this.collectRejectedImagesInfoBatchly()}}]),t}(),Pi=new Mi(bi.DOC_IMAGE),ji=new Mi(bi.DRIVE_IMAGE),Fi=new(function(){function e(){kt()(this,e)}return wt()(e,[{key:"setSnapshotSize",value:function(e){this.snapshotLen=e}},{key:"collectInitSheetInfo",value:function(e){if(void 0!==this.snapshotLen){var t=0,n=0,r=this.snapshotLen,i=e.snapshot.sheets;if(i){for(var o in i){var a=i[o];!a.externalResource&&a.blocks&&void 0!==a.rowCount&&void 0!==a.columnCount&&(t++,n+=a.rowCount*a.columnCount,a.blocks.forEach(function(e){e.size&&(r+=e.size)}))}Tt.a.moirae.teaLog({key:"collect_sheet_info",stage:"init",sheetNum:t,dataSize:Ft(r),sheetCellNum:n})}}}}]),e}()),Bi=function(e){var n=e.sheet,t=0,r=0;if(n){var i=n.getSelections();if(Array.isArray(i)){var o=!0,a=!1,s=void 0;try{for(var c,u=i.values()[Symbol.iterator]();!(o=(c=u.next()).done);o=!0){var l=c.value;t+=l.rowCount()*l.colCount()}}catch(e){a=!0,s=e}finally{try{o||null==u.return||u.return()}finally{if(a)throw s}}}e.commandName===He.i.FILL&&(r=n.getSelections().reduce(function(e,t){return e+n.getFormulaCountByRange(t)},0))}var d={time_cost:e.rangeTime,command_name:e.commandName,selected_cell_count:t,selection_formula_count:r,changeset_count:e.changesets.length};Nt.collectSheetEvent("client_performance_command",d,n)},Ui=n("vYB2"),Hi=n.n(Ui),zi=3e4,Vi=function(){function t(){var e=this;kt()(this,t),this.logStack=[],this.onSheetStartLoad=function(e){wi(li.SHEET_LOADED,vi.START,{transactionId:e})},this.onBlockDataReady=function(){wi(li.FETCH_SUB_BLOCK,vi.END)},this.validateBlockRequest=function(e,t){e.schema_version?t.some(function(e){return/[A..Z]$/.test(e)})&&Tt.a.moirae.teaLog({key:"client_sheet_sub_block_token_invalid",schema_version:e.schema_version||0}):t.some(function(e){return/[a..z]$/.test(e)})&&Tt.a.moirae.teaLog({key:"client_sheet_sub_block_token_invalid",schema_version:e.schema_version||0})},this.blockReqError=function(e,t){var n;if(e instanceof Error&&!Hi.a.isCancel(e)?n=e.message:(!e||e.code&&0!==e.code)&&(n=e||""),void 0!==n){var r={};return r.requestId=t,r.codeServer=(e||{}).code,r.msgServer=(e||{}).msg,r}},this.timer=setInterval(function(){e.uploadLog()},zi)}return wt()(t,[{key:"log",value:function(){try{for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.logStack.push(JSON.stringify(t))}catch(e){console.error("args ")}}},{key:"uploadLog",value:function(){this.logStack.length&&Tt.a.moirae.teaLog({key:"client_sheet_block_data_tracker",bmLog:this.logStack.join("\n")}),this.logStack=[]}},{key:"clear",value:function(){0<this.logStack.length&&this.uploadLog(),this.timer&&clearInterval(this.timer),this.timer=void 0}},{key:"onSpreadLoaded",value:function(){this.clear()}},{key:"onInitError",value:function(e){this.log.apply(this,["onInitError"].concat(Array.prototype.slice.call(arguments)))}},{key:"onTaskDoneError",value:function(e){this.log.apply(this,["onTaskDoneError"].concat(Array.prototype.slice.call(arguments)))}},{key:"onFetchSubBlocksError",value:function(e){this.log.apply(this,["onFetchSubBlocksError"].concat(Array.prototype.slice.call(arguments)))}},{key:"onParseBlockOffsetError",value:function(e){this.log.apply(this,["onParseBlockOffsetError"].concat(Array.prototype.slice.call(arguments)))}},{key:"markSheetLoaded",value:function(e,t,n){this.log.apply(this,["markSheetLoaded"].concat(Array.prototype.slice.call(arguments)))}},{key:"onDestroy",value:function(){this.log.apply(this,["onDestroy"].concat(Array.prototype.slice.call(arguments)))}},{key:"onRequestSheets",value:function(e){this.log.apply(this,["onRequestSheets"].concat(Array.prototype.slice.call(arguments)))}},{key:"onRequestBlocks",value:function(e){this.log.apply(this,["onRequestBlocks"].concat(Array.prototype.slice.call(arguments)))}},{key:"onSetBlockRowCount",value:function(e,t){this.log.apply(this,["onSetBlockRowCount"].concat(Array.prototype.slice.call(arguments)))}},{key:"onSetBlockRowCountFail",value:function(){this.log.apply(this,["onSetBlockRowCountFail"].concat(Array.prototype.slice.call(arguments)))}},{key:"onRowDataApplied",value:function(e,t){}},{key:"onRowDataAppliedFail",value:function(){this.log.apply(this,["onRowDataAppliedFail"].concat(Array.prototype.slice.call(arguments)))}},{key:"onDataApplied",value:function(e){this.log.apply(this,["onDataApplied"].concat(Array.prototype.slice.call(arguments)))}},{key:"onTaskCallback",value:function(e){this.log.apply(this,["onTaskCallback"].concat(Array.prototype.slice.call(arguments)))}},{key:"onSheetLoaded",value:function(e){this.log.apply(this,["onSheetLoaded"].concat(Array.prototype.slice.call(arguments)))}},{key:"onCandidateTasksNum",value:function(e){this.log.apply(this,["onCandidateTasksNum"].concat(Array.prototype.slice.call(arguments)))}},{key:"onPendingTaskCount",value:function(e){this.log.apply(this,["onPendingTaskCount"].concat(Array.prototype.slice.call(arguments)))}},{key:"onRun",value:function(){this.log.apply(this,["onRun"].concat(Array.prototype.slice.call(arguments)))}},{key:"onInitBlock",value:function(e,t,n){this.log.apply(this,["onInitBlock"].concat(Array.prototype.slice.call(arguments)))}},{key:"onBlockRequesterStart",value:function(){this.log.apply(this,["onBlockRequesterStart"].concat(Array.prototype.slice.call(arguments)))}},{key:"onFetchStart",value:function(e,t,n,r){this.log.apply(this,["onFetchStart"].concat(Array.prototype.slice.call(arguments)))}},{key:"onTasksEnd",value:function(e,t,n){this.log.apply(this,["onTasksEnd"].concat(Array.prototype.slice.call(arguments)))}},{key:"onNoIdleTask",value:function(){this.log.apply(this,["onNoIdleTask"].concat(Array.prototype.slice.call(arguments)))}},{key:"onRunCandidateTask",value:function(e,t){this.log.apply(this,["onRunCandidateTask"].concat(Array.prototype.slice.call(arguments)))}},{key:"onAggregateTask",value:function(e){this.log.apply(this,["onAggregateTask"].concat(Array.prototype.slice.call(arguments)))}},{key:"onTaskDone",value:function(e,t,n){this.log.apply(this,["onTaskDone"].concat(Array.prototype.slice.call(arguments)))}},{key:"onAddTask",value:function(e,t){this.log.apply(this,["onAddTask"].concat(Array.prototype.slice.call(arguments)))}},{key:"onUpdateQueue",value:function(e,t){this.log("onUpdateQueue","queue: ".concat(e,", length: ").concat(t))}},{key:"onCancelApplyCS",value:function(e,t){this.log("onCancelApplyCS","cancelCount: ".concat(e,", remain: ").concat(t))}},{key:"onFollowError",value:function(e){this.log.apply(this,["onFollowError"].concat(Array.prototype.slice.call(arguments)))}},{key:"onBlockChannelNotReady",value:function(){this.log("onBlockChannelNotReady")}},{key:"onAnalysisActionSheetDep",value:function(e,t){this.log("onAnalysisActionSheetDep","depLength: ".concat(e," hasChannel: ").concat(t))}},{key:"onGetBackRefBySheetId",value:function(e){this.log.apply(this,["onGetBackRefBySheetId: "].concat(Array.prototype.slice.call(arguments)))}},{key:"destroy",value:function(){this.clear()}}]),t}();Vi.instance=new Vi,(xi=Ii=Ii||{})[xi.TRUE=1]="TRUE",xi[xi.FALSE=0]="FALSE",(Ri=Li=Li||{}).DOC="DOC",Ri.SHEET="SHEET",(Di=Ni=Ni||{})[Di.SUCCESS=0]="SUCCESS",Di[Di.NO_EXISTS=1]="NO_EXISTS",n.d(t,"a",function(){return i}),n.d(t,"ac",function(){return a}),n.d(t,"vb",function(){return c}),n.d(t,"w",function(){return l}),n.d(t,"sb",function(){return p}),n.d(t,"W",function(){return h}),n.d(t,"z",function(){return m}),n.d(t,"Bb",function(){return y}),n.d(t,"Ob",function(){return b}),n.d(t,"Fb",function(){return _}),n.d(t,"zb",function(){return T}),n.d(t,"Wb",function(){return k}),n.d(t,"E",function(){return w}),n.d(t,"gb",function(){return x}),n.d(t,"P",function(){return R}),n.d(t,"Q",function(){return D}),n.d(t,"O",function(){return P}),n.d(t,"Cb",function(){return F}),n.d(t,"Dd",function(){return be}),n.d(t,"Gd",function(){return Ee}),n.d(t,"Hd",function(){return _e}),n.d(t,"Id",function(){return Ae}),n.d(t,"Nd",function(){return Ce}),n.d(t,"ab",function(){return U}),n.d(t,"ic",function(){return z}),n.d(t,"x",function(){return K}),n.d(t,"lb",function(){return Y}),n.d(t,"s",function(){return Z}),n.d(t,"wb",function(){return Q}),n.d(t,"K",function(){return $}),n.d(t,"Z",function(){return te}),n.d(t,"Y",function(){return re}),n.d(t,"Gb",function(){return oe}),n.d(t,"k",function(){return xe}),n.d(t,"n",function(){return Te}),n.d(t,"gc",function(){return we}),n.d(t,"h",function(){return Le}),n.d(t,"bb",function(){return Ne}),n.d(t,"mb",function(){return Me}),n.d(t,"q",function(){return je}),n.d(t,"Sb",function(){return We}),n.d(t,"T",function(){return Ke}),n.d(t,"tb",function(){return qe}),n.d(t,"ub",function(){return nt}),n.d(t,"Eb",function(){return Je}),n.d(t,"Db",function(){return et}),n.d(t,"yb",function(){return st.a}),n.d(t,"Zb",function(){return st.c}),n.d(t,"Yb",function(){return st.b}),n.d(t,"H",function(){return rt}),n.d(t,"p",function(){return ze}),n.d(t,"r",function(){return de}),n.d(t,"B",function(){return fe}),n.d(t,"cc",function(){return ge}),n.d(t,"dc",function(){return ve}),n.d(t,"i",function(){return lt.a}),n.d(t,"lc",function(){return lt.c}),n.d(t,"ce",function(){return lt.W}),n.d(t,"mc",function(){return lt.d}),n.d(t,"ae",function(){return lt.U}),n.d(t,"Wc",function(){return lt.E}),n.d(t,"Vc",function(){return lt.D}),n.d(t,"Ic",function(){return lt.s}),n.d(t,"Hc",function(){return lt.r}),n.d(t,"Jc",function(){return lt.t}),n.d(t,"Kc",function(){return lt.u}),n.d(t,"Mc",function(){return lt.w}),n.d(t,"Lc",function(){return lt.v}),n.d(t,"Ec",function(){return lt.o}),n.d(t,"Dc",function(){return lt.n}),n.d(t,"Fc",function(){return lt.p}),n.d(t,"Nc",function(){return lt.x}),n.d(t,"Pc",function(){return lt.z}),n.d(t,"Oc",function(){return lt.y}),n.d(t,"Gc",function(){return lt.q}),n.d(t,"md",function(){return lt.I}),n.d(t,"pd",function(){return lt.L}),n.d(t,"od",function(){return lt.K}),n.d(t,"uc",function(){return lt.l}),n.d(t,"vc",function(){return lt.m}),n.d(t,"oc",function(){return lt.e}),n.d(t,"nd",function(){return lt.J}),n.d(t,"pc",function(){return lt.f}),n.d(t,"Zd",function(){return lt.T}),n.d(t,"Wd",function(){return lt.Q}),n.d(t,"qd",function(){return lt.M}),n.d(t,"jc",function(){return lt.b}),n.d(t,"he",function(){return lt.cb}),n.d(t,"be",function(){return lt.V}),n.d(t,"fe",function(){return lt.ab}),n.d(t,"ge",function(){return lt.bb}),n.d(t,"Xd",function(){return lt.R}),n.d(t,"Yd",function(){return lt.S}),n.d(t,"de",function(){return lt.X}),n.d(t,"ee",function(){return lt.Y}),n.d(t,"Rc",function(){return lt.B}),n.d(t,"Sc",function(){return lt.C}),n.d(t,"Qc",function(){return lt.A}),n.d(t,"rc",function(){return lt.h}),n.d(t,"kb",function(){return ct}),n.d(t,"e",function(){return ft}),n.d(t,"yd",function(){return ht}),n.d(t,"td",function(){return gt}),n.d(t,"zd",function(){return mt}),n.d(t,"Ad",function(){return vt}),n.d(t,"Kd",function(){return yt}),n.d(t,"Jd",function(){return bt}),n.d(t,"fb",function(){return Et}),n.d(t,"U",function(){return At.a}),n.d(t,"Pb",function(){return He.O}),n.d(t,"c",function(){return He.a}),n.d(t,"db",function(){return He.y}),n.d(t,"bc",function(){return He.P}),n.d(t,"t",function(){return He.g}),n.d(t,"X",function(){return He.w}),n.d(t,"v",function(){return He.h}),n.d(t,"C",function(){return He.k}),n.d(t,"D",function(){return He.l}),n.d(t,"ib",function(){return He.A}),n.d(t,"f",function(){return He.b}),n.d(t,"jb",function(){return He.B}),n.d(t,"S",function(){return He.u}),n.d(t,"Ab",function(){return He.G}),n.d(t,"L",function(){return He.q}),n.d(t,"J",function(){return He.p}),n.d(t,"I",function(){return He.o}),n.d(t,"cd",function(){return He.R}),n.d(t,"dd",function(){return He.S}),n.d(t,"F",function(){return He.m}),n.d(t,"G",function(){return He.n}),n.d(t,"l",function(){return He.d}),n.d(t,"y",function(){return He.i}),n.d(t,"m",function(){return He.e}),n.d(t,"M",function(){return He.r}),n.d(t,"rb",function(){return He.E}),n.d(t,"qb",function(){return He.D}),n.d(t,"Hb",function(){return He.H}),n.d(t,"Lb",function(){return He.L}),n.d(t,"Jb",function(){return He.J}),n.d(t,"Kb",function(){return He.K}),n.d(t,"Nb",function(){return He.N}),n.d(t,"ob",function(){return He.C}),n.d(t,"R",function(){return He.t}),n.d(t,"j",function(){return He.c}),n.d(t,"V",function(){return He.v}),n.d(t,"o",function(){return He.f}),n.d(t,"ec",function(){return He.Q}),n.d(t,"xb",function(){return He.F}),n.d(t,"Ib",function(){return He.I}),n.d(t,"Mb",function(){return He.M}),n.d(t,"cb",function(){return He.x}),n.d(t,"A",function(){return He.j}),n.d(t,"hb",function(){return He.z}),n.d(t,"N",function(){return He.s}),n.d(t,"eb",function(){return Ct}),n.d(t,"Rb",function(){return Tt.a}),n.d(t,"Od",function(){return Ut}),n.d(t,"nb",function(){return li}),n.d(t,"pb",function(){return vi}),n.d(t,"Ud",function(){return Ti}),n.d(t,"Qd",function(){return Oi}),n.d(t,"rd",function(){return ki}),n.d(t,"me",function(){return wi}),n.d(t,"Uc",function(){return Pi}),n.d(t,"Xc",function(){return ji}),n.d(t,"je",function(){return Fi}),n.d(t,"ke",function(){return Nt}),n.d(t,"sc",function(){return Bi}),n.d(t,"g",function(){return Vi}),n.d(t,"Tb",function(){return Ni}),n.d(t,"jd",function(){return ei.b}),n.d(t,"kc",function(){return ei.a}),n.d(t,"Ub",function(){return Yr}),n.d(t,"ad",function(){return ti}),n.d(t,"vd",function(){return ri}),n.d(t,"wd",function(){return ii}),n.d(t,"ud",function(){return oi}),n.d(t,"se",function(){return ai}),n.d(t,"pe",function(){return si}),n.d(t,"tc",function(){return ci}),n.d(t,"le",function(){return ui}),n.d(t,"ld",function(){return kn}),n.d(t,"yc",function(){return Sn}),n.d(t,"Td",function(){return In}),n.d(t,"oe",function(){return xn}),n.d(t,"bd",function(){return Wt}),n.d(t,"Ld",function(){return un}),n.d(t,"Sd",function(){return dn}),n.d(t,"ne",function(){return pn}),n.d(t,"sd",function(){return fn}),n.d(t,"b",function(){return hn}),n.d(t,"Pd",function(){return An}),n.d(t,"fc",function(){return Cn}),n.d(t,"Yc",function(){return Tn}),n.d(t,"Zc",function(){return Rn}),n.d(t,"nc",function(){return Nn.a}),n.d(t,"Vd",function(){return Bn}),n.d(t,"Cd",function(){return Un}),n.d(t,"Fd",function(){return Hn}),n.d(t,"Md",function(){return zn}),n.d(t,"Bd",function(){return Vn}),n.d(t,"Ed",function(){return Gn}),n.d(t,"gd",function(){return Wn}),n.d(t,"Vb",function(){return rr}),n.d(t,"qe",function(){return ur}),n.d(t,"re",function(){return tr}),n.d(t,"hc",function(){return pr}),n.d(t,"kd",function(){return mr}),n.d(t,"ie",function(){return vr}),n.d(t,"Tc",function(){return yr}),n.d(t,"ed",function(){return br}),n.d(t,"xd",function(){return Er}),n.d(t,"Qb",function(){return _r}),n.d(t,"id",function(){return Ar}),n.d(t,"hd",function(){return Cr}),n.d(t,"u",function(){return kr}),n.d(t,"d",function(){return jr}),n.d(t,"qc",function(){return Jr}),n.d(t,"Xb",function(){return Fr}),n.d(t,"fd",function(){return Br}),n.d(t,"xc",function(){return Ur}),n.d(t,"Ac",function(){return Hr}),n.d(t,"Cc",function(){return zr}),n.d(t,"Bc",function(){return Vr}),n.d(t,"wc",function(){return Kr}),n.d(t,"zc",function(){return Gr}),n.d(t,"Rd",function(){return o})},"i+co":function(e,t,n){"use strict";var r,i,o,a,s,c,u,l,d,p,f,h,g,m;n.d(t,"a",function(){return f}),n.d(t,"b",function(){return d}),n.d(t,"c",function(){return r}),n.d(t,"d",function(){return o}),n.d(t,"e",function(){return u}),n.d(t,"f",function(){return s}),n.d(t,"g",function(){return g}),(i=r=r||{}).INIT="INIT",i.DESTROY="DESTROY",i.START_RECORD="START_RECORD",i.STOP_RECORD="STOP_RECORD",i.START_FOLLOW="START_FOLLOW",i.STOP_FOLLOW="STOP_FOLLOW",i.SEND_STATE="SEND_STATE",i.GET_STATE="GET_STATE",i.SUITE_VERSION_CHANGE="SUITE_VERSION_CHANGE",i.ACCEPT_STATE="ACCEPT_STATE",i.CHECK_VERSION="CHECK_VERSION",i.CHECK_NEW_ACTION="CHECK_NEW_ACTION",i.CHECK_MUTE="CHECK_MUTE",i.DATA_ILLEGAL="DATA_ILLEGAL",i.DISPATCH_MODULE="DISPATCH_MODULE",i.HAND_SHAKE="HAND_SHAKE",i.REGISTER_MODULE="REGISTER_MODULE",i.UNREGISTER_MODULE="UNREGISTER_MODULE",i.REGISTER_FUNC="REGISTER_FUNC",i.SDK_ON="SDK_ON",i.SDK_REFRESH="SDK_REFRESH",i.ON_FOLLOW_ACTION="ON_FOLLOW_ACTION",i.ON_FOLLOW_STATE_CHANGE="ON_FOLLOW_STATE_CHANGE",i.VC_API_ERROR="VC_API_ERROR",i.EMIT_ACTION_ERROR="EMIT_ACTION_ERROR",i.GET_CURRENT_MODULE_STATE_ERROR="GET_CURRENT_MODULE_STATE_ERROR",(a=o=o||{}).INFO="info",a.WARNING="warning",a.ERROR="error",(c=s=s||{}).SDK="sdk",c.ADAPTER="adapter",c.BUSINESS="business",(l=u=u||{}).WEB="web",l.RN="rn",(p=d=d||{}).DISPATCHED="dispatched",p.IGNORED="ignored",p.APPLIED="applied",p.FAILED="failed",(h=f=f||{}).RECORDING="recording",h.OLD_VERSION="old-version",h.IS_MUTE="is-mute",(m=g=g||{}).Normal="Normal",m.Record="Record",m.Follow="Follow"},i0Qd:function(e,t,n){var r=n("pevS"),i=n("V3kF"),o=n("7GIe"),a=n("SJYm"),s=n("LGyv"),c=n("W1ep"),u=n("MdFX"),l=function(e,t){var n=this;if(!(n instanceof l))return new l(e,t);o&&(n=o(new Error(t),i(n)));var r=[];return c(e,r.push,r),n.errors=r,void 0!==t&&u(n,"message",String(t)),n};l.prototype=a(Error.prototype,{constructor:s(5,l),name:s(5,"AggregateError")}),r({global:!0},{AggregateError:l})},i3tW:function(e,t,n){"use strict";var r=n("pevS"),i=n("OsYe"),o=n("cEKj"),a=n("wbIY"),s=n("HmPo"),c=n("Bvq2"),u=n("eOcF"),l=n("YiBS"),d=n("39uu"),p=n("b42z"),f=n("T/97"),h=n("pCEo"),g=n("cWgI"),m=n("LGyv"),v=n("SJYm"),y=n("oBZR"),b=n("DPDV"),E=n("jhEP"),_=n("ogVW"),C=n("RLqH"),T=n("QYBB"),O=n("cEPT"),k=n("MdFX"),S=n("1mbr"),w=n("1lkh"),I=n("su3n"),x=n("bpon"),L=n("PoCt"),R=n("A2Ma"),N=n("+8zG"),D=n("m/sp"),M=n("KHTo"),P=n("L1rz"),j=n("3uAa").forEach,F=I("hidden"),B="Symbol",U="prototype",H=R("toPrimitive"),z=P.set,V=P.getterFor(B),K=Object[U],W=i.Symbol,Y=i.JSON,q=Y&&Y.stringify,Z=C.f,X=T.f,Q=E.f,J=O.f,$=w("symbols"),ee=w("op-symbols"),te=w("string-to-symbol-registry"),ne=w("symbol-to-string-registry"),re=w("wks"),ie=i.QObject,oe=!ie||!ie[U]||!ie[U].findChild,ae=a&&c(function(){return 7!=v(X({},"a",{get:function(){return X(this,"a",{value:7}).a}})).a})?function(e,t,n){var r=Z(K,t);r&&delete K[t],X(e,t,n),r&&e!==K&&X(K,t,r)}:X,se=function(e,t){var n=$[e]=v(W[U]);return z(n,{type:B,tag:e,description:t}),a||(n.description=t),n},ce=s&&"symbol"==typeof W.iterator?function(e){return"symbol"==typeof e}:function(e){return Object(e)instanceof W},ue=function(e,t,n){e===K&&ue(ee,t,n),p(e);var r=g(t,!0);return p(n),u($,r)?(n.enumerable?(u(e,F)&&e[F][r]&&(e[F][r]=!1),n=v(n,{enumerable:m(0,!1)})):(u(e,F)||X(e,F,m(1,{})),e[F][r]=!0),ae(e,r,n)):X(e,r,n)},le=function(t,e){p(t);var n=h(e),r=y(n).concat(ge(n));return j(r,function(e){a&&!pe.call(n,e)||ue(t,e,n[e])}),t},de=function(e,t){return void 0===t?v(e):le(v(e),t)},pe=function(e){var t=g(e,!0),n=J.call(this,t);return!(this===K&&u($,t)&&!u(ee,t))&&(!(n||!u(this,t)||!u($,t)||u(this,F)&&this[F][t])||n)},fe=function(e,t){var n=h(e),r=g(t,!0);if(n!==K||!u($,r)||u(ee,r)){var i=Z(n,r);return!i||!u($,r)||u(n,F)&&n[F][r]||(i.enumerable=!0),i}},he=function(e){var t=Q(h(e)),n=[];return j(t,function(e){u($,e)||u(x,e)||n.push(e)}),n},ge=function(e){var t=e===K,n=Q(t?ee:h(e)),r=[];return j(n,function(e){!u($,e)||t&&!u(K,e)||r.push($[e])}),r};s||(S((W=function(){if(this instanceof W)throw TypeError("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,t=L(e),n=function(e){this===K&&n.call(ee,e),u(this,F)&&u(this[F],t)&&(this[F][t]=!1),ae(this,t,m(1,e))};return a&&oe&&ae(K,t,{configurable:!0,set:n}),se(t,e)})[U],"toString",function(){return V(this).tag}),O.f=pe,T.f=ue,C.f=fe,b.f=E.f=he,_.f=ge,a&&(X(W[U],"description",{configurable:!0,get:function(){return V(this).description}}),o||S(K,"propertyIsEnumerable",pe,{unsafe:!0})),N.f=function(e){return se(R(e),e)}),r({global:!0,wrap:!0,forced:!s,sham:!s},{Symbol:W}),j(y(re),function(e){D(e)}),r({target:B,stat:!0,forced:!s},{for:function(e){var t=String(e);if(u(te,t))return te[t];var n=W(t);return te[t]=n,ne[n]=t,n},keyFor:function(e){if(!ce(e))throw TypeError(e+" is not a symbol");if(u(ne,e))return ne[e]},useSetter:function(){oe=!0},useSimple:function(){oe=!1}}),r({target:"Object",stat:!0,forced:!s,sham:!a},{create:de,defineProperty:ue,defineProperties:le,getOwnPropertyDescriptor:fe}),r({target:"Object",stat:!0,forced:!s},{getOwnPropertyNames:he,getOwnPropertySymbols:ge}),r({target:"Object",stat:!0,forced:c(function(){_.f(1)})},{getOwnPropertySymbols:function(e){return _.f(f(e))}}),Y&&r({target:"JSON",stat:!0,forced:!s||c(function(){var e=W();return"[null]"!=q([e])||"{}"!=q({a:e})||"{}"!=q(Object(e))})},{stringify:function(e){for(var t,n,r=[e],i=1;i<arguments.length;)r.push(arguments[i++]);if(n=t=r[1],(d(t)||void 0!==e)&&!ce(e))return l(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!ce(t))return t}),r[1]=t,q.apply(Y,r)}}),W[U][H]||k(W[U],H,W[U].valueOf),M(W,B),x[F]=!0},iYz8:function(e,t,n){e.exports=n("FvEI")},ibWA:function(e,t,n){"use strict";function r(e,t){var n=[];if(!e||!e.length)return n;for(var r="",i=0;i<e.length;++i)e[i]!==t?r+=e[i]:(r&&(n.push(r),r=""),n.push(e[i]));return r&&n.push(r),n}function i(e){var t=[],n="";return e.split("").forEach(function(e){"\n"===e?(n&&(t.push(n),n=""),t.push(e)):n+=e}),n&&t.push(n),t}n.d(t,"a",function(){return r}),n.d(t,"b",function(){return i})},idmN:function(e,t,n){var c=n("ZWtO"),u=n("FZoo"),l=n("4uTw");function r(e,t,n){for(var r=-1,i=t.length,o={};++r<i;){var a=t[r],s=c(e,a);n(s,a)&&u(o,l(a,e),s)}return o}e.exports=r},ieoY:function(e,t,n){var a=n("EldB"),s=n("Kz5y"),c=1;function r(e,t,n){var r=t&c,i=a(e);function o(){return(this&&this!==s&&this instanceof o?i:e).apply(r?n:this,arguments)}return o}e.exports=r},itsj:function(e,t){function n(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}e.exports=n},j0vO:function(e,t,i){"use strict";i.r(t);var n,r,o,a,s,c,u,l=i("o0o1"),d=i.n(l),p=i("yXPU"),f=i.n(p),h=i("iP/4"),g=i("ucr6"),m=i("TJya"),v=i("5dbN"),y=i("1+jt"),b=i("+Xq6"),E=i("lwsE"),_=i.n(E),C=i("W8MJ"),T=i.n(C),O=i("t67m"),k=i.n(O),S=i("vJtL"),w=i("nN3d"),I=(n=0,function(){return"".concat(Object(w.c)(16),"-").concat(n++)}),x=function(){return Object(S.default)(window.TextEncoder)&&Object(S.default)(window.TextDecoder)};(o=r=r||{})[o.High=0]="High",o[o.Low=1]="Low",(s=a=a||{}).PlainText="0",s.AESGCM="1",(u=c=c||{}).Destroy="DESTROY",u.FETCH="FETCH";var L=new k.a;L.onmessage=function(e){var t,n={},r=(n=h.a.isIE||!x()?JSON.parse(e.data):(t=new TextDecoder,JSON.parse(t.decode(e.data)))).pluginId;R.has(r)&&R.get(r)(n)};var R=new Map,N=function(e){var t;h.a.isIE||!x()?L.postMessage(JSON.stringify(e)):(t=(new TextEncoder).encode(JSON.stringify(e)),L.postMessage({buf:t.buffer},[t.buffer]))},D=function(e,t){R.set(e,t)},M=function(e){var t={type:e.type||"cover",key:e.key||"",cdnUrl:e.cdnOptions?e.cdnOptions.url:"",decryptKey:e.cdnOptions?e.cdnOptions.decryptKey:"",pluginId:e.instanceId,originSrc:e.originSrc,keyUrl:e.reqCdnUrl||"",fileToken:e.fileToken,driveFetchCdnUrl:e.reqCdnUrl||"",coverOptions:e.coverOptions};N({type:c.FETCH,data:{inViewImages:[t],nearScreenImages:[]}})},P=function(e){R.delete(e),N({type:c.Destroy,data:{pluginId:e}})},j=function(){function e(){_()(this,e),this.id=I(),this.promiseHandlerMap=new Map,D(this.id,this.recieveData.bind(this))}return T()(e,[{key:"fetch",value:function(n){var r=this,e=Object.assign({},n,{instanceId:this.id});return M(e),new Promise(function(e,t){r.promiseHandlerMap.set(n.originSrc,{resolve:e,reject:t})})}},{key:"cancel",value:function(){}},{key:"recieveData",value:function(e){this.promiseHandlerMap.has(e.originSrc)&&(e.blobUrl?this.promiseHandlerMap.get(e.originSrc).resolve(e):this.promiseHandlerMap.get(e.originSrc).reject(e),this.promiseHandlerMap.delete(e.originSrc))}},{key:"destroy",value:function(){this.promiseHandlerMap.clear(),P(this.id)}}]),e}(),F=i("jtRX"),B=i("EVj1"),U=i("Ysvc"),H=i("dP4c"),z=i("toa8"),V=i("AESI");function K(e){return z.d.post(V.POST_UNLINK_ISV,e,{headers:{"Content-Type":"application/json"}})}var W=i("U6jp"),Y=i("77Gt"),q=i("IyQe"),Z=i("oqjh"),X=i("mNQo"),Q=i("lZ5r"),J=i("VIFs"),$=i("jJw9"),ee=i("kUgE"),te=i("lQZd"),ne=i("gfe6"),re=i("88Nr"),ie=i("2spZ"),oe=i("VI6H"),ae=i("7/sA"),se=i("t6I4"),ce=i("zIjt"),ue=i("rLED"),le=i("KiYW"),de=i("mpaB"),pe=i("ywOK"),fe=i("EQyw"),he=i("fJND"),ge=i("skFV"),me=i("AUfY");i.d(t,"memberHelper",function(){return ve}),i.d(t,"importSheetDocHelper",function(){return ye}),i.d(t,"browser",function(){return h.a}),i.d(t,"history",function(){return g.a}),i.d(t,"generateHeaders",function(){return m.a}),i.d(t,"locateRoute",function(){return v.locateRoute}),i.d(t,"getColorByUserId",function(){return y.a}),i.d(t,"getDriveImageUrl",function(){return b.h}),i.d(t,"getDriveImageToken",function(){return b.g}),i.d(t,"decodeInfo",function(){return b.d}),i.d(t,"encodeInfo",function(){return b.e}),i.d(t,"generatePublicUrl",function(){return b.f}),i.d(t,"makePulicUrlEffective",function(){return b.i}),i.d(t,"copyDriveImages",function(){return b.c}),i.d(t,"CopyDriveImagesCode",function(){return b.a}),i.d(t,"DriveImageQuery",function(){return b.DriveImageQuery}),i.d(t,"ImageWorkerHelper",function(){return j}),i.d(t,"clickFeedBack",function(){return F.b}),i.d(t,"formatQuery",function(){return B.d}),i.d(t,"parseOriginUrl",function(){return B.k}),i.d(t,"isSupportNativeAlert",function(){return U.b}),i.d(t,"completeURLProtocol",function(){return H.a}),i.d(t,"isDataURL",function(){return H.b}),i.d(t,"unlinkISVRequest",function(){return K}),i.d(t,"UnlinkISVRequestParams",function(){}),i.d(t,"isAnnouncement",function(){return W.o}),i.d(t,"getUserPermissions",function(){return q.getUserPermissions}),i.d(t,"getIsEditable",function(){return q.getIsEditable}),i.d(t,"getIsSuitePublicEditable",function(){return q.getIsSuitePublicEditable}),i.d(t,"getMemberPermission",function(){return q.getMemberPermission}),i.d(t,"permissionToKey",function(){return q.permissionToKey}),i.d(t,"collectLoadPerformance",function(){return Z.a}),i.d(t,"getClientVarsUrl",function(){return X.a}),i.d(t,"getSheetSubblocksUrl",function(){return X.b}),i.d(t,"transformPerformanceData",function(){return Z.c}),i.d(t,"showNotNotifyBlockedUsersToast",function(){return Q.b}),i.d(t,"prependAPI",function(){return J.prependAPI}),i.d(t,"getPublicDocs",function(){return J.getPublicDocs}),i.d(t,"prependSpace",function(){return J.prependSpace}),i.d(t,"isStagingEnv",function(){return J.isStagingEnv}),i.d(t,"isDocUrl",function(){return J.isDocUrl}),i.d(t,"replaceImageDataSrc",function(){return $.replaceImageDataSrc}),i.d(t,"LANG_MAP",function(){return ee.LANG_MAP}),i.d(t,"setLanguage",function(){return ee.setLanguage}),i.d(t,"getLanguage",function(){return ee.getLanguage}),i.d(t,"getLocale",function(){return ee.getLocale}),i.d(t,"getToken",function(){return te.g}),i.d(t,"suiteType",function(){return te.k}),i.d(t,"suiteTypeNum",function(){return te.l}),i.d(t,"createDefaultPropsWarningFunc",function(){return te.a}),i.d(t,"isOnline",function(){return ne.c}),i.d(t,"getUnnamedTitle",function(){return re.d}),i.d(t,"sleep",function(){return ie.c}),i.d(t,"getUserName",function(){return oe.o}),i.d(t,"getCurrentUser",function(){return oe.c}),i.d(t,"isDev",function(){return ae.a}),i.d(t,"parseQuery",function(){return se.d}),i.d(t,"getShouldHideHelpBtn",function(){return ce.d}),i.d(t,"getMinaConfigFromTemplate",function(){return ue.L}),i.d(t,"getMinaNumberConfig",function(){return ue.M}),i.d(t,"isSheetGarrEnable",function(){return ue.pb}),i.d(t,"getMinaBooleanConfig",function(){return ue.I}),i.d(t,"isTestAccount",function(){return J.isTestAccount}),i.d(t,"getCustomIconUrl",function(){return le.e}),i.d(t,"getSuiteTypeNum",function(){return de.d}),i.d(t,"fetchDocsMeta",function(){return de.b}),i.d(t,"performanceStageCollector",function(){return pe.c}),i.d(t,"shouldItemUseFileSecureMode",function(){return fe.b}),i.d(t,"getFileToken",function(){return he.a}),i.d(t,"getGlobalConfig",function(){return ge.l}),i.d(t,"getSheetToolbarIsSingleForInit",function(){return me.b}),i.d(t,"getInitSheetToolbarPrefence",function(){return me.a}),i.d(t,"saveToolbarPreference",function(){return me.c}),i.d(t,"isUnderWiki",function(){return v.isUnderWiki});var ve={handleUserNewInfo:Y.j,handleUserLeave:Y.i,handleResetMembers:Y.g,handleMembersMessage:Y.f,getSuiteMembers:Y.d,handleSetUser:Y.h,fetchMemberInfos:Y.b},ye=function(){var e=f()(d.a.mark(function e(){var t,n,r;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then(i.bind(null,"LN8o"));case 2:return t=e.sent,n=t.getSegmentArray,r=t.generateEditorValue,e.abrupt("return",{getSegmentArray:n,generateEditorValue:r});case 6:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()},j1lG:function(e,t,n){"use strict";n.d(t,"J",function(){return o}),n.d(t,"l",function(){return a}),n.d(t,"M",function(){return s}),n.d(t,"K",function(){return c}),n.d(t,"c",function(){return u}),n.d(t,"d",function(){return l}),n.d(t,"r",function(){return d}),n.d(t,"s",function(){return p}),n.d(t,"x",function(){return f}),n.d(t,"t",function(){return h}),n.d(t,"u",function(){return g}),n.d(t,"v",function(){return m}),n.d(t,"y",function(){return v}),n.d(t,"B",function(){return y}),n.d(t,"n",function(){return b}),n.d(t,"o",function(){return E}),n.d(t,"m",function(){return _}),n.d(t,"w",function(){return C}),n.d(t,"D",function(){return r}),n.d(t,"j",function(){return w}),n.d(t,"g",function(){return I}),n.d(t,"I",function(){return x}),n.d(t,"A",function(){return L}),n.d(t,"C",function(){return R}),n.d(t,"L",function(){return N}),n.d(t,"z",function(){return D}),n.d(t,"P",function(){return M}),n.d(t,"p",function(){return P}),n.d(t,"e",function(){return j}),n.d(t,"f",function(){return F}),n.d(t,"H",function(){return B}),n.d(t,"N",function(){return U}),n.d(t,"O",function(){return H}),n.d(t,"k",function(){return z}),n.d(t,"q",function(){return T}),n.d(t,"E",function(){return k}),n.d(t,"h",function(){return q}),n.d(t,"i",function(){return Z}),n.d(t,"b",function(){return X}),n.d(t,"a",function(){return Q}),n.d(t,"F",function(){return V}),n.d(t,"G",function(){return W});var r,i,o="new-gallery",a="gallery-line",s="image-uploaded",c="gallery",u="clientside-gallery",l="clientside-image-uploaded",d="image-container-wrap",p="image-draggable",f="image-loading",h="data-image-guide",g="true",m="[".concat(h,'="').concat(g,'"]'),v="image-loading-view",y=" ",b=("".concat(y,"\n"),"drop-animate-left"),E="drop-animate-right",_=220,C=6;(i=r=r||{}).Drive="Drive",i.Doc="Doc",i.External="External";var T,O,k,S,w=/\/api\/box\/stream\/download\/(?:v\d+\/)?(all|cover)\/(\w*)/,I=/\/api\/file\/f\/(\w*)/,x=20,L=2,R=0,N="",D=20971520,M="TOGGLE_IMAGE_BORDER",P=[s,c,u,l],j=120,F=120,B=16/9,U=200,H=200,z="text/gallery";(O=T=T||{}).IMAGE_SET_HIGHLIGHT="IMAGE_SET_HIGHLIGHT",O.IMAGE_UPDATE_MARK="IMAGE_UPDATE_MARK",(S=k=k||{}).Initial="Initial",S.Loading="Loading",S.Finished="Finished",S.GifPreLoading="GifPreLoading",S.GifLoading="GifLoading",S.LoadingWithPreview="LoadingWithPreview";var V,K,W,Y,q=20,Z=40,X=8,Q={left:"flex-start",center:"center",right:"flex-end"};(K=V=V||{}).APanel="APanel",K.Drag="Drag",K.Paste="Paste",(Y=W=W||{}).Success="Success",Y.Fail="Fail"},jBvr:function(e,C,T){"use strict";(function(r){T.d(C,"a",function(){return _});var e=T("lwsE"),n=T.n(e),t=T("W8MJ"),i=T.n(t),o=T("a1gu"),a=T.n(o),s=T("Nsbk"),u=T.n(s),c=T("7W2i"),l=T.n(c),d=T("7EGn"),p=T("q1tI"),f=T.n(p),h=T("UlbS"),g=T("+/Fj"),m=(T("SFb0"),T("jp/M")),v=T("IyQe"),y=T("mRaX"),b=T("AiBH"),E=T("9g7G"),_=function(e){function t(e){var c;return n()(this,t),(c=a()(this,u()(t).call(this,e))).checkThisInEmbedPermissions=function(e){var t,n=e.embedObjPermissions,r=e.token,i=n?n.get(r):null;i&&(t=i.toJS(),c.checkShowPermissionPopup(t))},c.checkShowPermissionPopup=function(e){var t=e.ownersWithoutPerm,n=void 0===t?[]:t,r=e.ownersWithPerm,i=void 0===r?[]:r,o=e.permission,a=Object(v.embedObjPermission2Booleans)(o);c.embedObjPermission={permission:a,ownersWithoutPerm:n,ownersWithPerm:i}},c.handleOpenEmbedShareModal=function(){var e=c.props,t=e.openModal,n=e.token,r=e.title,i=e.closePopover,o=e.type,a=c.embedObjPermission,s=Object.assign({token:n,type:o,title:r},a);t(m.ui.MODAL_TYPES.EMBED_SHARE,{embedObj:s}),Object(y.L)(b.u.CLICK_EMBED_QUICK_SHARE,{from:"insert"}),i&&i()},c.isOpenInLark=Object(E.j)(),c.embedObjPermission={permission:{canInvite:!1,canPublicize:!1,canPublicizeWidely:!1},ownersWithoutPerm:[],ownersWithPerm:[]},c}return l()(t,e),i()(t,[{key:"UNSAFE_componentWillMount",value:function(){this.checkThisInEmbedPermissions(this.props)}},{key:"componentDidMount",value:function(){this.checkThisInEmbedPermissions(this.props)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.checkThisInEmbedPermissions(e)}},{key:"render",value:function(){var e=Object(d.default)(this.embedObjPermission,["permission","canInvite"],!1);if(this.isOpenInLark||!e)return null;var t=this.props.style,n="permission-prompt";return f.a.createElement("div",{style:t,className:"mention-popover comment-ignore-blur ".concat(n)},f.a.createElement("section",{className:"mention-pop-share"},f.a.createElement("div",{className:"mention-pop-share__quick-share"},f.a.createElement("div",{className:"share-notify"},f.a.createElement(g.a,{className:"permission-warning-icon"}),f.a.createElement("span",{className:"warning-text"},r("permission.embed.share_tips_2"))),f.a.createElement(h.Button,{type:"primary",onClick:this.handleOpenEmbedShareModal},r("permission.embed.share_btn")))))}}]),t}(f.a.PureComponent)}).call(this,T("2vAP"))},jIJb:function(e,t,n){"use strict";var r=n("aOYg"),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t,n=arguments[1];if(r(e),void 0!==n)return(t=i.call(e,"__ee__")&&e.__ee__)?void(t[n]&&delete t[n]):void 0;i.call(e,"__ee__")&&delete e.__ee__}},jP3w:function(e,t,n){var r=n("MycS"),i=Function.prototype;e.exports=function(e){var t=e.bind;return e===i||e instanceof Function&&t===i.bind?r:t}},jQUo:function(e,t,n){n("m/sp")("toPrimitive")},jSUa:function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"b",function(){return r});var r,i,o="j-block-container";(i=r=r||{}).IFRAME_BLOCK="IFRAME_BLOCK",i.REACTION_BLOCK="REACTION_BLOCK",i.SHEET_BLOCK="SHEET_BLOCK",i.BITABLE_BLOCK="BITABLE_BLOCK",i.POLL_BLOCK="POLL_BLOCK",i.REMINDER_BLOCK="REMINDER_BLOCK",i.PLACEHOLDER_BLOCK="PLACEHOLDER_BLOCK",i.JIRA_ISSUE_BLOCK="JIRA_ISSUE_BLOCK",i.JIRA_FILTER_BLOCK="JIRA_FILTER_BLOCK",i.MINDNOTE_BLOCK="MINDNOTE_BLOCK",i.MENTION_BLOCK="mentionBlock",i.JEST_BLOCK="JEST_BLOCK",i.AT_USER_BLOCK="AT_USER_BLOCK",i.FILE_CARD_BLOCK="FILE_CARD_BLOCK",i.HTML_BLOCK="HTML_BLOCK",i.CHAT_CARD_BLOCK="CHAT_CARD_BLOCK",i.READ_PROCESS_BLOCK="READ_PROCESS_BLOCK",i.APPLICATION_CONTROL_BLOCK="APPLICATION_CONTROL_BLOCK",i.ISV_BLOCK="ISV_BLOCK"},jVwk:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var y=n("7Kxq"),b=n("y2sV"),r=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},r=t||e,i=r.selStart,o=r.selEnd,a=n.selStart,s=n.selEnd,c=e.lines.atIndex(e.selEnd[0])||{},u=c.text,l=c.lineMarker,d=(u||"").length,p=o[1]<d,f=" ";if(!i||!o)return"\n \n";0===i[0]&&"0"===e.zoneId&&(f="\n".concat(f));var h=0;a&&s&&a[0]===s[0]&&a[0]===i[0]&&s[1]===i[1]&&(h=s[1]-a[1]);var g,m=e.repManager.editor,v=i[1]>l+h;return m.version.includes(b.y)?(g=m.getContentState().getZoneState(e.zoneId).getLine(i[0]))&&(g.getLineAttributes().every(function(e){return y.c.includes(e[0])})||(v=!0)):v=Boolean(l)||v,v&&(f="\n "),p&&(f+="\n"),"sp"===e.attributeManager.findAttributeOnLine(e.selEnd[0],"template-placeholder")&&(f="\n \n"),f}},"jbM+":function(e,t,n){var r=n("R/W3");function i(e,t){return!!(null==e?0:e.length)&&-1<r(e,t,0)}e.exports=i},jeLo:function(e,t,n){var r=n("juv8"),i=n("mTTR");function o(e){return r(e,i(e))}e.exports=o},jhEP:function(e,t,n){var r=n("pCEo"),i=n("DPDV").f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(e){try{return i(e)}catch(e){return a.slice()}};e.exports.f=function(e){return a&&"[object Window]"==o.call(e)?s(e):i(r(e))}},jm1x:function(e,t,n){"use strict";var r=n("pVnL"),i=n.n(r),o=n("QILm"),a=n.n(o),s=n("q1tI"),c=n.n(s);t.a=function(e){e.styles;var t=a()(e,["styles"]);return c.a.createElement("svg",i()({width:"16",height:"16",viewBox:"0 0 16 16"},t),c.a.createElement("g",{transform:"translate(-53 -4)",fill:"none",fillRule:"evenodd"},c.a.createElement("rect",{stroke:"#F1F2F3",x:".5",y:".5",width:"74",height:"23",rx:"11.5"}),c.a.createElement("path",{d:"M53 4h16v16H53z"}),c.a.createElement("path",{d:"M61 5a7 7 0 110 14 7 7 0 010-14zm0 1a6 6 0 100 12 6 6 0 000-12zm3.1 4.02l.34.33c.1.1.1.26 0 .36l-3.89 3.89c-.1.1-.25.1-.35 0l-.33-.34-.04-.04-1.92-1.95a.25.25 0 010-.36l.34-.33c.1-.1.25-.1.35 0l1.78 1.82 3.38-3.38c.1-.1.25-.1.35 0z",fill:"#646A73"})))}},juv8:function(e,t,n){var u=n("MrPd"),l=n("hypo");function r(e,t,n,r){var i=!n;n=n||{};for(var o=-1,a=t.length;++o<a;){var s=t[o],c=r?r(n[s],e[s],s,n,e):void 0;void 0===c&&(c=e[s]),(i?l:u)(n,s,c)}return n}e.exports=r},k4Da:function(e,t,n){var r=n("LXxW"),i=n("n3Sm"),o=n("ut/Y"),a=n("Z0cm");function s(e,t){return(a(e)?r:i)(e,o(t,3))}e.exports=s},k7EW:function(e,t,n){"use strict";n.d(t,"a",function(){return c}),n.d(t,"b",function(){return l});var r=n("rLED"),i=n("U6jp"),o=n("EyGs"),a=Object(i.j)("appVersion"),s=Object(r.N)("download_manager_least_version",""),c=Object(o.a)(a,s),u=Object(r.N)("native_download_manager_least_version",""),l=Object(r.I)("native_download_manager_enabled",!1)&&Object(o.a)(a,u)},kA7L:function(e,t,n){var i=n("hdMt");function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),i(e,r.key,r)}}function o(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}e.exports=o},kE3c:function(e,t,n){e.exports=n("uC8H")},kEHx:function(e,t,n){"use strict";n.r(t);var r=n("m/+l"),i=n("ANjH"),o=n("wIs1"),a=n("qup3"),s=n("QsUg"),c=n("myFJ"),u=n("lwsE"),l=n.n(u),d=n("W8MJ"),p=n.n(d),f=n("a1gu"),h=n.n(f),g=n("Nsbk"),m=n.n(g),v=n("7W2i"),y=n.n(v),b=n("q1tI"),E=n.n(b),_=function(){return function(n){return function(e){function t(e){var n;return l()(this,t),(n=h()(this,m()(t).call(this,e))).getRef=function(e){var t=n.props.getComponentRef;t&&t(e)},n}return y()(t,e),p()(t,[{key:"render",value:function(){return E.a.createElement(n,Object.assign({},this.props,{ref:this.getRef}))}}]),t}(E.a.Component)}},C=n("qYkn"),T=n("vc5i"),O=n("NltJ"),k=n("Qqsi"),S=n("5cZX"),w=n("l9V8"),I=n("DJKl"),x=n("8g0u"),L=n("jzcD"),R=n("QM+C"),N=n("rLED"),D={showCopyCommentWarning:C.a,setCommentPositionData:a.a,setCommentHistoryReopening:s.a,setCommentReaction:I.a,setCommentReactionEntities:I.b,setCommentReactionLoadStatus:I.c},M=function(e){var t=Object(k.b)(e),n=Object(T.o)(e),r=Object(T.n)(e),i=Object(S.u)(e),o=Object(L.a)(e),a=n===R.NUM_SUITE_TYPE.DOC,s=n===R.NUM_SUITE_TYPE.SHEET,c=n===R.NUM_SUITE_TYPE.MINDNOTE;return Object.assign({rootType:n,rootToken:r,isTemplate:t,user:Object(O.d)(e),commentPositions:Object(O.f)(e),comments:Object(O.i)(e),commentable:Object(S.b)(e)||t,textCopyable:i&&i.copyable,reopening:Object(x.b)(e),transEnabled:a||s,embedObjShareEnable:Object(N.s)()&&(a||c),isCommentsDataLoaded:Object(O.o)(e),commentMessageMap:Object(O.b)(e)},o)};t.default=Object(i.compose)(Object(r.connect)(M,D),c.a,o.a,_())(w.List)},kERW:function(e,t,n){"use strict";n.d(t,"a",function(){return u});var o=n("6blF"),a=n("isby"),s=n("2Bdj"),c=n("67Y/");function u(r,i,t){return t?u(r,i).pipe(Object(c.map)(function(e){return Object(a.a)(e)?t.apply(void 0,e):t(e)})):new o.a(function(n){var e,t=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return n.next(1===e.length?e[0]:e)};try{e=r(t)}catch(e){return void n.error(e)}if(Object(s.a)(i))return function(){return i(t,e)}})}},kESg:function(e,t,n){"use strict";n.d(t,"h",function(){return f}),n.d(t,"j",function(){return h}),n.d(t,"k",function(){return a}),n.d(t,"a",function(){return v}),n.d(t,"l",function(){return g}),n.d(t,"e",function(){return y}),n.d(t,"b",function(){return b}),n.d(t,"m",function(){return E}),n.d(t,"f",function(){return _}),n.d(t,"c",function(){return C}),n.d(t,"d",function(){return T}),n.d(t,"g",function(){return O}),n.d(t,"i",function(){return k});var r,i,o,a,s,c=n("lSNA"),u=n.n(c),l=n("H6oK"),d=n("AiBH"),p=n("YNKm"),f=10,h=8;(s=a=a||{}).ZoneId="zoneId",s.ZoneType="zoneType";var g,m,v="aceTable";(m=g=g||{}).Table="table",m.CodeBlock="codeBlock",m.CalloutBlock="calloutBlock",m.Default="default";var y={SPAN:"zone-plugin-region",ACE_LINE:"zone-plugin-ace-line",SELECTED:"zone-selected",SCROLL_CONTAINER:"zone-scroll-container"},b=[g.CodeBlock,g.CalloutBlock],E='<div class="ace-zone-loading-container"><div class="ace-zone-loading"><div class="ace-zone-loader"><svg class="circular" viewBox="25 25 50 50"><circle class="path" cx="50" cy="50" r="20" fill="none" stroke-width="4" stroke-miterlimit="10"></circle></svg></div></div></div>',_={ALL_ZONE_DID_RENDER:"ALL_ZONE_DID_RENDER"},C=(r={},u()(r,g.CodeBlock,[l.BlockType.AT_USER_BLOCK,l.BlockType.REMINDER_BLOCK,l.BlockType.EQUATION_BLOCK]),u()(r,g.CalloutBlock,[l.BlockType.AT_USER_BLOCK,l.BlockType.REMINDER_BLOCK,l.BlockType.EQUATION_BLOCK]),r),T=(i={},u()(i,g.CodeBlock,{blocks:Object.values(l.BlockType).filter(function(e){return!C[g.CodeBlock].includes(e)}),attribs:["list","heading","blockquote","image-uploaded","gallery","clientside-gallery","image-previewer","horizontal-line",d.h,a.ZoneType]}),u()(i,g.CalloutBlock,{blocks:Object.values(l.BlockType).filter(function(e){return!C[g.CalloutBlock].includes(e)}),attribs:["image-uploaded","gallery","clientside-gallery","image-previewer","horizontal-line",d.h,a.ZoneType]}),i),O=(o={},u()(o,g.CodeBlock,[p.Q,p.c,p.a,p.d,p.b,p.F,p.h,p.I,p.K,p.L,p.V,p.g,p.f,p.e,p.C,p.o,p.N]),u()(o,g.CalloutBlock,[p.Q,p.F,p.K,p.L,p.V,p.g,p.f,p.e,p.C,p.o,p.N]),o),k={ZONE_DID_MOUNT:"zone_did_mount"}},kHJC:function(e,t,n){},kIAf:function(e,t,n){n("m/sp")("isConcatSpreadable")},kJdU:function(e,t,n){n("Rk6w");var r=n("dktu");e.exports=r.Date.now},kOe7:function(e,y,b){"use strict";(function(e){b.d(y,"i",function(){return r}),b.d(y,"f",function(){return o}),b.d(y,"h",function(){return s}),b.d(y,"a",function(){return p}),b.d(y,"c",function(){return f}),b.d(y,"g",function(){return h}),b.d(y,"b",function(){return g}),b.d(y,"e",function(){return m}),b.d(y,"d",function(){return v});var t,n,r,i,o,a,s,c,u=b("lSNA"),l=b.n(u),d=b("QM+C");(i=r=r||{})[i.USER=0]="USER",i[i.DOC=1]="DOC",i[i.FOLDER=2]="FOLDER",i[i.SHEET=3]="SHEET",i[i.SHEET_DOC=4]="SHEET_DOC",i[i.CHAT=5]="CHAT",i[i.GROUP=6]="GROUP",i[i.BLOCK=7]="BLOCK",i[i.BITABLE=8]="BITABLE",i[i.TABLE=9]="TABLE",i[i.INLINE_BLOCK=10]="INLINE_BLOCK",i[i.MINDNOTE=11]="MINDNOTE",i[i.BOX=12]="BOX",i[i.SLIDE=15]="SLIDE",i[i.WIKI=16]="WIKI",(a=o=o||{})[a.DOC=0]="DOC",a[a.DOC_COMMENT=1]="DOC_COMMENT",a[a.SHEET=2]="SHEET",a[a.SHEET_COMMENT=3]="SHEET_COMMENT",a[a.BITABLE=4]="BITABLE",a[a.OPEN_DOC=6]="OPEN_DOC",a[a.BOX_COMMENT=9]="BOX_COMMENT",a[a.MINDNOTE=10]="MINDNOTE",a[a.MINDNOTE_COMMENT=11]="MINDNOTE_COMMENT",(c=s=s||{})[c.LARK=0]="LARK";var p=[r.DOC,r.SHEET,r.BITABLE,r.MINDNOTE,r.BOX,r.SLIDE,r.WIKI],f=(t={},l()(t,r.DOC,d.NUM_FILE_TYPE.DOC),l()(t,r.SHEET,d.NUM_FILE_TYPE.SHEET),l()(t,r.BITABLE,d.NUM_FILE_TYPE.BITABLE),l()(t,r.MINDNOTE,d.NUM_FILE_TYPE.MINDNOTE),l()(t,r.BOX,d.NUM_FILE_TYPE.FILE),l()(t,r.SLIDE,d.NUM_FILE_TYPE.SLIDE),l()(t,r.WIKI,d.NUM_FILE_TYPE.WIKI),t),h=(n={},l()(n,d.NUM_FILE_TYPE.DOC,r.DOC),l()(n,d.NUM_FILE_TYPE.SHEET,r.SHEET),l()(n,d.NUM_FILE_TYPE.BITABLE,r.BITABLE),l()(n,d.NUM_FILE_TYPE.MINDNOTE,r.MINDNOTE),l()(n,d.NUM_FILE_TYPE.FILE,r.BOX),l()(n,d.NUM_FILE_TYPE.SLIDE,r.SLIDE),l()(n,d.NUM_FILE_TYPE.WIKI,r.WIKI),n),g={1:e("etherpad.server_abnormal"),2:e("error.args_error"),3:e("error.object_not_found"),4:e("error.no_permission"),5:e("warn.login_required_tips"),6:e("error.request_timeout")},m=420,v=390}).call(this,b("2vAP"))},"kVK+":function(e,t){t.read=function(e,t,n,r,i){var o,a,s=8*i-r-1,c=(1<<s)-1,u=c>>1,l=-7,d=n?i-1:0,p=n?-1:1,f=e[t+d];for(d+=p,o=f&(1<<-l)-1,f>>=-l,l+=s;0<l;o=256*o+e[t+d],d+=p,l-=8);for(a=o&(1<<-l)-1,o>>=-l,l+=r;0<l;a=256*a+e[t+d],d+=p,l-=8);if(0===o)o=1-u;else{if(o===c)return a?NaN:1/0*(f?-1:1);a+=Math.pow(2,r),o-=u}return(f?-1:1)*a*Math.pow(2,o-r)},t.write=function(e,t,n,r,i,o){var a,s,c,u=8*o-i-1,l=(1<<u)-1,d=l>>1,p=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,f=r?0:o-1,h=r?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=l):(a=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-a))<1&&(a--,c*=2),2<=(t+=1<=a+d?p/c:p*Math.pow(2,1-d))*c&&(a++,c/=2),l<=a+d?(s=0,a=l):1<=a+d?(s=(t*c-1)*Math.pow(2,i),a+=d):(s=t*Math.pow(2,d-1)*Math.pow(2,i),a=0));8<=i;e[n+f]=255&s,f+=h,s/=256,i-=8);for(a=a<<i|s,u+=i;0<u;e[n+f]=255&a,f+=h,a/=256,u-=8);e[n+f-h]|=128*g}},kWb8:function(e){e.exports=JSON.parse('{"Aacute":"","aacute":"","Acirc":"","acirc":"","acute":"","AElig":"","aelig":"","Agrave":"","agrave":"","amp":"&","AMP":"&","Aring":"","aring":"","Atilde":"","atilde":"","Auml":"","auml":"","brvbar":"","Ccedil":"","ccedil":"","cedil":"","cent":"","copy":"","COPY":"","curren":"","deg":"","divide":"","Eacute":"","eacute":"","Ecirc":"","ecirc":"","Egrave":"","egrave":"","ETH":"","eth":"","Euml":"","euml":"","frac12":"","frac14":"","frac34":"","gt":">","GT":">","Iacute":"","iacute":"","Icirc":"","icirc":"","iexcl":"","Igrave":"","igrave":"","iquest":"","Iuml":"","iuml":"","laquo":"","lt":"<","LT":"<","macr":"","micro":"","middot":"","nbsp":"","not":"","Ntilde":"","ntilde":"","Oacute":"","oacute":"","Ocirc":"","ocirc":"","Ograve":"","ograve":"","ordf":"","ordm":"","Oslash":"","oslash":"","Otilde":"","otilde":"","Ouml":"","ouml":"","para":"","plusmn":"","pound":"","quot":"\\"","QUOT":"\\"","raquo":"","reg":"","REG":"","sect":"","shy":"","sup1":"","sup2":"","sup3":"","szlig":"","THORN":"","thorn":"","times":"","Uacute":"","uacute":"","Ucirc":"","ucirc":"","Ugrave":"","ugrave":"","uml":"","Uuml":"","uuml":"","Yacute":"","yacute":"","yen":"","yuml":""}')},kaUV:function(e,t,n){"use strict";function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function p(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i(n,!0).forEach(function(e){r(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var a;n.d(t,"a",function(){return Te}),n.d(t,"b",function(){return Oe});var s={Webkit:"-webkit-",Moz:"-moz-",ms:"-ms-",O:"-o-"};function c(){if(void 0!==a)return a;a="";var e,t=document.createElement("p").style,n="Transform";for(e in s)e+n in t&&(a=e);return a}function u(){return c()?"".concat(c(),"TransitionProperty"):"transitionProperty"}function l(){return c()?"".concat(c(),"Transform"):"transform"}function _(e,t){var n=u();n&&(e.style[n]=t,"transitionProperty"!==n&&(e.style.transitionProperty=t))}function d(e,t){var n=l();n&&(e.style[n]=t,"transform"!==n&&(e.style.transform=t))}function C(e){return e.style.transitionProperty||e.style[u()]}function f(e){var t=window.getComputedStyle(e,null),n=t.getPropertyValue("transform")||t.getPropertyValue(l());if(n&&"none"!==n){var r=n.replace(/[^0-9\-.,]/g,"").split(",");return{x:parseFloat(r[12]||r[4],0),y:parseFloat(r[13]||r[5],0)}}return{x:0,y:0}}var h,g=/matrix\((.*)\)/,m=/matrix3d\((.*)\)/;function v(e,t){var n,r,i=window.getComputedStyle(e,null),o=i.getPropertyValue("transform")||i.getPropertyValue(l());o&&"none"!==o?(n=o.match(g))?((r=(n=n[1]).split(",").map(function(e){return parseFloat(e,10)}))[4]=t.x,r[5]=t.y,d(e,"matrix(".concat(r.join(","),")"))):((r=o.match(m)[1].split(",").map(function(e){return parseFloat(e,10)}))[12]=t.x,r[13]=t.y,d(e,"matrix3d(".concat(r.join(","),")"))):d(e,"translateX(".concat(t.x,"px) translateY(").concat(t.y,"px) translateZ(0)"))}function T(e){var t=e.style.display;e.style.display="none",e.offsetHeight,e.style.display=t}function O(e,t,n){var r,i=n;if("object"!==o(t))return void 0!==i?("number"==typeof i&&(i="".concat(i,"px")),void(e.style[t]=i)):h(e,t);for(r in t)t.hasOwnProperty(r)&&O(e,r,t[r])}function y(e){var t=e.ownerDocument,n=t.body,r=t&&t.documentElement,i=e.getBoundingClientRect(),o=i.left,a=i.top;return{left:o-=r.clientLeft||n.clientLeft||0,top:a-=r.clientTop||n.clientTop||0}}function b(e,t){var n,r=e["page".concat(t?"Y":"X","Offset")],i="scroll".concat(t?"Top":"Left");return"number"==typeof r||"number"!=typeof(r=(n=e.document).documentElement[i])&&(r=n.body[i]),r}function E(e){return b(e)}function k(e){return b(e,!0)}function S(e){var t=y(e),n=e.ownerDocument,r=n.defaultView||n.parentWindow;return t.left+=E(r),t.top+=k(r),t}function w(e){return null!=e&&e==e.window}function I(e){return w(e)?e.document:9===e.nodeType?e:e.ownerDocument}function x(e,t,n){var r=n,i="",o=I(e);return(r=r||o.defaultView.getComputedStyle(e,null))&&(i=r.getPropertyValue(t)||r[t]),i}var L=new RegExp("^(".concat(/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,")(?!px)[a-z%]+$"),"i"),R=/^(top|right|bottom|left)$/,N="currentStyle",D="runtimeStyle",M="left",P="px";function j(e,t){var n,r,i,o=e[N]&&e[N][t];return L.test(o)&&!R.test(t)&&(r=(n=e.style)[M],i=e[D][M],e[D][M]=e[N][M],n[M]="fontSize"===t?"1em":o||0,o=n.pixelLeft+P,n[M]=r,e[D][M]=i),""===o?"auto":o}function F(e,t){return"left"===e?t.useCssRight?"right":e:t.useCssBottom?"bottom":e}function B(e){return"left"===e?"right":"right"===e?"left":"top"===e?"bottom":"bottom"===e?"top":void 0}function U(e,t,n){"static"===O(e,"position")&&(e.style.position="relative");var r=-999,i=-999,o=F("left",n),a=F("top",n),s=B(o),c=B(a);"left"!==o&&(r=999),"top"!==a&&(i=999);var u="",l=S(e);("left"in t||"top"in t)&&(u=C(e)||"",_(e,"none")),"left"in t&&(e.style[s]="",e.style[o]="".concat(r,"px")),"top"in t&&(e.style[c]="",e.style[a]="".concat(i,"px")),T(e);var d,p,f,h,g=S(e),m={};for(d in t)t.hasOwnProperty(d)&&(p=F(d,n),f="left"===d?r:i,h=l[d]-g[d],m[p]=p===d?f+h:f-h);O(e,m),T(e),("left"in t||"top"in t)&&_(e,u);var v,y,b,E={};for(v in t)t.hasOwnProperty(v)&&(y=F(v,n),b=t[v]-l[v],E[y]=v===y?m[y]+b:m[y]-b);O(e,E)}function H(e,t){var n=S(e),r=f(e),i={x:r.x,y:r.y};"left"in t&&(i.x=r.x+t.left-n.left),"top"in t&&(i.y=r.y+t.top-n.top),v(e,i)}function z(e,t,n){if(n.ignoreShake){var r=S(e),i=r.left.toFixed(0),o=r.top.toFixed(0),a=t.left.toFixed(0),s=t.top.toFixed(0);if(i===a&&o===s)return}!n.useCssRight&&!n.useCssBottom&&n.useCssTransform&&l()in document.body.style?H(e,t):U(e,t,n)}function V(e,t){for(var n=0;n<e.length;n++)t(e[n])}function K(e){return"border-box"===h(e,"boxSizing")}"undefined"!=typeof window&&(h=window.getComputedStyle?x:j);var W=["margin","border","padding"],Y=-1,q=2,Z=1,X=0;function Q(e,t,n){var r,i={},o=e.style;for(r in t)t.hasOwnProperty(r)&&(i[r]=o[r],o[r]=t[r]);for(r in n.call(e),t)t.hasOwnProperty(r)&&(o[r]=i[r])}function J(e,t,n){for(var r,i,o=0,a=0;a<t.length;a++)if(r=t[a])for(i=0;i<n.length;i++){var s=void 0,s="border"===r?"".concat(r).concat(n[i],"Width"):r+n[i];o+=parseFloat(h(e,s))||0}return o}var $={getParent:function(e){for(var t=e;t=11===t.nodeType&&t.host?t.host:t.parentNode,t&&1!==t.nodeType&&9!==t.nodeType;);return t}};function ee(e,t,n){var r=n;if(w(e))return"width"===t?$.viewportWidth(e):$.viewportHeight(e);if(9===e.nodeType)return"width"===t?$.docWidth(e):$.docHeight(e);var i="width"===t?["Left","Right"]:["Top","Bottom"],o="width"===t?e.getBoundingClientRect().width:e.getBoundingClientRect().height,a=(h(e),K(e)),s=0;(null==o||o<=0)&&(o=void 0,(null==(s=h(e,t))||Number(s)<0)&&(s=e.style[t]||0),s=parseFloat(s)||0),void 0===r&&(r=a?Z:Y);var c=void 0!==o||a,u=o||s;return r===Y?c?u-J(e,["border","padding"],i):s:c?r===Z?u:u+(r===q?-J(e,["border"],i):J(e,["margin"],i)):s+J(e,W.slice(r),i)}V(["Width","Height"],function(o){$["doc".concat(o)]=function(e){var t=e.document;return Math.max(t.documentElement["scroll".concat(o)],t.body["scroll".concat(o)],$["viewport".concat(o)](t))},$["viewport".concat(o)]=function(e){var t="client".concat(o),n=e.document,r=n.body,i=n.documentElement[t];return"CSS1Compat"===n.compatMode&&i||r&&r[t]||i}});var te={position:"absolute",visibility:"hidden",display:"block"};function ne(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n[0];return 0!==i.offsetWidth?e=ee.apply(void 0,n):Q(i,te,function(){e=ee.apply(void 0,n)}),e}function re(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}V(["width","height"],function(r){var e=r.charAt(0).toUpperCase()+r.slice(1);$["outer".concat(e)]=function(e,t){return e&&ne(e,r,t?X:Z)};var i="width"===r?["Left","Right"]:["Top","Bottom"];$[r]=function(e,t){var n=t;if(void 0===n)return e&&ne(e,r,Y);if(e){h(e);return K(e)&&(n+=J(e,["padding","border"],i)),O(e,r,n)}}});var ie={getWindow:function(e){if(e&&e.document&&e.setTimeout)return e;var t=e.ownerDocument||e;return t.defaultView||t.parentWindow},getDocument:I,offset:function(e,t,n){if(void 0===t)return S(e);z(e,t,n||{})},isWindow:w,each:V,css:O,clone:function(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);if(e.overflow)for(t in e)e.hasOwnProperty(t)&&(n.overflow[t]=e.overflow[t]);return n},mix:re,getWindowScrollLeft:function(e){return E(e)},getWindowScrollTop:function(e){return k(e)},merge:function(){for(var e={},t=0;t<arguments.length;t++)ie.mix(e,t<0||arguments.length<=t?void 0:arguments[t]);return e},viewportWidth:0,viewportHeight:0};re(ie,$);var oe=ie.getParent;function ae(e){if(ie.isWindow(e)||9===e.nodeType)return null;var t,n=ie.getDocument(e).body,r=ie.css(e,"position");if(!("fixed"===r||"absolute"===r))return"html"===e.nodeName.toLowerCase()?null:oe(e);for(t=oe(e);t&&t!==n&&9!==t.nodeType;t=oe(t))if("static"!==(r=ie.css(t,"position")))return t;return null}var se=ie.getParent;function ce(e){if(ie.isWindow(e)||9===e.nodeType)return!1;for(var t=ie.getDocument(e).body,n=null,n=se(e);n&&n!==t;n=se(n))if("fixed"===ie.css(n,"position"))return!0;return!1}function ue(e,t){for(var n={left:0,right:1/0,top:0,bottom:1/0},r=ae(e),i=ie.getDocument(e),o=i.defaultView||i.parentWindow,a=i.body,s=i.documentElement;r;){if(-1!==navigator.userAgent.indexOf("MSIE")&&0===r.clientWidth||r===a||r===s||"visible"===ie.css(r,"overflow")){if(r===a||r===s)break}else{var c=ie.offset(r);c.left+=r.clientLeft,c.top+=r.clientTop,n.top=Math.max(n.top,c.top),n.right=Math.min(n.right,c.left+r.clientWidth),n.bottom=Math.min(n.bottom,c.top+r.clientHeight),n.left=Math.max(n.left,c.left)}r=ae(r)}var u=null;ie.isWindow(e)||9===e.nodeType||(u=e.style.position,"absolute"===ie.css(e,"position")&&(e.style.position="fixed"));var l,d,p=ie.getWindowScrollLeft(o),f=ie.getWindowScrollTop(o),h=ie.viewportWidth(o),g=ie.viewportHeight(o),m=s.scrollWidth,v=s.scrollHeight,y=window.getComputedStyle(a);return"hidden"===y.overflowX&&(m=o.innerWidth),"hidden"===y.overflowY&&(v=o.innerHeight),e.style&&(e.style.position=u),t||ce(e)?(n.left=Math.max(n.left,p),n.top=Math.max(n.top,f),n.right=Math.min(n.right,p+h),n.bottom=Math.min(n.bottom,f+g)):(l=Math.max(m,p+h),n.right=Math.min(n.right,l),d=Math.max(v,f+g),n.bottom=Math.min(n.bottom,d)),0<=n.top&&0<=n.left&&n.bottom>n.top&&n.right>n.left?n:null}function le(e,t,n,r){var i=ie.clone(e),o={width:t.width,height:t.height};return r.adjustX&&i.left<n.left&&(i.left=n.left),r.resizeWidth&&i.left>=n.left&&i.left+o.width>n.right&&(o.width-=i.left+o.width-n.right),r.adjustX&&i.left+o.width>n.right&&(i.left=Math.max(n.right-o.width,n.left)),r.adjustY&&i.top<n.top&&(i.top=n.top),r.resizeHeight&&i.top>=n.top&&i.top+o.height>n.bottom&&(o.height-=i.top+o.height-n.bottom),r.adjustY&&i.top+o.height>n.bottom&&(i.top=Math.max(n.bottom-o.height,n.top)),ie.mix(i,o)}function de(e){var t,n,r,i;return i=ie.isWindow(e)||9===e.nodeType?(t=ie.getWindow(e),n={left:ie.getWindowScrollLeft(t),top:ie.getWindowScrollTop(t)},r=ie.viewportWidth(t),ie.viewportHeight(t)):(n=ie.offset(e),r=ie.outerWidth(e),ie.outerHeight(e)),n.width=r,n.height=i,n}function pe(e,t){var n=t.charAt(0),r=t.charAt(1),i=e.width,o=e.height,a=e.left,s=e.top;return"c"===n?s+=o/2:"b"===n&&(s+=o),"c"===r?a+=i/2:"r"===r&&(a+=i),{left:a,top:s}}function fe(e,t,n,r,i){var o=pe(t,n[1]),a=pe(e,n[0]),s=[a.left-o.left,a.top-o.top];return{left:Math.round(e.left-s[0]+r[0]-i[0]),top:Math.round(e.top-s[1]+r[1]-i[1])}}function he(e,t,n){return e.left<n.left||e.left+t.width>n.right}function ge(e,t,n){return e.top<n.top||e.top+t.height>n.bottom}function me(e,t,n){return e.left>n.right||e.left+t.width<n.left}function ve(e,t,n){return e.top>n.bottom||e.top+t.height<n.top}function ye(e,t,n){var r=[];return ie.each(e,function(e){r.push(e.replace(t,function(e){return n[e]}))}),r}function be(e,t){return e[t]=-e[t],e}function Ee(e,t){var n=/%$/.test(e)?parseInt(e.substring(0,e.length-1),10)/100*t:parseInt(e,10);return n||0}function _e(e,t){e[0]=Ee(e[0],t.width),e[1]=Ee(e[1],t.height)}function Ae(e,t,n,r){var i=n.points,o=n.offset||[0,0],a=n.targetOffset||[0,0],s=n.overflow,c=n.source||e,o=[].concat(o),a=[].concat(a),u={},l=0,d=ue(c,!(!(s=s||{})||!s.alwaysByViewport)),p=de(c);_e(o,p),_e(a,t);var f,h,g,m,v,y,b,E,_,C=fe(p,t,i,o,a),T=ie.merge(p,C);return d&&(s.adjustX||s.adjustY)&&r&&(s.adjustX&&he(C,p,d)&&(me(fe(p,t,f=ye(i,/[lr]/gi,{l:"r",r:"l"}),h=be(o,0),g=be(a,0)),p,d)||(l=1,i=f,o=h,a=g)),s.adjustY&&ge(C,p,d)&&(ve(fe(p,t,m=ye(i,/[tb]/gi,{t:"b",b:"t"}),v=be(o,1),y=be(a,1)),p,d)||(l=1,i=m,o=v,a=y)),l&&(C=fe(p,t,i,o,a),ie.mix(T,C)),b=he(C,p,d),E=ge(C,p,d),(b||E)&&(_=i,b&&(_=ye(i,/[lr]/gi,{l:"r",r:"l"})),E&&(_=ye(i,/[tb]/gi,{t:"b",b:"t"})),i=_,o=n.offset||[0,0],a=n.targetOffset||[0,0]),u.adjustX=s.adjustX&&b,u.adjustY=s.adjustY&&E,(u.adjustX||u.adjustY)&&(T=le(C,p,d,u))),T.width!==p.width&&ie.css(c,"width",ie.width(c)+T.width-p.width),T.height!==p.height&&ie.css(c,"height",ie.height(c)+T.height-p.height),ie.offset(c,{left:T.left,top:T.top},{useCssRight:n.useCssRight,useCssBottom:n.useCssBottom,useCssTransform:n.useCssTransform,ignoreShake:n.ignoreShake}),{points:i,offset:o,targetOffset:a,overflow:u}}function Ce(e,t){var n=ue(e,t),r=de(e);return!n||r.left+r.width<=n.left||r.top+r.height<=n.top||r.left>=n.right||r.top>=n.bottom}function Te(e,t,n){var r=n.target||t;return Ae(e,de(r),n,!Ce(r,n.overflow&&n.overflow.alwaysByViewport))}function Oe(e,t,n){var r=ie.getDocument(e),i=r.defaultView||r.parentWindow,o=ie.getWindowScrollLeft(i),a=ie.getWindowScrollTop(i),s=ie.viewportWidth(i),c=ie.viewportHeight(i),u="pageX"in t?t.pageX:o+t.clientX,l="pageY"in t?t.pageY:a+t.clientY,d=0<=u&&u<=o+s&&0<=l&&l<=a+c;return Ae(e,{left:u,top:l,width:0,height:0},p({},n,{points:[n.points[0],"cc"]}),d)}Te.__getOffsetParent=ae,Te.__getVisibleRectForElement=ue,t.c=Te},kaax:function(e,t,n){"use strict";var r=n("7EGn"),i=n("VIFs");function o(e,t){if(t instanceof RegExp){if(!t.global)throw new TypeError("matchAll called with a non-global RegExp argument: ".concat(t))}else t=new RegExp(e,"g");t.lastIndex=0;for(var n=null,r=t.exec(e);null!==r;)n?n.push(r):n=[r],r=t.exec(e);return n}var a=n("toa8"),s="pano/api/BatchGetMentionEntitiesByUrl",c=function(){var e=Object(i.isStagingEnv)()?"oa.feishu-staging.cn":"oa.feishu.cn",t=Object(r.default)(window,"globalConfig.common.domain.pano",e);return"https://".concat(t,"/").concat(s)};function u(e){return a.d.post(c(),e,{headers:{"Content-Type":"application/json"},withCredentials:!0})}var l,d,p,f,h=/https?:\/\/(?=\S*\/client\/pano\/tag\-view\/open)\S+/gi,g=function(e){var t=o(e,h);return t?t.map(function(e){return e[0]}):null},m=function(e){return u({userId:window.User.id,tenantId:window.User.tenantId,urls:e})};(d=l=l||{})[d.Click=1]="Click",(f=p=p||{})[f.None=0]="None",f[f.Redirect=1]="Redirect",n.d(t,"b",function(){return g}),n.d(t,"c",function(){return m})},kekF:function(e,t){function n(t,n){return function(e){return t(n(e))}}e.exports=n},klSw:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var l=n("S5bw");function r(t,n,r){return function(e){return e.lift(i(t,n,r))}}function i(n,r,i){var o,a,s=0,c=!1,u=!1;return function(e){s++,o&&!c||(c=!1,o=new l.a(n,r,i),a=e.subscribe({next:function(e){o.next(e)},error:function(e){c=!0,o.error(e)},complete:function(){u=!0,o.complete()}}));var t=o.subscribe(this);return function(){s--,t.unsubscribe(),a&&0===s&&u&&a.unsubscribe()}}}},kmoK:function(e,t,n){"use strict";var r=n("lwsE"),o=n.n(r),i=n("W8MJ"),a=n.n(i),u=n("7EGn"),l=n("QM+C"),d=n("vc5i"),p=n("D7h9"),s=n("EVj1"),f=n("jJw9"),c=n("o0o1"),h=n.n(c),g=n("J4zp"),m=n.n(g),v=n("yXPU"),y=n.n(v),b=n("hbEN"),E=n("ZSG8"),_=n("lQZd"),C=function(){function e(){var i=this;o()(this,e),this.tasks=[],this.spaceInfoMapping={},this.fetchSpaceInfo=y()(h.a.mark(function e(){var t,n,r;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(0===i.tasks.length)return e.abrupt("return");e.next=2;break;case 2:return t={objs:i.tasks.map(function(e){return{obj_token:e,obj_type:l.NUM_FILE_TYPE.DOC}}),need_all_space:!1},e.prev=3,e.next=6,p.default.dispatch(Object(E.c)(t));case 6:n=e.sent,r=n.payload,i.tasks=[],i.spaceInfoMapping=Object.assign({},i.spaceInfoMapping,{},Object.entries(r).reduce(function(e,t){var n=m()(t,2),r=n[0],i=n[1];return e[r]=i.map(function(e){return{wikiToken:e.wiki_token,spaceName:e.space_name,spaceId:e.space_id}}),e},{})),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(3),console.error(e.t0);case 15:case"end":return e.stop()}},e,null,[[3,12]])})),this.fetchSpaceInfo=Object(b.default)(this.fetchSpaceInfo,50)}return a()(e,[{key:"addTask",value:function(e){var t=Object(s.k)(e,!0),n=t.token;t.type===l.FILE_TYPE.DOC&&Object(_.b)(n)&&(this.tasks.push(n),this.fetchSpaceInfo())}},{key:"getSpaceInfo",value:function(){return this.spaceInfoMapping}}]),e}(),T=n("lSNA"),O=n.n(T),k=function(){function e(){var i=this;o()(this,e),this.tasks=[],this.spaceInfoMapping={},this.fetchSpaceInfo=y()(h.a.mark(function e(){var t,n,r;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(0===i.tasks.length)return e.abrupt("return");e.next=2;break;case 2:return t=i.tasks,e.prev=3,e.next=6,p.default.dispatch(Object(E.b)({wikiTokens:t}));case 6:n=e.sent,r=n.payload,i.tasks=[],i.spaceInfoMapping=Object.assign({},i.spaceInfoMapping,{},Object.entries(r).reduce(function(e,t){var n=m()(t,2),r=n[0],i=n[1];return Object.assign({},e,O()({},r,[{wikiToken:i.wiki_token,spaceName:i.space_name,spaceId:i.space_id}]))},{})),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(3),console.error(e.t0);case 15:case"end":return e.stop()}},e,null,[[3,12]])})),this.fetchSpaceInfo=Object(b.default)(this.fetchSpaceInfo,50)}return a()(e,[{key:"addTask",value:function(e){var t=Object(s.k)(e,!0),n=t.token;t.type===l.FILE_TYPE.WIKI&&Object(_.b)(n)&&(this.tasks.push(n),this.fetchSpaceInfo())}},{key:"getSpaceInfo",value:function(){return this.spaceInfoMapping}}]),e}(),S=new(function(){function e(){o()(this,e),this.handlers=[new C,new k],this.addTask=this.addTask.bind(this)}return a()(e,[{key:"parseHTML",value:function(e){var n=this;e&&0!==e.length&&e.forEach(function(e){var t=n.genDom(e).querySelectorAll("a");Array.prototype.map.call(t,function(e){return e.href}).forEach(function(e){return n.addTask(e)}),t=null})}},{key:"addTask",value:function(t){this.handlers.forEach(function(e){return e.addTask(t)})}},{key:"findSpaceInfos",value:function(t){return this.handlers.map(function(e){return e.getSpaceInfo()}).find(function(e){return e[t]})||{}}},{key:"isDocInCurrentSpace",value:function(e){var t=Object(d.c)(p.default.getState()),n=Object(u.default)(t,"spaceId"),r=this.findSpaceInfos(e);if(!r[e])return!1;var i=r[e].find(function(e){return e.spaceId===n});return!!i&&i.spaceId===n}},{key:"getWikiUrl",value:function(e){var t=this.getToken(e),n=t.token,r=t.hash,i=this.findSpaceInfos(n);if(!i[n])return e;var o=Object(d.c)(p.default.getState()),a=Object(u.default)(o,"spaceId"),s=i[n][0],c=i[n].find(function(e){return e.spaceId===a})||s;return Object(f.getFullUrl)({type:l.FILE_TYPE_URL_MAP[l.NUM_SUITE_TYPE.WIKI],token:c.wikiToken,hash:r})}},{key:"genDom",value:function(e){var t=document.createElement("div");return t.innerHTML=e,t}},{key:"getToken",value:function(e){return Object(s.k)(e,!0)}},{key:"isWiki",value:function(){return Object(d.q)(p.default.getState())===l.NUM_SUITE_TYPE.WIKI}}]),e}());t.a=S},kohC:function(e,t,n){"use strict";var r=n("o0o1"),h=n.n(r),i=n("yXPU"),o=n.n(i),a=n("lwsE"),s=n.n(a),c=n("W8MJ"),u=n.n(c),m=n("LrWZ"),v=n("Muja"),l=n("Mpt7"),y=n("D7h9"),g=n("MUo5"),d=n("5cZX"),p=n("eL/v"),f=n("vc5i"),b=n("IyQe"),E=n("2spZ"),_=10,C=new(function(){function e(){s()(this,e),this.instances={}}return u()(e,[{key:"reroll",value:function(e){var t=this.getEmbedObjMap(e),n=Object(d.K)(y.default.getState()).getIn([e,"embedObjects"]),r=[];if(n){var i=!0,o=!1,a=void 0;try{for(var s,c=n.keys()[Symbol.iterator]();!(i=(s=c.next()).done);i=!0){var u=s.value;t[u]||r.push(u)}}catch(e){o=!0,a=e}finally{try{i||null==c.return||c.return()}finally{if(o)throw a}}0<r.length&&y.default.dispatch(Object(g.removeEmbedObjects)(e,r))}}},{key:"ensureToken",value:function(e){this.instances[e]||(this.instances[e]=new Set)}},{key:"getEmbedObjMap",value:function(e){if(!this.instances[e])return{};var t={},n=!0,r=!1,i=void 0;try{for(var o,a=this.instances[e][Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value.getEmbedObjs(),c=!0,u=!1,l=void 0;try{for(var d,p=s[Symbol.iterator]();!(c=(d=p.next()).done);c=!0){var f=d.value;t[f.token]=f}}catch(e){u=!0,l=e}finally{try{c||null==p.return||p.return()}finally{if(u)throw l}}}}catch(e){r=!0,i=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}return t}},{key:"add",value:function(e,t){this.ensureToken(e),this.instances[e].add(t),this.reroll(e)}},{key:"delete",value:function(e,t){this.ensureToken(e),this.instances[e].delete(t),this.reroll(e)}},{key:"destroyToken",value:function(e){delete this.instances[e]}}]),e}()),T=function(){function i(e){var g=this,t=e.embedObjList,n=e.onPermissionChange,r=e.onError;s()(this,i),this.ready=!1,this.olbEmbedObjPermission=Object(l.Map)({}),this.oldEmbedObjList=[],this.handleStoreChangeForNetworkState=function(){var e=Object(p.a)(y.default.getState());e&&!g.isOnline&&(g.isOnline=e,g.fetchEmbedObjPermissions()),g.isOnline=e},this.handleStoreChangeForPermission=function(){if(g.ready){var e=g.selectEmbedObjPermission();if(e!==g.olbEmbedObjPermission||!Object(v.default)(g.oldEmbedObjList,g.embedObjList)){var n=g.oldEmbedObjList,t=g.olbEmbedObjPermission.filter(function(e,t){return 0<n.filter(function(e){return e.token===t}).length});g.olbEmbedObjPermission=e,g.oldEmbedObjList=g.embedObjList.slice(0);var r=[],i=!0,o=!1,a=void 0;try{for(var s,c=g.embedObjList[Symbol.iterator]();!(i=(s=c.next()).done);i=!0){var u,l,d,p=s.value,f=e.get(p.token),h=t.get(p.token);Object(m.a)(f)||(!Object(m.a)(f)&&Object(m.a)(h)||!Object(m.a)(h)&&f.get("permission")!==h.get("permission")||!Object(m.a)(h)&&f.get("userPermissions")!==h.get("userPermissions"))&&(u=f.get("permission"),l=f.get("userPermissions"),d=Object.assign({},p,Object.assign({},f.toJS(),{permission:Object(b.embedObjPermission2Booleans)(u),userPermissions:Object(b.permission2Booleans)(l)})),r.push(d))}}catch(e){o=!0,a=e}finally{try{i||null==c.return||c.return()}finally{if(o)throw a}}0<r.length&&g.onPermissionChange&&g.onPermissionChange(r)}}else g.checkEnvReady()},this.embedObjList=t&&t.slice(0)||[],this.onPermissionChange=n,r&&(this.onError=r),this.unsubscribePermission=y.default.subscribe(this.handleStoreChangeForPermission),this.unsubscribeNetworkState=y.default.subscribe(this.handleStoreChangeForNetworkState),this.isOnline=Object(p.a)(y.default.getState()),this.checkEnvReady()}function e(e){return t.apply(this,arguments)}var t;return u()(i,[{key:"checkEnvReady",value:function(){var e=y.default.getState(),t=Object(f.n)(e),n=Object(f.o)(e);Object(m.a)(t)||Object(m.a)(n)||(this.ready=!0,this.envInfos={token:t,type:n},this.bootstrap(),this.fetchEmbedObjPermissions())}},{key:"bootstrap",value:function(){C.add(this.envInfos.token,this)}},{key:"fetchEmbedObjPermissions",value:(t=o()(h.a.mark(function e(t){var n,r,i,o,a,s,c,u,l,d,p,f;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ready&&this.isOnline){e.next=2;break}return e.abrupt("return");case 2:n=this.envInfos,r=n.token,i=n.type,a=!(o=!0),s=void 0,e.prev=6,c=this.getSplitedEmbedObjList(t)[Symbol.iterator]();case 8:if(o=(u=c.next()).done){e.next=18;break}return l=u.value,d=l.map(function(e){return{token:e.token,type:e.type}}),p=y.default.dispatch(Object(g.fetchEmbedObjectPermissions)(r,i,d)),f=y.default.dispatch(Object(g.fetchUserPermissionOnEmbedObj)(d,r)),e.next=15,Promise.all([p,f,Object(E.c)(1e3)]);case 15:o=!0,e.next=8;break;case 18:e.next=24;break;case 20:e.prev=20,e.t0=e.catch(6),a=!0,s=e.t0;case 24:e.prev=24,e.prev=25,o||null==c.return||c.return();case 27:if(e.prev=27,a)throw s;e.next=30;break;case 30:return e.finish(27);case 31:return e.finish(24);case 32:case"end":return e.stop()}},e,this,[[6,20,24,32],[25,,27,31]])})),e)},{key:"getSplitedEmbedObjList",value:function(e){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:_;return(e||this.getEmbedObjs()).reduce(function(e,t){return e.slice(-1)[0].length===n&&e.push([]),e.slice(-1)[0].push(t),e},[[]])}},{key:"findEmbedObj",value:function(e,n){var r=-1;return e.forEach(function(e,t){e.token===n.token&&(r=t)}),r}},{key:"selectEmbedObjPermission",value:function(){return this.ready&&Object(d.K)(y.default.getState()).getIn([this.envInfos.token,"embedObjects"])||Object(l.Map)({})}},{key:"fetchEmbedObjsAllPerm",value:function(){this.fetchEmbedObjPermissions()}},{key:"updateEmbedObjList",value:function(e){Object(v.default)(this.embedObjList,e)||(this.removeEmbedObjs(this.embedObjList),this.addEmbedObjs(e))}},{key:"addEmbedObjs",value:function(e){var t=[],n=!0,r=!1,i=void 0;try{for(var o,a=e[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value,c=this.findEmbedObj(this.embedObjList,s);-1===c?(t.push(s),this.embedObjList.push(s)):this.embedObjList[c].title!==s.title&&(this.embedObjList[c]=s,t.push(s))}}catch(e){r=!0,i=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}0<t.length&&this.fetchEmbedObjPermissions(t)}},{key:"removeEmbedObjs",value:function(e){var t=[],n=[],r=!0,i=!1,o=void 0;try{for(var a,s=this.embedObjList[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var c=a.value;-1===this.findEmbedObj(e,c)?t.push(c):n.push(c.token)}}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}this.embedObjList=t,0<n.length&&y.default.dispatch(Object(g.removeEmbedObjects)(this.envInfos.token,n))}},{key:"getEmbedObjs",value:function(){return this.embedObjList}},{key:"getEmbedObjsAllBoolPerm",value:function(){var e=this.selectEmbedObjPermission(),t=this.getEmbedObjs(),n={},r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var c=a.value,u=e.get(c.token);n[c.token]=u?Object.assign({},u.toJS(),{permission:Object(b.embedObjPermission2Booleans)(u.get("permission")),userPermissions:Object(b.permission2Booleans)(u.get("userPermissions"))}):null}}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}},{key:"getEmbedObjAllBoolPermByToken",value:function(e){var t=this.selectEmbedObjPermission().get(e);return t?Object.assign({},t.toJS(),{permission:Object(b.embedObjPermission2Booleans)(t.get("permission")),userPermissions:Object(b.permission2Booleans)(t.get("userPermissions"))}):null}},{key:"getEmbedObjPermissions",value:function(){var e=this.selectEmbedObjPermission(),t=this.getEmbedObjs(),n={},r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var c=a.value,u=e.get(c.token);n[c.token]=u?Object(b.embedObjPermission2Booleans)(u.get("permission")):null}}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}},{key:"getPermissionByToken",value:function(e){var t=this.selectEmbedObjPermission().get(e);return t?Object(b.embedObjPermission2Booleans)(t.get("permission")):null}},{key:"getOwnerByToken",value:function(e){var t=this.selectEmbedObjPermission().get(e);return t?t.get("owner"):null}},{key:"destroy",value:function(){this.embedObjList=[],this.unsubscribePermission&&this.unsubscribePermission(),this.unsubscribeNetworkState&&this.unsubscribeNetworkState(),this.ready&&C.delete(this.envInfos.token,this)}}],[{key:"destroyToken",value:function(e){C.destroyToken(e)}}]),i}();n("5f2W");n.d(t,"b",function(){return C});t.a=T},kooH:function(e,t,n){},ks2j:function(e,t,n){n("HTq5");var r=n("oWnS");e.exports=r("Array").slice},kw5h:function(e,t,n){n("lRVh");var r=n("dktu").Object,i=e.exports=function(e,t){return r.defineProperties(e,t)};r.defineProperties.sham&&(i.sham=!0)},l077:function(e,O,k){"use strict";(function(u){k.d(O,"a",function(){return T});var e=k("lwsE"),t=k.n(e),n=k("W8MJ"),r=k.n(n),i=k("a1gu"),o=k.n(i),a=k("Nsbk"),s=k.n(a),c=k("7W2i"),l=k.n(c),d=k("cDf5"),p=k.n(d),f=k("q1tI"),h=k.n(f),g=k("UlbS"),m=k("TSYQ"),v=k.n(m),y=k("4PSP"),b=k("G7AY"),E=k("PKWG"),_=k("jm1x"),C=(k("LrxS"),function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":p()(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;0<=s;s--)(i=e[s])&&(a=(o<3?i(a):3<o?i(t,n,a):i(t,n))||a);return 3<o&&a&&Object.defineProperty(t,n,a),a}),T=function(e){function c(){return t()(this,c),o()(this,s()(c).apply(this,arguments))}return l()(c,e),r()(c,[{key:"render",value:function(){var e=c.TOOLTIP_HIDE_ACTIONS,t=this.props,n=t.canSwitchToNextComment,r=t.canSwitchToPrevComment,i=t.getToolTipContainer,o="top",a="topRight",s={position:"relative",right:"-14px"};return h.a.createElement("div",{hidden:this.props.hidden,className:"comment-list__controls"},h.a.createElement("div",{className:"comment-list__switch-to-next-comment-container"},h.a.createElement(g.Tooltip,{title:"".concat(u("comment.next")," ()"),placement:o,hideActions:e,getContainer:i},h.a.createElement("div",{className:this.getSwitchBtnClassName(!n),onClick:this.onSwitchToNextComment},h.a.createElement(E.a,null)))),h.a.createElement("div",{className:"comment-list__switch-to-prev-comment-container"},h.a.createElement(g.Tooltip,{title:"".concat(u("comment.previous")," ()"),placement:o,hideActions:e,getContainer:i},h.a.createElement("div",{className:this.getSwitchBtnClassName(!r),onClick:this.onSwitchToPrevComment},h.a.createElement(b.a,null)))),this.props.canResolve&&h.a.createElement("div",{className:"comment-list__resolve-container"},h.a.createElement(g.Tooltip,{title:u("comment.solve_tip"),style:s,placement:a,hideActions:e,getContainer:i},h.a.createElement("div",{className:this.getSwitchBtnClassName(),onClick:this.props.onResolveComment},h.a.createElement(_.a,null)))))}},{key:"getSwitchBtnClassName",value:function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0];return v()("comment-list__controls-button",{"comment-list__controls-button_disabled":e})}},{key:"onSwitchToPrevComment",value:function(e){this.props.canSwitchToPrevComment&&this.props.onSwitchToPrevComment({event:e,activeSource:"switchCommentByClick"})}},{key:"onSwitchToNextComment",value:function(e){this.props.canSwitchToNextComment&&this.props.onSwitchToNextComment({event:e,activeSource:"switchCommentByClick"})}}]),c}(f.PureComponent);T.TOOLTIP_HIDE_ACTIONS=["onMouseLeave","onClick"],C([Object(y.Bind)()],T.prototype,"onSwitchToPrevComment",null),C([Object(y.Bind)()],T.prototype,"onSwitchToNextComment",null)}).call(this,k("2vAP"))},"l8+p":function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n("RIqP"),c=n.n(r),i=n("lSNA"),u=n.n(i),l=n("lQZd"),d=n("QM+C"),p=n("m3ds"),o=function(e){var t,r=Object(l.l)(),i=(t={},u()(t,d.NUM_SUITE_TYPE.DOC,[".etherpad-container-wrapper"]),u()(t,d.NUM_SUITE_TYPE.SHEET,[".sheet-comment-content__wrapper",".bitable-comment__panel-list"]),u()(t,d.NUM_SUITE_TYPE.MINDNOTE,[".mindnote-main",".mindnote-minder-comment__container"]),t),n=function(){var e,t=[];return r!==d.NUM_SUITE_TYPE.DOC||(e=document.querySelector(i[r].join(",")))&&t.push(e),t},o=function(){var e,t,n=[];return p.a.isFeed?(0===(e=document.querySelectorAll(".message-container_scrollwrap")).length&&console.warn("Can not find scroll container."),n.push.apply(n,c()(e))):i[r]&&(0===(t=document.querySelectorAll(i[r].join(","))).length&&console.warn("Can not find scroll container."),n.push.apply(n,c()(t))),n},a=function(){var e=[],t=document.querySelector(".J-card-edit-modal-body");return t&&e.push(t),e};if(!e){var s=[].concat(c()(o()),c()(a()));return p.a.isFeed&&s.push.apply(s,c()(n())),s}switch(e){case"globalComment":return n();case"commentContainer":return o();case"STModal":return a();default:return[]}}},l9OW:function(e,t,n){var a=n("SKAX"),s=n("MMmD");function r(e,r){var i=-1,o=s(e)?Array(e.length):[];return a(e,function(e,t,n){o[++i]=r(e,t,n)}),o}e.exports=r},l9V8:function(e,ve,ye){"use strict";ye.r(ve),function(I){ye.d(ve,"List",function(){return me});var R,e,t=ye("o0o1"),N=ye.n(t),n=ye("yXPU"),m=ye.n(n),r=ye("J4zp"),x=ye.n(r),i=ye("lwsE"),v=ye.n(i),o=ye("W8MJ"),y=ye.n(o),a=ye("a1gu"),b=ye.n(a),s=ye("Nsbk"),E=ye.n(s),c=ye("PJYZ"),D=ye.n(c),u=ye("7W2i"),_=ye.n(u),l=ye("cDf5"),d=ye.n(l),M=ye("pHS2"),P=ye("7EGn"),C=ye("oTSI"),T=ye("xpYl"),p=ye("q1tI"),O=ye.n(p),j=ye("x/Yo"),k=ye("QM+C"),F=ye("SebV"),B=ye("OX8E"),S=ye("H6Gw"),w=ye("2z0X"),U=ye("5niR"),H=ye("8MJW"),z=ye("fJxK"),f=ye("9h4r"),L=ye("ubJt"),V=ye("sFgt"),h=ye("4PSP"),K=ye("yJ+g"),W=ye("n/R6"),Y=ye("PIny"),q=ye("IESS"),Z=ye("5dbN"),X=ye("X2y7"),Q=ye("iP/4"),J=ye("Trbk"),$=ye("2ACu"),ee=ye("rLED"),te=ye("MO5G"),ne=ye("vE74"),re=ye("uQON"),ie=ye("1dfU"),g=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":d()(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;0<=s;s--)(i=e[s])&&(a=(o<3?i(a):3<o?i(t,n,a):i(t,n))||a);return 3<o&&a&&Object.defineProperty(t,n,a),a},oe="DocComment";(e=R=R||{}).UN_SUBMIT="unSubmit",e.SUBMITTED="submitted";var ae=37,se=38,ce=39,ue=40,le=78,de=80,pe=[].concat([se,ae,de],[ue,ce,le]),fe=null,he=0,ge=function(){return he++,fe=fe||new f.a({hoverArea:".comment-panel",container:Object(Z.locateRoute)().isSlide?"body":".doc-position"})},me=function(e){function i(e){var L;return v()(this,i),(L=b()(this,E()(i).call(this,e))).cachedCommentEvents=new Map,L.failedToSaveComments=new Map,L.containerRef=null,L.unreadMessageIds=[],L.cacheReadReplyIds=new Set,L.activeSource=U.ActiveSource.EMPTY,L.commentDataLoaded=!1,L.commentInitData=[],L.messageDataLoaded=!1,L.unApplyCommentPositions=null,L.operatableCommentIds=new Map,L.visibleComments=[],L.hover=ge(),L.logger=new z.b,L.dataActionsManager=new K.a(D()(L)),L.scrollToReactionServ=new q.a(D()(L)),L.vcActiveCommentId=null,L.listProps={busNameSpace:H.a,onRetry:L.handleRetry,onDelete:L.handleDelete,onResolve:L.handleResolve,onEdit:L.handleStartUpdateReply,onTranslate:L.handleTranslate,addReaction:L.handleAddReaction,removeReaction:L.handleRemoveReaction,onClickReactionDetail:L.handleReactionDetailClick,onShowReactionPanel:L.handleShowReactionPanel,more:!0},L.getContainerRef=function(e){L.containerRef=e},L.hasUnFinishComment=function(){if(!L.containerRef)return!1;var e=X.b.getOrCreate({token:L.props.rootToken});return(!e||!e.getCommentDrafIsSupport())&&L.props.comments.find(function(e){var t=e.comment_id,n=L.containerRef.getCommentRefByCommentId(t);return!!n&&!!n.hasUnFinishComment()})},L.hasUnSaveData=function(){return!Q.a.isLarkWindow&&L.hasUnFinishComment()},L.replayFollowActionHandler=function(e,t){var n,r=e.actionType,i=e.data,o=t.muteModulesPlay;"CommentActive"===r&&(n=i.commentId,(L.vcActiveCommentId=n)&&o(1e3,["DocPosition","MindnoteOutlineScroll","MindnoteMinderScroll"]),L.activeCommentPanel(n))},L.activeCommentPanel=function(e){if(!e)return L.setState({activeCommentId:null});var t,n,r=L.findCommentById(e);r&&((t=r.comment_list).length<=0||(n=t[0].reply_id,L.scrollToCommentMessageReply({commentId:e,replyId:n},void 0,!1),L.vcActiveCommentId=null))},L.generateCommentPanelProps=function(e,t){var n,r,i,o=L.props,a=o.user,s=o.commentable,c=o.comments,u=o.transEnabled,l=o.getCommentQuote,d=o.embedObjShareEnable,p=L.state.activeCommentId,f=e.comment_id,h=e.comment_uuid,g=e.comment_list,m=e.finish,v=e.isDeleted,y=e.quote,b=e.is_whole,E=e.mentionOptions,_=e.context,C=p===f,T="comment__ellipsis-author";1===g.length&&(r=(n=g[0]).error,i=n.sending,(r||i)&&(T=""));var O=0!==t,k=t!==c.length-1,S=l?l(e):b?"[".concat(I("feed.whole_comment"),"]"):y,w=!(_&&"BITABLE_BLOCK"===_.parent_type||_&&"BITABLE_BLOCK"===_.serviceType);return{key:h||f,commentId:f,quote:S,ellipsisAuthorClass:T,readOnly:!s,userName:a.name,userAvatarUrl:a.avatar_url,myUserId:a.user_id,top:e.top,list:g,canSwitchToPrevComment:O,canSwitchToNextComment:k,onSwitchToPrevComment:L.handleSwitchToPrevComment,onSwitchToNextComment:L.handleSwitchToNextComment,listProps:L.listProps,enableReaction:Object(ee.i)()&&!m&&!v,expand:C,finish:m,deleted:v,textareaProps:L.makeTextareaPropsWithCommentId(f),updateTextAreaProps:L.makeUpdateTextareaPropsWithCommentId(f),onPanelReopenComment:L.makeEventWithCommentId(L.handleReopenCommentByCommentPanel,f),onPanelMouseEnter:L.makeEventWithCommentId(L.handleMouseEvent,f),onPanelMouseLeave:L.makeEventWithCommentId(L.handleMouseEvent,f),onPanelClick:L.makeEventWithCommentId(L.handlePanelClick,f,U.ActiveSource.CLICK_ON_PANEL),onItemEdit:L.makeEventWithCommentId(L.handleItemEdit,f),onTransitionEnd:L.makeEventWithCommentId(L.handleTransitionEnd,f),onCommentListCopy:L.handleCommentListCopy,mentionOptions:E,transEnabled:u,embedObjShareEnable:d,setActiveCommentId:L.setActiveCommentId,commentImageEnabled:w}},L.makeTextareaPropsWithCommentId=Object(C.a)(function(e){return{mentionContainer:Object(Z.locateRoute)().isSlide?"body":".doc-position",onConfirm:L.makeEventWithCommentId(L.handleConfirm,e),onCancel:L.makeEventWithCommentId(L.handleCancel,e),onEscCancel:L.makeEventWithCommentId(L.handleCancel,e),editorDidUpdate:L.makeEventWithCommentId(L.handleEditorContentChange,e),source:L.props.mentionSource}}),L.handleEditorContentChange=function(e,t,n,r){var i=D()(L).containerRef;i&&i.handleEditorContentChange&&i.handleEditorContentChange(e,t,n,r)},L.makeUpdateTextareaPropsWithCommentId=Object(C.a)(function(e){return Object.assign({},L.makeTextareaPropsWithCommentId(e),{onConfirm:L.handleUpdateReply})}),L.makeEventWithCommentId=function(e,t){var n=L.cachedCommentEvents.get(t);if(n){var r=n.get(e);if(r)return r}else n=new Map,L.cachedCommentEvents.set(t,n);for(var i=arguments.length,o=new Array(2<i?i-2:0),a=2;a<i;a++)o[a-2]=arguments[a];var s=T.a.apply(void 0,[e,t].concat(o));return n.set(e,s),s},L.clearCachedAttributes=function(){var e=D()(L),t=e.makeTextareaPropsWithCommentId,n=e.makeUpdateTextareaPropsWithCommentId;t.cache.clear&&t.cache.clear(),n.cache.clear&&n.cache.clear(),L.cachedCommentEvents.clear(),L.operatableCommentIds.clear(),L.commentDataLoaded=!1,L.messageDataLoaded=!1,L.unApplyCommentPositions=null,L.commentInitData=[],L.messageInitData=[],L.cacheReadReplyIds=new Set},L.handleTranslateError=function(){W.a.remove("translate_error"),W.a.error({duration:3e3,closable:!0,content:I("common.translated_fail"),key:"translate_error"})},L.handleOnCommentChange=function(e,t){var i,n,r,o,a,s,c,u,l,d,p,f,h=e.comments,g=e.entities,m=L.props,v=m.onCommentDataLoaded,y=m.onCommentDataChanged,b=[],E=D()(L).operatableCommentIds,_=!0,C=!1,T=void 0;try{for(var O,k=E[Symbol.iterator]();!(_=(O=k.next()).done);_=!0){var S=x()(O.value,2),w=S[0];S[1]===R.SUBMITTED&&E.delete(w)}}catch(e){C=!0,T=e}finally{try{_||null==k.return||k.return()}finally{if(C)throw T}}if(h.forEach(function(e){e.finish!==j.BooleanNumber.TRUE?(E.set(e.commentId,R.SUBMITTED),b.push(e)):E.delete(e.commentId)}),!L.commentDataLoaded)return L.commentDataLoaded=!0,L.unApplyCommentPositions&&(L.handleSetCommentPositionData(L.unApplyCommentPositions),L.unApplyCommentPositions=null),L.commentInitData=b,v&&v(b),void L.commentDataActions.mergeComments({comments:h,entities:g});t?(i=t.type,n=t.deletedComments,r=t.updatedComments,o=t.resolveStatusChangedComments,r&&0<r.length&&B.a.trigger("viewportContentChange"),s=(a=Object(M.a)(o,"finish"))[j.BooleanNumber.TRUE]||[],c=a[j.BooleanNumber.FALSE]||[],u=L.props.commentPositions,l=r.concat(c),i===U.CHANGE_TYPE.LOCAL?c.forEach(function(e){e.isWhole||L.handleReopenCommentByCommentHistory(e.commentId)}):i===U.CHANGE_TYPE.COLLABORATE&&(n.forEach(function(e){var t=e.commentId,n=L.findCommentById(t);n&&L.props.removeComment(i,L.renderCommentToCommentPosition(n))}),o.forEach(function(e){var t=e.commentId;e.finish===j.BooleanNumber.FALSE&&L.props.reopenComment(i,t);var n,r=L.findCommentById(t);r&&(n=L.renderCommentToCommentPosition(r),e.finish===j.BooleanNumber.TRUE&&L.props.resolveComment(i,n))})),i===U.CHANGE_TYPE.COLLABORATE&&l.find(function(t){return!u.find(function(e){return t.commentId===e.commentId})})&&L.props.onGetCommentPositions?(d=L.props.onGetCommentPositions())&&L.setCommentPositions(d):(0<n.length||0<s.length)&&(p=u.filter(function(e){return L.operatableCommentIds.get(e.commentId)}),L.props.needListSetPosition&&L.setCommentPositions(p),(f=L.state.activeCommentId)&&!L.operatableCommentIds.get(f)&&L.setState({activeCommentId:null})),L.commentDataActions.mergeComments({comments:h.concat(t.deletedComments),entities:g}),y&&y(b)):L.commentDataActions.mergeComments({comments:h,entities:g})},L.handleOnMessageChange=function(e,t){L.messageData=e;var n=D()(L).messageDataActions,r=L.props,i=r.onMessageDataLoaded,o=r.onMessageDataChanged;if(n.setMessages(e),t&&L.handleRemoveCacheReadReplyIds(t),!L.messageDataLoaded)return L.messageDataLoaded=!0,L.messageInitData=e.map(function(e){return Object.assign({},e)}),i&&i(e),void(L.commentDataLoaded&&L.unApplyCommentPositions&&(L.handleSetCommentPositionData(L.unApplyCommentPositions),L.unApplyCommentPositions=null));o&&o(e)},L.setCacheReadReplyIds=function(e){L.cacheReadReplyIds.add(e)},L.handleRemoveCacheReadReplyIds=function(e){var i,t=e.addedMessages;L.cacheReadReplyIds.size<=0||t.length<=0||(i=[],t.forEach(function(e){var t=e.replyId,n=e.messageId,r=e.status;t&&L.cacheReadReplyIds.has(t)&&(1===r&&i.push(n),L.cacheReadReplyIds.delete(t))}),0<i.length&&L.markReadStatus(i))},L.handleTransitionEnd=function(e){e===L.state.activeCommentId&&L.focusPanelIfNecessary(e)},L.handleSwitchToPrevComment=function(e){var t,n,r,i,o,a=e.event,s=e.activeSource,c=L.state.activeCommentId;c&&(L.containerRef&&L.containerRef.getPrevCommentId&&(i=L.containerRef.getPrevCommentId()),i||(t=L.findVisibleCommentIndexById(c),n=Math.max(t-1,0),i=(r=L.visibleComments[n])&&r.comment_id),i&&i!==c&&((o=L.findCommentById(i))&&L.logger.logClientComment(z.a.UpBtn,L.renderCommentToCommentPosition(o)),L.activePanel(i,s),L.containerRef&&L.containerRef.handleSwitchToComment&&(i=L.containerRef.handleSwitchToComment(c,i)),a&&a.stopPropagation()))},L.handleSwitchToNextComment=function(e){var t,n,r,i,o,a=e.event,s=e.activeSource,c=L.state.activeCommentId;c&&(L.containerRef&&L.containerRef.getNextCommentId&&(i=L.containerRef.getNextCommentId()),i||(t=L.visibleComments,n=L.findVisibleCommentIndexById(c),i=(r=t[Math.min(n+1,t.length-1)])&&r.comment_id),i&&i!==c&&((o=L.findCommentById(i))&&L.logger.logClientComment(z.a.DownBtn,L.renderCommentToCommentPosition(o)),L.activePanel(i,s),L.containerRef&&L.containerRef.handleSwitchToComment&&(i=L.containerRef.handleSwitchToComment(c,i)),a&&a.stopPropagation()))},L.handleMouseEvent=function(e,t){var n=L.props.ignoreHoverNoComment,r=L.findCommentById(e);if(!r){if(n)return;throw new Error("no comment found on mouse event: ".concat(e))}"mouseenter"===t.type&&L.props.onHoverCommentChanged(null,L.renderCommentToCommentPosition(r)),"mouseleave"===t.type&&L.props.onHoverCommentChanged(L.renderCommentToCommentPosition(r),null)},L.handlePanelClick=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:U.ActiveSource.CLICK_ON_PANEL,n=2<arguments.length?arguments[2]:void 0;L.findCommentById(e)&&(n&&n.target&&Object(ne.c)(n.target,"comment-list-item__textarea--edit","comment-panel")&&(t=U.ActiveSource.ITEM_EDIT_TEXTAREA_CLICK),B.a.trigger("viewportContentChange"),L.activePanel(e,t))},L.handleItemEdit=function(e){L.handlePanelClick(e,U.ActiveSource.ITEM_EDIT)},L.handleFocus=function(e){var t,n;L.containerRef&&(t=L.findCommentById(e),n=L.containerRef.getCommentRefByCommentId(e),t&&n&&!n.hasText()&&L.logger.logClientComment(z.a.InputBox,L.renderCommentToCommentPosition(t)))},L.handleConfirm=function(){var o=m()(N.a.mark(function e(t,n,r,i,o){var a,s;return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=L.findCommentById(t)){e.next=3;break}throw new Error("try to confirm comment doesn't exist: ".concat(t));case 3:if(s=Object(re.h)({content:n,extra:{image_list:i}}),a.un_submit_comment)return L.logger.logClientComment(z.a.SubmitBox,L.renderCommentToCommentPosition(a),{is_first:"true",comment_content_type:s}),e.next=8,L.handleAddComment({tempCommentId:t,content:n,onComplete:r,imageList:i,realReplyId:o});e.next=9;break;case 8:return e.abrupt("return");case 9:return r(),L.logger.logClientComment(z.a.ReplyComment,L.renderCommentToCommentPosition(a),{is_first:"false",comment_content_type:s}),e.next=13,L.handleAddReply({commentId:t,content:n,imageList:i,realReplyId:o});case 13:case"end":return e.stop()}},e)}));return function(e,t,n,r,i){return o.apply(this,arguments)}}(),L.handleViolatePolicies=function(e){var t,n,r,i,o,a,s=e.error,c=e.type,u=e.commentId,l=e.replyId,d=e.oldContent;s&&Object(Y.d)(s.code)&&(t=D()(L).commentDataActions,!(n=L.findCommentById(u))||(r=n.comment_list.find(function(e){return e.reply_id===l}))&&(i=r.content,o=r.entities,(a=L.containerRef.getCommentRefByCommentId(u))&&(a.setPrevContentToTextarea({type:c,replyId:l,content:i,entities:o}),t.deleteTemplateComment({commentId:u,replyId:l,type:c,oldContent:d}),W.a.error({duration:3e3,closable:!0,content:I("mobile.comment_verified_failed")}))))},L.handleAddComment=function(){var t=m()(N.a.mark(function e(t){var n,r,i,o,a,s,c,u,l,d,p,f,h,g,m,v,y,b,E,_,C,T,O,k,S,w,I,x;return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.tempCommentId,r=t.tempReplyId,i=t.content,o=t.imageList,a=t.realReplyId,s=t.onComplete,c=L.findCommentById(n)){e.next=4;break}throw new Error("try to add comment doesn't exist: ".concat(n));case 4:if(u=c.quote,l=c.is_whole,d=L.props,p=d.user,f=d.enableActiveAfterAdd,h=D()(L),g=h.commentDataActions,m=p.user_id,v=L.failedToSaveComments.get(n),y=r||Object(j.generateReplyId)(),s&&s(),v){e.next=34;break}return e.prev=12,T={content:i,quote:u,userId:m,replyId:y,commentId:n,parentType:c.context.parent_type,parentToken:c.context.parent_token,isWhole:l?j.BooleanNumber.TRUE:j.BooleanNumber.FALSE,extra:c.context.extra},Object(te.a)()&&o&&0<o.length&&(T.realReplyId=a,T.extra||(T.extra={}),T.extra.image_list=o),e.next=17,g.addComment(T);case 17:C=e.sent,e.next=26;break;case 20:return e.prev=20,e.t0=e.catch(12),L.handleViolatePolicies({error:e.t0,type:"add",commentId:n,replyId:y,oldContent:null}),console.error("error on add comment",C,e.t0),Object(F.a)(e.t0),e.abrupt("return");case 26:O=C.comment,k=O.commentId,S=O.commentList,w=S[0].replyId,E=k,b=w,_=Object(P.default)(C,"entities.not_notify_users",{}),e.next=37;break;case 34:b=v.replyId,E=v.commentId,_=v.notNotifyUsers;case 37:return I=E,x=b,g.linkCommentToDoc({commentId:n,tempReplyId:y,replyId:x}),L.operatableCommentIds.set(E,R.SUBMITTED),e.prev=41,e.next=44,L.props.saveComment(L.renderCommentToCommentPosition(c),E);case 44:L.failedToSaveComments.delete(n),e.next=52;break;case 47:throw e.prev=47,e.t1=e.catch(41),L.failedToSaveComments.set(n,{commentId:I,replyId:x,tempReplyId:y,notNotifyUsers:_}),g.linkCommentToDocError({commentId:n,replyId:x,error:e.t1}),e.t1;case 52:g.linkCommentToDocOK({commentId:I,tempCommentId:n,replyId:x}),Object(V.g)(_),L.operatableCommentIds.delete(n),L.activeSource=U.ActiveSource.SAVE_COMMENT_OK_PATCH,f&&L.setState({activeCommentId:E});case 57:case"end":return e.stop()}},e,null,[[12,20],[41,47]])}));return function(e){return t.apply(this,arguments)}}(),L.handleCancel=function(e,t){var n=L.findCommentById(e);if(!n)throw new Error("try to cancel comment doesn't exist: ".concat(e));var r="click"===t.type,i="keydown"===t.type&&!L.isCommentEmpty(e),o=L.renderCommentToCommentPosition(n);!n.un_submit_comment||!r&&i?L.logger.logClientComment(z.a.CancelSubmit,o):L.cancelNewComment(o),L.setState({activeCommentId:null})},L.handleAddReply=function(){var t=m()(N.a.mark(function e(t){var n,r,i,o,a,s,c,u,l,d,p,f,h;return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.commentId,r=t.content,i=t.tempReplyId,o=t.imageList,a=t.realReplyId,s=L.findCommentById(n)){e.next=4;break}throw new Error("try to add reply to comment doesn't exist: ".concat(n));case 4:return c=L.props.user,u=c.user_id,l=i||Object(j.generateReplyId)(),d=s.context.extra,e.prev=8,f={replyId:l,userId:u,commentId:n,content:r,extra:d},Object(te.a)()&&o&&0<o.length&&(f.realReplyId=a,f.extra||(f.extra={}),f.extra.image_list=o),e.next=13,L.commentDataActions.replyComment(f);case 13:p=e.sent,e.next=21;break;case 16:return e.prev=16,e.t0=e.catch(8),L.handleViolatePolicies({error:e.t0,type:"reply",commentId:n,replyId:l,oldContent:null}),Object(F.a)(e.t0),e.abrupt("return");case 21:h=Object(P.default)(p,"entities.not_notify_users",{}),Object(V.g)(h);case 23:case"end":return e.stop()}},e,null,[[8,16]])}));return function(e){return t.apply(this,arguments)}}(),L.handleUpdateReply=function(){var o=m()(N.a.mark(function e(t,n,r,i,o){var a,s;return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:(a=L.findCommentById(o))&&(s=Object(re.h)({replyId:t,content:n,extra:{image_list:i}}),L.logger.logClientComment(z.a.SubmitEdit,L.renderCommentToCommentPosition(a),{comment_content_type:s})),L.updateReply({commentId:o,replyId:t,content:n,imageList:i,onComplete:r});case 3:case"end":return e.stop()}},e)}));return function(e,t,n,r,i){return o.apply(this,arguments)}}(),L.handleReactionChange=function(e){L.props.setCommentReaction(e.reactions),L.props.setCommentReactionEntities({entities:e.entities})},L.handleReopenCommentByCommentPanel=function(e){L.props.reopening.has(e)||(L.props.setCommentHistoryReopening({commentId:e,reopening:!0}),L.commentDataActions.reopenComment({commentId:e}))},L.handleCommentListCopy=function(e){var t=L.props,n=t.textCopyable,r=t.showCopyCommentWarning;n||(e.preventDefault(),r())},L.handleVisibilityChange=m()(N.a.mark(function e(){return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(L.unreadMessageIds.length&&"visible"===document.visibilityState)return e.next=3,L.markReadStatus(L.unreadMessageIds);e.next=4;break;case 3:L.unreadMessageIds=[];case 4:case"end":return e.stop()}},e)})),L.handleShortcuts=function(t){var e=t.keyCode,n=[se,ae,de],r=[ue,ce,le];if(pe.includes(e)){var i=L.props.ignoreKeydownSelector,o=L.state.activeCommentId;if(o){if(i){var a=document.querySelectorAll(i);if(a)if([].find.call(a,function(e){return document.activeElement===e||e.contains(t.target)}))return}if(L.containerRef){var s=L.containerRef.getCommentRefByCommentId(o);if(s){if(L.isEventFromInput(s,t)){if(e===de||e===le)return;var c=s.isFocusOnTextarea(),u=!s.hasText();if(!c||!u)return}var l=function(){t.preventDefault(),t.stopPropagation()};n.includes(e)?(L.handleSwitchToPrevComment({event:t,activeSource:U.ActiveSource.SWITCH_SHORTCUT}),l()):r.includes(e)&&(L.handleSwitchToNextComment({event:t,activeSource:U.ActiveSource.SWITCH_SHORTCUT}),l())}}}}},L.markReadStatus=Object(w.a)(m()(N.a.mark(function e(){var t,n,r,i,o=arguments;return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=0<o.length&&void 0!==o[0]?o[0]:[],n=D()(L),!(r=n.containerRef)||!r.markReadStatus){e.next=6;break}if(r.markReadStatus([].concat(t)))return e.abrupt("return");e.next=6;break;case 6:if(i="visible"===document.visibilityState,!t.length){e.next=19;break}if(i)return e.prev=9,e.next=12,L.messageDataActions.markRead({messageIds:[].concat(t)});e.next=18;break;case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(9),console.error(e.t0);case 17:return e.abrupt("return");case 18:L.unreadMessageIds=L.unreadMessageIds.concat(t);case 19:case"end":return e.stop()}},e,null,[[9,14]])})),200),L.setActiveCommentId=function(e,t){e&&t&&(L.activeSource=U.ActiveSource.CUSTOM_ACTIVE,L.state.activeCommentId===e&&L.focusPanelIfNecessary(e));var n=D()(L).containerRef;n&&n.onSuiteSetActiveComment&&n.onSuiteSetActiveComment(e),L.setState({activeCommentId:e})},L.getInitCommentData=function(){return L.commentInitData},L.state={activeCommentId:null},L.logger.setLogContext(e.logContext),L.visibleComments=L.calVisibleComments(e.comments),L}function t(e,t){return n.apply(this,arguments)}var n,r,o,a,s,c,u;function l(e){return r.apply(this,arguments)}function d(e,t,n){return o.apply(this,arguments)}function p(e,t,n){return a.apply(this,arguments)}function f(e,t){return s.apply(this,arguments)}function h(e){return c.apply(this,arguments)}function g(e,t,n){return u.apply(this,arguments)}return _()(i,e),y()(i,[{key:"getCommentMessageMap",value:function(){return this.props.commentMessageMap}},{key:"scrollToCommentMessageReply",value:(u=m()(N.a.mark(function e(t,n,r){var i,o,a,s,c,u,l,d,p,f,h,g,m,v,y;return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.containerRef.scrollToCommentMessageReply)return e.abrupt("return",this.containerRef.scrollToCommentMessageReply(t,n));e.next=2;break;case 2:if(i=t.commentId,o=t.replyId,a=this.props.scrollContainerSelector){e.next=6;break}return e.abrupt("return");case 6:return e.next=8,this.scrollToReactionServ.afterAnimationFrame.request();case 8:if(s=this.containerRef.getCommentRefByCommentId(i)){e.next=11;break}return e.abrupt("return");case 11:if(c=s.getReplyOffsets(o)){e.next=14;break}return e.abrupt("return");case 14:if(this.handlePanelClick(i),u=document.querySelector(a)){e.next=18;break}return e.abrupt("return");case 18:if(l=u.offsetHeight,d=(l-c.replyOffsetHeight)/2,p=Object(V.d)(s).offsetTop,u.scrollTop=p,f=s.getReplyOffsets(o)){e.next=25;break}return e.abrupt("return");case 25:if(h=p-u.scrollTop,g=f.replyToListOffsetTop+f.listToContainerOffsetTop,m=h+g,v=Math.max(0,d),y=m-v,u.scrollTop+=y,!1===r)return e.abrupt("return");e.next=33;break;case 33:return e.next=35,this.scrollToReactionServ.afterAnimationFrame.request();case 35:s.startHighlightAnimation(o,"lark-feed-comment-item-highlight-animation");case 36:case"end":return e.stop()}},e,this)})),g)},{key:"updateLoadingStatus",value:function(){this.scrollToReactionServ.isAllNecessaryDataLoaded$.next(this.props.isCommentsDataLoaded);var e=X.b.getOrCreate({token:this.props.rootToken});e&&e.updateLoadingStatus(this.props.isCommentsDataLoaded)}},{key:"shouldRecreateCommentDataActions",value:function(e,t){return!0}},{key:"shouldRecreateMessageDataActions",value:function(e,t){return Boolean(t&&this.props.enableMessage&&!k.isAnonymousAccess)}},{key:"onNewCommentDataActions",value:function(e){var t=this,n=e.getCommentService();this.onCommentServiceBinding(U.EventBindingAction.ON,n);var r=e.getCommentTranslate();return r&&r.onTranslateError(this.handleTranslateError),function(){t.onCommentServiceBinding(U.EventBindingAction.OFF,n),r&&r.offTranslateError(t.handleTranslateError)}}},{key:"onFetchCommentsSuccess",value:function(e,t){var n=e.getCommentService().getComments();t&&(n=t);var r=X.b.getOrCreate({token:this.props.rootToken});r&&r.setCommentData(n.comments),this.commentDataLoaded||this.handleOnCommentChange(n),this.containerRef&&this.containerRef.handleCommentLoaded&&this.containerRef.handleCommentLoaded()}},{key:"onNewMessageDataActions",value:function(e){var t=this,n=e.getCommentService();return n.onMessageChange(this.handleOnMessageChange),function(){return n.offMessageChange(t.handleOnMessageChange)}}},{key:"onFetchMessagesSuccess",value:function(e){var t=this.containerRef,n=this.props,r=n.rootType,i=n.rootToken;t&&t.handleInitMessages&&t.handleInitMessages(e,r,i)}},{key:"getOrCreateReactionSDK",value:function(e){var t=e.rootType,n=e.rootToken;return L.a.getOrCreate({suiteType:t,suiteToken:n,broadcastType:k.COMMENT_REACTION_MODULE})}},{key:"fetchReactionData",value:function(e,t){var n=this;this.getOrCreateReactionSDK(this.props).fetchReactionData().then(function(){n.props.setCommentReactionLoadStatus({suiteType:e,suiteToken:t,status:!0})}).catch(function(){n.props.setCommentReactionLoadStatus({suiteType:e,suiteToken:t,status:!0})})}},{key:"calVisibleComments",value:function(e){return e.filter(function(e){return!(!1===e.visible)})}},{key:"onCommentServiceBinding",value:function(e,t){"on"!==e?t.offCommentChange(this.handleOnCommentChange):t.onCommentChange(this.handleOnCommentChange)}},{key:"onEventBinding",value:function(e){if(e===U.EventBindingAction.ON)return B.a.on("".concat(H.a,".inViewport"),this.markReadStatus),B.a.on("".concat(H.a,".unreadyInViewport"),this.setCacheReadReplyIds),document.addEventListener("visibilitychange",this.handleVisibilityChange),B.a.on("".concat(J.g,":").concat(oe),this.replayFollowActionHandler),Object($.default)("bind_vc_event",{module:oe,operation:"on"}),void(this.props.enableSwitchShortcuts&&(document.addEventListener("keydown",this.handleShortcuts),document.body.addEventListener("keydown",this.handleShortcuts)));B.a.off("".concat(J.g,":").concat(oe),this.replayFollowActionHandler),B.a.off("".concat(H.a,".inViewport"),this.markReadStatus),B.a.off("".concat(H.a,".unreadyInViewport"),this.setCacheReadReplyIds),document.removeEventListener("visibilitychange",this.handleVisibilityChange),document.removeEventListener("keydown",this.handleShortcuts),document.body.removeEventListener("keydown",this.handleShortcuts),Object($.default)("bind_vc_event",{module:oe,operation:"off"})}},{key:"getUnSaveTip",value:function(){return I("comment.leave_page_warning_message")}},{key:"findCommentById",value:function(t){return this.props.comments.find(function(e){return e.comment_id===t})}},{key:"findVisibleCommentIndexById",value:function(t){return this.visibleComments.findIndex(function(e){return e.comment_id===t})}},{key:"renderCommentToCommentPosition",value:function(e){return{commentId:e.comment_id,context:e.context}}},{key:"activePanel",value:function(e,t){e!==this.state.activeCommentId&&(this.activeSource=t,this.setState({activeCommentId:e}))}},{key:"isCommentEmpty",value:function(e){var t=this.findCommentById(e);if(!t)return!1;if(0<t.comment_list.length)return!1;var n=this.containerRef.getCommentRefByCommentId(e);if(!n)throw new Error("no comment ref");return!n.hasText()}},{key:"focusPanelIfNecessary",value:function(e){var t=i.shouldFocus(this.activeSource),n=this.containerRef;if(e&&t){var r=n.getCommentRefByCommentId(e);if(!r)return;r.isFocusOnTextarea()||this.handleFocus(e),n.setFocusOnPanel?n.setFocusOnPanel(e):Object(V.e)(r)&&r.setFocusIfNecessary()}this.activeSource=U.ActiveSource.EMPTY}},{key:"cancelNewComment",value:function(e){var t=e.commentId;this.operatableCommentIds.delete(e.commentId);var n=this.props.commentPositions.filter(function(e){return e.commentId!==t});this.setCommentPositions(n),this.props.cancelNewComment(e),this.logger.logClientComment(z.a.CancelSubmit,e)}},{key:"handleSetCommentPositionData",value:function(){var n=this,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];if(!this.commentDataLoaded)throw new Error("should not use handleSetCommentPositionData before commentDataLoaded");var t,r=e.filter(function(e){var t=e.commentId;return n.operatableCommentIds.get(t)}),i=this.props.commentPositions,o=r.length===i.length&&r.every(function(e,t){var n=i[t];return!(!n||!e)&&(n.commentId===e.commentId&&n.context===e.context)}),a=this.props,s=a.rootToken,c=a.rootType,u=a.subCommentToken,l=a.transEnabled;o||(!l||(t=this.commentDataActions.getCommentTranslate())&&t.addTranslateCommentId(r),this.props.setCommentPositionData({commentPositions:r,rootToken:s,rootType:c,subCommentToken:u}))}},{key:"handleStartUpdateReply",value:function(e){var t=this.findCommentById(e);t&&this.logger.logClientComment(z.a.StartEditComment,this.renderCommentToCommentPosition(t))}},{key:"updateReply",value:(c=m()(N.a.mark(function e(t){var n,r,i,o,a,s,c,u,l,d,p;return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.commentId,r=t.replyId,i=t.content,o=t.imageList,a=t.onComplete,s=this.commentDataActions,c={commentId:n,content:i,replyId:r},Object(te.a)()&&o&&(c.extra={image_list:o}),u=this.findCommentById(n)){e.next=7;break}return e.abrupt("return");case 7:if(l=u.comment_list,d=l.find(function(e){return e.reply_id===r})){e.next=11;break}return e.abrupt("return");case 11:return p=d.content,e.prev=12,e.next=15,s.updateComment(c);case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(12),this.handleViolatePolicies({error:e.t0,type:"update",commentId:n,oldContent:p,replyId:r});case 20:a&&a();case 21:case"end":return e.stop()}},e,this,[[12,17]])})),h)},{key:"handleDelete",value:(s=m()(N.a.mark(function e(t,n){var r,i,o,a,s;return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.reply_id,i=this.findCommentById(t)){e.next=4;break}throw new Error("try to delete comment doesn't exist: ".concat(t));case 4:if(o=i.comment_list,a=this.commentDataActions,this.logger.logClientComment(z.a.DeleteComment,this.renderCommentToCommentPosition(i)),o.length<=1)return s=this.renderCommentToCommentPosition(i),e.next=11,this.props.removeComment(U.CHANGE_TYPE.LOCAL,s);e.next=11;break;case 11:return e.next=13,a.deleteComment({replyId:r,commentId:t});case 13:case"end":return e.stop()}},e,this)})),f)},{key:"handleTranslate",value:(a=m()(N.a.mark(function e(t,n,r){return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.commentDataActions.getCommentTranslate().translateCommentItem(t,n,r);case 2:case"end":return e.stop()}},e,this)})),p)},{key:"handleRetry",value:(o=m()(N.a.mark(function e(t,n,r){var i,o,a,s,c,u,l=this;return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i=n.content,o=n.reply_id,a=n.extra,s=n.realReplyId,c=this.findCommentById(t)){e.next=4;break}throw new Error("try to retry comment doesn't exist: ".concat(t));case 4:if(Object(te.a)()&&a&&a.image_list&&(u=a.image_list),r&&"update"===r)return this.updateReply({commentId:t,replyId:o,content:i}),e.abrupt("return");e.next=8;break;case 8:if(r&&"delete"===r)return this.handleDelete(t,n),e.abrupt("return");e.next=11;break;case 11:if(this.failedToSaveComments.get(t))return this.handleAddComment({tempCommentId:t,tempReplyId:o,content:i}),e.abrupt("return");e.next=15;break;case 15:if(Object(P.default)(c,"comment_list[0].error")&&c.un_submit_comment)return this.handleAddComment({tempCommentId:t,tempReplyId:o,content:i}),e.abrupt("return");e.next=19;break;case 19:setTimeout(m()(N.a.mark(function e(){return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.handleAddReply({commentId:t,tempReplyId:o,content:i,imageList:u,realReplyId:s});case 2:case"end":return e.stop()}},e)})));case 20:case"end":return e.stop()}},e,this)})),d)},{key:"handleResolve",value:function(e){var t,n=this.commentDataActions,r=this.props.enableResolveAnimation,i=this.findCommentById(e);i&&(t=this.renderCommentToCommentPosition(i),this.logger.logClientComment(z.a.FinishComment,t),!1!==r&&n.resolveCommentAnimationEnd({commentId:e}),n.resolveComment({commentId:e}),this.props.resolveComment(U.CHANGE_TYPE.LOCAL,t))}},{key:"handleReopenCommentByCommentHistory",value:(r=m()(N.a.mark(function e(t){return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.reopenComment(U.CHANGE_TYPE.LOCAL,t);case 2:e.sent&&(this.activeSource=U.ActiveSource.REOPEN_COMMENT,this.setState({activeCommentId:t})),this.props.setCommentHistoryReopening({commentId:t,reopening:!1});case 5:case"end":return e.stop()}},e,this)})),l)},{key:"handleAddReaction",value:function(e){var t=e.referKey,n=e.reactionKey;this.getOrCreateReactionSDK(this.props).addReaction(k.COMMENT_REACTION_MODULE,t,n);var r="",i=this.props.comments.find(function(e){return e.comment_list.find(function(e){return e.reply_id===t})});i&&(r=i.comment_id),this.logger.logClientComment(z.a.SelectReaction,{},{emoji_type:n,comment_id:Object(ie.a)(r),reply_id:Object(ie.a)(t)})}},{key:"handleRemoveReaction",value:function(e){var t=e.referKey,n=e.reactionKey;this.getOrCreateReactionSDK(this.props).removeReaction(k.COMMENT_REACTION_MODULE,t,n);var r="",i=this.props.comments.find(function(e){return e.comment_list.find(function(e){return e.reply_id===t})});i&&(r=i.comment_id),this.logger.logClientComment(z.a.CancelReaction,{},{emoji_type:n,comment_id:Object(ie.a)(r),reply_id:Object(ie.a)(t)})}},{key:"handleReactionDetailClick",value:function(e,t,n){n.stopPropagation(),this.logger.logClientComment(z.a.ShowReactionPage,{reactionKey:e}),t.some(function(e){return e.userList.length<e.totalCount})&&(this.getOrCreateReactionSDK(this.props).fetchReactionDetail(k.COMMENT_REACTION_MODULE,t[0].referKey),this.logger.logClientComment(z.a.ShowReactionPanelFull,{reactionKey:e}))}},{key:"handleShowReactionPanel",value:function(){this.logger.logClientComment(z.a.ShowReactionPanel,{})}},{key:"isEventFromInput",value:function(e,t){var n=t.target;if(e&&n){var r=e.getCurPanelNode();return r&&r.contains(n)&&n.isContentEditable}return!1}},{key:"handleActiveCommentChanged",value:(n=m()(N.a.mark(function e(t,n){var r,i,o,a,s=this;return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t?this.findCommentById(t):null,i=n?this.findCommentById(n):null,null===r&&null===i)return e.abrupt("return");e.next=4;break;case 4:return o=r?this.renderCommentToCommentPosition(r):null,a=i?this.renderCommentToCommentPosition(i):null,e.next=8,this.props.onActiveCommentChanged(o,a);case 8:if(this.containerRef){e.next=10;break}throw new Error("no containerRef found on handleActiveCommentChanged");case 10:n&&this.focusPanelIfNecessary(n),r&&r.un_submit_comment&&this.isCommentEmpty(r.comment_id)&&window.setTimeout(function(){s.cancelNewComment(s.renderCommentToCommentPosition(r))});case 12:case"end":return e.stop()}},e,this)})),t)},{key:"initMessageDataActions",value:function(){var e=this.props,t=e.rootType,n=e.rootToken,r=e.isTemplate,i=e.subCommentToken,o=e.enableClearData;this.dataActionsManager.initMessages({rootType:t,rootToken:n,subCommentToken:i,isTemplate:r},!o)}},{key:"initCommentDataActions",value:function(){var e=this.props,t=e.rootType,n=e.rootToken,r=e.isTemplate,i=e.subCommentToken,o=e.enableAutoTranslate,a=e.translateLang,s=e.transEnabled,c=e.enableClearData;this.dataActionsManager.initComments({rootType:t,rootToken:n,isTemplate:r,enableAutoTranslate:o,translateLang:a,subCommentToken:i,transEnabled:s,shouldSetBroadcast:!0},!c)}},{key:"componentDidMount",value:function(){var e,t,n=this.props,r=n.rootType,i=n.rootToken,o=n.enableClearData;this.initCommentDataActions(),this.initMessageDataActions(),this.onEventBinding(U.EventBindingAction.ON),this.updateLoadingStatus(),o&&(e=this.getOrCreateReactionSDK(this.props),this.fetchReactionData(r,i),e.register(k.COMMENT_REACTION_MODULE,this.handleReactionChange),t=this.getOrCreateReactionSDK(this.props).getReactionData(k.COMMENT_REACTION_MODULE),this.props.setCommentReaction(t.reactions),this.props.setCommentReactionEntities(t),B.a.emit(J.a,{module:oe,actionType:"CommentActive",data:{commentId:this.state.activeCommentId}}))}},{key:"UNSAFE_componentWillUpdate",value:function(e){this.props.comments!==e.comments&&(this.visibleComments=this.calVisibleComments(e.comments))}},{key:"componentDidUpdate",value:function(e,t){var n,r=e.rootType,i=e.rootToken,o=e.comments,a=e.logContext,s=e.enableMessage,c=t.activeCommentId,u=this.props,l=u.rootType,d=u.rootToken,p=u.comments,f=u.logContext,h=u.enableMessage,g=u.enableTranslate,m=u.targetLang,v=u.transEnabled,y=this.state.activeCommentId;this.updateLoadingStatus(),a!==f&&this.logger.setLogContext(f),d===i?(o!==p&&(p.length||o.length)&&(B.a.trigger("viewportContentChange"),this.vcActiveCommentId&&this.activeCommentPanel(this.vcActiveCommentId)),p.length!==o.length&&y&&(o.find(function(e){return e.comment_id===y})||(this.activeSource!==U.ActiveSource.START_NEW_COMMENT_PATCH_NO_FOCUS?(this.activeSource=U.ActiveSource.START_NEW_COMMENT_PATCH,this.focusPanelIfNecessary(y)):this.activeSource=U.ActiveSource.EMPTY)),v&&this.dataActionsManager.translateOptions$.next({enableAutoTranslate:g||!1,translateLang:m||"en"}),c!==y&&(this.handleActiveCommentChanged(c,y),null!==y&&this.operatableCommentIds.get(y)===R.UN_SUBMIT||B.a.emit(J.a,{module:oe,actionType:"CommentActive",data:{commentId:y}})),s!==h&&this.initMessageDataActions()):(this.getOrCreateReactionSDK(e).unregister(k.COMMENT_REACTION_MODULE,this.handleReactionChange),L.a.destroy({suiteType:r,suiteToken:i,broadcastType:k.COMMENT_REACTION_MODULE}),this.clearCachedAttributes(),l&&d&&(this.initCommentDataActions(),this.initMessageDataActions(),n=this.getOrCreateReactionSDK(this.props),this.fetchReactionData(l,d),n.register(k.COMMENT_REACTION_MODULE,this.handleReactionChange)))}},{key:"componentWillUnmount",value:function(){this.onEventBinding(U.EventBindingAction.OFF),this.clearCachedAttributes(),this.props.enableClearData&&this.dataActionsManager.destroy(),this.scrollToReactionServ.destroy(),0===--he&&(this.hover.destory(),fe=null),this.props.enableClearData&&L.a.destroy({suiteType:this.props.rootType,suiteToken:this.props.rootToken,broadcastType:k.COMMENT_REACTION_MODULE}),this.cacheReadReplyIds=new Set,this.state.activeCommentId&&B.a.emit(J.a,{module:oe,actionType:"CommentActive",data:{commentId:null}})}},{key:"setOperatableUnSubmitCommentIds",value:function(e){this.operatableCommentIds.set(e,R.UN_SUBMIT)}},{key:"startNewComment",value:function(e,t,n,r){var i=t||Object(j.generateCommentId)(),o=this.commentDataActions;return!1===r&&(this.activeSource=U.ActiveSource.START_NEW_COMMENT_PATCH_NO_FOCUS),o.startNewComment({quote:e,commentId:i,isWhole:n?1:0}),this.operatableCommentIds.set(i,R.UN_SUBMIT),this.setState({activeCommentId:i}),i}},{key:"getCommentPositions",value:function(){return this.props.commentPositions}},{key:"setCommentPositions",value:function(e){this.commentDataLoaded?this.handleSetCommentPositionData(e):this.unApplyCommentPositions=e}},{key:"getCommentData",value:function(){return this.props.comments}},{key:"getInitMessageData",value:function(){return this.messageInitData}},{key:"getMessageData",value:function(){return this.messageData}},{key:"render",value:function(){var e=this.props,t=e.history,n=e.children,r=e.rootType,i=e.rootToken,o=e.translateContentCompare,a=this.state.activeCommentId;return O.a.createElement(S.a,{history:t,hasUnSaveData:this.hasUnSaveData,getUnSaveTip:this.getUnSaveTip},n({ref:this.getContainerRef,comments:this.visibleComments,generateCommentPanelProps:this.generateCommentPanelProps,activeCommentId:a,setActiveCommentId:this.setActiveCommentId,scrollToReactionServ:this.scrollToReactionServ,rootType:r,rootToken:i,translateContentCompare:o}))}},{key:"commentDataActions",get:function(){return this.dataActionsManager.getCommentDataActions()}},{key:"messageDataActions",get:function(){return this.dataActionsManager.getMessageDataActions()}}],[{key:"shouldFocus",value:function(e){return e===U.ActiveSource.CLICK_ON_PANEL||e===U.ActiveSource.START_NEW_COMMENT_PATCH||e===U.ActiveSource.SAVE_COMMENT_OK_PATCH||e===U.ActiveSource.REOPEN_COMMENT||e===U.ActiveSource.CUSTOM_ACTIVE}}]),i}(p.PureComponent);me.defaultProps={enableActiveAfterAdd:!0,enableClearData:!0,needListSetPosition:!0},g([Object(h.Bind)()],me.prototype,"handleStartUpdateReply",null),g([Object(h.Bind)()],me.prototype,"handleDelete",null),g([Object(h.Bind)()],me.prototype,"handleTranslate",null),g([Object(h.Bind)()],me.prototype,"handleRetry",null),g([Object(h.Bind)()],me.prototype,"handleResolve",null),g([Object(h.Bind)()],me.prototype,"handleAddReaction",null),g([Object(h.Bind)()],me.prototype,"handleRemoveReaction",null),g([Object(h.Bind)()],me.prototype,"handleReactionDetailClick",null),g([Object(h.Bind)()],me.prototype,"handleShowReactionPanel",null)}.call(this,ye("2vAP"))},lAOT:function(e,t,n){"use strict";n.d(t,"b",function(){return o}),n.d(t,"c",function(){return a}),n.d(t,"a",function(){return s});var r=n("vYB2"),i=n.n(r),o=i.a.CancelToken,a=i.a.isCancel,s=i.a.Cancel},lBQb:function(e,ve,ye){"use strict";(function(o){ye.d(ve,"i",function(){return j}),ye.d(ve,"w",function(){return F}),ye.d(ve,"c",function(){return B}),ye.d(ve,"q",function(){return z}),ye.d(ve,"r",function(){return V}),ye.d(ve,"n",function(){return K}),ye.d(ve,"x",function(){return W}),ye.d(ve,"y",function(){return Y}),ye.d(ve,"o",function(){return q}),ye.d(ve,"v",function(){return Z}),ye.d(ve,"u",function(){return X}),ye.d(ve,"t",function(){return Q}),ye.d(ve,"s",function(){return J}),ye.d(ve,"e",function(){return $}),ye.d(ve,"h",function(){return ee}),ye.d(ve,"g",function(){return te}),ye.d(ve,"k",function(){return ne}),ye.d(ve,"j",function(){return re}),ye.d(ve,"m",function(){return ie}),ye.d(ve,"p",function(){return oe}),ye.d(ve,"d",function(){return ae}),ye.d(ve,"a",function(){return ce}),ye.d(ve,"b",function(){return ue}),ye.d(ve,"f",function(){return le}),ye.d(ve,"z",function(){return ge}),ye.d(ve,"l",function(){return me});var e,t=ye("RIqP"),i=ye.n(t),n=ye("lSNA"),s=ye.n(n),r=ye("o0o1"),l=ye.n(r),a=ye("yXPU"),c=ye.n(a),u=ye("3Hq1"),d=ye("gSGL"),p=ye("ZBlo"),f=ye("yIs4"),h=ye("7EGn"),g=ye("ucr6"),m=ye("QM+C"),v=ye("Gp6W"),y=ye("h6PB"),b=ye("EVj1"),E=ye("PCyy"),_=ye("t6I4"),C=ye("wd/R"),T=ye.n(C),O=ye("kUgE"),k=ye("6omo"),S=ye("Jonh"),w=ye("Cdfq"),I=ye("1a6t"),x=ye("h6S9"),L=ye("VI6H"),R=ye("zhgJ"),N=ye("po4q"),D=ye("toa8"),M=ye("Xngx"),P=ye("AESI");function j(){var e=Object(b.m)(window.location.href).search,t=Object(b.l)(e);return t[E.a.OPEN_TEMPLATE_CENTER]?t:null}function F(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:location.href,t=Object(_.g)(e,[E.a.OPEN_TEMPLATE_CENTER,E.a.TEMPLATE_CATEGORY,E.a.TEMPLATE_OBJ_TYPE,E.a.TEMPLATE_TOPIC_ID,E.a.TEMPLATE_FROM_SOURCE]);t!==e&&g.a.replace(t)}T.a.locale(Object(O.getLanguage)());var B=function(e){if(e){var t=(new Date).getFullYear(),n=new Date(1e3*e).getFullYear()<t?"ll":Object(O.isEnLanguage)()?"MMM D":"MMMDo";return T()(1e3*e).format(n)}},U=Object.create(null),H=Object.create(null),z=function(){var t=c()(l.a.mark(function e(t){var n,r,i,o,a,s,c;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.obj_type,r=t.obj_token,i=t.fetchImgSrcManager,o=t.thumbnail,a=t.fetchType,s=t.uniqueId,r in H)return e.abrupt("return",H[r]);e.next=3;break;case 3:return e.next=5,Object(I.b)({uniqueId:s,fetchType:a,sourceForLog:m.FILE_PREVIEW_SOURCE_FOR_LOG.templateV2,token:r,type:n,fetchImgSrcManager:i,thumbnail:o});case 5:return c=e.sent,e.abrupt("return",c);case 7:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}(),V=function(){var t=c()(l.a.mark(function e(t){var n,r,i,o,a,s,c,u;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.obj_type,r=t.obj_token,i=t.cover_token,o=t.fetchImgSrcManager,a=t.cdnUrl,s=t.fetchType,c=t.uniqueId,r in U)return e.abrupt("return",U[r]);e.next=3;break;case 3:return e.next=5,Object(I.b)({uniqueId:c,fetchType:s,sourceForLog:m.FILE_PREVIEW_SOURCE_FOR_LOG.templateV2,token:i,type:n,objToken:r,fetchImgSrcManager:o,cdnUrl:a,width:N.O,height:N.N});case 5:return u=e.sent,e.abrupt("return",u);case 7:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}(),K=function(e){return H[e]},W=function(e,t){H[e]=t},Y=function(e,t){U[e]=t},q=function(e){return U[e]},Z=(e={},s()(e,m.NUM_SUITE_TYPE.DOC,v.a),s()(e,m.NUM_SUITE_TYPE.SHEET,y.a),s()(e,m.NUM_SUITE_TYPE.MINDNOTE,v.a),function(e,t){var n,r=e.categories,i=e.recents;return i&&(n=i.templates.map(function(e){return Object.assign({},e,{is_recent:!0})}),t||(S.g&&n.unshift({cover_token:"",cover_width:1,cover_height:2,name:o("template_v3_blank"),obj_type:m.NUM_SUITE_TYPE.MINDNOTE,obj_token:"",is_create_new:!0,id:0}),n.unshift({cover_token:"",cover_width:2,cover_height:1,name:o("template_v3_blank"),obj_type:m.NUM_SUITE_TYPE.SHEET,obj_token:"",is_create_new:!0,id:0}),n.unshift({cover_token:"",cover_width:1,cover_height:2,name:o("template_v3_blank"),obj_type:m.NUM_SUITE_TYPE.DOC,obj_token:"",is_create_new:!0,id:0})),r.unshift({category_id:i.category_id,name:o("template_v3_recommended"),templates:n,is_recent:!0})),r.forEach(function(e){Array.isArray(e.templates)&&(e.templates=e.templates.map(function(e){return Object.assign({},e,{is_sys:!0,can_share:S.e})}))}),r}),X=function(e){var n=Object(h.default)(e,"users")||{},t=(Object(h.default)(e,"own")||[]).map(function(e){return Object.assign({},e,{is_custom:!0,can_share:!0,can_delete:!0})}),r=(Object(h.default)(e,"share")||[]).map(function(e){var t=n[e.from_user_id]||{};return Object.assign({},e,{is_custom:!0,can_share:!0,can_delete:!0,from_user_name:Object(L.d)(t),from_user_avatar:t.avatar_url})});return[{category_id:k.c.OWN,name:o("explorer.v3.my_templates"),templates:t,type:"own"},{category_id:k.c.SHARE,name:o("explorer.v3.templates_shared"),templates:r,type:"share"}]},Q=function(e){var n=Object(h.default)(e,"users"),t=(Object(h.default)(e,"categories[0].templates")||[]).map(function(e){var t=n[e.from_user_id]||{};return Object.assign({},e,{is_corporate:!0,from_user_name:Object(L.d)(t),from_user_avatar:t.avatar_url})});return[{category_id:k.b.TENANT,name:o("explorer.v3.corporate_tenant"),templates:t,type:"tenant"}]},J=function(e,r){return e.map(function(e,t){if("share"!==e.type)return e;var n=[].concat(i()(e.templates),i()(r[t].templates));return Object.assign({},e,{templates:n})})},$=function(t){var e=[k.e.ALL_TYPES,k.e.DOC,k.e.SHEET].concat(i()(S.g?[k.e.MINDNOTE]:[]));return Array.isArray(t)&&(e=e.filter(function(e){return t.includes(e)})),e.map(function(e){return{value:e,text:w.c[e]}})},ee=function(e,t){return(e=Number(e))in k.e?e:Array.isArray(t)?t[0]:k.f},te=function(e){return Object(u.default)(e)?N.a:Number(e)},ne=function(e){return e?{topic_id:e,title:""}:null},re=function(e,t,n){var r,i=(r={},s()(r,k.j.GALLERY,"Gallery"),s()(r,k.j.CUSTOM,"Custom"),s()(r,k.j.CORPORATE,"Enterprise"),r)[e],o=t===k.e.ALL_TYPES?"Default":"filter_file_type",a="";if(e===k.j.GALLERY&&(a=n===N.a?"Gallery_all":"".concat(n)),e===k.j.CUSTOM)switch(n){case N.a:a="Custom_all";break;case k.c.OWN:a="Custom_my_template";break;case k.c.SHARE:a="Custom_sharewithme"}return{primary_tab_type:i,primary_tab_Source:o,primary_sub_tab_Source:a}};function ie(t){var e="PGC",n=[{key:"is_create_new",type:"blank"},{key:"is_custom",type:"ugc"},{key:"is_recent",type:"recent"},{key:"is_corporate",type:"enterprise"}].find(function(e){return t[e.key]});return n?n.type:e}var oe=S.f&&Object(R.l)(),ae=function(e){var t="";return Object(f.default)(e)&&(t=1e4<=e?"".concat((e/1e4).toFixed(1),"W"):1e3<=e?"".concat((e/1e3).toFixed(1),"K"):"".concat(e)),o("template.heat.label",t)},se=function(e){return Promise.all(e.map(function(e){return e.then(function(e){return{status:"fulfilled",value:e}}).catch(function(e){return{status:"rejected",reason:e}})}))},ce=function(){var t=c()(l.a.mark(function e(t){var n,r,i;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(p.a)(t,N.p),e.next=3,se(n.map(function(e){return Object(D.d)({url:P.FETCH_BOX_FILE_CDN_URL,method:P.METHOD.POST,headers:{"Content-Type":"application/json"},data:e})}));case 3:return r=e.sent,i=function(e){return"fulfilled"===e.status},e.abrupt("return",r.filter(i).flatMap(function(e){return e.value.data||[]}).filter(function(e){return e.permitted}));case 6:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}(),ue=function(){var t=c()(l.a.mark(function e(c){var u;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(0<(u=c.flatMap(function(e){return e.templates.filter(function(e){var t=e.cover_token,n=e.display_type;return Boolean(t)&&n&&[k.n.WALLPAPER,k.n.SCREENSHOT].includes(n)})})).length)return e.delegateYield(l.a.mark(function e(){var t,n,r,i,o,a,s;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=u.map(function(e){return{file_token:e.cover_token,policy:x.a.NEAR,width:N.O,height:N.N}}),e.next=3,ce(t);case 3:if(!(0<(n=e.sent).length)){e.next=24;break}for(i=!(r=!0),o=void 0,e.prev=8,a=c[Symbol.iterator]();!(r=(s=a.next()).done);r=!0)s.value.templates.forEach(function(t){var e=n.find(function(e){return e.file_token===t.cover_token});e&&(t.cover_cdn_url=e)});e.next=16;break;case 12:e.prev=12,e.t0=e.catch(8),i=!0,o=e.t0;case 16:e.prev=16,e.prev=17,r||null==a.return||a.return();case 19:if(e.prev=19,i)throw o;e.next=22;break;case 22:return e.finish(19);case 23:return e.finish(16);case 24:case"end":return e.stop()}},e,null,[[8,12,16,24],[17,,19,23]])})(),"t0",3);e.next=3;break;case 3:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}(),le=function(e){var t=e.src,n=e.token,r=e.params;if(t||n){var i=t||Object(M.b)({fileToken:n});if(Object(d.a)(i)){var o=i.split("?")[0];return o?"".concat(o).concat(Object(b.d)(r)):""}}return""},de=function(){var e=c()(l.a.mark(function e(){var t,n,r,i,o,a=arguments;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=0<a.length&&void 0!==a[0]?a[0]:"web",n=T()(),e.next=4,Object(D.d)({url:P.POST_GET_USER_GUIDE,method:P.METHOD.POST,data:{type:t}});case 4:if(r=e.sent,i=Object(h.default)(r,"data.firstlogin",{}),o=T()(1e3*i.doc),n.isSame(o,"day"))return e.abrupt("return",!0);e.next=9;break;case 9:return e.abrupt("return",!1);case 10:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();function pe(){return fe.apply(this,arguments)}function fe(){return(fe=c()(l.a.mark(function e(){var t,n;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,de();case 2:return t=e.sent,e.next=5,ye.e(11).then(ye.bind(null,"nqTt"));case 5:n=e.sent,n.default.triggerEvent("TemplateNewLayoutV4_1",{userInfo:{old_or_new_user:t?"NEW_USER":"OLD_USER"}});case 8:case"end":return e.stop()}},e)}))).apply(this,arguments)}var he,ge=function(e){he&&clearTimeout(he),(e.is_sys||e.is_create_new)&&(he=setTimeout(function(){pe(),he=null},5e3))},me=function(e,t){var n=e.is_sys,r=e.name,i=e.obj_token;return{template_name:n?r:"",token_new:n?i:"",template_category_name:t?t.name:"",template_category_id:t?t.category_id:""}}}).call(this,ye("2vAP"))},lCmp:function(e,t,n){"use strict";var i=n("fGER"),o=n("fywt"),a=n("26kz");function r(e,r){var i;return Object(a.a)(e,function(e,t,n){return!(i=r(e,t,n))}),!!i}var s=r,c=n("/1FC"),u=n("XFn8");function l(e,t,n){var r=Object(c.a)(e)?i.a:s;return n&&Object(u.a)(e,t,n)&&(t=void 0),r(e,Object(o.a)(t,3))}t.a=l},lFky:function(e,t,n){var r="input,select,textarea,keygen",i=/%20/g,a=/\r?\n/g,s={map:n("3WF5")};t.serialize=function(){var e=this.serializeArray();return s.map(e,function(e){return encodeURIComponent(e.name)+"="+encodeURIComponent(e.value)}).join("&").replace(i,"+")},t.serializeArray=function(){var o=this.constructor;return this.map(function(){var e=this,t=o(e);return("form"===e.name?t.find(r):t.filter(r)).toArray()}).filter('[name!=""]:not(:disabled):not(:submit, :button, :image, :reset, :file):matches([checked], :not(:checkbox, :radio))').map(function(e,t){var n=o(t),r=n.attr("name"),i=n.val();return null==i&&(i=""),Array.isArray(i)?s.map(i,function(e){return{name:r,value:e.replace(a,"\r\n")}}):{name:r,value:i.replace(a,"\r\n")}}).get()}},lQSh:function(e,t,n){"use strict";var r,i,o,a,s,c;(i=r=r||{}).INSIDE_PAGE="insidePage",i.PASTE="paste",i.USER_INSERT="userInsert",(a=o=o||{})[a.Add=0]="Add",a[a.Paste=1]="Paste",a[a.Del=2]="Del",(c=s=s||{})[c.execute=0]="execute",c[c.undo=1]="undo",c[c.redo=2]="redo",n.d(t,"b",function(){return r})},lQqw:function(e,t,n){var s=n("MMmD");function r(o,a){return function(e,t){if(null==e)return e;if(!s(e))return o(e,t);for(var n=e.length,r=a?n:-1,i=Object(e);(a?r--:++r<n)&&!1!==t(i[r],r,i););return e}}e.exports=r},lRVh:function(e,t,n){var r=n("pevS"),i=n("wbIY");r({target:"Object",stat:!0,forced:!i,sham:!i},{defineProperties:n("wjB2")})},lTlB:function(e,t,n){},lYZG:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n("6blF"),i=n("0/uQ"),o=n("G5J1");function a(n){return new r.a(function(t){var e;try{e=n()}catch(e){return void t.error(e)}return(e?Object(i.a)(e):Object(o.b)()).subscribe(t)})}},lYoT:function(e,t,n){"use strict";n.d(t,"b",function(){return o}),n.d(t,"a",function(){return a});var r=n("K7zS");var i=null;function o(){if(null!==i)return i;var e=document.getElementById(r.b);return null!==e?i=e:((i=document.createElement("div")).id=r.b,i.setAttribute("style","position: absolute; top: 0; left: 0; height: 0; z-index: 2;"),document.body.appendChild(i),i)}function a(e){var t=document.getElementById(e);return null===t&&((t=document.createElement("div")).id=e,o().appendChild(t)),t}},la6v:function(e,t,n){var r=n("EA7m"),d=n("ljhN"),p=n("mv/X"),f=n("mTTR"),h=Object.prototype,g=h.hasOwnProperty,i=r(function(e,t){e=Object(e);var n=-1,r=t.length,i=2<r?t[2]:void 0;for(i&&p(t[0],t[1],i)&&(r=1);++n<r;)for(var o=t[n],a=f(o),s=-1,c=a.length;++s<c;){var u=a[s],l=e[u];(void 0===l||d(l,h[u])&&!g.call(e,u))&&(e[u]=o[u])}return e});e.exports=i},"lm/5":function(e,t,n){var f=n("fmRc"),h=n("wF/u"),g=1,m=2;function r(e,t,n,r){var i=n.length,o=i,a=!r;if(null==e)return!o;for(e=Object(e);i--;){var s=n[i];if(a&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++i<o;){var c=(s=n[i])[0],u=e[c],l=s[1];if(a&&s[2]){if(void 0===u&&!(c in e))return!1}else{var d,p=new f;if(r&&(d=r(u,l,c,e,t,p)),!(void 0===d?h(l,u,g|m,r,p):d))return!1}}return!0}e.exports=r},lq5y:function(e,t,n){"use strict";var r=n("YsTz");e.exports=function(e){if(!r(e))throw new TypeError("Cannot use null or undefined");return e}},lqgj:function(e,t,n){e.exports=n("kJdU")},"m/sp":function(e,t,n){var r=n("dktu"),i=n("eOcF"),o=n("+8zG"),a=n("QYBB").f;e.exports=function(e){var Symbol=r.Symbol||(r.Symbol={});i(Symbol,e)||a(Symbol,e,{value:o.f(e)})}},m3gH:function(e,t,r){"use strict";var n=r("o0o1"),i=r.n(n),o=r("yXPU"),a=r.n(o),s=r("oJoF"),c=null;function u(e,t){e.reset(),t&&e.setEditor(t)}var l={plugin:function(n){var e={className:"PresentationMode",reset:function(e,t){c&&c.reset(),n=null},changesetApply:function(e,t){c&&c.changesetApply(t)},processBeforeInsertNode:function(e,t){c&&c.onNewLineEntry(t)}};return c?u(c,n):n&&n.on(s.b,a()(i.a.mark(function e(){var t;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([r.e("doc_index_css"),r.e("chunk_adit"),r.e("commons--doc_index_delay--voteEmoji--votePicker"),r.e(16),r.e("commons--doc_index_delay--jira"),r.e("doc_index_delay")]).then(r.bind(null,"tO+E"));case 2:t=e.sent,u(c=t.default,n);case 5:case"end":return e.stop()}},e)}))),e},isInFullscreen:function(){return!!c&&c.isInFullscreen()}};t.a=l},m40S:function(e,t){e.exports=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}}},m7iD:function(e,t,n){var r=n("pevS"),i=n("Bvq2"),o=n("pCEo"),a=n("RLqH").f,s=n("wbIY"),c=i(function(){a(1)});r({target:"Object",stat:!0,forced:!s||c,sham:!s},{getOwnPropertyDescriptor:function(e,t){return a(o(e),t)}})},mA47:function(e,t,n){n("m/sp")("search")},mAJt:function(e,t,n){n("m/sp")("replaceAll")},mEwK:function(e,t,n){e.exports=n("cWqo"),n("i0Qd"),n("VIxa"),n("yUmB"),n("o62m")},mGgY:function(e,t,n){"use strict";var r=n("HwUZ"),o=n("zpDW"),i=n("qtHR"),a=n("MCLT").inherits,s=e.exports=function(e){r.call(this,e),this.tokenizer=e,this.posTracker=new i(e.preprocessor),this.currentAttrLocation=null,this.currentTokenLocation=null};a(s,r),s.prototype._getCurrentLocation=function(){return{line:this.posTracker.line,col:this.posTracker.col,startOffset:this.posTracker.offset,endOffset:-1}},s.prototype._attachCurrentAttrLocationInfo=function(){this.currentAttrLocation.endOffset=this.posTracker.offset;var e=this.tokenizer.currentToken,t=this.tokenizer.currentAttr;e.location.attrs||(e.location.attrs=Object.create(null)),e.location.attrs[t.name]=this.currentAttrLocation},s.prototype._getOverriddenMethods=function(n,r){var i={_createStartTagToken:function(){r._createStartTagToken.call(this),this.currentToken.location=n.currentTokenLocation},_createEndTagToken:function(){r._createEndTagToken.call(this),this.currentToken.location=n.currentTokenLocation},_createCommentToken:function(){r._createCommentToken.call(this),this.currentToken.location=n.currentTokenLocation},_createDoctypeToken:function(e){r._createDoctypeToken.call(this,e),this.currentToken.location=n.currentTokenLocation},_createCharacterToken:function(e,t){r._createCharacterToken.call(this,e,t),this.currentCharacterToken.location=n.currentTokenLocation},_createAttr:function(e){r._createAttr.call(this,e),n.currentAttrLocation=n._getCurrentLocation()},_leaveAttrName:function(e){r._leaveAttrName.call(this,e),n._attachCurrentAttrLocationInfo()},_leaveAttrValue:function(e){r._leaveAttrValue.call(this,e),n._attachCurrentAttrLocationInfo()},_emitCurrentToken:function(){this.currentCharacterToken&&(this.currentCharacterToken.location.endOffset=this.currentToken.location.startOffset),this.currentToken.location.endOffset=n.posTracker.offset+1,r._emitCurrentToken.call(this)},_emitCurrentCharacterToken:function(){this.currentCharacterToken&&-1===this.currentCharacterToken.location.endOffset&&(this.currentCharacterToken.location.endOffset=n.posTracker.offset),r._emitCurrentCharacterToken.call(this)}};return Object.keys(o.MODE).forEach(function(e){var t=o.MODE[e];i[t]=function(e){n.currentTokenLocation=n._getCurrentLocation(),r[t].call(this,e)}}),i}},mHIB:function(e,t,n){"use strict";var r=n("lwsE"),i=n.n(r),o=n("W8MJ"),a=n.n(o),u=n("WzBf"),l=n("SebV"),s=n("fHNB"),c=function(){function e(){i()(this,e),this.enabled=!1,this.documentDeleted=!1}return a()(e,[{key:"getConfig",value:function(e,t){var n=this;return[{options:{token:"NOTICE_".concat(e,"_").concat(t),resourceType:"NOTICE_".concat(e),routeType:"token",routeKey:t,subtype:"DELETE"},handler:function(e){n.documentDeleted=!0,Object(s.a)(!0)}}]}},{key:"register",value:function(e,t){var n=this;this.tagOptions=this.getConfig(e,t);var r=!0,i=!1,o=void 0;try{for(var a,s=this.tagOptions[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var c=a.value;u.a.register(c.options,c.handler),u.a.onError(c.options,function(e){console.error("[MessageBoxError]:",e),Object(l.a)(e)})}}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return this.enabled=!0,function(){return n.deregister()}}},{key:"deregister",value:function(){if(this.enabled){var e=!0,t=!1,n=void 0;try{for(var r,i=this.tagOptions[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){var o=r.value;u.a.deregister(o.options,o.handler)}}catch(e){t=!0,n=e}finally{try{e||null==i.return||i.return()}finally{if(t)throw n}}this.tagOptions=[],this.enabled=!1,this.documentDeleted=!1}}},{key:"isDocumentDeleted",value:function(){return this.documentDeleted}},{key:"isEnabled",value:function(){return this.enabled}}]),e}();t.a=new c},mJXI:function(e,t,n){"use strict";n.d(t,"a",function(){return h});var s=n("Bw5p"),c=n("TYER"),r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var u=function(){return(u=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function d(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var o,p=(i(a,o=c.j),a.prototype.getVersionOfOversize=function(e){return e.version},a.prototype.getVersionOfChangeset=function(e){return e.version},a.prototype.getChangesets=function(e){return e.messages},a.prototype.getVersionOfClientVars=function(e){return e.version},a.prototype.getVersionOfAcceptCommit=function(e){return e.version},a.prototype.isSelfChangeset=function(){return!1},a);function a(e){var t=o.call(this,u(u({},e),{requestAPI:{CLIENT_VARS:"/api/msg_box/get_version",NEW_CHANGES:"/api/msg_box/get_message",USER_CHANGES:""}}))||this;return t.missVersionLimit=100,t}var f=(l.prototype.log=function(e,t){this.loggable&&console.log(this.prefix,e,t)},l.prototype.enable=function(){this.loggable=!0},l.prototype.disable=function(){this.loggable=!1},l);function l(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.loggable=!0,this.prefix="["+e.join("][")+"]"}var h=(g.prototype.destory=function(){this.sync&&this.sync.destroy(),this.messageCallbackSet.clear(),this.messageSubtypeCallbackMap.clear(),this.errorCallbackSet.clear()},g.prototype.getMessageCallbackSetSize=function(){return this.messageCallbackSet.size},g.prototype.isRegistered=function(){return!(!this.messageCallbackSet.size&&!this.messageSubtypeCallbackMap.size)},g.prototype.getErrorCallbackSetSize=function(){return this.errorCallbackSet.size},g);function g(e,t,n,r){var l=this;this.options=e,this.io=t,this.request=n,this.isNewProtocol=r,this.messageCallbackSet=new Set,this.messageSubtypeCallbackMap=new Map,this.errorCallbackSet=new Set,this.connect=function(){var e,t,n=l.options,r=l.io,i=l.request,o=n.token,a=n.version;l.sync=new p({token:o,io:r,type:c.d.MESSAGE_BOX,alias:((e={})[c.h.NEW_CHANGES]="GET_MESSAGE",e[c.h.CLIENT_VARS]="GET_VERSION",e),logger:n.resourceType?new f("DataJS","Sync",c.d.MESSAGE_BOX,null!=(t=n.resourceType)?t:""):new f("DataJS","Sync",c.d.MESSAGE_BOX),requestDataOptions:u(u({},Object(s.a)(n,["extra"])),{resource_type:n.resourceType}),requestWatchDataOptions:{route_type:n.routeType,route_key:n.routeKey},requestExceptWatchHeaderOptions:{"route-key":n.routeKey,"route-type":n.routeType},request:i,isNewProtocol:l.isNewProtocol}),l.sync.on(c.h.NEW_CHANGES,l.handleMessage),l.sync.on(c.h.ERROR,l.handleSyncError),void 0!==a?l.sync.setClientVars(a):l.sync.fetchClientVars()},this.register=function(e,t){var n,r=l.messageCallbackSet,i=l.messageSubtypeCallbackMap;t?((n=i.get(t))||(n=new Set,i.set(t,n)),n.add(e)):r.add(e)},this.deregister=function(e,t){var n,r=l.messageCallbackSet,i=l.messageSubtypeCallbackMap;t?(n=i.get(t))&&(n.delete(e),0===n.size&&i.delete(t)):r.delete(e)},this.onError=function(e){return l.errorCallbackSet.add(e),l.errorCallbackSet.size},this.removeErrorListener=function(e){return l.errorCallbackSet.delete(e),l.errorCallbackSet.size},this.handleMessage=function(e){var t,n,r=e.message,i=e.extra,o=e.sub_type;if(r){var a=o?l.messageSubtypeCallbackMap.get(o):l.messageCallbackSet;if(a)try{for(var s=d(a),c=s.next();!c.done;c=s.next()){var u=c.value;u&&u(r,i)}}catch(e){t={error:e}}finally{try{c&&!c.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}}},this.handleSyncError=function(e){var t,n;try{for(var r=d(l.errorCallbackSet),i=r.next();!i.done;i=r.next()){var o=i.value;o&&o(e)}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}},this.connect()}},"mOv+":function(e,N,D){"use strict";(function(f){D.d(N,"a",function(){return L}),D.d(N,"b",function(){return R});var h,e,t=D("lwsE"),r=D.n(t),n=D("W8MJ"),i=D.n(n),o=D("a1gu"),a=D.n(o),s=D("Nsbk"),u=D.n(s),c=D("7W2i"),l=D.n(c),d=D("oTSI"),p=D("q1tI"),g=D.n(p),m=D("UlbS"),v=D("29OK"),y=D("XjP5"),b=D("3HGU"),E=D("16UX"),_=D("TSYQ"),C=D.n(_),T=D("5gSl"),O=D("GuAe"),k=(D("v2yF"),D("fco7")),S=D("2ACu");(e=h=h||{}).Top="top",e.Bottom="bottom";var w=["onMouseLeave","onClick"],I={cursor:"pointer"},x=function(e){function t(){var c;return r()(this,t),(c=a()(this,u()(t).apply(this,arguments))).handleClickEdit=function(e){c.props.onEdit&&c.props.onEdit(),c.setMoreShow(!1)},c.handleClickDelete=function(e){Object(T.a)(e),c.props.onDelete&&c.props.onDelete(e),c.setMoreShow(!1)},c.handleClickResolve=function(e){Object(T.a)(e),c.props.onResolve&&c.props.onResolve(e)},c.handleClickReply=function(e){Object(T.a)(e),c.props.onReply&&c.props.onReply(e)},c.handleClickTranslate=function(e,t){Object(S.default)("client_comment",{action:"translate_comment"}),Object(T.a)(e),c.props.onTranslate&&c.props.onTranslate(e,t),c.setMoreShow(!1)},c.handleClickToggleTranslateContent=function(e){Object(T.a)(e),c.props.onToggleTranslateContent&&c.props.onToggleTranslateContent(e),c.setMoreShow(!1)},c.setMoreShow=function(e){c.setState({moreShow:e})},c.getMoreMenuSetting=Object(d.a)(function(e,t){var n=t.canEdit,r=t.canDelete,i=t.canTranslate,o=t.canShowTranslate,a=t.canShowContent,s=t.equalLang;return[{id:"edit",text:f("comment.edit"),className:"",visible:n,onClick:c.handleClickEdit},{id:"delete",text:f("comment.delete"),className:"",visible:r,onClick:c.handleClickDelete},{id:"translate",text:s?f("common.translate",""):f("common.ai_translate"),className:"",children:s?k.a.langs.reduce(function(e,t){return e[t]=k.a.getText(t),e},{}):void 0,visible:i,onClick:c.handleClickTranslate},{id:"originContent",text:f(o?"common.translate_original_text":"common.translate_text"),className:"",visible:a,onClick:c.handleClickToggleTranslateContent}]}),c}return l()(t,e),i()(t,[{key:"renderMoreMenu",value:function(){var e=this.props,t=e.canEdit,n=e.canDelete,r=e.canTranslate,i=e.canShowContent,o=e.canShowTranslate,a=e.equalLang;return g.a.createElement(O.a,{list:this.getMoreMenuSetting("".concat(t,":").concat(n,":").concat(r,":").concat(i,":").concat(o,":").concat(a),{canEdit:t,canDelete:n,canTranslate:r,canShowContent:i,canShowTranslate:o,equalLang:a})})}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=e.canEdit,n=e.canDelete,r=e.canTranslate,i=e.canShowContent;t||n||r||i||!this.state.moreShow||this.setMoreShow(!1)}}]),t}(p.PureComponent),L=function(e){function p(e){var t;return r()(this,p),(t=a()(this,u()(p).call(this,e))).state={moreShow:!1},t}return l()(p,e),i()(p,[{key:"handleMoreMenuHover",value:function(){Object(S.default)("client_comment",{action:"click_addition"})}},{key:"render",value:function(){var e=this.props,t=e.canReact,n=e.canEdit,r=e.canDelete,i=e.canResolve,o=e.getToolTipContainer,a=e.canTranslate,s=e.canShowContent,c=e.canReply;if(!(i||t||n||r||a||s))return null;var u=this.state.moreShow,l=n||r||a||s,d=C()("comment-list-item__controls-more-icon",{"comment-list-item__controls-more-icon--toggle-show":u});return g.a.createElement("div",{className:"comment-list-item__resolve-more-btn",onClick:function(e){return e.stopPropagation()}},t&&g.a.createElement(E.a,{defaultRecentReactionPlacement:h.Bottom,onReactionClick:this.props.onReact,onVisibleChange:this.props.onReactionVisibleChange,onMouseEnter:this.props.onReactionMouseEnter,onPopoverMouseEnter:this.props.onReactionPopoverMouseEnter}),c&&g.a.createElement(m.Tooltip,{title:f("comment.placeholder.rely_comment"),placement:"top",hideActions:w,getContainer:o},g.a.createElement("button",{className:C()("comment-list-item__controls-resolve",{"comment-list-item__resolve-btn":!l}),onClick:this.handleClickReply},g.a.createElement("span",{style:I},g.a.createElement(b.a,null)))),i&&g.a.createElement(m.Tooltip,{title:f("comment.solve_tip"),placement:"top",hideActions:w,getContainer:o},g.a.createElement("button",{className:C()("comment-list-item__controls-resolve",{"comment-list-item__resolve-btn":!l}),onClick:this.handleClickResolve},g.a.createElement("span",{style:I},g.a.createElement(y.a,null)))),l&&g.a.createElement(m.Popover,{placement:"bottomRight",content:this.renderMoreMenu(),showActions:p.POPOVER_SHOW_ACTIONS,hideActions:p.POPOVER_HIDE_ACTIONS,className:"comment-item-more",popoverClassName:"comment-item-more-popover",onVisibleChange:this.setMoreShow,arrow:!1,destroyAfterClose:!0,gap:0},g.a.createElement("button",null,g.a.createElement(v.a,{className:d,onMouseEnter:this.handleMoreMenuHover}))))}}]),p}(x);L.POPOVER_SHOW_ACTIONS=["onMouseEnter"],L.POPOVER_HIDE_ACTIONS=["onMouseLeave"];var R=function(e){function n(e){var t;return r()(this,n),(t=a()(this,u()(n).call(this,e))).handleControlClick=function(e){e.stopPropagation()},t.state={moreShow:!1},t}return l()(n,e),i()(n,[{key:"handleMoreMenuHover",value:function(){Object(S.default)("client_comment",{action:"click_addition"})}},{key:"render",value:function(){var e=this.props,t=e.canReact,n=e.canEdit,r=e.canDelete,i=e.canTranslate,o=e.canShowContent,a=e.canReply,s=e.getToolTipContainer,c=this.state.moreShow;if(!(t||n||r||i||o))return null;var u=n||r||i||o,l=C()("comment-list-item__controls-more-icon",{"comment-list-item__controls-more-icon--toggle-show":c});return g.a.createElement("span",{className:"comment-list-item__controls-separate layout-row",onClick:this.handleControlClick},Boolean(t)&&g.a.createElement(E.a,{defaultRecentReactionPlacement:h.Bottom,onReactionClick:this.props.onReact,onVisibleChange:this.props.onReactionVisibleChange,onMouseEnter:this.props.onReactionMouseEnter,onPopoverMouseEnter:this.props.onReactionPopoverMouseEnter}),a&&g.a.createElement(m.Tooltip,{title:f("comment.placeholder.rely_comment"),placement:"top",hideActions:w,getContainer:s},g.a.createElement("button",{className:"comment-list-item__controls-reply",onClick:this.props.onReply},g.a.createElement(b.a,null))),u&&g.a.createElement(m.Popover,{placement:"bottomRight",content:this.renderMoreMenu(),hideDelay:500,className:"comment-item-more",popoverClassName:"comment-item-more-popover",onVisibleChange:this.setMoreShow,arrow:!1,destroyAfterClose:!0,gap:0,getContainer:s},g.a.createElement("button",{className:"comment-list-item__controls-more-dropdown"},g.a.createElement(v.a,{className:l,onMouseEnter:this.handleMoreMenuHover}))))}}]),n}(x)}).call(this,D("2vAP"))},mRaX:function(e,Ge,We){"use strict";(function(y){We.d(Ge,"k",function(){return M}),We.d(Ge,"X",function(){return P}),We.d(Ge,"H",function(){return j}),We.d(Ge,"Z",function(){return F}),We.d(Ge,"m",function(){return B}),We.d(Ge,"d",function(){return J}),We.d(Ge,"I",function(){return U}),We.d(Ge,"v",function(){return H}),We.d(Ge,"w",function(){return z}),We.d(Ge,"j",function(){return V}),We.d(Ge,"y",function(){return K}),We.d(Ge,"Q",function(){return W}),We.d(Ge,"l",function(){return Y}),We.d(Ge,"x",function(){return ee}),We.d(Ge,"t",function(){return te}),We.d(Ge,"R",function(){return ne}),We.d(Ge,"h",function(){return ie}),We.d(Ge,"K",function(){return oe}),We.d(Ge,"b",function(){return se}),We.d(Ge,"A",function(){return ce}),We.d(Ge,"F",function(){return ue}),We.d(Ge,"p",function(){return le}),We.d(Ge,"V",function(){return de}),We.d(Ge,"W",function(){return pe}),We.d(Ge,"i",function(){return he}),We.d(Ge,"G",function(){return ge}),We.d(Ge,"n",function(){return ve}),We.d(Ge,"M",function(){return ye}),We.d(Ge,"g",function(){return Ee}),We.d(Ge,"q",function(){return _e}),We.d(Ge,"r",function(){return Ae}),We.d(Ge,"u",function(){return Ce}),We.d(Ge,"J",function(){return Te}),We.d(Ge,"U",function(){return Se}),We.d(Ge,"E",function(){return we}),We.d(Ge,"T",function(){return Ie}),We.d(Ge,"O",function(){return Le}),We.d(Ge,"B",function(){return Re}),We.d(Ge,"Y",function(){return Ne}),We.d(Ge,"S",function(){return De}),We.d(Ge,"s",function(){return Me}),We.d(Ge,"c",function(){return Pe}),We.d(Ge,"f",function(){return je}),We.d(Ge,"N",function(){return Fe}),We.d(Ge,"e",function(){return Be}),We.d(Ge,"o",function(){return Ue}),We.d(Ge,"P",function(){return He}),We.d(Ge,"L",function(){return ze}),We.d(Ge,"a",function(){return Ve}),We.d(Ge,"z",function(){return Ke});var e=We("lSNA"),i=We.n(e),t=We("RIqP"),u=We.n(t),n=We("J4zp"),l=We.n(n),r=We("hjf3"),q=We("HmyT"),o=(We("D7h9"),We("7EGn")),a=(We("jp/M"),We("G8Hj"),We("nN3d")),Z=We("HA5h"),p=(We("Z0Cl"),We("AiBH")),b=We("PyL4"),s=We("TSYQ"),E=We.n(s),c=We("nHtH"),X=We("iP/4"),d=We("kUgE"),f=(We("n3ZB"),We("m1/u"),We("yaX4"),We("1dfU")),h=We("2ACu"),g=We("FnDM"),m=We("JznU"),v=We("Xngx"),_=We("QM+C"),C=We("lQZd"),T=We("3xnr"),O=We("APdQ"),k=We.n(O),S=We("D28M"),w=We("7Kxq"),I=We("rbSl"),x=We("duSr"),L=We("y2sV"),Q=We("vE74"),R=We("I4N/");We.d(Ge,"C",function(){return R.a}),We.d(Ge,"D",function(){return R.b});var N="data-contentcollector-ignore-space-at",D="inline-block-placeholder",M=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:16,r=document.createElement("span"),i="";e.forEach(function(e){return i+=e}),r.innerHTML=i,r.style.cssText+="visibility: hidden; position: absolute; top: -9999em; font-size: ".concat(n,"px"),document.body.appendChild(r);var o=r.offsetWidth+t;return document.body.removeChild(r),o},P=function(e){var t=new RegExp("&amp;","g");return e.replace(t,"&")},j=function(e){var t={};return Object(r.a)(e).filter(Boolean).forEach(function(e){t[e]?++t[e]:t[e]=1}),t},F=function(n,r){var i=[];return Object.keys(n).forEach(function(e){var t={};r[e]||(t[e]=n[e]),r[e]&&r[e]<n[e]&&(t[e]=n[e]-r[e]),t[e]&&i.push(t)}),i};function B(n){return function(e){var o=new Array(n.length),t=e.numSet,a=e.tokensMap;if(0===t.length)return o;var s=new RegExp("[*](".concat(t.join("|"),")[*+]"),"g");return n.forEach(function(e,t){for(var n;null!==(n=s.exec(e));){var r=a[n[1]],i=o[t];i?i.push(r):o[t]=[r]}}),o}}var J={horizontalAlign:"left",boxWidth:Object(x.b)()?360:540,boxMaxHeight:417,boxMinHeight:Object(x.a)()?152:350};function U(e){var t=/mention-token_(?=.*[a-z])[a-z0-9]+$/gi;if(!e)return[];var n,r={},i=[];for(n in e){var o,a=l()(e[n],2),s=a[0],c=a[1];s&&c&&t.test(s)&&(r[(o=parseInt(n,10)).toString(36)]=s.split("_")[1],i=[].concat(u()(i),[o.toString(36)]))}return{tokensMap:r,numSet:i}}function H(e,t){if(e){var n=Object(q.$)(e),r=Object.assign({},J,{},t,{lineHeight:Number.parseInt(getComputedStyle(n.get(0))["line-height"]),getFallbackBoxContainer:function(){return n.closest(".innerdocbody").parent().get(0)}}),i=r.mouseY,o=r.zoom,a=void 0===o?1:o,s=K(n.get(0),i,a);if(s)return z(s,r)}}function z(e,t){var n=(t=Object(Z.a)({},J,t)).horizontalAlign,r=t.boxWidth,i=void 0===r?J.boxWidth:r,o=t.boxMaxHeight,a=t.boxMinHeight,s=t.upFirst,c=void 0!==s&&s,u=t.coverNavBar,l=void 0!==u&&u,d=t.flatDom,p=void 0!==d&&d,f=t.closeContainerBottom,h=void 0!==f&&f,g=t.gap,m=void 0===g?0:g,v=t.bottomGap,y=void 0===v?0:v,b=t.getFallbackBoxContainer,E=t.$boxContainer,_=void 0===E?Object(q.$)(".doc-position"):E;_.length||(_=Object(q.$)(b()));var C,T,O,k,S="left"===n,w="center"===n,I=_.offset(),x=_.outerHeight(),L=Object(q.$)(".navigation-bar-wrapper").height()||0;k=window.bestPracticeToken?(C=document.querySelector(".create-by-template__editor.etherpad-container-wrapper"),T=getComputedStyle(C),O=parseInt(T.width,10),parseInt(T.height,10)):(O=window.innerWidth,window.innerHeight);var R,N=e.top,D=e.left,M=e.height,P=e.width,j=I.top,F=I.left,B=k-N-M-y,U=l?N:N-L,H=O-Object(Q.e)()-D-(w?P/2:P)-m;S?(R=D+P-F+m,H<i&&(R-=i+P+2*m),R=Math.max(R,-F)):w&&(R=D+P/2-i/2-F,H<i/2&&(R-=i/2-H)),R=Math.max(R,-F);var z,V,K=t.lineHeight||18,W=p?N-j:N+K-j,Y=X.a.isIPad?window.scrollY:0;return c?(z=-N+j+x-Y,W=void 0,U<o&&o<B&&(z=void 0,W=N+K-j)):(o<U&&B<o&&(z=-N+j+x-Y,W=void 0),B<o&&h&&(z=10,W=void 0)),B<o&&U<o&&(a<U&&B<U?(z=-N+j+x-Y,V=U,W=void 0):V=Math.max(B-10,a)),o===a&&(V=o),{left:R,bottom:!isNaN(z)&&w?z+m:z,top:!isNaN(W)&&w?W+m:W,height:V}}function V(e,t){var n,r,i=t.gap,o=void 0===i?0:i,a=t.$boxContainer,s=void 0===a?Object(q.$)(".doc-position"):a,c=t.coverNavBar,u=s.offset(),l=s.outerHeight(),d=window.innerHeight,p=Object(q.$)(".navigation-bar-wrapper").height(),f=e.top,h=e.left,g=e.height,m=e.width,v=u.top;return d-f-g<f-(c?p:0)?r=-f+v+l+o:n=f-v+g+o,{top:n,left:h-u.left+m/2,bottom:r}}function K(e,t,n){if(!e.getClientRects)return Object(m.a)(e.getBoundingClientRect(),n);var r=e.getClientRects();if(1===r.length)return Object(m.a)(r[0],n);if(!t)return Object(m.a)(r[r.length-1],n);for(var i=0;i<r.length;i++){var o=Object(m.a)(r[i],n),a=o.top,s=o.top+o.height;if(a-3<=t&&t<=s+3)return o}}function W(e){return e.getAttribute(N)}function Y(){var e=ce().focusNode;if(!e)return null;var t=e.parentNode,n=e;return 3===e.nodeType&&t&&(n=t),W(n)||n.hasAttribute(L.g)||n.hasAttribute(L.C)?n:null}function $(e,t,n){var r=!(3<arguments.length&&void 0!==arguments[3])||arguments[3],i=[],o=ce();if(e)for(e.get(0)instanceof HTMLElement||(e=e.parent());e.length&&!/magicdomid/.test(e.attr("id"));){var a=e.text(),s=0===t&&"next"===n;if(e.hasClass("mention")&&(s||0!==t))return e;if("prev"===n){var c=0===t&&Le(o);if((e.prev().hasClass("mention")||e.prev().hasClass(T.a)||e.prev().hasClass(D)||e.prev().find("."+D).length)&&(c||!r)){i=e.prev();break}}else{var u=t===a.length||1===t&&" "===a.slice(-1);if((e.next().hasClass("mention")||e.next().hasClass(T.a)||e.next().hasClass(D)||e.next().find("."+D).length)&&(u||!r)){i=e.next();break}}e=e.parent()}return i}function ee(e){var t=ce(),n=[],r=t.baseNode,i=t.baseOffset,o=t.focusNode,a=t.focusOffset,s=Y(),c=o,u=a;s&&(c=s,u=0);var l,d=$(Object(q.$)(c),u,"prev",e);return!xe(t)||(l=$(Object(q.$)(r),i,"prev",e)).length&&n.push(l.get(0)),d.length&&n.push(d.get(0)),n.length&&n.sort(function(e,t){return e.compareDocumentPosition(t)===p.k.PREV?-1:1}),Object(q.$)(n)}function te(e){var t=ce(),n=t.focusNode,r=t.focusOffset,i=Y(),o=n,a=r;return i&&(o=i,a=1),$(Object(q.$)(o),a,"next",e)}function ne(e){var t=Object(q.$)(e).parents("span");return!(!t.length||t.text()!==Object(q.$)(e).text()||!/mention-type/.test(t.attr("class")))}var re=0;function ie(){return re++,Object(a.c)(12)+"-"+re}function oe(e,t){var n=new RegExp(t+"_([^\\s]+)");return Object(o.default)(e.match(n),"[1]")||""}var ae=[p.E.USER,p.E.FILE,p.E.FOLDER,p.E.SHEET,p.E.SHEET_DOC,p.E.BITABLE].map(function(e){return{attr:"mention-type_".concat(e),value:"true"}});function se(e,t){var n,r,i,o,a,s,c,u,l,d,p,f,h=t.documentAttributeManager,g=t.newRep;e.selection.isCaret(g)||(n=g.selStart,r=g.selEnd,i=g.selFocusAtStart,a=r,s=!1,c=ae,u=(o=n)[0]===r[0],l=n[0],h.getAttributesPoints(c,l,l+1).forEach(function(e){var t=e.selStart,n=e.selEnd;t[1]<o[1]&&n[1]>o[1]&&(o=t,s=!0);var r=n[1]>a[1]&&t[1]<a[1];u&&r&&(a=n,s=!0)}),u||(d=r[0],h.getAttributesPoints(c,d,d+1).forEach(function(e){var t=e.selStart,n=e.selEnd;n[1]>a[1]&&t[1]<a[1]&&(a=n,s=!0)})),s&&(g.selStart=o,g.selEnd=a,f=(p=o!==n)&&a!==r?i:!!p,g.selFocusAtStart=f))}function ce(){return window.getSelection?window.getSelection():{}}function ue(e){var t=e.left,n=e.top,r=e.bottom,i={left:t,height:e.height};return void 0!==r?i.bottom=r:i.top=n,i}function le(){return p.f.joined}function de(){var e='<div class="mention-chat-ct layout-column layout-main-center flex">\n    <div class="'.concat("mention-chat-tit",'" >').concat(Object(b.escapeHTML)(y("anonymous.lark_group_card_default_name")),"</div>\n  </div>");return'<div class="layout-row layout-cross-center mention-chat ignore-collect hold-when-replace" contenteditable="false"\n    '.concat(X.a.isEdge?'tabindex="-1"':"",'>\n        <span class="mention-chat-icon">\n          <img src="').concat(k.a,'" />\n        </span>\n        ').concat(e,"\n    </div>").replace(/>[\n\s]+</g,"><")}function pe(){var e,t,n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},r=n.url,i=void 0===r?"":r,o=n.buttonText,a=void 0===o?"":o,s=n.content,c=void 0===s?y("anonymous.lark_group_card_default_name"):s,u=n.desc,l=void 0===u?"":u,d=n.joinConfirm,p=n.chatId,f=n.notAllowedJoin,h="",g="mention-chat-tit",m="",v="";return h=d?'<div class="layout-row mention-chat-button-opt layout-cross-center" ><button\n      class="button-cancel">'.concat(y("common.cancel"),'</button><button\n      class="button-confirm">').concat(y("common.confirm"),"</button></div>"):(e=a===le(),t=E()("mention-chat-button no-ace-listen",{"js-open-lark":e,"open-lark":e}),'<div data-id="'.concat(Object(b.escapeHTMLAttribute)(p),'" class="').concat(t,'" onclick="(function handleOpenLark(e){\n      if (').concat(!e,") return;\n      if (").concat(X.a.isIE,") return;\n      e.stopPropagation();\n      var openLarkEvent = document.createEvent('Event');\n      openLarkEvent.initEvent('openLark',true,true);\n      dispatchEvent(openLarkEvent);\n    }).apply(this, arguments)\">").concat(a,"</div>")),l&&(g+=" mt12",m='<div class="mention-chat-desc">'.concat(Object(b.escapeHTML)(l),"</div>")),v=f?'<div class="mention-chat-ct layout-column layout-main-center flex">\n    <div class="'.concat(g,'" >').concat(y("mention.chat_notallowed_join"),"</div></div>"):'<div class="mention-chat-ct layout-column layout-main-center flex">\n    <div class="'.concat(g,'" >').concat(Object(b.escapeHTML)(c),"</div>\n    ").concat(m,"\n    </div>\n    ").concat(h),'<div class="layout-row layout-cross-center mention-chat ignore-collect hold-when-replace" contenteditable="false"\n    '.concat(X.a.isEdge?'tabindex="-1"':"",'>\n        <span class="mention-chat-icon">\n          <img src="').concat(Object(b.escapeHTMLAttribute)(be(i)),'" />\n        </span>\n        ').concat(v,"\n    </div>").replace(/>[\n\s]+</g,"><")}var fe="";function he(e){fe=fe||getComputedStyle(document.body)["font-family"];var t=Object(q.$)("<p>".concat(Object(b.escapeHTML)(e),"</p>"));t.css({fontSize:14,fontFamily:fe,lineHeight:"20px",width:204,position:"absolute",left:-1e4,"word-break":"break-all"}),Object(q.$)("body").append(t);var n=t.height();return t.remove(),n}function ge(e){if(!e)return"";var t=e.type,n=e.desc,r=e.edit_time,i=me(e),o=p.E.CHAT;return[p.E.SHEET,p.E.FILE,p.E.BITABLE,p.E.BOX,p.E.MINDNOTE,p.E.SLIDE].includes(t)&&(i=y("mention.last_update2",Object(c.a)(r))),t===o&&(i=n||y("mention.no_desc_tips")),i}function me(e){var t=e.department,n=e.i18n_department,r=e.i18n_tenant,i=e.is_external,o=Object(d.formatLanguageToLowerCase)(Object(d.getLocale)()),a=i?r:n;return a&&a[o]||t||""}function ve(){for(var e=arguments.length,t=0,n="";t<e;)n+=t<0||arguments.length<=t?void 0:arguments[t],t!==e-1&&(n+=","),t++;return n}var ye=function(){return/comment-(local-)?id-[\S]+/.test(0<arguments.length&&void 0!==arguments[0]?arguments[0]:"")};function be(e){return e&&e.replace(/^https?:/,"")}function Ee(e){if(!e)return"";var t=e.replace(/image_size=\d+x\d+/,"image_size=640x540");return t===e?t.replace(/~([^\\.]+)/,"~cs_640x540"):t}function _e(e,t){for(var n=t.numToAttrib,r={},i=0,o=e.length;i<o;i++){var a=n[parseInt(e[i],36)]||[],s=/mention-token|mention-type|mention-link|mention-notify|mention-sharePermHeldBack|mention-icon/.exec(a[0]);s&&(r[s[0]]=a[0].split("_")[1]||a[1])}return r}function Ae(r){return r?Object.keys(r).reduce(function(e,t){var n=/mention-token|mention-type|mention-link|mention-notify|mention-sharePermHeldBack|mention-icon/.exec(t);return n&&(e[n[0]]=t.split("_")[1]||r[t]),e},{}):{}}function Ce(){return Object(C.g)()}function Te(e,t){var n=2<arguments.length&&void 0!==arguments[2]&&arguments[2],r="en-US"===Object(d.getLocale)()?"en_name":"cn_name";return n&&(r=r.replace("_n","N")),t[e]&&(t[e][r]||t[e].name||t[e].cn_name||t[e].en_name||"")}function Oe(){var e,t,n=ce(),r=n.focusOffset,i=n.focusNode,o=n.extentNode,a=n.extentOffset;return i||o?(t=o?(e=a,o.nodeValue||""):(e=r,i.nodeValue||""),{sel:n,offset:e,nodeValue:t}):{sel:n,offset:null,nodeValue:null}}function ke(e){var t=Oe(),n=t.sel,r=t.offset,i=t.nodeValue;return(null!==r||null!==i)&&((X.a.isIE||"Caret"===n.type)&&e(i,r))}function Se(e){return ke(function(e,t){return"@"===e[t-1]})}function we(){var e=Oe(),t=e.offset,n=e.nodeValue;if(null===t&&null===n)return null;for(var r=null,i=t-1;0<=i;i--)if("@"===n[i]){r=i;break}return null===r?null:n.substring(r,t)}function Ie(){return ke(function(e,t){var n=0<=t-2?e[t-2]:"";return/^[a-zA-Z0-9]$/.test(n)})}function xe(e){return X.a.isIE?e&&0<e.toString().length:e&&"Range"===e.type}function Le(e){return X.a.isIE?e&&0===e.toString().length:e&&"Caret"===e.type}function Re(e){var t=Object(g.f)(),n=e.parents(".comment-list-item"),r=e.parents(".comment-textarea__input"),i=n.length||r.length,o={};return i&&(o.isWhole=0<e.parents(".global-comment").length),o.source="doc"===t?i?p.z.DOC_COMMENT:p.z.DOC:i?p.z.SHEET_COMMENT:p.z.SHEET,o}function Ne(e,t,n,r){Object(h.default)("show_hover_card",{source:e||"sheet",chat_btn_status:t?"true":"false",mention_type:n,mention_obj_id:Object(f.a)(r)})}function De(e){var t=e.status,n=e.source,r=e.type,i=e.token,o=e.reason,a=e.cost_time;Object(h.default)("doc_hover_shortcut",{source:n||"unkown",status:String(t),mention_type:r,mention_obj_id:Object(f.a)(i),reason:o||"",cost_time:a})}function Me(e){return{1:"recent_view_user",2:"recent_mention_user",3:"lark_search_user"}[e]}var Pe=String.fromCharCode(8203);function je(e){var t=new RegExp(Pe,"g");return e.replace(t,"")}function Fe(e){return 0===je(e).length}function Be(){var e=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:"").split(" "),r={};return e.forEach(function(e){var t,n=e.match(/mention-([a-zA-Z]+)_(.+)/);n&&(t=n[1],r[t]=n[2])}),r}function Ue(e,t){var n,r=e===_.NUM_SUITE_TYPE.FILE?Object(v.e)(t):"";return E()((n={"m-mention-box__item_icon":!0},i()(n,"m-mention-box__item_icon_".concat(e),!0),i()(n,"m-mention-box__item_icon_box_".concat(r),e===_.NUM_SUITE_TYPE.FILE),n))}function He(e){var t=e.selection.currentSelection,n=t.start,r=t.end;if(n.line!==r.line||n.col!==r.col)return!1;var i=e.getCurrentLineEntry();return 0===e.getTextAndAttrsOnSelection({selStart:[n.line,0],selEnd:[n.line,i.text.length],selZone:i.zone}).reduce(function(e,t){return e+t.text},"").trim().length}function ze(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};Object(h.default)(e,t)}function Ve(e){var t="new-mention-ui";Object(S.f)(e,t)||Object(S.a)(e,t)}function Ke(e,t){return Object(I.a)({editor:e,attrib:["".concat(w.a).concat(t),!0],checkSelLineFirst:!0})}}).call(this,We("2vAP"))},mRwR:function(n,e,t){var r=t("CxHw");function i(e,t){return n.exports=i=r||function(e,t){return e.__proto__=t,e},i(e,t)}n.exports=i},mTTR:function(e,t,n){var r=n("b80T"),i=n("QcOe"),o=n("MMmD");function a(e){return o(e)?r(e,!0):i(e)}e.exports=a},mWyS:function(e,t,n){"use strict";n.d(t,"b",function(){return o}),n.d(t,"a",function(){return a}),n.d(t,"c",function(){return u});var r=n("j1lG"),i=n("Pozx");function o(e){return r.j.test(e)}function a(e){return r.g.test(e)}function s(e){var t=r.j.exec(e);return t&&t[2]}function c(e){var t=r.g.exec(e);return t&&t[1]}function u(e){switch(Object(i.a)(e)){case r.D.Doc:return c(e);case r.D.Drive:return s(e);case r.D.External:default:return null}}},maQk:function(e,t,n){"use strict";var r=n("3uAa").forEach,i=n("M5eE");e.exports=i("forEach")?function(e){return r(this,e,1<arguments.length?arguments[1]:void 0)}:[].forEach},mbpr:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n("lwsE"),i=n.n(r),o=n("W8MJ"),a=n.n(o),s=n("2ACu"),c=function(){function e(){i()(this,e),this.timeRecoder={},this.log={},this.notSendLog=!1}return a()(e,[{key:"setNotSendLog",value:function(e){this.notSendLog=e}},{key:"logStartTime",value:function(e){this.timeRecoder[e]=performance.now()}},{key:"logEndTime",value:function(e){this.log[e]=Math.round(performance.now()-this.timeRecoder[e])}},{key:"logValue",value:function(e,t){this.log[e]=t}},{key:"getLogValue",value:function(e){return this.log[e]}},{key:"getLog",value:function(){return this.log}},{key:"mergeLog",value:function(e){this.log=Object.assign({},this.log,{},e)}},{key:"sendLog",value:function(e,t){this.notSendLog||Object(s.default)(e,Object.assign({},t,{},this.log))}},{key:"clear",value:function(){this.timeRecoder={},this.log={}}}]),e}()},mc0g:function(e,t){function n(c){return function(e,t,n){for(var r=-1,i=Object(e),o=n(e),a=o.length;a--;){var s=o[c?a:++r];if(!1===t(i[s],s,i))break}return e}}e.exports=n},mdPL:function(e,a,s){(function(e){var t=s("WFqU"),n=a&&!a.nodeType&&a,r=n&&"object"==typeof e&&e&&!e.nodeType&&e,i=r&&r.exports===n&&t.process,o=function(){try{var e=r&&r.require&&r.require("util").types;return e?e:i&&i.binding&&i.binding("util")}catch(e){}}();e.exports=o}).call(this,s("YuTi")(e))},"meR+":function(e,t){e.exports={trueFunc:function(){return!0},falseFunc:function(){return!1}}},"mf+E":function(e,t,n){"use strict";var r=n("mLw1");t.a=r.a},mhMO:function(e,t,n){e.exports=n("o4zr")},mpaB:function(e,t,n){"use strict";n.d(t,"a",function(){return h}),n.d(t,"c",function(){return m}),n.d(t,"d",function(){return y}),n.d(t,"b",function(){return b});var r=n("lSNA"),a=n.n(r),i=n("o0o1"),s=n.n(i),o=n("yXPU"),c=n.n(o),u=n("QM+C"),l=n("jp/M"),d=n("toa8"),p=n("VIFs"),f=n("u5vy");function h(e){return g.apply(this,arguments)}function g(){return(g=c()(s.a.mark(function e(t){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(f.a)(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}function m(e,t){return v.apply(this,arguments)}function v(){return(v=c()(s.a.mark(function e(t,n){var r,i;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=y(t),e.next=3,b(r,n);case 3:return i=e.sent,e.abrupt("return",i);case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function y(e){return parseInt(u.FILE_URL_TYPE_MAP[e],10)}function b(e,t){return E.apply(this,arguments)}function E(){return(E=c()(s.a.mark(function e(t,n){var r,i,o;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r={},a()(r,u.NUM_FILE_TYPE.SHEET,l.apiUrls.GET_SPREADSHEET),a()(r,u.NUM_FILE_TYPE.BITABLE,l.apiUrls.GET_BITABLE),a()(r,u.NUM_FILE_TYPE.WIKI,"".concat(l.apiUrls.GET_WIKI,"/")),i=r,e.prev=1,[u.NUM_FILE_TYPE.MINDNOTE,u.NUM_FILE_TYPE.SLIDE,u.NUM_FILE_TYPE.FILE].includes(t))return e.next=5,d.d.get(l.apiUrls.GET_META,{baseURL:Object(p.prependAPI)("/"),params:{type:t,token:n}});e.next=8;break;case 5:o=e.sent,e.next=17;break;case 8:if(t===u.NUM_FILE_TYPE.DOC)return e.next=11,d.d.get("".concat(l.apiUrls.GET_META,"?token=").concat(n,"&type=").concat(t));e.next=14;break;case 11:o=e.sent,e.next=17;break;case 14:return e.next=16,d.d.get("".concat(i[t]).concat(n,"/"),{baseURL:Object(p.prependAPI)("/")});case 16:o=e.sent;case 17:return e.abrupt("return",o.data);case 20:return e.prev=20,e.t0=e.catch(1),e.abrupt("return",null);case 23:case"end":return e.stop()}},e,null,[[1,20]])}))).apply(this,arguments)}},mpj5:function(module,__webpack_exports__,__webpack_require__){"use strict";var _debug__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("0seG"),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},util={createDom:function(){var r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"div",e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},t=3<arguments.length&&void 0!==arguments[3]?arguments[3]:"",o=document.createElement(r);return o.className=t,o.innerHTML=e,Object.keys(i).forEach(function(e){var t=e,n=i[e];("video"!==r&&"audio"!==r&&"mobile-video"!==r||n)&&o.setAttribute(t,n)}),o},createDomFromHtml:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"";try{(i=document.createElement("div")).innerHTML=e;var r=i.children,i=null;return 0<r.length?(r=r[0],n&&util.addClass(r,n),t&&Object.keys(t).forEach(function(e){r.setAttribute(e,t[e])}),r):null}catch(e){return _debug__WEBPACK_IMPORTED_MODULE_0__.b.logError("util.createDomFromHtml",e),null}},hasClass:function(e,t){if(!e)return!1;if(e.classList)return Array.prototype.some.call(e.classList,function(e){return e===t});var n=e.className&&"object"===_typeof(e.className)?e.getAttribute("class"):e.className;return n&&!!n.match(new RegExp("(\\s|^)"+t+"(\\s|$)"))},addClass:function(t,e){t&&(t.classList?e.replace(/(^\s+|\s+$)/g,"").split(/\s+/g).forEach(function(e){e&&t.classList.add(e)}):util.hasClass(t,e)||(t.className&&"object"===_typeof(t.className)?t.setAttribute("class",t.getAttribute("class")+" "+e):t.className+=" "+e))},removeClass:function(n,e){n&&(n.classList?e.split(/\s+/g).forEach(function(e){n.classList.remove(e)}):util.hasClass(n,e)&&e.split(/\s+/g).forEach(function(e){var t=new RegExp("(\\s|^)"+e+"(\\s|$)");n.className&&"object"===_typeof(n.className)?n.setAttribute("class",n.getAttribute("class").replace(t," ")):n.className=n.className.replace(t," ")}))},toggleClass:function(t,e){t&&e.split(/\s+/g).forEach(function(e){util.hasClass(t,e)?util.removeClass(t,e):util.addClass(t,e)})},findDom:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:document,n=arguments[1],r=void 0;try{r=t.querySelector(n)}catch(e){_debug__WEBPACK_IMPORTED_MODULE_0__.b.logError("util.findDom",e),0===n.indexOf("#")&&(r=t.getElementById(n.slice(1)))}return r},getCss:function(e,t){return(e.currentStyle||document.defaultView.getComputedStyle(e,!1))[t]},padStart:function(e,t,n){for(var r=String(n),i=t>>0,o=Math.ceil(i/r.length),a=[],s=String(e);o--;)a.push(r);return a.join("").substring(0,i-s.length)+s},format:function(e){if(window.isNaN(e))return"";e=Math.round(e);var t=util.padStart(Math.floor(e/3600),2,0),n=util.padStart(Math.floor((e-3600*t)/60),2,0),r=util.padStart(Math.floor(e-3600*t-60*n),2,0);return("00"===t?[n,r]:[t,n,r]).join(":")},event:function(e){var t;e.touches&&(t=e.touches[0]||e.changedTouches[0],e.clientX=t.clientX||0,e.clientY=t.clientY||0,e.offsetX=t.pageX-t.target.offsetLeft,e.offsetY=t.pageY-t.target.offsetTop),e._target=e.target||e.srcElement},typeOf:function(e){return Object.prototype.toString.call(e).match(/([^\s.*]+)(?=]$)/g)[0]},deepCopy:function(t,n){if("Object"===util.typeOf(n)&&"Object"===util.typeOf(t))return Object.keys(n).forEach(function(e){"Object"!==util.typeOf(n[e])||n[e]instanceof Node?"Array"===util.typeOf(n[e])?t[e]="Array"===util.typeOf(t[e])?t[e].concat(n[e]):n[e]:t[e]=n[e]:void 0===t[e]||void 0===t[e]?t[e]=n[e]:util.deepCopy(t[e],n[e])}),t},deepMerge:function(t,n){return Object.keys(n).map(function(e){util.typeOf(t[e])!==util.typeOf(n[e])||null===t[e]||"object"!==_typeof(t[e])||n[e]instanceof window.Node?null!==n[e]&&(t[e]=n[e]):util.deepMerge(t[e],n[e])}),t},getBgImage:function(e){var t=(e.currentStyle||window.getComputedStyle(e,null)).backgroundImage;if(!t||"none"===t)return"";var n=document.createElement("a");return n.href=t.replace(/url\("|"\)/g,""),n.href},copyDom:function(e){if(e&&1===e.nodeType){var t=document.createElement(e.tagName);return Array.prototype.forEach.call(e.attributes,function(e){t.setAttribute(e.name,e.value)}),e.innerHTML&&(t.innerHTML=e.innerHTML),t}return""},setInterval:function(e,t,n,r){e._interval[t]||(e._interval[t]=setInterval(n.bind(e),r))},clearInterval:function(e,t){clearInterval(e._interval[t]),e._interval[t]=null},createImgBtn:function(e,t,n,r){var i,o,a,s=util.createDom("xg-"+e,"",{},"xgplayer-"+e+"-img");return s.style.backgroundImage='url("'+t+'")',n&&r&&(a=o=i=void 0,["px","rem","em","pt","dp","vw","vh","vm","%"].every(function(e){return!(-1<n.indexOf(e)&&-1<r.indexOf(e))||(i=parseFloat(n.slice(0,n.indexOf(e)).trim()),o=parseFloat(r.slice(0,r.indexOf(e)).trim()),a=e,!1)}),s.style.width=""+i+a,s.style.height=""+o+a,s.style.backgroundSize=""+i+a+" "+o+a,s.style.margin="start"===e?"-"+o/2+a+" auto auto -"+i/2+a:"auto 5px auto 5px"),s},Hex2RGBA:function(hex,alpha){var rgb=[],sixHex;return/^\#[0-9A-F]{3}$/i.test(hex)&&(sixHex="#",hex.replace(/[0-9A-F]/gi,function(e){sixHex+=e+e}),hex=sixHex),/^#[0-9A-F]{6}$/i.test(hex)?(hex.replace(/[0-9A-F]{2}/gi,function(kw){rgb.push(eval("0x"+kw))}),"rgba("+rgb.join(",")+", "+alpha+")"):"rgba(255, 255, 255, 0.1)"},getFullScreenEl:function(){return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement},checkIsFunction:function(e){return e&&"function"==typeof e},checkIsObject:function(e){return null!==e&&"object"===(void 0===e?"undefined":_typeof(e))},hide:function(e){e.style.display="none"},show:function(e,t){e.style.display=t||"block"},isUndefined:function(e){if(null==e)return!0},setStyleFromCsstext:function(n,e){e.replace(/\s+/g,"").split(";").map(function(e){var t;!e||1<(t=e.split(":")).length&&(n.style[t[0]]=t[1])})},preloadImg:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:function(){},n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:function(){},r=new window.Image;r.complete?t&&t():(r.onload=function(e){r=null,t&&t(e)},r.onerror=function(e){console.log("img.onerror"),r=null,n&&n(e)}),r.src=e},stopPropagation:function(e){e&&(e.stopPropagation(),e.cancelable&&e.preventDefault())}};__webpack_exports__.a=util},mr8a:function(e,t,n){"use strict";n.d(t,"ib",function(){return r}),n.d(t,"D",function(){return i}),n.d(t,"sb",function(){return o}),n.d(t,"hb",function(){return a}),n.d(t,"r",function(){return s}),n.d(t,"Cb",function(){return c}),n.d(t,"O",function(){return u}),n.d(t,"kb",function(){return l}),n.d(t,"s",function(){return d}),n.d(t,"rb",function(){return p}),n.d(t,"a",function(){return f}),n.d(t,"G",function(){return h}),n.d(t,"I",function(){return g}),n.d(t,"H",function(){return m}),n.d(t,"b",function(){return v}),n.d(t,"M",function(){return y}),n.d(t,"l",function(){return b}),n.d(t,"k",function(){return E}),n.d(t,"Ab",function(){return _}),n.d(t,"q",function(){return C}),n.d(t,"Bb",function(){return T}),n.d(t,"vb",function(){return O}),n.d(t,"qb",function(){return k}),n.d(t,"g",function(){return S}),n.d(t,"jb",function(){return w}),n.d(t,"E",function(){return I}),n.d(t,"fb",function(){return x}),n.d(t,"pb",function(){return L}),n.d(t,"ob",function(){return R}),n.d(t,"nb",function(){return N}),n.d(t,"L",function(){return D}),n.d(t,"K",function(){return M}),n.d(t,"f",function(){return P}),n.d(t,"e",function(){return j}),n.d(t,"gb",function(){return F}),n.d(t,"R",function(){return B}),n.d(t,"S",function(){return U}),n.d(t,"tb",function(){return H}),n.d(t,"ub",function(){return z}),n.d(t,"wb",function(){return V}),n.d(t,"V",function(){return K}),n.d(t,"J",function(){return W}),n.d(t,"n",function(){return Y}),n.d(t,"o",function(){return q}),n.d(t,"p",function(){return Z}),n.d(t,"d",function(){return X}),n.d(t,"lb",function(){return Q}),n.d(t,"i",function(){return J}),n.d(t,"mb",function(){return $}),n.d(t,"j",function(){return ee}),n.d(t,"F",function(){return te}),n.d(t,"U",function(){return ne}),n.d(t,"m",function(){return re}),n.d(t,"N",function(){return ie}),n.d(t,"h",function(){return oe}),n.d(t,"z",function(){return ae}),n.d(t,"bb",function(){return se}),n.d(t,"A",function(){return ce}),n.d(t,"cb",function(){return ue}),n.d(t,"c",function(){return le}),n.d(t,"P",function(){return de}),n.d(t,"db",function(){return pe}),n.d(t,"B",function(){return fe}),n.d(t,"C",function(){return he}),n.d(t,"eb",function(){return ge}),n.d(t,"Q",function(){return me}),n.d(t,"yb",function(){return ve}),n.d(t,"T",function(){return ye}),n.d(t,"X",function(){return be}),n.d(t,"W",function(){return Ee}),n.d(t,"Db",function(){return _e}),n.d(t,"xb",function(){return Ae}),n.d(t,"zb",function(){return Ce}),n.d(t,"w",function(){return Te}),n.d(t,"y",function(){return Oe}),n.d(t,"x",function(){return ke}),n.d(t,"t",function(){return Se}),n.d(t,"v",function(){return we}),n.d(t,"u",function(){return Ie}),n.d(t,"Z",function(){return xe}),n.d(t,"ab",function(){return Le}),n.d(t,"Y",function(){return Re});var r="SHOW_FORMULA_LIST",i="HIDE_FORMULA_LIST",o="TOGGLE_FORMULA_LIST",a="SHOW_FINDBAR",s="FOCUS_FINDBAR",c="UPDATE_SHEET_STATUS",u="SET_ACTIVE_SHEETID",l="SHOW_HYPER_LINK_EDITOR",d="FORMAT_PAINTER_TOGGLE",p="TOGGLE_COMMENT_PANEL",f="ADD_SHEET_COMMENT",h="PULL_SHEET_COMMENT",g="PULL_SHEET_COMMENT_SUCCESS",m="PULL_SHEET_COMMENT_FAIL",v="ADD_SHEET_COMMENT_REPLY",y="RESOLVE_SHEET_COMMENT",b="DELETE_SHEET_REPLY_COMMENT",E="DELETE_SHEET_COMMENT",_="UPDATE_SHEET_REPLY_COMMENT",C="FAKE_UPDATE_SHEET_REPLY_COMMENT",T="UPDATE_SHEET_REPLY_COMMENT_SUCCESS",O="UPDATE_COMMENT_DATA",k="TOGGLE_COMMENT_MASK",S="CLEAN_COMMENT",w="SHOW_HISTORY",I="HIDE_HISTORY",x="SHOW_DROPDOWN_MENU",L="SNAPSHOT_META",R="SNAPSHOT_LOADING",N="SNAPSHOT_LOADED",D="RESET_SPREAD_STATE",M="RESET_SHEET_WITH_SPREAD_STATE",P="CHANNEL_ONLINE",j="CHANNEL_OFFLINE",F="SHOW_FILTER_MENU",B="SET_EMBED_SHEET_COMMENT_FUNC",U="SET_EMBED_TOOLBAR_VISIBLE",H="TOGGLE_NAV_BAR",z="TOGGLE_TEMPLATE_MODE",V="UPDATE_RANGE_CONDITION_FORMAT_RULES",K="SET_SHEET_CLIENT_VARS",W="RESET_SHEET_CLIENT_VARS",Y="EMBED_SHEET_MOUNT",q="EMBED_SHEET_RESET",Z="EMBED_SHEET_UNMOUNT",X="CHANGE_SHEET_PERMISSION",Q="SHOW_PROTECTION_DIALOG",J="CLOSE_PROTECTION_DIALOG",$="SHOW_PROTECTION_PANEL",ee="CLOSE_PROTECTION_PANEL",te="INIT_SHEET_CHART",ne="SET_SHEET_CHART",re="DEL_SHEET_CHART",ie="SET_ACTIVE_CHART",oe="CLEAR_ACTIVE_CHART",ae="HIDE_CHART_PANEL",se="SHOW_CHART_PANEL",ce="HIDE_CHART_SELECTOR_MODAL",ue="SHOW_CHART_SELECTOR_MODAL",le="CHANGE_CHART_PREVIEW_COLOR_STYLE",de="SET_CHART_SETTING_PALNEL_OPTIONS",pe="SHOW_CONDITION_FORMAT_PANEL",fe="HIDE_CONDITION_FORMAT_PANEL",he="HIDE_CONDITION_FORMAT_SELECTOR_MODAL",ge="SHOW_CONDITION_FORMAT_SELECTOR_MODAL",me="SET_EMBED_COMMENT_DATA",ve="UPDATE_SHEET_FEATURE_TIPS",ye="SET_HIGHLIGHT_BAR_VISIBLE",be="SET_SHEET_PERMISSIONS",Ee="SET_SHEET_HALT",_e="UPDATE_SHEET_ZOOM",Ae="UPDATE_SHEET_CROSSHIGHTLIGHT",Ce="UPDATE_SHEET_MODULE",Te="GET_FORMULA_CORRECT",Oe="GET_FORMULA_CORRECT_SUCCESS",ke="GET_FORMULA_CORRECT_FAIL",Se="GET_COMPLEMENT_FORMULAS",we="GET_COMPLEMENT_FORMULAS_SUCCESS",Ie="GET_COMPLEMENT_FORMULAS_FAIL",xe="SET_TRANSLATE_MODE",Le="SHEET_LOADED",Re="SET_SMARTABLE_TRANSFORM_STATE"},msS4:function(e,t,n){n("m/sp")("species")},"mv/X":function(e,t,n){var i=n("ljhN"),o=n("MMmD"),a=n("wJg7"),s=n("GoyQ");function r(e,t,n){if(!s(n))return!1;var r=typeof t;return!!("number"==r?o(n)&&a(t,n.length):"string"==r&&t in n)&&i(n[t],e)}e.exports=r},mvpf:function(e,t,n){e.exports=n("oM22")},n3Sm:function(e,t,n){var o=n("SKAX");function r(e,r){var i=[];return o(e,function(e,t,n){r(e,t,n)&&i.push(e)}),i}e.exports=r},n67m:function(e,t,n){"use strict";var r=n("J4zp"),h=n.n(r),i=n("lwsE"),o=n.n(i),a=n("hbEN"),s=n("0X7r"),c=n("kohC"),u=function e(){var f=this;o()(this,e),this.userList=new Set,this.changeUserList=new Map,this.embedObjList=new Map,this.embedTokenList=new Set,this.changeEmbedTokenList=new Map,this.instances={},this.addInstance=function(e,t){f.instances[e]=t},this.addComment=function(e){f.userManager||f.initUserManager();var t=!0,n=!1,r=void 0;try{for(var i,o=e[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var a=i.value;f.userList.add(a)}}catch(e){n=!0,r=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw r}}f.updateUserPermission()},this.initUserManager=function(){f.userManager||(f.userManager=new s.b({onPermissionChange:f.handlePermissionChange}))},this.initEmbedObjManager=function(){f.embedObjManager||(f.embedObjManager=new c.a({onPermissionChange:f.handlePermissionChange}))},this.handlePermissionChange=function(e){for(var t in f.instances)f.instances[t].handlePermissionChange(e)},this.getPermissions=function(e){return"users"===e?f.userManager&&f.userManager.getUserPermissions():"docs"===e?f.embedObjManager&&f.embedObjManager.getEmbedObjPermissions():null},this.initUsers=function(e){var t=!0,n=!1,r=void 0;try{for(var i,o=e[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var a=i.value;f.userList.add(a)}}catch(e){n=!0,r=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw r}}f.addUsers(e),f.debounceUpdateUserPermission()},this.addUsers=function(e){f.addTokens("users",e)},this.removeUsers=function(e){f.removeTokens("docs",e)},this.updateUserPermission=function(){var e;f.userManager&&(e=Array.from(f.userList),f.userManager.updateUserList(e))},this.debounceUpdateUserPermission=Object(a.default)(function(){f.updateUserPermission()},100),this.initDocs=function(e){var t=[],n=!0,r=!1,i=void 0;try{for(var o,a=e[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value,c=s.token;f.embedObjList.set(c,s),f.embedTokenList.add(c),t.push(c)}}catch(e){r=!0,i=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}f.addDocs(e),f.debounceUpdateEmbedObjPermission()},this.updateEmbedObjPermission=function(){var e;f.embedObjManager&&(e=Array.from(f.embedObjList.values()),f.embedObjManager.updateEmbedObjList(e))},this.debounceUpdateEmbedObjPermission=Object(a.default)(function(){f.updateEmbedObjPermission()},100),this.addDocs=function(e){var t=[],n=!0,r=!1,i=void 0;try{for(var o,a=e[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value,c=s.token;t.push(c),f.embedObjList.set(c,s)}}catch(e){r=!0,i=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}f.addTokens("docs",t)},this.removeDocs=function(e){var t=[],n=!0,r=!1,i=void 0;try{for(var o,a=e[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value.token;t.push(s)}}catch(e){r=!0,i=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}f.removeTokens("docs",t)},this.getChangeList=function(e){return"users"===e?f.changeUserList:"docs"===e?f.changeEmbedTokenList:null},this.getTokenList=function(e){return"users"===e?f.userList:"docs"===e?f.embedTokenList:null},this.addTokens=function(e,t){var n=f.getChangeList(e);if(n){var r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var c=a.value,u=n.get(c);u?n.set(c,u+1):n.set(c,1)}}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}f.addRemoveTokenPermission(e)}},this.removeTokens=function(e,t){var n=f.getChangeList(e);if(n){var r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var c=a.value,u=n.get(c);u?u-1==1?n.delete(c):n.set(c,u-1):n.set(c,-1)}}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}f.addRemoveTokenPermission(e)}},this.addTokenPermission=function(e,t){if("users"===e&&f.userManager.addUsers(t),"docs"===e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var c=a.value,u=f.embedObjList.get(c);u&&n.push(u)}}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}f.embedObjManager&&f.embedObjManager.addEmbedObjs(n)}},this.removeTokenPermission=function(e,t){if("users"===e&&f.userManager.removeUsers(t),"docs"===e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var c=a.value,u=f.embedObjList.get(c);u&&(n.push(u),f.embedObjList.delete(c))}}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}f.embedObjManager&&f.embedObjManager.removeEmbedObjs(n)}},this.addRemoveTokenPermission=Object(a.default)(function(e){var t=f.getChangeList(e);if(t&&0!==t.size){var n=[],r=[],i=f.getTokenList(e);if(i){var o=!0,a=!1,s=void 0;try{for(var c,u=t[Symbol.iterator]();!(o=(c=u.next()).done);o=!0){var l=h()(c.value,2),d=l[0],p=l[1];0<p&&!i.has(d)&&(i.add(d),n.push(d)),p<0&&i.has(d)&&(i.delete(d),r.push(d))}}catch(e){a=!0,s=e}finally{try{o||null==u.return||u.return()}finally{if(a)throw s}}0<n.length&&f.addTokenPermission(e,n),0<r.length&&f.removeTokenPermission(e,r)}}},100),this.delete=function(e){delete f.instances[e],0===Object.keys(f.instances).length&&f.destory()},this.destory=function(){f.userList=new Set,f.changeUserList=new Map,f.userManager&&f.userManager.destroy(),f.userManager=null,f.embedTokenList=new Set,f.embedObjList=new Map,f.embedObjManager&&f.embedObjManager.destroy(),f.embedObjManager=null,f.debounceUpdateUserPermission.cancel(),f.addRemoveTokenPermission.cancel(),f.debounceUpdateEmbedObjPermission.cancel()}};t.a=new u},n6KG:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAn8AAAFECAIAAADZec9fAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAxVpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQwIDc5LjE2MDQ1MSwgMjAxNy8wNS8wNi0wMTowODoyMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgSW1hZ2VSZWFkeSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpBNjg3MTczNEE4QjgxMUU5OTdFM0Q4NTIxRkZEQUY4QiIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpBNjg3MTczNUE4QjgxMUU5OTdFM0Q4NTIxRkZEQUY4QiI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkE2ODcxNzMyQThCODExRTk5N0UzRDg1MjFGRkRBRjhCIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkE2ODcxNzMzQThCODExRTk5N0UzRDg1MjFGRkRBRjhCIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+F9jXuwAACoFJREFUeNrs3Qlz02YCgGFkybdDgC5toSkQ6DXb3c529///hp3Zme22hRa6LPeV044lWdqPMsNAkmIF7Ph6HjqeRnEy9udRXn+SLEVlWZ4BAE5RzRAAgPoCgPoCAOoLAOoLAKgvAKgvAKC+AKC+AKC+AID6AoD6AgDqCwDqCwCoLwCoLwCoLwCgvgCgvgCA+gKA+gIA6gsA6gsA6gsAqC8AqC8AoL4AoL4AgPoCgPoCAOoLAOoLAOoLAKgvAKgvAKC+AKC+AID6AoD6AoD6AgDqCwDqCwCoLwCoLwCgvgCgvgCgvgCA+gKA+gIA6gsA6gsAqC8AqC8AoL4AoL4AoL4AgPoCgPoCAOoLAOoLAKgvAKgvAKgvAKC+AKC+AID6AoD6AgDqCwDqCwDqCwCoLwCoLwCgvgCgvgCA+gKA+gKA+gIA6gsA6gsAqC8AqC8AoL4AoL4AgPoCgPoCgPoCAOoLAOoLAKgvAKgvAKC+AKC+AKC+AID6AoD6AgDqCwDqCwCoLwCoLwCoLwCgvgCgvgDAhCSGAN5Pno+yPCtGRVGWxcubcn4eW/S7Wi0K/5J6+JeEL71kMEcr6Vz9yYD5F1aZg+EwTbMFWndCeuM4brea4dYrCOoLCyZ0N5R3cdeaer0eGlyr2eUE6gsLMuXd7w/yPF/4dT6Kup12ktjrBOoL860oir39frhdktU+ilqtZrPR8MrCrNgABeNnvcuU3lfPaDA4OBgOvbigvjCn9vuDZUrvayG/AgzqC3OZqOFwCfb1CjCoLyyMsiyHw3TJ314IMKgvzNvEdxUOSxRgUF+YI2marcr7DAEG9YV5kOejlfo8ngDDafKJezhellea+NZqtXarlSTxzE+kvLW98+EBDretZtOrD+oLs1GMxn/KKKR3rddbpusXCDCcDlue4Q/qW2Gzc5j1Lt+lg2yCBvWF2dW3whk2kmQ5LxkkwKC+MBtVDrla4ovmCjCoLyDAoL7AYmq3WgIM6gucqmazIcCgvoAAg/oCAizAoL6AAIP6AgIMqC8gwKC+gAAD6gsIMKgvIMCgvgACDOoLnNiHX/JBgEF9gROuzLXxq/NoNBJgUF9gcitzhblvmmZmwKC+wMREFea+aZbl46a/AgzqC1RVT+Kx9ynLst8fTC/AwzT1QoD6wgpJknqVA6+Kotjf7w8GB1PaB5znudcCxq+whgCWQyhvEsdZhfiFGXCYpE5jnhp+cyj7Wq9b5RAwMPcFlkGj2Zj5YwgBHhzYAQzqCyujnrw084eRZdmowq5lUF9gSbRbzXl4GKa/oL6wQuI4bjZnH+Aw9y3L0ssB6gsrNP2t12e8/TmkN3PwM6gvrJROpxMmwbN9DHmmvqC+sEqiM2d6ve5sZ8BFWXghQH1h5QLc7XRmuA+4KOz3BfWFldRuNdd63Zl8DMlRV/AOznUFC+DF1vbW9u7u7t4wTX8/lWNUryeNRmP9bO/8ufWza713/Gwcx71uJ8vzdJjmp3gosvrCO0TWEDjW1vbO2PuE8E07YPcePHrw8PFw+K6zQna7nSsblz+6cK7CLzyT5y+vc1QWRVG+upniX4Bpjw+oL6jvhO3t92/eur3fH1S8/8cXP/ri+tVTO8HyPLw7gcVlyzPMo+2d3R9+vHWi8zU+fvJscDD865+/rtUiAwhzzlFXMHfCrPeHH2++x6mSd3f3bv5y2wCC+gInUxTlzzdvj0bv+WHZJ0+fP3u+ZRhhztnyDPPl/oNH/cEx+3p73c7lS590u51Ws1GWZwYHB3t7+3fvPUjT7NA9/3v3XpUjsAD1BV4qy/L+w0eHFkZR9OWNax9f/OjNhWu9bvgvLLz5y52nz168+a39/mBnd+/dH0MCZsuWZ5gjL7a2j85lj6b3tTiOw3cbjfrR32MwQX2BSrZ3dg8t6XU7f5Te1wH+/LNLR37PnsEE9QUq2dndP7Tk8qVPxv5Ut9s5tCRNU4MJ6gtUEr99rowois6fWx/7U51269CSzNX9QH2BijavbrxOaZIk1699XuUqgUfPb+UcdjDnHPMMc6Tb7fz9b3856U9leT62x4C5LzBJW1uHT7ncajYMC6gvMC2jorh3/9HRObSRAfUFpqIoiv/8dOvoubHe/SElYObs94VF1R8c/PjTL0fT22631s+uGR9QX2DCnjx9fuvX3469DtKVjcvGB9QXmKSyLH+9c/fBw8fHfvezy59e/NMFowTqC0zSTzd/PXRZhdcunD+3eXXDEIH6ApP0863bf5TeTz+5eGPziiEC9QUmKXT38ZNnR5fHcRy66zhnUF9gwoqivH3n7tHl3W7nmy+vt4+c6hlQX+BDbW3vDI9cuejC+fVvvrrhvJKgvsBUPH+xdXjW22l/89UXtVpkcGDheMsMi2F37/Clfzc+uyS9oL7AFCVx/OaXURSdO3fWsID6AlO0ee3z9puX/t28Uk/sOYKFfT9tCGAh9Lqdf5z80r+AuS8AoL4AoL4AsArs94XFkKbZ7d/+t72zG/5//eza5tWNRqNuWEB9gSmm95//+neW5a++fPL02db29vfffSvAsKBseYYFEGa9r9P7SvgyLDQyoL7AtLza4FxlIaC+AID6wmJaP7tWcSGgvsBkbF7dqNffOkYyfBkWGhlYUI55hgXQaNS//+5bnzgC9QVOO8Bff7lpHGA52PIMAOoLAOoLAKgvAKgvAKC+AKC+AID6AoD6AoD6AgDqCwDqCwCoLwCoLwCgvgCgvjC/oigae5+yLFdzcKo88SoDCOoLvL1u1MavHXk+Ws3BqfLEqwwgqC/w9rpRYeo2ODhYwdlveMrhiU9kAEF9gbfXjXj82lEUxe7eXpblK7IJOjzN8GTDUw5PfCIDCCsrMQRwrHpSHw7TKgHe7/cN17EDaBDA3BdO+M40iR039N7C0IUBNA6gvnBijYbZm6ED9YXT1Wo2TX/fb+Ibhs44gPrCe1ak2WwYh5MKg+ZdC6gvfND0N0kcnHgCYbhMfEF94UN1O20njqj6B6VWC8NlHEB94UNFUdTrdgS4SnrDQNnmDJX+sKzsiWrhRMKast8f5HluKI6VJEmY9UovqC9M3sEwSK01h7YNNJsN+3pBfWG6k+DQ4DTNrDuhu41G3eeyQH3h9OT5KMuzYlQUZVm8vFn+VSlUthaE27hWT+rOZgXqCwALw2GcAKC+AKC+AID6AoD6AgDqCwDqCwCoLwCoLwCoLwCgvgCgvgCA+gKA+gIA6gsA6gsA6gsAqC8AqC8AoL4AoL4AgPoCgPoCgPoCAOoLAOoLAKgvAKgvAKC+AKC+AID6AoD6AoD6AgDqCwDqCwCoLwCoLwCgvgCgvgCgvgCA+gKA+gIA6gsA6gsAqC8AqC8AqC8AoL4AoL4AgPoCgPoCAOoLAOoLAKgvAKgvAKgvAKC+AKC+AID6AoD6AgDqCwDqCwDqCwCoLwCoLwCgvgCgvgCA+gKA+gKA+gIA6gsA6gsAqC8AqC8AoL4AoL4AoL4AgPoCgPoCAOoLAOoLAKgvAKgvAKC+AKC+AKC+AID6AoD6AgDqCwDqCwCoLwCoLwCoLwCgvgCgvgCA+gKA+gIA6gsA6gsA6gsAqC8AqC8AMCn/F2AAGJdT04NaH+8AAAAASUVORK5CYII="},n9xE:function(e,t,n){"use strict";n.d(t,"b",function(){return a}),n.d(t,"a",function(){return s});var r=n("16wW"),i=n.n(r),o=n("HDXh");function a(e){return JSON.parse(i.a.ungzip(o.Buffer.from(e,"base64"),{to:"string"}))}function s(e){return o.Buffer.from(i.a.gzip(e,{level:9})).toString("base64")}},"nA++":function(e,t,n){"use strict";e.exports=function(e){return"function"==typeof e}},nHtH:function(e,t,n){"use strict";n.d(t,"c",function(){return o}),n.d(t,"b",function(){return a}),n.d(t,"a",function(){return l});var s=n("yIs4"),r=n("wd/R"),c=n.n(r),u=(n("XDpg"),n("dF9M")),i=n("sTQd");function o(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:(new Date).getTime(),n=2<arguments.length?arguments[2]:void 0,r=3<arguments.length&&void 0!==arguments[3]&&arguments[3];if(!Object(s.default)(e)||!e)return"";e=e<1e12?1e3*e:e,r&&t<e&&(t=e);var i=c()(e),o=c()(t);if(!e||i.isSame(o,"day"))return n?i.format(u.a.TODAY):i.from(o);var a=o.clone().subtract(1,"day");return i.isSame(a,"day")?i.format(u.a.YESTERDAY):i.isSame(o,"year")?i.format(u.a.SAME_YEAR):i.format(u.a.BEFORE_YEAR)}function a(e){return c.a.duration(1e3*e).humanize()}function l(e,t){return e&&"number"==typeof e?o(Object(i.a)(e),(new Date).getTime(),!!t):""}},nMtL:function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return h});var r,i,o=n("lwsE"),a=n.n(o),s=n("W8MJ"),c=n.n(s),u=n("U+yc"),l=n.n(u),f=n("y2sV"),d=9,p="0",h=(r=Object(f.J)(200),i=function(){function t(e){var l=this;a()(this,t),this.aceKeyEvent=function(e,t){var n=t.evt,r=l.editor,i=r.performSelectionChange,o=r.doIndentOutdent,a=r.doTabKey,s=n.keyCode;if("keydown"!==n.type||s!==d||n.metaKey||n.ctrlKey)return!1;l.editor.fastIncorp();var c,u=l.editor.getRep();return u&&u.zoneId===p&&u.selStart&&0<u.selStart.length&&0===u.selStart[0]&&1<u.lines.length()?(c=[1,u.lines.atIndex(1).lineMarker],u.selEnd&&0<u.selEnd.length&&0!==u.selEnd[0]?o(u.zoneId,n,c,u.selEnd):i(u.zoneId,c,c)):a(n),n.preventDefault(),!0},this.doIndent=function(e){l.editor.inCallStackIfNecessary("fastIncorp",function(){l.editor.fastIncorp()}),l.editor.doTabKey({shiftKey:e,stopImmediatePropagation:function(){}})};var n=this;this.editor=e.editor,this.editor.registerCommand("indentleft",function(e,t){n.doIndent(!0)}),this.editor.registerCommand("indentright",function(e,t){n.doIndent()})}return c()(t,[{key:"editorWillDoReturnKey",value:function(e){var t,n,r=e.delta,i=e.editor,o=i.getContentState().getActiveZone(),a=o.getZoneId(),s=i.selection.getSelection(),c=o.getLine(s.start.line),u=c.getLineAttributes().toMap(),l=s.toPosition(),d=l.start,p=l.len;u["text-indent"]&&!p&&(t=c.isEmpty(),n=new f.E({zoneId:a}),u["text-indent"]="",t?r.ops.length||n.retain(d-1).retain(1,u):r.ops.length?n.retain(d+1).retain(1,u):n.retain(d).insertEnter().insertLineMarker(u),e.delta=r.compose(n))}},{key:"editorWillDoDeleteKey",value:function(e){var t,n=e.deltaSet,r=e.editor,i=r.getContentState().getActiveZone(),o=i.getZoneId(),a=r.selection.getSelection(),s=i.getLine(a.start.line).getLineAttributes().toMap(),c=1===a.start.offset,u=a.toPosition(),l=u.start,d=u.len;!n.get(o).ops.length&&s["text-indent"]&&c&&!d&&(s["text-indent"]="",t=new f.E({zoneId:o}).retain(l-1).retain(1,s),e.deltaSet=n.compose(t))}}]),t}(),l()(i.prototype,"editorWillDoDeleteKey",[r],Object.getOwnPropertyDescriptor(i.prototype,"editorWillDoDeleteKey"),i.prototype),i)},nPeR:function(e,t,n){"use strict";n.r(t);var i=n("q1tI"),r=n("cDf5"),c=n.n(r),o=n("/1FC"),b=n("7EGn"),g=n("pHS2"),m=n("Muja"),v=n("ipyK"),d=n("Bw5p"),S=(n("Z7ZV"),n("Csto"),n("FJEn")),a=n("cEV7"),u=n("uAje"),s=n("EVdn"),l=n.n(s),p=n("dKDz"),f=n.n(p),h=n("4O8T"),y=n.n(h),w=function(){return(w=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function E(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":c()(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;0<=s;s--)(i=e[s])&&(a=(o<3?i(a):3<o?i(t,n,a):i(t,n))||a);return 3<o&&a&&Object.defineProperty(t,n,a),a}function _(e,t){if("object"===("undefined"==typeof Reflect?"undefined":c()(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function O(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function k(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||0<t--)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function C(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(k(arguments[t]));return e}function T(e,t){var n,r,i=(t=t||{}).insertAt,o=t.className;e&&"undefined"!=typeof document&&(n=document.head||document.getElementsByTagName("head")[0],(r=document.createElement("style")).type="text/css",o&&r.setAttribute("class",o),"top"===i&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e)))}T(".ios-tap-highlight {\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n  -webkit-tap-highlight-color: transparent;\n}\n.adit-outer-container {\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n  -webkit-tap-highlight-color: transparent;\n}\n.adit-outer-container button {\n  cursor: pointer;\n  border: none;\n  background: none;\n}\n.adit-outer-container a,\n.adit-outer-container button,\n.adit-outer-container input,\n.adit-outer-container textarea {\n  outline: 0;\n}\n.adit-outer-container .adit-container {\n  hyphens: auto;\n  word-wrap: break-word;\n}\n",{className:"adit-style"});var I,x,L=[a.Author,a.Line,a.Redo,a.SingleLineManager,a.Undo,a.Rect],R=u.p.getAttributeValue,N=u.p.findSameRangeAttrib,D=S.tableIds.isColsZoneId,M=u.x.insertRule,P="0",j="undo",F="redo";(x=I=I||{}).BLOCK="BLOCK",x.INLINE="INLINE";var B=(U.prototype.applyChange=function(e){var t=this.editor,n=e.changeset,r=e.apool;t.changesetTracker.applyChangesToBase(n,r)},U.prototype.getEditor=function(){return this.editor},U.prototype.getSDKBus=function(){return this.em},U.prototype.getEditorBus=function(){return this.bus},U.prototype.getText=function(r){for(var e=this.rep.lines,t=e.length(),i=[],o=/\n+$/,n=function(e,t){var n;t&&t.lineNode&&(n=l()("<div></div>").append(t.lineNode.cloneNode(!0)),r&&0<r.length&&r.forEach(function(e){var t=e.selector,r=e.value;n.find(t).each(function(e,t){var n="string"==typeof r?r:r(t);l()(t).replaceWith(l()(document.createTextNode(n)))})}),i.push(n.text().replace(o,"")))},a=0,s=e.atIndex(a);a<t;a++,s=e.next(s))n(a,s);return i.join("\n")},U.prototype.getHtml=function(){return this.filterTableHtml(this.docbody.innerHTML)},U.prototype.getContent=function(){var e,t={},n={},r={},i={},o=this.editor.getVectorReps();for(e in o)o.hasOwnProperty(e)&&(D(e)?n[e]=o[e].vectorIds:t[e]=o[e].vectorIds,i[e]=o[e].alines.join(""));var a,s=this.editor.getReps();for(a in s)s.hasOwnProperty(a)&&("\n"!==s[a].alltext&&"0"!==a&&(r[a]=s[a].alltext),"|1+1"!==s[a].alines.join("")&&"0"!==a&&(i[a]=s[a].alines.join("")));var c=this.rep,u=c.alltext,l=c.alines,d=c.apool,p=l.join("");return{initialAttributedText:{text:u,attribs:p},initialAttributedTexts:JSON.parse(JSON.stringify({rows:t,cols:n,text:Object.assign(r,{0:u}),attribs:Object.assign(i,{0:p})})),apool:d.toJsonable(),style:w({},this.style)}},U.prototype.getSelectionForElement=function(e){var t=this.editor.domToRep(e);if(!t)return null;var n=t.selEnd,r=t.selStart;return{selEnd:n.slice(0,2),selStart:r.slice(0,2),zoneId:r[2]}},U.prototype.getCurrentSelection=function(){var e=this.editor.repManager.getActiveRep();return{zoneId:e.zoneId,selStart:e.selStart,selEnd:e.selEnd}},U.prototype.getWholeSelection=function(){var e=this.rep,t="0",n=[0,0],r=e.lines.length()-1;return{zoneId:t,selStart:n,selEnd:[r,e.lines.atIndex(r).text.length]}},U.prototype.getHost=function(e){return void 0===e&&(e=!1),e?this.docbody:this.outerbody},U.prototype.on=function(e,t){this.em.on(e,t)},U.prototype.off=function(e,t){this.em.off(e,t)},U.prototype.setSelection=function(e){var t=e.zoneId,n=e.selStart,r=e.selEnd;this.editor.selection.setWithSelection(t,n,r),this.editor.selection.updateBrowserSelectionFromRep(!0)},U.prototype.setText=function(e){this.setHtml(f()(e+"\n"))},U.prototype.setHtml=function(e){var t=this.editor.htmlToClientVars(e);t.style=this.style,this.setContent(t)},U.prototype.htmlToContent=function(e){return this.editor.htmlToClientVars(e)},U.prototype.setContent=function(e){var t=this;e=Object(u.y)(e);var n=this.prepareForSetZatext(e.initialAttributedTexts,e.apool);this.editor.inCallStackIfNecessary("importText",function(){t.setZatext(n)}),e.style&&this.setStyle(e.style)},U.prototype.clearContent=function(){this.setHtml("")},U.prototype.setEditable=function(e){this.editor.setEditable(e),this.editable=e},U.prototype.isEditable=function(){return this.editor.isEditable()},U.prototype.setCopyable=function(e){this.editor.setCopyable(e),this.copyable=e},U.prototype.setUndoHandleEnabled=function(e){this.editor.setUndoHandleEnabled(e)},U.prototype.getStyle=function(){return this.style},U.prototype.setStyle=function(e){var t,n;if(e){Object.assign(this.style,e);var r=Object(d.a)(e,["fontSize","fontWeight","fontFamily","textAlign","color","minHeight","maxHeight","background"]),i=["fontSize","minHeight","maxHeight"];try{for(var o=O(Object.entries(r)),a=o.next();!a.done;a=o.next()){var s=k(a.value,2),c=s[0],u=s[1],l=u;i.includes(c)&&"number"==typeof u&&(l=u.toString()+"px"),null!=l&&(this.docbody.style[c]=l)}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}e.heading&&this.setHeading(e.heading),e.listMarginText&&this.setListSpace(e.listMarginText),e.horizontalLRSpace&&this.setHorizontalLinePadding(e.horizontalLRSpace),e.docBodyPadding&&this.setDocBodyPadding(e.docBodyPadding),0!==e.innerHeight&&!e.innerHeight||this.setInnerHeight(e.innerHeight)}},U.prototype.destroy=function(){this.unBindEditorEvent(),this.editor.destory()},U.prototype.mountHost=function(e){if(!(e&&e instanceof HTMLDivElement))throw new Error("host must be an HTMLDivElement");var t=this.outerbody=e;t.classList.add("outerdocbody"),t.classList.add("adit-outer-container"),t.innerHTML="";var n=this.docbody=document.createElement("div");return t.appendChild(n),this.$docbody=l()(this.docbody),n},U.prototype.isEmbedFormatterConstructor=function(e){return"isEmbedFormatter"in e},U.prototype.isTreeFormatterConstructor=function(e){return"isTreeFormatter"in e},U.prototype.isBaseFormatterConstructor=function(e){return"formatKey"in e},U.prototype.isTreeFormatter=function(e){return"isTreeFormatter"in e.constructor},U.prototype.getConstructorAsType=function(e,t){return e.constructor},U.prototype.checkFormatKeyCanApply=function(e,t,n){for(var r=[],i=t;i<n;i++){var o,a,s,c=e.lines.atIndex(i);null!==c&&void 0!==c&&c.lineNode&&(a=(o=l()(c.lineNode)).hasClass("single-line"),s=0<o.find(".ace-table").length,(a||s)&&r.push(i))}return r},U.prototype.formatWithoutIgnoreLines=function(e,t,n,r,i,o){var a=this,s=t[0],c=n[0],u=Array.from(new Array(c+1).keys()).slice(s);e.forEach(function(e){var t=u.indexOf(e);-1!==t&&u.splice(t,1)});for(var l=u[0],d=[],p=0;p<u.length;p++){var f,h,g=u[p],m=u[p+1];(void 0===m||1<m-g)&&(h=f=0,l===s&&(f=t[1]),h=g===c?n[1]:this.getLineSize(g),d.push({selStart:[l,f],selEnd:[g,h]}),l=m)}d.forEach(function(e){a.format(r,i,{zoneId:"0",selStart:e.selStart,selEnd:e.selEnd},o,!0)})},U.prototype.format=function(v,y,b,E,e){var _=this,C=b?this.editor.getRep(b&&b.zoneId):this.editor.getRep(),T=b&&b.selStart||C.selStart,O=b&&b.selEnd||C.selEnd,k=b&&b.zoneId||C.zoneId;if(T&&O){if(this.blockDisableFormatKeys.includes(v)&&!e){var t=this.checkFormatKeyCanApply(C,T[0],O[0]);if(0<t.length)return void this.formatWithoutIgnoreLines(t,T,O,v,y,E)}this.editor.activeCaret(),this.editor.inCallStackIfNecessary("callFormat",function(){var e=w(w({},C),{selStart:T,selEnd:O,zoneId:k}),t={selEnd:O,selStart:T,zoneId:k},n=_.editor.formatterManager.formatterMap[v];if(n){var r=n.plugin,i=_.getConstructorAsType(r,S.BaseFormatter),o=i.formatType,a=S.Formatter.FormatType.BLOCK===o,s=S.Formatter.FormatType.INLINE===o,c=_.isEmbedFormatterConstructor(i),u=[[v,y]],l=u,d=[];if(_.isTreeFormatterConstructor(i)){var p=[];if(a){for(var f=T[0];f<=O[0];f++){var h=[f,0],g=[f,C.lines.atIndex(f).text.length];p.push({lineNum:f,selStart:[f,0],selEnd:[f,C.lines.atIndex(f).text.length],attribs:_.getFormatWithKey(v,{selStart:h,selEnd:g,zoneId:k})})}d=r.formatAttributes(y,p,b)}else p.push({selStart:T,selEnd:O,attribs:_.getFormatWithKey(v,b)}),d=r.formatAttributes(y,p,b),l=N(t,d);d.length||d.push({selStart:T,selEnd:O,attribs:u})}var m=_.editor.formatterManager;if(_.editor.selection.isCaret(e)&&i.execCommandKey)return _.editor.selection.updateBrowserSelectionFromRep(!0),m.executeCommand(i.execCommandKey,R(v,l)),m.addCaretAttribs(v,y,t),void _.em.emit("format",{formatKey:v,value:y,selection:t});c?m.formatEmbed(r,t,u,E):s?m.formatInline(r,t,u,d):a&&m.formatBlock(r,t,u,d),_.em.emit("format",{formatKey:v,value:y,selection:t})}else console.warn("Format ["+v+"] is not registered!")})}},U.prototype.getFormat=function(e){var t=this;void 0===e&&(e={});var n=e.selection,r=e.formatKey,i=e.fullCoverage,o=void 0===i||i,a=n?this.editor.getRep(n&&n.zoneId):this.editor.getRep(),s=n&&n.selStart||a.selStart,c=n&&n.selEnd||a.selEnd;if(r&&!this.editor.formatterManager.formatterMap[r])return console.warn("Format ["+r+"] is not registered!"),[];if(!s||!c)return[];var u,l,d,p=this.editor.formatterManager,f=[];f=o?(f=a.attributeManager.getCommonAttributesOnSelection(s,c,a).attribs,this.editor.formatterManager.formatters.forEach(function(e){t.isTreeFormatter(e)&&(f=e.getFormatAttributes(f))}),u=this.getRegisteredFormatKey(),f=Object(v.a)(f.filter(function(e){var t=k(e,2),n=t[0],r=t[1];return u.includes(n)&&r}),m.default),f=this.mergeWithCaretAttribs(f,{selStart:s,selEnd:c,zoneId:a.zoneId}),l=Object(g.a)(f.map(function(e){return k(e,1)[0]})),f.filter(function(e){var t=k(e,1)[0];return 1===l[t].length})):(d=r?[r]:this.getFormatKeys(),f=a.attributeManager.getAttributesByKeysOnSelection(d,s,c,a),p.formatters.forEach(function(e){t.isTreeFormatter(e)&&(f=e.getFormatAttributes(f))}),this.mergeWithCaretAttribs(f,{selStart:s,selEnd:c,zoneId:a.zoneId}));var h=r?f.filter(function(e){return e[0]===r}):f;return p.convertAttribs(h,!1)},U.prototype.removeFormat=function(e,t){this.format(e,"",t)},U.prototype.removeAllFormat=function(n){var r=this,e=this.editor.getRep(n&&n.zoneId||P),t=n&&n.selStart||e.selStart,i=n&&n.selEnd||e.selEnd,o=e.attributeManager.getAttributesOnSelection(t,i,e),a=this.getRegisteredFormatKey(),s=o.attribs.filter(function(e){var t=k(e,1)[0];return 0<a.indexOf(t)}),c=Array.from(new Set(s));c.length&&this.editor.inCallStackIfNecessary("removeAllFormatAttribute",function(){c.forEach(function(e){var t=k(e,1)[0];r.format(t,"",n)})})},U.prototype.getFormatKeys=function(){var t=this;return this.editor.formatterManager.formatters.map(function(e){return t.getConstructorAsType(e,S.BaseFormatter).formatKey})},U.prototype.undo=function(){this.editor.commands.triggerCommand(j)},U.prototype.redo=function(){this.editor.commands.triggerCommand(F)},U.prototype.canUndo=function(){var e=this.editor.undoModule;return e.undoPtr<e.stack.numEvents()-1},U.prototype.canRedo=function(){return 2<=this.editor.undoModule.undoPtr},U.prototype.getFormatter=function(e){return e in this.formatterMap?this.formatterMap[e]:null},U.prototype.getFormatterConstructor=function(e){return e in this.formatterMap?this.getConstructorAsType(this.formatterMap[e],S.BaseFormatter):null},U.prototype.getAdapter=function(e){return e in this.adapterMap?this.adapterMap[e]:null},U.prototype.getToolbar=function(){return this.toolbarInstance},U.prototype.isEmptyArticle=function(){var e=this.editor.getRep(P).lines;if(1!==e.length())return!1;var t=e.atIndex(0);return!(!t||t.lineMarker!==t.width-1)},U.prototype.getMaxLine=function(){return this.editor.getRep().lines.numNodes},U.prototype.getLineSize=function(e){var t=this.editor.getRep("0").lines.atIndex(e);return t?t.text.length:(this.log('getLineSize: Invalid args: "lineNum"'),-1)},U.prototype.getFormattableKeys=function(e){var o=this,t=this.getFormat({selection:e,fullCoverage:!1}).filter(function(e){return k(e,2)[1]}),a=this.getFormatKeys(),s=new Set(a);return t.forEach(function(e){var t=k(e,2),n=t[0],r=t[1],i=o.getEditor().formatterManager.formatterMap[n].plugin;a.forEach(function(e){!o.getConstructorAsType(i,S.BaseFormatter).isFormatAcceptable(e,r)&&s.has(e)&&s.delete(e)})}),Array.from(s)},U.prototype.restoreInlineFormatToNewLine=function(e){var t,n,r=this.editor.formatterManager,i=this.editor.getRep();try{for(var o=O(e),a=o.next();!a.done;a=o.next()){var s,c=k(a.value,2),u=c[0],l=c[1],d=this.getFormatter(u);!d||(s=this.getConstructorAsType(d,S.BaseFormatter).execCommandKey)&&"fontSize"!==s&&(r.addCaretAttribs(u,l,i),r.executeCommand(s,l))}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}},U.prototype.setIdleActionOption=function(e){this.editor.setIdleActionOption(e)},U.prototype.focusEnd=function(e){this.editor.clickDocBody(e,this.scrollerEl)},U.prototype.filterTableHtml=function(e){var t=l()(e);t.find('td[colspan="0"], td[rowspan="0"], tr:empty, .ep-cursors, .ep-ranges').remove();var n="";return t.each(function(e,t){n+=t.outerHTML}),n},U.prototype.log=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];(e=this.editor).log.apply(e,C(t))},U.prototype.getFormatWithKey=function(e,t){var n=this.editor.getRep(t&&t.zoneId||P),r=t&&t.selStart||n.selStart,i=t&&t.selEnd||n.selEnd,o=n.attributeManager.getCommonAttributesOnSelection(r,i,n),a=this.editor.formatterManager.formatterMap[e].plugin,s=o.attribs,c=this.getConstructorAsType(a,S.BaseFormatter),u=[c.formatKey];return this.isTreeFormatterConstructor(c)&&u.push.apply(u,C(c.relativeAttrKeys)),s.filter(function(e){var t=k(e,1)[0];return u.includes(t)})},U.prototype.getRegisteredFormatKey=function(){var n=this,r=[];return this.editor.formatterManager.formatters.forEach(function(e){var t=n.getConstructorAsType(e,S.BaseFormatter);n.isTreeFormatterConstructor(t)&&t.relativeAttrKeys.length&&r.push.apply(r,C(t.relativeAttrKeys)),r.push(t.formatKey)}),Array.from(new Set(r))},U.prototype.bindEditorEvent=function(){this.bus.on("aceSelectionChanged",this.handleEditorSelectionChanged),this.bus.on("editorSizeChange",this.handleEditorSizeChange),this.bus.on("aceCut",this.handleEditorCut),this.bus.on("aceCopy",this.handleEditorCopy),this.bus.on("acePaste",this.handleEditorPaste),this.bus.on("error",this.handleError),this.bus.on("aceKeyEvent",this.handleKeyEvent),document.addEventListener("selectionchange",this.handleSelectionChange),this.docbody.addEventListener("focus",this.handleFocus),this.docbody.addEventListener("blur",this.handleBlur),this.scrollerEl&&this.scrollerEl.addEventListener("click",this.focusEnd)},U.prototype.unBindEditorEvent=function(){this.bus.off("aceSelectionChanged",this.handleEditorSelectionChanged),this.bus.off("editorSizeChange",this.handleEditorSizeChange),this.bus.off("aceCut",this.handleEditorCut),this.bus.off("aceCopy",this.handleEditorCopy),this.bus.off("acePaste",this.handleEditorPaste),this.bus.off("error",this.handleError),this.bus.off("aceKeyEvent",this.handleKeyEvent),document.removeEventListener("selectionchange",this.handleSelectionChange),this.docbody.removeEventListener("focus",this.handleFocus),this.docbody.removeEventListener("blur",this.handleBlur),this.scrollerEl&&this.scrollerEl.removeEventListener("click",this.focusEnd)},U.prototype.registerPlugin=function(){var t,e,n,r,i,o,u=this,a=this.options.modules,s=a.formatters,c=a.oldPlugins,l=a.toolbar,d=a.adapters,p=L.map(function(e){return new e(u.editor)});if(c)try{for(var f=O(c),h=f.next();!h.done;h=f.next()){var g,m,v,y=h.value;Array.isArray(y)?(m=(g=k(y,2))[0],v=g[1],p.push(new m(this.editor,v))):p.push(new y(this.editor))}}catch(e){t={error:e}}finally{try{h&&!h.done&&(e=f.return)&&e.call(f)}finally{if(t)throw t.error}}l&&(o=new(i=k(l,2))[0](this,v=i[1]),p.push(o),this.toolbarInstance=o);var b=function(e){var t,n;if(e)try{for(var r=O(e),i=r.next();!i.done;i=r.next()){var o,a,s,c=i.value;Array.isArray(c)?(a=(o=k(c,2))[0],s=o[1],p.push(new a(u,s))):p.push(new c(u))}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}};b(s),b(d);try{for(var E=O(p),_=E.next();!_.done;_=E.next()){var C=_.value,T=this.getConstructorAsType(C,S.BaseFormatter);this.isBaseFormatterConstructor(T)&&(this.formatterMap[T.formatKey]=C),C.adapterKey&&(this.adapterMap[C.adapterKey]=C)}}catch(e){n={error:e}}finally{try{_&&!_.done&&(r=E.return)&&r.call(E)}finally{if(n)throw n.error}}return p},U.prototype.getDefaultContent=function(e){void 0===e&&(e=1);var t=e;return this.options.defaultText&&(t=1),{apool:{nextNum:1,numToAttrib:{0:["author","0"]}},initialAttributedText:{attribs:1<t?"*0|"+(t-1)+"+"+(t-1)+"|1+1":"*0|1+1",text:1<t?new Array(t).fill("\n").join(""):"\n"},initialAttributedTexts:{rows:{},cols:{},attribs:{0:1<t?"*0|"+(t-1)+"+"+(t-1)+"|1+1":"*0|1+1"},text:{0:1<t?new Array(t).fill("\n").join(""):"\n"}}}},U.prototype.mergeWithCaretAttribs=function(e,t){var n=this.editor.formatterManager.getCaretAttribs(t),r=n.map(function(e){return e[0]});return e.filter(function(e){var t=k(e,1)[0];return!r.includes(t)}).concat(n)},U.prototype.prepareForSetZatext=function(e,t){var n,r;if(e=S.Changeset.cloneZatext(e),t){var i=(new S.AttributePool).fromJsonable(t);try{for(var o=O(Object.keys(e.attribs)),a=o.next();!a.done;a=o.next()){var s=a.value,c=e.attribs[s];e.attribs[s]=this.editor.changesetHelper.moveOpsToNewPool(c,i,this.rep.apool)}}catch(e){n={error:e}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}return e},U.prototype.handleSelectionChange=function(){var e,t,n=window.getSelection();!n||Object(u.q)()||(e=this.getHost()).contains(n.anchorNode)&&e.contains(n.focusNode)&&(t=this.editor).inCallStackIfNecessary("SelectionChangeFastIncorp",function(){t.fastIncorp()})},U.prototype.handleContentChange=function(){var t,e,n,r,i=this.getContent(),o="initialAttributedTexts.text",a=Object(b.default)(this.prevContent,o,{}),s=Object(b.default)(i,o),c=!1;try{for(var u=O(Object.keys(s)),l=u.next();!l.done;l=u.next()){var d=l.value;if(a[d]!==s[d]){c=!0;break}}}catch(e){t={error:e}}finally{try{l&&!l.done&&(e=u.return)&&e.call(u)}finally{if(t)throw t.error}}var p=this.getFormatKeys(),f=this.getEditor().changesetTracker.getUserChangeset(),h=Object(b.default)(f,"apool.numToAttrib",[]),g=!1;try{for(var m=O(Object.keys(h)),v=m.next();!v.done;v=m.next()){var y=v.value;if(p.includes(h[y][0])){g=!0;break}}}catch(e){n={error:e}}finally{try{v&&!v.done&&(r=m.return)&&r.call(m)}finally{if(n)throw n.error}}(c||g)&&this.em.emit("contentchange"),this.setPrevContent(i)},U.prototype.setPrevContent=function(e){this.prevContent=e},U.prototype.handleEditorSelectionChanged=function(e){var t=e.rep;this.editor.formatterManager.resetCaretAttribs();var n=t.zoneId,r=t.selStart,i=t.selEnd;r&&i&&this.em.emit("selectionchange",{zoneId:n,selStart:r,selEnd:i})},U.prototype.handleEditorSizeChange=function(e){var t=e.prev,n=e.next;this.em.emit("resize",{prev:t,next:n})},U.prototype.handleEditorCut=function(e){this.em.emit("cut",e)},U.prototype.handleEditorCopy=function(e){this.em.emit("copy",e)},U.prototype.handleEditorPaste=function(e){this.em.emit("paste",e)},U.prototype.handleError=function(e){this.em.emit("error",e)},U.prototype.handleBlur=function(e){this.em.emit("blur",e)},U.prototype.handleFocus=function(e){this.em.emit("focus",e)},U.prototype.handleKeyEvent=function(e){var t=e.evt,n=Object(u.D)(t),r=Object(u.B)(t);(n||r)&&Object(u.w)(e,n||r)},U.prototype.setDocBodyPadding=function(e){var t,n,r,i,o,a;e&&(n=(t=k(e,5))[0],r=t[1],i=t[2],o=t[3],a=t[4]||"px",this.$docbody.css("padding",""+n+a+" "+r+a+" "+i+a+" "+o+a))},U.prototype.setZatext=function(e){var t,n,r,i;this.editor.fastIncorp();var o={};this.editor.setupRepExceptAlinesForRootZone(e);try{for(var a=O(Object.keys(e.text)),s=a.next();!s.done;s=a.next()){var c=s.value,u={text:e.text[c],attribs:e.attribs[c]};this.editor.initiateRepForZoneIfNecessary(c);var l=(T=this.editor.getRep(c)).lines.totalWidth(),d=T.lines.length(),p=T.lines.offsetOfIndex(d-1);T.lines.atIndex(d-1)||this.log("lines at index error",d);var f=T.lines.atIndex(d-1).text.length,h=S.Changeset.smartOpAssembler(),g=S.Changeset.newOp("-");g.chars=p,g.lines=d-1,h.append(g),g.chars=f,g.lines=0,h.append(g),S.Changeset.appendATextToAssembler(u,h);var m=l+h.getLengthChange(),v=S.Changeset.checkRep(S.Changeset.pack(l,m,h.toString(),u.text.slice(0,-1),c));o[c]=v}}catch(e){t={error:e}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}var y=S.Changeset.formatCsFromObj(o);this.editor.performDocumentApplyChangeset(y),this.editor.performSelectionChange(this.rep.zoneId,[0,this.rep.lines.atIndex(0).lineMarker],[0,this.rep.lines.atIndex(0).lineMarker]);try{for(var b=O(Object.entries(e.text)),E=b.next();!E.done;E=b.next()){var _=k(E.value,2),c=_[0],C=_[1],T=this.editor.getRep(c);if(T.alltext!==C)throw new Error("mismatch error setting raw text in setDocAText")}}catch(e){r={error:e}}finally{try{E&&!E.done&&(i=b.return)&&i.call(b)}finally{if(r)throw r.error}}},U.prototype.setHeading=function(e){void 0===e&&(e=[]);var t=k(e,4),n=t[0],r=void 0===n?28:n,i=t[1],o=void 0===i?24:i,a=t[2],s=void 0===a?16:a,c=t[3],u=void 0===c?16:c;M("\n      .adit-container.innerdocbody .heading-h1 {\n        font-size: "+r+"px;\n        margin-top: "+u+"px;\n        margin-bottom: "+u+"px;\n      }\n      .adit-container.innerdocbody .heading-h2 {\n        font-size: "+o+"px;\n        margin-top: "+u+"px;\n        margin-bottom: "+u+"px;\n      }\n      .adit-container.innerdocbody .heading-h3 {\n        font-size: "+s+"px;\n        margin-top: "+u+"px;\n        margin-bottom: "+u+"px;\n      }\n    ")},U.prototype.setHorizontalLinePadding=function(e){void 0===e&&(e=20),M(".adit-container.innerdocbody .horizontal-line {margin-left: "+e+"px; margin-right: "+e+"px}")},U.prototype.setInnerHeight=function(e){this.innerHeight="string"==typeof e?e:String(Math.round(e))+"px";var t="",t=this.editable?this.innerHeight||"400px":"0px";this.$docbody.css("min-height",t)},U.prototype.setListSpace=function(e){void 0===e&&(e=20),M(".adit-container.innerdocbody .list-div {margin-top: "+e+"px; margin-bottom: "+e+"px;}"),M(".adit-container.innerdocbody .list-div + .list-div {margin-top: -"+e+"px}")},E([Object(u.c)(),_("design:type",Function),_("design:paramtypes",[Object]),_("design:returntype",void 0)],U.prototype,"applyChange",null),E([Object(u.c)(),_("design:type",Function),_("design:paramtypes",[]),_("design:returntype",void 0)],U.prototype,"getEditor",null),E([Object(u.c)(),_("design:type",Function),_("design:paramtypes",[]),_("design:returntype",void 0)],U.prototype,"getSDKBus",null),E([Object(u.c)(),_("design:type",Function),_("design:paramtypes",[]),_("design:returntype",void 0)],U.prototype,"getEditorBus",null),E([Object(u.c)(),_("design:type",Function),_("design:paramtypes",[Array]),_("design:returntype",void 0)],U.prototype,"getText",null),E([Object(u.c)(),_("design:type",Function),_("design:paramtypes",[]),_("design:returntype",void 0)],U.prototype,"getHtml",null),E([Object(u.c)(),_("design:type",Function),_("design:paramtypes",[]),_("design:returntype",Object)],U.prototype,"getContent",null),E([Object(u.c)(),_("design:type",Function),_("design:paramtypes",[Element]),_("design:returntype",Object)],U.prototype,"getSelectionForElement",null),E([Object(u.c)(),_("design:type",Function),_("design:paramtypes",[]),_("design:returntype",void 0)],U.prototype,"getCurrentSelection",null),E([Object(u.c)(),_("design:type",Function),_("design:paramtypes",[]),_("design:returntype",Object)],U.prototype,"getWholeSelection",null),E([Object(u.c)(),_("design:type",Function),_("design:paramtypes",[Object]),_("design:returntype",void 0)],U.prototype,"getHost",null),E([Object(u.c)(),_("design:type",Function),_("design:paramtypes",[String,Function]),_("design:returntype",void 0)],U.prototype,"on",null),E([Object(u.c)(),_("design:type",Function),_("design:paramtypes",[String,Function]),_("design:returntype",void 0)],U.prototype,"off",null),E([Object(u.c)(),_("design:type",Function),_("design:paramtypes",[Object]),_("design:returntype",void 0)],U.prototype,"setSelection",null),E([Object(u.c)(),_("design:type",Function),_("design:paramtypes",[String]),_("design:returntype",void 0)],U.prototype,"setText",null),E([Object(u.c)(),_("design:type",Function),_("design:paramtypes",[String]),_("design:returntype",void 0)],U.prototype,"setHtml",null),E([Object(u.c)(),_("design:type",Function),_("design:paramtypes",[Object]),_("design:returntype",void 0)],U.prototype,"setContent",null),E([Object(u.c)(),_("design:type",Function),_("design:paramtypes",[]),_("design:returntype",void 0)],U.prototype,"clearContent",null),E([Object(u.c)(),_("design:type",Function),_("design:paramtypes",[Boolean]),_("design:returntype",void 0)],U.prototype,"setEditable",null),E([Object(u.c)(),_("design:type",Function),_("design:paramtypes",[]),_("design:returntype",void 0)],U.prototype,"isEditable",null),E([Object(u.c)(),_("design:type",Function),_("design:paramtypes",[Boolean]),_("design:returntype",void 0)],U.prototype,"setCopyable",null),E([Object(u.c)(),_("design:type",Function),_("design:paramtypes",[Boolean]),_("design:returntype",void 0)],U.prototype,"setUndoHandleEnabled",null),E([Object(u.c)(),_("design:type",Function),_("design:paramtypes",[]),_("design:returntype",void 0)],U.prototype,"getStyle",null),E([Object(u.c)(),_("design:type",Function),_("design:paramtypes",[Object]),_("design:returntype",void 0)],U.prototype,"setStyle",null),E([Object(u.c)(),_("design:type",Function),_("design:paramtypes",[]),_("design:returntype",void 0)],U.prototype,"destroy",null),E([Object(u.K)(),_("design:type",Function),_("design:paramtypes",[String,Object,Object,String,Boolean]),_("design:returntype",void 0)],U.prototype,"format",null),E([Object(u.c)(),_("design:type",Function),_("design:paramtypes",[Object]),_("design:returntype",Array)],U.prototype,"getFormat",null),E([Object(u.c)(),_("design:type",Function),_("design:paramtypes",[String,Object]),_("design:returntype",void 0)],U.prototype,"removeFormat",null),E([Object(u.c)(),_("design:type",Function),_("design:paramtypes",[Object]),_("design:returntype",void 0)],U.prototype,"removeAllFormat",null),E([Object(u.c)(),_("design:type",Function),_("design:paramtypes",[]),_("design:returntype",void 0)],U.prototype,"getFormatKeys",null),E([Object(u.c)(),_("design:type",Function),_("design:paramtypes",[]),_("design:returntype",void 0)],U.prototype,"undo",null),E([Object(u.c)(),_("design:type",Function),_("design:paramtypes",[]),_("design:returntype",void 0)],U.prototype,"redo",null),E([Object(u.c)(),_("design:type",Function),_("design:paramtypes",[]),_("design:returntype",void 0)],U.prototype,"canUndo",null),E([Object(u.c)(),_("design:type",Function),_("design:paramtypes",[]),_("design:returntype",void 0)],U.prototype,"canRedo",null),E([Object(u.c)(),_("design:type",Function),_("design:paramtypes",[String]),_("design:returntype",void 0)],U.prototype,"getFormatter",null),E([Object(u.c)(),_("design:type",Function),_("design:paramtypes",[String]),_("design:returntype",void 0)],U.prototype,"getFormatterConstructor",null),E([Object(u.c)(),_("design:type",Function),_("design:paramtypes",[String]),_("design:returntype",void 0)],U.prototype,"getAdapter",null),E([Object(u.c)(),_("design:type",Function),_("design:paramtypes",[]),_("design:returntype",void 0)],U.prototype,"getToolbar",null),E([Object(u.c)(),_("design:type",Function),_("design:paramtypes",[]),_("design:returntype",void 0)],U.prototype,"isEmptyArticle",null),E([Object(u.c)(),_("design:type",Function),_("design:paramtypes",[]),_("design:returntype",void 0)],U.prototype,"getMaxLine",null),E([Object(u.c)(),_("design:type",Function),_("design:paramtypes",[Number]),_("design:returntype",void 0)],U.prototype,"getLineSize",null),E([Object(u.c)(),_("design:type",Function),_("design:paramtypes",[Object]),_("design:returntype",Array)],U.prototype,"getFormattableKeys",null),E([Object(u.c)(),_("design:type",Function),_("design:paramtypes",[Array]),_("design:returntype",void 0)],U.prototype,"restoreInlineFormatToNewLine",null),E([Object(u.c)(),_("design:type",Function),_("design:paramtypes",[Object]),_("design:returntype",void 0)],U.prototype,"setIdleActionOption",null),E([Object(u.c)(),_("design:type",Function),_("design:paramtypes",[Event]),_("design:returntype",void 0)],U.prototype,"focusEnd",null),E([Object(u.c)(),_("design:type",Function),_("design:paramtypes",[]),_("design:returntype",void 0)],U.prototype,"handleSelectionChange",null),E([Object(u.c)(),_("design:type",Function),_("design:paramtypes",[]),_("design:returntype",void 0)],U.prototype,"handleContentChange",null),E([Object(u.c)(),_("design:type",Function),_("design:paramtypes",[Object]),_("design:returntype",void 0)],U.prototype,"handleEditorSelectionChanged",null),E([Object(u.c)(),_("design:type",Function),_("design:paramtypes",[Object]),_("design:returntype",void 0)],U.prototype,"handleEditorSizeChange",null),E([Object(u.c)(),_("design:type",Function),_("design:paramtypes",[Object]),_("design:returntype",void 0)],U.prototype,"handleEditorCut",null),E([Object(u.c)(),_("design:type",Function),_("design:paramtypes",[Object]),_("design:returntype",void 0)],U.prototype,"handleEditorCopy",null),E([Object(u.c)(),_("design:type",Function),_("design:paramtypes",[Object]),_("design:returntype",void 0)],U.prototype,"handleEditorPaste",null),E([Object(u.c)(),_("design:type",Function),_("design:paramtypes",[Object]),_("design:returntype",void 0)],U.prototype,"handleError",null),E([Object(u.c)(),_("design:type",Function),_("design:paramtypes",[Event]),_("design:returntype",void 0)],U.prototype,"handleBlur",null),E([Object(u.c)(),_("design:type",Function),_("design:paramtypes",[Event]),_("design:returntype",void 0)],U.prototype,"handleFocus",null),E([Object(u.c)(),_("design:type",Function),_("design:paramtypes",[Object]),_("design:returntype",void 0)],U.prototype,"handleKeyEvent",null),U);function U(e){var t=this;this.options=e,this.editable=!1,this.copyable=!1,this.innerHeight="",this.formatterMap={},this.adapterMap={},this.style={},this.bus=this.options.bus||new y.a,this.em=new y.a,this.prevContent=null,this.scrollerEl=null,this.i18n=e.i18n||u.d,this.mountHost(e.host);var n=w(w({inEmbed:u.F},Object(d.a)(e,["editable","copyable","scroller","author","idleWorkTime","idleWorkTimer","idleWorkForbid","innerZoneConfig","maxListLevel","inEmbed","firstLineJumpOnTab","spellCheck","autoCorrect","autoFocus"])),{domPurifyConfig:e.domPurifyConfig||{enable:!1},log:e.logger,resizeStrategy:e.resizeStrategy||"iframe",bus:this.bus,element:this.docbody,renderConfig:e.renderConfig});e.modules&&(n.registerPlugin=function(e){return t.editor=e,t.registerPlugin()});var r=e.defaultLine,i=e.defaultText,o=e.defaultHtml,a=e.defaultContent,s=e.scroller,c=e.blockDisableFormatKeys;i||o||(n.clientVars=this.getDefaultContent(r||1)),i&&(delete n.clientVars,n.defaultHtml=i+"\n"),o&&(delete n.clientVars,n.defaultHtml=o),a&&(n.clientVars=Object(u.y)(a)),s&&(this.scrollerEl=document.getElementById(s)),this.editor=new S.Editor(n),this.rep=this.editor.getRep(),this.setPrevContent(this.editor.getClientVars()),this.editable=null==e.editable||e.editable,this.copyable=null==e.copyable||e.copyable,this.setEditable(this.editable),this.setCopyable(this.copyable),this.setStyle(e.style),this.bindEditorEvent(),this.editor.changesetTracker.setUserChangeNotificationCallback(this.handleContentChange),this.blockDisableFormatKeys=c||["backgroundcolor","align"]}var H="0";z.prototype.render=function(e){var t=this,n=e.apool,r=e.initialAttributedTexts,i=r.text,o=r.attribs,a=S.utils.getAlinesByAttributedText,s=(new S.AttributePool).fromJsonable(n),c=a({text:i[H],attribs:o[H]},s),u=this.editorBase.renderToDomLine(i[H],c,s);return this.innerBody.innerHTML=this.editorBase.renderToString(u),Array.from(this.innerBody.children).forEach(function(e){S.Pocket.addPocketToLine({lineNode:e},t.hook)}),this.outerBody.outerHTML},z.prototype.instance=function(e){var t=[];return e.formatters&&t.push.apply(t,C(e.formatters.map(function(e){return Object(o.a)(e)?V(e[0]):V(e)}))),e.oldPlugins&&t.push.apply(t,C(e.oldPlugins.map(function(e){return Object(o.a)(e)?V(e[0]):V(e)}))),t.push.apply(t,C(L.map(function(e){return V(e)}))),t},z.prototype.setStyle=function(e){var t,n;if(e){var r=Object(d.a)(e,["fontSize","fontWeight","fontFamily","textAlign","color","minHeight","maxHeight"]),i=["fontSize","minHeight","maxHeight"];try{for(var o=O(Object.entries(r)),a=o.next();!a.done;a=o.next()){var s=k(a.value,2),c=s[0],u=s[1],l=u;i.includes(c)&&"number"==typeof u&&(l=u.toString()+"px"),null!=l&&(this.innerBody.style[c]=l)}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}}};function z(e){var t=e.modules,n=e.style,r=this.instance(t);this.hook=S.Hook.create({plugins:r,bubbleExceptions:!0}),this.editorBase=new S.EditorBase({formatterRenderer:new S.FormatterRenderer({formatters:r}),hook:this.hook}),this.outerBody=document.createElement("div"),this.outerBody.classList.add("adit-outer-container"),this.outerBody.classList.add("outerdocbody"),this.innerBody=document.createElement("div"),this.innerBody.classList.add("adit-container"),this.innerBody.classList.add("innerdocbody"),this.outerBody.appendChild(this.innerBody),this.setStyle(n)}function V(t){var n=function(){};return Object.keys(t).forEach(function(e){n[e]=t[e]}),n.prototype=t.prototype,new n}n.d(t,"AditReact",function(){return Z});var K=function(e,t){return(K=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function W(e,t){function n(){this.constructor=e}K(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var Y,q=function(){return(q=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},Z=(W(X,Y=i.Component),X.prototype.componentDidMount=function(){var e=this.props,t=e.handleOnInit;e.scroller||console.warn("scroller");var n=q(q(q({},{scroller:".etherpad-container-wrapper"}),this.props),{host:this.docBody});this.aditInstance=new B(n),t&&t(this.aditInstance)},X.prototype.componentDidUpdate=function(e){var t=this.props,n=t.editable,r=t.copyable,i=t.style;this.aditInstance&&(null!=n&&n!==e.editable&&this.aditInstance.setEditable(n),null!=r&&r!==e.copyable&&this.aditInstance.setCopyable(r),Object(u.Q)(i,e.style)||this.aditInstance.setStyle(i))},X.prototype.componentWillUnmount=function(){this.aditInstance&&this.aditInstance.destroy()},X.prototype.render=function(){var t=this,e=this.props,n=e.id,r=e.className;return Object(i.createElement)("div",{id:n,className:r,ref:function(e){t.docBody=e}})},X.defaultProps={editable:!1},X);function X(){var e=null!==Y&&Y.apply(this,arguments)||this;return e.aditInstance=null,e.docBody=null,e}},nQL7:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAAAVlpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IlhNUCBDb3JlIDUuNC4wIj4KICAgPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICAgICAgPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIKICAgICAgICAgICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iPgogICAgICAgICA8dGlmZjpPcmllbnRhdGlvbj4xPC90aWZmOk9yaWVudGF0aW9uPgogICAgICA8L3JkZjpEZXNjcmlwdGlvbj4KICAgPC9yZGY6UkRGPgo8L3g6eG1wbWV0YT4KTMInWQAAACdJREFUSA3t0DEBAAAAwqD1T+1vBohAYcCAAQMGDBgwYMCAAQMGfmAOLgABrSzR1AAAAABJRU5ErkJggg=="},nQY9:function(e,t,n){"use strict";var r=n("o0o1"),m=n.n(r),i=n("yXPU"),a=n.n(i),o=n("lwsE"),s=n.n(o),c=n("W8MJ"),u=n.n(c),l=n("2ACu");function v(t){return new Promise(function(e){return window.setTimeout(e,t)})}var y=n("XVMX"),b=n("AvAw"),E=n("t5Ac"),d=n("HIeq"),p=n("5u9u"),_=n("lZ5r");n.d(t,"a",function(){return g});var f,h,C=100;(h=f=f||{}).permise="permise",h.external="external";var g=function(){function o(e){var t=e.editor,n=e.boxType,r=e.fileType,i=e.fileToken;s()(this,o),this.editor=t,this.boxType=n,this.isDocBody="doc"===n,this.currentUserId=Object(d.d)(),this.fileType=r,this.fileToken=i}function e(e,t){return n.apply(this,arguments)}var n,t;function r(e){return t.apply(this,arguments)}return u()(o,[{key:"addMentionNotify",value:(t=a()(m.a.mark(function e(t){var n,r,i,o,a,s,c,u,l,d,p,f,h,g;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.userId,r=t.userName,i=t.isExternal,o=t.blockId,a=t.notNotify,s=t.blockNotify,this.isDocBody){e.next=3;break}return e.abrupt("return");case 3:if(n===this.currentUserId)return e.abrupt("return");e.next=5;break;case 5:if(a)return e.abrupt("return",Object(_.b)({notNotifyUsers:[{name:r,id:n}]}));e.next=9;break;case 9:if(s)return e.abrupt("return",Object(_.b)({blockedUsers:[{name:r,id:n}]}));e.next=11;break;case 11:if(c="user",u=this.editor,l=Object(E.a)(),d=l.externalAccess,p=Object(E.b)(),f=this.getToastType(i,d,p),h=this.getConfirmToast(f,r)){e.next=19;break}return e.abrupt("return");case 19:return b.default.register(n,h,y.a),e.next=22,v(C);case 22:return e.next=24,Promise.race([h,v(y.a)]);case 24:if(g=e.sent,y.b.CANCELED===g)return this.handleHoldBack({editor:u,collaborateType:c,blockId:o}),e.abrupt("return");e.next=28;break;case 28:return e.next=30,v(500);case 30:this.addDocBodyNotify(n,o);case 31:case"end":return e.stop()}},e,this)})),r)},{key:"getToastType",value:function(e,t,n){return e&&!t&&n?f.external:f.permise}},{key:"getConfirmToast",value:function(e,t){var n=(e===f.external?Object(y.c):Object(y.d))([t]);return n}},{key:"addMentionIdToBlock",value:function(r,i,o){var a=".block-id-".concat(r),e=function(){var e,t,n;o&&$(a).length&&(e=i.code,t=i.data.mention_id,e||void 0===t||(n=o.plugins.blockPlugin.blockInfos.get(r))&&n.instance&&n.instance.setProps({data:{mentionId:t}}))};o&&o.getInInternationalComposition()?o.call("asyncNotifyCallback",e):e()}},{key:"addDocBodyNotify",value:(n=a()(m.a.mark(function e(t,n){var r,i,o,a,s,c;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=this.fileType,i=this.fileToken,o=this.currentUserId,a=this.boxType,s=".block-id-".concat(n),$(s).length)return e.next=6,Object(p.a)(o,{fileType:r,fileToken:i,userId:t,source:a});e.next=9;break;case 6:(c=e.sent).data&&Object(_.b)({notNotifyUsers:c.data.not_notify_users,blockedUsers:c.data.blocked_users}),this.addMentionIdToBlock(n,c,this.editor);case 9:case"end":return e.stop()}},e,this)})),e)},{key:"handleHoldBack",value:function(e){var t=e.editor,n=e.collaborateType,r=e.blockId,i=t.plugins.blockPlugin.blockInfos.get(r),o=t.getRep(),a=o.selEnd,s=o.zoneId;i&&i.instance&&(i.instance.setProps({data:{sharePermHeldBack:!0}}),a&&(t.selection.setWithSelection(s,a,a,!0),t.selection.internalUpdateSelectionFromRep(!0)));var c=this.boxType;Object(l.default)("click_undo_permission",{collaborate_type:n,reminder_type:"toast",source:c})}}]),o}()},nVH4:function(e,t,n){"use strict";n.d(t,"c",function(){return r}),n.d(t,"a",function(){return i}),n.d(t,"d",function(){return o}),n.d(t,"b",function(){return a});var r={RETURN:13,LEFT:37,UP:38,RIGHT:39,DOWN:40,SPACE:32,ESC:27,BACKSPACE:8,AT:50,A:65,DELETE:46,H:72},i={UP:r.UP,DOWN:r.DOWN,LEFT:r.LEFT,RIGHT:r.RIGHT},o={IMAGE:"POPUP_IMAGE",CARD:"POPUP_CARD",TEXT:"POPUP_TEXT",SHEET:"POPUP_SHEET",BLOCK:"POPUP_BLOCK",TABLE:"POPUP_TABLE",TABLE_CELL:"POPUP_TABLE_CELL",CODE_BLOCK_V2:"CODE_BLOCK_V2",CALLOUT_BLOCK:"CALLOUT_BLOCK"},a="fake-list-number-trigger"},nbnp:function(e,i,t){var n=t("cs4F"),u=t("0RZP"),d=n.update,o=n.evaluate,r=t("Shz6"),l=r.domEach,a=r.cloneDom,p=r.isHtml,f=Array.prototype.slice,s={flatten:t("TYy9"),bind:t("JpaV"),forEach:t("bNQv")};i._makeDomArray=function(e,t){return null==e?[]:e.cheerio?t?a(e.get(),e.options):e.get():Array.isArray(e)?s.flatten(e.map(function(e){return this._makeDomArray(e,t)},this)):"string"==typeof e?o(e,this.options,!1):t?a([e]):[e]};var c=function(a){return function(){var i=f.call(arguments),o=this.length-1;return l(this,function(e,t){var n="function"==typeof i[0]?i[0].call(t,e,u.html(t.children)):i,r=this._makeDomArray(n,e<o);a(r,t.children,t)})}},h=function(e,t,n,r,i){for(var o,a,s,c=[t,n].concat(r),u=e[t-1]||null,l=e[t]||null,d=0,p=r.length;d<p;++d)o=(s=(a=r[d]).parent||a.root)&&s.children.indexOf(r[d]),s&&-1<o&&(s.children.splice(o,1),i===s&&o<t&&c[0]--),a.root=null,a.parent=i,a.prev&&(a.prev.next=a.next||null),a.next&&(a.next.prev=a.prev||null),a.prev=r[d-1]||u,a.next=r[d+1]||l;return u&&(u.next=r[0]),l&&(l.prev=r[r.length-1]),e.splice.apply(e,c)};i.appendTo=function(e){return e.cheerio||(e=this.constructor.call(this.constructor,e,null,this._originalRoot)),e.append(this),this},i.prependTo=function(e){return e.cheerio||(e=this.constructor.call(this.constructor,e,null,this._originalRoot)),e.prepend(this),this},i.append=c(function(e,t,n){h(t,t.length,0,e,n)}),i.prepend=c(function(e,t,n){h(t,0,0,e,n)}),i.wrap=function(c){var u="function"==typeof c&&c,l=this.length-1;return s.forEach(this,s.bind(function(e,t){var n,r,i,o,a=e.parent||e.root,s=a.children;if(a){for(u&&(c=u.call(e,t)),"string"!=typeof c||p(c)||(c=this.parents().last().find(c).clone()),r=(n=this._makeDomArray(c,t<l).slice(0,1))[0],i=0;r&&r.children&&!(i>=r.children.length);)"tag"===r.children[i].type?(r=r.children[i],i=0):i++;o=s.indexOf(e),d([e],r),h(s,o,0,n,a)}},this)),this},i.after=function(){var s=f.call(arguments),c=this.length-1;return l(this,function(e,t){var n,r,i,o,a=t.parent||t.root;a&&((r=(n=a.children).indexOf(t))<0||(i="function"==typeof s[0]?s[0].call(t,e,u.html(t.children)):s,o=this._makeDomArray(i,e<c),h(n,r+1,0,o,a)))}),this},i.insertAfter=function(e){var a=[],s=this;return"string"==typeof e&&(e=this.constructor.call(this.constructor,e,null,this._originalRoot)),e=this._makeDomArray(e),s.remove(),l(e,function(e,t){var n,r,i=s._makeDomArray(s.clone()),o=t.parent||t.root;o&&((r=(n=o.children).indexOf(t))<0||(h(n,r+1,0,i,o),a.push(i)))}),this.constructor.call(this.constructor,this._makeDomArray(a))},i.before=function(){var s=f.call(arguments),c=this.length-1;return l(this,function(e,t){var n,r,i,o,a=t.parent||t.root;a&&((r=(n=a.children).indexOf(t))<0||(i="function"==typeof s[0]?s[0].call(t,e,u.html(t.children)):s,o=this._makeDomArray(i,e<c),h(n,r,0,o,a)))}),this},i.insertBefore=function(e){var a=[],s=this;return"string"==typeof e&&(e=this.constructor.call(this.constructor,e,null,this._originalRoot)),e=this._makeDomArray(e),s.remove(),l(e,function(e,t){var n,r,i=s._makeDomArray(s.clone()),o=t.parent||t.root;o&&((r=(n=o.children).indexOf(t))<0||(h(n,r,0,i,o),a.push(i)))}),this.constructor.call(this.constructor,this._makeDomArray(a))},i.remove=function(e){var t=this;return e&&(t=t.filter(e)),l(t,function(e,t){var n,r,i=t.parent||t.root;i&&((r=(n=i.children).indexOf(t))<0||(n.splice(r,1),t.prev&&(t.prev.next=t.next),t.next&&(t.next.prev=t.prev),t.prev=t.next=t.parent=t.root=null))}),this},i.replaceWith=function(a){var s=this;return l(this,function(e,t){var n,r,i,o=t.parent||t.root;o&&(n=o.children,r=s._makeDomArray("function"==typeof a?a.call(t,e,t):a),d(r,null),i=n.indexOf(t),h(n,i,1,r,o),t.parent=t.prev=t.next=t.root=null)}),this},i.empty=function(){return l(this,function(e,t){s.forEach(t.children,function(e){e.next=e.prev=e.parent=null}),t.children.length=0}),this},i.html=function(r){if(void 0===r)return this[0]&&this[0].children?u.html(this[0].children,this.options):null;var i=this.options;return l(this,function(e,t){s.forEach(t.children,function(e){e.next=e.prev=e.parent=null});var n=r.cheerio?r.clone().get():o(""+r,i,!1);d(n,t)}),this},i.toString=function(){return u.html(this,this.options)},i.text=function(r){return void 0===r?u.text(this):"function"==typeof r?l(this,function(e,t){var n=[t];return i.text.call(n,r.call(t,e,u.text(n)))}):(l(this,function(e,t){s.forEach(t.children,function(e){e.next=e.prev=e.parent=null}),d({data:""+r,type:"text",parent:t,prev:null,next:null,children:[]},t)}),this)},i.clone=function(){return this._make(a(this.get(),this.options))}},nhkr:function(t,e,n){var r=n("YnFm"),i=n("q4g7");function o(e){return(o="function"==typeof i&&"symbol"==typeof r?function(e){return typeof e}:function(e){return e&&"function"==typeof i&&e.constructor===i&&e!==i.prototype?"symbol":typeof e})(e)}function a(e){return"function"==typeof i&&"symbol"===o(r)?t.exports=a=function(e){return o(e)}:t.exports=a=function(e){return e&&"function"==typeof i&&e.constructor===i&&e!==i.prototype?"symbol":o(e)},a(e)}t.exports=a},nryN:function(e,t,n){var r=n("D5Sy"),a=r.isTag,i=r.getText,o=r.getParent,s=r.getChildren,c=r.getSiblings,u=r.hasAttrib,l=r.getName,d=r.getAttributeValue,p=n("Q6pU"),f=n("VdqC").rules.equals,h=n("meR+"),g=h.trueFunc,m=h.falseFunc;function v(e){for(var t=0;e&&t<e.length;t++)if(a(e[t]))return e[t]}function y(e,t){var n={name:e,value:t};return function(e){return f(e,n)}}function b(t){return function(e){return!!o(e)&&t(e)}}var E={contains:function(t,n){return function(e){return t(e)&&0<=i(e).indexOf(n)}},icontains:function(t,e){var n=e.toLowerCase();return function(e){return t(e)&&0<=i(e).toLowerCase().indexOf(n)}},"nth-child":function(i,e){var o=p(e);return o===m?o:o===g?b(i):function(e){for(var t=c(e),n=0,r=0;n<t.length;n++)if(a(t[n])){if(t[n]===e)break;r++}return o(r)&&i(e)}},"nth-last-child":function(i,e){var o=p(e);return o===m?o:o===g?b(i):function(e){for(var t=c(e),n=0,r=t.length-1;0<=r;r--)if(a(t[r])){if(t[r]===e)break;n++}return o(n)&&i(e)}},"nth-of-type":function(i,e){var o=p(e);return o===m?o:o===g?b(i):function(e){for(var t=c(e),n=0,r=0;r<t.length;r++)if(a(t[r])){if(t[r]===e)break;l(t[r])===l(e)&&n++}return o(n)&&i(e)}},"nth-last-of-type":function(i,e){var o=p(e);return o===m?o:o===g?b(i):function(e){for(var t=c(e),n=0,r=t.length-1;0<=r;r--)if(a(t[r])){if(t[r]===e)break;l(t[r])===l(e)&&n++}return o(n)&&i(e)}},root:function(t){return function(e){return!o(e)&&t(e)}},scope:function(t,e,n,r){return r&&0!==r.length?1===r.length?function(e){return r[0]===e&&t(e)}:function(e){return 0<=r.indexOf(e)&&t(e)}:E.root(t)},checkbox:y("type","checkbox"),file:y("type","file"),password:y("type","password"),radio:y("type","radio"),reset:y("type","reset"),image:y("type","image"),submit:y("type","submit")},_={empty:function(e){return!s(e).some(function(e){return a(e)||"text"===e.type})},"first-child":function(e){return v(c(e))===e},"last-child":function(e){for(var t=c(e),n=t.length-1;0<=n;n--){if(t[n]===e)return!0;if(a(t[n]))break}return!1},"first-of-type":function(e){for(var t=c(e),n=0;n<t.length;n++)if(a(t[n])){if(t[n]===e)return!0;if(l(t[n])===l(e))break}return!1},"last-of-type":function(e){for(var t=c(e),n=t.length-1;0<=n;n--)if(a(t[n])){if(t[n]===e)return!0;if(l(t[n])===l(e))break}return!1},"only-of-type":function(e){for(var t=c(e),n=0,r=t.length;n<r;n++)if(a(t[n])&&t[n]!==e&&l(t[n])===l(e))return!1;return!0},"only-child":function(e){for(var t=c(e),n=0;n<t.length;n++)if(a(t[n])&&t[n]!==e)return!1;return!0},link:function(e){return u(e,"href")},visited:m,selected:function(e){if(u(e,"selected"))return!0;if("option"!==l(e))return!1;var t=o(e);if(!t||"select"!==l(t)||u(t,"multiple"))return!1;for(var n=s(t),r=!1,i=0;i<n.length;i++)if(a(n[i]))if(n[i]===e)r=!0;else{if(!r)return!1;if(u(n[i],"selected"))return!1}return r},disabled:function(e){return u(e,"disabled")},enabled:function(e){return!u(e,"disabled")},checked:function(e){return u(e,"checked")||_.selected(e)},required:function(e){return u(e,"required")},optional:function(e){return!u(e,"required")},parent:function(e){return!_.empty(e)},header:function(e){var t=l(e);return"h1"===t||"h2"===t||"h3"===t||"h4"===t||"h5"===t||"h6"===t},button:function(e){var t=l(e);return"button"===t||"input"===t&&"button"===d(e,"type")},input:function(e){var t=l(e);return"input"===t||"textarea"===t||"select"===t||"button"===t},text:function(e){var t;return"input"===l(e)&&(!(t=d(e,"type"))||"text"===t.toLowerCase())}};function C(e,t,n){if(null===n){if(1<e.length&&"scope"!==t)throw new SyntaxError("pseudo-selector :"+t+" requires an argument")}else if(1===e.length)throw new SyntaxError("pseudo-selector :"+t+" doesn't have any arguments")}var T=/^(?:(?:nth|last|first|only)-(?:child|of-type)|root|empty|(?:en|dis)abled|checked|not)$/;e.exports={compile:function(t,e,n,r){var i=e.name,o=e.data;if(n&&n.strict&&!T.test(i))throw SyntaxError(":"+i+" isn't part of CSS3");if("function"==typeof E[i])return C(E[i],i,o),E[i](t,o,n,r);if("function"!=typeof _[i])throw new SyntaxError("unmatched pseudo-class :"+i);var a=_[i];return C(a,i,o),t===g?a:function(e){return a(e,o)&&t(e)}},filters:E,pseudos:_}},ntxC:function(e,t,n){"use strict";var a=n("FUmc"),s=n("cSlR"),c=Array.prototype.splice;function r(e,t){for(var n=e?t.length:0,r=n-1;n--;){var i,o=t[n];n!=r&&o===i||(i=o,Object(s.a)(o)?c.call(e,o,1):Object(a.a)(e,o))}return e}t.a=r},nyAU:function(e,t,n){var r=n("TR4g"),i=t.isTag=r.isTag;t.testElement=function(e,t){for(var n in e)if(e.hasOwnProperty(n)){if("tag_name"===n){if(!i(t)||!e.tag_name(t.name))return!1}else if("tag_type"===n){if(!e.tag_type(t.type))return!1}else if("tag_contains"===n){if(i(t)||!e.tag_contains(t.data))return!1}else if(!t.attribs||!e[n](t.attribs[n]))return!1}else;return!0};var o={tag_name:function(t){return"function"==typeof t?function(e){return i(e)&&t(e.name)}:"*"===t?i:function(e){return i(e)&&e.name===t}},tag_type:function(t){return"function"==typeof t?function(e){return t(e.type)}:function(e){return e.type===t}},tag_contains:function(t){return"function"==typeof t?function(e){return!i(e)&&t(e.data)}:function(e){return!i(e)&&e.data===t}}};function a(t,n){return"function"==typeof n?function(e){return e.attribs&&n(e.attribs[t])}:function(e){return e.attribs&&e.attribs[t]===n}}function s(t,n){return function(e){return t(e)||n(e)}}t.getElements=function(n,e,t,r){var i=Object.keys(n).map(function(e){var t=n[e];return e in o?o[e](t):a(e,t)});return 0===i.length?[]:this.filter(i.reduce(s),e,t,r)},t.getElementById=function(e,t,n){return Array.isArray(t)||(t=[t]),this.findOne(a("id",e),t,!1!==n)},t.getElementsByTagName=function(e,t,n,r){return this.filter(o.tag_name(e),t,n,r)},t.getElementsByTagType=function(e,t,n,r){return this.filter(o.tag_type(e),t,n,r)}},o4mS:function(e,n,r){"use strict";var i=r("zSMa"),o=r("O/jM");n.parse=function(e,t){return new i(t).parse(e)},n.parseFragment=function(e,t,n){return"string"==typeof e&&(n=t,t=e,e=null),new i(n).parseFragment(t,e)},n.serialize=function(e,t){return new o(e,t).serialize()},n.treeAdapters={default:r("4ZAW"),htmlparser2:r("dtMt")};var a={ParserStream:"./parser/parser_stream",PlainTextConversionStream:"./parser/plain_text_conversion_stream",SerializerStream:"./serializer/serializer_stream",SAXParser:"./sax"};Object.keys(a).forEach(function(t){Object.defineProperty(n,t,{get:function(){try{return r("SskX")(a[t])}catch(e){throw new Error(t+" is supported only for Node.js.See https://github.com/inikulin/parse5/issues/235 for the details.")}}})})},o4zr:function(e,t,n){n("Pkdo");var r=n("dktu").Object,i=e.exports=function(e,t,n){return r.defineProperty(e,t,n)};r.defineProperty.sham&&(i.sham=!0)},o62m:function(e,t,n){"use strict";var r=n("pevS"),d=n("zJQS"),p=n("mIMY"),i=n("rSeq"),o=n("m40S"),f=n("W1ep"),h="No one promise resolved";r({target:"Promise",stat:!0},{any:function(e){var c=this,t=i.f(c),u=t.resolve,l=t.reject,n=o(function(){var r=d(c.resolve),i=[],o=0,a=1,s=!1;f(e,function(e){var t=o++,n=!1;i.push(void 0),a++,r.call(c,e).then(function(e){n||s||(s=!0,u(e))},function(e){n||s||(n=!0,i[t]=e,--a||l(new(p("AggregateError"))(i,h)))})}),--a||l(new(p("AggregateError"))(i,h))});return n.error&&l(n.value),t.promise}})},oAEL:function(e,t,n){var i,o,a,s,c,u,r=!1,l=!1,d=n("EVsM")("stringify");function p(e,t){var n;a=(t=t||{}).indentation||"",o=!!t.compress,i=!!t.comments,s=1,o?c=u="":(c="\n",u=" "),l&&(n=Date.now());var r=y(e.stylesheet.rules,C).join("\n").trim();return l&&d("ran in",Date.now()-n+"ms"),r}function f(e){if(!e)return o?"":Array(s).join(a||"");s+=e}function h(e){return"@"+e.type+" "+e.value+";"+c}function g(e){var t="",n=e.prefix||"";e.name&&(t=" "+e.name);var r="page"!==e.type;return"@"+n+e.type+t+u+b(e,r)+c}function m(e){return i?"/*"+(e.text||"")+"*/"+c:""}function v(e){var t;return e.selectors?t=e.selectors.join(","+c):(t="@"+e.type,t+=e.name?" "+e.name:""),f()+t+u+b(e)+c}function y(e,r){return e.reduce(function(e,t){var n=("comment"===t.type?m:r)(t);return n&&e.push(n),e},[])}function b(e,t){var n=e.declarations,r=_;return e.rules&&(n=e.rules,r=v),"{"+(n=(n=E(n,r))&&c+n+(t?"":c))+f()+"}"}function E(e,t){if(!e)return"";f(1);var n=y(e,t);return f(-1),n.length?n.join(c):""}function _(e){if("property"===e.type)return T(e);r&&d("stringifyDeclaration: unexpected node:",JSON.stringify(e))}function C(e){switch(e.type){case"rule":return v(e);case"media":case"keyframes":return g(e);case"comment":return m(e);case"import":case"charset":case"namespace":return h(e);case"font-face":case"supports":case"viewport":case"document":case"page":return g(e)}r&&d("stringifyNode: unexpected node: "+JSON.stringify(e))}function T(e){var t=e.name?e.name+":"+u:"";return f()+t+e.value+";"}e.exports=p},"oCl/":function(e,t,n){var r=n("CH3K"),i=n("LcsW"),o=n("MvSz"),a=n("0ycA"),s=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)r(t,o(e)),e=i(e);return t}:a;e.exports=s},oJoF:function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return i}),n.d(t,"c",function(){return o});var r="DOC_TIMING_AFTER_FIRST_SCREEN",i="DOC_TIMING_ON_DOC_STAGE_DONE",o="DOC_TIMING_ON_DOC_STAGE_DONE_AND_EDITABLE"},oKwy:function(e,t){var n="Expected a function";function r(t){if("function"!=typeof t)throw new TypeError(n);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}e.exports=r},oM22:function(e,t,n){n("CqEA");var r=n("dktu");e.exports=r.Object.keys},oOYW:function(e,t,n){var r,i,o,a,s,c,u,l=n("OsYe"),d=n("RLqH").f,p=n("/EgQ"),f=n("Wvup").set,h=n("xLjh"),g=l.MutationObserver||l.WebKitMutationObserver,m=l.process,v=l.Promise,y="process"==p(m),b=d(l,"queueMicrotask"),E=b&&b.value;E||(r=function(){var e,t;for(y&&(e=m.domain)&&e.exit();i;){t=i.fn,i=i.next;try{t()}catch(e){throw i?a():o=void 0,e}}o=void 0,e&&e.enter()},a=y?function(){m.nextTick(r)}:g&&!/(iphone|ipod|ipad).*applewebkit/i.test(h)?(s=!0,c=document.createTextNode(""),new g(r).observe(c,{characterData:!0}),function(){c.data=s=!s}):v&&v.resolve?(u=v.resolve(void 0),function(){u.then(r)}):function(){f.call(l,r)}),e.exports=E||function(e){var t={fn:e,next:void 0};o&&(o.next=t),i||(i=t,a()),o=t}},oW49:function(e,t,n){var s=n("8PLQ"),c=n("kWb8"),r=n("ZLJe"),i=n("cHMM"),o=u(r),a=u(s);function u(e){var t=Object.keys(e).join("|"),n=p(e);t+="|#[xX][\\da-fA-F]+|#\\d+";var r=new RegExp("&(?:"+t+");","g");return function(e){return String(e).replace(r,n)}}var l=function(){for(var e=Object.keys(c).sort(d),t=Object.keys(s).sort(d),n=0,r=0;n<t.length;n++)e[r]===t[n]?(t[n]+=";?",r++):t[n]+=";";var i=new RegExp("&(?:"+t.join("|")+"|#[xX][\\da-fA-F]+;?|#\\d+;?)","g"),o=p(s);function a(e){return";"!==e.substr(-1)&&(e+=";"),o(e)}return function(e){return String(e).replace(i,a)}}();function d(e,t){return e<t?1:-1}function p(t){return function(e){return"#"===e.charAt(1)?"X"===e.charAt(2)||"x"===e.charAt(2)?i(parseInt(e.substr(3),16)):i(parseInt(e.substr(2),10)):t[e.slice(1,-1)]}}e.exports={XML:o,HTML:l,HTMLStrict:a}},ogVW:function(e,t){t.f=Object.getOwnPropertySymbols},omim:function(e,u,l){"use strict";(function(e){l.d(u,"a",function(){return a}),l.d(u,"g",function(){return s}),l.d(u,"d",function(){return i}),l.d(u,"c",function(){return r}),l.d(u,"f",function(){return o}),l.d(u,"e",function(){return c});var t=l("iP/4"),n=l("k7EW");l.d(u,"b",function(){return n.a});var r=e||t.a.isLarkWindow,i=t.a.isLark&&!/electron/i.test(navigator.userAgent),o=e&&i&&n.b,a=!0;i?a=n.b:r&&(a=n.a);var s=r&&!n.a,c=!i&&e&&n.a}).call(this,l("kCIs"))},or5M:function(e,t,n){var v=n("1hJj"),y=n("QoRX"),b=n("xYSL"),E=1,_=2;function r(e,t,n,r,i,o){var a=n&E,s=e.length,c=t.length;if(s!=c&&!(a&&s<c))return!1;var u=o.get(e),l=o.get(t);if(u&&l)return u==t&&l==e;var d=-1,p=!0,f=n&_?new v:void 0;for(o.set(e,t),o.set(t,e);++d<s;){var h,g=e[d],m=t[d];if(r&&(h=a?r(m,g,d,t,e,o):r(g,m,d,e,t,o)),void 0!==h){if(h)continue;p=!1;break}if(f){if(!y(t,function(e,t){if(!b(f,t)&&(g===e||i(g,e,n,r,o)))return f.push(t)})){p=!1;break}}else if(g!==m&&!i(g,m,n,r,o)){p=!1;break}}return o.delete(e),o.delete(t),p}e.exports=r},"otv/":function(e,t,n){var Symbol=n("nmnc"),r=Symbol?Symbol.prototype:void 0,i=r?r.valueOf:void 0;function o(e){return i?Object(i.call(e)):{}}e.exports=o},ouE1:function(e,t,n){"use strict";n.d(t,"a",function(){return b}),n.d(t,"b",function(){return E});var r=n("RIqP"),g=n.n(r),i=n("lwsE"),o=n.n(i),a=n("W8MJ"),s=n.n(a),m=n("HmyT"),c=n("FJEn"),v=n("mRaX"),y=n("PX10"),b=(n("NdYY"),"mention-placeholder"),E="".concat(c.config.LOCAL,"-").concat(b),_="data-placeholder",u=function(){function e(){o()(this,e),this.enable=!1,this.textWidthMap=Object.create(null)}return s()(e,[{key:"setEnable",value:function(e){this.enable=e}},{key:"getEnable",value:function(){return this.enable}},{key:"show",value:function(e,t){var n={cursor_position:"middle",show_placeholder:0};if(!this.enable)return n;var r=e.getSelectedRep();if(!r||!r.selEnd)return n;var i=r.zoneId,o=r.lines,a=r.selEnd,s=a[0],c=0<a[1]?a[1]:1,u=o.atIndex(s);if(!u)return n;var l=u.width-1===c;if(n.cursor_position=l?"end":0===c?"beginning":"middle",n.show_placeholder=1,!this.checkHasEnoughWidth(e,t)||!l)return n.show_placeholder=0,this.hide(!1),n;var d,p,f,h=Object(m.$)(".".concat(b));return h.length?e.getObserver().withoutRecordingMutations(function(){return h.attr(_,t)}):(p=(d=e.getAttributesOnSelection(i,r).attribs)&&d.find(function(e){return e[0]===E}),f=u&&"@"===u.text[1<=c?c-1:0],p||Object(y.e)(e,[s,c-1],[s,c],f?u.text[c-1]:v.c,[].concat(g()(this.filterAttr(d)),[[E,!0]]))),n}},{key:"hide",value:function(){var e=!(0<arguments.length&&void 0!==arguments[0])||arguments[0],t=Object(m.$)(".".concat(b));t.removeAttr(_),e&&t.removeClass(b)}},{key:"checkHasEnoughWidth",value:function(e,t){var n=e.getSelectedRep();if(!n)return!1;var r=n.zoneId,i=n.selEnd,o=n.lines;if(!i)return!1;var a,s,c,u=i[0],l=0<i[1]?i[1]:1,d=o.atIndex(u),p=e.getAllAttributesOnLine(r,u),f=p.find(function(e){return"align"===e[0]}),h=f&&1<f.length?f[1]:"left";return!(!d||!d.lineNode||"right"===h)&&(c=!!p.find(function(e){return"list"===e[0]})?(a=Object(m.$)(".".concat(b))[0],s=Object(m.$)(d.lineNode).find("li")[0]||Object(m.$)(d.lineNode).find("code")[0],a&&s?s.getBoundingClientRect().right-a.getBoundingClientRect().right:d.lineNode.offsetWidth-d.getCharRect(l).left):d.lineNode.offsetWidth-d.getCharRect(l).left,"center"===h&&(c/=2),c>this.getTextWidth(t,d))}},{key:"getTextWidth",value:function(e,t){var n=parseFloat(Object(m.$)(t.lineNode).css("font-size"));return this.textWidthMap[e]||(this.textWidthMap[e]=Object.create(null)),this.textWidthMap[e][n]||(this.textWidthMap[e][n]=Object(v.k)([e],1,n)),this.textWidthMap[e][n]}},{key:"filterAttr",value:function(e){return e.filter(function(e){return["backcolor","bold","inline-code","italic","underline","strikethrough","author","at-holder","lineguid"].includes(e[0])||Object(v.M)(e[0])||e[0].includes("at-uuid_")})}}]),e}();t.c=new u},"p/xT":function(e,t,n){},p3Wu:function(e,t,n){"use strict";n.d(t,"e",function(){return a}),n.d(t,"f",function(){return s}),n.d(t,"a",function(){return c}),n.d(t,"g",function(){return u}),n.d(t,"b",function(){return r}),n.d(t,"c",function(){return l}),n.d(t,"d",function(){return d});var r,i,o=n("FJEn"),a=/(?:^| )ol-id([0-9a-zA-Z]+)/,s=/^[0-9a-zA-Z]+$/,c="IGNORE_LIST",u=/(number)([0-9]+)/;(i=r=r||{})[i.UP=0]="UP",i[i.DOWN=1]="DOWN";var l="temp-li",d=(o.DisplayType.Inline,"todo_uuid")},pFRH:function(e,t,n){var r=n("cvCv"),i=n("O0oS"),o=n("zZ0H"),a=i?function(e,t){return i(e,"toString",{configurable:!0,enumerable:!1,value:r(t),writable:!0})}:o;e.exports=a},pIdd:function(e,x,L){"use strict";(function(c){var u,e=L("o0o1"),l=L.n(e),t=L("yXPU"),n=L.n(t),a=L("OZf9"),r=L("Z0Cl"),d=L("HA5h"),p=L("9g7G"),f=L("HmyT"),h=L("AiBH"),g=L("mRaX"),s=L("zLXu"),i=L("b6qs"),m=L("VI6H"),o=".mention-chat-button-opt .button-cancel,.mention-chat-button-opt .button-confirm",v={init:function(e){i.a.init(e);var t=(u=e.editor).getDocBody();e.pure||(Object(f.$)(t).on("click",".mention-chat-button",b),Object(f.$)(t).on("click",o,T)),this.source=e.source},reset:function(){i.a.reset();var e=u.getDocBody();Object(f.$)(e).off("click",".mention-chat-button",b),Object(f.$)(e).off("click",o,T),u=null},update:function(e,t){var n=S(t);Object(s.a)(e,n,this.source,w)},updateWithNodes:function(n,e){var r,i=this,t=y(e),o=[];Object(a.a)(t,function(e){var t=Object(g.K)(e,"mention-chatId");t&&""!==t&&o.push(t)}),o.length&&(r=[],Object(a.a)(o,function(e){var t=i.getCacheInfo(e);if(!t)return r.push(e);w(n,e,t)}),0<r.length&&Object(s.a)(n,r,this.source,w))},setCacheInfo:function(e){var t=Object(r.a)(e,function(e){return e.type===h.E.CHAT}),n={};Object(a.a)(t,function(e){n[e.token]=Object.assign({},e),n[e.token].hasjoin=!0}),i.a.setCacheInfo(n)},getCacheInfo:function(e){return i.a.getCacheInfo(e)}};function y(e){for(var t=Object(f.$)(e).find(".mention"),n=[],r=0,i=t.length;r<i;r++)n.push(t.eq(r).prop("className"));return n}function b(e){var t=Object(f.$)(this),n=t.parents(".mention");if(t.text()===h.f.unjoined){var r=Object(d.a)({},k(n),{hasjoin:!1,joinConfirm:!0});return I(n,Object(g.W)(r)),!1}}function E(e){var t=e.match(/(^| )author-([^\s]+)/);return t=t?t[2]:""}function _(e,t,n){return C.apply(this,arguments)}function C(){return(C=n()(l.a.mark(function e(t,n,r){var i,o,a,s;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!t){e.next=16;break}if(t===h.n)throw new Error("Error chat token");e.next=4;break;case 4:return e.next=6,Object(p.c)(t);case 6:if(o=e.sent,o.data[t].chat_share_status!==h.g.ACTIVE)return u&&u.call("alert",{message:c("mention.chat_expired")}),e.abrupt("return",!1);e.next=11;break;case 11:return e.next=13,Object(p.l)(t);case 13:i=e.sent,e.next=19;break;case 16:return e.next=18,Object(p.k)({chatId:n,invitor:r});case 18:i=e.sent;case 19:if(a=i.data.code)return s=h.s[a]||c("etherpad.join_group_failed"),u&&u.call("alert",{message:s}),e.abrupt("return",!1);e.next=24;break;case 24:e.next=30;break;case 26:return e.prev=26,e.t0=e.catch(0),u&&u.call("alert",{message:c("etherpad.join_group_failed")}),e.abrupt("return",!1);case 30:return e.abrupt("return",!0);case 31:case"end":return e.stop()}},e,null,[[0,26]])}))).apply(this,arguments)}function T(e){return O.apply(this,arguments)}function O(){return(O=n()(l.a.mark(function e(t){var n,r,i,o,a,s,c;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=Object(f.$)(t.currentTarget).parents(".mention"),r=k(n),i=n.prop("className"),o=Object(g.K)(i,"mention-chatId"),a=Object(g.K)(i,"mention-chatToken"),s=E(i),Object(f.$)(t.currentTarget).hasClass("button-confirm"))return e.next=9,_(a,o,s);e.next=17;break;case 9:if(e.sent){e.next=12;break}return e.abrupt("return");case 12:c=Object(d.a)({},r,{hasjoin:!0,joinConfirm:!1}),v.setCacheInfo([c]),w(u,o,c),e.next=18;break;case 17:w(u,o,Object(d.a)({hasjoin:!1,joinConfirm:!1},r));case 18:return e.abrupt("return",!1);case 19:case"end":return e.stop()}},e)}))).apply(this,arguments)}function k(e){var t=e.find(".mention-chat-icon img").prop("src"),n=e.find(".mention-chat-desc").text(),r=e.find(".mention-chat-tit").text(),i=e.find(".mention-chat-button-opt").text(),o=Object(g.K)(e.prop("className"),"mention-chatId");return{url:t,desc:n,buttonText:i,joinConfirm:!0,content:r,chatId:o,token:o,type:h.E.CHAT}}function S(e){var t,r=[];for(t in e){var n=e[t];Object(a.a)(n,function(e){var t,n;!e||(t=e[0].split("_"))&&t[0]&&"mention-chatId"===t[0]&&(n=t[1],r.indexOf(n)<0&&r.push(n))})}return r}function w(u,l,e){var t=Object(m.g)(),n=e.content,r=e.hasjoin,i=e.url,o=e.desc,a=e.is_cross_tenant,s=e.is_external,c=(c=(a||s)&&!r)||s&&t&&!r,d=h.f.unjoined;r&&(d=Object(g.p)());var p={url:i,desc:o,content:n,buttonText:d,chatId:l,notAllowedJoin:c};u.getMatchedAttributePositionOnSelection(null,function(e){return e==="mention-chatId_".concat(l)}).map(function(e){var t=e.docPosition,n=t.selZone;return{lineNum:t.selStart[0],zoneId:n}}).forEach(function(e){var t=e.lineNum,n=e.zoneId;if(-1!==t){var r=u.getRep(n).lines.atIndex(t);if(r&&r.lineNode){var i=r.lineNode,o=Object(f.$)(i).find(".mention-chatId_".concat(l)),a=o.length;if(a)for(var s=Object(g.W)(p),c=0;c<a;c++)I(o.eq(c),s)}}})}function I(e,t){var n=e.parents("[id^=magicdomid]"),r=u.dom.zoneOfdom(n.get(0)),i=u.getReps()[r];i&&(e.html(t),u.markNodeClean(n.get(0),i.lines.atKey(n.get(0).id)))}x.a=v}).call(this,L("2vAP"))},pRQB:function(e,t,n){"use strict";t.REPLACEMENT_CHARACTER="",t.CODE_POINTS={EOF:-1,NULL:0,TABULATION:9,CARRIAGE_RETURN:13,LINE_FEED:10,FORM_FEED:12,SPACE:32,EXCLAMATION_MARK:33,QUOTATION_MARK:34,NUMBER_SIGN:35,AMPERSAND:38,APOSTROPHE:39,HYPHEN_MINUS:45,SOLIDUS:47,DIGIT_0:48,DIGIT_9:57,SEMICOLON:59,LESS_THAN_SIGN:60,EQUALS_SIGN:61,GREATER_THAN_SIGN:62,QUESTION_MARK:63,LATIN_CAPITAL_A:65,LATIN_CAPITAL_F:70,LATIN_CAPITAL_X:88,LATIN_CAPITAL_Z:90,GRAVE_ACCENT:96,LATIN_SMALL_A:97,LATIN_SMALL_F:102,LATIN_SMALL_X:120,LATIN_SMALL_Z:122,REPLACEMENT_CHARACTER:65533},t.CODE_POINT_SEQUENCES={DASH_DASH_STRING:[45,45],DOCTYPE_STRING:[68,79,67,84,89,80,69],CDATA_START_STRING:[91,67,68,65,84,65,91],CDATA_END_STRING:[93,93,62],SCRIPT_STRING:[115,99,114,105,112,116],PUBLIC_STRING:[80,85,66,76,73,67],SYSTEM_STRING:[83,89,83,84,69,77]}},pTmc:function(e,t,n){},pZkr:function(e,t,n){"use strict";n.r(t),n.d(t,"getSheetModule",function(){return i});var r=n("cLsO");function i(){return{id:"sheet",reducerMap:{sheet:r.a}}}},paQS:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var a=n("D7h9"),s=n("toa8"),r=n("wOYm"),c=n("Tb95"),u=n("ZGZ5"),l=n("wQna"),d=n("7SOz"),p=n("sFgt"),f=n("kUgE");function i(e){var t=e.suiteType,n=e.suiteToken,r=e.enableAutoTranslate,i=e.translateLang;l.a.destroy({suiteType:t,suiteToken:n});var o=l.a.getOrCreate({suiteType:t,suiteToken:n});return new c.a({enableAutoTranslate:r||!1,broadcast:o,request:s.d,getUserId:function(){return Object(u.a)(a.default.getState()).get("id")||window.User.id},getSuiteType:function(){return t},getSuiteToken:function(){return n},getTranslateLang:function(){return i||"en"},getSrcLang:function(){return Object(f.getLanguage)()},translateFn:d.a,toAILabTypeData:d.c,toLineTexts:d.d,parseCommentContent:p.j})}var o=Object(r.a)(i,function(e){return e.subCommentToken?"".concat(e.suiteType,":").concat(e.suiteToken,":").concat(e.subCommentToken):"".concat(e.suiteType,":").concat(e.suiteToken)})},pf04:function(e,t,i){"use strict";i.d(t,"a",function(){return l});var n=i("o0o1"),o=i.n(n),r=i("J4zp"),a=i.n(r),s=i("yXPU"),c=i.n(s),u=i("6AXZ"),l=function(){var e=c()(o.a.mark(function e(){var t,n,r;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([Promise.all([i.e("doc_index_css"),i.e("chunk_adit"),i.e("commons--doc_index_delay--voteEmoji--votePicker"),i.e(16),i.e("commons--doc_index_delay--jira"),i.e("doc_index_delay")]).then(i.bind(null,"HN4B")),Object(u.b)().catch()]);case 2:return t=e.sent,n=a()(t,1),r=n[0],e.abrupt("return",r);case 6:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()},po4q:function(e,t,n){"use strict";n.d(t,"m",function(){return l}),n.d(t,"d",function(){return d}),n.d(t,"F",function(){return p}),n.d(t,"w",function(){return f}),n.d(t,"r",function(){return h}),n.d(t,"c",function(){return g}),n.d(t,"b",function(){return m}),n.d(t,"a",function(){return v}),n.d(t,"q",function(){return y}),n.d(t,"H",function(){return E}),n.d(t,"G",function(){return _}),n.d(t,"L",function(){return C}),n.d(t,"K",function(){return T}),n.d(t,"J",function(){return k}),n.d(t,"v",function(){return S}),n.d(t,"s",function(){return w}),n.d(t,"t",function(){return I}),n.d(t,"u",function(){return x}),n.d(t,"e",function(){return L}),n.d(t,"i",function(){return R}),n.d(t,"h",function(){return N}),n.d(t,"g",function(){return D}),n.d(t,"f",function(){return M}),n.d(t,"C",function(){return P}),n.d(t,"D",function(){return j}),n.d(t,"E",function(){return F}),n.d(t,"j",function(){return B}),n.d(t,"l",function(){return U}),n.d(t,"p",function(){return H}),n.d(t,"y",function(){return z}),n.d(t,"z",function(){return V}),n.d(t,"B",function(){return K}),n.d(t,"n",function(){return W}),n.d(t,"x",function(){return Y}),n.d(t,"O",function(){return q}),n.d(t,"N",function(){return Z}),n.d(t,"A",function(){return X}),n.d(t,"o",function(){return Q}),n.d(t,"k",function(){return J}),n.d(t,"I",function(){return $}),n.d(t,"M",function(){return ee});var r,i,o,a=n("MjSh"),s=n("qxQb"),c=n.n(s),u=n("QM+C"),l="create-by-template-new-layout",d="template-item-dropdown-menu",p="template-center-new-layout__container",f=99,h=1e3,g=15,m="0",v=-1,y=4,b=7,E=208,_=19,C=20,T=20,O=20,k=20,S=1438,w=1024,I=840,x=600,L=180,R=90,N=3,D=2e3,M=400,P=18,j=8,F=6,B=20,U="0",H=150,z=248,V=164,K=6,W=4,Y=4,q=480,Z=480,X="TemplateCenter_SearchPlaceholder",Q=[u.NUM_SUITE_TYPE.DOC,u.NUM_SUITE_TYPE.SHEET],J="\n  &::-webkit-scrollbar {\n    width: ".concat(b,"px;\n    height: 7px;\n  }\n  &::-webkit-scrollbar-button {\n    display: none;\n    height: 0;\n    width: 0;\n  }\n  &::-webkit-scrollbar-thumb {\n    border-radius: 7px;\n    background-color: ").concat(c()(a.N600,.3),";\n    &:hover {\n      background-color: ").concat(c()(a.N600,.5),";\n    }\n  }\n"),$=(r=[S,w],i=[19,18],o="\n    @media screen and (min-width: ".concat(S,"px) {\n      padding-left: ").concat(O,"px;\n    }"),r.forEach(function(e,t){o+="@media screen and (max-width: ".concat(e,"px) {\n      padding-left: ").concat(i[t],"px;\n      }")}),o),ee={category_id:v,name:"topic",templates:[]}},pylR:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n("o0o1"),o=n.n(r),i=n("yXPU"),a=n.n(i),s=n("Ae4K");function c(i){return new Promise(function(){var t=a()(o.a.mark(function e(n){var r;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:(r=new FileReader).onload=a()(o.a.mark(function e(){var t;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(s.e)(r.result);case 2:t=e.sent,n(t);case 4:case"end":return e.stop()}},e)})),r.readAsArrayBuffer(i);case 3:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}())}},pzgU:function(e,t,n){var a=n("Q1l4"),s=n("wJg7"),c=Math.min;function r(e,t){for(var n=e.length,r=c(t.length,n),i=a(e);r--;){var o=t[r];e[r]=s(o,n)?i[o]:void 0}return e}e.exports=r},q3TU:function(e,t,n){var u=n("y4QH"),l=n("MMiu"),d=n("6KkN"),p="__lodash_placeholder__",f=1,h=2,g=4,m=8,v=128,y=256,b=Math.min;function r(e,t){var n=e[1],r=t[1],i=n|r,o=i<(f|h|v),a=r==v&&n==m||r==v&&n==y&&e[7].length<=t[8]||r==(v|y)&&t[7].length<=t[8]&&n==m;if(!o&&!a)return e;r&f&&(e[2]=t[2],i|=n&f?0:g);var s,c=t[3];return c&&(s=e[3],e[3]=s?u(s,c,t[4]):c,e[4]=s?d(e[3],p):t[4]),(c=t[5])&&(s=e[5],e[5]=s?l(s,c,t[6]):c,e[6]=s?d(e[5],p):t[6]),(c=t[7])&&(e[7]=c),r&v&&(e[8]=null==e[8]?t[8]:b(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=i,e}e.exports=r},q4SO:function(e,t,n){"use strict";n.d(t,"c",function(){return u}),n.d(t,"b",function(){return l}),n.d(t,"a",function(){return d});var r=n("9+L6"),i=n("dP4c"),o=n("VI6H"),a=n("skFV");function s(e){return/^(https?:\/\/)?localhost(:\d+)?\//.test(e)}function c(){var e=1<arguments.length&&void 0!==arguments[1]&&arguments[1],t=s(t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"")?r.c:t,n="".concat(e?r.s:r.t,"?query_scope=all&app_id=2&should_pass_through=1&utm_from=organic_ccm_share_web&redirect_uri=").concat(encodeURIComponent(t));return e&&(n+="&template_id=".concat(Object(a.v)()?"6882703852286509057":"6882649779491307521","&biz=feishu_docs")),n}function u(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"";Object(i.c)(c(e),!1,!0)}function l(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"";Object(i.c)(c(e,!0),!1,!0)}function d(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"";(Object(o.x)()?l:u)(e)}},q4g7:function(e,t,n){e.exports=n("tfHg")},q7cj:function(e,va,ya){"use strict";(function(e){ya.d(va,"a",function(){return it}),ya.d(va,"b",function(){return _t}),ya.d(va,"c",function(){return nn}),ya.d(va,"d",function(){return ft}),ya.d(va,"e",function(){return Ft}),ya.d(va,"f",function(){return ma}),ya.d(va,"g",function(){return aa}),ya.d(va,"h",function(){return Zi}),ya.d(va,"i",function(){return Pt}),ya.d(va,"j",function(){return et}),ya.d(va,"k",function(){return Rr}),ya.d(va,"l",function(){return ot}),ya.d(va,"m",function(){return tt}),ya.d(va,"n",function(){return Tn}),ya.d(va,"o",function(){return Rt}),ya.d(va,"p",function(){return Nt}),ya.d(va,"q",function(){return lt}),ya.d(va,"r",function(){return Dt}),ya.d(va,"s",function(){return kt}),ya.d(va,"t",function(){return Lt}),ya.d(va,"u",function(){return ht}),ya.d(va,"v",function(){return jt}),ya.d(va,"w",function(){return Et}),ya.d(va,"x",function(){return Mt}),ya.d(va,"y",function(){return At}),ya.d(va,"z",function(){return nt}),ya.d(va,"A",function(){return rt}),ya.d(va,"B",function(){return dt}),ya.d(va,"C",function(){return Xt}),ya.d(va,"D",function(){return Tt}),ya.d(va,"E",function(){return St}),ya.d(va,"F",function(){return Ot}),ya.d(va,"G",function(){return ut}),ya.d(va,"H",function(){return $t}),ya.d(va,"I",function(){return vn}),ya.d(va,"J",function(){return Ct}),ya.d(va,"K",function(){return Qt}),ya.d(va,"L",function(){return Bt});var t=ya("526F"),de=ya.n(t),n=ya("q1tI"),pe=ya.n(n),r=ya("LYCE"),o=ya.n(r),i=ya("HnXd"),a=ya.n(i),s=ya("qjzJ"),c=ya.n(s),u=ya("RXMP"),d=ya.n(u),l=ya("fHi0"),p=ya.n(l),f=ya("5PDf"),h=ya.n(f),g=ya("OWCx"),m=ya.n(g),v=ya("+oHS"),y=ya.n(v),b=ya("04Ix"),E=ya.n(b),_=ya("06Pm"),C=ya.n(_),T=ya("kA7L"),O=ya.n(T),k=ya("3SUL"),S=ya.n(k),w=ya("eYnF"),I=ya.n(w),x=ya("X5/F"),L=ya.n(x),R=ya("CnBM"),N=ya.n(R),D=ya("mnMc"),M=ya.n(D),P=ya("a0dU"),j=ya.n(P),F=ya("SPx3"),B=ya.n(F),U=ya("Kwsy"),H=ya.n(U),z=ya("MAKL"),V=ya.n(z),K=ya("eLKs"),W=ya.n(K),Y=ya("hO3g"),q=ya.n(Y),Z=(ya("7/CL"),ya("o+MX")),X=ya.n(Z),Q=ya("FLGM"),J=ya.n(Q),$=ya("vYB2"),ee=ya.n($),te=ya("u3oV"),ne=ya("7EGn"),re=ya("gSGL"),ie=ya("IzLi"),oe=ya("hbEN"),ae=ya("vJtL"),se=ya("yIs4"),ce=ya("3Hq1"),ue=ya("NZ+B"),le=ya("WxoT"),fe=ya.n(le),he=ya("6UaR"),ge=ya.n(he),me=ya("/FZm"),ve=ya.n(me),ye=ya("nhkr"),be=ya.n(ye),Ee=ya("BmhO"),_e=ya("Wz9t"),Ae=ya("UF4K"),Ce=ya.n(Ae),Te=ya("iYz8"),Oe=ya.n(Te),ke=ya("S/x3"),Se=ya("L95I"),we=ya.n(Se),Ie=ya("EbbD"),xe=(ya("TEMH"),ya("i8i4")),Le=ya("01jY"),Re=ya.n(Le),Ne=ya("YdDX"),De=ya.n(Ne),Me=ya("vOnD"),Pe=ya("Ngi8"),je=ya("EcSs"),Fe=ya.n(je),Be=ya("tpxy"),Ue=ya.n(Be),He=ya("UlbS"),ze=ya("0wEy"),Ve=ya("9+78"),Ke=ya.n(Ve),Ge=ya("3tWU"),We=ya("3y9D"),Ye=ya.n(We),qe=N()({loader:function(){return ya.e("lark-drive-file-icon").then(ya.bind(null,"igXD"))},loading:function(){return null}}),Ze=N()({loader:function(){return ya.e("lark-drive-file-circle-icon").then(ya.bind(null,"SeL/"))},loading:function(){return null}}),Xe={"archive.name":"Name","archive.no_result":"This is an empty folder","archive.size":"Size","common.can_not_copy":"Copy failed. The copy function is disabled by the owner.","common.cancel":"Cancel","common.confirm":"Confirm","common.download":"Download","common.download_failed":"Download failed","common.download_success":"Downloaded successfully","common.downloading":"File downloading...","common.file_deleted_content":"The file has been deleted.","common.file_need_password":"This file is encrypted and cannot be previewed.","common.file_not_found_content":"This file does not exist","common.file_preview_failed":"File preview failed","common.file_too_large":"File is too large to preview","common.file_too_small":"0 size file cannot be previewed","common.file_transcoding":"The file is being transcoded right now.","common.file_type_not_supported":"file type not supported","common.find":"Find","common.find_placeholder":"Find in the file","common.loading":"Loading","common.network_error":"Network errors. Please try again later.","common.no_authority":"The administrator has disabled this feature. Please contact the administrator if you have any questions.","common.no_permission_content":"No access","common.open_locally":"Show in folder","common.prompt":"Tips","common.retry":"Retry","common.save_failed":"Failed to save, please retry","common.save_success":"Saved!","common.save_to_drive":"Save to Docs","common.saving_to_drive":"Saving...","common.share":"Share","common.view_in_drive":"Preview Online","common.waiting_render":"The preview is being generated now. This may take a while, please check back later.","error.excel.size_exceeded":"Unable to preview file, Please reduce file size","error.wps.action_back_to_preview":"Back to preview","error.wps.action_request_permission":"Request permissions","error.wps.file_too_large":"File too large to be edited online.","error.wps.generic":"Failed to load. Please try again later.","error.wps.offline":"Network unavailable. Please check your network settings and try again.","error.wps.permission":"You are not allowed to edit the file. Please request permissions from the owner.","error.wps.session_full":"The number of collaborators has reached the limit. Please try again later.","image.download":"Download","image.exitfullscreen":"Exit Full Screen","image.fullscreen":"Full Screen","image.next":"Next","image.onetoone":"Original size","image.prev":"Previous","image.reset":"Best fit","image.rotate":"Rotate","image.zoomin":"Zoom in","image.zoomout":"Zoom out","pdf.comment":"Comment","pdf.copy":"Copy","pdf.download":"Download","pdf.exitfullscreen":"Exit Full Screen","pdf.fullscreen":"Full Screen","pdf.fullscreen_tips":"Press ESC to exit presentation mode","pdf.next":"Page Down","pdf.password_is_wrong":"Wrong password. Please try again.","pdf.password_tips":"This file is encrypted, please enter password.","pdf.play":"Presentation","pdf.presentation_end":"End","pdf.presentation_last":"Already the last page. Press ESC to exit","pdf.prev":"Page Up","pdf.print":"Print","pdf.print_loading":"Preparing document for print","pdf.sidebar":"Sidebar","pdf.turn_page":"Turn page","pdf.zoomin":"Zoom in","pdf.zoomout":"Zoom out","video.aborted_error":"The fetch process is aborted by the user","video.decode_error":"An error occurred while decoding","video.error":"network is offline","video.have_current_data":"Data about the current play location is available, but there is not enough data to play the next frame/millisecond","video.have_enough_data":"The available data is sufficient to start playing","video.have_future_data":"Current and at least one frame of data is available","video.have_meta_data":"audio/video metadata is ready","video.have_nothing":"There is no information on whether audio/video is ready","video.network.empty":"Audio/video has not been initialized","video.network.idle":"Audio/video is active and has been selected for resources, but no network is used","video.network.loading":"The browser is downloading the data","video.network.no_source":"No audio/video source was found","video.network_error":"An error occurred while downloading","video.not_supported":"Audio/video is not supported","video.original_file":"Original","video.replay":"Replay","video.stats":"Info","warning.file_preview_limited":"${1} Unable to show the full document in preview pane. Please download and open the file instead."},Qe=Object.freeze({__proto__:null,default:Xe}),Je=999,$e=4,et=990,tt=1200,nt=999,rt=999,it=10,ot=11;function at(t,e){var n,r=y()(t);return m.a&&(n=m()(t),e&&(n=h()(n).call(n,function(e){return p()(t,e).enumerable})),r.push.apply(r,n)),r}function st(t){for(var e=1;e<arguments.length;e++){var n,r,i=null!=arguments[e]?arguments[e]:{};e%2?d()(n=at(Object(i),!0)).call(n,function(e){E()(t,e,i[e])}):c.a?a()(t,c()(i)):d()(r=at(Object(i))).call(r,function(e){o()(t,e,p()(i,e))})}return t}function ct(i,o){if(!i)return[];var a=Object(ke.g)(i),e=i.available_preview_type||[];return h()(e).call(e,function(e){var t,n,r=_e.P.get(e);return!M()(t=o(i)).call(t,r)&&M()(n=Object(ke.a)(a)).call(n,e)})}function ut(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:2,n=e;return n<0?"":n<1024?"".concat(n,"B"):(n/=1024)<1024?"".concat(n.toFixed(t),"KB"):(n/=1024)<1024?"".concat(n.toFixed(t),"MB"):(n/=1024)<1024?"".concat(n.toFixed(t),"GB"):"".concat((n/=1024).toFixed(t),"TB")}function lt(e,t){return!!(e&&e.source&&t&&t.contentWindow)&&("object"===be()(e.data)&&e.source===t.contentWindow)}function dt(e,t,n){e&&e.contentWindow&&t&&n&&e.contentWindow.postMessage(n,t)}var pt="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";function ft(){for(var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:20,t="",n=0;n<e;n++){var r=Math.floor(Math.random()*pt.length);t+=pt[r]}return t}function ht(){var e=document.documentElement,t=document,n=Boolean(e.requestFullscreen||e.mozRequestFullScreen||e.webkitRequestFullScreen||e.msRequestFullscreen);return!1!==t.fullscreenEnabled&&!1!==t.mozFullScreenEnabled&&!1!==t.webkitFullscreenEnabled&&!1!==t.msFullscreenEnabled||(n=!1),n}var gt=function(e){return Object(te.a)(e,function(e){return null!=e})};function mt(e){return we.a.stringify(e)}function vt(e,t){var n;return e?X()(n="".concat(t)).call(n,e):""}function yt(){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"?";return vt(mt(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}),e)}function bt(e){var t=e.prevFileToken,n=e.prevVersion,r=e.prevForceUpdateSeed,i=e.prevIsInEditMode,o=e.curFileToken,a=e.curVersion,s=e.curForceUpdateSeed,c=e.curIsInEditMode;return t!==o?_e.F.FILE_TOKEN:n!==a?_e.F.VERSION:r!==s?_e.F.SEED:Boolean(i)!==Boolean(c)?_e.F.IS_IN_EDIT_MODE:null}function Et(e){if(!e)return null;try{return JSON.parse(e)}catch(e){return console.error(e),null}}function _t(e){var t,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:16;if(e.length<=n)return e;var r=e.length-n,i=Math.floor(n/2);return X()(t="".concat(e.substr(0,i),"...")).call(t,e.substr(i+r))}function At(e){return{status:Ee.j.READY,preview_url:e}}function Ct(e){var t;if(!e||!e.streams)return"";var n=ve()(t=e.streams).call(t,function(e){return"video"===e.codec_type});if(!n)return"";var r=n.codec_tag_string;return r?r.toLowerCase():""}function Tt(e){var t=e.codecTag,n=e.fileInfo,r=e.browserName,i=void 0===r?"":r,o=e.cannotFallbackVideoCodec,a=void 0===o?{}:o;try{if(!Object(ke.c)(n))return!0;if(!t)return!1;var s=i.replace(/\s/g,"_").toLowerCase(),c=st({},_e.D,{},a)[s]||[];return ge()(c)&&M()(c).call(c,t)?!0:!1}catch(e){return console.error("check meta_info error",e),!1}}function Ot(e){return M()(Ee.d).call(Ee.d,e)}function kt(e){return{scene:"ccm",location:e&&_e.L[e.type]||_e.L.default}}function St(e,t,n){var r="";try{r=fe()(e,t,n)}catch(e){}return r}function wt(e,t,n){return It.apply(this,arguments)}function It(){return(It=B()(j.a.mark(function e(t,n,r){var i,o,a,s,c,u,l,d,p,f,h,g,m,v,y,b,E,_,C;return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,i=n.apiHosts,o=n.isOnlineEnv,a=n.fileUrlPrefix,s=n.teaConfig,c=n.slardarConfig,u=n.isLocalhost,t.isDriveSDK)return e.abrupt("return",n);e.next=4;break;case 4:if(i&&a&&s&&c&&"boolean"==typeof o)return e.abrupt("return",n);e.next=6;break;case 6:if(l="box-preview-env-config",d=sessionStorage.getItem(l)||"{}",p=JSON.parse(d),f=p[r])return e.abrupt("return",st({isOnlineEnv:f.isOnlineEnv,fileUrlPrefix:f.fileUrlPrefix,teaConfig:f.teaConfig,slardarConfig:f.slardarConfig,fileWebOfficeDomain:f.fileWebOfficeDomain,updatePreviewTplSeed:f.updatePreviewTplSeed},n));e.next=12;break;case 12:return e.next=14,t.getEnvConfig();case 14:h=e.sent,g="staging"===Object(ne.default)(h,"common.env"),m=Object(ne.default)(h,"common"),b=m.tea,E=m.slardar,_=m.sentry,b&&!0===b.open&&(v={sdkAppId:Object(ne.default)(b,"config.appId.drive_sdk"),suiteAppId:Object(ne.default)(b,"config.appId.doc"),channelDomain:Object(ne.default)(b,"config.channel_domain")}),E&&E.open&&_&&_.open&&(y={slardarCommonConfig:E,sentryConfig:_}),C={isOnlineEnv:!(g||u),teaConfig:v,slardarConfig:y,apiHosts:Object(ne.default)(h,"space_api"),fileUrlPrefix:Object(ne.default)(h,"paramsConfig.fileURLPrefix"),fileWebOfficeDomain:Object(ne.default)(h,"paramsConfig.fileWebOfficeDomain"),updatePreviewTplSeed:Object(ne.default)(h,"paramsConfig.updatePreviewTplSeed")},p[r]=C;try{sessionStorage.setItem(l,fe()(p))}catch(e){console.warn("save env config failed",e)}return e.abrupt("return",st({},C,{},n));case 28:return e.prev=28,e.t0=e.catch(0),console.warn("generate final env config error",e.t0),e.abrupt("return",n);case 32:case"end":return e.stop()}},e,null,[[0,28]])}))).apply(this,arguments)}function xt(e){if(!e)return!1;var t=e.type;return t===Ee.h.EMAIL||t===Ee.h.CALENDAR||t===Ee.h.LARK||t===Ee.h.APPBUILDER}function Lt(e){return e?_e.M[e.type]:""}function Rt(e){e&&(e.requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.msRequestFullscreen&&e.msRequestFullscreen())}function Nt(){var e=document;e.exitFullscreen?e.exitFullscreen():e.msExitFullscreen?e.msExitFullscreen():e.mozCancelFullScreen?e.mozCancelFullScreen():e.webkitExitFullscreen&&e.webkitExitFullscreen()}function Dt(e){return!!(e&&e.slardarCommonConfig&&e.slardarCommonConfig.open&&e.slardarCommonConfig.config&&e.slardarCommonConfig.config.bid&&e.slardarCommonConfig.config.bid.docs_pc&&e.slardarCommonConfig.config.ignoreAjax&&e.slardarCommonConfig.sdkAddr)}function Mt(e,t){for(var r=e[t]||Xe[t]||"",n=arguments.length,i=new Array(2<n?n-2:0),o=2;o<n;o++)i[o-2]=arguments[o];return r&&i&&0<i.length&&d()(i).call(i,function(e,t){var n=new RegExp("\\$\\{".concat(t+1,"\\}"),"g");r=r.replace(n,e)}),r}var Pt="v0-1",jt="v1-1",Ft="v1-0",Bt={md:"v0-0",csv:"v0-1",code:"v0-0",txt:"v0-0",excel:Ft,pdf:jt,lib:Pt};function Ut(e){if(!e)return"";var t=e.match(/^v(\d+)-.*$/);return t&&t[1]?t[1]:""}function Ht(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function zt(e,t){return e(t={exports:{}},t.exports),t.exports}var Vt,Kt,Gt=zt(function(e,t){var n;n=function(){return n={17:function(e,t,n){t.__esModule=!0,t.default=void 0;var r=n(18),i=(c.getFirstMatch=function(e,t){var n=t.match(e);return n&&0<n.length&&n[1]||""},c.getSecondMatch=function(e,t){var n=t.match(e);return n&&1<n.length&&n[2]||""},c.matchAndReturnConst=function(e,t,n){if(e.test(t))return n},c.getWindowsVersionName=function(e){switch(e){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}},c.getMacOSVersionName=function(e){var t=e.split(".").splice(0,2).map(function(e){return parseInt(e,10)||0});if(t.push(0),10===t[0])switch(t[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}},c.getAndroidVersionName=function(e){var t=e.split(".").splice(0,2).map(function(e){return parseInt(e,10)||0});if(t.push(0),!(1===t[0]&&t[1]<5))return 1===t[0]&&t[1]<6?"Cupcake":1===t[0]&&6<=t[1]?"Donut":2===t[0]&&t[1]<2?"Eclair":2===t[0]&&2===t[1]?"Froyo":2===t[0]&&2<t[1]?"Gingerbread":3===t[0]?"Honeycomb":4===t[0]&&t[1]<1?"Ice Cream Sandwich":4===t[0]&&t[1]<4?"Jelly Bean":4===t[0]&&4<=t[1]?"KitKat":5===t[0]?"Lollipop":6===t[0]?"Marshmallow":7===t[0]?"Nougat":8===t[0]?"Oreo":9===t[0]?"Pie":void 0},c.getVersionPrecision=function(e){return e.split(".").length},c.compareVersions=function(e,t,n){void 0===n&&(n=!1);var r=c.getVersionPrecision(e),i=c.getVersionPrecision(t),o=Math.max(r,i),a=0,s=c.map([e,t],function(e){var t=o-c.getVersionPrecision(e),n=e+new Array(t+1).join(".0");return c.map(n.split("."),function(e){return new Array(20-e.length).join("0")+e}).reverse()});for(n&&(a=o-Math.min(r,i)),--o;a<=o;){if(s[0][o]>s[1][o])return 1;if(s[0][o]===s[1][o]){if(o===a)return 0;--o}else if(s[0][o]<s[1][o])return-1}},c.map=function(e,t){var n,r=[];if(Array.prototype.map)return Array.prototype.map.call(e,t);for(n=0;n<e.length;n+=1)r.push(t(e[n]));return r},c.find=function(e,t){var n,r;if(Array.prototype.find)return Array.prototype.find.call(e,t);for(n=0,r=e.length;n<r;n+=1){var i=e[n];if(t(i,n))return i}},c.assign=function(e){for(var n=e,t=arguments.length,r=new Array(1<t?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];if(Object.assign)return Object.assign.apply(Object,[e].concat(r));for(var o=function(){var t=r[a];"object"==typeof t&&null!==t&&Object.keys(t).forEach(function(e){n[e]=t[e]})},a=0,s=r.length;a<s;a+=1)o();return e},c.getBrowserAlias=function(e){return r.BROWSER_ALIASES_MAP[e]},c.getBrowserTypeByAlias=function(e){return r.BROWSER_MAP[e]||""},c);function c(){}t.default=i,e.exports=t.default},18:function(e,t,n){t.__esModule=!0,t.ENGINE_MAP=t.OS_MAP=t.PLATFORMS_MAP=t.BROWSER_MAP=t.BROWSER_ALIASES_MAP=void 0,t.BROWSER_ALIASES_MAP={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},t.BROWSER_MAP={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},t.PLATFORMS_MAP={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},t.OS_MAP={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},t.ENGINE_MAP={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"}},90:function(e,t,n){t.__esModule=!0,t.default=void 0;var r,i=(r=n(91))&&r.__esModule?r:{default:r},o=n(18);function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var s,c,u,l=(d.getParser=function(e,t){if(void 0===t&&(t=!1),"string"!=typeof e)throw new Error("UserAgent should be a string");return new i.default(e,t)},d.parse=function(e){return new i.default(e).getResult()},s=d,u=[{key:"BROWSER_MAP",get:function(){return o.BROWSER_MAP}},{key:"ENGINE_MAP",get:function(){return o.ENGINE_MAP}},{key:"OS_MAP",get:function(){return o.OS_MAP}},{key:"PLATFORMS_MAP",get:function(){return o.PLATFORMS_MAP}}],(c=null)&&a(s.prototype,c),u&&a(s,u),d);function d(){}t.default=l,e.exports=t.default},91:function(e,t,n){t.__esModule=!0,t.default=void 0;var r=s(n(92)),i=s(n(93)),o=s(n(94)),a=s(n(95)),f=s(n(17));function s(e){return e&&e.__esModule?e:{default:e}}var c,u=((c=l.prototype).getUA=function(){return this._ua},c.test=function(e){return e.test(this._ua)},c.parseBrowser=function(){var t=this;this.parsedResult.browser={};var e=f.default.find(r.default,function(e){if("function"==typeof e.test)return e.test(t);if(e.test instanceof Array)return e.test.some(function(e){return t.test(e)});throw new Error("Browser's test function is not valid")});return e&&(this.parsedResult.browser=e.describe(this.getUA())),this.parsedResult.browser},c.getBrowser=function(){return this.parsedResult.browser||this.parseBrowser()},c.getBrowserName=function(e){return e?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""},c.getBrowserVersion=function(){return this.getBrowser().version},c.getOS=function(){return this.parsedResult.os||this.parseOS()},c.parseOS=function(){var t=this;this.parsedResult.os={};var e=f.default.find(i.default,function(e){if("function"==typeof e.test)return e.test(t);if(e.test instanceof Array)return e.test.some(function(e){return t.test(e)});throw new Error("Browser's test function is not valid")});return e&&(this.parsedResult.os=e.describe(this.getUA())),this.parsedResult.os},c.getOSName=function(e){var t=this.getOS().name;return e?String(t).toLowerCase()||"":t||""},c.getOSVersion=function(){return this.getOS().version},c.getPlatform=function(){return this.parsedResult.platform||this.parsePlatform()},c.getPlatformType=function(e){void 0===e&&(e=!1);var t=this.getPlatform().type;return e?String(t).toLowerCase()||"":t||""},c.parsePlatform=function(){var t=this;this.parsedResult.platform={};var e=f.default.find(o.default,function(e){if("function"==typeof e.test)return e.test(t);if(e.test instanceof Array)return e.test.some(function(e){return t.test(e)});throw new Error("Browser's test function is not valid")});return e&&(this.parsedResult.platform=e.describe(this.getUA())),this.parsedResult.platform},c.getEngine=function(){return this.parsedResult.engine||this.parseEngine()},c.getEngineName=function(e){return e?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""},c.parseEngine=function(){var t=this;this.parsedResult.engine={};var e=f.default.find(a.default,function(e){if("function"==typeof e.test)return e.test(t);if(e.test instanceof Array)return e.test.some(function(e){return t.test(e)});throw new Error("Browser's test function is not valid")});return e&&(this.parsedResult.engine=e.describe(this.getUA())),this.parsedResult.engine},c.parse=function(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this},c.getResult=function(){return f.default.assign({},this.parsedResult)},c.satisfies=function(n){var t=this,r={},i=0,o={},a=0;if(Object.keys(n).forEach(function(e){var t=n[e];"string"==typeof t?(o[e]=t,a+=1):"object"==typeof t&&(r[e]=t,i+=1)}),0<i){var e=Object.keys(r),s=f.default.find(e,function(e){return t.isOS(e)});if(s){var c=this.satisfies(r[s]);if(void 0!==c)return c}var u=f.default.find(e,function(e){return t.isPlatform(e)});if(u){var l=this.satisfies(r[u]);if(void 0!==l)return l}}if(0<a){var d=Object.keys(o),p=f.default.find(d,function(e){return t.isBrowser(e,!0)});if(void 0!==p)return this.compareVersion(o[p])}},c.isBrowser=function(e,t){void 0===t&&(t=!1);var n=this.getBrowserName().toLowerCase(),r=e.toLowerCase(),i=f.default.getBrowserTypeByAlias(r);return t&&i&&(r=i.toLowerCase()),r===n},c.compareVersion=function(e){var t=[0],n=e,r=!1,i=this.getBrowserVersion();if("string"==typeof i)return">"===e[0]||"<"===e[0]?(n=e.substr(1),"="===e[1]?(r=!0,n=e.substr(2)):t=[],">"===e[0]?t.push(1):t.push(-1)):"="===e[0]?n=e.substr(1):"~"===e[0]&&(r=!0,n=e.substr(1)),-1<t.indexOf(f.default.compareVersions(i,n,r))},c.isOS=function(e){return this.getOSName(!0)===String(e).toLowerCase()},c.isPlatform=function(e){return this.getPlatformType(!0)===String(e).toLowerCase()},c.isEngine=function(e){return this.getEngineName(!0)===String(e).toLowerCase()},c.is=function(e){return this.isBrowser(e)||this.isOS(e)||this.isPlatform(e)},c.some=function(e){var t=this;return void 0===e&&(e=[]),e.some(function(e){return t.is(e)})},l);function l(e,t){if(void 0===t&&(t=!1),null==e||""===e)throw new Error("UserAgent parameter can't be empty");this._ua=e,this.parsedResult={},!0!==t&&this.parse()}t.default=u,e.exports=t.default},92:function(e,t,n){t.__esModule=!0,t.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},o=/version\/(\d+(\.?_?\d+)+)/i,a=[{test:[/googlebot/i],describe:function(e){var t={name:"Googlebot"},n=i.default.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/opera/i],describe:function(e){var t={name:"Opera"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/opr\/|opios/i],describe:function(e){var t={name:"Opera"},n=i.default.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/SamsungBrowser/i],describe:function(e){var t={name:"Samsung Internet for Android"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/Whale/i],describe:function(e){var t={name:"NAVER Whale Browser"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/MZBrowser/i],describe:function(e){var t={name:"MZ Browser"},n=i.default.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/focus/i],describe:function(e){var t={name:"Focus"},n=i.default.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/swing/i],describe:function(e){var t={name:"Swing"},n=i.default.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/coast/i],describe:function(e){var t={name:"Opera Coast"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/yabrowser/i],describe:function(e){var t={name:"Yandex Browser"},n=i.default.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/ucbrowser/i],describe:function(e){var t={name:"UC Browser"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/Maxthon|mxios/i],describe:function(e){var t={name:"Maxthon"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/epiphany/i],describe:function(e){var t={name:"Epiphany"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/puffin/i],describe:function(e){var t={name:"Puffin"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/sleipnir/i],describe:function(e){var t={name:"Sleipnir"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/k-meleon/i],describe:function(e){var t={name:"K-Meleon"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/micromessenger/i],describe:function(e){var t={name:"WeChat"},n=i.default.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/qqbrowser/i],describe:function(e){var t={name:/qqbrowserlite/i.test(e)?"QQ Browser Lite":"QQ Browser"},n=i.default.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/msie|trident/i],describe:function(e){var t={name:"Internet Explorer"},n=i.default.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/\sedg\//i],describe:function(e){var t={name:"Microsoft Edge"},n=i.default.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/edg([ea]|ios)/i],describe:function(e){var t={name:"Microsoft Edge"},n=i.default.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/vivaldi/i],describe:function(e){var t={name:"Vivaldi"},n=i.default.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/seamonkey/i],describe:function(e){var t={name:"SeaMonkey"},n=i.default.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/sailfish/i],describe:function(e){var t={name:"Sailfish"},n=i.default.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,e);return n&&(t.version=n),t}},{test:[/silk/i],describe:function(e){var t={name:"Amazon Silk"},n=i.default.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/phantom/i],describe:function(e){var t={name:"PhantomJS"},n=i.default.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/slimerjs/i],describe:function(e){var t={name:"SlimerJS"},n=i.default.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(e){var t={name:"BlackBerry"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t={name:"WebOS Browser"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/bada/i],describe:function(e){var t={name:"Bada"},n=i.default.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/tizen/i],describe:function(e){var t={name:"Tizen"},n=i.default.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/qupzilla/i],describe:function(e){var t={name:"QupZilla"},n=i.default.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/firefox|iceweasel|fxios/i],describe:function(e){var t={name:"Firefox"},n=i.default.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/electron/i],describe:function(e){var t={name:"Electron"},n=i.default.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/chromium/i],describe:function(e){var t={name:"Chromium"},n=i.default.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/chrome|crios|crmo/i],describe:function(e){var t={name:"Chrome"},n=i.default.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/GSA/i],describe:function(e){var t={name:"Google Search"},n=i.default.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:function(e){var t=!e.test(/like android/i),n=e.test(/android/i);return t&&n},describe:function(e){var t={name:"Android Browser"},n=i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/playstation 4/i],describe:function(e){var t={name:"PlayStation 4"},n=i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/safari|applewebkit/i],describe:function(e){var t={name:"Safari"},n=i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/.*/i],describe:function(e){var t=-1!==e.search("\\(")?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:i.default.getFirstMatch(t,e),version:i.default.getSecondMatch(t,e)}}}];t.default=a,e.exports=t.default},93:function(e,t,n){t.__esModule=!0,t.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},o=n(18),a=[{test:[/Roku\/DVP/],describe:function(e){var t=i.default.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,e);return{name:o.OS_MAP.Roku,version:t}}},{test:[/windows phone/i],describe:function(e){var t=i.default.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,e);return{name:o.OS_MAP.WindowsPhone,version:t}}},{test:[/windows /i],describe:function(e){var t=i.default.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,e),n=i.default.getWindowsVersionName(t);return{name:o.OS_MAP.Windows,version:t,versionName:n}}},{test:[/Macintosh(.*?) FxiOS(.*?) Version\//],describe:function(e){var t=i.default.getSecondMatch(/(Version\/)(\d[\d.]+)/,e);return{name:o.OS_MAP.iOS,version:t}}},{test:[/macintosh/i],describe:function(e){var t=i.default.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,e).replace(/[_\s]/g,"."),n=i.default.getMacOSVersionName(t),r={name:o.OS_MAP.MacOS,version:t};return n&&(r.versionName=n),r}},{test:[/(ipod|iphone|ipad)/i],describe:function(e){var t=i.default.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,e).replace(/[_\s]/g,".");return{name:o.OS_MAP.iOS,version:t}}},{test:function(e){var t=!e.test(/like android/i),n=e.test(/android/i);return t&&n},describe:function(e){var t=i.default.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,e),n=i.default.getAndroidVersionName(t),r={name:o.OS_MAP.Android,version:t};return n&&(r.versionName=n),r}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t=i.default.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,e),n={name:o.OS_MAP.WebOS};return t&&t.length&&(n.version=t),n}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(e){var t=i.default.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,e)||i.default.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,e)||i.default.getFirstMatch(/\bbb(\d+)/i,e);return{name:o.OS_MAP.BlackBerry,version:t}}},{test:[/bada/i],describe:function(e){var t=i.default.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,e);return{name:o.OS_MAP.Bada,version:t}}},{test:[/tizen/i],describe:function(e){var t=i.default.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,e);return{name:o.OS_MAP.Tizen,version:t}}},{test:[/linux/i],describe:function(){return{name:o.OS_MAP.Linux}}},{test:[/CrOS/],describe:function(){return{name:o.OS_MAP.ChromeOS}}},{test:[/PlayStation 4/],describe:function(e){var t=i.default.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,e);return{name:o.OS_MAP.PlayStation4,version:t}}}];t.default=a,e.exports=t.default},94:function(e,t,n){t.__esModule=!0,t.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},o=n(18),a=[{test:[/googlebot/i],describe:function(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe:function(e){var t=i.default.getFirstMatch(/(can-l01)/i,e)&&"Nova",n={type:o.PLATFORMS_MAP.mobile,vendor:"Huawei"};return t&&(n.model=t),n}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?) Version\//],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet}}},{test:function(e){var t=e.test(/ipod|iphone/i),n=e.test(/like (ipod|iphone)/i);return t&&!n},describe:function(e){var t=i.default.getFirstMatch(/(ipod|iphone)/i,e);return{type:o.PLATFORMS_MAP.mobile,vendor:"Apple",model:t}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:function(){return{type:o.PLATFORMS_MAP.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe:function(){return{type:o.PLATFORMS_MAP.mobile}}},{test:function(e){return"blackberry"===e.getBrowserName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.mobile,vendor:"BlackBerry"}}},{test:function(e){return"bada"===e.getBrowserName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.mobile}}},{test:function(e){return"windows phone"===e.getBrowserName()},describe:function(){return{type:o.PLATFORMS_MAP.mobile,vendor:"Microsoft"}}},{test:function(e){var t=Number(String(e.getOSVersion()).split(".")[0]);return"android"===e.getOSName(!0)&&3<=t},describe:function(){return{type:o.PLATFORMS_MAP.tablet}}},{test:function(e){return"android"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.mobile}}},{test:function(e){return"macos"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.desktop,vendor:"Apple"}}},{test:function(e){return"windows"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.desktop}}},{test:function(e){return"linux"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.desktop}}},{test:function(e){return"playstation 4"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.tv}}},{test:function(e){return"roku"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.tv}}}];t.default=a,e.exports=t.default},95:function(e,t,n){t.__esModule=!0,t.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},o=n(18),a=[{test:function(e){return"microsoft edge"===e.getBrowserName(!0)},describe:function(e){if(/\sedg\//i.test(e))return{name:o.ENGINE_MAP.Blink};var t=i.default.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,e);return{name:o.ENGINE_MAP.EdgeHTML,version:t}}},{test:[/trident/i],describe:function(e){var t={name:o.ENGINE_MAP.Trident},n=i.default.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:function(e){return e.test(/presto/i)},describe:function(e){var t={name:o.ENGINE_MAP.Presto},n=i.default.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:function(e){var t=e.test(/gecko/i),n=e.test(/like gecko/i);return t&&!n},describe:function(e){var t={name:o.ENGINE_MAP.Gecko},n=i.default.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/(apple)?webkit\/537\.36/i],describe:function(){return{name:o.ENGINE_MAP.Blink}}},{test:[/(apple)?webkit/i],describe:function(e){var t={name:o.ENGINE_MAP.WebKit},n=i.default.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}}];t.default=a,e.exports=t.default}},r={},i.m=n,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=90);function i(e){if(r[e])return r[e].exports;var t=r[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,i),t.l=!0,t.exports}var n,r},e.exports=n()}),Wt=Ht(Gt),Yt=(Gt.bowser,"undefined"!=typeof window&&window.User&&window.User.userAgent||navigator.userAgent||""),qt=Zt();function Zt(){return Wt.getParser(Yt)}function Xt(){return qt.getBrowserName()}function Qt(){return qt.getBrowserVersion()}function Jt(){return/\sVC\//.test(Yt)}function $t(){return/DE/.test(Yt)}function en(t,e){var n,r=y()(t);return m.a&&(n=m()(t),e&&(n=h()(n).call(n,function(e){return p()(t,e).enumerable})),r.push.apply(r,n)),r}function tn(t){for(var e=1;e<arguments.length;e++){var n,r,i=null!=arguments[e]?arguments[e]:{};e%2?d()(n=en(Object(i),!0)).call(n,function(e){E()(t,e,i[e])}):c.a?a()(t,c()(i)):d()(r=en(Object(i))).call(r,function(e){o()(t,e,p()(i,e))})}return t}var nn=ee.a.CancelToken,rn=an(),on="/download/all";function an(){var e="".split(",");return{isTxtDev:M()(e).call(e,"txt"),isPdfDev:M()(e).call(e,"pdf"),isExcelDev:M()(e).call(e,"excel")}}function sn(e){var t=document.cookie.match(new RegExp("(?:^|;)\\s*".concat(e,"=([^;]+)")));return window.decodeURIComponent(t?t[1]:"")}function cn(){return(0<arguments.length&&void 0!==arguments[0]?arguments[0]:"").replace(/\/+(\?)|\/+$/,"$1")}function un(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"";return/^https?:/.test(e)?e:(/^\/\//.test(e)?"https:":"https://").concat(e)}function ln(){var e,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];return J()(e=h()(t).call(t,function(e){return e&&Object(re.a)(e)})).call(e,un)}var dn=window.location,pn=dn.protocol,fn=dn.hostname,hn=X()(Vt="".concat(pn,"//")).call(Vt,fn,":3004"),gn=X()(Kt="".concat(pn,"//")).call(Kt,fn,":3005"),mn=function(){function t(e){C()(this,t),this.isInVC=Jt(),this.driveSDKAPPID="",this.axiosInstance=e.customRequest||ee.a.create({}),this.isDriveSDK=e.isDriveSDK,this.seclinkEnabled=Boolean(e.seclinkEnabled),this.mountPointType=e.mountPoint?e.mountPoint.type:"",this.driveSDKAPPID=Lt(e.mountPoint),this.templateDevConfig=rn,this.updateAuthExtra(e.authExtra),this.updateEnvConfigProps(e)}function e(e,t){return n.apply(this,arguments)}var n,r,i,o,a;function s(e,t){return r.apply(this,arguments)}function c(){return i.apply(this,arguments)}function u(e){return o.apply(this,arguments)}function l(e){return a.apply(this,arguments)}return O()(t,[{key:"updateEnvConfigProps",value:function(e){this.isLocalhost="boolean"==typeof e.isLocalhost&&e.isLocalhost,this.isOnlineEnv=Boolean(e.isOnlineEnv),this.fileUrlPrefix=e.fileUrlPrefix||"",this.apiHosts=ln(e.apiHosts),this.driveApiHosts=ln(e.driveApiHosts)||[],this.docsDomain=e.docsDomain?un(e.docsDomain):void 0,this.fileWebOfficeDomain=e.fileWebOfficeDomain,this.updatePreviewTplSeed=e.updatePreviewTplSeed,this.isLocalhost&&(this.apiHosts[0]!==window.location.origin&&this.apiHosts.unshift(window.location.origin),this.driveApiHosts[0]!==window.location.origin&&this.driveApiHosts.unshift(window.location.origin)),this.slardarConfig=e.slardarConfig}},{key:"updateAuthExtra",value:function(e){this.authExtra=e}},{key:"prependAPI",value:function(e,t){var n;if(/^https?:/.test(e))return e;var r,i=t||this.getAPIHost(),o="".concat(i,"/space");return/^\//.test(e)?X()(r="".concat(o)).call(r,e):X()(n="".concat(o,"/")).call(n,e)}},{key:"getAPIHost",value:function(){return this.apiHosts[0]}},{key:"getDriveAPIHost",value:function(){return this.driveApiHosts[0]||this.getAPIHost()}},{key:"getCodeTemplateHost",value:function(){return this.templateDevConfig.isTxtDev?hn:this.getDriveAPIHost()}},{key:"getBoxCodeIframeSrc",value:function(e){var t,n,r={updatePreviewTplSeed:this.updatePreviewTplSeed||""},i=this.getCodeTemplateHost(),o=Ut(Bt[e]),a=X()(t="".concat(this.genGetPreviewTemplateUrl(e,o,i))).call(t,yt(r,"&")),s=this.templateDevConfig.isTxtDev?X()(n="".concat(i,"/")).call(n,e,"/index.html"):a;return this.getUrlWithSeclinkSuffix(s)}},{key:"getExcelTemplateHost",value:function(){return this.templateDevConfig.isExcelDev?hn:this.getDriveAPIHost()}},{key:"getExcelIframeSrc",value:function(){var e,t={updatePreviewTplSeed:this.updatePreviewTplSeed||""},n=this.getExcelTemplateHost(),r=Ut(Ft),i=X()(e="".concat(this.genGetPreviewTemplateUrl(_e.T.EXCEL,r,n))).call(e,yt(t,"&")),o=this.templateDevConfig.isExcelDev?"".concat(n,"/excel/index.html"):i;return this.getUrlWithSeclinkSuffix(o)}},{key:"getPdfTemplateHost",value:function(){return this.templateDevConfig.isPdfDev?gn:this.getDriveAPIHost()}},{key:"getPdfIframePrefix",value:function(){var e,t={updatePreviewTplSeed:this.updatePreviewTplSeed||""},n=this.getPdfTemplateHost(),r=Ut(jt),i=this.templateDevConfig.isPdfDev?"".concat(n,"/web/viewer.html"):X()(e="".concat(this.genGetPreviewTemplateUrl(_e.T.PDF,r,n))).call(e,yt(t,"&"));return this.getUrlWithSeclinkSuffix(i)}},{key:"getUrlWithSeclinkSuffix",value:function(e){if(!this.seclinkEnabled)return e;var t=M()(e).call(e,"?")?"&":"?";return e+this.getSeclinkSuffix(t)}},{key:"getSeclinkSuffix",value:function(e){var t={sl:1,source:this.mountPointType};return this.seclinkEnabled?yt(t,e):""}},{key:"changeMediaAPIHost",value:function(e){var t=e;return e&&(t=e.replace(/^https?:\/\/internal-api[^\/]*/,this.getDriveAPIHost())),t}},{key:"request",value:(a=B()(j.a.mark(function e(t){var n,r;return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.axiosInstance(t);case 3:if(n=e.sent,r=n.data,Object(ie.a)(r)&&0!==r.code)throw{response:n};e.next=7;break;case 7:if(Object(re.a)(r))return e.abrupt("return",r);e.next=9;break;case 9:return e.abrupt("return",r.data);case 12:if(e.prev=12,e.t0=e.catch(0),e.t0.response)throw e.t0.response.data;e.next=16;break;case 16:throw e.t0;case 17:case"end":return e.stop()}},e,this,[[0,12]])})),l)},{key:"rawRequest",value:(o=B()(j.a.mark(function e(t){var n;return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.axiosInstance(t);case 3:return n=e.sent,e.abrupt("return",n);case 7:throw e.prev=7,e.t0=e.catch(0),e.t0;case 10:case"end":return e.stop()}},e,this,[[0,7]])})),u)},{key:"isCancelError",value:function(e){return ee.a.isCancel(e)}},{key:"internalFetch",value:function(e,t,n){var r,i,o=n.data,a=n.opts,s=M()(e).call(e,on)?"stream.download.all":e.replace(/(?:^.*\/\/[^\/]+\/)|(?:\/*(?:\?.*)?$)/g,"").replace(/\//g,"."),c=a&&a.ignoreInterceptors?W()(r=this.rawRequest).call(r,this):W()(i=this.request).call(i,this),u=tn({method:t,data:o,withCredentials:!0},a,{url:e,headers:tn({"X-CSRFToken":sn("_csrf_token")||"","x-command":s,"x-request-id":ft(32)},a?a.headers:null)});return this.isInVC&&(u.headers["X-Scenario"]=100001),this.isDriveSDK&&(u.headers["x-drivesdk-app-id"]=this.driveSDKAPPID),c(u)}},{key:"post",value:function(e,t,n){return this.internalFetch(e,"post",{data:t,opts:n})}},{key:"get",value:function(e,t,n){return this.internalFetch(e,"get",{data:t,opts:n})}},{key:"head",value:function(e,t,n){return this.internalFetch(e,"head",{data:t,opts:n})}},{key:"downloadGet",value:function(e,t){return this.internalFetch(e,"get",{opts:tn({},t,{ignoreInterceptors:!0})})}},{key:"downloadFile",value:function(){var e=1<arguments.length?arguments[1]:void 0,t=cn(0<arguments.length&&void 0!==arguments[0]?arguments[0]:"");return this.downloadGet(t,tn({},e,{responseType:"blob"}))}},{key:"getPreviewSource",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=cn(e),r=M()(n).call(n,on)?"stream.download.all":"stream.download.preview";return this.downloadGet(n,{headers:tn({"x-command":r},t)})}},{key:"getDownloadUrl",value:function(e){var t,n=e.fileToken,r=e.dataVersion,i=this.isDriveSDK?{app_id:this.driveSDKAPPID,app_file_id:n,auth_extra:this.authExtra}:{version:r},o=this.isDriveSDK?"/api/box/stream/sdk/download/all/":"/api/box/stream/download/all/".concat(n),a=X()(t="".concat(o)).call(t,yt(gt(i)));return this.prependAPI(a,this.getDriveAPIHost())}},{key:"getEnvConfig",value:(i=B()(j.a.mark(function e(){var t,n,r;return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.isLocalhost?window.location.origin:this.docsDomain,n=this.prependAPI("/api/infra/domains/all",t),e.next=4,this.get(n);case 4:return r=e.sent,e.abrupt("return",r);case 6:case"end":return e.stop()}},e,this)})),c)},{key:"getFileInfo",value:(r=B()(j.a.mark(function e(t,n){var r,i,o,a,s,c,u,l,d,p,f,h;return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.fileToken,i=t.caller,o=t.mountPoint,a=t.version,s=t.getDisabledPreviewComponents,c=this.isDriveSDK?"/api/box/sdk/file/info/":"/api/box/file/info/",u=this.isDriveSDK?{app_id:this.driveSDKAPPID,app_file_id:r,auth_extra:this.authExtra,option_params:["save_status","preview_meta"]}:{version:a,caller:i,file_token:r,mount_point:o?o.type:void 0,mount_node_token:o?o.token:void 0,option_params:["preview_meta"]},l=this.prependAPI(c),e.next=6,this.post(l,gt(u),n);case 6:if((d=e.sent).available_preview_type=ct(d,s),p=Object(ne.default)(d,"preview_meta.data"),Object(ie.a)(p))for(h in f=this.isDriveSDK?void 0:d.data_version,p)p[h]=this.filterPreviewInfo({fileToken:r,mountPoint:o,dataVersion:f,previewInfo:p[h],previewType:Number(h)});return e.abrupt("return",d);case 11:case"end":return e.stop()}},e,this)})),s)},{key:"getPreviewUrl",value:(n=B()(j.a.mark(function e(t,n){var r,i,o,a,s,c,u,l,d;return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.fileToken,i=t.mountPoint,o=t.previewType,a=t.dataVersion,s=this.isDriveSDK?"/api/box/sdk/preview/get/":"/api/box/preview/get/",c=this.isDriveSDK?{app_id:this.driveSDKAPPID,app_file_id:r,auth_extra:this.authExtra,preview_type:o}:{version:a,file_token:r,mount_point:i?i.type:void 0,mount_node_token:i?i.token:void 0,preview_type:o},u=this.prependAPI(s),e.next=6,this.post(u,gt(c),n);case 6:return l=e.sent,d=this.filterPreviewInfo({previewInfo:l,fileToken:r,mountPoint:i,previewType:o,dataVersion:a}),e.abrupt("return",d);case 9:case"end":return e.stop()}},e,this)})),e)},{key:"filterPreviewInfo",value:function(e){var t,n,r=this,i=e.previewInfo,o=e.fileToken,a=e.mountPoint,s=e.previewType,c=e.dataVersion;return i&&(i.preview_url&&(i.preview_url=this.getTranscodedPreviewUrl({fileToken:o,mountPoint:a,previewType:s,dataVersion:c})),i.content&&i.content.transcode_urls&&(n=this.isDriveSDK?"&app_id=".concat(this.driveSDKAPPID):"",d()(t=y()(i.content.transcode_urls)).call(t,function(e){i.content.transcode_urls[e]=r.changeMediaAPIHost(i.content.transcode_urls[e])+n}))),i}},{key:"genOriginalPreviewUrl",value:function(e){var t=e.fileToken,n=e.dataVersion,r=e.mountPoint;return this.getTranscodedPreviewUrl({fileToken:t,dataVersion:n,mountPoint:r,previewType:Ee.m.ORIGIN_FILE})}},{key:"getTranscodedPreviewUrl",value:function(e){var t,n=e.fileToken,r=e.previewType,i=e.dataVersion,o=this.isDriveSDK?{app_id:this.driveSDKAPPID,app_file_id:n,auth_extra:this.authExtra,preview_type:r}:{preview_type:r,version:i},a=this.isDriveSDK?"/api/box/stream/sdk/download/preview/":"/api/box/stream/download/preview/".concat(n),s=X()(t="".concat(a)).call(t,yt(gt(o)));return this.prependAPI(s,this.getDriveAPIHost())}},{key:"getFilePermission",value:function(e){var t=this.isDriveSDK?"/api/box/sdk/file/permission/":"/api/box/file/permission/",n=this.isDriveSDK?{app_id:this.driveSDKAPPID,app_file_id:e,auth_extra:this.authExtra}:{file_token:e},r=this.prependAPI(t);return this.post(r,gt(n))}},{key:"getThirdPartyAccessToken",value:function(e,t){var n="/api/box/third/access_token/",r=this.prependAPI(n),i={file_token:e,third_source:t};return this.post(r,gt(i))}},{key:"saveFileToDrive",value:function(e,t){var n=this.isDriveSDK?"/api/box/stream/sdk/file/save/":"/api/box/file/save/",r=this.isDriveSDK?{app_id:this.driveSDKAPPID,app_file_id:e,auth_extra:this.authExtra}:{name:t,file_token:e},i=this.prependAPI(n);return this.post(i,gt(r))}},{key:"getFileUrlInSuite",value:function(e){var t;return X()(t="".concat(this.fileUrlPrefix,"/file/")).call(t,e)}},{key:"getFileCoverUrl",value:function(e){var t,n=e.fileToken,r=e.useSmallSize?850:1280,i=this.isDriveSDK?{app_id:this.driveSDKAPPID,app_file_id:n,auth_extra:this.authExtra,width:r,height:r,policy:"near"}:{width:r,height:r,policy:"near",rnd:Math.random()},o=this.isDriveSDK?"/api/box/stream/sdk/download/cover/":"/api/box/stream/download/v2/cover/".concat(n),a=X()(t="".concat(o)).call(t,yt(gt(i)));return this.prependAPI(a,this.getDriveAPIHost())}},{key:"genGetPreviewTemplateUrl",value:function(e,t,n){var r,i,o,a=this.isDriveSDK?"&app_id=".concat(this.driveSDKAPPID):"",s=this.isDriveSDK?"/api/box/stream/sdk/download/preview_tpl3/":"/api/box/stream/download/preview_tpl3/";return this.prependAPI(X()(r=X()(i=X()(o="".concat(s,"?tpl_id=")).call(o,e,"&version=")).call(i,t)).call(r,a),n)}},{key:"getWPSDomain",value:function(e){return e&&this.isLocalhost?window.location.origin:un(this.fileWebOfficeDomain)}},{key:"getAuthExtra",value:function(){return this.authExtra}}]),t}(),vn=pe.a.createContext({}),yn=function(e){return"#"===e.charAt(0)?e.slice(1):e},bn=function(e){var t=3===e.length||4===e.length;return{r:t?"".concat(e.slice(0,1)).concat(e.slice(0,1)):e.slice(0,2),g:t?"".concat(e.slice(1,2)).concat(e.slice(1,2)):e.slice(2,4),b:t?"".concat(e.slice(2,3)).concat(e.slice(2,3)):e.slice(4,6),a:(t?"".concat(e.slice(3,4)).concat(e.slice(3,4)):e.slice(6,8))||"ff"}},En=function(e){return parseInt(e,16)},_n=function(e){var t=e.r,n=e.g,r=e.b,i=e.a;return{r:En(t),g:En(n),b:En(r),a:+(En(i)/255).toFixed(2)}},An=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},Cn=function(e,t){var n=e.r,r=e.g,i=e.b,o=e.a,a=An(t)?t:o;return"rgba(".concat(n,", ").concat(r,", ").concat(i,", ").concat(a,")")},Tn=function(e,t){var n=yn(e),r=bn(n),i=_n(r);return Cn(i,t)};function On(){var e=De()(["\n  cursor: pointer;\n  width: 40px;\n  height: 32px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  svg path {\n    fill: ",";\n  }\n  &:hover > svg path {\n    fill: ",";\n  }\n"]);return On=function(){return e},e}function kn(){var e=De()(["\n  cursor: pointer;\n  line-height: 24px;\n  pointer-events: ",";\n  &:hover > svg path {\n    fill: ",";\n  }\n"]);return kn=function(){return e},e}function Sn(){var e=De()(["\n  margin: 0 8px;\n  line-height: 22px;\n  color: ",";\n  user-select: none;\n"]);return Sn=function(){return e},e}function wn(){var e=De()(["\n  margin-left: 12px;\n  display: flex;\n  justify-content: space-around;\n"]);return wn=function(){return e},e}function In(){var e=De()(["\n  flex: 1;\n  outline: none;\n  border: none;\n  font-size: 14px;\n"]);return In=function(){return e},e}function xn(){var e=De()(["\n  flex: 1;\n  margin-left: 8px;\n  display: flex;\n  border: ",";\n  border-radius: 4px;\n  padding: 4px 8px;\n  cursor: default;\n  transition: border 0.3s ease-in;\n  height: 32px;\n  box-sizing: border-box;\n  font-size: 14px;\n"]);return xn=function(){return e},e}function Ln(){var e=De()(["\n  font-size: 14px;\n  user-select: none;\n"]);return Ln=function(){return e},e}function Rn(){var e=De()(["\n  cursor: move;\n  background: ",";\n  position: fixed;\n  top: 64px;\n  right: 0;\n  border: 1px solid ",";\n  border-radius: 4px;\n  box-shadow: 0 3px 12px 2px ",";\n  padding: 14px 0 14px 14px;\n  box-sizing: border-box;\n  min-width: 380px;\n  display: flex;\n  align-items: center;\n"]);return Rn=function(){return e},e}function Nn(){var e=De()(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  ",";\n"]);return Nn=function(){return e},e}function Dn(){var e=De()(["\n  width: 100%;\n  height: 100%;\n  z-index: ",";\n"]);return Dn=function(){return e},e}var Mn=Object(Me.css)(Dn(),Je),Pn=Me.default.div(Nn(),function(e){return e.isDragging?Mn:null}),jn=Me.default.div(Rn(),Pe.N00,Pe.N300,Tn(Pe.N900,.1)),Fn=Me.default.div(Ln()),Bn=Me.default.div(xn(),function(e){return"1px solid ".concat(e.inputFocus?Pe.B500:Pe.N300)}),Un=Me.default.input(In()),Hn=Me.default.div(wn()),zn=Me.default.span(Sn(),Pe.N900),Vn=Me.default.span(kn(),function(e){return"".concat(e.isDisabled?"none":"auto")},Pe.B500),Kn=Me.default.div(On(),Pe.N500,Pe.N900),Gn=function(e){e.styles;var t=Ue()(e,["styles"]);return pe.a.createElement("svg",Fe()({width:"12",height:"12",viewBox:"0 0 12 12"},t),pe.a.createElement("path",{d:"M3.7 6l4.65-4.65a.5.5 0 10-.7-.7L2.29 6l5.36 5.35a.5.5 0 10.7-.7L3.71 6z",fill:"#1F2329",fillRule:"nonzero"}))},Wn=function(e){e.styles;var t=Ue()(e,["styles"]);return pe.a.createElement("svg",Fe()({width:"12",height:"12",viewBox:"0 0 12 12",fill:"#424E5D"},t),pe.a.createElement("path",{d:"M8.09 6L3.44 1.35a.5.5 0 11.7-.7L9.5 6l-5.35 5.35a.5.5 0 01-.71-.7L8.09 6z"}))},Yn=function(e){e.styles;var t=Ue()(e,["styles"]);return pe.a.createElement("svg",Fe()({width:"24",height:"24",viewBox:"0 0 24 24"},t),pe.a.createElement("g",{fill:"none",fillRule:"evenodd"},pe.a.createElement("g",{fill:"#2B2F36"},pe.a.createElement("path",{d:"M17.73 5.46l1.06 1.06L6.77 18.54l-1.06-1.06z"}),pe.a.createElement("path",{d:"M6.52 5.7l12.02 12.03-1.06 1.06L5.46 6.77z"}))))},qn="box-preview-findbar",Zn="".concat(qn,"-form-box"),Xn=500,Qn=function(e){function n(){var t;return C()(this,n),(t=S()(this,I()(n).apply(this,arguments))).isComposing=!1,t.inputRef=null,t.state={currentIndex:0,total:0,isInSearchMode:!1,inputFocus:!1,isDragging:!1},t.handleDocumentKeyDown=function(e){27===e.keyCode&&t.closeFindbar()},t.handleFindbarStateUpdated=function(e){e&&t.setState({currentIndex:e.currentIndex,total:e.total})},t.triggerFind=function(){var e;t.isComposing||(e=Boolean(t.inputRef&&t.inputRef.value),t.setState({isInSearchMode:e}),t.emitFindbarEvent(Ee.i.FIND_START))},t.toPrevMatchedText=function(){t.emitFindbarEvent(Ee.i.FIND_TO_PREV)},t.toNextMatchedText=function(){t.emitFindbarEvent(Ee.i.FIND_TO_NEXT)},t.handleInputFocus=function(){t.setState({inputFocus:!0})},t.handleInputBlur=function(){t.setState({inputFocus:!1})},t.closeFindbar=function(){t.props.eventBus.toggleFindbarOpen(!1)},t.addDraggingMask=function(){t.setState({isDragging:!0})},t.removeDraggingMask=function(){t.setState({isDragging:!1})},t.handleCompositionStart=function(){t.isComposing=!0},t.handleCompositionEnd=function(){t.isComposing=!1},t.debounceFind=Object(oe.default)(t.triggerFind,Xn),t.setInputRef=function(e){return t.inputRef=e},t}return L()(n,e),O()(n,[{key:"componentDidMount",value:function(){this.handleEventFromBus(Ee.g.ON),document.addEventListener("keydown",this.handleDocumentKeyDown,!1)}},{key:"componentWillUnmount",value:function(){this.handleEventFromBus(Ee.g.OFF),document.removeEventListener("keydown",this.handleDocumentKeyDown,!1)}},{key:"handleEventFromBus",value:function(e){var t=this.props.eventBus;t&&t[e](Ee.b.FIND_BAR_STATE_UPDATED,this.handleFindbarStateUpdated)}},{key:"emitFindbarEvent",value:function(e){this.inputRef&&this.props.eventBus.safelyEmit(Ee.b.OPERATION,{operationType:e,source:_e.E.TOOLBAR,operationExtraData:{findText:this.inputRef.value}})}},{key:"render",value:function(){var e,t=this.props.i18n,n=this.state,r=n.currentIndex,i=n.total,o=n.isInSearchMode,a=n.inputFocus,s=n.isDragging,c=0===i;return Object(xe.createPortal)(pe.a.createElement(Pn,{isDragging:s,"data-sel":"".concat(qn,"-mask")},pe.a.createElement(Re.a,{bounds:"body",cancel:"[data-sel=".concat(Zn,"]"),onStart:this.addDraggingMask,onStop:this.removeDraggingMask},pe.a.createElement(jn,{"data-sel":qn},pe.a.createElement(Fn,{"data-sel":"".concat(qn,"-label")},t["common.find"]),pe.a.createElement(Bn,{"data-sel":Zn,inputFocus:a},pe.a.createElement(Un,{autoFocus:!0,innerRef:this.setInputRef,type:"text","data-sel":"".concat(qn,"-input"),onChange:this.debounceFind,placeholder:t["common.find_placeholder"],onFocus:this.handleInputFocus,onBlur:this.handleInputBlur,onCompositionStart:this.handleCompositionStart,onCompositionEnd:this.handleCompositionEnd}),o&&pe.a.createElement(Hn,{"data-sel":"".concat(qn,"-result-box")},pe.a.createElement(Vn,{"data-sel":"".concat(qn,"-left-arrow"),onClick:this.toPrevMatchedText,isDisabled:c},pe.a.createElement(Gn,null)),pe.a.createElement(zn,{"data-sel":"".concat(qn,"-result")},X()(e="".concat(r," / ")).call(e,i)),pe.a.createElement(Vn,{"data-sel":"".concat(qn,"-right-arrow"),onClick:this.toNextMatchedText,isDisabled:c},pe.a.createElement(Wn,null)))),pe.a.createElement(Kn,{"data-sel":"".concat(qn,"-close"),onClick:this.closeFindbar},pe.a.createElement(Yn,null))))),document.body)}}]),n}(n.PureComponent);function Jn(){var e=De()(["\n  margin-top: 24px;\n  font-size: 14px;\n  font-weight: 400;\n  color: ",";\n  line-height: 16px;\n  user-select: none;\n"]);return Jn=function(){return e},e}function $n(){var e=De()(["\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  top: 0;\n  left: 0;\n  transform: translateX(-100%);\n  background: ",";\n  border-radius: 1px;\n  transition: transform ease 0.3s;\n"]);return $n=function(){return e},e}function er(){var e=De()(["\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  top: 0;\n  left: 0;\n  background: ",";\n"]);return er=function(){return e},e}function tr(){var e=De()(["\n  width: 100%;\n  height: 4px;\n  margin-top: 24px;\n  position: relative;\n  border-radius: 1px;\n  overflow: hidden;\n"]);return tr=function(){return e},e}function nr(){var e=De()(["\n  top: ",";\n  width: 240px;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  align-items: center;\n  position: relative;\n"]);return nr=function(){return e},e}var rr=Me.default.div(nr(),function(e){return e.isMobile&&"-10%"}),ir=Me.default.div(tr()),or=Me.default.div(er(),Pe.N300),ar=Me.default.div($n(),Pe.B500),sr=Me.default.div(Jn(),Pe.N500),cr="box-preview-loading",ur=function(e){function t(){var a;return C()(this,t),(a=S()(this,I()(t).apply(this,arguments))).renderFileIcon=function(e){var t=a.props,n=t.isMobile,r=t.DriveIcon,i=t.DriveCircularIcon,o={"file-name":e,"data-sel":"".concat(cr,"-progress-icon"),width:80};return n&&i?pe.a.createElement(i,de()({},o)):pe.a.createElement(r,de()({},o))},a}return L()(t,e),O()(t,[{key:"render",value:function(){var e=this.props,t=e.progress,n=e.i18n,r=e.fileName,i=e.isMobile,o="translateX(-".concat(100-t,"%)");return pe.a.createElement(rr,{"data-sel":cr,isMobile:i},this.renderFileIcon(r),pe.a.createElement(sr,{"data-sel":"".concat(cr,"-text")},n["common.loading"]),pe.a.createElement(ir,{"data-sel":"".concat(cr,"-progress-wrapper")},pe.a.createElement(or,{"data-sel":"".concat(cr,"-progress-total")}),pe.a.createElement(ar,{"data-sel":"".concat(cr,"-progress-current"),style:{transform:o}})))}}]),t}(n.PureComponent),lr=function(e){e.styles;var t=Ue()(e,["styles"]);return pe.a.createElement("svg",Fe()({width:"133",height:"126",viewBox:"0 0 133 126",xmlnsXlink:"http://www.w3.org/1999/xlink"},t),pe.a.createElement("defs",null,pe.a.createElement("path",{id:"P78uA5-1a",d:"M0 125.54h132.62V.1H0z"})),pe.a.createElement("g",{fill:"none",fillRule:"evenodd"},pe.a.createElement("path",{d:"M-13-18h160v160H-13z"}),pe.a.createElement("path",{fill:"#D6DAE1",d:"M.33 106.14h112.01V14.58H.34z"}),pe.a.createElement("path",{fill:"#F4F5F9",d:"M96.4 37.82l-9.77 62.89L9.7 88.76l9.77-62.89z"}),pe.a.createElement("path",{d:"M26.26 82.2l5.85-45.45M33.9 83.9l5.85-45.45",stroke:"#FFF",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),pe.a.createElement("g",{transform:"translate(.33 .1)"},pe.a.createElement("path",{d:"M132.26 91.49a39.38 39.38 0 11-78.04-10.66 39.38 39.38 0 0178.04 10.66",fill:"#FFC200"}),pe.a.createElement("mask",{id:"pizqUS-2b",fill:"#fff"},pe.a.createElement("use",{xlinkHref:"#P78uA5-1a"})),pe.a.createElement("path",{fill:"#B5BEC8",mask:"url(#pizqUS-2b)",d:"M0 15.1h33.48V.1H0z"}),pe.a.createElement("path",{d:"M68.18 84.4s24.72 23.42 50.75 0M77.94 91.55L73.38 100M93.55 95.45v10.41M108.52 92.2l6.5 7.16",stroke:"#18263C",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",mask:"url(#pizqUS-2b)"}))))};function dr(){var e=De()(["\n  margin-right: 16px;\n  border: 1px solid ",";\n"]);return dr=function(){return e},e}function pr(){var e=De()(["\n  margin-top: 16px;\n"]);return pr=function(){return e},e}function fr(){var e=De()(["\n  margin-top: 4px;\n  font-size: 14px;\n  font-weight: 400;\n  color: ",";\n  line-height: 20px;\n"]);return fr=function(){return e},e}function hr(){var e=De()(["\n  margin-top: 16px;\n  font-size: 20px;\n  font-weight: 400;\n  color: ",";\n  line-height: 28px;\n"]);return hr=function(){return e},e}function gr(){var e=De()(["\n  width: 160px;\n  height: 160px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]);return gr=function(){return e},e}function mr(){var e=De()(["\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n"]);return mr=function(){return e},e}var vr=Me.default.div(mr()),yr=Me.default.div(gr()),br=Me.default.div(hr(),Pe.N900),Er=Me.default.div(fr(),Pe.N600),_r=Me.default.div(pr()),Ar=Object(Me.default)(He.Button)(dr(),Tn(Pe.N400,.5)),Cr="box-preview-not-previewable",Tr=function(e){function t(){var r;return C()(this,t),(r=S()(this,I()(t).apply(this,arguments))).retryHandler=function(){var e=r.props,t=e.retryPreview,n=e.contextValue.eventBus;t(),n.safelyEmit(Ee.b.OPERATION,{operationType:Ee.i.RETRY,source:_e.E.NOT_PREVIEWABLE_COMPONENT})},r.downloadFile=function(){var e=r.props.contextValue,t=e.eventBus,n=e.downloadFile;t.safelyEmit(Ee.b.OPERATION,{operationType:Ee.i.DOWNLOAD_START,source:_e.E.NOT_PREVIEWABLE_COMPONENT}),n()},r.tryRenderWithTooltip=function(e,t){return t?pe.a.createElement(He.Tooltip,{title:r.props.contextValue.i18n["common.no_authority"]},pe.a.createElement("div",{style:{padding:"0 6px"}},e)):e},r}return L()(t,e),O()(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.shouldNotUpdateProgress,n=e.contextValue;t||n.updateProgress(100)}},{key:"render",value:function(){var e,t=this.props,n=t.errorType,r=t.contextValue,i=t.isDownloaded,o=t.onOpenLocally,a=r.fileInfo,s=r.permission,c=r.i18n,u=r.authority,l=s.exportable,d=u.downloadable;return pe.a.createElement(vr,{"data-sel":"".concat(Cr,"-container")},pe.a.createElement(yr,{"data-sel":"".concat(Cr,"-placeholder-image")},this.placeholderImage),this.failureInfoText,a&&a.name&&pe.a.createElement(Er,{"data-sel":"".concat(Cr,"-info")},X()(e="".concat(a.name,"  ")).call(e,ut(a.size))),pe.a.createElement(_r,{"data-sel":"".concat(Cr,"-btn-group")},M()(_e.R).call(_e.R,n)&&pe.a.createElement(Ar,{onClick:this.retryHandler},c["common.retry"]),Boolean(i&&o)?pe.a.createElement(He.Button,{type:"primary",disabled:!l,onClick:o},c["common.open_locally"]):this.tryRenderWithTooltip(pe.a.createElement(He.Button,{type:"primary",disabled:!l||!d,onClick:this.downloadFile},c["common.download"]),!d)))}},{key:"placeholderImage",get:function(){return pe.a.createElement(lr,{"data-sel":"".concat(Cr,"-not-supported-icon")})}},{key:"failureInfoText",get:function(){var e,t,n=this.props,r=n.errorType,i=n.contextValue,o=i.fileInfo,a=i.i18n,s=i.isInEditMode;switch(r){case Ee.j.FILE_TYPE_UNSUPPORTED:e=o?".".concat(Object(ke.b)(o.name)," "):"",t=a["common.file_type_not_supported"];break;case Ee.j.FILE_TOO_LARGE:t=a["common.file_too_large"];break;case Ee.j.FILE_EMPTY:t=a["common.file_too_small"];break;case Ee.j.FILE_NEED_PASSWORD:t=a["common.file_need_password"];break;case Ee.j.PROGRESS:t=a["common.file_transcoding"];break;case Ee.j.IFRAME_NETWORK_ERROR:case Ee.j.INTERFACE_ERROR:case Ee.j.WPS_NETWORK_OFFLINE:case Ee.j.WPS_GENERIC_ERROR:t=a["common.network_error"];break;case Ee.j.MEDIA_TYPE_UNSUPPORTED:t=a["video.not_supported"];break;case Ee.j.WPS_FILE_TOO_LARGE:t=s?a["error.wps.file_too_large"]:a["common.file_too_large"];break;case Ee.j.WPS_SESSION_FULL:t=a["error.wps.session_full"];break;case Ee.j.WPS_NO_EDIT_PERMISSION:t=a["error.wps.permission"];break;default:t=a["common.file_preview_failed"]}return pe.a.createElement(br,{"data-sel":"".concat(Cr,"-title")},e?pe.a.createElement("strong",{"data-sel":"".concat(Cr,"-title-strong")},e):null,t)}}]),t}(n.PureComponent);function Or(){var e=De()(["\n  position: absolute;\n  top: 5px;\n  height: 10px;\n  width: 10px;\n  border-radius: 50%;\n  background: ",";\n  opacity: 0.6;\n  transform: translateX(0px);\n\n  &:nth-child(1) {\n    left: 0;\n    -webkit-animation: "," 1.3s infinite ease-in;\n    animation: "," 1.3s infinite ease-in;\n  }\n  &:nth-child(2) {\n    left: 12px;\n    -webkit-animation: "," 1.3s 0.3s infinite ease-in;\n    animation: "," 1.3s 0.3s infinite ease-in;\n  }\n  &:nth-child(3) {\n    left: 24px;\n    -webkit-animation: "," 1.3s 0.6s infinite ease-in;\n    animation: "," 1.3s 0.6s infinite ease-in;\n  }\n"]);return Or=function(){return e},e}function kr(){var e=De()(["\n  position: absolute;\n  display: inline-block;\n  left: 50%;\n  top: 50%;\n  height: 20px;\n  width: 34px;\n  vertical-align: middle;\n  pointer-events: none;\n  transform: translate(-50%, -50%);\n"]);return kr=function(){return e},e}function Sr(){var e=De()(["\n  0%,\n  100%,\n  80% {\n    opacity: 0.6;\n    border-radius: 50%;\n    transform: scale(0.4);\n  }\n  40% {\n    opacity: 1;\n    border-radius: 50%;\n    transform: scale(1);\n  }\n"]);return Sr=function(){return e},e}var wr=Object(Me.keyframes)(Sr()),Ir=Me.default.div(kr()),xr=Me.default.i(Or(),Pe.B500,wr,wr,wr,wr,wr,wr),Lr="box-preview-spin-indicator",Rr=function(){return pe.a.createElement(Ir,{"data-sel":Lr},pe.a.createElement(xr,{"data-sel":"".concat(Lr,"-dot-item")}),pe.a.createElement(xr,{"data-sel":"".concat(Lr,"-dot-item")}),pe.a.createElement(xr,{"data-sel":"".concat(Lr,"-dot-item")}))};function Nr(){var e=De()(["\n  background: ",";\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]);return Nr=function(){return e},e}function Dr(){var e=De()(["\n  background: ",";\n  position: relative;\n  width: 100%;\n  flex: 1;\n  overflow: hidden;\n"]);return Dr=function(){return e},e}var Mr=Me.default.div(Dr(),Pe.N100),Pr=Me.default.div(Nr(),Pe.N100);function jr(t,e){var n,r=y()(t);return m.a&&(n=m()(t),e&&(n=h()(n).call(n,function(e){return p()(t,e).enumerable})),r.push.apply(r,n)),r}function Fr(t){for(var e=1;e<arguments.length;e++){var n,r,i=null!=arguments[e]?arguments[e]:{};e%2?d()(n=jr(Object(i),!0)).call(n,function(e){E()(t,e,i[e])}):c.a?a()(t,c()(i)):d()(r=jr(Object(i))).call(r,function(e){o()(t,e,p()(i,e))})}return t}var Br="box-preview-content",Ur=70,Hr=5e3,zr=1e3,Vr=3e3,Kr=[Ee.j.READY,Ee.j.PROGRESS],Gr=function(e){function t(){var f;return C()(this,t),(f=S()(this,I()(t).apply(this,arguments))).boxPreviewRef=null,f.cancelGettingFileInfo=null,f.triggerUpdateFactor=null,f.errorType=null,f.errorMessage="",f.hasLogFinishEvent=!1,f.defaultState={spinIconIsShowing:!0,previewProgress:0,previewComponent:Ee.n.NULL,renderCustomLoadingComponent:null,showFindbar:!1,coverImg:null,coverLoaded:!1,coverLoadFailed:!1},f.state=f.defaultState,f.handleCopy=function(e){var t,n,r,i,o;f.boxPreviewRef&&f.boxPreviewRef.contains(e.target)&&(n=(t=f.props).permission,r=t.i18n,i=t.showToast,o=t.authority,n.copyable&&o.copyable||(e.preventDefault(),i({key:_e.a.COPY_FAILED,type:"error",content:r["common.can_not_copy"]})))},f.handleContextMenu=function(e){var t,n,r;f.boxPreviewRef&&f.boxPreviewRef.contains(e.target)&&(n=(t=f.props).permission,r=t.authority,n.copyable&&r.copyable&&r.exportable||e.preventDefault())},f.openFindbar=function(){f.setState({showFindbar:!0},function(){f.props.eventBus.safelyEmit(Ee.b.OPERATION,{operationType:Ee.i.FIND_BAR_OPEN,source:_e.E.TOOLBAR})})},f.closeFindbar=function(){f.setState({showFindbar:!1},function(){f.props.eventBus.safelyEmit(Ee.b.OPERATION,{operationType:Ee.i.FIND_BAR_CLOSE,source:_e.E.TOOLBAR})})},f.logOpenFileStatus=function(e,t){var n,r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};f.hasLogFinishEvent||(n=f.state.previewComponent,f.props.eventBus.safelyEmit(Ee.b.FILE_LOAD_FINISH,{result_key:e,result_code:t,extra_message:r,preview_component:n}),f.hasLogFinishEvent=!0)},f.retryPreview=function(){f.clearData({shouldResetInaccessibleCode:!1,shouldResetFileInfo:!1}),f.setData()},f.abortFetching=function(){f.cancelGettingFileInfo&&(f.cancelGettingFileInfo(),f.cancelGettingFileInfo=null)},f.showNotPreviewableComponent=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"";f.errorType?f.props.eventBus.safelyEmit(Ee.b.MULTI_ERROR,{errorType:e,errorMessage:t}):(f.errorType=e,f.errorMessage=t,f.props.eventBus.safelyEmit(Ee.b.NOT_PREVIEWABLE_ERROR,{errorType:e,errorMessage:t}),f.logOpenFileStatus("fail",String(f.getErrorCodeByErrorType(e)),{message_detail:t}),f.getIsUnhandledPreviewStatus(e)||f.setState({previewComponent:Ee.n.ERROR}))},f.transferLoadingToProgressing=function(){var e=f.state,t=e.spinIconIsShowing,n=e.previewProgress;!t||0===n||Ur<=n||f.setState({spinIconIsShowing:!1})},f.updateProgress=function(e){var t=Math.max(0,Math.min(100,e));100===t&&(f.cancelShowToast(),f.setState({spinIconIsShowing:!1})),f.setState({previewProgress:t})},f.cancelShowToast=function(){var e,t=f.props.removeToast;f.toastTimer&&clearTimeout(f.toastTimer),"number"==typeof f.triggerToastTime&&((e=V()()-f.triggerToastTime)<zr?H()(function(){t(_e.a.WAITING_RENDER)},zr-e):t(_e.a.WAITING_RENDER))},f.shouldShowLoadingByState=function(e,t){return e||t<100},f.handlePreviewInfoGot=function(e){var t=e.previewInfo,n=e.previewType,r=f.props.eventBus,i=f.state.previewComponent,o=t&&t.status===Ee.j.READY;r.safelyEmit(Ee.b.FILE_PREVIEW_FETCHED,{previewType:n,previewInfo:t,previewComponent:i,previewReadyTimestamp:o?V()():void 0}),o&&r.safelyEmit(Ee.b.FILE_RENDER_START)},f.setCustomLoadingComponent=function(e){f.setState({renderCustomLoadingComponent:e})},f.renderNotPreviewableComponent=function(t,n){var e=f.props,r=e.isDownloaded,i=e.onOpenLocally;return pe.a.createElement(vn.Consumer,null,function(e){return pe.a.createElement(Tr,{contextValue:e,errorType:t,retryPreview:f.retryPreview,isDownloaded:r,onOpenLocally:i,shouldNotUpdateProgress:n})})},f.renderPDFViewer=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=f.props,n=e.enablePDFProgressCache,r=e.enablePresentationMode,i=e.pdfDefaultZoomValue,o=e.pdfPreloadThreshold,a=e.pdfPrintModalContainer,s=e.pdfRangeChunkSize,c=e.pdfThumbnailDefaultOn,u=e.pdfToolbarConfig,l=e.PDFViewer,d=e.showPDFDigitalSign,p=e.userId;return pe.a.createElement(vn.Consumer,null,function(e){return pe.a.createElement(l,de()({contextValue:e,enablePDFProgressCache:n,enablePresentationMode:r,pdfDefaultZoomValue:i,pdfPreloadThreshold:o,pdfPrintModalContainer:a,pdfThumbnailDefaultOn:c,pdfToolbarConfig:u,rangeChunkSize:s,showPDFDigitalSign:d,userId:p},t))})},f.renderBoxImage=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=f.props,n=e.imageToolbarConfig,r=e.BoxImage;return pe.a.createElement(vn.Consumer,null,function(e){return pe.a.createElement(r,de()({contextValue:e,imageToolbarConfig:n},t))})},f.setBoxPreviewRef=function(e){return f.boxPreviewRef=e},f}function n(){return r.apply(this,arguments)}var r;return L()(t,e),O()(t,[{key:"componentDidMount",value:function(){this.setData(),this.handleEventFromBus(Ee.g.ON),this.listenDOMEvent()}},{key:"componentDidUpdate",value:function(e,t){var n,r,i,o=this.getTriggerUpdateFactorByProps({prevFileToken:e.fileToken,prevDataVersion:e.dataVersion,prevForceUpdateSeed:e.forceUpdateSeed,prevIsInEditMode:e.isInEditMode});null!==o&&(n=(this.triggerUpdateFactor=o)===_e.F.FILE_TOKEN,r=o===_e.F.VERSION,i=n||r,this.clearData({shouldResetFileInfo:i,shouldResetInaccessibleCode:!0}),this.setData()),this.isLoadingEnd(t)&&(this.toggleFindFunctionAvailable(!0),this.props.eventBus.safelyEmit(Ee.b.IS_LOADING_END),this.clearTimeouts()),0===t.previewProgress&&0<this.state.previewProgress&&this.state.previewProgress<100&&this.startToCheckLoadingProgressTimer()}},{key:"componentWillUnmount",value:function(){this.clearData({shouldResetInaccessibleCode:!0,shouldResetFileInfo:!0}),this.handleEventFromBus(Ee.g.OFF),this.unlistenDOMEvent()}},{key:"listenDOMEvent",value:function(){document.addEventListener("copy",this.handleCopy),document.addEventListener("contextmenu",this.handleContextMenu)}},{key:"unlistenDOMEvent",value:function(){document.removeEventListener("copy",this.handleCopy),document.removeEventListener("contextmenu",this.handleContextMenu)}},{key:"handleEventFromBus",value:function(e){var t=this.props.eventBus;t&&(t[e](Ee.b.TRIGGER_FINDBAR_OPEN,this.openFindbar),t[e](Ee.b.TRIGGER_FINDBAR_CLOSE,this.closeFindbar))}},{key:"setData",value:function(){this.fetchFileInfoAndSetPreviewComponent(),this.loadCover(),this.startLoggingFileOpenEvent()}},{key:"clearData",value:function(e){var t=e.shouldResetInaccessibleCode,n=e.shouldResetFileInfo;this.abortFetching(),t&&this.props.resetInaccessibleCode(),n&&this.props.setFileInfo(null),this.setState(this.defaultState),this.clearTimeouts(),this.cancelShowToast(),this.handleUserLeaveLog(),this.props.resetLogParams(),this.toggleFindFunctionAvailable(!1),this.errorType=null,this.errorMessage="",this.hasLogFinishEvent=!1}},{key:"getTriggerUpdateFactorByProps",value:function(e){var t=e.prevFileToken,n=e.prevDataVersion,r=e.prevForceUpdateSeed,i=e.prevIsInEditMode,o=this.props;return bt({prevFileToken:t,prevForceUpdateSeed:r,prevIsInEditMode:i,curFileToken:o.fileToken,curVersion:o.dataVersion,prevVersion:n,curForceUpdateSeed:o.forceUpdateSeed,curIsInEditMode:o.isInEditMode})}},{key:"loadCover",value:function(){var e,t,n=this,r=this.props,i=r.dataVersion,o=r.fileToken,a=r.forceUpdateSeed,s=r.coverSrc,c=r.isInEditMode;Boolean(i)||(e=s||this.getCoverImgUrl(),(t=new Image).onload=function(){n.getTriggerUpdateFactorByProps({prevFileToken:o,prevDataVersion:i,prevForceUpdateSeed:a,prevIsInEditMode:c})||n.setState({coverLoaded:!0})},t.onerror=function(){n.getTriggerUpdateFactorByProps({prevFileToken:o,prevDataVersion:i,prevForceUpdateSeed:a,prevIsInEditMode:c})||n.setState({coverLoadFailed:!0})},t.src=e,this.setState({coverImg:t}))}},{key:"getCoverImgUrl",value:function(){var e=this.props,t=e.networkController,n=e.fileToken,r=this.boxPreviewRef,i=Boolean(r&&r.offsetWidth<1280);return t.getFileCoverUrl({fileToken:n,useSmallSize:i})}},{key:"isLoadingEnd",value:function(e){return Boolean(!this.shouldShowLoadingByState(this.state.spinIconIsShowing,this.state.previewProgress)&&this.shouldShowLoadingByState(e.spinIconIsShowing,e.previewProgress))}},{key:"clearTimeouts",value:function(){this.checkLoadingProgressTimer&&clearTimeout(this.checkLoadingProgressTimer),this.toastTimer&&clearTimeout(this.toastTimer)}},{key:"startLoggingFileOpenEvent",value:function(){this.props.eventBus.safelyEmit(Ee.b.FILE_LOAD_START)}},{key:"handleUserLeaveLog",value:function(){var e=this.state,t=e.spinIconIsShowing,n=e.previewProgress;this.shouldShowLoadingByState(t,n)&&!this.getIsUnhandledPreviewStatus(this.errorType)&&this.logOpenFileStatus("cancel",_e.b.Cancel)}},{key:"toggleFindFunctionAvailable",value:function(e){var t,n=this.state.previewComponent,r=this.props.eventBus;M()(_e.c).call(_e.c,n)&&(t=e?Ee.b.FIND_FUNCTION_AVAILABLE:Ee.b.FIND_FUNCTION_NOT_AVAILABLE,r.safelyEmit(t))}},{key:"fetchFileInfoAndSetPreviewComponent",value:(r=B()(j.a.mark(function e(){var t,n,r,i,o,a,s,c,u,l,d,p=this;return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.props,n=t.mountPoint,r=t.networkController,i=t.setFileInfo,o=t.initialFileInfo,a=t.getDisabledPreviewComponents,e.prev=1,this.startToShowToastTimer(),e.t0=o,e.t0){e.next=8;break}return e.next=7,r.getFileInfo(Fr({},this.commonParams,{},n?null:{caller:_e.C.EXPLORER},{getDisabledPreviewComponents:a,version:this.commonParams.dataVersion}),{cancelToken:new nn(function(e){return p.cancelGettingFileInfo=e})});case 7:e.t0=e.sent;case 8:if(s=e.t0,i(s),c=a(s),u=Object(ke.d)({fileInfo:s,enableWPSComponent:!M()(c).call(c,Ee.n.WPS)}),M()(c).call(c,u))return this.showNotPreviewableComponent(Ee.j.FILE_TYPE_UNSUPPORTED),e.abrupt("return");e.next=15;break;case 15:if(0===s.size||s.preview_status===Ee.j.FILE_EMPTY)return this.showNotPreviewableComponent(Ee.j.FILE_EMPTY),e.abrupt("return");e.next=18;break;case 18:if(u===Ee.n.NULL)return l=!M()(Kr).call(Kr,s.preview_status)&&s.preview_status||Ee.j.FILE_TYPE_UNSUPPORTED,this.showNotPreviewableComponent(l),e.abrupt("return");e.next=22;break;case 22:this.setPreviewComponent(u),e.next=44;break;case 25:if(e.prev=25,e.t1=e.catch(1),r.isCancelError(e.t1))return e.abrupt("return");e.next=29;break;case 29:console.error("Cannot fetch preview data",e.t1),d=e.t1.code&&"number"==typeof e.t1.code?e.t1.code:null,e.t2=d,e.next=e.t2===Ee.f.NOT_FOUND?34:e.t2===Ee.f.DELETED||e.t2===Ee.f.MOUNT_POINT_DELETED?36:e.t2===Ee.f.NO_PERMISSION||e.t2===Ee.f.LOGIN_REQUIRED?38:40;break;case 34:return this.showNotPreviewableComponent(Ee.j.FILE_NOT_FOUND),e.abrupt("break",42);case 36:return this.showNotPreviewableComponent(Ee.j.FILE_DELETED),e.abrupt("break",42);case 38:return this.showNotPreviewableComponent(Ee.j.NO_PERMISSION),e.abrupt("break",42);case 40:return this.showNotPreviewableComponent(Ee.j.GET_FILE_INFO_ERROR),e.abrupt("break",42);case 42:null!==d&&this.props.setPreviewInaccessible(e.t1.code,e.t1.data),i(_e.m);case 44:case"end":return e.stop()}},e,this,[[1,25]])})),n)},{key:"setPreviewComponent",value:function(e){this.setState({previewComponent:e})}},{key:"getErrorCodeByErrorType",value:function(e){return e?_e.d.get(e)||e:_e.b.Unknown}},{key:"getIsUnhandledPreviewStatus",value:function(e){var t=this.props.unhandledPreviewStatus;return Boolean(e&&t&&(t===_e.A||M()(t).call(t,e)))}},{key:"startToShowToastTimer",value:function(){var e=this,t=this.props,n=t.showToast,r=t.i18n;t.isInEditMode||(this.toastTimer=window.setTimeout(function(){e.triggerToastTime=V()(),n({key:_e.a.WAITING_RENDER,type:"info",content:r["common.waiting_render"]})},Hr))}},{key:"startToCheckLoadingProgressTimer",value:function(){this.checkLoadingProgressTimer=window.setTimeout(this.transferLoadingToProgressing,Vr)}},{key:"getFileDataVersion",value:function(){var e=this.props,t=e.dataVersion,n=e.fileInfo;if(!e.isDriveSDK){var r=n&&n.data_version?n.data_version:void 0;return t||r}}},{key:"renderPreviewComponent",value:function(){var e=this.props,t=e.BoxArchive,n=e.BoxCode,r=e.BoxMedia,i=e.BoxSheet,o=e.cooperUserList,a=e.disableMediaPreload,s=e.enableMediaProgressCache,c=e.enableSheetProgressCache,u=e.fileInfo,l=e.PreviewMessageHandler,d=e.renderImageCommentWrapper,p=e.renderPDFCommentWrapper,f=e.WPSOffice,h=e.unsupportedVideoCodec,g=this.state.previewComponent;if(g===Ee.n.NULL)return null;if(g===Ee.n.ERROR||!u)return this.renderNotPreviewableComponent(this.errorType);switch(g){case Ee.n.PDF:return p?p(this.renderPDFViewer):this.renderPDFViewer();case Ee.n.VIDEO:return pe.a.createElement(r,{mediaType:_e.e.VIDEO,enableMediaProgressCache:s,disableMediaPreload:a,PreviewMessageHandler:l,unsupportedVideoCodec:h});case Ee.n.AUDIO:return pe.a.createElement(r,{mediaType:_e.e.AUDIO,disableMediaPreload:a,enableMediaProgressCache:s});case Ee.n.IMG:return d?d(this.renderBoxImage):this.renderBoxImage();case Ee.n.CODE:return pe.a.createElement(vn.Consumer,null,function(e){return pe.a.createElement(n,{contextValue:e})});case Ee.n.ARCHIVE:return pe.a.createElement(vn.Consumer,null,function(e){return pe.a.createElement(t,{contextValue:e})});case Ee.n.SHEET:return pe.a.createElement(vn.Consumer,null,function(e){return pe.a.createElement(i,{contextValue:e,enableSheetProgressCache:c})});case Ee.n.WPS:return pe.a.createElement(f,{cooperUserList:o});default:return null}}},{key:"renderLoadingOrProgressingMask",value:function(){var e=this.props,t=e.i18n,n=e.isMobile,r=e.fileInfo,i=e.DriveIcon,o=e.DriveCircularIcon,a=this.state,s=a.spinIconIsShowing,c=a.previewProgress,u=a.renderCustomLoadingComponent,l=r?r.name:"";return this.shouldShowLoadingByState(s,c)?u?u():pe.a.createElement(Pr,{"data-sel":"".concat(Br,"-loading-wrapper")},s?pe.a.createElement(Rr,null):pe.a.createElement(ur,{progress:c,i18n:t,isMobile:n,fileName:l,DriveIcon:i,DriveCircularIcon:o})):null}},{key:"render",value:function(){var e=this.state.showFindbar,t=this.props,n=t.eventBus,r=t.i18n;return pe.a.createElement(vn.Provider,{value:this.contextValue},pe.a.createElement(Mr,{"data-sel":Br,innerRef:this.setBoxPreviewRef},this.renderPreviewComponent(),this.renderLoadingOrProgressingMask(),e&&pe.a.createElement(Qn,{eventBus:n,i18n:r})))}},{key:"commonParams",get:function(){var e=this.props,t=e.fileToken,n=e.mountPoint,r=e.dataVersion;return n?{fileToken:t,dataVersion:r,mountPoint:n}:{fileToken:t,dataVersion:r}}},{key:"originalPreviewUrl",get:function(){var e=this.props,t=e.networkController,n=e.fileToken,r=e.mountPoint,i=this.getFileDataVersion();return t.genOriginalPreviewUrl({fileToken:n,dataVersion:i,mountPoint:r})}},{key:"contextValue",get:function(){var e=this.props,t=e.fileToken,n=e.fileInfo,r=e.showToast,i=e.permission,o=e.i18n,a=e.eventBus,s=e.networkController,c=e.downloadFile,u=e.renderWatermark,l=e.mountPoint,d=e.maxPollCount,p=e.isVCFollow,f=e.isMobile,h=e.isInEditMode,g=e.userId,m=e.DriveIcon,v=e.DriveCircularIcon,y=e.languageType,b=e.showAnnouncement,E=e.isDriveSDK,_=e.authority,C=e.floatingToolbarHiddenOnStart,T=this.state,O=T.coverLoaded,k=T.coverImg,S=T.coverLoadFailed,w=n?n.name:"";return{fileToken:t,coverImg:k,coverLoaded:O,coverLoadFailed:S,permission:i,eventBus:a,i18n:o,showToast:r,networkController:s,fileType:Object(ke.b)(w),downloadFile:c,fileInfo:n,renderWatermark:u,mountPoint:l,maxPollCount:d,isVCFollow:p,isMobile:f,isInEditMode:h,userId:g,DriveIcon:m,DriveCircularIcon:v,languageType:y,showAnnouncement:b,isDriveSDK:E,dataVersion:this.getFileDataVersion(),authority:_,floatingToolbarHiddenOnStart:C,logOpenFileStatus:this.logOpenFileStatus,handlePreviewInfoGot:this.handlePreviewInfoGot,showNotPreviewableComponent:this.showNotPreviewableComponent,updateProgress:this.updateProgress,setCustomLoadingComponent:this.setCustomLoadingComponent,commonParams:this.commonParams,originalPreviewUrl:this.originalPreviewUrl,renderNotPreviewableComponent:this.renderNotPreviewableComponent}}}]),t}(pe.a.PureComponent),Wr=function(e){e.styles;var t=Ue()(e,["styles"]);return pe.a.createElement("svg",Fe()({width:"24",height:"24",viewBox:"0 0 24 24"},t),pe.a.createElement("path",{d:"M21 18.5V21a1 1 0 01-1 1H4a1 1 0 01-1-1v-2.5c0-.28.22-.5.5-.5h1c.28 0 .5.22.5.5V20h14v-1.5c0-.28.22-.5.5-.5h1c.28 0 .5.22.5.5zm-8-4.46l3.01-3.01c.2-.2.51-.2.7 0l.71.7c.2.2.2.51 0 .7l-4.95 4.96a.5.5 0 01-.7 0l-4.95-4.95a.5.5 0 010-.7l.7-.71c.2-.2.52-.2.71 0L11 13.79V3c0-.28.22-.5.5-.5h1c.28 0 .5.22.5.5v11.04z",fill:"#2B2F36",fillRule:"evenodd"}))},Yr=function(e){var t=e.styles,n=void 0===t?{}:t,r=Ue()(e,["styles"]);return pe.a.createElement("svg",Fe()({className:n.icon||"icon",viewBox:"0 0 1024 1024",width:"24",height:"24"},r),pe.a.createElement("defs",null),pe.a.createElement("path",{d:"M170.67 384v448h682.66V384H170.67zm-85.34-85.33H896a42.67 42.67 0 0142.67 42.66v533.34A42.67 42.67 0 01896 917.33H128a42.67 42.67 0 01-42.67-42.66v-576zM85.33 128H512v85.33H85.33z"}))},qr=function(e){e.styles;var t=Ue()(e,["styles"]);return pe.a.createElement("svg",Fe()({width:"24",height:"24",viewBox:"0 0 24 24"},t),pe.a.createElement("g",{fill:"#2B2F36",fillRule:"evenodd"},pe.a.createElement("path",{d:"M22.99 11.52h-2a7 7 0 00-13.65-1.7l-.33 1.04-1.05.28A4 4 0 007 19h5.4l1.93 2H7A6 6 0 015.44 9.2 9 9 0 0123 11.52z"}),pe.a.createElement("path",{d:"M19.75 18.67V13.5a.5.5 0 00-.5-.5h-1a.5.5 0 00-.5.5v5.18l-1.48-1.48a.5.5 0 00-.7 0l-.72.7a.5.5 0 000 .71l2.83 2.83.7.7c.2.2.52.2.72 0l3.53-3.53a.5.5 0 000-.7l-.7-.71a.5.5 0 00-.71 0l-1.47 1.47z"})))},Zr=function(e){e.styles;var t=Ue()(e,["styles"]);return pe.a.createElement("svg",Fe()({width:"24",height:"24",viewBox:"0 0 24 24"},t),pe.a.createElement("g",{fill:"#2B2F36",fillRule:"evenodd"},pe.a.createElement("path",{d:"M21.56 19.82l1.65 1.65c.2.2.2.51 0 .7l-.85.85a.5.5 0 01-.7 0l-1.6-1.59a4 4 0 111.5-1.6zM18 20a2 2 0 100-4 2 2 0 000 4z"}),pe.a.createElement("path",{d:"M19 7.02h-4V3H5v18h7v2H4a1 1 0 01-1-1V2a1 1 0 011-1h12.5L21 5.71V12h-2V7.02z"})))},Xr=function(e){e.styles;var t=Ue()(e,["styles"]);return pe.a.createElement("svg",Fe()({width:"19",height:"21",viewBox:"0 0 19 21",fill:"none"},t),pe.a.createElement("path",{d:"M14.83 7c-2.99 0-5.35.55-7.33 1.63a10.63 10.63 0 00-4.85 5.44l-.23.6a.5.5 0 01-.47.33H.89a.5.5 0 01-.48-.65l.06-.16c.24-.72.54-1.39.87-2.03a12.62 12.62 0 015.21-5.29c2.23-1.21 4.9-1.86 8.28-1.87l-2.9-2.89a.5.5 0 010-.7l.72-.71c.2-.2.5-.2.7 0l4.95 4.95a.5.5 0 010 .7l-4.95 4.95a.5.5 0 01-.7 0l-.71-.7a.5.5 0 010-.71L14.83 7zM18 17.5V20a1 1 0 01-1 1H1a1 1 0 01-1-1v-2.5c0-.28.22-.5.5-.5h1c.28 0 .5.22.5.5V19h14v-1.5c0-.28.22-.5.5-.5h1c.28 0 .5.22.5.5z",fill:"#2B2F36"}))};function Qr(){var e=De()(["\n      opacity: 0.3;\n      cursor: not-allowed !important;\n    "]);return Qr=function(){return e},e}function Jr(){var e=De()(["\n  width: 44px;\n  height: 30px;\n  display: grid;\n  place-items: center;\n\n  ","\n"]);return Jr=function(){return e},e}function $r(){var e=De()(["\n  display: flex;\n  margin-right: 60px;\n"]);return $r=function(){return e},e}function ei(){var e=De()(["\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  font-size: 12px;\n  color: ",";\n"]);return ei=function(){return e},e}function ti(){var e=De()(["\n  font-size: 16px;\n  color: ",";\n  overflow: hidden;\n  text-overflow: ellipsis;\n  text-align: left;\n  white-space: nowrap;\n"]);return ti=function(){return e},e}function ni(){var e=De()(["\n  overflow: hidden;\n  line-height: 1.7;\n"]);return ni=function(){return e},e}function ri(){var e=De()(["\n  max-height: 48px;\n  overflow: hidden;\n  flex: 1;\n"]);return ri=function(){return e},e}function ii(){var e=De()(["\n  border-right: 2px solid ",";\n  height: 38px;\n  display: inline-block;\n"]);return ii=function(){return e},e}function oi(){var e=De()(["\n  overflow: hidden;\n  padding: 12px;\n  cursor: pointer;\n  display: inline-block;\n  padding-top: 15px;\n"]);return oi=function(){return e},e}function ai(){var e=De()(["\n  width: 56px;\n  margin-right: 18px;\n  display: flex;\n  align-items: center;\n"]);return ai=function(){return e},e}function si(){var e=De()(["\n  height: 64px;\n  width: 100%;\n  border-bottom: 1px solid ",";\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  button {\n    background: none;\n    border: none;\n  }\n"]);return si=function(){return e},e}var ci=Me.default.div(si(),Pe.N300),ui=Me.default.div(ai()),li=Me.default.button(oi()),di=Me.default.div(ii(),Pe.N300),pi=Me.default.div(ri()),fi=Me.default.div(ni()),hi=Me.default.div(ti(),Pe.N900),gi=Me.default.div(ei(),Pe.N600),mi=Me.default.div($r()),vi=Me.default.button(Jr(),function(e){return e.noAuthority&&Object(Me.css)(Qr())});function yi(t,e){var n,r=y()(t);return m.a&&(n=m()(t),e&&(n=h()(n).call(n,function(e){return p()(t,e).enumerable})),r.push.apply(r,n)),r}function bi(t){for(var e=1;e<arguments.length;e++){var n,r,i=null!=arguments[e]?arguments[e]:{};e%2?d()(n=yi(Object(i),!0)).call(n,function(e){E()(t,e,i[e])}):c.a?a()(t,c()(i)):d()(r=yi(Object(i))).call(r,function(e){o()(t,e,p()(i,e))})}return t}var Ei="box-preview-header",_i=function(e){function s(t){var l;C()(this,s),(l=S()(this,I()(s).call(this,t))).pollingTimer=null,l.buttonMap=new Ce.a,l.state={isSavingToDrive:!1,fileTokenInDriveFetched:!1,fileTokenInDrive:void 0},l.openLocally=function(){var e=l.props,t=e.onOpenLocally,n=e.eventBus;t&&t(),n.safelyEmit(Ee.b.OPERATION,{operationType:Ee.i.OPEN_LOCALLY,source:_e.E.HEADER})},l.handleShareClick=function(){var e=l.props,t=e.onShare,n=e.eventBus;t&&t(),n.safelyEmit(Ee.b.OPERATION,{operationType:Ee.i.SHARE,source:_e.E.HEADER})},l.saveToDrive=function(){l.props.eventBus.safelyEmit(Ee.b.OPERATION,{operationType:Ee.i.SAVE_TO_DRIVE_START,source:_e.E.HEADER}),l.setState({isSavingToDrive:!0}),l.callSaveToDrive()},l.callSaveToDrive=B()(j.a.mark(function e(){var t,n,r,i,o,a,s,c;return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=l.props,n=t.fileToken,r=t.fileInfo,i=t.eventBus,o=t.showToast,a=t.i18n,s=t.networkController,r){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,e.next=6,s.saveFileToDrive(n,r.name);case 6:c=e.sent,l.setState({fileTokenInDrive:c.file_token,isSavingToDrive:!1}),o({key:_e.a.SAVE_TO_DRIVE_SUCCESS,type:"success",content:a["common.save_success"]}),i.safelyEmit(Ee.b.SAVE_TO_DRIVE_SUCCESS),e.next=22;break;case 12:if(e.prev=12,e.t0=e.catch(3),e.t0&&e.t0.code===_e.S)return l.pollingTimer=window.setTimeout(l.callSaveToDrive,_e.f),e.abrupt("return");e.next=18;break;case 18:console.error("save to drive failed",e.t0),l.setState({isSavingToDrive:!1}),o({key:_e.a.SAVE_TO_DRIVE_FAILED,type:"error",content:a["common.save_failed"]}),i.safelyEmit(Ee.b.SAVE_TO_DRIVE_FAILED);case 22:case"end":return e.stop()}},e,null,[[3,12]])})),l.viewInDrive=function(){var e,t=l.props,n=t.eventBus,r=t.networkController,i=l.state.fileTokenInDrive;i&&(e=r.getFileUrlInSuite(i),window.open(e),n.safelyEmit(Ee.b.OPERATION,{operationType:Ee.i.VIEW_IN_DRIVE,source:_e.E.HEADER}))},l.triggerDownloadFile=function(){l.props.authority.downloadable&&(l.props.eventBus.safelyEmit(Ee.b.OPERATION,{operationType:Ee.i.DOWNLOAD_START,source:_e.E.HEADER}),l.props.downloadFile())},l.handleClose=function(){var e=l.props,t=e.onClose,n=e.eventBus;t&&t(),n.safelyEmit(Ee.b.OPERATION,{operationType:Ee.i.CLOSE_BUTTON_CLICK,source:_e.E.HEADER})},l.getContainer=function(){return l.props.boxPreviewContainerRef||document.body},l.renderClose=function(e){var t=l.props.customCloseIcon;return pe.a.createElement(ui,de()({},e,{"data-sel":"".concat(Ei,"-close-wrapper")}),pe.a.createElement(li,{"data-sel":"".concat(Ei,"-close"),onClick:l.handleClose},t||pe.a.createElement(Yn,{width:26,height:26,"data-sel":"".concat(Ei,"-close-icon")})),pe.a.createElement(di,{"data-sel":"".concat(Ei,"-line")}))},l.renderTitle=function(e){var t=l.props,n=t.fileInfo,r=t.isInaccessible;return!n||r?null:pe.a.createElement(pi,de()({},e,{"data-sel":"".concat(Ei,"-title")}),l.fileTypeIcon,pe.a.createElement(fi,{"data-sel":"".concat(Ei,"-file-info")},pe.a.createElement(hi,{"data-sel":"".concat(Ei,"-file-name")},n.name||""),pe.a.createElement(gi,{"data-sel":"".concat(Ei,"-file-size")},ut(n.size))))},l.renderHeaderContainer=function(e){var t=e.children,n=Ue()(e,["children"]);return pe.a.createElement(ci,de()({},n,{"data-sel":Ei}),t)},l.renderButtonList=function(e){var t=e.children,n=Ue()(e,["children"]),r=l.props,i=r.fileInfo,o=r.isInaccessible;return!i||o?null:pe.a.createElement(mi,de()({},n,{"data-sel":"".concat(Ei,"-button-list")}),t)},l.renderButton=function(e){var t=e.dataKey,n=e.icon,r=e.tooltipText,i=e.clickHandler,o=e.cursorStyle,a=Ue()(e,["dataKey","icon","tooltipText","clickHandler","cursorStyle"]),s=l.state.isSavingToDrive,c=Object(ae.default)(r)?r({isSavingToDrive:s}):r,u=(Object(ae.default)(o)?o({isSavingToDrive:s}):o)||"pointer";return pe.a.createElement(He.Tooltip,{title:c,placement:"bottom",getContainer:l.getContainer},pe.a.createElement(vi,de()({},a,{"data-sel":"".concat(Ei,"-button-item"),"data-key":t,onClick:i,style:bi({},a.style,{cursor:u})}),n))},l.renderSaveToDriveButton=function(e){var t=l.state,n=t.fileTokenInDriveFetched,r=t.fileTokenInDrive;if(!(l.isPreviewAccessible&&l.isCopyable&&l.isCanBeSavedToDriveMountPoint&&n))return null;var i=l.buttonMap.get(r?_e.I.VIEW_IN_DRIVE:_e.I.SAVE_TO_DRIVE),o=i.key,a=(i.predicate,Ue()(i,["key","predicate"]));return pe.a.createElement(l.renderButton,de()({},e,a,{dataKey:o}))},l.renderDownloadButton=function(e){if(!l.isPreviewAccessible)return null;var t,n=l.props,r=n.onOpenLocally,i=n.isDownloaded;if(r&&i?t=_e.I.OPEN_LOCALLY:l.isExportable&&(t=_e.I.DOWNLOAD),!t)return null;var o=l.buttonMap.get(t),a=o.key,s=(o.predicate,Ue()(o,["key","predicate"]));return pe.a.createElement(l.renderButton,de()({},e,s,{dataKey:a}))},l.renderShareButton=function(e){if(!l.isPreviewAccessible)return null;var t=l.buttonMap.get(_e.I.SHARE),n=t.key,r=(t.predicate,Ue()(t,["key","predicate"]));return pe.a.createElement(l.renderButton,de()({},e,r,{dataKey:n}))};var e=!0,n=!(l.allButtonList=[{key:_e.I.SAVE_TO_DRIVE,icon:pe.a.createElement(qr,{"data-sel":"".concat(Ei,"-button-icon")}),tooltipText:function(e){return e.isSavingToDrive?t.i18n["common.saving_to_drive"]:t.i18n["common.save_to_drive"]},cursorStyle:function(e){return e.isSavingToDrive?"not-allowed":"pointer"},clickHandler:l.saveToDrive,predicate:function(){return l.shouldShowSaveToDrive}},{key:_e.I.VIEW_IN_DRIVE,icon:pe.a.createElement(Zr,{"data-sel":"".concat(Ei,"-button-icon")}),tooltipText:t.i18n["common.view_in_drive"],clickHandler:l.viewInDrive,predicate:function(){return l.shouldShowViewInDrive}},{key:_e.I.DOWNLOAD,icon:pe.a.createElement(Wr,{"data-sel":"".concat(Ei,"-button-icon")}),tooltipText:t.authority.downloadable?t.i18n["common.download"]:t.i18n["common.no_authority"],clickHandler:l.triggerDownloadFile,predicate:function(){return l.shouldShowDownload},noAuthority:!t.authority.downloadable},{key:_e.I.OPEN_LOCALLY,icon:pe.a.createElement(Yr,{"data-sel":"".concat(Ei,"-button-icon")}),tooltipText:t.i18n["common.open_locally"],clickHandler:l.openLocally,predicate:function(){return l.shouldShowOpenLocally}},{key:_e.I.SHARE,icon:pe.a.createElement(Xr,{"data-sel":"".concat(Ei,"-button-icon")}),tooltipText:t.i18n["common.share"],clickHandler:l.handleShareClick,predicate:function(){return!1}}]),r=void 0;try{for(var i,o=Oe()(l.allButtonList);!(e=(i=o.next()).done);e=!0){var a=i.value;l.buttonMap.set(a.key,a)}}catch(e){n=!0,r=e}finally{try{e||null==o.return||o.return()}finally{if(n)throw r}}return l}return L()(s,e),O()(s,[{key:"componentDidMount",value:function(){this.setState({fileTokenInDriveFetched:!0})}},{key:"componentWillUnmount",value:function(){this.clearTimer()}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.fileInfo,r=t.isDriveSDK;e.fileInfo!==n&&(this.setState({isSavingToDrive:!1,fileTokenInDrive:r&&n&&n.file_token?n.file_token:void 0}),this.clearTimer())}},{key:"clearTimer",value:function(){this.pollingTimer&&(clearTimeout(this.pollingTimer),this.pollingTimer=null)}},{key:"render",value:function(){var e,t,n=this.props.renderHeader,r=this.renderHeaderContainer,i=this.renderButtonList,o=this.renderButton,a=this.renderShareButton,s=this.renderDownloadButton,c=this.renderSaveToDriveButton,u=this.renderTitle,l=this.renderClose;return Object(ae.default)(n)?n({Button:o,ButtonList:i,CloseButton:l,DownloadButton:s,HeaderContainer:r,SaveToDriveButton:c,ShareButton:a,Title:u}):pe.a.createElement(r,null,pe.a.createElement(l,null),pe.a.createElement(u,null),pe.a.createElement(i,null,J()(e=h()(t=this.allButtonList).call(t,function(e){return e.predicate()})).call(e,function(e){var t=e.key,n=(e.predicate,Ue()(e,["key","predicate"]));return pe.a.createElement(o,de()({key:t,dataKey:t},n))})))}},{key:"isPreviewAccessible",get:function(){return!this.props.isInaccessible}},{key:"isCopyable",get:function(){return this.props.permission&&this.props.permission.copyable}},{key:"isExportable",get:function(){return this.props.permission&&this.props.permission.exportable}},{key:"hasSaveToDriveConfig",get:function(){var e;return this.props.headerButtonConfig&&M()(e=this.props.headerButtonConfig).call(e,Ee.e.SAVE_TO_DRIVE)}},{key:"hasDownloadConfig",get:function(){var e;return this.props.headerButtonConfig&&M()(e=this.props.headerButtonConfig).call(e,Ee.e.DOWNLOAD)}},{key:"shouldShowSaveToDrive",get:function(){return Boolean(this.isPreviewAccessible&&this.isCopyable&&this.hasSaveToDriveConfig&&this.isCanBeSavedToDriveMountPoint&&!this.state.fileTokenInDrive)}},{key:"shouldShowViewInDrive",get:function(){return Boolean(this.isPreviewAccessible&&this.isCopyable&&this.hasSaveToDriveConfig&&this.isCanBeSavedToDriveMountPoint&&this.state.fileTokenInDrive)}},{key:"shouldShowDownload",get:function(){return Boolean(this.isPreviewAccessible&&this.isExportable&&this.hasDownloadConfig&&!this.shouldShowOpenLocally)}},{key:"shouldShowOpenLocally",get:function(){return Boolean(this.isPreviewAccessible&&this.hasDownloadConfig&&this.props.onOpenLocally&&this.props.isDownloaded)}},{key:"isCanBeSavedToDriveMountPoint",get:function(){var e=this.props.mountPoint;return Boolean(e&&e.type!==Ee.h.EXPLORER)}},{key:"fileTypeIcon",get:function(){var e=this.props,t=e.fileInfo,n=e.DriveIcon;return t?pe.a.createElement(n,{"file-name":t.name,"data-sel":"".concat(Ei,"-file-icon"),width:36,style:{float:"left",margin:"6px 14px 6px 0"}}):null}}]),s}(n.PureComponent),Ai=function(e){e.styles;var t=Ue()(e,["styles"]);return pe.a.createElement("svg",Fe()({width:"160",height:"160",viewBox:"0 0 160 160"},t),pe.a.createElement("g",{fill:"none",fillRule:"evenodd"},pe.a.createElement("path",{fill:"#D6DAE1",d:"M19.85 120.27h105.37V33.7H19.85z"}),pe.a.createElement("path",{fill:"#F4F5F9",d:"M110.98 55.89l-9.3 59.83-73.29-11.37 9.3-59.83z"}),pe.a.createElement("path",{d:"M44.34 98.06l5.13-43.29M51.74 99.2l5.13-43.29",stroke:"#FFF",strokeWidth:".67"}),pe.a.createElement("path",{d:"M124.65 74.7a16.52 16.52 0 10-33.04 0",stroke:"#18263C",strokeWidth:"1.33",strokeLinecap:"round",strokeLinejoin:"round"}),pe.a.createElement("path",{fill:"#FFC200",d:"M79.08 74.7h58.1v58.1h-58.1z"}),pe.a.createElement("path",{fill:"#B5BEC8",d:"M20.02 34.34h31.61V20.12H20.02z"}),pe.a.createElement("path",{d:"M105.85 106.82a7.4 7.4 0 114.56 0v10.5c0 .38-.3.67-.67.67h-3.22a.67.67 0 01-.67-.66v-10.51z",fill:"#18263C"})))};function Ci(){var e=De()(["\n  margin-top: 12px;\n  font-size: 20px;\n  font-weight: 400;\n  color: ",";\n  line-height: 28px;\n"]);return Ci=function(){return e},e}function Ti(){var e=De()(["\n    width: 145px;\n    height: 145px;\n    text-align: center;\n  "]);return Ti=function(){return e},e}function Oi(){var e=De()(["\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  background: ",";\n"]);return Oi=function(){return e},e}var ki=Me.default.div(Oi(),Pe.N100),Si=function(e){return Object(Me.default)(e)(Ti())},wi=Me.default.div(Ci(),Pe.N900),Ii="box-preview-inaccessible",xi=function(e){function t(){return C()(this,t),S()(this,I()(t).apply(this,arguments))}return L()(t,e),O()(t,[{key:"getInaccessibleIcon",value:function(e){var t=Si(e);return pe.a.createElement(t,{"data-sel":"".concat(Ii,"-icon")})}},{key:"render",value:function(){var e=this.props,t=e.i18n,n=e.inaccessibleCode,r="",i=null;if(n===Ee.f.NO_PERMISSION||n===Ee.f.LOGIN_REQUIRED)r=t["common.no_permission_content"],i=Ai;else if(n===Ee.f.DELETED)r=t["common.file_deleted_content"],i=lr;else{if(n!==Ee.f.NOT_FOUND&&n!==Ee.f.MOUNT_POINT_DELETED)return null;r=t["common.file_not_found_content"],i=lr}return pe.a.createElement(ki,{"data-sel":Ii},this.getInaccessibleIcon(i),pe.a.createElement(wi,{"data-sel":"".concat(Ii,"-content")},r))}}]),t}(n.PureComponent);function Li(){var e=De()(["\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  top: 0;\n  left: 0;\n  transform: translateX(-100%);\n  background: ",";\n  border-radius: 4px;\n  transition: transform ease 0.3s;\n"]);return Li=function(){return e},e}function Ri(){var e=De()(["\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  top: 0;\n  left: 0;\n  background: ",";\n"]);return Ri=function(){return e},e}function Ni(){var e=De()(["\n  width: 100%;\n  height: 4px;\n  margin-top: 10px;\n  position: relative;\n  border-radius: 4px;\n  overflow: hidden;\n"]);return Ni=function(){return e},e}function Di(){var e=De()(["\n  font-size: 14px;\n  font-weight: 500;\n  color: ",";\n  height: 14px;\n  line-height: 14px;\n"]);return Di=function(){return e},e}function Mi(){var e=De()(["\n  display: flex;\n  flex-direction: column;\n  position: absolute;\n  left: 50%;\n  transform: translateX(-50%);\n  background: ",";\n  width: 500px;\n  box-shadow: 0 6px 24px 0 ",";\n  z-index: ",";\n  border-radius: 3px;\n  border: 1px solid ",";\n  padding: 16px;\n  overflow: hidden;\n"]);return Mi=function(){return e},e}var Pi=Me.default.div(Mi(),Pe.N00,Tn(Pe.N900,.1),$e,Pe.N300),ji=Me.default.div(Di(),Pe.N900),Fi=Me.default.div(Ni()),Bi=Me.default.div(Ri(),Pe.N300),Ui=Me.default.div(Li(),Pe.B500),Hi="box-preview-download-box",zi="DownloadProgress",Vi=62,Ki=72,Gi={stiffness:250,damping:20,precision:.5},Wi=function(e){function t(){var r;return C()(this,t),(r=S()(this,I()(t).apply(this,arguments))).state={visible:!1},r.checkSpeed=function(){var e=r.props,t=e.isDownloadingFile,n=e.progress;t&&n<38&&r.setState({visible:!0})},r.willEnter=function(){return{y:r.initTranslateY}},r.willLeave=function(){return{y:Object(ze.spring)(r.initTranslateY,Gi)}},r}return L()(t,e),O()(t,[{key:"componentDidUpdate",value:function(e){!e.isDownloadingFile&&this.props.isDownloadingFile&&(this.timer=window.setTimeout(this.checkSpeed,1e3)),e.isDownloadingFile&&!this.props.isDownloadingFile&&(this.setState({visible:!1}),this.clearTimer())}},{key:"componentWillUnmount",value:function(){this.clearTimer()}},{key:"clearTimer",value:function(){this.timer&&(clearTimeout(this.timer),this.timer=null)}},{key:"render",value:function(){var e=this.props,t=e.progress,n=e.i18n,r=this.state.visible,i="translateX(-".concat(100-t,"%)"),o=r?[{key:zi,style:{y:Object(ze.spring)(Ki,Gi)}}]:[];return pe.a.createElement(ze.TransitionMotion,{styles:o,willEnter:this.willEnter,willLeave:this.willLeave},function(e){return Boolean(e[0])&&pe.a.createElement(Pi,{key:e[0].key,style:{transform:"translateY(".concat(e[0].style.y,"px) translateX(-50%)"),height:"".concat(Vi,"px")},"data-sel":Hi},pe.a.createElement(ji,{"data-sel":"".concat(Hi,"-progress-text")},n["common.downloading"]),pe.a.createElement(Fi,{"data-sel":"".concat(Hi,"-progress-wrapper")},pe.a.createElement(Bi,{"data-sel":"".concat(Hi,"-progress-total")}),pe.a.createElement(Ui,{"data-sel":"".concat(Hi,"-progress-current"),style:{transform:i}})))})}},{key:"initTranslateY",get:function(){return-1*(Ki+Vi)}}]),t}(n.PureComponent);function Yi(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 1===t.length?t[0]:function(){for(var e=0;e<t.length;e++)t[e]&&t[e].apply&&t[e].apply(this,arguments)}}var qi=function(e){e.styles;var t=Ue()(e,["styles"]);return pe.a.createElement("svg",Fe()({width:"32",height:"32",viewBox:"0 0 32 32",fill:"none"},t),pe.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16 0a16 16 0 110 32 16 16 0 010-32zm-3.53 10.35a1 1 0 00-1.42 0l-.7.7a1 1 0 000 1.42L13.88 16l-3.53 3.54a1 1 0 00-.09 1.32l.09.1.7.7a1 1 0 001.32.08l.1-.08L16 18.12l3.54 3.54a1 1 0 001.32.08l.1-.08.7-.7a1 1 0 000-1.42L18.12 16l3.54-3.53a1 1 0 00.08-1.32l-.08-.1-.7-.7a1 1 0 00-1.33-.09l-.09.09L16 13.88l-3.53-3.53z",fill:"#F54A45"}))},Zi=function(e){e.styles;var t=Ue()(e,["styles"]);return pe.a.createElement("svg",Fe()({width:"32",height:"32",viewBox:"0 0 32 32",fill:"none"},t),pe.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0 16a16 16 0 1132 0 16 16 0 01-32 0zm14 8a1 1 0 01-1-1v-1a1 1 0 011-1h1v-4a1 1 0 01-1-1v-1a1 1 0 011-1h2a1 1 0 011 1v6h1a1 1 0 011 1v1a1 1 0 01-1 1h-5zm3-16a1 1 0 011 1v1a1 1 0 01-1 1h-1a1 1 0 01-1-1V9a1 1 0 011-1h1z",fill:"#3370FF"}))},Xi=function(e){e.styles;var t=Ue()(e,["styles"]);return pe.a.createElement("svg",Fe()({viewBox:"0 0 1024 1024"},t),pe.a.createElement("path",{fill:"#AFAFAF",d:"M624.66 785.14A38.94 38.94 0 01639 731.97a38.94 38.94 0 0153.21 14.17l90.13 156.1A38.94 38.94 0 01768 955.4a38.94 38.94 0 01-53.21-14.17l-90.13-156.1z"}),pe.a.createElement("path",{fill:"#D1D1D1",d:"M241.66 121.76A38.94 38.94 0 01256 68.6a38.94 38.94 0 0153.21 14.17l90.13 156.1A38.94 38.94 0 01385 292.03a38.94 38.94 0 01-53.21-14.17l-90.13-156.1z"}),pe.a.createElement("path",{fill:"#9D9D9D",d:"M238.86 624.66A38.94 38.94 0 01292.03 639a38.94 38.94 0 01-14.17 53.21l-156.1 90.13A38.94 38.94 0 0168.6 768a38.94 38.94 0 0114.17-53.21l156.1-90.13z"}),pe.a.createElement("path",{fill:"#C2C2C2",d:"M902.24 241.66A38.94 38.94 0 01955.4 256a38.94 38.94 0 01-14.16 53.21l-156.1 90.13A38.94 38.94 0 01731.97 385a38.94 38.94 0 0114.17-53.21l156.1-90.13z"}),pe.a.createElement("path",{fill:"#A3A3A3",d:"M331.79 746.14A38.94 38.94 0 01385 731.97a38.94 38.94 0 0114.34 53.17l-90.13 156.1A38.94 38.94 0 01256 955.4a38.94 38.94 0 01-14.34-53.17l90.13-156.1z"}),pe.a.createElement("path",{fill:"#C8C8C8",d:"M714.79 82.76A38.94 38.94 0 01768 68.6a38.94 38.94 0 0114.34 53.17l-90.13 156.1A38.94 38.94 0 01639 292.03a38.94 38.94 0 01-14.34-53.17l90.13-156.1z"}),pe.a.createElement("path",{fill:"#949494",d:"M277.86 331.79c18.6 10.73 24.94 34.56 14.17 53.21s-34.57 25.07-53.17 14.34L82.76 309.2A38.94 38.94 0 0168.6 256a38.94 38.94 0 0153.17-14.34l156.1 90.13z"}),pe.a.createElement("path",{fill:"#B6B6B6",d:"M941.24 714.79A38.94 38.94 0 01955.4 768a38.94 38.94 0 01-53.16 14.34l-156.1-90.13A38.94 38.94 0 01731.97 639a38.94 38.94 0 0153.17-14.34l156.1 90.13z"}),pe.a.createElement("path",{fill:"#999",d:"M219.12 473c21.47 0 38.88 17.46 38.88 39s-17.4 39-38.88 39H38.88C17.4 551 0 533.54 0 512s17.4-39 38.88-39h180.24z"}),pe.a.createElement("path",{fill:"#BBB",d:"M985.12 473c21.47 0 38.88 17.46 38.88 39s-17.4 39-38.88 39H804.88C783.4 551 766 533.54 766 512s17.4-39 38.88-39h180.24z"}),pe.a.createElement("path",{fill:"#CDCDCD",d:"M551 219.12c0 21.47-17.46 38.88-39 38.88s-39-17.4-39-38.88V38.88C473 17.4 490.46 0 512 0s39 17.4 39 38.88v180.24z"}),pe.a.createElement("path",{fill:"#A9A9A9",d:"M551 985.12c0 21.47-17.46 38.88-39 38.88s-39-17.4-39-38.88V804.88c0-21.47 17.46-38.88 39-38.88s39 17.4 39 38.88v180.24z"}))},Qi=function(e){e.styles;var t=Ue()(e,["styles"]);return pe.a.createElement("svg",Fe()({width:"32",height:"32",viewBox:"0 0 32 32",fill:"none"},t),pe.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0 16a16 16 0 1032 0 16 16 0 00-32 0zm23.85-4.59a1 1 0 010 1.42l-9.2 9.2a1 1 0 01-.68.28 1 1 0 01-1.02-.24l-4.24-4.24a1 1 0 010-1.42l.7-.7a1 1 0 011.42 0l2.95 2.95 7.95-7.95a1 1 0 011.41 0l.7.7z",fill:"#34C724"}))},Ji=function(e){e.styles;var t=Ue()(e,["styles"]);return pe.a.createElement("svg",Fe()({width:"32",height:"32",viewBox:"0 0 32 32",fill:"none"},t),pe.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0 16a16 16 0 1132 0 16 16 0 01-32 0zm16 5a1 1 0 00-1 1v1a1 1 0 001 1h1a1 1 0 001-1v-1a1 1 0 00-1-1h-1zm0-13a1 1 0 00-1 1v8a1 1 0 001 1h1a1 1 0 001-1V9a1 1 0 00-1-1h-1z",fill:"#F80"}))};function $i(){var e=De()(["\n  cursor: pointer;\n  color: ",";\n  padding-left: 12px;\n  margin-left: 10px;\n  position: relative;\n  &::before {\n    content: '';\n    position: absolute;\n    left: 0;\n    top: 50%;\n    margin-top: -8px;\n    height: 16px;\n    width: 1px;\n    background: ",";\n  }\n"]);return $i=function(){return e},e}function eo(){var e=De()(["\n  vertical-align: middle;\n  width: max-content;\n"]);return eo=function(){return e},e}function to(){var e=De()(["\n  ",";\n"]);return to=function(){return e},e}function no(){var e=De()(["\n  ",";\n"]);return no=function(){return e},e}function ro(){var e=De()(["\n  ",";\n"]);return ro=function(){return e},e}function io(){var e=De()(["\n  ",";\n"]);return io=function(){return e},e}function oo(){var e=De()(["\n  ",";\n"]);return oo=function(){return e},e}function ao(){var e=De()(["\n  display: inline-block;\n  width: 16px;\n  height: 16px;\n  min-width: 16px;\n  min-height: 16px;\n  background-repeat: no-repeat;\n  background-position: center;\n  margin-right: 12px;\n"]);return ao=function(){return e},e}function so(){var e=De()(["\n  box-shadow: 0 6px 24px 0 ",";\n  border: 1px solid ",";\n  font-size: 14px;\n  line-height: 20px;\n  position: relative;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  align-content: center;\n  width: auto;\n  margin-bottom: 5px;\n  padding: 16px 24px 16px 24px;\n  color: ",";\n  border-radius: 3px;\n  background-color: ",";\n  max-width: ",";\n"]);return so=function(){return e},e}function co(){var e=De()(["\n  position: absolute;\n  top: 5px;\n  left: 50%;\n  transform: translateX(-50%);\n  max-width: 100%;\n"]);return co=function(){return e},e}var uo=Me.default.div(co()),lo=Me.default.div(so(),Tn(Pe.N900,.1),Pe.N300,Pe.N900,Pe.N00,function(e){return e.isMobile?"320px":"600px"}),po=Object(Me.css)(ao()),fo=Object(Me.default)(Xi)(oo(),po),ho=Object(Me.default)(Qi)(io(),po),go=Object(Me.default)(qi)(ro(),po),mo=Object(Me.default)(Zi)(no(),po),vo=Object(Me.default)(Ji)(to(),po),yo=Me.default.span(eo()),bo=Me.default.span($i(),Pe.B500,Pe.N200),Eo="box-preview-toast",_o=function(e){function t(){var e;return C()(this,t),(e=S()(this,I()(t).apply(this,arguments))).close=function(){e.clearCloseTimer(),e.props.onClose&&e.props.onClose()},e.onActionClick=function(){e.close(),e.props.onActionClick&&e.props.onActionClick()},e.getToastIcon=function(e){var t=null;switch(e){case"success":t=pe.a.createElement(ho,{"data-sel":"".concat(Eo,"-svg-icon")});break;case"error":t=pe.a.createElement(go,{"data-sel":"".concat(Eo,"-svg-icon")});break;case"loading":t=pe.a.createElement(fo,{"data-sel":"".concat(Eo,"-svg-icon")});break;case"info":t=pe.a.createElement(mo,{"data-sel":"".concat(Eo,"-svg-icon")});break;case"warning":t=pe.a.createElement(vo,{"data-sel":"".concat(Eo,"-svg-icon")})}return t},e}return L()(t,e),O()(t,[{key:"componentDidMount",value:function(){this.props.duration&&(this.closeTimer=window.setTimeout(this.close,this.props.duration))}},{key:"componentWillReceiveProps",value:function(e){e.duration!==this.props.duration&&(this.clearCloseTimer(),e.duration&&(this.closeTimer=window.setTimeout(this.close,e.duration)))}},{key:"componentWillUnmount",value:function(){this.clearCloseTimer()}},{key:"clearCloseTimer",value:function(){this.closeTimer&&(clearTimeout(this.closeTimer),this.closeTimer=null)}},{key:"render",value:function(){var e=this.props,t=e.type,n=e.children,r=e.actionText,i=e.isMobile,o=e.style;return pe.a.createElement(lo,{style:o,"data-sel":Eo,isMobile:i},this.getToastIcon(t),pe.a.createElement(yo,{"data-sel":"".concat(Eo,"-content"),style:{msFlex:"0 0 auto"}},n),r&&pe.a.createElement(bo,{"data-sel":"".concat(Eo,"-action"),onClick:this.onActionClick},r))}}]),t}(n.PureComponent);function Ao(t,e){var n,r=y()(t);return m.a&&(n=m()(t),e&&(n=h()(n).call(n,function(e){return p()(t,e).enumerable})),r.push.apply(r,n)),r}function Co(t){for(var e=1;e<arguments.length;e++){var n,r,i=null!=arguments[e]?arguments[e]:{};e%2?d()(n=Ao(Object(i),!0)).call(n,function(e){E()(t,e,i[e])}):c.a?a()(t,c()(i)):d()(r=Ao(Object(i))).call(r,function(e){o()(t,e,p()(i,e))})}return t}_o.defaultProps={closable:!1,duration:3e3};var To="box-preview-toast-wrap",Oo=0,ko={stiffness:250,damping:20,precision:.5},So=function(){return{y:-100}},wo=function(){return{y:Object(ze.spring)(-100,ko)}};function Io(){var e;return X()(e="toast_".concat(V()(),"_")).call(e,Oo++)}var xo=function(e){function t(){var e;return C()(this,t),(e=S()(this,I()(t).apply(this,arguments))).state={toasts:[]},e.remove=function(n){e.setState(function(e){var t;return{toasts:h()(t=e.toasts).call(t,function(e){return e.key!==n})}})},e.removeAll=function(){e.setState({toasts:[]})},e}return L()(t,e),O()(t,[{key:"show",value:function(r){var i=r.key=r.key||Io();this.setState(function(e){var t,n;return{toasts:X()(t=h()(n=e.toasts).call(n,function(e){return e.key!==i})).call(t,r)}})}},{key:"render",value:function(){var e,r=this;if(!this.state.toasts.length)return null;var t=J()(e=this.state.toasts).call(e,function(e){return{key:e.key,style:{y:Object(ze.spring)(0,ko)},data:e}});return pe.a.createElement(ze.TransitionMotion,{styles:t,willEnter:So,willLeave:wo},function(e){return pe.a.createElement(uo,de()({},r.props,{"data-sel":To}),J()(e).call(e,function(e){var t=e.style.y,n=e.data;return n&&pe.a.createElement(_o,de()({},n,{style:Co({},n.style,{transform:"translateY(".concat(t,"%)"),opacity:1+t/100}),onClose:Yi(n.onClose,function(){return r.remove(n.key)}),isMobile:r.props.isMobile}),n.content)}))})}}]),t}(n.PureComponent);function Lo(){var e=De()(["\n  cursor: pointer;\n  svg {\n    vertical-align: middle;\n  }\n  &:hover {\n    svg path {\n      fill: ",";\n    }\n  }\n  &:active {\n    svg path {\n      fill: ",";\n    }\n  }\n"]);return Lo=function(){return e},e}function Ro(){var e=De()(["\n  line-height: 22px;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  color: ",";\n"]);return Ro=function(){return e},e}function No(){var e=De()(["\n  margin-right: 13px;\n  width: 16px;\n  height: 16px;\n  svg {\n    width: inherit;\n    height: inherit;\n  }\n"]);return No=function(){return e},e}function Do(){var e=De()(["\n  color: ",";\n  font-size: 14px;\n  text-align: left;\n  overflow: hidden;\n  display: flex;\n  flex: 1;\n  align-items: center;\n  justify-content: center;\n"]);return Do=function(){return e},e}function Mo(){var e=De()(["\n  width: 100%;\n  position: relative;\n  background: ","\n  display: flex;\n  align-items: center;\n  opacity: 1;\n  transition: 0.5s all ease;\n  padding: 13px 18px;\n"]);return Mo=function(){return e},e}var Po=Me.default.div(Mo(),function(e){switch(e.status){case"warning":return Pe.O100;case"info":default:return Pe.B100}}),jo=Me.default.div(Do(),Pe.N900),Fo=Me.default.span(No()),Bo=Me.default.span(Ro(),function(e){switch(e.status){case"warning":return Pe.O500;case"info":default:return Pe.B500}}),Uo=Me.default.div(Lo(),Pe.B500,Pe.B600),Ho="box-announce",zo=function(e){function t(){return C()(this,t),S()(this,I()(t).apply(this,arguments))}return L()(t,e),O()(t,[{key:"render",value:function(){var e=this.props,t=e.tipsText,n=e.onClose,r=e.status;return pe.a.createElement(Po,{status:r,"data-sel":"".concat(Ho,"-wrapper")},pe.a.createElement(jo,{"data-sel":"".concat(Ho,"-content")},pe.a.createElement(Fo,{"data-sel":"".concat(Ho,"-icon")},this.statusIcon),pe.a.createElement(Bo,{status:r,"data-sel":"".concat(Ho,"-text")},t)),pe.a.createElement(Uo,{onClick:n,"data-sel":"".concat(Ho,"-close")},pe.a.createElement(Yn,null)))}},{key:"statusIcon",get:function(){switch(this.props.status){case"warning":return pe.a.createElement(Ji,null);case"info":default:return pe.a.createElement(Zi,null)}}}]),t}(n.PureComponent);function Vo(t,e){var n,r=y()(t);return m.a&&(n=m()(t),e&&(n=h()(n).call(n,function(e){return p()(t,e).enumerable})),r.push.apply(r,n)),r}function Ko(t){for(var e=1;e<arguments.length;e++){var n,r,i=null!=arguments[e]?arguments[e]:{};e%2?d()(n=Vo(Object(i),!0)).call(n,function(e){E()(t,e,i[e])}):c.a?a()(t,c()(i)):d()(r=Vo(Object(i))).call(r,function(e){o()(t,e,p()(i,e))})}return t}var Go="08a441",Wo="42b91e";function Yo(e){return Ye()(Go+Ke()(e+Wo)).toString()}var qo=[Ee.h.EMAIL,Ee.h.CALENDAR],Zo=function(){function t(e){C()(this,t),this.pendingEvents=[],this.isUnavailable=!1,this.isMobile=!1,this.isMobile=Boolean(e)}return O()(t,[{key:"kickOff",value:function(e){var t,n=this,r=e.appId,i=e.channelDomain,o=e.instanceName,a=e.isOnlineEnv,s=e.userId,c=e.tenantId;this.instanceName=o,this.tenantId=Object(re.a)(c)?Yo(c):c,this.tracker=new Ge.a(this.instanceName),this.tracker.init({channel_domain:i,app_id:r,log:!1,disable_session:!0,disable_sdk_monitor:!0}),this.tracker.config({_staging_flag:a?0:1,user_unique_id:s?Yo(s):"",disable_auto_pv:!0}),this.tracker.start(),this.isUnavailable=!1,0<this.pendingEvents.length&&(d()(t=this.pendingEvents).call(t,function(e){n.collectEvent(e.eventName,e.options)}),this.clearPendingEvents())}},{key:"clearPendingEvents",value:function(){this.pendingEvents=[]}},{key:"setIsUnavailable",value:function(){this.clearPendingEvents(),this.isUnavailable=!0}},{key:"collectEvent",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(!this.isUnavailable)if(this.tracker)try{var n=Ko({},t,{instance:this.instanceName,tenant_id:this.tenantId,is_mobile:this.isMobile});this.tracker(e,n)}catch(e){console.error("collect event error",e)}else this.pendingEvents.push({eventName:e,options:t})}},{key:"collectOpenStageEvent",value:function(e){var t=e.stage,n=e.fileInfo,r=e.fileToken,i=e.costTime,o=e.mountType,a=e.mountToken,s=e.status,c=e.previewComponent,u=e.previewType;this.collectEvent(_e.O,{stage:t,status:s,file_token:r?Yo(r):"",file_type:n?Object(ke.b)(n.name):void 0,file_size:n?n.size:void 0,cost_time:i,mount_type:o,mount_token:a?Yo(a):"",preview_component:c,preview_type:u})}},{key:"collectOpenFinishEvent",value:function(e){var t=e.resultKey,n=e.resultCode,r=e.fileInfo,i=e.fileToken,o=e.costTime,a=e.mountType,s=e.mountToken,c=e.messageDetail,u=e.folderLevel,l=e.firstMeaningfulPaintCostTime,d=e.previewComponent,p=e.webOfficeVersion;this.collectEvent(_e.g,{result_key:t,result_code:n,file_token:i?Yo(i):"",file_type:r?Object(ke.b)(r.name):void 0,file_size:r?r.size:void 0,cost_time:o,mount_type:a,mount_token:s?Yo(s):"",message_detail:c,folder_level:u,first_meaningful_paint_cost_time:l,preview_component:d,web_office_version:p})}},{key:"collectOperationEvent",value:function(e){var t=e.fileInfo,n=e.fileToken,r=e.mountType,i=e.mountToken,o=e.operation;this.collectEvent(_e.h,{file_token:n?Yo(n):"",file_type:t?Object(ke.b)(t.name):void 0,file_size:t?t.size:void 0,mount_type:r,mount_token:i?Yo(i):"",action:o?o.operationType:"",source:o?o.source:""})}},{key:"collectPreviewErrorEvent",value:function(e){var t=e.fileInfo,n=e.fileToken,r=e.mountType,i=e.mountToken,o=e.messageDetail,a=e.previewComponent,s=e.webOfficeVersion,c=e.costTime;this.collectEvent(_e.i,{file_token:n?Yo(n):"",file_type:t?Object(ke.b)(t.name):void 0,file_size:t?t.size:void 0,mount_type:r,mount_token:i?Yo(i):"",message_detail:o||"",preview_component:a,web_office_version:s,cost_time:c})}},{key:"collectMentionClickEvent",value:function(e){var t=e.fileInfo,n=e.fileToken,r=e.mountType;M()(qo).call(qo,r)&&this.collectEvent(_e.j,{module:r,file_id:n?Yo(n):"",mention_file_type:t?Object(ke.b)(t.name):""})}},{key:"collectMentionDownloadEvent",value:function(e){var t=e.fileInfo,n=e.fileToken,r=e.mountType;M()(qo).call(qo,r)&&this.collectEvent(_e.k,{module:r,file_id:n?Yo(n):"",mention_file_type:t?Object(ke.b)(t.name):""})}},{key:"collectLinkClickedEvent",value:function(e){var t=e.scene,n=e.location;this.collectEvent(_e.l,{scene:t,location:n})}},{key:"collectEnterPresentationEvent",value:function(e){this.collectEvent(_e.n,e)}},{key:"collectMediaPlayCostTimeEvent",value:function(e){var t=e.fileInfo,n=e.fileToken,r=e.mountType,i=e.mountToken,o=e.costTime;this.collectEvent(_e.o,{file_token:n?Yo(n):"",file_type:t?Object(ke.b)(t.name):void 0,file_size:t?t.size:void 0,mount_type:r,mount_token:i?Yo(i):"",cost_time:o})}},{key:"collectPVEvent",value:function(e){var t=e.fileToken,n=e.mountType,r=e.mountToken;this.collectEvent(_e.p,{file_token:t?Yo(t):"",mount_type:n,mount_token:r?Yo(r):""})}},{key:"collectReloadI18nEvent",value:function(e){var t=e.languageType,n=e.reloadTime;this.collectEvent(_e.q,{language_type:t,i18n_reload_time:n})}},{key:"collectOutsideTriggerEvent",value:function(e){var t=e.fileInfo,n=e.fileToken,r=e.mountType,i=e.mountToken,o=e.triggered_action,a=e.triggered_event;this.collectEvent(_e.r,{triggered_event:a,triggered_action:o,file_token:n?Yo(n):"",file_type:t?Object(ke.b)(t.name):void 0,file_size:t?t.size:void 0,mount_type:r,mount_token:i?Yo(i):""})}},{key:"collectCommonErrorEvent",value:function(e){var t=e.fileInfo,n=e.fileToken,r=e.mountType,i=e.mountToken,o=e.triggeredEvent,a=e.errorType,s=e.messageDetail;this.collectEvent(_e.s,{triggered_event:o,error_type:a,message_detail:s,file_token:n?Yo(n):"",file_type:t?Object(ke.b)(t.name):void 0,file_size:t?t.size:void 0,mount_type:r,mount_token:i?Yo(i):""})}}]),t}();function Xo(){var e=De()(["\n  position: ",";\n  top: 0;\n  left: 0;\n  overflow: hidden;\n  width: 100%;\n  height: 100%;\n  box-sizing: border-box;\n  display: flex;\n  flex-direction: column;\n  * {\n    box-sizing: border-box;\n    -webkit-font-smoothing: antialiased;\n  }\n  button,\n  input {\n    outline: none;\n  }\n\n  input::-webkit-outer-spin-button,\n  input::-webkit-inner-spin-button {\n    -webkit-appearance: none !important;\n  }\n  input[type='number'] {\n    -moz-appearance: textfield;\n  }\n"]);return Xo=function(){return e},e}var Qo=Me.default.div(Xo(),function(e){return e.isFullscreen?"fixed":"relative"});function Jo(t,e){var n,r=y()(t);return m.a&&(n=m()(t),e&&(n=h()(n).call(n,function(e){return p()(t,e).enumerable})),r.push.apply(r,n)),r}function $o(t){for(var e=1;e<arguments.length;e++){var n,r,i=null!=arguments[e]?arguments[e]:{};e%2?d()(n=Jo(Object(i),!0)).call(n,function(e){E()(t,e,i[e])}):c.a?a()(t,c()(i)):d()(r=Jo(Object(i))).call(r,function(e){o()(t,e,p()(i,e))})}return t}var ea="box-preview-container",ta={openFileTime:0,fileInfoReceivedTime:0,beginToRenderFileTime:0,firstMeaningfulPaintTime:0},na=function(e){function c(e){var h;C()(this,c),(h=S()(this,I()(c).call(this,e))).boxPreviewContainerRef=null,h.performanceTime=$o({},ta),h.downloadCancel=null,h.handleEscKeyDown=function(e){e&&"Escape"===e.key&&h.handleExitFullscreen()},h.listenCommonErrorEvents=function(){d()(_e.t).call(_e.t,function(e){var t;h.eventBus.on(e,W()(t=h.logCommonError).call(t,q()(h),e))})},h.listenEventsTriggeredByOutside=function(){d()(_e.u).call(_e.u,function(e){var t;h.eventBus.on(e,W()(t=h.logEventTriggeredByOutside).call(t,q()(h),e))})},h.logCommonError=function(e,t){h.logger&&h.logger.collectCommonErrorEvent($o({},h.generateCommonTeaLogData(),{triggeredEvent:e,errorType:t&&t.errorType,messageDetail:t&&t.errorMessage}))},h.logI18nReloadEvent=function(){var e=V()()-h.constructorTime;h.logger.collectReloadI18nEvent({reloadTime:e,languageType:h.props.languageType})},h.logEventTriggeredByOutside=function(e,t){var n;h.logger&&(n=t&&t.action?t.action:"",h.logger.collectOutsideTriggerEvent($o({},h.generateCommonTeaLogData(),{triggered_event:e,triggered_action:n})))},h.handleFileLoadStart=function(){var e;h.logger&&(e=h.generateCommonTeaLogData(),h.logger.collectPVEvent(e)),h.performanceTime.openFileTime=V()()},h.handleFileInfoChanged=function(e){var t,n,r;e&&e.fileInfo&&(h.logger||h.docsLogger)&&(h.performanceTime.fileInfoReceivedTime=V()(),t=h.getFileInfoCostTime(),n=Object(se.default)(e.fileInfo.preview_status)?e.fileInfo.preview_status:null,r=h.generateCommonTeaLogData(),h.logger&&h.logger.collectOpenStageEvent($o({},r,{status:n,costTime:t,fileInfo:e.fileInfo,stage:_e.v.RequestFileInfo})),h.docsLogger&&h.docsLogger.collectMentionClickEvent($o({},r,{fileInfo:e.fileInfo})))},h.handlePreviewGot=function(e){var t,n,r;h.logger&&(t=e&&e.previewInfo&&Object(se.default)(e.previewInfo.status)?e.previewInfo.status:null,n=h.generateCommonTeaLogData(),r=h.getPreviewReadyCostTime(e.previewReadyTimestamp),h.logger.collectOpenStageEvent($o({},n,{status:t,costTime:r,previewType:e.previewType,previewComponent:e.previewComponent,stage:_e.v.RequestPreviewUrl})))},h.handleFileRenderStart=function(){h.performanceTime.beginToRenderFileTime=V()()},h.handleFirstMeaningfulPainted=function(){h.performanceTime.firstMeaningfulPaintTime=V()()},h.handleLoadFinish=function(e){var t,n,r,i,o,a,s,c,u=e.result_key,l=e.result_code,d=e.extra_message,p=void 0===d?{}:d,f=e.preview_component;h.logger&&(t=V()(),n=h.generateCommonTeaLogData(),r=h.getRenderFileCostTime(t),h.logger.collectOpenStageEvent($o({},n,{previewComponent:f,status:null,stage:_e.v.RenderFile,costTime:r})),i=p.message_detail,o=p.folder_level,s=(a=h.getFinishEventCostTime(t)).finishCostTime,c=a.firstMeaningfulPaintCostTime,h.logger.collectOpenFinishEvent($o({},n,{resultKey:u,resultCode:l,messageDetail:i,folderLevel:o,previewComponent:f,firstMeaningfulPaintCostTime:c,costTime:s,webOfficeVersion:h.webOfficeVersion})))},h.handleOperation=function(e){var t=h.generateCommonTeaLogData();if(h.logGeneralOperation(t,e),e)switch(e.operationType){case Ee.i.LINK_CLICKED:var n=e.scene,r=e.location;h.loglinkClicked({scene:n,location:r});break;case Ee.i.DOWNLOAD_START:h.logMentionDownload(t);break;case Ee.i.PDF_ENTER_PRESENTATION_MODE:h.logEnterPresentation(e)}},h.handlePreviewingError=function(e){var t,n;h.logger&&(t=e.messageDetail,n=e.previewComponent,h.logger.collectPreviewErrorEvent($o({},h.generateCommonTeaLogData(),{messageDetail:t,previewComponent:n,webOfficeVersion:h.webOfficeVersion,costTime:V()()-h.performanceTime.openFileTime})))},h.logMediaPlayCostTime=function(e){var t;h.logger&&(t=e.costTime,h.logger.collectMediaPlayCostTimeEvent($o({},h.generateCommonTeaLogData(),{costTime:t})))},h.handleWPSIframeLoadStart=function(e){h.webOfficeVersion=e&&e.webOfficeVersion},h.handleDownloadByOutside=function(e){var t=e&&e.name;h.triggerDownloadFile(t)},h.showToast=function(e){h.toastRef&&h.toastRef.show(e)},h.removeToast=function(e){h.toastRef&&h.toastRef.remove(e)},h.setFileInfo=function(e){h.setState({fileInfo:e})},h.resetInaccessibleCode=function(){h.setState({inaccessibleCode:null})},h.setPreviewInaccessible=function(e,t){h.eventBus.safelyEmit(Ee.b.GET_PREVIEW_INFO_ERROR,{extraData:t,errorCode:e}),h.isInaccessibleCode(e)&&h.setState({inaccessibleCode:e})},h.renderInaccessibleComponent=function(e){var t=h.props.i18n,n=h.props.renderInaccessibleComponent;return n?n(e):pe.a.createElement(xi,{inaccessibleCode:e,i18n:t})},h.triggerDownloadFile=function(e){var t,n=h.props,r=n.fileToken,i=n.dataVersion,o=n.showDownloadProgress,a=n.onDownload,s=n.mountPoint,c=h.state.isProgressiveDownloadingFile;r&&(t=h.networkController.getDownloadUrl({fileToken:r,dataVersion:i,mountPoint:s}),o?c||h.setState({isProgressiveDownloadingFile:!0,downloadProgress:0},function(){a?a(t):h.triggerProgressDownload(t,e)}):a?a(t):window.open(t))},h.abortDownload=function(){h.downloadCancel&&(h.downloadCancel(),h.downloadCancel=null)},h.resetDownloadState=function(){h.abortDownload(),h.setState({isProgressiveDownloadingFile:!1,downloadProgress:0})},h.handleDownloadProgressChange=function(e){var t,n,r=h.state.fileInfo;e&&e.loaded&&r&&(t=r.size,n=Math.max(0,Math.min(100,e.loaded/t*100)),h.setState({downloadProgress:n}),h.eventBus.safelyEmit(Ee.b.DOWNLOAD_PROGRESS,{progress:n}))},h.resetLogParams=function(){h.performanceTime=$o({},ta),h.webOfficeVersion=""},h.setToastRef=function(e){return h.toastRef=e},h.setBoxPreviewContainerRef=function(e){return h.boxPreviewContainerRef=e},h.handleFullscreen=function(){var e=!(0<arguments.length&&void 0!==arguments[0])||arguments[0];h.state.isFullscreen||h.setState({showHeader:e,isFullscreen:!0})},h.handleExitFullscreen=function(){h.state.isFullscreen&&(h.setState({isFullscreen:!1,showHeader:Boolean(h.props.withHeader)}),h.eventBus.safelyEmit(Ee.b.EXIT_FULLSCREEN,{operationType:Ee.i.MEDIA_EXIT_FULLSCREEN,source:_e.E.PREVIEW_COMPONENT})),h.props.onClose&&h.props.onClose()},h.onClickBoxHeaderCloseBtn=function(){h.handleExitFullscreen()},h.showAnnouncement=function(e){h.setState({announcementConfig:e,showAnnouncement:!0})},h.clearAnnouncement=function(){h.setState({showAnnouncement:!1,announcementConfig:null})},h.state={fileInfo:null,inaccessibleCode:null,ultimatePermission:h.getUltimatePermission(!0,e.permission),downloadProgress:e.decisiveDownloadProgress||0,isProgressiveDownloadingFile:!1,isFullscreen:!1,showHeader:Boolean(h.props.withHeader),showAnnouncement:!1,announcementConfig:null},h.constructorTime=V()();var t=e.envConfig,n=e.onEventBusReady,r=e.seclinkEnabled,i=e.mountPoint,o=e.isDriveSDK,a=e.authExtra,s=e.customRequest;return h.initNetworkController($o({},t,{mountPoint:i,isDriveSDK:o,authExtra:a,customRequest:s,seclinkEnabled:r})),h.initTeaLogger(),h.initEventBus(n),h.listenGlobalEvent(),h.prepareEnvConfig(e),h}function t(e,t){return n.apply(this,arguments)}var n,r,i;function o(){return r.apply(this,arguments)}function a(e){return i.apply(this,arguments)}return L()(c,e),O()(c,[{key:"componentDidMount",value:function(){this.getInnerFilePermission(),this.setNoPermissionIfNotViewable(),document.addEventListener("keydown",this.handleEscKeyDown)}},{key:"componentWillReceiveProps",value:function(e){var t=e.permission,n=e.decisiveDownloadProgress,r=e.showDownloadProgress,i=e.authExtra;this.props.permission!==t&&this.setState({ultimatePermission:this.getUltimatePermission(!1,t)}),r&&"number"==typeof n&&this.props.decisiveDownloadProgress!==n&&this.setState(function(e){return{isProgressiveDownloadingFile:!(100<=n)&&e.isProgressiveDownloadingFile,downloadProgress:Math.min(100,n)}}),this.props.authExtra!==i&&this.networkController.updateAuthExtra(i)}},{key:"componentDidUpdate",value:function(e,t){var n=this.state,r=n.ultimatePermission,i=n.fileInfo,o=n.isProgressiveDownloadingFile,a=this.props,s=a.fileToken,c=a.dataVersion,u=a.forceUpdateSeed,l=a.isInEditMode,d=r.viewable;t.ultimatePermission.viewable!==d&&this.setNoPermissionIfNotViewable(),this.eventBus&&t.fileInfo!==i&&(this.eventBus.safelyEmit(Ee.b.FILE_INFO_CHANGED,{fileInfo:i}),this.clearAnnouncement()),o&&null!==bt({prevFileToken:e.fileToken,prevVersion:e.dataVersion,prevForceUpdateSeed:e.forceUpdateSeed,prevIsInEditMode:e.isInEditMode,curFileToken:s,curVersion:c,curForceUpdateSeed:u,curIsInEditMode:l})&&(this.resetDownloadState(),this.clearAnnouncement()),this.props.i18n["common.confirm"]!==e.i18n["common.confirm"]&&this.logI18nReloadEvent()}},{key:"componentWillUnmount",value:function(){var e=this;this.eventBus&&(this.eventBus.safelyEmit(Ee.b.COMPONENT_WILLUNMOUNT),H()(function(){e.eventBus.removeAllListeners()},0)),this.resetDownloadState(),document.removeEventListener("keydown",this.handleEscKeyDown)}},{key:"prepareEnvConfig",value:(i=B()(j.a.mark(function e(t){var n,r,i,o;return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=t.envConfig,r=t.userId,i=t.tenantId,e.next=4,wt(this.networkController,n,r);case 4:o=e.sent,this.networkController.updateEnvConfigProps(o),this.kickOffLogger({finalEnvConfig:o,userId:r,tenantId:i}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error("getFinalEnvConfig error",e.t0);case 12:case"end":return e.stop()}},e,this,[[0,9]])})),a)},{key:"initTeaLogger",value:function(){this.logger=new Zo(this.props.isMobile),this.docsLogger=new Zo(this.props.isMobile)}},{key:"kickOffLogger",value:function(e){var t=e.finalEnvConfig,n=e.userId,r=e.tenantId,i=t.isOnlineEnv,o=t.teaConfig;if(!o)return console.warn("teaConfig not provided, logger not initialized"),this.logger.setIsUnavailable(),void this.docsLogger.setIsUnavailable();var a=o.sdkAppId,s=o.suiteAppId,c={userId:n,tenantId:r,channelDomain:o.channelDomain,isOnlineEnv:Boolean(i)};a?this.logger.kickOff($o({},c,{appId:a,instanceName:"drive-sdk"})):(this.logger.setIsUnavailable(),console.error("sdk teaConfig incomplete, sdk logger not initialized")),s?this.docsLogger.kickOff($o({},c,{appId:s,instanceName:"suite"})):(this.docsLogger.setIsUnavailable(),console.error("suite teaConfig incomplete, suite logger not initialized"))}},{key:"initNetworkController",value:function(e){this.networkController=new mn(e)}},{key:"initEventBus",value:function(e){this.eventBus=new Ie.a,e&&e(this.eventBus)}},{key:"listenGlobalEvent",value:function(){this.eventBus&&(this.logger&&(this.eventBus.on(Ee.b.FILE_LOAD_START,this.handleFileLoadStart),this.eventBus.on(Ee.b.FILE_INFO_CHANGED,this.handleFileInfoChanged),this.eventBus.on(Ee.b.FILE_PREVIEW_FETCHED,this.handlePreviewGot),this.eventBus.on(Ee.b.FILE_RENDER_START,this.handleFileRenderStart),this.eventBus.on(Ee.b.FIRST_MEANINGFUL_PAINTED,this.handleFirstMeaningfulPainted),this.eventBus.on(Ee.b.FILE_LOAD_FINISH,this.handleLoadFinish),this.eventBus.on(Ee.b.OPERATION,this.handleOperation),this.eventBus.on(Ee.b.PREVIEW_ERROR,this.handlePreviewingError),this.eventBus.on(Ee.b.MEDIA_PLAY_COST_TIME,this.logMediaPlayCostTime),this.eventBus.on(Ee.b.WPS_IFRAME_LOAD_START,this.handleWPSIframeLoadStart),this.listenCommonErrorEvents(),this.listenEventsTriggeredByOutside()),this.eventBus.on(Ee.b.TRIGGER_DOWNLOAD,this.handleDownloadByOutside),this.eventBus.on(Ee.b.TRIGGER_ABORT_DOWNLOAD,this.resetDownloadState),this.eventBus.on(Ee.b.TRIGGER_FULLSCREEN,this.handleFullscreen),this.eventBus.on(Ee.b.TRIGGER_EXIT_FULLSCREEN,this.handleExitFullscreen))}},{key:"getFileInfoCostTime",value:function(){return 0<this.performanceTime.openFileTime?this.performanceTime.fileInfoReceivedTime-this.performanceTime.openFileTime:void 0}},{key:"getPreviewReadyCostTime",value:function(e){var t,n=this.performanceTime.fileInfoReceivedTime;return e&&0<e&&0<n&&(t=e-n),t}},{key:"getRenderFileCostTime",value:function(e){return 0<this.performanceTime.beginToRenderFileTime?e-this.performanceTime.beginToRenderFileTime:void 0}},{key:"getFinishEventCostTime",value:function(e){var t=this.performanceTime,n=t.openFileTime,r=t.firstMeaningfulPaintTime,i=0<n?e-n:void 0;return{finishCostTime:i,firstMeaningfulPaintCostTime:0<n&&0<r-n?r-n:i}}},{key:"logEnterPresentation",value:function(e){this.docsLogger&&this.docsLogger.collectEnterPresentationEvent({action:e&&e.eventAction===_e.w.CLICK?"click":"auto",app_form:this.props.isVCFollow?"vc":"",sub_file_type:this.state.fileInfo?Object(ke.b)(this.state.fileInfo.name):""})}},{key:"logMentionDownload",value:function(e){this.docsLogger&&this.docsLogger.collectMentionDownloadEvent(e)}},{key:"loglinkClicked",value:function(e){this.docsLogger&&this.docsLogger.collectLinkClickedEvent(e)}},{key:"logGeneralOperation",value:function(e,t){this.logger&&this.logger.collectOperationEvent($o({},e,{operation:t}))}},{key:"generateCommonTeaLogData",value:function(){var e=this.props,t=e.fileToken,n=e.mountPoint;return{fileToken:t,fileInfo:this.state.fileInfo,mountType:n?n.type:Ee.h.EXPLORER,mountToken:n&&n.token?n.token:t}}},{key:"getUltimatePermission",value:function(e,t){var n=t||{};return $o({},e?{}:this.state.ultimatePermission,{},n)}},{key:"setNoPermissionIfNotViewable",value:function(){var e=this.state.ultimatePermission.viewable;this.setState({inaccessibleCode:!1===e?Ee.f.NO_PERMISSION:null})}},{key:"getInnerFilePermission",value:(r=B()(j.a.mark(function e(){var t,n,r,i;return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.props,n=t.fileToken,xt(t.mountPoint))return e.prev=2,e.next=5,this.networkController.getFilePermission(n);e.next=13;break;case 5:r=e.sent,i={viewable:1===r.view,editable:1===r.edit,exportable:1===r.export,copyable:1===r.copy},this.setState(function(e){var t=e.ultimatePermission;return{ultimatePermission:{viewable:(Object(ce.default)(t.viewable)?i:t).viewable,editable:(Object(ce.default)(t.editable)?i:t).editable,exportable:(Object(ce.default)(t.exportable)?i:t).exportable,copyable:(Object(ce.default)(t.copyable)?i:t).copyable}}}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),console.error("fetch file permission error",e.t0);case 13:case"end":return e.stop()}},e,this,[[2,10]])})),o)},{key:"isInaccessibleCode",value:function(e){return"number"==typeof e&&M()(Ee.o).call(Ee.o,e)}},{key:"triggerProgressDownload",value:(n=B()(j.a.mark(function e(t,n){var r,i,o,a,s,c=this;return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.props.i18n,e.prev=1,e.next=4,this.networkController.downloadFile(t,{onDownloadProgress:this.handleDownloadProgressChange,cancelToken:new nn(function(e){return c.downloadCancel=e})});case 4:i=e.sent,o=window.URL.createObjectURL(new Blob([i.data])),(a=document.createElement("a")).href=o,s=this.getDownloadName(n),a.setAttribute("download",s),document.body.appendChild(a),a.click(),document.body.removeChild(a),this.setState({isProgressiveDownloadingFile:!1}),this.showToast({key:_e.a.DOWNLOAD_SUCCESS,type:"success",content:r["common.download_success"]}),this.eventBus.safelyEmit(Ee.b.DOWNLOAD_SUCCESS),e.next=26;break;case 18:if(e.prev=18,e.t0=e.catch(1),console.error("file download error",e.t0),this.networkController.isCancelError(e.t0))return e.abrupt("return");e.next=23;break;case 23:this.resetDownloadState(),this.showToast({key:_e.a.DOWNLOAD_ERROR,type:"error",content:r["common.download_failed"]}),this.eventBus.safelyEmit(Ee.b.DOWNLOAD_FAILED);case 26:case"end":return e.stop()}},e,this,[[1,18]])})),t)},{key:"getDownloadName",value:function(e){var t=this.state.fileInfo;return e||t&&t.name||""}},{key:"render",value:function(){var e=this.props,t=e.BoxArchive,n=e.BoxCode,r=e.BoxImage,i=e.BoxMedia,o=e.BoxSheet,a=e.DriveIcon,s=e.DriveCircularIcon,c=e.cooperUserList,u=e.coverSrc,l=e.customCloseIcon,d=e.dataVersion,p=e.getDisabledPreviewComponents,f=e.disableMediaPreload,h=e.enableMediaProgressCache,g=e.enablePDFProgressCache,m=e.enablePresentationMode,v=e.enableSheetProgressCache,y=e.fileToken,b=e.forceUpdateSeed,E=e.headerButtonConfig,_=e.imageToolbarConfig,C=e.i18n,T=e.isDriveSDK,O=e.isInEditMode,k=e.isVCFollow,S=e.maxPollCount,w=e.mountPoint,I=e.onOpenLocally,x=e.onShare,L=e.pdfDefaultZoomValue,R=e.pdfPreloadThreshold,N=e.pdfPrintModalContainer,D=e.pdfRangeChunkSize,M=e.pdfThumbnailDefaultOn,P=e.pdfToolbarConfig,j=e.PDFViewer,F=e.PreviewMessageHandler,B=e.renderImageCommentWrapper,U=e.renderPDFCommentWrapper,H=e.renderHeader,z=e.renderWatermark,V=e.showDownloadProgress,K=e.showPDFDigitalSign,W=e.userId,Y=e.WPSOffice,q=e.isMobile,Z=e.unhandledPreviewStatus,X=e.initialFileInfo,Q=e.unsupportedVideoCodec,J=e.languageType,$=e.floatingToolbarHiddenOnStart,ee=this.state,te=ee.fileInfo,ne=ee.ultimatePermission,re=ee.inaccessibleCode,ie=ee.downloadProgress,oe=ee.isProgressiveDownloadingFile,ae=ee.showHeader,se=ee.isFullscreen,ce=ee.showAnnouncement,ue=ee.announcementConfig,le=this.isInaccessibleCode(re);return pe.a.createElement(Qo,{"data-sel":ea,innerRef:this.setBoxPreviewContainerRef,isFullscreen:se},ce&&pe.a.createElement(zo,de()({},ue,{onClose:this.clearAnnouncement})),ae&&pe.a.createElement(_i,{authority:this.authority,fileToken:y,headerButtonConfig:E,i18n:C,fileInfo:te,permission:ne,eventBus:this.eventBus,networkController:this.networkController,showToast:this.showToast,downloadFile:this.triggerDownloadFile,onClose:this.onClickBoxHeaderCloseBtn,isInaccessible:le,onOpenLocally:I,onShare:x,isDownloaded:this.isDownloaded,renderHeader:H,boxPreviewContainerRef:this.boxPreviewContainerRef,customCloseIcon:l,mountPoint:w,isDriveSDK:T,DriveIcon:a}),pe.a.createElement(Gr,{BoxArchive:t,BoxCode:n,BoxImage:r,BoxMedia:i,BoxSheet:o,DriveCircularIcon:s,DriveIcon:a,PDFViewer:j,PreviewMessageHandler:F,WPSOffice:Y,cooperUserList:c,coverSrc:u,dataVersion:d,getDisabledPreviewComponents:p,disableMediaPreload:f,downloadFile:this.triggerDownloadFile,enableMediaProgressCache:h,enablePDFProgressCache:g,enablePresentationMode:m,enableSheetProgressCache:v,eventBus:this.eventBus,fileInfo:te,fileToken:y,forceUpdateSeed:b,i18n:C,imageToolbarConfig:_,initialFileInfo:X,isDownloaded:this.isDownloaded,isDriveSDK:T,isInEditMode:O,isMobile:q,isVCFollow:k,languageType:J,maxPollCount:S,mountPoint:w,networkController:this.networkController,onOpenLocally:I,pdfDefaultZoomValue:L,pdfPreloadThreshold:R,pdfPrintModalContainer:N,pdfRangeChunkSize:D,pdfThumbnailDefaultOn:M,pdfToolbarConfig:P,permission:ne,removeToast:this.removeToast,renderImageCommentWrapper:B,renderPDFCommentWrapper:U,renderWatermark:z,resetInaccessibleCode:this.resetInaccessibleCode,resetLogParams:this.resetLogParams,setFileInfo:this.setFileInfo,setPreviewInaccessible:this.setPreviewInaccessible,showAnnouncement:this.showAnnouncement,showPDFDigitalSign:Boolean(K),showToast:this.showToast,unhandledPreviewStatus:Z,unsupportedVideoCodec:Q,userId:W,authority:this.authority,floatingToolbarHiddenOnStart:$}),le&&this.renderInaccessibleComponent(re),V&&pe.a.createElement(Wi,{isDownloadingFile:oe,progress:ie,i18n:C}),pe.a.createElement(xo,{ref:this.setToastRef,isMobile:q}))}},{key:"authority",get:function(){var e=this.props.authority,t=e.downloadable,n=e.printable,r=e.copyable,i=e.exportable;return{downloadable:!Object(ue.a)(t)||t,printable:!Object(ue.a)(n)||n,copyable:!Object(ue.a)(r)||r,exportable:!Object(ue.a)(i)||i}}},{key:"isDownloaded",get:function(){return 100<=this.state.downloadProgress}}]),c}(n.PureComponent);na.defaultProps={getDisabledPreviewComponents:function(){return[Ee.n.WPS]},authority:{},disableMediaPreload:!1,enableMediaProgressCache:!1,enablePDFProgressCache:!1,enablePresentationMode:!1,enableSheetProgressCache:!1,headerButtonConfig:[Ee.e.DOWNLOAD],imageToolbarConfig:[Ee.p.ZOOMIN,Ee.p.ZOOMOUT,Ee.p.ROTATE,Ee.p.ONETONE,Ee.p.DOWNLOAD],isInEditMode:!1,isMobile:!1,isVCFollow:!1,maxPollCount:_e.x,pdfDefaultZoomValue:Ee.q.AUTO,pdfPreloadThreshold:20971520,pdfPrintModalContainer:function(){return document.body},pdfRangeChunkSize:65536,pdfThumbnailDefaultOn:!0,pdfToolbarConfig:[Ee.r.SIDEBAR,Ee.r.PREV,Ee.r.PAGENUMBER,Ee.r.NEXT,Ee.r.ZOOMIN,Ee.r.ZOOMOUT,Ee.r.PRINT,Ee.r.PLAY,Ee.r.DOWNLOAD],seclinkEnabled:!1,showDownloadProgress:!1,showPDFDigitalSign:!1,unhandledPreviewStatus:[],withHeader:!1};var ra={en:function(){return Promise.resolve().then(function(){return Qe})},ja:function(){return ya.e("box-preview-i18n-ja-JP").then(ya.bind(null,"VzUh"))},zh:function(){return Promise.resolve().then(ya.bind(null,"Wz9t")).then(function(e){return e.$})},de:function(){return ya.e("box-preview-i18n-de-DE").then(ya.bind(null,"GurH"))},pt:function(){return ya.e("box-preview-i18n-pt-PT").then(ya.bind(null,"1eI9"))},es:function(){return ya.e("box-preview-i18n-es-ES").then(ya.bind(null,"pSQx"))},fr:function(){return ya.e("box-preview-i18n-fr-FR").then(ya.bind(null,"AVM1"))},hi:function(){return ya.e("box-preview-i18n-hi-HI").then(ya.bind(null,"Mwci"))},id:function(){return ya.e("box-preview-i18n-id-ID").then(ya.bind(null,"ahXn"))},it:function(){return ya.e("box-preview-i18n-it-IT").then(ya.bind(null,"ytzD"))},ko:function(){return ya.e("box-preview-i18n-ko-KO").then(ya.bind(null,"yD+Y"))},ru:function(){return ya.e("box-preview-i18n-ru-RU").then(ya.bind(null,"VBWN"))},th:function(){return ya.e("box-preview-i18n-th-TH").then(ya.bind(null,"XqTv"))},vi:function(){return ya.e("box-preview-i18n-vi-VI").then(ya.bind(null,"hx+l"))}};function ia(t,e){var n,r=y()(t);return m.a&&(n=m()(t),e&&(n=h()(n).call(n,function(e){return p()(t,e).enumerable})),r.push.apply(r,n)),r}function oa(t){for(var e=1;e<arguments.length;e++){var n,r,i=null!=arguments[e]?arguments[e]:{};e%2?d()(n=ia(Object(i),!0)).call(n,function(e){E()(t,e,i[e])}):c.a?a()(t,c()(i)):d()(r=ia(Object(i))).call(r,function(e){o()(t,e,p()(i,e))})}return t}var aa,sa,ca=N()({loader:function(){return ya.e("vendors--box-preview-pdf-viewer").then(ya.bind(null,"6Bz5"))},loading:function(){return null}}),ua=N()({loader:function(){return Promise.all([ya.e("commons--beginner-modal--box-preview-box-media--introduction_modal"),ya.e("box-preview-box-media")]).then(ya.bind(null,"QsyW"))},loading:function(){return null}}),la=N()({loader:function(){return Promise.all([ya.e("doc_index_css"),ya.e("vendors--box-preview-box-image")]).then(ya.bind(null,"zB68"))},loading:function(){return null}}),da=N()({loader:function(){return ya.e("box-preview-box-code").then(ya.bind(null,"VSiM"))},loading:function(){return null}}),pa=N()({loader:function(){return Promise.all([ya.e("commons--FilePicker--box-preview-box-archive"),ya.e("box-preview-box-archive")]).then(ya.bind(null,"9VBQ"))},loading:function(){return null}}),fa=N()({loader:function(){return ya.e("box-preview-box-sheet").then(ya.bind(null,"zNre"))},loading:function(){return null}}),ha=N()({loader:function(){return ya.e("box-preview-wps-office").then(ya.bind(null,"MRG9"))},loading:function(){return null}}),ga=function(e){function n(e){var t;return C()(this,n),(t=S()(this,I()(n).call(this,e))).setDefaultI18n=function(){t.state.i18n||t.setState({i18n:Xe})},t.setDefaultI18nWhenTimeout=function(){t.timer=window.setTimeout(function(){t.setDefaultI18n()},3e3)},t.clearTimer=function(){t.timer&&(clearTimeout(t.timer),t.timer=void 0)},t.state={i18n:void 0},t.init(),t.setDefaultI18nWhenTimeout(),t}return L()(n,e),O()(n,[{key:"init",value:function(){var t=this;(0,ra[this.props.languageType])().then(function(e){t.setState({i18n:e.default})}).catch(function(){t.setDefaultI18n()})}},{key:"componentDidUpdate",value:function(e){e.languageType!==this.props.languageType&&(this.setState({i18n:void 0}),this.init())}},{key:"componentWillUnmount",value:function(){this.clearTimer()}},{key:"render",value:function(){var e=this.state.i18n;if(e){var t=oa({},this.props,{i18n:oa({},e,{},this.props.i18n)});return pe.a.createElement(na,de()({},t,{PDFViewer:ca,BoxMedia:ua,BoxImage:la,BoxCode:da,BoxArchive:pa,BoxSheet:fa,WPSOffice:ha,DriveIcon:qe,DriveCircularIcon:Ze}))}return pe.a.createElement(Rr,null)}}]),n}(pe.a.PureComponent);(sa=aa=aa||{})[sa.RECT=1]="RECT",sa[sa.OLD=2]="OLD",sa[sa.FULL=3]="FULL",sa[sa.TEXT=4]="TEXT";var ma=function(e){return pe.a.createElement(ga,de()({},e,{isDriveSDK:!1}))}}).call(this,ya("yLpj"))},qLPT:function(e,t,n){"use strict";var r=n("pevS"),i=n("maQk");r({target:"Array",proto:!0,forced:[].forEach!=i},{forEach:i})},qMRW:function(e,t,n){"use strict";var r=n("xUlX");function i(e,t){return e&&e.length&&t&&t.length?Object(r.a)(e,t):e}t.a=i},qQKe:function(e,t,n){var r=n("dktu"),i=r.JSON||(r.JSON={stringify:JSON.stringify});e.exports=function(e){return i.stringify.apply(i,arguments)}},qRXW:function(e,t,n){e.exports=n("gByu")},qYkn:function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return o});var r=n("jp/M"),i=function(){return{type:r.actionTypes.permission.COPY_TEXT_FAIL}},o=function(){return{type:r.actionTypes.permission.ADMIN_PERMISSION_FAIL}}},qZTm:function(e,t,n){var r=n("fR/l"),i=n("MvSz"),o=n("7GkX");function a(e){return r(e,o,i)}e.exports=a},qbnB:function(e,t,n){var r=n("juv8"),i=n("LsHQ"),o=n("mTTR"),a=i(function(e,t){r(t,o(t),e)});e.exports=a},qhvP:function(e,t,n){n("m/sp")("unscopables")},qjzJ:function(e,t,n){e.exports=n("2uPm")},qkqw:function(e,_,C){"use strict";(function(l){C.d(_,"a",function(){return p}),C.d(_,"b",function(){return E});var d,e,p,t,n=C("o0o1"),f=C.n(n),r=C("RIqP"),h=C.n(r),i=C("yXPU"),o=C.n(i),a=C("toa8"),s=C("lQZd"),c=C("AESI"),g=C("n/R6"),u=C("6jTl"),m=C("gfe6"),v=C("uGU9");function y(e,t,n){var r=function(){return a.b.post(c.POST_COPY_IMAGE_V3,{dest:{obj_type:t||Object(s.l)(),obj_token:n||Object(s.g)()},files:e})};return Object(v.a)(r,{max:3,interval:0,factor:1})().then(function(e){return e.payload},function(e){return e.payload})}function b(e){switch(e){case d.SUCCESS:break;case d.FILE_QUOTA_EXCEEDED:u.a.show({title:l("common.storage_usage_limitation_title"),body:l("common.storage_usage_limitation_body_paste"),hasCancel:!1});break;case d.FILE_COUNT_EXCEEDED:u.a.show({body:l("CreationDoc_Limitation_UploadAttachment"),hasCancel:!1});break;case d.FILE_DELETED:g.a.error({closable:!0,content:l("common.paste_deleted_image")});break;default:g.a.error({closable:!0,content:l("common.paste_image_failed")})}}function E(a,s,c){var t,u=!1,e=function(){var e=o()(f.a.mark(function e(){var t,n,r,i,o;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((e.prev=0)===a.length)return e.abrupt("return",{code:p.SUCCESSFUL,tokenMap:{}});e.next=3;break;case 3:if(Object(m.c)()){e.next=6;break}return g.a.error({closable:!0,content:l("common.paste_image_offline")}),e.abrupt("return",{code:p.FAILED});case 6:a=h()(new Set(a)),t=50,n={},r=0;case 10:if(!(r<a.length)){e.next=38;break}if(u)return e.abrupt("return",{code:p.CANCELED});e.next=13;break;case 13:return i=a.slice(r,r+t),e.next=16,y(i,s,c);case 16:if(o=e.sent,u)return e.abrupt("return",{code:p.CANCELED});e.next=19;break;case 19:if(!o){e.next=33;break}if(o.code){e.next=29;break}if(!o.data||!o.data.token){e.next=25;break}Object.assign(n,o.data.token),e.next=27;break;case 25:return b(o.code),e.abrupt("return",{code:p.FAILED});case 27:e.next=31;break;case 29:return b(o.code),e.abrupt("return",{code:p.FAILED});case 31:e.next=35;break;case 33:return b(d.FAIL),e.abrupt("return",{code:p.FAILED});case 35:r+=t,e.next=10;break;case 38:return e.abrupt("return",{code:p.SUCCESSFUL,tokenMap:n});case 41:if(e.prev=41,e.t0=e.catch(0),u)return e.abrupt("return",{code:p.CANCELED});e.next=45;break;case 45:return b(d.FAIL),e.abrupt("return",{code:p.FAILED});case 47:case"end":return e.stop()}},e,null,[[0,41]])}));return function(){return e.apply(this,arguments)}}(),n=new Promise(function(e){t=function(){u=!0,e({code:p.CANCELED})}});return{promise:Promise.race([e(),n]),cancel:t}}(e=d=d||{})[e.SUCCESS=0]="SUCCESS",e[e.FAIL=1]="FAIL",e[e.FILE_DELETED=90003032]="FILE_DELETED",e[e.FILE_QUOTA_EXCEEDED=90003081]="FILE_QUOTA_EXCEEDED",e[e.FILE_COUNT_EXCEEDED=90015407]="FILE_COUNT_EXCEEDED",(t=p=p||{}).SUCCESSFUL="successful",t.FAILED="failed",t.CANCELED="canceled"}).call(this,C("2vAP"))},qkt2:function(e,t,n){"use strict";n.d(t,"f",function(){return a}),n.d(t,"b",function(){return c}),n.d(t,"d",function(){return u}),n.d(t,"a",function(){return l}),n.d(t,"g",function(){return d}),n.d(t,"h",function(){return p}),n.d(t,"i",function(){return f}),n.d(t,"c",function(){return h}),n.d(t,"e",function(){return g});var r=n("u3oV"),i=n("gfe6"),o=n("nN3d"),a=function(e){return Array.isArray(e)?e:[e]},s=0,c=function(e){if(!e)return Object(o.c)(12);var t=e.webkitRelativePath||e.relativePath||e.fileName||e.name,n=e.size,r=Object(o.c)(6);return s++,"".concat(n,"-").concat(t.replace(/[^0-9a-zA-Z_-]/gim,""),"-").concat(r,"-").concat(s)},u=function(){return Object(o.c)(32)},l=function(e){return e<1024?e+" bytes":e<1048576?(e/1024).toFixed(0)+" KB":e<1073741824?(e/1024/1024).toFixed(1)+" MB":(e/1024/1024/1024).toFixed(1)+" GB"},d=function(e){return Object(r.a)(e,function(e){return null!=e})};function p(r){return new Promise(function(e,t){var n=new FileReader;n.onload=function(){e(n.result)},n.onerror=function(){t("upload read blob error")},n.readAsArrayBuffer(r)})}function f(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1e3;return new Promise(function(e){return window.setTimeout(e,t)})}function h(e){var t=String(e).split(".").pop();return t&&t!==e?t.toLowerCase():""}function g(){return navigator.onLine&&Object(i.c)()}},qpuQ:function(e,t,n){e.exports=n("Wrk+")},qtHR:function(e,t,n){"use strict";var r=n("HwUZ"),i=n("MCLT").inherits,o=n("pRQB").CODE_POINTS,a=e.exports=function(e){return e.__locTracker||(e.__locTracker=this,r.call(this,e),this.preprocessor=e,this.isEol=!1,this.lineStartPos=0,this.droppedBufferSize=0,this.col=-1,this.line=1),e.__locTracker};i(a,r),Object.defineProperty(a.prototype,"offset",{get:function(){return this.droppedBufferSize+this.preprocessor.pos}}),a.prototype._getOverriddenMethods=function(t,n){return{advance:function(){var e=n.advance.call(this);return t.isEol&&(t.isEol=!1,t.line++,t.lineStartPos=t.offset),e===o.LINE_FEED&&(t.isEol=!0),t.col=t.offset-t.lineStartPos+1,e},retreat:function(){n.retreat.call(this),t.isEol=!1,t.col=t.offset-t.lineStartPos+1},dropParsedChunk:function(){var e=this.pos;n.dropParsedChunk.call(this),t.droppedBufferSize+=e-this.pos}}}},qtYV:function(e,t,n){"use strict";var r=n("CRWC"),i=n.n(r),m=n("yGdm"),v=n("HmyT"),o=n("cgIo"),u=n("wq9/"),y=(n("yxg6"),8),b={showStatus:!1,referenceCount:0,init:function(){this.referenceCount++,Object(v.$)(".link-modify-popup").length||(b.outContainer=Object(v.$)(".doc-popup-container"),Object(v.$)(Object(o.a)(i.a)()).appendTo(b.outContainer),b.modifyPopUp=Object(v.$)(".link-modify-popup"),b.triangle=b.modifyPopUp.find(".link-popup__triangle"),b.linkText=b.modifyPopUp.find("span.link-modify-text"),b.linkDelete=b.modifyPopUp.find("span.link-modify-delete"))},hidePopUp:function(){b.showStatus=!1,b.modifyPopUp.addClass("link-popup_hidden"),b.modifyPopUp.find(".link-modify-submit").off("click"),b.modifyPopUp.find(".link-modify-delete").off("click")},showPopUp:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1;this.linkDom=Object(v.$)(e);var r,i,o,a,s,c,u,l,d,p,f,h=E(e,(t=t||{}).y,n),g=h.left+h.width/2;b.outContainer[0]&&Object(v.$)(".etherpad-client-container")[0]&&(r=b.outContainer[0].getBoundingClientRect(),i=m.d,a=(o=Object(v.$)(".etherpad-client-container")[0].getBoundingClientRect()).width,u=(s=o.right)-(c=i/2),l=Math.min(g,u)-c-r.left,d=h.top+h.height-r.top+y,p=a+l,b.triangle.css({"margin-left":""}),p<0?(b.triangle.css({"margin-left":"".concat((parseInt(b.triangle.css("margin-left"),10)||0)+p,"px")}),l=2-a):u<g&&(f=c-(s-g)-8,b.triangle.css({"margin-left":"".concat(f,"px")})),b.modifyPopUp.css({left:"".concat(l,"px"),top:"".concat(d,"px")}),b.showStatus=!0)},getContainer:function(){return b.outContainer},destroy:function(){this.referenceCount--,0===this.referenceCount&&(b.outContainer=null,b.modifyPopUp=null,b.triangle=null,b.linkText=null,b.linkDelete=null)}};function E(e,t,n){if(!e.getClientRects)return Object(u.b)(e.getBoundingClientRect(),n);var r=e.getClientRects(),i={};Object.values(r).map(function(e){return Object(u.b)(e,n)}).forEach(function(e){var t;i[e.y]?(t=i[e.y],i[e.y]={left:Math.min(t.left,e.left),top:e.top,width:t.width+e.width,height:e.height}):i[e.y]=e}),r=Object.values(i);for(var o=0;o<r.length;o++){var a=r[o],s=a.top,c=a.top+a.height;if(s<=t&&t<=c)return a}return Object(u.b)(e.getBoundingClientRect(),n)}t.a=b},quEg:function(e,t,n){"use strict";function r(e){var r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return e&&e.replace(/{{(?:"([^"]*)"|(.*?))}}/g,function(e,t,n){return null!==r[n]?r[n]:null!==r[t]?r[t]:e})}n.d(t,"a",function(){return r})},qup3:function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return o});var r=n("jp/M"),i=function(e){return{type:r.actionTypes.commentPosition.SET_COMMENT_POSITION_DATA,payload:e}},o=function(e){return{type:r.actionTypes.commentPosition.TOGGLE_COMMENT_SHOWN,payload:e}}},qvaM:function(e,t,n){"use strict";var r,i,a,o,s,c,u=n("lSNA"),l=n.n(u),d=n("lwsE"),p=n.n(d),f=n("W8MJ"),h=n.n(f);(i=r=r||{})[i.SUCCESS=0]="SUCCESS",i[i.FAILED_NOT_RETRYABLE=1]="FAILED_NOT_RETRYABLE",i[i.FAILED_RETRYABLE=2]="FAILED_RETRYABLE",(o=a=a||{}).Event="event",o.Log="log",o.Metric="metric",o.Tracing="tracing",(c=s=s||{})[c.Debug=0]="Debug",c[c.Info=1]="Info",c[c.Warn=2]="Warn",c[c.Error=3]="Error",c[c.Fatal=4]="Fatal";var g=n("cqmu"),m=n("dOQ/"),v=n("ZpVk");function y(e){return Array.isArray(e)&&2===e.length}function b(e){return e&&y(e)?1e3*e[0]+e[1]/1e6:e}function E(e){switch(e){case v.CanonicalCode.OK:return s.Debug;case v.CanonicalCode.INTERNAL:case v.CanonicalCode.RESOURCE_EXHAUSTED:case v.CanonicalCode.UNAVAILABLE:return s.Error;default:return s.Warn}}var _=function(){function o(){p()(this,o),this.attributes={lib:"@lark/acelogger@0.7.3",logger:"acelogger",spanKind:m.SpanKind.INTERNAL,spanName:"unknown"}}return h()(o,[{key:"setAttributes",value:function(e){Object.assign(this.attributes,e)}},{key:"getAttributes",value:function(){return this.attributes}},{key:"debug",value:function(e,t){this.innerLog(Object.assign({},t,{level:s.Debug,message:e,name:"log.debug",type:a.Log}))}},{key:"info",value:function(e,t){this.innerLog(Object.assign({},t,{level:s.Info,message:e,name:"log.info",type:a.Log}))}},{key:"warn",value:function(e,t){this.innerLog(Object.assign({},t,{level:s.Warn,message:e,name:"log.warn",type:a.Log}))}},{key:"error",value:function(e,t){this.innerLog(Object.assign({},t,{level:s.Error,message:e.message,name:"log.error",stack:e.stack,type:a.Log}))}},{key:"fatal",value:function(e,t){this.innerLog(Object.assign({},t,{level:s.Fatal,message:e.message,name:"log.fatal",stack:e.stack,type:a.Log}))}},{key:"storeMetrics",value:function(e){var t=e.message?", ".concat(e.message):"";this.innerLog(Object.assign({},e,{level:e.level||s.Debug,message:"store ".concat(JSON.stringify(e.metrics)).concat(t),name:"metric.store",type:a.Metric}))}},{key:"event",value:function(e,t){var n=Object.assign({},t,{level:s.Info,message:t&&t.message||"log event: ".concat(e),name:e,type:a.Event});this.innerLog(n)}},{key:"startSpan",value:function(e,t){var n=this.span?Object.assign({},t,{parent:this.span.context}):t,r=this.manager.tracer.createSpan(e,n),i=new o;return i.span=r,i.manager=this.manager,i.setAttributes(Object.assign({},this.attributes,r.attributes,{spanKind:r.kind,spanName:r.name})),i.innerLog({level:s.Info,message:"".concat(r.name,".start"),metrics:l()({},"".concat(r.name,".start.latency"),r.startTime-r.userStartTime),name:"".concat(r.name,".start"),type:a.Tracing}),i}},{key:"endSpan",value:function(e){var t,n,r;this.span?((t=Object.assign({},e,{name:"".concat(this.span.name,".end"),type:a.Tracing})).level=t.level||s.Info,this.span.endTime=b(t.time)||this.manager.timer.now(),n=this.span.endTime-this.span.startTime,t.metrics=Object.assign({},l()({},"".concat(this.span.name,".duration"),n),t.metrics),r=t.message?", ".concat(t.message):"",t.message="".concat(this.span.name," end with ").concat(n,"ms").concat(r),this.innerLog(t)):this.error(new Error("logger.endSpan must call after logger.startSpan"))}},{key:"flush",value:function(e){this.manager.flush(e)}},{key:"innerLog",value:function(e){var t=e.traceFlags||g.TraceFlags.NONE,n=Object.assign({},{spanId:"0",traceId:"0"},e.data),r=Object.assign({},this.attributes,e.attributes);this.span&&(void 0!==e.traceFlags&&null!==e.traceFlags||(t=this.span.context.traceFlags),n.spanId=this.span.context.spanId,n.traceId=this.span.context.traceId,r.spanName=this.span.name,r.spanKind=this.span.kind);var i=e.status||v.CanonicalCode.OK,o=Math.max(E(i),e.level),a=e.time||this.manager.timer.now();this.manager.addEvent({attributes:r,data:n,level:o,message:e.message,metrics:e.metrics,name:e.name,stack:e.stack,status:i,time:a,traceFlags:t,type:e.type})}}]),o}(),C={$rootSpan:0};function T(e,t){var n=t?C[t]?C[t]=C[t]+1:C[t]=1:C.$rootSpan=C.$rootSpan+1;return(t?"".concat(t,"."):"".concat(e,"-")).concat(n)}function O(){return Math.random().toString(32).substring(2,8)+Math.random().toString(32).substring(2,8)}var k,S,w=function(){function e(){p()(this,e),this.data={startTime:Date.now()}}return h()(e,[{key:"toJSON",value:function(){return this.data}},{key:"createSpanContext",value:function(e){var t=Object.assign({},e),n=t.traceId||O();return{isRemote:t.isRemote,spanId:T(n,t.spanId),traceFlags:t.traceFlags||g.TraceFlags.NONE,traceId:n,traceState:t.traceState}}},{key:"createSpan",value:function(e,t){var n=t||{},r=this.manager.timer.now(),i=b(n.startTime)||r;return{attributes:n.attributes,context:this.createSpanContext(n.parent),endTime:0,kind:n.kind||m.SpanKind.INTERNAL,name:e,parentContext:n.parent,startTime:r,userStartTime:i}}},{key:"start",value:function(e){this.data.startTime=b(e)||this.manager.timer.now()}},{key:"end",value:function(e){this.data.endTime=b(e)||this.manager.timer.now()}}]),e}(),I={now:function(){return Date.now()}};(S=k=k||{}).Logger="logger",S.Tracer="tracer",S.Timer="timer";var x,L=function(){function e(){p()(this,e),this.eventBuffer=new Map,this.registries=new Map,this.exporterMap=new Map,this.bufferCount=0,this.bufferSize=10,this.defaultLogger=new _,(this.defaultLogger.manager=this).defaultTracer=new w,this.defaultTracer.manager=this}return h()(e,[{key:"setLogger",value:function(e){this.registries.set("logger",e),e&&(e.manager=this)}},{key:"setTracer",value:function(e){this.registries.set("tracer",e),e&&(e.manager=this)}},{key:"setTimer",value:function(e){this.registries.set(k.Timer,e)}},{key:"setBufferSize",value:function(e){this.bufferSize=e}},{key:"setExporter",value:function(r,i){var o=this;return Object.keys(s).forEach(function(e){var t,n=s[e];"number"==typeof n&&r<=n&&((t=o.exporterMap.get(n)||[]).push(i),o.exporterMap.set(n,t))}),this}},{key:"addEvent",value:function(e){var t=this.eventBuffer.get(e.level)||[];return t.push(e),this.bufferCount++,this.eventBuffer.set(e.level,t),this.bufferCount>=this.bufferSize&&this.flush(),this}},{key:"flush",value:function(e){var n=this;this.flushTimer||(this.flushTimer=setTimeout(function(){n.eventBuffer.forEach(function(e,t){n.export(t,e)}),n.eventBuffer=new Map,n.bufferCount=0,n.flushTimer=null,e&&e()},0))}},{key:"export",value:function(e,t){try{var n=this.exporterMap.get(e);n&&n.forEach(function(e){e.export(t,function(e){e!==r.SUCCESS&&console.error("Failed export event with ".concat(e===r.FAILED_NOT_RETRYABLE?"no":""," retry"))})})}catch(e){console.error("Failed export events with error",e)}}},{key:"logger",get:function(){return this.registries.get(k.Logger)||this.defaultLogger}},{key:"tracer",get:function(){return this.registries.get(k.Tracer)||this.defaultTracer}},{key:"timer",get:function(){return this.registries.get(k.Timer)||I}},{key:"flushing",get:function(){return!!this.flushTimer}}]),e}(),R=n("RIqP"),N=n.n(R);function D(e){var t=e.attributes||{},n=t.spanName?"|"+t.spanName:"",r=t.spanId?"|"+t.spanId:"";return"".concat(t.logger||"").concat(n).concat(r)}var M=(x={},l()(x,s.Debug,"DEBUG"),l()(x,s.Info,"INFO"),l()(x,s.Warn,"WARN"),l()(x,s.Error,"ERROR"),x);function P(e,t){var n,r,i,o,a;if(e.level>=s.Error)(a=console).warn.apply(a,N()(t(e)));else switch(e.level){case s.Debug:(n=console).debug.apply(n,N()(t(e)));break;case s.Info:(r=console).info.apply(r,N()(t(e)));break;case s.Warn:(i=console).warn.apply(i,N()(t(e)));break;default:(o=console).info.apply(o,N()(t(e)))}}function j(e){var t=(window.__debug||"").split(",");(t.includes(e.attributes.spanName)||t.includes("*")||e.level>=s.Warn)&&P(e,F)}function F(e){var t=e.level<s.Warn?"#bbbbbb":"#FF7043";return["%c".concat(M[e.level]," ").concat(D(e)),"font-weight: bold; color: ".concat(t,";"),'"'.concat(e.message||"no message",'"'),e]}var B=function(){function e(){p()(this,e),this.stoped=!1}return h()(e,[{key:"export",value:function(e,t){this.stoped||(e.forEach(j),t&&t(r.SUCCESS))}},{key:"shutdown",value:function(){this.stoped=!0}}]),e}();n.d(t,"d",function(){return r}),n.d(t,"c",function(){return a}),n.d(t,"e",function(){return s}),n.d(t,"h",function(){return g.TraceFlags}),n.d(t,"g",function(){return m.SpanKind}),n.d(t,"a",function(){return v.CanonicalCode}),n.d(t,"i",function(){return O}),n.d(t,"b",function(){return B}),n.d(t,"f",function(){return L});var U=new L;t.j=U},qxQb:function(e,t,n){"use strict";var o=function(e){return"#"===e.charAt(0)?e.slice(1):e},a=function(e){var t=3===e.length||4===e.length;return{r:t?"".concat(e.slice(0,1)).concat(e.slice(0,1)):e.slice(0,2),g:t?"".concat(e.slice(1,2)).concat(e.slice(1,2)):e.slice(2,4),b:t?"".concat(e.slice(2,3)).concat(e.slice(2,3)):e.slice(4,6),a:(t?"".concat(e.slice(3,4)).concat(e.slice(3,4)):e.slice(6,8))||"ff"}},s=function(e){return parseInt(e,16)},c=function(e){var t=e.r,n=e.g,r=e.b,i=e.a;return{r:s(t),g:s(n),b:s(r),a:+(s(i)/255).toFixed(2)}},u=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},l=function(e,t){var n=e.r,r=e.g,i=e.b,o=e.a,a=u(t)?t:o;return"rgba(".concat(n,", ").concat(r,", ").concat(i,", ").concat(a,")")},r=function(e,t){var n=o(e),r=a(n),i=c(r);return l(i,t)};e.exports=r},r2fs:function(e,t,n){"use strict";n.d(t,"b",function(){return O});var r=n("o0o1"),l=n.n(r),i=n("yXPU"),a=n.n(i),o=n("lwsE"),s=n.n(o),c=n("W8MJ"),u=n.n(c),d=n("a1gu"),p=n.n(d),f=n("Nsbk"),h=n.n(f),g=n("7W2i"),m=n.n(g),v=n("q1tI"),y=n.n(v),b=n("H2hp"),E=n("YZDV"),_=n.n(E),C=n("0+OW"),T=n("8ZiO");n.d(t,"a",function(){return b.a});C.b;var O=function(e){function t(){var i;return s()(this,t),(i=p()(this,h()(t).apply(this,arguments))).state={locale:b.c.locale,lang:b.c.lang,l2r:b.c.l2r,theme:b.c.theme,is12Hour:b.c.is12Hour,timezone:"",isInnerRerender:!1},i.update=function(){var t=a()(l.a.mark(function e(t){var n,r;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.props.onUpdate)return e.next=4,n(t);e.next=6;break;case 4:r=e.sent,i.setState(Object.assign({},t,{},r,{isInnerRerender:!0}));case 6:return i.setState(Object.assign({},t,{isInnerRerender:!0})),e.abrupt("return");case 8:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}(),i}function n(){return r.apply(this,arguments)}var r,i;function o(){return i.apply(this,arguments)}return m()(t,e),u()(t,[{key:"componentDidMount",value:(i=a()(l.a.mark(function e(){var t,n,r;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=this.state,n=t.locale,r=t.theme,document.body.classList.add("larkc-".concat(n)),r&&document.body.classList.add("larkc-".concat(r)),this.autoUpdate();case 4:case"end":return e.stop()}},e,this)})),o)},{key:"componentDidUpdate",value:function(){this.autoUpdate()}},{key:"autoUpdate",value:(r=a()(l.a.mark(function e(){var t,n,r,i,o,a,s,c,u;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.state,n=t.locale,r=t.theme,i=t.lang,o=t.l2r,a=t.is12Hour,s=t.timezone,c=this.props.onUpdate,!i&&c)return e.next=5,c({locale:n,theme:r,l2r:o,is12Hour:a,timezone:s});e.next=7;break;case 5:u=e.sent,this.setState(Object.assign({},u,{isInnerRerender:!0}));case 7:case"end":return e.stop()}},e,this)})),n)},{key:"shouldComponentUpdate",value:function(e,t){var n,r,i,o=_()(this,e,t);return o&&(r=(n=this.state).locale,i=n.theme,r!==t.locale&&(document.body.classList.remove("larkc-".concat(r)),document.body.classList.add("larkc-".concat(t.locale))),i!==t.theme&&(i&&document.body.classList.remove("larkc-".concat(i)),t.theme&&document.body.classList.add("larkc-".concat(t.theme)))),o}},{key:"render",value:function(){var e=this.props.children,t=this.state,n=t.locale,r=t.lang,i=t.l2r,o=t.theme,a=t.is12Hour,s=t.timezone;return r?y.a.createElement(b.b.Provider,{value:{locale:n||T.a.enUS,lang:r,l2r:i,theme:o,is12Hour:a,timezone:s,update:this.update}},e):null}}],[{key:"getDerivedStateFromProps",value:function(e,t){if(t&&t.isInnerRerender){var n=Object.assign({},t);return n.isInnerRerender=!1,n}var r=t&&t.locale===e.locale&&t.lang!==b.c.lang;return{locale:e.locale,lang:(r?t:e).lang,l2r:e.l2r,theme:e.theme,is12Hour:e.is12Hour,timezone:e.timezone,isInnerRerender:!1}}}]),t}(y.a.Component)},r5mi:function(e,t,n){"use strict";var r=n("+Gkg");n.d(t,"a",function(){return r.a})},rAxL:function(e,t,n){n("3mr1");var r=n("dktu");e.exports=r.Object.getPrototypeOf},rEGp:function(e,t){function n(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}e.exports=n},rFy5:function(e,t,n){"use strict";n.d(t,"b",function(){return o}),n.d(t,"a",function(){return a});var r={"&nbsp;":"","&iexcl;":"","&cent;":"","&pound;":"","&curren;":"","&yen;":"","&brvbar;":"","&sect;":"","&uml;":"","&copy;":"","&ordf;":"","&laquo;":"","&not;":"","&shy;":"","&reg;":"","&macr;":"","&deg;":"","&plusmn;":"","&sup2;":"","&sup3;":"","&acute;":"","&micro;":"","&para;":"","&middot;":"","&cedil;":"","&sup1;":"","&ordm;":"","&raquo;":"","&frac14;":"","&frac12;":"","&frac34;":"","&iquest;":"","&Agrave;":"","&Aacute;":"","&Acirc;":"","&Atilde;":"","&Auml;":"","&Aring;":"","&AElig;":"","&Ccedil;":"","&Egrave;":"","&Eacute;":"","&Ecirc;":"","&Euml;":"","&Igrave;":"","&Iacute;":"","&Icirc;":"","&Iuml;":"","&ETH;":"","&Ntilde;":"","&Ograve;":"","&Oacute;":"","&Ocirc;":"","&Otilde;":"","&Ouml;":"","&times;":"","&Oslash;":"","&Ugrave;":"","&Uacute;":"","&Ucirc;":"","&Uuml;":"","&Yacute;":"","&THORN;":"","&szlig;":"","&agrave;":"","&aacute;":"","&acirc;":"","&atilde;":"","&auml;":"","&aring;":"","&aelig;":"","&ccedil;":"","&egrave;":"","&eacute;":"","&ecirc;":"","&euml;":"","&igrave;":"","&iacute;":"","&icirc;":"","&iuml;":"","&eth;":"","&ntilde;":"","&ograve;":"","&oacute;":"","&ocirc;":"","&otilde;":"","&ouml;":"","&divide;":"","&oslash;":"","&ugrave;":"","&uacute;":"","&ucirc;":"","&uuml;":"","&yacute;":"","&thorn;":"","&yuml;":"","&quot;":'"',"&amp;":"&","&lt;":"<","&gt;":">","&apos;":"'","&OElig;":"","&oelig;":"","&Scaron;":"","&scaron;":"","&Yuml;":"","&circ;":"","&tilde;":"","&ensp;":"","&emsp;":"","&thinsp;":"","&zwnj;":"","&zwj;":"","&lrm;":"","&rlm;":"","&ndash;":"","&mdash;":"","&lsquo;":"","&rsquo;":"","&sbquo;":"","&ldquo;":"","&rdquo;":"","&bdquo;":"","&dagger;":"","&Dagger;":"","&permil;":"","&lsaquo;":"","&rsaquo;":"","&euro;":"","&fnof;":"","&Alpha;":"","&Beta;":"","&Gamma;":"","&Delta;":"","&Epsilon;":"","&Zeta;":"","&Eta;":"","&Theta;":"","&Iota;":"","&Kappa;":"","&Lambda;":"","&Mu;":"","&Nu;":"","&Xi;":"","&Omicron;":"","&Pi;":"","&Rho;":"","&Sigma;":"","&Tau;":"","&Upsilon;":"","&Phi;":"","&Chi;":"","&Psi;":"","&Omega;":"","&alpha;":"","&beta;":"","&gamma;":"","&delta;":"","&epsilon;":"","&zeta;":"","&eta;":"","&theta;":"","&iota;":"","&kappa;":"","&lambda;":"","&mu;":"","&nu;":"","&xi;":"","&omicron;":"","&pi;":"","&rho;":"","&sigmaf;":"","&sigma;":"","&tau;":"","&upsilon;":"","&phi;":"","&chi;":"","&psi;":"","&omega;":"","&thetasym;":"","&upsih;":"","&piv;":"","&bull;":"","&hellip;":"","&prime;":"","&Prime;":"","&oline;":"","&frasl;":"","&weierp;":"","&image;":"","&real;":"","&trade;":"","&alefsym;":"","&larr;":"","&uarr;":"","&rarr;":"","&darr;":"","&harr;":"","&crarr;":"","&lArr;":"","&uArr;":"","&rArr;":"","&dArr;":"","&hArr;":"","&forall;":"","&part;":"","&exist;":"","&empty;":"","&nabla;":"","&isin;":"","&notin;":"","&ni;":"","&prod;":"","&sum;":"","&minus;":"","&lowast;":"","&radic;":"","&prop;":"","&infin;":"","&ang;":"","&and;":"","&or;":"","&cap;":"","&cup;":"","&int;":"","&there4;":"","&sim;":"","&cong;":"","&asymp;":"","&ne;":"","&equiv;":"","&le;":"","&ge;":"","&sub;":"","&sup;":"","&nsub;":"","&sube;":"","&supe;":"","&oplus;":"","&otimes;":"","&perp;":"","&sdot;":"","&lceil;":"","&rceil;":"","&lfloor;":"","&rfloor;":"","&lang;":"","&rang;":"","&loz;":"","&spades;":"","&clubs;":"","&hearts;":"","&diams;":""};function i(e){if("#"!==e.charAt(1))return r[e]||e;var t=e.charAt(2),n="x"===t||"X"===t?(t=e.substring(3,e.length-1),parseInt(t,16)):(t=e.substring(2,e.length-1),parseInt(t));return isNaN(n)?e:String.fromCharCode(n)}function o(e){return e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function a(e){return e.replace(/&#?\w+;/g,i)}},rSeq:function(e,t,n){"use strict";var i=n("zJQS"),r=function(e){var n,r;this.promise=new e(function(e,t){if(void 0!==n||void 0!==r)throw TypeError("Bad Promise constructor");n=e,r=t}),this.resolve=i(n),this.reject=i(r)};e.exports.f=function(e){return new r(e)}},rUU8:function(e,u,l){"use strict";(function(e){l.d(u,"e",function(){return o}),l.d(u,"d",function(){return a}),l.d(u,"f",function(){return s}),l.d(u,"b",function(){return c}),l.d(u,"c",function(){return t}),l.d(u,"a",function(){return r});var t,n,r,i,o=[{dataKey:"h1",className:"",des:"",dataId:"h1-btn",toolTips:{tipText:e("common.first_level_heading"),keyText:{osx:"+Option+1",other:"Ctrl+Alt+1"},markdown:!0},type:"style"},{dataKey:"h2",className:"",des:"",dataId:"h2-btn",toolTips:{tipText:e("common.second_level_heading"),keyText:{osx:"+Option+2",other:"Ctrl+Alt+2"},markdown:!0},type:"style"},{dataKey:"h3",className:"",des:"",dataId:"h3-btn",toolTips:{tipText:e("common.third_level_heading"),keyText:{osx:"+Option+3",other:"Ctrl+Alt+3"},markdown:!0},type:"style"},{dataKey:"h4",className:"",des:"",dataId:"h4-btn",toolTips:{tipText:e("common.forth_level_heading"),keyText:{osx:"+Option+4",other:"Ctrl+Alt+4"},markdown:!0},type:"style"},{dataKey:"h5",className:"",des:"",dataId:"h5-btn",toolTips:{tipText:e("common.fifth_level_heading"),keyText:{osx:"+Option+5",other:"Ctrl+Alt+5"},markdown:!0},type:"style"},{dataKey:"h6",className:"",des:"",dataId:"h6-btn",toolTips:{tipText:e("common.sixth_level_heading"),keyText:{osx:"+Option+6",other:"Ctrl+Alt+6"},markdown:!0},type:"style"},{dataKey:"h7",className:"",des:"",dataId:"h7-btn",toolTips:{tipText:e("common.seventh_level_heading"),keyText:{osx:"+Option+7",other:"Ctrl+Alt+7"},markdown:!0},type:"style"},{dataKey:"h8",className:"",des:"",dataId:"h8-btn",toolTips:{tipText:e("common.eighth_level_heading"),keyText:{osx:"+Option+8",other:"Ctrl+Alt+8"},markdown:!0},type:"style"},{dataKey:"h9",className:"",des:"",dataId:"h9-btn",toolTips:{tipText:e("common.ninth_level_heading"),keyText:{osx:"+Option+9",other:"Ctrl+Alt+9"},markdown:!0},type:"style"}],a=[{dataKey:"alignleft",className:"alignleft",des:"",dataId:"align-left-btn",toolTips:{tipText:e("editorbar.align_left"),keyText:{osx:"+Shift+L",other:"Ctrl+Shift+L"}},type:"style"},{dataKey:"aligncenter",className:"aligncenter",des:"",dataId:"align-center-btn",toolTips:{tipText:e("editorbar.align_center"),keyText:{osx:"+Shift+E",other:"Ctrl+Shift+E"}},type:"style"},{dataKey:"alignright",className:"alignright",des:"",dataId:"align-right-btn",toolTips:{tipText:e("editorbar.align_right"),keyText:{osx:"+Shift+R",other:"Ctrl+Shift+R"}},type:"style"}],s=[{dataKey:"alignleft",className:"alignleft",des:"",dataId:"align-left-btn",toolTips:{tipText:e("editorbar.align_left")}},{dataKey:"aligncenter",className:"aligncenter",des:"",dataId:"align-center-btn",toolTips:{tipText:e("editorbar.align_center")}},{dataKey:"alignright",className:"alignright",des:"",dataId:"align-right-btn",toolTips:{tipText:e("editorbar.align_right")}}],c={POPUP_GAP:8,POPUP_GAP_TABLE_CELL:6,POPUP_HEIGHT:50,HEADER_BAR_HEIGHT:64,POPUP_BTN_WIDTH:32,POPUP_WIDTH:{READONLY_TEXT:58,TEXT:450,IMAGE:203},TOOLTIP_PLACEMENT:"top"};(n=t=t||{}).MOUSE_ENTER_SELECTION_POPOVER="MOUSE_ENTER_SELECTION_POPOVER",n.MOUSE_LEAVE_SELECTION_POPOVER="MOUSE_LEAVE_SELECTION_POPOVER",(i=r=r||{}).BLOCK="BLOCK",i.TEXT="TEXT",i.EMPTY="EMPTY"}).call(this,l("2vAP"))},rWdK:function(e,t,n){"use strict";n.d(t,"c",function(){return o}),n.d(t,"a",function(){return a}),n.d(t,"b",function(){return s});var r=n("MFtX"),i=function(e){return e.doc&&e.doc.jira||r.a},o=function(e){return i(e).syncStatus},a=function(e){return i(e).authStatus},s=function(e){return i(e).initDataMap}},rZkV:function(e,t,n){e.exports=n("SSkQ")},rbSl:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n("J4zp"),E=n.n(r);function _(e,t){var n=e.lines.atIndex(t);return n?n.lineMarker:0}function C(e,t){var n=e.lines.atIndex(t);return n?n.text.length:0}function i(e){var t=e.editor,n=e.attrib,r=e.checkSelLineFirst,i=void 0!==r&&r,o=E()(n,1)[0];if(i){var a=t.getRep(),s=a.zoneId,c=a.selStart[0],u={selStart:[c,_(a,c)],selEnd:[c,C(a,c)]},l=t.getMatchedAttributeOnSelection(s,u,o);if(0<l.length)return l[0]}for(var d=t.getReps(),p=String(n),f=0,h=Object.keys(d);f<h.length;f++){var g=h[f],m=d[g];if(void 0!==m.apool.getAttribNum(p)){var v=m.lines.length()-1,y={selStart:[0,0],selEnd:[v,C(m,v)]},b=t.getMatchedAttributeOnSelection(g,y,o);if(0<b.length)return b[0]}}return null}},rdWV:function(e,t,n){"use strict";var r=n("lSNA"),C=n.n(r),i=n("lwsE"),o=n.n(i),a=n("W8MJ"),s=n.n(a),c=n("a1gu"),u=n.n(c),l=n("Nsbk"),d=n.n(l),p=n("7W2i"),f=n.n(p),h=n("q1tI"),T=n.n(h),g=n("i8i4"),O=n.n(g),m=n("TSYQ"),k=n.n(m);function S(e){var t=e.style.overflow,n=e.style.transform;n||(e.style.transform="translateZ(0)"),t&&"visible"!==t||(e.style.overflow="hidden");var r=e.clientWidth<e.scrollWidth||e.clientHeight<e.scrollHeight;return e.style.overflow=t,n||(e.style.transform=""),r}var w=n("XsWd"),I=n("K7zS");n("szxl");n.d(t,"a",function(){return v});var v=function(e){function t(e){var i;return o()(this,t),(i=u()(this,d()(t).call(this,e))).handleAlign=function(e,t,n){var r="";switch(n.points.join()){case"bc,tc":r="top";break;case"tc,bc":r="bottom";break;case"cr,cl":r="left";break;case"cl,cr":r="right";break;default:r=""}r!==i.state.placementResult&&i.setState({placementResult:r})},i.triggerRef=T.a.createRef(),i.childRef=T.a.createRef(),i.state={placementResult:""},i}return f()(t,e),s()(t,[{key:"open",value:function(){this.triggerRef.current&&this.triggerRef.current.open()}},{key:"close",value:function(){this.triggerRef.current&&this.triggerRef.current.close()}},{key:"render",value:function(){var r=this,e=this.props,t=e.alignContainer,n=e.children,i=e.className,o=e.closeDelay,a=e.closeEvents,s=e.disabled,c=e.getPortalContainer,u=e.content,l=e.maxWidth,d=e.maxWidthBreakAll,p=e.padding,f=e.openDelay,h=e.openEvents,g=e.placement,m=e.withArrow,v=e.type,y=e.arrowSizeLevel,b=this.state.placementResult,E=k()("".concat(I.d,"-tooltip"),"".concat(I.d,"-tooltip-").concat(v),C()({},i,Boolean(i))),_=function(){var e=!1;r.props.checkOverflow&&r.childRef.current&&!S(O.a.findDOMNode(r.childRef.current))||(e=!0);var t=m&&"custom"!==g;if(e){var n={};return l&&(n.maxWidth=l,d&&(n.wordBreak="break-all")),t?T.a.createElement("div",{className:k()("".concat(I.d,"-tooltip-wrapper"),"".concat(I.d,"-tooltip-wrapper-").concat(b))},T.a.createElement("div",{className:k()("".concat(I.d,"-tooltip-arrow"),"".concat(I.d,"-tooltip-arrow-").concat(v),y&&"default"!==y?y:null)}),T.a.createElement("div",{className:E,style:n},u)):T.a.createElement("div",{className:E,style:n},u)}return null};return T.a.createElement(w.a,{alignContainer:t,closeDelay:o,closeEvents:a,disabled:s||!u,getPortalContainer:c,openDelay:f,openEvents:h,popup:_,popupAlign:{align:this.align,padding:p},ref:this.triggerRef,onAlign:this.handleAlign},T.a.cloneElement(n,{ref:this.childRef}))}},{key:"align",get:function(){var e=this.props.placement,t=this.props.points,n=this.props.offset,r={overflow:{adjustX:!0,adjustY:!0},points:t},i=0,o=0;switch(e){case"top":r.points=["bc","tc"],o=n.y||-8;break;case"left":r.points=["cr","cl"],i=n.x||-8;break;case"right":r.points=["cl","cr"],i=n.x||8;break;case"bottom":r.points=["tc","bc"],o=n.y||8;break;case"custom":r.points=t,i=n.x||0,o=n.y||0}return r.offset=[i,o],r}}]),t}(h.Component);v.defaultProps={checkOverflow:!1,className:"",closeDelay:0,closeEvents:"onMouseLeave",disabled:!1,maxWidth:0,maxWidthBreakAll:!0,offset:{x:0,y:0},openDelay:300,openEvents:"onMouseEnter",padding:{},placement:"top",points:["bc","tc"],withArrow:!1,type:"default",arrowSizeLevel:"default"}},rlTC:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n("F2jy"),i=new Proxy({},{get:function(e,t){var n=Object(r.a)("env");return(void 0!==n&&void 0!==n[t]?n:e)[t]}});i.update=function(){console.error("web not impl.")}},rrFr:function(e,t,n){var r,i,o;i=[],void 0===(o="function"==typeof(r=function(){return function t(e,n,r){var i=window,o="application/octet-stream",a=r||o,s=e,c=!n&&!r&&s,u=document.createElement("a"),l=function(e){return String(e)},d=i.Blob||i.MozBlob||i.WebKitBlob||l,p=n||"download",f,h;d=d.call?d.bind(i):Blob;if(String(this)==="true"){s=[s,a];a=s[0];s=s[1]}if(c&&c.length<2048){p=c.split("/").pop().split("?")[0];u.href=c;if(u.href.indexOf(c)!==-1){var g=new XMLHttpRequest;g.open("GET",c,true);g.responseType="blob";g.onload=function(e){t(e.target.response,p,o)};setTimeout(function(){g.send()},0);return g}}if(/^data:([\w+-]+\/[\w+.-]+)?[,;]/.test(s))if(s.length>1024*1024*1.999&&d!==l){s=b(s);a=s.type||o}else return navigator.msSaveBlob?navigator.msSaveBlob(b(s),p):E(s);else if(/([\x80-\xff])/.test(s)){var m=0,v=new Uint8Array(s.length),y=v.length;for(m;m<y;++m)v[m]=s.charCodeAt(m);s=new d([v],{type:a})}f=s instanceof d?s:new d([s],{type:a});function b(e){var t=e.split(/[:;,]/),n=t[1],r=t[2]=="base64"?atob:decodeURIComponent,i=r(t.pop()),o=i.length,a=0,s=new Uint8Array(o);for(a;a<o;++a)s[a]=i.charCodeAt(a);return new d([s],{type:n})}function E(e,t){if("download"in u){u.href=e;u.setAttribute("download",p);u.className="download-js-link";u.innerHTML="downloading...";u.style.display="none";document.body.appendChild(u);setTimeout(function(){u.click();document.body.removeChild(u);if(t===true)setTimeout(function(){i.URL.revokeObjectURL(u.href)},250)},66);return true}if(/(Version)\/(\d+)\.(\d+)(?:\.(\d+))?.*Safari\//.test(navigator.userAgent)){if(/^data:/.test(e))e="data:"+e.replace(/^data:([\w\/\-\+]+)/,o);if(!window.open(e))if(confirm("Displaying New Document\n\nUse Save As... to download, then click back to return to this page."))location.href=e;return true}var n=document.createElement("iframe");document.body.appendChild(n);if(!t&&/^data:/.test(e))e="data:"+e.replace(/^data:([\w\/\-\+]+)/,o);n.src=e;setTimeout(function(){document.body.removeChild(n)},333)}if(navigator.msSaveBlob)return navigator.msSaveBlob(f,p);if(i.URL)E(i.URL.createObjectURL(f),true);else{if(typeof f==="string"||f.constructor===l)try{return E("data:"+a+";base64,"+i.btoa(f))}catch(e){return E("data:"+a+","+encodeURIComponent(f))}h=new FileReader;h.onload=function(e){E(this.result)};h.readAsDataURL(f)}return true}})?r.apply(t,i):r)||(e.exports=o)},rsGM:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var o=r(n("LIAx")),a=r(n("i8i4"));function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n,r){var i=a.default.unstable_batchedUpdates?function(e){a.default.unstable_batchedUpdates(n,e)}:n;return(0,o.default)(e,t,i,r)}},rzV7:function(e,t,n){"use strict";var o=Object.prototype.hasOwnProperty;function a(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}function r(e,t){if(a(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(!o.call(t,n[i])||!a(e[n[i]],t[n[i]]))return!1;return!0}e.exports=r},"s0N+":function(e,t,n){var r=n("zZ0H"),i=n("a5q3"),o=i?function(e,t){return i.set(e,t),e}:r;e.exports=o},s4BX:function(e,t,n){},s4kO:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var a=n("S5bw"),s=n("xlPZ");function r(e,t,n,r){n&&"function"!=typeof n&&(r=n);var i="function"==typeof n?n:void 0,o=new a.a(e,t,r);return function(e){return Object(s.a)(function(){return o},i)(e)}}},sCEj:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e};function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=n("q1tI"),a=u(o),s=u(n("i8i4")),c=u(n("17x9"));function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var h="undefined"!=typeof ResizeObserver,g={container:{position:"relative",width:"100%",height:"100%"},wrapper:{position:"absolute",width:"100%",height:"100%",zIndex:-1,top:0},resizeWrapper:{overflow:"hidden",width:"100%",height:"100%"},shrink:{height:"200%",width:"200%"}},m=(f(v,o.Component),r(v,[{key:"componentDidMount",value:function(){var e,n=this;h?(this._resizeObserver=new ResizeObserver(function(e){e.forEach(function(e){var t=e.target;t.parentElement&&n._onResize({height:t.offsetHeight,width:t.offsetWidth})})}),e=s.default.findDOMNode(this),(this._resizeNode=e)&&(this._onResize({height:this._resizeNode.offsetHeight,width:this._resizeNode.offsetWidth}),this._resizeObserver.observe(e))):this._resize()}},{key:"componentDidUpdate",value:function(){h||(this.refExpand.scrollTop=this.refExpand.scrollHeight,this.refExpand.scrollLeft=this.refExpand.scrollWidth,this.refShrink.scrollTop=this.refShrink.scrollHeight,this.refShrink.scrollLeft=this.refShrink.scrollWidth)}},{key:"componentWillUnmount",value:function(){this._resizeObserver&&(this._resizeObserver.disconnect(),this._resizeObserver=null)}},{key:"_onResize",value:function(e){this.props.onResize&&this.props.onResize(e)}},{key:"_onExpand",value:function(){var e=this._getRect();this._resize(e),this.props.onExpand&&this.props.onExpand(e),this._onResize(e)}},{key:"_onShrink",value:function(){var e=this._getRect();this._resize(e),this.props.onShrink&&this.props.onShrink(e),this._onResize(e)}},{key:"_resize",value:function(e){var t=(e=e||this._getRect()).width,n=e.height;this.setState({domWidth:t+1,domHeight:n+1})}},{key:"_getRect",value:function(){return this.refNode.getBoundingClientRect()}},{key:"renderResizeEl",value:function(){return a.default.Children.only(this.props.children)}},{key:"renderPolyfillEl",value:function(){var e,t=this,n=this.state,r=n.domWidth,i=n.domHeight;return a.default.createElement("div",{style:g.wrapper,ref:function(e){t.refNode=e}},a.default.createElement("div",{style:g.resizeWrapper,ref:function(e){t.refExpand=e},onScroll:this._onExpand.bind(this)},a.default.createElement("div",{style:{width:r,height:i}})),a.default.createElement("div",(l(e={ref:"shrink",style:g.resizeWrapper},"ref",function(e){t.refShrink=e}),l(e,"onScroll",this._onShrink.bind(this)),e),a.default.createElement("div",{style:g.shrink})))}},{key:"renderResizeContainer",value:function(){return a.default.createElement("div",{style:g.container},this.props.children,this.renderPolyfillEl())}},{key:"render",value:function(){return h?this.renderResizeEl():this.renderResizeContainer()}}]),v);function v(e){d(this,v);var t=p(this,(v.__proto__||Object.getPrototypeOf(v)).call(this,e));return t.state={domWidth:0,domHeight:0},t}m.propTypes={onExpand:c.default.func,onShrink:c.default.func},t.default=m,e.exports=t.default},sEf8:function(e,t){function n(t){return function(e){return t(e)}}e.exports=n},sEfC:function(e,t,n){var C=n("GoyQ"),T=n("QIyF"),O=n("tLB3"),k="Expected a function",S=Math.max,w=Math.min;function r(r,n,e){var i,o,a,s,c,u,l=0,t=!1,d=!1,p=!0;if("function"!=typeof r)throw new TypeError(k);function f(e){var t=i,n=o;return i=o=void 0,l=e,s=r.apply(n,t)}function h(e){return l=e,c=setTimeout(v,n),t?f(e):s}function g(e){var t=n-(e-u);return d?w(t,a-(e-l)):t}function m(e){var t=e-u;return void 0===u||n<=t||t<0||d&&a<=e-l}function v(){var e=T();if(m(e))return y(e);c=setTimeout(v,g(e))}function y(e){return c=void 0,p&&i?f(e):(i=o=void 0,s)}function b(){void 0!==c&&clearTimeout(c),i=u=o=c=void(l=0)}function E(){return void 0===c?s:y(T())}function _(){var e=T(),t=m(e);if(i=arguments,o=this,u=e,t){if(void 0===c)return h(u);if(d)return clearTimeout(c),c=setTimeout(v,n),f(u)}return void 0===c&&(c=setTimeout(v,n)),s}return n=O(n)||0,C(e)&&(t=!!e.leading,d="maxWait"in e,a=d?S(O(e.maxWait)||0,n):a,p="trailing"in e?!!e.trailing:p),_.cancel=b,_.flush=E,_}e.exports=r},sOpI:function(e,t,n){var i=n("b42z"),o=n("zJQS"),a=n("A2Ma")("species");e.exports=function(e,t){var n,r=i(e).constructor;return void 0===r||null==(n=i(r)[a])?t:o(n)}},seXi:function(e,t,n){var E=n("qZTm"),_=1,C=Object.prototype.hasOwnProperty;function r(e,t,n,r,i,o){var a=n&_,s=E(e),c=s.length;if(c!=E(t).length&&!a)return!1;for(var u=c;u--;){var l=s[u];if(!(a?l in t:C.call(t,l)))return!1}var d=o.get(e),p=o.get(t);if(d&&p)return d==t&&p==e;var f=!0;o.set(e,t),o.set(t,e);for(var h,g,m=a;++u<c;){var v,y=e[l=s[u]],b=t[l];if(r&&(v=a?r(b,y,l,t,e,o):r(y,b,l,e,t,o)),!(void 0===v?y===b||i(y,b,n,r,o):v)){f=!1;break}m=m||"constructor"==l}return!f||m||(h=e.constructor)!=(g=t.constructor)&&"constructor"in e&&"constructor"in t&&!("function"==typeof h&&h instanceof h&&"function"==typeof g&&g instanceof g)&&(f=!1),o.delete(e),o.delete(t),f}e.exports=r},shjB:function(e,t){var n=9007199254740991;function r(e){return"number"==typeof e&&-1<e&&e%1==0&&e<=n}e.exports=r},svcd:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n("mrSG"),i=n("K9Ia"),o=n("pugT"),a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.value=null,e.hasNext=!1,e.hasCompleted=!1,e}return r.__extends(e,t),e.prototype._subscribe=function(e){return this.hasError?(e.error(this.thrownError),o.a.EMPTY):this.hasCompleted&&this.hasNext?(e.next(this.value),e.complete(),o.a.EMPTY):t.prototype._subscribe.call(this,e)},e.prototype.next=function(e){this.hasCompleted||(this.value=e,this.hasNext=!0)},e.prototype.error=function(e){this.hasCompleted||t.prototype.error.call(this,e)},e.prototype.complete=function(){this.hasCompleted=!0,this.hasNext&&t.prototype.next.call(this,this.value),t.prototype.complete.call(this)},e}(i.a)},szxl:function(e,t,n){},t2Dn:function(e,t,n){var r=n("hypo"),i=n("ljhN");function o(e,t,n){(void 0===n||i(e[t],n))&&(void 0!==n||t in e)||r(e,t,n)}e.exports=o},t2dP:function(e,t){function n(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}e.exports=n},t5Ac:function(e,t,n){"use strict";n.d(t,"a",function(){return s}),n.d(t,"b",function(){return c});var r=n("D7h9"),i=n("5cZX"),o=n("ZGZ5"),a=n("vc5i");function s(){var e=r.default.getState(),t=Object(i.L)(e),n=Object(i.w)(e);return{canCross:n.get("canCross"),externalAccess:n.get("externalAccess"),inviteExternal:n.get("inviteExternal"),publicPermission:t}}function c(){var e=r.default.getState(),t=Object(o.a)(e),n=Object(a.i)(e);return t.get("id")===n.get("id")}},t67m:function(e,t,n){e.exports=function(){return n("d4XP")('!function(r){var n={};function o(t){if(n[t])return n[t].exports;var e=n[t]={i:t,l:!1,exports:{}};return r[t].call(e.exports,e,e.exports,o),e.l=!0,e.exports}o.m=r,o.c=n,o.d=function(t,e,r){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(r,n,function(t){return e[t]}.bind(null,n));return r},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p=navigator.cdn_host+"/ccm/pc/web/resource/bear/",o(o.s="vOYo")}({"+6XX":function(t,e,r){var n=r("y1pI");function o(t){return-1<n(this.__data__,t)}t.exports=o},"+K+b":function(t,e,r){var n=r("JHRd");function o(t){var e=new t.constructor(t.byteLength);return new n(e).set(new n(t)),e}t.exports=o},"+iFO":function(t,e,r){var n=r("dTAl"),o=r("LcsW"),i=r("6sVZ");function a(t){return"function"!=typeof t.constructor||i(t)?{}:n(o(t))}t.exports=a},"/9aa":function(t,e,r){var n=r("NykK"),o=r("ExA7"),i="[object Symbol]";function a(t){return"symbol"==typeof t||o(t)&&n(t)==i}t.exports=a},"03A+":function(t,e,r){var n=r("JTzB"),o=r("ExA7"),i=Object.prototype,a=i.hasOwnProperty,c=i.propertyIsEnumerable,u=n(function(){return arguments}())?n:function(t){return o(t)&&a.call(t,"callee")&&!c.call(t,"callee")};t.exports=u},"0Cz8":function(t,e,r){var o=r("Xi7e"),i=r("ebwN"),a=r("e4Nc"),c=200;function n(t,e){var r=this.__data__;if(r instanceof o){var n=r.__data__;if(!i||n.length<c-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new a(n)}return r.set(t,e),this.size=r.size,this}t.exports=n},"0ycA":function(t,e){function r(){return[]}t.exports=r},"1+5i":function(t,e,r){var n=r("w/wX"),o=r("sEf8"),i=r("mdPL"),a=i&&i.isSet,c=a?o(a):n;t.exports=c},"2gN3":function(t,e,r){var n=r("Kz5y")["__core-js_shared__"];t.exports=n},"3/ER":function(t,c,u){"use strict";(function(t){var e=u("Ju5/"),r="object"==typeof exports&&exports&&!exports.nodeType&&exports,n=r&&"object"==typeof t&&t&&!t.nodeType&&t,o=n&&n.exports===r?e.a.Buffer:void 0,i=o?o.allocUnsafe:void 0;function a(t,e){if(e)return t.slice();var r=t.length,n=i?i(r):new t.constructor(r);return t.copy(n),n}c.a=a}).call(this,u("3UD+")(t))},"3Fdi":function(t,e){var r=Function.prototype.toString;function n(t){if(null!=t){try{return r.call(t)}catch(t){}try{return t+""}catch(t){}}return""}t.exports=n},"3UD+":function(t,e){t.exports=function(t){var e;return t.webpackPolyfill||((e=Object.create(t)).children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1),e}},"44Ds":function(t,e,r){var n=r("e4Nc"),c="Expected a function";function u(o,i){if("function"!=typeof o||null!=i&&"function"!=typeof i)throw new TypeError(c);var a=function(){var t=arguments,e=i?i.apply(this,t):t[0],r=a.cache;if(r.has(e))return r.get(e);var n=o.apply(this,t);return a.cache=r.set(e,n)||r,n};return a.cache=new(u.Cache||n),a}u.Cache=n,t.exports=u},"4kuk":function(t,e,r){var n=r("SfRM"),o=r("Hvzi"),i=r("u8Dt"),a=r("ekgI"),c=r("JSQU");function u(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}u.prototype.clear=n,u.prototype.delete=o,u.prototype.get=i,u.prototype.has=a,u.prototype.set=c,t.exports=u},"4uTw":function(t,e,r){var n=r("Z0cm"),o=r("9ggG"),i=r("GNiM"),a=r("dt0z");function c(t,e){return n(t)?t:o(t,e)?[t]:i(a(t))}t.exports=c},"5Tg0":function(t,c,u){(function(t){var e=u("Kz5y"),r=c&&!c.nodeType&&c,n=r&&"object"==typeof t&&t&&!t.nodeType&&t,o=n&&n.exports===r?e.Buffer:void 0,i=o?o.allocUnsafe:void 0;function a(t,e){if(e)return t.slice();var r=t.length,n=i?i(r):new t.constructor(r);return t.copy(n),n}t.exports=a}).call(this,u("YuTi")(t))},"6sVZ":function(t,e){var r=Object.prototype;function n(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||r)}t.exports=n},"77Zs":function(t,e,r){var n=r("Xi7e");function o(){this.__data__=new n,this.size=0}t.exports=o},"7GkX":function(t,e,r){var n=r("b80T"),o=r("A90E"),i=r("MMmD");function a(t){return(i(t)?n:o)(t)}t.exports=a},"7Ix3":function(t,e){function r(t){var e=[];if(null!=t)for(var r in Object(t))e.push(r);return e}t.exports=r},"9Nap":function(t,e,r){var n=r("/9aa"),o=1/0;function i(t){if("string"==typeof t||n(t))return t;var e=t+"";return"0"==e&&1/t==-o?"-0":e}t.exports=i},"9ggG":function(t,e,r){var n=r("Z0cm"),o=r("/9aa"),i=/\\.|\\[(?:[^[\\]]*|(["\'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,a=/^\\w*$/;function c(t,e){if(n(t))return!1;var r=typeof t;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=t&&!o(t))||(a.test(t)||!i.test(t)||null!=e&&t in Object(e))}t.exports=c},A90E:function(t,e,r){var n=r("6sVZ"),o=r("V6Ve"),i=Object.prototype.hasOwnProperty;function a(t){if(!n(t))return o(t);var e,r=[];for(e in Object(t))i.call(t,e)&&"constructor"!=e&&r.push(e);return r}t.exports=a},AP2z:function(t,e,r){var Symbol=r("nmnc"),n=Object.prototype,i=n.hasOwnProperty,a=n.toString,c=Symbol?Symbol.toStringTag:void 0;function o(t){var e=i.call(t,c),r=t[c];try{var n=!(t[c]=void 0)}catch(t){}var o=a.call(t);return n&&(e?t[c]=r:delete t[c]),o}t.exports=o},B8du:function(t,e){function r(){return!1}t.exports=r},B9Yq:function(t,e){t.exports=function(){throw new Error("define cannot be used indirect")}},BkRI:function(t,e,r){var n=r("OBhP"),o=1,i=4;function a(t){return n(t,o|i)}t.exports=a},Bnag:function(t,e){function r(){throw new TypeError("Invalid attempt to spread non-iterable instance")}t.exports=r},CH3K:function(t,e){function r(t,e){for(var r=-1,n=e.length,o=t.length;++r<n;)t[o+r]=e[r];return t}t.exports=r},Cwc5:function(t,e,r){var n=r("NKxu"),o=r("Npjl");function i(t,e){var r=o(t,e);return n(r)?r:void 0}t.exports=i},DSRE:function(t,c,u){(function(t){var e=u("Kz5y"),r=u("B8du"),n=c&&!c.nodeType&&c,o=n&&"object"==typeof t&&t&&!t.nodeType&&t,i=o&&o.exports===n?e.Buffer:void 0,a=(i?i.isBuffer:void 0)||r;t.exports=a}).call(this,u("YuTi")(t))},"Dw+G":function(t,e,r){var n=r("juv8"),o=r("mTTR");function i(t,e){return t&&n(e,o(e),t)}t.exports=i},E2jh:function(t,e,r){var n,o=r("2gN3"),i=(n=/[^.]+$/.exec(o&&o.keys&&o.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"";function a(t){return!!i&&i in t}t.exports=a},EEGq:function(t,e,r){var n=r("juv8"),o=r("oCl/");function i(t,e){return n(t,o(t),e)}t.exports=i},EbDI:function(t,e){function r(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}t.exports=r},EpBk:function(t,e){function r(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}t.exports=r},ExA7:function(t,e){function r(t){return null!=t&&"object"==typeof t}t.exports=r},G6z8:function(t,e,r){var n=r("fR/l"),o=r("oCl/"),i=r("mTTR");function a(t){return n(t,i,o)}t.exports=a},GNiM:function(t,e,r){var n=r("I01J"),i=/[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|(["\'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g,a=/\\\\(\\\\)?/g,o=n(function(t){var o=[];return 46===t.charCodeAt(0)&&o.push(""),t.replace(i,function(t,e,r,n){o.push(r?n.replace(a,"$1"):e||t)}),o});t.exports=o},Gi0A:function(t,e,r){var n=r("QqLw"),o=r("ExA7"),i="[object Map]";function a(t){return o(t)&&n(t)==i}t.exports=a},GoyQ:function(t,e){function r(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}t.exports=r},H8j4:function(t,e,r){var o=r("QkVE");function n(t,e){var r=o(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}t.exports=n},HOxn:function(t,e,r){var n=r("Cwc5")(r("Kz5y"),"Promise");t.exports=n},Hvzi:function(t,e){function r(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}t.exports=r},I01J:function(t,e,r){var n=r("44Ds"),o=500;function i(t){var e=n(t,function(t){return r.size===o&&r.clear(),t}),r=e.cache;return e}t.exports=i},Ijbi:function(t,e){function r(t){if(Array.isArray(t)){for(var e=0,r=new Array(t.length);e<t.length;e++)r[e]=t[e];return r}}t.exports=r},JHRd:function(t,e,r){var n=r("Kz5y").Uint8Array;t.exports=n},JHgL:function(t,e,r){var n=r("QkVE");function o(t){return n(this,t).get(t)}t.exports=o},JSQU:function(t,e,r){var n=r("YESw"),o="__lodash_hash_undefined__";function i(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=n&&void 0===e?o:e,this}t.exports=i},JTzB:function(t,e,r){var n=r("NykK"),o=r("ExA7"),i="[object Arguments]";function a(t){return o(t)&&n(t)==i}t.exports=a},"Ju5/":function(t,e,r){"use strict";var n=r("XqMk"),o="object"==typeof self&&self&&self.Object===Object&&self,i=n.a||o||Function("return this")();e.a=i},KMkd:function(t,e){function r(){this.__data__=[],this.size=0}t.exports=r},KfNM:function(t,e){var r=Object.prototype.toString;function n(t){return r.call(t)}t.exports=n},KxBF:function(t,e){function r(t,e,r){var n=-1,o=t.length;e<0&&(e=o<-e?0:o+e),(r=o<r?o:r)<0&&(r+=o),o=r<e?0:r-e>>>0,e>>>=0;for(var i=Array(o);++n<o;)i[n]=t[n+e];return i}t.exports=r},Kz5y:function(t,e,r){var n=r("WFqU"),o="object"==typeof self&&self&&self.Object===Object&&self,i=n||o||Function("return this")();t.exports=i},L3Qv:function(t,e,r){"use strict";function n(){return!1}e.a=n},L8xA:function(t,e){function r(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}t.exports=r},LXxW:function(t,e){function r(t,e){for(var r=-1,n=null==t?0:t.length,o=0,i=[];++r<n;){var a=t[r];e(a,r,t)&&(i[o++]=a)}return i}t.exports=r},LcsW:function(t,e,r){var n=r("kekF")(Object.getPrototypeOf,Object);t.exports=n},MMmD:function(t,e,r){var n=r("lSCD"),o=r("shjB");function i(t){return null!=t&&o(t.length)&&!n(t)}t.exports=i},MrPd:function(t,e,r){var o=r("hypo"),i=r("ljhN"),a=Object.prototype.hasOwnProperty;function n(t,e,r){var n=t[e];a.call(t,e)&&i(n,r)&&(void 0!==r||e in t)||o(t,e,r)}t.exports=n},MvSz:function(t,e,r){var n=r("LXxW"),o=r("0ycA"),i=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,c=a?function(e){return null==e?[]:(e=Object(e),n(a(e),function(t){return i.call(e,t)}))}:o;t.exports=c},NKxu:function(t,e,r){var n=r("lSCD"),o=r("E2jh"),i=r("GoyQ"),a=r("3Fdi"),c=/[\\\\^$.*+?()[\\]{}|]/g,u=/^\\[object .+?Constructor\\]$/,s=Function.prototype,f=Object.prototype,p=s.toString,l=f.hasOwnProperty,v=RegExp("^"+p.call(l).replace(c,"\\\\$&").replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g,"$1.*?")+"$");function d(t){return!(!i(t)||o(t))&&(n(t)?v:u).test(a(t))}t.exports=d},Npjl:function(t,e){function r(t,e){return null==t?void 0:t[e]}t.exports=r},NykK:function(t,e,r){var Symbol=r("nmnc"),n=r("AP2z"),o=r("KfNM"),i="[object Null]",a="[object Undefined]",c=Symbol?Symbol.toStringTag:void 0;function u(t){return null==t?void 0===t?a:i:(c&&c in Object(t)?n:o)(t)}t.exports=u},O0oS:function(t,e,r){var n=r("Cwc5"),o=function(){try{var t=n(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();t.exports=o},OBhP:function(t,e,r){var h=r("fmRc"),y=r("gFfm"),b=r("MrPd"),_=r("WwFo"),m=r("Dw+G"),g=r("5Tg0"),j=r("Q1l4"),w=r("VOtZ"),x=r("EEGq"),S=r("qZTm"),O=r("G6z8"),E=r("QqLw"),k=r("yHx3"),C=r("wrZu"),D=r("+iFO"),P=r("Z0cm"),F=r("DSRE"),U=r("zEVN"),T=r("GoyQ"),B=r("1+5i"),q=r("7GkX"),R=r("mTTR"),z=1,N=2,I=4,L="[object Arguments]",n="[object Array]",o="[object Boolean]",i="[object Date]",a="[object Error]",M="[object Function]",K="[object GeneratorFunction]",c="[object Map]",u="[object Number]",W="[object Object]",s="[object RegExp]",f="[object Set]",p="[object String]",l="[object Symbol]",v="[object WeakMap]",d="[object ArrayBuffer]",V="[object DataView]",X="[object Float32Array]",Y="[object Float64Array]",J="[object Int8Array]",Z="[object Int16Array]",Q="[object Int32Array]",H="[object Uint8Array]",$="[object Uint8ClampedArray]",tt="[object Uint16Array]",et="[object Uint32Array]",rt={};function nt(r,n,o,t,e,i){var a,c=n&z,u=n&N,s=n&I;if(o&&(a=e?o(r,t,e,i):o(r)),void 0!==a)return a;if(!T(r))return r;var f=P(r);if(f){if(a=k(r),!c)return j(r,a)}else{var p=E(r),l=p==M||p==K;if(F(r))return g(r,c);if(p==W||p==L||l&&!e){if(a=u||l?{}:D(r),!c)return u?x(r,m(a,r)):w(r,_(a,r))}else{if(!rt[p])return e?r:{};a=C(r,p,c)}}var v=(i=i||new h).get(r);if(v)return v;i.set(r,a),B(r)?r.forEach(function(t){a.add(nt(t,n,o,t,r,i))}):U(r)&&r.forEach(function(t,e){a.set(e,nt(t,n,o,e,r,i))});var d=f?void 0:(s?u?O:S:u?R:q)(r);return y(d||r,function(t,e){d&&(t=r[e=t]),b(a,e,nt(t,n,o,e,r,i))}),a}rt[L]=rt[n]=rt[d]=rt[V]=rt[o]=rt[i]=rt[X]=rt[Y]=rt[J]=rt[Z]=rt[Q]=rt[c]=rt[u]=rt[W]=rt[s]=rt[f]=rt[p]=rt[l]=rt[H]=rt[$]=rt[tt]=rt[et]=!0,rt[a]=rt[M]=rt[v]=!1,t.exports=nt},"Of+w":function(t,e,r){var n=r("Cwc5")(r("Kz5y"),"WeakMap");t.exports=n},Q1l4:function(t,e){function r(t,e){var r=-1,n=t.length;for(e=e||Array(n);++r<n;)e[r]=t[r];return e}t.exports=r},QcOe:function(t,e,r){var o=r("GoyQ"),i=r("6sVZ"),a=r("7Ix3"),c=Object.prototype.hasOwnProperty;function n(t){if(!o(t))return a(t);var e,r=i(t),n=[];for(e in t)("constructor"!=e||!r&&c.call(t,e))&&n.push(e);return n}t.exports=n},QkVE:function(t,e,r){var n=r("EpBk");function o(t,e){var r=t.__data__;return n(e)?r["string"==typeof e?"string":"hash"]:r.map}t.exports=o},QqLw:function(t,e,r){var n=r("tadb"),o=r("ebwN"),i=r("HOxn"),a=r("yGk4"),c=r("Of+w"),u=r("NykK"),s=r("3Fdi"),f="[object Map]",p="[object Object]",l="[object Promise]",v="[object Set]",d="[object WeakMap]",h="[object DataView]",y=s(n),b=s(o),_=s(i),m=s(a),g=s(c),j=u;(n&&j(new n(new ArrayBuffer(1)))!=h||o&&j(new o)!=f||i&&j(i.resolve())!=l||a&&j(new a)!=v||c&&j(new c)!=d)&&(j=function(t){var e=u(t),r=e==p?t.constructor:void 0,n=r?s(r):"";if(n)switch(n){case y:return h;case b:return f;case _:return l;case m:return v;case g:return d}return e}),t.exports=j},RIqP:function(t,e,r){var n=r("Ijbi"),o=r("EbDI"),i=r("Bnag");function a(t){return n(t)||o(t)||i()}t.exports=a},SfRM:function(t,e,r){var n=r("YESw");function o(){this.__data__=n?n(null):{},this.size=0}t.exports=o},Sxd8:function(t,e,r){var n=r("ZCgT");function o(t){var e=n(t),r=e%1;return e==e?r?e-r:e:0}t.exports=o},"UNi/":function(t,e){function r(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}t.exports=r},V6Ve:function(t,e,r){var n=r("kekF")(Object.keys,Object);t.exports=n},VOtZ:function(t,e,r){var n=r("juv8"),o=r("MvSz");function i(t,e){return n(t,o(t),e)}t.exports=i},VaNO:function(t,e){function r(t){return this.__data__.has(t)}t.exports=r},W8MJ:function(t,e){function n(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function r(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t}t.exports=r},WFqU:function(r,t,e){(function(t){var e="object"==typeof t&&t&&t.Object===Object&&t;r.exports=e}).call(this,e("yLpj"))},WOAq:function(t,c,u){"use strict";(function(t){var e=u("Ju5/"),r=u("L3Qv"),n="object"==typeof exports&&exports&&!exports.nodeType&&exports,o=n&&"object"==typeof t&&t&&!t.nodeType&&t,i=o&&o.exports===n?e.a.Buffer:void 0,a=(i?i.isBuffer:void 0)||r.a;c.a=a}).call(this,u("3UD+")(t))},WwFo:function(t,e,r){var n=r("juv8"),o=r("7GkX");function i(t,e){return t&&n(e,o(e),t)}t.exports=i},XYm9:function(t,e,r){var n=r("+K+b");function o(t,e){var r=e?n(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}t.exports=o},Xi7e:function(t,e,r){var n=r("KMkd"),o=r("adU4"),i=r("tMB7"),a=r("+6XX"),c=r("Z8oC");function u(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}u.prototype.clear=n,u.prototype.delete=o,u.prototype.get=i,u.prototype.has=a,u.prototype.set=c,t.exports=u},XqMk:function(t,r,e){"use strict";(function(t){var e="object"==typeof t&&t&&t.Object===Object&&t;r.a=e}).call(this,e("yLpj"))},YESw:function(t,e,r){var n=r("Cwc5")(Object,"create");t.exports=n},YuTi:function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},Z0cm:function(t,e){var r=Array.isArray;t.exports=r},Z8oC:function(t,e,r){var o=r("y1pI");function n(t,e){var r=this.__data__,n=o(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}t.exports=n},ZCgT:function(t,e,r){var n=r("tLB3"),o=1/0,i=17976931348623157e292;function a(t){return t?(t=n(t))!==o&&t!==-o?t==t?t:0:(t<0?-1:1)*i:0===t?t:0}t.exports=a},ZWtO:function(t,e,r){var o=r("4uTw"),i=r("9Nap");function n(t,e){for(var r=0,n=(e=o(e,t)).length;null!=t&&r<n;)t=t[i(e[r++])];return r&&r==n?t:void 0}t.exports=n},adU4:function(t,e,r){var n=r("y1pI"),o=Array.prototype.splice;function i(t){var e=this.__data__,r=n(e,t);return!(r<0)&&(r==e.length-1?e.pop():o.call(e,r,1),--this.size,!0)}t.exports=i},b2z7:function(t,e){var r=/\\w*$/;function n(t){var e=new t.constructor(t.source,r.exec(t));return e.lastIndex=t.lastIndex,e}t.exports=n},b80T:function(t,e,r){var f=r("UNi/"),p=r("03A+"),l=r("Z0cm"),v=r("DSRE"),d=r("wJg7"),h=r("c6wG"),y=Object.prototype.hasOwnProperty;function n(t,e){var r,n=l(t),o=!n&&p(t),i=!n&&!o&&v(t),a=!n&&!o&&!i&&h(t),c=n||o||i||a,u=c?f(t.length,String):[],s=u.length;for(r in t)!e&&!y.call(t,r)||c&&("length"==r||i&&("offset"==r||"parent"==r)||a&&("buffer"==r||"byteLength"==r||"byteOffset"==r)||d(r,s))||u.push(r);return u}t.exports=n},c6wG:function(t,e,r){var n=r("dD9F"),o=r("sEf8"),i=r("mdPL"),a=i&&i.isTypedArray,c=a?o(a):n;t.exports=c},cDf5:function(e,t){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function n(t){return"function"==typeof Symbol&&"symbol"===r(Symbol.iterator)?e.exports=n=function(t){return r(t)}:e.exports=n=function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":r(t)},n(t)}e.exports=n},dD9F:function(t,e,r){var n=r("NykK"),o=r("shjB"),i=r("ExA7"),a="[object Arguments]",c="[object Array]",u="[object Boolean]",s="[object Date]",f="[object Error]",p="[object Function]",l="[object Map]",v="[object Number]",d="[object Object]",h="[object RegExp]",y="[object Set]",b="[object String]",_="[object WeakMap]",m="[object ArrayBuffer]",g="[object DataView]",j="[object Float64Array]",w="[object Int8Array]",x="[object Int16Array]",S="[object Int32Array]",O="[object Uint8Array]",E="[object Uint8ClampedArray]",k="[object Uint16Array]",C="[object Uint32Array]",D={};function P(t){return i(t)&&o(t.length)&&!!D[n(t)]}D["[object Float32Array]"]=D[j]=D[w]=D[x]=D[S]=D[O]=D[E]=D[k]=D[C]=!0,D[a]=D[c]=D[m]=D[u]=D[g]=D[s]=D[f]=D[p]=D[l]=D[v]=D[d]=D[h]=D[y]=D[b]=D[_]=!1,t.exports=P},dTAl:function(t,e,r){var n=r("GoyQ"),o=Object.create,i=function(t){if(!n(t))return{};if(o)return o(t);a.prototype=t;var e=new a;return a.prototype=void 0,e};function a(){}t.exports=i},dt0z:function(t,e,r){var n=r("zoYe");function o(t){return null==t?"":n(t)}t.exports=o},e4Nc:function(t,e,r){var n=r("fGT3"),o=r("k+1r"),i=r("JHgL"),a=r("pSRY"),c=r("H8j4");function u(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}u.prototype.clear=n,u.prototype.delete=o,u.prototype.get=i,u.prototype.has=a,u.prototype.set=c,t.exports=u},eUgh:function(t,e){function r(t,e){for(var r=-1,n=null==t?0:t.length,o=Array(n);++r<n;)o[r]=e(t[r],r,t);return o}t.exports=r},ebwN:function(t,e,r){var n=r("Cwc5")(r("Kz5y"),"Map");t.exports=n},ekgI:function(t,e,r){var n=r("YESw"),o=Object.prototype.hasOwnProperty;function i(t){var e=this.__data__;return n?void 0!==e[t]:o.call(e,t)}t.exports=i},fGT3:function(t,e,r){var n=r("4kuk"),o=r("Xi7e"),i=r("ebwN");function a(){this.size=0,this.__data__={hash:new n,map:new(i||o),string:new n}}t.exports=a},"fR/l":function(t,e,r){var o=r("CH3K"),i=r("Z0cm");function n(t,e,r){var n=e(t);return i(t)?n:o(n,r(t))}t.exports=n},fmRc:function(t,e,r){var n=r("Xi7e"),o=r("77Zs"),i=r("L8xA"),a=r("gCq4"),c=r("VaNO"),u=r("0Cz8");function s(t){var e=this.__data__=new n(t);this.size=e.size}s.prototype.clear=o,s.prototype.delete=i,s.prototype.get=a,s.prototype.has=c,s.prototype.set=u,t.exports=s},gCq4:function(t,e){function r(t){return this.__data__.get(t)}t.exports=r},gFfm:function(t,e){function r(t,e){for(var r=-1,n=null==t?0:t.length;++r<n&&!1!==e(t[r],r,t););return t}t.exports=r},hypo:function(t,e,r){var n=r("O0oS");function o(t,e,r){"__proto__"==e&&n?n(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}t.exports=o},juv8:function(t,e,r){var s=r("MrPd"),f=r("hypo");function n(t,e,r,n){var o=!r;r=r||{};for(var i=-1,a=e.length;++i<a;){var c=e[i],u=n?n(r[c],t[c],c,r,t):void 0;void 0===u&&(u=t[c]),(o?f:s)(r,c,u)}return r}t.exports=n},"k+1r":function(t,e,r){var n=r("QkVE");function o(t){var e=n(this,t).delete(t);return this.size-=e?1:0,e}t.exports=o},kcif:function(t,e,r){var c=r("KxBF"),u=r("mv/X"),s=r("Sxd8"),f=Math.ceil,p=Math.max;function n(t,e,r){e=(r?u(t,e,r):void 0===e)?1:p(s(e),0);var n=null==t?0:t.length;if(!n||e<1)return[];for(var o=0,i=0,a=Array(f(n/e));o<n;)a[i++]=c(t,o,o+=e);return a}t.exports=n},kekF:function(t,e){function r(e,r){return function(t){return e(r(t))}}t.exports=r},lSCD:function(t,e,r){var n=r("NykK"),o=r("GoyQ"),i="[object AsyncFunction]",a="[object Function]",c="[object GeneratorFunction]",u="[object Proxy]";function s(t){if(!o(t))return!1;var e=n(t);return e==a||e==c||e==i||e==u}t.exports=s},ljhN:function(t,e){function r(t,e){return t===e||t!=t&&e!=e}t.exports=r},lwsE:function(t,e){function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}t.exports=r},mTTR:function(t,e,r){var n=r("b80T"),o=r("QcOe"),i=r("MMmD");function a(t){return i(t)?n(t,!0):o(t)}t.exports=a},mdPL:function(t,a,c){(function(t){var e=c("WFqU"),r=a&&!a.nodeType&&a,n=r&&"object"==typeof t&&t&&!t.nodeType&&t,o=n&&n.exports===r&&e.process,i=function(){try{var t=n&&n.require&&n.require("util").types;return t?t:o&&o.binding&&o.binding("util")}catch(t){}}();t.exports=i}).call(this,c("YuTi")(t))},"mv/X":function(t,e,r){var o=r("ljhN"),i=r("MMmD"),a=r("wJg7"),c=r("GoyQ");function n(t,e,r){if(!c(r))return!1;var n=typeof e;return!!("number"==n?i(r)&&a(e,r.length):"string"==n&&e in r)&&o(r[e],t)}t.exports=n},mwIZ:function(t,e,r){var o=r("ZWtO");function n(t,e,r){var n=null==t?void 0:o(t,e);return void 0===n?r:n}t.exports=n},nmnc:function(t,e,r){var Symbol=r("Kz5y").Symbol;t.exports=Symbol},o0o1:function(t,e,r){t.exports=r("qGoJ")},"oCl/":function(t,e,r){var n=r("CH3K"),o=r("LcsW"),i=r("MvSz"),a=r("0ycA"),c=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)n(e,i(t)),t=o(t);return e}:a;t.exports=c},"otv/":function(t,e,r){var Symbol=r("nmnc"),n=Symbol?Symbol.prototype:void 0,o=n?n.valueOf:void 0;function i(t){return o?Object(o.call(t)):{}}t.exports=i},pSRY:function(t,e,r){var n=r("QkVE");function o(t){return n(this,t).has(t)}t.exports=o},puQj:function(t,e,r){var n,o;n="bowser",o=function(){var O=!0;function a(r){function t(t){var e=r.match(t);return e&&1<e.length&&e[1]||""}function e(t){var e=r.match(t);return e&&1<e.length&&e[2]||""}var n,o=t(/(ipod|iphone|ipad)/i).toLowerCase(),i=!/like android/i.test(r)&&/android/i.test(r),a=/nexus\\s*[0-6]\\s*/i.test(r),c=!a&&/nexus\\s*[0-9]+/i.test(r),u=/CrOS/.test(r),s=/silk/i.test(r),f=/sailfish/i.test(r),p=/tizen/i.test(r),l=/(web|hpw)os/i.test(r),v=/windows phone/i.test(r),d=(/SamsungBrowser/i.test(r),!v&&/windows/i.test(r)),h=!o&&!s&&/macintosh/i.test(r),y=!i&&!f&&!p&&!l&&/linux/i.test(r),b=e(/edg([ea]|ios)\\/(\\d+(\\.\\d+)?)/i),_=t(/version\\/(\\d+(\\.\\d+)?)/i),m=/tablet/i.test(r)&&!/tablet pc/i.test(r),g=!m&&/[^-]mobi/i.test(r),j=/xbox/i.test(r);function w(t){switch(t){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}}/opera/i.test(r)?n={name:"Opera",opera:O,version:_||t(/(?:opera|opr|opios)[\\s\\/](\\d+(\\.\\d+)?)/i)}:/opr\\/|opios/i.test(r)?n={name:"Opera",opera:O,version:t(/(?:opr|opios)[\\s\\/](\\d+(\\.\\d+)?)/i)||_}:/SamsungBrowser/i.test(r)?n={name:"Samsung Internet for Android",samsungBrowser:O,version:_||t(/(?:SamsungBrowser)[\\s\\/](\\d+(\\.\\d+)?)/i)}:/coast/i.test(r)?n={name:"Opera Coast",coast:O,version:_||t(/(?:coast)[\\s\\/](\\d+(\\.\\d+)?)/i)}:/yabrowser/i.test(r)?n={name:"Yandex Browser",yandexbrowser:O,version:_||t(/(?:yabrowser)[\\s\\/](\\d+(\\.\\d+)?)/i)}:/ucbrowser/i.test(r)?n={name:"UC Browser",ucbrowser:O,version:t(/(?:ucbrowser)[\\s\\/](\\d+(?:\\.\\d+)+)/i)}:/mxios/i.test(r)?n={name:"Maxthon",maxthon:O,version:t(/(?:mxios)[\\s\\/](\\d+(?:\\.\\d+)+)/i)}:/epiphany/i.test(r)?n={name:"Epiphany",epiphany:O,version:t(/(?:epiphany)[\\s\\/](\\d+(?:\\.\\d+)+)/i)}:/puffin/i.test(r)?n={name:"Puffin",puffin:O,version:t(/(?:puffin)[\\s\\/](\\d+(?:\\.\\d+)?)/i)}:/sleipnir/i.test(r)?n={name:"Sleipnir",sleipnir:O,version:t(/(?:sleipnir)[\\s\\/](\\d+(?:\\.\\d+)+)/i)}:/k-meleon/i.test(r)?n={name:"K-Meleon",kMeleon:O,version:t(/(?:k-meleon)[\\s\\/](\\d+(?:\\.\\d+)+)/i)}:v?(n={name:"Windows Phone",osname:"Windows Phone",windowsphone:O},b?(n.msedge=O,n.version=b):(n.msie=O,n.version=t(/iemobile\\/(\\d+(\\.\\d+)?)/i))):/msie|trident/i.test(r)?n={name:"Internet Explorer",msie:O,version:t(/(?:msie |rv:)(\\d+(\\.\\d+)?)/i)}:u?n={name:"Chrome",osname:"Chrome OS",chromeos:O,chromeBook:O,chrome:O,version:t(/(?:chrome|crios|crmo)\\/(\\d+(\\.\\d+)?)/i)}:/edg([ea]|ios)/i.test(r)?n={name:"Microsoft Edge",msedge:O,version:b}:/vivaldi/i.test(r)?n={name:"Vivaldi",vivaldi:O,version:t(/vivaldi\\/(\\d+(\\.\\d+)?)/i)||_}:f?n={name:"Sailfish",osname:"Sailfish OS",sailfish:O,version:t(/sailfish\\s?browser\\/(\\d+(\\.\\d+)?)/i)}:/seamonkey\\//i.test(r)?n={name:"SeaMonkey",seamonkey:O,version:t(/seamonkey\\/(\\d+(\\.\\d+)?)/i)}:/firefox|iceweasel|fxios/i.test(r)?(n={name:"Firefox",firefox:O,version:t(/(?:firefox|iceweasel|fxios)[ \\/](\\d+(\\.\\d+)?)/i)},/\\((mobile|tablet);[^\\)]*rv:[\\d\\.]+\\)/i.test(r)&&(n.firefoxos=O,n.osname="Firefox OS")):s?n={name:"Amazon Silk",silk:O,version:t(/silk\\/(\\d+(\\.\\d+)?)/i)}:/phantom/i.test(r)?n={name:"PhantomJS",phantom:O,version:t(/phantomjs\\/(\\d+(\\.\\d+)?)/i)}:/slimerjs/i.test(r)?n={name:"SlimerJS",slimer:O,version:t(/slimerjs\\/(\\d+(\\.\\d+)?)/i)}:/blackberry|\\bbb\\d+/i.test(r)||/rim\\stablet/i.test(r)?n={name:"BlackBerry",osname:"BlackBerry OS",blackberry:O,version:_||t(/blackberry[\\d]+\\/(\\d+(\\.\\d+)?)/i)}:l?(n={name:"WebOS",osname:"WebOS",webos:O,version:_||t(/w(?:eb)?osbrowser\\/(\\d+(\\.\\d+)?)/i)},/touchpad\\//i.test(r)&&(n.touchpad=O)):/bada/i.test(r)?n={name:"Bada",osname:"Bada",bada:O,version:t(/dolfin\\/(\\d+(\\.\\d+)?)/i)}:p?n={name:"Tizen",osname:"Tizen",tizen:O,version:t(/(?:tizen\\s?)?browser\\/(\\d+(\\.\\d+)?)/i)||_}:/qupzilla/i.test(r)?n={name:"QupZilla",qupzilla:O,version:t(/(?:qupzilla)[\\s\\/](\\d+(?:\\.\\d+)+)/i)||_}:/chromium/i.test(r)?n={name:"Chromium",chromium:O,version:t(/(?:chromium)[\\s\\/](\\d+(?:\\.\\d+)?)/i)||_}:/chrome|crios|crmo/i.test(r)?n={name:"Chrome",chrome:O,version:t(/(?:chrome|crios|crmo)\\/(\\d+(\\.\\d+)?)/i)}:i?n={name:"Android",version:_}:/safari|applewebkit/i.test(r)?(n={name:"Safari",safari:O},_&&(n.version=_)):o?(n={name:"iphone"==o?"iPhone":"ipad"==o?"iPad":"iPod"},_&&(n.version=_)):n=/googlebot/i.test(r)?{name:"Googlebot",googlebot:O,version:t(/googlebot\\/(\\d+(\\.\\d+))/i)||_}:{name:t(/^(.*)\\/(.*) /),version:e(/^(.*)\\/(.*) /)},!n.msedge&&/(apple)?webkit/i.test(r)?(/(apple)?webkit\\/537\\.36/i.test(r)?(n.name=n.name||"Blink",n.blink=O):(n.name=n.name||"Webkit",n.webkit=O),!n.version&&_&&(n.version=_)):!n.opera&&/gecko\\//i.test(r)&&(n.name=n.name||"Gecko",n.gecko=O,n.version=n.version||t(/gecko\\/(\\d+(\\.\\d+)?)/i)),n.windowsphone||!i&&!n.silk?!n.windowsphone&&o?(n[o]=O,n.ios=O,n.osname="iOS"):h?(n.mac=O,n.osname="macOS"):j?(n.xbox=O,n.osname="Xbox"):d?(n.windows=O,n.osname="Windows"):y&&(n.linux=O,n.osname="Linux"):(n.android=O,n.osname="Android");var x="";n.windows?x=w(t(/Windows ((NT|XP)( \\d\\d?.\\d)?)/i)):n.windowsphone?x=t(/windows phone (?:os)?\\s?(\\d+(\\.\\d+)*)/i):n.mac?x=(x=t(/Mac OS X (\\d+([_\\.\\s]\\d+)*)/i)).replace(/[_\\s]/g,"."):o?x=(x=t(/os (\\d+([_\\s]\\d+)*) like mac os x/i)).replace(/[_\\s]/g,"."):i?x=t(/android[ \\/-](\\d+(\\.\\d+)*)/i):n.webos?x=t(/(?:web|hpw)os\\/(\\d+(\\.\\d+)*)/i):n.blackberry?x=t(/rim\\stablet\\sos\\s(\\d+(\\.\\d+)*)/i):n.bada?x=t(/bada\\/(\\d+(\\.\\d+)*)/i):n.tizen&&(x=t(/tizen[\\/\\s](\\d+(\\.\\d+)*)/i)),x&&(n.osversion=x);var S=!n.windows&&x.split(".")[0];return m||c||"ipad"==o||i&&(3==S||4<=S&&!g)||n.silk?n.tablet=O:(g||"iphone"==o||"ipod"==o||i||a||n.blackberry||n.webos||n.bada)&&(n.mobile=O),n.msedge||n.msie&&10<=n.version||n.yandexbrowser&&15<=n.version||n.vivaldi&&1<=n.version||n.chrome&&20<=n.version||n.samsungBrowser&&4<=n.version||n.firefox&&20<=n.version||n.safari&&6<=n.version||n.opera&&10<=n.version||n.ios&&n.osversion&&6<=n.osversion.split(".")[0]||n.blackberry&&10.1<=n.version||n.chromium&&20<=n.version?n.a=O:n.msie&&n.version<10||n.chrome&&n.version<20||n.firefox&&n.version<20||n.safari&&n.version<6||n.opera&&n.version<10||n.ios&&n.osversion&&n.osversion.split(".")[0]<6||n.chromium&&n.version<20?n.c=O:n.x=O,n}var c=a("undefined"!=typeof navigator&&navigator.userAgent||"");function n(t){return t.split(".").length}function o(t,e){var r,n=[];if(Array.prototype.map)return Array.prototype.map.call(t,e);for(r=0;r<t.length;r++)n.push(e(t[r]));return n}function u(t){for(var r=Math.max(n(t[0]),n(t[1])),e=o(t,function(t){var e=r-n(t);return o((t+=new Array(e+1).join(".0")).split("."),function(t){return new Array(20-t.length).join("0")+t}).reverse()});0<=--r;){if(e[0][r]>e[1][r])return 1;if(e[0][r]!==e[1][r])return-1;if(0===r)return 0}}function i(t,e,r){var n=c;"string"==typeof e&&(r=e,e=void 0),void 0===e&&(e=!1),r&&(n=a(r));var o,i=""+n.version;for(o in t)if(t.hasOwnProperty(o)&&n[o]){if("string"!=typeof t[o])throw new Error("Browser version in the minVersion map should be a string: "+o+": "+String(t));return u([i,t[o]])<0}return e}function t(t,e,r){return!i(t,e,r)}return c.test=function(t){for(var e=0;e<t.length;++e){var r=t[e];if("string"==typeof r&&r in c)return!0}return!1},c.isUnsupportedBrowser=i,c.compareVersions=u,c.check=t,c._detect=a,c.detect=a,c},t.exports?t.exports=o():r("B9Yq")(n,o)},qGoJ:function(t,e,r){(function(t){var F=r("cDf5"),e=function(a){"use strict";var u,t=Object.prototype,f=t.hasOwnProperty,e="function"==typeof Symbol?Symbol:{},o=e.iterator||"@@iterator",r=e.asyncIterator||"@@asyncIterator",n=e.toStringTag||"@@toStringTag";function c(t,e,r,n){var o=e&&e.prototype instanceof y?e:y,i=Object.create(o.prototype),a=new C(n||[]);return i._invoke=S(t,r,a),i}function p(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}a.wrap=c;var s="suspendedStart",l="suspendedYield",v="executing",d="completed",h={};function y(){}function i(){}function b(){}var _={};_[o]=function(){return this};var m=Object.getPrototypeOf,g=m&&m(m(D([])));g&&g!==t&&f.call(g,o)&&(_=g);var j=b.prototype=y.prototype=Object.create(_);function w(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function x(c,u){function s(t,e,r,n){var o=p(c[t],c,e);if("throw"!==o.type){var i=o.arg,a=i.value;return a&&"object"===F(a)&&f.call(a,"__await")?u.resolve(a.__await).then(function(t){s("next",t,r,n)},function(t){s("throw",t,r,n)}):u.resolve(a).then(function(t){i.value=t,r(i)},function(t){return s("throw",t,r,n)})}n(o.arg)}var e;function t(r,n){function t(){return new u(function(t,e){s(r,n,t,e)})}return e=e?e.then(t,t):t()}this._invoke=t}function S(i,a,c){var u=s;return function(t,e){if(u===v)throw new Error("Generator is already running");if(u===d){if("throw"===t)throw e;return P()}for(c.method=t,c.arg=e;;){var r=c.delegate;if(r){var n=O(r,c);if(n){if(n===h)continue;return n}}if("next"===c.method)c.sent=c._sent=c.arg;else if("throw"===c.method){if(u===s)throw u=d,c.arg;c.dispatchException(c.arg)}else"return"===c.method&&c.abrupt("return",c.arg);u=v;var o=p(i,a,c);if("normal"===o.type){if(u=c.done?d:l,o.arg!==h)return{value:o.arg,done:c.done}}else"throw"===o.type&&(u=d,c.method="throw",c.arg=o.arg)}}}function O(t,e){var r=t.iterator[e.method];if(r===u){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=u,O(t,e),"throw"===e.method))return h;e.method="throw",e.arg=new TypeError("The iterator does not provide a \'throw\' method")}return h}var n=p(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,h;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=u),e.delegate=null,h):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,h)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function C(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function D(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,n=function t(){for(;++r<e.length;)if(f.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=u,t.done=!0,t};return n.next=n}}return{next:P}}function P(){return{value:u,done:!0}}return(i.prototype=j.constructor=b).constructor=i,b[n]=i.displayName="GeneratorFunction",a.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===i||"GeneratorFunction"===(e.displayName||e.name))},a.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,n in t||(t[n]="GeneratorFunction")),t.prototype=Object.create(j),t},a.awrap=function(t){return{__await:t}},w(x.prototype),x.prototype[r]=function(){return this},a.AsyncIterator=x,a.async=function(t,e,r,n,o){void 0===o&&(o=Promise);var i=new x(c(t,e,r,n),o);return a.isGeneratorFunction(e)?i:i.next().then(function(t){return t.done?t.value:i.next()})},w(j),j[n]="Generator",j[o]=function(){return this},j.toString=function(){return"[object Generator]"},a.keys=function(r){var t,n=[];for(t in r)n.push(t);return n.reverse(),function t(){for(;n.length;){var e=n.pop();if(e in r)return t.value=e,t.done=!1,t}return t.done=!0,t}},a.values=D,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=u,this.done=!1,this.delegate=null,this.method="next",this.arg=u,this.tryEntries.forEach(k),!t)for(var e in this)"t"===e.charAt(0)&&f.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=u)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(r){if(this.done)throw r;var n=this;function t(t,e){return i.type="throw",i.arg=r,n.next=t,e&&(n.method="next",n.arg=u),!!e}for(var e=this.tryEntries.length-1;0<=e;--e){var o=this.tryEntries[e],i=o.completion;if("root"===o.tryLoc)return t("end");if(o.tryLoc<=this.prev){var a=f.call(o,"catchLoc"),c=f.call(o,"finallyLoc");if(a&&c){if(this.prev<o.catchLoc)return t(o.catchLoc,!0);if(this.prev<o.finallyLoc)return t(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return t(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return t(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;0<=r;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&f.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,h):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),k(r),h}},catch:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n,o=r.completion;return"throw"===o.type&&(n=o.arg,k(r)),n}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:D(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=u),h}},a}("object"===F(t)?t.exports:{});try{regeneratorRuntime=e}catch(t){Function("r","regeneratorRuntime = r")(e)}}).call(this,r("YuTi")(t))},qZTm:function(t,e,r){var n=r("fR/l"),o=r("MvSz"),i=r("7GkX");function a(t){return n(t,i,o)}t.exports=a},sEf8:function(t,e){function r(e){return function(t){return e(t)}}t.exports=r},shjB:function(t,e){var r=9007199254740991;function n(t){return"number"==typeof t&&-1<t&&t%1==0&&t<=r}t.exports=n},tLB3:function(t,e,r){var n=r("GoyQ"),o=r("/9aa"),i=NaN,a=/^\\s+|\\s+$/g,c=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,s=/^0o[0-7]+$/i,f=parseInt;function p(t){if("number"==typeof t)return t;if(o(t))return i;var e;if(n(t)&&(e="function"==typeof t.valueOf?t.valueOf():t,t=n(e)?e+"":e),"string"!=typeof t)return 0===t?t:+t;t=t.replace(a,"");var r=u.test(t);return r||s.test(t)?f(t.slice(2),r?2:8):c.test(t)?i:+t}t.exports=p},tMB7:function(t,e,r){var n=r("y1pI");function o(t){var e=this.__data__,r=n(e,t);return r<0?void 0:e[r][1]}t.exports=o},tadb:function(t,e,r){var n=r("Cwc5")(r("Kz5y"),"DataView");t.exports=n},u8Dt:function(t,e,r){var n=r("YESw"),o="__lodash_hash_undefined__",i=Object.prototype.hasOwnProperty;function a(t){var e=this.__data__;if(n){var r=e[t];return r===o?void 0:r}return i.call(e,t)?e[t]:void 0}t.exports=a},vOYo:function(t,e,r){"use strict";r.r(e);var c,n,u,o,i,a,s=r("o0o1"),v=r.n(s),f=r("lwsE"),p=r.n(f),l=r("W8MJ"),d=r.n(l),h=r("cDf5"),y=r.n(h),b=r("RIqP"),_=r.n(b),m=r("yXPU"),g=r.n(m),j=r("puQj"),w=r.n(j),x=r("BkRI"),S=r.n(x),O=r("kcif"),E=r.n(O),k=r("mwIZ"),C=r.n(k);(n=c=c||{})[n.High=0]="High",n[n.Low=1]="Low",(o=u=u||{}).PlainText="0",o.AESGCM="1",(a=i=i||{}).Destroy="DESTROY",a.FETCH="FETCH";var D="AES-CBC",P="AES-GCM",F="image/jpeg",U=200,T=2e3;function B(){var t,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},r="";for(t in e)r+="".concat(t,"=").concat(e[t],"&");return r.slice(0,r.length-1)}function q(t){var e=t.cdn_url,r=t.thumbnail_cdn_url,n=t.webp_cdn_url,o=t.webp_thumbnail_cdn_url;return w.a.mobile?o||n:r||e}function R(t){for(var e=t.slice(0,4),e=new Uint8Array(e),r=[],n=0;n<e.byteLength;n++)r.push(e[n].toString(16));return z(r.join("").toUpperCase())}function z(t){switch(t){case"89504E47":return"image/png";case"47494638":return"image/gif";case"FFD8FFDB":case"FFD8FFE0":case"FFD8FFE1":case"FFD8FFE2":case"FFD8FFE3":case"FFD8FFE8":return"image/jpeg";case"52494646":return"image/webp";default:return""}}function N(){return crypto&&crypto.subtle}var I=function(){function t(){p()(this,t),this.xhrList=[]}return d()(t,[{key:"fetch",value:function(h,y){var b=this;return new Promise(function(e){try{var t,r,n,o=y.responseType,i=void 0===o?"":o,a=y.params,c=y.timeout,u=void 0===c?6e4:c,s=y.method,f=void 0===s?"get":s,p=y.withCredentials,l=void 0===p||p,v=new XMLHttpRequest,d=null;"post"===f?(v.open(f,h),v.setRequestHeader("Content-Type","application/json"),d=JSON.stringify(a)):(r=(t=h.split("?"))[0],n=[t[1],B(a)].filter(function(t){return t}).join("&"),v.open(f,"".concat(r).concat(n?"?"+n:""))),v.responseType=i,v.timeout=u,v.withCredentials=l,v.onreadystatechange=function(){v.readyState===XMLHttpRequest.DONE&&(200===v.status?e({err:!1,data:v.response}):e({err:!0,errorCode:v.status,data:{}}))},v.onerror=function(){e({err:!0,errorCode:v.status,data:{}})},b.xhrList.push(v),v.send(d)}catch(t){e({err:!0})}})}},{key:"abortAll",value:function(){this.xhrList.forEach(function(t){t.readyState!==XMLHttpRequest.DONE&&t.abort()})}}]),t}(),L=r("w+Oj");function M(t){var i=t.data,a=t.key,c=t.algorithm,u=t.iv;return new Promise(function(t,e){var r,n,o;N()&&0<i.byteLength&&a&&0<u.byteLength?(r=K(a),n=new Uint8Array(u),o=new Uint8Array(i),crypto.subtle.importKey("raw",r,c,!1,["decrypt"]).then(function(t){return crypto.subtle.decrypt({name:c,iv:n},t,o)}).then(t).catch(e)):e()})}function K(t){for(var e=L.Base64.atob(t),r=e.length,n=new Uint8Array(r),o=0;o<r;o++)n[o]=e.charCodeAt(o);return n}var W=function(){function t(){p()(this,t),this.startTimestamp=new Map}return d()(t,[{key:"start",value:function(t){t&&this.startTimestamp.set(t,performance.now())}},{key:"end",value:function(t){if(!t)return null;var e=this.startTimestamp.get(t);return e?(performance.now()-e).toFixed(4):null}},{key:"clear",value:function(){this.startTimestamp.clear()}}]),t}();function V(){this.__data__=[],this.size=0}function X(t,e){return t===e||t!=t&&e!=e}var Y=X;function J(t,e){for(var r=t.length;r--;)if(Y(t[r][0],e))return r;return-1}var Z=J,Q=Array.prototype.splice;function H(t){var e=this.__data__,r=Z(e,t);return!(r<0)&&(r==e.length-1?e.pop():Q.call(e,r,1),--this.size,!0)}var $=H;function tt(t){var e=this.__data__,r=Z(e,t);return r<0?void 0:e[r][1]}var et=tt;function rt(t){return-1<Z(this.__data__,t)}var nt=rt;function ot(t,e){var r=this.__data__,n=Z(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}var it=ot;function at(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}at.prototype.clear=V,at.prototype.delete=$,at.prototype.get=et,at.prototype.has=nt,at.prototype.set=it;var ct=at;function ut(){this.__data__=new ct,this.size=0}var st=ut;function ft(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}var pt=ft;function lt(t){return this.__data__.get(t)}var vt=lt;function dt(t){return this.__data__.has(t)}var ht=dt,yt=r("Ju5/"),bt=yt.a.Symbol,_t=Object.prototype,mt=_t.hasOwnProperty,gt=_t.toString,jt=bt?bt.toStringTag:void 0;function wt(t){var e=mt.call(t,jt),r=t[jt];try{var n=!(t[jt]=void 0)}catch(t){}var o=gt.call(t);return n&&(e?t[jt]=r:delete t[jt]),o}var xt=wt,St=Object.prototype.toString;function At(t){return St.call(t)}var Ot=At,Et="[object Null]",kt="[object Undefined]",Ct=bt?bt.toStringTag:void 0;function Dt(t){return null==t?void 0===t?kt:Et:(Ct&&Ct in Object(t)?xt:Ot)(t)}var Pt=Dt;function Ft(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}var Ut=Ft,Tt="[object AsyncFunction]",Bt="[object Function]",qt="[object GeneratorFunction]",Rt="[object Proxy]";function zt(t){if(!Ut(t))return!1;var e=Pt(t);return e==Bt||e==qt||e==Tt||e==Rt}var Nt,It=zt,Lt=yt.a["__core-js_shared__"],Mt=(Nt=/[^.]+$/.exec(Lt&&Lt.keys&&Lt.keys.IE_PROTO||""))?"Symbol(src)_1."+Nt:"";function Kt(t){return!!Mt&&Mt in t}var Gt=Kt,Wt=Function.prototype.toString;function Vt(t){if(null!=t){try{return Wt.call(t)}catch(t){}try{return t+""}catch(t){}}return""}var Xt=Vt,Yt=/[\\\\^$.*+?()[\\]{}|]/g,Jt=/^\\[object .+?Constructor\\]$/,Zt=Function.prototype,Qt=Object.prototype,Ht=Zt.toString,$t=Qt.hasOwnProperty,te=RegExp("^"+Ht.call($t).replace(Yt,"\\\\$&").replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g,"$1.*?")+"$");function ee(t){return!(!Ut(t)||Gt(t))&&(It(t)?te:Jt).test(Xt(t))}var re=ee;function ne(t,e){return null==t?void 0:t[e]}var oe=ne;function ie(t,e){var r=oe(t,e);return re(r)?r:void 0}var ae=ie,ce=ae(yt.a,"Map"),ue=ae(Object,"create");function se(){this.__data__=ue?ue(null):{},this.size=0}function fe(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var pe=fe,le="__lodash_hash_undefined__",ve=Object.prototype.hasOwnProperty;function de(t){var e=this.__data__;if(ue){var r=e[t];return r===le?void 0:r}return ve.call(e,t)?e[t]:void 0}var he=de,ye=Object.prototype.hasOwnProperty;function be(t){var e=this.__data__;return ue?void 0!==e[t]:ye.call(e,t)}var _e=be,me="__lodash_hash_undefined__";function ge(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=ue&&void 0===e?me:e,this}var je=ge;function we(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}we.prototype.clear=se,we.prototype.delete=pe,we.prototype.get=he,we.prototype.has=_e,we.prototype.set=je;var xe=we;function Se(){this.size=0,this.__data__={hash:new xe,map:new(ce||ct),string:new xe}}function Ae(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}var Oe=Ae;function Ee(t,e){var r=t.__data__;return Oe(e)?r["string"==typeof e?"string":"hash"]:r.map}var ke=Ee;function Ce(t){var e=ke(this,t).delete(t);return this.size-=e?1:0,e}var De=Ce;function Pe(t){return ke(this,t).get(t)}var Fe=Pe;function Ue(t){return ke(this,t).has(t)}var Te=Ue;function Be(t,e){var r=ke(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}var qe=Be;function Re(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Re.prototype.clear=Se,Re.prototype.delete=De,Re.prototype.get=Fe,Re.prototype.has=Te,Re.prototype.set=qe;var ze=Re,Ne=200;function Ie(t,e){var r=this.__data__;if(r instanceof ct){var n=r.__data__;if(!ce||n.length<Ne-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new ze(n)}return r.set(t,e),this.size=r.size,this}var Le=Ie;function Me(t){var e=this.__data__=new ct(t);this.size=e.size}Me.prototype.clear=st,Me.prototype.delete=pt,Me.prototype.get=vt,Me.prototype.has=ht,Me.prototype.set=Le;var Ke=Me;function Ge(t,e){for(var r=-1,n=null==t?0:t.length;++r<n&&!1!==e(t[r],r,t););return t}var We=Ge,Ve=function(){try{var t=ae(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();function Xe(t,e,r){"__proto__"==e&&Ve?Ve(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}var Ye=Xe,Je=Object.prototype.hasOwnProperty;function Ze(t,e,r){var n=t[e];Je.call(t,e)&&Y(n,r)&&(void 0!==r||e in t)||Ye(t,e,r)}var Qe=Ze;function He(t,e,r,n){var o=!r;r=r||{};for(var i=-1,a=e.length;++i<a;){var c=e[i],u=n?n(r[c],t[c],c,r,t):void 0;void 0===u&&(u=t[c]),(o?Ye:Qe)(r,c,u)}return r}var $e=He;function tr(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}var er=tr;function rr(t){return null!=t&&"object"==typeof t}var nr=rr,or="[object Arguments]";function ir(t){return nr(t)&&Pt(t)==or}var ar=ir,cr=Object.prototype,ur=cr.hasOwnProperty,sr=cr.propertyIsEnumerable,fr=ar(function(){return arguments}())?ar:function(t){return nr(t)&&ur.call(t,"callee")&&!sr.call(t,"callee")},pr=Array.isArray,lr=r("WOAq"),vr=9007199254740991,dr=/^(?:0|[1-9]\\d*)$/;function hr(t,e){var r=typeof t;return!!(e=null==e?vr:e)&&("number"==r||"symbol"!=r&&dr.test(t))&&-1<t&&t%1==0&&t<e}var yr=hr,br=9007199254740991;function _r(t){return"number"==typeof t&&-1<t&&t%1==0&&t<=br}var mr=_r,gr="[object Arguments]",jr="[object Array]",wr="[object Boolean]",xr="[object Date]",Sr="[object Error]",Ar="[object Function]",Or="[object Map]",Er="[object Number]",kr="[object Object]",Cr="[object RegExp]",Dr="[object Set]",Pr="[object String]",Fr="[object WeakMap]",Ur="[object ArrayBuffer]",Tr="[object DataView]",Br="[object Float64Array]",qr="[object Int8Array]",Rr="[object Int16Array]",zr="[object Int32Array]",Nr="[object Uint8Array]",Ir="[object Uint8ClampedArray]",Lr="[object Uint16Array]",Mr="[object Uint32Array]",Kr={};function Gr(t){return nr(t)&&mr(t.length)&&!!Kr[Pt(t)]}Kr["[object Float32Array]"]=Kr[Br]=Kr[qr]=Kr[Rr]=Kr[zr]=Kr[Nr]=Kr[Ir]=Kr[Lr]=Kr[Mr]=!0,Kr[gr]=Kr[jr]=Kr[Ur]=Kr[wr]=Kr[Tr]=Kr[xr]=Kr[Sr]=Kr[Ar]=Kr[Or]=Kr[Er]=Kr[kr]=Kr[Cr]=Kr[Dr]=Kr[Pr]=Kr[Fr]=!1;var Wr=Gr;function Vr(e){return function(t){return e(t)}}var Xr=Vr,Yr=r("xutz"),Jr=Yr.a&&Yr.a.isTypedArray,Zr=Jr?Xr(Jr):Wr,Qr=Object.prototype.hasOwnProperty;function Hr(t,e){var r,n=pr(t),o=!n&&fr(t),i=!n&&!o&&Object(lr.a)(t),a=!n&&!o&&!i&&Zr(t),c=n||o||i||a,u=c?er(t.length,String):[],s=u.length;for(r in t)!e&&!Qr.call(t,r)||c&&("length"==r||i&&("offset"==r||"parent"==r)||a&&("buffer"==r||"byteLength"==r||"byteOffset"==r)||yr(r,s))||u.push(r);return u}var $r=Hr,tn=Object.prototype;function en(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||tn)}var rn=en;function nn(e,r){return function(t){return e(r(t))}}var on=nn,an=on(Object.keys,Object),cn=Object.prototype.hasOwnProperty;function un(t){if(!rn(t))return an(t);var e,r=[];for(e in Object(t))cn.call(t,e)&&"constructor"!=e&&r.push(e);return r}var sn=un;function fn(t){return null!=t&&mr(t.length)&&!It(t)}var pn=fn;function ln(t){return(pn(t)?$r:sn)(t)}var vn=ln;function dn(t,e){return t&&$e(e,vn(e),t)}var hn=dn;function yn(t){var e=[];if(null!=t)for(var r in Object(t))e.push(r);return e}var bn=yn,_n=Object.prototype.hasOwnProperty;function mn(t){if(!Ut(t))return bn(t);var e,r=rn(t),n=[];for(e in t)("constructor"!=e||!r&&_n.call(t,e))&&n.push(e);return n}var gn=mn;function jn(t){return pn(t)?$r(t,!0):gn(t)}var wn=jn;function xn(t,e){return t&&$e(e,wn(e),t)}var Sn=xn,An=r("3/ER");function On(t,e){var r=-1,n=t.length;for(e=e||Array(n);++r<n;)e[r]=t[r];return e}var En=On;function kn(t,e){for(var r=-1,n=null==t?0:t.length,o=0,i=[];++r<n;){var a=t[r];e(a,r,t)&&(i[o++]=a)}return i}var Cn=kn;function Dn(){return[]}var Pn=Dn,Fn=Object.prototype.propertyIsEnumerable,Un=Object.getOwnPropertySymbols,Tn=Un?function(e){return null==e?[]:(e=Object(e),Cn(Un(e),function(t){return Fn.call(e,t)}))}:Pn;function Bn(t,e){return $e(t,Tn(t),e)}var qn=Bn;function Rn(t,e){for(var r=-1,n=e.length,o=t.length;++r<n;)t[o+r]=e[r];return t}var zn=Rn,Nn=on(Object.getPrototypeOf,Object),In=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)zn(e,Tn(t)),t=Nn(t);return e}:Pn;function Ln(t,e){return $e(t,In(t),e)}var Mn=Ln;function Kn(t,e,r){var n=e(t);return pr(t)?n:zn(n,r(t))}var Gn=Kn;function Wn(t){return Gn(t,vn,Tn)}var Vn=Wn;function Xn(t){return Gn(t,wn,In)}var Yn=Xn,Jn=ae(yt.a,"DataView"),Zn=ae(yt.a,"Promise"),Qn=ae(yt.a,"Set"),Hn=ae(yt.a,"WeakMap"),$n="[object Map]",to="[object Object]",eo="[object Promise]",ro="[object Set]",no="[object WeakMap]",oo="[object DataView]",io=Xt(Jn),ao=Xt(ce),co=Xt(Zn),uo=Xt(Qn),so=Xt(Hn),fo=Pt;(Jn&&fo(new Jn(new ArrayBuffer(1)))!=oo||ce&&fo(new ce)!=$n||Zn&&fo(Zn.resolve())!=eo||Qn&&fo(new Qn)!=ro||Hn&&fo(new Hn)!=no)&&(fo=function(t){var e=Pt(t),r=e==to?t.constructor:void 0,n=r?Xt(r):"";if(n)switch(n){case io:return oo;case ao:return $n;case co:return eo;case uo:return ro;case so:return no}return e});var po=fo,lo=Object.prototype.hasOwnProperty;function vo(t){var e=t.length,r=new t.constructor(e);return e&&"string"==typeof t[0]&&lo.call(t,"index")&&(r.index=t.index,r.input=t.input),r}var ho=vo,yo=yt.a.Uint8Array;function bo(t){var e=new t.constructor(t.byteLength);return new yo(e).set(new yo(t)),e}var _o=bo;function mo(t,e){var r=e?_o(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}var go=mo,jo=/\\w*$/;function wo(t){var e=new t.constructor(t.source,jo.exec(t));return e.lastIndex=t.lastIndex,e}var xo=wo,So=bt?bt.prototype:void 0,Ao=So?So.valueOf:void 0;function Oo(t){return Ao?Object(Ao.call(t)):{}}var Eo=Oo;function ko(t,e){var r=e?_o(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}var Co=ko,Do="[object Boolean]",Po="[object Date]",Fo="[object Map]",Uo="[object Number]",To="[object RegExp]",Bo="[object Set]",qo="[object String]",Ro="[object Symbol]",zo="[object ArrayBuffer]",No="[object DataView]",Io="[object Float32Array]",Lo="[object Float64Array]",Mo="[object Int8Array]",Ko="[object Int16Array]",Go="[object Int32Array]",Wo="[object Uint8Array]",Vo="[object Uint8ClampedArray]",Xo="[object Uint16Array]",Yo="[object Uint32Array]";function Jo(t,e,r){var n=t.constructor;switch(e){case zo:return _o(t);case Do:case Po:return new n(+t);case No:return go(t,r);case Io:case Lo:case Mo:case Ko:case Go:case Wo:case Vo:case Xo:case Yo:return Co(t,r);case Fo:return new n;case Uo:case qo:return new n(t);case To:return xo(t);case Bo:return new n;case Ro:return Eo(t)}}var Zo=Jo,Qo=Object.create;function Ho(){}var $o=function(t){if(!Ut(t))return{};if(Qo)return Qo(t);Ho.prototype=t;var e=new Ho;return Ho.prototype=void 0,e};function ti(t){return"function"!=typeof t.constructor||rn(t)?{}:$o(Nn(t))}var ei=ti,ri="[object Map]";function ni(t){return nr(t)&&po(t)==ri}var oi=ni,ii=Yr.a&&Yr.a.isMap,ai=ii?Xr(ii):oi,ci="[object Set]";function ui(t){return nr(t)&&po(t)==ci}var si=ui,fi=Yr.a&&Yr.a.isSet,pi=fi?Xr(fi):si,li=1,vi=2,di=4,hi="[object Arguments]",yi="[object Array]",bi="[object Boolean]",_i="[object Date]",mi="[object Error]",gi="[object Function]",ji="[object GeneratorFunction]",wi="[object Map]",xi="[object Number]",Si="[object Object]",Ai="[object RegExp]",Oi="[object Set]",Ei="[object String]",ki="[object Symbol]",Ci="[object WeakMap]",Di="[object ArrayBuffer]",Pi="[object DataView]",Fi="[object Float32Array]",Ui="[object Float64Array]",Ti="[object Int8Array]",Bi="[object Int16Array]",qi="[object Int32Array]",Ri="[object Uint8Array]",zi="[object Uint8ClampedArray]",Ni="[object Uint16Array]",Ii="[object Uint32Array]",Li={};function Mi(r,n,o,t,e,i){var a,c=n&li,u=n&vi,s=n&di;if(o&&(a=e?o(r,t,e,i):o(r)),void 0!==a)return a;if(!Ut(r))return r;var f=pr(r);if(f){if(a=ho(r),!c)return En(r,a)}else{var p=po(r),l=p==gi||p==ji;if(Object(lr.a)(r))return Object(An.a)(r,c);if(p==Si||p==hi||l&&!e){if(a=u||l?{}:ei(r),!c)return u?Mn(r,Sn(a,r)):qn(r,hn(a,r))}else{if(!Li[p])return e?r:{};a=Zo(r,p,c)}}var v=(i=i||new Ke).get(r);if(v)return v;if(i.set(r,a),pi(r))return r.forEach(function(t){a.add(Mi(t,n,o,t,r,i))}),a;if(ai(r))return r.forEach(function(t,e){a.set(e,Mi(t,n,o,e,r,i))}),a;var d=s?u?Yn:Vn:u?keysIn:vn,h=f?void 0:d(r);return We(h||r,function(t,e){h&&(t=r[e=t]),Qe(a,e,Mi(t,n,o,e,r,i))}),a}Li[hi]=Li[yi]=Li[Di]=Li[Pi]=Li[bi]=Li[_i]=Li[Fi]=Li[Ui]=Li[Ti]=Li[Bi]=Li[qi]=Li[wi]=Li[xi]=Li[Si]=Li[Ai]=Li[Oi]=Li[Ei]=Li[ki]=Li[Ri]=Li[zi]=Li[Ni]=Li[Ii]=!0,Li[mi]=Li[gi]=Li[Ci]=!1;var Ki=Mi,Gi=1,Wi=4;function Vi(t){return Ki(t,Gi|Wi)}var Xi=Vi;function Yi(e,t){var r=null;try{r=JSON.parse(e,t)}catch(t){r=Xi(e)}return r}var Ji=self.TextEncoder&&self.TextDecoder,Zi=w.a.msie||w.a.msedge,Qi=Ji&&!Zi,Hi=Qi?new TextDecoder:{},$i=Qi?new TextEncoder:{},ta=self,ea=null,ra={},na=[],oa=[],ia=5,aa={isProcessing:!1,err:!1,displayStatus:{timeOrigin:performance.timeOrigin},priority:c.Low},ca=new W,ua=new I;function sa(e,r){var n=null,i=new Set,a=new Set;function o(){n=null,i.clear(),a.clear()}function c(t){var e=t.inViewImages,r=void 0===e?[]:e,n=t.nearScreenImages,o=void 0===n?[]:n;r.forEach(function(t){i.add(t.originSrc)}),o.forEach(function(t){i.has(t.originSrc)||a.add(t.originSrc)})}return function(t){c(t),n=n||self.setTimeout(function(){r(Array.from(i),Array.from(a)),o()},e.duration)}}function fa(t){return t.filter(function(t){var e=ra[t],r=e.fileToken,n=e.driveCdnUrlResult,o=e.isBatchRequestingDriveImgCDNUrl,i=!!r,a=!(n&&n.success||o);return i&&a})}var pa=sa({duration:10},la);function la(t,e){return va.apply(this,arguments)}function va(){return(va=g()(v.a.mark(function t(e,r){var n;return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=fa([].concat(_()(e),_()(r))),t.next=3,da(n);case 3:xa([].concat(_()(e),_()(r))),Aa();case 5:case"end":return t.stop()}},t)}))).apply(this,arguments)}function da(t){return ha.apply(this,arguments)}function ha(){return(ha=g()(v.a.mark(function t(e){var r;return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return Ia(e,!0),t.next=3,za(e);case 3:r=t.sent,Ia(e,!1),Wa(r);case 6:case"end":return t.stop()}},t)}))).apply(this,arguments)}function ya(t){var e=t.originSrc;e&&!ra[e]&&(ea=t.pluginId,ra[e]=Object.assign(t,S()(aa)))}function ba(t){var e,r=t.originSrc,n=ra[r];n&&(e=C()(t,"coverOptions"),C()(n,"coverOptions.type")!==(e&&e.type)&&Object.assign(n,Object.assign({driveCdnUrlResult:null},t)))}function _a(t){var e=t.inViewImages,r=void 0===e?[]:e,n=t.nearScreenImages,o=void 0===n?[]:n;[].concat(_()(r),_()(o)).forEach(function(t){ya(t),ba(t)});var i=r.map(function(t){return t.originSrc}),a=o.map(function(t){return t.originSrc});Ua(i,c.High),Ua(a,c.Low),ma(i)}function ma(t){t.map(function(t){ra[t]&&!ra[t].displayStart&&(ra[t].displayStart=performance.now(),ca.start("".concat(t,"_queue")))})}function ga(t){t.pluginId===ea&&(ra={},na=[],oa=[],ja(),wa(),ca.clear())}function ja(){ua.abortAll()}function wa(){for(var t in ra){var e=ra[t].blobUrl;e&&URL.revokeObjectURL(e)}}function xa(t){oa=Sa(oa=Array.from(new Set([].concat(_()(oa),_()(t)))))}function Sa(t){return t.sort(function(t,e){var r=ra[t],n=ra[e];return r&&n?r.priority<n.priority?-1:1:r?-1:1})}function Aa(){for(;na.length<ia&&0<oa.length;){var t,e,r=oa.shift(),n=r&&ra[r];r&&n&&(t=n.isProcessing,e=Oa(n),Ea(n)&&e?Fa(Object.assign(n,{blobUrl:e})):t||(na.push(r),Ca(r)))}}function Oa(t){if(!t)return null;var e=t.coverResultUrl,r=t.originResultUrl;return ka(t)?e:r}function Ea(t){if(!t)return!1;var e=t.coverResultUrl,r=t.originResultUrl;return ka(t)?!!e:!!r}function ka(t){if(!t)return!1;var e=t.coverOptions;return!!e&&"cover"===e.type}function Ca(t){var e=ra[t];e&&(Pa(t),e.isProcessing=!0,new Ra(e).start().then(Da))}function Da(t){var e=t.originSrc,r=t.blobUrl,n=na.indexOf(e);na.splice(n,1),Aa();var o=ra[e];ka(o)?t.coverResultUrl=r:t.originResultUrl=r,Object.assign(o,S()(t),{isProcessing:!1}),Fa(o)}function Pa(t){var e=ra[t];e.displayStatus&&e.displayStart&&(e.displayStatus.queue_time_cost=ca.end("".concat(t,"_queue")))}function Fa(t){qa(Ba(t))}function Ua(t,e){for(var r in t){var n=t[r];ra[n]&&(ra[n].priority=e)}}function Ta(t){if(Qi){var e=Hi.decode(new Uint8Array(t.data.buf));return JSON.parse(e)}return JSON.parse(t.data)}function Ba(t){return Qi?$i.encode(JSON.stringify(t)):JSON.stringify(t)}function qa(t){"object"===y()(t)?ta.postMessage(t.buffer,[t.buffer]):ta.postMessage(t)}ta.onmessage=function(t){var e=Ta(t),r=e.data;switch(e.type){case i.FETCH:_a(r),pa(r);break;case i.Destroy:ga(r)}};var Ra=function(){function e(t){p()(this,e),this.key=t.key,this.keyUrl=t.keyUrl,this.fileToken=t.fileToken,this.isDriveImg=!!t.fileToken,this.cdnUrl=t.cdnUrl,this.driveFetchCdnUrl=t.driveFetchCdnUrl,this.decryptKey=t.decryptKey,this.originSrc=t.originSrc,this.displayStatus=t.displayStatus,this.coverOptions=t.coverOptions,this.driveCdnUrlResult=t.driveCdnUrlResult}return d()(e,[{key:"start",value:function(){return ca.start("".concat(this.originSrc,"_request_until_end")),this.isDriveImg?this.startRequestDriveImg():this.requestDocCDNUrl()}},{key:"startRequestDriveImg",value:function(){return this.driveCdnUrlResult&&this.driveCdnUrlResult.success?this.handleRequestDriveCDNUrlSuccessResult(this.driveCdnUrlResult):this.requestSrc()}},{key:"requestDocCDNUrl",value:function(){var o=this;this.displayStatus.request_key_necessary=!0;var t=this.key,e=this.keyUrl,r={key:t};return ca.start("".concat(this.originSrc,"_request_key")),ua.fetch(e,{params:r,timeout:T}).then(function(t){o.displayStatus.request_key_time_cost=ca.end("".concat(o.originSrc,"_request_key"));var e=Yi(t.data)||{};if(0!==e.code||t.err)return o.displayStatus.request_key_fail=!0,o.requestSrc();var r=q(e.data),n=e.data.decrypt_key;return o.cdnUrl=r,o.decryptKey=n,o.displayStatus.request_key_fail=!1,o.requestCDN()})}},{key:"handleRequestDriveCDNUrlSuccessResult",value:function(t){if(!t.permitted)return this.requestSrc();var e=t.url,r=t.cipher_type,n=t.secret,o=t.nonce;this.cdnUrl=e.replace("http://","https://"),this.decryptKey=n,this.displayStatus.request_key_fail=!1;var i=K(o);this.driveImgDecryptIv=i,this.needDecryptDriveImg=r===u.AESGCM;var a=this.needDecryptDriveImg;return this.requestDriveData(a)}},{key:"requestCDN",value:function(){var i=this,t={responseType:"arraybuffer",withCredentials:!1};return this.displayStatus.request_cdn_necessary=!0,ca.start("".concat(this.originSrc,"_request_cdn")),ua.fetch(this.cdnUrl,t).then(function(t){i.displayStatus.request_cdn_time_cost=ca.end("".concat(i.originSrc,"_request_cdn"));var e=t.data,r=t.err;if(!e||r)return i.displayStatus.request_cdn_fail=!0,i.requestSrc();i.displayStatus.request_cdn_fail=!1,i.size=e.byteLength,i.displayStatus.size=i.size;var n=e.slice(0,16),o={data:e.slice(16),key:i.decryptKey,iv:n,algorithm:D};return i.decrypt(o)})}},{key:"requestDriveData",value:function(t){var o=this,e={responseType:"arraybuffer",withCredentials:!t};return this.displayStatus.request_cdn_necessary=!0,ca.start("".concat(this.originSrc,"_request_cdn")),ua.fetch(this.cdnUrl,e).then(function(t){o.displayStatus.request_cdn_time_cost=ca.end("".concat(o.originSrc,"_request_cdn"));var e=t.data,r=t.err;if(!e||r)return o.displayStatus.request_cdn_fail=!0,o.requestSrc();if(o.displayStatus.request_cdn_fail=!1,o.size=e.byteLength,o.displayStatus.size=o.size,o.needDecryptDriveImg){var n={data:e,key:o.decryptKey,iv:o.driveImgDecryptIv,algorithm:P};return o.decrypt(n)}return o.convertData(e),o.requestEnd()})}},{key:"requestSrc",value:function(){var n=this,t={responseType:"arraybuffer"};return this.displayStatus.request_origin_necessary=!0,ca.start("".concat(this.originSrc,"_request_origin")),ua.fetch(this.originSrc,t).then(function(t){var e=t.data,r=t.err;return n.displayStatus.request_origin_time_cost=ca.end("".concat(n.originSrc,"_request_origin")),!r&&e?(n.size=e.byteLength,n.displayStatus.request_origin_fail=!1,n.convertData(e)):n.displayStatus.request_origin_fail=!0,n.requestEnd()})}},{key:"decrypt",value:function(t){var e=this;return this.displayStatus.decrypt_necessary=!0,ca.start("".concat(this.originSrc,"_decrypt")),M(t).then(function(t){return e.displayStatus.decrypt_time_cost=ca.end("".concat(e.originSrc,"_decrypt")),e.displayStatus.decrypt_fail=!1,e.convertData(t),e.requestEnd()},function(){return e.displayStatus.decrypt_fail=!0,e.requestSrc()})}},{key:"convertData",value:function(t){if(0<t.byteLength)try{var e=R(t),r=new DataView(t),n=new Blob([r],{type:e||F});this.blobUrl=URL.createObjectURL(n),this.mime=e,this.displayStatus.mime_type=e}catch(t){}}},{key:"requestEnd",value:function(){var t=this.originSrc,e=this.blobUrl,r=this.displayStatus,n=this.mime;return r.request_decrypt_time_cost=ca.end("".concat(this.originSrc,"_request_until_end")),Promise.resolve({originSrc:t,blobUrl:e,displayStatus:r,mime:n})}}]),e}();function za(t){return Na.apply(this,arguments)}function Na(){return(Na=g()(v.a.mark(function t(e){var r,n,o,i,a;return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=e.filter(function(t){return ra[t]}).map(function(t){return ra[t]}),n=E()(r,U),o=[],i=0;case 4:if(i<n.length)return t.next=7,Ka(n[i]);t.next=12;break;case 7:a=t.sent,o=o.concat(a);case 9:i++,t.next=4;break;case 12:return t.abrupt("return",o);case 13:case"end":return t.stop()}},t)}))).apply(this,arguments)}function Ia(t,r){t.forEach(function(t){var e=ra[t];e&&(e.isBatchRequestingDriveImgCDNUrl=r)})}function La(t){var n=[];return t.forEach(function(t){var e=t.fileToken,r=t.coverOptions;n.push(Object.assign({file_token:e},r))}),n}function Ma(t){return t.driveFetchCdnUrl}function Ka(t){return Ga.apply(this,arguments)}function Ga(){return(Ga=g()(v.a.mark(function t(e){var r,n,o,i,a,c,u,s,f,p,l;return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=[],0<e.length)return n=La(e),o=Ma(e[0]),i="".concat(Date.now(),"_batch_request_cdn"),ca.start(i),t.prev=6,t.next=9,ua.fetch(o,{params:n,method:"post",timeout:T});t.next=24;break;case 9:if(a=t.sent,c=ca.end(i),u=a.data,s=a.err)throw Error("ajax error");t.next=14;break;case 14:if(f=JSON.parse(u)||{},p=f.code,l=f.data,0!==p||s||e.length!==l.length)throw Error("error from server data");t.next=18;break;case 18:r=l.map(function(t){return Object.assign({success:!0,timeCost:c},t)}),t.next=24;break;case 21:t.prev=21,t.t0=t.catch(6),r=e.map(function(t){return{success:!1,file_token:t.fileToken}});case 24:return t.abrupt("return",r);case 25:case"end":return t.stop()}},t,null,[[6,21]])}))).apply(this,arguments)}function Wa(t){t.forEach(function(t){for(var e in ra){var r=ra[e];r.fileToken===t.file_token&&(r.driveCdnUrlResult=t,r.displayStatus.request_key_necessary=!0,r.displayStatus.request_key_fail=t.success,t.success&&(r.displayStatus.request_key_time_cost=t.timeCost))}})}},"w+Oj":function(module,exports,__webpack_require__){(function(global){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_RESULT__,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__,_typeof=__webpack_require__("cDf5"),AR,BR;AR="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==global?global:this,BR=function(global){"use strict";var _Base64=global.Base64,version="2.5.0",buffer;if(module.exports)try{buffer=eval("require(\'buffer\').Buffer")}catch(err){buffer=void 0}var b64chars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",b64tab=function(t){for(var e={},r=0,n=t.length;r<n;r++)e[t.charAt(r)]=r;return e}(b64chars),fromCharCode=String.fromCharCode,cb_utob=function(t){if(t.length<2)return(e=t.charCodeAt(0))<128?t:e<2048?fromCharCode(192|e>>>6)+fromCharCode(128|63&e):fromCharCode(224|e>>>12&15)+fromCharCode(128|e>>>6&63)+fromCharCode(128|63&e);var e=65536+1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320);return fromCharCode(240|e>>>18&7)+fromCharCode(128|e>>>12&63)+fromCharCode(128|e>>>6&63)+fromCharCode(128|63&e)},re_utob=/[\\uD800-\\uDBFF][\\uDC00-\\uDFFFF]|[^\\x00-\\x7F]/g,utob=function(t){return t.replace(re_utob,cb_utob)},cb_encode=function(t){var e=[0,2,1][t.length%3],r=t.charCodeAt(0)<<16|(1<t.length?t.charCodeAt(1):0)<<8|(2<t.length?t.charCodeAt(2):0);return[b64chars.charAt(r>>>18),b64chars.charAt(r>>>12&63),2<=e?"=":b64chars.charAt(r>>>6&63),1<=e?"=":b64chars.charAt(63&r)].join("")},btoa=global.btoa?function(t){return global.btoa(t)}:function(t){return t.replace(/[\\s\\S]{1,3}/g,cb_encode)},_encode=buffer?buffer.from&&Uint8Array&&buffer.from!==Uint8Array.from?function(t){return(t.constructor===buffer.constructor?t:buffer.from(t)).toString("base64")}:function(t){return(t.constructor===buffer.constructor?t:new buffer(t)).toString("base64")}:function(t){return btoa(utob(t))},encode=function(t,e){return e?_encode(String(t)).replace(/[+\\/]/g,function(t){return"+"==t?"-":"_"}).replace(/=/g,""):_encode(String(t))},encodeURI=function(t){return encode(t,!0)},re_btou=new RegExp(["[-][-]","[-][-]{2}","[-][-]{3}"].join("|"),"g"),cb_btou=function(t){switch(t.length){case 4:var e=((7&t.charCodeAt(0))<<18|(63&t.charCodeAt(1))<<12|(63&t.charCodeAt(2))<<6|63&t.charCodeAt(3))-65536;return fromCharCode(55296+(e>>>10))+fromCharCode(56320+(1023&e));case 3:return fromCharCode((15&t.charCodeAt(0))<<12|(63&t.charCodeAt(1))<<6|63&t.charCodeAt(2));default:return fromCharCode((31&t.charCodeAt(0))<<6|63&t.charCodeAt(1))}},btou=function(t){return t.replace(re_btou,cb_btou)},cb_decode=function(t){var e=t.length,r=e%4,n=(0<e?b64tab[t.charAt(0)]<<18:0)|(1<e?b64tab[t.charAt(1)]<<12:0)|(2<e?b64tab[t.charAt(2)]<<6:0)|(3<e?b64tab[t.charAt(3)]:0),o=[fromCharCode(n>>>16),fromCharCode(n>>>8&255),fromCharCode(255&n)];return o.length-=[0,0,2,1][r],o.join("")},_atob=global.atob?function(t){return global.atob(t)}:function(t){return t.replace(/\\S{1,4}/g,cb_decode)},atob=function(t){return _atob(String(t).replace(/[^A-Za-z0-9\\+\\/]/g,""))},_decode=buffer?buffer.from&&Uint8Array&&buffer.from!==Uint8Array.from?function(t){return(t.constructor===buffer.constructor?t:buffer.from(t,"base64")).toString()}:function(t){return(t.constructor===buffer.constructor?t:new buffer(t,"base64")).toString()}:function(t){return btou(_atob(t))},decode=function(t){return _decode(String(t).replace(/[-_]/g,function(t){return"-"==t?"+":"/"}).replace(/[^A-Za-z0-9\\+\\/]/g,""))},noConflict=function(){var t=global.Base64;return global.Base64=_Base64,t},noEnum;return global.Base64={VERSION:version,atob:atob,btoa:btoa,fromBase64:decode,toBase64:encode,utob:utob,encode:encode,encodeURI:encodeURI,btou:btou,decode:decode,noConflict:noConflict,__buffer__:buffer},"function"==typeof Object.defineProperty&&(noEnum=function(t){return{value:t,enumerable:!1,writable:!0,configurable:!0}},global.Base64.extendString=function(){Object.defineProperty(String.prototype,"fromBase64",noEnum(function(){return decode(this)})),Object.defineProperty(String.prototype,"toBase64",noEnum(function(t){return encode(this,t)})),Object.defineProperty(String.prototype,"toBase64URI",noEnum(function(){return encode(this,!0)}))}),global.Meteor&&(Base64=global.Base64),module.exports?module.exports.Base64=global.Base64:(__WEBPACK_AMD_DEFINE_ARRAY__=[],__WEBPACK_AMD_DEFINE_RESULT__=function(){return global.Base64}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),void 0===__WEBPACK_AMD_DEFINE_RESULT__||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)),{Base64:global.Base64}},"object"===_typeof(exports)&&void 0!==module?module.exports=BR(AR):void 0===(__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof(__WEBPACK_AMD_DEFINE_FACTORY__=BR)?__WEBPACK_AMD_DEFINE_FACTORY__.call(exports,__webpack_require__,exports,module):__WEBPACK_AMD_DEFINE_FACTORY__)||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)}).call(this,__webpack_require__("yLpj"))},"w/wX":function(t,e,r){var n=r("QqLw"),o=r("ExA7"),i="[object Set]";function a(t){return o(t)&&n(t)==i}t.exports=a},wJg7:function(t,e){var n=9007199254740991,o=/^(?:0|[1-9]\\d*)$/;function r(t,e){var r=typeof t;return!!(e=null==e?n:e)&&("number"==r||"symbol"!=r&&o.test(t))&&-1<t&&t%1==0&&t<e}t.exports=r},wrZu:function(t,e,r){var o=r("+K+b"),i=r("XYm9"),a=r("b2z7"),c=r("otv/"),u=r("yP5f"),s="[object Boolean]",f="[object Date]",p="[object Map]",l="[object Number]",v="[object RegExp]",d="[object Set]",h="[object String]",y="[object Symbol]",b="[object ArrayBuffer]",_="[object DataView]",m="[object Float32Array]",g="[object Float64Array]",j="[object Int8Array]",w="[object Int16Array]",x="[object Int32Array]",S="[object Uint8Array]",O="[object Uint8ClampedArray]",E="[object Uint16Array]",k="[object Uint32Array]";function n(t,e,r){var n=t.constructor;switch(e){case b:return o(t);case s:case f:return new n(+t);case _:return i(t,r);case m:case g:case j:case w:case x:case S:case O:case E:case k:return u(t,r);case p:return new n;case l:case h:return new n(t);case v:return a(t);case d:return new n;case y:return c(t)}}t.exports=n},xutz:function(t,a,c){"use strict";(function(t){var e=c("XqMk"),r="object"==typeof exports&&exports&&!exports.nodeType&&exports,n=r&&"object"==typeof t&&t&&!t.nodeType&&t,o=n&&n.exports===r&&e.a.process,i=function(){try{var t=n&&n.require&&n.require("util").types;return t?t:o&&o.binding&&o.binding("util")}catch(t){}}();a.a=i}).call(this,c("3UD+")(t))},y1pI:function(t,e,r){var n=r("ljhN");function o(t,e){for(var r=t.length;r--;)if(n(t[r][0],e))return r;return-1}t.exports=o},yGk4:function(t,e,r){var n=r("Cwc5")(r("Kz5y"),"Set");t.exports=n},yHx3:function(t,e){var n=Object.prototype.hasOwnProperty;function r(t){var e=t.length,r=new t.constructor(e);return e&&"string"==typeof t[0]&&n.call(t,"index")&&(r.index=t.index,r.input=t.input),r}t.exports=r},yLpj:function(t,e){var r=function(){return this}();try{r=r||new Function("return this")()}catch(t){"object"==typeof window&&(r=window)}t.exports=r},yP5f:function(t,e,r){var n=r("+K+b");function o(t,e){var r=e?n(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}t.exports=o},yXPU:function(t,e){function u(t,e,r,n,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function r(c){return function(){var t=this,a=arguments;return new Promise(function(e,r){var n=c.apply(t,a);function o(t){u(n,e,r,o,i,"next",t)}function i(t){u(n,e,r,o,i,"throw",t)}o(void 0)})}}t.exports=r},zEVN:function(t,e,r){var n=r("Gi0A"),o=r("sEf8"),i=r("mdPL"),a=i&&i.isMap,c=a?o(a):n;t.exports=c},zoYe:function(t,e,r){var Symbol=r("nmnc"),n=r("eUgh"),o=r("Z0cm"),i=r("/9aa"),a=1/0,c=Symbol?Symbol.prototype:void 0,u=c?c.toString:void 0;function s(t){if("string"==typeof t)return t;if(o(t))return n(t,s)+"";if(i(t))return u?u.call(t):"";var e=t+"";return"0"==e&&1/t==-a?"-0":e}t.exports=s}});\n//# sourceMappingURL=72ebadd68b442ee86c0a.worker.js.map',n.p+"72ebadd68b442ee86c0a.worker.js")}},t73A:function(e,t,n){},tLB3:function(e,t,n){var r=n("GoyQ"),i=n("/9aa"),o=NaN,a=/^\s+|\s+$/g,s=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,u=/^0o[0-7]+$/i,l=parseInt;function d(e){if("number"==typeof e)return e;if(i(e))return o;var t;if(r(e)&&(t="function"==typeof e.valueOf?e.valueOf():e,e=r(t)?t+"":t),"string"!=typeof e)return 0===e?e:+e;e=e.replace(a,"");var n=c.test(e);return n||u.test(e)?l(e.slice(2),n?2:8):s.test(e)?o:+e}e.exports=d},tNVB:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n("xMyE"),i=n("3fWJ"),o=function(e){return void 0===e&&(e=a),Object(r.a)({hasValue:!1,next:function(){this.hasValue=!0},complete:function(){if(!this.hasValue)throw e()}})};function a(){return new i.a}},tRMT:function(e,t,n){"use strict";n.r(t),n.d(t,"registerVCFunc",function(){return C}),n.d(t,"registerVCModule",function(){return r}),n.d(t,"unregisterVCModule",function(){return i});var p=n("Trbk");n.d(t,"FOLLOW_ACTION",function(){return p.a}),n.d(t,"FOLLOW_ACTION_LIFECYCLE_CHANGE",function(){return p.b}),n.d(t,"FOLLOW_EVENT",function(){return p.c}),n.d(t,"FOLLOW_GET_CURRENT_STATE",function(){return p.d}),n.d(t,"FOLLOW_LOG",function(){return p.e}),n.d(t,"FOLLOW_REFRESH",function(){return p.f}),n.d(t,"FOLLOW_REPLAY",function(){return p.g}),n.d(t,"FOLLOW_RUN_FUNCTION",function(){return p.h}),n.d(t,"FOLLOW_STATE_CHANGE",function(){return p.i}),n.d(t,"NEW_ACTIONS",function(){return p.j}),n.d(t,"PRESENTER_STATE",function(){return p.k}),n.d(t,"START_FOLLOW",function(){return p.l}),n.d(t,"START_RECORD",function(){return p.m}),n.d(t,"STOP_FOLLOW",function(){return p.n}),n.d(t,"STOP_RECORD",function(){return p.o}),n.d(t,"SUITE_VERSION_CHANGE",function(){return p.p});var f=n("i+co");n.d(t,"ACTION_IGNORE_REASON",function(){return f.a}),n.d(t,"ACTION_LIFECYCLE",function(){return f.b}),n.d(t,"LOG_EVENT",function(){return f.c}),n.d(t,"LOG_LEVEL",function(){return f.d}),n.d(t,"LOG_PLATFORM",function(){return f.e}),n.d(t,"LOG_TYPE",function(){return f.f}),n.d(t,"STATUS",function(){return f.g});var h=n("SyrE");n.d(t,"eventEmitter",function(){return h.g});var o=n("QKZB");function r(e){var t=e.moduleName,n=e.id;h.a.has(t,n)&&console.error("[VCFollowSDK]: '"+t+"' module has been registered"),h.a.set(e,n);var r=Date.now();h.b.collect({type:f.f.BUSINESS,level:f.d.INFO,event:f.c.REGISTER_MODULE,timestamp:r,message:Object(h.c)(r)+", register module["+t+"]."},n||"")}function i(e,t){h.a.remove(e,t);var n=Date.now();h.b.collect({type:f.f.BUSINESS,level:f.d.INFO,event:f.c.UNREGISTER_MODULE,timestamp:n,message:Object(h.c)(n)+", unregister module["+e+"]."},t||"")}var a="1.0.0",s={recordInterval:80},c="EVENT_FOLLOW_SUCCESS",u="EVENT_FOLLOW_FAIL",l="EVENT_FOLLOW_MAKE_UP",d=5e3,g=(m.prototype.start=function(){this.started?console.warn("start multi time"):(this.started=!0,this.tid=setTimeout(this.die,d))},m.prototype.stop=function(){this.started=!1,clearTimeout(this.tid)},m.prototype.heartbeat=function(){this.started&&(clearTimeout(this.tid),this.dead?(this.dead=!1,this.log({event:l,message:"follow make up"})):this.log({event:c,message:"follow success"}),this.tid=setTimeout(this.die,d))},m);function m(e){var t=this;this.started=!1,this.dead=!1,this.tid=0,this.die=function(){t.dead=!0,t.log({event:u,message:"follow fail"})},this.log=e.log}function v(e){return e.toString().toLowerCase().replace(/[^a-z0-9]/g,".").replace(/([a-z])([0-9])/g,"$1.$2").replace(/([0-9])([a-z])/g,"$1.$2").replace(/alpha/g,"-3").replace(/beta/g,"-2").replace(/rc/g,"-1").replace(/[^0-9.\-]+/g,"-4")}function y(e,t){if(!e||!t)return!1;for(var n=v(e).split("."),r=v(t).split("."),i=Math.max(n.length,t.length),o=0;o<i;o++){var a=+n[o]||0,s=+r[o]||0;if(a<s)return!1;if(s<a)return!0}return!0}function b(e){return JSON.parse(JSON.stringify(e,function(e,t){if("__proto__"!==e&&"constructor"!==e&&"prototype"!==e)return t}))}var E=(Object.defineProperty(_.prototype,"isRecord",{get:function(){return this.status===f.g.Record},enumerable:!0,configurable:!0}),Object.defineProperty(_.prototype,"isFollow",{get:function(){return this.status===f.g.Follow},enumerable:!0,configurable:!0}),_.prototype.log=function(e){var t=Date.now();h.b.collect(Object(h.d)(Object(h.d)({type:f.f.SDK,level:f.d.INFO,timestamp:t},e),{message:Object(h.c)(t)+", "+e.message+"."}),this.id)},_.prototype.getFollowState=function(){return{header:{protocolVersion:this.protocolVersion,memberId:this.memberId,reqId:Date.now()},body:b(this.moduleStateMap)}},_.prototype.checkFollowState=function(e){try{var t=JSON.stringify(e),n={size:{checker:function(){return t.length<8e3},message:"check follow state is too large to send"}},r=Object.values(n).find(function(e){return!(0,e.checker)()});return r&&this.log({event:f.c.DATA_ILLEGAL,level:f.d.WARNING,timestamp:e.header.reqId,followState:t,message:r.message}),!r}catch(e){return!1}},_.prototype.setModuleState=function(t,n){var r=this;Object.keys(n).forEach(function(e){return r.setActionState(t,e,n[e])})},_.prototype.setActionState=function(e,t,n){this.moduleStateMap[e]||(this.moduleStateMap[e]=Object.create(null));var r={timestamp:Date.now(),suiteVersion:this.suiteVersion,data:n};this.moduleStateMap[e][t]=r},_.prototype.setAlreadyReplayActionState=function(e,t,n){this.alreadyReplayState[this.status]||(this.alreadyReplayState[this.status]=Object.create(null)),this.alreadyReplayState[this.status][e]||(this.alreadyReplayState[this.status][e]=Object.create(null)),this.alreadyReplayState[this.status][e][t]=n},_.prototype.setNextVersionActionState=function(e){var t=e.suiteVersion,n=e.moduleName,r=e.actionType,i=e.timestamp,o=e.data;this.nextVersionState[t]||(this.nextVersionState[t]={}),this.nextVersionState[t][n]||(this.nextVersionState[t][n]={}),this.nextVersionState[t][n][r]={suiteVersion:t,timestamp:i,data:o}},_.prototype.clearState=function(){this.suiteVersion="0",this.lastApplyFollowState=void 0,this.moduleStateMap=Object.create(null),this.alreadyReplayState=Object.create(null),this.nextVersionState=Object.create(null)},_.prototype.setModuleStateByGetAllCurrentModuleState=function(){return Object(h.e)(this,void 0,void 0,function(){var n=this;return Object(h.f)(this,function(e){return h.a.map(this.id,function(t){return Object(h.e)(n,void 0,void 0,function(){return Object(h.f)(this,function(e){switch(e.label){case 0:return[4,this.setModuleStateByGetCurrentModuleState(t)];case 1:return[2,e.sent()]}})})}),[2]})})},_.prototype.setModuleStateByGetCurrentModuleState=function(e){var r=e.moduleName,i=e.getCurrentModuleState;return Object(h.e)(this,void 0,void 0,function(){var t,n;return Object(h.f)(this,function(e){switch(e.label){case 0:if(!i)return[2];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,i()];case 2:return(t=e.sent())&&this.setModuleState(r,t),[3,4];case 3:return n=e.sent(),this.log({event:f.c.GET_CURRENT_MODULE_STATE_ERROR,level:f.d.ERROR,type:f.f.BUSINESS,message:"get module["+r+"] current state error: "+n}),[3,4];case 4:return[2]}})})},_.prototype.followListenerBinding=function(e){h.g[e](p.a,this.onFollowAction),h.g[e](p.a+":"+this.id,this.onFollowAction),h.g[e](p.i,this.onFollowStateChange),h.g[e](p.i+":"+this.id,this.onFollowStateChange)},_.prototype.clearSendFollowStateTimer=function(){this.sendFollowStateTimer&&(clearTimeout(this.sendFollowStateTimer),this.sendFollowStateTimer=null)},_.prototype.emitNewActions=function(e){h.g.emit(p.c+":"+p.j+":"+this.id,e)},_.prototype.checkIsNewActionState=function(e){var t=e.moduleName,n=e.actionType,r=e.timestamp,i=!0;return this.alreadyReplayState[this.status]&&this.alreadyReplayState[this.status][t]&&this.alreadyReplayState[this.status][t][n]&&this.alreadyReplayState[this.status][t][n].timestamp>=r&&(i=!1),this.log({event:f.c.CHECK_NEW_ACTION,module:t,actionType:n,timestamp:r,message:"check module["+t+"] action["+n+"] is"+(i?"":" not")+" new action"+(i?"":" [block]")}),i},_.prototype.checkIsNextVersion=function(e){var t=e.suiteVersion,n=e.moduleName,r=e.actionType,i=e.timestamp,o=!1;try{o=!y(this.suiteVersion,t.toString())}catch(e){console.error()}return this.log({event:f.c.CHECK_VERSION,module:n,actionType:r,timestamp:i,message:"check module["+n+"] action["+r+"] is"+(o?"":" not")+" next version action"+(o?", current suite version["+this.suiteVersion+"], action version["+t+"] [block]":"")}),o},_.prototype.setStateLog=function(e){var t=e&&e.header&&e.header.reqId||0,n=t?Date.now()-t:void 0;this.log({event:f.c.ACCEPT_STATE,timestamp:t,followState:JSON.stringify(e),delay:n,message:"accept follow state, delay["+n+"ms]"})},_.prototype._setState=function(e){var r=this;this.setStateLog(e),e&&e.header&&e.body&&(this.lastApplyFollowState&&e.header.memberId!==this.lastApplyFollowState.header.memberId&&(this.alreadyReplayState=Object.create(null)),this.lastApplyFollowState=e,this.isRecord?this.getSortActionStateList(e.body).forEach(function(e){var t=e.uuid,n=e.moduleName;return r.onActionLifecycleChange(f.b.IGNORED,n,t,f.a.RECORDING)}):this.replayFollowState(e.body)),this.statManager.heartbeat()},_.prototype.replayThisModuleStateMap=function(r){var i=this;return new Promise(function(t){var n=0;i.replayModuleStateMapTimer=setInterval(function(){n++;var e=i.alreadyReplayState[i.status]?i.exceptSameActionType(i.moduleStateMap,i.alreadyReplayState[i.status]):i.moduleStateMap;Object.keys(e).length&&n<r?i.replayFollowState(e):(i.clearReplayModuleStateMapTimer(),t())},300)})},_.prototype.clearReplayModuleStateMapTimer=function(){this.replayModuleStateMapTimer&&clearInterval(this.replayModuleStateMapTimer),this.replayModuleStateMapTimer=null},_.prototype.replayFollowState=function(e){var r=this;this.getSortActionStateList(e).forEach(function(e){if(!r.checkIsNewActionState(e)){var t=e.uuid,n=e.moduleName;return r.onActionLifecycleChange(f.b.IGNORED,n,t,f.a.OLD_VERSION)}if(r.checkIsNextVersion(e))return r.setNextVersionActionState(e);r.dispatchActionState(e)})},_.prototype.dispatchFollowState=function(e){e&&this.dispatchModuleState(e.body)},_.prototype.dispatchModuleState=function(e){var t=this;e&&this.getSortActionStateList(e).forEach(function(e){return t.dispatchActionState(e)})},_.prototype.dispatchActionState=function(e){var t=e.moduleName,n=this.isFollow?p.g:p.k;this.emitFollowReplayEvent(n,e),this.emitFollowReplayEvent(n+":"+this.id,e),this.emitFollowReplayEvent(n+":"+t,e),this.emitFollowReplayEvent(n+":"+t+":"+this.id,e),this.emitFollowReplayEvent(n+":"+this.id+":"+t,e)},_.prototype.emitFollowReplayEvent=function(e,t){var n=t.actionType,r=t.data,i=t.timestamp,o=t.suiteVersion,a=t.moduleName,s=t.uuid;if(!(!new RegExp(p.g).test(e)&&!new RegExp(p.k).test(e)||h.g.getListeners&&0===h.g.getListeners(e).length)){if(this.setAlreadyReplayActionState(a,n,{timestamp:i,suiteVersion:o,data:r}),this.isFollow&&this.shouldCheckMute){var c=h.h.checkIsModuleMute(a,i,this.id);if(this.log({event:f.c.CHECK_MUTE,module:a,actionType:n,timestamp:i,message:"check module["+a+"] action["+n+"] is"+(c?"":" not")+" mute"+(c?" [block]":"")}),c)return this.onActionLifecycleChange(f.b.IGNORED,a,s,f.a.IS_MUTE)}var u=Date.now()-i,l=e.split(":")[0];this.log({event:f.c.DISPATCH_MODULE,type:f.f.BUSINESS,module:a,actionType:n,timestamp:i,delay:u,message:"dispatch event["+l+"] module["+a+"] action["+n+"]-["+JSON.stringify(r)+"], delay["+u+"ms]"}),this.onActionLifecycleChange(f.b.DISPATCHED,a,s);try{var d={module:a,actionType:n,data:r,uuid:s};this.isFollow?h.g.emit(e,d,this.getReplayActionOperation(a,n)):h.g.emit(e,d)}catch(e){throw this.log({event:f.c.EMIT_ACTION_ERROR,type:f.f.BUSINESS,level:f.d.ERROR,message:"emit action error: "+e}),e}}},_.prototype.getSortActionStateList=function(n){var r=[];return Object.keys(n).forEach(function(t){return Object.keys(n[t]).forEach(function(e){return r.push(Object(h.d)(Object(h.d)({},n[t][e]),{actionType:e,moduleName:t}))})}),r.sort(function(e,t){return e.timestamp-t.timestamp})},_.prototype.getNewestModuleStateMap=function(e,t){var n=b(e),o=b(t);return Object.keys(n).forEach(function(r){var i=n[r];o[r]?Object.keys(i).forEach(function(e){var t=i[e],n=o[r][e];o[r][e]=!n||t.timestamp>=n.timestamp?t:n}):o[r]=i}),o},_.prototype.exceptSameActionType=function(e,n){var r=b(e);return Object.keys(r).forEach(function(t){var e;n[t]&&(e=r[t],Object.keys(e).forEach(function(e){n[t][e]&&(delete r[t][e],Object.keys(r[t]).length||delete r[t])}))}),r},_.prototype.getReplayActionOperation=function(e,t){var n=this,r=this.alreadyReplayState[this.status][e][t].timestamp;return{muteAllModulesPlay:function(e){return h.h.muteAllModulesPlay(e,r,n.id)},muteOtherModulesPlay:function(e,t){return h.h.muteOtherModulesPlay(e,t,r,n.id)},muteModulesPlay:function(e,t){return h.h.muteModulesPlay(e,t,r,n.id)}}},_.registerVCFunc=function(e,t){C(e,t)},_.registerVCModule=function(e){r(e)},_.unregisterVCModule=function(e,t){i(e,t)},Object.defineProperty(_,"eventEmitter",{get:function(){return h.g},enumerable:!0,configurable:!0}),_);function _(e){var i=this,t=void 0===e?{}:e,n=t.id,r=t.eventEmitter;this.id=o.a.v4(),this.protocolVersion=a,this.memberId=o.a.v4(),this.settingOptions=s,this.status=f.g.Normal,this.shouldCheckMute=!1,this.suiteVersion="0",this.sendFollowStateTimer=null,this.replayModuleStateMapTimer=null,this.eventMap=Object.create(null),this.moduleStateMap=Object.create(null),this.alreadyReplayState=Object.create(null),this.nextVersionState=Object.create(null),this.onActionLifecycleChange=function(e,t,n,r){var i;n&&(i={uuid:n,timestamp:Date.now(),type:e,reason:r,moduleName:t},h.g.emit(p.c+":"+p.b,i))},this.handleSuiteVersionChange=function(e){var t;e&&(i.suiteVersion=e.toString(),i.log({event:f.c.SUITE_VERSION_CHANGE,message:"suite version change, current version["+i.suiteVersion+"]"}),!i.isFollow||(t=i.nextVersionState[e])&&i.dispatchModuleState(t))},this.onFollowAction=function(e){var t=e.module,n=e.actionType,r=e.data;i.log({event:f.c.ON_FOLLOW_ACTION,type:f.f.BUSINESS,module:t,actionType:n,message:"get follow action, module["+t+"] action["+n+"]-["+JSON.stringify(r)+"]"}),i.setActionState(t,n,r),i.sendFollowState()},this.onFollowStateChange=function(n){return Object(h.e)(i,void 0,void 0,function(){var t;return Object(h.f)(this,function(e){switch(e.label){case 0:return t=h.a.get(this.id,n),this.log({event:f.c.ON_FOLLOW_STATE_CHANGE,type:f.f.BUSINESS,module:n,message:"get follow state change, module["+n+"] has"+(t?"":" not")+" register, has"+(t&&t.getCurrentModuleState?"":" not")+" getCurrentModuleState"}),t?[4,this.setModuleStateByGetCurrentModuleState(t)]:[3,2];case 1:e.sent(),this.sendFollowState(),e.label=2;case 2:return[2]}})})},this.sendFollowState=function(){var e;i.isRecord&&(e=function(){var e=i.getFollowState();i.checkFollowState(e)&&(i.emitNewActions(e),i.lastApplyFollowState=e,i.log({event:f.c.SEND_STATE,timestamp:e.header.reqId,followState:JSON.stringify(e),message:"send follow state"}))},i.clearSendFollowStateTimer(),i.sendFollowStateTimer=setTimeout(function(){i.sendFollowStateTimer=null,e()},i.settingOptions.recordInterval))},this.handleWindowResize=function(){i.isFollow&&i.dispatchModuleState(i.alreadyReplayState[f.g.Follow])},this._startRecord=function(t){return Object(h.e)(i,void 0,void 0,function(){return Object(h.f)(this,function(e){switch(e.label){case 0:return this.isRecord?[2]:(this.isFollow&&this.stopFollow(),this.lastApplyFollowState=void 0,this.log({event:f.c.START_RECORD,followState:JSON.stringify(t),message:"start record"}),t&&t.body&&"object"==typeof t.body?(this.status=f.g.Follow,this.alreadyReplayState=Object.create(null),this.moduleStateMap=t.body,[4,this.replayThisModuleStateMap(10)]):[3,2]);case 1:e.sent(),e.label=2;case 2:return this.status=f.g.Record,h.g.emit(p.m),h.g.emit(p.m+":"+this.id),[4,this.setModuleStateByGetAllCurrentModuleState()];case 3:return e.sent(),this.alreadyReplayState[f.g.Follow]&&(this.moduleStateMap=this.getNewestModuleStateMap(this.moduleStateMap,this.alreadyReplayState[f.g.Follow])),this.sendFollowState(),[2]}})})},this.on=function(e,t){i.eventMap[e]=t,i.log({event:f.c.SDK_ON,message:"on event["+e+"]"}),h.g.on(p.c+":"+e,t),h.g.on(p.c+":"+e+":"+i.id,t)},this.updateOptions=function(e){i.settingOptions=Object(h.d)(Object(h.d)({},i.settingOptions),e)},this.refresh=function(){i.log({event:f.c.SDK_REFRESH,message:"refresh"}),h.b.clear(""),h.b.clear(i.id),i.clearState(),h.g.emit(p.c+":"+p.f),h.g.emit(p.c+":"+p.f+":"+i.id)},this.destroy=function(){i.log({event:f.c.DESTROY,message:"destroy"}),i.stopRecord(),i.stopFollow(),i.clearState(),h.g.off(p.c+":"+p.p,i.handleSuiteVersionChange),h.g.off(p.c+":"+p.p+":"+i.id,i.handleSuiteVersionChange),Object.keys(i.eventMap).forEach(function(e){h.g.off(p.c+":"+e,i.eventMap[e]),h.g.off(p.c+":"+e+":"+i.id,i.eventMap[e])}),i.followListenerBinding("off"),i.eventMap=Object.create(null),Object(h.i)(),h.b.clear(i.id),h.a.clear(i.id)},this.getStatus=function(){return i.status},this.startRecord=function(e){i._startRecord(e)},this.stopRecord=function(){i.isRecord&&(i.status=f.g.Normal,i.clearSendFollowStateTimer(),i.clearReplayModuleStateMapTimer(),h.g.emit(p.o),h.g.emit(p.o+":"+i.id),i.lastApplyFollowState=void 0,i.alreadyReplayState=Object.create(null),i.log({event:f.c.STOP_RECORD,message:"stop record"}))},this.startFollow=function(){i.isFollow||(i.isRecord&&i.stopRecord(),i.status=f.g.Follow,i.alreadyReplayState=Object.create(null),h.b.clear(i.id,[f.c.DISPATCH_MODULE]),h.g.emit(p.l),h.g.emit(p.l+":"+i.id),i.log({event:f.c.START_FOLLOW,followState:JSON.stringify(i.lastApplyFollowState),message:"start follow"}),i.dispatchFollowState(i.lastApplyFollowState),i.shouldCheckMute=!0,window&&window.addEventListener&&window.addEventListener("resize",i.handleWindowResize),i.statManager.start())},this.stopFollow=function(){i.isFollow&&(i.status=f.g.Normal,i.shouldCheckMute=!1,i.nextVersionState=Object.create(null),h.g.emit(p.n),h.g.emit(p.n+":"+i.id),h.h.clear(i.id),h.b.clear(i.id,[f.c.DISPATCH_MODULE]),i.log({event:f.c.STOP_FOLLOW,followState:JSON.stringify(i.lastApplyFollowState),message:"stop follow"}),i.dispatchFollowState(i.lastApplyFollowState),window&&window.removeEventListener&&window.removeEventListener("resize",i.handleWindowResize),i.statManager.stop())},this.getState=function(){return i.log({event:f.c.GET_STATE,followState:i.simplifyData(i.lastApplyFollowState),message:"get VC state"}),i.lastApplyFollowState},this.setState=function(e){i._setState(e)},this.simplifyData=function(e){var t,a={};return e&&(t=e.body,Object.keys(t).forEach(function(i){a[i]={};var o=t[i];Object.keys(o).forEach(function(e){var t=o[e],n=t.timestamp,r=t.suiteVersion;a[i][e]={timestamp:n,suiteVersion:r}})})),JSON.stringify(a)},n&&(this.id=n),r&&Object(h.j)(r),this.followListenerBinding("on"),h.g.on(p.c+":"+p.p,this.handleSuiteVersionChange),h.g.on(p.c+":"+p.p+":"+this.id,this.handleSuiteVersionChange),this.log({event:f.c.INIT,message:"init"}),this.statManager=new g({log:this.log.bind(this)})}function C(e,t){E.prototype[e]=t;var n=Date.now();h.b.collect({type:f.f.BUSINESS,level:f.d.INFO,event:f.c.REGISTER_FUNC,timestamp:n,message:Object(h.c)(n)+", register func["+e+"]."},"")}function T(e){if(Array.isArray(e)){var d=0,p="",f={};return e.forEach(function(e){var t=e.id,n=e.module,r=e.type,i=e.data,o=void 0===i?{}:i,a=e.suiteVersion,s=void 0===a?0:a,c=e.memberId,u=void 0===c?"":c,l=e.uuid;t&&n&&r&&(d<t&&(d=t),u&&(p=u),f[n]||(f[n]={}),f[n][r]={timestamp:t,suiteVersion:s+"",data:o,uuid:l})}),{header:{protocolVersion:"0.0.1",memberId:p,reqId:d},body:f}}}function O(e){var c=[],u=e.header.memberId,t=e.body;return Object.keys(t).forEach(function(a){var s=t[a];Object.keys(s).forEach(function(e){var t=s[e],n=t.timestamp,r=t.suiteVersion,i=t.data,o=t.uuid;c.push({id:n,module:a,suiteVersion:parseInt(r.split(".")[0]),type:e,data:i,memberId:u,uuid:o})})}),c}var k,S=(k=E,Object(h.k)(w,k),w.prototype.emitNewActions=function(e){h.g.emit(p.c+":"+p.j+":"+this.id,O(e))},w.prototype.parseFollowState=function(e){return e?e.header&&e.body?e:T(e):void 0},w);function w(){var t=null!==k&&k.apply(this,arguments)||this;return t.protocolVersion="0.0.1",t.startRecord=function(e){t._startRecord(t.parseFollowState(e))},t.startReplay=function(){t.startFollow()},t.stopReplay=function(){t.stopFollow()},t.getCurrentStatus=function(){var e=t.getState();return e?O(e):[]},t.getActions=function(){return t.getCurrentStatus()},t.replayActions=function(e){t._setState(t.parseFollowState(e))},t.setState=function(e){t.replayActions(e)},t}t.default=S},tRRp:function(e){e.exports=JSON.parse('{"0":65533,"128":8364,"130":8218,"131":402,"132":8222,"133":8230,"134":8224,"135":8225,"136":710,"137":8240,"138":352,"139":8249,"140":338,"142":381,"145":8216,"146":8217,"147":8220,"148":8221,"149":8226,"150":8211,"151":8212,"152":732,"153":8482,"154":353,"155":8250,"156":339,"158":382,"159":376}')},tadb:function(e,t,n){var r=n("Cwc5")(n("Kz5y"),"DataView");e.exports=r},tbMQ:function(e,t,n){e.exports=n("jP3w")},tfHg:function(e,t,n){e.exports=n("HCkw"),n("cgHO"),n("dP0U"),n("Jm8n"),n("mAJt")},tp5K:function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return o}),n.d(t,"c",function(){return a});var r=n("RIqP"),g=n.n(r);function m(e){return void 0===e}function i(t,r,e){var i,o,a=e.maxWait,s=0,c=Date.now,u=[],n=function(){u=null,i=void 0},l=function(e){s=e,u&&t(u),n()},d=function(e){var t=e-o,n=e-s;return m(o)||r<=t||t<0||!m(a)&&a<=n},p=function(e){var t=e-s,n=r-(e-o);return m(a)?n:Math.min(n,a-t)},f=function(){var e=c();if(d(e))return l(e);var t=p(e);i=h(t)},h=function(e){return window.setTimeout(f,e)};return function(e){(u=u||[]).push.apply(u,g()(e));var t=c(),n=d(t);if(o=t,n&&(m(i)&&(s=t,i=h(r)),!m(a)))return window.clearTimeout(i),i=h(r),l(o);m(i)&&(i=h(r))}}function o(e){return Array.from(new Set(e))}function a(e){return e.split("_")[1]}},tpxy:function(e,t,n){var a=n("+Bun"),s=n("CvqZ"),c=n("AH+/");function r(e,t){if(null==e)return{};var n,r=c(e,t);if(s)for(var i=s(e),o=0;o<i.length;o++)n=i[o],0<=a(t).call(t,n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n]);return r}e.exports=r},"u+ON":function(e,t,n){"use strict";var r=n("pevS"),i=n("Y4Ys").indexOf,o=n("M5eE"),a=[].indexOf,s=!!a&&1/[1].indexOf(1,-0)<0,c=o("indexOf");r({target:"Array",proto:!0,forced:s||c},{indexOf:function(e){return s?a.apply(this,arguments)||0:i(this,e,1<arguments.length?arguments[1]:void 0)}})},u5vy:function(e,t,n){"use strict";var r,i,o=n("o0o1"),p=n.n(o),a=n("RIqP"),c=n.n(a),s=n("yXPU"),u=n.n(s),f=n("yNGS"),h=n("KfsF");function l(e){return d.apply(this,arguments)}function d(){return(d=u()(p.a.mark(function e(t){var n,r,i,o,a,s;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(n=100,r=Math.ceil(t.length/n),i=[],o=0;o<r;o++)a=t.slice(o*n,o*n+n),i.push(g(a));return s={},e.next=7,Promise.all(i).then(function(e){Object.assign.apply(Object,[s].concat(c()(e)))});case 7:return e.abrupt("return",s);case 8:case"end":return e.stop()}},e)}))).apply(this,arguments)}function g(e){return m.apply(this,arguments)}function m(){return(m=u()(p.a.mark(function e(t){var n,r,i,o,a,s,c,u,l,d;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(n={},i=!(r=!0),o=void 0,e.prev=4,a=t[Symbol.iterator]();!(r=(s=a.next()).done);r=!0)c=s.value,u=c.typeNum,l=c.token,n[u]?n[u].push(l):n[u]=[l];e.next=12;break;case 8:e.prev=8,e.t0=e.catch(4),i=!0,o=e.t0;case 12:e.prev=12,e.prev=13,r||null==a.return||a.return();case 15:if(e.prev=15,i)throw o;e.next=18;break;case 18:return e.finish(15);case 19:return e.finish(12);case 20:return e.prev=20,e.next=23,f.ioRequestClient.post(h.apiUrls.POST_BATCH_META,{tokens:n});case 23:return d=e.sent,e.abrupt("return",d.data);case 27:return e.prev=27,e.t1=e.catch(20),e.abrupt("return",null);case 30:case"end":return e.stop()}},e,null,[[4,8,12,20],[13,,15,19],[20,27]])}))).apply(this,arguments)}(i=r=r||{})[i.UNSET=0]="UNSET",i[i.EMOJI=1]="EMOJI",i[i.IMAGE=2]="IMAGE",i[i.USER_UPLOAD_IMAGE=3]="USER_UPLOAD_IMAGE",n.d(t,"a",function(){return l})},uAje:function(e,t,n){"use strict";n.d(t,"a",function(){return F}),n.d(t,"b",function(){return j}),n.d(t,"c",function(){return De}),n.d(t,"d",function(){return P}),n.d(t,"e",function(){return L}),n.d(t,"f",function(){return R}),n.d(t,"g",function(){return mr}),n.d(t,"h",function(){return B}),n.d(t,"i",function(){return N}),n.d(t,"j",function(){return a}),n.d(t,"k",function(){return Dr}),n.d(t,"l",function(){return dr}),n.d(t,"m",function(){return yr}),n.d(t,"n",function(){return Bt}),n.d(t,"o",function(){return or}),n.d(t,"p",function(){return mn}),n.d(t,"q",function(){return Ar}),n.d(t,"r",function(){return Mr}),n.d(t,"s",function(){return ir}),n.d(t,"t",function(){return rr}),n.d(t,"u",function(){return qt}),n.d(t,"v",function(){return Lr}),n.d(t,"w",function(){return er}),n.d(t,"x",function(){return fn}),n.d(t,"y",function(){return Pr}),n.d(t,"z",function(){return Sn}),n.d(t,"A",function(){return M}),n.d(t,"B",function(){return Kn}),n.d(t,"C",function(){return tn}),n.d(t,"D",function(){return Vn}),n.d(t,"E",function(){return Lt}),n.d(t,"F",function(){return yn}),n.d(t,"G",function(){return Dn}),n.d(t,"H",function(){return Mn}),n.d(t,"I",function(){return tr}),n.d(t,"J",function(){return zt}),n.d(t,"K",function(){return vn}),n.d(t,"L",function(){return $t}),n.d(t,"M",function(){return Qt}),n.d(t,"N",function(){return ar}),n.d(t,"O",function(){return nr}),n.d(t,"P",function(){return bn}),n.d(t,"Q",function(){return _r});var a,r,s,i,o=n("cDf5"),_=n.n(o),c=(n("BeL+"),n("yIs4")),u=n("Muja"),l=(n("UXvI"),n("hbEN")),d=n("+Umg"),p=n("xpYl"),f=n("+Xah"),O=n("vJtL"),h=n("gSGL"),g=n("IzLi"),m=n("3Hq1"),v=n("QEec"),y=n("FJEn"),b=n("Ngi8"),E=n("/1FC"),C=n("Bw5p"),T=n("mkut"),k=n("OZf9"),S=n("EVdn"),w=n.n(S),I=(n("Rmtg"),n("wd/R")),x=n.n(I),L=(n("XDpg"),'<span data-faketext="" data-contentcollector-ignore-space-at="end">&#8203;</span>'),R='<span data-faketext="" data-contentcollector-ignore-space-at="start">&#8203;</span>';y.browser.mac;(r=a=a||{})[r.BackSpace=8]="BackSpace",r[r.Tab=9]="Tab",r[r.Clear=12]="Clear",r[r.Enter=13]="Enter",r[r.Shift=16]="Shift",r[r.Ctrl=17]="Ctrl",r[r.Alt=18]="Alt",r[r.Esc=27]="Esc",r[r.Space=32]="Space",r[r.PageUp=33]="PageUp",r[r.PageDown=34]="PageDown",r[r.End=35]="End",r[r.Home=36]="Home",r[r.Left=37]="Left",r[r.Up=38]="Up",r[r.Right=39]="Right",r[r.Down=40]="Down",r[r.Delete=46]="Delete",r[r.Digit0=48]="Digit0",r[r.Digit9=57]="Digit9",r[r.A=65]="A",r[r.B=66]="B",r[r.C=67]="C",r[r.D=68]="D",r[r.E=69]="E",r[r.F=70]="F",r[r.G=71]="G",r[r.H=72]="H",r[r.I=73]="I",r[r.J=74]="J",r[r.K=75]="K",r[r.L=76]="L",r[r.M=77]="M",r[r.N=78]="N",r[r.O=79]="O",r[r.P=80]="P",r[r.Q=81]="Q",r[r.R=82]="R",r[r.S=83]="S",r[r.T=84]="T",r[r.U=85]="U",r[r.V=86]="V",r[r.W=87]="W",r[r.X=88]="X",r[r.Y=89]="Y",r[r.Z=90]="Z",r[r.Meta=91]="Meta",r[r.RightMeta=92]="RightMeta",r[r.Caret=94]="Caret",r[r.Numpad0=96]="Numpad0",r[r.Numpad9=105]="Numpad9",r[r.NumpadDot=110]="NumpadDot",r[r.F11=122]="F11",r[r.Semicolon=186]="Semicolon",r[r.Plus=187]="Plus",r[r.Minus=189]="Minus",r[r.Dot=190]="Dot",r[r.Grave=192]="Grave",r[r.Bracket=219]="Bracket",r[r.Quot=222]="Quot",r[r.Asterisk=106]="Asterisk",r[r.Slash=111]="Slash",r[r["/"]=191]="/",r[r["\\"]=220]="\\",r[r.Ime=229]="Ime",(i=s=s||{})[i.A=65]="A",i[i.B=66]="B",i[i.C=67]="C",i[i.D=68]="D",i[i.E=69]="E",i[i.F=70]="F",i[i.V=86]="V",i[i.X=88]="X";var N={RETURN:13,LEFT:37,UP:38,RIGHT:39,DOWN:40,SPACE:32,ESC:27,BACKSPACE:8,AT:50,A:65,TAB:9,H:72};a.Up,a.Down,a.Left,a.Right,a.C,a.V,a.X;var D=[b.W400,b.Y500,b.T400,b.Y600,b.B500,b.O500,b.P500,b.I300,b.G400,b.B300,b.R300,b.P400,b.R500,b.C200,b.P300,b.O700,b.C800,b.G300,b.T300,b.G500,b.V600,b.L400,b.W500,b.I600,b.V400,b.O400,b.P800,b.C400,b.R700,b.I500,b.R400,b.C500,b.W600,b.P700,b.L800,b.Y400,b.C900,b.O800,b.L600];function M(){return D}var P={language:"en","hyperlink.add-link":"Paste or enter a hyperlink","hyperlink.determine":"confirm","hyperlink.enter-text":"Please enter text","hyperlink.link":"Link","hyperlink.text":"Text","mention.mentioned":"mention","mention.no-result-and-try-another":"No results, try another keyword","mention.notification":"Notification","mention.recently":"Recents","toolbar.align-center":"Center align","toolbar.align-left":"Left align","toolbar.align-right":"Right align","toolbar.blockquote":"Reference","toolbar.bold":"Bold","toolbar.checkbox":"To-do list","toolbar.h1":"Heading 1","toolbar.h2":"Heading 2","toolbar.h3":"Heading 3","toolbar.horizontal-line":"Divider","toolbar.hyperlink":"Hyperlink","toolbar.image":"Image","toolbar.italic":"Italic","toolbar.orderlist":"Numbered list","toolbar.redo":"Redo","toolbar.strikethrough":"Strikethrough","toolbar.table":"Table","toolbar.text-indent":"Indent","toolbar.underline":"Underline","toolbar.undo":"Undo","toolbar.unorderlist":"Bulleted list"},j="block-v-text",F="j-block-container",B="juice-ignore-node-class",U="lark://client/chat/",H=function(e,t){return(H=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function z(e,t){function n(){this.constructor=e}H(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var V=function(){return(V=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function K(e,t){var n={};for(i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]]);return n}function W(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":_()(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;0<=s;s--)(i=e[s])&&(a=(o<3?i(a):3<o?i(t,n,a):i(t,n))||a);return 3<o&&a&&Object.defineProperty(t,n,a),a}function Y(e,t){if("object"===("undefined"==typeof Reflect?"undefined":_()(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function q(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Z(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||0<t--)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function X(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Z(arguments[t]));return e}function Q(n,e){return Object(v.a)(e,function(e,t){n[t]=e}),n}function J(e,t){return Q(e.bind(t),e)}var $=(ee.prototype.set=function(e,t){for(var n=this._weakMap,r=0,i=e.length-1;r<i;r++){var o=e[r],a=n.get(o);a||(a=new Map,n.set(o,a)),n=a}n.set(e[e.length-1],t)},ee.prototype.get=function(e){for(var t=this._weakMap,n=0,r=e.length;n<r&&(t=t.get(e[n]),!Object(m.default)(t));n++);return t},ee.prototype.has=function(e){return!Object(m.default)(this.get(e))},ee);function ee(){this._weakMap=new WeakMap}function te(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 2<=e.length&&Object(g.a)(e[0])&&Object(h.a)(e[1])&&Object(O.default)(e[0].constructor)&&e[0].constructor.prototype===e[0]}function ne(e,t){return e===t}function re(e){return void 0===e&&(e=""),"lodash-decorators -> "+e}function ie(e,t,n,r){if(void 0===r&&(r=!0),Object(O.default)(e))return e;if(Object(h.a)(e)){if(t&&Object(O.default)(t[e]))return t[e];if(n&&Object(O.default)(n[e]))return n[e]}if(r)throw new ReferenceError(re("Can not resolve method "+e+" on any target Objects"))}var oe=(Object.defineProperty(ae.prototype,"bound",{get:function(){return null!=this.options.bound&&this.options.bound},enumerable:!0,configurable:!0}),Object.defineProperty(ae.prototype,"setter",{get:function(){return null!=this.options.setter&&this.options.setter},enumerable:!0,configurable:!0}),Object.defineProperty(ae.prototype,"getter",{get:function(){return null!=this.options.getter&&this.options.getter},enumerable:!0,configurable:!0}),Object.defineProperty(ae.prototype,"property",{get:function(){return null!=this.options.property&&this.options.property},enumerable:!0,configurable:!0}),Object.defineProperty(ae.prototype,"method",{get:function(){return null==this.options.method||this.options.method},enumerable:!0,configurable:!0}),Object.defineProperty(ae.prototype,"optionalParams",{get:function(){return null!=this.options.optionalParams&&this.options.optionalParams},enumerable:!0,configurable:!0}),ae);function ae(e,t,n){void 0===n&&(n={}),this.execute=e,this.applicator=t,this.options=n}function se(){}var ce=new(se.prototype.createDecorator=function(c){var u=this,l=c.applicator,r=c.optionalParams;return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var s=e,n=function(e,t,n){var r=u._resolveDescriptor(e,t,n),i=r.value,o=r.get,a=r.set;return ue.has([e,t])||(Object(O.default)(i)?r.value=Q(l.apply({config:c,target:e,value:i,args:s}),i):Object(O.default)(o)&&c.getter?r.get=Q(l.apply({config:c,target:e,value:o,args:s}),o):Object(O.default)(a)&&c.setter&&(r.set=Q(l.apply({config:c,target:e,value:a,args:s}),a))),r};return r&&te.apply(void 0,X(e))?(s=[],n(e[0],e[1],e[2])):n}},se.prototype.createInstanceDecorator=function(E){var _=this,C=E.applicator,T=E.bound,r=E.optionalParams;return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var b=e,n=function(r,i,e){var t=_._resolveDescriptor(r,i,e),o=t.value,a=t.writable,s=t.enumerable,c=t.configurable,u=t.get,l=t.set,n=!ue.has([r,i]),d=ue.get([r,i])||{fns:[],properties:[]},p=n&&Object(O.default)(u),f=n&&Object(O.default)(l),h=n&&Object(O.default)(o),g=n&&!p&&!f&&!h,m=p?u:h?o:void 0;if(d.properties.push(i),d.fns.push(function(e,t,n){return _._isApplicable(n,E)?(T&&(e=J(e,t)),Q(C.apply({args:b,target:r,instance:t,value:e,config:E}),e)):e}),ue.set([r,i],d),!n)return t;d.isSetter=f,d.isGetter=p,d.isMethod=h,d.isProperty=g;var v=function(e,n,r){return d.fns.reduce(function(e,t){return t(e,r,n)},e)},y=function(e){var t,n=u||void 0,r=l||void 0;p||f?(p&&(n=v(u,{value:u,getter:!0},e)),f&&(r=v(l,{value:l,setter:!0},e)),Object.defineProperty(e,i,{enumerable:s,configurable:c,get:n,set:r})):(h||g)&&(t=v(o,h?{value:o,method:!0}:{value:o,property:!0},e),Object.defineProperty(e,i,{writable:a,enumerable:s,configurable:c,value:t}))};return(h||g)&&(delete t.value,delete t.writable),t.get=function(){if(ne(this,r))return m;y(this);var e=Object.getOwnPropertyDescriptor(this,i);return e.get?e.get.call(this):e.value},t.set=function(e){y(this);var t=Object.getOwnPropertyDescriptor(this,i);t.set?t.set.call(this,e):(g||h)&&(this[i]=e)},t};return r&&te.apply(void 0,X(e))?(b=[],n(e[0],e[1],e[2])):n}},se.prototype._isApplicable=function(e,t){return!(e.getter&&!t.getter||e.setter&&!t.setter||e.method&&!t.method||e.property&&!t.property)},se.prototype._resolveDescriptor=function(e,t,n){return n||Object.getOwnPropertyDescriptor(e,t)||{}},se),ue=new $,le=de;function de(){}var pe,fe=(z(he,pe=le),he.prototype.apply=function(e){var t=e.value,n=e.config.execute,r=e.args,i=e.instance;return i?n.apply(void 0,X([t,i],r)):t},he);function he(){return null!==pe&&pe.apply(this,arguments)||this}var ge;z(me,ge=le),Object.defineProperty(me.prototype,"post",{get:function(){return!0===this._config.post},enumerable:!0,configurable:!0}),me.prototype.apply=function(e){var i=e.config.execute,t=e.value,o=void 0===t?f.a:t,a=e.args,s=e.target,c=this;return function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=X(a.map(function(e){return ie(e,t,s)}));return c.post?r.push(o):r.unshift(o),i.apply(void 0,X(r)).apply(this,e)}};function me(e){void 0===e&&(e={});var t=ge.call(this)||this;return t._config=e,t}var ve;z(ye,ve=le),ye.prototype.apply=function(e){var n=e.args,r=e.config.execute,i=e.value;return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return r.apply(void 0,X([i.bind(this)],e,n))}};function ye(){return null!==ve&&ve.apply(this,arguments)||this}var be;z(Ee,be=le),Ee.prototype.apply=function(e){var t=e.value,n=e.instance,r=e.config.execute,i=e.args,o=e.target,a=ie(!Object(O.default)(i[0])&&Object(g.a)(i[0])?i[0].resolver:i[0],n,o,!1);a&&n&&(a=a.bind(n));var s,c,u,l=a?r(t,a):r(t);return Object(g.a)(i[0])&&(c=(s=i[0]).cache,u=s.type,c?l.cache=c:Object(O.default)(u)&&(l.cache=new u)),l};function Ee(){return null!==be&&be.apply(this,arguments)||this}var _e;z(Ae,_e=le),Ae.prototype.apply=function(e){var n=e.args,r=e.target,i=e.config.execute;return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return i.apply(void 0,X([ie(n[0],this,r)],n.slice(1))).apply(this,e)}};function Ae(){return null!==_e&&_e.apply(this,arguments)||this}var Ce;z(Te,Ce=le),Te.prototype.apply=function(e){var t=e.config.execute,n=e.value,r=e.args;return p.a.apply(void 0,X([t,n],r))};function Te(){return null!==Ce&&Ce.apply(this,arguments)||this}var Oe;z(ke,Oe=le),ke.prototype.apply=function(e){var i=e.args,o=e.target,a=e.value,s=e.config.execute;return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=a,r=0;return Object(O.default)(n)||(n=ie(i[0],this,o),r=1),s.apply(void 0,X([n],i.slice(r))).apply(this,e)}};function ke(){return null!==Oe&&Oe.apply(this,arguments)||this}var Se;z(we,Se=le),we.prototype.apply=function(e){var t=e.config.execute,n=e.args,r=e.value;return t.apply(void 0,X(n,[r]))};function we(){return null!==Se&&Se.apply(this,arguments)||this}var Ie,xe=(z(Le,Ie=le),Le.prototype.apply=function(e){var t=e.value,n=e.config.execute,r=e.args;return n.apply(void 0,X([t],r))},Le);function Le(){return null!==Ie&&Ie.apply(this,arguments)||this}var Re;z(Ne,Re=le),Ne.prototype.apply=function(e){var n=e.args,r=e.config.execute,i=e.target,o=e.value;return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return r(ie(n[0],this,i),o).apply(this,e)}};function Ne(){return null!==Re&&Re.apply(this,arguments)||this}var De=ce.createInstanceDecorator(new oe(d.a,new fe,{optionalParams:!0}));ce.createInstanceDecorator(new oe(l.default,new xe,{setter:!0}));var Me,Pe,je={A:65,B:66,C:67,I:73,J:74,R:82,V:86,X:88,Y:89,Z:90,F6:117,DELETE:8,TAB:9,ENTER:13,ESC:27,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40};(Pe=Me=Me||{})[Pe.BackSpace=8]="BackSpace",Pe[Pe.Tab=9]="Tab",Pe[Pe.Clear=12]="Clear",Pe[Pe.Enter=13]="Enter",Pe[Pe.Shift=16]="Shift",Pe[Pe.Ctrl=17]="Ctrl",Pe[Pe.Alt=18]="Alt",Pe[Pe.Esc=27]="Esc",Pe[Pe.Space=32]="Space",Pe[Pe.PageUp=33]="PageUp",Pe[Pe.PageDown=34]="PageDown",Pe[Pe.End=35]="End",Pe[Pe.Home=36]="Home",Pe[Pe.Left=37]="Left",Pe[Pe.Up=38]="Up",Pe[Pe.Right=39]="Right",Pe[Pe.Down=40]="Down",Pe[Pe.Delete=46]="Delete",Pe[Pe.Digit0=48]="Digit0",Pe[Pe.Digit9=57]="Digit9",Pe[Pe.A=65]="A",Pe[Pe.B=66]="B",Pe[Pe.C=67]="C",Pe[Pe.D=68]="D",Pe[Pe.E=69]="E",Pe[Pe.F=70]="F",Pe[Pe.G=71]="G",Pe[Pe.H=72]="H",Pe[Pe.I=73]="I",Pe[Pe.J=74]="J",Pe[Pe.K=75]="K",Pe[Pe.L=76]="L",Pe[Pe.M=77]="M",Pe[Pe.N=78]="N",Pe[Pe.O=79]="O",Pe[Pe.P=80]="P",Pe[Pe.Q=81]="Q",Pe[Pe.R=82]="R",Pe[Pe.S=83]="S",Pe[Pe.T=84]="T",Pe[Pe.U=85]="U",Pe[Pe.V=86]="V",Pe[Pe.W=87]="W",Pe[Pe.X=88]="X",Pe[Pe.Y=89]="Y",Pe[Pe.Z=90]="Z",Pe[Pe.Meta=91]="Meta",Pe[Pe.RightMeta=93]="RightMeta",Pe[Pe.Caret=94]="Caret",Pe[Pe.Numpad0=96]="Numpad0",Pe[Pe.Numpad9=105]="Numpad9",Pe[Pe.NumpadDot=110]="NumpadDot",Pe[Pe.F11=122]="F11",Pe[Pe.Semicolon=186]="Semicolon",Pe[Pe.Plus=187]="Plus",Pe[Pe.Minus=189]="Minus",Pe[Pe.Dot=190]="Dot",Pe[Pe.Grave=192]="Grave",Pe[Pe.Bracket=219]="Bracket",Pe[Pe.Quot=222]="Quot",Pe[Pe.Asterisk=106]="Asterisk",Pe[Pe.Slash=111]="Slash",Pe[Pe["/"]=191]="/",Pe[Pe["\\"]=220]="\\",Pe[Pe.Ime=229]="Ime";Me.Up,Me.Down,Me.Left,Me.Right,Me.C,Me.V,Me.X;var Fe,Be,Ue;(Ue=Be=Be||{}).FIND="find",Ue.REPLACE="replace";var He="GLOBAL_SEARCH",ze="CREATE_DOC",Ve="CREATE_SHEET",Ke="SHORTCUTS",Ge="h1",We="h2",Ye="h3",qe="heading",Ze="bold",Xe="italic",Qe="underline",Je="strikethrough",$e="alignleft",et="aligncenter",tt="alignright",nt="alignfull",rt="insertorderedlist",it="insertunorderedlist",ot="insertcodelist",at="blockquote",st="insertseparator",ct="link",ut="checkbox",lt="insertimage",dt="undo",pt="redo",ft="sheet",ht="backcolor",gt="mention",mt="ppt",vt="mindmap",yt="alignimageright",bt="alignimageleft",Et="alignimagecenter",_t="imagefullscreen",At="print",Ct="inlinecode",Tt="doInsertTable",Ot="text-indent",kt="insertseparator",St=Be.FIND,wt=Be.REPLACE,It=((Fe={})[He]={mac:{metaKey:!0,shiftKey:!0,keyCode:70},windows:{ctrlKey:!0,shiftKey:!0,keyCode:70}},Fe[ze]={mac:{metaKey:!0,altKey:!0,code:"KeyN"},windows:{altKey:!0,ctrlKey:!0,keyCode:78}},Fe[Ve]={mac:{metaKey:!0,altKey:!0,shiftKey:!0,keyCode:78},windows:{altKey:!0,shiftKey:!0,ctrlKey:!0,keyCode:78}},Fe[Ke]={mac:{metaKey:!0,keyCode:191},windows:{ctrlKey:!0,keyCode:191}},Fe[Ge]={mindmapDocsEnable:!1,windows:{altKey:!0,ctrlKey:!0,keyCode:49},mac:{altKey:!0,metaKey:!0,keyCode:49}},Fe[ht]={windows:{keyCode:72,ctrlKey:!0,altKey:!0},mac:{keyCode:72,metaKey:!0,altKey:!0}},Fe[We]={mindmapDocsEnable:!1,windows:{altKey:!0,ctrlKey:!0,keyCode:50},mac:{altKey:!0,metaKey:!0,keyCode:50}},Fe[Ye]={mindmapDocsEnable:!1,windows:{altKey:!0,ctrlKey:!0,keyCode:51},mac:{altKey:!0,metaKey:!0,keyCode:51}},Fe[qe]={titleEnable:!1},Fe[Ze]={windows:{key:"b",ctrlKey:!0},mac:{metaKey:!0,key:"b"}},Fe[Xe]={windows:{key:"i",ctrlKey:!0},mac:{key:"i",metaKey:!0}},Fe[Qe]={windows:{key:"u",ctrlKey:!0},mac:{key:"u",metaKey:!0}},Fe[Je]={windows:{key:"x",ctrlKey:!0,shiftKey:!0},mac:{key:"x",metaKey:!0,shiftKey:!0}},Fe[$e]={imageEnable:!0,titleEnable:!0,mentionEnable:!0,windows:{key:"l",ctrlKey:!0,shiftKey:!0},mac:{key:"l",metaKey:!0,shiftKey:!0}},Fe[et]={imageEnable:!0,titleEnable:!0,mentionEnable:!0,windows:{key:"e",ctrlKey:!0,shiftKey:!0},mac:{key:"e",metaKey:!0,shiftKey:!0}},Fe[tt]={imageEnable:!0,titleEnable:!0,mentionEnable:!0,windows:{key:"r",ctrlKey:!0,shiftKey:!0},mac:{key:"r",metaKey:!0,shiftKey:!0}},Fe[nt]={listEnable:!1,windows:{ctrlKey:!0,which:"f",shiftKey:!0},mac:{metaKey:!0,which:"f",shiftKey:!0}},Fe[rt]=[{imageEnable:!1,windows:{key:"7",ctrlKey:!0,shiftKey:!0},mac:{key:"7",metaKey:!0,shiftKey:!0}},{imageEnable:!1,windows:{key:"&",ctrlKey:!0,shiftKey:!0},mac:{key:"&",metaKey:!0,shiftKey:!0}}],Fe[it]=[{imageEnable:!1,windows:{key:"8",ctrlKey:!0,shiftKey:!0},mac:{key:"8",metaKey:!0,shiftKey:!0}},{imageEnable:!1,windows:{key:"*",ctrlKey:!0,shiftKey:!0},mac:{key:"*",metaKey:!0,shiftKey:!0}}],Fe[ot]={imageEnable:!1,windows:{altKey:!0,ctrlKey:!0,which:"c"},mac:{metaKey:!0,altKey:!0,which:"c"}},Fe[at]={windows:{keyCode:190,shiftKey:!0,ctrlKey:!0},mac:{keyCode:190,shiftKey:!0,metaKey:!0}},Fe[st]={windows:{ctrlKey:!0,which:"s",altKey:!0},mac:{metaKey:!0,which:"s",altKey:!0}},Fe[ct]={titleEnable:!0,windows:{ctrlKey:!0,key:"k"},mac:{metaKey:!0,key:"k"}},Fe[ut]={imageEnable:!1,windows:{ctrlKey:!0,which:"t",altKey:!0},mac:{metaKey:!0,which:"t",altKey:!0}},Fe[lt]={listEnable:!1,windows:{ctrlKey:!0,which:"u",shiftKey:!0},mac:{metaKey:!0,which:"u",shiftKey:!0}},Fe[_t]={listEnable:!1,windows:{ctrlKey:!0,which:"f",shiftKey:!0},mac:{metaKey:!0,which:"f",shiftKey:!0}},Fe[dt]={titleEnable:!0,mentionEnable:!0,driveEnable:!0,windows:{ctrlKey:!0,which:"z"},mac:{metaKey:!0,which:"z"}},Fe[pt]=[{titleEnable:!0,mentionEnable:!0,driveEnable:!0,windows:{ctrlKey:!0,which:"z",shiftKey:!0},mac:{metaKey:!0,which:"z",shiftKey:!0}},{titleEnable:!0,driveEnable:!0,windows:{ctrlKey:!0,which:"y"}}],Fe[ft]={windows:{},mac:{},imageEnable:!1},Fe[mt]={windows:{keyCode:116},mac:{metaKey:!0,shiftKey:!0,keyCode:80}},Fe[vt]={window:{keyCode:je.F6},mac:{metaKey:!0,shiftKey:!0,keyCode:je.J}},Fe[At]={windows:{ctrlKey:!0,which:"p"},mac:{metaKey:!0,which:"p"}},Fe[Ct]={windows:{ctrlKey:!0,which:"c",shiftKey:!0},mac:{ctrlKey:!0,which:"c",metaKey:!0}},Fe[Tt]={windows:{altKey:!0,ctrlKey:!0,keyCode:a.A},mac:{metaKey:!0,altKey:!0,keyCode:a.A}},Fe[Ot]={windows:{ctrlKey:!0,key:"]"},mac:{metaKey:!0,key:"]"}},Fe[kt]={windows:{ctrlKey:!0,which:"s",altKey:!0},mac:{metaKey:!0,which:"s",altKey:!0}},Fe[St]={windows:{ctrlKey:!0,keyCode:a.F},mac:{metaKey:!0,keyCode:a.F}},Fe[wt]={windows:{ctrlKey:!0,keyCode:a.H},mac:{metaKey:!0,shiftKey:!0,keyCode:a.H}},Fe);function xt(o){var t,e,a="",s=0,c="";if(y.browser.mac)a="mac";else{if(!y.browser.windows)return"";a="windows"}var n=function(i){var e=It[i],t=e;Object(E.a)(e)||(t=[e]),Object(k.a)(t,function(e){var t=e[a]||e.windows,n=Object(T.a)(t),r=Object(C.a)(o,n);void 0!==r.which&&(r.which=String.fromCharCode(r.which).toLowerCase()),r.key&&(r.key=r.key.toLowerCase()),JSON.stringify(t)===JSON.stringify(r)&&n.length>s&&(c=i,s=n.length)})};try{for(var r=q(Object.keys(It)),i=r.next();!i.done;i=r.next())n(i.value)}catch(e){t={error:e}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}return c}var Lt=Object.freeze({__proto__:null,get FindReplaceHotkeyName(){return Be},GLOBAL_SEARCH:He,CREATE_DOC:ze,CREATE_SHEET:Ve,SHORTCUTS:Ke,H1:Ge,H2:We,H3:Ye,HEADING:qe,BOLD:Ze,ITALIC:Xe,UNDERLINE:Qe,STRIKETHROUGH:Je,ALIGNLEFT:$e,ALIGNCENTER:et,ALIGNRIGHT:tt,ALIGNFULL:nt,INSERTORDEREDLIST:rt,INSERTUNORDEREDLIST:it,INSERTCODELIST:ot,BLOCKQUOTE:at,INSERTSEPARATOR:st,LINK:ct,CHECKBOX:ut,INSERT_IMAGE:lt,UNDO:dt,REDO:pt,SHEET:ft,BACKCOLOR:ht,MENTION:gt,PPT:mt,MINDMAP:vt,ALIGN_IMAGE_RIGHT:yt,ALIGN_IMAGE_LEFT:bt,ALIGN_IMAGE_CENTER:Et,IMAGE_FULL_SCREEN:_t,PRINT:At,INLINE_CODE:Ct,CREATE_TABLE:Tt,INDENT:Ot,DIVIDER:kt,FIND:St,REPLACE:wt,KEY_MAPS:It,getHotKeyName:xt}),Rt="\\b([/?#][-a-zA-Z0-9@:%_+.~#?&/=;()$,!\\*\\[\\]{}^|<>]*)?",Nt=/localhost(:[0-9]{2,5})?/,Dt=/(([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.){3}(2[0-4][0-9]|25[0-5]|1[0-9]{2}|[1-9][0-9]|[0-9])(:[0-9]{2,5})?/,Mt="([\\-a-zA-Z0-9:%_+~#@]{1,256}\\.){1,50}",Pt="[a-z\\-]{2,15}",jt="[\\w.!#$%&'*+-/=?^_\\`{|}~]{1,2000}@[A-Za-z0-9_.-]+\\.";function Ft(){this.PROTOCOL="https?|s?ftp|ftps|nfs|ssh",this.TOP_DOMAIN="com|org|net|int|edu|gov|mil|ac|ad|ae|af|ag|ai|al|am|an|ao|aq|ar|as|at|au|aw|ax|az|ba|bb|bd|be|bf|bg|bh|bi|bj|bm|bn|bo|br|bs|bt|bv|bw|by|bz|ca|cc|cf|cg|ch|ci|ck|cl|cm|cn|co|cr|cu|cv|cw|cx|cy|cz|de|dj|dk|dm|do|dz|ec|ee|eg|eh|er|es|et|eu|fi|fj|fk|fm|fo|fr|ga|gb|gd|ge|gf|gh|gi|gl|gm|gn|gp|gr|gs|gt|gu|gw|gy|hk|hm|hn|hr|ht|hu|id|ie|il|im|in|io|iq|ir|is|it|jm|jo|jp|ke|kg|kh|ki|km|kn|kp|kr|kw|ky|kz|la|lb|lc|li|lk|lr|ls|lt|lu|lv|ly|ma|mc|md|me|mf|mg|mh|mk|ml|mm|mn|mo|mp|mq|mr|ms|mt|mu|mv|mw|mx|my|mz|na|nc|ne|nf|ng|ni|nl|no|np|nr|nu|nz|om|pa|pe|pf|pg|ph|pk|pl|pm|pn|pr|ps|pt|pw|py|qa|re|ro|rs|ru|rw|sa|sb|sc|sd|se|sg|sh|si|sj|sk|sl|sm|sn|so|sr|ss|st|su|sv|sx|sy|sz|tc|td|tf|tg|th|tj|tk|tl|tm|tn|to|tp|tr|tt|tv|tw|tz|ua|ug|uk|um|us|uy|uz|va|vc|ve|vg|vi|vn|vu|wf|ws|ye|yt|za|zm|zw|site|top|wtf|xxx|xyz|cloud|engineering|help|one",this.LENGTH_LIMITED_EMAIL_REG=new RegExp("^(?!data:)((mailto:"+jt+Pt+")|("+jt+"("+this.TOP_DOMAIN+")))\\b","gi"),this.IP_REG=this.getIpReg(),this.URL_REG=this.getUrlReg(),this.LINK_REG=this.getLinkReg()}var Bt=new(Ft.prototype.getIpReg=function(){return new RegExp("(("+this.PROTOCOL+")://)?(("+Nt.source+")|("+Dt.source+"))"+Rt,"gi")},Ft.prototype.getUrlReg=function(){return new RegExp("((("+this.PROTOCOL+"):\\/\\/"+Mt+Pt+")|("+Mt+"("+this.TOP_DOMAIN+")))(:[0-9]{2,5})?"+Rt,"gi")},Ft.prototype.getLinkReg=function(){return new RegExp("("+this.IP_REG.source+")|("+this.URL_REG.source+")|("+this.LENGTH_LIMITED_EMAIL_REG.source+")","gi")},Ft.prototype.addExtraProtocols=function(e){var t=0<e.length?"|":"";this.PROTOCOL=this.PROTOCOL+t+e.join("|"),this.IP_REG=this.getIpReg(),this.URL_REG=this.getUrlReg(),this.LINK_REG=this.getLinkReg()},Ft);function Ut(e,t){void 0===e&&(e=""),void 0===t&&(t=[]);var n=new RegExp(Bt.LENGTH_LIMITED_EMAIL_REG).test(e),r=t.length?"|":"",i=t.length?":":"",o="^https?:|^mailto:|^ftp:"+r+t.join(":|^")+i;return new RegExp(o).test(e)?e:n?"mailto:"+e:(e.startsWith("http")||(e="http://"+e),e)}function Ht(e){return void 0===e&&(e=""),/^data:/.test(e)}var zt=Object.freeze({__proto__:null,completeURLProtocol:Ut,isDataURL:Ht});var Vt=y.browser.isMac,Kt=a.Left,Gt=a.Right;function Wt(e){var t=e.type,n=e.keyCode,r=e.metaKey,i=e.ctrlKey,o=e.shiftKey;if("keydown"===t&&!o&&!r)return(!i&&n===Kt||Vt)&&i&&n===s.B?"LEFT":(!i&&n===Gt||Vt)&&i&&n===s.F?"RIGHT":void 0}function Yt(e){var t=e.type,n=e.keyCode,r=e.metaKey,i=e.ctrlKey,o=e.shiftKey;if("keydown"===t&&!o&&!r&&Vt)return i&&n===s.A?"START":i&&n===s.E?"END":void 0}var qt=Object.freeze({__proto__:null,getHorizontalMovement:Wt,getEdgeMovement:Yt}),Zt={docs:"doc",sheets:"sheet",slides:"slide",mindnotes:"mindnote",base:"bitable"};function Xt(e){return e?Zt[e]||e:""}function Qt(t){var e=/^(?:([A-Za-z]+):\/\/)?(?:([.\-\w]+))?(?::(\d+))?(\/[^?#]*)?(\?[^#]*)?(#.*)?$/,n="";try{n=decodeURIComponent(t)}catch(e){n=unescape(t)}var r=Z(e.exec(n)||[],7),i=r[1],o=void 0===i?"":i,a=r[2],s=void 0===a?"":a,c=r[3],u=void 0===c?"":c,l=r[4],d=void 0===l?"":l,p=r[5],f=void 0===p?"":p,h=r[6],g=void 0===h?"":h,m=/(?:\/)?(?:space\/)?([a-zA-Z-]+)?(?:\/([^?#]*))/.exec(d)||[];return{protocol:o,hostname:s,port:u,pathname:d,type:Xt(m[1]),token:m[2]||"",search:f,hash:g}}function Jt(e){var t=y.domainConfigHelper.getDomains().domainPool.map(function(e){return e.replace(/\./g,"\\.")}).join("|");return new RegExp("("+t+")\\/?").test(e)}function $t(e){var t=Qt(e),n=t.type,r=t.token,i=t.hash,o=Qt(location.href),a=o.type,s=o.token,c=i.slice(1);return{isCurDocAnchor:Boolean(Jt(e)&&n===a&&r===s&&c),guid:c}}function en(t){if(!t)return"";var e="";try{e=decodeURIComponent(t)}catch(e){console.error("decodeURIComponent url error",t)}return e}function tn(e){if(!Jt(en(e)))return null;var t=Qt(e),n=t.token,r=t.type,i=t.protocol;return n&&r?{token:n,type:r,protocol:i}:null}var nn,rn=document.createElement("style");rn.type="text/css",rn.title="dynamicsyntax";var on=(document.head?document.head.appendChild(rn):(nn=document.body.firstChild,document.body.insertBefore(rn,nn))).sheet,an={},sn=function(r){var i=-1,o=r instanceof RegExp;return[].find.call(on.cssRules,function(e,t){var n=e.selectorText;return o?!!r.test(n)&&(i=t,!0):n===r&&(i=t,!0)}),i},cn=function(e){return-1!==sn(e)},un=function(e,t){var n,r=on.cssRules,i=r.length||0,o=on.insertRule(e,i);!t||(n=r[o])instanceof CSSStyleRule&&(an[t]=n.selectorText)},ln=function(e){void 0===e&&(e="");var t=sn(e);-1!==t&&on.deleteRule(t)},dn=function(e){void 0===e&&(e="");var t=an[e];t&&(ln(t),delete an[e])},pn=function(e,t){if(e){for(var n=on.cssRules,r=[],i=n.length-1;0<=i;i--){var o,a=n[i];a instanceof CSSStyleRule&&((o=a.selectorText).match(e)&&(r.push(o),on.deleteRule(i)))}t&&r.find(function(e){for(var t in an)if(an[t]===e)return delete an[t],!0;return!1})}},fn=Object.freeze({__proto__:null,hasRule:cn,insertRule:un,deleteRuleBySelectorText:ln,deleteRuleById:dn,deleteRulesByRegExp:pn});function hn(e,t){for(var n in t)if(t.hasOwnProperty(n)){var r=t[n];if(r[0]===e)return r[1]}return""}function gn(i,e){var o=[];return e.forEach(function(e){var t=e.selStart,n=e.selEnd,r=e.attribs;Object(u.default)(i.selStart,t)&&Object(u.default)(i.selEnd,n)&&(o=r)}),o}var mn=Object.freeze({__proto__:null,getAttributeValue:hn,findSameRangeAttrib:gn});function vn(){return function(e,t,n){var s=n.value;n.value=function(){for(var n=this,r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];var i=this.editor,t=r[2],o=[],a=i.managers.getLineManagerWithSpecialSelection();t?o.push(V(V({},i.getRep(t.zoneId)),t)):a?a.getSelectedZonesForSpecialSelection().forEach(function(e){var t=i.getRep(e),n=t.lines.length()-1,r=t.lines.atIndex(n).width-1;o.push(V(V({},t),{zoneId:e,selStart:[0,0],selEnd:[n,r]}))}):o.push(i.getRep()),o.forEach(function(e){var t=X(r.slice(0,2),[e],r.slice(3));s.apply(n,t)})}}}function yn(e,t){var n,r;if(!t)return!1;var i=[".sheet:not(.sheet-pasting)","."+F+":not(.sheet-pasting)"];try{for(var o=q(i),a=o.next();!a.done;a=o.next()){var s=a.value;if(0<w()(t).parents(s).length)return!0}}catch(e){n={error:e}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return!1}function bn(e,t){var u=t?e:e.children[0].querySelector("[contenteditable]");if(!u)return console.warn("convertToHtml revertList parent not found"),e;for(var n=u.children,l=[[]],r="",i=null,o=0;o<n.length;o++){var a,s,c,d,p=_n(n[o]),f=p.childEl,h=p.isUl,g=p.isOl,m=p.isBlockquote,v=p.isIndent,y=p.isCheck;p.isTable?(r&&(l.push([]),r="",i=null),f.querySelectorAll(".ace-editor").forEach(function(e){bn(e,!0)})):f&&(h||g)&&!v&&!y?(a=null!==i&&m!==i,s=r&&r!==f.tagName,(a||s)&&(l.push([]),r="",i=null),c=parseInt(f.className.slice(11)),d=f.start,l[l.length-1].push({start:d,index:o,type:f.tagName,level:c,isBlockquote:m}),r=f.tagName,i=m):0!==l[l.length-1].length&&(l.push([]),r="",i=null)}for(var b=[],E=[],o=0;o<l.length;o++)l[o].forEach(function(e){var t=u.children[e.index];b.push(function(){u.removeChild(t)})});for(var _=function(e){var t=l[e];if(0===t.length)return"continue";var n=t[0].type,r=t[0].start,i=document.createElement(n);r&&i.setAttribute("start",r.toString()),An(i,t[0].isBlockquote);for(var o=1,a=null,s=0;s<t.length;s++)a=En(n,t[s].level,t[s].index,i,u,o,a),o=t[s].level;var c=u.children[t[0].index];E.push(function(){u.insertBefore(i,c)})},o=0;o<l.length;o++)_(o);return E.forEach(function(e){e()}),b.forEach(function(e){e()}),e}function En(e,t,n,r,i,o,a){var s=i.children[n],c=s.children[0].children[0];if(On(e,t,r,s,c),1===t)return r.appendChild(c),null;if(t===o)return a?(a.appendChild(c),a):(console.error("convertToHtml error in generateList"),null);var u=document.createElement(e);u.style.margin="0",u.style.padding="0",u.style.marginLeft="24px";for(var l=u,d=2;d<t;d++){var p=document.createElement(e);p.style.padding="0",p.style.margin="0",p.style.marginLeft="24px",l.appendChild(p),l=p}return l.appendChild(c),r.appendChild(u),l}function _n(e){var t=e.children&&e.children[0],n="UL"===t.tagName,r="OL"===t.tagName,i=-1<e.className.indexOf("blockquote"),o=-1<t.className.indexOf("list-indent"),a=-1<t.className.indexOf("list-check")||-1<t.className.indexOf("list-done"),s=-1<t.className.indexOf("aceTable");return{childEl:t,isUl:n,isOl:r,isBlockquote:i,isIndent:o,isCheck:a,isTable:s}}function An(e,t){e.style.margin="0",e.style.padding="0",e.style.listStylePosition="inside",t&&(e.classList.add("blockquote"),e.style.borderLeft="solid 2px #3370ff",e.style.marginTop="8px",e.style.marginBottom="8px")}var Cn=["dist","circle","square"],Tn=["decimal","lower-alpha","lower-roman"];function On(e,t,n,r,i){i.style.display="list-item",i.style.paddingLeft="0",r.style.textIndent&&(i.style.textIndent=r.style.textIndent),r.style.textAlign&&(i.style.textAlign=r.style.textAlign),-1<n.className.indexOf("blockquote")&&(i.style.color="#8f959e",i.style.paddingLeft="12px");var o=i.querySelector(".ace-line-pocket.ignore-dom.pocket-ignore");o&&i.removeChild(o);var a=(t-1)%3;i.style.listStyleType=("UL"===e?Cn:Tn)[a]}new Map([[".ace-line",["id","contenteditable","class"]],[".block-placeholder",["class"]],[".block-autonomous-region",["contenteditable","tabindex"]],[".adit-html-block__container",["contenteditable"]],[".outerdocbody",["class"]],[".innerdocbody",["class"]],[".image-container",["class"]],[".point",["style"]],[".tb-scrollable-content",["style"]]]);var kn="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";function Sn(e){void 0===e&&(e=20);for(var t="",n=0;n<e;n++){var r=Math.floor(Math.random()*kn.length);t+=kn[r]}return t}function wn(e){for(var t="";0<=e;)t=String.fromCharCode(e%26+65)+t,e=Math.floor(e/26)-1;return t}function In(e){return e<1?"":wn(e-1).toLowerCase()}function xn(e){var t,n;if(e<1)return"";if(1e4<e)return String(e);var r={m:1e3,cm:900,d:500,cd:400,c:100,xc:90,l:50,xl:40,x:10,ix:9,v:5,iv:4,i:1},i="";try{for(var o=q(Object.keys(r)),a=o.next();!a.done;a=o.next())for(var s=a.value;e>=r[s];)i+=s,e-=r[s]}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return i}function Ln(n){var r={};return function(e){var t=r[e];return null==t&&(t=r[e]=n(e)),t}}var Rn,Nn,Dn=Ln(In),Mn=Ln(xn),Pn=y.browser.isMac,jn=N.LEFT,Fn=N.RIGHT,Bn="data-contentcollector-ignore-space-at",Un="inline-block-placeholder",Hn=y.browser,zn={PREV:4,AFTER:2};function Vn(e){var t=e.type,n=e.keyCode,r=e.metaKey,i=e.ctrlKey,o=e.shiftKey;return"keydown"!==t||o||r?null:!i&&n===jn||Pn&&i&&n===a.B?Rn.LEFT:!i&&n===Fn||Pn&&i&&n===a.F?Rn.RIGHT:null}function Kn(e){var t=e.type,n=e.keyCode,r=e.metaKey,i=e.ctrlKey,o=e.shiftKey;return"keydown"!==t||o||r||!Pn?null:i&&n===a.A?Rn.START:i&&n===a.E?Rn.END:null}function Gn(e){return e.getAttribute(Bn)}function Wn(){var e=getSelection().focusNode;if(!e)return null;var t=e.parentNode,n=e;return 3===e.nodeType&&t&&(n=t),Gn(n)?n:null}function Yn(e){return Hn.isIE?e&&0===e.toString().length:e&&"Caret"===e.type}function qn(e){return Hn.isIE?e&&0<e.toString().length:e&&"Range"===e.type}function Zn(e){var t=getSelection(),n=[],r=t.baseNode,i=t.baseOffset,o=t.focusNode,a=t.focusOffset,s=Wn(),c=o,u=a;s&&(c=s,u=0);var l,d=Xn(w()(c),u,"prev",e);return!qn(t)||(l=Xn(w()(r),i,"prev",e))&&l.length&&n.push(l.get(0)),d&&d.length&&n.push(d.get(0)),n.length&&n.sort(function(e,t){return e.compareDocumentPosition(t)===zn.PREV?-1:1}),w()(n)}function Xn(e,t,n,r){void 0===r&&(r=!0);var i=null,o=getSelection();if(e)for(;e.length&&!/magicdomid/.test(e.attr("id"));){var a=e.text(),s=0===t&&"next"===n;if(e.hasClass("mention")&&(s||0!==t))return e;if("prev"===n){var c=0===t&&Yn(o);if((e.prev().hasClass("mention")||e.prev().hasClass(Un)||e.prev().find("."+Un).length)&&(c||!r)){i=e.prev();break}}else{c=t===a.length||1===t&&" "===a.slice(-1);if((e.next().hasClass("mention")||e.next().hasClass(Un)||e.next().find("."+Un).length)&&(c||!r)){i=e.next();break}}e=e.parent()}return i}function Qn(e){var t=getSelection(),n=t.focusNode,r=t.focusOffset,i=Wn(),o=n,a=r;return i&&(o=i,a=1),Xn(w()(o),a,"next",e)}function Jn(e){var t,n=Rn.LEFT,r=Rn.RIGHT;if(e===n){if((t=Zn()).length)return t.prev().get(0)}else if(e===r&&(t=Qn())&&t.length)return t.next().get(0);return null}function $n(e,t){var n=e.selStart[0],r=Rn.START,i=Rn.END;if(t===r)return[n,0];if(t===i){var o=e.lines.atIndex(n);if(o&&o.text)return[n,o.text.length]}return[0,0]}function er(e,t){var n=e.evt,r=e.editor,i=Wn();r.fastIncorp();var o=r.getRep(),a=Jn(t);if(i&&a){if(n.preventDefault(),Gn(a)){var s=r.domToRep(a);if(!s)return;var c=[s.selStart[0],s.selStart[1]];r.selection.setWithSelection(o.zoneId,c,c,!1)}return r.selection.updateBrowserSelectionFromRep()}t!==Rn.START&&t!==Rn.END||(n.preventDefault(),c=$n(o,t),r.selection.setWithSelection(o.zoneId,c,c,!1),r.selection.updateBrowserSelectionFromRep())}function tr(e){return 1===e.childElementCount&&1===e.children[0].childElementCount&&"BR"===e.children[0].children[0].nodeName.toUpperCase()}function nr(e){return e.replace(/>\s{1,}</g,"><").trim()}function rr(e,t,n){var r,i,o,a,s=document.createElement(e);if(t){t.ref;var c=t.className,u=t.style,l=K(t,["ref","className","style"]);c&&(s.className=Array.isArray(c)?c.join(" "):c||""),u&&Object.assign(s.style,u);try{for(var d=q(Object.entries(l)),p=d.next();!p.done;p=d.next()){var f=Z(p.value,2),h=f[0],g=f[1];s.setAttribute(h,g)}}catch(e){r={error:e}}finally{try{p&&!p.done&&(i=d.return)&&i.call(d)}finally{if(r)throw r.error}}}var m=[],v=[];function y(e){var t=null!=e&&"object"===_()(e)&&"element"in e?(e.release&&m.push(e.release),e.onMount&&v.push(e.onMount),e.element):e;s.append(t)}if(Array.isArray(n))try{for(var b=q(n),E=b.next();!E.done;E=b.next())y(E.value)}catch(e){o={error:e}}finally{try{E&&!E.done&&(a=b.return)&&a.call(b)}finally{if(o)throw o.error}}else void 0!==n&&y(n);return t&&t.ref&&("object"===_()(t.ref)?t.ref.current=s:t.ref(s)),{element:s,release:ar.apply(void 0,X(m)),onMount:sr.apply(void 0,X(v))}}function ir(e){return e.cloneNode(!0)}function or(e,t,n){var r=this;return void 0===n&&(n=!1),this.addEventListener(e,t,n),function(){return r.removeEventListener(e,t,n)}}function ar(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var i=e.filter(function(e){return void 0!==e});if(e.length)return function(){var t,e;try{for(var n=q(i),r=n.next();!r.done;r=n.next())(0,r.value)()}catch(e){t={error:e}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}}}function sr(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var i=e.filter(function(e){return void 0!==e});if(e.length)return function(){var t,e;try{for(var n=q(i),r=n.next();!r.done;r=n.next())(0,r.value)()}catch(e){t={error:e}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}}}function cr(e){var t=!1,n=function(){t||e()};return Promise.resolve().then(n),{cancel:function(){t=!0}}}function ur(e,t,n){var r=t.get(e);return t.delete(e),1<r||!n}function lr(e){void 0===e&&(e={});var t=V({leading:!1,trailing:!0},e),c=t.leading,u=t.trailing;return function(e,t,n){n.get,n.set;var r=n.value,i=(n.writable,K(n,["get","set","value","writable"]));if(!Object(O.default)(r))return n;var o=r,a=new WeakMap,s=new WeakMap;return V(V({},i),{value:function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];u&&s.set(this,(s.get(this)||0)+1),a.has(this)?a.get(this).cancel():c&&o.apply(this,t);var r=function(){a.delete(e),u&&ur(e,s,c)&&o.apply(e,t)};a.set(this,cr(r))}})}}function dr(e){void 0===e&&(e={});var t=V({leading:!0,trailing:!0},e),c=t.leading,u=t.trailing;return function(e,t,n){n.get,n.set;var r=n.value,i=(n.writable,K(n,["get","set","value","writable"]));if(!Object(O.default)(r))return n;var o=r,a=new WeakMap,s=new WeakMap;return V(V({},i),{value:function(){for(var e,t=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];u&&s.set(this,(s.get(this)||0)+1),a.has(this)||(c&&o.apply(this,n),e=function(){a.delete(t),u&&ur(t,s,c)&&o.apply(t,n)},a.set(this,cr(e)))}})}}function pr(){this.queue=new Set}(Nn=Rn=Rn||{}).LEFT="LEFT",Nn.RIGHT="RIGHT",Nn.START="START",Nn.END="END";var fr=new(pr.prototype.add=function(e){this.queue.add(e),this.flush()},pr.prototype.flush=function(){var e=this.queue;this.queue=new Set;try{e.forEach(function(e){return e.runGetters()}),e.forEach(function(e){return e.doUpdate()})}finally{e.forEach(function(e){return e.clearCache()})}},W([lr(),Y("design:type",Function),Y("design:paramtypes",[]),Y("design:returntype",void 0)],pr.prototype,"flush",null),pr),hr=(gr.prototype.css=function(e,t){return"function"==typeof t?(this.styleGetterMap.set(e,t),this.styleToSetMap.delete(e)):(this.styleToSetMap.set(e,t),this.styleGetterMap.delete(e)),this.queue.add(this),this},gr.prototype.width=function(){return this.propCache.has(gr.WIDTH_KEY)||(this.propCache.set(gr.WIDTH_KEY,this.$node.width()),this.queue.add(this)),this.propCache.get(gr.WIDTH_KEY)},gr.prototype.doUpdate=function(){var n=this;this.styleToSetMap.forEach(function(e,t){n.$node.css(t,e)})},gr.prototype.runGetters=function(){var n=this;0!==this.styleGetterMap.size&&this.styleGetterMap.forEach(function(e,t){n.styleToSetMap.set(t,e(n.$node))})},gr.prototype.clearCache=function(){this.styleToSetMap.clear(),this.styleGetterMap.clear(),this.propCache.clear()},gr.WIDTH_KEY=Symbol("node.width()"),gr);function gr(e,t){this.$node=e,this.queue=t,this.styleToSetMap=new Map,this.styleGetterMap=new Map,this.propCache=new Map}var mr=(vr.prototype.css=function(t,n){return this.proxies.forEach(function(e){return e.css(t,n)}),this},vr.prototype.show=function(){return this.proxies.forEach(function(e){return e.css("display","")}),this},vr.prototype.hide=function(){return this.proxies.forEach(function(e){return e.css("display","none")}),this},vr.prototype.width=function(){return 0===this.proxies.length?0:this.proxies[0].width()},vr.styleProxyCache=new WeakMap,vr);function vr(e,t){void 0===t&&(t=fr),this.proxies=[];var n=vr.styleProxyCache;this.proxies=Array.from(e).map(function(e){return n.has(e)||n.set(e,new hr(w()(e),t)),n.get(e)})}var yr=(br.prototype.mountIfNeeded=function(){return this.props.shouldMount()?this.isMounted||(this.onUnmount=this.props.mountImpl(),this.isMounted=!0):this.unmountIfNeeded(),this.isMounted},br.prototype.willMountStateChange=function(){return this.props.shouldMount()!==this.isMounted},br.prototype.unmountIfNeeded=function(){this.isMounted&&(this.onUnmount&&(this.onUnmount(),this.onUnmount=void 0),this.isMounted=!1)},br);function br(e){this.props=e,this.isMounted=!1,this.onUnmount=void 0}function Er(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}function _r(e,t){if(Er(e,t))return!0;if("object"!==_()(e)||null===e||"object"!==_()(t)||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!Er(e[n[i]],t[n[i]]))return!1;return!0}function Ar(){var e=window.getSelection();if(e){var t=e.anchorNode;if(y.browser.firefox&&t)try{t.toString()}catch(e){return!0}return!1}}var Cr={YESTERDAY:" HH:mm",BEFORE_YESTERDAY:" HH:mm",SAME_YEAR:"MD HH:mm",BEFORE_YEAR:"YYYYMD"},Tr=13;function Or(e){return e*Math.pow(10,Math.abs((e+"").length-Tr))}function kr(e,t){return void 0===t&&(t=Date.now()),t<(e=Or(e))?t-1e3:e}function Sr(e,t){if(void 0===t&&(t=Math.round((new Date).getTime())),!Object(c.default)(e))return"";e=e<1e12?1e3*e:e;var n=x()(e),r=x()(t);if(!e||n.isSame(r,"day"))return n.from(r);var i=r.clone().subtract(1,"day");return n.isSame(i,"day")?n.format(Cr.YESTERDAY):n.isSame(r,"year")?n.format(Cr.SAME_YEAR):n.format(Cr.BEFORE_YEAR)}function wr(e){return x.a.duration(1e3*e).humanize()}function Ir(e){return e&&"number"==typeof e?Sr(kr(e)):""}function xr(e){e=e<1e12?1e3*e:e;var t=x()(e),n=x()((new Date).getTime());if(t.isSame(n,"day"))return"today";var r=n.clone().subtract(1,"day");return t.isSame(r,"day")?"yesterday":"earlier"}var Lr=Object.freeze({__proto__:null,showDate:Sr,getDaysRemain:wr,forcePastShowDate:Ir,getGroupFromDate:xr}),Rr=null,Nr=500,Dr={init:function(){},destory:function(){},handleBlur:function(){Rr&&clearTimeout(Rr),Rr=null},openLark:function(e){location.href=U+e,Dr.handleBlur(),Rr=window.setTimeout(function(){var e=y.domainConfigHelper.getDomains().lark;window.open(e)},Nr)}};y.ChangesetHelper.ChangesetHelper;var Mr={setData:function(e,t){var n=t.text,r=t.html;(n||r)&&(y.browser.modernIE?e.setData("text",r):(e.setData("text/html",r),e.setData("text/plain",n)))},getData:function(e,t){return void 0===t&&(t="text/html"),y.browser.modernIE?e.getData("text"):e.getData(t)},setDataWithoutEvent:function(i){function e(e){e.preventDefault(),e.stopImmediatePropagation&&e.stopImmediatePropagation();var t=i.html,n=i.text;document.createElement("div").innerHTML=t;var r=e.clipboardData||window.clipboardData;y.browser.modernIE?r.setData("text",t):(r.setData("text/html",t),r.setData("text/plain",n))}var t=document.createElement("textarea");document.body.appendChild(t),document.addEventListener("copy",e),t.style.opacity="0",t.value=" ",t.focus({preventScroll:!0}),t.select(),document.execCommand("copy"),document.removeEventListener("copy",e),document.body.removeChild(t)}};function Pr(e){var t,n,r=y.config.DEFAULT_REP_ZONE;if(!e.initialAttributedText||e.initialAttributedTexts)return e;var i=e.initialAttributedText,o=i.text,a=i.attribs;return{initialAttributedTexts:{rows:{},cols:{},text:((t={})[r]=o,t),attribs:((n={})[r]=a,n)},apool:e.apool}}},uC8H:function(e,t,n){n("VdC8");var r=n("dktu");e.exports=r.Object.assign},uDyp:function(e,t,n){e.exports=n("uIdd")},uEBw:function(e,b,E){"use strict";(function(r){E.d(b,"a",function(){return u}),E.d(b,"f",function(){return l}),E.d(b,"g",function(){return p}),E.d(b,"e",function(){return f}),E.d(b,"c",function(){return g}),E.d(b,"b",function(){return m}),E.d(b,"d",function(){return v}),E.d(b,"h",function(){return y});E("J4zp");var t=E("n/R6"),i=E("KCMi"),n=E("2ACu"),o=E("Mvmg"),e=E("BmhO"),a="client_uploader_file_operation",s="file_card_file_info",c="request_file_block_permission",u={enter:"enter",quit:"quit",show_toolbar:"show_toolbar",click_inline_view:"click_inline_view",click_card_view:"click_card_view",click_preview_view:"click_preview_view",icon_download:"icon_download"};function l(e){var t=decodeURIComponent(atob(e).split("").map(function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)}).join(""));return JSON.parse(t)}function d(e){for(var t=0,n=0;n<e.length;n++)127<e.charCodeAt(n)||94===e.charCodeAt(n)?t+=2:t+=1;return 20<t?"".concat(e.substring(0,10),"..."):e}function p(e){t.a.show({type:"error",closable:!0,content:e})}function f(e,t){var n=!(2<arguments.length&&void 0!==arguments[2])||arguments[2];return n&&Object(i.a)(e,n)||Object(i.b)(e,t)}function h(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};Object(n.default)(e,Object.assign({},t))}function g(){h(a,0<arguments.length&&void 0!==arguments[0]?arguments[0]:{})}function m(){h(s,0<arguments.length&&void 0!==arguments[0]?arguments[0]:{})}function v(){h(c,0<arguments.length&&void 0!==arguments[0]?arguments[0]:{})}e.s.PNG,e.s.JPG,e.s.JPEG,e.s.GIF,e.s.ICO;function y(e){var t,n=d(e.name);return e.name.length>o.d&&(t="".concat(n," ").concat(r("drive.file_name_valid"))),(e.size>o.f||0===e.size)&&(t="".concat(n," ").concat(r("drive.file_size_valid_v2"))),/(?:[?*<>:"/\\|]+)/g.test(e.name)&&(t="".concat(n," ").concat(r("drive.file_name_char"))),t}}).call(this,E("2vAP"))},uIdd:function(e,t,n){n("m7iD");var r=n("dktu").Object,i=e.exports=function(e,t){return r.getOwnPropertyDescriptor(e,t)};r.getOwnPropertyDescriptor.sham&&(i.sham=!0)},uQON:function(e,w,I){"use strict";(function(e){I.d(w,"k",function(){return a}),I.d(w,"j",function(){return s}),I.d(w,"i",function(){return u}),I.d(w,"e",function(){return m}),I.d(w,"b",function(){return v}),I.d(w,"d",function(){return d}),I.d(w,"c",function(){return p}),I.d(w,"g",function(){return b}),I.d(w,"n",function(){return _}),I.d(w,"f",function(){return C}),I.d(w,"l",function(){return T}),I.d(w,"a",function(){return O}),I.d(w,"m",function(){return k}),I.d(w,"h",function(){return S});I("J4zp"),I("fp5s");var n=I("7EGn"),f=I("D7h9"),r=I("ahx2"),h=I("NltJ"),g=(I("ZGZ5"),I("QM+C")),y=I("VI6H"),t=(I("Mpt7"),I("nN3d"),I("dP4c")),i=I("L9Vw"),o=I("2ACu"),a=function(){var e=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).comment_list;return e&&e.length<=0},s=function(){return(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).is_whole},c=e("etherpad.commet_failed"),u=function(e){var t;return r.ERROR_CODE_MAP[e]&&(t=Object(n.default)(r.ERROR_CODE_MAP[e],"warningText")),t||c},m=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:g.LINK_REG;t.lastIndex=0,e=(e=e.replace(/<highlight isOn="([\s\S]*?)">/gi,"")).replace(/<\/highlight>/gi,"");for(var n=[],r=t.exec(e);r;){var i=r.index,o=r[0],a=i+o.length;n.push({startIndex:i,endIndex:a,url:o}),r=t.exec(e)}return n},l=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:g.HIGHLIGHT_REG;t.lastIndex=0;for(var n=[],r=t.exec(e);r;){var i=r.index,o=r[0],a=r[1],s=r[2],c=i+o.length;n.push({startIndex:i,endIndex:c,text:s,content:o,isOn:"true"===a}),r=t.exec(e)}return n},v=function(e){var t=g.AT_REG;t.lastIndex=0;for(var n=[],r=t.exec(e);r;){var i=r.index,o=r[0],a=r[4],s=r[5],c=r[1],u=r[2],l=r[3],d=i+o.length;n.push({startIndex:i,endIndex:d,content:s,type:c,icon:a,href:u?E(u):"",token:l}),r=t.exec(e)}return n},d=function(e){var t=g.SEPARATED_AT_REG;t.lastIndex=0;for(var n,r=[],i=t.exec(e),o=0;i;){var a=i.index,s=e.slice(o,a);s&&r.push({startIndex:o,endIndex:a,content:s});var c=i[0],u=i[1],l=i[2],d=i[3],p=a+c.length;r.push({startIndex:a,endIndex:p,content:l,head:u,tail:d,isAtNode:!0}),o=p,i=t.exec(e)}return o<e.length&&(n=e.slice(o),r.push({startIndex:o,endIndex:e.length,content:n})),r},p=function(a){var e=l(a);if(!e.length)return null;var t,s=[],c=0;return e.forEach(function(e){var t=e.startIndex,n=e.endIndex,r=e.text,i=e.isOn,o=a.slice(c,t);o&&s.push(b(o)),s.push({type:"highlight",content:r,className:"highlight"+(i?" selected":"")}),c=n}),c<a.length&&(t=a.slice(c),s.push(b(t))),s};function b(e){return{type:"text",content:e,children:p(e)}}function E(e){return Object(i.getSecureLink)(e,{logParams:{location:i.SECURE_LINK_LOG.DOCS_SDK_COMMENT}})||e}function _(){var e="link_clicked";Object(o.default)(e,{scene:i.SECURE_LINK_SCENE.CCM,location:i.SECURE_LINK_LOG.DOCS_SDK_COMMENT})}function C(e){return{type:"link",content:e,href:E(Object(t.a)(e)),target:"_blank",className:"link",children:p(e)}}var T=function(){return"visible"===document.visibilityState},O=function(e,t){var n=e.commentList,r=e.userId,i=e.finish,o=e.quote,a=e.finishUserId,s=e.isWhole,c=e.unSubmitComment,u=e.createTimestamp,l=e.updateTimestamp,d=e.finishTimestamp;return{comment_list:n,user_id:r,isSubmitted:t,un_submit_comment:Boolean(c),finish:i,quote:o,finish_user_id:a,is_whole:s,create_timestamp:u,update_timestamp:l,finish_timestamp:d}},k=function(e,t){var n=e.replyId,r=e.realReplyId,i=e.userId,o=e.content,a=e.createTimestamp,s=e.updateTimestamp,c=e.deleted,u=e.error,l=e.sending,d=e.type,p=e.modify,f=e.extra,h=e.translateContent,g=e.translateStatus,m=e.equalLang,v=t.get(i);return{reply_id:n,realReplyId:r,user_id:i,content:o,error:u,sending:l,create_timestamp:a,update_timestamp:s,type:d,deleted:c,modify:p,name:Object(y.o)(v.get("id")),avatar_url:v.get("avatar_url"),entities:{users:t},extra:f,time:a,translate_content:h,translate_status:g,equal_lang:m}},S=function(e){var t,n=e.replyId,r=e.content,i=void 0===r?"":r,o=e.extra,a=void 0===o?{}:o,s=v(i),c=m(i),u=!!i,l=0<s.length||0<c.length,d=!1;n&&(d=!!((t=Object(h.g)(f.default.getState()).get(n))&&0<t.length));var p={text:u,link:l,reaction:d,image:!!(a.image_list&&0<a.image_list.length)};return Object.keys(p).filter(function(e){return p[e]}).join(",")}}).call(this,I("2vAP"))},uavh:function(e,h,g){"use strict";(function(e){g.d(h,"a",function(){return f});var t=g("lSNA"),n=g.n(t),r=g("q1tI"),i=g.n(r),o=g("P438"),a=g("8mZy"),s=g("LaDK"),c=g("rWdK"),u=g("U6+H"),l=g.n(u),d=g("bsrO");function p(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=Object.assign({background:"url(".concat(e,")"),backgroundSize:"cover"},t);return i.a.createElement("span",{style:n})}var f=n()({},o.b.Jira,{name:o.b.Jira,icon:p(l.a),connectingText:e("doc.jira.connecting"),connectFailText:e("doc.jira.connect_fail"),connectSuccessFlag:s.a.HAS_CONNECTED,fetchAuthStatusAction:a.g,authStatusSelector:c.a,logParams:{jira_type:Object(d.i)()}})}).call(this,g("2vAP"))},ubJt:function(e,t,n){"use strict";n.d(t,"a",function(){return f});var r=n("MXQz"),i=n("toa8"),o=n("kUgE"),a=n("ZGZ5"),s=n("D7h9"),c=n("wOYm"),u=n("wQna"),l=n("3DAz"),d=Object(r.a)(function(){l.a.setRequestMethod(i.d)});function p(e){d();var t=e.suiteType,n=e.suiteToken,r=e.broadcastType,i=u.a.getOrCreate({suiteType:t,suiteToken:n});return new l.a({broadcastType:r,broadcast:i,getSuiteType:function(){return t},getSuiteToken:function(){return n},getLang:o.getLanguage,getUserId:function(){return Object(a.a)(s.default.getState()).get("id")||window.User.id}})}var f=Object(c.a)(p,function(e){return"".concat(e.suiteType,":").concat(e.suiteToken,":").concat(e.broadcastType)})},ukIz:function(e,t,n){"use strict";var o=n("AUh1"),a=n("fshX"),s=Math.max;function r(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:Object(a.a)(n);return i<0&&(i=s(r+i,0)),Object(o.a)(e,t,i)}t.a=r},ulEd:function(e,t){var n=/\{\n\/\* \[wrapped with (.+)\] \*/,r=/,? & /;function i(e){var t=e.match(n);return t?t[1].split(r):[]}e.exports=i},ulyP:function(e,y,b){"use strict";(function(e){b.d(y,"h",function(){return s}),b.d(y,"l",function(){return c}),b.d(y,"a",function(){return u}),b.d(y,"c",function(){return l}),b.d(y,"d",function(){return d}),b.d(y,"e",function(){return p}),b.d(y,"k",function(){return f}),b.d(y,"i",function(){return h}),b.d(y,"j",function(){return g}),b.d(y,"g",function(){return m}),b.d(y,"f",function(){return v});var n=b("aX3c"),r=b("bkUZ"),i=b("j0vO"),o=b("L9Vw"),t=b("KfsF"),a=b("E0xh");function s(e){var t=i.browser.isMac;return!(t&&e&&e.metaKey)&&!(!t&&e.ctrlKey)}function c(e){var t={logParams:{location:o.SECURE_LINK_LOG.CCM_SHEET}};return Object(o.getSecureLink)(e,t)}function u(t,e,n){try{var r=new URL(t);return r.searchParams.set(e,n),r.href}catch(e){return t}}function l(){var e=Object(i.locateRoute)();return e.isDoc||e.isWikiIndex?t.FROM_SOURCE_TYPE.PARENT_DOC:e.isSheet?t.FROM_SOURCE_TYPE.PARENT_SHEET:e.isBitable?t.FROM_SOURCE_TYPE.PARENT_BITABLE:""}function d(){var e,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"";if("string"!=typeof t)return!1;if(""===(t=t.trim()))return!1;if(Object(i.getFileToken)(t)&&(t=u(t,"from",l())),Object(n.hasUrlProtocol)(t)||(t="http://"+t),t){try{if(i.browser.isMobile)return location.href=t,!0;t.startsWith(location.origin)?(e=window.open(t,"_blank"))&&(e.opener=null):window.open(t,"_blank","noopener")}catch(e){return r.moirae.ravenCatch(e),!1}return!0}return!1}function p(e){return d(c(e))}function f(e){switch(String(e)){case"0":return"overflow";case"1":return"autowrap";case"2":return"clip";default:return"overflow"}}function h(e){switch(Number(e)){case 0:return"left";case 1:return"center";case 2:return"right";default:return"left"}}function g(e){switch(Number(e)){case 0:return"up";case 1:return"center";case 2:default:return"down"}}b.d(y,"b",function(){return a.a});function m(e,t){var n;"boolean"==typeof t?(e.sheets.forEach(function(e){return e.options.isProtected=!t}),t||(n=e.getActiveSheet())&&n.endEdit(!0)):console.error("param has to be a boolean")}function v(e,t){"boolean"==typeof t?e.options.isProtected=!t:console.error("param has to be a boolean")}}).call(this,b("2vAP"))},"ut/Y":function(e,t,n){var r=n("ZCpW"),i=n("GDhZ"),o=n("zZ0H"),a=n("Z0cm"),s=n("+c4W");function c(e){return"function"==typeof e?e:null==e?o:"object"==typeof e?a(e)?i(e[0],e[1]):r(e):s(e)}e.exports=c},uwMH:function(e,N,D){"use strict";(function(c){D.d(N,"a",function(){return n}),D.d(N,"c",function(){return x});var e,t,n,r,i=D("a1gu"),u=D.n(i),o=D("Nsbk"),l=D.n(o),a=D("7W2i"),d=D.n(a),s=D("lSNA"),p=D.n(s),f=D("o0o1"),h=D.n(f),g=D("yXPU"),m=D.n(g),v=D("lwsE"),y=D.n(v),b=D("W8MJ"),E=D.n(b),_=D("D7h9"),C=D("5cZX"),T=D("n3ZB"),O=D("yaX4"),k=D("AiBH"),S=D("iP/4"),w=D("uxcB"),I=function(){function e(){var t=this;y()(this,e),this.isGuideDone=function(e){return!1!==t.getCurGuides().getIn([e,"is_done"])},this.updated=!1}function t(e){return n.apply(this,arguments)}var n,r,i;function o(e){return r.apply(this,arguments)}function a(){return i.apply(this,arguments)}return E()(e,[{key:"fetchGuidesAPI",value:(i=m()(h.a.mark(function e(){return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",_.default.dispatch(Object(O.b)()));case 1:case"end":return e.stop()}},e)})),a)},{key:"getCurGuides",value:function(){return Object(T.i)(_.default.getState())}},{key:"clearUpdated",value:function(){this.updated=!1}},{key:"updateGuideAPI",value:(r=m()(h.a.mark(function e(t){return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.updated=!0,e.prev=1,e.next=4,_.default.dispatch(Object(O.d)(t));case 4:e.next=10;break;case 6:throw e.prev=6,e.t0=e.catch(1),this.updated=!1,e.t0;case 10:case"end":return e.stop()}},e,this,[[1,6]])})),o)},{key:"markGuideAsDoneAPI",value:(n=m()(h.a.mark(function e(t){return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",_.default.dispatch(Object(O.a)(t)));case 1:case"end":return e.stop()}},e)})),t)},{key:"canStart",value:function(){return!S.a.isMobile&&Object(C.c)(_.default.getState())}},{key:"isUpdated",get:function(){return this.updated}}]),e}();(r=n=n||{}).GROUP="atplaceholder_b_at_group",r.DOC="atplaceholder_b_at_doc",r.GROUP_CARD="atplaceholder_b_at_group_card",r.SHEET="atplaceholder_b_at_sheet",r.FILE="atplaceholder_b_at_file";var x=(e={},p()(e,k.E.GROUP,n.GROUP),p()(e,k.E.FILE,n.DOC),p()(e,k.E.SHEET,n.DOC),p()(e,k.E.CHAT,n.GROUP_CARD),e),L=function(e){function n(){return y()(this,n),u()(this,l()(n).apply(this,arguments))}function t(e){return r.apply(this,arguments)}var r,i,o;function a(){return i.apply(this,arguments)}function s(){return o.apply(this,arguments)}return d()(n,e),E()(n,[{key:"start",value:(o=m()(h.a.mark(function e(){return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.canStart()){e.next=2;break}return e.abrupt("return");case 2:this.init();case 3:case"end":return e.stop()}},e,this)})),s)},{key:"update",value:(i=m()(h.a.mark(function e(){return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isDone||this.isUpdated)return e.abrupt("return");e.next=2;break;case 2:return e.next=4,this.updateGuideAPI(this.curGuide);case 4:case"end":return e.stop()}},e,this)})),a)},{key:"markAsDone",value:(r=m()(h.a.mark(function e(t){return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isDone||!n.GUIDE_TYPES.includes(t)||this.isGuideDone(t))return e.abrupt("return");e.next=2;break;case 2:return e.next=4,this.markGuideAsDoneAPI(t);case 4:this.curGuide===t&&this.init();case 5:case"end":return e.stop()}},e,this)})),t)},{key:"init",value:function(){var t=this;Object(w.a)(),this.clearUpdated(),this.curGuide=n.GUIDE_TYPES.find(function(e){return!t.isGuideDone(e)});var e=this.curGuide?n.GUIDE_TEXT[this.curGuide]:c("doc.body_placeholder_default");Object(w.b)(e)}},{key:"isDone",get:function(){return void 0===this.curGuide}}]),n}(I);function R(){return new L}L.GUIDE_TYPES=[n.DOC,n.GROUP_CARD,n.SHEET,n.FILE],L.GUIDE_TEXT=(t={},p()(t,n.DOC,c("abtest.atplaceholder.b.at.doc")),p()(t,n.GROUP_CARD,c("abtest.atplaceholder.b.at.groupcard")),p()(t,n.SHEET,c("abtest.atplaceholder.b.at.sheet")),p()(t,n.FILE,c("abtest.atplaceholder.b.at.file")),t),N.b=R()}).call(this,D("2vAP"))},uwOl:function(e,t,r){"use strict";r.d(t,"a",function(){return f});var n=r("o0o1"),i=r.n(n),o=r("yXPU"),a=r.n(o),s=r("lwsE"),c=r.n(s),u=r("W8MJ"),l=r.n(u),d=r("HhHe"),p=r("V5dN"),f=function(){function n(e){var t=this;c()(this,n),this.params=e,this.unRegisterMessage=function(){},this.receiveMessage=function(e){Object(d.a)(e.origin)&&e.data.name===p.b.CheckStatus&&(t.unRegisterMessage(),t.loadController())},this.unRegisterMessage=this.registerMessage()}function e(){return t.apply(this,arguments)}var t;return l()(n,[{key:"registerMessage",value:function(){var e=this;return window.addEventListener("message",this.receiveMessage,!1),function(){window.removeEventListener("message",e.receiveMessage,!1)}}},{key:"loadController",value:(t=a()(i.a.mark(function e(){var t,n;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.e("followFollow").then(r.bind(null,"i6Ox"));case 2:t=e.sent,n=t.FlowManager,this.flowManager=new n(this.params);case 5:case"end":return e.stop()}},e,this)})),e)},{key:"reset",value:function(){this.unRegisterMessage(),this.flowManager&&this.flowManager.reset()}}]),n}()},uxcB:function(e,t,n){"use strict";n.d(t,"b",function(){return m}),n.d(t,"a",function(){return v});var r=n("O9F5"),i="TITLE_PLACEHOLDER_RULE_ID",o="BODY_PLACEHOLDER_RULE_ID",a="",s="";function c(){return document.body.id?"#".concat(document.body.id):""}var u=">.ace-line:nth-child(1)::before";function l(e){return"\n  ".concat(c()," .maindocbody.innerdocbody.blank-title.docbody--write[contenteditable=true]").concat(u,'{\n    content: "').concat(e,'";\n  }')}function d(e){return"\n  ".concat(c(),' .maindocbody.innerdocbody.blank-body.docbody--write[contenteditable=true]>div:nth-child(2)::before {\n    content: "').concat(e,'";\n  }')}function p(e,t){f(e),h(e,t)}function f(e){r.a.deleteRuleById(e)}function h(e,t){r.a.insertRule(t,e)}function g(){return d(a+s)}function m(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;a=e,p(o,g()),null!==t&&p(i,l(t))}function v(){f(o),f(i)}},uyKL:function(e,k,S){"use strict";(function(n){S.d(k,"a",function(){return O});var e=S("o0o1"),a=S.n(e),t=S("yXPU"),r=S.n(t),i=S("lwsE"),s=S.n(i),o=S("W8MJ"),c=S.n(o),u=S("cDf5"),l=S.n(u),d=S("q1tI"),p=S.n(d),f=S("D7h9"),h=S("i8i4"),g=S.n(h),m=S("2ACu"),v=S("n/R6"),y=S("m/+l"),b=S("4PSP"),E=S("uavh"),_=S("P438"),C=S("Xd/R"),T=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":l()(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;0<=s;s--)(i=e[s])&&(a=(o<3?i(a):3<o?i(t,n,a):i(t,n))||a);return 3<o&&a&&Object.defineProperty(t,n,a),a},O=function(){function o(){s()(this,o),this.authTab=null}function e(){return t.apply(this,arguments)}var t;return c()(o,[{key:"destroy",value:function(){o.instance&&(o.instance.clear(),this.container&&(g.a.unmountComponentAtNode(this.container),document.body.removeChild(this.container),this.container=null)),o.instance=void 0}},{key:"clear",value:function(){this.clearTimer(),this.authTab&&this.authTab.close(),this.authTab=null,this.callback=void 0,this.authInfo=void 0}},{key:"clearTimer",value:function(){this.timer&&clearInterval(this.timer),this.timer=null}},{key:"fetchAuthStatus",value:function(){return this.authInfo?f.default.dispatch(this.authInfo.fetchAuthStatusAction()):null}},{key:"getAuthStatus",value:function(){return this.authInfo?this.authInfo.authStatusSelector(f.default.getState()):null}},{key:"toast",value:function(e,t){v.a.show({key:"auth-connector",type:e,content:p.a.createElement("div",null,t)})}},{key:"toastFetchFail",value:function(){this.toast("error",n("doc.common.fetch_auth_fail"))}},{key:"toastAuthSuccess",value:function(){this.toast("success",n("doc.common.auth_connect_success"))}},{key:"log",value:function(e){var t,n,r,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};this.authInfo&&(n=(t=this.authInfo).name,r=t.logParams,Object(m.default)(e,Object.assign({connect_obj:n},r,{},i)))}},{key:"connect",value:(t=r()(a.a.mark(function e(){var t,n,r,i;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.getAuthStatus()){e.next=3;break}return e.abrupt("return");case 3:if(n=t.authUrl){e.next=18;break}return e.prev=5,e.next=8,this.fetchAuthStatus();case 8:r=e.sent,i=r.payload,n=i.authUrl,e.next=18;break;case 13:return e.prev=13,e.t0=e.catch(5),this.renderConnectFail(),this.toastFetchFail(),e.abrupt("return");case 18:this.authTab=window.open(n),this.timer=setInterval(this.timerHandler,o.TIME_GAP);case 20:case"end":return e.stop()}},e,this,[[5,13]])})),e)},{key:"timerHandler",value:function(){var n=this;this.authTab&&this.authTab.closed&&(this.clearTimer(),this.authTab=null,this.fetchAuthStatus().then(function(){var e,t=n.getAuthStatus();t&&n.authInfo&&((e=t.authState===n.authInfo.connectSuccessFlag)?(n.emitCallBack(_.a.CONNECT_SUCCESS),n.toastAuthSuccess(),n.destroy()):o.instance&&n.renderConnectFail(),n.log("client_finish_connect",{connect_status:e?"success":"fail"}))}).catch(function(e){n.renderConnectFail(),n.toastFetchFail()}))}},{key:"emitCallBack",value:function(e){this.callback&&this.callback(e)}},{key:"initContainer",value:function(){this.container||(this.container=document.createElement("div"),document.body.appendChild(this.container))}},{key:"renderConnecting",value:function(){this.renderDom(_.a.CONNECTING)}},{key:"renderConnectFail",value:function(){this.renderDom(_.a.CONNECT_FAIL)}},{key:"onReconnect",value:function(){this.renderConnecting(),this.connect()}},{key:"onCancelConnect",value:function(){this.cancelConnect(),this.log("client_cancel_connect")}},{key:"renderDom",value:function(e){var t,n,r,i;this.authInfo&&(n={logoIcon:(t=this.authInfo).icon,connectFailText:t.connectFailText,connectingText:t.connectingText,connectStatus:e,onCancelConnect:this.onCancelConnect,onReconnect:this.onReconnect},r=p.a.createElement(C.a,n),i=p.a.createElement(y.Provider,{store:f.default},r),this.initContainer(),g.a.render(i,this.container))}},{key:"startConnect",value:function(e,t){this.authInfo=E.a[e],t&&(this.callback=t),this.renderConnecting(),this.connect()}},{key:"cancelConnect",value:function(){this.emitCallBack(_.a.CONNECT_FAIL),this.authInfo&&f.default.dispatch(this.authInfo.fetchAuthStatusAction()),this.destroy()}}],[{key:"getInstance",value:function(){return void 0===o.instance&&(o.instance=new o),o.instance}}]),o}();O.TIME_GAP=200,T([Object(b.Bind)()],O.prototype,"timerHandler",null),T([Object(b.Bind)()],O.prototype,"onReconnect",null),T([Object(b.Bind)()],O.prototype,"onCancelConnect",null),T([Object(b.Bind)()],O.prototype,"startConnect",null),T([Object(b.Bind)()],O.prototype,"cancelConnect",null)}).call(this,S("2vAP"))},uzFr:function(e,t,n){"use strict";n.d(t,"b",function(){return o}),n.d(t,"a",function(){return a}),n.d(t,"m",function(){return s}),n.d(t,"p",function(){return c}),n.d(t,"h",function(){return u}),n.d(t,"n",function(){return l}),n.d(t,"l",function(){return d}),n.d(t,"q",function(){return p}),n.d(t,"d",function(){return f}),n.d(t,"j",function(){return h}),n.d(t,"o",function(){return g}),n.d(t,"k",function(){return m}),n.d(t,"c",function(){return v}),n.d(t,"g",function(){return y}),n.d(t,"f",function(){return b}),n.d(t,"e",function(){return E}),n.d(t,"i",function(){return _});var r=n("rLED"),i=n("5dbN");function o(){return Object(i.locateRoute)().isSheet&&Object(r.I)("sheet_parallel_request",!1)}function a(){return Object(r.M)("sheet_block_parallel_count",10)}function s(){return Object(r.M)("sheet_parallel_task_limit_per_second",80)}function c(){return Object(r.M)("sheet_translate_text_count",64)}function u(){return Object(r.M)("sheet_getclientvars_timeout",0)}function l(){return Object(r.M)("sheet_send_user_change_debounce",500)}function d(){return Object(r.M)("sheet_range_action_count",5)}function p(){return Object(r.M)("sheet_getsubblocks_timeout",0)}function f(){return Object(r.M)("sheet_missversion_threshold",200)}function h(){return Object(r.I)("sheet_group_toolbtn_enable")}function g(){return Object(r.d)("sheet_sync_buffer_enable")}function m(){return Object(r.I)("sheet_new_sort_enable")}function v(){return Object(r.I)("sheet_range_action")}function y(){return!(!location.search||!location.search.slice(1).split("&").includes("cellPosition=1"))||Object(r.d)("sheet_cell_position_enable")}function b(){return Object(r.M)("sheet_cell_limit",5e5)}function E(){return Object(r.M)("sheet_search_threshold_value",5e4)}function _(){return Object(r.M)("sheet_copy_data_version",0)}},v2N6:function(e,t,n){"use strict";n.d(t,"b",function(){return o}),n.d(t,"a",function(){return a});var r=new Map;function i(e){var t=e.lastModified,n=e.name,r=e.type,i=e.size;return"".concat(n,"_").concat(r,"_").concat(i,"_").concat(t)}function o(e,t){var n=i(e);r.set(n,t)}function a(){r.clear()}},v2yF:function(e,t,n){},vA1p:function(e,t,n){e.exports=n("VsT0")},vIQ0:function(e,t,n){e.exports=n("uC8H")},vLSA:function(e,t,n){n("KgqQ"),n("b4mI"),n("Pkew"),n("UUWy");var r=n("dktu");e.exports=r.Map},"vN+2":function(e,t){function n(){}e.exports=n},vOnD:function(e,Dt,Mt){"use strict";Mt.r(Dt),function(e,t){Mt.d(Dt,"css",function(){return q}),Mt.d(Dt,"keyframes",function(){return Lt}),Mt.d(Dt,"injectGlobal",function(){return Rt}),Mt.d(Dt,"isStyledComponent",function(){return F}),Mt.d(Dt,"consolidateStreamedStyles",function(){return B}),Mt.d(Dt,"ThemeProvider",function(){return it}),Mt.d(Dt,"withTheme",function(){return kt}),Mt.d(Dt,"ServerStyleSheet",function(){return De}),Mt.d(Dt,"StyleSheetManager",function(){return Re}),Mt.d(Dt,"__DO_NOT_USE_OR_YOU_WILL_BE_HAUNTED_BY_SPOOKY_GHOSTS",function(){return St});var n=Mt("+8Ar"),i=Mt.n(n),l=Mt("q1tI"),s=Mt.n(l),r=Mt("2q7i"),o=Mt.n(r),a=Mt("TAZq"),c=Mt.n(a),u=Mt("17x9"),d=Mt.n(u),p=Mt("2mql"),_=Mt.n(p),f=Mt("TOwV"),h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},C=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},T=function(e,t,n){return t&&g(e.prototype,t),n&&g(e,n),e};function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},k=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},S=function(e,t){var n,r={};for(n in e)0<=t.indexOf(n)||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r},w=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},m=function(e){return"object"===(void 0===e?"undefined":h(e))&&e.constructor===Object};var v,y=(v=Error,k(b,v),b);function b(e){C(this,b);for(var t=arguments.length,n=Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=w(this,v.call(this,"An error occurred. See https://github.com/styled-components/styled-components/blob/master/src/utils/errors.md#"+e+" for more information. "+(n?"Additional arguments: "+n.join(", "):"")));return w(i)}var E=function t(n,e){var r=Object.keys(n).filter(function(e){var t=n[e];return null!=t&&!1!==t&&""!==t}).map(function(e){return m(n[e])?t(n[e],e):i()(e)+": "+n[e]+";"}).join(" ");return e?e+" {\n  "+r+"\n}":r},I=function i(e,o){return e.reduce(function(e,t){if(null==t||!1===t||""===t)return e;if(Array.isArray(t))return e.push.apply(e,i(t,o)),e;if(t.hasOwnProperty("styledComponentId"))return e.push("."+t.styledComponentId),e;if("function"!=typeof t)return e.push(m(t)?E(t):t.toString()),e;if(o){var n=t(o);if(s.a.isValidElement(n)){var r=t.displayName||t.name;throw new y(11,r)}e.push.apply(e,i([n],o))}else e.push(t);return e},[])},x=/^\s*\/\/.*$/gm,L=new o.a({global:!1,cascade:!0,keyframe:!1,prefix:!1,compress:!1,semicolon:!0}),R=new o.a({global:!1,cascade:!0,keyframe:!1,prefix:!0,compress:!1,semicolon:!1}),N=[],D=function(e){if(-2===e){var t=N;return N=[],t}},M=c()(function(e){N.push(e)});R.use([M,D]),L.use([M,D]);var P=function(e,t,n){var r=e.join("").replace(x,"");return R(n||!t?"":t,t&&n?n+" "+t+" { "+r+" }":r)},j=function(e){return L("",e)};function F(e){return"function"==typeof e&&"string"==typeof e.styledComponentId}function B(){0}var U,H=52,z=function(e){return String.fromCharCode(e+(25<e?39:97))},V=function(e){for(var t="",n=void 0,n=e;H<n;n=Math.floor(n/H))t=z(n%H)+t;return z(n%H)+t},K=function(e,t){for(var n=[e[0]],r=0,i=t.length;r<i;r+=1)n.push(t[r],e[r+1]);return n},W=Object.freeze([]),Y=Object.freeze({}),q=function(e){for(var t=arguments.length,n=Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return"function"==typeof e||m(e)?I(K(W,[e].concat(n))):I(K(e,n))},Z=void 0!==e&&Object({NODE_ENV:"production",CDN_URL:navigator.cdn_host+"/ccm/pc/web/resource/bear",FASTER_TEST:void 0,LARK_ENV:"web",LARK:!0}).SC_ATTR||"data-styled-components",X="data-styled-streamed",Q="__styled-components-stylesheet__",J="undefined"!=typeof window&&"HTMLElement"in window,$="boolean"==typeof SC_DISABLE_SPEEDY&&SC_DISABLE_SPEEDY||!1,ee=/^[^\S\n]*?\/\* sc-component-id:\s*(\S+)\s+\*\//gm,te=function(e){var o=""+(e||""),a=[];return o.replace(ee,function(e,t,n){return a.push({componentId:t,matchIndex:n}),e}),a.map(function(e,t){var n=e.componentId,r=e.matchIndex,i=a[t+1];return{componentId:n,cssFromDOM:i?o.slice(r,i.matchIndex):o.slice(r)}})},ne=function(){return Mt.nc},re=function(e){var t=!1;return function(){t||(t=!0,e())}},ie=function(e,t,n){n&&((e[t]||(e[t]=Object.create(null)))[n]=!0)},oe=function(e,t){e[t]=Object.create(null)},ae=function(n){return function(e,t){return void 0!==n[e]&&n[e][t]}},se=function(e){var t,n="";for(t in e)n+=Object.keys(e[t]).join(" ")+" ";return n.trim()},ce=function(e){var t,n=Object.create(null);for(t in e)n[t]=O({},e[t]);return n},ue=function(e){if(e.sheet)return e.sheet;for(var t=document.styleSheets.length,n=0;n<t;n+=1){var r=document.styleSheets[n];if(r.ownerNode===e)return r}throw new y(10)},le=function(e,t,n){if(!t)return!1;var r=e.cssRules.length;try{e.insertRule(t,n<=r?n:r)}catch(e){return!1}return!0},de=function(e,t,n){for(var r=t-n,i=t;r<i;--i)e.deleteRule(i)},pe=function(e){return"\n/* sc-component-id: "+e+" */\n"},fe=function(e,t){for(var n=0,r=0;r<=t;r+=1)n+=e[r];return n},he=function(e,t,n){var r=document.createElement("style");r.setAttribute(Z,"");var i=ne();if(i&&r.setAttribute("nonce",i),r.appendChild(document.createTextNode("")),e&&!t)e.appendChild(r);else{if(!t||!e||!t.parentNode)throw new y(6);t.parentNode.insertBefore(r,n?t:t.nextSibling)}return r},ge=function(n,r){return function(e){var t=ne();return"<style "+[t&&'nonce="'+t+'"',Z+'="'+se(r)+'"',e].filter(Boolean).join(" ")+">"+n()+"</style>"}},me=function(r,i){return function(){var e,t=((e={})[Z]=se(i),e),n=ne();return n&&(t.nonce=n),s.a.createElement("style",O({},t,{dangerouslySetInnerHTML:{__html:r()}}))}},ve=function(e){return function(){return Object.keys(e)}},ye=function(d,p){var f=Object.create(null),s=Object.create(null),h=[],g=void 0!==p,m=!1,v=function(e){var t=s[e];return void 0!==t?t:(s[e]=h.length,h.push(0),oe(f,e),s[e])},e=function(e,t,n){for(var r=v(e),i=ue(d),o=fe(h,r),a=0,s=[],c=t.length,u=0;u<c;u+=1){var l=t[u];g&&-1!==l.indexOf("@import")?s.push(l):le(i,l,o+a)&&(a+=1)}g&&0<s.length&&(m=!0,p().insertRules(e+"-import",s)),h[r]+=a,ie(f,e,n)},t=function(e){var t,n,r,i=s[e];void 0!==i&&(t=h[i],n=ue(d),r=fe(h,i),de(n,r,t),h[i]=0,oe(f,e),g&&m&&p().removeRules(e+"-import"))},n=function(){var e,t=ue(d).cssRules,n="";for(e in s){n+=pe(e);for(var r=s[e],i=fe(h,r),o=i-h[r];o<i;o+=1){var a=t[o];void 0!==a&&(n+=a.cssText)}}return n};return{clone:function(){throw new y(5)},css:n,getIds:ve(s),hasNameForId:ae(f),insertMarker:v,insertRules:e,removeRules:t,sealed:!1,styleTag:d,toElement:me(n,f),toHTML:ge(n,f)}},be=function(e){return document.createTextNode(pe(e))},Ee=function(r,u){var l=Object.create(null),i=Object.create(null),d=void 0!==u,p=!1,f=function(e){var t=i[e];return void 0!==t?t:(i[e]=be(e),r.appendChild(i[e]),l[e]=Object.create(null),i[e])},e=function(e,t,n){for(var r=f(e),i=[],o=t.length,a=0;a<o;a+=1){var s,c=t[a];d&&-1!==c.indexOf("@import")?i.push(c):(s=a===o-1?"":" ",r.appendData(""+c+s))}ie(l,e,n),d&&0<i.length&&(p=!0,u().insertRules(e+"-import",i))},t=function(e){var t,n=i[e];void 0!==n&&(t=be(e),r.replaceChild(t,n),i[e]=t,oe(l,e),d&&p&&u().removeRules(e+"-import"))},n=function(){var e,t="";for(e in i)t+=i[e].data;return t};return{clone:function(){throw new y(5)},css:n,getIds:ve(i),hasNameForId:ae(l),insertMarker:f,insertRules:e,removeRules:t,sealed:!1,styleTag:r,toElement:me(n,l),toHTML:ge(n,l)}},_e=function r(e,t){var i=void 0===e?Object.create(null):e,o=void 0===t?Object.create(null):t,a=function(e){var t=o[e];return void 0!==t?t:o[e]=[""]},n=function(e,t,n){a(e)[0]+=t.join(" "),ie(i,e,n)},s=function(e){var t=o[e];void 0!==t&&(t[0]="",oe(i,e))},c=function(){var e,t="";for(e in o){var n=o[e][0];n&&(t+=pe(e)+n)}return t};return{clone:function(){var e,t=ce(i),n=Object.create(null);for(e in o)n[e]=[o[e][0]];return r(t,n)},css:c,getIds:ve(o),hasNameForId:ae(i),insertMarker:a,insertRules:n,removeRules:s,sealed:!1,styleTag:null,toElement:me(c,i),toHTML:ge(c,i)}},Ae=function(){return _e()},Ce=function(e,t,n,r,i){if(!J||n)return Ae();var o=he(e,t,r);return($?Ee:ye)(o,i)},Te=function(u,l,d,e){var r=re(function(){for(var e=0,t=d.length;e<t;e+=1){var n=d[e],r=n.componentId,i=n.cssFromDOM,o=j(i);u.insertRules(r,o)}for(var a=0,s=l.length;a<s;a+=1){var c=l[a];c.parentNode&&c.parentNode.removeChild(c)}});return e&&r(),O({},u,{insertMarker:function(e){return r(),u.insertMarker(e)},insertRules:function(e,t,n){return r(),u.insertRules(e,t,n)}})},Oe=/\s+/,ke=void 0,ke=J?$?40:1e3:-1,Se=0,we=void 0,Ie=(xe.prototype.rehydrate=function(){if(!J||this.forceServer)return this;var e=[],t=[],n=!1,r=document.querySelectorAll("style["+Z+"]"),i=r.length;if(0===i)return this;for(var o=0;o<i;o+=1){for(var a=r[o],n=n||!!a.getAttribute(X),s=(a.getAttribute(Z)||"").trim().split(Oe),c=s.length,u=0;u<c;u+=1){var l=s[u];this.rehydratedNames[l]=!0}t.push.apply(t,te(a.textContent)),e.push(a)}var d=t.length;if(0===d)return this;var p=this.makeTag(null),f=Te(p,e,t,n);this.capacity=Math.max(1,ke-d),this.tags.push(f);for(var h=0;h<d;h+=1)this.tagMap[t[h].componentId]=f;return this},xe.reset=function(){we=new xe(void 0,0<arguments.length&&void 0!==arguments[0]&&arguments[0]).rehydrate()},xe.prototype.clone=function(){var i=new xe(this.target,this.forceServer);return this.clones.push(i),i.tags=this.tags.map(function(e){for(var t=e.getIds(),n=e.clone(),r=0;r<t.length;r+=1)i.tagMap[t[r]]=n;return n}),i.rehydratedNames=O({},this.rehydratedNames),i.deferred=O({},this.deferred),i},xe.prototype.sealAllTags=function(){this.capacity=1,this.tags.forEach(function(e){e.sealed=!0})},xe.prototype.makeTag=function(e){var t=e?e.styleTag:null,n=!1;return Ce(this.target,t,this.forceServer,n,this.getImportRuleTag)},xe.prototype.getTagForId=function(e){var t=this.tagMap[e];if(void 0!==t&&!t.sealed)return t;var n=this.tags[this.tags.length-1];return--this.capacity,0===this.capacity&&(this.capacity=ke,n=this.makeTag(n),this.tags.push(n)),this.tagMap[e]=n},xe.prototype.hasId=function(e){return void 0!==this.tagMap[e]},xe.prototype.hasNameForId=function(e,t){if(void 0===this.ignoreRehydratedNames[e]&&this.rehydratedNames[t])return!0;var n=this.tagMap[e];return void 0!==n&&n.hasNameForId(e,t)},xe.prototype.deferredInject=function(e,t){if(void 0===this.tagMap[e]){for(var n=this.clones,r=0;r<n.length;r+=1)n[r].deferredInject(e,t);this.getTagForId(e).insertMarker(e),this.deferred[e]=t}},xe.prototype.inject=function(e,t,n){for(var r=this.clones,i=0;i<r.length;i+=1)r[i].inject(e,t,n);var o,a=this.getTagForId(e);void 0!==this.deferred[e]?(o=this.deferred[e].concat(t),a.insertRules(e,o,n),this.deferred[e]=void 0):a.insertRules(e,t,n)},xe.prototype.remove=function(e){var t=this.tagMap[e];if(void 0!==t){for(var n=this.clones,r=0;r<n.length;r+=1)n[r].remove(e);t.removeRules(e),this.ignoreRehydratedNames[e]=!0,this.deferred[e]=void 0}},xe.prototype.toHTML=function(){return this.tags.map(function(e){return e.toHTML()}).join("")},xe.prototype.toReactElements=function(){var r=this.id;return this.tags.map(function(e,t){var n="sc-"+r+"-"+t;return Object(l.cloneElement)(e.toElement(),{key:n})})},T(xe,null,[{key:"master",get:function(){return we=we||(new xe).rehydrate()}},{key:"instance",get:function(){return xe.master}}]),xe);function xe(){var r=this,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:J?document.head:null,t=1<arguments.length&&void 0!==arguments[1]&&arguments[1];C(this,xe),this.getImportRuleTag=function(){var e=r.importRuleTag;if(void 0!==e)return e;var t=r.tags[0],n=!0;return r.importRuleTag=Ce(r.target,t?t.styleTag:null,r.forceServer,n)},Se+=1,this.id=Se,this.forceServer=t,this.target=t?null:e,this.tagMap={},this.deferred={},this.rehydratedNames={},this.ignoreRehydratedNames={},this.tags=[],this.capacity=1,this.clones=[]}var Le,Re=(Le=l.Component,k(Ne,Le),Ne.prototype.getChildContext=function(){var e={};return e[Q]=this.sheetInstance,e},Ne.prototype.componentWillMount=function(){if(this.props.sheet)this.sheetInstance=this.props.sheet;else{if(!this.props.target)throw new y(4);this.sheetInstance=new Ie(this.props.target)}},Ne.prototype.render=function(){return s.a.Children.only(this.props.children)},Ne);function Ne(){return C(this,Ne),w(this,Le.apply(this,arguments))}Re.childContextTypes=((U={})[Q]=d.a.oneOfType([d.a.instanceOf(Ie),d.a.instanceOf(De)]).isRequired,U);var De=(Me.prototype.complete=function(){var e;this.closed||(e=this.masterSheet.clones.indexOf(this.instance),this.masterSheet.clones.splice(e,1),this.closed=!0)},Me.prototype.collectStyles=function(e){if(this.closed)throw new y(2);return s.a.createElement(Re,{sheet:this.instance},e)},Me.prototype.getStyleTags=function(){return this.complete(),this.instance.toHTML()},Me.prototype.getStyleElement=function(){return this.complete(),this.instance.toReactElements()},Me.prototype.interleaveWithNodeStream=function(e){throw new y(3)},Me);function Me(){C(this,Me),this.masterSheet=Ie.master,this.instance=this.masterSheet.clone(),this.closed=!1}var Pe=function(e,t,n){var r=n&&e.theme===n.theme;return e.theme&&!r?e.theme:t},je=/[[\].#*$><+~=|^:(),"'`-]+/g,Fe=/(^-|-$)/g;function Be(e){return e.replace(je,"-").replace(Fe,"")}function Ue(e){return e.displayName||e.name||"Component"}function He(e){return"string"==typeof e}function ze(e){return He(e)?"styled."+e:"Styled("+Ue(e)+")"}var Ve=/^((?:s(?:uppressContentEditableWarn|croll|pac)|(?:shape|image|text)Render|(?:letter|word)Spac|vHang|hang)ing|(?:on(?:AnimationIteration|C(?:o(?:mposition(?:Update|Start|End)|ntextMenu|py)|anPlayThrough|anPlay|hange|lick|ut)|(?:Animation|Touch|Load|Drag)Start|(?:(?:Duration|Volume|Rate)Chang|(?:MouseLea|(?:Touch|Mouse)Mo|DragLea)v|Paus)e|Loaded(?:Metad|D)ata|(?:(?:T(?:ransition|ouch)|Animation)E|Suspe)nd|DoubleClick|(?:TouchCanc|Whe)el|Lo(?:stPointer|ad)|TimeUpdate|(?:Mouse(?:Ent|Ov)e|Drag(?:Ent|Ov)e|Erro)r|GotPointer|MouseDown|(?:E(?:n(?:crypt|d)|mpti)|S(?:tall|eek))ed|KeyPress|(?:MouseOu|DragExi|S(?:elec|ubmi)|Rese|Inpu)t|P(?:rogress|laying)|DragEnd|Key(?:Down|Up)|(?:MouseU|Dro)p|(?:Wait|Seek)ing|Scroll|Focus|Paste|Abort|Drag|Play|Blur)Captur|alignmentBaselin|(?:limitingConeAng|xlink(?:(?:Arcr|R)o|Tit)|s(?:urfaceSca|ty|ca)|unselectab|baseProfi|fontSty|(?:focus|dragg)ab|multip|profi|tit)l|d(?:ominantBaselin|efaultValu)|onPointerLeav|a(?:uto(?:Capitaliz|Revers|Sav)|dditiv)|(?:(?:formNoValid|xlinkActu|noValid|accumul|rot)a|autoComple|decelera)t|(?:(?:attribute|item)T|datat)yp|onPointerMov|(?:attribute|glyph)Nam|playsInlin|(?:writing|input|edge)Mod|(?:formE|e)ncTyp|(?:amplitu|mo)d|(?:xlinkTy|itemSco|keyTy|slo)p|(?:xmlSpa|non)c|fillRul|(?:dateTi|na)m|r(?:esourc|ol)|xmlBas|wmod)e|(?:glyphOrientationHorizont|loc)al|(?:externalResourcesRequir|select|revers|mut)ed|c(?:o(?:lorInterpolationFilter|ord)s|o(?:lor(?:Interpolation)?|nt(?:rols|ent))|(?:ontentS(?:cript|tyle)Typ|o(?:ntentEditab|lorProfi)l|l(?:assNam|ipRul)|a(?:lcMod|ptur)|it)e|olorRendering|l(?:ipPathUnits|assID)|(?:ontrolsLis|apHeigh)t|h(?:eckedLink|a(?:llenge|rSet)|ildren|ecked)|ell(?:Spac|Padd)ing|o(?:ntextMenu|ls)|(?:rossOrigi|olSpa)n|l(?:ip(?:Path)?|ass)|ursor|[xy])|glyphOrientationVertical|d(?:angerouslySetInnerHTML|efaultChecked|ownload|isabled|isplay|[xy])|(?:s(?:trikethroughThickn|eaml)es|(?:und|ov)erlineThicknes|r(?:equiredExtension|adiu)|(?:requiredFeatur|tableValu|stitchTil|numOctav|filterR)e|key(?:(?:Splin|Tim)e|Param)|auto[Ff]ocu|header|bia)s|(?:(?:st(?:rikethroughPosi|dDevia)|(?:und|ov)erlinePosi|(?:textDecor|elev)a|orienta)tio|(?:strokeLinejo|orig)i|on(?:PointerDow|FocusI)|formActio|zoomAndPa|directio|(?:vers|act)io|rowSpa|begi|ico)n|o(?:n(?:AnimationIteration|C(?:o(?:mposition(?:Update|Start|End)|ntextMenu|py)|anPlayThrough|anPlay|hange|lick|ut)|(?:(?:Duration|Volume|Rate)Chang|(?:MouseLea|(?:Touch|Mouse)Mo|DragLea)v|Paus)e|Loaded(?:Metad|D)ata|(?:Animation|Touch|Load|Drag)Start|(?:(?:T(?:ransition|ouch)|Animation)E|Suspe)nd|DoubleClick|(?:TouchCanc|Whe)el|(?:Mouse(?:Ent|Ov)e|Drag(?:Ent|Ov)e|Erro)r|TimeUpdate|(?:E(?:n(?:crypt|d)|mpti)|S(?:tall|eek))ed|MouseDown|P(?:rogress|laying)|(?:MouseOu|DragExi|S(?:elec|ubmi)|Rese|Inpu)t|KeyPress|DragEnd|Key(?:Down|Up)|(?:Wait|Seek)ing|(?:MouseU|Dro)p|Scroll|Paste|Focus|Abort|Drag|Play|Load|Blur)|rient)|p(?:reserveAspectRatio|ointsAt[X-Z]|anose1)|(?:(?:allowPaymentReque|(?:fontSize|length)Adju|manife)s|strokeMiterlimi|(?:(?:specularE|e)xpon|renderingInt|asc)en|(?:specularConsta|repeatCou|fontVaria)n|d(?:iffuseConsta|esce)n|baselineShif|vectorEffec|onPointerOu|(?:(?:mar(?:ker|gin)|x)H|accentH|fontW)eigh|markerStar|a(?:utoCorrec|bou)|onFocusOu|intercep|restar|forma|inlis|heigh|lis)t|(?:patternContent|ma(?:sk(?:Content)?|rker)|primitive|gradient|pattern|filter)Units|(?:(?:allowTranspar|baseFrequ)enc|re(?:ferrerPolic|adOnl)|(?:(?:st(?:roke|op)O|floodO|fillO|o)pac|integr|secur)it|visibilit|fontFamil|accessKe|propert|summar)y|(?:gradientT|patternT|t)ransform|(?:(?:st(?:rokeDasho|artO)|o)ffs|acceptChars|formTarg|viewTarg|srcS)et|(?:[xy]ChannelSelect|lightingCol|textAnch|floodCol|stopCol|operat|htmlF)or|(?:(?:enableBackgrou|markerE)n|s(?:p(?:readMetho|ee)|ee)|formMetho|(?:markerM|onInval)i|preloa|metho|kin)d|k(?:ernel(?:UnitLength|Matrix)|[1-4])|strokeDasharray|(?:onPointerCanc|lab)el|(?:allowFullScre|hidd)en|a(?:l(?:lowUserMedia|phabetic|t)|rabicForm|sync)|systemLanguage|(?:(?:o(?:nPointer(?:Ent|Ov)|rd)|allowReord|placehold|frameBord|paintOrd|post)e|repeatDu|d(?:efe|u))r|(?:pointerEve|keyPoi)nts|preserveAlpha|(?:strokeLineca|onPointerU|itemPro|useMa|wra|loo)p|v(?:Mathematical|ert(?:Origin[XY]|AdvY)|alues|ocab)|unicodeRange|h(?:oriz(?:Origin|Adv)X|ttpEquiv)|(?:vI|i)deographic|mathematical|u(?:nicodeBidi|[12])|(?:fontStretc|hig)h|vAlphabetic|(?:(?:mar(?:ker|gin)W|strokeW)id|azimu)th|(?:xmlnsXl|valueL)ink|mediaGroup|spellCheck|(?:text|m(?:in|ax))Length|(?:unitsPerE|optimu|fro)m|r(?:adioGroup|e(?:sults|f[XY]|l)|ows|[xy])|pathLength|(?:xlinkHr|glyphR)ef|innerHTML|xlinkShow|f(?:o(?:ntSize|rm?)|il(?:ter|l))|(?:tabInde|(?:sand|b)bo|viewBo)x|autoPlay|r(?:e(?:quired|sult|f))?|(?:(?:href|xml|src)La|kerni)ng|o(?:verflow|pen)|i(?:temRef|n2|s)|p(?:attern|oints)|unicode|d(?:efault|ata|ir)?|divisor|t(?:arget[XY]|o)|(?:stri|la)ng|(?:width|size)s|prefix|typeof|srcDoc|s(?:coped|te(?:m[hv]|p)|pan)|s(?:t(?:roke|art)|hape|cope|rc)|a(?:ccept|llow|s)|itemID|t(?:arget|ype)|m(?:edia|a(?:sk|x)|in)|value|width|x(?:mlns)?|size|href|k(?:ey)?|end|low|by|x[12]|y[12]|g[12]|i[dn]|f[xy]|[yz])$/,Ke=":A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD"+"\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040",Ge=RegExp.prototype.test.bind(new RegExp("^(x|data|aria)-["+Ke+"]*$")),We=function(e){return Ve.test(e)||Ge(e.toLowerCase())};function Ye(e,t){for(var n=e;n;)if((n=Object.getPrototypeOf(n))&&n===t)return!0;return!1}var qe,Ze,Xe=function(e){var r={},n=0,i=e;function t(e){for(var t in i=e,r){var n=r[t];void 0!==n&&n(i)}}function o(e){var t=n;return r[t]=e,n+=1,e(i),t}function a(e){r[e]=void 0}return{publish:t,subscribe:o,unsubscribe:a}},Qe="__styled-components__",Je=Qe+"next__",$e=d.a.shape({getTheme:d.a.func,subscribe:d.a.func,unsubscribe:d.a.func}),et=((qe={})[Qe]=d.a.func,qe[Je]=$e,qe);var tt,nt,rt=function(e){return"function"==typeof e},it=(tt=l.Component,k(ot,tt),ot.prototype.componentWillMount=function(){var t=this,e=this.context[Je];void 0!==e&&(this.unsubscribeToOuterId=e.subscribe(function(e){t.outerTheme=e,void 0!==t.broadcast&&t.publish(t.props.theme)})),this.broadcast=Xe(this.getTheme())},ot.prototype.getChildContext=function(){var e,n=this;return O({},this.context,((e={})[Je]={getTheme:this.getTheme,subscribe:this.broadcast.subscribe,unsubscribe:this.broadcast.unsubscribe},e[Qe]=function(e){var t=n.broadcast.subscribe(e);return function(){return n.broadcast.unsubscribe(t)}},e))},ot.prototype.componentWillReceiveProps=function(e){this.props.theme!==e.theme&&this.publish(e.theme)},ot.prototype.componentWillUnmount=function(){-1!==this.unsubscribeToOuterId&&this.context[Je].unsubscribe(this.unsubscribeToOuterId)},ot.prototype.getTheme=function(e){var t=e||this.props.theme;if(rt(t))return t(this.outerTheme);if(null===t||Array.isArray(t)||"object"!==(void 0===t?"undefined":h(t)))throw new y(8);return O({},this.outerTheme,t)},ot.prototype.publish=function(e){this.broadcast.publish(this.getTheme(e))},ot.prototype.render=function(){return this.props.children?s.a.Children.only(this.props.children):null},ot);function ot(){C(this,ot);var e=w(this,tt.call(this));return e.unsubscribeToOuterId=-1,e.getTheme=e.getTheme.bind(e),e}it.childContextTypes=et,it.contextTypes=((Ze={})[Je]=$e,Ze);var at={},st=O({},et,((nt={})[Q]=d.a.oneOfType([d.a.instanceOf(Ie),d.a.instanceOf(De)]),nt)),ct={},ut=function(e,t,n){var r="string"!=typeof t?"sc":Be(t),i=(ct[r]||0)+1;ct[r]=i;var o=r+"-"+e.generateName(r+i);return void 0!==n?n+"-"+o:o},lt=function(){};var dt,pt=(dt=l.Component,k(ft,dt),ft.prototype.unsubscribeFromContext=function(){-1!==this.unsubscribeId&&this.context[Je].unsubscribe(this.unsubscribeId)},ft.prototype.buildExecutionContext=function(e,t){var r=this.constructor.attrs,i=O({},t,{theme:e});return void 0===r?i:(this.attrs=Object.keys(r).reduce(function(e,t){var n=r[t];return e[t]="function"!=typeof n||Ye(n,l.Component)?n:n(i),e},{}),O({},i,this.attrs))},ft.prototype.generateAndInjectStyles=function(e,t){var n=this.constructor,r=n.attrs,i=n.componentStyle,o=(n.warnTooManyClasses,this.context[Q]||Ie.master);if(i.isStatic&&void 0===r)return i.generateAndInjectStyles(at,o);var a=this.buildExecutionContext(e,t);return i.generateAndInjectStyles(a,o)},ft.prototype.componentWillMount=function(){var e,t,n,r,i=this,o=this.constructor.componentStyle,a=this.context[Je];o.isStatic?(e=this.generateAndInjectStyles(at,this.props),this.setState({generatedClassName:e})):void 0!==a?(t=a.subscribe,this.unsubscribeId=t(function(e){var t=Pe(i.props,e,i.constructor.defaultProps),n=i.generateAndInjectStyles(t,i.props);i.setState({theme:t,generatedClassName:n})})):(n=this.props.theme||Y,r=this.generateAndInjectStyles(n,this.props),this.setState({theme:n,generatedClassName:r}))},ft.prototype.componentWillReceiveProps=function(n){var r=this;this.constructor.componentStyle.isStatic||this.setState(function(e){var t=Pe(n,e.theme,r.constructor.defaultProps);return{theme:t,generatedClassName:r.generateAndInjectStyles(t,n)}})},ft.prototype.componentWillUnmount=function(){this.unsubscribeFromContext()},ft.prototype.render=function(){var e=this.props.innerRef,t=this.state.generatedClassName,n=this.constructor,r=n.styledComponentId,i=n.target,o=He(i),a=[this.props.className,r,this.attrs.className,t].filter(Boolean).join(" "),s=O({},this.attrs,{className:a});F(i)?s.innerRef=e:s.ref=e;var c=s,u=void 0;for(u in this.props)"innerRef"===u||"className"===u||o&&!We(u)||(c[u]="style"===u&&u in this.attrs?O({},this.attrs[u],this.props[u]):this.props[u]);return Object(l.createElement)(i,c)},ft);function ft(){var e,t;C(this,ft);for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t=w(this,dt.call.apply(dt,[this].concat(r)))).attrs={},t.state={theme:null,generatedClassName:""},t.unsubscribeId=-1,w(t,e)}var ht=function(b,E){return function o(a,s,c){var e,t=s.isClass,n=void 0===t?!He(a):t,r=s.displayName,i=void 0===r?ze(a):r,u=s.componentId,l=void 0===u?ut(b,s.displayName,s.parentComponentId):u,d=s.ParentComponent,p=void 0===d?pt:d,f=s.rules,h=s.attrs,g=s.displayName&&s.componentId?Be(s.displayName)+"-"+s.componentId:s.componentId||l,m=new b(void 0===f?c:f.concat(c),h,g),v=(k(y,e=p),y.withComponent=function(e){var t=s.componentId,n=S(s,["componentId"]),r=t&&t+"-"+(He(e)?e:Be(Ue(e))),i=O({},n,{componentId:r,ParentComponent:y});return o(e,i,c)},T(y,null,[{key:"extend",get:function(){var e=s.rules,t=s.componentId,n=S(s,["rules","componentId"]),r=void 0===e?c:e.concat(c),i=O({},n,{rules:r,parentComponentId:t,ParentComponent:y});return lt(),E(o,a,i)}}]),y);function y(){return C(this,y),w(this,e.apply(this,arguments))}return v.attrs=h,v.componentStyle=m,v.contextTypes=st,v.displayName=i,v.styledComponentId=g,v.target=a,n&&_()(v,a,{attrs:!0,componentStyle:!0,displayName:!0,extend:!0,styledComponentId:!0,target:!0,warnTooManyClasses:!0,withComponent:!0}),v}};function gt(e){for(var t,n=0|e.length,r=0|n,i=0;4<=n;)t=1540483477*(65535&(t=255&e.charCodeAt(i)|(255&e.charCodeAt(++i))<<8|(255&e.charCodeAt(++i))<<16|(255&e.charCodeAt(++i))<<24))+((1540483477*(t>>>16)&65535)<<16),r=1540483477*(65535&r)+((1540483477*(r>>>16)&65535)<<16)^(t=1540483477*(65535&(t^=t>>>24))+((1540483477*(t>>>16)&65535)<<16)),n-=4,++i;switch(n){case 3:r^=(255&e.charCodeAt(i+2))<<16;case 2:r^=(255&e.charCodeAt(i+1))<<8;case 1:r=1540483477*(65535&(r^=255&e.charCodeAt(i)))+((1540483477*(r>>>16)&65535)<<16)}return r=1540483477*(65535&(r^=r>>>13))+((1540483477*(r>>>16)&65535)<<16),(r^=r>>>15)>>>0}var mt=J,vt=function e(t,n){for(var r=0,i=t.length;r<i;r+=1){var o=t[r];if(Array.isArray(o)&&!e(o))return!1;if("function"==typeof o&&!F(o))return!1}if(void 0!==n)for(var a in n)if("function"==typeof n[a])return!1;return!0},yt=t.hot&&!1,bt=function(t,s,c){var u=function(e){return t(gt(e))};function i(e,t,n){var r;C(this,i),this.rules=e,this.isStatic=!yt&&vt(e,t),this.componentId=n,Ie.master.hasId(n)||(r=[],Ie.master.deferredInject(n,r))}return i.prototype.generateAndInjectStyles=function(e,t){var n=this.isStatic,r=this.componentId,i=this.lastClassName;if(mt&&n&&void 0!==i&&t.hasNameForId(r,i))return i;var o=s(this.rules,e),a=u(this.componentId+o.join(""));return t.hasNameForId(r,a)||t.inject(this.componentId,c(o,"."+a),a),this.lastClassName=a},i.generateName=function(e){return u(e)},i},Et=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],_t=function(t,n){var r=function(e){return n(t,e)};return Et.forEach(function(e){r[e]=r(e)}),r},At=function(e){return e.replace(/\s|\\n/g,"")},Ct=function(i,o,a){return function(){var e=Ie.master,t=a.apply(void 0,arguments),n=i(gt(At(JSON.stringify(t)))),r="sc-keyframes-"+n;return e.hasNameForId(r,n)||e.inject(r,o(t,n,"@keyframes"),n),n}},Tt=function(r,i){return function(){var e=Ie.master,t=i.apply(void 0,arguments),n="sc-global-"+gt(JSON.stringify(t));e.hasId(n)||e.inject(n,r(t))}},Ot=function(o){return function t(n,r){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:Y;if(!Object(f.isValidElementType)(r))throw new y(1,String(r));var e=function(){return n(r,i,o.apply(void 0,arguments))};return e.withConfig=function(e){return t(n,r,O({},i,e))},e.attrs=function(e){return t(n,r,O({},i,{attrs:O({},i.attrs||Y,e)}))},e}},kt=function(t){var o,e="function"==typeof t&&!(t.prototype&&"isReactComponent"in t.prototype),n=F(t)||e,r=(o=s.a.Component,k(a,o),a.prototype.componentWillMount=function(){var e,n=this,r=this.constructor.defaultProps,t=this.context[Je],i=Pe(this.props,void 0,r);void 0===t&&void 0!==i?this.setState({theme:i}):(e=t.subscribe,this.unsubscribeId=e(function(e){var t=Pe(n.props,e,r);n.setState({theme:t})}))},a.prototype.componentWillReceiveProps=function(t){var n=this.constructor.defaultProps;this.setState(function(e){return{theme:Pe(t,e.theme,n)}})},a.prototype.componentWillUnmount=function(){-1!==this.unsubscribeId&&this.context[Je].unsubscribe(this.unsubscribeId)},a.prototype.render=function(){var e=O({theme:this.state.theme},this.props);return n||(e.ref=e.innerRef,delete e.innerRef),s.a.createElement(t,e)},a);function a(){var e,t;C(this,a);for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t=w(this,o.call.apply(o,[this].concat(r)))).state=Y,t.unsubscribeId=-1,w(t,e)}return r.contextTypes=et,r.displayName="WithTheme("+Ue(t)+")",r.styledComponentId="withTheme",_()(r,t)},St={StyleSheet:Ie};var wt=bt(V,I,P),It=Ot(q),xt=ht(wt,It),Lt=Ct(V,P,q),Rt=Tt(P,q),Nt=_t(xt,It);Dt.default=Nt}.call(this,Mt("8oxB"),Mt("3UD+")(e))},vPIQ:function(e,t,n){"use strict";var r=n("Xh8f"),i=n("3ftV"),o=Object(r.a)(i.a);t.a=o},vUsp:function(e,t,n){"use strict";(function(c){function e(e){var t=4,n=e.length,r=n%t;if(!r)return e;var i=n,o=t-r,a=n+o,s=c.alloc(a);for(s.write(e);o--;)s.write("=",i++);return s.toString()}Object.defineProperty(t,"__esModule",{value:!0}),t.default=e}).call(this,n("HDXh").Buffer)},vX2W:function(e,t,n){function r(e){this._cbs=e||{}}e.exports=r;var i=n("hS6j").EVENTS;Object.keys(i).forEach(function(n){if(0===i[n])n="on"+n,r.prototype[n]=function(){this._cbs[n]&&this._cbs[n]()};else if(1===i[n])n="on"+n,r.prototype[n]=function(e){this._cbs[n]&&this._cbs[n](e)};else{if(2!==i[n])throw Error("wrong number of arguments");n="on"+n,r.prototype[n]=function(e,t){this._cbs[n]&&this._cbs[n](e,t)}}})},vY9h:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r,i,o=n("QM+C");(i=r=r||{})[i.ALL_TYPES=0]="ALL_TYPES",i[i.DOC=o.NUM_SUITE_TYPE.DOC]="DOC",i[i.SHEET=o.NUM_SUITE_TYPE.SHEET]="SHEET",i[i.MINDNOTE=o.NUM_SUITE_TYPE.MINDNOTE]="MINDNOTE"},vfRR:function(e,t,n){"use strict";var r=n("pevS"),i=n("3uAa").find,o=n("xE4W"),a="find",s=!0;a in[]&&Array(1)[a](function(){s=!1}),r({target:"Array",proto:!0,forced:s},{find:function(e){return i(this,e,1<arguments.length?arguments[1]:void 0)}}),o(a)},vpf3:function(e,t,n){},vubp:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n("mrSG"),i=n("T1DM"),o=n("VGuC"),a=n("FFOo"),s=n("60iU");function c(e,t){void 0===t&&(t=i.a);var n=Object(o.a)(e)?+e-t.now():Math.abs(e);return function(e){return e.lift(new u(n,t))}}var u=function(){function e(e,t){this.delay=e,this.scheduler=t}return e.prototype.call=function(e,t){return t.subscribe(new l(e,this.delay,this.scheduler))},e}(),l=function(i){function t(e,t,n){var r=i.call(this,e)||this;return r.delay=t,r.scheduler=n,r.queue=[],r.active=!1,r.errored=!1,r}return r.__extends(t,i),t.dispatch=function(e){for(var t,n=e.source,r=n.queue,i=e.scheduler,o=e.destination;0<r.length&&r[0].time-i.now()<=0;)r.shift().notification.observe(o);0<r.length?(t=Math.max(0,r[0].time-i.now()),this.schedule(e,t)):(this.unsubscribe(),n.active=!1)},t.prototype._schedule=function(e){this.active=!0,this.add(e.schedule(t.dispatch,this.delay,{source:this,destination:this.destination,scheduler:e}))},t.prototype.scheduleNotification=function(e){var t,n;!0!==this.errored&&(t=this.scheduler,n=new d(t.now()+this.delay,e),this.queue.push(n),!1===this.active&&this._schedule(t))},t.prototype._next=function(e){this.scheduleNotification(s.a.createNext(e))},t.prototype._error=function(e){this.errored=!0,this.queue=[],this.destination.error(e)},t.prototype._complete=function(){this.scheduleNotification(s.a.createComplete())},t}(a.a),d=function(){function e(e,t){this.time=e,this.notification=t}return e}()},vzE1:function(e,t,n){"use strict";e.exports=Number.isNaN||function(e){return e!=e}},"w/wX":function(e,t,n){var r=n("QqLw"),i=n("ExA7"),o="[object Set]";function a(e){return i(e)&&r(e)==o}e.exports=a},wCm6:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n("gSGL"),i=n("toa8"),o=function(e){var t=Boolean(e.ignoreInterceptors),n=Math.max(e.url.indexOf("/api"),0);return e.url=e.url.substring(n),Object(i.d)(Object.assign({},e,{headers:Object.assign({"Content-Type":"application/json"},e.headers),ignoreInterceptors:t})).then(function(e){return t?e:{data:Object(r.a)(e.data)?e.data:e}}).catch(function(e){throw e.originalError||e})}},"wF/u":function(e,t,n){var o=n("e5cp"),a=n("ExA7");function s(e,t,n,r,i){return e===t||(null==e||null==t||!a(e)&&!a(t)?e!=e&&t!=t:o(e,t,n,r,s,i))}e.exports=s},wIs1:function(e,t,n){"use strict";var r=n("9C/b");t.a=r.a},wJg7:function(e,t){var r=9007199254740991,i=/^(?:0|[1-9]\d*)$/;function n(e,t){var n=typeof e;return!!(t=null==t?r:t)&&("number"==n||"symbol"!=n&&i.test(e))&&-1<e&&e%1==0&&e<t}e.exports=n},wMS7:function(e,t,n){e.exports=function(){"use strict";function n(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var r=Object.hasOwnProperty,o=Object.setPrototypeOf,a=Object.isFrozen,Ee=Object.keys,_e=Object.freeze,e=Object.seal,i=Object.create,t="undefined"!=typeof Reflect&&Reflect,s=t.apply,c=t.construct,s=s||function(e,t,n){return e.apply(t,n)},_e=_e||function(e){return e},e=e||function(e){return e},c=c||function(e,t){return new(Function.prototype.bind.apply(e,[null].concat(n(t))))},Ae=u(Array.prototype.forEach),Ce=u(Array.prototype.indexOf),Te=u(Array.prototype.join),Oe=u(Array.prototype.pop),ke=u(Array.prototype.push),Se=u(Array.prototype.slice),we=u(String.prototype.toLowerCase),Ie=u(String.prototype.match),xe=u(String.prototype.replace),Le=u(String.prototype.indexOf),Re=u(String.prototype.trim),Ne=u(RegExp.prototype.test),De=l(RegExp),Me=l(TypeError);function u(i){return function(e){for(var t=arguments.length,n=Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return s(i,e,n)}}function l(r){return function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return c(r,t)}}function Pe(e,t){o&&o(e,null);for(var n=t.length;n--;){var r,i=t[n];"string"!=typeof i||(r=we(i))!==i&&(a(t)||(t[n]=r),i=r),e[i]=!0}return e}function je(e){var t=i(null),n=void 0;for(n in e)s(r,e,[n])&&(t[n]=e[n]);return t}var Fe=_e(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Be=_e(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","audio","canvas","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","video","view","vkern"]),Ue=_e(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),He=_e(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),ze=_e(["#text"]),Ve=_e(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns"]),Ke=_e(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Ge=_e(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),We=_e(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Ye=e(/\{\{[\s\S]*|[\s\S]*\}\}/gm),qe=e(/<%[\s\S]*|[\s\S]*%>/gm),Ze=e(/^data-[\-\w.\u00B7-\uFFFF]/),Xe=e(/^aria-[\-\w]+$/),Qe=e(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Je=e(/^(?:\w+script|data):/i),$e=e(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),et="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function tt(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var nt=function(){return"undefined"==typeof window?null:window},rt=function(e,t){if("object"!==(void 0===e?"undefined":et(e))||"function"!=typeof e.createPolicy)return null;var n=null,r="data-tt-policy-suffix";t.currentScript&&t.currentScript.hasAttribute(r)&&(n=t.currentScript.getAttribute(r));var i="dompurify"+(n?"#"+n:"");try{return e.createPolicy(i,{createHTML:function(e){return e}})}catch(e){return console.warn("TrustedTypes policy "+i+" could not be created."),null}};function it(){var u=0<arguments.length&&void 0!==arguments[0]?arguments[0]:nt(),d=function(e){return it(e)};if(d.version="2.0.17",d.removed=[],!u||!u.document||9!==u.document.nodeType)return d.isSupported=!1,d;var e,l=u.document,a=!1,s=u.document,p=u.DocumentFragment,t=u.HTMLTemplateElement,f=u.Node,n=u.NodeFilter,r=u.NamedNodeMap,i=void 0===r?u.NamedNodeMap||u.MozNamedAttrMap:r,Text=u.Text,o=u.Comment,c=u.DOMParser,h=u.trustedTypes;"function"!=typeof t||(e=s.createElement("template")).content&&e.content.ownerDocument&&(s=e.content.ownerDocument);var g=rt(h,l),m=g&&X?g.createHTML(""):"",v=s.implementation,y=s.createNodeIterator,b=s.getElementsByTagName,E=s.createDocumentFragment,_=l.importNode,C={};try{C=je(s).documentMode?s.documentMode:{}}catch(e){}var T={};d.isSupported=v&&void 0!==v.createHTMLDocument&&9!==C;var O=Ye,k=qe,S=Ze,w=Xe,I=Je,x=$e,L=Qe,R=null,N=Pe({},[].concat(tt(Fe),tt(Be),tt(Ue),tt(He),tt(ze))),D=null,M=Pe({},[].concat(tt(Ve),tt(Ke),tt(Ge),tt(We))),P=null,j=null,F=!0,B=!0,U=!1,H=!1,z=!1,V=!1,K=!1,W=!1,Y=!1,q=!1,Z=!1,X=!1,Q=!0,J=!0,$=!1,ee={},te=Pe({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","plaintext","script","style","svg","template","thead","title","video","xmp"]),ne=null,re=Pe({},["audio","video","img","source","image","track"]),ie=null,oe=Pe({},["alt","class","for","id","label","name","pattern","placeholder","summary","title","value","style","xmlns"]),ae=null,se=s.createElement("form"),ce=function(e){ae&&ae===e||(e&&"object"===(void 0===e?"undefined":et(e))||(e={}),e=je(e),R="ALLOWED_TAGS"in e?Pe({},e.ALLOWED_TAGS):N,D="ALLOWED_ATTR"in e?Pe({},e.ALLOWED_ATTR):M,ie="ADD_URI_SAFE_ATTR"in e?Pe(je(oe),e.ADD_URI_SAFE_ATTR):oe,ne="ADD_DATA_URI_TAGS"in e?Pe(je(re),e.ADD_DATA_URI_TAGS):re,P="FORBID_TAGS"in e?Pe({},e.FORBID_TAGS):{},j="FORBID_ATTR"in e?Pe({},e.FORBID_ATTR):{},ee="USE_PROFILES"in e&&e.USE_PROFILES,F=!1!==e.ALLOW_ARIA_ATTR,B=!1!==e.ALLOW_DATA_ATTR,U=e.ALLOW_UNKNOWN_PROTOCOLS||!1,H=e.SAFE_FOR_JQUERY||!1,z=e.SAFE_FOR_TEMPLATES||!1,V=e.WHOLE_DOCUMENT||!1,Y=e.RETURN_DOM||!1,q=e.RETURN_DOM_FRAGMENT||!1,Z=e.RETURN_DOM_IMPORT||!1,X=e.RETURN_TRUSTED_TYPE||!1,W=e.FORCE_BODY||!1,Q=!1!==e.SANITIZE_DOM,J=!1!==e.KEEP_CONTENT,$=e.IN_PLACE||!1,L=e.ALLOWED_URI_REGEXP||L,z&&(B=!1),q&&(Y=!0),ee&&(R=Pe({},[].concat(tt(ze))),D=[],!0===ee.html&&(Pe(R,Fe),Pe(D,Ve)),!0===ee.svg&&(Pe(R,Be),Pe(D,Ke),Pe(D,We)),!0===ee.svgFilters&&(Pe(R,Ue),Pe(D,Ke),Pe(D,We)),!0===ee.mathMl&&(Pe(R,He),Pe(D,Ge),Pe(D,We))),e.ADD_TAGS&&(R===N&&(R=je(R)),Pe(R,e.ADD_TAGS)),e.ADD_ATTR&&(D===M&&(D=je(D)),Pe(D,e.ADD_ATTR)),e.ADD_URI_SAFE_ATTR&&Pe(ie,e.ADD_URI_SAFE_ATTR),J&&(R["#text"]=!0),V&&Pe(R,["html","head","body"]),R.table&&(Pe(R,["tbody"]),delete P.tbody),_e&&_e(e),ae=e)},ue=function(t){ke(d.removed,{element:t});try{t.parentNode.removeChild(t)}catch(e){t.outerHTML=m}},le=function(e,t){try{ke(d.removed,{attribute:t.getAttributeNode(e),from:t})}catch(e){ke(d.removed,{attribute:null,from:t})}t.removeAttribute(e)},de=function(e){var t,n=void 0,r=void 0;W?e="<remove></remove>"+e:r=(t=Ie(e,/^[\r\n\t ]+/))&&t[0];var i,o=g?g.createHTML(e):e;try{n=(new c).parseFromString(o,"text/html")}catch(e){}return a&&Pe(P,["title"]),n&&n.documentElement||((i=(n=v.createHTMLDocument("")).body).parentNode.removeChild(i.parentNode.firstElementChild),i.outerHTML=o),e&&r&&n.body.insertBefore(s.createTextNode(r),n.body.childNodes[0]||null),b.call(n,V?"html":"body")[0]};d.isSupported&&function(){try{var e=de("<x/><title>&lt;/title&gt;&lt;img&gt;");Ne(/<\/title/,e.querySelector("title").innerHTML)&&(a=!0)}catch(e){}}();var pe=function(e){return y.call(e.ownerDocument||e,e,n.SHOW_ELEMENT|n.SHOW_COMMENT|n.SHOW_TEXT,function(){return n.FILTER_ACCEPT},!1)},fe=function(e){return!(e instanceof Text||e instanceof o)&&!("string"==typeof e.nodeName&&"string"==typeof e.textContent&&"function"==typeof e.removeChild&&e.attributes instanceof i&&"function"==typeof e.removeAttribute&&"function"==typeof e.setAttribute&&"string"==typeof e.namespaceURI)},he=function(e){return"object"===(void 0===f?"undefined":et(f))?e instanceof f:e&&"object"===(void 0===e?"undefined":et(e))&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName},ge=function(e,t,n){T[e]&&Ae(T[e],function(e){e.call(d,t,n,ae)})},me=function(e){var t=void 0;if(ge("beforeSanitizeElements",e,null),fe(e))return ue(e),!0;if(Ie(e.nodeName,/[\u0080-\uFFFF]/))return ue(e),!0;var n=we(e.nodeName);if(ge("uponSanitizeElement",e,{tagName:n,allowedTags:R}),("svg"===n||"math"===n)&&0!==e.querySelectorAll("p, br, form, table").length)return ue(e),!0;if(R[n]&&!P[n])return"noscript"===n&&Ne(/<\/noscript/i,e.innerHTML)||"noembed"===n&&Ne(/<\/noembed/i,e.innerHTML)?(ue(e),!0):(!H||he(e.firstElementChild)||he(e.content)&&he(e.content.firstElementChild)||!Ne(/</g,e.textContent)||(ke(d.removed,{element:e.cloneNode()}),e.innerHTML?e.innerHTML=xe(e.innerHTML,/</g,"&lt;"):e.innerHTML=xe(e.textContent,/</g,"&lt;")),z&&3===e.nodeType&&(t=e.textContent,t=xe(t,O," "),t=xe(t,k," "),e.textContent!==t&&(ke(d.removed,{element:e.cloneNode()}),e.textContent=t)),ge("afterSanitizeElements",e,null),!1);if(J&&!te[n]&&"function"==typeof e.insertAdjacentHTML)try{var r=e.innerHTML;e.insertAdjacentHTML("AfterEnd",g?g.createHTML(r):r)}catch(e){}return ue(e),!0},ve=function(e,t,n){if(Q&&("id"===t||"name"===t)&&(n in s||n in se))return!1;if(!(B&&Ne(S,t)||F&&Ne(w,t))){if(!D[t]||j[t])return!1;if(!ie[t]&&!Ne(L,xe(n,x,"")))if("src"!==t&&"xlink:href"!==t&&"href"!==t||"script"===e||0!==Le(n,"data:")||!ne[e]){if((!U||Ne(I,xe(n,x,"")))&&n)return!1}else;}return!0},ye=function(e){var t=void 0,n=void 0,r=void 0,i=void 0,o=void 0;ge("beforeSanitizeAttributes",e,null);var a=e.attributes;if(a){for(var s={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:D},o=a.length;o--;){var c=(t=a[o]).name,u=t.namespaceURI,n=Re(t.value),r=we(c);if(s.attrName=r,s.attrValue=n,s.keepAttr=!0,s.forceKeepAttr=void 0,ge("uponSanitizeAttribute",e,s),n=s.attrValue,!s.forceKeepAttr){if("name"===r&&"IMG"===e.nodeName&&a.id)i=a.id,a=Se(a,[]),le("id",e),le(c,e),Ce(a,i)>o&&e.setAttribute("id",i.value);else{if("INPUT"===e.nodeName&&"type"===r&&"file"===n&&s.keepAttr&&(D[r]||!j[r]))continue;"id"===c&&e.setAttribute(c,""),le(c,e)}if(s.keepAttr)if(H&&Ne(/\/>/i,n))le(c,e);else if(Ne(/svg|math/i,e.namespaceURI)&&Ne(De("</("+Te(Ee(te),"|")+")","i"),n))le(c,e);else{z&&(n=xe(n,O," "),n=xe(n,k," "));var l=e.nodeName.toLowerCase();if(ve(l,r,n))try{u?e.setAttributeNS(u,c,n):e.setAttribute(c,n),Oe(d.removed)}catch(e){}}}}ge("afterSanitizeAttributes",e,null)}},be=function e(t){var n=void 0,r=pe(t);for(ge("beforeSanitizeShadowDOM",t,null);n=r.nextNode();)ge("uponSanitizeShadowNode",n,null),me(n)||(n.content instanceof p&&e(n.content),ye(n));ge("afterSanitizeShadowDOM",t,null)};return d.sanitize=function(e,t){var n=void 0,r=void 0,i=void 0,o=void 0,a=void 0;if("string"!=typeof(e=e||"\x3c!--\x3e")&&!he(e)){if("function"!=typeof e.toString)throw Me("toString is not a function");if("string"!=typeof(e=e.toString()))throw Me("dirty is not a string, aborting")}if(!d.isSupported){if("object"===et(u.toStaticHTML)||"function"==typeof u.toStaticHTML){if("string"==typeof e)return u.toStaticHTML(e);if(he(e))return u.toStaticHTML(e.outerHTML)}return e}if(K||ce(t),d.removed=[],"string"==typeof e&&($=!1),!$)if(e instanceof f)1===(r=(n=de("\x3c!--\x3e")).ownerDocument.importNode(e,!0)).nodeType&&"BODY"===r.nodeName||"HTML"===r.nodeName?n=r:n.appendChild(r);else{if(!Y&&!z&&!V&&-1===e.indexOf("<"))return g&&X?g.createHTML(e):e;if(!(n=de(e)))return Y?null:m}n&&W&&ue(n.firstChild);for(var s=pe($?e:n);i=s.nextNode();)3===i.nodeType&&i===o||me(i)||(i.content instanceof p&&be(i.content),ye(i),o=i);if(o=null,$)return e;if(Y){if(q)for(a=E.call(n.ownerDocument);n.firstChild;)a.appendChild(n.firstChild);else a=n;return Z&&(a=_.call(l,a,!0)),a}var c=V?n.outerHTML:n.innerHTML;return z&&(c=xe(c,O," "),c=xe(c,k," ")),g&&X?g.createHTML(c):c},d.setConfig=function(e){ce(e),K=!0},d.clearConfig=function(){ae=null,K=!1},d.isValidAttribute=function(e,t,n){ae||ce({});var r=we(e),i=we(t);return ve(r,i,n)},d.addHook=function(e,t){"function"==typeof t&&(T[e]=T[e]||[],ke(T[e],t))},d.removeHook=function(e){T[e]&&Oe(T[e])},d.removeHooks=function(e){T[e]&&(T[e]=[])},d.removeAllHooks=function(){T={}},d}return it()}()},wMhR:function(e,k,S){"use strict";(function(l){var e=S("pVnL"),te=S.n(e),t=S("lwsE"),n=S.n(t),r=S("W8MJ"),i=S.n(r),o=S("a1gu"),a=S.n(o),s=S("Nsbk"),c=S.n(s),u=S("7W2i"),d=S.n(u),p=S("ifKl"),f=S("Muja"),h=S("q1tI"),ne=S.n(h),g=(S("17x9"),S("TSYQ")),m=S.n(g),re=S("VI6H"),ie=S("dd8S"),v=S("hqaq"),y=S("l077"),b=(S("UH97"),S("P4CN")),E=S("UlbS"),_=S("xbZX"),C=S("5gSl"),T=S("rLED"),oe=Object(T.I)("orientation_comment_enabled",!0),O=function(e){function t(e){var ee;return n()(this,t),(ee=a()(this,c()(t).call(this,e))).handleResolve=function(e){e&&Object(C.a)(e);var t=ee.props,n=t.onResolve,r=t.commentId;n&&n(r)},ee.handleRetry=function(e,t){var n=ee.props,r=n.onRetry,i=n.commentId,o=ee.findReply(t);r&&r(i,o,e)},ee.handleEdit=function(e){var t=ee.props,n=t.onEdit,r=t.commentId,i=ee.findReply(e);n&&n(r,i)},ee.handleDelete=function(e){var t=ee.props,n=t.onDelete,r=t.commentId,i=ee.findReply(e);n&&n(r,i)},ee.handleTranslate=function(e,t){var n=ee.props,r=n.onTranslate,i=n.commentId;r&&r(i,e,t)},ee.itemRefMap=new Map,ee.setContentToUpdateTextarea=function(e,t){ee.itemRefMap.has(e)&&ee.itemRefMap.get(e).handleOnEdit(t)},ee.renderItem=function(e,t,n,r){var i=ee.props,o=i.reference,a=i.showContentLimit,s=i.onResize,c=i.ellipsisAuthorClass,u=i.updateTextAreaProps,l=i.panelExpand,d=i.myUserId,p=i.getToolTipContainer,f=i.busNameSpace,h=i.addReaction,g=i.removeReaction,m=i.readonly,v=i.enableReaction,y=i.onClickReactionDetail,b=i.onShowReactionPanel,E=i.translateContentCompare,_=i.transEnabled,C=i.embedObjShareEnable,T=i.commentId,O=i.onReactionMouseEnter,k=i.enableFullCommentStyle,S=i.resolvable,w=i.source,I=i.commentImageEnabled,x=i.scrollContainer,L=i.isCalcCommentPosition,R=e.message_id,N=e.error,D=e.sending,M=e.type,P=e.avatar_url,j=e.reply_id,F=e.realReplyId,B=e.content,U=e.status,H=e.showBadge,z=e.name,V=e.user_id,K=e.modify,W=e.entities,Y=e.extra,q=e.translate_status,Z=e.translate_content,X=e.equal_lang,Q=e.reactions,J=e.isWhole,$={readonly:m,currentUserId:d,reference:o,sending:D,error:N,showContentLimit:a,userName:Object(re.o)(V)||z,avatar:P,content:B,time:e.update_timestamp||e.create_timestamp,type:M,onRetry:ee.handleRetry,onResize:s,status:U,showBadge:H,ellipsisAuthorClass:c,replyId:j,realReplyId:F,commentId:T,modify:K,messageId:R,busNameSpace:f,token:V,panelExpand:l,updateTextAreaProps:u,isMyReply:e.user_id===d,entities:W,extra:Y,getToolTipContainer:p,translateStatus:q,translateContent:Z,reactions:Q,enableReaction:v,addReaction:h,removeReaction:g,onClickReactionDetail:y,onShowReactionPanel:b,translateContentCompare:E,transEnabled:_,embedObjShareEnable:C,onDelete:ee.handleDelete,onEdit:ee.handleEdit,onTranslate:ee.handleTranslate,onReactionMouseEnter:O,highlight:t===j,onHighlightChange:n,equalLang:X,enableFullCommentStyle:k,enableReply:k?0===r:oe,source:w,isWhole:J,commentImageEnabled:I,scrollContainer:x,isCalcCommentPosition:L};return(S||k)&&($.onResolve=ee.handleResolve),$.enableReply&&($.onReply=ee.props.onReply),ne.a.createElement(ie.a,te()({key:j,ref:function(e){return ee.setItemRef(j,e)}},$))},ee.renderList=function(t){var e=ee.props,n=e.highlightId,r=e.onHighlightChange;return r?t.map(function(e,t){return ee.renderItem(e,n,r,t)}):ne.a.createElement(_.a,null,function(e){var n=e.highlightId,r=e.onHighlightChange;return t.map(function(e,t){return ee.renderItem(e,n,r,t)})})},ee.renderCollapsed=function(e){var t,n=e.length,r=[];if(0===n)return r;for(t=0;t<n;t++)if(e[t].status===b.a)break;for(0<t&&(r.push(ee.renderItem(e[0])),2<t&&r.push(ne.a.createElement(v.a,{count:t-2,key:"0"})),0<t-1&&r.push(ee.renderItem(e[t-1])));t<n;t++)r.push(ee.renderItem(e[t]));return r},ee.getListRef=function(e){ee.node=e;var t=ee.props.commentListRef;t&&t(e)},ee.state={highlightId:""},ee}return d()(t,e),i()(t,[{key:"shouldComponentUpdate",value:function(e,t){var n=this.props,r=n.list,i=n.resolvable,o=n.expand,a=n.translateContentCompare,s=n.highlightId,c=n.canSwitchToPrevComment,u=n.canSwitchToNextComment,l=n.scrollContainer,d=n.isCalcCommentPosition;return!Object(f.default)(r,e.list)||i!==e.resolvable||o!==e.expand||a!==e.translateContentCompare||s!==e.highlightId||c!==e.canSwitchToPrevComment||u!==e.canSwitchToNextComment||l!==e.scrollContainer||d!==e.isCalcCommentPosition}},{key:"findReply",value:function(t){return this.props.list.find(function(e){return e.reply_id===t})}},{key:"setItemRef",value:function(e,t){null===t?this.itemRefMap.delete(e):this.itemRefMap.set(e,t)}},{key:"getReplyOffsets",value:function(e){if(this.itemRefMap.has(e)&&this.node){var t=this.itemRefMap.get(e).getItemRef();return{listToContainerOffsetTop:this.node.offsetTop,replyToListOffsetTop:t.offsetTop,replyOffsetHeight:t.offsetHeight}}return null}},{key:"startHighlightAnimation",value:function(e,t){this.itemRefMap.has(e)&&this.itemRefMap.get(e).startHighlightAnimation(t)}},{key:"renderResolve",value:function(){var e=this.props,t=e.resolvable,n=e.panelExpand,r=e.canSwitchToPrevComment,i=e.onSwitchToPrevComment,o=e.canSwitchToNextComment,a=e.onSwitchToNextComment,s=e.getToolTipContainer,c=e.source,u=e.enableFullCommentStyle;return"full_comment"===c||u?null:void 0!==r||void 0!==o?ne.a.createElement(y.a,{hidden:!n,canSwitchToPrevComment:r,canSwitchToNextComment:o,canResolve:t,onSwitchToPrevComment:i,onSwitchToNextComment:a,onResolveComment:this.handleResolve,getToolTipContainer:s}):t&&ne.a.createElement(E.Tooltip,{title:l("comment.solve_tip"),placement:"topRight"},ne.a.createElement("div",{className:"comment-list__resolve",onClick:this.handleResolve},l("comment.solve")))}},{key:"render",value:function(){var e=this.props,t=e.showResolveAction,n=e.list,r=e.onCopy,i=e.onCut,o=e.innerListStyle,a=m()("comment-list",t?"comment-list--show-on-".concat(t):"",this.props.className);return ne.a.createElement("div",{ref:this.getListRef,className:a,style:this.props.style,onCopy:r,onCut:i},this.renderResolve(),ne.a.createElement("div",{className:"comment-list-inner",style:o},this.renderList(n)))}}]),t}(ne.a.Component);O.defaultProps={busNameSpace:"comment",onRetry:p.default,onSwitchToPrevComment:p.default,onSwitchToNextComment:p.default,onResolve:p.default,onResize:p.default,expand:!0},k.a=O}).call(this,S("2vAP"))},wN88:function(e,t,n){"use strict";n.d(t,"c",function(){return i}),n.d(t,"e",function(){return o}),n.d(t,"d",function(){return a}),n.d(t,"a",function(){return s}),n.d(t,"b",function(){return c});var r=n("Xngx");function i(e){if(!e)return"";var t=e.match(/\/file\/f\/([A-Za-z0-9]*)/);return t&&t[1]?t[1]:""}function o(e,t){return e?(t.coverOptions?Object(r.b):Object(r.c))(Object.assign({fileToken:e},t)):""}function a(e){if(!e)return"";var t=e.match(/\/box\/stream\/download(\/v2)?\/(all|cover)\/([A-Za-z0-9]*)/);return t&&t[t.length-1]?t[t.length-1]:""}function s(e){if(!e)return null;try{var t=decodeURIComponent(atob(e).split("").map(function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)}).join(""));return JSON.parse(t)}catch(e){return console.error("decodeInfo "),null}}function c(e){if(!e)return"";try{var t=JSON.stringify(e);return btoa(encodeURIComponent(t).replace(/%([0-9A-F]{2})/g,function(e,t){return String.fromCharCode(Number("0x"+t))}))}catch(e){return console.error("encodeInfo "),""}}},wOYm:function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n("lwsE"),o=n.n(r),i=n("W8MJ"),a=n.n(i);function s(r,i){return new(function(){function e(){o()(this,e),this.services=new Map}return a()(e,[{key:"getOrCreate",value:function(e){var t=i(e),n=this.services.get(t);return n||(n=r(e),this.services.set(t,n)),n}},{key:"destroy",value:function(e){var t=i(e),n=this.services.get(t);n&&n.destroy(),this.services.delete(t)}}]),e}())}},"wQU+":function(e,t,n){},wQna:function(e,t,n){"use strict";n.d(t,"a",function(){return d});var r=n("Vfrr"),i=n("D7h9"),o=n("toa8"),a=n("Q9MD"),s=n("5gS9"),c=n("QM+C"),u=n("wOYm");function l(e){var t=e.suiteType,n=e.suiteToken;return new r.a({serviceType:t,serviceToken:n,engineType:c.NUM_SUITE_TYPE_TO_SUITE_ENGINE_TYPE[t],io:s.b.getInstance(),getRequest:function(){return o.d},getMemberId:function(){return function(){return Object(a.b)(i.default.getState())}}})}var d=Object(u.a)(l,function(e){return"".concat(e.suiteType,":").concat(e.suiteToken)})},wSsa:function(e,t,n){"use strict";n.d(t,"c",function(){return d}),n.d(t,"b",function(){return p}),n.d(t,"a",function(){return f});var r=n("VkAN"),i=n.n(r),o=n("MjSh"),a=n("vOnD"),s=n("qxQb"),c=n.n(s);function u(){var e=i()(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 28px;\n  height: 28px;\n  margin-top: 2px;\n  border-radius: 3px;\n  transition: background-color 0.1s linear;\n\n  &:hover {\n    background-color: ",";\n  }\n  &:active {\n    background-color: ",";\n  }\n"]);return u=function(){return e},e}var l=86400,d=(Date.now(),"bytedance_storage.whats_new_storage_key"),p="suiteCanReady",f=a.default.span(u(),c()(o.N900,.1),c()(o.N900,.15))},wTvh:function(e,t,n){e.exports=n("eXIe")},wclG:function(e,t,n){var r=n("pFRH"),i=n("88Gu")(r);e.exports=i},whZn:function(e,t,n){"use strict";n.d(t,"a",function(){return g}),n.d(t,"b",function(){return m});var r=n("J4zp"),i=n.n(r),o=n("RIqP"),l=n.n(o),a=n("lwsE"),s=n.n(a),c=n("W8MJ"),u=n.n(c),d=n("3Hq1"),p=n("y2sV"),f=n("elsr"),h=n("tp5K"),g=function(){function t(e){var u=this;s()(this,t),this.suiteEmbedObjManager=e,this.tokenListsOfNewLines=[],this.handleBufferChanged=function(o,e){var t,a;u.suiteEmbedObjManager&&(t=e.enteredLines,a=[],t.forEach(function(e){var t=e.lineEntry,n=e.childZoneLineEntries,r=e.lineNum,i=u.disposeLineEntry(o,t,r);a.push.apply(a,l()(i)),n.length&&n.forEach(function(e){var t=u.disposeLineEntry(o,e,r);a.push.apply(a,l()(t))})}),u.suiteEmbedObjManager.debounceSendEmbedObjsToManager(a))},this.processAddTokensFromNewLine=function(e){var n=e.hasAddTokens;e.alinesAttribs.forEach(function(e){var t;n&&(t=u.getMentionTokenFromAttribPairs(e),u.tokenListsOfNewLines.push(t))})},this.handleLinesWillReplace=function(e){var t,n,a,r;u.suiteEmbedObjManager&&(t=e.oldLineEntries,n=e.newLineEntries,t.forEach(function(e){var t=e.key,n=e.zone;u.getLineNodeIdSet(n).delete(t)}),u.tokenListsOfNewLines.length?(a=[],n.forEach(function(e,t){var n=e.key,r=e.zone,i=e.isActive,o=u.tokenListsOfNewLines[t];o&&(i?(a.push.apply(a,l()(o)),u.getLineNodeIdSet(r).add(n)):u.suiteEmbedObjManager.waitingIntoBufferMap.set(n,o))}),r=a.map(u.convertTokenToObj),u.suiteEmbedObjManager.debounceSendEmbedObjsToManager(r)):n.forEach(function(e){var t=e.key,n=e.zone;u.getLineNodeIdSet(n).add(t)}),u.tokenListsOfNewLines.length=0)},this.disposeLineEntry=function(e,t,n){var r=t.key,i=t.zone;if(!u.checkIfDirtyLine(i,r))return[];var o=u.getTokenListFromWaitingMap(r);return o?o.map(u.convertTokenToObj):i!==f.a?[]:u.getEmbedObjsFromLine(e,n,t)},this.checkIfDirtyLine=function(e,t){var n=u.getLineNodeIdSet(e);return!n.has(t)&&(n.add(t),!0)},this.getLineNodeIdSet=function(e){if(!u.suiteEmbedObjManager)return new Set;var t=u.suiteEmbedObjManager.zoneToLineNodeIdMap;return Object(d.default)(t[e])&&(t[e]=new Set),t[e]},this.getTokenListFromWaitingMap=function(e){if(u.suiteEmbedObjManager)return u.suiteEmbedObjManager.waitingIntoBufferMap.get(e)},this.getEmbedObjsFromLine=function(e,t,n){var r,i,o,a=n.zone,s=n.text,c=new Set;return e.version.includes(p.y)?(r={start:{line:t,offset:0,zoneId:a},end:{line:t,offset:s.length,zoneId:a}},i=function(e){return e.startsWith("mention-token")},e.getEntities(r,i).forEach(function(e){var t=Object.keys(e.attributes).find(i),n=Object(h.c)(t),r=u.convertTokenToObj(n);r&&c.add(r)})):(o={selStart:[t,0],selEnd:[t,s.length],selZone:a},e.getMatchedAttributePositionOnSelection(o,function(e){return/mention-token/.test(e)},{shouldMerge:!1}).forEach(function(e){var t=e.attrKey,n=Object(h.c)(t),r=u.convertTokenToObj(n);r&&c.add(r)})),l()(c)},this.convertTokenToObj=function(e){return u.suiteEmbedObjManager?u.suiteEmbedObjManager.embedObjMap[e]:null},this.getMentionTokenFromAttribPairs=function(e){var n=[];return e.forEach(function(e){var t=i()(e,1)[0];/mention-token/.test(t)&&n.push(Object(h.c)(t))}),n}}return u()(t,[{key:"destroy",value:function(){this.suiteEmbedObjManager=null,this.tokenListsOfNewLines.length=0}}]),t}();function m(s,e){var c=[],u="mention-token_".concat(e);return s.getMatchedAttributePositionOnSelection(null,function(e){return e===u}).forEach(function(e){var t,n,r=e.docPosition,i=r.selStart,o=r.selZone,a=s.getRep(o||f.a).lines.atIndex(i[0]);!a||(t=a.lineNode)&&(n=t.querySelectorAll("span.".concat(u)),c.push.apply(c,l()(n)))}),c}},wpDl:function(e,t,n){"use strict";var o=n("fshX"),a=n("SiRs"),s=n("efZk"),c=Math.min;function r(e){var i=Math[e];return function(e,t){if(e=Object(a.a)(e),t=null==t?0:c(Object(o.a)(t),292)){var n=(Object(s.a)(e)+"e").split("e"),r=i(n[0]+"e"+(+n[1]+t));return+((n=(Object(s.a)(r)+"e").split("e"))[0]+"e"+(+n[1]-t))}return i(e)}}t.a=r},"wq9/":function(e,t,n){"use strict";n.d(t,"a",function(){return o});var s=n("Poi8"),r=n("FJEn"),i=n("JznU");n.d(t,"b",function(){return i.a});var c=r.RepManager.DEFAULT_REP_ZONE;function o(e,t){if(!t)return 1;var n=t.domToRep(e);if(!n)return 1;var r=n.selStart[2],i=r===c?n:Object(s.i)(t,r)?Object(s.e)(t,r):t.getZoneSelectionInMainZone(r);if(!i)return 1;var o=i.selStart[0],a=t.getRep(c).lines.atIndex(o);return a&&a.zoom||1}},wrZu:function(e,t,n){var i=n("+K+b"),o=n("XYm9"),a=n("b2z7"),s=n("otv/"),c=n("yP5f"),u="[object Boolean]",l="[object Date]",d="[object Map]",p="[object Number]",f="[object RegExp]",h="[object Set]",g="[object String]",m="[object Symbol]",v="[object ArrayBuffer]",y="[object DataView]",b="[object Float32Array]",E="[object Float64Array]",_="[object Int8Array]",C="[object Int16Array]",T="[object Int32Array]",O="[object Uint8Array]",k="[object Uint8ClampedArray]",S="[object Uint16Array]",w="[object Uint32Array]";function r(e,t,n){var r=e.constructor;switch(t){case v:return i(e);case u:case l:return new r(+e);case y:return o(e,n);case b:case E:case _:case C:case T:case O:case k:case S:case w:return c(e,n);case d:return new r;case p:case g:return new r(e);case f:return a(e);case h:return new r;case m:return s(e)}}e.exports=r},wvDy:function(e,t,n){var r=n("OsYe");e.exports=function(e,t){var n=r.console;n&&n.error&&(1===arguments.length?n.error(e):n.error(e,t))}},wvVt:function(e,t){function n(e,t,h){if(!e||"object"!=typeof e||!t||"object"!=typeof t)throw new Error("both arguments must be objects or arrays");function g(e,t,n,r){for(var i,o=Object.keys(e),a=o.length,s=Object.keys(t),c=s.length,u=0;u<a;u++)(l=o[u])in t||(i=n.concat(l),r.remove.push({op:"remove",path:h?h(i):i}));for(u=0;u<c;u++){var l,d,p=e[l=s[u]],f=t[l];l in e?p!==f&&(Object(p)===p&&Object(f)===f&&(Object.keys(p).length||Object.keys(f).length||String(p)==String(f))?g(e[l],t[l],n.concat(l),r):i=m(i,n,l,r,h,t)):(i=n.concat(l),d=t[l],r.add.push({op:"add",path:h?h(i):i,value:d}))}return r.remove.concat(r.replace).concat(r.add)}return g(e,t,[],{remove:[],replace:[],add:[]})}function m(e,t,n,r,i,o){return e=t.concat(n),r.replace.push({op:"replace",path:i?i(e):e,value:o[n]}),e}function r(e){return[""].concat(e).join("/")}e.exports={diff:n,jsonPatchPathConverter:r}},xBWZ:function(e,t,n){var R=!1,N=!1,D=n("EVsM")("lex");function r(n){var e,t,r,i="",o=0,a=-1,s=0,c=1,u="before-selector",l=[u],d={},p=[],f=["media","keyframes",{name:"-webkit-keyframes",type:"keyframes",prefix:"-webkit-"},{name:"-moz-keyframes",type:"keyframes",prefix:"-moz-"},{name:"-ms-keyframes",type:"keyframes",prefix:"-ms-"},{name:"-o-keyframes",type:"keyframes",prefix:"-o-"},"font-face",{name:"import",state:"before-at-value"},{name:"charset",state:"before-at-value"},"supports","viewport",{name:"namespace",state:"before-at-value"},"document",{name:"-moz-document",type:"document",prefix:"-moz-"},"page"];function h(){return T(),n[a]}function g(e){return e?l[l.length-1-e]:u}function m(e){var t=a+1;return e===n.slice(t,t+e.length)}function v(e){var t=n.slice(a).indexOf(e);return 0<t&&t}function y(e){return e===b(1)}function b(e){return n[a+(e||1)]}function E(){var e=l.pop();return u=l[l.length-1],e}function _(e){return u=e,l.push(u),l.length}function C(e){var t=u;return l[l.length-1]=u=e,t}function T(e){var t;1==(e||1)?("\n"==n[a]?(c++,o=1):o++,a++):(1<(t=n.slice(a,a+e).split("\n")).length&&(c+=t.length-1,o=1),o+=t[t.length-1].length,a+=e)}function O(){d.end={line:c,col:o},R&&D("addToken:",JSON.stringify(d,null,2)),p.push(d),i="",d={}}function k(e){d={type:e,start:{line:c,col:o}}}for(N&&(e=Date.now());t=h();)switch(R&&D(t,g()),t){case" ":switch(g()){case"selector":case"value":case"value-paren":case"at-group":case"at-value":case"comment":case"double-string":case"single-string":i+=t}break;case"\n":case"\t":case"\r":case"\f":switch(g()){case"value":case"value-paren":case"at-group":case"comment":case"single-string":case"double-string":case"selector":i+=t;break;case"at-value":"\n"===t&&(d.value=i.trim(),O(),E())}break;case":":switch(g()){case"name":d.name=i.trim(),i="",C("before-value");break;case"before-selector":i+=t,k("selector"),_("selector");break;case"before-value":C("value"),i+=t;break;default:i+=t}break;case";":switch(g()){case"name":case"before-value":case"value":0<i.trim().length&&(d.value=i.trim(),O()),C("before-name");break;case"value-paren":i+=t;break;case"at-value":d.value=i.trim(),O(),E();break;case"before-name":break;default:i+=t}break;case"{":switch(g()){case"selector":if("\\"===b(-1)){i+=t;break}d.text=i.trim(),O(),C("before-name"),s+=1;break;case"at-group":switch(d.name=i.trim(),d.type){case"font-face":case"viewport":case"page":_("before-name");break;default:_("before-selector")}O(),s+=1;break;case"name":case"at-rule":d.name=i.trim(),O(),_("before-name"),s+=1;break;case"comment":case"double-string":case"single-string":i+=t;break;case"before-value":C("value"),i+=t}break;case"}":switch(g()){case"before-name":case"name":case"before-value":case"value":i&&(d.value=i.trim()),d.name&&d.value&&O(),k("end"),O(),E(),"at-group"===g()&&(k("at-group-end"),O(),E()),0<s&&--s;break;case"at-group":case"before-selector":case"selector":if("\\"===b(-1)){i+=t;break}0<s&&"at-group"===g(1)&&(k("at-group-end"),O()),1<s&&E(),0<s&&--s;break;case"double-string":case"single-string":case"comment":i+=t}break;case'"':case"'":switch(g()){case"double-string":'"'===t&&"\\"!==b(-1)&&E();break;case"single-string":"'"===t&&"\\"!==b(-1)&&E();break;case"before-at-value":C("at-value"),_('"'===t?"double-string":"single-string");break;case"before-value":C("value"),_('"'===t?"double-string":"single-string");break;case"comment":break;default:"\\"!==b(-1)&&_('"'===t?"double-string":"single-string")}i+=t;break;case"/":switch(g()){case"comment":case"double-string":case"single-string":i+=t;break;case"before-value":case"selector":case"name":case"value":y("*")?(r=v("*/"))&&T(r+1):("before-value"==g()&&C("value"),i+=t);break;default:y("*")?(k("comment"),_("comment"),T()):i+=t}break;case"*":switch(g()){case"comment":y("/")?(d.text=i,T(),O(),E()):i+=t;break;case"before-selector":i+=t,k("selector"),_("selector");break;case"before-value":C("value"),i+=t;break;default:i+=t}break;case"@":switch(g()){case"comment":case"double-string":case"single-string":i+=t;break;case"before-value":C("value"),i+=t;break;default:for(var S,w,I=!1,x=0,L=f.length;!I&&x<L;++x)m(S=(w=f[x]).name||w)&&(I=!0,k(S),_(w.state||"at-group"),T(S.length),w.prefix&&(d.prefix=w.prefix),w.type&&(d.type=w.type));I||(i+=t)}break;case"(":switch(g()){case"value":_("value-paren");break;case"before-value":C("value")}i+=t;break;case")":switch(g()){case"value-paren":E();break;case"before-value":C("value")}i+=t;break;default:switch(g()){case"before-selector":k("selector"),_("selector");break;case"before-name":k("property"),C("name");break;case"before-value":C("value");break;case"before-at-value":C("at-value")}i+=t}return N&&D("ran in",Date.now()-e+"ms"),p}e.exports=r},xD9Q:function(e,t,n){},xFI3:function(e,t,n){var r=n("Yoag"),i=n("6ae/"),o=n("Q1l4");function a(e){if(e instanceof r)return e.clone();var t=new i(e.__wrapped__,e.__chain__);return t.__actions__=o(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}e.exports=a},xLjh:function(e,t,n){var r=n("mIMY");e.exports=r("navigator","userAgent")||""},xMyE:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n("mrSG"),i=n("FFOo"),a=n("+umK"),s=n("2Bdj");function o(t,n,r){return function(e){return e.lift(new c(t,n,r))}}var c=function(){function e(e,t,n){this.nextOrObserver=e,this.error=t,this.complete=n}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.nextOrObserver,this.error,this.complete))},e}(),u=function(o){function e(e,t,n,r){var i=o.call(this,e)||this;return i._tapNext=a.a,i._tapError=a.a,i._tapComplete=a.a,i._tapError=n||a.a,i._tapComplete=r||a.a,Object(s.a)(t)?(i._context=i)._tapNext=t:t&&(i._context=t,i._tapNext=t.next||a.a,i._tapError=t.error||a.a,i._tapComplete=t.complete||a.a),i}return r.__extends(e,o),e.prototype._next=function(e){try{this._tapNext.call(this._context,e)}catch(e){return void this.destination.error(e)}this.destination.next(e)},e.prototype._error=function(e){try{this._tapError.call(this._context,e)}catch(e){return void this.destination.error(e)}this.destination.error(e)},e.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(e){return void this.destination.error(e)}return this.destination.complete()},e}(i.a)},xUlX:function(e,t,n){"use strict";var d=n("twO/"),p=n("AUh1");function r(e,t,n,r){for(var i=n-1,o=e.length;++i<o;)if(r(e[i],t))return i;return-1}var f=r,h=n("ovuK"),g=n("eAQQ"),m=Array.prototype.splice;function i(e,t,n,r){var i=r?f:p.a,o=-1,a=t.length,s=e;for(e===t&&(t=Object(g.a)(t)),n&&(s=Object(d.a)(e,Object(h.a)(n)));++o<a;)for(var c=0,u=t[o],l=n?n(u):u;-1<(c=i(s,l,c,r));)s!==e&&m.call(s,c,1),m.call(e,c,1);return e}t.a=i},xYSL:function(e,t){function n(e,t){return e.has(t)}e.exports=n},xaJk:function(e,t,n){var o=n("asDA"),a=n("SKAX"),s=n("ut/Y"),c=n("WPeF"),u=n("Z0cm");function r(e,t,n){var r=u(e)?o:c,i=arguments.length<3;return r(e,s(t,4),n,i,a)}e.exports=r},xahd:function(e,t,n){var r=n("pevS"),i=n("OsYe"),o=n("xLjh"),a=[].slice,s=function(i){return function(e,t){var n=2<arguments.length,r=n?a.call(arguments,2):void 0;return i(n?function(){("function"==typeof e?e:Function(e)).apply(this,r)}:e,t)}};r({global:!0,bind:!0,forced:/MSIE .\./.test(o)},{setTimeout:s(i.setTimeout),setInterval:s(i.setInterval)})},xbZX:function(e,t,n){"use strict";n.d(t,"a",function(){return g});var r=n("lwsE"),i=n.n(r),o=n("W8MJ"),a=n.n(o),s=n("a1gu"),c=n.n(s),u=n("Nsbk"),l=n.n(u),d=n("7W2i"),p=n.n(d),f=n("q1tI"),h=n.n(f),g=function(e){function t(e){var n;return i()(this,t),(n=c()(this,l()(t).call(this,e))).handleHighlightChange=function(e,t){t&&e!==n.state.highlightId?n.setState({highlightId:e}):t||e!==n.state.highlightId||n.setState({highlightId:""})},n.state={highlightId:""},n}return p()(t,e),a()(t,[{key:"render",value:function(){var e=this.state.highlightId,t=this.props.children;return h.a.createElement(h.a.Fragment,null,t({highlightId:e,onHighlightChange:this.handleHighlightChange}))}}]),t}(f.Component)},xetH:function(e,t,n){"use strict";var r=n("lSNA"),s=n.n(r),i=n("UXvI"),o=n("0X7r"),c=n("D7h9"),a=n("jp/M"),u=function(e){return{type:a.actionTypes.etherpad.UPDATE_DOC_PERMISSION_USER_MAP,payload:e}},l=n("HjLD");function d(){return new o.b({onPermissionChange:function(e){var a={};e.forEach(function(e){var t,n,r,i=e.permission,o=e.userId;i&&(t=i.readable,n=i.editable,p.hasUser(o)&&(a[o]=(r={},s()(r,l.a.Readable,t),s()(r,l.a.Editable,n),r)))}),c.default.dispatch(u(a))},onError:function(e){}})}n.d(t,"a",function(){return p});var p={userMap:{},userPermissionManager:null,createUserPermissionManager:function(){this.userPermissionManager=d()},destroyUserPermissionManager:function(){this.userPermissionManager&&(this.userPermissionManager.destroy(),this.userPermissionManager=null)},recreateUserPermissionManager:function(){this.destroyUserPermissionManager(),this.createUserPermissionManager()},hasUser:function(e){return this.userMap[e]},addUser:function(e){this.userMap[e]?this.userMap[e]++:(this.userMap[e]=1,this.userPermissionManagerUpdateUserList())},removeUser:function(e){this.userMap[e]&&(this.userMap[e]--,0===this.userMap[e]&&this.userPermissionManagerUpdateUserList())},updateUserPerm:function(e){this.userPermissionManager.fetchUserPermissions(e)},userPermissionManagerUpdateUserList:Object(i.default)(function(){var t=this;this.userPermissionManager&&this.userPermissionManager.updateUserList(Object.keys(this.userMap).filter(function(e){return 0<t.userMap[e]}))},300)}},xfxO:function(e,t,n){"use strict";t.__esModule=!0,t.classNamesShape=t.timeoutsShape=void 0,t.transitionTimeout=o;var r=i(n("17x9"));function i(e){return e&&e.__esModule?e:{default:e}}function o(e){var t="transition"+e+"Timeout",n="transition"+e;return function(e){if(e[n]){if(null==e[t])return new Error(t+" wasn't supplied to CSSTransitionGroup: this can cause unreliable animations and won't be supported in a future version of React. See https://fb.me/react-animation-transition-group-timeout for more information.");if("number"!=typeof e[t])return new Error(t+" must be a number (in milliseconds)")}return null}}t.timeoutsShape=r.default.oneOfType([r.default.number,r.default.shape({enter:r.default.number,exit:r.default.number}).isRequired]),t.classNamesShape=r.default.oneOfType([r.default.string,r.default.shape({enter:r.default.string,exit:r.default.string,active:r.default.string}),r.default.shape({enter:r.default.string,enterDone:r.default.string,enterActive:r.default.string,exit:r.default.string,exitDone:r.default.string,exitActive:r.default.string})])},xk4V:function(e,t,n){var a=n("4fRq"),s=n("I2ZF");function r(e,t,n){var r=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var i=(e=e||{}).random||(e.rng||a)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,t)for(var o=0;o<16;++o)t[r+o]=i[o];return t||s(i)}e.exports=r},"xs/l":function(e,t,n){var r=n("TYy9"),i=n("Ioao"),o=n("wclG");function a(e){return o(i(e,void 0,r),e+"")}e.exports=a},y1fq:function(e,t){e.exports=n;var r=/^([+\-]?\d*n)?\s*(?:([+\-]?)\s*(\d+))?$/;function n(e){if("even"===(e=e.trim().toLowerCase()))return[2,0];if("odd"===e)return[2,1];var t,n=e.match(r);if(!n)throw new SyntaxError("n-th rule couldn't be parsed ('"+e+"')");return n[1]?(t=parseInt(n[1],10),isNaN(t)&&(t="-"===n[1].charAt(0)?-1:1)):t=0,[t,n[3]?parseInt((n[2]||"")+n[3],10):0]}},y2sV:function(e,t,n){"use strict";n.d(t,"a",function(){return Ju}),n.d(t,"b",function(){return Fl}),n.d(t,"c",function(){return or}),n.d(t,"d",function(){return Zu}),n.d(t,"e",function(){return lr}),n.d(t,"f",function(){return Et}),n.d(t,"g",function(){return rt}),n.d(t,"h",function(){return Al}),n.d(t,"i",function(){return kc}),n.d(t,"j",function(){return Ze}),n.d(t,"k",function(){return mr}),n.d(t,"l",function(){return Qa}),n.d(t,"m",function(){return st}),n.d(t,"n",function(){return Image}),n.d(t,"o",function(){return _t}),n.d(t,"p",function(){return Tl}),n.d(t,"q",function(){return ys}),n.d(t,"r",function(){return $n}),n.d(t,"s",function(){return nr}),n.d(t,"t",function(){return bc}),n.d(t,"u",function(){return Yu}),n.d(t,"v",function(){return Yr}),n.d(t,"w",function(){return Ja}),n.d(t,"x",function(){return Dl}),n.d(t,"y",function(){return ot}),n.d(t,"z",function(){return $a}),n.d(t,"A",function(){return dt}),n.d(t,"B",function(){return Ha}),n.d(t,"C",function(){return Je}),n.d(t,"D",function(){return Ua}),n.d(t,"E",function(){return cr}),n.d(t,"F",function(){return gt}),n.d(t,"G",function(){return Oa}),n.d(t,"H",function(){return el}),n.d(t,"I",function(){return tl}),n.d(t,"J",function(){return rs}),n.d(t,"K",function(){return rn}),n.d(t,"L",function(){return rl}),n.d(t,"M",function(){return zn}),n.d(t,"N",function(){return il}),n.d(t,"O",function(){return Un}),n.d(t,"P",function(){return ol}),n.d(t,"Q",function(){return al});var c=n("q1tI"),O=n.n(c),r=n("i8i4"),s=n.n(r),i=n("hbEN"),_=n("Muja"),p=n("XhtD"),u=n("3Hq1"),g=n("BeL+"),a=n("1myf"),b=n("7EGn"),l=n("Ye3z"),m=n("XIp8"),d=n("Bw5p"),v=n("ipyK"),y=n("pHS2"),f=n("dYt1"),h=n("eaa2"),E=n("OZf9"),C=n("HA5h"),T=n("m8R6"),o=n("UXvI"),M=n("+om4"),X=n("FJEn"),k=n("EVdn"),Q=n.n(k),S=n("uAje"),w=n("dKDz"),I=n.n(w),x=n("4O8T"),L=n.n(x),R=n("wMS7"),N=n.n(R),D=Node.prototype.removeChild;Node.prototype.removeChild=function(e){return e.parentNode!==this&&this instanceof HTMLElement&&this.closest(".innerdocbody")?e:D.call(this,e)};var P=function(e,t){return(P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function j(e,t){function n(){this.constructor=e}P(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var F=function(){return(F=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function B(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;0<=s;s--)(i=e[s])&&(a=(o<3?i(a):3<o?i(t,n,a):i(t,n))||a);return 3<o&&a&&Object.defineProperty(t,n,a),a}function U(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function H(e,a,n,s){function c(t){return t instanceof n?t:new n(function(e){e(t)})}return new(n=n||Promise)(function(t,n){function r(e){try{o(s.next(e))}catch(e){n(e)}}function i(e){try{o(s.throw(e))}catch(e){n(e)}}function o(e){e.done?t(e.value):c(e.value).then(r,i)}o((s=s.apply(e,a||[])).next())})}function z(e,n){var r,i,o,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},t={next:s(0),throw:s(1),return:s(2)};return"function"==typeof Symbol&&(t[Symbol.iterator]=function(){return this}),t;function s(t){return function(e){return c([t,e])}}function c(t){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,i&&(o=2&t[0]?i.return:t[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,t[1])).done)return o;switch(i=0,o&&(t=[2&t[0],o.value]),t[0]){case 0:case 1:o=t;break;case 4:return a.label++,{value:t[1],done:!1};case 5:a.label++,i=t[1],t=[0];continue;case 7:t=a.ops.pop(),a.trys.pop();continue;default:if(!(o=0<(o=a.trys).length&&o[o.length-1])&&(6===t[0]||2===t[0])){a=0;continue}if(3===t[0]&&(!o||t[1]>o[0]&&t[1]<o[3])){a.label=t[1];break}if(6===t[0]&&a.label<o[1]){a.label=o[1],o=t;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(t);break}o[2]&&a.ops.pop(),a.trys.pop();continue}t=n.call(e,a)}catch(e){t=[6,e],i=0}finally{r=o=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}}function V(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function K(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||0<t--)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function W(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(K(arguments[t]));return e}function Y(e,t){var n,r,i=(t=t||{}).insertAt,o=t.className;e&&"undefined"!=typeof document&&(n=document.head||document.getElementsByTagName("head")[0],(r=document.createElement("style")).type="text/css",o&&r.setAttribute("class",o),"top"===i&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e)))}Y(".innerdocbody.adit-container {\n  line-height: 1.6;\n  outline: none;\n  position: relative;\n}\n.innerdocbody.adit-container::before {\n  content: attr(data-placeholder);\n  pointer-events: none;\n  position: absolute;\n  left: 0;\n  top: 0;\n  color: #bbbfc4;\n  height: 0;\n}\n.innerdocbody.adit-container .ace-line .not-display-enter {\n  position: absolute;\n  display: inline-block;\n  width: 0;\n  height: 0;\n}\n.doc-resize-placeholder {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  top: -120%;\n  left: 0;\n  user-select: none;\n  visibility: hidden;\n}\n",{className:"adit-style"});var q,Z,J,$,ee,te=O.a.createContext(null),ne=(j(re,q=c.Component),re.prototype.componentDidMount=function(){this.host&&this.host.addEventListener("scroll",this.handleScroll)},re.prototype.componentWillUnmount=function(){this.host&&this.host.removeEventListener("scroll",this.handleScroll)},re.prototype.onScroll=function(e){this.events.push(e)},re.prototype.render=function(){var e=this.props.maxHeight;return O.a.createElement(te.Provider,{value:{scrollView:this}},this.host?this.props.children:O.a.createElement("div",{style:{maxHeight:e,position:"relative",overflowY:"scroll"},className:this.props.className,onScroll:this.handleScroll,ref:this.handleScrollRef},this.props.children))},re.defaultProps={initRef:function(){return null}},re);function re(e){var n=q.call(this,e)||this;n.events=[],n.handleScrollRef=function(e){e&&n.props.initRef(e)},n.handleScroll=function(t){W(n.events).forEach(function(e){e(t)})};var t=n.props.scroller;return t&&(n.host=t),n}function ie(e,t){for(var n=ae(e),r=[],i=0,o=0,a=t.length;o<a;o++){var s=t[o],c=n.get(s.getKey()),u=se(i,c,o,s),i=u.oldIndex;u.op&&r.push(u),c&&n.delete(c.data.getKey())}return n.forEach(function(e){r.push({op:Z.DELETE,oldIndex:e.index,newIndex:e.index})}),r}function oe(e,a){var s=0;e.forEach(function(e,t){var n=e.op,r=e.oldIndex,i=e.newIndex,o=r+s;switch(n){case Z.DELETE:a(n,o,r,i,t),s--;break;case Z.INSERT:a(n,o,r,i,t),s++;break;case Z.UPDATE:a(n,o,r,i,t);break;case Z.MOVE:}})}function ae(e){for(var t=new Map,n=0,r=e.length;n<r;n++){var i=e[n];t.set(i.getKey(),{data:i,index:n})}return t}function se(e,t,n,r){return t?t.index<e?{op:Z.MOVE,oldIndex:e,newIndex:n}:t.data.compare(r)===$.EQUAL?{op:null,oldIndex:t.index+1}:{op:Z.UPDATE,oldIndex:t.index,newIndex:n}:{op:Z.INSERT,oldIndex:e,newIndex:n}}(J=Z=Z||{})[J.DELETE=-1]="DELETE",J[J.DONE=0]="DONE",J[J.INSERT=1]="INSERT",J[J.UPDATE=2]="UPDATE",J[J.MOVE=3]="MOVE",(ee=$=$||{})[ee.EQUAL=0]="EQUAL",ee[ee.UNEQUAL=1]="UNEQUAL",ee[ee.UPDATE=2]="UPDATE";var ce,ue,le="defualtAuthor",de={apool:{nextNum:1,numToAttrib:{0:["author",le]}},initialAttributedText:{attribs:"*0|1+1",text:"\n"},initialAttributedTexts:{rows:{},cols:{},attribs:{0:"*0|1+1"},text:{0:"\n"}}},pe="inInternationalComposition",fe="    ",he=2,ge={click:"onClick",keydown:"onKeyDown",keyup:"onKeyUp",keypress:"onKeyPress",compostionstart:"onCompositionStart",compositionend:"onCompositionEnd",input:"onInput",blur:"onBlur",focus:"onFocus",paste:"onPaste"},me={click:"_handleClickEvent",keydown:"_handleKeyEvent",keypress:"_handleKeyEvent",keyup:"_handleKeyEvent",input:"_handleInputEvent",beforeinput:"_handleBeforeInput",compositionstart:"_handleCompositionEvent",compositionend:"_handleCompositionEvent",copy:"_handleCopy",cut:"_handleCut",paste:"_handlePaste",drop:"_handleDrag",dragenter:"_handleDrag",dragover:"_handleDrag",dragleave:"_handleDrag",focus:"_handleFocusEvent",blur:"_handleBlurEvent"},ve=function(){},ye=["destory","destroy","reset","clear","getApool","callStackLogs"],be="0",Ee={COPY_WITHOUT_PERMISSION:"COPY_WITHOUT_PERMISSION"},_e="clientside",Ae=_e+"-",Ce="list",Te="ol-id",Oe="readyToPerformChangeset",ke="dirtyDomWithoutChangeset",Se="block-placeholder",we={altF9:!0,altC:!0,cmdShift2:!0,delete:!0,return:!0,esc:!0,cmdS:!0,tab:!0,cmdZ:!0,cmdY:!0,cmdI:!0,cmdB:!0,cmdU:!0,cmdK:!0,cmdShiftX:!0,cmdAlt1:!0,cmdAlt2:!0,cmdAlt3:!0,cmdAltS:!0,cmdShiftU:!0,cmdShift8:!0,cmdShift7:!0,cmdShiftC:!0,cmdOptionM:!0,cmdOptionT:!0,cmdShiftRefer:!0,cmdShiftR:!0,cmdShiftL:!0,cmdShiftE:!0,cmdH:!0,ctrlHome:!0,pageUp:!0,pageDown:!0};(ue=ce=ce||{})[ue.BackSpace=8]="BackSpace",ue[ue.Tab=9]="Tab",ue[ue.Clear=12]="Clear",ue[ue.Enter=13]="Enter",ue[ue.Shift=16]="Shift",ue[ue.Ctrl=17]="Ctrl",ue[ue.Alt=18]="Alt",ue[ue.CapsLock=20]="CapsLock",ue[ue.Esc=27]="Esc",ue[ue.Space=32]="Space",ue[ue.PageUp=33]="PageUp",ue[ue.PageDown=34]="PageDown",ue[ue.End=35]="End",ue[ue.Home=36]="Home",ue[ue.Left=37]="Left",ue[ue.Up=38]="Up",ue[ue.Right=39]="Right",ue[ue.Down=40]="Down",ue[ue.Insert=45]="Insert",ue[ue.Delete=46]="Delete",ue[ue.Digit0=48]="Digit0",ue[ue.Digit9=57]="Digit9",ue[ue.A=65]="A",ue[ue.B=66]="B",ue[ue.C=67]="C",ue[ue.D=68]="D",ue[ue.E=69]="E",ue[ue.F=70]="F",ue[ue.G=71]="G",ue[ue.H=72]="H",ue[ue.I=73]="I",ue[ue.J=74]="J",ue[ue.K=75]="K",ue[ue.L=76]="L",ue[ue.M=77]="M",ue[ue.N=78]="N",ue[ue.O=79]="O",ue[ue.P=80]="P",ue[ue.Q=81]="Q",ue[ue.R=82]="R",ue[ue.S=83]="S",ue[ue.T=84]="T",ue[ue.U=85]="U",ue[ue.V=86]="V",ue[ue.W=87]="W",ue[ue.X=88]="X",ue[ue.Y=89]="Y",ue[ue.Z=90]="Z",ue[ue.Meta=91]="Meta",ue[ue.RightMeta=92]="RightMeta",ue[ue.BracketRightKeyDown=93]="BracketRightKeyDown",ue[ue.Caret=94]="Caret",ue[ue.Numpad0=96]="Numpad0",ue[ue.Numpad9=105]="Numpad9",ue[ue.NumpadDot=110]="NumpadDot",ue[ue.F11=122]="F11",ue[ue.Semicolon=186]="Semicolon",ue[ue.Plus=187]="Plus",ue[ue.Minus=189]="Minus",ue[ue.Dot=190]="Dot",ue[ue.Grave=192]="Grave",ue[ue.Bracket=219]="Bracket",ue[ue.Quot=222]="Quot",ue[ue.Asterisk=106]="Asterisk",ue[ue.Slash=111]="Slash",ue[ue["/"]=191]="/",ue[ue["\\"]=220]="\\",ue[ue.Ime=229]="Ime";var Ie=8203,xe="ace-line";function Le(e){return e.firstChild&&Re(e.firstChild)?e.childNodes[1]:e.firstChild}function Re(e){return!!(e instanceof HTMLElement&&e.classList.contains("ace-line-pocket"))}function Ne(e){return e&&e.getAttribute&&"string"==typeof e.getAttribute("data-faketext")}function De(e){return 3===e.nodeType}function Me(e){var t;return!(null===(t=e.dataset)||void 0===t||!t.enter)}function Pe(e){return"string"==typeof e}function je(e){if(e&&e.getAttribute){var t=e.getAttribute("data-faketext"),n=e.textContent||e.innerText;if(!n&&""!==n)return null;var r=n.length,i=e.getAttribute("data-contentcollector-ignore-space-at"),o=e.className&&e.className.includes("inlineStyleHolder");return"end"===i&&o&&n.charCodeAt(0)!==Ie?n:"start"===i&&r?n[r-1].charCodeAt()===Ie?n.substr(0,n.length-1):n&&n.substr(1):"end"===i&&r?n[0].charCodeAt()===Ie?n.substr(1):n&&n.substr(0,n.length-1):t}return null}function Fe(e,t){if(!e)return null;if(!t)return e.offsetTop;for(var n=e,r=0;n!==t&&null!==n&&t.contains(n);){r+=n.offsetTop;var i=n.offsetParent;if(!(i instanceof HTMLElement||null===i))return console.error(i,"is not HTMLElement"),null;n=i}return r}function Be(e){var t=e.getInnerContainer();if(t){for(var n=getComputedStyle(t),r=parseFloat(n.paddingLeft),i=parseFloat(n.paddingRight),o=t.offsetWidth-r-i,a=t.lastChild||null;a&&!a.offsetHeight&&!a.offsetTop;)a=a.previousSibling;var s,c,u=a?a.offsetHeight+a.offsetTop:0,l=t.getAttribute("data-last-height"),d=t.getAttribute("data-last-width"),p=Number(l||0),f=Number(d||0);t["data-last-height"]!==u&&(t.setAttribute("data-last-height",String(u)),t["data-last-height"]=u),t["data-last-width"]!==o&&(t.setAttribute("data-last-width",String(o)),t["data-last-width"]=o),!p&&!f||p===u&&f===o||(s={prev:{height:p,width:f},next:{height:u,width:o}},e.callAll("editorSizeChange",s),(c=e.eventEmitter)&&"function"==typeof c.trigger&&c.trigger("editorSizeChange",[s]))}}function Ue(e){if(window.requestIdleCallback)return window.requestIdleCallback(e);var t=Date.now();return setTimeout(function(){e({didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(Date.now()-t))}})})}function He(e){var t=[];return e.sort(function(e,t){return e-t}).forEach(function(e){t.length&&t[t.length-1][1]+1===e?t[t.length-1][1]=e:t.push([e,e])}),t}function ze(e,t){var n=K(e,2),r=n[0],i=n[1],o=K(t,2),a=o[0],s=o[1];return!(i<a||s<r)}var Ve="adit-render-inactive";function Ke(e){Array.from(e.childNodes).forEach(function(e){e instanceof HTMLElement&&e.classList.add(Ve)})}function Ge(e){Array.from(e.childNodes).forEach(function(e){e instanceof HTMLElement&&e.classList.remove(Ve)})}var We=Object(i.default)(Be,50);function Ye(e,t){var n,r,i;void 0===e&&(e={});try{for(var o=V(Object.keys(e)),a=o.next();!a.done;a=o.next()){var s=a.value,c=null===(i=t.get(s))||void 0===i?void 0:i.displayEnter;if("boolean"==typeof c)return c;if("function"==typeof c)return c(e[s])}}catch(e){n={error:e}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return!0}function qe(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}Y(".innerdocbody {\n  line-height: 1.68;\n  outline: none;\n  box-sizing: border-box;\n  width: 100%;\n  overflow: visible;\n}\n\n/*  Chrome 88  */\n.adit-container.chrome88 span[data-enter] {\n  display: inline-block;\n  min-width: 1px;\n  text-indent: 0;\n}\n",{className:"adit-style"});var Ze=Object(c.createContext)(null),Xe=function(){var e=Object(c.useContext)(Ze);if(!e)throw new Error("the `use Editor` hook must be used inside the <Slab> Component's context.");return e},Qe=function(n){return function(t){return O.a.createElement(Ze.Consumer,null,function(e){return O.a.createElement(n,F({},t,{editor:e}))})}},Je="data-zero-space",$e="",et="data-leaf",tt="data-node",nt="data-string",rt="data-enter",it="data-faketext",ot="editor-kit",at="data-ssr",st="data-fake-text",ct="data-zone-id",ut="data-zone-container",lt=$e,dt="wrapper";function pt(e){try{return JSON.parse(e)}catch(e){console.error("Warning: JSON parse failed. "+e.message)}}var ft,ht,gt,mt,vt="adit-virtual-scroll-placeholder";function yt(e,t){var n=document.createElement("div"),r=K(e,2),i=r[0],o=r[1];return n.appendChild(document.createElement("br")),n.id="placeholder-id-"+i+"-"+o,n.className=vt+" data-ignore-mutation dom-pass-empty-check",n.setAttribute(tt,"true"),{placeholder:n,range:e,status:Z.INSERT,style:t}}function bt(e,a){var t=He(e),s=t.length,c=0;return t.reduce(function(e,t,n){var r=K(t,2),i=r[0],o=r[1];return 0===n&&(c=o+1),0===n&&0!==i&&e.push([0,i-1]),0!==n&&(e.push([c,i-1]),c=o+1),n===s-1&&o!==a-1&&e.push([c,a-1]),e},[])}(ht=ft=ft||{}).DELETE="delete",ht.RETAIN="retain",ht.INSERT="insert",(mt=gt=gt||{}).Content="Z",mt.Row="R",mt.Column="C";var Et="\n",_t="*",At={ROWS_ZONE_ID:"rs",COLS_ZONE_ID:"cs",ROW_ID:"r1",COL_ID:"c1",CELL_ID:"x"},Ct={content:gt.Content,rs:gt.Row,cs:gt.Column},Tt="0",Ot="zoneType",kt=(St.prototype.hasNext=function(){return this.peekLength()<1/0},St.prototype.next=function(e){e=e||1/0;var t=this.ops[this.index];if(t){var n=this.offset,r=It(t);if(r-n<=e?(e=r-n,this.index+=1,this.offset=0):this.offset+=e,xt(t))return{delete:e};var i={};return t.attributes&&(i.attributes=t.attributes),Lt(t)?i.retain=e:Nt(t)?i.insert=t.insert.substr(n,e):i.insert=t.insert,i}return{retain:1/0}},St.prototype.peek=function(){return this.ops[this.index]},St.prototype.peekLength=function(){return this.ops[this.index]?It(this.ops[this.index])-this.offset:1/0},St.prototype.peekType=function(){return this.ops[this.index]?jt(this.ops[this.index]):ft.RETAIN},St.prototype.rest=function(){if(this.hasNext()){if(0===this.offset)return this.ops.slice(this.index);var e=this.offset,t=this.index,n=this.next(),r=this.ops.slice(this.index);return this.offset=e,this.index=t,[n].concat(r)}return[]},St);function St(e){this.ops=e,this.index=0,this.offset=0}function wt(e){return new kt(e)}function It(e){if(xt(e))return e.delete;if(Lt(e))return e.retain;if(Nt(e))return e.insert.length;if(Mt(e))return 1;throw new Error("op is unknown")}function xt(e){return"number"==typeof e.delete}function Lt(e){return"number"==typeof e.retain}function Rt(e){return Nt(e)||Mt(e)}function Nt(e){return"string"==typeof e.insert}function Dt(e){return Boolean(e.insert===_t&&e.attributes&&e.attributes.lmkr)}function Mt(e){return"object"==typeof e.insert}function Pt(e){return"object"==typeof e.insert&&e.insert.id}function jt(e){if(xt(e))return ft.DELETE;if(Lt(e))return ft.RETAIN;if(Rt(e))return ft.INSERT;throw new Error("op is unknown")}function Ft(){return!0}function Bt(){return!1}function Ut(e){return"function"==typeof e&&"number"!==e.nodeType}var Ht={altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&/^key/.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==t&&/^(?:mouse|pointer|contextmenu|drag|drop)|click/.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},zt=(Vt.prototype.preventDefault=function(){var e=this.originalEvent;this.isDefaultPrevented=Ft,e&&!this.isSimulated&&e.preventDefault()},Vt.prototype.stopPropagation=function(){var e=this.originalEvent;this.isPropagationStopped=Ft,e&&!this.isSimulated&&e.stopPropagation()},Vt.prototype.stopImmediatePropagation=function(){var e=this.originalEvent;this.isImmediatePropagationStopped=Ft,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()},Vt);function Vt(e){var n=this;this.isSimulated=!1,this.namespace="something",this.isDefaultPrevented=Bt,this.isPropagationStopped=Bt,this.isImmediatePropagationStopped=Bt,this.timeStamp=e&&e.timeStamp||Date.now(),this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?Ft:Bt,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.data=void 0,Object.keys(Ht).forEach(function(t){var e=Ht[t];Object.defineProperty(n,t,{enumerable:!0,configurable:!0,get:Ut(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})})}var Kt,Gt,Wt="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";function Yt(e){var t,n,r=[];try{for(var i=V(Object.entries(e)),o=i.next();!o.done;o=i.next()){var a=K(o.value,2),s=a[0],c=a[1];r.push([s,c])}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}function qt(){var e=[];return e.toMap=function(){return Qt(this)},e}function Zt(e){void 0===e&&(e=20);for(var t="",n=0;n<e;n++){var r=Math.floor(Math.random()*Wt.length);t+=Wt[r]}return t}function Xt(e){return e.ops[e.ops.length-1]}function Qt(e){var t,n,r={};try{for(var i=V(e),o=i.next();!o.done;o=i.next()){var a=o.value;r[a[0]]=a[1]}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}function Jt(e,t,n){var r=e.offsetToLocation(t),i=r.line,o=r.offset,a=e.offsetToLocation(n),s=a.line,c=a.offset,u="";if(i===s)return e.getLine(i).getModelText().slice(o,c);for(var l=i;l<=s;l++){var d=e.getLine(l).getModelText();u+=l===i?d.slice(o):l===s?d.slice(0,c):d}return u}function $t(e,t,n){var r=e.offsetToLocation(t),i=e.offsetToLocation(n);return e.getEntities({start:r,end:i})}(Gt=Kt=Kt||{})[Gt.BLOCK=0]="BLOCK",Gt[Gt.LMKR=1]="LMKR",Gt[Gt.TEXT=2]="TEXT";var en=function(e,t){return rn(e.attributes,t)?Kt.BLOCK:Dt(e)?Kt.LMKR:Kt.TEXT},tn=[[Ft,Ft,function(e,t){return!t.startsWith("\n")}],[Bt,Ft,Bt],[function(e){return!e.endsWith("\n")},function(e){return!e.endsWith("\n")},Bt]];function nn(e,t,n,r,i){var o=e.ops[n],a=e.ops[t];if(a){var s=jt(a);if(s===ft.INSERT)return(0,tn[en(a,i)][en(o,i)])(a.insert,o.insert);if(s!==ft.RETAIN)return nn(e,t-1,n,r,i);var c=e.ops.slice(0,t+1).filter(function(e){return jt(e)!==ft.INSERT}).reduce(function(e,t){return e+It(t)},0),u=K($t(r,c-1,c),1)[0],l=Jt(r,c-1,c),d=en({insert:l,attributes:u.attributes},i);return(0,tn[d][en(o,i)])(l,o.insert)}return!1}function rn(r,i){return void 0===r&&(r={}),Object.keys(r).some(function(e){var t,n=null===(t=i.get(e))||void 0===t?void 0:t.display;return"string"==typeof n?"block"===n:"function"==typeof n&&"block"===n(r[e])})}function on(e,t,n,r,i){var o=e.ops[t],a=e.ops[n];if(a){var s=jt(a);if(s===ft.INSERT)return(0,tn[en(o,i)][en(a,i)])(o.insert,a.insert);if(s!==ft.RETAIN)return s===ft.DELETE?on(e,t,n+1,r,i):void 0;var c=e.ops.slice(0,n).filter(function(e){return jt(e)!==ft.INSERT}).reduce(function(e,t){return e+It(t)},0),u=K($t(r,c,c+1),1)[0],l=Jt(r,c,c+1),d=en({insert:l,attributes:u.attributes},i);return(0,tn[en(o,i)][d])(o.insert,l)}if(!r)return!1;var p=e.ops.slice().filter(function(e){return jt(e)!==ft.INSERT}).reduce(function(e,t){return e+It(t)},0),f=K($t(r,p,p+1),1)[0],l=Jt(r,p,p+1),d=en({insert:l,attributes:f.attributes},i);return(0,tn[en(o,i)][d])(o.insert,l)}function an(e,t,n,r,i){var o=e.ops[n];if(!o.attributes||!rn(o.attributes,i))return!1;var a=Xt(t);if(!a)return!1;if(jt(a)===ft.INSERT)return!a.insert.endsWith("\n");for(var s=e.ops.slice(0,n).filter(function(e){return jt(e)!==ft.INSERT});s[s.length-1]&&jt(s[s.length-1])===ft.DELETE;)s.pop();if(0===s.length)return!1;var c=s.reduce(function(e,t){return e+It(t)},0);return"\n"!==Jt(r,c-1,c)&&!K($t(r,c-1,c),1)[0].attributes.lmkr}function sn(e,t,n,r,i){var o=e.ops[t],a=e.ops[n];if(!o.attributes||!rn(o.attributes,i))return!1;if(!a)return"\n"!==Jt(r,c=e.ops.filter(function(e){return jt(e)!==ft.INSERT}).reduce(function(e,t){return e+It(t)},0),c+1);var s=jt(a);if(s!==ft.INSERT)return s!==ft.RETAIN?sn(e,t,n+1,r,i):"\n"!==Jt(r,c=e.ops.slice(0,n).filter(function(e){return jt(e)!==ft.INSERT}).reduce(function(e,t){return e+It(t)},0),c+1);var c,u=a.insert.startsWith("\n"),l=e.ops.slice(0,t+1).filter(function(e){return jt(e)!==ft.INSERT}).reduce(function(e,t){return e+It(t)},0),d=Jt(r,l-1,l).endsWith("\n");return!u&&!d}function cn(n,c,e){return e.reduce(function(e,o){if(!(o instanceof cr))return e.concat(o);var a=n.getZoneState(o.zoneId);if(!a&&o.ops.some(function(e){return!e.insert}))throw new Error("attempt to apply new ZoneDelta which is invalid");var s=!1,t=o.reduce(function(e,t,n){var r=jt(t);if(r===ft.DELETE)return e.push(t);if(r===ft.RETAIN)return s=!1,an(o,e,n,a,c)&&e.insertEnter(),e.push(t),sn(o,n,n+1,a,c)&&e.insertEnter(),e;!s&&nn(o,n-1,n,a,c)&&e.insertEnter(),e.push(t);var i=on(o,n,n+1,a,c);return i&&e.insertEnter(),s=i,e},o.create({zoneId:o.zoneId}));return e.concat(t)},new lr)}function un(n,r,i,o){var a=function(e,t){if(t instanceof RegExp){if(e.match(t))return!0}else if(t(e,n[e],i))return!0;return!1},e=Object.keys(n).reduce(function(e,t){return t===r||a(t,o)?e[t]=n[t]:e[t]="",e},{});return n.lmkr&&(e.lmkr=n.lmkr),e}function ln(t,n){var r=F({},t);return Object.keys(t).forEach(function(e){t[e]&&!n[e]&&delete r[e]}),r}function dn(e,t,n){for(var r,i,o=[],a=e.offsetToLocation(t).line,s=e.getLine(a)._offsetStart,c=a;c<e.length();c++){var u=e.getLine(c).getOps();try{for(var l=(r=void 0,V(u)),d=l.next();!d.done;d=l.next()){var p,f,h=d.value,g=It(h),m=s+g;if(n<=s)return o;s<=n&&t<m&&(p=Math.max(t-s,0),f=Math.min(g,n-s),o.push({insert:h.insert.slice(p,f),attributes:h.attributes})),s+=g}}catch(e){r={error:e}}finally{try{d&&!d.done&&(i=l.return)&&i.call(l)}finally{if(r)throw r.error}}}return o}function pn(r,t){if(t)return Object.keys(t).filter(function(e){return t[e]}).find(function(e){var t,n;return(null===(t=r.get(e))||void 0===t?void 0:t.attributes)||(null===(n=r.get(e))||void 0===n?void 0:n.lineAttributes)})}function fn(e,t,n){if(t>=e.ops.length)throw new Error("getOpOffsetInDocumentWithCache index overstep");for(var r=t,i=0;0<=r;){if(n.has(r)){i+=n.get(r);break}var o=e.ops[r];jt(o)!==ft.INSERT&&(i+=It(o)),r--}return i}function hn(n,x,e){return e.reduce(function(e,S){if(!(S instanceof cr))return e.concat(S);var w=n.getZoneState(S.zoneId);if(!w&&S.ops.some(function(e){return!e.insert}))throw new Error("attempt to apply new ZoneDelta which is invalid");var I=new Map,t=S.reduce(function(b,E,_){var e,t,n=jt(E);if(n===ft.DELETE||!E.attributes)return b.push(E);var C,T,r=fn(S,_-1,I);if(I.set(_-1,r),n===ft.RETAIN&&(C=r+It(E),(T=dn(w,r,C)).forEach(function(e,t){var n,r,i,o=F(F({},e.attributes),E.attributes),a=pn(x,o);if(a&&e.attributes&&null!==(n=x.get(a))&&void 0!==n&&n.attributes&&(i=x.get(a).attributes,o=un(o,a,e.attributes[a],i)),null!==o&&void 0!==o&&o.lmkr){yn(E);var s=void 0;if(t<T.length-1)s=T[t+1].attributes;else{for(var c=!1,u=_+1;u<S.ops.length;){var l=S.ops[u];if(jt(l)!==ft.DELETE){var d,p,c=!0;s=jt(l)===ft.INSERT?l.attributes:(d=fn(S,_,I),I.set(_,d),p=K($t(w,d,d+1),1)[0],F(F({},p.attributes),l.attributes));break}u++}c||(s=K($t(w,C,C+1),1)[0].attributes)}var f=pn(x,s);return f?((h=x.get(f).lineAttributes)&&(o=un(o,f,s[f],h)),b.retain(e.insert.length,ln(E.attributes,o))):b.retain(e.insert.length,ln(E.attributes,o))}if(a){var h=x.get(a).lineAttributes;if(0<=t)return b.retain(e.insert.length,ln(E.attributes,o));for(var g=b.ops.length-1,m=void 0;0<=g;){var v=jt(b.ops[g]);if(v!==ft.DELETE){m=v;break}g++}if(g<0)return b.retain(e.insert.length,ln(E.attributes,o));var y=b.ops[g];return m===ft.INSERT&&null!==(r=y.attributes)&&void 0!==r&&r.lmkr?h&&(b.ops[g]={insert:y.insert,attributes:un(y.attributes,a,e.attributes[a],h)}):m===ft.RETAIN&&y.attributes,b.retain(e.insert.length,ln(E.attributes,o))}return b.retain(e.insert.length,ln(E.attributes,o))})),n!==ft.INSERT)return b;var i=E.attributes,o=pn(x,i);if(o&&null!==(t=x.get(o))&&void 0!==t&&t.attributes&&(i=un(i,o,i[o],x.get(o).attributes)),E.attributes.lmkr){yn(E);for(var a,s,c,u=void 0,l=!1,d=_+1;d<S.ops.length;){var p=S.ops[d];if(jt(p)!==ft.DELETE){l=!0,u=p.attributes;break}d++}l?((s=jt(a=S.ops[d]))===ft.INSERT&&a.attributes&&(u=a.attributes),s===ft.RETAIN&&!a.attributes&&w&&(u=(g=K($t(w,r,r+1),1)[0]).attributes)):w&&(u=(g=K($t(w,r,r+1),1)[0]).attributes),!u||(c=pn(x,u))&&(y=x.get(c).lineAttributes)&&(i=un(i,c,u[c],y))}else if(o){for(var f,h,g,m,v,y=x.get(o).lineAttributes,O=b.ops.slice(),k=O.length-1;0<=k;){if(jt(f=O[k])===ft.RETAIN)break;k--}0<=k&&!O[k].attributes&&y&&w&&(f=O[k],h=O.slice(0,k+1).filter(function(e){return jt(e)!==ft.INSERT}).reduce(function(e,t){return e+It(t)},0),(g=K($t(w,h-1,h),1)[0]).attributes.lmkr&&(m=un(g.attributes,o,E.attributes[o],y),v=1<f.retain?[{retain:f.retain-1},{retain:1,attributes:m}]:[{retain:1,attributes:m}],(e=b.ops).splice.apply(e,W([k,1],v))))}return b.insert(E.insert,i)},new cr({zoneId:S.zoneId}));return e.concat(t)},new lr)}function gn(e,t,n){return hn(e,t,cn(e,t,n))}function mn(e){return!e.some(function(e){return e._getOps().map(function(e){return"string"==typeof e.insert?e.insert:" "}).join("")!==e.getModelText()})}var vn=["bold","underline","italic","strikethrough","backcolor","textcolor","inline-code","horizontal-line","dataMetaBlockProps","aceTable","gallery"];function yn(n){var e,t,r,i,o,a=vn.filter(function(e){var t;return null===(t=n.attributes)||void 0===t?void 0:t[e]});0<a.length&&(i=window.editor,o={illegalAttributes:a,currentStackType:null===(e=null===i||void 0===i?void 0:i.getCurrentCallStack())||void 0===e?void 0:e.type,callStackLogsType:null===(r=null===(t=null===i||void 0===i?void 0:i.callStack)||void 0===t?void 0:t.callStackLogs)||void 0===r?void 0:r.map(function(e){return e.type}),isEditable:null===i||void 0===i?void 0:i.isEditable()},console.error("lmkr with illegal attribute"),Ue(function(){Object(X.trace)("lmkr with illegal attribute",{extras:o})}))}var bn,En=(j(_n,bn=M.AttributePool),_n.prototype.setAttributes=function(e){var t=this,n=[];e instanceof lr?e.forEach(function(e){e.forEach(function(e){e.attributes&&t.setAttributes(e.attributes)})}):e instanceof Array||(n=Yt(e)),n.forEach(function(e){return t.putAttrib(e)})},_n);function _n(){return null!==bn&&bn.apply(this,arguments)||this}function An(e,t,n){void 0===n&&(n=!0);for(var r=Object.keys(e),i=Rn(t),o=new lr({}),a=0;a<r.length;a++)var s=r[a],c=Object(M.unpack)(e[s])[s],u=Ln(s,c.ops,c.charBank,i,n),o=o.compose(u);return o}function Cn(e,t,n){return void 0===n&&(n=!0),An(Object(M.formatCs)(e),t,n)}function Tn(e,t){for(var n=e.attribs,r=e.cols,i=e.rows,o=e.text,a=Rn(t),s=new lr({}),c=Object.keys(n),u=0;u<c.length;u++){var l=c[u],d=xn(l,n[l],r[l]||i[l]||o[l],a);s.add(l,d)}return s}function On(e,t){e.forEach(function(e){e.attributes&&Object.entries(e.attributes).forEach(function(e){t.putAttrib(e)})})}var kn=(Sn.prototype.getChangeset=function(){if(this.pointer=0,this.deltaOps){var e=this.deltaOps.length;if(this.builder){for(var t=0;t<e;t++){var n=this.deltaOps[t],r=jt(n);if(!r)return;this.opTransform(r,n[r],n.attributes)}return this.builder.toString()}}},Sn.prototype.createBuilder=function(){var e=this.repText.length;return Object(M.builder)(e,this.zoneType,this.zoneId)},Sn.prototype.opTransform=function(e,t,n){switch(e){case ft.INSERT:this.insert(t,n);break;case ft.RETAIN:this.retain(t,n);break;case ft.DELETE:this.delete(t)}},Sn.prototype.insert=function(e,t){void 0===t&&(t={});var n=Object.entries(t);this.builder.insert(e,n,this.apool)},Sn.prototype.retain=function(e,t){void 0===t&&(t={});var n=Object.entries(t),r=this.repText.slice(this.pointer,this.pointer+e);if(r.length!==e)throw new Error("The content of the operation does not exist");var i,o=r.match(/\n/g),a=o&&o.length,s=r.lastIndexOf("\n");-1<s&&s!==r.length-1?(i=e-s-1,this.builder.keep(e-i,a,n,this.apool),this.builder.keep(i,0,n,this.apool)):this.builder.keep(e,a,n,this.apool),this.pointer+=e},Sn.prototype.delete=function(e){var t=this.repText.slice(this.pointer,this.pointer+e);if(t.length!==e)throw new Error("The deleted content does not exist");var n,r=t.match(/\n/g),i=r&&r.length,o=t.lastIndexOf("\n");-1<o&&o!==t.length-1?(n=e-o-1,this.builder.remove(e-n,i||0),this.builder.remove(n,0)):this.builder.remove(e,i||0),this.pointer+=e},Sn);function Sn(e,t,n,r){void 0===n&&(n="\n"),this.zoneId=e,this.repText=n,this.apool=r,this.pointer=0,this.builder=this.createBuilder(),this.zoneType=t.zoneType||gt.Content,this.zoneId=t.zoneId||Tt,this.deltaOps=t.ops,On(this.deltaOps,r)}var wn=(In.prototype.getChangeset=function(){for(var e=this.delta.ops.length,t=0;t<e;t++){var n=this.delta.ops[t],r=jt(n);if(!r)return;var i=n[r].id||n[r];this.opTransform(r,i,n.attributes)}return this.toChangeset()},In.prototype.opTransform=function(e,t,n){switch(e){case ft.INSERT:this.insert(t,n);break;case ft.RETAIN:this.retain(t,n);break;case ft.DELETE:this.delete(t)}},In.prototype.insert=function(e,t){void 0===t&&(t={});var n=Object.entries(t),r=Object(M.makeAttribsString)("=",n,this.apool);this.charBank.push(e),this.pointer+=1,this.append(r)},In.prototype.append=function(e){this.assembler.append({opcode:"+",attribs:e,lines:0,chars:1})},In.prototype.delete=function(e){this.assembler.append({opcode:"-",attribs:"",lines:0,chars:e}),this.pointer-=e},In.prototype.retain=function(e,t){void 0===t&&(t={});var n=Object.entries(t),r=Object(M.makeAttribsString)("=",n,this.apool);this.assembler.append({opcode:"=",attribs:r,lines:0,chars:e})},In.prototype.toChangeset=function(){return this.zoneObj[this.zoneId]={itemType:this.isForRow?gt.Row:gt.Column,oldLen:this.oldLen,newLen:this.pointer,ops:this.assembler.toString(),charBank:this.charBank},Object(M._pack)(this.zoneObj)},In);function In(e,t,n,r){this.zoneId=e,this.delta=t,this.apool=n,this.vectorIds=r,this.charBank=[],this.isForRow=Kn(e),this.zoneObj={},this.oldLen=this.vectorIds.length,this.assembler=Object(M.smartOpAssembler)(),this.pointer=this.oldLen,On(t.ops,n)}function xn(e,t,s,c){for(var n=Kn(e)||Gn(e),r=n?Ct[e.substr(0,2)]:Ct.content,u=[],l=null,d=Object(M.opIterator)(t),p=0,i=function(){var e,t,n=d.next(),r={},i=n.attribs,o=n.chars,a=n.opcode;i&&Object(M.eachAttribNumber)(i,function(e){r[c.getAttribKey(e)]=c.getAttribValue(e)}),"+"===a&&(Array.isArray(s)?s.slice(p,p+o).forEach(function(e){var t={insert:{id:e}};Object.keys(r).length&&(t.attributes=r),u.push(t),p+=1}):(t={insert:e=s.substr(p,o)},Object.keys(r).length&&(t.attributes=r),l&&t.attributes&&Yn(t.attributes,l.attributes)?l.insert+=t.insert:(u.push(t),l=t),p+=e.length))};d.hasNext();)i();return n?new $n({zoneId:e,zoneType:r,ops:u}):new cr({zoneId:e,ops:u})}function Ln(e,t,a,s,c){void 0===c&&(c=!0);for(var n=Kn(e)||Gn(e),r=n?Ct[e.substr(0,2)]:Ct.content,u=n?new $n({zoneId:e,zoneType:r}):new cr({zoneId:e}),l=Object(M.opIterator)(t),d=0,i=function(){var e,t=l.next(),n={},r=t.attribs,i=t.chars,o=t.opcode;r&&Object(M.eachAttribNumber)(r,function(e){n[s.getAttribKey(e)]=s.getAttribValue(e)}),"="===o&&u.retain(i,n),"-"===o&&u.delete(i),"+"===o&&(Array.isArray(a)?a.slice(d,d+i).forEach(function(e){u.insert(e,n),d+=1}):(e=a.substr(d,i),u.insert(e,n,c),d+=e.length))};l.hasNext();)i();return u}function Rn(e){return e instanceof En?e:(new En).fromJsonable(e)}var Nn=(Dn.prototype.parseDeltaSet=function(){for(var e=Object.keys(this.deltaSet.deltas),t=Object.values(this.deltaSet.deltas),n=0;n<e.length;n++){var r,i,o=e[n],a=t[n][Ot],s=t[n],c=void 0;c=a===gt.Content?(r=this.texts&&this.texts[o],new kn(o,s,r,this.apool)):(i=this.vectorReps?this.vectorReps[o]:[],new wn(o,s,this.apool,i)),this.zoneCs.push(c.getChangeset())}},Dn.prototype.toChangeset=function(){var n=this;return this.deltaSet?(this.parseDeltaSet(),this.zoneCs.reduce(function(e,t){return Object(M.compose)(e,t,n.apool)})):""},Dn);function Dn(e){this.props=e,this.zoneCs=[];var t=this.props,n=t.deltaSet,r=t.apool,i=t.texts,o=t.vectorReps;this.deltaSet=n,this.apool=Rn(r),this.texts=i,this.vectorReps=o}function Mn(e){return new Nn(e).toChangeset()}function Pn(e){for(var t,n,r,i,o,a,s,c,u={},l=0,d=new Set,p=Object.keys(e.deltas),f=Object.values(e.deltas),h=0;h<p.length;h++){var g=f[h];try{for(var m=(t=void 0,V(g.ops)),v=m.next();!v.done;v=m.next()){var y=v.value;if(y.attributes)try{for(var b=(r=void 0,V(Object.entries(y.attributes))),E=b.next();!E.done;E=b.next()){var _=K(E.value,2),C=_[0],T=_[1],O=C+","+T;d.has(O)||(d.add(O),u[l++]=[C,T])}}catch(e){r={error:e}}finally{try{E&&!E.done&&(i=b.return)&&i.call(b)}finally{if(r)throw r.error}}}}catch(e){t={error:e}}finally{try{v&&!v.done&&(n=m.return)&&n.call(m)}finally{if(t)throw t.error}}}var k={numToAttrib:u,nextNum:l},S=Mn({deltaSet:e,apool:k}),w=Object(M.unpack)(S),I={cols:{},rows:{},text:{},attribs:{}};try{for(var x=V(Object.entries(w)),L=x.next();!L.done;L=x.next()){var R=K(L.value,2),N=R[0],D=R[1];switch(D.itemType){case"Z":I.text[N]=D.charBank;break;case"C":I.cols[N]=D.charBank;break;case"R":I.rows[N]=D.charBank}I.attribs[N]=D.ops}}catch(e){o={error:e}}finally{try{L&&!L.done&&(a=x.return)&&a.call(x)}finally{if(o)throw o.error}}return{initialAttributedTexts:I,initialAttributedText:{attribs:null!=(s=I.attribs[Tt])?s:{},text:null!=(c=I.text[Tt])?c:{}},apool:k}}function jn(e,t,n){void 0===e&&(e={}),void 0===t&&(t={}),"object"!=typeof e&&(e={}),"object"!=typeof t&&(t={});var r,i=F({},t);for(r in n||(i=Object.keys(i).reduce(function(e,t){return null!==i[t]&&""!==i[t]&&(e[t]=i[t]),e},{})),e)void 0!==e[r]&&void 0===t[r]&&(i[r]=e[r]);return 0<Object.keys(i).length?i:void 0}function Fn(n,r){return void 0===r&&(r=!0),Object.keys(n).reduce(function(e,t){return(!1!==r||n[t])&&(e[t]="string"==typeof n[t]?n[t]:String(n[t])),e},{})}function Bn(n,r,e){if(void 0===n&&(n={}),void 0===r&&(r={}),void 0===e&&(e=!1),"object"!=typeof n)return r;if("object"==typeof r){if(!e)return r;var t=Object.keys(r).reduce(function(e,t){return void 0===n[t]&&(e[t]=r[t]),e},{});return 0<Object.keys(t).length?t:void 0}}function Un(e){return Mn(e)}function Hn(e,t){return Cn(e,t)}function zn(e,t){return An(e,t)}function Vn(e){return e.insert===_t&&e.attributes&&e.attributes.lmkr}function Kn(e){return 0===e.indexOf(At.ROWS_ZONE_ID)&&34===e.length}function Gn(e){return 0===e.indexOf(At.COLS_ZONE_ID)&&34===e.length}function Wn(e){var t=F({},e);return e.attributes&&(t.attributes=F({},e.attributes)),t}function Yn(t,n){if(t&&n){var e=Object.keys(t),r=Object.keys(n);return e.length!==r.length?!1:e.every(function(e){return t[e]===n[e]})}return t===n}function qn(e){return!e||0===e.ops.length}function Zn(e){if(!e)return!0;var t=e.deltas,n=Object.keys(t);return 0===n.length||!n.some(function(e){return!qn(t[e])})}var Xn=(Qn.prototype.insert=function(e,t,n){if(void 0===n&&(n=!0),"string"==typeof e&&0===e.length)return this;var r={insert:e};return null!=t&&"object"==typeof t&&0<Object.keys(t).length&&(r.attributes=Fn(t,n)),this.push(r)},Qn.prototype.delete=function(e){return e<=0?this:this.push({delete:e})},Qn.prototype.retain=function(e,t){if(e<=0)return this;var n={retain:e};return null!=t&&"object"==typeof t&&0<Object.keys(t).length&&(n.attributes=Fn(t)),this.push(n)},Qn.prototype.forEach=function(e){this.ops.forEach(e)},Qn.prototype.eachLine=function(e,t){void 0===t&&(t=Et);for(var n=wt(this.ops),r=0,i={},o=[];n.hasNext();){if(n.peekType()!==ft.INSERT)return;var a=n.peek();Vn(a)&&(i=a.attributes||{});var s=It(a)-n.peekLength(),c="string"==typeof a.insert?a.insert.indexOf(t,s)-s:-1;if(c<0)o.push(n.next());else{if(o.push(n.next(c+1)),!1===e(this.create({zoneId:this.zoneId,ops:o}),i,r))return;o=[],i={},r+=1}}var u=this.create({zoneId:this.zoneId,ops:o});0<u.length()&&e(u,i,r)},Qn.prototype.push=function(e){if(xt(e)&&e.delete<=0)return console.warn("delete op is wrong"),this;if(Lt(e)&&e.retain<=0)return console.warn("retain op is wrong"),this;if(Nt(e)&&0===e.insert.length)return console.warn("insert op is wrong"),this;var t=this.ops.length,n=this.ops[t-1];if(e=Wn(e),"object"==typeof n){if(xt(e)&&xt(n))return this.ops[t-1]={delete:n.delete+e.delete},this;if(Object(_.default)(e.attributes,n.attributes)){if(Nt(e)&&Nt(n))return this.ops[t-1]={insert:n.insert+e.insert},"object"==typeof e.attributes&&(this.ops[t-1].attributes=e.attributes),this;if(Lt(e)&&Lt(n))return this.ops[t-1]={retain:n.retain+e.retain},"object"==typeof e.attributes&&(this.ops[t-1].attributes=e.attributes),this}}return t===this.ops.length?this.ops.push(e):this.ops.splice(t,0,e),this},Qn.prototype.compose=function(e,n){var t,r;void 0===n&&(n=!0),!1===n&&(t=e.zoneId,r=e.zoneType,e=e.reduce(function(e,t){return t.insert&&t.attributes&&(t.attributes=Fn(t.attributes,n)),e.push(t),e},this.create({zoneId:t,zoneType:r})));var i=wt(this.ops),o=wt(e.ops),a=[],s=o.peek();if(null!=s&&Lt(s)&&null==s.attributes){for(var c=s.retain;i.peekType()===ft.INSERT&&i.peekLength()<=c;)c-=i.peekLength(),a.push(i.next());0<s.retain-c&&o.next(s.retain-c)}for(var u=this.create({zoneId:this.zoneId,zoneType:this.zoneType,ops:a});i.hasNext()||o.hasNext();)if(o.peekType()===ft.INSERT)u.push(o.next());else if(i.peekType()===ft.DELETE)u.push(i.next());else{var l=Math.min(i.peekLength(),o.peekLength()),d=i.next(l),p=o.next(l);if(!xt(p)||!Nt(d))if(xt(p)&&Lt(d))u.push(p);else if(Lt(p)){var f={};Lt(d)?f.retain=l:f.insert=d.insert;var h=jn(d.attributes,p.attributes,n);if(h&&(f.attributes=h),u.push(f),!o.hasNext()&&Object(_.default)(u.ops[u.ops.length-1],f)){var g=this.create({zoneId:this.zoneId,zoneType:this.zoneType,ops:i.rest()});return u.concat(g).chop()}}}return u.chop()},Qn.prototype.concat=function(e){var t=this.create({zoneId:this.zoneId,zoneType:this.zoneType,ops:this.ops.slice()});return 0<e.ops.length&&(t.push(e.ops[0]),t.ops=t.ops.concat(e.ops.slice(1))),t},Qn.prototype.length=function(){return this.reduce(function(e,t){return e+It(t)},0)},Qn.prototype.reduce=function(e,t){return this.ops.reduce(e,t)},Qn.prototype.chop=function(){var e=this.ops[this.ops.length-1];return e&&e.retain&&!e.attributes&&this.ops.pop(),this},Qn.prototype.transform=function(e,t){if(void 0===t&&(t=!1),t=!!t,"number"==typeof e)return this.transformPosition(e,t);for(var n,r,i,o=e,a=wt(this.ops),s=wt(o.ops),c=this.create({zoneId:this.zoneId,zoneType:this.zoneType});a.hasNext()||s.hasNext();)a.peekType()!==ft.INSERT||!t&&s.peekType()===ft.INSERT?s.peekType()===ft.INSERT?c.push(s.next()):(n=Math.min(a.peekLength(),s.peekLength()),r=a.next(n),i=s.next(n),xt(r)||(xt(i)?c.push(i):c.retain(n,Bn(r.attributes,i.attributes,t)))):c.retain(It(a.next()));return c.chop()},Qn.prototype.transformPosition=function(e,t){void 0===t&&(t=!1),t=!!t;for(var n=wt(this.ops),r=0;n.hasNext()&&r<=e;){var i=n.peekLength(),o=n.peekType();n.next(),"delete"!==o?("insert"===o&&(r<e||!t)&&(e+=i),r+=i):e-=Math.min(i,e-r)}return e},Qn);function Qn(){this.ops=[]}var Jn,$n=(j(er,Jn=Xn),er.prototype.insert=function(e,t){if(!e)return this;var n={id:e};return Jn.prototype.insert.call(this,n,t,!1)},er.prototype.create=function(e){return e.zoneType=e.zoneType||this.zoneType,new er(e)},er);function er(e){var t=Jn.call(this)||this;t.ops=[];var n=e.zoneId,r=e.ops,i=e.zoneType;return t.zoneId=n,t.zoneType=i,r&&0<r.length&&(t.ops=r),t}var tr,nr=(j(rr,tr=$n),rr);function rr(e){return tr.call(this,F({zoneType:gt.Row},e))||this}var ir,or=(j(ar,ir=$n),ar);function ar(e){return ir.call(this,F({zoneType:gt.Column},e))||this}var sr,cr=(j(ur,sr=Xn),ur.prototype.create=function(e){return e.zoneType=e.zoneType||this.zoneType,new ur(e)},ur.prototype.insert=function(e,t,n){return void 0===n&&(n=!0),sr.prototype.insert.call(this,e,t,!1)},ur.prototype.insertLineMarker=function(e){void 0===e&&(e={});var t=Object.assign({lmkr:1},e);return this.insert(_t,t),this},ur.prototype.insertEnter=function(e){return void 0===e&&(e={}),this.insert(Et,e),this},ur.prototype.insertEnterAndLineMarker=function(e){this.insert(Et,e&&e.enterAttributes?e.enterAttributes:{});var t=Object.assign({lmkr:1},e&&e.lineAttributes?e.lineAttributes:{});return this.insert(_t,t),this},ur);function ur(e){void 0===e&&(e={});var t=sr.call(this)||this;t.ops=[];var n=e.zoneId,r=e.ops;return t.zoneId=n||"0",t.zoneType=gt.Content,r&&0<r.length&&(t.ops=r),t}var lr=(Object.defineProperty(dr.prototype,"deltas",{get:function(){return this._deltas},enumerable:!0,configurable:!0}),dr.prototype.get=function(e){return this._deltas[e]},dr.prototype.compose=function(e){return this._call("compose",e)},dr.prototype.concat=function(e){return this._call("concat",e)},dr.prototype.transform=function(e,n){var r=this;if(void 0===n&&(n=!1),this.isDelta(e))return e.zoneId in this.deltas?this.deltas[e.zoneId].transform(e,n):e;if(this.isDeltaSet(e))return new dr(e.reduce(function(e,t){return e[t.zoneId]=r.transform(t,n),e},{}));throw Error("DeltaSet call data is wrong")},dr.prototype.delete=function(e){return delete this._deltas[e],this},dr.prototype.add=function(e,t){return this._deltas[e]=t,this},dr.prototype.replace=function(e,t){return this.delete(e).add(t.zoneId,t),this},dr.prototype._call=function(t,e){if(this.isDelta(e))return this._callDeltaFunc(t,e);if(this.isDeltaSet(e)){var n=new dr(this.deltas);return e.forEach(function(e){n=n._callDeltaFunc(t,e)}),n}throw Error("DeltaSet call data is wrong")},dr.prototype.isDelta=function(e){return Object.values(gt).includes(e.zoneType)},dr.prototype.isDeltaSet=function(e){return e.hasOwnProperty("_deltas")},dr.prototype._callDeltaFunc=function(e,t){var n,r,i=t.zoneId,o={};this.deltas[i]?o[i]=this.deltas[i][e](t):o[i]=t;try{for(var a=V(Object.entries(this.deltas)),s=a.next();!s.done;s=a.next()){var c=K(s.value,2),u=c[0],l=c[1];o[u]||(o[u]=l)}}catch(e){n={error:e}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}return new dr(o)},dr.prototype.reduce=function(e,t){var n=this;return Object.keys(this._deltas).map(function(e){return n._deltas[e]}).reduce(e,t)},dr.prototype.forEach=function(e){var t,n;try{for(var r=V(Object.entries(this._deltas)),i=r.next();!i.done;i=r.next()){var o=K(i.value,2),a=o[0];e(o[1],a)}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}},dr.prototype.filterAttributes=function(i){var o=this;return this.forEach(function(e,t){var n=e instanceof cr?new cr({zoneId:t}):new $n({zoneId:t,zoneType:e.zoneType}),r=e.reduce(function(e,t){var n,r=t.attributes;return r&&(n=Object.keys(r).reduce(function(e,t){return!1===i(t,r[t],r)&&(e[t]=r[t]),e},{}),t.attributes=n),e.push(t),e},n);o.replace(t,r)}),this},dr);function dr(n){void 0===n&&(n={});var e=Object.keys(n).some(function(e){return n[e]instanceof Xn});this._deltas=e?n:Object.keys(n).reduce(function(e,t){return e[t]=new(n[t].zoneType===gt.Content?cr:$n)(n[t]),e},{})}var pr=(Object.defineProperty(fr.prototype,"index",{get:function(){return this._index},enumerable:!0,configurable:!0}),fr.prototype.isInvisible=function(){return this._invisible},fr.prototype.isEndOfLine=function(e){return this._length===e+1},fr.prototype.compose=function(e){var t=new fr(this.content.compose(e,!1),this.parent);return t._index=this._index,t},fr.prototype.clone=function(){var e=new fr(null,null,!0);return e.content=this.content,e._zoneId=this._zoneId,e._modelText=this._modelText,e._length=this._length,e._lmkr=this._lmkr,e._lineAttributes=this._lineAttributes,e.key=this.key,e._offsetStart=this._offsetStart,e._offsetEnd=this._offsetEnd,e._index=this._index,e.parent=this.parent,e},fr.prototype.slice=function(i,o){var a=[],s=0;return this.content.forEach(function(e){var t,n,r;null!==e&&void 0!==e&&e.insert&&"object"!=typeof e.insert&&(t=It(e),s<=o&&i<=s+t&&((n=Math.max(0,i-s))<(r=Math.min(t,o-s))&&a.push({insert:null===e||void 0===e?void 0:e.insert.slice(n,r),attributes:e.attributes})),s+=t)}),new fr(new cr({ops:a}),this.parent)},fr.prototype.getZoneId=function(){return this._zoneId},fr.prototype.getKey=function(){return this.key},fr.prototype.getText=function(){var e=this.content.ops.map(function(e){return Nt(e)?e.insert:"*"}).join("");return this.hasLineMarker()&&(e=e.slice(1)),e},fr.prototype.getLineMarker=function(){return this._lmkr},fr.prototype.getModelText=function(){return this._modelText},fr.prototype.length=function(){return this._length},fr.prototype.getOps=function(){return this._getOps()},fr.prototype._getDelta=function(){return this.content},fr.prototype._getOps=function(){return this.content.ops},fr.prototype._setKey=function(e){this.key=e},fr.prototype._setIndex=function(e){this._index=e},fr.prototype._setOffset=function(e,t){this._offsetStart=e,this._offsetEnd=t},fr.prototype._refreshKey=function(){this.key=Zt(6)},fr.prototype.getAttributes=function(e,t){var n,r,i,o;void 0===e&&(e=0),void 0===t&&(t=this.getModelText().length);var a=0,s=qt();try{for(var c=V(this),u=c.next();!u.done;u=c.next()){var l=u.value;if(null!==l&&void 0!==l&&l.insert&&"object"!=typeof l.insert){var d=l.insert.length,p=l.attributes;if(a+d<=e||t<=a||!p)a+=d;else{try{for(var f=(i=void 0,V(Object.entries(p))),h=f.next();!h.done;h=f.next()){var g=K(h.value,2),m=g[0],v=g[1];s.push([m,v])}}catch(e){i={error:e}}finally{try{h&&!h.done&&(o=f.return)&&o.call(f)}finally{if(i)throw i.error}}a+=d}}}}catch(e){n={error:e}}finally{try{u&&!u.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}return s},fr.prototype.getEntities=function(e,t,n){var r,i=0,o=this.length();return e instanceof Array?r=e:(i=e.start,(o=e.end)===i&&0<o&&i--),this._getEntities({attributes:r,start:i,end:o,matcher:t,getTableEntities:n})},fr.prototype._getEntities=function(e){var t,n,r,i,o,a,s,c,u=e.attributes,l=e.start,d=e.end,p=e.allMatch,f=void 0!==p&&p,h=e.matcher,g=e.getTableEntities,m=[],v=0,y=this._index;try{for(var b=V(this),E=b.next();!E.done;E=b.next()){var _=E.value;if(_.insert&&"object"!=typeof _.insert){var C=_.insert.length;if(v+C<=l||d<=v)v+=C;else{var T,O,k=!1,S=!0,w=_.attributes;if(w&&Object.keys(w).length||(S=!(w={})),h)try{for(var I=(r=void 0,V(Object.entries(w))),x=I.next();!x.done;x=I.next()){var L=K(x.value,2);h(M=L[0],P=L[1])?k=!0:S=!1}}catch(e){r={error:e}}finally{try{x&&!x.done&&(i=I.return)&&i.call(I)}finally{if(r)throw r.error}}else if(null!==u&&void 0!==u&&u.length)try{for(var R=(o=void 0,V(Object.entries(w))),N=R.next();!N.done;N=R.next()){var D=K(N.value,2),M=D[0],P=D[1];try{for(var j=(s=void 0,V(u)),F=j.next();!F.done;F=j.next()){var B=F.value,U=void 0!==B[1];B[0]!==M||U&&String(B[1])!==String(P)?S=!1:k=!0}}catch(e){s={error:e}}finally{try{F&&!F.done&&(c=j.return)&&c.call(j)}finally{if(s)throw s.error}}}}catch(e){o={error:e}}finally{try{N&&!N.done&&(a=R.return)&&a.call(R)}finally{if(o)throw o.error}}else S=!0;(k&&!f||S)&&m.push({start:{line:y,offset:v,zoneId:this._zoneId},end:{line:y,offset:v+C,zoneId:this._zoneId},text:_.insert,attributes:w}),v+=C,"*"===_.insert&&w.aceTable&&g&&(O=g((T=K(w.aceTable.split(" "),2))[0],T[1],u,h),m.push.apply(m,W(O)))}}}}catch(e){t={error:e}}finally{try{E&&!E.done&&(n=b.return)&&n.call(b)}finally{if(t)throw t.error}}return m},fr.prototype.getLineAttributes=function(){return this._lineAttributes},fr.prototype.getOffset=function(){return{start:this._offsetStart,end:this._offsetEnd}},fr.prototype.forEach=function(e){return this._getOps().forEach(e)},fr.prototype.each=function(e){return this.forEach(e)},fr.prototype[Symbol.iterator]=function(){return this._getOps().values()},fr.prototype.hasLineMarker=function(){var e,t;return!(null===(t=null===(e=this._getOps()[0])||void 0===e?void 0:e.attributes)||void 0===t||!t.lmkr)},fr.prototype.isEmpty=function(){var e=this.hasLineMarker()?1:0;return this.length()-e==1||0===this.length()},fr.prototype.previousSibling=function(){return this.parent.getLine(this._index-1)},fr.prototype.nextSibling=function(){return this.parent.getLine(this._index+1)},fr.prototype.compare=function(e){if(e===this)return fr.EQAUL;if(e&&e.getKey()===this.getKey()){for(var t=this.getOps(),n=e.getOps(),r=0,i=n.length;r<i;r++)if(n[r]!==t[r])return fr.UPDATE;return fr.EQAUL}return fr.UNEQUAL},fr.EQAUL=$.EQUAL,fr.UNEQUAL=$.UNEQUAL,fr.UPDATE=$.UPDATE,fr);function fr(e,t,n){var r,i,o=this;this.content=e,this._keepKey=!1,this._keepEntry=!1,this._invisible=!1,this._index=0,this._offsetStart=0,this._offsetEnd=0,this._length=0,this._modelText="",this._lmkr=0,n||(this.parent=t,this._zoneId=t.getZoneId(),this._modelText=this.content.ops.map(function(e){return Nt(e)?e.insert:" "}).join(""),this._length=this._modelText.length,r=qt(),this.hasLineMarker()&&(this._lmkr=1,r.push.apply(r,W(Yt(this._getOps()[0].attributes)))),this._lineAttributes=r,this._lineAttributes.toMap=function(){return i=i||Qt(o._lineAttributes),F({},i)},this.key=Zt(6))}var hr=(gr.prototype.hashKey=function(e){var r="",i=e.length;return e.forEach(function(e){var t=e.getKey(),n=t.length;r+=t.slice(0,Math.max(Math.ceil(8/i),1))+t[Math.floor(n/2)-1]+t.slice(Math.min(Math.ceil(-12/i),-1))}),r},gr.prototype._refreshKey=function(){this.key=this.hashKey(this.content)},gr.prototype.compare=function(e){if(!e||this.key!==e.getKey())return gr.UNEQUAL;var t=this.content.length===e.content.length;if(t)for(var n=0,r=this.content.length;n<r;n++)if(this.content[n]!==e.content[n]){t=!1;break}return t?gr.EQUAL:gr.UDPATE},gr.prototype.isEmpty=function(){return 0===this.content.length},gr.prototype.getKey=function(){return this.key},gr.prototype.isInvisible=function(){return this.content.every(function(e){return e._invisible})},gr.EQUAL=$.EQUAL,gr.UNEQUAL=$.UNEQUAL,gr.UDPATE=$.UPDATE,gr);function gr(e){var t=e.wrappers,n=e.content,r=e.key;this.key=r||this.hashKey(n),this.wrappers=t,this.content=n}var mr,vr,yr=br;function br(){var i=this;this._listenersMap={},this.on=function(e,t,n){void 0===n&&(n=!1),i._addEventListener(e,t,!1,n)},this.once=function(e,t,n){void 0===n&&(n=!1),i._addEventListener(e,t,!0,n)},this.off=function(e,t){i._removeEventListener(e,t)},this.trigger=function(e,t){i._triggerEvent(e,t)},this.reset=function(){i._listenersMap={}},this.removeListener=function(e,t){i._removeEventListener(e,t)},this.getListeners=function(e){return Array.from(i._listenersMap[e]||[])},this._addEventListener=function(e,t,n,r){void 0===n&&(n=!1),void 0===r&&(r=!1),t||console.warn("bind event with invalid cb, event: "+e),i._listenersMap[e]||(i._listenersMap[e]=[]),i._listenersMap[e].find(function(e){return e.listener===t})||(r?i._listenersMap[e].unshift({listener:t,isOnce:n}):i._listenersMap[e].push({listener:t,isOnce:n}))},this._removeEventListener=function(e,t){var n=(i._listenersMap[e]||[]).findIndex(function(e){return e.listener===t});-1<n&&i._listenersMap[e].splice(n,1)},this._triggerEvent=function(n,r){void 0===r&&(r=[]),(i._listenersMap[n]||[]).slice(0).forEach(function(e){var t=e.listener;e.isOnce&&i._removeEventListener(n,t),t.apply(t,r)})}}function Er(e){var t,n=e.keyCode;return"charCode"in e?0===(t=e.charCode)&&13===n&&(t=13):t=n,10===t&&(t=13),32<=t||13===t?t:0}function _r(n,r,i,o){Object.keys(r).forEach(function(e){var t=r[e];Ut(t)?n[e]=t(i):n[e]="target"===e?o:i[e]})}(vr=mr=mr||{}).DID_PASTE="didPaste",vr.RESIZE="resize",vr.SELECTION_CHANGE="selectionchange",vr.SELECTION_CHANGE_AND_DOM_UPDATE="editorUpdateDomSelection",vr.CONTENT_CHANGE="contentchange",vr.EDITABLE_CHANGE="editablechange",vr.PAINT="paint",vr.COPY="copy",vr.CUT="cut",vr.PASTE="paste",vr.WILL_DELETE_FROM_CUT="willDeleteFromCut";var Ar={type:null,target:null,currentTarget:null,eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},Cr={propertyName:null,elapsedTime:null,pseudoElement:null},Tr={animationName:null,elapsedTime:null,pseudoElement:null},Or={view:null,detail:null},kr=0,Sr=0,wr=!1,Ir=!1,xr={screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:null,button:null,buttons:null,relatedTarget:null,movementX:function(e){if("movementX"in e)return e.movementX;var t=kr;return kr=e.screenX,wr?"mousemove"===e.type?e.screenX-t:0:(wr=!0,0)},movementY:function(e){if("movementY"in e)return e.movementY;var t=Sr;return Sr=e.screenY,Ir?"mousemove"===e.type?e.screenY-t:0:(Ir=!0,0)}},Lr={dataTransfer:null},Rr={deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null},Nr={key:null,location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:null,charCode:function(e){return"keypress"===e.type?Er(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Er(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}},Dr={clipboardData:function(e){return("clipboardData"in e?e:window).clipboardData},data:{}},Mr={relatedTarget:null},Pr={data:null},jr={data:null},Fr=(Br.prototype.preventDefault=function(){this.defaultPrevented=!0,this.nativeEvent.preventDefault(),this.isDefaultPrevented=Ft},Br.prototype.stopPropagation=function(){this.nativeEvent.stopPropagation(),this.isPropagationStopped=Ft},Br);function Br(e,t){this.nativeEvent=e,_r(this,Ar,e,t);var n=null!==e.defaultPrevented&&void 0!==e.defaultPrevented?e.defaultPrevented:!1===e.returnValue;this.isDefaultPrevented=n?Ft:Bt,this.isPropagationStopped=Bt}var Ur,Hr=(j(zr,Ur=Fr),zr);function zr(e,t){var n=Ur.call(this,e,t)||this;return _r(n,{},e,t),n}var Vr,Kr=(j(Gr,Vr=Hr),Gr);function Gr(e,t){var n=Vr.call(this,e,t)||this;return _r(n,Or,e,t),n}var Wr,Yr=(j(qr,Wr=Hr),qr);function qr(e,t){var n=Wr.call(this,e,t)||this;return _r(n,Dr,e,t),n}var Zr,Xr=(j(Qr,Zr=Hr),Qr);function Qr(e,t){var n=Zr.call(this,e,t)||this;return _r(n,jr,e,t),n}var Jr,$r=(j(ei,Jr=Kr),ei);function ei(e,t){var n=Jr.call(this,e,t)||this;return _r(n,Nr,e,t),n}var ti,ni=(j(ri,ti=Kr),ri);function ri(e,t){var n=ti.call(this,e,t)||this;return _r(n,Mr,e,t),n}var ii,oi=(j(ai,ii=Kr),ai);function ai(e,t){var n=ii.call(this,e,t)||this;return _r(n,xr,e,t),n}var si,ci=(j(ui,si=Hr),ui);function ui(e,t){var n=si.call(this,e,t)||this;return _r(n,Pr,e,t),n}var li,di=(j(pi,li=oi),pi);function pi(e,t){var n=li.call(this,e,t)||this;return _r(n,Rr,e,t),n}var fi,hi=(j(gi,fi=Hr),gi);function gi(e,t){var n=fi.call(this,e,t)||this;return _r(n,Tr,e,t),n}var mi,vi=(j(yi,mi=Hr),yi);function yi(e,t){var n=mi.call(this,e,t)||this;return _r(n,Cr,e,t),n}var bi,Ei,_i=(j(Ai,bi=oi),Ai);function Ai(e,t){var n=bi.call(this,e,t)||this;return n.evtTargetSelection=null,_r(n,Lr,e,t),n}function Ci(){}function Ti(){var e=null!==Ei&&Ei.apply(this,arguments)||this;return e.eventTypes=new Map,e.extractEvents=function(e){return"change"===e.type?new Hr(e,e.target):null},e}var Oi=new(j(Ti,Ei=Ci),Ti);function ki(e){return e}var Si="abort",wi=ki("animationend"),Ii=ki("animationiteration"),xi=ki("animationstart"),Li="blur",Ri="canplay",Ni="canplaythrough",Di="cancel",Mi="click",Pi="close",ji="contextmenu",Fi="copy",Bi="cut",Ui="dblclick",Hi="auxclick",zi="drag",Vi="dragend",Ki="dragenter",Gi="dragexit",Wi="dragleave",Yi="dragover",qi="dragstart",Zi="drop",Xi="durationchange",Qi="emptied",Ji="encrypted",$i="ended",eo="error",to="focus",no="gotpointercapture",ro="input",io="invalid",oo="keydown",ao="keypress",so="keyup",co="load",uo="loadstart",lo="loadeddata",po="loadedmetadata",fo="lostpointercapture",ho="mousedown",go="mousemove",mo="mouseout",vo="mouseover",yo="mouseup",bo="paste",Eo="pause",_o="play",Ao="playing",Co="pointercancel",To="pointerdown",Oo="pointermove",ko="pointerout",So="pointerover",wo="pointerup",Io="progress",xo="ratechange",Lo="reset",Ro="scroll",No="seeked",Do="seeking",Mo="stalled",Po="submit",jo="suspend",Fo="timeupdate",Bo="toggle",Uo="touchcancel",Ho="touchend",zo="touchmove",Vo="touchstart",Ko=ki("transitionend"),Go="volumechange",Wo="waiting",Yo="wheel";function qo(){var t=this;this.eventTypes=new Map,this.extractEvents=function(e){return t.eventTypes.get(e.type)?new oi(e,e.target):null},[mo,vo].forEach(function(e){return t.eventTypes.set(e,!0)})}var Zo=new qo,Xo=[Li,Di,Mi,Pi,ji,Fi,Bi,Hi,Ui,Vi,qi,Zi,to,ro,io,oo,ao,so,ho,yo,bo,Eo,_o,Co,To,wo,xo,Lo,No,Po,Uo,Ho,Vo,Go],Qo=[zi,Ki,Gi,Wi,Yi,go,mo,vo,Oo,ko,So,Ro,Bo,zo,Yo],Jo=[Si,wi,Ii,xi,Ri,Ni,Xi,Qi,Ji,$i,eo,no,co,lo,po,uo,fo,Ao,Io,Do,Mo,jo,Fo,Ko,Wo];function $o(){var n=this;this.eventTypes=new Map,this.extractEvents=function(e){var t;if(!n.eventTypes.get(e.type))return null;switch(e.type){case ao:case oo:case so:t=$r;break;case Li:case to:t=ni;break;case Mi:case Hi:case Ui:case ho:case go:case yo:case mo:case vo:case ji:t=oi;break;case zi:case Vi:case Ki:case Gi:case Wi:case Yi:case qi:case Zi:console.error("view, :",e.type),t=Hr;break;case Uo:case Ho:case zo:case Vo:console.error("viewtouch, :",e.type),t=Hr;break;case wi:case Ii:case xi:t=hi;break;case Ko:t=vi;break;case Ro:t=Kr;break;case Yo:t=di;break;case Fi:case Bi:case bo:t=Yr;break;case no:case fo:case Co:case To:case Oo:case ko:case So:case wo:console.error("viewpointer, :",e.type),t=Hr;break;default:t=Hr}return new t(e,e.target)},Xo.concat(Qo).concat(Jo).forEach(function(e){return n.eventTypes.set(e,!0)})}var ea=[new $o,Zo,Oi];function ta(e){for(var t=null,n=0;n<ea.length;n++){var r=ea[n].extractEvents(e);if(r){t=r;break}}return t||(console.warn(""),t=new Hr(e,e.target)),t}var na,ra=3,ia=26,oa=200,aa=200,sa=300,ca=2e3,ua=1e4;function la(e){var h=na.call(this,e)||this;return h.layout=[],h.placeholderInfos=[],h.viewPortData=[],h.reactMountNodeMap=new WeakMap,h.resizeTimer=null,h.modeTimer=null,h.watchdogTimer=null,h.subZoneRecalculateTimer=null,h.needUpdateZones={},h.disableHandleScrolling=!1,h.preRendererTask=null,h.mounted=!1,h.lastScrollTop=0,h.viewportRange=[0,0],h.firstScreenPainted=!1,h.bufferPixel=500,h.deactivateTimers={},h.renderErrorMap=new WeakMap,h.itemsUpdatedInBuffer=[],h.isRendering=!1,h.isScrolling=!1,h._getModel=function(t){var e=h.placeholderInfos.find(function(e){return e.placeholder===t});if(!e)return null;var n=K(e.range,2),r=n[0],i=n[1],o=[];return Object(p.a)(r,i+1).forEach(function(e){var t=h.props.dataSource[e];t instanceof hr?o.push.apply(o,W(t.content)):o.push(t)}),o},h._getView=function(e){if(e.getZoneId()!==be||!e.parent)return null;var t=e.index;if(-1===t)return null;var n=h._getStateIndexForLineNum(t),r=h.placeholderInfos.find(function(e){var t=e.range;return t[0]<=n&&t[1]>=n});return(null===r||void 0===r?void 0:r.placeholder)||null},h._getLayoutForLine=function(e){var t=h._getStateIndexForLineNum(e),n=h._getLayoutForIndex(t);return n||(console.log("Can not get layout for line: ",e),console.log("layout length",h.layout.length),console.log("index for line",t),console.log("lines length",h.props.editor.getRep(be).lines.length()),Object(X.trace)("Oops debug: getLayoutForLine return undefined"),{height:ia,marginTop:0,marginBottom:0,key:"",top:0})},h._getLayoutForIndex=function(e){var t=h.layout.length;if(t<=e){var n=h.layout[t-1]||{top:h.hostPaddingTop,height:ia},r=n.top,i=n.height;return{height:ia,marginTop:0,marginBottom:0,key:"",top:r+i+(e-t)*ia,measured:!1}}return h.layout[e]},h._getViewportRange=function(){return h.viewportRange},h.handleSubZoneDidPaint=function(e){var t=e.zoneId;t!==be&&(h.needUpdateZones[t]||(h.needUpdateZones[t]=!0),h.subZoneRecalculateTimer||(h.subZoneRecalculateTimer=window.setTimeout(function(){h.subZoneRecalculateTimer=null;var r,e=Object.keys(h.needUpdateZones);h.mounted&&e.length&&(r={},e.forEach(function(e){var t,n=h.props.editor.getLineNumInRootZone(e,0);-1===n||r[n]||(r[n]=!0,(t=h.props.editor.getRep(be).lines.atIndex(n))&&(t.needUpdateZoneRect=!0),h._recalculateLine(n,2e3))}),h.needUpdateZones={},window.setTimeout(function(){h.mounted&&h.paint(h.getViewPortData(),{preventUpdateSelection:!0})}))})))},h.handleResize=Object(i.default)(function(e){var t=e.previous,n=e.current;if(!(Math.abs(t.width-n.width)<10)){for(var r=h.getViewPortData(),i=r[0].originIndex;i--;){var o=h.props.dataSource[i];o.isInvisible()||r.unshift({data:o,originIndex:i})}h.props.editor.preRenderer.ensureScreenNoScroll([],function(){h.paint(r,{preventUpdateSelection:!0})}),h.disableHandleScrolling=!0,h.resizeTimer&&(window.clearTimeout(h.resizeTimer),h.resizeTimer=null),h.resizeTimer=window.setTimeout(function(){h.resizeTimer=null,h.disableHandleScrolling=!1,h.recalculateItems(h.viewPortData),h.props.editor.preRenderer.ensureScreenNoScroll([],function(){h.paint(h.getViewPortData(),{preventUpdateSelection:!0})})},sa)}},aa),h.getUnrenderedItemIndex=function(){for(var e=h.props.dataSource,t=e.length,n=K(h.viewportRange,2),r=n[0],i=n[1];0<=r||i<t;){if(0<=r&&h.shouldLineStateRender(e[r]))return r;if(i<t&&h.shouldLineStateRender(e[i]))return i;r--,i++}return-1},h.handleScroll=function(){h.handleScrollTimestamp=(new Date).getTime();var e=h.props.editor._getScrollTop()||0,o=h.getViewPortData();o.length&&!h.disableHandleScrolling&&h.firstScreenPainted&&(h.isScrolling=!0,h._supportSkipAboveRender()&&e<h.lastScrollTop&&o.filter(function(e){return!h.getLineStatusForState(e.data).isActive}).some(function(e){return h.shouldLineStateRender(e.data)||h.shouldItemMeasure(e)})?(h.props.editor.call("renderAboveBegin"),setTimeout(function(){h.props.editor.preRenderer.ensureScreenNoScroll([],function(){var e=o[0].originIndex,t=Math.max(0,e-h.config.skipAboveRender.renderCount),n=h.getViewPortData(),r=Math.max.apply(Math,W(n.map(function(e){return e.originIndex}),[0])),i=Object(p.a)(t,r+1).map(function(e){return{data:h.props.dataSource[e],originIndex:e}}).filter(function(e){return!h.shouldLineStateRender(e.data)&&h.shouldItemMeasure(e)});i.forEach(function(e){var t=e.data,n=e.originIndex;h.getLineStatusForState(t).isActive||h.appendToPreRenderer(t._node,n)}),i.forEach(function(e){h.setItemLayout(e)}),h.reflow(),h.paint(h.getViewPortData(),{preventUpdateSelection:!0,ensureRenderStartIndex:t}),h.props.editor.call("renderAboveFinish")})})):h.paint(o,{preventUpdateSelection:!0}),h.lastScrollTop=e,h.stopScrolling())},h.stopScrolling=Object(i.default)(function(){h.isScrolling=!1,h.paint(h.getViewPortData(),{preventUpdateSelection:!0}),h.props.onScrollStop&&h.props.onScrollStop()},oa),h.checkViewportVisibility=function(){var e=h.props.editor,i=e._getScrollTop()||0,t=e._getScrollerHeight()||0,o=i+t,a=h._getOffsetTopToScroller(),n=h.placeholderInfos.find(function(e){var t=e.placeholder,n=t.offsetTop+a,r=n+t.offsetHeight;return"none"!==t.style.display&&!(r<i||o<n)});if(!h.isScrolling&&n){console.log("scrollTop",i),console.log("scrollBottom",o),console.log("root node offsetHeight",h.props.editor.docbody.offsetHeight),console.log("last handleScroll timestamp",h.handleScrollTimestamp),console.log("placeholder id",n.placeholder.id),console.log("placeholder range",n.range),Object(X.trace)("Doc viewport is invisible!");try{h.autoFixViewport()}catch(e){console.log(e)}}if(h.isScrolling||h.props.editor.getInInternationalComposition()||!h.placeholderInfos.every(function(e){return e.status===Z.DONE})||!h.checkElementPosition())return h.props.editor.flags.isPerforming||h.layout.length===h.props.dataSource.length?void(h.watchdogTimer=window.setTimeout(h.checkViewportVisibility,ua)):(console.log("layout length:",h.layout.length),console.log("dataSource length:",h.props.dataSource.length),void h.props.editor.fatal(new Error(""),"etherpad","[]Layout  data ",-1e3));h.props.editor.fatal(new Error(""),"etherpad","[]",-1e3)},h.checkElementPosition=function(){var p=h.props.editor.getRep(be).lines,f=!1;return h.placeholderInfos.forEach(function(e){var t,n,r,i,o,a,s=e.range,c=e.placeholder,u=K(s,2),l=u[0],d=u[1];0<=l-1&&(o=h.props.dataSource[l-1]._node)!==c.previousElementSibling&&(console.log("previousSibling wrong position!!!"),console.log("placeholder range",s),console.log("placeholder id",c.id),console.log("real previousSibling class",o.className),console.log("current previousSibling class",null===(t=c.previousElementSibling)||void 0===t?void 0:t.className),a=p.indexOfKey(null===(n=c.previousElementSibling)||void 0===n?void 0:n.id),console.log("current previousSibling line",a),f=!0),d+1<h.placeholderInfos.length&&(o=h.props.dataSource[d+1]._node)!==c.nextElementSibling&&(console.log("nextSibling wrong position!!!"),console.log("placeholder range",s),console.log("placeholder id",c.id),console.log("real nextSibling class",o.className),console.log("current nextSibling class",null===(r=c.nextElementSibling)||void 0===r?void 0:r.className),a=p.indexOfKey(null===(i=c.nextElementSibling)||void 0===i?void 0:i.id),console.log("current nextSibling line",a),f=!0)}),f},h.autoFixViewport=function(){var e=h.props.dataSource.reduce(function(e,t,n){return h.getLineStatusForState(t).isRetained&&e.push({data:t,originIndex:n}),e},[]),t=h.viewPortData.concat(e),n=t.map(function(e){var t=e.originIndex;return F(F({},h.layout[t]),{originIndex:t})}),u=t.map(function(e){var t=e.data,n=e.originIndex,r=t instanceof hr&&t._node.firstElementChild||t._node,i=getComputedStyle(r);return{originIndex:n,height:parseInt(i.height),marginTop:parseInt(i.marginTop),marginBottom:parseInt(i.marginBottom)}});h.recalculateItems(h.viewPortData.concat(t));var l=t.map(function(e){var t=e.originIndex;return F(F({},h.layout[t]),{originIndex:t})});n.forEach(function(e,t){var n,r=e.originIndex,i=e.height,o=e.marginTop,a=e.marginBottom,s=l[t],c=u[t];i===s.height&&o===s.marginTop&&a===s.marginBottom&&i===c.height&&o===c.marginTop&&a===c.marginBottom||(n=h.props.dataSource[r],console.log("","index "+r,"type: "+h.getItemType(n),"originLayout: height "+i+", marginTop "+o+", marginBottom "+a,"newLayout: height "+s.height+", marginTop "+s.marginTop+", marginBottom "+s.marginBottom,"domLayout: height "+c.height+", marginTop "+c.marginTop+", marginBottom "+c.marginBottom))}),h.paint(h.getViewPortData(),{preventUpdateSelection:!0})},h.prevProps=e,h.enableVirtualScroll=h.props.editor.enableVirtualScroll,h}var da,pa,fa=Qe((j(la,na=c.Component),la.prototype.componentDidMount=function(){var e,t;this.initPreRenderer(),this.initLayoutInfo(),this.props.editor.setListView(this),this.config=this.props.editor.getProps().renderConfig||{},null!==(t=null===(e=this.context)||void 0===e?void 0:e.scrollView)&&void 0!==t&&t.onScroll(this.handleScroll);var n=this.getViewPortData({bufferPixel:0});this.paint(n),this.layoutMore(),this.props.editor.on(mr.RESIZE,this.handleResize),this.props.editor.on(mr.PAINT,this.handleSubZoneDidPaint),this.watchdogTimer=window.setTimeout(this.checkViewportVisibility,ua),this.mounted=!0},la.prototype.componentDidUpdate=function(i){var o=this,a=this.props.editor;a.flags.isPerforming||(a.flags.isPerforming=!0,Promise.resolve().then(function(){var e,t,n,r;a.flags.isPerforming=!1,o.mounted&&(e=ie(i.dataSource,o.props.dataSource).sort(function(e,t){return e.oldIndex-t.oldIndex}),o.prevProps=i,o._stashOldEntry(e,i.dataSource),e.length&&(t=o.props.editor,n=t._getScrollTop(),r=t._getScrollerHeight(),s.a.unstable_batchedUpdates(function(){o.doApply(e,i.dataSource,function(){var e;o.updateInvisibleItemLayout(o.props.dataSource),o.reflow(),o.paint(o.getViewPortData({originScrollTop:n,originOffsetHeight:r}),{forceRender:!(null===(e=o.props.visibilityChangedLines)||void 0===e||!e.length)}),o.layoutMore()})})))}))},la.prototype.componentWillUnmount=function(){var e,t=this.props.editor;this.mounted=!1,t.fiber.cancelTask(this.task),this.stopScrolling.cancel(),this.modeTimer&&window.clearTimeout(this.modeTimer),this.preRendererTask&&t.fiber.cancelTask(this.preRendererTask),this.watchdogTimer&&(clearTimeout(this.watchdogTimer),this.watchdogTimer=null),null!==(e=this.preRenderer.parentNode)&&void 0!==e&&e.removeChild(this.preRenderer),this.props.dataSource.forEach(function(e){e._node&&s.a.unmountComponentAtNode(e._node)}),this.handleResize.cancel(),t.off(mr.RESIZE,this.handleResize),t.setMounted(!1)},la.prototype._stashOldEntry=function(e,n){var t=e.filter(function(e){return e.op===Z.INSERT}),r=e.filter(function(e){return e.op===Z.DELETE}),i=this.props.editor.repManager;i._replaceEntryArr=[];var o={};r.forEach(function(e){o[e.oldIndex]=e.newIndex}),t.forEach(function(e){var t;o[e.oldIndex]!==e.newIndex||(t=n[e.oldIndex])instanceof pr&&i._replaceEntryArr.push({zoneId:t.parent.getZoneId(),index:t.index,oldEntry:t._entry})})},la.prototype._getLinesStatusDetail=function(){var n={activeLines:[],retainedLines:[]};function r(e,t){e._entry&&(e._entry.isRetained&&n.retainedLines.push(t),e._entry.isActive&&n.activeLines.push(t))}var i=0;return this.props.dataSource.forEach(function(e,n){e instanceof pr?r(e,n+i):(e.content.forEach(function(e,t){r(e,n+t+i)}),i+=e.content.length-1)}),n},la.prototype._recalculateLine=function(e,t,n){var r,i=this._getStateIndexForLineNum(e);-1!==i&&(r=this.props.dataSource[i],this.recalculateItems([{data:r,originIndex:i}],t,n))},la.prototype._withoutHandleScrolling=function(r,i){return void 0===i&&(i=!1),H(this,void 0,void 0,function(){var t,n=this;return z(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,3,4]),this.disableHandleScrolling=!0,[4,r()];case 1:return e.sent(),[3,4];case 2:return t=e.sent(),console.error("Scroll Function Error: "+t),[3,4];case 3:return this.disableHandleScrolling=!1,i&&this.props.editor.preRenderer.ensureScreenNoScroll([],function(){n.handleScroll()}),[7];case 4:return[2]}})})},la.prototype._toggleVirtualScrollMode=function(e){var t,n=this;if(Object(u.default)(e))t=!this.enableVirtualScroll;else{if(this.enableVirtualScroll===e)return;t=e}t?(this.modeTimer&&clearTimeout(this.modeTimer),this.modeTimer=window.setTimeout(function(){n.modeTimer=null,n.enableVirtualScroll=t,n.props.editor.preRenderer.ensureScreenNoScroll([],function(){n.recalculateItems(n.viewPortData),n.paint(n.getViewPortData(),{preventUpdateSelection:!0})})},ca)):(this.enableVirtualScroll=t,this.props.editor.preRenderer.ensureScreenNoScroll([],function(){n.paint(n.getViewPortData(),{forceRender:!0})}))},la.prototype._supportSkipAboveRender=function(){return!!this.config.skipAboveRender},la.prototype._lockForbiddenWhenScrolling=function(){var e;return!(null===(e=this.config.skipAboveRender)||void 0===e||!e.lockForbiddenWhenScrolling)},la.prototype.recalculateItems=function(e,t,n){var o=this;n&&this.clearPreRenderer(n),e.forEach(function(e){var t=e.data,n=o.getLineStatusForState(t),r=t._node;r&&(n.isRetained?(r.style.height="",Ge(r)):n.isActive||o.appendToPreRenderer(r,e.originIndex))}),e.forEach(function(e){return e.data._node?void o.setItemLayout(e):""}),this.reflow();var r=function(){e.forEach(function(e){var t,n,r=e.data,i=r._node;i&&!o.isHardDeleted(r)&&(t=o.props.dataSource.findIndex(function(e){return e===r}),n=o.getLineStatusForState(r),-1<t&&n.isRetained&&(i.style.height=o.layout[t].height+"px",Ke(i)))})},i=e.map(function(e){return e.data.getKey()}).join(",");i&&this.deactivateTimers[i]&&window.clearTimeout(this.deactivateTimers[i]),t?e.length&&(this.deactivateTimers[i]=window.setTimeout(function(){r(),o.deactivateTimers[i]=0},t)):r()},la.prototype.isItemVisibilityChanged=function(e,t){return e instanceof hr?e.content.some(function(e){return t.has(e)}):t.has(e)},la.prototype.updateInvisibleItemLayout=function(e){var t,r,i,o=this;null!==(t=this.props.visibilityChangedLines)&&void 0!==t&&t.length&&(r=new Map(this.props.visibilityChangedLines.map(function(e){return[e,!0]})),i=[],e.forEach(function(e,t){var n=e.getKey();o.isItemVisibilityChanged(e,r)&&(e.isInvisible()?o.layout[t]={height:0,marginTop:0,marginBottom:0,top:0,key:n,measured:!0}:i.push({data:e,originIndex:t}))}),this.recalculateItems(i))},la.prototype._getStateIndexForLineNum=function(n){return this.props.dataSource.findIndex(function(e,t){return e instanceof hr&&(n-=e.content.length-1),n<=t})},la.prototype.initPreRenderer=function(){var e,t=this.props.host,n=document.createElement("div");n.className=t.className+" slab-pre-renderer",n.style.cssText="\n      display: block;\n      position: absolute;\n      width: 100%;\n      top: -10000px;\n      left: -10000px;\n      min-height: auto;\n      pointer-events: none;\n    ",this.preRenderer=n,this.preRenderer.innerHTML="<div></div>",null!==(e=t.parentNode)&&void 0!==e&&e.appendChild(n)},la.prototype.appendToPreRenderer=function(e,t){this.preRenderer.contains(e)||(0!==t?this.preRenderer.appendChild(e):this.preRenderer.insertBefore(e,this.preRenderer.firstElementChild)),this.clearPreRenderer()},la.prototype.clearPreRenderer=function(e){var t=this,n=function(){t.preRenderer.innerHTML="<div></div>",t.preRendererTask=null};e?n():this.preRendererTask||(this.preRendererTask=this.props.editor.fiber.scheduleTask(n))},la.prototype.initLayoutInfo=function(){this.hostPaddingTop=parseInt(getComputedStyle(this.props.host).paddingTop)||0;var i=this.hostPaddingTop;this.layout=this.props.dataSource.map(function(e){var t=e.isInvisible(),n=t?0:ia,r={height:n,marginTop:0,marginBottom:0,top:i+n,key:e.getKey(),measured:!!t};return i=r.top,r})},la.prototype.hasScrollView=function(){return this.context&&this.context.scrollView},la.prototype.doApply=function(e,d,t){var p,n,r,f,h=this;e.length&&(p=[],n=e.length,r=0,f=function(){n===++r&&(h.recalculateItems(p),t&&t())},oe(e,function(e,t,n,r){switch(e){case Z.INSERT:var i=h.props.dataSource[r];return h.layout.splice(t,0,{height:ia,marginTop:0,marginBottom:0,top:0,key:i.getKey(),measured:!1}),p.push({data:i,originIndex:r}),h.setLineStatus(i,"isActive",!1),h.setLineStatus(i,"isRetained",!1),void h.renderItem(r,f,{createByEdit:!0});case Z.DELETE:if(t>h.layout.length)return f();h.layout.splice(t,1),h.hardDelete(d[n]),f();break;case Z.MOVE:f();break;case Z.UPDATE:var o=h.props.dataSource[r],a=h.prevProps.dataSource[n];if(h.isHardDeleted(a))return f();var s=h.getLineStatusForState(a),c=h.props.host,u=s.isActive&&c.contains(a._node);h.setLineStatus(o,"isActive",u),h.setLineStatus(o,"isRetained",s.isRetained);var l={data:o,originIndex:r};p.push(l),u?(h.viewPortData.forEach(function(e){e.data===a&&(e.data=o,e.originIndex=r)}),h.itemsUpdatedInBuffer.push(l)):h.viewPortData=h.viewPortData.filter(function(e){return e.data!==a}),h.reactMountNodeMap.set(o,o._node),h.reactMountNodeMap.delete(a),h.props.updateItem(o,a,f)}}))},la.prototype._wrapComponent=function(e){return O.a.createElement(Ze.Provider,{value:this.props.editor},e)},la.prototype.ensureItemsRendered=function(e,r){var i=this,o=Object(p.a)(e[0],e[1]+1).map(function(e){return{data:i.props.dataSource[e],originIndex:e}}).filter(function(e){return i.shouldLineStateRender(e.data)});this.isRendering=!0;var a=new Map;o.forEach(function(e){a.set(e.data.getKey(),!0)});var s=this.props.editor.observer.withoutRecordingMutations;if(!o.length)return s(r),void(this.isRendering=!1);o.forEach(function(e){var t=e.data,n=e.originIndex;i.renderItem(n,function(e){a.delete(e),i.getLineStatusForState(t).isActive||i.appendToPreRenderer(t._node,n),a.size||(o.forEach(function(e){i.setItemLayout(e)}),i.reflow(),s(r),i.props.onItemsRendered&&i.props.onItemsRendered(o),i.isRendering=!1)})})},la.prototype._getRenderer=function(e){return this.props.editor._hydrateMap.get(e)?s.a.hydrate:s.a.render},la.prototype.measureItem=function(e){var t=this,n=this.props.dataSource[e],r=n._node;this.appendToPreRenderer(r,e),this.renderItem(e,function(){t.setItemLayout({data:n,originIndex:e})})},la.prototype.renderItem=function(t,n,e){var r=this,i=this.props.dataSource[t],o=i._node,a=i.getKey();try{var s=this.props.renderItem(i,e);this._getRenderer(i)(this._wrapComponent(s),o,function(){r.reactMountNodeMap.set(i,o),o.classList.add(dt),n&&n(a,t)}),this.props.editor._hydrateMap.has(i)&&this.props.editor._deleteHydrateTask(i)}catch(e){var c=this.renderErrorMap.get(i),u=c?c+1:1;this.renderErrorMap.set(i,u),console.error(e),console.error("LineState render error "+u+" times! key: "+a),Object(X.trace)("LineState render error!"),n&&n(a,t)}},la.prototype.setItemLayout=function(e){var t=e.data,n=e.originIndex,r=t._node,i=t instanceof hr&&r.firstElementChild||r,o=getComputedStyle(i),a=o.height,s=o.marginTop,c=o.marginBottom,u=parseInt(a);return this.layout[n]={height:isNaN(u)?ia:u,marginTop:parseInt(s)||0,marginBottom:parseInt(c)||0,top:0,key:t.getKey(),measured:!0},this.layout[n]},la.prototype.calculate=function(e){if(void 0===e&&(e=0),this.layout.length===this.props.dataSource.length)for(var t=0===e?{height:0,marginTop:0,marginBottom:0,top:this.hostPaddingTop,key:"",measured:!1}:this.layout[e-1],n=e,r=this.layout.length;n<r;n++){var i=this.layout[n].marginTop;this.layout[n].top=t.top+t.height+(i<0||t.marginBottom<0?i+t.marginBottom:Math.max(i,t.marginBottom)),this.props.dataSource[n].isInvisible()||(t=this.layout[n])}},la.prototype.getViewPortData=function(e){var n=this,t=void 0===e?{}:e,r=t.originScrollTop,i=t.originOffsetHeight,o=[],a=null!=(a=t.bufferPixel)?a:this.bufferPixel;if(this.hasScrollView()&&this.enableVirtualScroll)for(var s=this.props.editor,c=null!=r?r:s._getScrollTop()||0,u=(u=s.props.maxHeight)||(null!=i?i:s._getScrollerHeight()||0),l=this.props.dataSource,d=this._getOffsetTopToScroller(),p=0,f=this.props.dataSource.length;p<f;p++){var h=this._getLayoutForIndex(p),g=h.height,m=h.top+d,v=l[p],y=this.getLineStatusForState(v);(!v.isInvisible()||y.shouldKeepActive)&&c-a<=m+g&&m<=c+u+a&&o.push({data:v,originIndex:p})}else o=this.layout.map(function(e,t){return{data:n.props.dataSource[t],originIndex:t}});return o},la.prototype.layoutMore=function(){var t=this;this.task=this.props.editor.fiber.scheduleTask(function(){var e;!t.mounted||-1!==(e=t.getUnrenderedItemIndex())&&(t._supportSkipAboveRender()?t.renderItem(e):(t.measureItem(e),t.reflow()),t.props.onItemsRendered&&t.props.onItemsRendered([{data:t.props.dataSource[e],originIndex:e}]),t.layoutMore())})},la.prototype.reflow=function(){this.calculate()},la.prototype.preprocessDiffData=function(e,a,s,t){for(var c=this,n=this.props.editor.selection.getSelection(),r=n.start,i=n.end,u=[],o=r.zoneId===be?r.line:this.props.editor.getLineNumInRootZone(r.zoneId,r.line),l=i.zoneId===be?i.line:this.props.editor.getLineNumInRootZone(i.zoneId,i.line),d=this._getStateIndexForLineNum(o),p=this._getStateIndexForLineNum(l),f=a.reduce(function(e,t){return e[t.originIndex]=!0,e},{}),h=s.reduce(function(e,t){return e[t.originIndex]=!0,e},{}),g=d;g<=p;g++){var m=this.props.dataSource[g];(!m.isInvisible()&&!t.preventUpdateSelection&&!h[g]||t.preventUpdateSelection&&f[g]&&!h[g])&&s.push({data:m,originIndex:g})}return oe(e,function(e,t,n){var r,i,o;e===Z.DELETE&&(r=a[n].originIndex,i=c.props.dataSource[r],(o=c.getLineStatusForState(i)).shouldRetain&&!c.isHardDeleted(i)&&u.push(r),o.shouldKeepActive&&!c.isHardDeleted(i)&&s.push({data:i,originIndex:r}))}),{shouldRetainIndex:u,newDiffs:ie(a.map(function(e){return e.data}),s.map(function(e){return e.data}))}},la.prototype.hardDelete=function(e,t){var n;void 0===t&&(t=!0);var r=e.getKey(),i=e._node;t&&(this.viewPortData=this.viewPortData.filter(function(e){return e.data.getKey()!==r})),Promise.resolve().then(function(){i.hasChildNodes()&&s.a.unmountComponentAtNode(i)}),null!==(n=i.parentNode)&&void 0!==n&&n.removeChild(i),this.reactMountNodeMap.delete(e)},la.prototype.isPlaceholderSurface=function(e){return!!e.data.placeholder},la.prototype.paint=function(p,f){var e,t,h=this;void 0===f&&(f={});var n=Math.max.apply(Math,W(p.map(function(e){return e.originIndex}),[0])),r=Math.min.apply(Math,W(p.map(function(e){return e.originIndex}),[n])),i=null!=(e=f.ensureRenderStartIndex)?e:this._supportSkipAboveRender()?r:0,o=null!=(t=f.ensureRenderEndIndex)?t:n;this.ensureItemsRendered([i,o],function(){p.length&&(h.viewportRange=[p[0].originIndex,p[p.length-1].originIndex]);var e=ie(h.viewPortData.map(function(e){return e.data}),p.map(function(e){return e.data})),t=h._getLinesStatusDetail().retainedLines,n=Object(g.a)(t.map(function(e){return h._getStateIndexForLineNum(e)})),r=h.preprocessDiffData(e,h.viewPortData,p,f),i=r.shouldRetainIndex,o=r.newDiffs,a=[],s=o.filter(function(e){return e.op===Z.UPDATE&&h.viewPortData[e.oldIndex].data._node!==p[e.newIndex].data._node?(h.hardDelete(h.viewPortData[e.oldIndex].data,!1),!0):e.op===Z.INSERT}).map(function(e){var t=p[e.newIndex];return a.push(t),{data:t.data,range:[t.originIndex,t.originIndex]}}),c=[],u=o.filter(function(e){return e.op===Z.DELETE}).map(function(e){var t=h.viewPortData[e.oldIndex],n=h.props.dataSource[t.originIndex];return h.isHardDeleted(t.data)||n&&n.getKey()===t.data.getKey()||(t.originIndex=h.props.dataSource.findIndex(function(e){return e.getKey()===t.data.getKey()})),c.push(t),{data:t.data,range:[t.originIndex,t.originIndex]}});h.updateLayoutIfNecessary(c)&&h.reflow();var l=p.map(function(e){return e.originIndex}),d=Object(g.a)(i.concat(n,l));h.updatePlaceholderInfos(d),s=s.concat(h.placeholderInfos.filter(function(e){return e.status===Z.UPDATE||e.status===Z.INSERT}).map(function(e){return{data:e,range:e.range}})).sort(function(e,t){return e.range[0]-t.range[0]}),u=u.concat(h.placeholderInfos.filter(function(e){return e.status===Z.DELETE}).map(function(e){return{data:e,range:e.range}})),h.props.onViewportWillChange&&(a.length||c.length||h.itemsUpdatedInBuffer.length)&&h.props.onViewportWillChange({insertedData:a.concat(h.itemsUpdatedInBuffer),deletedData:c}),s.forEach(function(e){var t,n;h.isPlaceholderSurface(e)?h.insertPlaceholder(e.data):(t=e.data,n=e.range,h.insertDomLine(t,n[0]))}),u.forEach(function(e){var t,n;h.isPlaceholderSurface(e)?h.removePlaceholder(e.data):(t=e.data,n=e.range,h.removeDomLine(t,n[0]))}),h.removeUselessInfo(),h.viewPortData=p,h.props.onViewportDidChange&&(a.length||c.length||h.itemsUpdatedInBuffer.length)&&h.props.onViewportDidChange({insertedData:a.concat(h.itemsUpdatedInBuffer),deletedData:c}),h.itemsUpdatedInBuffer=[],h.firstScreenPainted||(h.firstScreenPainted=!0);try{h.props.onDidPaint(p,f)}catch(e){console.error(e)}})},la.prototype.updatePlaceholderInfos=function(e){var i=this,t=bt(e,this.props.dataSource.length),o=0,a=[];t.forEach(function(e){var t=i.placeholderInfos[o];if(t){var n=t.range;if(e[0]===n[0]&&e[1]===n[1]){var r=i.getPlaceholderStyle(e);return Object(_.default)(r,t.style)&&i.isPlaceholderInRightPlace(t)||(t.style=r,t.status=Z.UPDATE),a.push(t),void o++}if(ze(e,n))return t.range=e,t.status=Z.UPDATE,t.style=i.getPlaceholderStyle(e),a.push(t),void o++;a.push(yt(e,i.getPlaceholderStyle(e)))}else a.push(yt(e,i.getPlaceholderStyle(e)))});for(var n=o;n<this.placeholderInfos.length;n++){var r=this.placeholderInfos[n];r.status=Z.DELETE,a.push(r)}this.placeholderInfos=a},la.prototype.isPlaceholderInRightPlace=function(e){var t,n=e.range,r=e.placeholder,i=this.props,o=i.host,a=i.dataSource,s=K(n,1)[0],c=null;return(c=0<=s-1?(null===(t=a[s-1]._node)||void 0===t?void 0:t.nextElementSibling)||null:o.firstElementChild)&&r===c||!c&&r===o.lastChild},la.prototype.getLastVisibleDataIfNecessary=function(e){var t=this.props.dataSource;if(!t[e].isInvisible())return e;for(;0<=--e;)if(!t[e].isInvisible())return e;return 0},la.prototype.getPlaceholderStyle=function(e){var t=K(e,2),n=t[0],r=t[1],i=this._getLayoutForIndex(n),o=this._getLayoutForIndex(this.getLastVisibleDataIfNecessary(r));return{height:o.top+o.height-i.top+"px",marginTop:i.marginTop+"px",marginBottom:o.marginBottom+"px"}},la.prototype.removeUselessInfo=function(){this.placeholderInfos=this.placeholderInfos.filter(function(e){return e.status!==Z.DELETE})},la.prototype.insertPlaceholder=function(e){var t,n=this.props,r=n.host,i=n.dataSource,o=e.range,a=e.placeholder,s=e.style,c=K(o,2),u=c[0],l=c[1];a.style.height=s.height,a.style.marginTop=s.marginTop,a.style.marginBottom=s.marginBottom,Object(p.a)(u,l+1).every(function(e){return i[e].isInvisible()})?a.style.display="none":a.style.display="",a.id="placeholder-id-"+u+"-"+l,e.status=Z.DONE;var d=null;(d=0<=u-1?(null===(t=i[u-1]._node)||void 0===t?void 0:t.nextElementSibling)||null:r.firstElementChild)&&a===d||!d&&a===r.lastChild||(d&&!r.contains(d)&&(console.log("refChild",d),console.log("range",o),console.log("placeholder",a)),r.insertBefore(a,d))},la.prototype.insertDomLine=function(e,t){var n,r=this.props,i=r.host,o=r.dataSource,a=e._node;a||console.error("Can not insert unrendered line",e);var s=this.getLineStatusForState(e);if(this.setLineStatus(e,"isActive",!0),!s.isRetained&&a.style.height&&(a.style.height="",Object(X.trace)("Doc word overlap!")),s.isRetained)return a.style.height="",Ge(a),void this.setLineStatus(e,"isRetained",!1);var c,u,l,d=null;(d=0<=t-1?(c=o[t-1],(u=this.getLineStatusForState(c)).isRetained||u.isActive?(null===(n=c._node)||void 0===n?void 0:n.nextElementSibling)||null:(null===(l=this.placeholderInfos.find(function(e){return e.status===Z.DONE&&e.range[1]===t-1}))||void 0===l?void 0:l.placeholder.nextElementSibling)||null):i.firstElementChild)&&a===d||!d&&a===i.lastChild||(d&&!i.contains(d)&&(console.log("refChild",d),console.log("node",a),console.log("index",t)),i.insertBefore(a,d))},la.prototype.getLineStatusForState=function(e){var t,n,r,i,o,a,s={isActive:!1,isRendered:!1,isRetained:!1,shouldRetain:!1,shouldKeepActive:!1};return e&&(e instanceof pr&&e._entry?(n=(t=e._entry).isActive,r=t.isRendered,i=t.isRetained,o=t.shouldRetain,a=t.shouldKeepActive,s.isActive=n,s.isRendered=r,s.isRetained=i,s.shouldRetain=o,s.shouldKeepActive=a):e instanceof hr&&(s.isActive=!0,s.isRendered=!0,s.isRetained=!1,s.shouldRetain=!1,s.shouldKeepActive=!1,e.content.forEach(function(e){var t,n,r,i,o,a=e._entry;a&&(t=a.isActive,n=a.isRendered,r=a.isRetained,i=a.shouldRetain,o=a.shouldKeepActive,t||(s.isActive=!1),n||(s.isRendered=!1),r&&(s.isRetained=!0),i&&(s.shouldRetain=!0),o&&(s.shouldKeepActive=!0))}))),s},la.prototype.removePlaceholder=function(e){var t,n=e.placeholder;null!==(t=n.parentElement)&&void 0!==t&&t.removeChild(n)},la.prototype.removeDomLine=function(e,t){var n,r=e._node,i=this.getLineStatusForState(e);if(!this.isHardDeleted(e)){if(this.setLineStatus(e,"isActive",!1),i.shouldRetain){var o=this.layout[t].height;return Ke(r),r.style.height=o+"px",void this.setLineStatus(e,"isRetained",!0)}null!==(n=r.parentElement)&&void 0!==n&&n.removeChild(r)}},la.prototype.setLineStatus=function(e,t,n){e instanceof pr&&e._entry?e._entry[t]=n:e instanceof hr&&e.content.forEach(function(e){e._entry&&(e._entry[t]=n)})},la.prototype.updateLayoutIfNecessary=function(e){var d=this,p=!1;return e.forEach(function(e){var t=e.originIndex,n=d.layout[t],r=n.top,i=n.height,o=n.marginTop,a=n.marginBottom,s=d.setItemLayout(e),c=s.height,u=s.marginTop,l=s.marginBottom;d.layout[t].top=r,c===i&&u===o&&l===a||(p=!0)}),p},la.prototype.shouldItemMeasure=function(e){return!this._getLayoutForIndex(e.originIndex).measured},la.prototype.shouldLineStateRender=function(e){if(e&&e._node[at])return!0;var t=this.renderErrorMap.get(e);return!(e._node.childElementCount||e.isInvisible()&&this.enableVirtualScroll||t&&!(t<ra))},la.prototype.isHardDeleted=function(e){return!this.reactMountNodeMap.has(e)},la.prototype.getItemType=function(e){return e instanceof hr?Object.keys(e.wrappers).join(" "):e.content.ops.map(function(e){var t=e.attributes;return t.lmkr?"lineMarker: "+Object.keys(t).join(",")+"; ":t.gallery?"gallery; ":t.aceTable?"aceTable; ":t.dataMetaBlockProps?JSON.parse(t.dataMetaBlockProps).blockType+"; ":""}).join("")},la.prototype._getOffsetTopToScroller=function(){if(!this.props.editor._considerOffsetTopToScroller)return 0;var e=this.props.editor._getScrollContainer(),t=e instanceof Window?document.body:e;return Fe(this.props.host,t)||0},la.prototype.render=function(){return null},la.contextType=te,la)),ha=(j(ga,da=c.Component),ga.prototype.UNSAFE_componentWillReceiveProps=function(e){this.state.data.compare(e.data)!==$.EQUAL&&this.setState({data:e.data})},ga.prototype.update=function(e,t){this.prevContent=this.state.data.content,this.setState({data:e},t)},ga.prototype.render=function(){var e=this.props,n=e.renderContent,r=e.extraProps,t=e.elements,i=this.state.data.content,o={};this.prevContent.length&&ie(this.prevContent,i).forEach(function(e){e.op===Z.INSERT&&(o[e.newIndex]=!0)});var a=i.map(function(e,t){return n(e,o[t]?F(F({},r),{createByEdit:!0}):r)});return t.reduceRight(function(e,t,n){return O.a.cloneElement(t,void 0,e)},a)},ga);function ga(e){var t=da.call(this,e)||this;return t.prevContent=[],t.state={data:e.data},t}function ma(e){var u=pa.call(this,e)||this;u.lineRefs={},u.wrapperCache={},u.handleContentChange=function(e){var t,n,r,i,o=e.deltaSet,a=e.previous,s=u.editor,c=u.content.getZoneId();o.deltas[c]&&(u.content=s.getContentState().getZoneState(c),t=u.updateVisibleStatus(u.content),n=u.getRenderContent(),r=u.state.dataSource,(i=a.getZoneState(c))&&u.updateZoneViewModel(i),u.setState({dataSource:u.keepWrapperState(n,r),visibilityChangedLines:t}))},u.handleRefresh=function(e){var t,n=e.zoneId,r=u.editor,i=u.content.getZoneId();i===n&&(u.content=r.getContentState().getZoneState(i),t=u.updateVisibleStatus(u.content),u.setState({dataSource:u.getRenderContent(),visibilityChangedLines:t}))},u.renderWrapper=function(i,e){var o=u.editor,t=Object.keys(i.wrappers).sort(function(e,t){var n=i.wrappers[e].plugin,r=i.wrappers[t].plugin;return o.indexOfPlugin(n)-u.editor.indexOfPlugin(r)}).map(function(e){return i.wrappers[e].element}),n=i.getKey();return O.a.createElement(ha,{ref:function(e){return u.initRefs(n,e)},data:i,elements:t,extraProps:e,renderContent:u.renderWrapperContent})},u.renderWrapperContent=function(e,t){return O.a.createElement("div",{key:e.getKey()},u.renderLineChildren(e,t))},u.renderLineOrWrapper=function(e,t){return e instanceof pr?u.renderLineChildren(e,t):u.renderWrapper(e,t)},u.renderLineChildren=function(e,t){var n=e.getKey();return O.a.createElement(us,{ref:function(e){return u.initRefs(n,e)},editor:u.editor,lineKey:n,zoneId:e.getZoneId(),extraProps:t})},u.initRefs=function(e,t){if(t)for(var n=(u.lineRefs[e]=t)._node,r=n&&n.parentElement,i=u.editor.getDocBody();r;){if(r.hasAttribute(ct)||r===i){n.root=r;break}r=r.parentElement}},u.updateVisibleStatus=function(e){for(var t=e.getZoneId(),n=u.editor.lineTracker.collapseLines,r=e.length(),i=0,o=[];i<r;){var a=e.getLine(i),s=null===n||void 0===n?void 0:n.getCollapsedStatusOfLine(t,i),c=!(!s||!s.renderCollapsed||s.startOfCollapseSection);void 0!==a._invisible&&a._invisible!==c&&o.push(a),a._invisible=c,i++}return o},u.updateItem=function(e,t,n){var r=e.getKey(),i=u.lineRefs[r];i&&i.update(e,n)},u.handleDidPaint=function(e,t){var n,r,i,o,a;void 0===t&&(t={}),!1!==u.editor.mounted&&(r=(n=u.props).editor,i=n.onDidPaint,o=t.preventUpdateSelection,i&&i(e,t),a=u.props.defaultContent.getZoneId(),r.call(mr.PAINT,{data:e,zoneId:a}),We(u.editor),r.selection.getSelection().start.zoneId!==a||o||r.flags.isPerforming||!r.selection.isEditorFocused()||r.selection._updateBrowserSelection(),u.editor.flags.contentChanged=!1,r.call(ke))},u.updateZoneViewModel=function(e){var t=u.editor._getViewModel(),n=t.getView(e);t._deleteNode(e),n&&t._setNode(u.content,n)};var t=u.props,n=t.defaultContent,r=t.editor;return u.content=n,u.editor=r,u.updateVisibleStatus(u.content),u.state={dataSource:u.getRenderContent(),visibilityChangedLines:[]},r.on(mr.CONTENT_CHANGE,u.handleContentChange),r.on("_forceRefresh",u.handleRefresh),u}function va(e,t){var n,r;try{for(var i=V(e),o=i.next();!o.done;o=i.next()){var a=o.value;if(a._wrapperState){var s=a._wrapperState.getKey();return t.has(s)?void 0:(t.set(s,!0),s)}}}catch(e){n={error:e}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}var ya,ba=Qe((j(ma,pa=c.Component),ma.prototype.getWrappers=function(e,t){var n,r;if(!e)return null;var i={};try{for(var o=V(e),a=o.next();!a.done;a=o.next()){var s,c,u=K(a.value,2),l=u[0],d=u[1],p=l+d,f=this.wrapperCache[p],h=void 0;f?h=f:null===f||(s=this.props.editor._matchPlugin(l,d))&&s.renderWrapper&&(h=s),h&&((c=h.renderWrapper({lineState:t}))&&(i[p]={element:c,plugin:h}),this.wrapperCache[p]=h)}}catch(e){n={error:e}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return Object.keys(i).length?i:null},ma.prototype.getRenderContent=function(){for(var u,l=[],d=new Map,e=function(e,t){var n=p.content.getLine(e),r=p._getLineWrappers(n),i=[],o=void 0;if(r){for(i.push(n);e<t-1;){e++,o=p.content.getLine(e);var a=p._getLineWrappers(o);if(!p.isEqual(r,a)){e--;break}i.push(o)}var s=va(i,d),c=new hr({wrappers:r,content:i,key:s});i.forEach(function(e){e._wrapperState=c}),c._node=document.createElement("div"),l.push(c)}else l.push(n);u=e},p=this,t=0,n=this.content.length();t<n;t++)e(t,n),t=u;var r=[],i=new Map;return l.forEach(function(e){var t,n=e.getKey();i.has(n)?((t=i.get(n))&&r.push(t),r.push(e),i.set(n,null)):i.set(n,e)}),r.forEach(function(e){e._refreshKey()}),l},ma.prototype._getLineWrappers=function(e){var t;return void 0===e.__wrapper&&(t=e.getLineAttributes(),e.__wrapper=this.getWrappers(t,e)),e.__wrapper},ma.prototype.isEqual=function(e,t){var n,r,i,o;if(!e||!t)return!1;var a=Object.keys(e);try{for(var s=V(a),c=s.next();!c.done;c=s.next()){var u=c.value;if((null===(i=e[u])||void 0===i?void 0:i.element)!==(null===(o=t[u])||void 0===o?void 0:o.element))return!1}}catch(e){n={error:e}}finally{try{c&&!c.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}return a.length===Object.keys(t).length},ma.prototype.keepWrapperState=function(e,t){var n=ae(t);return e.map(function(e){if(e instanceof hr){var t=n.get(e.getKey());if(!t)return e;if(e.compare(t.data)===$.EQUAL)return t.data;e.compare(t.data)===$.UPDATE&&(e._node=t.data._node)}return e})},ma.prototype.componentDidUpdate=function(){var t,e,n,r,i=this.state.dataSource,o={};try{for(var a=V(i),s=a.next();!s.done;s=a.next())o[s.value.getKey()]=!0}catch(e){t={error:e}}finally{try{s&&!s.done&&(e=a.return)&&e.call(a)}finally{if(t)throw t.error}}try{for(var c=V(Object.keys(this.lineRefs)),u=c.next();!u.done;u=c.next()){var l=u.value;o[l]||delete this.lineRefs[l]}}catch(e){n={error:e}}finally{try{u&&!u.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}},ma.prototype.componentWillUnmount=function(){this.editor.off("_forceRefresh",this.handleRefresh),this.editor.off(mr.CONTENT_CHANGE,this.handleContentChange)},ma.prototype.render=function(){var e=this.state,t=e.dataSource,n=e.visibilityChangedLines;return O.a.cloneElement(this.props.children,{dataSource:t,visibilityChangedLines:n,renderItem:this.renderLineOrWrapper,onDidPaint:this.handleDidPaint,updateItem:this.updateItem,fiber:this.props.editor.fiber})},ma.defaultProps={onDidPaint:function(){return null},height:1/0,onMount:function(){return null}},ma)),Ea=(j(_a,ya=c.Component),_a.prototype.render=function(){var e=this.props,t=e.defaultContent,n=e.editor,r=e.contentEditable,i=t.getZoneId();return O.a.createElement("div",{key:i,ref:this.handleZoneViewRef,style:{outline:"none"},className:"adit-container zoneId-"+i+" ace-editor","data-zone-id":i,contentEditable:r},O.a.createElement(ba,{defaultContent:t},O.a.createElement(Ca,{zoneId:i,editor:n,createByEdit:this.props.createByEdit,dataSource:[],renderItem:function(){return null},onDidPaint:function(){return null}})))},_a);function _a(){var a=null!==ya&&ya.apply(this,arguments)||this;return a.handleZoneViewRef=function(e){var t,n,r,i,o;e&&(e!==a.dom&&(a.props.onMount(e),a.dom=e),n=(t=a.props).defaultContent,r=t.editor,i=n.getZoneId(),o=r.getContentState().getZoneState(i),a.props.editor._getViewModel()._setNode(o,e))},a}var Aa,Ca=(j(Ta,Aa=c.Component),Ta.prototype.componentDidMount=function(){var t=this;this._isMounted=!0,this.dispatchPaintEvent(),this.setEntryActive(),this.props.dataSource.forEach(function(e){t.keyToNode.set(e.getKey(),e._node)})},Ta.prototype.componentDidUpdate=function(){var t=this;this.dispatchPaintEvent(),this.setEntryActive(),this.keyToNode.clear(),this.props.dataSource.forEach(function(e){t.keyToNode.set(e.getKey(),e._node)})},Ta.prototype.componentWillUnmount=function(){this.keyToNode.clear()},Ta.prototype.setEntryActive=function(){var e=this.props,t=e.editor,n=e.zoneId,r=t.getRep(n);if(r)for(var i=0,o=r.lines.length();i<o;i++){var a=r.lines.atIndex(i);a&&!a.isActive&&(a.isActive=!0)}},Ta.prototype.dispatchPaintEvent=function(){var e=this;Promise.resolve().then(function(){e.props.onDidPaint(e.props.dataSource.map(function(e,t){return{data:e,originIndex:t}}))})},Ta.prototype.render=function(){var e=this.props,t=e.dataSource,n=e.editor;return O.a.createElement(Ze.Provider,{value:n},t.map(this.renderLineView))},Ta);function Ta(){var r=null!==Aa&&Aa.apply(this,arguments)||this;return r._isMounted=!1,r.keyToNode=new Map,r.renderLineView=function(e){var t=e.getKey(),n=r.keyToNode.get(t);return n&&!document.contains(n)&&(t+=Math.random()),O.a.createElement("div",{key:t},r.props.renderItem(e,r._isMounted||r.props.createByEdit?{createByEdit:!0}:void 0))},r}var Oa=Qe(Ea);function ka(e){return e.slice(2).toLowerCase()}function Sa(e){var t=/^\[object (\S+)\]/i,n=e.toString().toLocaleLowerCase();return t.test(n)?t.exec(n)[1]:(console.error("can not get event classification"),"")}function wa(e,t){return e?t.selection._toModelRange({startContainer:e,startOffset:0,endContainer:e,endOffset:e.childNodes.length}):null}function Ia(e){var t=ta(e.nativeEvent),n=t.preventDefault,r=t.stopPropagation;return t.preventDefault=function(){n.call(t),e.preventDefault()},t.stopPropagation=function(){r.call(t),e.stopPropagation()},t.currentTarget=e.currentTarget,t.target=e.target,t}var xa,La,Ra=[],Na=["select","deselect"],Da=W(Na,["enterviewport","leaveviewport"]),Ma=Ra.concat(Da),Pa=["focusevent","mouseevent","touchevent","pointerevent"];(La=xa=xa||{}).IMG="img",La.TEXT="span",La.VIEW="div";var ja,Fa=(j(Ba,ja=O.a.Component),Ba.prototype.componentDidMount=function(){this.updateEventCb(),this.editor=this.context,this._bindEditorEvents()},Ba.prototype.componentDidUpdate=function(e){this.updateEventCb()},Ba.prototype.componentWillUnmount=function(){this.editor.off("selectionchange",this._handleEditorSelectionChange)},Ba.prototype.updateEventCb=function(){var n=this;this._events=Object.keys(this.props).filter(function(e){return e.startsWith("on")}).reduce(function(e,t){return e[ka(t)]=n.props[t],e},{})},Ba.prototype.render=function(){var n=this,e=this.tagName,t=Object.keys(this.props).reduce(function(e,t){return t.startsWith("on")?e[t]=Ma.includes(ka(t))?void 0:n._handleSynthesisEvents:e[t]=n.props[t],e},{});return O.a.createElement(e,F({ref:this._ref},t),this.props.children)},Ba.contextType=Ze,Ba);function Ba(){var l=null!==ja&&ja.apply(this,arguments)||this;return l.editor=l.context,l.option={},l._selected=!1,l._ref=O.a.createRef(),l._prevSel=null,l._bindEditorEvents=function(){l.option.selectEventEnabled&&Na.find(function(e){return l._events[e]})&&l.editor.on(mr.SELECTION_CHANGE_AND_DOM_UPDATE,l._handleEditorSelectionChange)},l._handleEditorSelectionChange=function(){var e;if(l.option.selectEventEnabled){var t,n,r,i,o,a,s,c=l.editor.selection.getSelection(),u=!l._prevSel&&c.isCollapsed()||(null===(e=l._prevSel)||void 0===e?void 0:e.isCollapsed())&&c.isCollapsed();if(l._prevSel=c,!u){try{t=wa(l._ref.current,l.editor)}catch(e){}t&&(n=c.start,r=c.end,i=t.start,o=t.end,(a=n.zoneId===i.zoneId&&n<=i&&o<=r)?(s=l._events.select,l._selected=!0,null!==s&&void 0!==s&&s.call(s)):!a&&l._selected&&(s=l._events.deselect,l._selected=!1,null!==s&&void 0!==s&&s.call(s)))}}},l._triggerEventCallback=function(e,t){var n,r=l._events[e.type],i=Ia(e);r&&(Pa.includes(Sa(t))&&(n=wa(e.currentTarget,l.editor),i.evtTargetSelection=n),r.call(r,i))},l._handleSynthesisEvents=function(e){l._triggerEventCallback(e,e.nativeEvent)},l}var Ua=Object(c.forwardRef)(function(e,t){return O.a.createElement("span",F({ref:t,"data-zero-space":!0},e),$e)}),Ha='<span data-zero-space="true" data-faketext="" data-contentcollector-ignore-space-at="end">'+$e+"</span>",za=Object(c.createContext)(null),Va=function(n){return function(t){return O.a.createElement(za.Consumer,null,function(e){return e&&O.a.createElement(n,F({},t,{leafModel:e}))})}};function Ka(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Object(c.useRef)(null);return Object(c.useEffect)(function(){e.forEach(function(e){e&&("function"==typeof e?e(n.current):e.current=n.current)})},[e]),n}var Ga,Wa,Ya,qa=function(i,o){var e=K(Object(c.useState)({width:0,height:0}),2),a=e[0],s=e[1],r=Object(c.useCallback)(function(e){var t,n,r;e instanceof Event?(t=i.getBoundingClientRect(),o({previous:a,current:{width:t.width,height:t.height}})):(r={width:(n=e[0].contentRect).width,height:n.height},o({previous:a,current:r}),s(r))},[a,s,i,o]);Object(c.useEffect)(function(){if(i){if(window.ResizeObserver){var e=new window.ResizeObserver(r);return e.observe(i),function(){e.disconnect()}}var t=document.createElement("iframe");t.setAttribute("style","\n        position: absolute;\n        width: 100%;\n        height: 100%;\n        top: -1000%;\n        left: -1000%;\n        user-select: none;\n        visibility: hidden;\n      "),t.addEventListener("resize",r);var n=i.parentElement;return n.appendChild(t),function(){n.removeChild(t),t.removeEventListener("resize",r)}}},[i,r])};function Za(){var t=null!==Ya&&Ya.apply(this,arguments)||this;return t.tagName=xa.TEXT,t.option={viewportEventEnabled:!0,selectEventEnabled:!0},t._zeroSpaceRef=O.a.createRef(),t.handleMouseDown=function(){var e;!t._zeroSpaceRef.current||(e=wa(t._zeroSpaceRef.current,t.props.editor))&&t.props.editor.selection.setSelection(e,!0)},t.handleRef=function(e){e&&(t.props.editor._getViewModel()._setLeaf(e,t.props.leafModel),t._ref.current=e)},t}(Wa=Ga=Ga||{})[Wa.editor=0]="editor",Wa[Wa.leafModel=1]="leafModel";var Xa,Qa=Qe(Va((j(Za,Ya=Fa),Za.prototype.componentDidUpdate=function(e){e.leafModel!==this.props.leafModel&&this._ref.current&&this.handleRef(this._ref.current)},Za.prototype.render=function(){var e,r=this,t=xa.TEXT,n=Object.keys(this.props).reduce(function(e,t){var n;return Ga[t]||(t.startsWith("on")?e[t]=Ma.includes(ka(t))?void 0:r._handleSynthesisEvents:e[t]=r.props[t],"style"===t&&"inline-block"===(null===(n=r.props[t])||void 0===n?void 0:n.display)&&console.error("Warning: Style 'display:inline-block' will cause a strange cursor position.\n            See https://stackoverflow.com/questions/61332798/caret-position-and-selection-height-for-inline-elements-in-chrome for more imformation.")),e},{});return O.a.createElement(O.a.Fragment,null,this.props.leftZeroSpace&&O.a.createElement(Ua,{key:Math.random()+""}),O.a.createElement(t,F({},((e={})[st]=" ",e),{contentEditable:!1,ref:this.handleRef,onMouseDown:this.handleMouseDown},n),this.props.children,this.props.rightZeroSpace&&O.a.createElement(Ua,{ref:this._zeroSpaceRef})))},Za.defaultProps={leftZeroSpace:!0,rightZeroSpace:!0},Za))),Image=function(t){function Image(){var e=null!==t&&t.apply(this,arguments)||this;return e.tagName=xa.IMG,e.option={viewportEventEnabled:!0,selectEventEnabled:!0},e}return j(Image,t),Image}(Fa),Ja=function(t){function Text(){var e=null!==t&&t.apply(this,arguments)||this;return e.tagName=xa.TEXT,e}return j(Text,t),Text}(Fa),$a=(j(es,Xa=Fa),es);function es(){var e=null!==Xa&&Xa.apply(this,arguments)||this;return e.tagName=xa.VIEW,e.option={viewportEventEnabled:!0,selectEventEnabled:!0},e}O.a.forwardRef(function(e,t){var n=e.onMount,r=Object(c.useRef)(null),i=Xe(),o=Object(c.useCallback)(function(e){i.call("resize",e)},[i]),a=Ka(t,r);return qa(a.current,o),Object(c.useEffect)(function(){a.current&&n(a.current)},[a,n]),O.a.createElement("div",F({},e,{ref:a,contentEditable:!0,suppressContentEditableWarning:!0}),e.children)});var ts="priority",ns=1e3;function rs(r){return function(e,t,n){return e[t+"_"+ts]=r,n}}function is(e,t){return Object(a.a)(e,function(e){return"number"==typeof e[t+"_"+ts]?e[t+"_"+ts]:ns})}var os=(as.prototype.register=function(e){this._pluginsWithPriorityMapCache=new Map,this._plugins.push(e),this._indexMap.set(e,this._plugins.length-1)},as.prototype.callAll=function(e,t){return this._hooks.callAll(e,t)},as.prototype.call=function(r,e,i){var o=this;return void 0===i&&(i=function(e,t){return e}),this.getPluginsWithPriority(r).reduce(function(e,t){var n=t[r];if(n&&"function"==typeof n){try{return i(e,n.call(t,e))}catch(e){console.error("Warning: call hook failed. hook: "+r+", plugin: "+t.className,e),o.editor.log("hooks call error stack: ",e.stack),Object(X.trace)("hooks call error: "+e.message)}return e}return e},e)},as.prototype.getPluginsWithPriority=function(e){if(this._pluginsWithPriorityMapCache.has(e))return this._pluginsWithPriorityMapCache.get(e);var t=is(this._plugins,e);return this._pluginsWithPriorityMapCache.set(e,t),t},as.prototype.getPlugins=function(){return this._plugins},as.prototype._matchPlugin=function(e,t){var n,r,i=e+t,o=this._matchCache.get(i);if(void 0!==o)return o;try{for(var a=V(this._plugins),s=a.next();!s.done;s=a.next()){var c=s.value;if(c.match&&c.match(e,t))return this._matchCache.set(i,c),c}}catch(e){n={error:e}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}return this._matchCache.set(i,null),null},as.prototype.getPlugin=function(e){var t,n;try{for(var r=V(this._plugins),i=r.next();!i.done;i=r.next()){var o=i.value;if(o.name===e)return o}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return null},as.prototype.indexOf=function(e){var t=this._indexMap.get(e);return null!=t?t:-1},as.prototype.destroy=function(){this._plugins=[],this._hooks=null,this._registerPlugin=null,this.editor=null,this._matchCache.clear(),this._indexMap.clear(),this.pluginsMap={},this._pluginsWithPriorityMapCache.clear()},as);function as(e,t){var a=this;this._plugins=[],this._matchCache=new Map,this._indexMap=new Map,this._pluginsWithPriorityMapCache=new Map,this.pluginsMap={},this._init=function(){var e=a.editor;a._registerPlugin(e).forEach(function(e,t){a._plugins.push(e),a._indexMap.set(e,t)}),a._hooks=Object(X.registerHooks)(a.editor,a._plugins);for(var t=0,n=a._plugins.length;t<n;t++){var r,i=a._plugins[t],o=i.className;o&&(r=o.slice(0,1).toLowerCase()+o.slice(1),a.pluginsMap[r]=i)}return a._pluginsWithPriorityMapCache=new Map,a._plugins},this._registerPlugin=e,this.editor=t}var ss,cs="ace-line",us=(j(ls,ss=c.Component),ls.prototype.shouldComponentUpdate=function(e,t){return t.lineState!==this.state.lineState||t._contentsKey!==this.state._contentsKey},ls.prototype.update=function(e,t){document.body.contains(this._node)||document.createElement("div").appendChild(this._node);var n=this.props.editor.flags.dangerousInput;this.setState({lineState:e,_contentsKey:n?this.getForceRefreshKey():this.state._contentsKey},t),this.shouldCallLineReplace=!0,this.props.editor.flags.dangerousInput=!1},ls.prototype.UNSAFE_componentWillReceiveProps=function(e){var t=e.lineKey,n=e.zoneId,r=this.props.editor.getContentState().getZoneState(n).getLineByKey(t);r&&r!==this.state.lineState&&(this.setState({lineState:r}),this.props.editor.flags.dangerousInput&&(this.setState({_contentsKey:this.getForceRefreshKey()}),this.props.editor.flags.dangerousInput=!1))},ls.prototype.componentDidMount=function(){this.processAfterInsertNode()},ls.prototype.componentDidUpdate=function(e,t){var n,r,i=this;this._node&&(this.updateRef(this._node),n=this.state.lineState._entry,r=t.lineState._entry,Promise.resolve().then(function(){!1!==i.props.editor.mounted&&(i.processAfterInsertNode(),i.props.editor.callAll("lineDidUpdate",{data:{lineEntry:n,prevLineEntry:r},isUpdate:!0}))}))},ls.prototype.componentWillUnmount=function(){var t,e,n,r,i,o=this,a=this.props.editor,s=this.state.lineState,c=s._entry,u=s.getZoneId(),l=a.getContentState().getZoneState(u),d=!1;try{for(var p=V(l),f=p.next();!f.done;f=p.next())if(f.value===s){d=!0;break}}catch(e){t={error:e}}finally{try{f&&!f.done&&(e=p.return)&&e.call(p)}finally{if(t)throw t.error}}c&&!d&&(r=a.repManager._replaceEntryArr,i=!1,r.forEach(function(e){e.oldEntry===c&&e.zoneId===s.parent.getZoneId()&&(i=!0,o.callLinesWillReplace([e.oldEntry],[e.newEntry]))}),i||this.callLinesWillReplace([c],[]),a._pluginManager.call("lineWillUnmount",{lineEntry:c}),null!==(n=c.lineNode)&&void 0!==n&&n.pocket&&c.lineNode.pocket.clear(),this.clear())},ls.prototype.clear=function(){var t,e,n=this.props.editor,r=this.state.lineState,i=n._getViewModel(),o=r.getZoneId(),a=n.getContentState().getZoneState(o);a&&a.getLineByKey(r.getKey())===r||i._deleteNode(this.state.lineState);try{for(var s=V(this._leafs),c=s.next();!c.done;c=s.next()){var u=c.value;i._deleteLeaf(u),u.firstChild&&u.removeChild(u.firstChild)}}catch(e){t={error:e}}finally{try{c&&!c.done&&(e=s.return)&&e.call(s)}finally{if(t)throw t.error}}this._leafs.clear(),this._opToView.clear(),this._opViewKeyMap.clear()},ls.prototype.getForceRefreshKey=function(){return this.state._contentsKey+this._refreshTimes++},ls.prototype.reset=function(){this._opSum=0},ls.prototype.renderView=function(){var e=this.props.editor,t=this.state.lineState;this._lineClass=cs;var n=t.index,r=this.getFilterStack(n).lineState,i=r._getDelta(),o=t.getZoneId(),a=e.createDomLine(t.getModelText());(this._domline=a).setLineMarker(t.getLineMarker()),a.zone=o;var s,c,u=[];t.hasLineMarker()?(s=[],c=this.renderParent(r,i.ops[0],s),s.push.apply(s,W(this.renderChildren(r,a,i.ops.slice(1),n))),u.push(c)):u=this.renderChildren(r,a,i.ops,n);var l=this.renderCustomLineView(r,u),d={isPocket:!1,isPocketWithoutFakeText:!1,index:n,info:{lineMarker:r.hasLineMarker()?1:0,lineClass:this._lineClass,zone:r.getZoneId()}};return e.hooks.callAll("acePreWriteDomLineHTML",d),d.isPocket&&u.unshift(this.getPocketJSX({isPocketWithoutFakeText:d.isPocketWithoutFakeText})),this.reset(),l},ls.prototype.getPocketJSX=function(e){var t=e.isPocketWithoutFakeText,n=O.a.createElement("span",{className:"ace-line-pocket ignore-dom pocket-ignore","data-ignore-mutation":!0,"data-fake-text":"",suppressContentEditableWarning:!0,contentEditable:"false","data-ignore-selection":""}),r=O.a.createElement("span",{className:"pocket-suffix","data-fake-text":"",contentEditable:"false",style:{userSelect:"none"},suppressContentEditableWarning:!0},"");return t?n:O.a.createElement(O.a.Fragment,null,n,r)},ls.prototype.renderCustomLineView=function(i,e){var o=this,t=this.props.editor.getPlugins(),a=this.state.lineState,s={},n=t.reduce(function(e,t){if(t.renderLine){var n={lineState:i,children:e,style:s,lineClass:o._lineClass,index:a.index,editable:!0},r=t.renderLine(n);if(o._lineClass=n.lineClass,n.editable||(o._domline.editable=n.editable),r)return r}return e},e);return Object.keys(s).length?O.a.createElement("div",{style:s},n):n},ls.prototype.renderParent=function(e,t,n){var r={tokenClass:"",lineClass:this._lineClass},i=this.renderCustomView(e,t,n,r),o=i.view,a=i.renderContext;return this._lineClass=a.lineClass,O.a.createElement(O.a.Fragment,null,o)},ls.prototype.handleDisplayEnter=function(e){var t,n,r=this.props.editor._getSchema();!e.some(function(e){return!Ye(e.attributes,r)})||(n=e[e.length-1]).insert===lt&&(n.attributes=F(F({},null!=(t=n.attributes)?t:{}),{displayEnter:"false"}))},ls.prototype.renderChildren=function(i,e,t,n){var o=this;t=t.reduce(function(n,r){var i,e=r.insert;return"string"==typeof e&&e.includes("\n")&&1<e.length?(i=e.split("\n")).forEach(function(e,t){e&&(n.push(F(F({},r),{insert:e})),t!==i.length-1&&n.push({attributes:F(F({},null===r||void 0===r?void 0:r.attributes),{enter:"true"}),insert:lt}))}):"\n"===e?n.push({attributes:F(F({},null===r||void 0===r?void 0:r.attributes),{enter:"true"}),insert:lt}):n.push(r),n},[]),this.handleDisplayEnter(t);var a=[];return t.forEach(function(e,t){var n={lineClass:o._lineClass,class:"",text:""},r=o.renderChild(i,e,n,t+"");o._opToView.set(e,r),a.push(r)}),this._opViewKeyMap.clear(),this.renderInlineWrapper(a,t,i)},ls.prototype.renderInlineWrapper=function(u,e,l){for(var d=this,t=e.reduce(function(e,t,n){var r=F({},t.attributes||{}),i=e.length?e[e.length-1]:null,o=d._opToView.get(t),a=u.indexOf(o);-1!==a&&(n=a);var s=d.processLocalAttributesAndGetMatchedPlugins(r),c=[];return s.forEach(function(e){var t,n;e.renderInlineWrapper&&(t={attributes:r,lineState:l},(n=e.renderInlineWrapper(t))&&c.push(n))}),0===c.length||(i&&qe(i.opWrappers,c)&&i.range[1]+1===n?i.range[1]=n:e.push({opWrappers:c,range:[n,n]})),e},[]),n=t.length;0<=--n;){var r=t[n],i=r.opWrappers,o=K(r.range,2),a=o[0],s=o[1],c=u.slice(a,s+1),p=i.reduce(function(e,t){return O.a.cloneElement(t,{},e)},c);u.splice(a,s-a+1,p)}return u},ls.prototype.getFilterStack=function(e){var t=this.props.editor,n={lineState:this.state.lineState,index:e};return t.callAll("_editorLineStateWillRender",n),n},ls.prototype.renderTextView=function(n,r){var e,t,i=this;if("string"!=typeof n.insert)return O.a.createElement(O.a.Fragment,null);var o=((e={})[nt]=!0,e);null!==(t=n.attributes)&&void 0!==t&&t.enter&&(o[rt]=!0);var a=this.props.editor._getViewModel();return O.a.createElement("span",F({key:"1"},o,{ref:function(e){var t;e&&(e.hasAttribute(nt)||e.hasAttribute(st))&&(t={op:n,start:r},a._setLeaf(e,t),i._leafs.add(e)),e&&n.insert!==e.textContent&&(Array.from(e.childNodes).slice(1).forEach(function(e){var t;null!==(t=e.parentNode)&&void 0!==t&&t.removeChild(e)}),!e.firstChild||e.firstChild instanceof HTMLElement||(e.firstChild.nodeValue=n.insert))}}),n.insert)},ls.prototype.renderCustomView=function(e,t,n,r){var i,o=F({},t.attributes||{}),a=this.state.lineState,s={lineState:e,attributes:o,insert:t.insert,domAttributes:{},children:n,class:r.class||"",lineClass:r.lineClass||"",style:r.style||{},key:"",domLine:this._domline,index:a.index,zoneId:a.getZoneId()};return t.insert===lt&&null!==(i=t.attributes)&&void 0!==i&&i.enter||this.processLocalAttributesAndGetMatchedPlugins(o).forEach(function(t){if(t.render){try{n=t.render(s)}catch(e){console.error(t.className+" plugin render failed! Index: "+a.index),console.error(e)}s=F(F({},s),{children:n})}}),{view:n,renderContext:s}},ls.prototype.processLocalAttributesAndGetMatchedPlugins=function(r){var i=this,o=new Set;Object.keys(r).forEach(function(e){var t,n=r[e];""!==n&&(e.startsWith(Ae)&&(delete r[e],e=e.slice(Ae.length),r[e]=n),(t=i.props.editor._matchPlugin(e,r[e]))&&o.add(t))});var t=this.props.editor;return Object(a.a)(Array.from(o),["render_"+ts,function(e){return t.indexOfPlugin(e)}])},ls.prototype.render=function(){if(!this.state)return null;var e=this.state._contentsKey,t=this.renderView();return O.a.createElement("div",{"data-line-wrapper":!0,ref:this.handleRef,key:e},t)},ls);function ls(e){var T=ss.call(this,e)||this;T._refreshTimes=1,T.shouldCallLineReplace=!1,T._opToView=new Map,T._lineClass=cs,T._opSum=0,T._hackRenderPlugins=[],T._opViewKeyMap=new Map,T._leafs=new Set,T.updateRef=function(e){var t,n,r=T.props.editor._getViewModel();e&&(T._node=e,(t=T.state.lineState)._node=e,r._setNode(t,e)),!e||(n=T.state.lineState._entry)&&(e.oldId=e.id,e.id=n.key,e.className=T._lineClass,e.setAttribute("data-node","true"),T._domline.node=e,T._domline.lineClass=e.className,n.lineNode=e,n.setDomInfo(T._domline),!1===T._domline.editable?e.setAttribute("contenteditable","false"):e.removeAttribute("contenteditable"),T._domline.decorateMagicObjects(n))},T.renderChild=function(e,t,n,r){var i,o,a,s,c=T._opSum,u=T.renderTextView(t,c),l=T.renderCustomView(e,t,u,n),d=l.view,p=l.renderContext,f=p.style,h=p.class,g=p.domAttributes,m={className:""};f&&(m.style=f),h&&(m.className=h),null!==(s=t.attributes)&&void 0!==s&&s.displayEnter&&(m.className+=" not-display-enter");var v=Object.keys(g);try{for(var y=V(v),b=y.next();!b.done;b=y.next()){var E=b.value;m[E]=g[E]}}catch(e){i={error:e}}finally{try{b&&!b.done&&(o=y.return)&&o.call(y)}finally{if(i)throw i.error}}T._lineClass=p.lineClass,T._opSum+=t.insert.length,n.class="";var _,C=p.key;return C||(C=t.insert+JSON.stringify(t.attributes),_=T._opViewKeyMap.has(C)?T._opViewKeyMap.get(C)+1:0,T._opViewKeyMap.set(C,_),C+=_),O.a.createElement(za.Provider,{key:C,value:{op:t,start:c}},O.a.createElement("span",F({},m,((a={})[et]=!0,a),{ref:function(t){t&&(T._hackRenderPlugins.forEach(function(e){e.renderAfterMount(t,F({},p))}),p=null)}}),d))},T.handleRef=function(e){var t;e&&(t=e.parentElement,T.updateRef(t))},T.processAfterInsertNode=function(){var t,e,n,r,i=T.props.editor,o=T.state.lineState,a=o._entry;T._node&&a&&(a.mounted=!0,t=i.getRep(o.getZoneId()).lines.indexOfEntry(a),e=i.repManager._replaceEntryArr,n=!1,e.forEach(function(e){e.index===t&&e.zoneId===o.parent.getZoneId()&&(e.newEntry=a,n=!0)}),r={entry:a,cls:T._lineClass,index:t},T.shouldCallLineReplace&&i.callAll("processAfterInsertNode",r),!n&&T.shouldCallLineReplace&&(T.shouldCallLineReplace=!1,T.callLinesWillReplace([],[a])))},T.callLinesWillReplace=function(e,t){var n=T.props.editor;n.mounted&&n.callAll("linesWillReplace",{oldLineEntries:e,newLineEntries:t,isRemote:!1})};var t=T.props,n=t.lineKey,r=t.zoneId,i=t.extraProps,o=T.props.editor.getContentState().getZoneState(r).getLineByKey(n);return o?T.state={lineState:o,_contentsKey:n}:console.error("no line state of key, zoneId",n,r),T.shouldCallLineReplace=(null===i||void 0===i?void 0:i.createByEdit)||!1,T.props.editor.getPlugins().forEach(function(e){e.renderAfterMount&&T._hackRenderPlugins.push(e)}),T}var ds,ps=(j(fs,ds=c.Component),fs.prototype.render=function(){var e=this.props,t=e.host,n=e.editor,r=e.onDidPaint,i=e.onScrollStop,o=e.onItemsRendered,a=e.defaultContent,s=e.onViewportDidChange,c=e.onViewportWillChange;return O.a.createElement(ba,{defaultContent:a,editor:n,onDidPaint:r},O.a.createElement(fa,{host:t,editor:n,onScrollStop:i,onItemsRendered:o,onViewportDidChange:s,onViewportWillChange:c}))},fs);function fs(){return null!==ds&&ds.apply(this,arguments)||this}var hs=(gs.isPosition=function(e){return e instanceof gs},gs.prototype.toRange=function(e){var t=this,n=t.editor,r=t.start,i=t.len,o=t.zoneId,a=(e||n.getContentState()).getZoneState(o),s=a.offsetToLocation(r),c=a.offsetToLocation(r+i);return new ys({editor:n,start:F(F({},s),{zoneId:o}),end:F(F({},c),{zoneId:o})})},gs.prototype.isCollapsed=function(){return 0===this.len},gs);function gs(e){var t=e.start,n=e.len,r=e.zoneId,i=void 0===r?be:r,o=e.isBackward,a=void 0!==o&&o,s=e.editor;this.start=t,this.len=n,this.zoneId=i,this.isBackward=a,this.editor=s,Object.defineProperty(this,"editor",{enumerable:!1})}var ms=(vs.prototype[Symbol.toPrimitive]=function(e){return"number"===e?this._position:JSON.stringify({line:this.line,offset:this.offset,zoneId:this.zoneId})},vs);function vs(e){var t=e.line,n=e.offset,r=e.position,i=e.zoneId,o=void 0===i?be:i;this.line=t,this.offset=n,this.zoneId=o,Object.defineProperty(this,"_position",{enumerable:!1,value:r})}var ys=(bs.isRange=function(e){return e instanceof bs},bs.isPointEqual=function(e,t){var n=e.line,r=e.offset,i=e.zoneId,o=t.line,a=t.offset,s=t.zoneId;return n===o&&r===a&&i===s},bs.isRangeEqual=function(e,t){var n=e.start,r=e.end,i=t.start,o=t.end;return bs.isPointEqual(n,i)&&bs.isPointEqual(r,o)},bs.isPointLargerThan=function(e,t){var n=e.line,r=e.offset,i=e.zoneId,o=t.line,a=t.offset;return i===t.zoneId&&(o<n||n===o&&a<r)},bs.fixToCommonZone=function(e,t,n){var r,i,o=t.zoneId,a=n.zoneId;if(o===a)return{start:t,end:n};var s,c,u,l,d,p,f=e.managers,h=W([o],f.getAncestorZones(o)),g=W([a],f.getAncestorZones(a)),m=f.getClosestCommonAncestorZone(o,a);return m!==o&&(s=h[h.indexOf(m)-1],(c=f.getLineEntryContainingZone(s))&&c.lineNode&&(p=null===(r=null===(d=zs(e,c.lineNode))||void 0===d?void 0:d.parent)||void 0===r?void 0:r._indexOf(d))&&(t=F(F({},t),{zoneId:m,line:p,offset:null!==d&&void 0!==d&&d.hasLineMarker()?1:0}))),m!==a&&(u=g[g.indexOf(m)-1],(l=f.getLineEntryContainingZone(u))&&l.lineNode&&(p=null===(i=null===(d=zs(e,l.lineNode))||void 0===d?void 0:d.parent)||void 0===i?void 0:i._indexOf(d))&&(n=F(F({},n),{zoneId:m,line:p,offset:null!==d&&void 0!==d&&d.hasLineMarker()?1:0}))),{start:t,end:n}},Object.defineProperty(bs.prototype,"start",{get:function(){return this._start},set:function(e){this._start=this.createRangePoint(e)},enumerable:!0,configurable:!0}),Object.defineProperty(bs.prototype,"end",{get:function(){return this._end},set:function(e){this._end=this.createRangePoint(e)},enumerable:!0,configurable:!0}),bs.prototype.createRangePoint=function(e,t,n){if(void 0===t&&(t=!1),!t&&e instanceof ms)return e;var r=(n||this.editor.getContentState()).rangePointToOffset(e);return new ms(F(F({},e),{position:r}))},bs.prototype.toPosition=function(e){var t=e||this.editor.getContentState(),n=t.rangePointToOffset(this.start),r=t.rangePointToOffset(this.end);return new hs({editor:this.editor,start:n,len:r-n,zoneId:this.start.zoneId,isBackward:this.isBackward})},bs.prototype.isCollapsed=function(){return bs.isPointEqual(this.start,this.end)},bs.prototype.clone=function(e){return new bs({editor:this.editor,start:this.createRangePoint(this.start,!0,e),end:this.createRangePoint(this.end,!0,e),isBackward:this.isBackward})},bs.prototype.toString=function(){return JSON.stringify(this)},bs);function bs(e){var t,n=e.editor,r=e.start,i=e.end,o=e.isBackward,a=void 0!==o&&o;this.editor=n,r.zoneId!==i.zoneId&&(r=(t=bs.fixToCommonZone(n,r,i)).start,i=t.end);var s=this.createRangePoint(r),c=this.createRangePoint(i),u=c<s;this.start=u?c:s,this.end=u?s:c,this.isBackward=!!u||a,Object.defineProperties(this,{editor:{enumerable:!1},_start:{enumerable:!1},_end:{enumerable:!1},start:{enumerable:!0,get:function(){return this._start},set:function(e){this._start=e}},end:{enumerable:!0,get:function(){return this._end},set:function(e){this._end=e}}})}var Es=function(e){return e instanceof Node},_s=function(e){return Es(e)&&e.nodeType===Node.TEXT_NODE},As=function(e){return Es(e)&&e.nodeType===Node.COMMENT_NODE},Cs=function(e){return Es(e)&&e.nodeType===Node.ELEMENT_NODE},Ts=function(e,t,n){if(!(e instanceof HTMLElement&&"br"!==e.tagName.toLowerCase()&&e.childNodes[t]))return e;for(var r=e.childNodes,i=r[t],o=t,a=!1,s=!1;(As(i)||Cs(i)&&0===i.childNodes.length||Cs(i)&&"false"===i.getAttribute("contenteditable")&&!i.getAttribute(st))&&(!a||!s);)o>=r.length?(a=!0,o=t-1,n="backward"):o<0?(s=!0,o=t+1,n="forward"):(i=r[o],o+="forward"===n?1:-1);return i},Os=function(e){var t=e.node,n=e.offset;if(Cs(t)&&t.hasChildNodes()){var r=(n=Math.min(n,t.childNodes.length))===t.childNodes.length,i=r?"backward":"forward",o=r?n-1:n;for(t=t.childNodes[o];t instanceof HTMLElement&&t.childNodes.length;)var a=r?t.childNodes.length-1:0,t=Ts(t,a,i);n=r&&null!=t.textContent?t.textContent.length:0}return{node:t,offset:n}};function ks(e){if(!e)return null;var t=e;return e.nodeType===window.Node.TEXT_NODE&&(t=e.parentNode),t&&t.closest?t.closest("["+tt+"]"):null}function Ss(e){var t,n,r,i=Os(e),o=i.node,a=i.offset,s=ks(o);if(!o||!s)return null;var c=document.createRange();c.setStart(s,0),c.setEnd(o,a);var u=c.cloneContents(),l=Array.from(u.querySelectorAll("["+st+"],["+Je+"],["+ut+"]"));try{for(var d=V(l),p=d.next();!p.done;p=d.next()){var f,h,g,m,v,y,b=p.value,E=b.parentNode;E&&(f=b.hasAttribute(st),h=b.hasAttribute(Je),g=b.hasAttribute(ut),f?(m=b.getAttribute(st),(v=document.createElement("span")).setAttribute(st,m),v.innerText=m,E.insertBefore(v,b),E.removeChild(b)):h?b.textContent=(null===(r=b.textContent)||void 0===r?void 0:r.replace(new RegExp(""+$e,"g"),""))||null:g&&(y=b.querySelectorAll("["+ct+"]"),b.textContent=y.length?" ":""))}}catch(e){t={error:e}}finally{try{p&&!p.done&&(n=d.return)&&n.call(d)}finally{if(t)throw t.error}}return u}function ws(e){e.querySelectorAll("["+rt+"]").forEach(function(e){e.textContent&&(e.textContent=Ds(e.textContent))})}function Is(n){return Array.from(n.querySelectorAll("["+nt+"], ["+st+"], ["+Je+"]")).filter(function(e){var t,n,r;return!(e instanceof HTMLElement&&"string"==typeof(null===(t=e.dataset)||void 0===t?void 0:t.fakeText))||(null===(r=null===(n=e.dataset)||void 0===n?void 0:n.fakeText)||void 0===r?void 0:r.length)}).filter(function(e){return!(e.parentElement&&e.parentElement.closest("["+st+"]"))}).filter(function(e){var t=e.parentElement&&e.parentElement.closest("["+ut+"]");return!n.contains(t)})}function xs(e){if(_s(e)||!e.hasChildNodes())return[e];if(Ls(e)){var t=Us(e);if(t&&t.firstChild)return[t.firstChild]}return Array.from(e.childNodes).reduce(function(e,t){return e.push.apply(e,W(xs(t))),e},[])}function Ls(e){return!!Rs(e)}function Rs(e){if(!e)return null;var t=e instanceof HTMLElement?e:e.parentElement;return t?t.closest("["+st+"]"):null}function Ns(e,t){var n=e.selStart,r=e.selEnd,i=e.zoneId,o={line:n[0],offset:n[1],zoneId:i},a={line:r[0],offset:r[1],zoneId:i};return new ys({start:o,end:a,editor:t})}function Ds(e){return e.replace(new RegExp($e+"|\\n","g"),"")}function Ms(e){e&&(e instanceof Element||e instanceof DocumentFragment)&&ws(e);var t=e.textContent;return t?t.length:0}function Ps(e,t){var n=e.anchorNode,r=e.focusNode;if(!n||!r||e.rangeCount<=t)return null;var i=null;if(X.browser.safari)try{i=e.getRangeAt(t)}catch(e){i=null}else e.getRangeAt&&(i=e.getRangeAt(t));return i||((i=document.createRange()).setStart(e.anchorNode,e.anchorOffset),i.setEnd(e.focusNode,e.focusOffset)),i}function js(e,t){var n,r,i,o,a,s=document.createRange(),c=e.node,u=e.offset,l=t.node,d=t.offset;return c&&(i=xs(c)[0],a=Ls(c)?Math.min(u,(null===(n=i.textContent)||void 0===n?void 0:n.length)||0):u,s.setStart(i,a)),l&&(o=xs(l)[0],a=Ls(l)?Math.min(d,(null===(r=o.textContent)||void 0===r?void 0:r.length)||1):d,s.setEnd(o,a)),s}function Fs(e){var t;return e&&(e instanceof HTMLElement?e.hasAttribute(Je):null===(t=e.parentElement)||void 0===t?void 0:t.hasAttribute(Je))}function Bs(e){return!!Us(e)}function Us(e){return e&&e instanceof Element?e.hasAttribute(Je)?e:e.querySelector("["+Je+"]"):null}function Hs(e){return e&&e instanceof Element&&e.hasAttribute(""+st)?e.getAttribute(""+st):null}function zs(e,t,n){void 0===n&&(n=!1);var r,i,o=e._getViewModel().getModel(t);return o?(Array.isArray(o)&&(r=o[0],i=o[o.length-1],o=n?i:r),o):null}function Vs(e,t){var n;if(!e)return!1;if(e instanceof HTMLElement||(e=e.parentElement),!e||!e.textContent||t!==e.textContent.length)return!1;var r=e.closest("["+et+"]");return null===(n=null===r||void 0===r?void 0:r.nextElementSibling)||void 0===n?void 0:n.querySelector("["+st+"]")}var Ks,Gs=/[\u0030-\u0039\u0041-\u005A\u0061-\u007A\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u00FF\u0100-\u1FFF\u3040-\u9FFF\uF900-\uFDFF\uFE70-\uFEFE\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFDC]/,Ws=function(e){var t=e.keyCode,n=e.ctrlKey;return[ce.Left,ce.Right,ce.Up,ce.Down].includes(t)||X.browser.isMac&&n&&t===ce.B||X.browser.isMac&&n&&t===ce.F},Ys=function(e){var t=e.keyCode;return!e.charCode&&[ce.Shift,ce.Alt,ce.Ctrl,ce.CapsLock,ce.Meta,ce.BracketRightKeyDown].includes(t)},qs=function(e){return e.className.includes(xe)},Zs=function(e){return e.getAttribute(st)||e.getAttribute(it)},Xs=function(e){return e.className.includes("innerdocbody")},Qs=function(e){for(;e;){if(Zs(e))return!0;if(qs(e)||Xs(e))return!1;e=e.parentElement}return!1},Js=function(e){return Gs.test(e)},$s=function(e){var t=e.offset,n=e.lineText;return Object(X.getLastCharLen)(n.slice(0,t))},ec=function(e){var t=e.offset,n=e.lineText;return Object(X.getFirstCharLen)(n.slice(t))},tc=function(e){var t=e.lineMarker;return e.offset-t},nc=function(e){var t=e.offset;return e.lineText.length-1-t},rc=function(e){var t=e.lineMarker,n=e.offset,r=e.lineText,i=$s(e);if(1<i)return i;for(var o=n-1;t<o&&Js(r[o-1]);)o--;return n-o},ic=function(e){var t=e.offset,n=e.lineText,r=ec(e);if(1<r)return r;for(var i=t+1;i<n.length-1&&Js(n[i]);)i++;return i-t},oc=((Ks={})[ce.Enter]=we.return&&"_handleReturnKey",Ks[ce.Delete]=we.delete&&"_handleDeleteKey",Ks[ce.BackSpace]=we.delete&&"_handleDeleteKey",Ks),ac=100,sc=(cc.prototype._getInheritAttributesAndSetFlag=function(){var e=this;return this.getInheritAttributes(function(){e.editor.flags.dangerousInput=!0})},cc.prototype.getInheritAttributes=function(e){var t,n,r=this.editor,i=r.getContentState(),o=r._getAttributesOfPreviousPosition(),a=i._getStoreAttributes(),s={};try{for(var c=V(o),u=c.next();!u.done;u=c.next()){var l=K(u.value,2),d=l[0],p=l[1];if(this._getIneritbleMatchers().test(d)){var f=r._getSchema().get(d);if(f&&!1===f.tailInherit)if(r._getAttributesOfNextPosition().toMap()[d]!==p){null!==f&&void 0!==f&&f.refresh&&e&&e();continue}s[d]=p}}}catch(e){t={error:e}}finally{try{u&&!u.done&&(n=c.return)&&n.call(c)}finally{if(t)throw t.error}}return F(F({},s),a)},cc.prototype._getIneritbleMatchers=function(){var t,e;if(this.inheritMatcher)return this.inheritMatcher;var n=this.editor._getSchema(),r=[];try{for(var i=V(Object.keys(n.schemas)),o=i.next();!o.done;o=i.next()){var a=o.value;n.schemas[a].mark&&r.push(a)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}return this.inheritMatcher=new RegExp(r.join("|")),this.inheritMatcher},cc);function cc(e){var N=this;this._isComposing=!1,this.timeout=null,this.inputLength=0,this._inCallStack=function(n){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];N.editor.inCallStack("handleKeyEvent",function(){n.apply(N,e)},{shouldIncorp:!1})}},this._handleKeyDown=function(e){var t,n,r,i,o,a,s,c,u,l,d,p,f,h,g=e.evt,m=e.stopEvent,v=g.nativeEvent;Ys(v)||(Ws(v)&&N._flushInput(),t=v.keyCode,n=v.ctrlKey,r=v.metaKey,i=v.altKey,g.stopEvent=m,o=N.triggerAceKeyEvent("aceKeyEvent",g).includes(!0),Ws(v)||N._isComposing||o||(a=void 0,s=!1,t===ce.Enter&&we.return?a=N._handleReturnKey(v):t===ce.BackSpace&&(n||r)&&we.delete?a=N._handleDeleteKey(v,!0,tc):t===ce.Delete&&(n||r)&&we.delete||n&&t===ce.K&&(X.browser.isMac||X.browser.ios)?a=N._handleDeleteKey(v,!1,nc):t===ce.BackSpace&&i&&we.delete?a=N._handleDeleteKey(v,!0,rc):t===ce.Delete&&i&&we.delete?a=N._handleDeleteKey(v,!1,ic):t===ce.BackSpace&&we.delete||n&&t===ce.H&&(X.browser.isMac||X.browser.ios)?a=N._handleDeleteKey(v,!0,$s):t===ce.Delete&&we.delete||n&&t===ce.D&&(X.browser.isMac||X.browser.ios)?a=N._handleDeleteKey(v,!1,ec):t===ce.Insert?N._flushInput():(t===ce.A||t===ce.E)&&n&&X.browser.isMac?(v.preventDefault(),d=(l=(u=(c=N.editor.selection).getSelection()).start).line,p=l.zoneId,f=N.editor.getContentState().getZoneState(p).getLine(d),h=0,h=t===ce.A?f.getLineMarker():f.length()-1,u.start=u.end={line:d,offset:h,zoneId:p},c.setSelection(u,!0)):s=!0,o=!s,"object"==typeof a&&(a&&N._apply(a),v.preventDefault())),N.triggerAceKeyEvent("editorKeyDown",g,o),Ws(v)&&!o&&(N._flushInput(),N.editor.selection.handleArrowKey({evt:g})))},this._handleKeyPressAndUp=function(e){var t,n,r,i=e.evt;Ys(i.nativeEvent)||(t=i.keyCode,n=i.type,r=oc[t],Qs(i.target)||N.editor.isFocusOnBlock()||(N.triggerAceKeyEvent("aceKeyEvent",i),N[r]&&i.preventDefault(),"keypress"===n?N.triggerAceKeyEvent("editorKeyPress",i):"keyup"===n&&N.triggerAceKeyEvent("editorKeyUp",i)))},this.triggerAceKeyEvent=function(e,t,n){var r=t.nativeEvent,i=t.type,o=N.editor,a=[],s=X.browser.msedge,c=X.browser.msie,u=X.browser.safari,l=X.browser.chrome,d=s||c||u||l?"keydown"===i:"keypress"===i;return t.originalEvent=r,o.inCallStackIfNecessary("keyEvent",function(){a=o.callAll(e,{editor:o,editorInfo:o,callstack:o.getCurrentCallStack(),rep:o.getRep(),documentAttributeManager:o.getRep().attributeManager,evt:t,isTypeForCmdKey:d,isTypeForSpecialKey:d,padShortcutEnabled:we,specialHandled:n})}),a},this._handleMouseDown=function(){N._flushInput()},this._handleBeforeInput=function(e){var t,n,r,i=e.evt;N._isComposing||(t=N.editor,(n=K(i.getTargetRanges(),1)[0])&&!n.collapsed&&(r=t.selection._toModelRange(n),ys.isRangeEqual(t.selection.getSelection(),r)||t.selection.setSelection(r,!0)))},this._handleInput=function(e){var t=e.evt,n=N.editor;N._isComposing||Qs(t.target)||n.isFocusOnBlock(t.target)||X.browser.isIPad&&"deleteContentForward"===t.nativeEvent.inputType||(N.timeout&&window.clearTimeout(N.timeout),N.inputLength++,n.selection.getSelection().toPosition().len?N._doInput():(N.editor.setStopUpdateSelection(!0),N.timeout=window.setTimeout(function(){N._flushInput()},ac)))},this._flushInput=function(){N._isComposing?console.log("_flushInput return in composition"):N.timeout&&(window.clearTimeout(N.timeout),N.editor.setStopUpdateSelection(!1),N.timeout=null,N.editor.inCallStackIfNecessary("flushInput",function(){N._doInput()}))},this._doInput=function(){var e,t,n,r,i,o=N.editor,a=o.selection.getSelection(),s=a.start,c=a.end,u=o._getViewModel(),l=o.getContentState(),d=l.getActiveZone().getZoneId(),p=l.getZoneState(d),f=p.getLine(s.line),h=u.getView(f),g=Number(f.hasLineMarker()),m=f.getText(),v=m.slice(0,m.length-1),y=N._getText(h),b=s.offset-g,E=c.offset+y.length-v.length-g;c.line>s.line&&(t=(e=p.getLine(c.line)).getText()||"",n=Number(e.hasLineMarker()),r=t.slice(0,t.length-1).length-(c.offset-n),o.getDocBody().contains(h)&&y||(i=u.getView(e),y=N._getText(i),b=0),E=X.browser.isEdge?y.length:y.length-r);var _=y.slice(b,E);0===_.length&&s.line===c.line&&s.offset===c.offset?(_=y.substr(b,N.inputLength),N._performInput(_,N._getInheritAttributesAndSetFlag(),!0)):N._performInput(_,N._getInheritAttributesAndSetFlag()),N.inputLength=0},this._handleReturnKey=function(e){N._flushInput();var t=N.editor,n=t.getContentState(),r=n.getActiveZone().getZoneId(),i=t.selection.getSelection(),o=i.start.line,a=i.toPosition(),s=a.start,c=a.len,u=n.getZoneState(r).getLine(o).getLineAttributes().toMap(),l={evt:e,delta:new cr({zoneId:r}),editor:t};t.callAll("doReturnKey",{}),t._pluginManager.call("editorWillDoReturnKey",l);var d=new cr({zoneId:r});return l.delta.ops.length?d=d.compose(l.delta):d.retain(s).delete(c).insertEnter().insertLineMarker(u),N._apply(d),t.callAll("editorAfterDoReturnKey",{theLine:o}),e.preventDefault(),null},this._handleDeleteKey=function(e,t,n){var r;void 0===t&&(t=!0),void 0===n&&(n=1),N._flushInput();var i=N.editor,o=i.getContentState(),a=o.getActiveZone().getZoneId(),s=i.selection.getSelection(),c=s.start,u=c.line,l=c.offset,d=s.toPosition(),p=d.start,f=d.len,h={evt:e,deltaSet:(new lr).compose(new cr({zoneId:a})),editor:i};t&&i._pluginManager.call("editorWillDoDeleteKey",h);var g=i.getRep();i.callAll("aceDoDeleteKey",{editor:i,evt:e,rep:g,caretLine:i.caretLine});var m,v,y,b,E=[];if(f?(m=new cr({zoneId:a}).retain(p).delete(f),v=h.deltaSet.compose(m),N._apply(v),E=[!0]):t&&(y=i.getRep(a).lines,b={editor:N.editor,evt:e,lineMarker:null===(r=o.getZoneState(a).getLine(u))||void 0===r?void 0:r.hasLineMarker(),lineEntry:y&&y.atIndex(u),theLine:u,col:l,prevLineEntry:y&&y.atIndex(u-1)},E=i.callAll("editorDoDeleteKey",b)),E.includes(!0))return i.callAll("editorAfterDoDeleteKey",{editor:i,theLine:u,evt:e}),null;var _=!1;if(h.deltaSet.forEach(function(e,t){0<e.ops.length&&(_=!0)}),_)return h.deltaSet;var C,T,O=new cr({zoneId:a}),k=s.start.line,S=o.getZoneState(a).getLine(k),w=Number(S.hasLineMarker()),I=s.start.offset===w,x=S.length()-s.start.offset==1,L=S.nextSibling(),R=S.getModelText();return!L&&x&&!t||I&&t&&0===k?null:(t?I?O.retain(p-1-w).delete(w+1):(T="function"==typeof n?n({lineText:R,offset:l,lineMarker:w}):n,O.retain(p-T).delete(T)):x?(C=Number(L.hasLineMarker()),O.retain(p).delete(1+C)):(T="function"==typeof n?n({lineText:R,offset:l,lineMarker:w}):n,O.retain(p).delete(T)),h.deltaSet.compose(O))},this._handleCompositionEvent=function(e){var t=e.evt,n=t.type,r=N.editor;"compositionstart"===n?N._handleCompositionstart(t):"compositionend"===n&&N._handleCompositionend(t),r.callAll("aceCompositionEvent",{evt:t,editor:r,rep:r.getRep()}),t.stopPropagation()},this._handleCompositionstart=function(e){N._isComposing=!0,N.editor.callAll("aceAfterCompositionStart"),N.editor.setStopUpdateSelection(!0)},this._handleCompositionend=function(e){N._isComposing=!1,N.editor.setStopUpdateSelection(!1),Qs(e.target)||(N.editor.callAll("aceBeforeCompositionEnd"),N._doInput(),N.editor.callAll("aceAfterCompositionEnd",{evt:e}),e.preventDefault())},this._performInput=function(e,t,n){void 0===t&&(t={}),void 0===n&&(n=!1);var r,i,o,a,s,c,u,l,d,p,f=N.editor;!e&&f.selection.isCaret()||(i=(r=f.getContentState().getActiveZone()).getZoneId(),s=(a=(o=f.selection.getSelection()).toPosition()).start,u=c=a.len,l=o.start.line,d=r.getLine(l),(0<c||null!==d&&void 0!==d&&d.isEmpty())&&(f.flags.dangerousInput=!0),0===c&&n&&(u=e.length),p=new cr({zoneId:i}).retain(s).delete(u).insert(e,t),N._apply(p))},this._apply=function(e){N.editor.getContentState().apply(e)},this._getText=function(e){var t=Ss({node:e,offset:e.childNodes.length});if(!t)throw new Error("[Editor Input]: Cannot get dom fragment.");ws(t);var n=t.textContent;if(null===n)throw new Error("[Editor Input]: Cannot get line text");return n},this.destroy=function(){N._flushInput()},(this.editor=e).getDocBody()&&(e.on("input",this._inCallStack(this._handleInput)),e.on("beforeinput",this._inCallStack(this._handleBeforeInput)),e.on("keydown",this._inCallStack(this._handleKeyDown)),e.on("keypress",this._inCallStack(this._handleKeyPressAndUp)),e.on("keyup",this._inCallStack(this._handleKeyPressAndUp)),e.on("compositionstart",this._inCallStack(this._handleCompositionEvent)),e.on("compositionend",this._inCallStack(this._handleCompositionEvent)),e.on("mousedown",this._handleMouseDown))}var uc=28;function lc(e,t){for(var n=e.offsetTop,r=e.offsetParent;null!==r&&r!==t;)n+=r.offsetTop+r.clientTop,r=r.offsetParent;return n}function dc(e,t){if(void 0===t&&(t="0"),!e.selStart)return{top:0,left:0,height:0};var n=e.lines.atIndex(e.selStart[0]);if(!n)return{top:0,left:0,height:0};var r=n.getLineRect(t),i=n.getCharRect(e.selStart[1]-n.lineMarker,!1,t);return r&&i?{top:r.top+i.top,left:r.left+i.left,height:r.height}:{top:0,left:0,height:0}}function pc(e){var t,n,r,i,o,a,s,c,u,l,d,p=e.getScrollContainer();p&&e.selection.getSelection().isCollapsed()&&(n=e.getRep(),r=e.getOuterContainer(),i=0,null!==(t=p.contains)&&void 0!==t&&t.call(p,r)&&(i=lc(r,p)),o=dc(n),a=p.scrollTop,s=p.offsetHeight,u=(c=o.top+r.offsetTop+i)-(s-o.height),l=o.height>uc?a<=c&&c+o.height<a+s:(d=2*o.height,a<=c&&c+o.height+d<a+s),c<=a&&c+o.height>a?p.scrollTop=c:l||(o.height>uc?p.scrollTop=u:(d=2*o.height,p.scrollTop=u+d)))}var fc=(hc.prototype.focus=function(){var e;this.hasFocus()||(e=this.getRootNodeOfZone(this.range.start.zoneId))&&(Object(X.focusWithoutScroll)(e),this.setSelection(this.range,!0))},hc.prototype.getRootNodeOfZone=function(e){var t=this.editor.getContentState().getZoneState(e);return this.editor._getViewModel().getView(t)},hc.prototype.hasFocus=function(){var e=this.getRootNodeOfZone(this.range.start.zoneId);return!!document.activeElement&&!!e&&(document.activeElement===e||e.contains(document.activeElement))},hc.prototype.getSelection=function(e){return this.range&&this.range.clone(e)},hc.prototype.setSelection=function(e,t){void 0===t&&(t=!1);var n,r=this.editor;switch(typeof e.start){case"number":n=new hs(F(F({},e),{editor:r})).toRange();break;case"object":n=new ys(F(F({},e),{editor:r}));break;default:return}var i=this.range;ys.isRangeEqual(i,n)||(n.start=this.fixRangePoint(n.start),n.end=this.fixRangePoint(n.end),this.range=n,this.editor.call(mr.SELECTION_CHANGE,{previous:i,current:n,attributes:[],selStart:[n.start.line,n.start.offset],selEnd:[n.end.line,n.end.offset],zoneId:n.start.zoneId}),t&&this._updateBrowserSelection())},hc.prototype.selectAll=function(e){void 0===e&&(e=be);var t,n=this.editor.getContentState().getZoneState(e),r=n.getLine(0),i=n.getLine(n.length()-1);i&&r&&(t=new ys({editor:this.editor,start:{line:0,offset:r.hasLineMarker()?1:0,zoneId:e},end:{line:n.length()-1,offset:i.length()-1,zoneId:e}}),this.setSelection(t),this._updateBrowserSelection(!0))},hc.prototype.isSelectingAll=function(){var e=this.range,t=e.start,n=e.end;if(t.zoneId!==be||n.zoneId!==be)return!1;var r=this.editor.getContentState().getZoneState(be),i=r.length()-1,o=r.getLine(0),a=r.getLine(i);return!(!a||!o)&&(0===t.line&&t.offset===(o.hasLineMarker()?1:0)&&n.line===i&&n.offset===a.length()-1)},hc.prototype.fixRangePoint=function(e){var t=this.editor,n=e.zoneId,r=t.getContentState().getZoneState(n),i=r.length()-1;e.line=Math.max(0,e.line),e.line>i&&(e.line=i,e.offset=r.getLine(i).getModelText().length-1);var o=r.getLine(e.line);return e.offset=Math.min(o.getModelText().length-1,e.offset),e.offset<=0&&(e.offset=o.hasLineMarker()?1:0),e},hc.prototype._toDOMRange=function(e,t){void 0===t&&(t={ignoreNormalize:!1});var n=e.start,r=e.end,i=this._toDOMRangePoint(n),o=this._toDOMRangePoint(r);if(t.ignoreNormalize)return js(i,o);var a=this._normalizeDOMRange(i,o,e);return js(a.start,a.end)},hc.prototype._normalizeDOMRange=function(e,t,n){var r,i,o,a,s,c,u,l,d,p,f,h,g=e.node,m=e.offset,v=t.node,y=t.offset,b=n.start,E=n.end,_=Ls(g),C=Ls(v),T=(null===(r=Hs(g))||void 0===r?void 0:r.length)||0,O=(null===(i=Hs(v))||void 0===i?void 0:i.length)||0,k=Fs(g);if(!_&&!C){if(g&&g===v&&e.offset===t.offset)if((x=g instanceof Element?g:g.parentElement)&&x.closest("["+rt+"]")){var S={node:x,offset:(null===(o=null===x||void 0===x?void 0:x.textContent)||void 0===o?void 0:o.length)||0};return{start:S,end:S}}return e.node!==t.node||0!==e.offset||1!==t.offset||null===(s=null===(a=e.node)||void 0===a?void 0:a.parentNode)||void 0===s||!s.getAttribute||"true"!==(null===(u=null===(c=e.node)||void 0===c?void 0:c.parentNode)||void 0===u?void 0:u.getAttribute("data-enter"))||(f=(p=Is(L=this._getDOMLine(b.zoneId,b.line)).filter(function(e){return e.hasAttribute(nt)}))[p.length-2])&&_s(f.firstChild)&&(h=f.firstChild,e.node=h,e.offset=h.textContent.length-1,t.node=h,t.offset=h.textContent.length),{start:e,end:t}}if(_&&Bs(g)&&g===v&&b<E)return{start:e,end:t};if(_&&0===m&&Bs(g)&&C&&y===O&&Bs(v))return{start:e,end:t};if(_&&C&&g!==v&&!Bs(g)&&!Bs(v)){var w=this._getDOMLine(b.zoneId,b.line),I=this._getDOMLine(E.zoneId,E.line);return{start:this._amendDOMPoint(e,w,1),end:this._amendDOMPoint(t,I,1)}}if(n.isCollapsed()&&_&&m===T){var x,L=this._getDOMLine(b.zoneId,b.line);return(x=(R=this._amendDOMPoint(e,L,1)).node instanceof Element?R.node:null===(l=R.node)||void 0===l?void 0:l.parentElement)&&x.closest("["+rt+"]")&&(R.offset=1),{start:R,end:R}}if(n.isCollapsed()&&_&&0===m){L=this._getDOMLine(b.zoneId,b.line);return{start:R=this._amendDOMPoint(e,L,-1),end:R}}if(_&&C&&g!==v&&n.isBackward){var R,L=this._getDOMLine(E.zoneId,E.line);return{start:e,end:R=this._amendDOMPoint(t,L,1)}}if(k&&C&&(null===g||void 0===g?void 0:g.nextSibling)===v&&!this.isFromDOM)return{start:F(F({},t),{offset:0}),end:t};if(_&&0===m){L=this._getDOMLine(b.zoneId,b.line);return{start:this._amendDOMPoint(e,L,-1),end:t}}if(C&&0===y){L=this._getDOMLine(E.zoneId,E.line);return{start:e,end:this._amendDOMPoint(t,L,-1)}}if(_&&m===T&&C&&n.toPosition().len<=((null===(d=Hs(v))||void 0===d?void 0:d.length)||0))return{start:F(F({},t),{offset:0}),end:t};if(_&&m===T){L=this._getDOMLine(b.zoneId,b.line);return{start:this._amendDOMPoint(e,L,1),end:t}}if(C&&y===O){L=this._getDOMLine(E.zoneId,E.line);return{start:e,end:this._amendDOMPoint(t,L,1)}}return{start:e,end:t}},hc.prototype._amendDOMPoint=function(e,t,n){var r,i,o=e.node;if(!(t&&o instanceof Element))return e;var a=Is(t),s=a.indexOf(o),c=a[s+n]||o;if(c.hasAttribute(st)){var u=Us(c);return u?{node:u,offset:!(0<n)&&(null===(r=u.textContent)||void 0===r?void 0:r.length)||0}:this._amendDOMPoint(F(F({},e),{node:c}),t,1)}return{node:c,offset:!(0<n)&&(null===(i=c.textContent)||void 0===i?void 0:i.length)||0}},hc.prototype._toDOMRangePoint=function(e){var t=e.zoneId,n=e.line,r=e.offset,i=this._getDOMLine(t,n);if(!i)return{node:null,offset:0};var o=this.editor.getContentState().getZoneState(t).getLine(n);return o?this.toDOMPoint(i,Math.max(r-(null!==o&&void 0!==o&&o.hasLineMarker()?1:0),0)):{node:null,offset:0}},hc.prototype.toDOMPoint=function(e,t){var n,r,i;if(_s(e))return{node:e,offset:t};if(!e||!e.querySelectorAll)return{node:e,offset:0};var o=Is(e),a=0;try{for(var s=V(o),c=s.next();!c.done;c=s.next()){var u,l=c.value,d=(null===(i=l.textContent)||void 0===i?void 0:i.length)||0;if(l.hasAttribute(st)&&(d=(u=l.getAttribute(st))?Math.min(u.length,t-a):0),l.hasAttribute(Je)&&(d=0),!((a+=d)<t))return{node:l,offset:Math.max(d+t-a,0)}}}catch(e){n={error:e}}finally{try{c&&!c.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}return{node:e,offset:0}},hc.prototype._getDOMLine=function(e,t){var n=this.editor._getViewModel(),r=this.editor.getContentState().getZoneState(e).getLine(t);return r&&n.getView(r)||null},hc.prototype._toModelRange=function(e){var t=!1;if(e instanceof window.Selection){var n=e.anchorNode,r=e.anchorOffset,i=e.focusNode,o=e.focusOffset,a=Ps(e,0);if(!a)return null;var s=(e=a).startContainer,c=e.startOffset,u=e.endContainer,l=e.endOffset,t=n!==s||i!==u||r!==c||o!==l}var d=e.startContainer,p=e.startOffset,f=e.endContainer,h=e.endOffset,g=this._toModelRangePoint({node:d,offset:p},!1),m=this._toModelRangePoint({node:f,offset:h},!0);if(!g||!m)return null;var v=new ys({start:g,end:m,isBackward:t,editor:this.editor});if(v.isCollapsed()&&!e.collapsed){var y=this._normalizeDOMRange({node:d,offset:p},{node:f,offset:h},v),b=y.start,E=y.end,_=this._toModelRangePoint({node:b.node,offset:b.offset},!1),C=this._toModelRangePoint({node:E.node,offset:E.offset},!0);if(!_||!C)return null;v=new ys({start:_,end:C,isBackward:t,editor:this.editor})}return v},hc.prototype._toModelRangePoint=function(e,t){var n,r,i,o;void 0===t&&(t=!1);var a=Os(e),s=a.node,c=a.offset,u=ks(s);if(!s||!u)return null;var l=zs(this.editor,u,t);if(!l)return null;var d=l.getZoneId(),p=l.index,f=0,h=Rs(s);h&&(c=0),h&&t&&(f=(null===(n=h.getAttribute(st))||void 0===n?void 0:n.length)||0);var g=s instanceof HTMLElement?s.closest("["+st+"]"):null===(r=s.parentElement)||void 0===r?void 0:r.closest("["+st+"]");if(!(g=g||(s instanceof HTMLElement?s.closest("["+nt+"]"):null===(i=s.parentElement)||void 0===i?void 0:i.closest("["+nt+"]")))){var m=Ss(e),v=(m?Ms(m):0)+(l.hasLineMarker()?1:0)+f;return{line:p,offset:Math.max(v,0),zoneId:d}}g.hasAttribute(rt)&&(c=0);var y=(g&&(null===(o=this.editor._getViewModel().getLeafModel(g))||void 0===o?void 0:o.start)||0)+c+f+(l.hasLineMarker()?1:0);return{line:p,offset:Math.max(y,0),zoneId:d}},hc.prototype.updateDOMSelection=function(e,t){void 0===t&&(t=!1);var n=e.startContainer,r=e.startOffset,i=e.endContainer,o=e.endOffset,a=document.getSelection();if(null!==a){if(null===n||null===i)return a.removeAllRanges(),void this.editor.getDocBody().blur();var s,c,u=Ps(a,0);if(u){var l=u.startContainer,d=u.startOffset,p=u.endContainer,f=u.endOffset;if(!t&&n===l&&i===p&&r===d&&o===f)return}this.hasFocus()||(s=this.getRootNodeOfZone(this.range.start.zoneId))&&Object(X.focusWithoutScroll)(s),a.collapse&&a.extend?n===i&&r===o?a.collapse(n,r):this.range.isBackward?(a.collapse(i,o),a.extend(n,r)):(a.collapse(n,r),a.extend(i,o)):((c=document.createRange()).setStart(n,r),c.setEnd(i,o),a.removeAllRanges(),a.addRange(c))}},hc.prototype._getNextStep=function(e,t,n,r){var i,o,a,s=this._getDOMLine(e.zoneId,e.line);if(!s)return 0;var c=t.hasAttribute(Je)||t.hasAttribute(rt),u=r?null===(i=t.textContent)||void 0===i?void 0:i.slice(n):null===(o=t.textContent)||void 0===o?void 0:o.slice(0,n),l=r?1:-1,d=0;if(u&&u.length&&!c)d=(r?Object(X.getFirstCharLen):Object(X.getLastCharLen))(u);else{var p=Is(s);t=Rs(t)||t;var f,h=p.indexOf(t),g=r?p.slice(h+1).find(function(e){return!Fs(e)}):p.slice(0,h).reverse().find(function(e){return!Fs(e)});if(!g)return l;d=Rs(g)?(null===(a=Hs(g))||void 0===a?void 0:a.length)||1:(f=g.textContent||"",(r?Object(X.getFirstCharLen):Object(X.getLastCharLen))(f))}return l*Math.max(d,1)},hc.prototype._fixOffsetOverload=function(e){var t,n=F({},e),r=e.zoneId,i=e.line,o=e.offset,a=this.editor.getContentState().getZoneState(r),s=a.getLine(i);if(!s)return e;var c=s.hasLineMarker()?1:0,u=s.length()-1;if(o<c)if(0<i){--n.line;var l=a.getLine(n.line);if(!l)return e;n.offset=l.length()-1}else n.offset=c;return u<o&&(i<a.length()-1?(n.line+=1,n.offset=null!==(t=a.getLine(n.line))&&void 0!==t&&t.hasLineMarker()?1:0):n.offset=u),n},hc);function hc(e){var D=this,t=e.editor,n=e.range;this.isFromDOM=!1,this._updateBrowserSelection=function(e){var t,n;D.range&&(X.browser.isEdge&&D.isFromDOM||(t=D._toDOMRange(D.range),D.updateDOMSelection(t,e)),D.editor.call(mr.SELECTION_CHANGE_AND_DOM_UPDATE),(n=D.editor.flags).contentChanged&&!n.preventScrolling&&D.editor.editable&&pc(D.editor),n.preventScrolling=!1)},this._handleDOMSelectionChange=function(){var e,t,n,r,i,o,a;D.editor.flags.stopUpdateSelection||(null===(e=window.getSelection())||(t=Ps(e,0))&&(n=t.startContainer,r=t.endContainer,i=t.collapsed,!(o=D.editor.getDocBody()).contains(n)||!i&&!o.contains(r)||Ls(n)&&Ls(r)||(a=D._toModelRange(e))&&(D.isFromDOM=!0,D.setSelection(a,!0),D.isFromDOM=!1)))},this.handleArrowKey=function(e){var t,n,r,i,o,a,s,c,u,l,d,p,f,h,g,m,v,y,b,E,_,C,T,O,k,S=e.evt,w=S.keyCode,I=S.shiftKey,x=S.metaKey,L=S.altKey,R=S.ctrlKey,N=w===ce.Right||X.browser.isMac&&R&&w===ce.F;!(w===ce.Left||X.browser.isMac&&R&&w===ce.B)&&!N||x||L||D.editor.flags.stopUpdateSelection||(null===(t=window.getSelection())||(n=Ps(t,0))&&(r=n.startContainer,i=n.startOffset,o=n.endContainer,a=n.endOffset,s=n.collapsed,u=(null===(c=r instanceof Element?r:r.parentElement)||void 0===c?void 0:c.hasAttribute(Je))||(null===c||void 0===c?void 0:c.hasAttribute(rt)),l=Vs(c,i),p=(null===(d=o instanceof Element?o:o.parentElement)||void 0===d?void 0:d.hasAttribute(Je))||(null===d||void 0===d?void 0:d.hasAttribute(rt)),f=Vs(o,a),T=(h=D.getSelection()).start,O=h.end,g=h.isBackward,v=(m=D.editor.getContentState()).getZoneState(T.zoneId).getLine(T.line),y=m.getZoneState(O.zoneId).getLine(O.line),b=T.offset===((null===v||void 0===v?void 0:v.length())||0)-1,E=T.offset===Number(null===v||void 0===v?void 0:v.hasLineMarker()),_=O.offset===((null===y||void 0===y?void 0:y.length())||0)-1,(p||_||u||b||E||l||f)&&(I&&g&&(u||b)&&c&&(T=D._fixOffsetOverload(F(F({},T),{offset:T.offset+=D._getNextStep(T,c,i,N)}))),I&&!g&&(p||_)&&d&&(O=D._fixOffsetOverload(F(F({},O),{offset:O.offset+=D._getNextStep(O,d,a,N)}))),!I&&s&&c&&(C=D._getNextStep(T,c,i,N),T=D._fixOffsetOverload(F(F({},T),{offset:T.offset+=C})),O=D._fixOffsetOverload(F(F({},O),{offset:O.offset+=C}))),(k=new ys({editor:D.editor,start:T,end:O,isBackward:g}))&&!ys.isRangeEqual(k,D.range)&&(D.setSelection(k,!0),S.preventDefault()))))},this.editor=t,n&&(this.range=n)}var gc,mc=(j(vc,gc=fc),vc.prototype.internalUpdateSelectionFromRep=function(e){this._updateBrowserSelection(e)},vc.prototype.getPositionForNode=function(e){var t=document.createRange();t.selectNode(e);var n=gc.prototype._toModelRange.call(this,t);if(!n)return{col:0,line:0,zone:X.DEFAULT_REP_ZONE};var r=n.start;return{col:r.offset,line:r.line,zone:r.zoneId}},vc.prototype.set=function(e){var t=e;if(void 0!==e.line){var n=e.line,r=e.col,i=e.zone;return this.setSelection({selStart:[n,r],selEnd:[n,r],zoneId:i})}if(t.start&&t.start.zone)return this.setSelection({selStart:t.start,selEnd:t.end,zoneId:t.start.zone})},vc.prototype.setSelection=function(e,t){var n,r,i,o;void 0===t&&(t=!1),"start"in e&&"len"in e?e=e.toRange():"selStart"in e&&(n=e.selStart,r=e.selEnd,o=void 0===(i=e.zoneId)?"0":i,e=new ys({start:{line:n[0],offset:n[1],zoneId:o},end:{line:r[0],offset:r[1],zoneId:o},editor:this._editor})),this._editor.managers.changeSelectionOnLineManagersInRange({zone:e.start.zoneId,line:e.start.line,col:e.start.offset},{zone:e.end.zoneId,line:e.end.line,col:e.end.offset}),gc.prototype.setSelection.call(this,e,t);var a=gc.prototype.getSelection.call(this),s=a.start,c=a.end,u=s.zoneId,l={zone:u,line:s.line,col:s.offset},d={zone:u,line:c.line,col:c.offset};this.currentSelection={zone:u,start:l,end:d}},vc.prototype.isCaret=function(e){return e?e.selStart&&e.selEnd&&e.selStart[0]===e.selEnd[0]&&e.selStart[1]===e.selEnd[1]:this.range.isCollapsed()},vc.prototype.updateBrowserSelectionFromRep=function(){this._updateBrowserSelection()},vc.prototype.getPointForChatAtLeafNode=function(e,t,n){void 0===n&&(n=!1);var r=e.lineNode;if(r&&r.classList.contains("single-line"))return{node:Le(r),index:Math.min(t,1),maxIndex:1};var i=this.getPointForCharAtLineEntry(e,t),o=i.node,a=o,s=e.lineMarker;if(Re(i.node.firstChild)&&1<=i.maxIndex&&(i.index=1),Ne(i.node)&&!n&&0<(i.node&&i.node.getAttribute&&i.node.getAttribute("data-faketext").length)&&(1===i.index?(o=i.node.previousSibling||i.node.parentNode,i.index=1,i.maxIndex=1):i.index===i.maxIndex-1&&(i.index=1)),s&&0===i.index){for(;3!==a.nodeType&&null!==Le(a);)a=Le(a);null!=Le(a)&&(o=a)}return i.node=o,i},vc.prototype.getPointForCharAtLineEntry=function(e,t){(t-=e.lineMarker)<0&&(t=0);var n=e.lineNode;if(0===t)return{node:n,index:0,maxIndex:1};var r=this.getPointForCharAtNode(n,t);return r||{node:n,index:1,maxIndex:1}},vc);function vc(e){var t,n,r,i,o,a,s,c=e.editor,u=e.range,p=gc.call(this,{editor:c,range:u})||this;return p.currentSelection={},p.setWithSelection=function(e,t,n,r,i){void 0===r&&(r=p.currentSelection.isReversed),void 0===i&&(i=!1),p.setSelection({start:{zoneId:e,line:t[0],offset:t[1]},end:{zoneId:e,line:n[0],offset:n[1]},isBackward:r},i)},p.flatten=function(e){var t=K(e,3),n=t[0],r=t[1],i=t[2],o=p._editor.getReps()[i].alinesWidth,a=Math.min(n,o.length),s=Math.min(r,o[a]);return o.slice(0,a).reduce(function(e,t){return e+t},0)+s},p.getStart=function(){return Object(b.default)(p.currentSelection,"start")},p.getEnd=function(){return Object(b.default)(p.currentSelection,"end")},p.getFocus=function(){return Object(b.default)(p.currentSelection,"focus")},p.getAnchor=function(){return Object(b.default)(p.currentSelection,"anchor")},p.getZone=function(){return Object(b.default)(p.currentSelection,"start.zone")},p.getLine=function(){return Object(b.default)(p.currentSelection,"start.line")},p.lineAndColumnFromChar=function(e,t){var n=p._editor.getContentState().getZoneState(e).offsetToLocation(t);return[n.line,n.offset]},p.getRealLine=function(e,t,n){for(var r=p._editor.getReps()[e],i=r.lines.atIndex(t),o=n?1:-1,a=r.lines.length()-1;i&&i.lineNode&&s(i.lineNode)&&i.text.length<=0;){if(0===t&&1===o)return t;if(t===a&&-1===o)return t;t-=o,i=r.lines.atIndex(t)}function s(e){return!!("br"===e.nodeName||e.querySelector("br"))}return t},p.getRealFirstLine=function(e,t){var n=p._editor.getReps()[e],r=(t||n).selStart[0],i=n.lines.length()-1;return r<0?(r=0,r=p.getRealLine(e,r,!1)):i<r&&(r=i,r=p.getRealLine(e,r,!1)),r},p.isEditorFocused=function(){var e=p._editor.getDocBody();if(!e.ownerDocument||!e.ownerDocument.activeElement)return!1;var t=window.getSelection(),n=null===t||void 0===t?void 0:t.focusNode;return!(!n||!e.contains(n)||p._editor._inEmbed(n)||p._editor.isFocusOnBlock(n))||!(!p._editor.dom.isRootOfZone(e.ownerDocument.activeElement)&&"A"!==e.ownerDocument.activeElement.tagName&&"TEXTAREA"!==e.ownerDocument.activeElement.tagName)&&p._editor.dom.isNodeInEditor(e.ownerDocument.activeElement)},p.getRealEndLine=function(e,t){var n=p._editor.getReps()[e],r=(t||n).selEnd[0],i=n.lines.length()-1;return i<0?0:(r<0?(r=0,r=p.getRealLine(e,r,!0)):i<r&&(r=i),r)},p.getRealSelection=function(e,t){var n=p._editor.getReps()[e],r=t||n;if(!r.selStart||!r.selEnd)return r;var i,o,a,s,c,u=p.getRealEndLine(e,r),l=p.getRealFirstLine(e,r),d={selStart:r.selStart,selEnd:r.selEnd};return l!==r.selStart[0]&&(d.selStart=[l,0,e]),u!==r.selEnd[0]&&(c=(i=n.lines.atIndex(u)).width-1,i.domInfo?(a=(o=i.domInfo).lineManagerType,s=o.lineMarker,c=a?s+1:i.width-1,a&&s+1!==i.width-1&&p._editor.log("oops debug: line entry width does not match: ["+u+", "+i.width+"]")):p._editor.log("why u need to get selection of the unrendered place?"),d.selEnd=[u,c,e]),d.selEnd[0]<d.selStart[0]||d.selEnd[1]<0||d.selStart[1]<0?t:d},p.getSelectionRange=function(e,t){var n=Ns(e,t);return new fc({range:n,editor:t})._toDOMRange(p.getSelection())},p.getPointForCharAtNode=function(e,t,n){void 0===n&&(n=!1);for(var r=e,i=!1;r!==e||!i;)if(i)r.nextSibling?(r=r.nextSibling,i=!1):r=r.parentNode;else if(Me(r))i=!0;else{var o=Ne(r);if(De(r)||o&&!n){var a=je(r),s=Pe(a),c=(s?a:r.nodeValue).length,u=s&&0<c,l=Ne(r)&&r.getAttribute&&"start"===r.getAttribute("data-contentcollector-ignore-space-at"),d=t===c&&u;if(t===c&&!o){var p=r.parentNode;"span"!==p.tagName.toLocaleLowerCase()&&(p=p.parentNode);var f=p.nextSibling;if(f&&f.getAttribute&&"start"===f.getAttribute("data-contentcollector-ignore-space-at"))return{node:f,index:1,maxIndex:1}}if(t<=c&&l)return{node:r,index:1,maxIndex:1};if(t<=c&&!d)return{node:r,index:t,maxIndex:c};t-=c,i=!0}else{var h=Le(r);h?r=h:i=!0}}return null},p.getRealPointAtFakeText=function(e){if(!De(e.node)&&e.node.getAttribute&&e.node.getAttribute("data-faketext")){var t=p.getPointForCharAtNode(e.node,e.index,!0);if(t)return t}return e},p.getFastSelection=function(){var e=p.getSelection();if(!e)return null;var t=e.start,n=e.end;return{selStart:t?[t.line,t.offset]:null,selEnd:n?[n.line,n.offset]:null,selZone:t?t.zoneId:"0"}},p.triggerSelectionChanged=function(){var e=p._editor,t=e.getRep();e.inCallStackIfNecessary("setWithSelection",function(){e.callAll("aceSelectionChanged",{rep:t,callstack:e.getCurrentCallStack(),editorInfo:e,documentAttributeManager:t.attributeManager,attribs:e.getAttributesOnSelection(t.zoneId,p.getRealSelection(t.zoneId,t))})},{shouldIncorp:!1})},(p._editor=c).on(mr.SELECTION_CHANGE_AND_DOM_UPDATE,p.triggerSelectionChanged),u&&(t=u.start,n=u.end,r=t.line,i=t.offset,o=t.zoneId,a=n.line,s=n.offset,c.getRep(o).selStart=[r,i],c.getRep(o).selEnd=[a,s],p.currentSelection={zone:o,start:{zone:o,line:t.line,col:t.offset},end:{zone:o,line:n.line,col:n.offset}}),p}function yc(e,t){if(!e)return function(){};if(window.ResizeObserver){var n=new window.ResizeObserver(t);return n.observe(e),function(){n.disconnect()}}var r=document.createElement("iframe");r.setAttribute("style","\n      position: absolute;\n      width: 100%;\n      height: 100%;\n      top: -1000%;\n      left: -1000%;\n      user-select: none;\n      visibility: hidden;\n    "),r.addEventListener("resize",t);var i=e.parentElement;return i.appendChild(r),function(){i.removeChild(r),r.removeEventListener("resize",t)}}var bc=(Ec.prototype.get=function(e){var t,n;try{for(var r=V(Object.keys(this.schemas)),i=r.next();!i.done;i=r.next()){var o=i.value;if(new RegExp(o).test(e))return this.schemas[o]}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}},Ec);function Ec(e){this.schemas=e}var _c,Ac=new bc({bold:{mark:!0},italic:{mark:!0},underline:{mark:!0},strikethrough:{mark:!0},"comment-.*":{mark:!0},backcolor:{mark:!0},"at-holder":{mark:!0},"at-uuid_.*":{mark:!0},"clientside-mention-placeholder":{mark:!0},"inline-code":{mark:!0,tailInherit:!1},"url-.*":{mark:!0,tailInherit:!1,refresh:!0},"horizontal-line":{displayEnter:!1},textcolor:{mark:!0}}),Cc=X.browser.getChromeVersion(),Tc=Cc&&88<=parseInt(Cc),Oc={apool:{nextNum:0,numToAttrib:{}},initialAttributedText:{attribs:"|1+1",text:"\n"},initialAttributedTexts:{rows:{},cols:{},attribs:{0:"|1+1"},text:{0:"\n"}}},kc=(j(Sc,_c=c.Component),Sc.prototype.componentDidMount=function(){var t,e,n,r=this,i=this.props,o=i.data,a=void 0===o?Oc:o,s=i.register,c=i.registerPlugin;a.initialAttributedTexts||(a=Pn(a)),this.editor=new Al(F(F({},this.props),{element:this.editableElem,clientVars:a,schema:this.props.schema||Ac,registerPlugin:s||c})),this.props.scroller&&(this.scroller=this.props.scroller),Tc&&this.editor.getDocBody().classList.add("chrome88"),this.editor._setScrollContainer(this.scroller);try{for(var u=V(this.events),l=u.next();!l.done;l=u.next()){var d=l.value;this.editableElem.addEventListener(d,this.handleEvent)}}catch(e){t={error:e}}finally{try{l&&!l.done&&(e=u.return)&&e.call(u)}finally{if(t)throw t.error}}this.removeResizeEvent=yc(this.editableElem,this.editor._handleResizeEvent),window.addEventListener("resize",this.editor._handleContainerResize);var p=this.editor.getContentState();this.updateView(this._defaultContents),p.onChange(this.handleContentChange),p._onRefresh(function(e){r.editor.call("_forceRefresh",[e])}),p._onError(this.editor.fatal),this.editor.on(mr.SELECTION_CHANGE,this.handleSelectionChange),this.editor._inputModel=new sc(this.editor);var f=new hs({start:null!==(n=p.getZoneState(be).getLine(0))&&void 0!==n&&n.hasLineMarker()?1:0,len:0,zoneId:be,editor:this.editor});this.editor.selection=new mc({editor:this.editor,range:f.toRange()}),document.addEventListener("mousedown",this.editor._handleMouseDown),document.addEventListener("selectionchange",this.editor.__handleDOMSelectionChange),this.editableElem&&this.editor._getViewModel()._setNode(this._defaultContents,this.editableElem),Object.assign(this.editor,this.editor.selection),this.editor._compatibleToAce(),this.editor._handleEditorSizeChange(),this.props.onInit&&this.props.onInit(this.editor),this.editor.callAll("onAlinesInited")},Sc.prototype.componentDidUpdate=function(e){var t=this.props,n=t.editable,r=t.copyable;n!==e.editable&&this.editor.setEditable(n),r!==e.copyable&&this.editor.setCopyable(r)},Sc.prototype.componentWillUnmount=function(){var t,e;document.removeEventListener("mousedown",this.editor._handleMouseDown),document.removeEventListener("selectionchange",this.editor.__handleDOMSelectionChange),this.editor._inputModel.destroy(),this.editor._getViewModel().destroy(),this.editor.destroy();try{for(var n=V(this.events),r=n.next();!r.done;r=n.next()){var i=r.value;this.editableElem.removeEventListener(i,this.handleEvent)}}catch(e){t={error:e}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.removeResizeEvent(),window.removeEventListener("resize",this.editor._handleContainerResize)},Object.defineProperty(Sc.prototype,"_defaultContents",{get:function(){return this.editor?this.editor.getContentState().getZoneState(be):[]},enumerable:!0,configurable:!0}),Sc.prototype.updateView=function(e){this.editor._getViewModel()._setNode(e,this.editableElem),this.setState({mount:!0})},Sc.prototype.render=function(){var e=this.props,t=e.className,n=e.id,r=e.outerClassName,i=void 0===r?"":r,o=e.scroller,a=e.style,s=void 0===a?{}:a,c=e.placeholder,u=e.maxHeight;return O.a.createElement(Ze.Provider,{value:this.editor},O.a.createElement(ne,{className:"outerdocbody "+i,initRef:this.handleScrollRef,scroller:o,maxHeight:u},O.a.createElement("div",{suppressContentEditableWarning:!0,contentEditable:this.initEditable,className:"adit-container innerdocbody "+(t||""),id:n,"data-placeholder":c||"",style:Object.assign(F({},s),{whiteSpace:"pre-wrap"}),ref:this.handleContentRef,onClick:this.handleEvent,onCompositionStart:this.handleEvent,onCompositionEnd:this.handleEvent,onFocus:this.handleEvent,onBlur:this.handleEvent},this.editor&&O.a.createElement(ps,{editor:this.editor,host:this.editableElem,defaultContent:this._defaultContents,onInit:this.handleContentMount,onDidPaint:this.editor.blockRender.callOnMount,onScrollStop:this.editor.blockRender.callScrollEnd,onItemsRendered:this.editor.blockRender.callLineNodesRendered,onViewportWillChange:this.editor.blockRender.callBufferWillChange,onViewportDidChange:this.editor.blockRender.callBufferChanged}))))},Sc);function Sc(e){var t,C=_c.call(this,e)||this;return C.events=["copy","cut","paste","keydown","keypress","keyup","beforeinput","input","drop","dragenter","dragover","dragleave"],C.handleSelectionChange=function(){var e=C.editor.selection.getSelection();C.editor.getContentState().setActiveZone(e.start.zoneId)},C.handleContentChange=function(e){var t,n,r,i,o,a=C.editor,s=e.previous,c=e.options,u=c.insertsAfterSelection,l={};try{for(var d=V(s),p=d.next();!p.done;p=d.next()){var f=p.value,h=f.getZoneId(),g="";try{for(var m=(r=void 0,V(f)),v=m.next();!v.done;v=m.next())g+=v.value.getModelText()}catch(e){r={error:e}}finally{try{v&&!v.done&&(i=m.return)&&i.call(m)}finally{if(r)throw r.error}}l[h]=g}}catch(e){t={error:e}}finally{try{p&&!p.done&&(n=d.return)&&n.call(d)}finally{if(t)throw t.error}}C.updateView(a.getContentState().getZoneState(be));var y,b=a.selection.getSelection(s).toPosition(s),E=a.changesetHelper.unpack(c._cs)[b.zoneId]?(y=(o=K(a.changesetHelper._characterRangeFollow(c._cs,b.zoneId,b.start,b.start+b.len,u),2))[0],o[1]):(y=b.start,b.start+b.len),_=new hs({start:y,len:E-y,zoneId:b.zoneId,editor:a});a.selection.setSelection(_),C.editor.flags.contentChanged=!0,a.call(mr.CONTENT_CHANGE,e)},C.handleScrollRef=function(e){C.scroller=e},C.handleContentMount=function(e){C.editor.dom.root=e,(C.editor.root=e).zoneId={value:"0"}},C.handleEvent=function(e){var t;C.editor._correctCompositionIfNecessary(e),!(e.currentTarget.contains(e.target)||e instanceof Event)||(t=C.editor[me[e.type]])&&t(e)},C.handleContentRef=function(e){e&&(C.editableElem=e,C.editor&&C.editor._getViewModel()._setNode(C._defaultContents,e))},C.state={mount:!1},C.initEditable=null==(t=e.editable)||t,C}var wc=Ic;function Ic(e){var i=this;this.editor=e,this.commandMap={},this.registerCommand=function(e,t,n){i.commandMap[e]={callback:i.wrapCallbackWithCallStack(e,t,n||{}),options:n}},this.registerAceCommand=function(e,t,n){i.registerCommand(e,t,n)},this.getAllRegistedCommands=function(){return i.commandMap},this.wrapCallbackWithCallStack=function(a,s,c){return function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=t.inCallStackIfNecessary,o=t.fastIncorp;i(a,function(){o(!0),t.callStack.makeNewEvent("triggerCommand",function(){s.apply(void 0,W([e,t,c],n)),t.activeCaret()},n[0])})}},this.triggerCommand=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=i.commandMap[e];i.editor.log("triggerCommand",e),i.editor.isEnabled()&&r&&r.callback.apply(r,W([e,i.editor],t))}}var xc,Lc=X.utils.findParentNode,Rc=X.Pocket.addPocketToLine,Nc=X.Pocket.getPocketTypesOfLine,Dc="lineAttributeMarker",Mc="lmkr",Pc=(j(jc,xc=X.DomLine),jc.prototype.setLineMarker=function(e){this.lineMarker=e},jc.prototype.oldRender=function(e){var t=e.zoneId,n=e.op,r=e.lineNumber,i=(e.ops,n.insert),o=this.aceAttribsToClasses(n,0),a=o.cls,s=o.attrObj,c={inlineAttributesInEnter:[],isSplit:!1,currentLineIndex:r,zoneId:t};s.op=n,this.renderToken(i,a,s,"",c,{})},jc.prototype.getOpByView=function(e){return this.opViewMap.get(e)},jc.prototype.getOldViewByOp=function(e){return this.opViewMap.get(e)},jc.prototype.getPocketView=function(){return this.pocketView.length?this.pocketView:null},jc.prototype.aceAttribsToClasses=function(e,i){var t,o=this,a=F({},e.attributes||{}),s=[],c=!1;Object.keys(a).forEach(function(e){var t,n,r=a[e];""!==r&&(e.startsWith(Ae)&&(delete a[e],e=e.slice(Ae.length),a[e]=r),t={lineTotalLen:i,key:e,value:a[e],collapseStatus:o.collapseStatus},n=o.editor.callAll("aceAttribsToClasses",t),s.push.apply(s,W(n.filter(function(e){return e}))),"displayEnter"===e&&"false"===r&&s.push("not-display-enter"),c||e!==Mc||(c=!0))});var n=this.editor._formatterRenderer;return n&&n.createRenderData(a),n.setCurrentAttribute(),c&&s.push(Dc),{cls:s.join(" "),attrObj:F(F({},a),((t={})[Dc]=c,t))}},jc.prototype.clear=function(){this.html=[],this.preHtml="",this.postHtml="",this.opViewMap=new Map,this.opInfos=[],this.options={}},jc.prototype.getClassName=function(){return this.lineClass},jc.createDomLine=function(e){var t=e.nonEmpty,n=e.doesWrap,r=(e.optBrowser,e.optDocument),i=e.editor,o=e.lineString,a=new jc;return a.setDoc(r),a.initNode(),a.editor=i,o&&(a.lineString=o.slice(0,-1)),a.setOptions({nonEmpty:t,doesWrap:n,lineAttributeMarker:Dc,hooks:i._pluginManager,formatterRenderer:i._formatterRenderer}),a},jc);function jc(){var c=null!==xc&&xc.apply(this,arguments)||this;return c.opInfos=[],c.opViewMap=new Map,c.pocketHtml="",c.pocketView=[],c.getFilterStack=function(e,t,n){var r=c.editor.getRep(e),i=r.alines,o=r.apool;c.renderToken=function(e,t,n,r,i){c.opInfos.push({op:n.op,modelText:e}),c.appendSpan(e,t,n,"",i,{})},c.editor.callAll("aceGetFilterStack",{lineText:t,textAndClassFunc:c.renderToken}).forEach(function(e){c.renderToken=e(t,c.renderToken,i[n],o)})},c.decorateMagicObjects=function(t,e){var n,r,i,o,a,s=t.lineNode;s&&((i=Array.from(s.querySelectorAll(".ace-line-pocket")).filter(function(e){return Lc(e,".ace-line")===s})).length?(o=null===(n=s.pocket)||void 0===n?void 0:n.getItemTypesOfLine(),a=Nc(t,c.editor),Object(l.a)(o,a).length||0===i[0].children.length?(null!==(r=s.pocket)&&void 0!==r&&r.clear(),Rc(t,c.editor.hooks,c.editor,e)):s.pocket&&s.pocket.pocketItems.forEach(function(e){e.onReuse&&e.onReuse(t,F(F({},s),{id:s.oldId}))})):s.pocket&&(s.pocket.clear(),s.pocket=void 0))},c}var Fc=(Bc.prototype.hasAnyDirtyRanges=function(){return!1},Bc.prototype.observeNode=function(){},Bc.prototype.safeHasDirtyRanges=function(){return!1},Bc.prototype.destroy=function(){},Bc);function Bc(){this.isNodeDirty=function(e){return!1},this.withoutRecordingMutations=function(e){e()}}var Uc=Hc;function Hc(e){var n=this;this.nextId=1,this.uniqueId=function(e){var t=e.id;return t||(e.id=n.lineIdPre+n.nextId++)},this.renderDomLine=function(){return{}},this.lineIdPre="magicdomid-"+ ++e+"_"}var zc=(Object.defineProperty(Vc.prototype,"zoneState",{get:function(){return this.parent.zoneState},enumerable:!0,configurable:!0}),Vc.prototype.atIndex=function(e){return this.entryList[e]},Vc.prototype.atOffset=function(e){var t=this.zoneState.offsetToLocation(e).line;return this.atIndex(t)},Vc.prototype.keyAtOffset=function(e){var t;return null===(t=this.atOffset(e))||void 0===t?void 0:t.key},Vc.prototype.indexOfEntry=function(t){var e=this.entryList.findIndex(function(e){return e===t});return-1===e&&console.warn("no entry in skiplist of entry ",t),e},Vc.prototype.indexOfKey=function(t){var e=this.entryList.findIndex(function(e){return e.key===t});return-1===e&&console.warn("no entry in skiplist of key ",t),e},Vc.prototype.isStartOfLine=function(e,t){return this.atIndex(e).lineMarker===t},Vc.prototype.atKey=function(e){return this.atIndex(this.indexOfKey(e))},Vc.prototype.keyAtIndex=function(e){var t;return null===(t=this.atIndex(e))||void 0===t?void 0:t.key},Vc.prototype.splice=function(e,t,n){var r;(r=this.entryList).splice.apply(r,W([e,t],n));for(var i=0,o=n.length;i<o;i++){var a=n[i],s=n[i+1];(a._next=s)&&(s._prev=a)}var c,u,l,d=n.length;d&&this.entryList.length&&(c=this.entryList[e-1],u=n[0],c&&((c._next=u)._prev=c),(l=this.entryList[e+d])&&(l._prev=n[d-1],n[d-1]._next=l))},Vc.prototype._deleteEntry=function(e){var t,n,r=this.indexOfEntry(e);-1!==r&&(this.splice(r,1,[]),t=this.entryList[r],(n=this.entryList[r+1])!==t&&(t._next=n),n&&(n._prev=e))},Vc.prototype.next=function(e){return e._next},Vc.prototype.prev=function(e){return e._prev},Vc.prototype.push=function(e){this.splice(this.numNodes,0,[e])},Object.defineProperty(Vc.prototype,"numNodes",{get:function(){return this.entryList.length},set:function(e){},enumerable:!0,configurable:!0}),Vc.prototype.totalWidth=function(){for(var e=0,t=this.length(),n=0;n<t;n++){var r=this.zoneState.getLine(n);r?e+=r.length():console.error("skipList totalWidth: line "+n+" not exist")}return e},Vc.prototype.length=function(){return this.numNodes},Vc.prototype.offsetOfIndex=function(e){var t=this.zoneState.getLine(e);return t?t._offsetStart:(console.error("Can not find line of index:, "+e+",\n        zoneId: "+this.zoneState.getZoneId()+", linesLength: "+this.length()),console.trace(),0)},Vc.prototype.offsetOfPoint=function(e,t){return this.offsetOfIndex(e)+t},Vc.prototype.offsetOfKey=function(e){var t=this.indexOfKey(e);return this.zoneState.pointToOffset({line:t,offset:0})},Vc.prototype.offsetOfEntry=function(e){return this.offsetOfKey(e.key)},Vc.prototype.indexOfOffset=function(e){return this.zoneState.offsetToPoint(e).line},Vc.prototype.selectionOfOffset=function(e){var t=this.zoneState.offsetToPoint(e);return[t.line,t.offset]},Vc.prototype.getNumNodes=function(){return this.numNodes},Vc.prototype.isEndOfLine=function(e,t){return this.atIndex(e).width===t+1},Vc.prototype.slice=function(e,t){var n=this.numNodes;if(void 0===e?e=0:e<0&&(e+=n),void 0===t?t=n:t<0&&(t+=n),e<0&&(e=0),n<e&&(e=n),t<0&&(t=0),n<t&&(t=n),t<=e)return[];for(var r=this.atIndex(e),i=[r],o=1;o<t-e;o++)r=this.next(r),i.push(r);return i},Vc.prototype.containsKey=function(e){return-1<this.indexOfKey(e)},Vc.prototype.traverseEntries=function(e,t,n){for(var r=e,i=this.atIndex(r)||null;r<=t;r++,i=this.next(i)){if(!i)throw new Error("attempt to iterate lineEntry which doesn't exist at index: "+r);if(!i.lineNode)throw new Error("lineNode is missing on activateNodes");n(i,r)}},Vc.prototype.clearRects=function(){this.traverseEntries(0,this.length()-1,function(e){e.deleteRect()})},Vc);function Vc(e,t){this.entryList=[],this.parent=t}var Kc=X.browser.isChrome||X.browser.isSafari;function Gc(e){return X.utils.isNodeText(e.node)&&1===e.index}var Wc,Yc=(j(qc,Wc=X.DomLineEntry),qc.prototype.setLineStateMarker=function(e){this.lineMarker=Number(e.hasLineMarker())},qc.prototype.getLineRect=function(e){var t;void 0===e&&(e=X.DEFAULT_REP_ZONE);var n,r={top:0,left:0,bottom:0,height:0},i=this.isActive;if(this.zone!==X.DEFAULT_REP_ZONE&&(o=this.editor.getRep(this.zone).lines.indexOfEntry(this),n=this.editor.getLineNumInRootZone(this.zone,o),i=(null===(t=this.editor.getRep(X.DEFAULT_REP_ZONE).lines.atIndex(n))||void 0===t?void 0:t.isActive)||!1),i)return Wc.prototype.getLineRect.call(this,e);if(this.zone===X.DEFAULT_REP_ZONE){var o=this.editor.getRep(this.zone).lines.indexOfEntry(this),a=this.editor.listView._getLayoutForLine(o),s=a.top;return{top:s,height:u=a.height,left:0,bottom:s+u}}var c=this.editor.managers.zoneToLineEntry[this.zone];if(!c.lineNode)return r;var u,o=this.editor.getRep(X.DEFAULT_REP_ZONE).lines.indexOfEntry(c),l=this.editor.listView._getLayoutForLine(o).top,d=this.zoneRect,p=d.top,f=d.left;return{top:p+l,height:u=d.height,left:f,bottom:p+u+l}},qc.prototype.getZeroSpaceWrapper=function(e){for(var t=e;t.parentElement&&!t.closest;)t=t.parentElement;return t.closest?t.closest("["+Je+"]"):null},qc);function qc(e){var Z=Wc.call(this,e)||this;Z.uniqueId=function(){return Z._uniqueId},Z.getSelectionRect=function(e,t){var n,r,i,o,a,s=e,c=e+1,u=Z.editor,l=Z,d=l.lineNode;if(!Z.isActive)return d.getBoundingClientRect();if(!Z.editor.docbody.contains(d))return null;var p=u.getRep(Z.zone),f=p.lines.indexOfEntry(l),h=new ys({editor:u,start:{line:f,offset:s,zoneId:Z.zone},end:{line:f,offset:c,zoneId:Z.zone}});if(d.classList.contains("single-line")||d.querySelector(".new-gallery"))var g=X.utils.getFirstChildWithoutPocket(d),m={node:g,offset:0},v={node:g,offset:1};else{var y=u.selection._toDOMRange(h,{ignoreNormalize:!0});m={node:y.startContainer,offset:y.startOffset};var b=null===(r=null===(n=null===(v={node:y.endContainer,offset:y.endOffset})||void 0===v?void 0:v.node)||void 0===n?void 0:n.parentElement)||void 0===r?void 0:r.closest(".mention-type_1");if(b){var E=null===(i=b.querySelector("a span[data-string]"))||void 0===i?void 0:i.firstChild;if(E){var _=u.selection._toModelRange(y),C=s-_.start.offset,T=c-_.start.offset,O=document.createRange();return O.setStart(E,C),O.setEnd(E,T),O.getBoundingClientRect()}}var k=null===(o=v.node)||void 0===o?void 0:o.parentElement,S=k&&Z.getZeroSpaceWrapper(k);if(S){var w=S.closest("["+st+"]");if(w)return F=(w||d).getBoundingClientRect()}}var I=l.text.length>l.lineMarker,x=Q()(d),L=x.hasClass("single-line"),R=0<x.find(".sheet").length,N=0<x.find(".ace-table").length,D=0<x.find(".horizontal-line").length,M=x.hasClass("code-block-ace-line"),P=null===(a=null===v||void 0===v?void 0:v.node)||void 0===a?void 0:a.parentElement,j=null===P||void 0===P?void 0:P.dataset,F=d.getBoundingClientRect();if(null!==j&&void 0!==j&&j.enter)return F;if(I&&(L||R||N||D||M))return v.node&&v.node.parentElement&&(F=v.node.parentElement.getBoundingClientRect()),F;if(I){var B,U=document.createRange();return m.node&&v.node&&(B={node:v.node,index:v.offset},Kc&&Gc(B)?U.setStart(v.node,0):U.setStart(m.node,m.offset),v.node&&U.setEnd(v.node,v.offset),F=U.getBoundingClientRect()),F}var H=l.lineNode,z={top:0,left:0,right:0,height:0,width:0},V=H&&X.utils.getFirstChildWithoutPocket(H);if(!V||!V.getBoundingClientRect)return t&&Object(X.trace)("return rect has no line rect"),null;z=V.getBoundingClientRect();var K=p.lines.indexOfEntry(l),W=p.attributeManager.getAttributesOnLine(K),Y=u._getTypeInAttribs(W,"align"),q=z.left;return"center"===Y&&(q=z.left+Math.ceil(z.width/2)),"right"===Y&&(q=z.right),F={top:z.top||0,left:q||0,right:q||0,height:z.height||0,bottom:z.bottom||0,width:z.width||0}};var t=e.lineState,n=e.uniqueId;return Z.editor=e.editor,Z._uniqueId=n,t&&(Z.lineState=t,Z.setLineStateMarker(e.lineState),Z.lineNode&&!t._node&&(Z.editor._getViewModel()._setNode(t,Z.lineNode),t._node=Z.lineNode,Z.lineNode.setAttribute(tt,"true"))),Z}var Zc,Xc="0",Qc=X.RepManager.default,Jc=0,$c="magicdomid-",eu=(j(tu,Zc=X.Rep),Object.defineProperty(tu.prototype,"zoneState",{get:function(){return this.repManager.editor.getContentState().getZoneState(this.zoneId)},enumerable:!0,configurable:!0}),Object.defineProperty(tu.prototype,"apool",{get:function(){return this.repManager.apool},enumerable:!0,configurable:!0}),tu.prototype._update=function(a,e,s,t,n){var r,i,c=this;void 0===n&&(n=!0);var u=this.repManager.editor,l=this.zoneState.getZoneId(),o=[],d=[];s.forEach(function(e){o.push(e.length()),d.push(c.repManager._lineStateToAline(e))}),(r=this.alinesWidth).splice.apply(r,W([a,e],o)),(i=this.alines).splice.apply(i,W([a,e],d));var p,f=s.reduce(function(e,t){return e+t.getModelText()},""),h=t.reduce(function(e,t){return e+t.getModelText()},""),g=h.length,m=this.alinesWidth.slice(0,a).reduce(function(e,t){return e+t},0);if(h!==f&&(p=this.alltext.slice(m+g),this.alltext=this.alltext.slice(0,m)+f+p),n)if("Z"===this.zoneState.getType()){var v=t.map(function(e){return c.repManager._lineStateToAline(e)}),y={},b={},E=this.apool;u.changesetHelper.eachAttribNumber(v.join(""),function(e){y[e]=E.numToAttrib[e]}),u.changesetHelper.eachAttribNumber(d.join(""),function(e){b[e]=E.numToAttrib[e]}),u.callAll("editorAlinesDidSplice",{start:a,deleteCount:e,prevState:{alinesSplice:v,alinesAttribs:v.map(function(e){return Object.values(u.changesetHelper.getAlineAttributes(E,e))}),numToAttrib:y},currentState:{alinesSplice:d,alinesAttribs:d.map(function(e){return Object.values(u.changesetHelper.getAlineAttributes(E,e))}),numToAttrib:b},zoneId:l,editor:u});var _=this.alltext.split("\n"),C=d.map(function(e,t){var n=s[t];if(n._keepEntry&&n._entry)return n._keepEntry=!1,n._entry;var r=c._getMagicId(),i=t+a,o=new Yc({editor:u,zone:l,root:u.getDocBody(),lineState:s[t],uniqueId:r,context:{key:r,text:_[i],aline:e}});return u.callAll("processBeforeInsertNode",{entry:o,cls:"",index:i}),n._entry=o,n._node=o.lineNode,o});this.lines.splice(a,e,C)}else{var T=void 0,O=void 0,k=[],S=[],w=u.getVectorsRep,I=u.managers,x=u.repManager,L=u.changesetHelper,R="R"===this.zoneState.getType(),N=I.getLineEntryContainingZone(l);if(null!==N&&void 0!==N&&N.domInfo){if(Object(X.isHTMLElement)(N.domInfo.node)&&(T=N.domInfo.node.lineManager),!T)throw new Error("can not find lineManager when apply delta which type is "+this.zoneState.getType());O=N.domInfo.lineManagerData;var D=w(R?O.colsZoneId:O.rowsZoneId,!R).vectorIds,M=s[0]._getOps(),P=t[0]._getOps(),j=M.filter(function(t){return P.every(function(e){return e.insert.id!==t.insert.id})}).map(function(e){return e.insert.id}),F=P.filter(function(t){return M.every(function(e){return e.insert.id!==t.insert.id})}).map(function(e){return e.insert.id}),S=X.tableIds.crossProduct(j,D,!R),k=X.tableIds.crossProduct(F,D,!R);S.forEach(function(e){return I.registerZoneForLine(e,N)})}u._setVectorsRep(l,this.createVectorRep(l,s[0])),N&&O&&T.setRep(O.rowsZoneId,O.colsZoneId,w(O.rowsZoneId,!0).vectorIds,w(O.colsZoneId,!1).vectorIds,L.getAttributesPerCharacter(w(O.rowsZoneId,!0).alines[0],x.apool),L.getAttributesPerCharacter(w(O.colsZoneId,!1).alines[0],x.apool),O.fullWidth),k.forEach(function(e){return I.unregisterZone(e)})}},tu.prototype._updateAll=function(){var t,e,n,r=[];try{for(var i=V(this.zoneState),o=i.next();!o.done;o=i.next()){var a=o.value;r.push(a)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}this._update(0,0,r,[],!1),"Z"!==this.zoneState.getType()&&(n=this.zoneState.getZoneId(),this.repManager.editor._setVectorsRep(n,this.createVectorRep(n)))},tu.prototype.createVectorRep=function(e,t){var n,r,i=this.zoneState,o=t||i.getLine(0),a=[];if(o)try{for(var s=V(o),c=s.next();!c.done;c=s.next()){var u=c.value;u.insert instanceof Object?a.push(u.insert.id):console.error("createVectorRep error: line:",o,"op:",u)}}catch(e){n={error:e}}finally{try{c&&!c.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}return{vectorIds:a,forRow:"r"===e.charAt(0),alines:this.alines.length?this.alines:[""]}},Object.defineProperty(tu.prototype,"alltext",{get:function(){return this._alltext},set:function(e){this._alltext=e},enumerable:!0,configurable:!0}),Object.defineProperty(tu.prototype,"alines",{get:function(){return this._alines},set:function(e){this._alines=e},enumerable:!0,configurable:!0}),tu);function tu(e,t,n){var r=Zc.call(this,e,t,n)||this;return r._alltext="",r._alines=[],r._instanceId=Jc++,r._uuid=0,r._getMagicId=function(){return $c+r._instanceId+r._uuid++},r.lines=new zc(r.repManager.editor,r),r._updateAll(),r}var nu,ru=(j(iu,nu=Qc),Object.defineProperty(iu.prototype,"contentState",{get:function(){return this.editor.getContentState()},enumerable:!0,configurable:!0}),iu.prototype._lineStateToAline=function(e){var i=this,o=Object(M.builder)(0);return e._getOps().forEach(function(e){var t="string"==typeof e.insert?e.insert:" ",n=e.attributes||{},r=Object.keys(n).reduce(function(e,t){return e.push([t,n[t]]),e},[]);o.insert(t,r,i.apool)}),o.toUnpacked().ops},iu.prototype._initReps=function(){var t,e;try{for(var n=V(this.editor.getContentState()),r=n.next();!r.done;r=n.next()){var i=r.value;i.getZoneId()!==Xc?this.addRep(i.getZoneId()):this._initDomLineEntry(Xc)}}catch(e){t={error:e}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}},iu.prototype.addRep=function(e,t){return this.reps[e]?console.error("zoneId is existed"):(this.contentState.getZoneState(e)||this.contentState.addZone(e,t),this.reps[e]=new eu(e,this.applyChangesetCallback,this),this.reps[e].lines.length()||this._initDomLineEntry(e)),this.reps[e]},iu.prototype.removeRep=function(e){this.contentState.removeZone(e),delete this.reps[e]},iu.prototype._initDomLineEntry=function(e){for(var t=this.reps[e],n=t.alltext.split("\n"),r=[],i=this.contentState.getZoneState(e),o=0,a=t.alines.length;o<a;o++){var s=t._getMagicId(),c=i.getLine(o),u=new Yc({editor:this.editor,uniqueId:s,zone:e,root:this.editor.getDocBody(),lineState:c,context:{key:s,text:n[o],aline:t.alines[o]}});c&&(c._entry=u,c._node=u.lineNode),r.push(u)}t.lines.splice(0,0,r)},iu);function iu(e,t){var n=nu.call(this,e,t)||this;return n._replaceEntryArr=[],n.apool=n.contentState._attributes,n.reps[Xc]=new eu(Xc,t,n),n}var ou=X.utils.toMainZoneSplices,au="editorWillPerformChangeset",su="preRendererAsyncNodeDidUpdate",cu={instanceName:"hackKeepRetainInstance",shouldRetain:!0,displayType:X.DisplayType.Inline},uu=(lu.prototype.bindEvents=function(){this.editor.on(au,this.editorWillPerformChangeset),this.editor.on(mr.PAINT,this.editorDidPaint),this.editor.on(su,this.preRendererAsyncNodeDidUpdate)},lu.prototype.unbindEvents=function(){this.editor.off(au,this.editorWillPerformChangeset),this.editor.off(mr.PAINT,this.editorDidPaint),this.editor.off(su,this.preRendererAsyncNodeDidUpdate)},lu.prototype.recordViewport=function(){var e,t,n;this.shouldLockViewport&&(e=this.getViewportTopLine(),t=this.editor.listView._getLayoutForLine(e),n=this.editor.getRep(Xc).lines.atIndex(e),t&&n&&(this.context.viewportInfo={key:n.key,top:t.top,scrollTop:this.editor._getScrollContainer().scrollTop}))},lu.prototype.updateViewport=function(){var e,t,n,r,i,o,a,s;this.shouldLockViewport&&this.context.viewportInfo&&(t=(e=this.context.viewportInfo).key,n=e.top,r=e.scrollTop,i=this.editor.getRep(Xc).lines.indexOfKey(t),!(o=this.editor.listView._getLayoutForLine(i))||0!==(a=o.top-n)&&(s=r+a,this.updateScrollTop(s))),this.context={}},lu.prototype.updateScrollTop=function(e){var t;this.editor.listView._lockForbiddenWhenScrolling()&&this.editor.listView.isScrolling||((t=this.editor._getScrollContainer())instanceof Window?window.scrollTo(t.scrollX,e):t.scrollTop=e)},lu.prototype.addTableLineToContext=function(e){var t;this.context&&((t=this.context.tablesNeedSync||[]).push(e),this.context.tablesNeedSync=t)},lu.prototype.updateZoneRectInRanges=function(e,t){var n,r,i,o;if(void 0===t&&(t=Xc),0!==e.length){t!==Xc&&(i=e[0][0],e=[[o=this.editor.getLineNumInRootZone(t,i),o]]);try{for(var a=V(e),s=a.next();!s.done;s=a.next()){var c=K(s.value,2),u=c[0],l=c[1];if(!(u<0||l<0||l<u))for(var d=u;d<=l;d++){var p=this.editor.getRep(Xc).lines.atIndex(d);p&&p.shouldHandleZoneRect()&&p.updateZoneRectIfNecessary()}}}catch(e){n={error:e}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}}},lu.prototype.lockViewportByMainDoc=function(e){var t,n,r,i,o=this.editor.getScrollTop()||0,a=this.getViewportTopLine(),s=this.editor.getRep(Xc).lines.atIndex(a);s&&s.lineNode?(t=Fe(s.lineNode,this.editor.docbody),n=s.getAllInstances(),(r=!(s.shouldKeepActive||s.shouldRetain))&&(n.length?n[0].shouldRetain=!0:s.registerInstance(cu)),e(),r&&(n.length?n[0].shouldRetain=!1:s.unregisterInstance(cu)),0!==(i=Fe(s.lineNode,this.editor.docbody)-t)&&this.updateScrollTop(o+i)):e()},lu.prototype.ensureScreenNoScroll=function(e){var t=this;this.editor.observer.withoutRecordingMutations(function(){t.lockViewportByMainDoc(e)})},lu.prototype.getViewportTopLine=function(){var e=this.editor.blockRender.getViewportLines()[Xc]||[];return e.length?Math.min.apply(Math,W(e)):0},lu.prototype.getViewportBottomLine=function(){var e=this.editor.blockRender.getViewportLines()[Xc]||[];return e.length?Math.max.apply(Math,W(e)):0},lu.prototype.getViewportRange=function(){return[this.getViewportTopLine(),this.getViewportBottomLine()]},lu.prototype.destroy=function(){this.unbindEvents(),this.lockViewportByMainDocTimer&&clearTimeout(this.lockViewportByMainDocTimer),this.lockViewportByMainDocTimer=null},lu);function lu(e,t){var c=this;this.editor=e,this.context={},this.shouldLockViewport=!0,this.preRendererAsyncNodeDidUpdate=function(e){var t,n,r,i,o,a,s;c.shouldLockViewport&&c.editor.mounted&&(t=e.lineEntry,n=e.lineNum,r=e.heightChanged,e.zoneId===Xc&&(i=c.editor.listView._getLayoutForLine(n),o=c.editor.getScrollTop()||0,a=i.top+c.editor.blockRender._getOffsetTopToScroller()+i.height<o,s=t.isActive||t.isRetained,a&&0!==r&&s&&c.updateScrollTop(o+r),c.lockViewportByMainDocTimer=setTimeout(function(){c.editor.mounted&&c.lockViewportByMainDoc(function(){var e=c.editor.listView.getViewPortData();c.editor.listView.paint(e,{preventUpdateSelection:!0})})})))},this.editorWillPerformChangeset=function(e){var t,n,r,i,o,a=e.cs;c.shouldLockViewport&&(t=c.editor.changesetHelper.toLineSplices(a),n=ou(c.editor,t),r=c.getViewportTopLine(),i=n.some(function(e){return e.startIndex+e.deleteCount<r}),(o=t.filter(function(e){return e[3]!==Xc})).forEach(function(e){var t,n,r=c.editor.managers.zoneToLineEntry[e[3]],i=c.editor.getRep(Xc).lines.indexOfEntry(r);-1===i||null!==(t=c.context.tablesNeedSync)&&void 0!==t&&t.includes(i)||(c.context.tablesNeedSync||(c.context.tablesNeedSync=[]),r.needUpdateZoneRect=!0,null!==(n=c.context.tablesNeedSync)&&void 0!==n&&n.push(i))}),o.length&&setTimeout(function(){var e=c.editor.listView.getViewPortData();c.editor.listView.paint(e,{preventUpdateSelection:!0})}),i&&c.recordViewport())},this.editorDidPaint=function(){(c.context.tablesNeedSync||[]).forEach(function(e){c.editor.listView._recalculateLine(e)}),c.updateViewport()};var n=this.editor._getScrollContainer()||this.editor.docbody,r=n instanceof Window?this.editor.docbody:n;"auto"===getComputedStyle(r).overflowAnchor&&(r.style.overflowAnchor="none"),this.shouldLockViewport=!0,this.bindEvents()}var du="asyncNodeDidUpdate",pu="asyncNodeWillUpdate",fu="preRendererAsyncNodeDidUpdate",hu={marginBottom:0,marginTop:0,height:0,top:0},gu=(mu.prototype.destroy=function(){this.unbindEvents(),this.viewportStabilizer.destroy(),this.updatePlaceholderTimer&&(clearTimeout(this.updatePlaceholderTimer),this.updatePlaceholderTimer=null)},mu.prototype.bindEvents=function(){this.editor.on(du,this.asyncNodeDidUpdate),this.editor.on(pu,this.asyncNodeWillUpdate),this.editor.on("tableDidRender",this.tableDidRender)},mu.prototype.unbindEvents=function(){var e=this.editor.hooks.plugins.indexOf(this);-1!==e&&this.editor.hooks.plugins.splice(e,1),this.editor.off(du,this.asyncNodeDidUpdate),this.editor.off(pu,this.asyncNodeWillUpdate),this.editor.off("tableDidRender",this.tableDidRender)},mu.prototype.syncAsyncNode=function(e){var t,n,r,i,o=Xc;!this.editor.docbody||(t=this.editor.getRep(o).lines.atIndex(e))&&(r=(n=this.editor.listView)._getLayoutForLine(e).height,n._recalculateLine(e,void 0,!n.isRendering),i=n._getLayoutForLine(e).height-r,this.editor.call(fu,{lineEntry:t,zoneId:o,lineNum:e,heightChanged:i}))},mu.prototype.getLayoutForLine=function(e,t){return e!==Xc?hu:this.editor.listView._getLayoutForLine(t)},mu.prototype.ensureScreenNoScroll=function(e,t){return this.viewportStabilizer.ensureScreenNoScroll(t)},mu.prototype.getTopmostElementIndexInViewport=function(){return this.viewportStabilizer.getViewportTopLine()},mu);function mu(e){var s=this;this.editor=e,this.updatePlaceholderTimer=null,this.asyncNodeWillUpdate=function(e){var t,n=e.key,r=e.zoneId,i=s.editor.getRep(r).lines.indexOfKey(n);-1!==i&&(r!==Xc&&(i=s.editor.getLineNumInRootZone(r,i)),(t=s.editor.getRep(Xc).lines.atIndex(i))&&t.isActive&&s.editor.listView._recalculateLine(i))},this.asyncNodeDidUpdate=function(e){var t,n,r,i,o=e.zoneId,a=e.key;o===Xc?-1!==(n=(t=s.editor.getRep(o)).lines.indexOfKey(a))&&t.lines.atIndex(n)&&s.syncAsyncNode(n):-1!==(n=(t=s.editor.getRep(o)).lines.indexOfKey(a))&&(r=s.editor.getRep(Xc),-1!==(i=s.editor.getLineNumInRootZone(o,n))&&r.lines.atIndex(i)&&s.syncAsyncNode(i))},this.tableDidRender=function(e){var t,n=e.lineEntry,r=s.editor.getRep(Xc).lines.indexOfEntry(n);-1!==r&&(s.viewportStabilizer.addTableLineToContext(r),t=s.editor.listView._getStateIndexForLineNum(r),s.editor.listView._recalculateLine(t,2e3,!0),n.needUpdateZoneRect=!0)},this.bindEvents(),this.viewportStabilizer=new uu(this.editor,this)}var vu=(Object.defineProperty(yu.prototype,"config",{get:function(){return console.warn("Do not get blockRender.config any more!"),{}},enumerable:!0,configurable:!0}),yu.prototype.destroy=function(){this.preRenderer.destroy(),this.editor.off(mr.PAINT,this.handleDidPaint),this.fiberTaskId&&this.editor.fiber.cancelTask(this.fiberTaskId)},yu.prototype.isScrolling=function(){return this.editor.listView.isScrolling},yu.prototype.getUsageState=function(){return this.editor.listView.enableVirtualScroll},yu.prototype.enableOptimization=function(){return!0},yu.prototype.withoutHandleScrolling=function(t,n){return void 0===n&&(n=!1),H(this,void 0,void 0,function(){return z(this,function(e){return[2,this.editor.listView._withoutHandleScrolling(t,n)]})})},yu.prototype.requestRender=function(l,d){var p=this;setTimeout(function(){var e,t,n,r,i,o,a,s,c,u;p.editor.mounted&&(r=l.bufferLine,i=p.getViewportData(r),(e={})[be]=[],o=e,i.forEach(function(e){var t,n=e.data;(t=o[be]).push.apply(t,W(p.getLineNumForItem(n)))}),a=i[0],s=i[i.length-1],c=p.editor.listView.getViewPortData(),u=i.reduce(function(e,t){return e[t.originIndex]=!0,e},{}),c.forEach(function(e){u[e.originIndex]||i.push(e)}),p.editor.listView.paint(i,{preventUpdateSelection:!0,ensureRenderStartIndex:!p.editor.listView._supportSkipAboveRender()||null===(t=a)||void 0===t?void 0:t.originIndex,ensureRenderEndIndex:!p.editor.listView._supportSkipAboveRender()||null===(n=s)||void 0===n?void 0:n.originIndex}),l.forceRender&&p.callForceRender(o,l.forceRender),d&&d())})},yu.prototype.getViewportData=function(e){for(var t=this.editor.listView._getStateIndexForLineNum(e),n=this.editor._getScrollerHeight(),r=this.editor.listView,i=r._getLayoutForLine(t).top,o=Math.max(i-n/2,0),a=[],s=r.props.dataSource,c=0,u=s.length;c<u;c++){var l=r._getLayoutForLine(c),d=l.top;o<=d+l.height&&d<=o+n&&!s[c].isInvisible()&&a.push({data:s[c],originIndex:c})}return a},yu.prototype.isSkipAboveRender=function(){return this.editor.listView._supportSkipAboveRender()},yu.prototype.requestRenderAllForScroll=function(e,t,n,r){var i={bufferLine:e,forceRender:t};this.requestRender(i,r)},yu.prototype.getCurrentBufferRange=function(){var e=this.editor.listView,t=K(e._getViewportRange(),2),n=t[0],r=t[1],i=e.props.dataSource[n],o=e.props.dataSource[r],a=this.getLineNumForItem(i)[0],s=this.getLineNumForItem(o);return[a,s[s.length-1]]},yu.prototype.getViewportLines=function(){var a=this,s=this.editor.getScrollTop(),e=this.editor._getScrollerHeight(),c=s+e,r={},i=this.getLinesStatusDetail().activeLines,u=this._getOffsetTopToScroller();return Object.keys(i).forEach(function(e){var t=i[e]||[],o=a.editor.getRep(e),n=t.filter(function(e){var t=o.lines.atIndex(e);if(!t||!t.lineNode)return!1;var n=Fe(t.lineNode,a.editor.docbody),r=t.lineNode.offsetHeight,i=n+u;return!(c<i||i+r<s)});0<n.length&&(r[e]=n)}),r},yu.prototype.getLinesStatusDetail=function(){var e,t,n=this.editor.listView._getLinesStatusDetail(),r=n.activeLines,i=n.retainedLines;return{activeLines:((e={})[be]=r,e),retainedLines:((t={})[be]=i,t)}},yu.prototype.getLinesStatus=function(){var e,t=this.editor.getRep(be).lines,i=[];return t.traverseEntries(0,t.length()-1,function(e){var t=e.isActive,n=e.isRendered,r=e.isRetained;i.push({isActive:t,isRendered:n,isRetained:r,children:[]})}),(e={})[be]=i,e},yu.prototype.getLineStatus=function(e,t){var n=this.editor.getRep(e).lines.atIndex(t),r={isRendered:!1,isActive:!1,isRetained:!1};return n&&(r.isRendered=n.isRendered,r.isActive=n.isActive,r.isRetained=n.isRetained),r},yu.prototype.toggleVirtualScrollMode=function(e){this.editor.listView._toggleVirtualScrollMode(e)},yu.prototype.isLineCollapsed=function(e){var t=this.editor.lineTracker.collapseLines,n=t&&t.getCollapsedStatusOfLine(be,e);return n&&n.renderCollapsed&&!n.startOfCollapseSection},yu.prototype.isLineInBuffer=function(e,t){var n;if(e!==be&&(t=this.editor.getLineNumInRootZone(e,t)),!this.isLineCollapsed(t))return this.getLineStatus(be,t).isActive;var r=null===(n=this.editor.lineTracker.collapseLines)||void 0===n?void 0:n.getCollapsedStatusOfLine(e,t);return(null===r||void 0===r?void 0:r.headerLineNum)&&this.getLineStatus(be,null===r||void 0===r?void 0:r.headerLineNum).isActive},yu.prototype.getIfRenderInScrolling=function(){return!1},yu.prototype.handleResize=function(){},yu.prototype.getBufferChangeLineState=function(e){var t=this,r=[];return e.forEach(function(e){var n=t.getLineNumForItem(e.data);e.data instanceof hr?e.data.content.forEach(function(e,t){r.push({state:e,index:n[t]})}):r.push({state:e.data,index:n[0]})}),r},yu.prototype.getOffsetTopToScroller=function(){return this._getOffsetTopToScroller()},yu.prototype._getOffsetTopToScroller=function(){return this.editor.listView._getOffsetTopToScroller()},yu);function yu(e){var u=this;this.editor=e,this.isFirstBlock=!0,this.firstScreen=!0,this.fiberTaskId=null,this.fiberActions=[],this.fiberRecord=new X.FiberRecord,this.callForceRender=function(e,t,n){void 0===n&&(n=u.getUsageState()),u.editor.observer.withoutRecordingMutations(function(){u.editor._pluginManager.callAll("aceForceRenderAll",{viewportLines:e,forceRender:t,usageState:n})})},this.handleDidPaint=function(e){var t=e.zoneId,n=window.getSelection();t===be&&u.editor.selection.isSelectingAll()&&n&&u.editor.selection._toModelRange(n)&&u.editor.selection.selectAll()},this.callScrollEnd=function(){u.editor.hooks.callAll("aceScrollEndInViewport",{viewportLines:u.getViewportLines()}),u.requestAutoRender()},this.callBufferWillChange=function(e){var t,n,r=e.insertedData,i=e.deletedData,o=[];i.forEach(function(e){var t=e.data;o.push.apply(o,W(u.getLineNumForItem(t)))});var a=[];r.forEach(function(e){var t=e.data;a.push.apply(a,W(u.getLineNumForItem(t)))});var s=u.editor.getRep(be).lines;o.forEach(function(e){var t=s.atIndex(e);t&&t.updateZoneRectIfNecessary()}),u.editor.hooks.callAll("bufferWillChanged",{deactivateRanges:((t={})[be]=He(o),t),activateRanges:((n={})[be]=He(a),n)})},this.callBufferChanged=function(e){var t,n,r,i=e.insertedData,o=e.deletedData,a=((t={})[be]=[],t);u.editor.listView.viewPortData.forEach(function(e){var t,n=e.data;(t=a[be]).push.apply(t,W(u.getLineNumForItem(n)))});var s=u.getBufferChangeLineState(i).map(function(e){return{zone:be,lineNum:e.index,lineEntry:e.state._entry,childZoneLineEntries:u.setZoneEntryMountedStatus("0",e.index,!0)}}),c=u.getBufferChangeLineState(o).map(function(e){return{zone:be,lineNum:e.index,lineEntry:e.state._entry,childZoneLineEntries:u.setZoneEntryMountedStatus("0",e.index,!1)}});s.forEach(function(e){var t=e.lineEntry;t&&u.callEnterBuffer(t)}),c.forEach(function(e){var t=e.lineEntry;t&&u.callLeaveBuffer(t)}),u.editor.hooks.callAll("bufferChanged",{enteredLines:s,leftLines:c,viewportLines:null!==(r=a[be])&&void 0!==r&&r.length?a:((n={})[be]=s.map(function(e){return e.lineNum}),n)}),u.editor.call("bufferChanged")},this.callLineNodesRendered=function(e){var r=[],i=[],o=u.editor.getContentState().getZoneState(be);e.forEach(function(e){var t=e.data;u.getLineNumForItem(t).forEach(function(e){var t;i.push(e);var n=null===(t=o.getLine(e))||void 0===t?void 0:t._entry;n&&r.push(n)})});var t=u.editor.listView.getUnrenderedItemIndex(),n={type:"CLIENT_VARS",data:{isFirstBlock:u.isFirstBlock,isAllRendered:-1===t,lineEntries:r,renderedLines:i}};u.editor.callAll("lineNodesRendered",n),u.isFirstBlock&&(u.isFirstBlock=!1),u.requestAutoRender()},this.callOnMount=function(e,t){var n;void 0===t&&(t={});var r,i=u.editor;(u.firstScreen||t.forceRender)&&(r=[],e.forEach(function(e){var t=e.data;r.push.apply(r,W(u.getLineNumForItem(t)))}),u.callForceRender(((n={})[be]=r,n),t.forceRender)),u.firstScreen&&(i.callAll("clientVars",{type:"CLIENT_VARS",data:F(F({},i.clientVars),{collab_client_vars:i.clientVars})}),i.callAll("onMount",{editor:i}),i.mounted=!0,u.firstScreen=!1)},this.isInViewport=function(e,t){var n=u.editor.getLineNumInRootZone(e,t);if(!u.getLinesStatusDetail().activeLines[be].includes(n))return!1;var r=u.editor.getRep(e).lines.atIndex(t);if(!r||!r.lineNode)return!1;var i=u.editor.getScrollContainer(),o=i instanceof Window?i.scrollY:i.scrollTop,a=o+(i instanceof Window?i.innerHeight:i.offsetHeight),s=Fe(r.lineNode,u.editor.docbody)+u._getOffsetTopToScroller()||0,c=r.lineNode.offsetHeight;return!(a<s||s+c<o)},this.getLineNumForItem=function(e){return e instanceof hr?e.content.map(function(e){return e.index}):[e.index]},this.requestAutoRender=function(){u.fiberTaskId||(u.fiberTaskId=u.editor.fiber.scheduleTask(function(){var e,t,n,r;u.fiberTaskId=null,u.editor.listView.isScrolling?u.requestAutoRender():(u.fiberActions.length||(t=u.editor.hook.callAll("aceFiberAction"),(e=u.fiberActions).push.apply(e,W(t.filter(function(e){return e instanceof Function})))),u.fiberActions.length&&((n=u.fiberActions.shift())&&n(),u.requestAutoRender()),(r=u.fiberRecord.finish())&&u.editor.call("onFiberRecord",r))}))},this.setZoneEntryMountedStatus=function(e,t,o){if(e!==be)return[];var a=[];return u.editor.managers.getChildZonesAtLine(e,t).text.forEach(function(e){var t=u.editor.getRep(e);if(t)for(var n=t.lines,r=0;r<n.length();r++){var i=n.atIndex(r);i&&(i.mounted=o,i.isActive=o,a.push(i))}}),a},this.callEnterBuffer=function(e){e.getAllInstances().forEach(function(e){e.enterBuffer&&e.enterBuffer()})},this.callLeaveBuffer=function(e){e.getAllInstances().forEach(function(e){e.leaveBuffer&&e.leaveBuffer()})},this.preRenderer=new gu(e),this.fiberRecord.start(),this.requestAutoRender(),this.editor.on(mr.PAINT,this.handleDidPaint)}var bu,Eu=(j(_u,bu=X.CallStack),_u);function _u(){var g=null!==bu&&bu.apply(this,arguments)||this;return g.inCallStack=function(e,t,n){var r=g.disposed,s=g.editor,i=g.isScrollableEditEvent,o=g.currentCallStack,a=(0,s.getRep)();if(!r){o&&console.error("Can't enter callstack "+e+", already in "+o.type);var c,u=(n=Object.assign({shouldIncorp:!0},n))&&n.shouldIncorp?function(){s.fastIncorp(),t.apply(g)}:t,o=g.currentCallStack={type:e,docTextChanged:!1,selectionAffected:!1,userChangedSelection:!1,domClean:!1,isUserChange:!1,_preventScrolling:!1,repChanged:!1,editEvent:p(e,n),startNewEvent:h,get preventScrolling(){return this._preventScrolling},set preventScrolling(e){this._preventScrolling=e}},l=!1;try{c=u(),g.editor.hook.callAll("aceEditEvent",{callstack:o,editorInfo:s,rep:a,documentAttributeManager:a.attributeManager}),g.editor.call("aceEditEvent",{callstack:o,editorInfo:s,rep:a,documentAttributeManager:a.attributeManager}),l=!0}finally{var d=Object(m.default)(o);g.storeCallStack(d,n),g.currentCallStack=null,l&&(f(d.editEvent,function(e){try{e.clearIsForceMergeOnCallStackEnd&&(delete e.isForceMerge,delete e.mergeEvent,delete e.mergeTarget,e.eventType+=(new Date).getTime().toString())}catch(e){console.error(e)}}),i(d.type)&&!d.preventScrolling||(g.editor.flags.preventScrolling=!0))}return c}function p(e,t){return Object.assign({eventType:e,backset:null},t)}function f(e,t){var n,r,i=s.undoModule,o=s.getRep();if(o.selStart&&o.selEnd&&(n=o.lines.offsetOfIndex(o.selStart[0])+o.selStart[1],r=o.lines.offsetOfIndex(o.selEnd[0])+o.selEnd[1],e.selStart=n,e.selEnd=r,e.selFocusAtStart=o.selFocusAtStart,e.selZone=o.zoneId),i.enabled){var a=!1;try{"setup"===e.eventType||"importText"===e.eventType||"setBaseText"===e.eventType?i.clearHistory():"nonundoable"===e.eventType?e.changeset&&i.reportExternalChange(e.changeset):i.reportEvent(e,t),a=!0}finally{a||(i.enabled=!1)}}}function h(e,t,n){var r=o.editEvent;return n&&n.mergeTarget===r.eventType&&(n.isForceMerge=!0,n.clearIsForceMergeOnCallStackEnd=!0,r.clearIsForceMergeOnCallStackEnd=!0),t||f(r),o.editEvent=p(e,n),r}},g}var Au,Cu,Tu=S.p.getAttributeValue,Ou=S.p.findSameRangeAttrib,ku=X.tableIds.isColsZoneId,Su=S.x.insertRule,wu="0",Iu="undo",xu="redo";(Cu=Au=Au||{}).BLOCK="BLOCK",Cu.INLINE="INLINE";var Lu=(Ru.prototype.applyChange=function(e){var t=this.editor,n=e.changeset,r=e.apool;t.changesetTracker.applyChangesToBase(n,r)},Ru.prototype.getEditor=function(){return this.editor},Ru.prototype.getSDKBus=function(){return this.em},Ru.prototype.getEditorBus=function(){return this.bus},Ru.prototype.getText=function(r){for(var e=this.rep.lines,t=e.length(),i=[],o=/\n+$/,n=function(e,t){var n;t&&t.lineNode&&(n=Q()("<div></div>").append(t.lineNode.cloneNode(!0)),r&&0<r.length&&r.forEach(function(e){var t=e.selector,r=e.value;n.find(t).each(function(e,t){var n="string"==typeof r?r:r(t);Q()(t).replaceWith(Q()(document.createTextNode(n)))})}),i.push(n.text().replace(o,"")))},a=0,s=e.atIndex(a);a<t;a++,s=e.next(s))n(a,s);return i.join("\n")},Ru.prototype.getHtml=function(){return this.filterTableHtml(this.docbody.innerHTML)},Ru.prototype.getContent=function(){var e,t={},n={},r={},i={},o=this.editor.getVectorReps();for(e in o)o.hasOwnProperty(e)&&(ku(e)?n[e]=o[e].vectorIds:t[e]=o[e].vectorIds,i[e]=o[e].alines.join(""));var a,s=this.editor.getReps();for(a in s)s.hasOwnProperty(a)&&("\n"!==s[a].alltext&&"0"!==a&&(r[a]=s[a].alltext),"|1+1"!==s[a].alines.join("")&&"0"!==a&&(i[a]=s[a].alines.join("")));var c=this.rep,u=c.alltext,l=c.alines,d=c.apool,p=l.join("");return{initialAttributedText:{text:u,attribs:p},initialAttributedTexts:JSON.parse(JSON.stringify({rows:t,cols:n,text:Object.assign(r,{0:u}),attribs:Object.assign(i,{0:p})})),apool:d.toJsonable(),style:F({},this.style)}},Ru.prototype.getSelectionForElement=function(e){var t=this.editor.domToRep(e);if(!t)return null;var n=t.selEnd,r=t.selStart;return{selEnd:n.slice(0,2),selStart:r.slice(0,2),zoneId:r[2]}},Ru.prototype.getCurrentSelection=function(){var e,t=this.editor.repManager.getActiveRep(),n=t.zoneId,r=t.selStart,i=t.selEnd,o=[0,!(null===(e=t.lines.atIndex(0))||void 0===e||!e.lineMarker)?1:0];return{zoneId:n,selStart:r||o,selEnd:i||o}},Ru.prototype.getWholeSelection=function(){var e=this.rep,t="0",n=[0,0],r=e.lines.length()-1;return{zoneId:t,selStart:n,selEnd:[r,e.lines.atIndex(r).text.length]}},Ru.prototype.getHost=function(e){return void 0===e&&(e=!1),e?this.docbody:this.outerbody},Ru.prototype.setSelection=function(e){var t=e.zoneId,n=e.selStart,r=e.selEnd;t&&n?this.editor.selection.setWithSelection(t,n,r):this.editor.selection.setSelection(e,!1)},Ru.prototype.setText=function(e){this.setHtml(I()(e+"\n"))},Ru.prototype.setHtml=function(e){var t=this.editor.htmlToClientVars(e);t.style=this.style,this.setContent(t)},Ru.prototype.htmlToContent=function(e){return this.editor.htmlToClientVars(e)},Ru.prototype.setContent=function(e){var t=this;e=Object(S.y)(e);var n=this.prepareForSetZatext(e.initialAttributedTexts,e.apool);this.editor.inCallStackIfNecessary("importText",function(){t.setZatext(n)}),e.style&&this.setStyle(e.style)},Ru.prototype.clearContent=function(){this.setHtml("")},Ru.prototype.setEditable=function(e){this.editor.setEditable(e),this.editable=e},Ru.prototype.isEditable=function(){return this.editor.isEditable()},Ru.prototype.setCopyable=function(e){this.editor.setCopyable(e),this.copyable=e},Ru.prototype.setUndoHandleEnabled=function(e){this.editor.setUndoHandleEnabled(e)},Ru.prototype.getStyle=function(){return this.style},Ru.prototype.setStyle=function(e){var t,n;if(e){Object.assign(this.style,e);var r=Object(d.a)(e,["fontSize","fontWeight","fontFamily","textAlign","color","minHeight","maxHeight","background"]),i=["fontSize","minHeight","maxHeight"];try{for(var o=V(Object.entries(r)),a=o.next();!a.done;a=o.next()){var s=K(a.value,2),c=s[0],u=s[1],l=u;i.includes(c)&&"number"==typeof u&&(l=u.toString()+"px"),null!=l&&(this.docbody.style[c]=l)}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}e.heading&&this.setHeading(e.heading),e.listMarginText&&this.setListSpace(e.listMarginText),e.horizontalLRSpace&&this.setHorizontalLinePadding(e.horizontalLRSpace),e.docBodyPadding&&this.setDocBodyPadding(e.docBodyPadding),0!==e.innerHeight&&!e.innerHeight||this.setInnerHeight(e.innerHeight)}},Ru.prototype.destroy=function(){this.unBindEditorEvent(),this.editor.destory()},Ru.prototype.mountHost=function(e){if(!(e&&e instanceof HTMLDivElement))throw new Error("host must be an HTMLDivElement");var t=this.outerbody=e;t.classList.add("outerdocbody"),t.classList.add("adit-outer-container"),t.innerHTML="";var n=this.docbody=document.createElement("div");return t.appendChild(n),this.$docbody=Q()(this.docbody),n},Ru.prototype.isEmbedFormatterConstructor=function(e){return"isEmbedFormatter"in e},Ru.prototype.isTreeFormatterConstructor=function(e){return"isTreeFormatter"in e},Ru.prototype.isBaseFormatterConstructor=function(e){return"formatKey"in e},Ru.prototype.isTreeFormatter=function(e){return"isTreeFormatter"in e.constructor},Ru.prototype.getConstructorAsType=function(e,t){return e.constructor},Ru.prototype.checkFormatKeyCanApply=function(e,t,n){for(var r=[],i=t;i<n;i++){var o,a,s,c=e.lines.atIndex(i);null!==c&&void 0!==c&&c.lineNode&&(a=(o=Q()(c.lineNode)).hasClass("single-line"),s=0<o.find(".ace-table").length,(a||s)&&r.push(i))}return r},Ru.prototype.formatWithoutIgnoreLines=function(e,t,n,r,i,o){var a=this,s=t[0],c=n[0],u=Array.from(new Array(c+1).keys()).slice(s);e.forEach(function(e){var t=u.indexOf(e);-1!==t&&u.splice(t,1)});for(var l=u[0],d=[],p=0;p<u.length;p++){var f,h,g=u[p],m=u[p+1];(void 0===m||1<m-g)&&(h=f=0,l===s&&(f=t[1]),h=g===c?n[1]:this.getLineSize(g),d.push({selStart:[l,f],selEnd:[g,h]}),l=m)}d.forEach(function(e){a.format(r,i,{zoneId:"0",selStart:e.selStart,selEnd:e.selEnd},o,!0)})},Ru.prototype.format=function(v,y,b,E,e){var _=this,C=b?this.editor.getRep(b&&b.zoneId):this.editor.getRep(),T=b&&b.selStart||C.selStart,O=b&&b.selEnd||C.selEnd,k=b&&b.zoneId||C.zoneId;if(T&&O){if(this.blockDisableFormatKeys.includes(v)&&!e){var t=this.checkFormatKeyCanApply(C,T[0],O[0]);if(0<t.length)return void this.formatWithoutIgnoreLines(t,T,O,v,y,E)}this.editor.activeCaret(),this.editor.inCallStackIfNecessary("callFormat",function(){var e=F(F({},C),{selStart:T,selEnd:O,zoneId:k}),t={selEnd:O,selStart:T,zoneId:k},n=_.editor.formatterManager.formatterMap[v];if(n){var r=n.plugin,i=_.getConstructorAsType(r,X.BaseFormatter),o=i.formatType,a=X.Formatter.FormatType.BLOCK===o,s=X.Formatter.FormatType.INLINE===o,c=_.isEmbedFormatterConstructor(i),u=[[v,y]],l=u,d=[];if(_.isTreeFormatterConstructor(i)){var p=[];if(a){for(var f=T[0];f<=O[0];f++){var h=[f,0],g=[f,C.lines.atIndex(f).text.length];p.push({lineNum:f,selStart:[f,0],selEnd:[f,C.lines.atIndex(f).text.length],attribs:_.getFormatWithKey(v,{selStart:h,selEnd:g,zoneId:k})})}d=r.formatAttributes(y,p,b)}else p.push({selStart:T,selEnd:O,attribs:_.getFormatWithKey(v,b)}),d=r.formatAttributes(y,p,b),l=Ou(t,d);d.length||d.push({selStart:T,selEnd:O,attribs:u})}var m=_.editor.formatterManager;if(_.editor.selection.isCaret(e)&&i.execCommandKey)return _.editor.selection.updateBrowserSelectionFromRep(!0),m.executeCommand(i.execCommandKey,Tu(v,l)),m.addCaretAttribs(v,y,t),void _.em.emit("format",{formatKey:v,value:y,selection:t});c?m.formatEmbed(r,t,u,E):s?m.formatInline(r,t,u,d):a&&m.formatBlock(r,t,u,d),_.em.emit("format",{formatKey:v,value:y,selection:t})}else console.warn("Format ["+v+"] is not registered!")})}},Ru.prototype.getFormat=function(e){var t=this;void 0===e&&(e={});var n=e.selection,r=e.formatKey,i=e.fullCoverage,o=void 0===i||i,a=n?this.editor.getRep(n&&n.zoneId):this.editor.getRep(),s=n&&n.selStart||a.selStart,c=n&&n.selEnd||a.selEnd;if(r&&!this.editor.formatterManager.formatterMap[r])return console.warn("Format ["+r+"] is not registered!"),[];if(!s||!c)return[];var u,l,d,p=this.editor.formatterManager,f=[];f=o?(f=a.attributeManager.getCommonAttributesOnSelection(s,c,a).attribs,this.editor.formatterManager.formatters.forEach(function(e){t.isTreeFormatter(e)&&(f=e.getFormatAttributes(f))}),u=this.getRegisteredFormatKey(),f=Object(v.a)(f.filter(function(e){var t=K(e,2),n=t[0],r=t[1];return u.includes(n)&&r}),_.default),f=this.mergeWithCaretAttribs(f,{selStart:s,selEnd:c,zoneId:a.zoneId}),l=Object(y.a)(f.map(function(e){return K(e,1)[0]})),f.filter(function(e){var t=K(e,1)[0];return 1===l[t].length})):(d=r?[r]:this.getFormatKeys(),f=a.attributeManager.getAttributesByKeysOnSelection(d,s,c,a),p.formatters.forEach(function(e){t.isTreeFormatter(e)&&(f=e.getFormatAttributes(f))}),this.mergeWithCaretAttribs(f,{selStart:s,selEnd:c,zoneId:a.zoneId}));var h=r?f.filter(function(e){return e[0]===r}):f;return p.convertAttribs(h,!1)},Ru.prototype.removeFormat=function(e,t){this.format(e,"",t)},Ru.prototype.removeAllFormat=function(n){var r=this,e=this.editor.getRep(n&&n.zoneId||wu),t=n&&n.selStart||e.selStart,i=n&&n.selEnd||e.selEnd,o=e.attributeManager.getAttributesOnSelection(t,i,e),a=this.getRegisteredFormatKey(),s=o.attribs.filter(function(e){var t=K(e,1)[0];return 0<a.indexOf(t)}),c=Array.from(new Set(s));c.length&&this.editor.inCallStackIfNecessary("removeAllFormatAttribute",function(){c.forEach(function(e){var t=K(e,1)[0];r.format(t,"",n)})})},Ru.prototype.getFormatKeys=function(){var t=this;return this.editor.formatterManager.formatters.map(function(e){return t.getConstructorAsType(e,X.BaseFormatter).formatKey})},Ru.prototype.undo=function(){this.editor.commands.triggerCommand(Iu)},Ru.prototype.redo=function(){this.editor.commands.triggerCommand(xu)},Ru.prototype.canUndo=function(){var e=this.editor.undoModule;return e.undoPtr<e.stack.numEvents()-1},Ru.prototype.canRedo=function(){return 2<=this.editor.undoModule.undoPtr},Ru.prototype.getFormatter=function(e){return e in this.formatterMap?this.formatterMap[e]:null},Ru.prototype.getFormatterConstructor=function(e){return e in this.formatterMap?this.getConstructorAsType(this.formatterMap[e],X.BaseFormatter):null},Ru.prototype.getAdapter=function(e){return e in this.adapterMap?this.adapterMap[e]:null},Ru.prototype.getToolbar=function(){return this.toolbarInstance},Ru.prototype.isEmptyArticle=function(){var e=this.editor.getRep(wu).lines;if(1!==e.length())return!1;var t=e.atIndex(0);return!(!t||t.lineMarker!==t.width-1)},Ru.prototype.getMaxLine=function(){return this.editor.getRep().lines.numNodes},Ru.prototype.getLineSize=function(e){var t=this.editor.getRep("0").lines.atIndex(e);return t?t.text.length:(this.log('getLineSize: Invalid args: "lineNum"'),-1)},Ru.prototype.getFormattableKeys=function(e){var o=this,t=this.getFormat({selection:e,fullCoverage:!1}).filter(function(e){return K(e,2)[1]}),a=this.getFormatKeys(),s=new Set(a);return t.forEach(function(e){var t=K(e,2),n=t[0],r=t[1],i=o.getEditor().formatterManager.formatterMap[n].plugin;a.forEach(function(e){!o.getConstructorAsType(i,X.BaseFormatter).isFormatAcceptable(e,r)&&s.has(e)&&s.delete(e)})}),Array.from(s)},Ru.prototype.restoreInlineFormatToNewLine=function(e){var t,n,r=this.editor.formatterManager,i=this.editor.getRep();try{for(var o=V(e),a=o.next();!a.done;a=o.next()){var s,c=K(a.value,2),u=c[0],l=c[1],d=this.getFormatter(u);!d||(s=this.getConstructorAsType(d,X.BaseFormatter).execCommandKey)&&"fontSize"!==s&&(r.addCaretAttribs(u,l,i),r.executeCommand(s,l))}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}},Ru.prototype.setIdleActionOption=function(e){this.editor.setIdleActionOption(e)},Ru.prototype.focusEnd=function(e){this.editor.clickDocBody(e,this.scrollerEl)},Ru.prototype.filterTableHtml=function(e){var t=Q()(e);t.find('td[colspan="0"], td[rowspan="0"], tr:empty, .ep-cursors, .ep-ranges').remove();var n="";return t.each(function(e,t){n+=t.outerHTML}),n},Ru.prototype.log=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];(e=this.editor).log.apply(e,W(t))},Ru.prototype.getFormatWithKey=function(e,t){var n=this.editor.getRep(t&&t.zoneId||wu),r=t&&t.selStart||n.selStart,i=t&&t.selEnd||n.selEnd,o=n.attributeManager.getCommonAttributesOnSelection(r,i,n),a=this.editor.formatterManager.formatterMap[e].plugin,s=o.attribs,c=this.getConstructorAsType(a,X.BaseFormatter),u=[c.formatKey];return this.isTreeFormatterConstructor(c)&&u.push.apply(u,W(c.relativeAttrKeys)),s.filter(function(e){var t=K(e,1)[0];return u.includes(t)})},Ru.prototype.getRegisteredFormatKey=function(){var n=this,r=[];return this.editor.formatterManager.formatters.forEach(function(e){var t=n.getConstructorAsType(e,X.BaseFormatter);n.isTreeFormatterConstructor(t)&&t.relativeAttrKeys.length&&r.push.apply(r,W(t.relativeAttrKeys)),r.push(t.formatKey)}),Array.from(new Set(r))},Ru.prototype.bindEditorEvent=function(){this.bus.on("aceSelectionChanged",this.handleEditorSelectionChanged),this.bus.on("editorSizeChange",this.handleEditorSizeChange),this.bus.on("aceCut",this.handleEditorCut),this.bus.on("aceCopy",this.handleEditorCopy),this.bus.on("acePaste",this.handleEditorPaste),this.bus.on("error",this.handleError),this.bus.on("aceKeyEvent",this.handleKeyEvent),document.addEventListener("selectionchange",this.handleSelectionChange),this.docbody.addEventListener("focus",this.handleFocus),this.docbody.addEventListener("blur",this.handleBlur),this.scrollerEl&&this.scrollerEl.addEventListener("click",this.focusEnd)},Ru.prototype.unBindEditorEvent=function(){this.bus.off("aceSelectionChanged",this.handleEditorSelectionChanged),this.bus.off("editorSizeChange",this.handleEditorSizeChange),this.bus.off("aceCut",this.handleEditorCut),this.bus.off("aceCopy",this.handleEditorCopy),this.bus.off("acePaste",this.handleEditorPaste),this.bus.off("error",this.handleError),this.bus.off("aceKeyEvent",this.handleKeyEvent),document.removeEventListener("selectionchange",this.handleSelectionChange),this.docbody.removeEventListener("focus",this.handleFocus),this.docbody.removeEventListener("blur",this.handleBlur),this.scrollerEl&&this.scrollerEl.removeEventListener("click",this.focusEnd)},Ru.prototype.getDefaultContent=function(e){void 0===e&&(e=1);var t=e;return this.options.defaultText&&(t=1),{apool:{nextNum:1,numToAttrib:{0:["author","0"]}},initialAttributedText:{attribs:1<t?"*0|"+(t-1)+"+"+(t-1)+"|1+1":"*0|1+1",text:1<t?new Array(t).fill("\n").join(""):"\n"},initialAttributedTexts:{rows:{},cols:{},attribs:{0:1<t?"*0|"+(t-1)+"+"+(t-1)+"|1+1":"*0|1+1"},text:{0:1<t?new Array(t).fill("\n").join(""):"\n"}}}},Ru.prototype.mergeWithCaretAttribs=function(e,t){var n=this.editor.formatterManager.getCaretAttribs(t),r=n.map(function(e){return e[0]});return e.filter(function(e){var t=K(e,1)[0];return!r.includes(t)}).concat(n)},Ru.prototype.prepareForSetZatext=function(e,t){var n,r;if(e=X.Changeset.cloneZatext(e),t){var i=(new X.AttributePool).fromJsonable(t);try{for(var o=V(Object.keys(e.attribs)),a=o.next();!a.done;a=o.next()){var s=a.value,c=e.attribs[s];e.attribs[s]=this.editor.changesetHelper.moveOpsToNewPool(c,i,this.rep.apool)}}catch(e){n={error:e}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}return e},Ru.prototype.handleSelectionChange=function(){var e,t,n=window.getSelection();!n||Object(S.q)()||(e=this.getHost()).contains(n.anchorNode)&&e.contains(n.focusNode)&&(t=this.editor).inCallStackIfNecessary("SelectionChangeFastIncorp",function(){t.fastIncorp()})},Ru.prototype.handleContentChange=function(){var t,e,n,r,i=this.getContent(),o="initialAttributedTexts.text",a=Object(b.default)(this.prevContent,o,{}),s=Object(b.default)(i,o),c=!1;try{for(var u=V(Object.keys(s)),l=u.next();!l.done;l=u.next()){var d=l.value;if(a[d]!==s[d]){c=!0;break}}}catch(e){t={error:e}}finally{try{l&&!l.done&&(e=u.return)&&e.call(u)}finally{if(t)throw t.error}}var p=this.getFormatKeys(),f=this.getEditor().changesetTracker.getUserChangeset(),h=Object(b.default)(f,"apool.numToAttrib",[]),g=!1;try{for(var m=V(Object.keys(h)),v=m.next();!v.done;v=m.next()){var y=v.value;if(p.includes(h[y][0])){g=!0;break}}}catch(e){n={error:e}}finally{try{v&&!v.done&&(r=m.return)&&r.call(m)}finally{if(n)throw n.error}}(c||g)&&this.em.emit("contentchange"),this.setPrevContent(i)},Ru.prototype.setPrevContent=function(e){this.prevContent=e},Ru.prototype.handleEditorSelectionChanged=function(e){var t=e.rep;this.editor.formatterManager.resetCaretAttribs();var n=t.zoneId,r=t.selStart,i=t.selEnd;r&&i&&this.em.emit("selectionchange",{zoneId:n,selStart:r,selEnd:i})},Ru.prototype.handleEditorSizeChange=function(e){var t=e.prev,n=e.next;this.em.emit("resize",{prev:t,next:n})},Ru.prototype.handleEditorCut=function(e){this.em.emit("cut",e)},Ru.prototype.handleEditorCopy=function(e){this.em.emit("copy",e)},Ru.prototype.handleEditorPaste=function(e){this.em.emit("paste",e)},Ru.prototype.handleError=function(e){this.em.emit("error",e)},Ru.prototype.handleBlur=function(){this.em.emit("blur")},Ru.prototype.handleFocus=function(){this.em.emit("focus")},Ru.prototype.handleKeyEvent=function(e){var t=e.evt,n=Object(S.D)(t),r=Object(S.B)(t);(n||r)&&Object(S.w)(e,n||r)},Ru.prototype.setDocBodyPadding=function(e){var t,n,r,i,o,a;e&&(n=(t=K(e,5))[0],r=t[1],i=t[2],o=t[3],a=t[4]||"px",this.$docbody.css("padding",""+n+a+" "+r+a+" "+i+a+" "+o+a))},Ru.prototype.setZatext=function(e){var t,n,r,i;this.editor.fastIncorp();var o={};this.editor.setupRepExceptAlinesForRootZone(e);try{for(var a=V(Object.keys(e.text)),s=a.next();!s.done;s=a.next()){var c=s.value,u={text:e.text[c],attribs:e.attribs[c]};this.editor.initiateRepForZoneIfNecessary(c);var l=(T=this.editor.getRep(c)).lines.totalWidth(),d=T.lines.length(),p=T.lines.offsetOfIndex(d-1);T.lines.atIndex(d-1)||this.log("lines at index error",d);var f=T.lines.atIndex(d-1).text.length,h=X.Changeset.smartOpAssembler(),g=X.Changeset.newOp("-");g.chars=p,g.lines=d-1,h.append(g),g.chars=f,g.lines=0,h.append(g),X.Changeset.appendATextToAssembler(u,h);var m=l+h.getLengthChange(),v=X.Changeset.checkRep(X.Changeset.pack(l,m,h.toString(),u.text.slice(0,-1),c));o[c]=v}}catch(e){t={error:e}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}var y=X.Changeset.formatCsFromObj(o);this.editor.performDocumentApplyChangeset(y),this.editor.performSelectionChange(this.rep.zoneId,[0,this.rep.lines.atIndex(0).lineMarker],[0,this.rep.lines.atIndex(0).lineMarker]);try{for(var b=V(Object.entries(e.text)),E=b.next();!E.done;E=b.next()){var _=K(E.value,2),c=_[0],C=_[1],T=this.editor.getRep(c);if(T.alltext!==C)throw new Error("mismatch error setting raw text in setDocAText")}}catch(e){r={error:e}}finally{try{E&&!E.done&&(i=b.return)&&i.call(b)}finally{if(r)throw r.error}}},Ru.prototype.setHeading=function(e){void 0===e&&(e=[]);var t=K(e,4),n=t[0],r=void 0===n?28:n,i=t[1],o=void 0===i?24:i,a=t[2],s=void 0===a?16:a,c=t[3],u=void 0===c?16:c;Su("\n      .adit-container.innerdocbody .heading-h1 {\n        font-size: "+r+"px;\n        margin-top: "+u+"px;\n        margin-bottom: "+u+"px;\n      }\n      .adit-container.innerdocbody .heading-h2 {\n        font-size: "+o+"px;\n        margin-top: "+u+"px;\n        margin-bottom: "+u+"px;\n      }\n      .adit-container.innerdocbody .heading-h3 {\n        font-size: "+s+"px;\n        margin-top: "+u+"px;\n        margin-bottom: "+u+"px;\n      }\n    ")},Ru.prototype.setHorizontalLinePadding=function(e){void 0===e&&(e=20),Su(".adit-container.innerdocbody .horizontal-line {margin-left: "+e+"px; margin-right: "+e+"px}")},Ru.prototype.setInnerHeight=function(e){this.innerHeight="string"==typeof e?e:String(Math.round(e))+"px";var t="",t=this.editable?this.innerHeight||"400px":"0px";this.$docbody.css("min-height",t)},Ru.prototype.setListSpace=function(e){void 0===e&&(e=20),Su(".adit-container.innerdocbody .list-div {margin-top: "+e+"px; margin-bottom: "+e+"px;}"),Su(".adit-container.innerdocbody .list-div + .list-div {margin-top: -"+e+"px}")},B([Object(S.c)(),U("design:type",Function),U("design:paramtypes",[Object]),U("design:returntype",void 0)],Ru.prototype,"applyChange",null),B([Object(S.c)(),U("design:type",Function),U("design:paramtypes",[]),U("design:returntype",void 0)],Ru.prototype,"getEditor",null),B([Object(S.c)(),U("design:type",Function),U("design:paramtypes",[]),U("design:returntype",void 0)],Ru.prototype,"getSDKBus",null),B([Object(S.c)(),U("design:type",Function),U("design:paramtypes",[]),U("design:returntype",void 0)],Ru.prototype,"getEditorBus",null),B([Object(S.c)(),U("design:type",Function),U("design:paramtypes",[Array]),U("design:returntype",void 0)],Ru.prototype,"getText",null),B([Object(S.c)(),U("design:type",Function),U("design:paramtypes",[]),U("design:returntype",void 0)],Ru.prototype,"getHtml",null),B([Object(S.c)(),U("design:type",Function),U("design:paramtypes",[]),U("design:returntype",Object)],Ru.prototype,"getContent",null),B([Object(S.c)(),U("design:type",Function),U("design:paramtypes",[Element]),U("design:returntype",Object)],Ru.prototype,"getSelectionForElement",null),B([Object(S.c)(),U("design:type",Function),U("design:paramtypes",[]),U("design:returntype",void 0)],Ru.prototype,"getCurrentSelection",null),B([Object(S.c)(),U("design:type",Function),U("design:paramtypes",[]),U("design:returntype",Object)],Ru.prototype,"getWholeSelection",null),B([Object(S.c)(),U("design:type",Function),U("design:paramtypes",[Object]),U("design:returntype",void 0)],Ru.prototype,"getHost",null),B([Object(S.c)(),U("design:type",Function),U("design:paramtypes",[Object]),U("design:returntype",void 0)],Ru.prototype,"setSelection",null),B([Object(S.c)(),U("design:type",Function),U("design:paramtypes",[String]),U("design:returntype",void 0)],Ru.prototype,"setText",null),B([Object(S.c)(),U("design:type",Function),U("design:paramtypes",[String]),U("design:returntype",void 0)],Ru.prototype,"setHtml",null),B([Object(S.c)(),U("design:type",Function),U("design:paramtypes",[Object]),U("design:returntype",void 0)],Ru.prototype,"setContent",null),B([Object(S.c)(),U("design:type",Function),U("design:paramtypes",[]),U("design:returntype",void 0)],Ru.prototype,"clearContent",null),B([Object(S.c)(),U("design:type",Function),U("design:paramtypes",[Boolean]),U("design:returntype",void 0)],Ru.prototype,"setEditable",null),B([Object(S.c)(),U("design:type",Function),U("design:paramtypes",[]),U("design:returntype",void 0)],Ru.prototype,"isEditable",null),B([Object(S.c)(),U("design:type",Function),U("design:paramtypes",[Boolean]),U("design:returntype",void 0)],Ru.prototype,"setCopyable",null),B([Object(S.c)(),U("design:type",Function),U("design:paramtypes",[Boolean]),U("design:returntype",void 0)],Ru.prototype,"setUndoHandleEnabled",null),B([Object(S.c)(),U("design:type",Function),U("design:paramtypes",[]),U("design:returntype",void 0)],Ru.prototype,"getStyle",null),B([Object(S.c)(),U("design:type",Function),U("design:paramtypes",[Object]),U("design:returntype",void 0)],Ru.prototype,"setStyle",null),B([Object(S.c)(),U("design:type",Function),U("design:paramtypes",[]),U("design:returntype",void 0)],Ru.prototype,"destroy",null),B([Object(S.K)(),U("design:type",Function),U("design:paramtypes",[String,Object,Object,String,Boolean]),U("design:returntype",void 0)],Ru.prototype,"format",null),B([Object(S.c)(),U("design:type",Function),U("design:paramtypes",[Object]),U("design:returntype",Array)],Ru.prototype,"getFormat",null),B([Object(S.c)(),U("design:type",Function),U("design:paramtypes",[String,Object]),U("design:returntype",void 0)],Ru.prototype,"removeFormat",null),B([Object(S.c)(),U("design:type",Function),U("design:paramtypes",[Object]),U("design:returntype",void 0)],Ru.prototype,"removeAllFormat",null),B([Object(S.c)(),U("design:type",Function),U("design:paramtypes",[]),U("design:returntype",void 0)],Ru.prototype,"getFormatKeys",null),B([Object(S.c)(),U("design:type",Function),U("design:paramtypes",[]),U("design:returntype",void 0)],Ru.prototype,"undo",null),B([Object(S.c)(),U("design:type",Function),U("design:paramtypes",[]),U("design:returntype",void 0)],Ru.prototype,"redo",null),B([Object(S.c)(),U("design:type",Function),U("design:paramtypes",[]),U("design:returntype",void 0)],Ru.prototype,"canUndo",null),B([Object(S.c)(),U("design:type",Function),U("design:paramtypes",[]),U("design:returntype",void 0)],Ru.prototype,"canRedo",null),B([Object(S.c)(),U("design:type",Function),U("design:paramtypes",[String]),U("design:returntype",void 0)],Ru.prototype,"getFormatter",null),B([Object(S.c)(),U("design:type",Function),U("design:paramtypes",[String]),U("design:returntype",void 0)],Ru.prototype,"getFormatterConstructor",null),B([Object(S.c)(),U("design:type",Function),U("design:paramtypes",[String]),U("design:returntype",void 0)],Ru.prototype,"getAdapter",null),B([Object(S.c)(),U("design:type",Function),U("design:paramtypes",[]),U("design:returntype",void 0)],Ru.prototype,"getToolbar",null),B([Object(S.c)(),U("design:type",Function),U("design:paramtypes",[]),U("design:returntype",void 0)],Ru.prototype,"isEmptyArticle",null),B([Object(S.c)(),U("design:type",Function),U("design:paramtypes",[]),U("design:returntype",void 0)],Ru.prototype,"getMaxLine",null),B([Object(S.c)(),U("design:type",Function),U("design:paramtypes",[Number]),U("design:returntype",void 0)],Ru.prototype,"getLineSize",null),B([Object(S.c)(),U("design:type",Function),U("design:paramtypes",[Object]),U("design:returntype",Array)],Ru.prototype,"getFormattableKeys",null),B([Object(S.c)(),U("design:type",Function),U("design:paramtypes",[Array]),U("design:returntype",void 0)],Ru.prototype,"restoreInlineFormatToNewLine",null),B([Object(S.c)(),U("design:type",Function),U("design:paramtypes",[Object]),U("design:returntype",void 0)],Ru.prototype,"setIdleActionOption",null),B([Object(S.c)(),U("design:type",Function),U("design:paramtypes",[Event]),U("design:returntype",void 0)],Ru.prototype,"focusEnd",null),B([Object(S.c)(),U("design:type",Function),U("design:paramtypes",[]),U("design:returntype",void 0)],Ru.prototype,"handleSelectionChange",null),B([Object(S.c)(),U("design:type",Function),U("design:paramtypes",[]),U("design:returntype",void 0)],Ru.prototype,"handleContentChange",null),B([Object(S.c)(),U("design:type",Function),U("design:paramtypes",[Object]),U("design:returntype",void 0)],Ru.prototype,"handleEditorSelectionChanged",null),B([Object(S.c)(),U("design:type",Function),U("design:paramtypes",[Object]),U("design:returntype",void 0)],Ru.prototype,"handleEditorSizeChange",null),B([Object(S.c)(),U("design:type",Function),U("design:paramtypes",[Object]),U("design:returntype",void 0)],Ru.prototype,"handleEditorCut",null),B([Object(S.c)(),U("design:type",Function),U("design:paramtypes",[Object]),U("design:returntype",void 0)],Ru.prototype,"handleEditorCopy",null),B([Object(S.c)(),U("design:type",Function),U("design:paramtypes",[Object]),U("design:returntype",void 0)],Ru.prototype,"handleEditorPaste",null),B([Object(S.c)(),U("design:type",Function),U("design:paramtypes",[Object]),U("design:returntype",void 0)],Ru.prototype,"handleError",null),B([Object(S.c)(),U("design:type",Function),U("design:paramtypes",[]),U("design:returntype",void 0)],Ru.prototype,"handleBlur",null),B([Object(S.c)(),U("design:type",Function),U("design:paramtypes",[]),U("design:returntype",void 0)],Ru.prototype,"handleFocus",null),B([Object(S.c)(),U("design:type",Function),U("design:paramtypes",[Object]),U("design:returntype",void 0)],Ru.prototype,"handleKeyEvent",null),Ru);function Ru(e){this.options=e,this.editable=!1,this.copyable=!1,this.innerHeight="",this.formatterMap={},this.adapterMap={},this.style={},this.bus=this.options.bus||new L.a,this.em=new L.a,this.prevContent=null,this.scrollerEl=null;var t=e.blockDisableFormatKeys;this.i18n=e.i18n||S.d,(this.editor=this).blockDisableFormatKeys=t||["backgroundcolor","align"]}var Nu,Dom=function(e){function Dom(){var i=null!==e&&e.apply(this,arguments)||this;return i.rootNodeOfZoneContaining=function(e){var t=i;if(!e||e===t.root)return null;for(var n,r=e;!i.isRootOfZone(r);){if(r instanceof SVGElement&&((n=r.closest("svg"))&&(r=n)),r instanceof HTMLElement)if(r.root)if(t.editor.getRep(r.root.zoneId.value).lines.atKey(r.id))return r.root;if(!r.parentNode)return null;r=r.parentNode}return r},i}return j(Dom,e),Dom}(X.Dom),Du=0,Mu=(j(Pu,Nu=Lu),Pu.getDefaultClientVars=function(){return de},Pu.prototype.on=function(e,t){},Pu.prototype.off=function(e,t){},Object.defineProperty(Pu.prototype,pe,{get:function(){return this._inputModel._isComposing},enumerable:!0,configurable:!0}),Object.defineProperty(Pu.prototype,pe,{set:function(e){this._inputModel._isComposing=e},enumerable:!0,configurable:!0}),Pu.prototype._initDOM=function(e){this.dom=new Dom({root:e.element,editor:this,docbody:document.createElement("div")})},Pu.prototype._init=function(e){var u=this,t=e.element,n=e.copyable,r=e.editable,i=e.log,o=e.domPurifyConfig,a=e.hasCollapse,s=(e.contentState,e.selection),c=e.commands,l=e.pluginManager,d=e.profile,p=e.fiberConfig,f=e.htmlToClientVars,h=e.initContentState,g=e.clientVars;this.selection=s,this.docbody=t,this.docbody.zoneId={value:"0"},this.editable=this.contentEditableTemp=Boolean(r),this.copyable=null==n||n,this.isEnable=!0,this.log=i||console.log.bind(console),this.domPurifyConfig=o||{},this.hasCollapse=a,this.commands=c,Object(C.a)(this,Object(T.default)(this.commands,ye)),this.fiber=new X.Fiber(F({visibilityChange:!0},p)),this.dom=new Dom({root:e.element,editor:this}),this.profile=d,this.on(mr.SELECTION_CHANGE,function(e){var t=e.current,n=t.start,r=t.end,i=n.line,o=n.offset,a=n.zoneId,s=r.line,c=r.offset;u.repManager.setActiveRep(a),u.getRep(a).selStart=[i,o],u.getRep(a).selEnd=[s,c],u.getRep().zoneId=a}),this.on(mr.CONTENT_CHANGE,this._handleContentChange),this.on(mr.RESIZE,this._handleEditorSizeChange),this.blockRender=new vu(this);var m=l._init();this._initPlugin(l),this.hooks=this.hook=l._hooks,console.warn(":  html newEditor oldEditor"),e.defaultHtml&&e.clientVars===de&&(g=f(e.defaultHtml)),this._contentState=h(g),this._contentState._onMutate(this._handleOnMutate),this.changesetHelper=new X.ChangesetHelper.ChangesetHelper(this),this.repManager=new ru(this,this.performDocumentApplyChangeset),this.repManager._initReps(),this.initBrowserEnv();var v=this.editable;this._domLine=Pc.createDomLine({nonEmpty:!0,doesWrap:!0,optBrowser:X.browser,optDocument:document,hooks:this.hook,formatterRenderer:this.formatterManager,editor:this}),this.editable=v,this.formatterManager=new X.FormatterManager({editor:this,formatters:m}),this.editorBase=new Uc(++Du),this.managers=new X.Managers(this,this.contentTypeRegistry),this.props.maxListLevel&&(this.maxListLevel=this.props.maxListLevel),this.clientVars=Object.assign({padShortcutEnabled:X.padShortcutEnabled},g),this.callStack=new Eu(this),this.dirtyChecker={markNodeClean:function(e,t){},observer:new Fc(this),clear:ve},this.resizeStrategy=this.props.resizeStrategy,this.undoModule=new X.UndoModule({enabled:!0,apool:this.repManager.apool,eventFunc:this.handleRedoUndo,editor:this}),this.editorUniqueId=Object(X.genGuid)(),this.translator=new X.Translator(this),console.warn("aceRegisterBlockElements Editor.isBlockElement"),this.hook.callAll("aceRegisterBlockElements").forEach(function(e){u._blockElems[e]=1}),this.lineTracker=new X.LineTracker(this,this.repManager.apool,this.hasCollapse),this.setDocAttribute(t,Boolean(r)),this.bindEditorEvent(),this.getBoundAsync(function(){u.togglePlaceHolder(),u.isDocEditing=!1,u.isSheetEditing=!1}),this.initTracker(),Object(C.a)(this,Object(T.default)(this.callStack,ye)),Object(C.a)(this,Object(T.default)(this.dirtyChecker,ye)),Object(C.a)(this,Object(T.default)(this.changesetTracker,ye)),this._initialLineTracker(be)},Pu.prototype._initPlugin=function(e){this._pluginManager=e,this._formatterRenderer=new X.FormatterRenderer({editor:this,formatters:this._pluginManager.getPlugins()})},Object.defineProperty(Pu.prototype,"plugins",{get:function(){return this._pluginManager.pluginsMap},set:function(){},enumerable:!0,configurable:!0}),Object.defineProperty(Pu.prototype,"preRenderer",{get:function(){return this.blockRender.preRenderer},enumerable:!0,configurable:!0}),Pu.prototype.createDomLine=function(e){return Pc.createDomLine({nonEmpty:!0,doesWrap:!0,optBrowser:X.browser,optDocument:document,hooks:this._pluginManager,formatterRenderer:this._formatterRenderer,editor:this,lineString:e})},Pu.prototype.getInnerContainer=function(){return this.getDocBody()},Pu.prototype.getHost=function(){return this.getDocBody()},Pu.prototype.getEditor=function(){return this},Pu.prototype.call=function(e,t){var n,r,i,o;this._editorEventEmitter.trigger(e,[t]),"error"===e&&(r=window,this.eventEmitter&&"function"==typeof this.eventEmitter.trigger&&this.eventEmitter.trigger("error",[{error:null===t||void 0===t?void 0:t.e}]),!0!==this.isError&&(this.isError=!0,i=null===(n=null===t||void 0===t?void 0:t.e)||void 0===n?void 0:n.stack,o={callStackLogs:this.callStack.callStackLogs,editorInfo:this.getDebugInfo(),errorStack:new Error("editor oops").stack,originErrorStack:i},r.collectEvent&&r.collectEvent("dev_editor_oops",o),Object(X.trace)(null===t||void 0===t?void 0:t.message,{extras:o})))},Pu.prototype.initZoneRep=function(e,t){var n=this.getReps()[e]||this.repManager.addRep(e,t);return this._initialLineTracker(e),n},Pu.prototype.getVectorRepsMap=function(){var t,e,n=this.getVectorReps(),r={};try{for(var i=V(Object.entries(n)),o=i.next();!o.done;o=i.next()){var a=K(o.value,2),s=a[0],c=a[1];r[s]=c.vectorIds}}catch(e){t={error:e}}finally{try{o&&!o.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}return r},Pu.prototype._setVectorsRep=function(e,t){this.vectorReps[e]=t},Pu.prototype.isEmptyArticle=function(){var e=this.getRep("0").lines;if(1!==e.length())return!1;var t=e.atIndex(0);return!(!t||t.lineMarker!==t.width-1)},Pu.prototype.getAttributesOnLine=function(e,t){return this.getRep(e).attributeManager.getAttributesOnLine(t)},Pu.prototype.spliceGalleryItemsAtLine=function(r,i,o,a,e,s){var c=this,u=this.getRep(r),t=u.lines.atIndex(i),n=this.getMatchedAttributePositionOnSelection({selZone:r,selStart:[i,0],selEnd:[i,t.text.length]},function(e){return"gallery"===e}).reduce(function(e,t){var n=t.attrValue,r=JSON.parse(n);return r.items&&0<r.items.length&&(e=W(e,r.items)),e},[]);return!!n&&(n.splice(o,a,e),(n=n.filter(function(e){return null!=e})).forEach(function(e,t){var n;c.call("resetUuid",e),a&&t===o-1&&s?(c.call("galleryImageChoosed","image-upload-image-"+e.uuid),c.inCallStackIfNecessary("reChooseImage",function(){c.performSelectionChange(r,[i,0],[i,1])}),c.selection._updateBrowserSelection(),c.inCallStackIfNecessary("reChooseImage",function(){c.performSelectionChange(r,[i,0],[i,0])}),c.selection._updateBrowserSelection()):a&&0===o&&i&&(n=u.lines.atIndex(i-1).text.length,c.inCallStackIfNecessary("deleteImage",function(){c.performSelectionChange(r,[i-1,n],[i-1,n])}),c.selection._updateBrowserSelection())}),n.length?u.attributeManager.setAttributesOnRange([i,0],[i,t.text.length],[["gallery",JSON.stringify({items:n})]]):r!==be&&0===i&&1<u.lines.length()?this.performDocumentReplaceRange(u.zoneId,[0,0],[1,0],""):this.performDelete(i),!0)},Pu.prototype.searchString=function(e,t,n,r,i){var o=this.getReps()[e];if(o)return Object(X.getSearchMatchesByTraversal)(this,e,o,t,n,r,i)},Pu.prototype.replaceString=function(e,t){Object(X.replaceSearchMatches)(this,e,t)},Pu.prototype.scrollToSelection=function(e,t){void 0===t&&(t={});var n=t.scrollFn,r=t.shouldRenderAll,i=t.forceRender;return Object(X.scrollToSelection)({selectionRange:e,scrollFn:n,shouldRenderAll:r,forceRender:i},this)},Pu.prototype.getAttributeOnSelection=function(e,t,n){return this.getRep().attributeManager.getAttributeOnSelection(e,t,n)},Pu.prototype.removeAttributeOnDom=function(e,t,n,r){var i=this.getRep(e),o=this.domToRep(t);o&&i.attributeManager.setAttributesOnRange([o.selStart[0],o.selStart[1]],[o.selEnd[0],o.selEnd[1]],[[n,""]],r)},Pu.prototype.performDocumentReplaceVectorRange=function(e,t,n,r,i){var o=this,a=this.getVectorsRep(t,e);if(!(0<=n&&n<=r&&r<=a.vectorIds.length))throw new Error("performDocumentReplaceVectorRange: bad range "+n+", "+r+", "+a.vectorIds.length);for(var s,c,u,l,d,p=[],f=0;f<i;f++)p.push(e?X.tableIds.newUniqueRowId():X.tableIds.newUniqueColId());n<r&&(s=this.managers.getLineEntryContainingZone(t),c=a.vectorIds.slice(n,r),u=s.domInfo.lineManagerData,l=e?u.colsZoneId:u.rowsZoneId,d=this.getVectorsRep(l,!e).vectorIds,X.tableIds.crossProduct(c,d,!e).forEach(function(e){var t,n,r=o.getReps();e in r&&(t=r[e].lines.length()-1,o.performDocumentReplaceRange(e,[0,0],[t,r[e].lines.atIndex(t).text.length],""),o.selection.getStart()&&o.selection.getStart().zone===e&&(n=o.managers.positionOfLineManagerContainingZone(e),o.selection.set(n)))}));var h=this.changesetHelper.smartOpAssembler();h.append({opcode:"=",attribs:"",lines:0,chars:n}),h.append({opcode:"-",attribs:"",lines:0,chars:r-n}),h.append({opcode:"+",attribs:"",lines:0,chars:i});var g={};g[t]={itemType:e?"R":"C",oldLen:a.vectorIds.length,newLen:a.vectorIds.length-(r-n)+i,ops:h.toString(),charBank:p};var m=this.changesetHelper._pack(g);this.performDocumentApplyChangeset(m)},Pu.prototype.performDocumentDeleteLine=function(e,t){this.repManager.setActiveRep(e);var n=this.getRep(e);0<=t&&t<n.lines.length()&&this.performDocumentReplaceRange(e,[t,0],[t,n.lines.atIndex(t).text.length],"")},Pu.prototype.composeRepsToChangeset=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=e.lines.length()-1,i=e.lines.atIndex(r),o=t.reduce(function(e,t){return{text:e.text+t.alltext,attribs:e.attribs+t.alines.join("")}},{text:"",attribs:""}),a=this.changesetHelper.builder(e.lines.totalWidth(),"Z",e.zoneId);return this.changesetHelper.buildKeepToStartOfRange(e,a,[r,i?i.text.length:0]),a.insert("\n"),a.insertAText(o),a.toString()},Pu.prototype.setMounted=function(e){this.mounted=e},Pu.prototype.getAllTexts=function(){var t,e,n=this.repManager.reps,r={};try{for(var i=V(Object.keys(n)),o=i.next();!o.done;o=i.next()){var a=o.value,s=n[a];r[a]=s.alltext}}catch(e){t={error:e}}finally{try{o&&!o.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}return r},Pu.prototype._handleContentWillChange=function(e){var t,n,r=this,i=e.deltaSet,o=e.options;i.forEach(function(e){var t,n=e.zoneId;r.getRep(n)||(t=void 0,t=e.zoneType===gt.Content?new cr({zoneId:n}).insertEnter():new $n({zoneType:e.zoneType,ops:[],zoneId:n}),r.initZoneRep(n,t))});var a={};try{for(var s=V(this.getContentState()),c=s.next();!c.done;c=s.next()){var u=c.value.getZoneId();a[u]=this.getRep(u).alltext}}catch(e){t={error:e}}finally{try{c&&!c.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}var l=Mn({deltaSet:i,apool:this.getApool(),texts:a,vectorReps:this.getVectorRepsMap()});this.inCallStackIfNecessary("doRepApplyChangeset",function(){r.doRepApplyChangeset(l)}),o._cs=l,o._localCs=l;var d=function(){o.preventScrolling&&(r.getCurrentCallStack().preventScrolling=!0),r._hanldeApplyedChanges(o)};this.inCallStackIfNecessary("applyChanges",function(){o.nonundoable?r.makeNewEvent("nonundoable",d):d()}),this.togglePlaceHolder(),this.once("paint",function(){r.togglePlaceHolder()})},Pu.prototype._hanldeApplyedChanges=function(e){var t,n=this.changesetTracker,r=this.repManager,i=e._cs,o=e.isRemote,a=this.getApool(),s=this.getCurrentCallStack(),c=this.addMagicInlineObjectIds(i),u=s.editEvent;u.currentChangeset=c,"nonundoable"===u.eventType?u.changeset?u.changeset=this.changesetHelper.compose(u.changeset,c,a):u.changeset=c:(t=this.changesetHelper.inverseOnRep(c,r.reps,this.vectorReps,a),u.backset?u.backset=this.changesetHelper.compose(t,u.backset,a):u.backset=t),n&&n.isTracking()&&(i=this.changesetHelper.filterAttribNumbers(i,function(e){return 0!==K(W(a.getAttrib(e)),1)[0].indexOf(_e)}),e._cs=i),this.setDidComposedChangesetTimeout({changeset:i,isRemote:o,apool:n.apool})},Pu.prototype.setAttributesOnLine=function(e,t,n){this.getReps()[e].attributeManager.setAttributesOnLine(t,n)},Pu.prototype.setDocAttribute=function(e,t){void 0!==this.props.spellCheck&&e.setAttribute("spellCheck",String(this.props.spellCheck)),void 0!==this.props.autoCorrect&&e.setAttribute("autoCorrect",this.props.autoCorrect?"on":"off"),e.classList.add("innerdocbody","adit-container","notranslate")},Pu.prototype.initDomLineEntries=function(){},Pu.prototype.isIgnoreThisAttributeOnLine=function(e,t,n){var r,i=this.getRep(e).lines.atIndex(t);return null===(r=null===i||void 0===i?void 0:i.lineNode)||void 0===r?void 0:r.classList.contains("ignore-attr-"+n)},Pu.prototype.processMatchedAttributeOnSelection=function(e,t,l,n){var r,i,d=this.getRep(e),o=t||d,a=this.selection.getRealFirstLine(d.zoneId,o),s=this.selection.getRealEndLine(d.zoneId,o);function c(e){var t,n;if(!e)return"";var r=e.split("*"),i=[];try{for(var o=V(r),a=o.next();!a.done;a=o.next()){var s,c=a.value,u=parseInt(c,36);u==u&&((s=d.apool.numToAttrib[u])&&-1<s[0].indexOf(l)&&i.push(s))}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return 0<i.length?i:""}for(var u=a;u<=s;u++){var p=this.changesetHelper.opIterator(d.alines[u]),f=0,h=0;d.attributeManager.lineHasMarker(u)&&(h=1);var g=d.lines.atIndex(u),m=g.text.length;for(u===a&&(h=a===o.selStart[0]?o.selStart[1]:h),u===s&&(m=s===o.selEnd[0]?o.selEnd[1]:m),g.domInfo&&Object(X.isHTMLElement)(g.domInfo.node)&&g.domInfo.node.querySelector("img")&&(m=g.text.length);p.hasNext();){var v=p.next(),y=f,b=y+v.chars,E=c(v.attribs)||[];try{for(var _=(r=void 0,V(E)),C=_.next();!C.done;C=_.next()){var T=C.value,O=T[0],k=T[1];O&&(b<=h||m<=y||n([u,y],[u,b],O,k,d))}}catch(e){r={error:e}}finally{try{C&&!C.done&&(i=_.return)&&i.call(_)}finally{if(r)throw r.error}}f=b}}},Pu);function Pu(e){var j=Nu.call(this,e)||this;return j.props=e,j.version="[AIV]{version}[/AIV]",j.maxListLevel=16,j.zoneToTableMap={},j.zoneToTableIndexMap={},j.plugins={},j.clientVars=de,j.isEnable=!0,j.innerZoneEditorNodes={},j.i18n={},j.vectorReps={},j.rect={bottom:0,height:0,left:0,right:0,top:0,width:0,x:0,y:0},j.contentEditableLock=!1,j.contentEditableTemp=!1,j.isUndoHandleEnabled=!0,j.shouldFixSelection=!0,j.currentComposedChangeset="",j.updateActivationTimer=null,j.contentTypeRegistry={id:"full",isEnabled:!1,length:1},j._blockElems={div:1,p:1,pre:1,li:1,ol:1,ul:1,code:1},j._compatibleToAce=function(){var t,e;try{for(var n=V(Object.keys(j)),r=n.next();!r.done;r=n.next()){var i=r.value,o=i.indexOf("ace_")&&i.indexOf("component")<0;j.hasOwnProperty(i)&&"function"==typeof j[i]&&o&&(j["ace_"+i]=j[i])}}catch(e){t={error:e}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}},j._handleOnMutate=function(e,t,n,r){var i=n.length;j.getRep(e)._update(t,i,r,n)},j.getRep=function(e){return e?j.repManager.getRep(e):j.repManager.getActiveRep()},j.getReps=function(){return j.repManager.reps},j.getScrollContainer=function(){return j.props.scroller?Q()(j.getDocBody()).closest(j.props.scroller).get(0):document.contains(j.getDocBody())?j.getDocBody().parentElement:null},j.callAll=function(e,t){return j._pluginManager.callAll(e,t)},j.getDocBody=function(){return j.docbody},j.getRect=function(){return j.rect},j.setRect=function(){j.rect=j.getDocBody().getBoundingClientRect()},j.getInInternationalComposition=function(){return j[pe]},j.setInInternationalComposition=function(e){j[pe]=e},j.fastIncorp=function(e){void 0===e&&(e=!1),j[pe]&&!e&&j.log("return in composition flag");var t=j.getCurrentCallStack();t&&(t.domClean=!0),j._inputModel._flushInput()},j.doUndoRedo=function(e){var t,n=j.undoModule,r=j.isUndoHandleEnabled;n.enabled&&r&&((t="redo"===e?"performRedo":"undo"===e?"performUndo":void 0)&&n[t]())},j.undo=function(){j.doUndoRedo("undo")},j.redo=function(){j.doUndoRedo("redo")},j.setListView=function(e){j.listView=e},j.initTracker=function(){var e=j.props,t=j.repManager,n=j.dirtyChecker.observer,r=j.setupRepExceptAlinesForRootZone,i=e.clientVars,o=(i.apool,i.initialAttributedTexts);return j.undoModule.enabled&&(j.undoModule.apool=t.apool),j.changesetTracker=new X.ChangesetTracker({editor:j,apool:t.apool}),n.withoutRecordingMutations(function(){r(o),j.changesetTracker.setBaseAttributedText(o)}),j.changesetTracker},j.handleKeyEvent=function(e){console.warn("Editor handleKeyEvent")},j.getSelectedHTML=function(){var e=window.getSelection(),t=Object(X.safeGetRangeAt)(e,0),n=t.cloneContents(),r=t.commonAncestorContainer;if(r instanceof Text){var i=n.childNodes[0];if(1===n.childNodes.length&&i instanceof Text&&i.textContent===r.textContent)for(var o=t.commonAncestorContainer;o&&o!==j.docbody;){if("A"===o.tagName||"a"===o.tagName){var a=o.cloneNode();a.append(n),n=a;break}o=o.parentElement}}var s=document.createElement("div");s.appendChild(n);var c={html:s.innerHTML,editorInfo:j,rep:j.getRep()};return j.hooks.callAll("aceGetSelectedHTML",c)[0]||s.innerHTML},j.getDebugInfo=function(){var r=j,t={};Object.keys(r).forEach(function(e){"boolean"==typeof r[e]&&(t[e]=r[e])});var i={};Object.keys(r.plugins).forEach(function(t){i[t]={};var n=r.plugins[t];Object.keys(n).forEach(function(e){"boolean"==typeof n[e]&&(i[t][e]=n[e])})});var e=r.getRep(),n=e?{zoneId:e.zoneId,alinesWidth:e.alinesWidth,selStart:e.selStart,selEnd:e.selEnd}:{},o=r.plugins.client,a=o?{uuid:o.messageSended?o.messageSended.uuid_v4:null,rev:o.rev,state:o.state}:{};return{editorInfo:t,repInfo:n,pluginsInfo:i,collabInfo:a}},j.isCaret=function(){return j.selection.getSelection().isCollapsed()},j.updateBrowserSelectionFromRep=function(e){void 0===e&&(e=!1),!j.isFocus&&!1===e||j.selection._updateBrowserSelection()},j.setupRepExceptAlinesForRootZone=function(e){var t,n,r,i,o=e.rows||{};try{for(var a=V(Object.keys(o)),s=a.next();!s.done;s=a.next()){var c=s.value;j.vectorReps[c]={vectorIds:Object(f.a)(o[c]),forRow:!0,alines:[e.attribs[c]]}}}catch(e){t={error:e}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}var u=e.cols||{};try{for(var l=V(Object.keys(u)),d=l.next();!d.done;d=l.next()){var p=d.value;j.vectorReps[p]={vectorIds:Object(f.a)(u[p]),forRow:!1,alines:[e.attribs[p]]}}}catch(e){r={error:e}}finally{try{d&&!d.done&&(i=l.return)&&i.call(l)}finally{if(r)throw r.error}}},j.fatal=function(e,t,n,r){j.editor.call("error",{err:e,e:e,from:t,message:n,code:r})},j.pluginFatal=function(e,t,n,r){void 0===r&&(r={}),j.eventEmitter.trigger("EtherpadPlugin:Error",[F(F({},r),{err:e,from:"etherpad",message:t,type:"changeset",code:n,editor:null})])},j.triggerEvent=function(e){return j.handleEvent(e)},j.clear=function(){j.replaceAllText("")},j.reset=function(){console.warn(" reset, composition"),j.replaceAllText(""),!0===j.getInInternationalComposition()&&(j[pe]=!1),j.repManager.apool=new X.AttributePool(j),j.undoModule.setApool(j.repManager.apool),j.changesetTracker.setApool(j.repManager.apool),j.undoModule.clearHistory()},j.reset=function(){console.warn(" reset, composition"),j.replaceAllText(""),!0===j.getInInternationalComposition()&&(j[pe]=!1),j.repManager.apool=new X.AttributePool(j),j.undoModule.setApool(j.repManager.apool),j.changesetTracker.setApool(j.repManager.apool),j.undoModule.clearHistory()},j.replaceAllText=function(r){null==r&&(r=""),j.inCallStackIfNecessary("replaceText",function(){j.fastIncorp(!0);var e=j.getRep(),t=e.lines.length()-1,n=e.lines.atIndex(t).width-1;j.performDocumentReplaceRange(e.zoneId,[0,0],[t,n],r)},{shouldIncorp:!0})},j.replaceAllByAttributeText=function(n,r){j.inCallStackIfNecessary("replaceAttributeText",function(){j.replaceAllText("");var e=j.getRep(be),t=Object(X.getChangesetBetweenRepAndAText)(e,n,j.changesetHelper);e.apool.fromJsonable(r),j.performDocumentApplyChangeset(t)})},j.cancel=function(){},j.initZoneForTable=function(e){j._initialLineTracker(e);var t=j.dom.rootNodeOfZone(e,!1,!1);return t.innerHTML,t},j.initZone=function(e,t){void 0===t&&(t=!1);var n=j.getReps()[e];return n&&(n.lines.length()||n.domEntries)?j.dom.rootNodeOfZone(e):j.dom.rootNodeOfZone(e,!1,t)},j.initZoneDomLineEntry=function(e){},j.getCurrentLineEntry=function(){var e=j.selection.getSelection().start;return e.zoneId?j.getRep(e.zoneId).lines.atIndex(e.line):null},j.getObserver=function(){return j.dirtyChecker.observer},j.getSelectedRep=function(){var e=j.selection.getSelection().start;return j.getRep(e.zoneId)},j.getHooks=function(){return j.hooks},j.getProps=function(){return j.props},j.getVectorsRep=function(e,t){if(null!=e){if(e in j.vectorReps||(j.vectorReps[e]={vectorIds:[],forRow:t,alines:[""]}),j.vectorReps[e].forRow!==t)throw new Error("zoneId "+e+" in rep as forRow="+j.vectorReps[e].forRow+" but getVectorsRep called with forRow="+t);return j.vectorReps[e]}},j.getRepManager=function(){return j.repManager},j.getApool=function(){return j.getRep().apool},j.getVectorReps=function(){return j.vectorReps},j.getLineNumInRootZone=function(t,e){if(t===be)return e;for(var n=10,r=0,i=j.managers.zoneToLineEntry[t];i&&i.zone!==be&&r++<n;)i=j.managers.zoneToLineEntry[i.zone];var o,a=j.getRep(i&&i.zone||be);try{o=a.lines.indexOfEntry(i)}catch(e){j.log("catch error when getLineNumInRootZone, zone:",t),o=-1}return o},j.getLineTop=function(e,t){var n=K(t,2),r=n[0],i=n[1],o=j.getRep(e);if(j.lineTracker.collapseLines){var a=j.lineTracker.collapseLines.getCollapsedStatusOfLine(e,r);if(!a)return null;var s=a.renderCollapsed,c=a.startOfCollapseSection;if(!s||s&&c){var u=o.lines.atIndex(r);return u?u.getLineRect().top+u.getCharRect(i).top:null}for(var l,d=j.getRep(be),p=j.getLineNumInRootZone(e,r)-1;0<p;){var f=j.lineTracker.collapseLines.getCollapsedStatusOfLine(be,p);if(!f)break;var h=f.renderCollapsed,g=f.startOfCollapseSection;if(!h||h&&g)break;p--}return(l=d.lines.atIndex(p))?l.getLineRect().top+l.getCharRect(p).top:null}return(l=o.lines.atIndex(r))?l.getLineRect().top+l.getCharRect(i).top:null},j.getInnerHeight=function(){var e=j.getInnerContainer();return!!e&&e.offsetHeight},j.getInnerWidth=function(){var e=j.getInnerContainer();return!!e&&e.offsetWidth},j.getContainerBox=function(){return document.getElementById("editorcontainerbox")},j.getOuterContainer=function(){return j.getDocBody()&&j.getDocBody().parentNode},j.getScrollTop=function(){var e=j.getScrollContainer();return(null===e||void 0===e?void 0:e.scrollTop)||0},j.getAuthor=function(){var e=j.clientVars;return e&&e.userId&&"0"!==e.userId?e.userId:j.props.author||le},j.getStats=function(){var n=0,r=0;j.managers.getAllChildZones().text.forEach(function(e){var t=j.getReps()[e].alltext;r+=Object(X.getTextLength)(t,!1),n+=Object(X.getTextLength)(t,!0)});var e=j.getRep(be).alltext;return r+=Object(X.getTextLength)(e,!1),{charCount:n+=Object(X.getTextLength)(e,!0),wordCount:r}},j.getPluginStats=function(o){var a={},s=null,r=function(e){var t,n=K(e,2),r=n[0],i=n[1];o[r]&&((t=(0,o[r])(i,j)).childReps&&t.childReps.forEach(function(e){s(e)}),t.pluginCounts.forEach(function(e){var t=K(e,2),n=t[0],r=t[1];a[n]=(a[n]||0)+r}))};return(s=function(n){n.alines.forEach(function(e,t){n.attributeManager.getAllAttributesOnLine(t).forEach(r)})})(j.getRep(be)),a},j.getLineListType=function(e,t){var n=j._contentState.getZoneState(e).getLine(t);return n&&n.getLineAttributes().toMap()[Ce]||""},j.getLineListInfo=function(e,t){var n=j._contentState.getZoneState(e).getLine(t);if(!n)return null;var r=n.getLineAttributes().reduce(function(e,t){var n=K(t,2),r=n[0],i=n[1];return r===Ce?e.listType=i:r===Te&&(e.listId=i),e},{});return r.listType?r:null},j.isFocus=function(){return document.hasFocus()&&document.activeElement===j.getDocBody()},j.isEnabled=function(){return j.isEnable},j.isEmpty=function(){return Object.values(j.getReps()).every(function(e){return"\n"===e.alltext})},j.isShouldFixSelection=function(){return j.shouldFixSelection},j.blur=function(){var e=j.selection.currentSelection,t=e&&e.zone||be;j.dom.rootNodeOfZone(t).blur()},j.setEditable=function(e,t){j.setPluginMode(e,t),j.setContentEditable(!!e)},j.setCopyable=function(e){j.copyable=e},j.disable=function(){Q()("#editbar").addClass("disabledtoolbar").removeClass("enabledtoolbar")},j.enable=function(){Q()("#editbar").addClass("enabledtoolbar").removeClass("disabledtoolbar")},j.setPluginMode=function(e,t){if(j.editorStatusLocked)j.editableArgTemp={designMode:e,args:t};else{j.editable=e;var n=j.hook;try{j.editable?n.callAll("pluginReadWrite",t):n.callAll("pluginReadOnly",t)}catch(e){j.log(e)}}},j.setEditStatusLock=function(e,t){var n,r,i;!(j.editorStatusLocked=e)&&t&&j.editableArgTemp&&(r=(n=j.editableArgTemp).designMode,i=n.args,j.setEditStatus(r,i)),e&&(j.editableArgTemp={designMode:j.getEditStatus(),args:{}})},j.setUndoHandleEnabled=function(e){j.isUndoHandleEnabled=e},j.setSel=function(e,t,n){var r=j.getRep(),i=r.zoneId,o=r.alltext;j.selection.setSelection({start:{zoneId:i,line:e[0],offset:e[1]},end:{zoneId:i,line:t[0],offset:t[1]}}),n&&"\n"!==o&&j.selection._updateBrowserSelection()},j.focus=function(e,t){var n=j.selection.getSelection().start.zoneId,r=j.dom.rootNodeOfZone(n);t?Object(X.focusWithoutScroll)(r):Q()(r).focus(),e&&(Q()(j.docbody).parent().hasClass("adit-outer-container")?Q()(j.getScrollContainer()):Q()(".etherpad-container-wrapper")).scrollTop(e)},j.advancedDomToRep=function(e){var t,n,r,i=j.domToRep(e);return i&&(t=i.selStart[2],n=i.selStart[0],r=j.getRep(t),j.getAttributeOnLine(t,n,"gallery")&&(i.selEnd[1]=r.alinesWidth[n]-1)),i},j.domToRep=function(e){if(e){var t=wa(e,j);if(t){var n=t.start,r=n.line,i=n.offset,o=n.zoneId,a=t.end;return{selStart:[r,i,o],selEnd:[a.line,a.offset,o]}}}return null},j.activeCaret=function(){for(var e,t=!1,n=window.getSelection().anchorNode,r=n,i=j.getDocBody(),o=/image-upload-image/.test(n&&n.id||"");n&&"body"!==(n.tagName||"").toLowerCase();){if(n===i){t=!0;break}n=n.parentNode}t&&(o?j.anchorNodeClickTimeout=window.setTimeout(function(){r.firstChild.click()},0):Q()(r).parents(".single-line").length?Q()(r).click():(e=j.dom.isRootOfZone(r)?r:j.dom.rootNodeOfZoneContaining(r))&&document.activeElement!==e&&e&&(e.setActive?e.setActive():Object(X.focusWithoutScroll)(e)))},j.callWithAce=function(e,t,n,r){var i,o=j.inCallStack,a=j.fastIncorp,s=function(){return e(j)};return void 0!==n&&(i=s,s=function(){a(),i()}),void 0!==t?o(t,s,r):s()},j.applyChangesetToDocument=function(e){var t=j.getCurrentCallStack,n=j.performDocumentApplyChangeset,r=t(),i=r.editEvent.eventType;r.startNewEvent("nonundoable"),n(e,!0),r.startNewEvent(i)},j.getDocId=function(){return j.props.token},j.getEditorUniqueId=function(){return j.editorUniqueId},j.getAttributeOnLine=function(e,t,n){return j.getRep(e).attributeManager.getAttributeOnLine(t,n)},j.getAttributesFromChangeset=function(e){var t,n,r=j.getRep().apool,i=j.changesetHelper.unpack(e),o={};try{for(var a=V(Object.keys(i)),s=a.next();!s.done;s=a.next()){var c=s.value,u=i[c].ops,l=j.changesetHelper.opIterator(u);o[c]=j.changesetHelper.parseAttributesFromOpIter(l,r)}}catch(e){t={error:e}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return o},j.setDidComposedChangesetTimeout=function(e){var t=e.changeset,n=e.apool,r=e.isRemote;j.didComposedChangesetTimeout?(j.currentComposedChangeset=j.changesetHelper.compose(j.currentComposedChangeset,t,n),clearTimeout(j.didComposedChangesetTimeout)):j.currentComposedChangeset=t,j.didComposedChangesetTimeout=window.setTimeout(function(){j.hooks.callAll("didComposedChangeset",{changeset:j.currentComposedChangeset,apool:n,isRemote:r}),j.didComposedChangesetTimeout=0},0)},j.createDomLineEntry=function(e,t,n){void 0===n&&(n={});var r=j.doCreateDomLine(0<e.length);r.lineString=e,t&&(r.zone=t);var i=new Yc({editor:j,zone:t,info:r,uniqueId:n.uniqueId});return i.mounted=Boolean(n.mounted),i.isActive=Boolean(n.isActive),i},j.getAttributesOnSelection=function(e,t,n){var r=j.getRep(e),i=t||r;return r.attributeManager.getAttributesOnSelection(i.selStart,i.selEnd,r,n)},j.toggleAttributeOnSelection=function(t,e,n,r,i){void 0===r&&(r="IGNORE_");var o=i===_e?_e+"-"+t:t,a={bold:!0,italic:!0,underline:!0,strikethrough:!0},p=j.getRep(),s=e||p;if(s.selStart&&s.selEnd){if(j.selection.isCaret(s)&&a[o]){Q()("[data-key="+o+"]").find("button").toggleClass("active");var c=p.attributeManager.checkAttributeOnPosition(s.selStart[0],s.selStart[1],o,n||"true");return j.toggleAttribute(o),c}var f=!0,u=j.changesetHelper.makeAttribsString("+",[[o,n||"true"]],p.apool),l=new RegExp(u.replace(/\*/g,"\\*")+"(\\*|$)"),d=Object(X.splitSelectionWithClassName)(s,j.domToRep,r+o.replace(/-/g,"_").toUpperCase());return d.forEach(function(e){if(f){var t=e.selStart[0];p.lines.isEndOfLine(e.selStart[0],e.selStart[1])&&(t=e.selStart[0]+1,e.selStart=[t,p.lines.atIndex(t).lineMarker]);for(var n=e.selEnd[0],r=t;r<=n;r++){var i=j.changesetHelper.opIterator(p.alines[r]),o=0,a=p.lines.atIndex(r),s=a.lineMarker,c=a.text.length;for(r===t&&e.selStart[1]>s&&(s=e.selStart[1]),r===n&&e.selEnd[1]<c&&(c=e.selEnd[1]);i.hasNext();){var u=i.next(),l=o,d=l+u.chars;if(!h(u.attribs)&&!(d<=s||c<=l)){f=!1;break}o=d}if(!f)break}}}),d.forEach(function(e){p.attributeManager.setAttributesOnRange(e.selStart,e.selEnd,[[t,f?"":n||"true"]],i)}),f}function h(e){return l.test(e)}},j.caretLine=function(){return j.getRep().selStart[0]},j.getMatchedAttributeOnSelection=function(o,e,t,a){var s=[];return j.processMatchedAttributeOnSelection(o,e,t,function(e,t,n,r,i){!Object(u.default)(a)&&a!==r||s.push({selZone:o,selStart:e,selEnd:t,attributeName:n,attributeValue:r})}),s},j.isFocusOnSheet=function(){var e=j.getRep();if(!e.selStart||e.selStart[0]!==e.selEnd[0])return!1;var t=j.getBlockElement();return!!t&&t.matches(".sheet")},j.scrollVerticallyBySelectionPosition=function(){Object(X.scrollVerticallyBySelectionPosition)(j)},j.initiateRepForZoneIfNecessary=function(e){},j.isImageLine=function(e,t){var n=j.getRep(e);if(t<0||t>n.lines.length()-1)return!1;var r=Object(b.default)(n.lines.atIndex(t),"lineNode.innerHTML");return!!(r&&-1<r.indexOf("image-uploaded"))},j.isSheetLine=function(e,t){var n=j.getRep(e);if(t<0||t>n.lines.length()-1)return!1;var r=Object(b.default)(n.lines.atIndex(t),"lineNode.innerHTML");return!!(r&&-1<r.indexOf("sheet-id-"))},j.isFocusOnTable=function(){return"0"!==j.getRep().zoneId},j.performDelete=function(e){var t=j.getRep(),n=t.lines.atIndex(e),r=t.lines.length()-1===e;if(n){var i=n.text.length,o=t.lines.atIndex(e-1);if(o&&r){var a=o.text.length;return j.performDocumentReplaceRange(t.zoneId,[e-1,a],[e,i],"")}e&&!r?j.performDocumentReplaceRange(t.zoneId,[e,0],[e,i+1],""):j.performDocumentReplaceRange(t.zoneId,[e,0],[e,i],"")}},j.setDataToClipboard=function(e){var t,n=e.data,r=e.type;n&&n.html&&(t=F(F({},n),{type:r}),j.hook.callAll("beforeSetDataToClipboard",t),j.clipboard.from=r,j.clipboard.resetPasteTimes(),X.clipboardDataHelper.setDataWithoutEvent(Object.assign({},n,{html:j.addUniqueIdIntoHTML(t.html)})))},j.setIdleActionOption=function(e){},j.removeMatchedAttributeOnSelection=function(e,t,n){j.processMatchedAttributeOnSelection(e,t,n,function(e,t,n,r,i){i.attributeManager.setAttributesOnRange(e,t,[[n,""]])})},j.findMatchedAttributePositionOnSelectionRecurrsive=function(d,e,o,p,f){var h=p.matchedAttrs,g=p.matchedZoneContainerAttrs,m=f.shouldMerge,v=be;e&&e.selZone&&(v=e.selZone);var a=j.getRep(v);if(a)for(var y=e.selStart[0],b=e.selStart[1],E=e.selEnd[0],_=e.selEnd[1],C=0,t=function(e,t){var n=a.alines[e];if(e<y||E<e)return C+=a.alinesWidth[e],"continue";if(n.match(o))for(var u=e,l=0,r=j.changesetHelper.opIterator(n),i=function(){var s=r.next(),c=l+s.chars;if(C+=s.chars,e===y){if(c<=b)return l=c,"continue";l<b&&(l=b)}if(e===E){if(_<=l)return"continue";_<c&&(c=_)}j.changesetHelper.eachAttribNumber(s.attribs,function(a){h.forEach(function(e){if(a===e.attrNum){for(var t={selStart:[u,l],selEnd:[u,c],selZone:v,chars:C},n=d.length-1,r=d[n],i=!1;r;)var o=r.docPosition,r=o.chars+s.chars===C?r.attrNum===a&&m?(o.selEnd=[u,l],i=!0,null):d[--n]:null;i||d.push({attrNum:e.attrNum,attrKey:e.attrKey,attrValue:e.attrValue,docPosition:t})}});var e=g.find(function(e){return e.attrNum===a});e&&e.zoneIds.forEach(function(e){j.findMatchedAttributePositionOnSelectionRecurrsive(d,{selStart:[0,0],selEnd:[1/0,1/0],selZone:e},o,p,f)})}),l=c};r.hasNext();)i();else C+=a.alinesWidth[e]},n=0,r=a.alines.length;n<r;n++)t(n)},j.getMatchedAttributePositionOnSelection=function(e,t,n){void 0===n&&(n={shouldMerge:!0});var a=j.getApool();e=e||{selStart:[0,0],selEnd:[1/0,1/0],selZone:be};var r=[],s=[],c=[],u=[];if(Object.keys(a.numToAttrib).forEach(function(e){var n=Number(e),r=a.getAttribKey(n),i=a.getAttribValue(n),o=!1;t(r,i)&&(s.push({attrNum:n,attrKey:r,attrValue:i}),o=!0),j.managers.zoneWithMatchAttr.forEach(function(e){var t=e.zoneIds;(0,e.lineMatcher)(r,i)&&(c.push({attrNum:n,attrKey:r,attrValue:i,zoneIds:t}),o=!0)}),o&&u.push(Object(M.numToString)(n))}),0===s.length)return r;var i=new RegExp("\\*("+u.join("|")+")[+\\*|]");return j.findMatchedAttributePositionOnSelectionRecurrsive(r,e,i,{matchedAttrs:s,matchedZoneContainerAttrs:c},n),r},j.removeAttributeOnLine=function(e,t,n){j.getRep(e).attributeManager.removeAttributeOnLine(t,n)},j.isClientSideAttribs=function(e){var t=!1;return j.changesetHelper.filterAttribNumbers(e,function(e){0===j.repManager.apool.getAttrib(e)[0].indexOf(_e)&&(t=!0)}),t},j.getAllAttributesOnLine=function(e,t){return j.getRep(e).attributeManager.getAllAttributesOnLine(t)},j.setAttributeOnLine=function(e,t,n,r,i){var o=j.getRep(e);-1<j.getLineListType(o.zoneId,t).indexOf("code")&&["lang","code"].indexOf(n)<0&&j.setLineListType(o.zoneId,t,""),j.isIgnoreThisAttributeOnLine(o.zoneId,t,n)||o.attributeManager.setAttributeOnLine(t,n,r,i)},j.getAttributesOnPosition=function(e,t,n){return j.getRep(e).attributeManager.getAttributesOnPosition(t,n)},j.setLineListType=function(e,t,n,r,i){var o,a,s,c,u="list",l=j.repManager.reps[e],d=[],p=j.setAttributesOnLineExcludeAttrs,f=j.renumberList;""===n?(s=!1,c=l.attributeManager.findAttributeOnLine(t,"ol-id"),j.formatterManager&&j.formatterManager.formatterMap.list?(o=j.formatterManager.formatterMap.list.plugin.constructor.relativeAttrKeys,l.attributeManager.removeAttributesOnLine(t,o.concat(u))):(a=[u,"start","origin-start","lang","ol-id","todo_uuid"],l.attributeManager.removeAttributesOnLine(t,a))):(d.push([u,n]),-1<n.indexOf("number")&&(c=r||j.getClosetListNumberId(e,n,l)||Object(X.getListNumberId)())&&d.push(["ol-id",c]),i&&d.push.apply(d,W(i)),p(e,t,d,[["horizontal-line","true"],["sheet-id",""],["aceTable",""],["zoneType",""]])),f(e,t,c,s)},j.setLineListTypeWithStart=function(e,t,n,r,i,o){var a,s="list",c=j.repManager.reps[e],u=o||j.getClosetListNumberId(e,n,c);r?(n?i?c.attributeManager.setAttributesOnLine(t,[[s,n],["start",r],["origin-start",r],["ol-id",u]]):c.attributeManager.setAttributesOnLine(t,[[s,n],["start",r],["ol-id",u]]):(u=c.attributeManager.findAttributeOnLine(t,"ol-id"),a=!1,j.setLineListType(e,t,"")),j.renumberList(e,t,u,a)):j.setLineListType(e,t,n,u)},j.setMultiLinesListType=function(n,r,e,t){var i,o,a,s,c;r.length&&(i="list",o=j.repManager.reps[n],a=j.renumberList,c=new Map,r.forEach(function(e){var t=o.attributeManager.findAttributeOnLine(e,"ol-id");!c.has(t)&&t&&c.set(t,!0)}),/check|done/.test(e)||o.attributeManager.removeAttributeOnMultiLines(r,"todo_uuid"),""===e?j.formatterManager&&j.formatterManager.formatterMap.list?j.formatterManager.formatterMap.list.plugin.constructor.relativeAttrKeys.concat("list").forEach(function(e){o.attributeManager.removeAttributeOnMultiLines(r,e)}):(o.attributeManager.removeAttributeOnMultiLines(r,i),o.attributeManager.removeAttributeOnMultiLines(r,"start"),o.attributeManager.removeAttributeOnMultiLines(r,"origin-start"),o.attributeManager.removeAttributeOnMultiLines(r,"lang"),o.attributeManager.removeAttributeOnMultiLines(r,"ol-id")):(r=r.filter(function(e){return j.canSetAttributesOnLineExcludeAttrs(n,e,[["horizontal-line","true"],["sheet-id",""],["aceTable",""]])}),-1<e.indexOf("number")?(s=t||j.getClosetListNumberId(n,e,o)||Object(X.getListNumberId)(),o.attributeManager.setAttributeOnMultiLines(r,"ol-id",s)):o.attributeManager.removeAttributeOnMultiLines(r,"ol-id"),o.attributeManager.setAttributeOnMultiLines(r,i,e)),c.forEach(function(e,t){a(n,r[0],t)}),a(n,r[0],s))},j.unNumberType=function(e){return"indent"===e||"bullet"===e||"check"===e||"done"===e},j.getContentEndSelection=function(){var e=j.getRep(),t=[e.alines.length-1,e.alinesWidth[e.alines.length-1]];return{selStart:t,selEnd:t}},j.clickDocBody=function(e,t){var n;t&&e.target===t&&(t.focus(),n=j.getContentEndSelection(),j.inCallStackIfNecessary("focusEnd",function(){j.performSelectionChange("0",n.selStart,n.selEnd),j.updateBrowserSelectionFromRep(!0)}))},j.renumberList=function(n,r,e,t){var i=/([a-z]+)([0-9]+)/,o=j.repManager,a=j.getLineListType,s=j.unNumberType,c=j.performDocumentApplyChangeset,u=o.reps[n],l=[],d=!1===t,p="",f=a(n,r),h=!!e;if(!f&&!h)return null;var g=i.exec(f);if(!g&&h&&(g=i.exec("number1")),s(g[1])&&!d)return null;var m,v=u.attributeManager.findAttributeOnLine(r,"ol-id"),y=e||v,b=[];"code"===g[1]?p="code":"number"!==g[1]||d||(p="oldNumber"),""!==p&&(b=j.findClosetList(n,r,p)),0!==b.length&&"oldNumber"===p&&(b=b.map(function(e){if(e===r)return v===y?null:e;var t=j.getLineListInfo(n,e);return t&&t.listId===y?null:e}).filter(function(e){return null!==e}).sort(function(e,t){return e-t}),u.attributeManager.setAttributeOnMultiLines(b,"ol-id",y)),t&&u.attributeManager.setAttributeOnLine(r,"ol-id",y),y&&(m=j._contentState.getZoneState(n),W(new Array(m.length())).map(function(e,t){return j.getLineListInfo(n,t)}).forEach(function(e,t){e&&-1<e.listType.indexOf("number")&&e.listId===y&&l.push(t)}));var E=[];0!==l.length?E=l:0!==b.length&&(E=b);var _=null,C="";return E.length&&(C=j.buildRenumberListChangeset(u,E,g,!!_)),C&&!j.changesetHelper.isIdentity(C)&&c(C),null},j.getShiftEnterIndenClosetNumberId=function(e,t){if(!(t<1)){var n=e.findAttributeOnLine(t-1,"list");return n.includes("number")?e.findAttributeOnLine(t-1,"ol-id"):n.includes("indent")?j.getShiftEnterIndenClosetNumberId(e,t-1):void 0}},j.handleDoReturnKeyList=function(e,t,n){var r,i,o,a,s,c=j.findLastListLine,u=j.setLineListType,l=j.performDocumentReplaceSelection,d=j.getLineListType,p=j.renumberList,f=j.setLineListTypeWithStart,h=j.performNewLineWithLineMarkerAttributes,g=j.selection.currentSelection,m=j.getRep(g.zone),v=m.lines.atIndex(e).text,y=/([a-z]+)([0-9]+)/.exec(t),b=y[1],E=Number(y[2]),_=("indent"===b?j.getShiftEnterIndenClosetNumberId(m.attributeManager,m.selStart[0]):j.getClosetListNumberId(g.zone,b,m,!0))||Object(X.getListNumberId)();if("indent"!==b||n||(o=c(m.zoneId,e)),"*"===v)1<E?u(m.zoneId,e,b+(E-1),_):"code"===b?0===e?(h(m,[["list",b+E]]),p(m.zoneId,e+1)):(a=m.lines.atIndex(e-1),s=d(m.zoneId,e-1),"*"===a.text&&-1<s.indexOf("code")?(u(m.zoneId,e-1,""),u(m.zoneId,e,""),p(m.zoneId,e+1)):(l(m.zoneId,"\n"),u(m.zoneId,e+1,b+E))):(u(m.zoneId,e,""),p(m.zoneId,e+1));else if(e+1<=m.lines.length()){var C=m.lines.atIndex(e).lineMarker||1,T=m.selStart[1]===C,O=j.getAttributesOnSelection().attribs;if("indent"!==b&&n)h(m,[["list","indent"+E]]),p(m.zoneId,e+1,"indent"+E);else if("indent"===b&&!n&&o)l(m.zoneId,"\n"),"number"===o.type[1]?f(m.zoneId,e+1,o.type[1]+o.type[2],o.start+1,void 0,_):u(m.zoneId,e+1,o.type[1]+o.type[2],_);else{if(j.selection.isCaret()&&"done"===b&&T)return l(m.zoneId,"\n"),u(m.zoneId,e,"check"+E),void u(m.zoneId,e+1,"done"+E);var k=void 0;if(j.formatterManager&&j.formatterManager.formatterMap.list){var S=j.formatterManager.formatterMap.list.plugin,w=new Map;try{for(var I=V(O),x=I.next();!x.done;x=I.next()){var L=K(x.value,2),R=L[0],N=L[1];S.prefixAttributes.includes(R)?w.has(R)||w.set(R,N):S.prefixAttributes.includes("list-"+R)&&w.set("list-"+R,N)}}catch(e){r={error:e}}finally{try{x&&!x.done&&(i=I.return)&&i.call(I)}finally{if(r)throw r.error}}k=Array.from(w)}var D=("done"===b?"check":b)+E,M=[["list",D]],P=void 0;-1<D.indexOf("number")&&(P=_||j.getClosetListNumberId(m.zoneId,D,m)||Object(X.getListNumberId)())&&M.push(["ol-id",_]),(-1<D.indexOf("check")||-1<D.indexOf("done"))&&M.push(["todo_uuid",UUIDv4()]),k&&M.push.apply(M,W(k)),h(m,M),p(m.zoneId,e+1,P)}}},j.performNewLineWithLineMarkerAttributes=function(e,t){var n=e.selStart,r=e.selEnd,i=e.zoneId,o=[["insertorder","first"],["lmkr","1"]];n&&r&&j.performDocumentReplaceMultiRangeWithAttributes(e.zoneId,[{start:W(n,[i]),end:W(r,[i]),newText:"\n",attributes:[]},{start:W(r,[i]),end:W(r,[i]),newText:"*",attributes:o.concat(t)}])},j.findLastListLine=function(e,t){for(var n=j.getLineListType,r=j.repManager.reps[e],i=t,o="";0<=i-1;){if(!(o=n(e,i-1)))return null;if("bullet"===(o=/([a-z]+)([0-9]+)/.exec(o))[1]||"number"===o[1]||"check"===o[1]||"done"===o[1])return{line:--i,type:"done"===o[1]?{0:"check"+o[2],1:"check",2:o[2]}:o,start:"number"===o[1]?parseInt(r.attributeManager.getAttributeOnLine(i,"start"),10)||1:null};i--}return null},j.buildRenumberListChangeset=function(p,e,f,t){var h=-1,g=j.changesetHelper.builder(p.lines.totalWidth(),"Z",p.zoneId),m=[0,0],v=0,y=function(e,t,n){for(var r,i,o=e[v],a=h,s=j.getLineListType(p.zoneId,o);s;){s=/([a-z]+)([0-9]+)/.exec(s),i=Number(s[2]);var c=j.editor.getContentState().getZoneState(p.zoneId).getLine(o).getLineAttributes().toMap(),u=c["text-indent"],l=c.start;if(isNaN(i)||j.unNumberType(s[1])){if("code"===f[1]||i<t)return o;v++}else if(i===t){a===h&&(r=c["origin-start"],a=n?l:r||1);var d=[["start",a]];if(a!==r&&r&&d.push(["origin-start",""]),Number(a)!==Number(l)&&(u&&d.push(["text-indent",""]),j.changesetHelper.buildKeepRange(p,g,m,m=[o,0]),j.changesetHelper.buildKeepRange(p,g,m,m=[o,1],d,p.apool)),a=+a+1,o=e[++v],v===e.length)return e[v]}else{if(i<t)return o;o=y(e,t+1,n)}s=v<e.length?j.getLineListType(p.zoneId,e[v]):""}return o};return y(e,1,t),g.toString()},j.replaceVectorRange=function(e,t,n,r,i){j.inCallStackIfNecessary("replaceVectorRange",function(){j.performDocumentReplaceVectorRange(e,t,n,r,i)})},j.performDocumentReplaceRangeWithAttributes=function(e,t,n,r,i,o){void 0===i&&(i=[]),void 0===o&&(o=!1);var a=j.repManager,s=j.managers,c=(j.changesetUnpackedVectorsZoneClear,j.isRepInOfLine),u=j.performDocumentApplyChangeset,l=j.getRep(e);void 0===t&&(t=l.selStart),void 0===n&&(n=l.selEnd);var d,p,f,h={},g=l.zoneId,m={zoneId:g,line:t[0],offset:t[1]},v={zoneId:g,line:n[0],offset:n[1]},y=-1<r.indexOf("\n"),b=c(t,n,l),E=(s.getChildZonesInRangeRecursive(new X.Position(m.zoneId,m.line,m.offset),new X.Position(v.zoneId,v.line,v.offset)),j.changesetHelper.builder(l.zoneState.totalWidth(),"Z",l.zoneId));j.changesetHelper.buildKeepToStartOfRange(l,E,t),j.changesetHelper.buildRemoveRange(l,E,t,n),r instanceof Array?r.forEach(function(e){"\n"===e?E.insert(e,[],a.apool):E.insert(e,i,a.apool)}):"string"==typeof r&&((d=r.endsWith("\n")?r.split("\n").slice(0,-1):r.split("\n")).forEach(function(e,t){var n;0===t?(n=y?e+"\n":e,E.insert(n,i,a.apool)):t!==d.length-1||r.endsWith("\n")?(E.insert(e,i,a.apool),E.insert("\n",i,a.apool)):E.insert(e,i,a.apool)}),y&&b&&t&&n&&(p=j._contentState.rangePointToOffset({zoneId:e,line:n[0],offset:n[1]}),0<(f=l.lines.offsetOfIndex(n[0]+1))-p-1&&E.keep(f-p-1,0,[],a.apool))),h[g]=E.toUnpacked(),u(j.changesetHelper._pack(h),o)},j.performSelectionChange=function(e,t,n,r){j.selection.setSelection({start:{zoneId:e,line:t[0],offset:t[1]},end:{zoneId:e,line:n[0],offset:n[1]},isBackward:r})},j.performDocumentApplyAttributesToRange=function(e,t,n,r){return j.getRep().attributeManager.setAttributesOnRange(e,t,n,r)},j.performDocumentReplaceRange=function(e,t,n,r,i){(0,j.performDocumentReplaceRangeWithAttributes)(e,t,n,r,[],i)},j.performDocumentReplaceMultiRangeWithAttributes=function(e,t){if(!Array.isArray(t)||!t.length)return!1;var n=j.repManager,r=j.performDocumentApplyChangeset,i=n.reps[e],o=j.changesetHelper.builder(i.lines.totalWidth(),"Z",i.zoneId),a=(j.isRepInOfLine(i.selStart,i.selEnd,i),[0,0]),s=!1;return t.forEach(function(e){j.changesetHelper.buildKeepRange(i,o,a,e.start),j.changesetHelper.buildRemoveRange(i,o,e.start,a=e.end),o.insert(e.newText,e.attributes,n.apool),s=s||-1<e.newText.indexOf("\n")}),r(o.toString()),!0},j.getTextAndAttrsOnSelection=function(e){return Object(X.getTextAndAttrsOnSelection)(j,e)},j.performDocumentApplyChangeset=function(e,t,n,r,i,o){j.dirtyChecker.observer.withoutRecordingMutations(function(){j.editor.inCallStackIfNecessary("performDocumentApplyChangeset",function(){j._performDocumentApplyChangeset(e,t,n,r,i,o)})})},j.getClientVars=function(){return j.clientVars},j.getBound=function(){return j.docbody.getBoundingClientRect()},j.isEditable=function(){return!!j.editable},j.isBlockElement=function(e){return!!j._blockElems[(e.tagName||"").toLowerCase()]},j.isContentEditable=function(){return j.getDocBody()&&"true"===j.getDocBody().getAttribute("contenteditable")},j.setDocEditStatus=function(e){j.isDocEditing=e},j.setSheetEditStatus=function(e){j.isSheetEditing=e},j.isEditing=function(){return j.isDocEditing||j.isSheetEditing},j.isFocusOnBlock=function(e){var t=j.getRep();return!(!t.selStart||t.selStart[0]!==t.selEnd[0])&&(!!j.getBlockElement()||!!e&&!!j.getBlockElementByTarget(e))},j.setContentEditableLock=function(e){void 0===e&&(e=!1),(j.contentEditableLock=e)||j.dirtyChecker.observer.withoutRecordingMutations(function(){j.setContentEditable(j.contentEditableTemp)})},j.setContentEditable=function(n){j.contentEditableLock?j.contentEditableTemp=n:j.dirtyChecker.observer.withoutRecordingMutations(function(){var e=j.isContentEditable(),t=e!==n;t&&j.getDocBody().setAttribute("contenteditable",n),n&&j.props.autoFocus&&j.focus(),t&&j.call(mr.EDITABLE_CHANGE,{previous:e,current:n}),j.hook.callAll("aceChangeContentediable")})},j.handleCopy=function(e){j.copyable||(j.call(Ee.COPY_WITHOUT_PERMISSION),e.preventDefault()),e.preventDefault()},j.handleCut=function(e){j.copyable||(j.call(Ee.COPY_WITHOUT_PERMISSION),e.preventDefault()),e.preventDefault()},j.handlePaste=function(e){j.isEditable()&&e.preventDefault()},j.handleClickEvent=function(e){(0,j.inCallStackIfNecessary)("click",function(){}),j.hook.callAll("aceClickEvent",{event:e});var t=e.ctrlKey,n=e.button,r=e.target;if(!t&&2!==n&&3!==n){var i=Q()(r).attr("href")?Q()(r):Q()(r).parents("a");if(i.length&&i.attr("href")){try{var o=i.parents(".mention");if(o.hasClass("mention-type_0")||o.hasClass("mention-type_6"))return e.preventDefault(),!1;if(i.hasClass("no-ace-listen"))return;var a=i.get(0).href;!a||/^javascript:void\(0\);?$/.test(a.trim())||e.originalEvent.defaultPrevented||(X.browser.isMobileSDK?window.location.href=a:window.open(a,"_blank").focus())}catch(e){}e.preventDefault()}}},j.handleCompositionEvent=function(e){var t=j.fastIncorp,n=j.inCallStackIfNecessary,r=j.hook,i=e.type;Q()(e.target).hasClass("ignore-collect")||(e.stopPropagation(),"compositionstart"===i?(j.log("composition start"),j[pe]=!0,r.callAll("aceAfterCompositionStart")):"compositionend"===i&&(r.callAll("aceBeforeCompositionEnd"),j[pe]=!1,n("handleCompositionEvent"+Math.floor(1e3*Math.random()),function(){t()},{shouldIncorp:!1}),window.setTimeout(function(){j.plugins.client&&j.plugins.client.handleUserChanges(!1,!0)},0),r.callAll("aceAfterCompositionEnd",{evt:e})),r.callAll("aceCompositionEvent",{evt:e,editor:j,rep:j.getRep()}),j.togglePlaceholderTimeout&&clearTimeout(j.togglePlaceholderTimeout),j.togglePlaceholderTimeout=window.setTimeout(function(){j.togglePlaceHolder()}))},j._getTypeInAttribs=function(e,t,n){for(var r=e.length,i=0;i<r;++i)if(e[i][0]===t)return n||e[i][1];return""},j.setDocId=function(e){j.props.token=e},j.handleAlignText=function(e,t,n,r){var i=j.getRep();"right"===e[1]?i.attributeManager.setAttributeOnLine(t,"align","center"):"center"===e[1]?i.attributeManager.removeAttributeOnLine(t,"align"):j.performDocumentReplaceRange(i.zoneId,[t-1,n.text.length],[t,r.lineMarker],"")},j.hasOtherAttribsOnLine=function(e,n){return e.find(function(e){var t=e[0];return"author"!==t&&"lmkr"!==t&&"insertorder"!==t&&t!==n})},j.updateLineGuid=function(e,t){var n=j.getRep();t=t||Object(X.genGuid)();var r=n.lines.atIndex(e),i=r.text.length;n.attributeManager.setAttributesOnRange([e,r.lineMarker],[e,i],[["lineguid",t]])},j.isRepInOfLine=function(e,t,n){if(!e||!t)return!1;var r=K(e,2),i=r[0],o=r[1],a=K(t,2),s=a[0],c=a[1];if(i!==s)return!1;var u=0,l=n.zoneState.getLine(i).length()-1;return!(!(u<=o&&c<=l)||u===o&&c===l||u===o&&u===c||l===o&&l===c)},j.getOlIdForNewList=function(e){var t=e.selEnd,n=e.attributeManager,r=t[0]+1;return"1"===n.findAttributeOnLine(r,"start")?n.findAttributeOnLine(t[0]+1,"ol-id"):void 0},j.getClosetListNumberId=function(e,t,n,r,i){if(-1!==t.indexOf("number")){var o=n.selStart,a=n.selEnd,s=n.attributeManager,c=o[0],u=a[0];return c<1&&c===u&&0===e?"":r?s.findAttributeOnLine(c,"ol-id"):i&&i.editOneAfterOlList?j._getOlIdForNewList(n):(1<c?s.findAttributeOnLine(c-1,"ol-id"):"")||s.findAttributeOnLine(u+1,"ol-id")}},j.setAttributeOnSelection=function(e,t,n,r,i){var o=j.getRep(e),a=r||o;a.selStart&&a.selEnd&&o.attributeManager.setAttributesOnRange(a.selStart,a.selEnd,[[t,n]],i)},j.getZoneSelectionInMainZone=function(e){var t=j.getReps()[be],n=j.zoneToTableMap[e];if(n){var r=j.tableToLineMap[n],i=t.lines.indexOfEntry(r);if(-1!==i)return{selStart:[i,r.lineMarker,"0"],selEnd:[i,r.lineMarker+1,"0"]}}},j.handleBlurEvent=function(e){var t=j.getRep(),n=j.getCurrentCallStack(),r={editorInfo:j,rep:t,e:e,callstack:n};j.hooks.callAll("aceBlur",r)},j.destory=function(){j.destroy()},j.destroy=function(){j.blockRender.destroy(),j.fiber.destroy();try{j.changesetTracker.destoryTracker(),j.unBindEvent(),j.destoryLisenteners(),j.destoryPlugins(),j.hooks.destroy(),j.dirtyChecker.observer.destroy(),j.plugins={},j._domLine.clear(),j.undoModule.reset(),j.repManager.reset(),j.dirtyChecker.clear(),j.lineTracker.destroy(),j.managers.destroy(),j.callStack.reset(),j.togglePlaceholderTimeout&&clearTimeout(j.togglePlaceholderTimeout),j.scrollByPositionTimeout&&clearTimeout(j.scrollByPositionTimeout),j.anchorNodeClickTimeout&&clearTimeout(j.anchorNodeClickTimeout),j.fastIncorpTimout&&clearTimeout(j.fastIncorpTimout),j.editorDidUpdateTimeout&&clearTimeout(j.editorDidUpdateTimeout),j.fixViewTimeout&&clearTimeout(j.fixViewTimeout),j.getBoundAsyncTimeout&&clearTimeout(j.getBoundAsyncTimeout),j.handleKeyEventTimeout&&clearTimeout(j.handleKeyEventTimeout),j.paintFrameId&&cancelAnimationFrame(j.paintFrameId),j.updateActivationTimer&&clearTimeout(j.updateActivationTimer),j.range=null,delete j.docbody,delete j.dom}catch(e){j.log(e)}},j.destoryPlugins=function(){try{j.hook.callAll("reset",{editorInfo:j}),j.hook.callAll("destory",{editorInfo:j}),j.hook.callAll("destroy",{editorInfo:j}),j._pluginManager.destroy()}catch(e){console.error("editor hook destroy error",e)}},j.destoryLisenteners=function(){j._editorEventEmitter.reset()},j._performDocumentApplyChangeset=function(e,t,n,r,i,o){try{j.call("editorWillPerformChangeset",{cs:e,isRemote:i})}catch(e){console.error("editorWillPerformChangeset failed",e)}j.doRepApplyChangeset;var a=j.repManager,s=(j.domAndRepVectorsSplice,j.getAttributesOnSelection,j.getCurrentCallStack);j.plugins.sync&&j.plugins.sync.getMemberId();j.call(Oe,{cs:e,applyingNonUserchanges:i}),s().isCollabChangedSelection=t;var c=Hn(e,a.apool);j._memberId=n,j._contentState.apply(c,{isRemote:!!i,insertsAfterSelection:t,extra:o})},j._handleEditorSizeChange=function(){j.setRect(),Be(j.editor)},j._handleContentChange=function(e){e.deltaSet;var t=e.options,n=j.getAttributesOnSelection,r=j.getCurrentCallStack,i=j.selection.getSelection().start.zoneId,o=j.getRep();j.editor.inCallStackIfNecessary("changesetApply",function(){var e=r();e.domClean=!0,t.isRemote||j.editor.changesetTracker.composeUserChangeset(t._cs),j.hooks.callAll("changesetApply",{changeset:t._localCs,author:j.getAuthor()||"",memberId:j._memberId,callstack:e,editor:j,attribs:n(i,j.selection.getRealSelection(i,o)),isRemote:t.isRemote,extra:t.extra||{}}),j.triggerChangesetApplyAsync({zoneId:i,currentCallStack:e,changeset:t._localCs,isRemote:t.isRemote,extra:t.extra})}),j._memberId=null},j.triggerChangesetApplyAsync=Object(i.default)(function(t){j.inCallStackIfNecessary("changesetApplyAsync",function(){var e=t.zoneId;j.hooks.callAll("changesetApplyAsync",{changeset:t.changeset,author:j.getAuthor()||"",memberId:j._memberId,callstack:t.currentCallStack,editor:j,attribs:j.getAttributesOnSelection(e,j.selection.getRealSelection(e,j.editor.getRep())),isRemote:t.isRemote,extra:t.extra||{}})})},100),j.changesetUnpackedVectorsZoneClear=function(e,t){var n=j.getVectorsRep(t,e).vectorIds.length,r=j.changesetHelper.smartOpAssembler();return r.append({opcode:"-",attribs:"",lines:0,chars:n}),{itemType:e?"R":"C",oldLen:n,newLen:0,ops:r.toString(),charBank:[]}},j.addMagicInlineObjectIds=function(e){return j.changesetHelper.csMapPack(e,function(e,t){return t.ops=j.addMagicInlineObjectIdsToOps(t.ops,j.repManager.apool),t})},j.addMagicInlineObjectIdsToOps=function(e,t){for(var n=j.changesetHelper.smartOpAssembler(),r=j.changesetHelper.opIterator(e);r.hasNext();){var i=r.next(),o=j.changesetHelper.attribsToDict(i.attribs,t);if("-"!==i.opcode&&o.magicObject){if(0<i.lines)throw new Error("inlineMagicObject on newline");for(var a=0;a<i.chars;a++){var s=""+j.currentMagicObjectId++,c=j.changesetHelper.composeAttributes(i.attribs,j.changesetHelper.makeAttribsString(i.opcode,[["clientside-magicObjectId",s]],t),!1,t);n.append({lines:0,chars:1,opcode:i.opcode,attribs:c})}}else n.append(i)}return n.toString()},j.doRepApplyChangeset=function(e,t,n,r){var i=j.repManager,o=i.apool;j.changesetHelper.checkRep(e,o),j.changesetHelper.checkCSAppliesToRep(e,i.reps,j.vectorReps,n),j.hooks.callAll("willChangesetApply",{changeset:e,author:"",editor:j,isRemote:!!r})},j.editorDidUpdate=function(){j.togglePlaceHolder(),j.props.editorDidUpdate&&j.props.editorDidUpdate()},j.getBlockElement=function(){var e=window.getSelection();return j.getBlockElementByTarget(e.focusNode)},j.getBlockElementByTarget=function(e){for(var t=e instanceof Element?e:e&&e.parentElement;t&&t!==j.docbody;){if(t instanceof HTMLElement&&t.className.includes(Se))return t;t=t.parentElement}return null},j.domAndRepVectorsSplice=function(e,t,n,r,i){},j.initBrowserEnv=function(){var e,t=[];X.browser.isChrome&&t.push("chrome"),X.browser.firefox&&t.push("mozilla"),X.browser.safari&&t.push("safari"),X.browser.msie&&t.push("msie"),X.browser.windows&&t.push("window"),(e=j.docbody.classList).add.apply(e,W(t)),j.docbody.dataset.gramm="false"},j.addUniqueIdIntoHTML=function(e){if(!e)return e;var t=Q()((new DOMParser).parseFromString(e,"text/html").body);return t.children().first().attr("data-editor-unique-id",j.editorUniqueId),t.html()},j.setAttributesOnLineExcludeAttrs=function(e,t,n,r,i){void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=!1);var o=j.getAllAttributesOnLine(e,t);if(0===r.length||0===o.length)return j.setAttributesOnLine(e,t,n),!0;var a=i?_.default:function(e,t){return e[0]===t[0]};return!(0<Object(h.a)(r,o,a).length)&&(j.setAttributesOnLine(e,t,n),!0)},j.canSetAttributesOnLineExcludeAttrs=function(e,t,n,r){void 0===n&&(n=[]),void 0===r&&(r=!1);var i=j.getAllAttributesOnLine(e,t),o=r?_.default:function(e,t){return e[0]===t[0]};return!(0<Object(h.a)(n,i,o).length)},j.bindEditorEvent=function(){var e=j.getDocBody();X.browser.msie&&e.addEventListener("mousedown",j.mouseDownListenerForIE),X.browser.isMac&&(X.browser.isChrome||X.browser.safari)&&e.addEventListener("mousedown",j.mouseDownListenerForMac)},j.mouseDownListenerForIE=function(t){var e=["image-container-wrap","block-placeholder","mention-chat","card-border","spreadsheet-canvas"],n=0<e.filter(function(e){return"string"==typeof t.target.className&&t.target.className.includes(e)}).length,r=e.map(function(e){return"."+e}).join(", "),i=void 0!==Q()(t.target).closest(r)[0];t.target.querySelector(".image-container")&&(n||i)&&"TEXTAREA"!==t.target.tagName&&t.preventDefault()},j.isRangesHaveAttributeApplied=function(e,t,n,r,i){return void 0===n&&(n="true"),e.every(function(e){return j.allHasAttributeOnSelection(e.zoneId,t,n,e,r,i)})},j.allHasAttributeOnSelection=function(e,t,i,n,o,a){for(var s=j.changesetHelper,c=j.getRep(e),r=n||c,u=!0,l=function(){var e=[[t,i||"true"]];Array.isArray(o)&&(e=e.concat(o)),Array.isArray(a)&&(e=e.concat(a));var n="";e&&e.forEach(function(e){var t;e[1]||!1===e[1]?(t=s.makeAttribsString("+",[e],c.apool),n+=t.replace(/\*/g,"\\*")+"(\\*|$)|"):n+=e[0]+"|"}),n=n.substr(0,n.length-1);var r=new RegExp(n);return function(e){var t=s.parseAttributesFromOpAttribs(e,c.apool);return r.test(e)||t.some(function(e){return r.test(e[0])})}}(),d=j.selection.getRealFirstLine(c.zoneId,r),p=j.selection.getRealEndLine(c.zoneId,r),f=d;f<=p;f++){var h=s.opIterator(c.alines[f]),g=0;if(!j.isIgnoreThisAttributeOnLine(e,f,t)){var m=0;r.attributeManager.lineHasMarker(f)&&(m=1);for(var v=r.lines.atIndex(f).text.length;h.hasNext();){var y=h.next(),b=g,E=b+y.chars;if(r.attributeManager.isLineAttribs(t)){if(u=!1,l(y.attribs)){u=!0;break}}else if(!l(y.attribs)&&m<E&&b<v){u=!1;break}g=E}if(!u)break}}return u},j.correctCompositionIfNecessary=function(e){var t=["input","keyup","keydown","keypress","compositionstart","compositionend"],n=e.type,r=e.originalEvent;!0===j.getInInternationalComposition()&&(t.includes(n)?r&&!1===r.isComposing&&(j.dispatchCompositionEvent("compositionend"),j.log("dispatchCompositionEvent because eventType is "+n+" and isComposing is false")):(j.dispatchCompositionEvent("compositionend"),j.log("dispatchCompositionEvent because eventType is "+n)))},j.dispatchCompositionEvent=function(e){j.handleCompositionEvent(new zt(new CompositionEvent(e))),j.log("dispatchCompositionEvent",e)},j.handleEvent=function(e){var t=e.type;j.correctCompositionIfNecessary(e);var n,r=j.props[ge[t]];r&&!1===r(e)||((n=j[me[t]])&&n(e),e.originalEvent&&"historyUndo"===e.originalEvent.inputType?(e.preventDefault(),j.inCallStackIfNecessary("historyUndo",function(){j.doUndoRedo("undo"),j.selection._updateBrowserSelection()},{shouldIncorp:!0})):e.originalEvent&&"historyRedo"===e.originalEvent.inputType&&(e.preventDefault(),j.inCallStackIfNecessary("historyRedo",function(){j.doUndoRedo("redo"),j.selection._updateBrowserSelection()},{shouldIncorp:!0})))},j.mouseDownListenerForMac=function(r){var i=function(){document.removeEventListener("selectionchange",i);var e=j.selection.getSelection();if(e)try{var t=e.start,n=e.end;t.zoneId===n.zoneId&&t.line!==n.line&&(j.selection.setSelection({start:t,end:t}),j.selection._updateBrowserSelection())}catch(e){console.log("mouseDownListenerForMac error",r)}};r.button===he&&(document.addEventListener("selectionchange",i),setTimeout(function(){document.removeEventListener("selectionchange",i)},200))},j.unBindEvent=function(){var e=j.getDocBody();X.browser.msie&&e.removeEventListener("mousedown",j.mouseDownListenerForIE),X.browser.isMac&&(X.browser.isChrome||X.browser.safari)&&e.removeEventListener("mousedown",j.mouseDownListenerForMac)},j.getBoundAsync=function(e){j.getBoundAsyncTimeout=window.setTimeout(function(){e&&j.docbody&&e(j.docbody.getBoundingClientRect())},0)},j.togglePlaceHolder=function(){var e,t=j.props.placeholder,n=j.getDocBody();t&&n&&(e=j.getInnerText(),(X.browser.isIE?""===e:"\n"===e||j.isDocBodyEmpty())?n.setAttribute("data-placeholder",t):n.setAttribute("data-placeholder",""))},j.isDocBodyEmpty=function(){return!!j.docbody&&(1===j.docbody.childElementCount&&(1===j.docbody.children[0].childElementCount&&j.docbody.children[0].children[0].innerText===String.fromCharCode(8203)))},j.getInnerText=function(){return j.docbody?j.docbody.innerText||j.docbody.textContent:""},j.handleDrop=function(){j.docbody.dispatchEvent(new CompositionEvent("compositionend"))},j.handleRedoUndo=function(e,t,n,r){var i=j.getCurrentCallStack,o=j.performDocumentApplyChangeset,a=j.performSelectionChange,s=j.hook,c=j.selection,u=i(),l=u.editEvent.eventType;return u.startNewEvent(e),t&&o(t,void 0,void 0,r),n&&a(n.selZone,c.lineAndColumnFromChar(n.selZone,n.selStart),c.lineAndColumnFromChar(n.selZone,n.selEnd),n.selFocusAtStart),s.callAll("performUndoRedo",{which:e,backset:t}),u.startNewEvent(l,!0)},j.performDocumentReplaceSelection=function(e,t){var n=j.repManager,r=j.performDocumentReplaceRange,i=n.reps[e];i.selStart&&i.selEnd&&r(i.zoneId,i.selStart,i.selEnd,t)},j.doCreateDomLine=function(e){var t=!0;return j._domLine.createDomLine({nonEmpty:e,doesWrap:t,optBrowser:X.browser,optDocument:document,hooks:j.hook,formatterRenderer:j.formatterManager})},j._initialLineTracker=function(e){var t=j.getRep(e).alines;j.lineTracker.initTracker(e,t)},j.setEditStatus=function(e,t){j.setEditable(e,t)},j.findClosetList=function(e,t,n){for(var r=t,i="up",o=j.repManager,a=j.getLineListType,s=o.reps[e].lines.length(),c=[],u=a(e,t);0<=r-1&&j.compatibleList(e,r-1,n,i,c);)r--;for(r=t,u&&n&&c.push(r),i="down";r+1<=s&&j.compatibleList(e,r+1,n,i,c);)r++;return c},j.compatibleList=function(e,t,n,r,i){var o=/([a-z]+)([0-9]+)/,a=j.getLineListType,s=j.unNumberType,c=(j.repManager.reps[e],a(e,t));if(!c)return null;var u=o.exec(c);return"code"===n?s(u[1])||n!==u[1]?null:("up"===r?i.unshift(t):"down"===r&&i.push(t),!0):"oldNumber"!==n||"number"!==u[1]||j.editor.getContentState().getZoneState(e).getLine(t).getLineAttributes().toMap()["ol-id"]?null:("up"===r?i.unshift(t):"down"===r&&i.push(t),!0)},j.getEditStatus=function(){return j.editable},j.handleListTab=function(e,t,n){var r,i="indent",o=0;!e||(r=/([a-z]+)([0-9]+)/.exec(e))&&(i=e[1],o=Number(r[2]));var a=Math.max(0,Math.min(j.maxListLevel,o+(n?-1:1)));if(o!==a)return[t,0<a?i+a:""]},j.getHeadingLineNumIfNecessary=function(e){var t=j.lineTracker.collapseLines,n=null===t||void 0===t?void 0:t.getCollapsedStatusOfLine(be,e);return n&&n.renderCollapsed&&n.headerLineNum||e},j.doTabKey=function(e){var t=j.getRep().zoneId;j.doIndentOutdent(t,e)||(j.performDocumentReplaceSelection(t,fe),e.preventDefault())},j.doIndentOutdent=function(e,t,n,r){var i=j.getLineListType,o=j.handleCodeTab,a=j.getRep(e),s=t.shiftKey;if(n=n||a.selStart,r=r||a.selEnd,!(n&&r||n[0]===r[0]&&n[1]===r[1]&&1<r[1])&&!0!==s)return!1;var c=n[0],u=Math.max(c,r[0]-(0===r[1]?1:0));if(e!==be)return j.handleMultLineTab(e,c,u,s)&&(t.stopEvent(),t.nativeEvent.stopImmediatePropagation()),!0;var l,d=n[1]===a.lines.atIndex(c).lineMarker,p=c===u,f=a.attributeManager.getAttributeOnLine(c,"text-indent");return p&&-1<(l=i(e,c)).indexOf("code")?o(e,c,s):!d||!p||f||s||l?d&&p&&f&&s?a.attributeManager.removeAttributeOnLine(c,"text-indent"):j.handleMultLineTab(e,c,u,s):a.attributeManager.setAttributeOnLine(c,"text-indent","true"),!0},j.handleMultLineTab=function(r,e,t,n){for(var i=[],o=j.getRep(r),a=e;a<=t;a++){var s,c,u=j.getLineListType(r,a);if(r!==be&&""===u)return!1;-1<u.indexOf("code")?j.handleCodeTab(r,a,n):(s=void 0,-1<u.indexOf("number")&&((s=o.attributeManager.findAttributeOnLine(a,"ol-id"))||(s=j.getClosetListNumberId(r,u,o)||Object(X.getListNumberId)(),j.renumberList(r,a,"",s))),(c=j.handleListTab(u,a,n))&&(s&&c.push(s),i.push(c)))}return Object(E.a)(i,function(e){var t=e[0],n=o.lines.atIndex(t).lineNode;n&&-1<n.className.indexOf("IGNORE_LIST")||j.setLineListType(r,e[0],e[1],e[2])}),!0},j.handleCodeTab=function(e,t,n){var r,i,o=j.getRep(e),a=j.performDocumentReplaceRange;n?(r=/^\*(\s*)/.exec(o.lines.atIndex(t).text)[1].length)&&(i=4<=r?4:r,a(o.zoneId,[t,1],[t,i+1],"")):a(o.zoneId,[t,1],[t,1],fe)},j.handleListTab=function(e,t,n){var r="indent",i=0;(e=e&&/([a-z]+)([0-9]+)/.exec(e))&&(r=e[1],i=Number(e[2]));var o=Math.max(0,Math.min(j.maxListLevel,i+(n?-1:1)));if(i!==o)return[t,0<o?r+o:""]},j._getOlIdForNewList=function(e){var t=e.selEnd,n=e.attributeManager,r=t[0]+1;return"1"===n.findAttributeOnLine(r,"start")?n.findAttributeOnLine(t[0]+1,"ol-id"):void 0},j.deleteNumberList=function(e,t,n,r){void 0===n&&(n=[]);var i=e.getRep(),o=K(t||[i.selStart,i.selEnd],2),a=o[0],s=o[1],c=a[0],u=s[0],l=i.lines.atIndex(c);if(j.selection.isCaret()&&a[1]===l.lineMarker){var d=1<i.selStart[0]?e.getLineListType(i.zoneId,i.selStart[0]-1):"",p=i.selStart[0]<i.lines.length()?e.getLineListType(i.zoneId,i.selStart[0]+1):"";if(-1<d.indexOf("code")&&-1<p.indexOf("code"))return n.push(Number(i.selStart[0])),n}for(var f=c;f<=u;f++){var h,g,m=e.getLineListType(i.zoneId,f);-1===m.indexOf("code")?-1!==m.indexOf("number")&&((h=i.attributeManager.findAttributeOnLine(f,"ol-id"))&&!n.includes(h)?n.push(h):h||(g=Object(X.getListNumberId)(),e.renumberList(i.zoneId,f,g,!0),n.push(g))):n.push(Number(f))}return n},j}var ju=(Fu.prototype._setNode=function(e,t){this._deleteNode(e),this._deleteNode(t),this.NODE_TO_DOM.set(e,t),this.DOM_TO_NODE.set(t,e)},Fu.prototype._deleteNode=function(e){var t,n;e instanceof HTMLElement?((t=this.DOM_TO_NODE.get(e))&&this.NODE_TO_DOM.delete(t),this.DOM_TO_NODE.delete(e)):((n=this.NODE_TO_DOM.get(e))&&this.DOM_TO_NODE.delete(n),this.NODE_TO_DOM.delete(e))},Fu.prototype.getModel=function(e){var t,n=null===(t=this.editor.listView)||void 0===t?void 0:t._getModel;return n&&n(e)||this.DOM_TO_NODE.get(e)},Fu.prototype.getView=function(e){var t,n=null===(t=this.editor.listView)||void 0===t?void 0:t._getView;return n&&n(e)||this.NODE_TO_DOM.get(e)},Fu.prototype._setLeaf=function(e,t){this.DOM_TO_LEAF.set(e,t)},Fu.prototype._deleteLeaf=function(e){this.DOM_TO_LEAF.delete(e)},Fu.prototype.getLeafModel=function(e){return this.DOM_TO_LEAF.get(e)},Fu.prototype.destroy=function(){this.NODE_TO_DOM=new WeakMap,this.DOM_TO_NODE=new WeakMap,this.DOM_TO_LEAF=new WeakMap},Fu);function Fu(e){var t=e.editor;this.NODE_TO_DOM=new WeakMap,this.DOM_TO_NODE=new WeakMap,this.DOM_TO_LEAF=new WeakMap,this.editor=t}var Bu=new L.a,Uu=(Hu.prototype.insert=function(e,t){var n,r,i,o,a,s,c,u,l,d,p,f,h,g,m,v,y,b,E=this;e&&(i=e,this.isInMutate||this.enter(),this.mutatee.length()-1<this.originLine&&this.putCurLineInMutate(),-1<i.indexOf("\n")?(o=i.split("\n"),this.isCurLineInMutate()?(a=this.mutateInsert.length-1,(s=this.mutateInsert[a])._keepKey&&s!==this.mutatee.get(this.originLine)&&(s._keepKey=!1,s._refreshKey()),c=o.shift(),u=o.pop(),void 0!==c&&(y=(new cr).retain(this.curCol).insert(c,t).insertEnter(t),l=s.slice(0,this.curCol).compose(y),this.curCol&&l._setKey(s.getKey()),this.curLine++,this.mutateInsert[a]=l),o.length&&(g=o.map(function(e){return new pr((new cr).insert(e,t).insertEnter(t),s.parent)}),(n=this.mutateInsert).push.apply(n,W(g)),this.curLine+=o.length),void 0!==u&&(y=(new cr).insert(u,t),d=s.slice(this.curCol,s.length()).compose(y),u?this.mutateInsert.push(d):(p=this.mutatee.get(this.originLine))&&d.length()===p.length()&&Object(_.default)(d._getOps(),p._getOps())?(this.mutateInsert.push(p),p._keepEntry=!0):d.length()&&this.mutateInsert.push(d),this.curCol=u.length)):(h=(f=this.splitTextLines(i)).length,g=f.map(function(e){return new pr((new cr).insert(e,t),E.mutatee.get(0).parent)}),f[h-1].includes("\n")||(m=this.mutatee.get(this.originLine))&&(g[h-1]=m.compose(g[h-1]._getDelta()),this.curCol=f[h-1].length,this.curLine--,this.mutateDeleteCount+=1),(r=this.mutateInsert).push.apply(r,W(g)),this.curLine+=f.length)):(v=this.putCurLineInMutate(),y=(new cr).retain(this.curCol).insert(i,t),(b=this.mutateInsert[v].compose(y))._setKey(this.mutateInsert[v].getKey()),b._keepKey=!0,this.mutateInsert[v]=b,this.curCol+=i.length))},Hu.prototype.retain=function(e,t){if(e){var n=this.getLineAndCol(e),r=n.line,i=n.col;if(r>this.originLine)return this.retainLines(r-this.originLine,t),void(i&&this.retainChars(i,t));e&&this.retainChars(e,t)}},Hu.prototype.retainChars=function(e,t){var n,r,i;t&&(this.isInMutate||this.enter()),this.isInMutate&&(this.putCurLineInMutate(),n=this.mutateInsert.length-1,r=this.mutateInsert[n],i=(new cr).retain(this.curCol).retain(e,t),this.mutateInsert[n]=new pr(r._getDelta().compose(i,!1),r.parent),this.mutateInsert[n]._setKey(r.getKey())),this.curCol+=e,this.originCol+=e},Hu.prototype.delete=function(e){if(e){var t=this.getLineAndCol(e),n=t.line,r=t.col;if(n>this.originLine)return this.deleteLines(n-this.originLine),void(r&&this.deleteChars(r));e&&this.deleteChars(e)}},Hu.prototype.close=function(){this.leave()},Hu.prototype.getLineAndCol=function(e){for(var t=0,n=this.originLine,r=this.originCol,i=this.mutatee.length(),o=n;o<i;o++){var a=this.mutatee.get(o).length();if(t<=e+r&&e+r<t+a)return{line:o,col:e-t+r};t+=a}return t===e+r?{line:i,col:0}:(console.warn("can not find the correct line and col"),{line:-1,col:-1})},Hu.prototype.deleteLines=function(e){var t,n,r,i;this.isInMutate||this.enter(),this.isCurLineInMutate()?0===this.curCol?(this.mutateDeleteCount+=e-1,this.originLine+=e,this.mutateInsert.pop()):(t=this.nextKLinesObject(e-1),this.mutateDeleteCount+=e,this.originLine+=e,n=this.mutateInsert.length-1,r=this.mutateInsert[n],(i=t.compose(r.slice(0,this.curCol)._getDelta()))._setKey(r.getKey()),this.mutateInsert[n]=i):(this.originLine+=e,this.mutateDeleteCount+=e),this.originCol=0},Hu.prototype.deleteChars=function(e){this.isInMutate||this.enter();var t=this.putCurLineInMutate(),n=this.mutateInsert[t],r=(new cr).retain(this.curCol).delete(e),i=n.compose(r);i._setKey(n.getKey()),this.mutateInsert[t]=i,this.originCol+=e},Hu.prototype.nextKLinesObject=function(e){var t=this.mutateStart+this.mutateDeleteCount;return this.mutatee.get(t+e)},Hu.prototype.retainLines=function(e,t){if(t){var n,r,i,o;this.curCol&&(n=this.curCol,this.curCol=0,this.isInMutate||this.enter(),this.putCurLineInMutate(),r=this.mutateInsert.length-1,i=this.mutateInsert[r],o=(new cr).retain(n).retain(i.length()-n,t),this.mutateInsert[r]=new pr(i._getDelta().compose(o,!1),i.parent),this.mutateInsert[r]._setKey(i.getKey()),this.originLine++,this.curLine++,e--),this.curCol=0,this.isInMutate||this.enter();for(var a=0;a<e;a++)this.curLine++,this.originLine++,this.putCurLineInMutate(t);this.originCol=0}else this.curLine+=e,this.originLine+=e,this.curCol=0,this.originCol=0,this.isInMutate&&this.leave()},Hu.prototype.putCurLineInMutate=function(e){var t,n,r=this.mutatee.get(this.mutateStart+this.mutateDeleteCount);return e&&r&&(t=(new cr).retain(r.length(),e),(n=new pr(r._getDelta().compose(t,!1),r.parent))._setKey(r.getKey()),r=n),!this.isCurLineInMutate()&&r?(this.mutateInsert.push(r),this.mutateDeleteCount++):e&&r&&(this.mutateInsert[this.mutateInsert.length-1]=r),this.curLine-this.mutateStart},Hu.prototype.enter=function(){this.isInMutate=!0,this.mutateStart=this.curLine,this.mutateDeleteCount=0,this.mutateInsert=[],this.originLine=this.curLine,0<this.curCol&&this.putCurLineInMutate()},Hu.prototype.leave=function(){var e=this.mutateInsert.length;(0<this.mutateDeleteCount||0<e)&&(this.removeLastLineIfNecessary(),this.mutatee.splice(this.mutateStart,this.mutateDeleteCount,this.mutateInsert)),this.mutateStart=this.curLine,this.originLine=this.curLine,this.mutateDeleteCount=0,this.mutateInsert=[]},Hu.prototype.removeLastLineIfNecessary=function(){var e;this.mutateInsert.length&&(e=this.mutateInsert.length-1,this.mutateInsert[e]._getOps().length||this.mutateInsert.splice(e))},Hu.prototype.splitTextLines=function(e){return e.match(/[^\n]*(?:\n|[^\n]$)/g)},Hu.prototype.isCurLineInMutate=function(){return this.curLine-this.mutateStart<this.mutateInsert.length},Hu);function Hu(e){this.curLine=0,this.curCol=0,this.originLine=0,this.originCol=0,this.mutateStart=0,this.mutateDeleteCount=0,this.mutateInsert=[],this.isInMutate=!1,this.mutatee=e}var zu=(Vu.prototype.insert=function(e,t){var n=e,r=(r=this.mutatee.get(0))||new pr(this.createDelta(),this.mutatee.getParent()),i=this.createDelta().retain(this.mutateStart).insert(n.id,t),o=r.compose(i);this.mutatee.splice(0,1,[o]),this.mutateStart+=It({insert:n})},Vu.prototype.retain=function(e,t){var n,r;t&&(n=this.createDelta().retain(this.mutateStart).retain(e,t),r=this.mutatee.get(0).compose(n),this.mutatee.splice(0,1,[r])),this.mutateStart+=e},Vu.prototype.delete=function(e){var t=this.createDelta(),n=this.mutatee.get(0).compose(t.retain(this.mutateStart).delete(e));this.mutatee.splice(0,1,[n])},Vu.prototype.createDelta=function(){var e=this.mutatee.getZoneType(),t=this.mutatee.getZoneId();return new("R"===e?nr:or)({zoneId:t})},Vu.prototype.close=function(){},Vu);function Vu(e){this.mutatee=e,this.mutateStart=0,this.mutatee=e}var Ku=(Gu.register=function(e,t){Gu.mutators[e]=t},Gu.prototype._updateLineStateInfos=function(){var r=this,i=0;this.lines.forEach(function(e,t){var n=i+e.length();e._setOffset(i,n),e._setIndex(t),e.parent=r,i=n})},Gu.prototype.getType=function(){return this.type},Gu.prototype.slice=function(e,t){for(var n=e.line,r=e.offset,i=t.line,o=t.offset,a=this._cloneEmptyState(),s=n;s<=i;s++){var c=this.lines[s],u=void 0,u=n===i?c.slice(r,o):s===n?c.slice(r,c.length()):s===i?c.slice(0,o):c.slice(0,c.length());a._content=a._content.concat(u._getDelta()),a.lines.push(u)}return a._updateLineStateInfos(),a},Gu.prototype._splice=function(e,t,n){var r;(r=this.lines).splice.apply(r,W([e,t],n))},Gu.prototype.clone=function(){for(var e=this._cloneEmptyState(),t=0,n=this.lines.length;t<n;t++)e.lines.push(this.lines[t].clone());return e},Gu.prototype.getLine=function(e){return this.lines[e]||null},Gu.prototype.getLineIndexOfKey=function(e){for(var t=0,n=this.lines.length;t<n;t++)if(e===this.lines[t].getKey())return t;return-1},Gu.prototype.getLineByKey=function(e){var t,n;try{for(var r=V(this.lines),i=r.next();!i.done;i=r.next()){var o=i.value;if(e===o.getKey())return o}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return null},Gu.prototype.getEntities=function(e,t,n){var r=[],i=this;if(e instanceof Array)for(var o=0;o<i.length();o++){var a=i.getLine(o);r.push.apply(r,W(a.getEntities(e,t,n)))}else for(var s=e.start,c=s.line,u=s.offset,l=e.end,d=l.line,p=l.offset,o=c;o<=d;o++){var a=i.getLine(o),f=o===c?u:0,h=o===d?p:a.length();r.push.apply(r,W(a.getEntities({start:f,end:h},t,n)))}return r},Gu.prototype.length=function(){return this.lines.length},Gu.prototype.getZoneId=function(){return this._content.zoneId},Object.defineProperty(Gu.prototype,"content",{get:function(){var e=this._content,t=e.zoneId,n=e.zoneType,r=[];return this.lines.forEach(function(e){e._getOps().forEach(function(e){r.push(e)})}),this._content.create({zoneId:t,zoneType:n,ops:r})},enumerable:!0,configurable:!0}),Gu.prototype.getContent=function(){return this.content},Gu.prototype.isEmpty=function(){return 1===this.length()&&this.getLine(0).isEmpty()},Gu.prototype.apply=function(e,i){var t=this,o=this.lines.slice(0),n=e.zoneType,r=Gu.mutators[n];if(!r)throw new Error("can not find zoneType of "+n+", you need call ZoneState.register("+n+") before apply");var a=new r({getParent:function(){return t},getZoneId:function(){return t.getZoneId()},getZoneType:function(){return n},splice:function(e,t,n){var r=o.slice(e,e+t);o.splice.apply(o,W([e,t],n)),i(e,r,n)},length:function(){return o.length},get:function(e){return o[e]},map:function(r){return o.map(function(e,t,n){return r(e,t,n)})}});e.forEach(function(e){e.delete?a.delete(e.delete):e.retain?a.retain(e.retain,e.attributes):e.insert&&a.insert(e.insert,e.attributes)}),a.close();var s=this._cloneEmptyState();return s.lines=o,s._updateLineStateInfos(),s.parent=this.parent,s},Gu.prototype._cloneEmptyState=function(){var e=this._content.create({zoneType:this.type,zoneId:this.zoneId}),t=new Gu(this.getZoneId(),e);return t.type=this.type,t.zoneId=this.zoneId,t},Gu.prototype[Symbol.iterator]=function(){return this.lines.values()},Gu.prototype._setLine=function(e,t){this.lines[e]=t},Gu.prototype._setParent=function(e){this.parent=e},Gu.prototype._getZoneDelta=function(){return this.content},Gu.prototype._indexOf=function(e){return e?e.index:0},Gu.prototype.offsetToLocation=function(e){return this.offsetToPoint(e)},Gu.prototype.locationToOffset=function(e){return this.pointToOffset(e)},Gu.prototype.pointToOffset=function(e){var t=e.line,n=e.offset;return this.lines[t]._offsetStart+n},Gu.prototype.offsetToPoint=function(e){var t=Wu(e,0,this.lines.length,this.lines);if(null===t)return{line:0,offset:0};var n=this.lines[t];return e===n._offsetEnd&&t!==this.lines.length-1?{line:t+1,offset:0}:{line:t,offset:e-n._offsetStart}},Gu.prototype.totalWidth=function(){return this.lines.reduce(function(e,t){return e+t.length()},0)},Gu.mutators={},Gu);function Gu(e,t){var n=this;void 0===e&&(e=""),this.zoneId=e,this.lines=[],this.parent=null,this._content=t.create({zoneId:e,ops:t.ops}),this.lines=[],this._content.eachLine(function(e){var t=new pr(e,n);n.lines.push(t)}),this._updateLineStateInfos(),this.type=t.zoneType}function Wu(e,t,n,r){var i=Math.floor((t+n)/2);return n<t||e>r[r.length-1]._offsetEnd||e<0?null:e>=r[i]._offsetStart&&e<=r[i]._offsetEnd?i:e>r[i]._offsetEnd?Wu(e,i,n,r):e<r[i]._offsetStart?Wu(e,t,i,r):void 0}Ku.register("Z",Uu),Ku.register("R",zu),Ku.register("C",zu);var Yu,qu,Zu=(Xu.prototype.getContent=function(){return this.content},Xu.prototype.setActiveZone=function(e){this.getZoneState(e)&&(this.activeZoneId=e)},Xu.prototype.getActiveZone=function(){return this.getZoneState(this.activeZoneId)},Xu.prototype[Symbol.iterator]=function(){return this.content.values()},Xu.prototype.getEntities=function(e,t){var n,r,i,o,a=[];return e instanceof Array?(n=this.getZoneState(be),a.push.apply(a,W(n.getEntities(e,t,this._getTableEntities)))):(e instanceof Function&&(t=e,e={start:{line:0,offset:0,zoneId:"0"},end:{line:r=(n=this.getZoneState(be)).length()-1,offset:n.getLine(r).length(),zoneId:"0"}}),i=e.start.zoneId,o=this.getZoneState(i),a.push.apply(a,W(o.getEntities(e,t,this._getTableEntities)))),a},Xu.prototype.tryCheckData=function(e){var n=this;try{e.forEach(function(e,t){var r,i;e.zoneType!==gt.Column&&e.zoneType!==gt.Row||(r={},i={},n.getZoneState(t).getContent().forEach(function(e){var t,n=null===(t=null===e||void 0===e?void 0:e.insert)||void 0===t?void 0:t.id;r[n]=!0}),e.forEach(function(e){var t,n=null===(t=null===e||void 0===e?void 0:e.insert)||void 0===t?void 0:t.id;if(n){if(r[n]||i[n])throw console.warn("table row col repeat",n,r,i),new Error("table row col repeat");i[n]=!0}}))})}catch(e){console.error(e),console.log("contentState tryCheckData error stack",e.stack),Object(X.trace)("contentState_check_data_error")}},Xu.prototype.apply=function(e,t){var n,o=this;void 0===t&&(t={});var r=e instanceof lr?e:new lr(((n={})[e.zoneId]=e,n));t.isRemote||!1===t.normalize||(r=gn(this,this.schema,r));var i=this._clone();if(r.forEach(function(e){e.forEach(function(e){e.attributes&&(e.attributes=F(F({},o.storeAttributes),e.attributes))})}),this._willChangeCbk)try{r=this._willChangeCbk({current:this,next:this,deltaSet:r,options:t})}catch(e){console.error(e),console.log("contentState _willChangeCbk error stack",e.stack),Object(X.trace)("contentState _willChangeCbk error")}var a={};try{this.tryCheckData(r),r.forEach(function(e){var t,i=e.zoneId,n=o.getZoneState(i);n?(t=n.apply(e,function(e,t,n){var r={start:e,deletes:t,inserts:n};a[i]?a[i].push(r):a[i]=[r],mn(n)?o._onZoneMutate(i,e,t,n):o._errorCbk(new Error(""),"slab","[zoneState]",-1e3)}),o.content.set(i,t)):n=o.addZone(i,e)}),this._clearStoreAttributes()}catch(e){this._errorCbk(e,"slab","contentState apply error",-1e3),console.error(e),console.log("contentState apply error stack: ",e.stack),Object(X.trace)("contentState apply error")}try{var s=this._fixChanges(a);this._changeCbk&&this._changeCbk({previous:i,current:this,deltaSet:r,changes:s,options:t})}catch(e){console.error(e),console.log("contentState _changeCbk error",e.stack),Object(X.trace)("contentState _changeCbk error")}},Xu.prototype._fixChanges=function(n){var t,e,r={},i=function(e){var t=n[e],o=0;r[e]=t.map(function(e){var t=e.start,n=e.deletes,r=e.inserts,i={start:t+o,deletes:n,inserts:r};return o+=n.length-r.length,i})};try{for(var o=V(Object.keys(n)),a=o.next();!a.done;a=o.next())i(a.value)}catch(e){t={error:e}}finally{try{a&&!a.done&&(e=o.return)&&e.call(o)}finally{if(t)throw t.error}}return r},Xu.prototype._clone=function(e){var t,n,r=new Map;try{for(var i=V(this.content),o=i.next();!o.done;o=i.next()){var a=K(o.value,2),s=a[0],c=a[1];r.set(s,c.clone())}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}var u=new Xu({apool:e?this._attributes.toJsonable():this._attributes,schema:this.schema});return u.content=r,u._changeCbk=this._changeCbk,u._willChangeCbk=this._willChangeCbk,u},Xu.prototype.slice=function(e,t){var s=this,n=e.zoneId;if(n!==t.zoneId)return console.error("zoneId not equal"),null;var r=this.content.get(n);if(!r)return null;var c=new Xu({apool:this._attributes.toJsonable(),schema:this.schema}),i=r.slice(e,t);return c.content.set(n,i),"0"===n&&i.getEntities([["aceTable",void 0]]).forEach(function(e){var t=K(e.attributes.aceTable.split(" "),2),n=t[0],r=t[1];c.content.set(n,s.getZoneState(n)),c.content.set(r,s.getZoneState(r));var i=s._getRowColIds(n,r),o=i.rowIds,a=i.colIds;o.forEach(function(n){a.forEach(function(e){var t="x"+n+"x"+e;c.content.set(t,s.getZoneState(t))})})}),c},Xu.prototype.onChange=function(e){this._changeCbk=e},Xu.prototype.onWillChange=function(e){this._willChangeCbk=e},Xu.prototype._onMutate=function(e){this._onMutateCbk=e},Xu.prototype._onRefresh=function(e){this._refreshCbk=e},Xu.prototype._onError=function(e){this._errorCbk=e},Xu.prototype.getAttributes=function(e,t){var n,r,i,o,a=e.zoneId,s=this.getZoneState(a).getEntities({start:e,end:t},void 0,this._getTableEntities),c=qt();if(!s||!s.length)return c;try{for(var u=V(s),l=u.next();!l.done;l=u.next()){var d=l.value.attributes;if(d)try{for(var p=(i=void 0,V(Object.entries(d))),f=p.next();!f.done;f=p.next()){var h=K(f.value,2),g=h[0],m=h[1];c.push([g,String(m)])}}catch(e){i={error:e}}finally{try{f&&!f.done&&(o=p.return)&&o.call(p)}finally{if(i)throw i.error}}}}catch(e){n={error:e}}finally{try{l&&!l.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}return c},Xu.prototype.getLineAttributes=function(e,t){var n=this.getZoneState(e).getLine(t);return n?n.getLineAttributes():qt()},Xu.prototype.getZoneState=function(e){return this.content.get(e)},Xu.prototype._dangerouslyReplaceAttribute=function(n,r,i,o){var t,e,a,s;try{for(var c=V(this),u=c.next();!u.done;u=c.next()){var l=u.value;try{for(var d=(a=void 0,V(l)),p=d.next();!p.done;p=d.next())p.value._getDelta().forEach(function(e){var t;(null===(t=e.attributes)||void 0===t?void 0:t[n])===r&&(delete e.attributes[n],e.attributes[i]=o)})}catch(e){a={error:e}}finally{try{p&&!p.done&&(s=d.return)&&s.call(d)}finally{if(a)throw a.error}}}}catch(e){t={error:e}}finally{try{u&&!u.done&&(e=c.return)&&e.call(c)}finally{if(t)throw t.error}}},Xu.prototype.setAttributes=function(e,t,n){void 0===n&&(n={});var r,i,o=e.start.zoneId;o===e.end.zoneId?(r=this.rangeToPosition(e),i=new cr({zoneId:o}).retain(r.start).retain(r.len,t),this.apply(i,n)):console.error("zoneId not equal")},Xu.prototype.setLineAttributes=function(e,t,n,r){var i;void 0===r&&(r={});var o,a,s,c=null===(i=this.content.get(e))||void 0===i?void 0:i.getLine(t);c&&(o={line:t,offset:0,zoneId:e},a=this.rangePointToOffset(o),(s=new cr({zoneId:e})).retain(a),c.hasLineMarker()?s.retain(1,n):s.insertLineMarker(n),this.apply(s,r))},Xu.prototype.addZone=function(e,t){if(this.content.get(e))return console.error("zoneId "+e+" existed"),null;var n=t||new cr({zoneId:e}).insertEnter(),r=new Ku(n.zoneId,n);return this.content.set(e,r),r},Xu.prototype.removeZone=function(e){this.content.get(e)&&this.content.delete(e)},Xu.prototype.hasLineMarker=function(e){var t,n,r=e.line,i=e.zoneId;return!(null===(n=null===(t=this.content.get(i))||void 0===t?void 0:t.getLine(r))||void 0===n||!n.hasLineMarker())},Xu.prototype.isLineStart=function(e){return this.hasLineMarker(e)?1===e.offset:0===e.offset},Xu.prototype.deleteText=function(e,t){void 0===t&&(t={});var n=this.rangeToPosition(e),r=n.start,i=n.len,o=n.zoneId,a=this.getZoneState(o).getContent().length(),s=i;a-1<=r+i&&(s=a-r-1,console.warn("auto correct when delete too many texts",i,a));var c=new cr({zoneId:o}).retain(r).delete(s);return this.apply(c,t),c},Xu.prototype.insertText=function(e,t,n,r){void 0===n&&(n={}),void 0===r&&(r={});var i=this.rangePointToOffset(e),o=new cr({zoneId:e.zoneId}).retain(i);return this.assertPointAfterLineMarker(e),this.addLineMarkerAfterEnter({text:t,attributes:n,delta:o}),this.apply(o,r),o},Xu.prototype.replaceText=function(e,t,n,r){void 0===n&&(n={}),void 0===r&&(r={});var i=this.rangeToPosition(e),o=i.start,a=i.len,s=i.zoneId,c=new cr({zoneId:s}).retain(o).delete(a);return this.assertPointAfterLineMarker(e.start),this.addLineMarkerAfterEnter({text:t,attributes:n,delta:c}),this.apply(c,r),c},Xu.prototype.rangeToPosition=function(e){var t=e.start,n=e.end,r=this.rangePointToOffset(t);return{start:r,len:this.rangePointToOffset(n)-r,zoneId:t.zoneId}},Xu.prototype.rangePointToOffset=function(e){var t=e.zoneId,n=e.line,r=e.offset;return this.getZoneState(t).pointToOffset({line:n,offset:r})},Xu.prototype.addLineMarkerAfterEnter=function(e){var t=e.text,n=e.attributes,r=e.delta,i=t.split(Et);return i.forEach(function(e,t){i[t+1]?r.insert(e,n).insertEnter(n).insertLineMarker(n):r.insert(e,n)}),r},Xu.prototype.assertPointAfterLineMarker=function(e){if(this.hasLineMarker(e)&&0===e.offset)throw new Error("Cannot insertText at the offset 0 of line,  because there is a lineMarker")},Xu.prototype._setStoreAttributes=function(e,t){this.storeAttributes[e]=t},Xu.prototype._getStoreAttributes=function(e){return e?this.storeAttributes[e]:this.storeAttributes},Xu.prototype._clearStoreAttributes=function(){this.storeAttributes={}},Xu.prototype._forceRefresh=function(e,t){for(var n=this.getZoneState(e),r=0;r<t.length;r++){var i=t[r],o=n.getLine(i),a=o.slice(0,o.length());n._splice(i,1,[a])}this._refreshCbk&&this._refreshCbk({zoneId:e,lineArr:t})},Xu);function Xu(e){var v=this,t=e.deltaSet,n=e.apool,r=e.schema;this.content=new Map,this.activeZoneId=be,this.storeAttributes={},this._getRowColIds=function(e,t){var n,r,i,o,a=v.getZoneState(e),s=v.getZoneState(t);if(!a||!s)return{rowIds:[],colIds:[]};var c=a.getLine(0),u=s.getLine(0),l=[],d=[];if(!c||!u)return{rowIds:l,colIds:d};try{for(var p=V(c),f=p.next();!f.done;f=p.next())(h=Pt(f.value))&&l.push(h)}catch(e){n={error:e}}finally{try{f&&!f.done&&(r=p.return)&&r.call(p)}finally{if(n)throw n.error}}try{for(var h,g=V(u),m=g.next();!m.done;m=g.next())(h=Pt(m.value))&&d.push(h)}catch(e){i={error:e}}finally{try{m&&!m.done&&(o=g.return)&&o.call(g)}finally{if(i)throw i.error}}return{rowIds:l,colIds:d}},this._getTableEntities=function(e,t,a,s){void 0===a&&(a=[]);var n=v._getRowColIds(e,t),r=n.rowIds,i=n.colIds,c=[];return r.forEach(function(o){i.forEach(function(e){var t,n,r="x"+o+"x"+e,i=v.getZoneState(r);i?c.push.apply(c,W(i.getEntities(a,s))):(t=new cr({zoneId:r,ops:[{insert:"\n"}]}),n=new Ku(r,t),c.push.apply(c,W(n.getEntities(a,s))))})}),c},this._onZoneMutate=function(e,t,n,r){v._onMutateCbk&&v._onMutateCbk(e,t,n,r)},this.schema=r,this._attributes=n instanceof En?n:n?(new En).fromJsonable(n):new En,null!==t&&void 0!==t&&t.forEach(function(e){v.content.set(e.zoneId,new Ku(e.zoneId,e)),n||e.forEach(function(e){e.attributes&&v._attributes.setAttributes(e.attributes)})})}(qu=Yu=Yu||{}).LEAF="leaf",qu.LINE="line",qu.ROOT="root";var Qu="application/x-editor-kit-fragment",Ju={underline:"u",bold:"b",blockquote:"blockquote",italic:"i",strikethrough:"s"},$u="ignore-collect";function el(e,i,c){var o=new lr;return e.forEach(function(e,t){var n,r;o=t===i?(n=e.create({zoneId:t}),r=e.reduce(function(e,t){var n;if(!t.insert||null!==(n=t.attributes)&&void 0!==n&&n.lmkr)return e.push(t);var r=F(F({},t.attributes),c);if("string"!=typeof t.insert)e.insert(t.insert.id,r);else for(var i=t.insert,o="";0<i.length;){var a=i.includes("\n"),s=i.split("\n",1)[0],o=i.substring(s.length+1),i=s;e.insert(i,r),i=o,a&&e.insertEnter(t.attributes)}return e},n),o.concat(r)):o.concat(e)}),o}function tl(e,n,o){var r=new lr;return e.forEach(function(e,t){var i;r=t===n&&e instanceof cr?(i=new cr({zoneId:t}),e.eachLine(function(e){e.ops.forEach(function(e,t){var n,r;0===t?(r=null!=(n=e.attributes)?n:{},Vn(e)?i.insert("*",F(F({},r),o)):i.insertLineMarker(o).push(e)):i.push(e)})}),r.concat(i)):r.concat(e)}),r}function nl(e,t){for(var n="",r=e.ops.length-1;0<=r&&n.length<t.length;--r){var i=e.ops[r];if("string"!=typeof i.insert)break;n=i.insert+n}return n.slice(-1*t.length)===t}function rl(e,t){for(var n="",r=0;r<e.ops.length&&n.length<t.length;r++){var i=e.ops[r];if("string"!=typeof i.insert)break;n+=i.insert}return n.slice(0,t.length)===t}function il(e,s,c){return e.reduce(function(e,t){var a=t.attributes;if(!a||!t.insert)return e.push(t);var n=Object.keys(a).reduce(function(e,t){var n,r,i,o=a[t];return s({key:t,value:o})?(r=(n=c({key:t,value:o})).key,i=n.value,e[r]=i):e[t]=o,e},{});return e.insert(t.insert,n),e},e.create({zoneId:e.zoneId,zoneType:e.zoneType}))}function ol(e,t){var n=e.type,r=e.node,i=e.op,o=t.tagAttribute;if(n===Yu.LEAF&&i&&i.attributes&&i.attributes[o]){var a=t.wrapTag||Ju[o],s=document.createElement(a);return s.appendChild(r),Object.assign(e,{node:s})}return e}function al(e,t){var n=e.type,r=e.node,i=e.lineAttributes,o=t.tagAttribute,a=i&&i[o];if(n===Yu.LINE&&a){var s=t.wrapTag||Ju[o]||a,c=document.createElement(s);return c.appendChild(r),Object.assign(e,{node:c})}return e}function sl(e){var t=document.createElement("div");return t.appendChild(e),t.innerHTML}function cl(n){try{Array.from(n.querySelectorAll("style")).forEach(function(e){var t;e.textContent&&/\}?(\S+)\s*{.*?white-space\s*:\s*pre.*?}/.test(e.textContent)&&(t=/\}?(\S+)\s*{.*?white-space\s*:\s*pre.*?}/.exec(e.textContent.replace(/<!--.*?-->/,"")),Array.from(n.querySelectorAll(t[1])).forEach(function(e){e instanceof HTMLElement&&(e.style.whiteSpace="pre")}))})}catch(e){console.error(e),Object(X.trace)("parse style tag error")}var e=["."+$u,".ignore-dom","style","script"];Array.from(n.querySelectorAll(e.join(","))).forEach(function(e){e.innerHTML=""}),t=n,Array.from(t.childNodes).forEach(function(e){var t;e.nodeType!==Node.TEXT_NODE&&e.nodeType!==Node.ELEMENT_NODE&&null!==(t=e.parentNode)&&void 0!==t&&t.removeChild(e)});var t}function ul(r){var i=null;return Object.keys(r.deltas).forEach(function(e){var n,t=r.get(e);t instanceof cr&&!i&&(n=!1,t.forEach(function(e){var t;(null===(t=e.attributes)||void 0===t?void 0:t.zoneId)&&!i&&(n=!0)}),n&&(i=t.zoneId))}),i}function ll(e,t){var n={WHOLE_DOCUMENT:!!e.match(/<html[^>]*>/),RETURN_DOM:!1,RETURN_DOM_FRAGMENT:!1},r=Object.assign({},t.config,n);return N.a.sanitize(e,r)}function dl(e){return e.replace(/<(?:img|iframe)[^>]*(data-no-request-)src=[^>]*>/g,function(e,t){return e.replace(t,"")})}function pl(e,r,t){var n,i,o,a=e.toPosition(),s=a.start,c=a.len,u=a.zoneId;if(!r.hasLineMarker())return(new lr).concat(new cr({zoneId:u}).retain(s).delete(c)).concat(t);var l=!(null===(o=null===(i=null===(n=t.get(u))||void 0===n?void 0:n.ops[0])||void 0===i?void 0:i.attributes)||void 0===o||!o.lmkr),d=r.hasLineMarker()&&1===e.start.offset;if(l&&d){var p=new cr({zoneId:u}),f=r.slice(0,e.start.offset),h=f._getOps().slice(1),g=t.reduce(function(e,t){if(t.zoneId!==u||!(t instanceof cr))return e.concat(t);var n=r._getOps()[0].attributes;return p.insertLineMarker(F(F({},n),t.ops[0].attributes)),h.forEach(function(e){return p.push(e)}),t.ops.slice(1).forEach(function(e){return p.push(e)}),e.concat(p)},new lr),m=new cr({zoneId:u}).retain(s-f.length()).delete(c+f.length());return(new lr).concat(m).concat(g)}return(new lr).concat(new cr({zoneId:u}).retain(s).delete(c)).concat(t)}var fl=(hl.isBlob=function(e){var t=e.types,n=e.files,r=1===t.length&&n&&n.length,i=2===t.length&&t.includes("text/plain")&&t.includes("Files"),o=2===t.length&&t.includes("text/html")&&t.includes("Files"),a=X.browser.isSafari&&t.includes("Files")&&t.includes("text/uri-list");return r||i||o||a},hl.prototype.callHook=function(e,t,n){void 0===n&&(n={});var r,i=!1,o=function(){i=!0};n.canPrevent&&(t.preventDefault=o),n.pickKey&&(r=function(e,t){return t&&(e[n.pickKey]=t),e});var a=this.editor._pluginManager.call(e,t,r);return F(F({},a),{defaultPrevented:i})},hl.prototype.onPaste=function(e){var t=e.clipboardData;if(t){var n,r=new Yr(e,e.target),i=null,o=t.getData(Qu),a=/data-editor-unique-id="([0-9a-zA-Z]+)"/;o?(i=pt(o))&&(n=i.editorUniqueId):t.types.includes("text/html")&&a.test(t.getData("text/html"))&&(n=a.exec(t.getData("text/html"))[1]),this.updatePasteInfo(n);try{this.editor._triggerEditorEvent(mr.PASTE,r)}catch(e){console.error("Warning: call paste event failed.",e)}if(!r.isDefaultPrevented()){var s={text:t.getData("text/plain"),types:t.types,files:hl.isBlob(t)?t.files:void 0};if(i){var c=i.deltas;return this.applyPaste(e,new lr(c),F(F({},s),{isInternalPaste:!0}))}var u,l=this.normalizeClipboardData(e),d=l.node,p=l.defaultPrevented,f=l.clipboardHasElement;p||(u=this.deserialize(F({node:d},s),f),console.log("paste node is:",d),this.applyPaste(e,u,F(F({},s),{isInternalPaste:!1})))}}},hl.prototype.updatePasteInfo=function(e){e===this.editor.editorUniqueId?this.pasteTimes++:(this.editor.clipboard.from=null,this.pasteTimes=0)},hl.prototype.getPasteInfo=function(){return{pasteFrom:this.editor.clipboard.from,pasteTimes:this.pasteTimes}},hl.prototype.normalizeClipboardData=function(e){var t=e.clipboardData,n=t.types,r=t.files,i=e.clipboardData.getData("text/html"),o=e.clipboardData.getData("text/plain"),a=ll(i,this.editor.domPurifyConfig),s=(new DOMParser).parseFromString(a,"text/html").body,c=!!s.firstElementChild;cl(s);var u={UNSAFE_HTML:a,node:s,text:o,files:r},l=this.callHook("UNSAFE_editorNormalizePasteNode",{types:n,data:u,event:e},{canPrevent:!0});return{node:u.node,defaultPrevented:l.defaultPrevented,clipboardHasElement:c}},hl.prototype.applyPaste=function(e,t,n){e.preventDefault();var r,i,o,a,s,c,u,l,d,p,f=this.editor,h=f.selection.getSelection(),g=h.start,m=g.zoneId,v=g.line,y=f.getContentState().getZoneState(m).getLine(v);y?((r=Object.keys(t.deltas))[0]!==X.DEFAULT_REP_ZONE&&1===r.length&&(i=t.get(r[0]),t=t.replace(r[0],i.create(F(F({},i),{zoneId:X.DEFAULT_REP_ZONE})))),t.get(X.DEFAULT_REP_ZONE)||((o=ul(t))?(a=t.get(o),t=t.replace(o,a.create(F(F({},a),{zoneId:X.DEFAULT_REP_ZONE})))):console.warn("can not find container zone when paste, debug info:",Object.keys(t.deltas).join("|"))),s=t.get(X.DEFAULT_REP_ZONE),m!==X.DEFAULT_REP_ZONE&&s&&t.replace(X.DEFAULT_REP_ZONE,new cr({zoneId:m,ops:s.ops})),nl(c=t.get(m),"\n")&&(u=c.reduce(function(e,t,n){return n===c.ops.length-1&&t.insert?e.insert(t.insert.slice(0,-1),t.attributes):e.push(t)},new cr({zoneId:m})),t.replace(m,u)),l={deltaSet:t,zoneId:m,lineState:y,event:e,isInternalPaste:n.isInternalPaste},this.callHook("editorWillPaste",l,{canPrevent:!0,pickKey:"deltaSet"}).defaultPrevented||(d=pl(h,y,l.deltaSet),console.log("paste apply delta:",d),p="applyPaste"+Math.random(),this.editor.callStack.inCallStackIfNecessary(p,function(){f.getContentState().apply(d);try{f.call(mr.DID_PASTE,{deltaSet:d,UNSAFE_text:n.text,isInternalPaste:n.isInternalPaste})}catch(e){console.error(e)}},{shouldIncorp:!0,mergeEvent:p}))):console.error("Warning: can't get lineState! zone: "+m+" line: "+v)},hl.prototype.deserialize=function(e,t){var n=e.node,r=e.html,i=e.text;if("files"in e&&e.files)return this.handleBlob(e.files,e.types);if(n&&(n.hasChildNodes()||t))return this.traverse(n);var o=r?(new DOMParser).parseFromString(ll(r,this.editor.domPurifyConfig),"text/html"):null;return null!==o&&void 0!==o&&o.body&&o.body.hasChildNodes()?(cl(o.body),this.traverse(o.body)):i?this.handleText(i):(new lr).concat(new cr)},hl.prototype.traverse=function(e){var n=this;if(!e.childNodes.length){var t=(new lr).concat(new cr);return this.callHook("deserialize",{node:e,zoneId:X.DEFAULT_REP_ZONE,deltaSet:t,types:["text/html"]},{pickKey:"deltaSet"}).deltaSet}var r=Array.from(e.childNodes).reduce(function(e,t){return n.traverse(t).compose(e)},new lr);return this.callHook("deserialize",{node:e,zoneId:X.DEFAULT_REP_ZONE,deltaSet:r,types:["text/html"]},{pickKey:"deltaSet"}).deltaSet},hl.prototype.handleText=function(e){var t=(new lr).compose(new cr);return this.callHook("deserialize",{text:e,zoneId:X.DEFAULT_REP_ZONE,deltaSet:t,types:["text/plain"]},{pickKey:"deltaSet"}).deltaSet},hl.prototype.handleBlob=function(e,t){var n=(new lr).compose(new cr);return this.callHook("deserialize",{files:e,zoneId:X.DEFAULT_REP_ZONE,deltaSet:n,types:t},{pickKey:"deltaSet"}).deltaSet},hl);function hl(e){this.editor=e}var gl=(ml.prototype._onCopy=function(e,r,t){var n,i;void 0===t&&(t=!1);var o=this.editor;r=r||o.selection.getSelection();var a,s,c,u,l,d,p,f,h,g,m={rep:o.getRep(),e:e,html:""};o.hooks.callAll("shouldPreventCopy",m).includes(!0)||(X.browser.android&&o.isEditable()&&o.selection.updateBrowserSelectionFromRep(),a=new Yr(e,e.target),o._triggerEditorEvent(e.type,a),a.isDefaultPrevented()||(e.preventDefault(),e.stopImmediatePropagation(),s={deltaSet:h=this.slice(r),range:r,customCopyDatas:[]},this.callPluginsWillSerialize(s),h=s.deltaSet,c={zoneId:(r=s.range).start.zoneId,deltaSet:h,node:null,customCopyDatas:s.customCopyDatas},o.clipboard.from=t?mr.CUT:mr.COPY,o.clipboard.resetPasteTimes(),this.serialize(c),u=X.browser.windows?null===(n=c.node)||void 0===n?void 0:n.textContent.replace(/\n/g,"\r\n"):null===(i=c.node)||void 0===i?void 0:i.textContent,l=F(F({},c),{text:u}),this.callPluginsDidSerialize(l),d=l.node,p=l.customCopyDatas,f=l.text,h=l.deltaSet,g=e.clipboardData||window.clipboardData,d&&0<d.childElementCount&&X.clipboardDataHelper.setData(g,{text:f,html:dl(sl(d))}),0!==p.length&&X.clipboardDataHelper.setCustomData(g,p),Zn(h)||g.setData(Qu,JSON.stringify({deltas:h.deltas,editorUniqueId:this.editor.editorUniqueId})),!0===t&&o.inCallStackIfNecessary("handleCut",function(){var e,t,n;o._triggerEditorEvent(mr.WILL_DELETE_FROM_CUT).shouldPrevent||(t=(e=r||o.selection.getSelection()).start,n=e.end,o.getContentState().deleteText({start:t,end:n}))})))},ml.prototype.serialize=function(a){var s=this,e=a.deltaSet,t=a.zoneId,c=e.get(t);if(!c)return console.warn("[copy]: zoneDelta  miss, zoneId: "+t),a;var u=document.createDocumentFragment();c.eachLine(function(e,t,n){var r=document.createDocumentFragment();e.ops.forEach(function(e){var t,n;Nt(e)&&!Dt(e)&&(t=document.createTextNode(e.insert),n=s.callPluginsSerialize(Object.assign(a,{type:Yu.LEAF,node:t,op:e})),r.appendChild(n.node))});var i=s.callPluginsSerialize(Object.assign(a,{type:Yu.LINE,node:r,lineAttributes:t,lineDelta:e})),o=document.createElement("div");o.style["white-space"]="pre",o.appendChild(i.node),o.dataset.zoneId=c.zoneId,o.dataset.lineIndex=String(n),u.appendChild(o)});var n=this.callPluginsSerialize(Object.assign(a,{type:Yu.ROOT,node:u}));return Object.assign(a,{node:n.node})},ml.prototype.callPluginsSerialize=function(t){var e=function(e){return t=e};return this.editor._pluginManager.call("serialize",t,e),t},ml.prototype.callPluginsWillSerialize=function(e){return this.editor._pluginManager.call("editorWillCopy",e)},ml.prototype.callPluginsDidSerialize=function(e){return this.editor._pluginManager.call("editorWillSetClipboard",e)},ml);function ml(e){var a=this;this.onCopy=function(e,t){var n=a.editor;return n.copyable?a._onCopy(e,t):(n.call(Ee.COPY_WITHOUT_PERMISSION),void e.preventDefault())},this.onCut=function(e,t){var n=a.editor;return n.copyable?n.isEditable()?a._onCopy(e,t,!0):void 0:(n.call(Ee.COPY_WITHOUT_PERMISSION),void e.preventDefault())},this.slice=function(e){var t=a.editor,n=e.start,r=e.end,d=t.getContentState(),i=d.getZoneState(n.zoneId),p=new lr;if(!i||!i||n.zoneId!==r.zoneId)return p;var c=function(e,i,o){var a=[],s=0;return e.getOps().forEach(function(e){var t,n,r;null!==e&&void 0!==e&&e.insert&&"string"==typeof e.insert&&(t=It(e),s<=o&&i<=s+t&&((n=Math.max(0,i-s))<(r=Math.min(t,o-s))&&a.push({insert:e.insert.slice(n,r),attributes:F({},e.attributes)})),s+=t)}),a},f=function(e,t,n){for(var r=[],i=Math.max(0,t.line),o=Math.min(n.line,e.length()-1),a=i;a<=o;a++){var s=e.getLine(a);t.line===o?r.push.apply(r,W(c(s,t.offset,n.offset))):a===i?r.push.apply(r,W(c(s,t.offset,s.length()))):a===o?r.push.apply(r,W(c(s,0,n.offset))):r.push.apply(r,W(c(s,0,s.length())))}return r},o=new cr({zoneId:n.zoneId,ops:f(i,n,r)});return p.add(n.zoneId,o),n.zoneId===X.DEFAULT_REP_ZONE&&i.getEntities({start:n,end:r},function(e,t){return"aceTable"===e&&t}).forEach(function(e){var t=K(e.attributes.aceTable.split(" "),2),n=t[0],r=t[1],i=d.getZoneState(n),o=d.getZoneState(r),a=new $n({zoneType:gt.Row,zoneId:i.getZoneId(),ops:Object(m.default)(i.getContent().ops)}),s=new $n({zoneType:gt.Column,zoneId:o.getZoneId(),ops:Object(m.default)(o.getContent().ops)});p.add(i.getZoneId(),a),p.add(o.getZoneId(),s);var c=d._getRowColIds(n,r),u=c.rowIds,l=c.colIds;u.forEach(function(a){l.forEach(function(e){var t="x"+a+"x"+e,n=d.getZoneState(t),r={zoneId:t,line:0,offset:0},i=n.length()-1,o={zoneId:t,line:i,offset:n.getLine(i).getModelText().length};p.add(t,new cr({zoneId:t,ops:f(n,r,o)}))})})}),p},this.editor=e}var vl=(yl.prototype.deserialize=function(e,t){return this.pasteModule.deserialize(e,t)},yl.prototype.serialize=function(e){return this.copyModule.serialize(e)},yl.prototype.onPaste=function(e){this.pasteModule.onPaste(e)},yl.prototype.slice=function(e){return this.copyModule.slice(e)},yl.prototype.onCopy=function(e){return this.copyModule.onCopy(e)},yl.prototype.onCut=function(e){return this.copyModule.onCut(e)},yl.prototype.resetPasteTimes=function(){this.pasteModule.pasteTimes=0},yl.prototype.getPasteInfo=function(){return this.pasteModule.getPasteInfo()},yl);function yl(e){this.from=null,this.pasteModule=new fl(e),this.copyModule=new gl(e)}function bl(e){var t=window.getComputedStyle(e),n=(parseFloat(t.paddingLeft)||0)+(parseFloat(t.paddingRight)||0),r=(parseFloat(t.paddingTop)||0)+(parseFloat(t.paddingBottom)||0);return{width:e.clientWidth-n,height:e.clientHeight-r}}function El(e,t){var n,r,i=null;return document.caretPositionFromPoint?(i=document.caretPositionFromPoint(e,t))&&(n=i.offsetNode,r=i.offset):document.caretRangeFromPoint&&(i=document.caretRangeFromPoint(e,t))&&(n=i.startContainer,r=i.startOffset),{range:i,textNode:n,offset:r}}var _l,Al=(j(Cl,_l=Mu),Cl.prototype.setVirtualScroll=function(e){void 0===e&&(e=!0),this.enableVirtualScroll=e},Cl.prototype.setStopUpdateSelection=function(e){this.flags.stopUpdateSelection=e},Cl.prototype._getAttributesOfPreviousPosition=function(){var e=this._contentState.getActiveZone().getZoneId(),t=this.selection.getSelection(),n=t.start;return 0<t.start.offset&&(n=new hs({start:t.toPosition().start-1,editor:this,len:0,zoneId:e}).toRange().start),this._contentState.getAttributes(n,t.start)},Cl.prototype._getAttributesOfNextPosition=function(){var e=this.selection.getSelection(),t=this._contentState.getActiveZone().getZoneId(),n=this._contentState.getZoneState(t).getLine(e.start.line),r=e.start;return e.start.offset<n.length()&&(r=new hs({start:e.toPosition().start+1,editor:this,len:0,zoneId:t}).toRange().start),this._contentState.getAttributes(e.start,r)},Cl.prototype.toggleAttribute=function(e){var t,n,r,i=this.selection.getSelection();if(i.isCollapsed()){var o=this._getAttributesOfPreviousPosition().toMap();"true"===(l=this._contentState._getStoreAttributes(e)||o[e])?this._contentState._setStoreAttributes(e,""):this._contentState._setStoreAttributes(e,"true")}else{var a=i.toPosition(),s=a.start,c=a.len,u=this._contentState.getEntities(i),l="";if(u)try{for(var d=V(u),p=d.next();!p.done;p=d.next())if(!p.value.attributes[e]){l="true";break}}catch(e){t={error:e}}finally{try{p&&!p.done&&(n=d.return)&&n.call(d)}finally{if(t)throw t.error}}var f=new cr({zoneId:i.start.zoneId}).retain(s).retain(c,((r={})[e]=l,r));this._contentState.apply(f)}},Cl.prototype.registerCommand=function(e,t){},Cl.prototype.execCommand=function(e,t){this.commands.triggerCommand(e,t)},Cl.prototype.register=function(e){return this._pluginManager.register(e)},Cl.prototype.on=function(e,t,n){void 0===n&&(n=!1),this._editorEventEmitter.on(e,t,n)},Cl.prototype.once=function(e,t,n){void 0===n&&(n=!1),this._editorEventEmitter.once(e,t,n)},Cl.prototype.off=function(e,t){this._editorEventEmitter.off(e,t)},Cl.prototype.getContentState=function(){return this._contentState},Cl.prototype.setContentState=function(){},Cl.prototype.getHTML=function(){},Cl.prototype.setHTML=function(){},Cl.prototype.getText=function(){},Cl.prototype.setText=function(){},Cl.prototype.getAttributes=function(){},Cl.prototype.getEntities=function(e,t){return this.getContentState().getEntities(e,t)},Cl.prototype.unstable_hydrate=function(e,t){this._hydrateMap.set(e,t),e._node=t,this._getViewModel()._setNode(e,t),t[at]=!0,e._entry&&(e._entry.lineNode=t,e._entry.key=t.id)},Cl.prototype._deleteHydrateTask=function(e){this._hydrateMap.delete(e),e._node&&(e._node[at]=!1)},Cl.prototype._getSchema=function(){return this._schema},Cl.prototype._getScrollContainer=function(){return this.scrollContainer},Cl.prototype._setScrollContainer=function(e){this.scrollContainer=e},Cl.prototype.scrollTo=function(e){this._getScrollContainer().scrollTo(e)},Cl.prototype.scrollBy=function(e){this._getScrollContainer().scrollBy(e)},Cl.prototype.getRenderContent=function(e){var t,n,r=[];try{for(var i=V(e),o=i.next();!o.done;o=i.next()){var a=o.value;r.push(a)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r},Cl.prototype.renderZone=function(e,t){var n=this.getContentState().getZoneState(e);if(!n)throw new Error("\n      can not find zoneId: "+e+" in editor,\n      you may need to call editor.addZone before renderZone");this.getRep(e)||_l.prototype.initZoneRep.call(this,e),s.a.render(O.a.createElement(Ze.Provider,{value:this},O.a.createElement(Oa,{content:this.getRenderContent(n)})),t)},Cl.prototype.getPlugins=function(){return this._pluginManager.getPlugins()},Cl.prototype.getPlugin=function(e){return this._pluginManager.getPlugin(e)},Cl.prototype.indexOfPlugin=function(e){return this._pluginManager.indexOf(e)},Cl.prototype._matchPlugin=function(e,t){return this._pluginManager._matchPlugin(e,t)},Cl.prototype._getViewModel=function(){return this._viewModel},Cl.prototype._handleShortcuts=function(e){this._maybeSelectAll(e)},Cl.prototype._maybeSelectAll=function(e){var t,n=e.keyCode,r=e.shiftKey,i=e.metaKey,o=e.altKey,a=e.ctrlKey;r||o||a||i&&n===ce.A&&(t=this.selection.getSelection().start.zoneId,this.selection.selectAll(t),e.preventDefault())},Cl.prototype.assignCaretSelection=function(e){var t=e.clientX,n=e.clientY,r=El(t-window.pageXOffset,n-window.pageYOffset),i=r.textNode,o=r.offset;e.evtTargetSelection=this.selection._toModelRange({startContainer:i||null,endContainer:i||null,startOffset:o||0,endOffset:o||0})},Cl.prototype._triggerEditorEvent=function(e,t){var n=this._editorEventEmitter.getListeners(e).map(function(e){return e.listener}),r=!1,i=!1,o=function(){r=!0};t=t||{};for(var a=function(){i=!0},s=0;s<n.length&&!r;s++){var c=n[s];t&&(t.stopEvent=o,t.preventEvent=a,t.evt=t),c.call(c,t)}return{shouldStop:r,shouldPrevent:i}},Cl);function Cl(i){var a=_l.call(this,i)||this;a.props=i,a._hydrateMap=new Map,a.elRect={width:0,height:0},a.clicked=!1,a.selectionChanged=!1,a.mouseDowned=!1,a.htmlToClientVars=function(e){return Pn(a.clipboard.deserialize({html:e},!1))},a._handleContentWillChange=function(n){return a._pluginManager.call("editorWillApplyChange",n,function(e,t){return n.deltaSet=t,n}),_l.prototype._handleContentWillChange.call(a,n),n.deltaSet},a._getScrollTop=function(){return a.scrollContainer instanceof Window?a.scrollContainer.scrollY:a.scrollContainer.scrollTop},a._getScrollerHeight=function(){return a.scrollContainer instanceof Window?a.scrollContainer.innerHeight:a.scrollContainer.offsetHeight},a._correctCompositionIfNecessary=function(e){var t=["input","beforeinput","keyup","keydown","keypress","compositionstart","compositionend"],n=e.type,r=e instanceof Event?e:e.nativeEvent,i=new Xr(new CompositionEvent("compositionend"),a.editor.getDocBody());!0===a._inputModel._isComposing&&(t.includes(n)?r instanceof KeyboardEvent&&!1===r.isComposing&&(a._triggerEditorEvent("compositionend",i),a.log("dispatchCompositionEvent because eventType is "+n+" and isComposing is false")):(a._triggerEditorEvent("compositionend",i),a.log("dispatchCompositionEvent because eventType is "+n)))},a.__handleDOMSelectionChange=function(){var e;a.selection._handleDOMSelectionChange(),a.mouseDowned&&(a.selectionChanged=!0);var t=getSelection();a.clicked&&a.mouseDowned&&(a.flags.stopUpdateSelection||!a.isEditable()||!a.mounted||null===t||void 0===t||!t.focusNode||null!==(e=a.props)&&void 0!==e&&e.inEmbed(a,t.focusNode)||a.isFocusOnBlock(t.focusNode)||!a.getDocBody().contains(t.focusNode)||a.selection._updateBrowserSelection(),a.resetCursorStatus())},a._handleContainerResize=Object(o.default)(function(){var e=a.editor.getRect();a.editor.setRect();var t=a.editor.getRect();Object(_.default)(e,t)||(a.editor.eventEmitter.trigger("editorRectChange",[{prev:e,next:t}]),a.editor.call("editorRectChange",[{prev:e,next:t}]))}),a._handleMouseDown=function(e){X.browser.isEdge||(a.mounted&&e.target instanceof Node&&a.getDocBody().contains(e.target)?a.mouseDowned=!0:a.mouseDowned=!1)},a._handleClickEvent=function(e){var t,n=getSelection();e.target instanceof Node&&a.isEditable()&&a.mounted&&(a.clicked=!0),a.mouseDowned&&a.selectionChanged&&a.clicked&&(null===n||void 0===n||!n.focusNode||null!==(t=a.props)&&void 0!==t&&t.inEmbed(a,n.focusNode)||a.isFocusOnBlock(n.focusNode)||!a.getDocBody().contains(n.focusNode)||a.selection._updateBrowserSelection(),a.resetCursorStatus());var r=null;e.target instanceof Node&&(r=wa(e.target,a));var i,o=Ia(e);a._triggerEditorEvent(e.type,F(F({},o),{selection:r})).shouldStop||(i=new zt(e.nativeEvent),a.handleClickEvent(i))},a._handleKeyEvent=function(e){var t;a.props.inEmbed&&a.props.inEmbed(a,e.target)||!a.isEditable()||(t=new $r(e,e.target),a._triggerEditorEvent(e.type,t),a._handleShortcuts(t.nativeEvent))},a.resetCursorStatus=function(){a.selectionChanged=!1,a.clicked=!1,a.mouseDowned=!1},a._handleInputEvent=function(e){var t=new ci(e,e.target);a._triggerEditorEvent(e.type,t),"historyUndo"===e.inputType?(e.preventDefault(),a.undo()):"historyRedo"===e.inputType&&(e.preventDefault(),a.redo())},a._handleBeforeInput=function(e){a._triggerEditorEvent(e.type,e)},a._handleCompositionEvent=function(e){var t,n=Ia(e);a._triggerEditorEvent(e.type,n).shouldStop||(t=new zt(e.nativeEvent),a.handleCompositionEvent(t))},a._handleCopy=function(e){a.fastIncorp(),a.clipboard.onCopy(e)},a._handleCut=function(e){a.fastIncorp(),a.clipboard.onCut(e)},a._handlePaste=function(e){a.fastIncorp(),!a.isFocusOnBlock()&&a.isEditable()&&a.clipboard.onPaste(e)},a._handleDrag=function(e){var t=new _i(e,e.target);a.assignCaretSelection(t),a._triggerEditorEvent(e.type,t)},a._handleFocusEvent=function(e){var t=new zt(e.nativeEvent);a._triggerEditorEvent(e.type,t)},a._handleBlurEvent=function(e){var t=new zt(e.nativeEvent);a.handleBlurEvent(t),a._triggerEditorEvent(e.type,t)},a._handleResizeEvent=function(e){var t,n;n=e instanceof Event?bl(a.root):{width:(t=e[0].contentRect).width,height:t.height},a.call(mr.RESIZE,{previous:a.elRect,current:n}),a.elRect=n},a._inEmbed=function(e){return!!a.props.inEmbed&&a.props.inEmbed(a,e)},a.eventEmitter=i.bus||Bu,a._editorEventEmitter=new yr,a.commands=new wc(a),a._viewModel=new ju({editor:a}),a._pluginManager=new os(i.registerPlugin,a),a.clipboard=new vl(a);var e=function(e){var t=e.initialAttributedTexts,n=Rn(e.apool),r=Tn(t,Rn(n));return a._contentState=new Zu({deltaSet:r,apool:n,schema:i.schema}),a._contentState.onWillChange(a._handleContentWillChange),a._schema=i.schema,a._contentState};return _l.prototype._init.call(a,F(F({},i),{commands:a.commands,contentState:a._contentState,selection:a.selection,pluginManager:a._pluginManager,htmlToClientVars:a.htmlToClientVars,initContentState:e})),a.elRect=bl(a.docbody),a.setRect(),a.flags={isPerforming:!1,contentChanged:!1,preventScrolling:!1,dangerousInput:!1,stopUpdateSelection:!1},a.version=ot,a.setVirtualScroll(i.enableVirtualScroll),a._considerOffsetTopToScroller=i.considerOffsetTopToScroller||!1,a}var Tl=(Ol.prototype.match=function(e){return!1},Ol.prototype.renderLine=function(e){return e.children},Ol.prototype.render=function(e){return e.children},Ol.prototype.serialize=function(e){return e},Ol.prototype.deserialize=function(e){return e.deltaSet},Ol);function Ol(){}var kl;j(Sl,kl=Tl),Sl.prototype.match=function(e){return"bold"===e},Sl.prototype.isBoldElement=function(e){var t=e.tagName,n=e.getAttribute("style")||"";return"B"===t||"STRONG"===t||/\bfont-weight:\s*bold\b/i.test(n)},Sl.prototype.deserialize=function(e){var t=e.node,n=e.deltaSet,r=e.zoneId;return t&&t instanceof HTMLElement&&this.isBoldElement(t)?el(n,r,{bold:"true"}):n},Sl.prototype.serialize=function(e){return ol(e,{tagAttribute:"bold",wrapTag:Ju.bold})},Sl.prototype.render=function(e){var t=e.children;return O.a.createElement(Ja,{style:{fontWeight:"bold"}},t)};function Sl(e){var t=kl.call(this)||this;return e.registerCommand("bold",function(){e.toggleAttribute("bold")}),t}var wl=8203,Il=[/[\b]/g,new RegExp(String.fromCharCode(wl),"g")],xl=" ";function Ll(e){var t=e;return Il.forEach(function(e){return t=t.replace(e,"")}),t}function Rl(e){return e.replace(/\r/g,xl).replace(/\xa0/g,xl).replace(/\t/g,xl.repeat(8))}var Nl,Dl=(j(Ml,Nl=Tl),Ml.prototype.deserialize=function(e){var t,n,r=e.node,i=e.deltaSet,o=e.zoneId,a=e.text,s=e.types;if(s.includes("text/html")){if(_s(r)){var c=null!=(t=r.nodeValue)?t:"",u="",l=0,d=!1;if(0===c.trim().length&&"BODY"===(null===(n=r.parentElement)||void 0===n?void 0:n.tagName))return i.concat(new cr({zoneId:o}));for(var p=r.parentNode;p;){if(p instanceof HTMLElement){var f=p.tagName,h=p.style;if("pre"===f){d=!0;break}if(h.whiteSpace){d=h.whiteSpace.startsWith("pre");break}}p=p.parentNode}for(var g,m=new lr,v=new cr({zoneId:o});0<c.length;)c=d?(l=(g=c.split("\n",1)[0]).length+1,u=c.substring(l),g):(u="",0===c.trim().length&&(c=""),c.replace(/\r\n/g," ").replace(/[\r\n]/g," ")),v.insert(Rl(Ll(c))),((c=u)||"\n"===r.nodeValue&&d)&&v.insertEnter();return m.concat(v)}}else if(s.includes("text/plain")&&a)return(new lr).concat((new cr).insert(Rl(Ll(a))));return i},Ml);function Ml(){return null!==Nl&&Nl.apply(this,arguments)||this}function Pl(e){return 0!==e.childNodes.length&&["address","article","blockquote","canvas","dd","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","iframe","li","main","nav","ol","output","p","pre","section","table","td","tr","ul","video"].includes(e.tagName.toLowerCase())}var jl,Fl=(j(Bl,jl=Tl),Bl.prototype.deserialize=function(e){var r=e.node,t=e.deltaSet,i=e.zoneId,n=t.get(i);if(r instanceof Element&&n instanceof cr&&!nl(n,"\n")){var o=new lr;return t.forEach(function(e,t){var n;o=e instanceof cr&&t===i?"BR"===r.tagName||Pl(r)?((n=e.create(e)).insertEnter(),o.concat(n)):o.concat(e):o.concat(e)}),o}return t},Bl);function Bl(){return null!==jl&&jl.apply(this,arguments)||this}var Ul;j(Hl,Ul=Tl),Hl.prototype.match=function(e){return"italic"===e},Hl.prototype.deserialize=function(e){var t=e.node,n=e.deltaSet,r=e.zoneId;if(t instanceof HTMLElement){var i=t.tagName,o=t.getAttribute("style")||"";if("I"===i||"EM"===i||/\bfont-style:\s*italic\b/i.test(o))return el(n,r,{italic:"true"})}return n},Hl.prototype.serialize=function(e){return ol(e,{tagAttribute:this.name,wrapTag:Ju[this.name]})},Hl.prototype.render=function(e){var t=e.children;return O.a.createElement(Ja,{style:{fontStyle:"italic"}},t)};function Hl(e){var t=Ul.call(this)||this;return t.name="italic",e.registerCommand("italic",function(){e.toggleAttribute("italic")}),t}var zl;j(Vl,zl=Tl),Vl.prototype.match=function(e){return"underline"===e},Vl.prototype.deserialize=function(e){var t=e.node,n=e.deltaSet,r=e.zoneId;if(t instanceof HTMLElement){var i=t.tagName,o=t.getAttribute("style")||"";if("U"===i||"INS"===i||/\btext-decoration(-line)?:[^;]*underline\b/i.test(o))return el(n,r,{underline:"true"})}return n},Vl.prototype.serialize=function(e){return ol(e,{tagAttribute:this.name,wrapTag:Ju[this.name]})},Vl.prototype.render=function(e){var t=e.children;return O.a.createElement(Ja,{style:{textDecoration:"underline"}},t)};function Vl(e){var t=zl.call(this)||this;return t.name="underline",e.registerCommand("underline",function(){e.toggleAttribute("underline")}),t}var Kl;j(Gl,Kl=Tl),Gl.prototype.match=function(e){return"strikethrough"===e},Gl.prototype.deserialize=function(e){var t=e.node,n=e.deltaSet,r=e.zoneId;if(t instanceof HTMLElement){var i=t.tagName,o=t.getAttribute("style")||"";if("S"===i||"DEL"===i||"STRIKE"===i||/\btext-decoration(-line)?:[^;]*line-through\b/i.test(o))return el(n,r,{strikethrough:"true"})}return n},Gl.prototype.serialize=function(e){return ol(e,{tagAttribute:this.name,wrapTag:Ju[this.name]})},Gl.prototype.render=function(e){var t=e.children;return O.a.createElement(Ja,{style:{textDecoration:"line-through"}},t)};function Gl(e){var t=Kl.call(this)||this;return t.name="strikethrough",e.registerCommand("strikethrough",function(){e.toggleAttribute("strikethrough")}),t}var Wl;j(Yl,Wl=Tl),Yl.prototype.handleEvent=function(e){this.undoModule.performRedo()},Yl.prototype.handleChange=function(e){var t,n=e.deltaSet;n&&(t={currentChangeset:new Nn({deltaSet:n,apool:this.editor.getApool(),texts:{}}).toChangeset(),backset:"",eventType:"test"},this.undoModule.reportEvent(t,this.handleEvent))},Yl.prototype.handleKeydown=function(e){},Yl.prototype.render=function(){return null};function Yl(e){var t=Wl.call(this)||this;return t.editor=e,t.undoModule=new X.UndoModule({enabled:!0,eventFunc:t.handleEvent,editor:e,apool:e.getApool()}),e.on("keydown",t.handleKeydown),e.on(mr.CONTENT_CHANGE,t.handleChange),t}var ql,Zl=(j(Xl,ql=Qa),Xl.prototype.render=function(){var e=this.state.selected;return O.a.createElement(Qa,{style:{padding:"3px",verticalAlign:"baseline",display:"inline",borderRadius:"4px",backgroundColor:e?"#e1eaff":"#eeeeee"},onSelect:this.handleSelect,onDeselect:this.handleDeSelect},this.props.name)},Xl);function Xl(){var e=null!==ql&&ql.apply(this,arguments)||this;return e.state={selected:!1},e.handleSelect=function(){e.setState({selected:!0})},e.handleDeSelect=function(){e.setState({selected:!1})},e}var Ql;j(Jl,Ql=Tl),Jl.prototype.match=function(e){return"mention"===e},Jl.prototype.render=function(e){var t=e.attributes;return O.a.createElement(Zl,{name:t.mention})};function Jl(){return null!==Ql&&Ql.apply(this,arguments)||this}},y4QH:function(e,t){var p=Math.max;function n(e,t,n,r){for(var i=-1,o=e.length,a=n.length,s=-1,c=t.length,u=p(o-a,0),l=Array(c+u),d=!r;++s<c;)l[s]=t[s];for(;++i<a;)(d||i<o)&&(l[n[i]]=e[i]);for(;u--;)l[s++]=e[i++];return l}e.exports=n},yD6e:function(e,t,n){"use strict";function r(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}t.__esModule=!0,t.default=r,e.exports=t.default},yE7x:function(e,t,n){var r=n("3OWR");t.default={withDomLvl1:!0,normalizeWhitespace:!1,xml:!1,decodeEntities:!0},t.flatten=function(e){return e&&e.xml?r({xmlMode:!0},e.xml):e}},yGdm:function(e,h,g){"use strict";(function(e){g.d(h,"d",function(){return n}),g.d(h,"h",function(){return r}),g.d(h,"c",function(){return i}),g.d(h,"l",function(){return o}),g.d(h,"a",function(){return a}),g.d(h,"j",function(){return s}),g.d(h,"i",function(){return c}),g.d(h,"b",function(){return u}),g.d(h,"g",function(){return l}),g.d(h,"e",function(){return d}),g.d(h,"k",function(){return p}),g.d(h,"m",function(){return f});var t=g("H6oK"),n=338,r={gmap:"ee.docs.doc.block_iframe_make_address_specific_error",xigua:"ee.docs.doc.block_get_xigua_iframe__error",tiktok:"ee.docs.doc.block_get_tiktok_iframe__error"},i="outer-u-container",o=new RegExp("mention-type|".concat(t.IGNORE_HYPERLINK_CLASS)),a={bilibili:"https://www.bilibili.com/video/BV1Hi4y1w7V7",youku:"https://v.youku.com/v_show/id_XMTY1MjYwODYzNg==.html?spm=a2h0j.11185381.listitem_page1.5!15~A&&s=9a35f8960f3c11e5a080",youtube:"https://youtu.be/Ajo5v1zxrHE",airtable:"https://airtable.com/shrs4PhummCCIHXXT",baidumap:"https://j.map.baidu.com/6jqkO",autonavi:"https://www.amap.com/place/B000A83C1S",gmaps:"https://www.google.com/maps/place/Central+Park/@40.7828647,-73.9675438,17z",xigua:"https://www.ixigua.com/6763174234282787341",tiktok:"https://t.tiktok.com/i18n/share/video/6584979523391982853",figma:"https://www.figma.com/file/LKQ4FJ4bTnCSjedbRpk931/Sample-File",modao:"https://modao.cc/app/45ed43a9277e1cdb844b10e8e8890cf177e6ea25?simulator_type=device&sticky",canva:"https://www.canva.cn/design/DAERsJN19ZM/view",codepen:"https://codepen.io/jackrugile/pen/IHbvh",jinshuju:"https://jinshuju.net/f/tRreUu",feishu_survey:"https://wenjuan.feishu.cn/m?t=sVOKVVz7rwpi-ay5n",lark_survey:"https://survey.larksuite.com/m/cfm?t=sVF8j1fIlrpi-ff3n"},s={bilibili:e("CreationDocs_Embeds_PasteLinkBilibili_Options"),youku:e("CreationDocs_Embeds_PasteLinkYouku_Options"),youtube:e("CreationDocs_Embeds_PasteLinkYoutube_Options"),airtable:e("CreationDocs_Embeds_PasteLinkAirtable_Options"),baidumap:e("CreationDocs_Embeds_PasteLinkBaiduMap_Options"),autonavi:e("CreationDocs_Embeds_PasteLinkGaodeMap_Options"),gmaps:e("CreationDocs_Embeds_PasteLinkGoogleMap_Options"),xigua:e("CreationDocs_Embeds_PasteLinkXigua_Options"),tiktok:e("CreationDocs_Embeds_PasteLinkTiktok_Options"),figma:e("CreationDocs_Embeds_PasteLinkFigma_Options"),modao:e("CreationDocs_Embeds_PasteLinkModao_Options"),canva:e("CreationDocs_Embeds_PasteLinkCanva_Options"),codepen:e("CreationDocs_Embeds_PasteLinkCodePen_Options"),jinshuju:e("CreationDocs_Embeds_PasteLinkJinshuju_Options"),feishu_survey:e("CreationDocs_Embeds_PasteLinkFeishuSurvey_Options"),lark_survey:e("CreationDocs_Embeds_PasteLinkLarkSurvey_Options")},c={bilibili:e("CreationDocs_Embeds_bilibiliLink_Placeholder"),youku:e("CreationDocs_Embeds_YoukuLink_Placeholder"),youtube:e("CreationDocs_Embeds_YoutubeLink_Placeholder"),airtable:e("CreationDocs_Embeds_AirtableLink_Placeholder"),baidumap:e("CreationDocs_Embeds_BaiduMapLink_Placeholder"),autonavi:e("CreationDocs_Embeds_GaodeMapLink_Placeholder"),gmaps:e("CreationDocs_Embeds_GoogleMapsLink_Placeholder"),xigua:e("CreationDocs_Embeds_XiguaLink_Placeholder"),tiktok:e("CreationDocs_Embeds_TikTokLink_Placeholder"),figma:e("CreationDocs_Embeds_FigamaLink_Placeholder"),modao:e("CreationDocs_Embeds_ModaoLink_Placeholder"),canva:e("CreationDocs_Embeds_CanvaLink_Placeholder"),codepen:e("CreationDocs_Embeds_CodePenLink_Placeholder"),jinshuju:e("CreationDocs_Embeds_JinshujuLink_Placeholder"),feishu_survey:e("CreationDocs_Embeds_FeishuSurveyLink_Placeholder"),lark_survey:e("CreationDocs_Embeds_LarkSurveyLink_Placeholder")},u={bilibili:e("CreationDocs_Embeds_BilibiliLink_FeishuHelpCenter"),youku:e("CreationDocs_Embeds_YoukuLink_FeishuHelpCenter"),airtable:e("CreationDocs_Embeds_AirtableLink_FeishuHelpCenter"),baidumap:e("CreationDocs_Embeds_BaiduMapLink_FeishuHelpCenter"),autonavi:e("CreationDocs_Embeds_GaodeMapsLink_FeishuHelpCenter"),xigua:e("CreationDocs_Embeds_XiguaLink_FeishuHelpCenter"),figma:e("CreationDocs_Embeds_FigmaLink_FeishuHelpCenter"),modao:e("CreationDocs_Embeds_ModaoLink_FeishuHelpCenter"),canva:e("CreationDocs_Embeds_CanvaLink_FeishuHelpCenter"),codepen:e("CreationDocs_Embeds_CodePenLink_FeishuHelpCenter"),jinshuju:e("CreationDocs_Embeds_JinshujuLink_FeishuHelpCenter"),feishu_survey:e("CreationDocs_Embeds_FeishuSurveyLink_FeishuHelpCenter")},l={youtube:e("CreationDocs_Embeds_YoutubeLink_LakrHelpCenter"),airtable:e("CreationDocs_Embeds_AirtableLink_LarkHelpCenter"),gmaps:e("CreationDocs_Embeds_GoogleMapsLink_LarkHelpCenter"),tiktok:e("CreationDocs_Embeds_TikTokLink_LarkHelpCenter"),figma:e("CreationDocs_Embeds_FigmaLink_LarkHelpCenter"),codepen:e("CreationDocs_Embeds_CodePenLink_LarkHelpCenter"),lark_survey:e("CreationDocs_Embeds_LarkSurveyLink_LarkHelpCenter")},d="iframe-holder",p=["people.bytedance.net"],f=["vt.tiktok.com","imgur.com","slideshare.net","chartblocks.com","speakerdeck.com"]}).call(this,g("2vAP"))},yGk4:function(e,t,n){var r=n("Cwc5")(n("Kz5y"),"Set");e.exports=r},yHx3:function(e,t){var r=Object.prototype.hasOwnProperty;function n(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&r.call(e,"index")&&(n.index=e.index,n.input=e.input),n}e.exports=n},"yJ+g":function(e,t,n){"use strict";var r=n("lwsE"),i=n.n(r),o=n("W8MJ"),a=n.n(o),s=n("K9Ia"),c=n("26FU"),u=n("0/uQ"),l=n("0mNj"),d=n("15JJ"),p=n("ad02"),f=n("ny24"),h=n("fOmz"),g=n("o0o1"),m=n.n(g),v=n("lSNA"),y=n.n(v),b=n("yXPU"),E=n.n(b),_=n("a1gu"),C=n.n(_),T=n("Nsbk"),O=n.n(T),k=n("7W2i"),S=n.n(k),w=n("jp/M"),I=n("7HY0"),x=n("D7h9"),L=function(e){return{type:w.actionTypes.messageData.UPDATE_MESSAGES,payload:{messages:e}}},R=n("cyON"),N=function(e){function n(e){var t;return i()(this,n),(t=C()(this,O()(n).call(this,e))).commentService.setupMessageRecord(),t}return S()(n,e),a()(n,[{key:"fetchMessages",value:function(){var t,r=this;return(0,x.default.dispatch)({type:"COMMENT_SERVICE",COMMENT:(t=E()(m.a.mark(function e(t){var n;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=y()({type:w.actionTypes.messageData.FETCH_MESSAGES},R.a,{resetWhenSuiteTokenChange:!0}),e.abrupt("return",r.wrapperDispatchAction(t,n,E()(m.a.mark(function e(){var t;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.commentService.fetchMessages(!0);case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}},e)}))));case 2:case"end":return e.stop()}},e)})),e)});function e(e){return t.apply(this,arguments)}}},{key:"setMessages",value:function(e){return(0,x.default.dispatch)({type:w.actionTypes.messageData.SET_MESSAGES,payload:{messages:e}})}},{key:"setNotifications",value:function(e){return(0,x.default.dispatch)({type:w.actionTypes.messageData.SET_NOTIFICATIONS,payload:{messages:e}})}},{key:"resetMessages",value:function(){return(0,x.default.dispatch)({type:w.actionTypes.messageData.RESET_MESSAGES})}},{key:"updateMessages",value:function(e){return(0,x.default.dispatch)(L(e))}},{key:"markRead",value:function(e){var t=e.messageIds;return this.commentService.markRead({messageIds:t})}},{key:"setMessageStatus",value:function(e){var t=e.type,n=e.id;return(0,x.default.dispatch)({type:w.actionTypes.messageData.SET_MESSAGE_STATUS,payload:{type:t,id:n}})}},{key:"removeMessageNewStatus",value:function(e){var t=e.commentId,n=e.mentionId;return(0,x.default.dispatch)({type:w.actionTypes.messageData.REMOVE_MESSAGES_NEW_STATUS,payload:{commentId:t,mentionId:n}})}},{key:"resetMessageNewStatus",value:function(){return(0,x.default.dispatch)({type:w.actionTypes.messageData.RESET_MESSAGES_NEW_STATUS})}},{key:"destroyMessages",value:function(){var e=x.default.dispatch;this.destroy(),this.resetMessages(),this.resetMessageNewStatus(),e({type:w.actionTypes.messagePosition.RESET_MESSAGE_POSITION_DATA})}}]),n}(I.a);function D(e,t){return e.enableAutoTranslate===t.enableAutoTranslate&&e.translateLang===t.translateLang}n.d(t,"a",function(){return M});var M=function(){function n(e){var t=this;i()(this,n),this.props=e,this.destroy$=new s.a,this.onDestroyComments=void 0,this.onDestroyMessages=void 0,this.commentDataActions$=new c.a(null),this.messageDataActions$=new c.a(null),this.translateOptions$=new s.a,this.commentDataActions$.pipe(Object(l.a)(1),Object(d.a)(function(){return t.translateOptions$.pipe(Object(p.distinctUntilChanged)(D))})).pipe(Object(f.a)(this.destroy$)).subscribe(function(e){return t.setTranslateOptions(e)})}return a()(n,[{key:"getCommentDataActions",value:function(){return this.commentDataActions$.getValue()}},{key:"getMessageDataActions",value:function(){return this.messageDataActions$.getValue()}},{key:"destroyComments",value:function(){var e=this.getCommentDataActions();e&&(this.onDestroyComments&&(this.onDestroyComments(),this.onDestroyComments=void 0),e.destroyComments(),this.commentDataActions$.next(null))}},{key:"destroyMessages",value:function(){var e=this.getMessageDataActions();e&&(this.onDestroyMessages&&(this.onDestroyMessages(),this.onDestroyMessages=void 0),e.destroyMessages(),this.messageDataActions$.next(null))}},{key:"initComments",value:function(e,t){var n,r,i=this;if(t){if(!this.props.shouldRecreateCommentDataActions(e.rootType,e.rootToken))return;var o=new h.a(e);return this.commentDataActions$.next(o),this.props.onNewCommentDataActions&&(this.onDestroyComments=this.props.onNewCommentDataActions(o)),void(this.props.onFetchCommentsSuccess&&this.props.onFetchCommentsSuccess(o))}this.destroyComments(),this.props.shouldRecreateCommentDataActions(e.rootType,e.rootToken)&&(n=new h.a(e),this.commentDataActions$.next(n),this.props.onNewCommentDataActions&&(this.onDestroyComments=this.props.onNewCommentDataActions(n)),r=!!e.subCommentToken,Object(u.a)(n.fetchComments(r)).pipe(Object(f.a)(this.commentDataActions$.pipe(Object(l.a)(1))),Object(f.a)(this.destroy$)).subscribe(function(e){i.props.onFetchCommentsSuccess&&i.props.onFetchCommentsSuccess(n,e)}))}},{key:"initMessages",value:function(e,t){var n,r=this;if(t){if(!this.props.shouldRecreateMessageDataActions(e.rootType,e.rootToken))return;var i=new N(e);return this.messageDataActions$.next(i),void(this.props.onNewMessageDataActions&&(this.onDestroyMessages=this.props.onNewMessageDataActions(i)))}this.destroyMessages(),this.props.shouldRecreateMessageDataActions(e.rootType,e.rootToken)&&(n=new N(e),this.messageDataActions$.next(n),this.props.onNewMessageDataActions&&(this.onDestroyMessages=this.props.onNewMessageDataActions(n)),Object(u.a)(n.fetchMessages()).pipe(Object(f.a)(this.messageDataActions$.pipe(Object(l.a)(1))),Object(f.a)(this.destroy$)).subscribe(function(e){r.props.onFetchMessagesSuccess&&r.props.onFetchMessagesSuccess(e)},function(){r.props.onFetchMessagesError&&r.props.onFetchMessagesError()}))}},{key:"setTranslateOptions",value:function(e){var t=e.enableAutoTranslate,n=e.translateLang,r=this.getCommentDataActions();r&&r.setCommentTranslateEnableLang(t,n)}},{key:"destroyNotifications",value:function(){this.destroy$.next(),this.destroy$.complete(),this.commentDataActions$.complete(),this.messageDataActions$.complete(),this.destroyComments(),this.onDestroyMessages&&(this.onDestroyMessages(),this.onDestroyMessages=void 0)}},{key:"destroy",value:function(){this.destroy$.next(),this.destroy$.complete(),this.commentDataActions$.complete(),this.messageDataActions$.complete(),this.destroyComments(),this.destroyMessages()}}]),n}()},"yKd+":function(e,t,n){"use strict";var r=n("pVnL"),i=n.n(r),o=n("QILm"),a=n.n(o),s=n("q1tI"),c=n.n(s);t.a=function(e){e.styles;var t=a()(e,["styles"]);return c.a.createElement("svg",i()({width:"16",height:"16",viewBox:"0 0 16 16"},t),c.a.createElement("path",{d:"M3.04 13.83H1.87V5.67h1.17v8.16zm7-8.16h2.21C14 5.67 14.4 7.2 14 8.35l-1.74 4.59c-.15.53-.64.9-1.2.9H3.92V5.67h1.2l2.6-3.7c.16-.26.6-.46 1.07-.24.7.32 1.85 1.02 1.85 2.19 0 .44-.2 1.02-.59 1.75z",fillRule:"evenodd"}))}},yN2k:function(e,t,n){"use strict";var r=n("pVnL"),i=n.n(r),o=n("QILm"),a=n.n(o),s=n("q1tI"),c=n.n(s);t.a=function(e){e.styles;var t=a()(e,["styles"]);return c.a.createElement("svg",i()({width:"24",height:"24",viewBox:"0 0 24 24"},t),c.a.createElement("path",{fill:"#F54A45",d:"M15.9 8.11l.49.5a.4.4 0 010 .56l-3.2 3.2 2.95 2.96a.4.4 0 010 .56l-.5.5a.4.4 0 01-.56 0l-2.95-2.96-2.96 2.96a.4.4 0 01-.56 0l-.5-.5a.4.4 0 010-.56l2.95-2.96-3.2-3.2a.4.4 0 010-.56l.5-.5a.4.4 0 01.56 0l3.2 3.2 3.2-3.2a.4.4 0 01.57 0zM2.7 11.5a.3.3 0 01.3.3v.9a.3.3 0 01-.3.3H1.3a.3.3 0 01-.3-.3v-.9a.3.3 0 01.3-.3h1.4zm4 0a.3.3 0 01.3.3v.9a.3.3 0 01-.3.3H5.3a.3.3 0 01-.3-.3v-.9a.3.3 0 01.3-.3h1.4zm16 0a.3.3 0 01.3.3v.9a.3.3 0 01-.3.3h-1.4a.3.3 0 01-.3-.3v-.9a.3.3 0 01.3-.3h1.4zm-4 0a.3.3 0 01.3.3v.9a.3.3 0 01-.3.3h-1.4a.3.3 0 01-.3-.3v-.9a.3.3 0 01.3-.3h1.4z",fillRule:"evenodd"}))}},yNGS:function(e,t,n){"use strict";n.r(t);var r=n("toa8");n.d(t,"request",function(){return r.d}),n.d(t,"ioRequestClient",function(){return r.b}),n.d(t,"RequestPromise",function(){return r.RequestPromise});var i=n("5gS9");n.d(t,"NetworkState",function(){return i.c}),n.d(t,"IO",function(){return i.b})},yP5f:function(e,t,n){var r=n("+K+b");function i(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}e.exports=i},yUmB:function(e,t,n){"use strict";var r=n("pevS"),i=n("rSeq"),o=n("m40S");r({target:"Promise",stat:!0},{try:function(e){var t=i.f(this),n=o(e);return(n.error?t.reject:t.resolve)(n.value),t.promise}})},ycFn:function(e,t,n){"use strict";var r=n("TqRt");t.__esModule=!0,t.default=o;var i=r(n("yD6e"));function o(e,t){e.classList?e.classList.add(t):(0,i.default)(e,t)||("string"==typeof e.className?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}e.exports=t.default},yczp:function(e,t,n){"use strict";var r=n("6DQo"),i=n.n(r),o=n("QLaP"),a=n.n(o),s=n("q1tI"),c=n.n(s),u=n("17x9"),l=n.n(u),d=n("YHGo"),p=n("nr6O"),f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};function h(e,t){var n,r={};for(n in e)0<=t.indexOf(n)||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function v(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var y,b=function(e){return"/"===e.charAt(0)?e:"/"+e},E=function(e,t){return e?f({},t,{pathname:b(e)+t.pathname}):t},_=function(e,t){if(!e)return t;var n=b(e);return 0!==t.pathname.indexOf(n)?t:f({},t,{pathname:t.pathname.substr(n.length)})},C=function(e){return"string"==typeof e?e:Object(d.e)(e)},T=function(e){return function(){a()(!1,"You cannot %s with <StaticRouter>",e)}},O=function(){},k=(v(S,y=c.a.Component),S.prototype.getChildContext=function(){return{router:{staticContext:this.props.context}}},S.prototype.componentWillMount=function(){i()(!this.props.history,"<StaticRouter> ignores the history prop. To use a custom history, use `import { Router }` instead of `import { StaticRouter as Router }`.")},S.prototype.render=function(){var e=this.props,t=e.basename,n=(e.context,e.location),r=h(e,["basename","context","location"]),i={createHref:this.createHref,action:"POP",location:_(t,Object(d.c)(n)),push:this.handlePush,replace:this.handleReplace,go:T("go"),goBack:T("goBack"),goForward:T("goForward"),listen:this.handleListen,block:this.handleBlock};return c.a.createElement(p.a,f({},r,{history:i}))},S);function S(){var e,i;g(this,S);for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=i=m(this,y.call.apply(y,[this].concat(n)))).createHref=function(e){return b(i.props.basename+C(e))},i.handlePush=function(e){var t=i.props,n=t.basename,r=t.context;r.action="PUSH",r.location=E(n,Object(d.c)(e)),r.url=C(r.location)},i.handleReplace=function(e){var t=i.props,n=t.basename,r=t.context;r.action="REPLACE",r.location=E(n,Object(d.c)(e)),r.url=C(r.location)},i.handleListen=function(){return O},i.handleBlock=function(){return O},m(i,e)}k.propTypes={basename:l.a.string,context:l.a.object.isRequired,location:l.a.oneOfType([l.a.string,l.a.object])},k.defaultProps={basename:"",location:"/"},k.childContextTypes={router:l.a.object.isRequired},t.a=k},yfwS:function(e,t,n){"use strict";var r=n("9Qh4"),a=n("GpRL"),s=Function.prototype.apply,c=Function.prototype.call,i=Object.create,o=Object.defineProperty,u=Object.defineProperties,l=Object.prototype.hasOwnProperty,d={configurable:!0,enumerable:!1,writable:!0},p=function(e,t){var n;return a(t),l.call(this,"__ee__")?n=this.__ee__:(n=d.value=i(null),o(this,"__ee__",d),d.value=null),n[e]?"object"==typeof n[e]?n[e].push(t):n[e]=[n[e],t]:n[e]=t,this},f=function(e,t){var n,r;return a(t),r=this,p.call(this,e,n=function(){h.call(r,e,n),s.call(t,this,arguments)}),n.__eeOnceListener__=t,this},h=function(e,t){var n,r,i,o;if(a(t),!l.call(this,"__ee__"))return this;if(!(n=this.__ee__)[e])return this;if("object"==typeof(r=n[e]))for(o=0;i=r[o];++o)i!==t&&i.__eeOnceListener__!==t||(2===r.length?n[e]=r[o?0:1]:r.splice(o,1));else r!==t&&r.__eeOnceListener__!==t||delete n[e];return this},g=function(e){var t,n,r,i,o;if(l.call(this,"__ee__")&&(i=this.__ee__[e]))if("object"==typeof i){for(n=arguments.length,o=new Array(n-1),t=1;t<n;++t)o[t-1]=arguments[t];for(i=i.slice(),t=0;r=i[t];++t)s.call(r,this,o)}else switch(arguments.length){case 1:c.call(i,this);break;case 2:c.call(i,this,arguments[1]);break;case 3:c.call(i,this,arguments[1],arguments[2]);break;default:for(n=arguments.length,o=new Array(n-1),t=1;t<n;++t)o[t-1]=arguments[t];s.call(i,this,o)}},m={on:p,once:f,off:h,emit:g},v={on:r(p),once:r(f),off:r(h),emit:r(g)},y=u({},v);e.exports=t=function(e){return null==e?i(y):u(Object(e),v)},t.methods=m},yxg6:function(e,t,n){},zEVN:function(e,t,n){var r=n("Gi0A"),i=n("sEf8"),o=n("mdPL"),a=o&&o.isMap,s=a?i(a):r;e.exports=s},zLXu:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var s=n("OZf9"),c=n("Bw5p"),u=n("mkut"),l=n("b6qs"),d=n("HIeq"),r=n("toa8"),p=n("QM+C");function f(e){return r.d.post("/api/mention/chat.info.v2/",e,{headers:{"Content-Type":"application/json;"}}).then(function(e){return Object(s.a)(e.data,function(e){e.hasjoin=e.has_join}),e})}function i(n,e,t){var r,i,o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:function(){},a=4<arguments.length?arguments[4]:void 0;e.length&&(p.isAnonymousAccess||(r=l.a.getAllCacheInfo(),i=Object(c.a)(r,e),Object(u.a)(i).length!==e.length?f({chat_ids:e,source:t,token:Object(d.e)()}).then(function(e){l.a.setCacheInfo(e.data),Object(s.a)(e.data,function(e,t){o(n,t,e,a)})}):Object(s.a)(i,function(e,t){o(n,t,e,a)})))}},zSMa:function(e,t,n){"use strict";var i=n("zpDW"),r=n("BVe9"),o=n("VrO2"),a=n("eeXp"),s=n("4ZAW"),c=n("9Yx1"),u=n("fBAZ"),l=n("CshZ"),d=n("pRQB"),p=n("UwWT"),f=p.TAG_NAMES,h=p.NAMESPACES,g=p.ATTRS,m={locationInfo:!1,treeAdapter:s},v="hidden",y=8,b=3,E="INITIAL_MODE",_="BEFORE_HTML_MODE",C="BEFORE_HEAD_MODE",T="IN_HEAD_MODE",O="AFTER_HEAD_MODE",k="IN_BODY_MODE",S="TEXT_MODE",w="IN_TABLE_MODE",I="IN_TABLE_TEXT_MODE",x="IN_CAPTION_MODE",L="IN_COLUMN_GROUP_MODE",R="IN_TABLE_BODY_MODE",N="IN_ROW_MODE",D="IN_CELL_MODE",M="IN_SELECT_MODE",P="IN_SELECT_IN_TABLE_MODE",j="IN_TEMPLATE_MODE",F="AFTER_BODY_MODE",B="IN_FRAMESET_MODE",U="AFTER_FRAMESET_MODE",H="AFTER_AFTER_BODY_MODE",z="AFTER_AFTER_FRAMESET_MODE",V=Object.create(null);V[f.TR]=N,V[f.TBODY]=V[f.THEAD]=V[f.TFOOT]=R,V[f.CAPTION]=x,V[f.COLGROUP]=L,V[f.TABLE]=w,V[f.BODY]=k,V[f.FRAMESET]=B;var K=Object.create(null);K[f.CAPTION]=K[f.COLGROUP]=K[f.TBODY]=K[f.TFOOT]=K[f.THEAD]=w,K[f.COL]=L,K[f.TR]=R,K[f.TD]=K[f.TH]=N;var W=Object.create(null);W[E]=Object.create(null),W[E][i.CHARACTER_TOKEN]=W[E][i.NULL_CHARACTER_TOKEN]=ce,W[E][i.WHITESPACE_CHARACTER_TOKEN]=te,W[E][i.COMMENT_TOKEN]=ne,W[E][i.DOCTYPE_TOKEN]=se,W[E][i.START_TAG_TOKEN]=W[E][i.END_TAG_TOKEN]=W[E][i.EOF_TOKEN]=ce,W[_]=Object.create(null),W[_][i.CHARACTER_TOKEN]=W[_][i.NULL_CHARACTER_TOKEN]=de,W[_][i.WHITESPACE_CHARACTER_TOKEN]=te,W[_][i.COMMENT_TOKEN]=ne,W[_][i.DOCTYPE_TOKEN]=te,W[_][i.START_TAG_TOKEN]=ue,W[_][i.END_TAG_TOKEN]=le,W[_][i.EOF_TOKEN]=de,W[C]=Object.create(null),W[C][i.CHARACTER_TOKEN]=W[C][i.NULL_CHARACTER_TOKEN]=he,W[C][i.WHITESPACE_CHARACTER_TOKEN]=te,W[C][i.COMMENT_TOKEN]=ne,W[C][i.DOCTYPE_TOKEN]=te,W[C][i.START_TAG_TOKEN]=pe,W[C][i.END_TAG_TOKEN]=fe,W[C][i.EOF_TOKEN]=he,W[T]=Object.create(null),W[T][i.CHARACTER_TOKEN]=W[T][i.NULL_CHARACTER_TOKEN]=ve,W[T][i.WHITESPACE_CHARACTER_TOKEN]=oe,W[T][i.COMMENT_TOKEN]=ne,W[T][i.DOCTYPE_TOKEN]=te,W[T][i.START_TAG_TOKEN]=ge,W[T][i.END_TAG_TOKEN]=me,W[T][i.EOF_TOKEN]=ve,W[O]=Object.create(null),W[O][i.CHARACTER_TOKEN]=W[O][i.NULL_CHARACTER_TOKEN]=Ee,W[O][i.WHITESPACE_CHARACTER_TOKEN]=oe,W[O][i.COMMENT_TOKEN]=ne,W[O][i.DOCTYPE_TOKEN]=te,W[O][i.START_TAG_TOKEN]=ye,W[O][i.END_TAG_TOKEN]=be,W[O][i.EOF_TOKEN]=Ee,W[k]=Object.create(null),W[k][i.CHARACTER_TOKEN]=Ae,W[k][i.NULL_CHARACTER_TOKEN]=te,W[k][i.WHITESPACE_CHARACTER_TOKEN]=_e,W[k][i.COMMENT_TOKEN]=ne,W[k][i.DOCTYPE_TOKEN]=te,W[k][i.START_TAG_TOKEN]=nt,W[k][i.END_TAG_TOKEN]=ht,W[k][i.EOF_TOKEN]=gt,W[S]=Object.create(null),W[S][i.CHARACTER_TOKEN]=W[S][i.NULL_CHARACTER_TOKEN]=W[S][i.WHITESPACE_CHARACTER_TOKEN]=oe,W[S][i.COMMENT_TOKEN]=W[S][i.DOCTYPE_TOKEN]=W[S][i.START_TAG_TOKEN]=te,W[S][i.END_TAG_TOKEN]=mt,W[S][i.EOF_TOKEN]=vt,W[w]=Object.create(null),W[w][i.CHARACTER_TOKEN]=W[w][i.NULL_CHARACTER_TOKEN]=W[w][i.WHITESPACE_CHARACTER_TOKEN]=yt,W[w][i.COMMENT_TOKEN]=ne,W[w][i.DOCTYPE_TOKEN]=te,W[w][i.START_TAG_TOKEN]=St,W[w][i.END_TAG_TOKEN]=wt,W[w][i.EOF_TOKEN]=gt,W[I]=Object.create(null),W[I][i.CHARACTER_TOKEN]=Lt,W[I][i.NULL_CHARACTER_TOKEN]=te,W[I][i.WHITESPACE_CHARACTER_TOKEN]=xt,W[I][i.COMMENT_TOKEN]=W[I][i.DOCTYPE_TOKEN]=W[I][i.START_TAG_TOKEN]=W[I][i.END_TAG_TOKEN]=W[I][i.EOF_TOKEN]=Rt,W[x]=Object.create(null),W[x][i.CHARACTER_TOKEN]=Ae,W[x][i.NULL_CHARACTER_TOKEN]=te,W[x][i.WHITESPACE_CHARACTER_TOKEN]=_e,W[x][i.COMMENT_TOKEN]=ne,W[x][i.DOCTYPE_TOKEN]=te,W[x][i.START_TAG_TOKEN]=Nt,W[x][i.END_TAG_TOKEN]=Dt,W[x][i.EOF_TOKEN]=gt,W[L]=Object.create(null),W[L][i.CHARACTER_TOKEN]=W[L][i.NULL_CHARACTER_TOKEN]=jt,W[L][i.WHITESPACE_CHARACTER_TOKEN]=oe,W[L][i.COMMENT_TOKEN]=ne,W[L][i.DOCTYPE_TOKEN]=te,W[L][i.START_TAG_TOKEN]=Mt,W[L][i.END_TAG_TOKEN]=Pt,W[L][i.EOF_TOKEN]=gt,W[R]=Object.create(null),W[R][i.CHARACTER_TOKEN]=W[R][i.NULL_CHARACTER_TOKEN]=W[R][i.WHITESPACE_CHARACTER_TOKEN]=yt,W[R][i.COMMENT_TOKEN]=ne,W[R][i.DOCTYPE_TOKEN]=te,W[R][i.START_TAG_TOKEN]=Ft,W[R][i.END_TAG_TOKEN]=Bt,W[R][i.EOF_TOKEN]=gt,W[N]=Object.create(null),W[N][i.CHARACTER_TOKEN]=W[N][i.NULL_CHARACTER_TOKEN]=W[N][i.WHITESPACE_CHARACTER_TOKEN]=yt,W[N][i.COMMENT_TOKEN]=ne,W[N][i.DOCTYPE_TOKEN]=te,W[N][i.START_TAG_TOKEN]=Ut,W[N][i.END_TAG_TOKEN]=Ht,W[N][i.EOF_TOKEN]=gt,W[D]=Object.create(null),W[D][i.CHARACTER_TOKEN]=Ae,W[D][i.NULL_CHARACTER_TOKEN]=te,W[D][i.WHITESPACE_CHARACTER_TOKEN]=_e,W[D][i.COMMENT_TOKEN]=ne,W[D][i.DOCTYPE_TOKEN]=te,W[D][i.START_TAG_TOKEN]=zt,W[D][i.END_TAG_TOKEN]=Vt,W[D][i.EOF_TOKEN]=gt,W[M]=Object.create(null),W[M][i.CHARACTER_TOKEN]=oe,W[M][i.NULL_CHARACTER_TOKEN]=te,W[M][i.WHITESPACE_CHARACTER_TOKEN]=oe,W[M][i.COMMENT_TOKEN]=ne,W[M][i.DOCTYPE_TOKEN]=te,W[M][i.START_TAG_TOKEN]=Kt,W[M][i.END_TAG_TOKEN]=Gt,W[M][i.EOF_TOKEN]=gt,W[P]=Object.create(null),W[P][i.CHARACTER_TOKEN]=oe,W[P][i.NULL_CHARACTER_TOKEN]=te,W[P][i.WHITESPACE_CHARACTER_TOKEN]=oe,W[P][i.COMMENT_TOKEN]=ne,W[P][i.DOCTYPE_TOKEN]=te,W[P][i.START_TAG_TOKEN]=Wt,W[P][i.END_TAG_TOKEN]=Yt,W[P][i.EOF_TOKEN]=gt,W[j]=Object.create(null),W[j][i.CHARACTER_TOKEN]=Ae,W[j][i.NULL_CHARACTER_TOKEN]=te,W[j][i.WHITESPACE_CHARACTER_TOKEN]=_e,W[j][i.COMMENT_TOKEN]=ne,W[j][i.DOCTYPE_TOKEN]=te,W[j][i.START_TAG_TOKEN]=qt,W[j][i.END_TAG_TOKEN]=Zt,W[j][i.EOF_TOKEN]=Xt,W[F]=Object.create(null),W[F][i.CHARACTER_TOKEN]=W[F][i.NULL_CHARACTER_TOKEN]=$t,W[F][i.WHITESPACE_CHARACTER_TOKEN]=_e,W[F][i.COMMENT_TOKEN]=re,W[F][i.DOCTYPE_TOKEN]=te,W[F][i.START_TAG_TOKEN]=Qt,W[F][i.END_TAG_TOKEN]=Jt,W[F][i.EOF_TOKEN]=ae,W[B]=Object.create(null),W[B][i.CHARACTER_TOKEN]=W[B][i.NULL_CHARACTER_TOKEN]=te,W[B][i.WHITESPACE_CHARACTER_TOKEN]=oe,W[B][i.COMMENT_TOKEN]=ne,W[B][i.DOCTYPE_TOKEN]=te,W[B][i.START_TAG_TOKEN]=en,W[B][i.END_TAG_TOKEN]=tn,W[B][i.EOF_TOKEN]=ae,W[U]=Object.create(null),W[U][i.CHARACTER_TOKEN]=W[U][i.NULL_CHARACTER_TOKEN]=te,W[U][i.WHITESPACE_CHARACTER_TOKEN]=oe,W[U][i.COMMENT_TOKEN]=ne,W[U][i.DOCTYPE_TOKEN]=te,W[U][i.START_TAG_TOKEN]=nn,W[U][i.END_TAG_TOKEN]=rn,W[U][i.EOF_TOKEN]=ae,W[H]=Object.create(null),W[H][i.CHARACTER_TOKEN]=an,W[H][i.NULL_CHARACTER_TOKEN]=an,W[H][i.WHITESPACE_CHARACTER_TOKEN]=_e,W[H][i.COMMENT_TOKEN]=ie,W[H][i.DOCTYPE_TOKEN]=te,W[H][i.START_TAG_TOKEN]=on,W[H][i.END_TAG_TOKEN]=an,W[H][i.EOF_TOKEN]=ae,W[z]=Object.create(null),W[z][i.CHARACTER_TOKEN]=W[z][i.NULL_CHARACTER_TOKEN]=te,W[z][i.WHITESPACE_CHARACTER_TOKEN]=_e,W[z][i.COMMENT_TOKEN]=ie,W[z][i.DOCTYPE_TOKEN]=te,W[z][i.START_TAG_TOKEN]=sn,W[z][i.END_TAG_TOKEN]=te,W[z][i.EOF_TOKEN]=ae;var Y=e.exports=function(e){this.options=c(m,e),this.treeAdapter=this.options.treeAdapter,this.pendingScript=null,this.options.locationInfo&&new a(this)};function q(e,t){var n=e.activeFormattingElements.getElementEntryInScopeWithTagName(t.tagName);return n?e.openElements.contains(n.element)?e.openElements.hasInScope(t.tagName)||(n=null):(e.activeFormattingElements.removeEntry(n),n=null):ft(e,t),n}function Z(e,t){for(var n=null,r=e.openElements.stackTop;0<=r;r--){var i=e.openElements.items[r];if(i===t.element)break;e._isSpecialElement(i)&&(n=i)}return n||(e.openElements.popUntilElementPopped(t.element),e.activeFormattingElements.removeEntry(t)),n}function X(e,t,n){for(var r=t,i=e.openElements.getCommonAncestor(t),o=0,a=i;a!==n;o++,a=i){i=e.openElements.getCommonAncestor(a);var s=e.activeFormattingElements.getElementEntry(a),c=s&&b<=o;!s||c?(c&&e.activeFormattingElements.removeEntry(s),e.openElements.remove(a)):(a=Q(e,s),r===t&&(e.activeFormattingElements.bookmark=s),e.treeAdapter.detachNode(r),e.treeAdapter.appendChild(a,r),r=a)}return r}function Q(e,t){var n=e.treeAdapter.getNamespaceURI(t.element),r=e.treeAdapter.createElement(t.token.tagName,n,t.token.attrs);return e.openElements.replace(t.element,r),t.element=r}function J(e,t,n){var r,i;e._isElementCausesFosterParenting(t)?e._fosterParentElement(n):(r=e.treeAdapter.getTagName(t),i=e.treeAdapter.getNamespaceURI(t),r===f.TEMPLATE&&i===h.HTML&&(t=e.treeAdapter.getTemplateContent(t)),e.treeAdapter.appendChild(t,n))}function $(e,t,n){var r=e.treeAdapter.getNamespaceURI(n.element),i=n.token,o=e.treeAdapter.createElement(i.tagName,r,i.attrs);e._adoptNodes(t,o),e.treeAdapter.appendChild(t,o),e.activeFormattingElements.insertElementAfterBookmark(o,n.token),e.activeFormattingElements.removeEntry(n),e.openElements.remove(n.element),e.openElements.insertAfter(t,o)}function ee(e,t){for(var n,r=0;r<y&&(n=q(e,t,n));r++){var i=Z(e,n);if(!i)break;e.activeFormattingElements.bookmark=n;var o=X(e,i,n.element),a=e.openElements.getCommonAncestor(n.element);e.treeAdapter.detachNode(o),J(e,a,o),$(e,i,n)}}function te(){}function ne(e,t){e._appendCommentNode(t,e.openElements.currentTmplContent||e.openElements.current)}function re(e,t){e._appendCommentNode(t,e.openElements.items[0])}function ie(e,t){e._appendCommentNode(t,e.document)}function oe(e,t){e._insertCharacters(t)}function ae(e){e.stopped=!0}function se(e,t){e._setDocumentType(t);var n=t.forceQuirks?p.DOCUMENT_MODE.QUIRKS:u.getDocumentMode(t.name,t.publicId,t.systemId);e.treeAdapter.setDocumentMode(e.document,n),e.insertionMode=_}function ce(e,t){e.treeAdapter.setDocumentMode(e.document,p.DOCUMENT_MODE.QUIRKS),e.insertionMode=_,e._processToken(t)}function ue(e,t){t.tagName===f.HTML?(e._insertElement(t,h.HTML),e.insertionMode=C):de(e,t)}function le(e,t){var n=t.tagName;n!==f.HTML&&n!==f.HEAD&&n!==f.BODY&&n!==f.BR||de(e,t)}function de(e,t){e._insertFakeRootElement(),e.insertionMode=C,e._processToken(t)}function pe(e,t){var n=t.tagName;n===f.HTML?nt(e,t):n===f.HEAD?(e._insertElement(t,h.HTML),e.headElement=e.openElements.current,e.insertionMode=T):he(e,t)}function fe(e,t){var n=t.tagName;n!==f.HEAD&&n!==f.BODY&&n!==f.HTML&&n!==f.BR||he(e,t)}function he(e,t){e._insertFakeElement(f.HEAD),e.headElement=e.openElements.current,e.insertionMode=T,e._processToken(t)}function ge(e,t){var n=t.tagName;n===f.HTML?nt(e,t):n===f.BASE||n===f.BASEFONT||n===f.BGSOUND||n===f.LINK||n===f.META?e._appendElement(t,h.HTML):n===f.TITLE?e._switchToTextParsing(t,i.MODE.RCDATA):n===f.NOSCRIPT||n===f.NOFRAMES||n===f.STYLE?e._switchToTextParsing(t,i.MODE.RAWTEXT):n===f.SCRIPT?e._switchToTextParsing(t,i.MODE.SCRIPT_DATA):n===f.TEMPLATE?(e._insertTemplate(t,h.HTML),e.activeFormattingElements.insertMarker(),e.framesetOk=!1,e.insertionMode=j,e._pushTmplInsertionMode(j)):n!==f.HEAD&&ve(e,t)}function me(e,t){var n=t.tagName;n===f.HEAD?(e.openElements.pop(),e.insertionMode=O):n===f.BODY||n===f.BR||n===f.HTML?ve(e,t):n===f.TEMPLATE&&0<e.openElements.tmplCount&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(f.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e._popTmplInsertionMode(),e._resetInsertionMode())}function ve(e,t){e.openElements.pop(),e.insertionMode=O,e._processToken(t)}function ye(e,t){var n=t.tagName;n===f.HTML?nt(e,t):n===f.BODY?(e._insertElement(t,h.HTML),e.framesetOk=!1,e.insertionMode=k):n===f.FRAMESET?(e._insertElement(t,h.HTML),e.insertionMode=B):n===f.BASE||n===f.BASEFONT||n===f.BGSOUND||n===f.LINK||n===f.META||n===f.NOFRAMES||n===f.SCRIPT||n===f.STYLE||n===f.TEMPLATE||n===f.TITLE?(e.openElements.push(e.headElement),ge(e,t),e.openElements.remove(e.headElement)):n!==f.HEAD&&Ee(e,t)}function be(e,t){var n=t.tagName;n===f.BODY||n===f.HTML||n===f.BR?Ee(e,t):n===f.TEMPLATE&&me(e,t)}function Ee(e,t){e._insertFakeElement(f.BODY),e.insertionMode=k,e._processToken(t)}function _e(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t)}function Ae(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t),e.framesetOk=!1}function Ce(e,t){0===e.openElements.tmplCount&&e.treeAdapter.adoptAttributes(e.openElements.items[0],t.attrs)}function Te(e,t){var n=e.openElements.tryPeekProperlyNestedBodyElement();n&&0===e.openElements.tmplCount&&(e.framesetOk=!1,e.treeAdapter.adoptAttributes(n,t.attrs))}function Oe(e,t){var n=e.openElements.tryPeekProperlyNestedBodyElement();e.framesetOk&&n&&(e.treeAdapter.detachNode(n),e.openElements.popAllUpToHtmlElement(),e._insertElement(t,h.HTML),e.insertionMode=B)}function ke(e,t){e.openElements.hasInButtonScope(f.P)&&e._closePElement(),e._insertElement(t,h.HTML)}function Se(e,t){e.openElements.hasInButtonScope(f.P)&&e._closePElement();var n=e.openElements.currentTagName;n!==f.H1&&n!==f.H2&&n!==f.H3&&n!==f.H4&&n!==f.H5&&n!==f.H6||e.openElements.pop(),e._insertElement(t,h.HTML)}function we(e,t){e.openElements.hasInButtonScope(f.P)&&e._closePElement(),e._insertElement(t,h.HTML),e.skipNextNewLine=!0,e.framesetOk=!1}function Ie(e,t){var n=0<e.openElements.tmplCount;e.formElement&&!n||(e.openElements.hasInButtonScope(f.P)&&e._closePElement(),e._insertElement(t,h.HTML),n||(e.formElement=e.openElements.current))}function xe(e,t){e.framesetOk=!1;for(var n=t.tagName,r=e.openElements.stackTop;0<=r;r--){var i=e.openElements.items[r],o=e.treeAdapter.getTagName(i),a=null;if(n===f.LI&&o===f.LI?a=f.LI:n!==f.DD&&n!==f.DT||o!==f.DD&&o!==f.DT||(a=o),a){e.openElements.generateImpliedEndTagsWithExclusion(a),e.openElements.popUntilTagNamePopped(a);break}if(o!==f.ADDRESS&&o!==f.DIV&&o!==f.P&&e._isSpecialElement(i))break}e.openElements.hasInButtonScope(f.P)&&e._closePElement(),e._insertElement(t,h.HTML)}function Le(e,t){e.openElements.hasInButtonScope(f.P)&&e._closePElement(),e._insertElement(t,h.HTML),e.tokenizer.state=i.MODE.PLAINTEXT}function Re(e,t){e.openElements.hasInScope(f.BUTTON)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(f.BUTTON)),e._reconstructActiveFormattingElements(),e._insertElement(t,h.HTML),e.framesetOk=!1}function Ne(e,t){var n=e.activeFormattingElements.getElementEntryInScopeWithTagName(f.A);n&&(ee(e,t),e.openElements.remove(n.element),e.activeFormattingElements.removeEntry(n)),e._reconstructActiveFormattingElements(),e._insertElement(t,h.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function De(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,h.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function Me(e,t){e._reconstructActiveFormattingElements(),e.openElements.hasInScope(f.NOBR)&&(ee(e,t),e._reconstructActiveFormattingElements()),e._insertElement(t,h.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function Pe(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,h.HTML),e.activeFormattingElements.insertMarker(),e.framesetOk=!1}function je(e,t){e.treeAdapter.getDocumentMode(e.document)!==p.DOCUMENT_MODE.QUIRKS&&e.openElements.hasInButtonScope(f.P)&&e._closePElement(),e._insertElement(t,h.HTML),e.framesetOk=!1,e.insertionMode=w}function Fe(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,h.HTML),e.framesetOk=!1}function Be(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,h.HTML);var n=i.getTokenAttr(t,g.TYPE);n&&n.toLowerCase()===v||(e.framesetOk=!1)}function Ue(e,t){e._appendElement(t,h.HTML)}function He(e,t){e.openElements.hasInButtonScope(f.P)&&e._closePElement(),e.openElements.currentTagName===f.MENUITEM&&e.openElements.pop(),e._appendElement(t,h.HTML),e.framesetOk=!1}function ze(e,t){t.tagName=f.IMG,Fe(e,t)}function Ve(e,t){e._insertElement(t,h.HTML),e.skipNextNewLine=!0,e.tokenizer.state=i.MODE.RCDATA,e.originalInsertionMode=e.insertionMode,e.framesetOk=!1,e.insertionMode=S}function Ke(e,t){e.openElements.hasInButtonScope(f.P)&&e._closePElement(),e._reconstructActiveFormattingElements(),e.framesetOk=!1,e._switchToTextParsing(t,i.MODE.RAWTEXT)}function Ge(e,t){e.framesetOk=!1,e._switchToTextParsing(t,i.MODE.RAWTEXT)}function We(e,t){e._switchToTextParsing(t,i.MODE.RAWTEXT)}function Ye(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,h.HTML),e.framesetOk=!1,e.insertionMode===w||e.insertionMode===x||e.insertionMode===R||e.insertionMode===N||e.insertionMode===D?e.insertionMode=P:e.insertionMode=M}function qe(e,t){e.openElements.currentTagName===f.OPTION&&e.openElements.pop(),e._reconstructActiveFormattingElements(),e._insertElement(t,h.HTML)}function Ze(e,t){e.openElements.hasInScope(f.RUBY)&&e.openElements.generateImpliedEndTags(),e._insertElement(t,h.HTML)}function Xe(e,t){e.openElements.hasInScope(f.RUBY)&&e.openElements.generateImpliedEndTagsWithExclusion(f.RTC),e._insertElement(t,h.HTML)}function Qe(e,t){e.openElements.currentTagName===f.MENUITEM&&e.openElements.pop(),e._reconstructActiveFormattingElements(),e._insertElement(t,h.HTML)}function Je(e,t){e.openElements.hasInButtonScope(f.P)&&e._closePElement(),e.openElements.currentTagName===f.MENUITEM&&e.openElements.pop(),e._insertElement(t,h.HTML)}function $e(e,t){e._reconstructActiveFormattingElements(),l.adjustTokenMathMLAttrs(t),l.adjustTokenXMLAttrs(t),t.selfClosing?e._appendElement(t,h.MATHML):e._insertElement(t,h.MATHML)}function et(e,t){e._reconstructActiveFormattingElements(),l.adjustTokenSVGAttrs(t),l.adjustTokenXMLAttrs(t),t.selfClosing?e._appendElement(t,h.SVG):e._insertElement(t,h.SVG)}function tt(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,h.HTML)}function nt(e,t){var n=t.tagName;switch(n.length){case 1:(n===f.I||n===f.S||n===f.B||n===f.U?De:n===f.P?ke:n===f.A?Ne:tt)(e,t);break;case 2:n===f.DL||n===f.OL||n===f.UL?ke(e,t):n===f.H1||n===f.H2||n===f.H3||n===f.H4||n===f.H5||n===f.H6?Se(e,t):n===f.LI||n===f.DD||n===f.DT?xe(e,t):n===f.EM||n===f.TT?De(e,t):n===f.BR?Fe(e,t):n===f.HR?He(e,t):n===f.RB?Ze(e,t):n===f.RT||n===f.RP?Xe(e,t):n!==f.TH&&n!==f.TD&&n!==f.TR&&tt(e,t);break;case 3:n===f.DIV||n===f.DIR||n===f.NAV?ke(e,t):n===f.PRE?we(e,t):n===f.BIG?De(e,t):n===f.IMG||n===f.WBR?Fe(e,t):n===f.XMP?Ke(e,t):n===f.SVG?et(e,t):n===f.RTC?Ze(e,t):n!==f.COL&&tt(e,t);break;case 4:n===f.HTML?Ce(e,t):n===f.BASE||n===f.LINK||n===f.META?ge(e,t):n===f.BODY?Te(e,t):n===f.MAIN?ke(e,t):n===f.FORM?Ie(e,t):n===f.CODE||n===f.FONT?De(e,t):n===f.NOBR?Me(e,t):n===f.AREA?Fe(e,t):n===f.MATH?$e(e,t):n===f.MENU?Je(e,t):n!==f.HEAD&&tt(e,t);break;case 5:n===f.STYLE||n===f.TITLE?ge(e,t):n===f.ASIDE?ke(e,t):n===f.SMALL?De(e,t):n===f.TABLE?je(e,t):n===f.EMBED?Fe(e,t):n===f.INPUT?Be(e,t):n===f.PARAM||n===f.TRACK?Ue(e,t):n===f.IMAGE?ze(e,t):n!==f.FRAME&&n!==f.TBODY&&n!==f.TFOOT&&n!==f.THEAD&&tt(e,t);break;case 6:(n===f.SCRIPT?ge:n===f.CENTER||n===f.FIGURE||n===f.FOOTER||n===f.HEADER||n===f.HGROUP?ke:n===f.BUTTON?Re:n===f.STRIKE||n===f.STRONG?De:n===f.APPLET||n===f.OBJECT?Pe:n===f.KEYGEN?Fe:n===f.SOURCE?Ue:n===f.IFRAME?Ge:n===f.SELECT?Ye:n===f.OPTION?qe:tt)(e,t);break;case 7:n===f.BGSOUND?ge(e,t):n===f.DETAILS||n===f.ADDRESS||n===f.ARTICLE||n===f.SECTION||n===f.SUMMARY?ke(e,t):n===f.LISTING?we(e,t):n===f.MARQUEE?Pe(e,t):n===f.NOEMBED?We(e,t):n!==f.CAPTION&&tt(e,t);break;case 8:n===f.BASEFONT?ge(e,t):n===f.MENUITEM?Qe(e,t):n===f.FRAMESET?Oe(e,t):n===f.FIELDSET?ke(e,t):n===f.TEXTAREA?Ve(e,t):n===f.TEMPLATE?ge(e,t):n===f.NOSCRIPT?We(e,t):n===f.OPTGROUP?qe(e,t):n!==f.COLGROUP&&tt(e,t);break;case 9:(n===f.PLAINTEXT?Le:tt)(e,t);break;case 10:(n===f.BLOCKQUOTE||n===f.FIGCAPTION?ke:tt)(e,t);break;default:tt(e,t)}}function rt(e){e.openElements.hasInScope(f.BODY)&&(e.insertionMode=F)}function it(e,t){e.openElements.hasInScope(f.BODY)&&(e.insertionMode=F,e._processToken(t))}function ot(e,t){var n=t.tagName;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n))}function at(e){var t=0<e.openElements.tmplCount,n=e.formElement;t||(e.formElement=null),(n||t)&&e.openElements.hasInScope(f.FORM)&&(e.openElements.generateImpliedEndTags(),t?e.openElements.popUntilTagNamePopped(f.FORM):e.openElements.remove(n))}function st(e){e.openElements.hasInButtonScope(f.P)||e._insertFakeElement(f.P),e._closePElement()}function ct(e){e.openElements.hasInListItemScope(f.LI)&&(e.openElements.generateImpliedEndTagsWithExclusion(f.LI),e.openElements.popUntilTagNamePopped(f.LI))}function ut(e,t){var n=t.tagName;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTagsWithExclusion(n),e.openElements.popUntilTagNamePopped(n))}function lt(e){e.openElements.hasNumberedHeaderInScope()&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilNumberedHeaderPopped())}function dt(e,t){var n=t.tagName;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n),e.activeFormattingElements.clearToLastMarker())}function pt(e){e._reconstructActiveFormattingElements(),e._insertFakeElement(f.BR),e.openElements.pop(),e.framesetOk=!1}function ft(e,t){for(var n=t.tagName,r=e.openElements.stackTop;0<r;r--){var i=e.openElements.items[r];if(e.treeAdapter.getTagName(i)===n){e.openElements.generateImpliedEndTagsWithExclusion(n),e.openElements.popUntilElementPopped(i);break}if(e._isSpecialElement(i))break}}function ht(e,t){var n=t.tagName;switch(n.length){case 1:(n===f.A||n===f.B||n===f.I||n===f.S||n===f.U?ee:n===f.P?st:ft)(e,t);break;case 2:(n===f.DL||n===f.UL||n===f.OL?ot:n===f.LI?ct:n===f.DD||n===f.DT?ut:n===f.H1||n===f.H2||n===f.H3||n===f.H4||n===f.H5||n===f.H6?lt:n===f.BR?pt:n===f.EM||n===f.TT?ee:ft)(e,t);break;case 3:(n===f.BIG?ee:n===f.DIR||n===f.DIV||n===f.NAV?ot:ft)(e,t);break;case 4:(n===f.BODY?rt:n===f.HTML?it:n===f.FORM?at:n===f.CODE||n===f.FONT||n===f.NOBR?ee:n===f.MAIN||n===f.MENU?ot:ft)(e,t);break;case 5:(n===f.ASIDE?ot:n===f.SMALL?ee:ft)(e,t);break;case 6:(n===f.CENTER||n===f.FIGURE||n===f.FOOTER||n===f.HEADER||n===f.HGROUP?ot:n===f.APPLET||n===f.OBJECT?dt:n===f.STRIKE||n===f.STRONG?ee:ft)(e,t);break;case 7:(n===f.ADDRESS||n===f.ARTICLE||n===f.DETAILS||n===f.SECTION||n===f.SUMMARY?ot:n===f.MARQUEE?dt:ft)(e,t);break;case 8:(n===f.FIELDSET?ot:n===f.TEMPLATE?me:ft)(e,t);break;case 10:(n===f.BLOCKQUOTE||n===f.FIGCAPTION?ot:ft)(e,t);break;default:ft(e,t)}}function gt(e,t){-1<e.tmplInsertionModeStackTop?Xt(e,t):e.stopped=!0}function mt(e,t){t.tagName===f.SCRIPT&&(e.pendingScript=e.openElements.current),e.openElements.pop(),e.insertionMode=e.originalInsertionMode}function vt(e,t){e.openElements.pop(),e.insertionMode=e.originalInsertionMode,e._processToken(t)}function yt(e,t){var n=e.openElements.currentTagName;n===f.TABLE||n===f.TBODY||n===f.TFOOT||n===f.THEAD||n===f.TR?(e.pendingCharacterTokens=[],e.hasNonWhitespacePendingCharacterToken=!1,e.originalInsertionMode=e.insertionMode,e.insertionMode=I,e._processToken(t)):It(e,t)}function bt(e,t){e.openElements.clearBackToTableContext(),e.activeFormattingElements.insertMarker(),e._insertElement(t,h.HTML),e.insertionMode=x}function Et(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,h.HTML),e.insertionMode=L}function _t(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(f.COLGROUP),e.insertionMode=L,e._processToken(t)}function At(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,h.HTML),e.insertionMode=R}function Ct(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(f.TBODY),e.insertionMode=R,e._processToken(t)}function Tt(e,t){e.openElements.hasInTableScope(f.TABLE)&&(e.openElements.popUntilTagNamePopped(f.TABLE),e._resetInsertionMode(),e._processToken(t))}function Ot(e,t){var n=i.getTokenAttr(t,g.TYPE);n&&n.toLowerCase()===v?e._appendElement(t,h.HTML):It(e,t)}function kt(e,t){e.formElement||0!==e.openElements.tmplCount||(e._insertElement(t,h.HTML),e.formElement=e.openElements.current,e.openElements.pop())}function St(e,t){var n=t.tagName;switch(n.length){case 2:(n===f.TD||n===f.TH||n===f.TR?Ct:It)(e,t);break;case 3:(n===f.COL?_t:It)(e,t);break;case 4:(n===f.FORM?kt:It)(e,t);break;case 5:(n===f.TABLE?Tt:n===f.STYLE?ge:n===f.TBODY||n===f.TFOOT||n===f.THEAD?At:n===f.INPUT?Ot:It)(e,t);break;case 6:(n===f.SCRIPT?ge:It)(e,t);break;case 7:(n===f.CAPTION?bt:It)(e,t);break;case 8:(n===f.COLGROUP?Et:n===f.TEMPLATE?ge:It)(e,t);break;default:It(e,t)}}function wt(e,t){var n=t.tagName;n===f.TABLE?e.openElements.hasInTableScope(f.TABLE)&&(e.openElements.popUntilTagNamePopped(f.TABLE),e._resetInsertionMode()):n===f.TEMPLATE?me(e,t):n!==f.BODY&&n!==f.CAPTION&&n!==f.COL&&n!==f.COLGROUP&&n!==f.HTML&&n!==f.TBODY&&n!==f.TD&&n!==f.TFOOT&&n!==f.TH&&n!==f.THEAD&&n!==f.TR&&It(e,t)}function It(e,t){var n=e.fosterParentingEnabled;e.fosterParentingEnabled=!0,e._processTokenInBodyMode(t),e.fosterParentingEnabled=n}function xt(e,t){e.pendingCharacterTokens.push(t)}function Lt(e,t){e.pendingCharacterTokens.push(t),e.hasNonWhitespacePendingCharacterToken=!0}function Rt(e,t){var n=0;if(e.hasNonWhitespacePendingCharacterToken)for(;n<e.pendingCharacterTokens.length;n++)It(e,e.pendingCharacterTokens[n]);else for(;n<e.pendingCharacterTokens.length;n++)e._insertCharacters(e.pendingCharacterTokens[n]);e.insertionMode=e.originalInsertionMode,e._processToken(t)}function Nt(e,t){var n=t.tagName;n===f.CAPTION||n===f.COL||n===f.COLGROUP||n===f.TBODY||n===f.TD||n===f.TFOOT||n===f.TH||n===f.THEAD||n===f.TR?e.openElements.hasInTableScope(f.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(f.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=w,e._processToken(t)):nt(e,t)}function Dt(e,t){var n=t.tagName;n===f.CAPTION||n===f.TABLE?e.openElements.hasInTableScope(f.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(f.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=w,n===f.TABLE&&e._processToken(t)):n!==f.BODY&&n!==f.COL&&n!==f.COLGROUP&&n!==f.HTML&&n!==f.TBODY&&n!==f.TD&&n!==f.TFOOT&&n!==f.TH&&n!==f.THEAD&&n!==f.TR&&ht(e,t)}function Mt(e,t){var n=t.tagName;n===f.HTML?nt(e,t):n===f.COL?e._appendElement(t,h.HTML):(n===f.TEMPLATE?ge:jt)(e,t)}function Pt(e,t){var n=t.tagName;n===f.COLGROUP?e.openElements.currentTagName===f.COLGROUP&&(e.openElements.pop(),e.insertionMode=w):n===f.TEMPLATE?me(e,t):n!==f.COL&&jt(e,t)}function jt(e,t){e.openElements.currentTagName===f.COLGROUP&&(e.openElements.pop(),e.insertionMode=w,e._processToken(t))}function Ft(e,t){var n=t.tagName;n===f.TR?(e.openElements.clearBackToTableBodyContext(),e._insertElement(t,h.HTML),e.insertionMode=N):n===f.TH||n===f.TD?(e.openElements.clearBackToTableBodyContext(),e._insertFakeElement(f.TR),e.insertionMode=N,e._processToken(t)):n===f.CAPTION||n===f.COL||n===f.COLGROUP||n===f.TBODY||n===f.TFOOT||n===f.THEAD?e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=w,e._processToken(t)):St(e,t)}function Bt(e,t){var n=t.tagName;n===f.TBODY||n===f.TFOOT||n===f.THEAD?e.openElements.hasInTableScope(n)&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=w):n===f.TABLE?e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=w,e._processToken(t)):(n!==f.BODY&&n!==f.CAPTION&&n!==f.COL&&n!==f.COLGROUP||n!==f.HTML&&n!==f.TD&&n!==f.TH&&n!==f.TR)&&wt(e,t)}function Ut(e,t){var n=t.tagName;n===f.TH||n===f.TD?(e.openElements.clearBackToTableRowContext(),e._insertElement(t,h.HTML),e.insertionMode=D,e.activeFormattingElements.insertMarker()):n===f.CAPTION||n===f.COL||n===f.COLGROUP||n===f.TBODY||n===f.TFOOT||n===f.THEAD||n===f.TR?e.openElements.hasInTableScope(f.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=R,e._processToken(t)):St(e,t)}function Ht(e,t){var n=t.tagName;n===f.TR?e.openElements.hasInTableScope(f.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=R):n===f.TABLE?e.openElements.hasInTableScope(f.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=R,e._processToken(t)):n===f.TBODY||n===f.TFOOT||n===f.THEAD?(e.openElements.hasInTableScope(n)||e.openElements.hasInTableScope(f.TR))&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=R,e._processToken(t)):(n!==f.BODY&&n!==f.CAPTION&&n!==f.COL&&n!==f.COLGROUP||n!==f.HTML&&n!==f.TD&&n!==f.TH)&&wt(e,t)}function zt(e,t){var n=t.tagName;n===f.CAPTION||n===f.COL||n===f.COLGROUP||n===f.TBODY||n===f.TD||n===f.TFOOT||n===f.TH||n===f.THEAD||n===f.TR?(e.openElements.hasInTableScope(f.TD)||e.openElements.hasInTableScope(f.TH))&&(e._closeTableCell(),e._processToken(t)):nt(e,t)}function Vt(e,t){var n=t.tagName;n===f.TD||n===f.TH?e.openElements.hasInTableScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=N):n===f.TABLE||n===f.TBODY||n===f.TFOOT||n===f.THEAD||n===f.TR?e.openElements.hasInTableScope(n)&&(e._closeTableCell(),e._processToken(t)):n!==f.BODY&&n!==f.CAPTION&&n!==f.COL&&n!==f.COLGROUP&&n!==f.HTML&&ht(e,t)}function Kt(e,t){var n=t.tagName;n===f.HTML?nt(e,t):n===f.OPTION?(e.openElements.currentTagName===f.OPTION&&e.openElements.pop(),e._insertElement(t,h.HTML)):n===f.OPTGROUP?(e.openElements.currentTagName===f.OPTION&&e.openElements.pop(),e.openElements.currentTagName===f.OPTGROUP&&e.openElements.pop(),e._insertElement(t,h.HTML)):n===f.INPUT||n===f.KEYGEN||n===f.TEXTAREA||n===f.SELECT?e.openElements.hasInSelectScope(f.SELECT)&&(e.openElements.popUntilTagNamePopped(f.SELECT),e._resetInsertionMode(),n!==f.SELECT&&e._processToken(t)):n!==f.SCRIPT&&n!==f.TEMPLATE||ge(e,t)}function Gt(e,t){var n,r,i=t.tagName;i===f.OPTGROUP?(r=(n=e.openElements.items[e.openElements.stackTop-1])&&e.treeAdapter.getTagName(n),e.openElements.currentTagName===f.OPTION&&r===f.OPTGROUP&&e.openElements.pop(),e.openElements.currentTagName===f.OPTGROUP&&e.openElements.pop()):i===f.OPTION?e.openElements.currentTagName===f.OPTION&&e.openElements.pop():i===f.SELECT&&e.openElements.hasInSelectScope(f.SELECT)?(e.openElements.popUntilTagNamePopped(f.SELECT),e._resetInsertionMode()):i===f.TEMPLATE&&me(e,t)}function Wt(e,t){var n=t.tagName;n===f.CAPTION||n===f.TABLE||n===f.TBODY||n===f.TFOOT||n===f.THEAD||n===f.TR||n===f.TD||n===f.TH?(e.openElements.popUntilTagNamePopped(f.SELECT),e._resetInsertionMode(),e._processToken(t)):Kt(e,t)}function Yt(e,t){var n=t.tagName;n===f.CAPTION||n===f.TABLE||n===f.TBODY||n===f.TFOOT||n===f.THEAD||n===f.TR||n===f.TD||n===f.TH?e.openElements.hasInTableScope(n)&&(e.openElements.popUntilTagNamePopped(f.SELECT),e._resetInsertionMode(),e._processToken(t)):Gt(e,t)}function qt(e,t){var n,r=t.tagName;r===f.BASE||r===f.BASEFONT||r===f.BGSOUND||r===f.LINK||r===f.META||r===f.NOFRAMES||r===f.SCRIPT||r===f.STYLE||r===f.TEMPLATE||r===f.TITLE?ge(e,t):(n=K[r]||k,e._popTmplInsertionMode(),e._pushTmplInsertionMode(n),e.insertionMode=n,e._processToken(t))}function Zt(e,t){t.tagName===f.TEMPLATE&&me(e,t)}function Xt(e,t){0<e.openElements.tmplCount?(e.openElements.popUntilTagNamePopped(f.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e._popTmplInsertionMode(),e._resetInsertionMode(),e._processToken(t)):e.stopped=!0}function Qt(e,t){(t.tagName===f.HTML?nt:$t)(e,t)}function Jt(e,t){t.tagName===f.HTML?e.fragmentContext||(e.insertionMode=H):$t(e,t)}function $t(e,t){e.insertionMode=k,e._processToken(t)}function en(e,t){var n=t.tagName;n===f.HTML?nt(e,t):n===f.FRAMESET?e._insertElement(t,h.HTML):n===f.FRAME?e._appendElement(t,h.HTML):n===f.NOFRAMES&&ge(e,t)}function tn(e,t){t.tagName!==f.FRAMESET||e.openElements.isRootHtmlElementCurrent()||(e.openElements.pop(),e.fragmentContext||e.openElements.currentTagName===f.FRAMESET||(e.insertionMode=U))}function nn(e,t){var n=t.tagName;n===f.HTML?nt(e,t):n===f.NOFRAMES&&ge(e,t)}function rn(e,t){t.tagName===f.HTML&&(e.insertionMode=z)}function on(e,t){(t.tagName===f.HTML?nt:an)(e,t)}function an(e,t){e.insertionMode=k,e._processToken(t)}function sn(e,t){var n=t.tagName;n===f.HTML?nt(e,t):n===f.NOFRAMES&&ge(e,t)}function cn(e,t){t.chars=d.REPLACEMENT_CHARACTER,e._insertCharacters(t)}function un(e,t){e._insertCharacters(t),e.framesetOk=!1}function ln(e,t){if(l.causesExit(t)&&!e.fragmentContext){for(;e.treeAdapter.getNamespaceURI(e.openElements.current)!==h.HTML&&!e._isIntegrationPoint(e.openElements.current);)e.openElements.pop();e._processToken(t)}else{var n=e._getAdjustedCurrentElement(),r=e.treeAdapter.getNamespaceURI(n);r===h.MATHML?l.adjustTokenMathMLAttrs(t):r===h.SVG&&(l.adjustTokenSVGTagName(t),l.adjustTokenSVGAttrs(t)),l.adjustTokenXMLAttrs(t),t.selfClosing?e._appendElement(t,r):e._insertElement(t,r)}}function dn(e,t){for(var n=e.openElements.stackTop;0<n;n--){var r=e.openElements.items[n];if(e.treeAdapter.getNamespaceURI(r)===h.HTML){e._processToken(t);break}if(e.treeAdapter.getTagName(r).toLowerCase()===t.tagName){e.openElements.popUntilElementPopped(r);break}}}Y.prototype.parse=function(e){var t=this.treeAdapter.createDocument();return this._bootstrap(t,null),this.tokenizer.write(e,!0),this._runParsingLoop(null),t},Y.prototype.parseFragment=function(e,t){t=t||this.treeAdapter.createElement(f.TEMPLATE,h.HTML,[]);var n=this.treeAdapter.createElement("documentmock",h.HTML,[]);this._bootstrap(n,t),this.treeAdapter.getTagName(t)===f.TEMPLATE&&this._pushTmplInsertionMode(j),this._initTokenizerForFragmentParsing(),this._insertFakeRootElement(),this._resetInsertionMode(),this._findFormInFragmentContext(),this.tokenizer.write(e,!0),this._runParsingLoop(null);var r=this.treeAdapter.getFirstChild(n),i=this.treeAdapter.createDocumentFragment();return this._adoptNodes(r,i),i},Y.prototype._bootstrap=function(e,t){this.tokenizer=new i(this.options),this.stopped=!1,this.insertionMode=E,this.originalInsertionMode="",this.document=e,this.fragmentContext=t,this.headElement=null,this.formElement=null,this.openElements=new r(this.document,this.treeAdapter),this.activeFormattingElements=new o(this.treeAdapter),this.tmplInsertionModeStack=[],this.tmplInsertionModeStackTop=-1,this.currentTmplInsertionMode=null,this.pendingCharacterTokens=[],this.hasNonWhitespacePendingCharacterToken=!1,this.framesetOk=!0,this.skipNextNewLine=!1,this.fosterParentingEnabled=!1},Y.prototype._runParsingLoop=function(e){for(;!this.stopped;){this._setupTokenizerCDATAMode();var t=this.tokenizer.getNextToken();if(t.type===i.HIBERNATION_TOKEN)break;if(this.skipNextNewLine&&(this.skipNextNewLine=!1,t.type===i.WHITESPACE_CHARACTER_TOKEN&&"\n"===t.chars[0])){if(1===t.chars.length)continue;t.chars=t.chars.substr(1)}if(this._processInputToken(t),e&&this.pendingScript)break}},Y.prototype.runParsingLoopForCurrentChunk=function(e,t){if(this._runParsingLoop(t),t&&this.pendingScript){var n=this.pendingScript;return this.pendingScript=null,void t(n)}e&&e()},Y.prototype._setupTokenizerCDATAMode=function(){var e=this._getAdjustedCurrentElement();this.tokenizer.allowCDATA=e&&e!==this.document&&this.treeAdapter.getNamespaceURI(e)!==h.HTML&&!this._isIntegrationPoint(e)},Y.prototype._switchToTextParsing=function(e,t){this._insertElement(e,h.HTML),this.tokenizer.state=t,this.originalInsertionMode=this.insertionMode,this.insertionMode=S},Y.prototype.switchToPlaintextParsing=function(){this.insertionMode=S,this.originalInsertionMode=k,this.tokenizer.state=i.MODE.PLAINTEXT},Y.prototype._getAdjustedCurrentElement=function(){return 0===this.openElements.stackTop&&this.fragmentContext?this.fragmentContext:this.openElements.current},Y.prototype._findFormInFragmentContext=function(){var e=this.fragmentContext;do{if(this.treeAdapter.getTagName(e)===f.FORM){this.formElement=e;break}}while(e=this.treeAdapter.getParentNode(e))},Y.prototype._initTokenizerForFragmentParsing=function(){var e;this.treeAdapter.getNamespaceURI(this.fragmentContext)===h.HTML&&((e=this.treeAdapter.getTagName(this.fragmentContext))===f.TITLE||e===f.TEXTAREA?this.tokenizer.state=i.MODE.RCDATA:e===f.STYLE||e===f.XMP||e===f.IFRAME||e===f.NOEMBED||e===f.NOFRAMES||e===f.NOSCRIPT?this.tokenizer.state=i.MODE.RAWTEXT:e===f.SCRIPT?this.tokenizer.state=i.MODE.SCRIPT_DATA:e===f.PLAINTEXT&&(this.tokenizer.state=i.MODE.PLAINTEXT))},Y.prototype._setDocumentType=function(e){this.treeAdapter.setDocumentType(this.document,e.name,e.publicId,e.systemId)},Y.prototype._attachElementToTree=function(e){var t;this._shouldFosterParentOnInsertion()?this._fosterParentElement(e):(t=this.openElements.currentTmplContent||this.openElements.current,this.treeAdapter.appendChild(t,e))},Y.prototype._appendElement=function(e,t){var n=this.treeAdapter.createElement(e.tagName,t,e.attrs);this._attachElementToTree(n)},Y.prototype._insertElement=function(e,t){var n=this.treeAdapter.createElement(e.tagName,t,e.attrs);this._attachElementToTree(n),this.openElements.push(n)},Y.prototype._insertFakeElement=function(e){var t=this.treeAdapter.createElement(e,h.HTML,[]);this._attachElementToTree(t),this.openElements.push(t)},Y.prototype._insertTemplate=function(e){var t=this.treeAdapter.createElement(e.tagName,h.HTML,e.attrs),n=this.treeAdapter.createDocumentFragment();this.treeAdapter.setTemplateContent(t,n),this._attachElementToTree(t),this.openElements.push(t)},Y.prototype._insertFakeRootElement=function(){var e=this.treeAdapter.createElement(f.HTML,h.HTML,[]);this.treeAdapter.appendChild(this.openElements.current,e),this.openElements.push(e)},Y.prototype._appendCommentNode=function(e,t){var n=this.treeAdapter.createCommentNode(e.data);this.treeAdapter.appendChild(t,n)},Y.prototype._insertCharacters=function(e){var t;this._shouldFosterParentOnInsertion()?this._fosterParentText(e.chars):(t=this.openElements.currentTmplContent||this.openElements.current,this.treeAdapter.insertText(t,e.chars))},Y.prototype._adoptNodes=function(e,t){for(;;){var n=this.treeAdapter.getFirstChild(e);if(!n)break;this.treeAdapter.detachNode(n),this.treeAdapter.appendChild(t,n)}},Y.prototype._shouldProcessTokenInForeignContent=function(e){var t=this._getAdjustedCurrentElement();if(!t||t===this.document)return!1;var n=this.treeAdapter.getNamespaceURI(t);if(n===h.HTML)return!1;if(this.treeAdapter.getTagName(t)===f.ANNOTATION_XML&&n===h.MATHML&&e.type===i.START_TAG_TOKEN&&e.tagName===f.SVG)return!1;var r=e.type===i.CHARACTER_TOKEN||e.type===i.NULL_CHARACTER_TOKEN||e.type===i.WHITESPACE_CHARACTER_TOKEN;return(!(e.type===i.START_TAG_TOKEN&&e.tagName!==f.MGLYPH&&e.tagName!==f.MALIGNMARK||r)||!this._isIntegrationPoint(t,h.MATHML))&&((e.type!==i.START_TAG_TOKEN&&!r||!this._isIntegrationPoint(t,h.HTML))&&e.type!==i.EOF_TOKEN)},Y.prototype._processToken=function(e){W[this.insertionMode][e.type](this,e)},Y.prototype._processTokenInBodyMode=function(e){W[k][e.type](this,e)},Y.prototype._processTokenInForeignContent=function(e){e.type===i.CHARACTER_TOKEN?un(this,e):e.type===i.NULL_CHARACTER_TOKEN?cn(this,e):e.type===i.WHITESPACE_CHARACTER_TOKEN?oe(this,e):e.type===i.COMMENT_TOKEN?ne(this,e):e.type===i.START_TAG_TOKEN?ln(this,e):e.type===i.END_TAG_TOKEN&&dn(this,e)},Y.prototype._processInputToken=function(e){this._shouldProcessTokenInForeignContent(e)?this._processTokenInForeignContent(e):this._processToken(e)},Y.prototype._isIntegrationPoint=function(e,t){var n=this.treeAdapter.getTagName(e),r=this.treeAdapter.getNamespaceURI(e),i=this.treeAdapter.getAttrList(e);return l.isIntegrationPoint(n,r,i,t)},Y.prototype._reconstructActiveFormattingElements=function(){var e=this.activeFormattingElements.length;if(e){var t=e,n=null;do{if(t--,(n=this.activeFormattingElements.entries[t]).type===o.MARKER_ENTRY||this.openElements.contains(n.element)){t++;break}}while(0<t);for(var r=t;r<e;r++)n=this.activeFormattingElements.entries[r],this._insertElement(n.token,this.treeAdapter.getNamespaceURI(n.element)),n.element=this.openElements.current}},Y.prototype._closeTableCell=function(){this.openElements.generateImpliedEndTags(),this.openElements.popUntilTableCellPopped(),this.activeFormattingElements.clearToLastMarker(),this.insertionMode=N},Y.prototype._closePElement=function(){this.openElements.generateImpliedEndTagsWithExclusion(f.P),this.openElements.popUntilTagNamePopped(f.P)},Y.prototype._resetInsertionMode=function(){for(var e=this.openElements.stackTop,t=!1;0<=e;e--){var n=this.openElements.items[e];0===e&&(t=!0,this.fragmentContext&&(n=this.fragmentContext));var r=this.treeAdapter.getTagName(n),i=V[r];if(i){this.insertionMode=i;break}if(!(t||r!==f.TD&&r!==f.TH)){this.insertionMode=D;break}if(!t&&r===f.HEAD){this.insertionMode=T;break}if(r===f.SELECT){this._resetInsertionModeForSelect(e);break}if(r===f.TEMPLATE){this.insertionMode=this.currentTmplInsertionMode;break}if(r===f.HTML){this.insertionMode=this.headElement?O:C;break}if(t){this.insertionMode=k;break}}},Y.prototype._resetInsertionModeForSelect=function(e){if(0<e)for(var t=e-1;0<t;t--){var n=this.openElements.items[t],r=this.treeAdapter.getTagName(n);if(r===f.TEMPLATE)break;if(r===f.TABLE)return void(this.insertionMode=P)}this.insertionMode=M},Y.prototype._pushTmplInsertionMode=function(e){this.tmplInsertionModeStack.push(e),this.tmplInsertionModeStackTop++,this.currentTmplInsertionMode=e},Y.prototype._popTmplInsertionMode=function(){this.tmplInsertionModeStack.pop(),this.tmplInsertionModeStackTop--,this.currentTmplInsertionMode=this.tmplInsertionModeStack[this.tmplInsertionModeStackTop]},Y.prototype._isElementCausesFosterParenting=function(e){var t=this.treeAdapter.getTagName(e);return t===f.TABLE||t===f.TBODY||t===f.TFOOT||t===f.THEAD||t===f.TR},Y.prototype._shouldFosterParentOnInsertion=function(){return this.fosterParentingEnabled&&this._isElementCausesFosterParenting(this.openElements.current)},Y.prototype._findFosterParentingLocation=function(){for(var e={parent:null,beforeElement:null},t=this.openElements.stackTop;0<=t;t--){var n=this.openElements.items[t],r=this.treeAdapter.getTagName(n),i=this.treeAdapter.getNamespaceURI(n);if(r===f.TEMPLATE&&i===h.HTML){e.parent=this.treeAdapter.getTemplateContent(n);break}if(r===f.TABLE){e.parent=this.treeAdapter.getParentNode(n),e.parent?e.beforeElement=n:e.parent=this.openElements.items[t-1];break}}return e.parent||(e.parent=this.openElements.items[0]),e},Y.prototype._fosterParentElement=function(e){var t=this._findFosterParentingLocation();t.beforeElement?this.treeAdapter.insertBefore(t.parent,e,t.beforeElement):this.treeAdapter.appendChild(t.parent,e)},Y.prototype._fosterParentText=function(e){var t=this._findFosterParentingLocation();t.beforeElement?this.treeAdapter.insertTextBefore(t.parent,e,t.beforeElement):this.treeAdapter.insertText(t.parent,e)},Y.prototype._isSpecialElement=function(e){var t=this.treeAdapter.getTagName(e),n=this.treeAdapter.getNamespaceURI(e);return p.SPECIAL_ELEMENTS[n][t]}},zTCG:function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return o}),n.d(t,"c",function(){return a});var r=n("kESg"),i={CODE_BLOCK:"code-block",ACE_LINE:"code-block-ace-line",LINE:"code-block-line",CONTAINER:"code-block-container",HEADER:"code-block-header",HEADER_BTN:"code-block-header-btn",HEADER_BTN_CON:"code-block-header-btn-con",LANG_PICKER:"code-block__lang-picker",LANG_PICKER_HEADER_CON:"code-block__lang-picker-header-con",SPAN:"".concat(r.k.ZoneType,"-").concat(r.l.CodeBlock),COPY_CODE:"copy-code",CODE_LINE_NUM:"code-block-line-num",CODE_BLOCK_UPGRADE:"code-block-upgrade",WORD_WRAP_PREFIX:"word-wrap"},o="SourceCodePro",a=12},zZ0H:function(e,t){function n(e){return e}e.exports=n},zpDW:function(e,t,n){"use strict";var r=n("YpxX"),i=n("pRQB"),d=n("+M9m"),p=i.CODE_POINTS,o=i.CODE_POINT_SEQUENCES,a={0:65533,13:13,128:8364,129:129,130:8218,131:402,132:8222,133:8230,134:8224,135:8225,136:710,137:8240,138:352,139:8249,140:338,141:141,142:381,143:143,144:144,145:8216,146:8217,147:8220,148:8221,149:8226,150:8211,151:8212,152:732,153:8482,154:353,155:8250,156:339,157:157,158:382,159:376},f=1,h=2,g=4,m=f|h|g,s="DATA_STATE",c="CHARACTER_REFERENCE_IN_DATA_STATE",u="RCDATA_STATE",l="CHARACTER_REFERENCE_IN_RCDATA_STATE",v="RAWTEXT_STATE",y="SCRIPT_DATA_STATE",b="PLAINTEXT_STATE",E="TAG_OPEN_STATE",_="END_TAG_OPEN_STATE",C="TAG_NAME_STATE",T="RCDATA_LESS_THAN_SIGN_STATE",O="RCDATA_END_TAG_OPEN_STATE",k="RCDATA_END_TAG_NAME_STATE",S="RAWTEXT_LESS_THAN_SIGN_STATE",w="RAWTEXT_END_TAG_OPEN_STATE",I="RAWTEXT_END_TAG_NAME_STATE",x="SCRIPT_DATA_LESS_THAN_SIGN_STATE",L="SCRIPT_DATA_END_TAG_OPEN_STATE",R="SCRIPT_DATA_END_TAG_NAME_STATE",N="SCRIPT_DATA_ESCAPE_START_STATE",D="SCRIPT_DATA_ESCAPE_START_DASH_STATE",M="SCRIPT_DATA_ESCAPED_STATE",P="SCRIPT_DATA_ESCAPED_DASH_STATE",j="SCRIPT_DATA_ESCAPED_DASH_DASH_STATE",F="SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN_STATE",B="SCRIPT_DATA_ESCAPED_END_TAG_OPEN_STATE",U="SCRIPT_DATA_ESCAPED_END_TAG_NAME_STATE",H="SCRIPT_DATA_DOUBLE_ESCAPE_START_STATE",z="SCRIPT_DATA_DOUBLE_ESCAPED_STATE",V="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_STATE",K="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH_STATE",W="SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN_STATE",Y="SCRIPT_DATA_DOUBLE_ESCAPE_END_STATE",q="BEFORE_ATTRIBUTE_NAME_STATE",Z="ATTRIBUTE_NAME_STATE",X="AFTER_ATTRIBUTE_NAME_STATE",Q="BEFORE_ATTRIBUTE_VALUE_STATE",J="ATTRIBUTE_VALUE_DOUBLE_QUOTED_STATE",$="ATTRIBUTE_VALUE_SINGLE_QUOTED_STATE",ee="ATTRIBUTE_VALUE_UNQUOTED_STATE",te="CHARACTER_REFERENCE_IN_ATTRIBUTE_VALUE_STATE",ne="AFTER_ATTRIBUTE_VALUE_QUOTED_STATE",re="SELF_CLOSING_START_TAG_STATE",ie="BOGUS_COMMENT_STATE",oe="BOGUS_COMMENT_STATE_CONTINUATION",ae="MARKUP_DECLARATION_OPEN_STATE",se="COMMENT_START_STATE",ce="COMMENT_START_DASH_STATE",ue="COMMENT_STATE",le="COMMENT_END_DASH_STATE",de="COMMENT_END_STATE",pe="COMMENT_END_BANG_STATE",fe="DOCTYPE_STATE",he="DOCTYPE_NAME_STATE",ge="AFTER_DOCTYPE_NAME_STATE",me="BEFORE_DOCTYPE_PUBLIC_IDENTIFIER_STATE",ve="DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED_STATE",ye="DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED_STATE",be="BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS_STATE",Ee="BEFORE_DOCTYPE_SYSTEM_IDENTIFIER_STATE",_e="DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED_STATE",Ae="DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED_STATE",Ce="AFTER_DOCTYPE_SYSTEM_IDENTIFIER_STATE",Te="BOGUS_DOCTYPE_STATE",Oe="CDATA_SECTION_STATE";function ke(e){return e===p.SPACE||e===p.LINE_FEED||e===p.TABULATION||e===p.FORM_FEED}function Se(e){return e>=p.DIGIT_0&&e<=p.DIGIT_9}function we(e){return e>=p.LATIN_CAPITAL_A&&e<=p.LATIN_CAPITAL_Z}function Ie(e){return e>=p.LATIN_SMALL_A&&e<=p.LATIN_SMALL_Z}function xe(e){return Ie(e)||we(e)}function Le(e){return xe(e)||Se(e)}function Re(e,t){return Se(e)||t&&(e>=p.LATIN_CAPITAL_A&&e<=p.LATIN_CAPITAL_F||e>=p.LATIN_SMALL_A&&e<=p.LATIN_SMALL_F)}function Ne(e){return 55296<=e&&e<=57343||1114111<e}function De(e){return e+32}function Me(e){return e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode(e>>>10&1023|55296)+String.fromCharCode(56320|1023&e))}function Pe(e){return String.fromCharCode(De(e))}function je(e,t){for(var n=d[++e],r=++e,i=r+n-1;r<=i;){var o=r+i>>>1,a=d[o];if(a<t)r=o+1;else{if(!(t<a))return d[o+n];i=o-1}}return-1}var Fe=e.exports=function(){this.preprocessor=new r,this.tokenQueue=[],this.allowCDATA=!1,this.state=s,this.returnState="",this.tempBuff=[],this.additionalAllowedCp=void 0,this.lastStartTagName="",this.consumedAfterSnapshot=-1,this.active=!1,this.currentCharacterToken=null,this.currentToken=null,this.currentAttr=null};Fe.CHARACTER_TOKEN="CHARACTER_TOKEN",Fe.NULL_CHARACTER_TOKEN="NULL_CHARACTER_TOKEN",Fe.WHITESPACE_CHARACTER_TOKEN="WHITESPACE_CHARACTER_TOKEN",Fe.START_TAG_TOKEN="START_TAG_TOKEN",Fe.END_TAG_TOKEN="END_TAG_TOKEN",Fe.COMMENT_TOKEN="COMMENT_TOKEN",Fe.DOCTYPE_TOKEN="DOCTYPE_TOKEN",Fe.EOF_TOKEN="EOF_TOKEN",Fe.HIBERNATION_TOKEN="HIBERNATION_TOKEN",Fe.MODE={DATA:s,RCDATA:u,RAWTEXT:v,SCRIPT_DATA:y,PLAINTEXT:b},Fe.getTokenAttr=function(e,t){for(var n=e.attrs.length-1;0<=n;n--)if(e.attrs[n].name===t)return e.attrs[n].value;return null},Fe.prototype.getNextToken=function(){for(;!this.tokenQueue.length&&this.active;){this._hibernationSnapshot();var e=this._consume();this._ensureHibernation()||this[this.state](e)}return this.tokenQueue.shift()},Fe.prototype.write=function(e,t){this.active=!0,this.preprocessor.write(e,t)},Fe.prototype.insertHtmlAtCurrentPos=function(e){this.active=!0,this.preprocessor.insertHtmlAtCurrentPos(e)},Fe.prototype._hibernationSnapshot=function(){this.consumedAfterSnapshot=0},Fe.prototype._ensureHibernation=function(){if(this.preprocessor.endOfChunkHit){for(;0<this.consumedAfterSnapshot;this.consumedAfterSnapshot--)this.preprocessor.retreat();return this.active=!1,this.tokenQueue.push({type:Fe.HIBERNATION_TOKEN}),!0}return!1},Fe.prototype._consume=function(){return this.consumedAfterSnapshot++,this.preprocessor.advance()},Fe.prototype._unconsume=function(){this.consumedAfterSnapshot--,this.preprocessor.retreat()},Fe.prototype._unconsumeSeveral=function(e){for(;e--;)this._unconsume()},Fe.prototype._reconsumeInState=function(e){this.state=e,this._unconsume()},Fe.prototype._consumeSubsequentIfMatch=function(e,t,n){for(var r=0,i=!0,o=e.length,a=0,s=t,c=void 0;a<o;a++){if(0<a&&(s=this._consume(),r++),s===p.EOF){i=!1;break}if(s!==(c=e[a])&&(n||s!==De(c))){i=!1;break}}return i||this._unconsumeSeveral(r),i},Fe.prototype._lookahead=function(){var e=this._consume();return this._unconsume(),e},Fe.prototype.isTempBufferEqualToScriptString=function(){if(this.tempBuff.length!==o.SCRIPT_STRING.length)return!1;for(var e=0;e<this.tempBuff.length;e++)if(this.tempBuff[e]!==o.SCRIPT_STRING[e])return!1;return!0},Fe.prototype._createStartTagToken=function(){this.currentToken={type:Fe.START_TAG_TOKEN,tagName:"",selfClosing:!1,attrs:[]}},Fe.prototype._createEndTagToken=function(){this.currentToken={type:Fe.END_TAG_TOKEN,tagName:"",attrs:[]}},Fe.prototype._createCommentToken=function(){this.currentToken={type:Fe.COMMENT_TOKEN,data:""}},Fe.prototype._createDoctypeToken=function(e){this.currentToken={type:Fe.DOCTYPE_TOKEN,name:e,forceQuirks:!1,publicId:null,systemId:null}},Fe.prototype._createCharacterToken=function(e,t){this.currentCharacterToken={type:e,chars:t}},Fe.prototype._createAttr=function(e){this.currentAttr={name:e,value:""}},Fe.prototype._isDuplicateAttr=function(){return null!==Fe.getTokenAttr(this.currentToken,this.currentAttr.name)},Fe.prototype._leaveAttrName=function(e){this.state=e,this._isDuplicateAttr()||this.currentToken.attrs.push(this.currentAttr)},Fe.prototype._leaveAttrValue=function(e){this.state=e},Fe.prototype._isAppropriateEndTagToken=function(){return this.lastStartTagName===this.currentToken.tagName},Fe.prototype._emitCurrentToken=function(){this._emitCurrentCharacterToken(),this.currentToken.type===Fe.START_TAG_TOKEN&&(this.lastStartTagName=this.currentToken.tagName),this.tokenQueue.push(this.currentToken),this.currentToken=null},Fe.prototype._emitCurrentCharacterToken=function(){this.currentCharacterToken&&(this.tokenQueue.push(this.currentCharacterToken),this.currentCharacterToken=null)},Fe.prototype._emitEOFToken=function(){this._emitCurrentCharacterToken(),this.tokenQueue.push({type:Fe.EOF_TOKEN})},Fe.prototype._appendCharToCurrentCharacterToken=function(e,t){this.currentCharacterToken&&this.currentCharacterToken.type!==e&&this._emitCurrentCharacterToken(),this.currentCharacterToken?this.currentCharacterToken.chars+=t:this._createCharacterToken(e,t)},Fe.prototype._emitCodePoint=function(e){var t=Fe.CHARACTER_TOKEN;ke(e)?t=Fe.WHITESPACE_CHARACTER_TOKEN:e===p.NULL&&(t=Fe.NULL_CHARACTER_TOKEN),this._appendCharToCurrentCharacterToken(t,Me(e))},Fe.prototype._emitSeveralCodePoints=function(e){for(var t=0;t<e.length;t++)this._emitCodePoint(e[t])},Fe.prototype._emitChar=function(e){this._appendCharToCurrentCharacterToken(Fe.CHARACTER_TOKEN,e)},Fe.prototype._consumeNumericEntity=function(e){for(var t="",n=void 0;t+=Me(this._consume()),n=this._lookahead(),n!==p.EOF&&Re(n,e););this._lookahead()===p.SEMICOLON&&this._consume();var r=parseInt(t,e?16:10),i=a[r];return i||(Ne(r)?p.REPLACEMENT_CHARACTER:r)},Fe.prototype._consumeNamedEntity=function(e){for(var t=null,n=0,r=null,i=0,o=!1,a=0;-1<a;){var s=d[a],c=s<m,u=c&&s&f;if(u&&(t=s&h?[d[++a],d[++a]]:[d[++a]],n=i,r===p.SEMICOLON)){o=!0;break}if(i++,(r=this._consume())===p.EOF)break;a=c?s&g?je(a,r):-1:r===s?++a:-1}if(t){if(!o&&(this._unconsumeSeveral(i-n),e)){var l=this._lookahead();if(l===p.EQUALS_SIGN||Le(l))return this._unconsumeSeveral(n),null}return t}return this._unconsumeSeveral(i),null},Fe.prototype._consumeCharacterReference=function(e,t){if(ke(e)||e===p.GREATER_THAN_SIGN||e===p.AMPERSAND||e===this.additionalAllowedCp||e===p.EOF)return this._unconsume(),null;if(e!==p.NUMBER_SIGN)return this._unconsume(),this._consumeNamedEntity(t);var n=!1,r=this._lookahead();return r!==p.LATIN_SMALL_X&&r!==p.LATIN_CAPITAL_X||(this._consume(),n=!0),(r=this._lookahead())!==p.EOF&&Re(r,n)?[this._consumeNumericEntity(n)]:(this._unconsumeSeveral(n?2:1),null)};var Be=Fe.prototype;Be[s]=function(e){this.preprocessor.dropParsedChunk(),e===p.AMPERSAND?this.state=c:e===p.LESS_THAN_SIGN?this.state=E:e!==p.NULL&&e===p.EOF?this._emitEOFToken():this._emitCodePoint(e)},Be[c]=function(e){this.additionalAllowedCp=void 0;var t=this._consumeCharacterReference(e,!1);this._ensureHibernation()||(t?this._emitSeveralCodePoints(t):this._emitChar("&"),this.state=s)},Be[u]=function(e){this.preprocessor.dropParsedChunk(),e===p.AMPERSAND?this.state=l:e===p.LESS_THAN_SIGN?this.state=T:e===p.NULL?this._emitChar(i.REPLACEMENT_CHARACTER):e===p.EOF?this._emitEOFToken():this._emitCodePoint(e)},Be[l]=function(e){this.additionalAllowedCp=void 0;var t=this._consumeCharacterReference(e,!1);this._ensureHibernation()||(t?this._emitSeveralCodePoints(t):this._emitChar("&"),this.state=u)},Be[v]=function(e){this.preprocessor.dropParsedChunk(),e===p.LESS_THAN_SIGN?this.state=S:e===p.NULL?this._emitChar(i.REPLACEMENT_CHARACTER):e===p.EOF?this._emitEOFToken():this._emitCodePoint(e)},Be[y]=function(e){this.preprocessor.dropParsedChunk(),e===p.LESS_THAN_SIGN?this.state=x:e===p.NULL?this._emitChar(i.REPLACEMENT_CHARACTER):e===p.EOF?this._emitEOFToken():this._emitCodePoint(e)},Be[b]=function(e){this.preprocessor.dropParsedChunk(),e===p.NULL?this._emitChar(i.REPLACEMENT_CHARACTER):e===p.EOF?this._emitEOFToken():this._emitCodePoint(e)},Be[E]=function(e){e===p.EXCLAMATION_MARK?this.state=ae:e===p.SOLIDUS?this.state=_:xe(e)?(this._createStartTagToken(),this._reconsumeInState(C)):e===p.QUESTION_MARK?this._reconsumeInState(ie):(this._emitChar("<"),this._reconsumeInState(s))},Be[_]=function(e){xe(e)?(this._createEndTagToken(),this._reconsumeInState(C)):e===p.GREATER_THAN_SIGN?this.state=s:e===p.EOF?(this._reconsumeInState(s),this._emitChar("<"),this._emitChar("/")):this._reconsumeInState(ie)},Be[C]=function(e){ke(e)?this.state=q:e===p.SOLIDUS?this.state=re:e===p.GREATER_THAN_SIGN?(this.state=s,this._emitCurrentToken()):we(e)?this.currentToken.tagName+=Pe(e):e===p.NULL?this.currentToken.tagName+=i.REPLACEMENT_CHARACTER:e===p.EOF?this._reconsumeInState(s):this.currentToken.tagName+=Me(e)},Be[T]=function(e){e===p.SOLIDUS?(this.tempBuff=[],this.state=O):(this._emitChar("<"),this._reconsumeInState(u))},Be[O]=function(e){xe(e)?(this._createEndTagToken(),this._reconsumeInState(k)):(this._emitChar("<"),this._emitChar("/"),this._reconsumeInState(u))},Be[k]=function(e){if(we(e))this.currentToken.tagName+=Pe(e),this.tempBuff.push(e);else if(Ie(e))this.currentToken.tagName+=Me(e),this.tempBuff.push(e);else{if(this._isAppropriateEndTagToken()){if(ke(e))return void(this.state=q);if(e===p.SOLIDUS)return void(this.state=re);if(e===p.GREATER_THAN_SIGN)return this.state=s,void this._emitCurrentToken()}this._emitChar("<"),this._emitChar("/"),this._emitSeveralCodePoints(this.tempBuff),this._reconsumeInState(u)}},Be[S]=function(e){e===p.SOLIDUS?(this.tempBuff=[],this.state=w):(this._emitChar("<"),this._reconsumeInState(v))},Be[w]=function(e){xe(e)?(this._createEndTagToken(),this._reconsumeInState(I)):(this._emitChar("<"),this._emitChar("/"),this._reconsumeInState(v))},Be[I]=function(e){if(we(e))this.currentToken.tagName+=Pe(e),this.tempBuff.push(e);else if(Ie(e))this.currentToken.tagName+=Me(e),this.tempBuff.push(e);else{if(this._isAppropriateEndTagToken()){if(ke(e))return void(this.state=q);if(e===p.SOLIDUS)return void(this.state=re);if(e===p.GREATER_THAN_SIGN)return this._emitCurrentToken(),void(this.state=s)}this._emitChar("<"),this._emitChar("/"),this._emitSeveralCodePoints(this.tempBuff),this._reconsumeInState(v)}},Be[x]=function(e){e===p.SOLIDUS?(this.tempBuff=[],this.state=L):e===p.EXCLAMATION_MARK?(this.state=N,this._emitChar("<"),this._emitChar("!")):(this._emitChar("<"),this._reconsumeInState(y))},Be[L]=function(e){xe(e)?(this._createEndTagToken(),this._reconsumeInState(R)):(this._emitChar("<"),this._emitChar("/"),this._reconsumeInState(y))},Be[R]=function(e){if(we(e))this.currentToken.tagName+=Pe(e),this.tempBuff.push(e);else if(Ie(e))this.currentToken.tagName+=Me(e),this.tempBuff.push(e);else{if(this._isAppropriateEndTagToken()){if(ke(e))return void(this.state=q);if(e===p.SOLIDUS)return void(this.state=re);if(e===p.GREATER_THAN_SIGN)return this._emitCurrentToken(),void(this.state=s)}this._emitChar("<"),this._emitChar("/"),this._emitSeveralCodePoints(this.tempBuff),this._reconsumeInState(y)}},Be[N]=function(e){e===p.HYPHEN_MINUS?(this.state=D,this._emitChar("-")):this._reconsumeInState(y)},Be[D]=function(e){e===p.HYPHEN_MINUS?(this.state=j,this._emitChar("-")):this._reconsumeInState(y)},Be[M]=function(e){e===p.HYPHEN_MINUS?(this.state=P,this._emitChar("-")):e===p.LESS_THAN_SIGN?this.state=F:e===p.NULL?this._emitChar(i.REPLACEMENT_CHARACTER):e===p.EOF?this._reconsumeInState(s):this._emitCodePoint(e)},Be[P]=function(e){e===p.HYPHEN_MINUS?(this.state=j,this._emitChar("-")):e===p.LESS_THAN_SIGN?this.state=F:e===p.NULL?(this.state=M,this._emitChar(i.REPLACEMENT_CHARACTER)):e===p.EOF?this._reconsumeInState(s):(this.state=M,this._emitCodePoint(e))},Be[j]=function(e){e===p.HYPHEN_MINUS?this._emitChar("-"):e===p.LESS_THAN_SIGN?this.state=F:e===p.GREATER_THAN_SIGN?(this.state=y,this._emitChar(">")):e===p.NULL?(this.state=M,this._emitChar(i.REPLACEMENT_CHARACTER)):e===p.EOF?this._reconsumeInState(s):(this.state=M,this._emitCodePoint(e))},Be[F]=function(e){e===p.SOLIDUS?(this.tempBuff=[],this.state=B):xe(e)?(this.tempBuff=[],this._emitChar("<"),this._reconsumeInState(H)):(this._emitChar("<"),this._reconsumeInState(M))},Be[B]=function(e){xe(e)?(this._createEndTagToken(),this._reconsumeInState(U)):(this._emitChar("<"),this._emitChar("/"),this._reconsumeInState(M))},Be[U]=function(e){if(we(e))this.currentToken.tagName+=Pe(e),this.tempBuff.push(e);else if(Ie(e))this.currentToken.tagName+=Me(e),this.tempBuff.push(e);else{if(this._isAppropriateEndTagToken()){if(ke(e))return void(this.state=q);if(e===p.SOLIDUS)return void(this.state=re);if(e===p.GREATER_THAN_SIGN)return this._emitCurrentToken(),void(this.state=s)}this._emitChar("<"),this._emitChar("/"),this._emitSeveralCodePoints(this.tempBuff),this._reconsumeInState(M)}},Be[H]=function(e){ke(e)||e===p.SOLIDUS||e===p.GREATER_THAN_SIGN?(this.state=this.isTempBufferEqualToScriptString()?z:M,this._emitCodePoint(e)):we(e)?(this.tempBuff.push(De(e)),this._emitCodePoint(e)):Ie(e)?(this.tempBuff.push(e),this._emitCodePoint(e)):this._reconsumeInState(M)},Be[z]=function(e){e===p.HYPHEN_MINUS?(this.state=V,this._emitChar("-")):e===p.LESS_THAN_SIGN?(this.state=W,this._emitChar("<")):e===p.NULL?this._emitChar(i.REPLACEMENT_CHARACTER):e===p.EOF?this._reconsumeInState(s):this._emitCodePoint(e)},Be[V]=function(e){e===p.HYPHEN_MINUS?(this.state=K,this._emitChar("-")):e===p.LESS_THAN_SIGN?(this.state=W,this._emitChar("<")):e===p.NULL?(this.state=z,this._emitChar(i.REPLACEMENT_CHARACTER)):e===p.EOF?this._reconsumeInState(s):(this.state=z,this._emitCodePoint(e))},Be[K]=function(e){e===p.HYPHEN_MINUS?this._emitChar("-"):e===p.LESS_THAN_SIGN?(this.state=W,this._emitChar("<")):e===p.GREATER_THAN_SIGN?(this.state=y,this._emitChar(">")):e===p.NULL?(this.state=z,this._emitChar(i.REPLACEMENT_CHARACTER)):e===p.EOF?this._reconsumeInState(s):(this.state=z,this._emitCodePoint(e))},Be[W]=function(e){e===p.SOLIDUS?(this.tempBuff=[],this.state=Y,this._emitChar("/")):this._reconsumeInState(z)},Be[Y]=function(e){ke(e)||e===p.SOLIDUS||e===p.GREATER_THAN_SIGN?(this.state=this.isTempBufferEqualToScriptString()?M:z,this._emitCodePoint(e)):we(e)?(this.tempBuff.push(De(e)),this._emitCodePoint(e)):Ie(e)?(this.tempBuff.push(e),this._emitCodePoint(e)):this._reconsumeInState(z)},Be[q]=function(e){ke(e)||(e===p.SOLIDUS||e===p.GREATER_THAN_SIGN||e===p.EOF?this._reconsumeInState(X):e===p.EQUALS_SIGN?(this._createAttr("="),this.state=Z):(this._createAttr(""),this._reconsumeInState(Z)))},Be[Z]=function(e){ke(e)||e===p.SOLIDUS||e===p.GREATER_THAN_SIGN||e===p.EOF?(this._leaveAttrName(X),this._unconsume()):e===p.EQUALS_SIGN?this._leaveAttrName(Q):we(e)?this.currentAttr.name+=Pe(e):e!==p.QUOTATION_MARK&&e!==p.APOSTROPHE&&e!==p.LESS_THAN_SIGN&&e===p.NULL?this.currentAttr.name+=i.REPLACEMENT_CHARACTER:this.currentAttr.name+=Me(e)},Be[X]=function(e){ke(e)||(e===p.SOLIDUS?this.state=re:e===p.EQUALS_SIGN?this.state=Q:e===p.GREATER_THAN_SIGN?(this.state=s,this._emitCurrentToken()):e===p.EOF?this._reconsumeInState(s):(this._createAttr(""),this._reconsumeInState(Z)))},Be[Q]=function(e){ke(e)||(e===p.QUOTATION_MARK?this.state=J:e===p.APOSTROPHE?this.state=$:this._reconsumeInState(ee))},Be[J]=function(e){e===p.QUOTATION_MARK?this.state=ne:e===p.AMPERSAND?(this.additionalAllowedCp=p.QUOTATION_MARK,this.returnState=this.state,this.state=te):e===p.NULL?this.currentAttr.value+=i.REPLACEMENT_CHARACTER:e===p.EOF?this._reconsumeInState(s):this.currentAttr.value+=Me(e)},Be[$]=function(e){e===p.APOSTROPHE?this.state=ne:e===p.AMPERSAND?(this.additionalAllowedCp=p.APOSTROPHE,this.returnState=this.state,this.state=te):e===p.NULL?this.currentAttr.value+=i.REPLACEMENT_CHARACTER:e===p.EOF?this._reconsumeInState(s):this.currentAttr.value+=Me(e)},Be[ee]=function(e){ke(e)?this._leaveAttrValue(q):e===p.AMPERSAND?(this.additionalAllowedCp=p.GREATER_THAN_SIGN,this.returnState=this.state,this.state=te):e===p.GREATER_THAN_SIGN?(this._leaveAttrValue(s),this._emitCurrentToken()):e===p.NULL?this.currentAttr.value+=i.REPLACEMENT_CHARACTER:e!==p.QUOTATION_MARK&&e!==p.APOSTROPHE&&e!==p.LESS_THAN_SIGN&&e!==p.EQUALS_SIGN&&e!==p.GRAVE_ACCENT&&e===p.EOF?this._reconsumeInState(s):this.currentAttr.value+=Me(e)},Be[te]=function(e){var t=this._consumeCharacterReference(e,!0);if(!this._ensureHibernation()){if(t)for(var n=0;n<t.length;n++)this.currentAttr.value+=Me(t[n]);else this.currentAttr.value+="&";this.state=this.returnState}},Be[ne]=function(e){ke(e)?this._leaveAttrValue(q):e===p.SOLIDUS?this._leaveAttrValue(re):e===p.GREATER_THAN_SIGN?(this._leaveAttrValue(s),this._emitCurrentToken()):e===p.EOF?this._reconsumeInState(s):this._reconsumeInState(q)},Be[re]=function(e){e===p.GREATER_THAN_SIGN?(this.currentToken.selfClosing=!0,this.state=s,this._emitCurrentToken()):e===p.EOF?this._reconsumeInState(s):this._reconsumeInState(q)},Be[ie]=function(){this._createCommentToken(),this._reconsumeInState(oe)},Be[oe]=function(e){for(;;){if(e===p.GREATER_THAN_SIGN){this.state=s;break}if(e===p.EOF){this._reconsumeInState(s);break}if(this.currentToken.data+=e===p.NULL?i.REPLACEMENT_CHARACTER:Me(e),this._hibernationSnapshot(),e=this._consume(),this._ensureHibernation())return}this._emitCurrentToken()},Be[ae]=function(e){var t=this._consumeSubsequentIfMatch(o.DASH_DASH_STRING,e,!0),n=!t&&this._consumeSubsequentIfMatch(o.DOCTYPE_STRING,e,!1),r=!t&&!n&&this.allowCDATA&&this._consumeSubsequentIfMatch(o.CDATA_START_STRING,e,!0);this._ensureHibernation()||(t?(this._createCommentToken(),this.state=se):n?this.state=fe:r?this.state=Oe:this._reconsumeInState(ie))},Be[se]=function(e){e===p.HYPHEN_MINUS?this.state=ce:e===p.NULL?(this.currentToken.data+=i.REPLACEMENT_CHARACTER,this.state=ue):e===p.GREATER_THAN_SIGN?(this.state=s,this._emitCurrentToken()):e===p.EOF?(this._emitCurrentToken(),this._reconsumeInState(s)):(this.currentToken.data+=Me(e),this.state=ue)},Be[ce]=function(e){e===p.HYPHEN_MINUS?this.state=de:e===p.NULL?(this.currentToken.data+="-",this.currentToken.data+=i.REPLACEMENT_CHARACTER,this.state=ue):e===p.GREATER_THAN_SIGN?(this.state=s,this._emitCurrentToken()):e===p.EOF?(this._emitCurrentToken(),this._reconsumeInState(s)):(this.currentToken.data+="-",this.currentToken.data+=Me(e),this.state=ue)},Be[ue]=function(e){e===p.HYPHEN_MINUS?this.state=le:e===p.NULL?this.currentToken.data+=i.REPLACEMENT_CHARACTER:e===p.EOF?(this._emitCurrentToken(),this._reconsumeInState(s)):this.currentToken.data+=Me(e)},Be[le]=function(e){e===p.HYPHEN_MINUS?this.state=de:e===p.NULL?(this.currentToken.data+="-",this.currentToken.data+=i.REPLACEMENT_CHARACTER,this.state=ue):e===p.EOF?(this._emitCurrentToken(),this._reconsumeInState(s)):(this.currentToken.data+="-",this.currentToken.data+=Me(e),this.state=ue)},Be[de]=function(e){e===p.GREATER_THAN_SIGN?(this.state=s,this._emitCurrentToken()):e===p.EXCLAMATION_MARK?this.state=pe:e===p.HYPHEN_MINUS?this.currentToken.data+="-":e===p.NULL?(this.currentToken.data+="--",this.currentToken.data+=i.REPLACEMENT_CHARACTER,this.state=ue):e===p.EOF?(this._reconsumeInState(s),this._emitCurrentToken()):(this.currentToken.data+="--",this.currentToken.data+=Me(e),this.state=ue)},Be[pe]=function(e){e===p.HYPHEN_MINUS?(this.currentToken.data+="--!",this.state=le):e===p.GREATER_THAN_SIGN?(this.state=s,this._emitCurrentToken()):e===p.NULL?(this.currentToken.data+="--!",this.currentToken.data+=i.REPLACEMENT_CHARACTER,this.state=ue):e===p.EOF?(this._emitCurrentToken(),this._reconsumeInState(s)):(this.currentToken.data+="--!",this.currentToken.data+=Me(e),this.state=ue)},Be[fe]=function(e){ke(e)||(e===p.GREATER_THAN_SIGN?(this._createDoctypeToken(null),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this.state=s):e===p.EOF?(this._createDoctypeToken(null),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._reconsumeInState(s)):(this._createDoctypeToken(""),this._reconsumeInState(he)))},Be[he]=function(e){ke(e)||e===p.GREATER_THAN_SIGN||e===p.EOF?this._reconsumeInState(ge):we(e)?this.currentToken.name+=Pe(e):e===p.NULL?this.currentToken.name+=i.REPLACEMENT_CHARACTER:this.currentToken.name+=Me(e)},Be[ge]=function(e){var t,n;ke(e)||(e===p.GREATER_THAN_SIGN?(this.state=s,this._emitCurrentToken()):(n=!(t=this._consumeSubsequentIfMatch(o.PUBLIC_STRING,e,!1))&&this._consumeSubsequentIfMatch(o.SYSTEM_STRING,e,!1),this._ensureHibernation()||(t?this.state=me:n?this.state=Ee:(this.currentToken.forceQuirks=!0,this.state=Te))))},Be[me]=function(e){ke(e)||(e===p.QUOTATION_MARK?(this.currentToken.publicId="",this.state=ve):e===p.APOSTROPHE?(this.currentToken.publicId="",this.state=ye):(this.currentToken.forceQuirks=!0,this._reconsumeInState(Te)))},Be[ve]=function(e){e===p.QUOTATION_MARK?this.state=be:e===p.NULL?this.currentToken.publicId+=i.REPLACEMENT_CHARACTER:e===p.GREATER_THAN_SIGN?(this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this.state=s):e===p.EOF?(this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._reconsumeInState(s)):this.currentToken.publicId+=Me(e)},Be[ye]=function(e){e===p.APOSTROPHE?this.state=be:e===p.NULL?this.currentToken.publicId+=i.REPLACEMENT_CHARACTER:e===p.GREATER_THAN_SIGN?(this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this.state=s):e===p.EOF?(this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._reconsumeInState(s)):this.currentToken.publicId+=Me(e)},Be[be]=function(e){ke(e)||(e===p.GREATER_THAN_SIGN?(this._emitCurrentToken(),this.state=s):e===p.QUOTATION_MARK?(this.currentToken.systemId="",this.state=_e):e===p.APOSTROPHE?(this.currentToken.systemId="",this.state=Ae):(this.currentToken.forceQuirks=!0,this._reconsumeInState(Te)))},Be[Ee]=function(e){ke(e)||(e===p.QUOTATION_MARK?(this.currentToken.systemId="",this.state=_e):e===p.APOSTROPHE?(this.currentToken.systemId="",this.state=Ae):(this.currentToken.forceQuirks=!0,this._reconsumeInState(Te)))},Be[_e]=function(e){e===p.QUOTATION_MARK?this.state=Ce:e===p.GREATER_THAN_SIGN?(this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this.state=s):e===p.NULL?this.currentToken.systemId+=i.REPLACEMENT_CHARACTER:e===p.EOF?(this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._reconsumeInState(s)):this.currentToken.systemId+=Me(e)},Be[Ae]=function(e){e===p.APOSTROPHE?this.state=Ce:e===p.GREATER_THAN_SIGN?(this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this.state=s):e===p.NULL?this.currentToken.systemId+=i.REPLACEMENT_CHARACTER:e===p.EOF?(this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._reconsumeInState(s)):this.currentToken.systemId+=Me(e)},Be[Ce]=function(e){ke(e)||(e===p.GREATER_THAN_SIGN?(this._emitCurrentToken(),this.state=s):e===p.EOF?(this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._reconsumeInState(s)):this.state=Te)},Be[Te]=function(e){e===p.GREATER_THAN_SIGN?(this._emitCurrentToken(),this.state=s):e===p.EOF&&(this._emitCurrentToken(),this._reconsumeInState(s))},Be[Oe]=function(e){for(;;){if(e===p.EOF){this._reconsumeInState(s);break}var t=this._consumeSubsequentIfMatch(o.CDATA_END_STRING,e,!0);if(this._ensureHibernation())break;if(t){this.state=s;break}if(this._emitCodePoint(e),this._hibernationSnapshot(),e=this._consume(),this._ensureHibernation())break}}},zrMW:function(e,t,n){"use strict";var r=n("pVnL"),i=n.n(r),o=n("QILm"),a=n.n(o),s=n("q1tI"),c=n.n(s);t.a=function(e){e.styles;var t=a()(e,["styles"]);return c.a.createElement("svg",i()({width:"24",height:"24",viewBox:"0 0 24 24"},t),c.a.createElement("path",{fill:"#2B2F36",fillRule:"evenodd",d:"M16.48 13.45c.11 0 .22.03.3.1l3.24 2.64a.48.48 0 010 .74l-3.23 2.64a.48.48 0 01-.79-.37V17H8.34a.34.34 0 01-.34-.35v-.64c0-.19.15-.34.34-.34H16v-1.74c0-.27.21-.48.48-.48zM7.9 5.18c.07.08.11.19.11.3v2.2h7.66c.19 0 .34.16.34.35v.63c0 .2-.15.35-.34.35H8v1.74a.48.48 0 01-.78.37L3.98 8.5a.48.48 0 010-.75l3.24-2.63a.48.48 0 01.67.07z"}))}}}]);
//# sourceMappingURL=bear-bitable-external.a5b561cd7b93963c9fe0.js.map