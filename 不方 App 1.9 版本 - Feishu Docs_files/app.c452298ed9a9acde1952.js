(this.webpackJsonp=this.webpackJsonp||[]).push([["app"],{"+7Be":function(e,t,n){"use strict";n.d(t,"d",function(){return E}),n.d(t,"a",function(){return T}),n.d(t,"b",function(){return S}),n.d(t,"c",function(){return m}),n.d(t,"e",function(){return O});var r=n("o0o1"),o=n.n(r),a=n("yXPU"),i=n.n(a),c=n("xA8S"),s=n("TJya"),u=n("iP/4"),l=n("U6jp"),d=n("EAIz"),p=n("VI6H"),_=n("yIG0");function E(e){return f.apply(this,arguments)}function f(){return(f=i()(o.a.mark(function e(t){var n,r,a;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=Object(s.a)(t),r=Object.assign({},n,{},t.headers),u.a.isIE&&(r["Cache-Control"]="no-cache",r.Pragma="no-cache"),d.e)return e.t0=Object,e.t1=r,e.next=8,Object(d.c)();e.next=10;break;case 8:e.t2=e.sent,e.t0.assign.call(e.t0,e.t1,e.t2);case 10:return(a=Object(c.a)())&&(r.Env=a),e.abrupt("return",r);case 13:case"end":return e.stop()}},e)}))).apply(this,arguments)}var T=Object(p.x)()?_.PLATFORM.LARKDOCS:_.PLATFORM.LARK,S=u.a.isIPad?_.OS.IPAD:u.a.isMac?_.OS.MAC:u.a.isWindows?_.OS.WINDOWS:_.OS.OTHERS,m=l.s?_.PLATFORM.LARKDOCS:u.a.isFeishu||u.a.isLark?_.PLATFORM.LARK:u.a.isPcWeb?_.PLATFORM.WEB:_.PLATFORM.OTHERS;function O(e){var t=e.headers,n=void 0===t?{}:t;return Object.assign({},n,{"doc-biz":T,"doc-os":S,"doc-platform":m})}},"+HKK":function(e,t,n){"use strict";n.d(t,"a",function(){return l}),n.d(t,"d",function(){return d}),n.d(t,"b",function(){return p}),n.d(t,"c",function(){return _});var r=n("vJtL"),o=(n("6LIB"),n("owWc")),i=n("Zo4r"),c=n("RjUC"),s=n("IzLi"),a=n("nN3d"),u=function(r){function a(e){return!Object(s.a)(e)||Object(c.a)(e)||Object(i.a)(e)?e:Array.isArray(e)?e.map(a):Object(o.a)(e,function(e,t,n){return e[r(n)]=a(t),e},{})}return a},l=u(a.b),d=u(a.l);function p(e){return e&&Object(r.default)(e.then)}function _(e,t){for(var n=Object.assign({},e),r=0;r<t.length;r++)delete n[t[r]];return n}},"+P05":function(e,t,n){"use strict";n("zMnb"),n("HbLp"),n("3v6Z"),n("lur5"),n("llCi"),n("wlBg"),n("NFzP"),n("p6LW"),n("nJc+"),n("iWwp"),n("+yB+"),n("PRKH"),n("/CRr"),n("UGoh"),n("4+My"),n("/Pbs"),n("oIjJ"),n("cICA"),n("bOS6"),n("GQgD"),n("j8C5"),n("HyO4"),n("bzQ/"),n("3YPQ"),n("nTTa"),n("V0lv"),n("S8LW"),n("/qUC"),n("MhLW"),n("NPgo"),n("q62W"),n("cjLV"),n("CHwp"),n("0n/Q"),n("DFTN"),n("W234"),n("Js65"),n("bpLs"),n("cvdb"),n("kOjC"),n("1dE0"),n("NUVh"),n("yT38"),n("Cfb2"),n("gS64"),n("S1Ip"),n("bU5A"),n("VXPC"),n("fp+s"),n("KD0d"),n("OnuX"),n("SDo8"),n("mDZp"),n("W2CM"),n("d2Dd"),n("6FI2"),n("aacr"),n("ajLL"),n("16ZB"),n("RnrB"),n("NgbV"),n("2m3f"),n("gd13"),n("Y9bn"),n("bDHU"),n("KLjj"),n("lpbr"),n("1+qT"),n("deJN"),n("7kI5"),n("+FNe"),n("EHsg"),n("/jw+"),n("hEA8"),n("Ybei"),n("dJTo"),n("G8dB"),n("VH5s"),n("pdAW"),n("W7rE"),n("SV1Q"),n("zGo9"),n("ZBYQ"),n("koQh"),n("BZ9L"),n("U0R9"),n("U8zI"),n("Qau0"),n("ft51"),n("3Nao"),n("xkwx"),n("XS12"),n("RMqu"),n("YzDr"),n("DMBj"),n("CeG3"),n("0AP4"),n("hFzk"),n("5BRu"),n("zcwy"),n("Dd+o"),n("yb/I"),n("umT7"),n("+NFU"),n("cQQS"),n("z34i"),n("j+hx"),n("QEER"),n("QgDT"),n("k5PK"),n("Zwpl"),n("jqnF"),n("CLLv"),n("gHOi"),n("WMf/"),n("eF58"),n("T06n"),n("1vcR"),n("P3OS"),n("sLSV"),n("iT6h"),n("bRE6"),n("yZoE"),n("vSt5"),n("FOnc"),n("iyn7"),n("9wb8"),n("SDzE"),n("qGoJ");var r={scrollX:"pageXOffset",scrollY:"pageYOffset"};function a(){var e=navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./);return!!e&&parseInt(e[2],10)}function o(){Array.prototype.reduce=function(e){if(null==this)throw new TypeError("Array.prototype.reduce called on null or undefined");if("function"!=typeof e)throw new TypeError(e+" is not a function");var t,n=Object(this),r=n.length>>>0,a=0;if(2<=arguments.length)t=arguments[1];else{for(;a<r&&!(a in n);)a++;if(r<=a)throw new TypeError("Reduce of empty array with no initial value");t=n[a++]}for(;a<r;a++)a in n&&(t=e(t,n[a],a,n));return t}}Object.keys(r).forEach(function(e){void 0===window[e]&&Object.defineProperty(window,e,{get:function(){return window[r[e]]}})});var i=a();function c(){window&&(window.addEventListener=window.addEventListener.bind(window),window.removeEventListener=window.removeEventListener.bind(window),window.dispatchEvent=window.dispatchEvent.bind(window))}i&&80<=i&&i<=81&&o(),i&&74===i&&c()},"+l2g":function(e,r,a){"use strict";(function(e){a.d(r,"a",function(){return n});var t=a("CnBM"),n=e?function(){return null}:a.n(t)()({loader:function(){return Promise.all([a.e("vendors--account_main"),a.e("account_main")]).then(a.bind(null,"6joP"))},loading:function(){return null}})}).call(this,a("kCIs"))},"/DSa":function(e,R,g){"use strict";(function(o){g.d(R,"c",function(){return e}),g.d(R,"a",function(){return u}),g.d(R,"b",function(){return C});var e,t,u,n,r,a=g("lwsE"),i=g.n(a),c=g("W8MJ"),s=g.n(c),l=g("a1gu"),d=g.n(l),p=g("Nsbk"),_=g.n(p),E=g("PJYZ"),f=g.n(E),T=g("7W2i"),S=g.n(T),m=g("7EGn"),O=g("iP/4"),b=g("4O8T"),y=g.n(b),h=120,v=1e3;function I(){return Math.random().toString(36).substr(2)}(t=e=e||{}).ViewSyncStatus="ViewSyncStatus",t.LookupNativeApps="LookupNativeApps",t.OpenFileByNativeApp="OpenFileByNativeApp",t.GetGlobalSyncStatus="GetGlobalSyncStatus",t.GetFolderSyncStatus="GetFolderSyncStatus",t.GetNodeSyncStatus="GetNodeSyncStatus",t.SetFolderSync="SetFolderSync",t.RetrySyncFolder="RetrySyncFolder",t.OpenLocalFolder="OpenLocalFolder",t.NodeSyncStatusUpdate="NodeSyncStatusUpdate",t.GetSyncCoreVersionInfo="GetSyncCoreVersionInfo",t.SyncdiskOnboardingStart="SyncdiskOnboardingStart",t.SyncdiskOnboardingProgressUpdate="SyncdiskOnboardingProgressUpdate",t.RequqestExplorerApi="RequqestExplorerApi",t.ShowWindow="ShowWindow",t.GetIsSyncdiskInstalled="GetIsSyncdiskInstalled",t.SetIsSyncdiskInstalled="SetIsSyncdiskInstalled",t.DownloadSyncdiskInstaller="DownloadSyncdiskInstaller",t.SyncdiskInstallerSetup="SyncdiskInstallerSetup",t.SyncdiskInstallerSetupV2="SyncdiskInstallerSetupV2",t.SyncdiskInstallerRetryV2="SyncdiskInstallerRetryV2",t.StartupSyncDisk="StartupSyncDisk",t.GetSyncDiskLaunchInfo="GetSyncDiskLaunchInfo",t.SyncDiskStatusChange="SyncDiskStatusChange",t.GetSyncdiskStatus="GetSyncdiskStatus",t.CheckSyncDiskUpdate="CheckSyncDiskUpdate",t.GetSyncDiskOnboardingState="GetSyncDiskOnboardingState",t.CancelSyncDiskOnboarding="CancelSyncDiskOnboarding",t.OpenSwitchAccountModal="OpenSwitchAccountModal",t.OpenPathChooseModal="OpenPathChooseModal",t.DownloadPathChanged="DownloadPathChanged",t.DownloadSpeedChanged="DownloadSpeedChanged",t.DownloadTasksAdded="DownloadTasksAdded",t.DownloadTasksRemoved="DownloadTasksRemoved",t.DownloadTasksChanged="DownloadTasksChanged",t.ShowLocalDownloadedFileFailed="ShowLocalDownloadedFileFailed",t.SetIsProcessingInvokeTasks="SetIsProcessingInvokeTasks",t.DownloadFolderSubtaskFailed="DownloadFolderSubtaskFailed",t.ShowDownloadTips="ShowDownloadTips",t.InvokeLocalDownloadPathSelector="InvokeLocalDownloadPathSelector",t.CancelDownloadPathChoose="CancelDownloadPathChoose",t.ConfirmDownloadPathChoose="ConfirmDownloadPathChoose",t.PrepareToDownloadFile="PrepareToDownloadFile",t.GetInitialDownloadData="GetInitialDownloadData",t.ClearAllDownloadTasks="ClearAllDownloadTasks",t.RetryAllFailedDownloadTasks="RetryAllFailedDownloadTasks",t.RetryAllPausedDownloadTasks="RetryAllPausedDownloadTasks",t.PauseAllDownloadTasks="PauseAllDownloadTasks",t.RetryDownloadTask="RetryDownloadTask",t.GetFolderDownloadErrorDetail="GetFolderDownloadErrorDetail",t.OpenDownloadedFileLocalFolder="OpenDownloadedFileLocalFolder",t.PauseDownloadTask="PauseDownloadTask",t.SetProgressViewerReadyStatus="SetProgressViewerReadyStatus",t.UploadSpeedChanged="UploadSpeedChanged",t.UploadTasksAdded="UploadTasksAdded",t.UploadTasksRemoved="UploadTasksRemoved",t.UploadTasksChanged="UploadTasksChanged",t.ShowUploadTips="ShowUploadTips",t.UploadFolderSubtaskFailed="UploadFolderSubtaskFailed",t.InvokeUploadFileSelector="InvokeUploadFileSelector",t.InvokeImportFileSelector="InvokeImportFileSelector",t.InvokeUploadByPaths="InvokeUploadByPaths",t.GetInitialUploadData="GetInitialUploadData",t.SetUploadProgressViewerReadyStatus="SetUploadProgressViewerReadyStatus",t.RetryAllFailedUploadTasks="RetryAllFailedUploadTasks",t.PauseAllUploadTasks="PauseAllUploadTasks",t.RetryAllPausedUploadTasks="RetryAllPausedUploadTasks",t.RetryUploadTask="RetryUploadTask",t.PauseUploadTask="PauseUploadTask",t.GetFolderUploadErrorDetail="GetFolderUploadErrorDetail",t.ClearAllUploadTasks="ClearAllUploadTasks",t.ShowOpenDialog="ShowOpenDialog",(n=u=u||{})[n.UNINIT=1]="UNINIT",n[n.TIMEOUT=2]="TIMEOUT",n[n.LARK_EXTENSION_ERR=3]="LARK_EXTENSION_ERR",n[n.SYNC_CORE_ERR=4]="SYNC_CORE_ERR";var C=function(e){function a(){var r;i()(this,a),(r=d()(this,_()(a).call(this))).sendedMsgMap=new Map,r.messageTimer=null,r.isInited=!1;var n=f()(r),e=window.LarkExtensionUI;if(e&&(o||O.a.isLarkWindow))try{e.initialize({lifecycle:{onCreate:function(){},onStart:function(){r.launchTime=Date.now(),Promise.resolve().then(g.bind(null,"2ACu")).then(function(e){(0,e.default)("launch_web",{subsource:"lark",launchTime:r.launchTime})})},onStop:function(){var t,n;r.launchTime&&(t=Date.now()-r.launchTime,n=r.launchTime,r.launchTime=0,Promise.resolve().then(g.bind(null,"2ACu")).then(function(e){(0,e.default)("launch_duration",{session_duration:Math.floor(t/1e3),subsource:"lark",preDuration:n})}))}},channel:{onMessage:function(e){var t=n.sendedMsgMap.get(e.id);e.id&&t?(n.removeMessage(e.id),t.resolve(e)):n.emit(e.type,e)}}}),r.isInited=!0}catch(e){console.error("LarkExtensionUI initialize error: ",e)}var t=Object(m.default)(window,"LARKAPI.runtime.sendExtensionReady");return t&&t(),r}return S()(a,e),s()(a,[{key:"addMessage",value:function(e,t){this.sendedMsgMap.set(e,t),this.messageTimer||this.startMessageTimer()}},{key:"removeMessage",value:function(e){this.sendedMsgMap.delete(e),0===this.sendedMsgMap.size&&this.stopMessageTimer()}},{key:"startMessageTimer",value:function(){var s=this;this.messageTimer=window.setInterval(function(){var e=Date.now(),t=[],n=!0,r=!1,a=void 0;try{for(var o,i=s.sendedMsgMap[Symbol.iterator]();!(n=(o=i.next()).done);n=!0){var c=o.value;c[1].expireTime<e&&t.push(c[0])}}catch(e){r=!0,a=e}finally{try{n||null==i.return||i.return()}finally{if(r)throw a}}t.forEach(function(e){var t=s.sendedMsgMap.get(e);s.removeMessage(e),t.message.err=!0,t.message.errType=u.TIMEOUT,t.reject(t.message)})},v)}},{key:"stopMessageTimer",value:function(){this.messageTimer&&(clearInterval(this.messageTimer),this.messageTimer=null)}},{key:"postMessage",value:function(n){var r=this,a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:h,o=I();n.id=o;var e=window.LarkExtensionUI;return this.isInited&&e&&e.channel&&e.channel.postMessage?new Promise(function(e,t){try{window.LarkExtensionUI.channel.postMessage(n),r.addMessage(o,{message:n,resolve:e,reject:t,expireTime:Date.now()+1e3*a})}catch(e){return n.err=!0,n.errType=u.LARK_EXTENSION_ERR,t(n)}}):(n.err=!0,n.errType=u.UNINIT,Promise.reject(n))}}],[{key:"getInstance",value:function(){return r=r||new a}}]),a}(y.a)}).call(this,g("kCIs"))},"/Orn":function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r={FETCH_OBJ_PATHS:"FETCH_OBJ_PATHS",MOVE_FILE_SUCCESS:"MOVE_FILE_SUCCESS",COMMON_ADD_FILE_TO_SUCCESS:"COMMON_ADD_FILE_TO_SUCCESS"}},"/PhZ":function(e,_n,En){"use strict";En.r(_n),function(_){En.d(_n,"saveFolderTreeExpandedKeys",function(){return k}),En.d(_n,"setCurrentSuiteToken",function(){return D}),En.d(_n,"setTemplateModeCurrentSuiteToken",function(){return j}),En.d(_n,"setRootMeta",function(){return L}),En.d(_n,"setSelectedFileMetas",function(){return w}),En.d(_n,"clearSelectedFileMetas",function(){return N}),En.d(_n,"rightClickListItem",function(){return U}),En.d(_n,"setRecentObjTokens",function(){return P}),En.d(_n,"removeFromFileTokens",function(){return M}),En.d(_n,"loadPersistedRootTokenMap",function(){return x}),En.d(_n,"fetchExplorerRootTokenMap",function(){return F}),En.d(_n,"fetchFolderFileMeta",function(){return H}),En.d(_n,"fetchTreeFileMeta",function(){return B}),En.d(_n,"fetchPathTreeFileMeta",function(){return K}),En.d(_n,"fetchMySpaceFolder",function(){return W}),En.d(_n,"fetchMySpaceFolderPure",function(){return V}),En.d(_n,"fetchMySpaceFolderWithinParams",function(){return Y}),En.d(_n,"fetchMyObjectListWithinParams",function(){return Q}),En.d(_n,"fetchMyObjectList",function(){return J}),En.d(_n,"removeIndexFromMyObjectList",function(){return q}),En.d(_n,"fetchStorageList",function(){return z}),En.d(_n,"fetchShareObjects",function(){return X}),En.d(_n,"fetchShareList",function(){return Z}),En.d(_n,"fetchShareListPure",function(){return $}),En.d(_n,"fetchStarList",function(){return ee}),En.d(_n,"clearStarList",function(){return te}),En.d(_n,"createNewYearSurvey",function(){return ne}),En.d(_n,"createFile",function(){return re}),En.d(_n,"createFolder",function(){return ae}),En.d(_n,"createShareFolder",function(){return oe}),En.d(_n,"createFolderForTeamSpaceV1",function(){return ie}),En.d(_n,"createTeamSpace",function(){return ce}),En.d(_n,"createFilesByFakeTokens",function(){return se}),En.d(_n,"renameFile",function(){return ue}),En.d(_n,"updateFolderInfo",function(){return le}),En.d(_n,"cancelUpdateFolderInfo",function(){return de}),En.d(_n,"cancelableRenameFile",function(){return Ee}),En.d(_n,"fetchPathTree",function(){return fe}),En.d(_n,"userFriendlyMoveFile",function(){return Te}),En.d(_n,"commonAddFileTo",function(){return Se}),En.d(_n,"routeDependentDeleteOrRemoveFile",function(){return me}),En.d(_n,"triggerHandleDeleteOrRemoveFile",function(){return Oe}),En.d(_n,"userFriendlyMoveFileConfirm",function(){return be}),En.d(_n,"userFriendlyMoveFileShowToast",function(){return ye}),En.d(_n,"deleteFilePath",function(){return he}),En.d(_n,"confirmDelete",function(){return ve}),En.d(_n,"permanentlyDeleteFile",function(){return Ie}),En.d(_n,"moveFile",function(){return Ce}),En.d(_n,"cancelMoveFile",function(){return Re}),En.d(_n,"restoreRemovedFile",function(){return ge}),En.d(_n,"cancelRestoreRemovedFile",function(){return Ae}),En.d(_n,"removeFile",function(){return ke}),En.d(_n,"cancelRemoveFile",function(){return De}),En.d(_n,"deleteSharedRecord",function(){return je}),En.d(_n,"cancelableRemoveFile",function(){return Le}),En.d(_n,"deleteObject",function(){return we}),En.d(_n,"cancelableDeleteObject",function(){return Ne}),En.d(_n,"deleteRemovedFile",function(){return Ue}),En.d(_n,"cancelDeleteRemovedFile",function(){return Pe}),En.d(_n,"transferShareFolderOwner",function(){return Me}),En.d(_n,"fetchPinList",function(){return xe}),En.d(_n,"moveStar",function(){return Fe}),En.d(_n,"movePin",function(){return He}),En.d(_n,"fetchRecommendList",function(){return Be}),En.d(_n,"markFileAsUninterested",function(){return Ge}),En.d(_n,"markFilesAsUninterested",function(){return Ke}),En.d(_n,"removeRecommendedFile",function(){return We}),En.d(_n,"addPin",function(){return Ye}),En.d(_n,"addPinSilently",function(){return Qe}),En.d(_n,"removePin",function(){return Je}),En.d(_n,"addStar",function(){return qe}),En.d(_n,"removeStar",function(){return ze}),En.d(_n,"fetchSubscribeStatus",function(){return Xe}),En.d(_n,"subscribe",function(){return Ze}),En.d(_n,"unsubscribe",function(){return $e}),En.d(_n,"updateSubscribeStatus",function(){return et}),En.d(_n,"updateShareFolderDesc",function(){return tt}),En.d(_n,"cancelUpdateShareFolderDesc",function(){return nt}),En.d(_n,"fetchRecentViewedNodesInSearchBox",function(){return at}),En.d(_n,"cancelFetchRecentViewedNodesInSearchBox",function(){return ot}),En.d(_n,"deleteRecentRecord",function(){return it}),En.d(_n,"resetRecentObjsTokens",function(){return ct}),En.d(_n,"fetchRecentObjs",function(){return ut}),En.d(_n,"fetchRecentObjsForCheck",function(){return lt}),En.d(_n,"cancelFetchRecentObjsForCheck",function(){return dt}),En.d(_n,"fetchRecentObjListInBackNav",function(){return pt}),En.d(_n,"fetchPagedRecentObjs",function(){return _t}),En.d(_n,"fetchPagedList",function(){return Et}),En.d(_n,"removeFilesShareInfo",function(){return ft}),En.d(_n,"removeShareRootInfo",function(){return Tt}),En.d(_n,"fetchObjPaths",function(){return St}),En.d(_n,"updateFileMetaName",function(){return mt}),En.d(_n,"insertUploadedFileToRecent",function(){return Ot}),En.d(_n,"fetchActivityInfo",function(){return bt}),En.d(_n,"fetchBulletinInfo",function(){return ht}),En.d(_n,"closeBulletin",function(){return vt}),En.d(_n,"removeChildFromFather",function(){return It}),En.d(_n,"manuallyShowUsageLimit",function(){return Ct}),En.d(_n,"fetchRecentFolderPath",function(){return Rt}),En.d(_n,"fetchRootDustbin",function(){return gt}),En.d(_n,"fetchRootDustbinNormal",function(){return At}),En.d(_n,"fetchRootDustbinLean",function(){return kt}),En.d(_n,"fetchDustbinChildren",function(){return Dt}),En.d(_n,"fetchDustbinSpaceList",function(){return jt}),En.d(_n,"setDustbinSelectedSpaceId",function(){return Lt}),En.d(_n,"fetchDustbinList",function(){return wt}),En.d(_n,"fetchStorageCount",function(){return Nt}),En.d(_n,"notifySuiteBot",function(){return Ut}),En.d(_n,"setCurrentDraggingItems",function(){return Pt}),En.d(_n,"confirmOrCancelActionFromModal",function(){return Mt}),En.d(_n,"saveAsTemplate",function(){return xt}),En.d(_n,"deleteTemplate",function(){return Ft}),En.d(_n,"fetchUserDetail",function(){return Ht}),En.d(_n,"fetchFolderSize",function(){return Bt}),En.d(_n,"setTokenMap",function(){return Gt}),En.d(_n,"cancelBatchTask",function(){return Kt}),En.d(_n,"fetchExternalHint",function(){return Wt}),En.d(_n,"setExternalHint",function(){return Vt}),En.d(_n,"setNodeIsExternal",function(){return Yt}),En.d(_n,"fetchLeanMode",function(){return Qt}),En.d(_n,"fetchLeanModeConfig",function(){return Jt}),En.d(_n,"updateLeanModeConfig",function(){return qt}),En.d(_n,"fetchISVConfig",function(){return zt}),En.d(_n,"createISV",function(){return Xt}),En.d(_n,"createDriveFile",function(){return Zt}),En.d(_n,"fetchRootShareFolder",function(){return $t}),En.d(_n,"fetchRootShareFolderPure",function(){return en}),En.d(_n,"fetchRootShareFolderWithinParams",function(){return tn}),En.d(_n,"showShareFolder",function(){return nn}),En.d(_n,"hideShareFolder",function(){return rn}),En.d(_n,"fetchAllTeamSpace",function(){return an}),En.d(_n,"fetchAllTeamSpaceWithinParams",function(){return on}),En.d(_n,"fetchAllTeamSpacePure",function(){return cn}),En.d(_n,"fetchTeamSpaceCovers",function(){return sn}),En.d(_n,"manuallySetTeamSpaceCovers",function(){return un}),En.d(_n,"appeal",function(){return ln}),En.d(_n,"fetchAppealStatus",function(){return dn}),En.d(_n,"fetchFolderMeta",function(){return pn});var e=En("o0o1"),E=En.n(e),t=En("yXPU"),n=En.n(t),r=En("lSNA"),f=En.n(r),a=En("QILm"),o=En.n(a),s=En("gSGL"),i=En("7EGn"),T=En("jp/M"),c=En("Mpt7"),S=En("QM+C"),u=En("yiFV"),p=En("Hv6m"),l=En("03In"),m=En("ahx2"),d=En("JC8k"),O=En("jJw9"),b=En("EVj1"),y=En("cyON"),h=En("JgWU"),v=En("qGoe"),I=En("fIXH"),C=En("+mgp"),R=En("Ixoi"),g=En("iP/4"),k=function(e){return{type:T.actionTypes.explorer.SAVE_TREE_EXPANDED_KEYS,payload:{keys:e}}},D=function(e,t){return{type:T.actionTypes.explorer.SET_CURRENT_SUITE_TOKEN,payload:{obj_token:e,type:t}}},j=function(e,t){return{type:T.actionTypes.explorer.SET_CURRENT_SUITE_TOKEN,payload:{obj_token:e,type:t}}},L=function(e){var t=e.token,n=e.type,r=o()(e,["token","type"]);return{type:T.actionTypes.explorer.SET_ROOT_META,payload:Object.assign({token:t,type:n},r)}},w=function(e){return{type:T.actionTypes.explorer.SET_SELECTED_FILE_METAS,payload:e}},N=w.bind(null,[]),U=function(e){var t=e.file,n=e.index,r=o()(e,["file","index"]);return{type:T.actionTypes.ui.RIGHT_CLICK_FILE_LIST_ITEM,payload:Object.assign({file:t,index:n},r)}},P=function(e){var t=e.tokens,n=e.hasMore,r=e.lastLabel;return{type:T.actionTypes.explorer.SET_RECENT_OBJ_TOKENS,payload:{tokens:t,hasMore:n,lastLabel:r}}},M=function(e,t){return{type:T.actionTypes.explorer.REMOVE_FROM_FILE_TOKENS,payload:{token:e,removeToken:t}}},x=function(e){return{type:T.actionTypes.explorer.LOAD_PERSISTED_ROOT_TOKEN_MAP,payload:e}},F=function(){return f()({type:T.actionTypes.explorer.FETCH_EXPLORER_ROOT_TOKEN_MAP},S.REQUEST,{url:T.apiUrls.GET_EXPLORER_ROOT_TOKEN_MAP})},H=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.params,n=void 0===t?{}:t,r=o()(e,["params"]),a={type:T.actionTypes.explorer.FETCH_FOLDER_FILE_META};return f()(a,S.REQUEST,{url:r.urlType===S.EXPLORER_URL_TYPE.V2?T.apiUrls.GET_FETCH_FILE_META_V2:T.apiUrls.GET_FETCH_FILE_META,method:T.apiUrls.METHOD.GET,params:Object.assign({},n,{need_path:1,show_no_perm:C.h||S.isAnonymousAccess?1:0},S.THUMBNAIL_REQUEST_PARAM),mergeRequestHeaderIntoMeta:!0,options:{takeLatest:!0,retryConfig:v.a.explorer.retryConfig,mergeRequestDataIntoPayload:!0,transformResponse:function(e){return Object.assign({},e,{isContinuous:!1},r)}}}),f()(a,y.a,!0),f()(a,h.b,function(e){var t=Object(i.default)(e.error,["meta","owner"]);if(null!=t){var n=t.id;return f()({},n,t)}}),a},B=function(e){var t=e.urlType,n=e.token,r=e.needPath,a=void 0===r?0:r;return f()({type:T.actionTypes.explorer.FETCH_TREE_FILE_META},S.REQUEST,{url:t===S.EXPLORER_URL_TYPE.V2?T.apiUrls.GET_FETCH_FILE_META_V2:T.apiUrls.GET_FETCH_FILE_META,method:T.apiUrls.METHOD.GET,params:{token:n,need_path:a,show_no_perm:C.h||S.isAnonymousAccess?1:0},options:{transformResponse:function(e){return Object.assign({},e,{token:n,needPath:a})}}})},K=function(e){var t,n,r=e.urlType,a=e.token,o=e.pathIndexes;return a?a===u.DummyTokens.TeamSpace?t=T.apiUrls.GET_FETCH_ALL_TEAM_SPACE:n=a===u.DummyTokens.ShareFolders?r===S.EXPLORER_URL_TYPE.V2?(t=T.apiUrls.GET_SHARE_OBJECTS_V2,{length:void 0,obj_type:0}):(t=T.apiUrls.GET_ROOT_SHARE_FOLDERS,{be_shared:1}):(t=r===S.EXPLORER_URL_TYPE.V2?T.apiUrls.GET_FETCH_FILE_META_V2:T.apiUrls.GET_FETCH_FILE_META,{token:a,type:S.NUM_FILE_TYPE.FOLDER}):r===S.EXPLORER_URL_TYPE.V2?t=T.apiUrls.GET_FETCH_PERSONAL_FOLDER:(t=T.apiUrls.GET_FETCH_FILE_META,n={type:S.NUM_FILE_TYPE.FOLDER}),f()({type:T.actionTypes.explorer.FETCH_PATH_TREE_FILE_META},S.REQUEST,{url:t,method:T.apiUrls.METHOD.GET,params:n,options:{transformResponse:function(e){return Object.assign({},e,{urlType:r,token:a,pathIndexes:o})}}})},W=function(e){var t=e.requestParams,n=e.willUpdateStatus,r=void 0!==n&&n,a=C.s?T.apiUrls.GET_FETCH_PERSONAL_FOLDER:T.apiUrls.GET_FETCH_FILE_META,o=C.s?t:Object.assign({type:S.NUM_FILE_TYPE.FOLDER},t),i={type:T.actionTypes.explorer.FETCH_MY_SPACE_FOLDER};return f()(i,y.a,r),f()(i,S.REQUEST,{url:a,method:T.apiUrls.METHOD.GET,params:o,options:{retryConfig:v.a.explorer.retryConfig}}),i},V=function(e){var t=e.requestParams,n=W({requestParams:t});return Object.assign({},n,{type:T.actionTypes.explorer.FETCH_MY_SPACE_FOLDER_PURE})},Y=function(){var e={};return f()(e,S.DEFERRED,!0),f()(e,"type",T.actionTypes.explorer.FETCH_MY_SPACE_FOLDER_WITHIN_PARAMS),e},Q=function(){var e={};return f()(e,S.DEFERRED,!0),f()(e,"type",T.actionTypes.explorer.FETCH_MY_OBJECT_LIST_WITHIN_PARAMS),e},J=function(e){var t=e.params,n=o()(e,["params"]);return f()({type:T.actionTypes.intermediate.FETCH_PAGED_DATA,payload:f()({realActionType:T.actionTypes.explorer.FETCH_MY_OBJECT_LIST,params:Object.assign({length:st},S.THUMBNAIL_REQUEST_PARAM,t),options:Object.assign({isContinuous:!1,onlyUpdateEntity:!1},n)},y.a,!0)},S.DEFERRED,!0)},q=function(e){return{type:T.actionTypes.explorer.REMOVE_INDEX_FROM_MY_OBJECT_LIST,payload:{tokens:e}}},z=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.params,n=void 0===t?{}:t,r=o()(e,["params"]);return f()({type:T.actionTypes.intermediate.FETCH_PAGED_DATA,payload:f()({realActionType:T.actionTypes.explorer.FETCH_STORAGE_LIST,params:Object.assign({length:st},n),options:Object.assign({isContinuous:!1,onlyUpdateEntity:!1},r)},y.a,!0)},S.DEFERRED,!0)},X=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.params,n=void 0===t?{}:t,r=o()(e,["params"]);return f()({type:T.actionTypes.intermediate.FETCH_PAGED_DATA,payload:f()({realActionType:T.actionTypes.explorer.FETCH_SHARE_OBJECTS,params:Object.assign({length:st},S.THUMBNAIL_REQUEST_PARAM,n),options:Object.assign({isContinuous:!1,onlyUpdateEntity:!1},r)},y.a,!0)},S.DEFERRED,!0)},Z=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.params,n=void 0===t?{}:t,r=o()(e,["params"]),a={type:T.actionTypes.explorer.FETCH_SHARE_LIST};return f()(a,S.REQUEST,{url:T.apiUrls.GET_SHARE_OBJECTS_V2,method:T.apiUrls.METHOD.GET,params:Object.assign({length:st},S.THUMBNAIL_REQUEST_PARAM,{},n),options:{takeLatest:!0,transformResponse:function(e){return Object.assign({},e,{isContinuous:!1},r)}}}),f()(a,y.a,!0),a},$=function(e){var t=Z(e);return Object.assign({},t,f()({type:T.actionTypes.explorer.FETCH_SHARE_LIST_PURE},y.a,!1))},ee=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.params,n=void 0===t?{}:t,r=o()(e,["params"]),a={type:T.actionTypes.explorer.FETCH_STAR_LIST};return f()(a,S.REQUEST,{url:T.apiUrls.GET_STAR_LIST,method:T.apiUrls.METHOD.GET,params:Object.assign({length:st},S.THUMBNAIL_REQUEST_PARAM,{},n),options:{takeLatest:!0,transformResponse:function(e){return Object.assign({},e,{isContinuous:!1},r)}}}),f()(a,y.a,!0),a},te=function(){return{type:T.actionTypes.explorer.CLEAR_FETCH_STAR_LIST}},ne=function(e){return f()({type:T.actionTypes.explorer.CREATE_NEW_YEAR_SURVEY},S.REQUEST,{url:T.apiUrls.POST_CREATE_NEW_YEAR_SURVEY,method:T.apiUrls.METHOD.POST,data:{parent_token:e}})},re=function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:"",a=4<arguments.length?arguments[4]:void 0,o=n===S.NUM_FILE_TYPE.SHEET?I.g:"",i=o?f()({},I.o,o):{},c={type:T.actionTypes.explorer.CREATE_FILE};return f()(c,S.REQUEST,{url:e===S.EXPLORER_URL_TYPE.V2?T.apiUrls.POST_CREATE_FILE_V2:T.apiUrls.POST_CREATE_FILE,method:T.apiUrls.METHOD.POST,data:{parent_token:t,type:n,name:r,template_name:a},options:{transformResponse:function(e){return Object.assign({},e,{parentToken:t,type:n})}},headers:Object.assign({},i)}),f()(c,y.a,!0),c},ae=function(e){var t=e.urlType,n=e.parentToken,r=e.name,a=e.desc,o=e.isInPathTree,i=void 0!==o&&o;return f()({type:T.actionTypes.explorer.CREATE_FILE},S.REQUEST,{url:t===S.EXPLORER_URL_TYPE.V2?T.apiUrls.POST_CREATE_FOLDER_V2:T.apiUrls.POST_CREATE_FILE,method:T.apiUrls.METHOD.POST,headers:t===S.EXPLORER_URL_TYPE.V2?{"Content-Type":"application/json"}:{},data:t===S.EXPLORER_URL_TYPE.V2?{parent_token:n,name:r,desc:a}:{parent_token:n,type:S.NUM_FILE_TYPE.FOLDER,name:r,share_desc:a},options:{transformResponse:function(e){return Object.assign({},e,{type:S.NUM_FILE_TYPE.FOLDER,parentToken:n,isInPathTree:i})}}})},oe=function(e){var t=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],n=2<arguments.length?arguments[2]:void 0,r=3<arguments.length?arguments[3]:void 0;return f()({type:T.actionTypes.explorer.CREATE_SHARE_FOLDER},S.REQUEST,{url:T.apiUrls.POST_CREATE_SHARE_FOLDER,method:T.apiUrls.METHOD.POST,data:{name:e,need_notify:Number(t),share_desc:n,members:JSON.stringify(r)}})},ie=function(e){var t=e.parentToken,n=e.name,r=e.needNotify,a=void 0!==r&&r,o=e.desc,i=void 0===o?"":o,c=e.roles,s=void 0===c?[]:c,u=e.inherit,l=e.isInPathTree,d=void 0!==l&&l,p={};return 0<u.length&&(p.inherit=u),0<s.length&&(p.roles=s),f()({type:T.actionTypes.explorer.CREATE_FOLDER},S.REQUEST,{url:T.apiUrls.POST_CREATE_FOLDER,method:T.apiUrls.METHOD.POST,headers:{"Content-Type":"application/json"},data:Object.assign({parent_token:t,name:n,desc:i,need_notify:a},p),options:{transformResponse:function(e){return Object.assign({},e,{type:S.NUM_FILE_TYPE.FOLDER,isShared:0<s.length,parentToken:t,isInPathTree:d})}}})},ce=function(e){var t=e.name,n=e.desc,r=e.coverId;return f()({type:T.actionTypes.explorer.CREATE_TEAM_SPACE},S.REQUEST,{url:T.apiUrls.POST_CREATE_TEAM_SPACE,method:T.apiUrls.METHOD.POST,headers:{"Content-Type":"application/json"},data:{name:t,desc:n,cover_id:r,source:0}})},se=function(e){return f()({type:T.actionTypes.explorer.CREATE_FILE},S.REQUEST,{url:T.apiUrls.POST_CREATE_FILE_BY_FAKE_TOKEN,method:T.apiUrls.METHOD.POST,data:e,noStore:!0,options:{transformResponse:function(e){return Object.assign({},e)}}})},ue=function(e,t,n){var r=e.token,a=e.name,o=(e.type,e.urlType);return f()({type:T.actionTypes.explorer.RENAME_FILE},S.REQUEST,{url:o===S.EXPLORER_URL_TYPE.V2?T.apiUrls.POST_RENAME_FILE_V2:T.apiUrls.POST_RENAME_FILE,method:T.apiUrls.METHOD.POST,data:{token:r,name:t,description:n},options:{transformResponse:function(e){return Object.assign({},e,{oldName:a,newName:t,token:r})}}})},le=function(e){var t=e.urlType,n=e.token,r=e.name,a=e.description;return f()({type:T.actionTypes.explorer.UPDATE_FOLDER_INFO},S.REQUEST,{url:t===S.EXPLORER_URL_TYPE.V2?T.apiUrls.POST_RENAME_FILE_V2:T.apiUrls.POST_RENAME_FILE,method:T.apiUrls.METHOD.POST,data:{token:n,name:r,share_desc:a},options:{transformResponse:function(e){return Object.assign({},e,{name:r,description:a,token:n})}}})},de=function(){return{type:"CANCEL_".concat(T.actionTypes.explorer.UPDATE_FOLDER_INFO)}},pe=function(e,t,n){var r=t.token,a=t.obj_token,o=t.name,i=t.type,c=t.version,s=t.memberId,u=t.urlType;return i===S.NUM_FILE_TYPE.FILE?e(Object(l.m)({fileToken:a,name:n,version:c,memberId:s})):e(ue({token:r,name:o,type:i,urlType:u},n))},_e=function(){var a=n()(E.a.mark(function e(t,n,r,a){var o,i,c,s,u,l,d;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=n.token,i=n.obj_token,c=n.name,s=n.type,u=n.memberId,l=n.urlType,e.prev=1,e.next=4,pe(t,{token:o,obj_token:i,name:c,type:s,memberId:u,urlType:l},r);case 4:return a&&a({isCancelled:!0,oldName:r}),e.abrupt("return",t(Object(p.a)()));case 8:e.prev=8,e.t0=e.catch(1),d=e.t0.code===m.OPERATE_ILLEGAL_ERROR_CODE?_("common.rename_fail_illegal"):_("explorer.rename_failed"),t({type:T.actionTypes.toast.TOAST_SHOW,toastConfig:{type:"error",content:d}});case 12:case"end":return e.stop()}},e,null,[[1,8]])}));return function(e,t,n,r){return a.apply(this,arguments)}}(),Ee=function(e,a,o){var i=e.token,c=e.obj_token,s=e.name,u=e.type,l=e.version,d=e.memberId,p=e.urlType;return function(){var t=n()(E.a.mark(function e(t){var n,r;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=!1,e.prev=1,e.next=4,pe(t,{token:i,obj_token:c,name:s,type:u,version:l,memberId:d,urlType:p},a);case 4:return e.abrupt("return",t({type:T.actionTypes.toast.TOAST_SHOW,toastConfig:{type:"success",content:"「".concat(s,"」").concat(_("explorer.been_renamed"),"「").concat(a,"」"),cancelable:!0,onCancel:function(){return _e(t,{token:i,obj_token:c,name:a,type:u,version:l,memberId:d,urlType:p},s,o)}}}));case 7:e.prev=7,e.t0=e.catch(1),n=!0,r=e.t0.code===m.OPERATE_ILLEGAL_ERROR_CODE?_("common.rename_fail_illegal"):_("explorer.rename_failed"),t({type:T.actionTypes.toast.TOAST_SHOW,toastConfig:{type:"error",content:r}});case 12:return e.prev=12,o&&o({hasError:n}),e.finish(12);case 15:case"end":return e.stop()}},e,null,[[1,7,12,15]])}));return function(e){return t.apply(this,arguments)}}()},fe=function(e,t,n){return e===S.EXPLORER_URL_TYPE.V2?f()({type:T.actionTypes.explorer.FETCH_PATH_TREE},S.REQUEST,{url:T.apiUrls.GET_FETCH_PERSONAL_FOLDER,method:T.apiUrls.METHOD.GET,options:{transformResponse:function(e){return{entities:e.entities,tree:e.node_list.map(function(e){return{token:e,children:[]}})}}}}):f()({type:T.actionTypes.explorer.FETCH_PATH_TREE},S.REQUEST,{url:T.apiUrls.GET_FETCH_PATH_TREE,method:T.apiUrls.METHOD.GET,params:{token:t,hidden:n},options:{transformResponse:function(e){return Object.assign({},e,{tree:e.tree[0].children,hidden:n})}}})},Te=function(e){var t=e.srcTokens,n=e.destToken,r=e.objTokens,a=e.objType,o=e.cancelable,i=void 0===o||o,c=e.fatherTokenOfSrcTokens,s=e.fatherToken,u=void 0===s?"":s,l=e.fatherType,d=void 0===l?null:l;return{type:T.actionTypes.explorer.USER_FRIENDLY_MOVE_FILE,payload:{srcTokens:t,destToken:n,objTokens:r,objType:a,cancelable:i,fatherTokenOfSrcTokens:c,fatherToken:u,fatherType:d}}},Se=function(e){var t=e.objTokens,n=e.destToken,r=e.urlType,a={type:T.actionTypes.explorer.BATCH_TASK};return f()(a,S.BATCH_REQUEST,f()({type:T.actionTypes.explorer.COMMON_ADD_FILE_TO},S.REQUEST,{url:r===S.EXPLORER_URL_TYPE.V2?T.apiUrls.POST_COMMON_ADD_FILE_TO_V2:T.apiUrls.POST_COMMON_ADD_FILE_TO,method:T.apiUrls.METHOD.POST,data:Object.assign({obj_token:t,dest_token:n},C.h?{archive_to_external:1}:{}),options:{transformResponse:function(e){return Object.assign({},e,{objTokens:t,destToken:n})}}})),f()(a,y.a,!0),a},me=function(){return{type:T.actionTypes.explorer.ROUTE_DEPENDENT_DELETE_OR_REMOVE_FILE}},Oe=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return{type:T.actionTypes.explorer.TRIGGER_HANDLE_DELETE_OR_REMOVE_FILE,payload:e}},be=function(){return{type:T.actionTypes.explorer.USER_FRIENDLY_MOVE_FILE_CONFIRM}},ye=function(e,t){return{type:T.actionTypes.explorer.USER_FRIENDLY_MOVE_FILE_SHOW_TOAST,payload:{params:e,successAction:t}}},he=function(e){var t=e.token,n=e.fetchAfter,r=e.paths,a=e.fatherToken,o=e.fatherType;return{type:T.actionTypes.explorer.DELETE_FILE_PATH,payload:{token:t,fetchAfter:n,paths:r,fatherToken:a,fatherType:o}}},ve=function(){return{type:T.actionTypes.explorer.CONFIRM_DELETE}},Ie=function(e){return{type:T.actionTypes.explorer.PERMANENTLY_DELETE_FILE,payload:{token:e}}},Ce=function(e){var t,n=e.urlType,r=e.srcToken,a=e.destToken,o=e.cancelable,i=void 0===o||o,c=e.fatherToken,s=void 0===c?"":c,u=e.fatherType,l=void 0===u?null:u,d={type:T.actionTypes.explorer.BATCH_TASK};return f()(d,S.BATCH_REQUEST,(t={type:T.actionTypes.explorer.MOVE_FILE},f()(t,S.REQUEST,{url:n===S.EXPLORER_URL_TYPE.V2?T.apiUrls.POST_MOVE_FILE_V2:T.apiUrls.POST_MOVE_FILE,method:T.apiUrls.METHOD.POST,data:Object.assign({src_token:r,dest_token:a},C.h?{move_to_external:1}:{}),options:{transformResponse:function(e){return Object.assign({},e,{srcToken:r,destToken:a,cancelable:i,fatherToken:s,fatherType:l})}}}),f()(t,y.a,!0),t)),f()(d,y.a,!0),d},Re=function(){return{type:"CANCEL_".concat(T.actionTypes.explorer.MOVE_FILE)}},ge=function(e){var t=e.urlType,n=void 0===t?S.EXPLORER_URL_TYPE.V1:t,r=e.spaceId,a=e.srcToken,o=e.fatherToken,i=e.fatherType,c=n===S.EXPLORER_URL_TYPE.V2?{url:T.apiUrls.POST_RESTORE_REMOVED_FILE_V2,method:T.apiUrls.METHOD.POST,headers:{"Content-Type":"application/json"},data:{token:a,space_id:r}}:{url:T.apiUrls.POST_RESTORE_REMOVED_FILE,method:T.apiUrls.METHOD.POST,data:{token:a}},s={type:T.actionTypes.explorer.BATCH_TASK};return f()(s,S.BATCH_REQUEST,f()({type:T.actionTypes.explorer.RESTORE_REMOVED_FILE},S.REQUEST,Object.assign({},c,{options:{transformResponse:function(e){return Object.assign({},e,{space_id:r,srcToken:a,fatherType:void 0!==i?i:null,fatherToken:o||""})}}}))),f()(s,y.a,!0),s},Ae=function(){return{type:"CANCEL_".concat(T.actionTypes.explorer.RESTORE_REMOVED_FILE)}},ke=function(e){var t,n=e.urlType,r=e.token,a=e.isOwner,o=void 0!==a&&a,i=e.fetchAfter,c=void 0===i||i,s=e.fatherType,u=e.fatherToken,l={type:T.actionTypes.explorer.BATCH_TASK};return f()(l,S.BATCH_REQUEST,(t={type:T.actionTypes.explorer.REMOVE_FILE},f()(t,S.REQUEST,{url:n===S.EXPLORER_URL_TYPE.V2?T.apiUrls.POST_REMOVE_FILE_V2:T.apiUrls.POST_REMOVE_FILE,method:T.apiUrls.METHOD.POST,data:{token:r},options:{transformResponse:function(e){return Object.assign({},e,{token:r,isOwner:o,fetchAfter:c,fatherType:s,fatherToken:u})}}}),f()(t,y.a,!0),t)),f()(l,y.a,!0),l},De=function(){return{type:"CANCEL_".concat(T.actionTypes.explorer.REMOVE_FILE)}},je=function(t){var e={type:T.actionTypes.explorer.DELETE_SHARED_RECORD};return f()(e,S.REQUEST,{url:T.apiUrls.POST_DELETE_SHARED_RECORD,method:T.apiUrls.METHOD.POST,data:{obj_token:t},options:{transformResponse:function(e){return Object.assign({},e,{objTokens:t})}}}),f()(e,y.a,!0),e},Le=function(e){var t=e.urlType,n=e.token,r=e.isOwner,a=e.fetchAfter,o=e.fatherToken,i=e.fatherType;return function(e){return e(ke({urlType:t,token:n,isOwner:r,fetchAfter:a,fatherToken:o,fatherType:i}))}},we=function(e){var t,n=e.listName,r=e.objTokens,a=e.fatherType,o=e.fatherToken,i=e.noSuccessToast,c={type:T.actionTypes.explorer.BATCH_TASK};return f()(c,S.BATCH_REQUEST,(t={type:T.actionTypes.explorer.DELETE_OBJECT},f()(t,S.REQUEST,{url:T.apiUrls.POST_DELETE_OBJECT,method:T.apiUrls.METHOD.POST,data:{obj_token:r},options:{transformResponse:function(e){return Object.assign({},e,{listName:n,fatherType:a,fatherToken:o,noSuccessToast:i})}}}),f()(t,y.a,!0),t)),f()(c,y.a,!0),c},Ne=function(e){var n=e.listName,r=e.objTokens,a=e.fatherType,o=e.fatherToken;return function(e,t){return e(we({listName:n,objTokens:r,fatherType:a,fatherToken:o}))}},Ue=function(e,t,n){var r,a=3<arguments.length&&void 0!==arguments[3]&&arguments[3],o=4<arguments.length?arguments[4]:void 0,i=e===S.EXPLORER_URL_TYPE.V2?{url:T.apiUrls.POST_DELETE_REMOVED_FILE_V2,method:T.apiUrls.METHOD.POST,headers:{"Content-Type":"application/json"},data:{token:Object(s.a)(t)?[t]:t,space_id:n}}:{url:T.apiUrls.POST_DELETE_REMOVED_FILE,method:T.apiUrls.METHOD.POST,data:{token:t}},c={payload:{token:t,space_id:n,isMobile:a,rootType:o}};return f()(c,S.DEFERRED,!0),f()(c,"type",T.actionTypes.explorer.BATCH_TASK),f()(c,S.BATCH_REQUEST,(r={type:T.actionTypes.explorer.DELETE_REMOVED_FILE},f()(r,S.REQUEST,i),f()(r,y.a,!0),r)),f()(c,y.a,!0),c},Pe=function(){return{type:"CANCEL_".concat(T.actionTypes.explorer.DELETE_REMOVED_FILE)}},Me=function(t,n,r){var a=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};return f()({type:T.actionTypes.explorer.TRANSFER_SHARE_FOLDER_OWNER},S.REQUEST,{url:T.apiUrls.POST_TRANSFER_SHARE_FOLDER_OWNER,method:T.apiUrls.METHOD.POST,data:{space_id:t,owner_id:n,owner_type:r},options:{transformResponse:function(e){return Object.assign({},e,{spaceId:t,ownerId:n,ownerType:r,meta:a})}}})},xe=function(e){var t={type:T.actionTypes.explorer.FETCH_PIN_LIST};return f()(t,S.REQUEST,{url:e?T.apiUrls.GET_PIN_LIST_LEAN:T.apiUrls.GET_PIN_LIST,method:T.apiUrls.METHOD.GET,options:{retryConfig:v.a.explorer.retryConfig}}),f()(t,y.a,!0),t},Fe=function(e,t,n){var r={type:T.actionTypes.explorer.MOVE_STAR};return f()(r,S.REQUEST,{url:T.apiUrls.POST_STAR_MOVE,method:T.apiUrls.METHOD.POST,data:{obj_token:e.token,untop:!t,front_obj_token:n&&n.token}}),f()(r,"payload",{file:e,top:t,frontFile:n}),r},He=function(e,t){var n={type:T.actionTypes.explorer.MOVE_PIN};return f()(n,S.REQUEST,{url:T.apiUrls.POST_PIN_MOVE,method:T.apiUrls.METHOD.POST,data:{src_token:e.token,dest_token:t&&t.token}}),f()(n,"payload",{file:e,frontFile:t}),n},Be=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:10;return f()({type:T.actionTypes.explorer.FETCH_RECOMMEND_LIST},S.REQUEST,{url:T.apiUrls.GET_RECOMMEND_LIST,method:T.apiUrls.METHOD.GET,params:{need_num:e}})},Ge=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"";return f()({type:T.actionTypes.explorer.MARK_FILE_AS_UNINTERESTED},S.REQUEST,{url:T.apiUrls.MARK_FILE_AS_UNINTERESTED,method:T.apiUrls.METHOD.POST,data:{recommend_node:e}})},Ke=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];return f()({type:T.actionTypes.explorer.MARK_FILE_AS_UNINTERESTED},S.REQUEST,{url:T.apiUrls.MARK_FILES_AS_UNINTERESTED,method:T.apiUrls.METHOD.POST,data:{recommend_nodes:e},headers:{"Content-Type":"application/json"}})},We=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"";return{type:T.actionTypes.explorer.REMOVE_RECOMMENDED_FILE,payload:e}},Ve=function(o){return function(e){var t=e.token,n=e.objToken,r=e.type,a=Object(R.i)({objToken:n,token:t,type:r});return f()({type:o},S.REQUEST,{url:T.apiUrls.POST_PIN_ADD,method:T.apiUrls.METHOD.POST,data:{token:a,type:r},options:{transformResponse:function(e){return Object.assign({},e,{finalToken:a,token:t,objToken:n,type:r,field:"is_pined",value:!0})}}})}},Ye=Ve(T.actionTypes.explorer.ADD_PIN),Qe=Ve(T.actionTypes.explorer.ADD_PIN_SILENTLY),Je=function(e){var t=e.token,n=e.objToken,r=e.type,a=Object(R.i)({objToken:n,token:t,type:r}),o={type:T.actionTypes.explorer.REMOVE_PIN};return f()(o,S.DEFERRED,!0),f()(o,S.REQUEST,{url:T.apiUrls.POST_PIN_REMOVE,method:T.apiUrls.METHOD.POST,data:{token:a,type:r},options:{transformResponse:function(e){return Object.assign({},e,{finalToken:a,token:t,objToken:n,type:r,field:"is_pined",value:!1})}}}),o},qe=function(e){var t=e.token,n=e.objToken,r=e.type,a=e.from,o=Object(R.i)({objToken:n,token:t,type:r}),i={type:T.actionTypes.explorer.ADD_STAR};return f()(i,S.REQUEST,{url:T.apiUrls.POST_STAR_ADD,method:T.apiUrls.METHOD.POST,data:{obj_token:o,type:r},options:{transformResponse:function(e){return Object.assign({},e,{token:t,objToken:n,finalToken:o,type:r,field:"is_stared",value:!0})}}}),f()(i,"payload",{from:a}),i},ze=function(e){var t=e.token,n=e.objToken,r=e.type,a=e.from,o=Object(R.i)({objToken:n,token:t,type:r}),i={type:T.actionTypes.explorer.REMOVE_STAR};return f()(i,S.REQUEST,{url:T.apiUrls.POST_STAR_REMOVE,method:T.apiUrls.METHOD.POST,data:{token:o,type:r},options:{transformResponse:function(e){return Object.assign({},e,{token:t,objToken:n,finalToken:o,type:r,field:"is_stared",value:!1})}}}),f()(i,"payload",{from:a}),i},Xe=function(e){var t=e.objToken,n=e.objType,r=e.wikiToken;return f()({type:T.actionTypes.explorer.FETCH_SUBSCRIBE_STATUS},S.REQUEST,{url:T.apiUrls.POST_SUBSCRIBE_STATUS,method:T.apiUrls.METHOD.POST,headers:{"Content-Type":"application/json"},data:{obj_token:t,obj_type:n},options:{transformResponse:function(e){return{isSubscribed:1===e.is_subscribe,objToken:t,wikiToken:r}}}})},Ze=function(e){var t=e.objToken,n=e.type;return f()({type:T.actionTypes.explorer.SUBSCRIBE},S.REQUEST,{url:T.apiUrls.POST_SUBSCRIBE,method:T.apiUrls.METHOD.POST,headers:{"Content-Type":"application/json"},data:{obj_token:t,obj_type:n},options:{transformResponse:function(e){return{objToken:t,field:"is_subscribed",value:!0}}}})},$e=function(e){var t=e.objToken,n=e.type;return f()({type:T.actionTypes.explorer.UNSUBSCRIBE},S.REQUEST,{url:T.apiUrls.POST_UNSUBSCRIBE,method:T.apiUrls.METHOD.POST,headers:{"Content-Type":"application/json"},data:{obj_token:t,obj_type:n},options:{transformResponse:function(e){return{objToken:t,field:"is_subscribed",value:!1}}}})},et=function(e){return{type:T.actionTypes.explorer.UPDATE_SUBSCRIBE_STATUS,payload:e}},tt=function(t,n){return f()({type:T.actionTypes.explorer.UPDATE_SHARE_FOLDER_DESC},S.REQUEST,{url:T.apiUrls.UPDATE_SHARE_FOLDER_DESC,method:T.apiUrls.METHOD.POST,data:{token:t,data:JSON.stringify({name:n.name,share_desc:n.description})},options:{transformResponse:function(e){return Object.assign({},e,{token:t,newName:n.name,newDescription:n.description})}}})},nt=function(){return{type:"CANCEL_".concat(T.actionTypes.explorer.UPDATE_SHARE_FOLDER_DESC)}},rt=15,at=function(e,t){var n=Object.assign({length:rt},t),r=Object.assign({},n,{rank:6}),a={type:T.actionTypes.search.FETCH_RECENT_IN_SEARCH_BOX};return f()(a,S.REQUEST,{url:e?T.apiUrls.GET_RECENT_LIST_LEAN:T.apiUrls.GET_FETCH_RECENT_OBJS,method:T.apiUrls.METHOD.GET,params:e?r:n}),f()(a,y.a,!0),a},ot=function(){return{type:"CANCEL_".concat(T.actionTypes.search.FETCH_RECENT_IN_SEARCH_BOX)}},it=function(t){var e={type:T.actionTypes.explorer.BATCH_TASK};return f()(e,S.BATCH_REQUEST,f()({type:T.actionTypes.explorer.DELETE_RECENT_RECORD},S.REQUEST,{url:T.apiUrls.POST_DELETE_RECENT_RECORD,method:T.apiUrls.METHOD.POST,data:{obj_token:t},options:{transformResponse:function(e){return Object.assign({},e,{objTokens:t})}}})),f()(e,y.a,!0),e},ct=P.bind(null,{tokens:Object(c.List)(),hasMore:!1,lastLabel:""}),st=20,ut=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.params,n=void 0===t?{}:t,r=o()(e,["params"]),a={type:T.actionTypes.explorer.FETCH_RECENT_OBJS,payload:{params:Object.assign({length:st},S.THUMBNAIL_REQUEST_PARAM,n),options:Object.assign({isContinuous:!1,onlyUpdateEntity:!1},r)}};return f()(a,S.DEFERRED,!0),f()(a,y.a,!0),a},lt=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.params,n=void 0===t?{}:t,r=o()(e,["params"]),a={type:T.actionTypes.explorer.FETCH_RECENT_OBJS_FOR_CHECK};return f()(a,S.REQUEST,{url:r.fetchPartData?T.apiUrls.GET_FETCH_RECENT_OBJS_LEAN:T.apiUrls.GET_FETCH_RECENT_OBJS,method:T.apiUrls.METHOD.GET,params:Object.assign({length:st},S.THUMBNAIL_REQUEST_PARAM,{},n)}),f()(a,"payload",{options:Object.assign({isContinuous:!1,onlyUpdateEntity:!1},r)}),a},dt=function(){return{type:"CANCEL_".concat(T.actionTypes.explorer.FETCH_RECENT_OBJS_FOR_CHECK)}},pt=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.params,n=void 0===t?{}:t,r=o()(e,["params"]);return f()({type:T.actionTypes.intermediate.FETCH_PAGED_DATA,payload:{realActionType:T.actionTypes.explorer.FETCH_RECENT_OBJS_IN_SUITE_BACK_NAV,params:Object.assign({},S.THUMBNAIL_REQUEST_PARAM,{},n,{length:st,rank:6}),options:Object.assign({isContinuous:!1,onlyUpdateEntity:!1},r)}},S.DEFERRED,!0)},_t=ut.bind(null,!0),Et=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:st,n=!(2<arguments.length&&void 0!==arguments[2])||arguments[2];return f()({type:T.actionTypes.intermediate.FETCH_PAGED_DATA,payload:{realActionType:e,isContinuous:n,length:t}},S.DEFERRED,!0)},ft=function(e){return{type:T.actionTypes.explorer.REMOVE_FILES_SHARED_INFO,payload:{metas:e}}},Tt=function(e){return{type:T.actionTypes.explorer.REMOVE_SHARE_ROOT_INFO,payload:{metas:e}}},St=function(t,n){var e={type:T.actionTypes.explorer.FETCH_OBJ_PATHS};return f()(e,S.REQUEST,{url:T.apiUrls.GET_OBJ_PATH,method:T.apiUrls.METHOD.GET,params:{obj_token:t,obj_type:n},options:{transformResponse:function(e){return Object.assign({},e,{objToken:t,type:n})}}}),f()(e,S.DEFERRED,!0),f()(e,y.a,{resetWhenSuiteTokenChange:!0}),e},mt=function(e){return{type:T.actionTypes.explorer.SET_FILE_META_NAME,payload:e}},Ot=function(e){var t,n=e.file,r=e.now,a=e.currentUserId,o=n.name,i=n.fileToken,c=n.isImport,s=n.parentToken,u=Object(d.a)(o),l=c?(t=Object(d.b)(o),(S.mapTypeToSuite[u]||"").toUpperCase()):(t=o,"FILE");return{type:T.actionTypes.explorer.INSERT_UPLOADED_FILE_TO_RECENT,payload:{parentToken:s,create_uid:a,create_time:r,edit_time:r,edit_uid:a,is_external:!1,is_pined:!1,is_stared:!1,name:t,obj_token:i,open_time:r,owner_id:a,subtype:u,type:S.mapFileType2TypeNum[S.FILE_TYPE[l]],url:Object(b.n)(Object(O.generatePath)({type:S.mapFileType2TypeNum[S.FILE_TYPE[l]],objToken:i}))}}},bt=function(e,t){return f()({type:T.actionTypes.explorer.FETCH_ACTIVITY_INFO},S.REQUEST,{url:T.apiUrls.GET_DETAIL,method:T.apiUrls.METHOD.GET,params:{obj_type:e,token:t}})},yt=function(){if(Object(C.d)())return g.a.isOpendoc?"opendoc":window.parent!==window?"iframe":void 0},ht=function(){return f()({type:T.actionTypes.explorer.FETCH_BULLETIN_INFO},S.REQUEST,{url:T.apiUrls.GET_BULLETIN_INFO,method:T.apiUrls.METHOD.GET,params:{form:yt()}})},vt=function(e){return f()({type:T.actionTypes.explorer.CLOSE_BULLETIN},S.REQUEST,{url:T.apiUrls.CLOSE_BULLETIN,method:T.apiUrls.METHOD.POST,data:{id:e}})},It=function(e){var t=e.fatherToken,n=e.fatherType,r=void 0===n?null:n,a=e.listName,o=void 0===a?null:a,i=e.childToken;return{type:T.actionTypes.explorer.REMOVE_CHILD_FROM_FATHER_INDEX,payload:{fatherToken:t,fatherType:r,listName:o,childToken:i}}},Ct=function(e){return{type:T.actionTypes.explorer.MANUALLY_SHOW_USAGE_LIMIT,payload:e}},Rt=function(){return f()({type:T.actionTypes.explorer.FETCH_RECENT_FOLDER_PATH},S.REQUEST,{url:T.apiUrls.GET_RECENT_FOLDER_PATH,method:T.apiUrls.METHOD.GET})},gt=function(e){return(e?kt:At)()},At=function(){var e={type:T.actionTypes.explorer.FETCH_ROOT_DUSTBIN};return f()(e,S.REQUEST,{url:T.apiUrls.GET_DUSTBIN_CHILDREN,method:T.apiUrls.METHOD.GET,params:Object.assign({},S.THUMBNAIL_REQUEST_PARAM),options:{retryConfig:v.a.explorer.retryConfig}}),f()(e,y.a,!0),e},kt=function(){var e={type:T.actionTypes.explorer.FETCH_ROOT_DUSTBIN};return f()(e,S.REQUEST,{url:T.apiUrls.GET_DUSTBIN_CHILDREN_LEAN,method:T.apiUrls.METHOD.GET}),f()(e,y.a,!0),e},Dt=function(e){return f()({type:T.actionTypes.explorer.FETCH_DUSTBIN_CHILDREN},S.REQUEST,{url:T.apiUrls.GET_DUSTBIN_CHILDREN,method:T.apiUrls.METHOD.GET,params:{token:e},options:{mergeRequestDataIntoPayload:!0}})},jt=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.params,n=void 0===t?{}:t,r=o()(e,["params"]);return f()({type:T.actionTypes.intermediate.FETCH_PAGED_DATA,payload:f()({realActionType:T.actionTypes.explorer.FETCH_DUSTBIN_SPACE_LIST,params:Object.assign({without_user:!0,length:50},n),options:Object.assign({isContinuous:!1},r)},y.a,!0)},S.DEFERRED,!0)},Lt=function(e){return{type:T.actionTypes.explorer.SET_DUSTBIN_SPACE_ID,payload:e}},wt=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.params,n=void 0===t?{}:t,r=o()(e,["params"]),a={type:T.actionTypes.explorer.FETCH_DUSTBIN_LIST};return f()(a,S.REQUEST,{url:T.apiUrls.GET_DUSTBIN_LIST,method:T.apiUrls.METHOD.GET,params:Object.assign({length:st},S.THUMBNAIL_REQUEST_PARAM,{},n),options:{takeLatest:!0,transformResponse:function(e){return Object.assign({},e,{isContinuous:!1},n,{},r)}}}),f()(a,y.a,!0),a},Nt=function(){return f()({type:T.actionTypes.explorer.FETCH_STORAGE_COUNT},S.REQUEST,{url:T.apiUrls.GET_STORAGE_COUNT,method:T.apiUrls.METHOD.GET})},Ut=function(){return f()({type:T.actionTypes.explorer.NOTIFY_SUITE_BOT},S.REQUEST,{url:T.apiUrls.NOTIFY_SUITE_BOT,method:T.apiUrls.METHOD.GET})},Pt=function(e){return{type:T.actionTypes.explorer.SET_CURRENT_DRAGGING_ITEMS,payload:e}},Mt=function(e,t,n){return{type:T.actionTypes.ui.CONFIRM_OR_CANCEL_ACTION_FROM_MODAL,payload:{type:e,isConfirm:t,props:n||{}}}},xt=function(e,t,n){return f()({type:T.actionTypes.explorer.SAVE_AS_TEMPLATE},S.REQUEST,{url:T.apiUrls.POST_SAVE_AS_TEMPLATE,method:T.apiUrls.METHOD.POST,data:{obj_type:e,obj_token:t,obj_template_name:n}})},Ft=function(e,t,n){return f()({type:T.actionTypes.explorer.DELETE_TEMPLATE,payload:{noToast:n}},S.REQUEST,{url:T.apiUrls.POST_DELETE_TEMPLATE,method:T.apiUrls.METHOD.POST,data:{obj_type:e,obj_token:t}})},Ht=function(e){var t={type:T.actionTypes.explorer.FETCH_USER_DETAIL};return f()(t,S.REQUEST,{url:T.apiUrls.POST_FETCH_USER_DETAIL,method:T.apiUrls.METHOD.POST,headers:{"Content-Type":"application/json"},data:e}),f()(t,y.a,!0),t},Bt=function(e){return f()({type:T.actionTypes.explorer.FETCH_FOLDER_SIZE},S.REQUEST,{url:T.apiUrls.GET_FETCH_FOLDER_SIZE,method:T.apiUrls.METHOD.GET,params:{token:e},options:{retryConfig:v.a.explorer.retryConfig}})},Gt=function(e){return{type:T.actionTypes.explorer.SET_TOKEN_MAP,payload:e}},Kt=function(){return{type:T.actionTypes.explorer.CANCEL_BATCH_TASK}},Wt=function(t){return f()({type:T.actionTypes.explorer.FETCH_EXTERNAL_HINT},S.REQUEST,{url:T.apiUrls.GET_EXTERNAL_HINT,method:T.apiUrls.METHOD.POST,headers:{"Content-Type":"application/json"},data:{objs:t.map(function(e){return{type:e.type,token:e.objToken}})},options:{transformResponse:function(e){return{objFlags:e,nodes:t}}}})},Vt=function(e){return{type:T.actionTypes.explorer.SET_EXTERNAL_HINT,payload:{data:e}}},Yt=function(e,t){return{type:T.actionTypes.explorer.SET_NODE_IS_EXTERNAL,payload:{token:e,isExternal:t}}},Qt=function(){return f()({type:T.actionTypes.explorer.FETCH_LEANMODE},S.REQUEST,{url:T.apiUrls.GET_LEANMODE})},Jt=function(){return f()({type:T.actionTypes.explorer.FETCH_LEANMODE_CONFIG},S.REQUEST,{url:T.apiUrls.GET_LEANMODE_CONFIG,method:T.apiUrls.METHOD.POST})},qt=function(e){return{type:T.actionTypes.explorer.UPDATE_LEANMODE_CONFIG,payload:e}},zt=function(){var e={type:T.actionTypes.explorer.FETCH_ISV_CONFIG};return f()(e,S.REQUEST,{url:T.apiUrls.GET_ISV_CONFIG,params:{length:20,cursor:1}}),f()(e,y.a,!0),e},Xt=function(e,t){return f()({type:T.actionTypes.explorer.CREATE_ISV},S.REQUEST,{url:T.apiUrls.CREATE_ISV,method:T.apiUrls.METHOD.POST,data:{parent_token:t,app_id:e}})},Zt=function(e){var t=e.type,n=e.name,r=void 0===n?_("common.unnamed_file"):n,a=e.parentToken,o=void 0===a?"":a;return f()({type:T.actionTypes.explorer.CREATE_DRIVE_FILE},S.REQUEST,{url:T.apiUrls.POST_CREATE_DRIVE_FILE,method:T.apiUrls.METHOD.POST,headers:{"Content-Type":"application/json"},data:{name:r,parent_token:o,file_type:t}})},$t=function(e){var t=e.requestParams,n=e.hidden,r=e.beShared,a=e.willUpdatePath,o=e.willUpdateStatus,i=void 0!==o&&o,c={type:T.actionTypes.explorer.FETCH_ROOT_SHARE_FOLDER,payload:{willUpdatePath:a}};return f()(c,y.a,i),f()(c,S.REQUEST,{url:T.apiUrls.GET_ROOT_SHARE_FOLDERS,params:Object.assign({hidden:n,be_shared:r},t),options:{retryConfig:v.a.explorer.retryConfig,transformResponse:function(e){return Object.assign({},e,{hidden:n,beShared:r,willUpdatePath:a})}}}),c},en=function(e){var t=e.requestParams,n=e.hidden,r=e.willUpdatePath,a=$t({requestParams:t,hidden:n,willUpdatePath:r});return Object.assign({},a,{type:T.actionTypes.explorer.FETCH_ROOT_SHARE_FOLDER_PURE})},tn=function(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1];return f()({type:T.actionTypes.explorer.FETCH_ROOT_SHARE_FOLDER_WITHIN_PARAMS,payload:{hidden:e,willUpdatePath:t}},S.DEFERRED,!0)},nn=function(t){return f()({type:T.actionTypes.explorer.SHOW_SHARE_FOLDER},S.REQUEST,{url:T.apiUrls.POST_SHOW_SHARE_FOLDER,method:T.apiUrls.METHOD.POST,data:{token:t},options:{transformResponse:function(e){return Object.assign({},e,{token:t})}}})},rn=function(t){return f()({type:T.actionTypes.explorer.HIDE_SHARE_FOLDER},S.REQUEST,{url:T.apiUrls.POST_HIDE_SHARE_FOLDER,method:T.apiUrls.METHOD.POST,data:{token:t},options:{transformResponse:function(e){return Object.assign({},e,{token:t})}}})},an=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.params,n=void 0===t?{}:t,r=o()(e,["params"]),a={type:T.actionTypes.explorer.FETCH_ALL_TEAM_SPACE};return f()(a,S.REQUEST,{url:T.apiUrls.GET_FETCH_ALL_TEAM_SPACE,method:T.apiUrls.METHOD.GET,params:Object.assign({length:st},n),options:{retryConfig:v.a.explorer.retryConfig,takeLatest:!0,transformResponse:function(e){return Object.assign({},e,{isContinuous:!1},r)}}}),f()(a,y.a,!0),a},on=function(){var e={};return f()(e,S.DEFERRED,!0),f()(e,"type",T.actionTypes.explorer.FETCH_ALL_TEAM_SPACE_WITHIN_PARAMS),e},cn=function(e){var t=an(e);return Object.assign({},t,f()({type:T.actionTypes.explorer.FETCH_ALL_TEAM_SPACE_PURE},y.a,!1))},sn=function(){var e={type:T.actionTypes.explorer.FETCH_TEAM_SPACE_COVERS};return f()(e,y.a,!0),f()(e,S.REQUEST,{url:T.apiUrls.GET_FETCH_TEAM_SPACE_COVERS,method:T.apiUrls.METHOD.GET,options:{retryConfig:v.a.explorer.retryConfig}}),e},un=function(e){return{type:T.actionTypes.explorer.FETCH_TEAM_SPACE_COVERS_SUCCESS,payload:{cover_list:e}}},ln=function(e,t){return f()({type:T.actionTypes.explorer.APPEAL},S.REQUEST,{url:T.apiUrls.POST_APPEAL,method:T.apiUrls.METHOD.POST,data:{obj_type:e,obj_token:t}})},dn=function(e,t){return f()({type:T.actionTypes.explorer.APPEAL_STATUS},S.REQUEST,{url:T.apiUrls.GET_APPEAL_STATUS,method:T.apiUrls.METHOD.GET,params:{obj_type:e,obj_token:t}})},pn=function(e){return f()({type:T.actionTypes.explorer.FETCH_FOLDER_META},S.REQUEST,{url:T.apiUrls.GET_FOLDER_META_V2,method:T.apiUrls.METHOD.GET,params:{token:e}})}}.call(this,En("2vAP"))},"/z8v":function(e,t,n){"use strict";var c,r,a=n("cDf5");function u(e){this.time=e.time,this.target=e.target,this.rootBounds=e.rootBounds,this.boundingClientRect=e.boundingClientRect,this.intersectionRect=e.intersectionRect||E(),this.isIntersecting=!!e.intersectionRect;var t=this.boundingClientRect,n=t.width*t.height,r=this.intersectionRect,a=r.width*r.height;this.intersectionRatio=n?Number((a/n).toFixed(4)):this.isIntersecting?1:0}function o(e,t){var n=t||{};if("function"!=typeof e)throw new Error("callback must be a function");if(n.root&&1!=n.root.nodeType)throw new Error("root must be an Element");this._checkForIntersections=i(this._checkForIntersections.bind(this),this.THROTTLE_TIMEOUT),this._callback=e,this._observationTargets=[],this._queuedEntries=[],this._rootMarginValues=this._parseRootMargin(n.rootMargin),this.thresholds=this._initThresholds(n.threshold),this.root=n.root||null,this.rootMargin=this._rootMarginValues.map(function(e){return e.value+e.unit}).join(" ")}function l(){return window.performance&&performance.now&&performance.now()}function i(e,t){var n=null;return function(){n=n||setTimeout(function(){e(),n=null},t)}}function s(e,t,n,r){"function"==typeof e.addEventListener?e.addEventListener(t,n,r||!1):"function"==typeof e.attachEvent&&e.attachEvent("on"+t,n)}function d(e,t,n,r){"function"==typeof e.removeEventListener?e.removeEventListener(t,n,r||!1):"function"==typeof e.detatchEvent&&e.detatchEvent("on"+t,n)}function p(e,t){var n=Math.max(e.top,t.top),r=Math.min(e.bottom,t.bottom),a=Math.max(e.left,t.left),o=Math.min(e.right,t.right),i=o-a,c=r-n;return 0<=i&&0<=c&&{top:n,bottom:r,left:a,right:o,width:i,height:c}}function _(e){var t;try{t=e.getBoundingClientRect()}catch(e){}return t?(t.width&&t.height||(t={top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:t.right-t.left,height:t.bottom-t.top}),t):E()}function E(){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}function f(e,t){for(var n=t;n;){if(n==e)return!0;n=T(n)}return!1}function T(e){var t=e.parentNode;return t&&11===t.nodeType&&t.host?t.host:t&&t.assignedSlot?t.assignedSlot.parentNode:t}"object"===("undefined"==typeof window?"undefined":n.n(a)()(window))&&("IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype?"isIntersecting"in window.IntersectionObserverEntry.prototype||Object.defineProperty(window.IntersectionObserverEntry.prototype,"isIntersecting",{get:function(){return 0<this.intersectionRatio}}):(c=window.document,r=[],o.prototype.THROTTLE_TIMEOUT=100,o.prototype.POLL_INTERVAL=null,o.prototype.USE_MUTATION_OBSERVER=!0,o.prototype.observe=function(t){if(!this._observationTargets.some(function(e){return e.element==t})){if(!t||1!=t.nodeType)throw new Error("target must be an Element");this._registerInstance(),this._observationTargets.push({element:t,entry:null}),this._monitorIntersections(),this._checkForIntersections()}},o.prototype.unobserve=function(t){this._observationTargets=this._observationTargets.filter(function(e){return e.element!=t}),this._observationTargets.length||(this._unmonitorIntersections(),this._unregisterInstance())},o.prototype.disconnect=function(){this._observationTargets=[],this._unmonitorIntersections(),this._unregisterInstance()},o.prototype.takeRecords=function(){var e=this._queuedEntries.slice();return this._queuedEntries=[],e},o.prototype._initThresholds=function(e){var t=e||[0];return Array.isArray(t)||(t=[t]),t.sort().filter(function(e,t,n){if("number"!=typeof e||isNaN(e)||e<0||1<e)throw new Error("threshold must be a number between 0 and 1 inclusively");return e!==n[t-1]})},o.prototype._parseRootMargin=function(e){var t=(e||"0px").split(/\s+/).map(function(e){var t=/^(-?\d*\.?\d+)(px|%)$/.exec(e);if(!t)throw new Error("rootMargin must be specified in pixels or percent");return{value:parseFloat(t[1]),unit:t[2]}});return t[1]=t[1]||t[0],t[2]=t[2]||t[0],t[3]=t[3]||t[1],t},o.prototype._monitorIntersections=function(){this._monitoringIntersections||(this._monitoringIntersections=!0,this.POLL_INTERVAL?this._monitoringInterval=setInterval(this._checkForIntersections,this.POLL_INTERVAL):(s(window,"resize",this._checkForIntersections,!0),s(c,"scroll",this._checkForIntersections,!0),this.USE_MUTATION_OBSERVER&&"MutationObserver"in window&&(this._domObserver=new MutationObserver(this._checkForIntersections),this._domObserver.observe(c,{attributes:!0,childList:!0,characterData:!0,subtree:!0}))))},o.prototype._unmonitorIntersections=function(){this._monitoringIntersections&&(this._monitoringIntersections=!1,clearInterval(this._monitoringInterval),this._monitoringInterval=null,d(window,"resize",this._checkForIntersections,!0),d(c,"scroll",this._checkForIntersections,!0),this._domObserver&&(this._domObserver.disconnect(),this._domObserver=null))},o.prototype._checkForIntersections=function(){var c=this._rootIsInDom(),s=c?this._getRootRect():E();this._observationTargets.forEach(function(e){var t=e.element,n=_(t),r=this._rootContainsTarget(t),a=e.entry,o=c&&r&&this._computeTargetAndRootIntersection(t,s),i=e.entry=new u({time:l(),target:t,boundingClientRect:n,rootBounds:s,intersectionRect:o});a?c&&r?this._hasCrossedThreshold(a,i)&&this._queuedEntries.push(i):a&&a.isIntersecting&&this._queuedEntries.push(i):this._queuedEntries.push(i)},this),this._queuedEntries.length&&this._callback(this.takeRecords(),this)},o.prototype._computeTargetAndRootIntersection=function(e,t){if("none"!=window.getComputedStyle(e).display){for(var n=_(e),r=T(e),a=!1;!a;){var o=null,i=1==r.nodeType?window.getComputedStyle(r):{};if("none"==i.display)return;if(r==this.root||r==c?(a=!0,o=t):r!=c.body&&r!=c.documentElement&&"visible"!=i.overflow&&(o=_(r)),o&&!(n=p(o,n)))break;r=T(r)}return n}},o.prototype._getRootRect=function(){var e,t,n;return n=this.root?_(this.root):(e=c.documentElement,t=c.body,{top:0,left:0,right:e.clientWidth||t.clientWidth,width:e.clientWidth||t.clientWidth,bottom:e.clientHeight||t.clientHeight,height:e.clientHeight||t.clientHeight}),this._expandRectByRootMargin(n)},o.prototype._expandRectByRootMargin=function(n){var e=this._rootMarginValues.map(function(e,t){return"px"==e.unit?e.value:e.value*(t%2?n.width:n.height)/100}),t={top:n.top-e[0],right:n.right+e[1],bottom:n.bottom+e[2],left:n.left-e[3]};return t.width=t.right-t.left,t.height=t.bottom-t.top,t},o.prototype._hasCrossedThreshold=function(e,t){var n=e&&e.isIntersecting?e.intersectionRatio||0:-1,r=t.isIntersecting?t.intersectionRatio||0:-1;if(n!==r)for(var a=0;a<this.thresholds.length;a++){var o=this.thresholds[a];if(o==n||o==r||o<n!=o<r)return!0}},o.prototype._rootIsInDom=function(){return!this.root||f(c,this.root)},o.prototype._rootContainsTarget=function(e){return f(this.root||c,e)},o.prototype._registerInstance=function(){r.indexOf(this)<0&&r.push(this)},o.prototype._unregisterInstance=function(){var e=r.indexOf(this);-1!=e&&r.splice(e,1)},window.IntersectionObserver=o,window.IntersectionObserverEntry=u))},"02sq":function(e,$,ee){"use strict";(function(t){ee.d($,"c",function(){return R}),ee.d($,"f",function(){return g}),ee.d($,"n",function(){return k}),ee.d($,"l",function(){return N}),ee.d($,"i",function(){return U}),ee.d($,"h",function(){return P}),ee.d($,"d",function(){return H}),ee.d($,"e",function(){return B}),ee.d($,"g",function(){return V}),ee.d($,"a",function(){return I}),ee.d($,"o",function(){return Y}),ee.d($,"m",function(){return Q}),ee.d($,"b",function(){return J}),ee.d($,"j",function(){return z}),ee.d($,"p",function(){return X}),ee.d($,"k",function(){return Z});var e,n,r,a,o,i,c,s,u,l=ee("J4zp"),d=ee.n(l),p=ee("lSNA"),_=ee.n(p),E=ee("Muja"),f=ee("3Hq1"),T=ee("M1Wn"),S=ee("u3oV"),m=ee("Mpt7"),O=ee("Wwog"),b=ee("QM+C"),y=ee("y94N"),h=ee("lgTS"),v=ee("+mgp");(i=o=o||{})[i.NAME=5]="NAME",i[i.CREATED_TIME=3]="CREATED_TIME",i[i.MODIFIED_TIME=0]="MODIFIED_TIME",i[i.SIZE=10]="SIZE",(s=c=c||{})[s.ASCENDING=1]="ASCENDING",s[s.DESCENDING=0]="DESCENDING",(u=u||{}).PHOTO="photo";var I,C,R={obj_type:null,file_type:null,forbidden_file_type:null},g=function(e){return t(e?"explorer.v3.grid_view":"explorer.v3.list_view")},k=Object(O.a)(function(e){return Object(S.a)(e,function(e){return!Object(T.a)(e)})},E.default),D=(e={},_()(e,y.d.DOC,b.NUM_FILE_TYPE.DOC),_()(e,y.d.SHEET,b.NUM_FILE_TYPE.SHEET),_()(e,y.d.BITABLE,b.NUM_FILE_TYPE.BITABLE),_()(e,y.d.SLIDE,b.NUM_FILE_TYPE.SLIDE),_()(e,y.d.MINDNOTE,b.NUM_FILE_TYPE.MINDNOTE),_()(e,y.d.ISV,b.NUM_FILE_TYPE.ISV),e),j=(n={},_()(n,y.v.NAME,o.NAME),_()(n,y.v.CREATED_TIME,o.CREATED_TIME),_()(n,y.v.MODIFIED_TIME,o.MODIFIED_TIME),_()(n,y.v.SIZE,o.SIZE),n),L=(r={},_()(r,y.w.ASCENDING,c.ASCENDING),_()(r,y.w.DESCENDING,c.DESCENDING),r),w=function(e,t){return t!==y.p.SharedFolder||e?null:0},N=function(e){return Object(m.List)(e).map(function(e){return new h.b(y.D[e])})},U=function(e,t){var n=L[e.direction],r=j[e.sortField];return{asc:Object(f.default)(n)?null:n,rank:Object(f.default)(r)?null:r,manager_first:w(Boolean(e.managerFirst),t)}},P=function(e){var t=F(e.get("fileType")),n=x(e.get("onlyUnOrganized")),r=M(e.get("sharerIds")),a=Object.assign({},t,{},n,{},r);return k(a)},M=function(e){return{sharer_ids:e.toJS()}},x=function(e){return{path_filter:!!e||null}},F=function(e){if(e===y.d.WIKI)return Object.assign({},R,{obj_type:b.NUM_FILE_TYPE.WIKI});var t=D[e];if(t&&b.suiteType.includes(t))return Object.assign({},R,{obj_type:t});switch(e){case y.d.ALL:return R;case y.d.FOLDER:return Object.assign({},R,{obj_type:b.NUM_FILE_TYPE.FOLDER});case y.d.FILE:return Object.assign({},R,{obj_type:b.NUM_FILE_TYPE.FILE,forbidden_file_type:u.PHOTO});case y.d.IMAGE:return Object.assign({},R,{file_type:u.PHOTO});default:return R}},H=function(d){return Object.keys(d).reduce(function(e,t){var n=d[t],r=n.name,a=n.type,o=n.filtering,i=n.viewMode,c=n.viewTab,s=n.columns,u=n.ordering,l=t!==y.p.SharedWithMe2||c!==y.y.SHARE_WITH_ME_2_FOLDER||v.m?new h.d({name:r,type:a,viewMode:i,viewTab:c,ordering:new h.g(u),filtering:new h.c(Object.assign({},o,{sharerIds:Object(m.fromJS)(o.sharerIds)})),columns:Object(m.List)(s.map(function(e){return new h.b(e)}))}):new h.d({name:r,type:a,viewMode:i,viewTab:y.y.SHARE_WITH_ME_2_RECENT,columns:N(y.Q)});return e.set(t,l)},Object(m.Map)({}))},B=function(e,t){switch(e){case y.u.Anybody:return null;case y.u.Myself:return{owner_id:[t]};default:return null}},K=(a={},_()(a,y.e.Doc,b.NUM_SUITE_TYPE.DOC),_()(a,y.e.Sheet,b.NUM_SUITE_TYPE.SHEET),_()(a,y.e.Bitable,b.NUM_SUITE_TYPE.BITABLE),_()(a,y.e.Slide,b.NUM_SUITE_TYPE.SLIDE),_()(a,y.e.MindNote,b.NUM_SUITE_TYPE.MINDNOTE),_()(a,y.e.ISV,b.NUM_SUITE_TYPE.ISV),a),W={obj_type:null,file_type:null,forbidden_file_type:null},V=function(e){if(e===y.e.WIKI)return Object.assign({},W,{obj_type:[b.NUM_FILE_TYPE.WIKI]});var t=K[e];if(t&&b.suiteType.includes(t))return Object.assign({},W,{obj_type:[t]});switch(e){case y.e.All:return W;case y.e.Files:return Object.assign({},W,{obj_type:[b.NUM_FILE_TYPE.FILE],forbidden_file_type:["photo"]});case y.e.Image:return Object.assign({},W,{file_type:["photo"]});default:return W}};(C=I=I||{}).FILTER="FILTER",C.META="META",C.SORT="SORT",C.CUSTOM="CUSTOM";var Y=function(e,t){return"".concat(e,":").concat(t)},Q=function(e){var t=e.split(":");return{type:t[0],value:t[1]}},J=function(e){var t=document.getElementsByClassName("list-header")[0].getBoundingClientRect(),n=t.left,r=e.firstCol||y.h,a=e.secondCol||y.l,o=e.thirdCol||y.l,i=t.width-2*y.b;return Object.assign({listHeaderClientLeft:n,listHeaderWidth:i},q(i,{firstCol:r,secondCol:a,thirdCol:o}))},q=function(n,r){var a={firstCol:y.g,secondCol:y.k,thirdCol:y.k},o=Object.values(r).reduce(function(e,t){return e+t}),i={};return Object.keys(r).forEach(function(e){var t=(n-y.j)*(r[e]/o);i[e]=Math.max(t,a[e])}),i},z=function(e,t,n,r,a){var o,i,c,s,u,l=e-y.j;return 0===a?(s=l-n,r=Math.min(r,s-y.k),i=s-(o=Math.max(r,y.g))):1===a&&(u=l-t,r=Math.min(r-t-y.b,u-y.k),c=u-(i=Math.max(y.k,r))),{firstColWidth:o,secondColWidth:i,thirdColWidth:c}},X=function(o){var e={"--first-col":"firstCol","--second-col":"secondCol","--third-col":"thirdCol"};Object.entries(e).forEach(function(e){var t=d()(e,2),n=t[0],r=t[1],a=document.querySelector('[data-selector="file-list-container"]');a&&a.style.setProperty(n,"".concat(o[r],"px"))})},Z=function(e){for(var t="list-header",n=e.target;n;){if(n.classList.contains(t))return!0;n=n.parentElement}return!1}}).call(this,ee("2vAP"))},"03In":function(e,t,n){"use strict";n.d(t,"h",function(){return a}),n.d(t,"m",function(){return o}),n.d(t,"d",function(){return c}),n.d(t,"g",function(){return f}),n.d(t,"j",function(){return T}),n.d(t,"i",function(){return S}),n.d(t,"l",function(){return m}),n.d(t,"k",function(){return O}),n.d(t,"b",function(){return b}),n.d(t,"e",function(){return y}),n.d(t,"a",function(){return h}),n.d(t,"f",function(){return v}),n.d(t,"c",function(){return I});var r=n("lSNA"),u=n.n(r),l=n("jp/M"),d=n("QM+C"),p=n("VQSS"),i=n("lQZd"),_=n("JgWU"),E={"Content-Type":"application/json"},a=function(e){var t=e.fileToken,n=e.caller,r=e.mountPoint,a=e.mountNodeToken,o=e.version,i=Date.now();return u()({type:l.actionTypes.box.GET_FILE_INFO},d.REQUEST,{headers:E,url:l.apiUrls.POST_BOX_FILE_INFO,method:l.apiUrls.METHOD.POST,data:Object(p.a)({file_token:t,mount_point:r,mount_node_token:a,version:o,caller:n}),options:{transformResponse:function(e){return Object.assign({},e,{costTime:Date.now()-i})}}})},o=function(e){var t=e.fileToken,n=e.name,r=e.version,a=e.memberId;return u()({type:l.actionTypes.box.UPDATE_FILE_INFO},d.REQUEST,{headers:E,url:l.apiUrls.POST_BOX_UPDATE_FILE_INFO,method:l.apiUrls.METHOD.POST,data:Object(p.a)({file_token:t,name:n,source_version:r,member_id:a||void 0})})},c=function(e,t,n){return u()({type:l.actionTypes.box.DELETE_FILE_VERSION},d.REQUEST,{headers:E,url:l.apiUrls.POST_BOX_FILE_DELETE_VERSION,method:l.apiUrls.METHOD.POST,data:{file_token:e,version:t,member_id:n}})},s=function(e,t){var n=t.fileToken,r=t.pageSize,a=void 0===r?10:r,o=t.lastEditTime,i=t.isAsc,c=t.onlyTag,s={type:e};return u()(s,d.REQUEST,{headers:E,url:l.apiUrls.POST_BOX_FILE_HISTORY,method:l.apiUrls.METHOD.POST,data:Object(p.a)({file_token:n,page_size:a,last_edit_time:o,is_asc:i,only_tag:c}),options:{transformResponse:function(e){return Object.assign({},e,{fileToken:n})}}}),u()(s,_.c,function(e){return e.payload.users}),s},f=function(e){return s(l.actionTypes.box.GET_FILE_HISTORY,e)},T=function(e){return s(l.actionTypes.box.GET_TAGGED_FILE_HISTORY,Object.assign({},e,{onlyTag:!0}))},S=function(e){return s(l.actionTypes.box.GET_LATEST_FILE_HISTORY,Object.assign({},e,{pageSize:1}))},m=function(e,t,n){return u()({type:l.actionTypes.box.RESTORE_FILE_VERSION},d.REQUEST,{headers:E,url:l.apiUrls.POST_BOX_FILE_REVERT,method:l.apiUrls.METHOD.POST,data:{file_token:e,version:t,member_id:n}})},O=function(e){return u()({type:l.actionTypes.box.IMPORT_DRIVE_FILE},d.REQUEST,{url:l.apiUrls.GET_DRIVE_FILE_TICKET,method:l.apiUrls.METHOD.POST,data:{file_key:e}})},b=function(e){return u()({type:l.actionTypes.box.CHECK_PARSER_STATUS},d.REQUEST,{url:l.apiUrls.GET_PARSER_STATUS,method:l.apiUrls.METHOD.GET,params:{ticket:e}})},y=function(e){var t=e.version,n=e.commentId;return u()({type:l.actionTypes.comment.boxComment.FETCH_BOX_COMMENTS},d.REQUEST,{url:l.apiUrls.GET_BOX_COMMENT,method:l.apiUrls.METHOD.GET,headers:E,params:Object(p.a)({file_token:Object(i.g)(),comment_id:n,version:t})})},h=function(e){var t=e.fileToken,n=void 0===t?Object(i.g)():t,r=e.version,a=e.commentId,o=e.extra;return u()({type:l.actionTypes.comment.boxComment.FETCH_ADD_BOX_COMMENT},d.REQUEST,{url:l.apiUrls.POST_BOX_ADD_COMMENT,method:l.apiUrls.METHOD.POST,headers:E,data:{extra:o,version:r,comment_id:a,file_token:n}})},v=function(){return u()({type:l.actionTypes.explorer.FETCH_STORAGE_USAGE},d.REQUEST,{url:l.apiUrls.GET_STORAGE_USAGE,method:l.apiUrls.METHOD.GET,headers:E})},I=function(e,t){return u()({type:l.actionTypes.box.COMPLETE_DELETE_STORAGE_FILES},d.REQUEST,{url:l.apiUrls.POST_COMPLETE_DELETE_STORAGE_FILES,method:l.apiUrls.METHOD.POST,headers:E,data:{caller:t,file_tokens:e}})}},"0G9k":function(e,t,n){},"0GMm":function(e,t,n){"use strict";n.d(t,"a",function(){return p}),n.d(t,"b",function(){return _}),n.d(t,"e",function(){return E}),n.d(t,"c",function(){return f}),n.d(t,"d",function(){return T});var r=n("lSNA"),a=n.n(r),o=n("QM+C"),i=n("cyON"),c=n("JgWU"),s=n("v33K"),u=n("GGX4"),l=n("TovF");function d(e){var t=e.payload;return a()({},t.id,Object.assign({},t,{keep:s.a.KeepNext}))}var p=function(){var e={type:l.a.FETCH_CURRENT_USER};return a()(e,o.REQUEST,{url:Object(u.a)("user/"),ignoreForbidden:!0}),a()(e,i.a,!0),a()(e,c.c,d),e},_=function(e){var t={type:l.a.FETCH_USER_DETAIL};return a()(t,o.REQUEST,{url:Object(u.a)("user/detail/"),params:{user_id:e}}),a()(t,i.a,!0),a()(t,c.c,d),t},E=function(e){return{type:l.a.UPDATE_CURRENT_USER,payload:e}},f=function(){return a()({type:l.a.PASSPORT_HEARTBEAT},o.REQUEST,{url:Object(u.a)("passport/heartbeat/")})},T=function(e){return{type:l.a.SET_USER_INFO,user:e}}},"0qwg":function(e,t,n){"use strict";n("lE2N"),n("pHS2"),n("owWc"),n("D7h9"),n("3M86");var r=n("iP/4"),a=(n("nN3d"),n("aBgF"));n.d(t,"b",function(){return i}),n.d(t,"a",function(){return c});var o=[a.c.Left,a.c.Right,a.c.Up,a.c.Down,a.c.D];function i(e){return o.includes(e.keyCode)}function c(e,t){r.a.isFeed&&window.lark_to_bear_bridge&&(t?window.bear_to_lark_bridge.islastDocWholeCommentUnSave=e:window.bear_to_lark_bridge.islastDocCommentUnSave=e)}},"0uEh":function(e,t,n){"use strict";n.d(t,"c",function(){return _}),n.d(t,"d",function(){return E}),n.d(t,"a",function(){return f}),n.d(t,"b",function(){return T});var r=n("o0o1"),a=n.n(r),o=n("gSGL"),i=n("oZtI"),c=n("n3ZB"),s=n("SGN9"),u=a.a.mark(_),l=a.a.mark(E),d=a.a.mark(f),p=a.a.mark(T);function _(t){var n;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(i.select)(c.i);case 2:return n=e.sent,e.abrupt("return",Object(s.m)(n,t));case 4:case"end":return e.stop()}},u)}function E(t){var n;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(i.select)(c.i);case 2:return n=e.sent,e.abrupt("return",Object(s.n)(n,t));case 4:case"end":return e.stop()}},l)}function f(t){var n,r;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(i.select)(c.i);case 2:if(n=e.sent,r=Object(s.h)(n,t),Object(o.a)(r))return e.prev=5,e.abrupt("return",JSON.parse(r));e.next=12;break;case 9:return e.prev=9,e.t0=e.catch(5),e.abrupt("return",r);case 12:return e.abrupt("return",r);case 13:case"end":return e.stop()}},d,null,[[5,9]])}function T(t,n){var r;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(i.select)(c.j);case 2:return r=e.sent,e.abrupt("return",Object(s.k)(r,t,n));case 4:case"end":return e.stop()}},p)}},1:function(e,t,n){e.exports=n("nO+V")},"1IfP":function(e,t){e.exports=navigator.cdn_host+"/ccm/pc/web/resource/bear/public/icon_file_audio_nor.4a68c143831cbe84eef9.ico"},"1KqI":function(e,t,n){"use strict";var r,a,o,i,c,s,u,l;n.d(t,"b",function(){return r}),n.d(t,"c",function(){return o}),n.d(t,"d",function(){return c}),n.d(t,"a",function(){return u}),(a=r=r||{})[a.DOC=1]="DOC",a[a.SHEET=2]="SHEET",a[a.SLIDE=3]="SLIDE",a[a.BITABLE=4]="BITABLE",a[a.COMMENT=5]="COMMENT",a[a.DRIVE=6]="DRIVE",(i=o=o||{})[i.COMMON=1]="COMMON",(s=c=c||{})[s.INCREASE=0]="INCREASE",s[s.DECREASE=1]="DECREASE",(l=u=u||{}).LIKE="LIKE",l.DISLIKE="DISLIKE"},"1TYq":function(e,t,n){"use strict";var r,a;n.d(t,"a",function(){return r}),(a=r=r||{}).SET_FETCH_STATUS="SET_FETCH_STATUS",a.RESET_FETCH_STATUS="RESET_FETCH_STATUS"},"1vJV":function(e,t,n){"use strict";n.d(t,"a",function(){return E}),n.d(t,"b",function(){return f}),n.d(t,"c",function(){return T});var r=n("o0o1"),a=n.n(r),o=n("oZtI"),i=(n("/PhZ"),n("yaX4")),c=n("jp/M"),s=n("m1/u"),u=n("SGN9"),l=a.a.mark(E),d=a.a.mark(f),p=a.a.mark(T),_=a.a.mark(S);function E(){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(o.takeEvery)([c.actionTypes.onboarding.FETCH_LATEST_GUIDE],f,!1);case 2:case"end":return e.stop()}},l)}function f(){var t,n=arguments;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=!(0<n.length&&void 0!==n[0])||n[0],e.next=3,Object(o.select)(Object(s.a)("userGuide"));case 3:if(e.sent!==c.common.StatusMap.loading)return e.next=7,o.put.resolve(Object(i.b)());e.next=9;break;case 7:e.next=12;break;case 9:if(t)return e.next=12,Object(o.take)(c.actionTypes.guide.FETCH_USER_GUIDE_SUCCESS);e.next=12;break;case 12:case"end":return e.stop()}},d)}function T(){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(o.takeEvery)([c.actionTypes.guide.UPDATE_USER_GUIDE_SUCCESS,c.actionTypes.guide.CLOSE_USER_GUIDE_SUCCESS],S);case 2:case"end":return e.stop()}},p)}function S(){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:Object(u.s)();case 1:case"end":return e.stop()}},_)}},"2MtQ":function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r={Doc:function(){return Promise.all([n.e("doc_index_css"),n.e("chunk_adit"),n.e("merge_doc_index--framework_chunk"),n.e("doc_index_vendors"),n.e(0),n.e("doc_index")]).then(n.bind(null,"ijLc"))},DocModule:function(){return Promise.all([n.e("doc_index_css"),n.e("chunk_adit"),n.e("merge_doc_index--framework_chunk"),n.e("doc_index_vendors"),n.e(0),n.e("doc_index")]).then(n.bind(null,"EdOg"))},Suite:function(){return Promise.all([n.e(10),n.e("commons--suite--suite_for_3rd"),n.e("vendors--suite"),n.e("suite")]).then(n.bind(null,"4c9a"))}}},"2Vt3":function(e,t,n){"use strict";n.d(t,"c",function(){return d}),n.d(t,"g",function(){return _}),n.d(t,"f",function(){return E}),n.d(t,"b",function(){return f}),n.d(t,"d",function(){return T}),n.d(t,"a",function(){return S}),n.d(t,"e",function(){return O});var r=n("lSNA"),a=n.n(r),o=(n("EVj1"),n("VIFs"),n("U6jp")),i=n("2ACu"),c=n("FnDM"),s=n("7cb0"),u=n("rLED"),l=n("iP/4");function d(){return Object(o.k)(location.href)===o.b.ANNOUNCE}function p(e,t){var n=new URL(e),r=n.searchParams,a=r.get("sourceType");return a&&r.set("source_type",a),Object(o.q)()&&r.set("source_type","meeting_notes"),t||r.set("from","lark.open_in_browser"),["open_type","lark","sourceType","last_doc_message_id","feed_id"].forEach(function(e){return r.delete(e)}),n.toString()}function _(e){var t;e=p(e,1<arguments.length&&void 0!==arguments[1]&&arguments[1]),Object(i.default)("call_lark",{interactor:"lark",caller:Object(c.i)().module,interface_name:"openInBrowser"}),l.a.isLKP?(t=window).lkpDesktopApi&&t.lkpDesktopApi.openInBrowser(e):window.open(e)}function E(){var e=Object(u.I)("comment_draft_enable");return Object(s.b)(s.a.isSupportCommentDraft)&&e}function f(o){var i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"image/png";return new Promise(function(t,e){var n=document.createElement("canvas"),r=n.getContext("2d"),a=new Image;a.crossOrigin="use-credentials",a.src=o,a.onload=function(){n.height=a.height,n.width=a.width,r&&r.drawImage(a,0,0,a.width,a.height);var e=n.toDataURL(i);t(e),n=null},a.onerror=function(){e("get img base64 data failed")}})}function T(e){var t=m(8);return{imageIds:[t],elementIds:[t],elements:a()({},t,{tag:2,property:{image:{token:e}}}),innerText:""}}function S(e){e=e||"";var t=m(10),n=[t],r={};return r[t]={property:{text:{content:e}},tag:1},{elements:r,elementIds:n,innerText:e}}function m(){var e,t,n,r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:10,a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:62,o="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),i=[],c=o.length;if(a=c<(a=a||c)?c:a,r)for(e=0;e<r;e++)n=0|Math.random()*a,i[e]=o[n];else for(i[8]="-",i[13]="-",i[18]="-",i[23]="-",i[14]="4",e=0;e<36;e++)i[e]||(t=0|16*Math.random(),i[e]=o[19===e?3&t|8:t]);return i.join("")}function O(){var e=navigator.userAgent.toLowerCase();return!e.includes("electron")&&e.includes("lark")&&!l.a.isLKP}},"2whv":function(e,t){e.exports=navigator.cdn_host+"/ccm/pc/web/resource/bear/public/icon_file_excel_nor.0c638290dfeae838775d.ico"},"3/aR":function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r={Mindnote:function(){return Promise.all([n.e("chunk_mindnote"),n.e("doc_index_css"),n.e("chunk_adit"),n.e("commons--PCDocSheetBridge--bear-bitable-external--bear-external--bear-sheet-external--btn_groups--d--dba25785"),n.e(0),n.e("mindnote_index")]).then(n.bind(null,"Tkms"))},MindnoteModule:function(){return Promise.all([n.e("chunk_mindnote"),n.e("doc_index_css"),n.e("chunk_adit"),n.e("commons--PCDocSheetBridge--bear-bitable-external--bear-external--bear-sheet-external--btn_groups--d--dba25785"),n.e(0),n.e("mindnote_index")]).then(n.bind(null,"XzW7"))},Suite:function(){return Promise.all([n.e(10),n.e("commons--suite--suite_for_3rd"),n.e("vendors--suite"),n.e("suite")]).then(n.bind(null,"4c9a"))}}},"3Gm5":function(e,h,v){"use strict";(function(r){var l,e,t=v("o0o1"),d=v.n(t),n=v("q1tI"),a=v.n(n),o=v("TSYQ"),i=v.n(o),p=v("oZtI"),c=v("jp/M"),s=v("n/R6"),_=v("2ACu"),E=v("MUo5"),f=v("rLED"),u=d.a.mark(O),T=d.a.mark(b),S=4,m=3;function O(){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(p.takeEvery)(c.actionTypes.permission.BULK_SET_PERM_SUCCESS,b);case 2:case"end":return e.stop()}},u)}function b(t){var n,r,a,o,i,c,s,u;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.payload,r=n.notification_id,a=n.notify_lark_v2,o=n.canRevokeNotify,i=n.owners,c=n.not_notify_users,s=JSON.parse(i),u=s.length===c.length,Object(f.A)()&&o){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,y(a&&!u);case 7:if(e.sent===l.CONFIRMED&&a)return Object(_.default)("toast_operation",{action:"back_send"}),e.next=12,Object(p.put)(Object(E.notifyMemberAfterUpdatePermission)(r));e.next=12;break;case 12:case"end":return e.stop()}},T)}function y(e){return new Promise(function(t){var n="common.share.no.notify.users";s.a.success({key:n,content:a.a.createElement("div",{className:"permission-toast-confirm"},a.a.createElement("p",{className:i()("permission-toast-text",{"no-border":!e})},r("permission.invite_member_success")),e&&a.a.createElement("button",{className:"permission-toast-button",onClick:function(e){Object(_.default)("toast_operation",{action:"delete"}),s.a.remove(n),t(l.CANCELED)}},r("permission.cancel.notice_toast"))),duration:1e3*(e?S:m),onClose:function(){return t(e?l.CONFIRMED:l.CANCELED)}}),e&&Object(_.default)("toast_operation",{action:"show"})})}(e=l=l||{})[e.CONFIRMED=0]="CONFIRMED",e[e.CANCELED=1]="CANCELED",h.a=O}).call(this,v("2vAP"))},"3M1e":function(e,t,n){},"3M86":function(e,t,n){"use strict";n.d(t,"b",function(){return c}),n.d(t,"a",function(){return s});var r=n("lSNA"),a=n.n(r),o=n("jp/M"),i=n("QM+C"),c=function(e){return{type:o.actionTypes.pageMessage.UPDATE_PC_MESSAGE,payload:e}},s=function(e){return a()({type:o.actionTypes.pageMessage.SET_MESSAGE_READ},i.REQUEST,{url:o.apiUrls.POST_SET_MESSAGE_READ,method:o.apiUrls.METHOD.POST,data:e})}},"3YHj":function(e,t){e.exports=navigator.cdn_host+"/ccm/pc/web/resource/bear/public/icon_file_pdf_nor.06d4e4cfa5d579487cea.ico"},"4Uab":function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return i});var r,a,o=n("n/R6");function i(t){return new Promise(function(e){o.a.show(Object.assign({},t,{onClose:function(){return e(r.Closed)},onCancel:function(){return e(r.Cancelled)}}))})}(a=r=r||{}).Closed="closed",a.Cancelled="Cancelled"},"4udo":function(e,t,n){"use strict";n.d(t,"f",function(){return a}),n.d(t,"d",function(){return i}),n.d(t,"a",function(){return c}),n.d(t,"e",function(){return p}),n.d(t,"c",function(){return s}),n.d(t,"b",function(){return f});var r=n("RIqP"),u=n.n(r),l=n("BeL+"),o=n("7EGn"),d="translate-guid";function a(e){var t=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g;return e.replace(t,"_").length}function i(e,t,n){var r=0,a="",o=!0,i=!1,c=void 0;try{for(var s,u=e[Symbol.iterator]();!(o=(s=u.next()).done);o=!0){var l=s.value;t<=r&&r<n&&(a+=l),r++}}catch(e){i=!0,c=e}finally{try{o||null==u.return||u.return()}finally{if(i)throw c}}return a}function c(n,r){var a=[];return Object.keys(r).map(function(e){return e.split(",").map(function(e){return Number(e)})}).forEach(function(e){var t;e[0]<n[0]&&e[1]<n[1]||e[0]>n[0]&&e[1]>n[1]||(t=Object(o.default)(r,e.join(","),[])).length&&a.push.apply(a,u()(t))}),a}function p(e){if(0===e.length)return[];for(var t=!1,n=u()(e),r=1;r<e.length;r++){var a=e[r-1],o=e[r],i=r,c=[];if(a[1]>=o[0]){var s,t=!0;a[0]!==o[0]&&(s=[Math.min(a[0],o[0]),Math.max(a[0],o[0])-1],c.push(s)),c.push([Math.max(a[0],o[0]),a[1]]),o[1]>a[1]&&c.push([a[1]+1,o[1]]),n.splice.apply(n,[i-1,2].concat(c));break}}return(t?p:Object(l.a))(n)}function s(e,t,n){var r=n?t.getRep(n):t.getRep(),a=r.zoneId,o=_(e,r);if(o){var i=t.getAttributeOnLine(a,e,d);if(!i)return o;var c,s=t.getAttributeOnLine(a,e-1,d),u=t.getAttributeOnLine(a,e+1,d);return(i===s?c=e-1:i===u&&(c=e+1),c||0===c)?E(o,_(c,r)):o}}function _(e,t){var n=t.zoneId,r=t.lines.atIndex(e);return{selStart:[e,0],selEnd:[e,r&&r.text.length||0],selZone:n}}function E(e,t){var n=e.selStart[0],r=t.selStart[0],a=r<n?e:t;return{selStart:(n<r?e:t).selStart,selEnd:a.selEnd,selZone:e.selZone}}function f(e,t){var n=t.getRep(e.selZone),r=n.attributeManager.getAttributesOnSelection(e.selStart,e.selEnd,n).attribs.find(function(e){return e[0]===d});return r&&r[1]}},"521f":function(e,v,I){"use strict";(function(f){I.d(v,"a",function(){return y});var e=I("lwsE"),t=I.n(e),n=I("W8MJ"),r=I.n(n),a=I("hMnB"),o=I.n(a),T=I("z+r6"),i=I("FnDM"),S=I("iP/4"),c=I("ucr6"),s=I("QM+C"),u=I("EVj1"),l=I("U6jp"),p=I("bJ94"),_=I("Q9/D"),d=I("WQFp"),E=I("q8Sm"),m="render_doc_all",O="render_message",b="url",y={DOC_JS_LOADED:1,RENDER_DOC_ETHERPAD_SUCCESS:2,FETCH_DOC_CLIENTVARS_SUCCESS:3,RENDER_DOC_EDITOR_SUCCESS:4,RENDER_DOC_HEADER_SUCCESS:5,FETCH_DOC_SECTION_NAV_SUCCESS:6,RENDER_DOC_SECTION_NAV_SUCCESS:7,FETCH_DOC_COMMENT_SUCCESS:8,RENDER_DOC_COMMENT_SUCCESS:9,DOC_UPDATE_INTERACTIVE:10},h=function(){function e(){t()(this,e),this.didRenderAll=!1,this.start=!1,this.extraData={}}return r()(e,[{key:"getRenderDocAllStartTime",value:function(){return this.renderDocAllStartTime}},{key:"getFrom",value:function(){return this.from}},{key:"init",value:function(){var n=this;this.platform=this.getPlatform(),this.getProfileContext=function(){},this.isDocApp="doc"===Object(i.f)(),this.prevModule="",this.curModule=this.getModule(o.a.pathname),this.larkVersion=Object(l.m)(),S.a.isFeed||c.a.listen(function(e,t){"PUSH"===t&&(n.prevModule=n.curModule,n.curModule=n.getModule(o.a.pathname),n.curModule===s.FILE_TYPE.DOC&&n.renderDocFromSpaStart(Date.now(),n.prevModule))})}},{key:"renderDocAppStart",value:function(){this.from===b?this.isDocApp&&!this.didRenderAll&&(f||!S.a.isFeed?this.renderAppStartTime=window.performance.timing.domContentLoadedEventStart:this.renderAppStartTime=window.domReadyTime||0):this.renderAppStartTime=this.renderDocAllStartTime}},{key:"renderDocAppEnd",value:function(e){this.renderAppTime=e-this.renderAppStartTime}},{key:"renderDocEditorStart",value:function(e){this.renderEditorStartTime=e}},{key:"renderDocEditorEnd",value:function(e){this.renderEditorTime=e-this.renderEditorStartTime}},{key:"renderDocEtherpadStart",value:function(e){this.renderEtherpadStartTime=e}},{key:"renderDocEtherpadEnd",value:function(e){this.renderEtherpadTime=e-this.renderEtherpadStartTime}},{key:"renderMessageEnd",value:function(e){this.renderMessageTime=e-this.renderMessageStartTime;var t=Object(T.b)(O),n="cost_time";t.end(e),S.a.isFeed&&t.setExtraData("lark_version",this.larkVersion),t.setExtraData("platform",this.platform),t.setExtraData("render_message_time",this.renderMessageTime),t.setExtraData("from",this.from),t.send({},n)}},{key:"renderMessageStart",value:function(e){this.renderMessageStartTime=e,this.from=b,this.collectStart(O,e)}},{key:"renderMessageFromSpaStart",value:function(e,t){this.start=!0,this.renderMessageStartTime=e,this.from=t,this.collectStart(O,e)}},{key:"renderDocAllStart",value:function(e){this.start=!0,this.renderMessageStart(e),this.isDocApp&&!this.didRenderAll&&(this.renderDocAllStartTime=e,this.from=b,this.collectStart(m,e))}},{key:"setProfileContext",value:function(e){this.getProfileContext=e}},{key:"renderDocAllEnd",value:function(e){if(this.isDocApp&&!this.didRenderAll){var t=window.docSSRDomReadyTime;t&&this.from===b&&this.renderDocSSREnd(t);var n=Object(T.b)(m);window.collectParams&&(n.setExtraData("has_doc_ssr",window.collectParams.hasDocSsr?"true":"false"),n.setExtraData("has_ssr_render",window.collectParams.hasSsrRender?"true":"false")),"true"!==n.getExtraData("is_ssr")&&n.setExtraData("cost_time",e-this.renderDocAllStartTime);var r,a=this.getProfileContext()||{};for(r in a)n.setExtraData(r,a[r]);this.collectEnd(m,e,!0),this.didRenderAll=!0,d.a.updateMonitorStatus("render_doc_all")}}},{key:"renderDocAllFail",value:function(e){this.isDocApp&&!this.didRenderAll&&(this.didRenderAll=!0),this.start=!1,d.a.updateMonitorStatus("render_doc_fail",{error_code:e&&"code"in e?"".concat(e.code):"".concat(e)})}},{key:"renderDocFetchClientvarStart",value:function(e){this.fetchClientvarStartTime=e}},{key:"renderDocFetchClientvarEnd",value:function(e){this.fetchClientvarTime=e-this.fetchClientvarStartTime}},{key:"renderDocSSREnd",value:function(e){var t;this.isDocApp&&!this.didRenderAll&&((t=Object(T.b)(m)).setExtraData("is_ssr","true"),t.setExtraData("cost_time",e-performance.timing.navigationStart))}},{key:"renderDocFromSpaStart",value:function(e,t,n){this.start=!0,this.renderDocAllStartTime=e,this.from=t,this.extraData=n||{},this.collectStart(m,e)}},{key:"renderDocFromSpaEnd",value:function(e){var t=Object(T.b)(m),n="cost_time";t.end(e),S.a.isFeed&&t.setExtraData("lark_version",this.larkVersion),t.setExtraData("platform",this.platform),t.setExtraData("render_app_time",this.renderAppTime),t.setExtraData("from",this.from),t.setExtraData("fetch_clientvar_time",this.fetchClientvarTime),t.setExtraData("render_editor_time",this.renderEditorTime),t.setExtraData("render_etherpad_time",this.renderEtherpadTime),t.setExtraData("real_time",e-this.renderDocAllStartTime);var r,a=this.getProfileContext()||{};for(r in a)t.setExtraData(r,a[r]);var o=this.renderAppStartTime>=_.a.start;t.setExtraData("doc_index_js_loaded_before_navigation",o?1:0),t.setExtraData("doc_index_js_load_time_nav_start_to_exec_start",_.a.start-this.renderAppStartTime),t.setExtraData("doc_index_js_load_time_exec_time",_.a.end-_.a.start);var i,c=this.renderAppStartTime+this.renderAppTime;for(i in t.setExtraData("doc_index_js_load_time_exec_end_to_etherpad_mount",c-_.a.end),this.extraData)this.extraData.hasOwnProperty(i)&&t.setExtraData(i,this.extraData[i]);var s=this.getOpenType();s&&t.setExtraData("open_doc_type",s),t.send({},n),d.a.updateMonitorStatus("render_doc_all")}},{key:"renderDocEnd",value:function(e){this.start&&(this.from===b?this.renderDocAllEnd(e):this.renderDocFromSpaEnd(e),this.start=!1)}},{key:"getOpenType",value:function(){if("lark-feed"===this.platform){var e=location?o.a.href:"",t=Object(u.l)(e);if(!t)return"";if("announce"===t.open_type)return t.open_type;if("3"===t.lark)return"meeting_notes"}return""}},{key:"setExtraData",value:function(e){Object.assign(this.extraData,e)}},{key:"getModule",value:function(e){var t=Object(i.i)(e);return t&&t.module||""}},{key:"getPlatform",value:function(){return f?"docs-in-lark":S.a.isFeed?"lark-feed":"pc"}},{key:"collectStart",value:function(e,t){var n=Object(T.b)(e);n.clear(),n.start(t)}},{key:"collectEnd",value:function(e,t,n){var r=window.performance.timing,a=window,o=a.domReadyTime,i=a.parseStartTime,c=a.cssDownloadEndTime,s=a.ssrParseStartTime,u=Object(T.b)(e);u.end(t);var l=e===m?"real_time":"cost_time";if(S.a.isFeed&&u.setExtraData("lark_version",this.larkVersion),u.send({},l),u.setExtraData("platform",this.platform),n){var d=this.getOpenType();d&&u.setExtraData("open_doc_type",d),u.setExtraData("render_app_time",this.renderAppTime),u.setExtraData("from",this.from),u.setExtraData("doc_dns_lookup_time",r.domainLookupEnd-r.domainLookupStart),u.setExtraData("connection_time",r.connectEnd-r.connectStart),u.setExtraData("secure_connection_time",r.connectEnd-r.secureConnectionStart),u.setExtraData("request_to_server_time",r.responseStart-r.requestStart),u.setExtraData("response_to_client_time",r.responseEnd-r.responseStart),o&&(u.setExtraData("download_time",o-r.navigationStart),!f&&S.a.isFeed||(u.setExtraData("app_js_time",r.domContentLoadedEventStart-o),this.setJsLoadTimeData(u,o)),i&&(u.setExtraData("html_download_time",i-r.navigationStart),u.setExtraData("parse_time",o-i),c&&s&&(u.setExtraData("css_download_time",c-i),u.setExtraData("scripts_between_css_and_ssr_time",s-c),u.setExtraData("ssr_parse_time",o-s)))),u.setExtraData("fetch_clientvar_time",this.fetchClientvarTime),u.setExtraData("render_editor_time",this.renderEditorTime),u.setExtraData("render_etherpad_time",this.renderEtherpadTime);for(var p=0,_=Object.keys(this.extraData);p<_.length;p++){var E=_[p];u.setExtraData(E,this.extraData[E])}}}},{key:"setJsLoadTimeData",value:function(e,t){var n=p.a.start,r=p.a.afterPolyfill,a=p.a.afterUtilsDOM,o=p.a.afterStore,i=p.a.afterApp,c=p.a.afterExternal,s=p.a.beforeAppRender,u=p.a.afterAppRender;e.setExtraData("app_js_load_time_1_dom_ready_to_download_end",n-t),e.setExtraData("app_js_load_time_start",n),e.setExtraData("app_js_load_time_2_start_to_polyfill",r-n),e.setExtraData("app_js_load_time_3_polyfill_to_utils_dom",a-r),e.setExtraData("app_js_load_time_4_utils_dom_to_store",o-a),e.setExtraData("app_js_load_time_5_store_to_app",i-o),e.setExtraData("app_js_load_time_6_app_to_external",c-i),e.setExtraData("app_js_load_time_7_external_to_before_render",s-c),e.setExtraData("app_js_load_time_8_app_render_time",u-s),e.setExtraData("app_js_load_time_end",u),e.setExtraData("app_js_load_time_exec_time",u-n),e.setExtraData("doc_index_js_load_time_app_end_to_download_end",_.a.start-u),e.setExtraData("doc_index_js_load_time_start",_.a.start),e.setExtraData("doc_index_js_load_time_end",_.a.end),e.setExtraData("doc_index_js_load_time_exec_time",_.a.end-_.a.start);var l=this.renderAppStartTime+this.renderAppTime;e.setExtraData("doc_index_js_load_time_exec_end_to_etherpad_mount",l-_.a.end);var d=Object(E.b)();null!==d&&(e.setExtraData("app_js_load_time_dom_ready_to_app_download_start",d.startTime-t),e.setExtraData("app_js_load_time_app_download_time",d.endTime-d.startTime),e.setExtraData("app_js_load_time_app_download_end_to_exec_start",p.a.start-d.endTime),e.setExtraData("app_download_start_to_doc_import_end",_.a.end-d.startTime))}}]),e}();v.b=new h}).call(this,I("kCIs"))},"5UDZ":function(e,t,n){"use strict";var r,a;n.d(t,"a",function(){return r}),(a=r=r||{}).CLIENT_SLIDE_CANVAS="client_slide_canvas",a.CLIENT_SLIDE_PRESENT="client_slide_present",a.CLIENT_SLIDE_MUTLI_OBJECT_EDIT="client_slide_multi_object_edit",a.CLIENT_SLIDE_OBJECT_EDIT="client_slide_object_edit",a.CLIENT_SLIDE_MENU="client_slide_menu",a.CLIENT_SLIDE_OBJECTT="client_slide_object",a.CLIENT_FILE_EDIT="client_file_edit",a.SPACE_BANNER_SLIDE_SHOW="space_banner_slide_show",a.SPACE_BANNER_SLIDE_CREATE="space_banner_slide_create"},"5gS9":function(e,t,n){"use strict";var r=n("YHdI"),a=n("lwsE"),o=n.n(a),i=n("W8MJ"),c=n.n(i),s=n("a1gu"),u=n.n(s),l=n("Nsbk"),d=n.n(l),p=n("7W2i"),_=n.n(p),E=n("HA5h"),f=n("7EGn"),T=n("xlrv"),S=n("VIFs"),m=n("FnDM"),O=n("s+vT"),b=n("toa8"),y=n("fQzm"),h=n("lG83"),v=n("1dfU"),I=n("ATMF"),C=n("SebV"),R=function(){function t(e){o()(this,t),this.props=e}return c()(t,[{key:"getBooleanResultText",value:function(e){return"".concat(e?"success":"failure")}},{key:"moiraeInfo",value:function(e){y.b.info("IO: memberId(".concat(this.props.getMemberId(),"): ").concat(e))}},{key:"moiraeError",value:function(){y.b.error.apply(y.b,arguments)}},{key:"moiraeCount",value:function(e){y.b.count(e)}},{key:"moiraeTeaLog",value:function(e){var t=this.props.getMemberId();y.b.teaLog(Object.assign({key:"dev_io_event",memberId:t},e))}},{key:"consoleError",value:function(){var e;(e=console).error.apply(e,arguments)}},{key:"consoleWarn",value:function(){var e;(e=console).warn.apply(e,arguments)}},{key:"logException",value:function(e){Object(C.a)(e)}},{key:"logWatchEntityFailure",value:function(e){y.b.error("watching entity failed! ".concat(e.type," ").concat(Object(v.a)(e.token)))}},{key:"logOnMessageData",value:function(e){Object(I.b)(e)}},{key:"logPingSuccess",value:function(e){e%40==0&&Object(h.i)()}},{key:"logPingFailure",value:function(){this.moiraeInfo("failed to ping")}},{key:"logPong",value:function(){this.moiraeInfo("received pong")}},{key:"logBeforeConnectTo",value:function(e,t){this.moiraeInfo("conn #".concat(e,": before connect to ").concat(t))}},{key:"logConnecting",value:function(e){this.moiraeInfo("conn #".concat(e,": connecting"))}},{key:"logConnectResult",value:function(e,t,n){this.moiraeInfo("conn #".concat(e,": ").concat(t,", readyState = ").concat(n))}},{key:"logConnectTime",value:function(e,t){this.moiraeInfo("conn #".concat(e,": connectTime = ").concat(t))}},{key:"logConnectionSend",value:function(e,t,n){var r=t===WebSocket.OPEN?"succeeded":"failed";this.moiraeInfo("conn #".concat(e,": send ").concat(n," ").concat(r,", readyState = ").concat(t))}},{key:"logConnectionDestroy",value:function(e,t){this.moiraeInfo("conn #".concat(e,": destroyed ").concat(t?"with":"without"," ws"))}},{key:"logBeforeSwitch",value:function(e){this.moiraeInfo("before wsManager.switch: endPointsCount = ".concat(e))}},{key:"logAfterSwitch",value:function(e){this.moiraeInfo("after wsManager.switch: ".concat(this.getBooleanResultText(e)))}},{key:"logBeforeSwitchingToEndPoint",value:function(e){this.moiraeInfo("before switching to ".concat(e))}},{key:"logAfterSwitchingToEndPoint",value:function(e,t){this.moiraeInfo("after switching to ".concat(e,": ").concat(this.getBooleanResultText(t)))}},{key:"logBeforeRace",value:function(){this.moiraeInfo("before wsManager.race")}},{key:"logAfterRace",value:function(){this.moiraeInfo("after wsManager.race")}},{key:"logBeforeLoadingTicket",value:function(){this.moiraeInfo("before loading ticket")}},{key:"logAfterLoadingTicket",value:function(e,t){var n="".concat(t?"is":"not");this.moiraeInfo("after loading ticket: ".concat(this.getBooleanResultText(e),", ").concat(n," from cache"))}},{key:"logConnectionDestroyedByStopOp",value:function(e){this.moiraeInfo("destroy conn #".concat(e," by stopOp"))}}]),t}(),g=n("+7Be"),k=function(){function t(e){o()(this,t),this.config=e}return c()(t,[{key:"getExternalExtensions",value:function(){return this.config.externalExtensions}},{key:"getStaticConfig",value:function(){return Object.assign({},this.config,{initialTicket:Object(f.default)(window,"User.wsTicket"),fpid:Object(S.getDomainConfig)("frontier").fpid,appKey:Object(S.getDomainConfig)("frontier").appKey,aid:Object(S.getDomainConfig)("frontier").aid,endPoints:Object(S.getAllWebSocketAddr)()})}},{key:"generateRequestContext",value:function(){return{os:Object(m.k)(),app_version:Object(m.b)(),os_version:Object(m.l)(),platform:Object(m.p)(),request_id:Object(O.a)()}}},{key:"createIOLogger",value:function(e){return new R(e)}},{key:"sendMessageByAxios",value:function(e){return Object(b.d)(Object.assign({},e,{headers:Object.assign({"Content-Type":"application/json"},e.headers)}))}},{key:"getCommonHeader",value:function(){return{"doc-biz":g.a,"doc-os":g.b,"doc-platform":g.c}}}]),t}(),D=n("TNRG"),j=n("lQZd"),L=n("rLED"),w={getToken:j.g},N=Object(L.L)(),U={Storage:D.b,Suite:w,FeatureGate:N},P=n("iP/4"),M=function(e){function t(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return o()(this,t),u()(this,d()(t).call(this,new k(e)))}return _()(t,e),c()(t,[{key:"getUserId",value:function(){return window.User.id}},{key:"requestApi",value:function(e){var t=Object(b.d)(Object.assign({},e,{headers:Object.assign({"Content-Type":"application/json"},e.headers)}));return t.reqId=Object(f.default)(e,"data.req_id")||NaN,t}}],[{key:"getInstance",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=Object(E.a)(e,{externalExtensions:U,disableSocket:P.a.isOpendoc});return null===t.ioInstance&&(t.ioInstance=new t(e)),t.ioInstance}}]),t}(T.IO);M.ioInstance=null,n.d(t,"a",function(){return r.c}),n.d(t,"c",function(){return r.b}),n.d(t,"b",function(){return M})},"5pkL":function(e,t,n){"use strict";n.d(t,"a",function(){return d});var r=n("fujP"),i=n("toa8"),a=n("7/sA"),o=n("skFV"),c=n("GGX4"),s="https://open.feishu.cn/config/get";function u(){return a.a?"".concat(location.origin,"/settings/v3"):{online:"https://internal-api-lark-api.feishu.cn/settings/v3/",staging:"https://internal-api-lark-api.feishu-staging.cn/settings/v3/"}[Object(o.D)()?"staging":"online"]}var l=null,d=function(){return window.User&&!Object(r.default)(window.User.minaConfig)?Promise.resolve():l=l||new Promise(function(o){return i.d.get(Object(c.a)("user/")).then(function(e){var t=e.data,n=t.id,r=t.suid,a=t.tenant_id;p({id:n,suid:r,tenantId:a}),Promise.all([i.d.get("".concat(s,"?appId=2&version=web-online-4.0&platform=web&user_id=").concat(n,"&tenant_id=").concat(a)).then(function(e){return p({minaConfig:e.data})}),i.d.get("".concat(u(),"?version=0.0.0&platform=web&fg_app=Feishu&tags=ccmWeb&user_id=").concat(n)).then(function(e){return p({opendocFeatures:e.data.lark_features.values})})]).finally(o)}).catch(o)})};function p(e){window.User=Object.assign({},window.User,{},e)}},"6Cld":function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n("q1tI"),a=n.n(r),o=n("2INN"),i=n("VIFs"),c=n("MCLT");function s(e){return!e.path||Object(c.isString)(e.path)?a.a.createElement(o.a,Object.assign({},e,{path:Object(i.prependSpace)(e.path||"/")})):a.a.createElement(o.a,Object.assign({},e,{path:e.path.map(function(e){return Object(i.prependSpace)(e||"/")})}))}},"6PzY":function(e,t){e.exports=navigator.cdn_host+"/ccm/pc/web/resource/bear/public/icon_file_slide_nor.cfcc37c980787f4471c2.ico"},"6QiX":function(e,t,n){"use strict";var r=n("RIqP"),a=n.n(r),o=n("Nz8i"),i=n("ANjH"),c=n("L342"),s=n("ucr6"),u=n("lSNA"),l=n.n(u),d=n("J4zp"),p=n.n(d),_=n("QM+C");function E(){var n={};return[new Promise(function(e,t){n.resolve=e,n.reject=t}),n]}var f=function(i){return function(o){return function(e){if(!(e[_.DEFERRED]||e[_.REQUEST]||e[_.BATCH_REQUEST]||e.COMMENT))return o(e);if(e.COMMENT)return e.COMMENT(i.dispatch);var t=E(),n=p()(t,2),r=n[0],a=n[1];return o(Object.assign({},e,l()({},_.DEFERRED,a))),r}}},T=n("Nwst"),S=n("+HKK"),m=n("ahx2"),O=n("bL6Q");function b(e){var i=e.dispatch;return function(e){return function(o){if(!o.payload||!Object(S.b)(o.payload))return e(o);var n=function(e){if(e.code===m.STATUS_CODE.LOGIN_REQUIRED&&!_.isAnonymousAccess)return Object(O.a)(),Promise.reject(new Error("login required!"));var t=Object.assign({},o,{type:"".concat(o.type,"_FAIL"),payload:e});i(t),i(Object.assign({},t,{type:"".concat(o.type,"_FINISH")}))};return e(Object.assign({},o,{type:"".concat(o.type,"_START")})),o.payload.then(function(e){if(!e.code||e.code===m.STATUS_CODE.SUCCESS){var t=Object.assign({},o,{payload:e,type:"".concat(o.type,"_SUCCESS")});return i(t),i(Object.assign({},t,{type:"".concat(o.type,"_FINISH")})),e}n(e)},function(e){var t=e.response,n=t.status,r=t.statusText,a=Object.assign({},o,{type:"".concat(o.type,"_FAIL"),payload:{code:n,msg:r}});Object(T.a)(e)&&(a.severError=!0),i(a),i(Object.assign({},a,{type:"".concat(o.type,"_FINISH")}))})}}}var y=n("6jTl"),h=function(e){return function(s){return function(e){var t,n,r,a,o,i,c;e.payload&&e.payload.confirm?(n=(t=e.payload.confirm).title,r=t.body,a=t.confirmText,o=t.cancelText,i=t.onConfirm,c=t.onCancel,y.a.show({title:n,body:r,confirmText:a,cancelText:o,onConfirm:i,onCancel:c})):s(e)}}},I=n("n/R6"),C=n("O7eI"),R=new Map,v=function(e){return function(v){return function(e){if(e.type===C.a.toast.TOAST_SHOW){var t,n=e.toastConfig,r=n.key,a=n.type,o=n.content,i=n.duration,c=n.closable,s=n.className,u=n.closeAfterCancel,l=n.onClose,d=n.cancelable,p=n.cancelText,_=n.onCancel,E=n.keepAlive,f=n.processable,T=n.delayCloseTime,S=n.actionText,m=n.onActionClick,O=n.delay;if(!o)return;O?(t=setTimeout(function(){R.delete(r),I.a.show({key:r,type:a,content:o,duration:i,closable:c,className:s,closeAfterCancel:u,onClose:l,cancelable:d,cancelText:p,onCancel:_,keepAlive:E,processable:f,delayCloseTime:T,actionText:S,onActionClick:m})},O),R.set(r,t)):I.a.show({key:r,type:a,content:o,duration:i,closable:c,className:s,closeAfterCancel:u,onClose:l,cancelable:d,cancelText:p,onCancel:_,keepAlive:E,processable:f,delayCloseTime:T,actionText:S,onActionClick:m})}else{var b,y,h;e.type===C.a.toast.TOAST_CLOSE?(b=e.toastConfig,y=b.key,(h=b.delayCloseTime)?setTimeout(function(){R.get(y)&&(clearTimeout(R.get(y)),R.delete(y)),I.a.remove(y)},h):(R.get(y)&&(clearTimeout(R.get(y)),R.delete(y)),I.a.remove(y))):e.type===C.a.toast.TOAST_PROCESS_UPDATE&&I.a.update(e.toastConfig)}v(e)}}};window.Toast=I.a;var g=v,k=n("c7eX"),D=null;function j(e){e.dispatch;return function(o){return function(e){if(e.type!==C.a.route.LOCATION_CHANGE)return o(e);var t=e.payload,n=!1,r=Object(k.b)();null!==D||r.previousLocation?D&&r.previousLocation&&(n=e.payload.pathname!==D.pathname,t=Object.assign({},t,{isPathChanged:n}),!n&&D.state&&(t=Object.assign(t,{state:D.state}))):(n=!0,t=Object.assign({},e.payload,{isInitial:!0,isPathChanged:n})),D=t,r.previousLocation=D;var a=Object.assign({},e,{payload:t});return o(a)}}}var L=n("cPIY"),w=n("Xngv"),N=n("5fBF"),U=n("aChg"),P=Object(c.d)(s.a);function M(){return{middleware:[f]}}function x(){return{middleware:[P,j]}}function F(){return{middleware:[b,h,g]}}function H(){return[M(),x(),Object(U.getThunkExtension)(),Object(N.getSagaExtension)(),F()]}function B(){return[Object(L.a)(),Object(w.a)()]}var K=n("D7h9"),W=n("6SzI"),V={SET_BACK_URL:"@@path/SET_BACK_URL"},Y={},Q=Object(W.handleActions)(l()({},V.SET_BACK_URL,function(e,t){var n=t.payload,r=n.current,a=n.back;return Object.assign({},e,l()({},r,a))}),Y),J=n("o0o1"),q=n.n(J),z=n("hMnB"),X=n.n(z),Z=n("oZtI"),$=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:X.a.pathname;return{type:V.SET_BACK_URL,payload:{current:t,back:e}}},ee=n("m1/u"),te=n("uzgA"),ne=n("jp/M"),re=n("1T6K"),ae=n("5dbN"),oe=q.a.mark(ue),ie=q.a.mark(le);function ce(e,t){return[e.get("type"),t.get("type")].every(function(e){return e===re.RouteType.FILELIST})}function se(){return X.a.pathname}function ue(){var t,n,r;return q.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,Object(Z.select)(ee.g);case 3:return t=e.sent,e.next=6,le(t);case 6:return n=e.sent,e.next=9,Object(Z.take)(ne.actionTypes.route.LOCATION_CHANGE);case 9:return e.next=11,Object(Z.select)(ee.g);case 11:if(r=e.sent,!t.isEmpty()&&!ce(t,r)&&X.a.pathname!==n&&n!==ne.route.URL.TEMPLATE)return e.next=16,Object(Z.put)($(n));e.next=16;break;case 16:e.next=0;break;case 18:case"end":return e.stop()}},oe)}function le(t){var n,r,a,o,i,c;return q.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=Object(ae.locateRoute)(),r=Object(ae.isUnderRootRoute)(),a=Object(ae.isUnderSuiteView)(),o=!n.isMe&&r,!n.isFolder&&!n.isMe){e.next=8;break}i=se(),e.next=16;break;case 8:if(a)return e.next=11,Object(Z.select)(te.b);e.next=15;break;case 11:c=e.sent,i=c[X.a.pathname],e.next=16;break;case 15:o&&(i=t.get("url"));case 16:return void 0===i&&(i=ne.route.URL.HOME),e.abrupt("return",i);case 18:case"end":return e.stop()}},ie)}Object(k.a)();var de={id:"pc",reducerMap:{pc:Object(i.combineReducers)({backUrlMap:Q})},sagas:[ue]};function pe(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return o.createStore.apply(void 0,[{initialState:e,enhancers:[],extensions:H()}].concat(a()(B()),[de]))}var _e=pe(window.___INITIAL_STATE__);window.store=_e,Object(K.setStore)(_e);t.a=_e},"6gXO":function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=["/api/bitable/update_meta/","/api/comment/add/","/api/comment/all/","/api/comment/get/","/api/comment/reply/add/","/api/comment/reply/delete/","/api/comment/reply/mget/","/api/comment/reply/update/","/api/comment/update/","/api/comment/whole/get/","/api/experiment/usermodify/","/api/experiment/userquery/","/api/explorer/create/","/api/explorer/clone/","/api/explorer/copy_by_obj_token/","/api/explorer/delete/","/api/explorer/get/","/api/explorer/get_recent/","/api/explorer/get_token_info/","/api/explorer/move/","/api/explorer/obj/delete/","/api/explorer/path_stack/","/api/explorer/pin/add/","/api/explorer/pin/get/","/api/explorer/pin/remove/","/api/explorer/recent/report/","/api/explorer/rename/","/api/explorer/root/","/api/explorer/root/get/","/api/explorer/share/create/","/api/explorer/share/dismiss/","/api/explorer/share/folder/","/api/explorer/share/folder/hide/","/api/explorer/share/folder/update/","/api/explorer/share/home/","/api/explorer/share/object/","/api/explorer/space/add/","/api/explorer/space/apply_permission/","/api/explorer/space/mget/","/api/explorer/space/remove/","/api/explorer/star/add/","/api/explorer/star/get/","/api/explorer/star/remove/","/api/explorer/trash/delete/","/api/explorer/trash/restore/","/api/like/count/","/api/like/data/","/api/like/dislike/","/api/like/like/","/api/mention/chatid/","/api/message/get_message/","/api/message/join_on_call_chat/","/api/message/read/","/api/message/read_all/","/api/obj_template/create_obj/","/api/obj_template/list/","/api/obj_recommend/get/","/api/parser/export/","/api/parser/getresult/","/api/parser/get_export_result/","/api/parser/get_export_result","/api/parser/export","/api/passport/heartbeat/","/api/passport/ws_ticket/","/api/rce/messages/CLIENT_VARS","/api/rce/messages/ENGAGEMENT_CURSOR","/api/rce/messages/GET_EDITMODE_QUANTITY","/api/rce/messages/MESSAGE_CHANNEL","/api/rce/messages/NEW_CHANGES","/api/rce/messages/REQUEST_EDIT","/api/rce/messages/UNWATCH","/api/rce/messages/USER_CHANGES","/api/rce/messages/USER_COMMENT","/api/rce/messages/USER_HEARTBEAT","/api/rce/messages/WATCH","/api/resource_package/get_info/","/api/sheet/","/api/search/obj/","/api/search/permission_candidates/","/api/suite/permission/apply_permission/","/api/suite/permission/members/","/api/suite/permission/members/create/","/api/suite/permission/members/delete/","/api/suite/permission/members/transfer/","/api/suite/permission/members/update/","/api/suite/permission/user/","/api/suite/permission.v2/public/","/api/suite/permission.v2/public/update/","/api/suite/permission.v2/user/","/api/survey/pull/","/api/user/","/api/user/detail","/api/user/get_et","/api/user/setting/","/api/user/setting/update","/api/user_guide/done/","/api/user_guide/get/","/api/user_guide/update/","/api/v2/sheet/first_block","/api/v2/sheet/sub_block"]},"6z7T":function(e,t,n){"use strict";var r,a,o,i,c,s,u,l,d,p,_;n.d(t,"d",function(){return r}),n.d(t,"e",function(){return o}),n.d(t,"f",function(){return c}),n.d(t,"a",function(){return s}),n.d(t,"c",function(){return l}),n.d(t,"b",function(){return p}),(a=r=r||{}).MGET_DOC_FEEDS="MGET_DOC_FEEDS",a.CREATE_SHORTCUTS="CREATE_SHORTCUTS",a.DELETE_SHORTCUTS="DELETE_SHORTCUTS",a.REMOVE_DOC="REMOVE_DOC",a.UPDATE_DOC_MESSAGE_BADGE="UPDATE_DOC_MESSAGE_BADGE",a.CREATE_DOC_DRAFT="CREATE_DOC_DRAFT",a.GET_DOC_DRAFT="GET_DOC_DRAFT",a.DELETE_DOC_DRAFT="DELETE_DOC_DRAFT",a.UPDATE_DOC_ME_READ="UPDATE_DOC_ME_READ",a.UPDATE_DOC_FEED="UPDATE_DOC_FEED",a.UPLOAD_SECURE_IMAGE="UPLOAD_SECURE_IMAGE",(i=o=o||{}).CLOSE_DOC="CLOSE_DOC",i.FEED_DONE="FEED_DONE",i.SEND_MEETING_MINUTE="SEND_MEETING_MINUTE",i.OPEN_SHARE_DOC="OPEN_SHARE_DOC",(c=c||{}).PUSH_DOC_FEEDS="PUSH_DOC_FEEDS",(u=s=s||{})[u.PENDING=0]="PENDING",u[u.FULFILLED=1]="FULFILLED",u[u.REJECTED=2]="REJECTED",(d=l=l||{})[d.NORMAL=1]="NORMAL",d[d.POST=2]="POST",(_=p=p||{})[_.UNKNOWN_ENTITY=0]="UNKNOWN_ENTITY",_[_.CHAT=1]="CHAT",_[_.EMAIL=2]="EMAIL",_[_.DOC_FEED=3]="DOC_FEED",_[_.THREAD=4]="THREAD",_[_.BOX=5]="BOX",_[_.OPENAPP=6]="OPENAPP",_[_.TOPIC=7]="TOPIC",_[_.OPENAPP_CHAT=8]="OPENAPP_CHAT",_[_.EMAIL_ROOT_DRAFT=100]="EMAIL_ROOT_DRAFT"},"7+rO":function(e,t){e.exports=navigator.cdn_host+"/ccm/pc/web/resource/bear/images/file_list_load_error.png"},"77Gt":function(e,t,n){"use strict";n.d(t,"c",function(){return m}),n.d(t,"d",function(){return O}),n.d(t,"k",function(){return b}),n.d(t,"a",function(){return y}),n.d(t,"h",function(){return h}),n.d(t,"j",function(){return D}),n.d(t,"i",function(){return L}),n.d(t,"g",function(){return w}),n.d(t,"f",function(){return N}),n.d(t,"e",function(){return U}),n.d(t,"b",function(){return P});var r=n("QILm"),s=n.n(r),a=n("RIqP"),c=n.n(a),o=n("J4zp"),i=n.n(o),u=n("UXvI"),l=n("D7h9"),d=n("kUgE"),p=n("Q9MD"),_=n("GoHq"),E=n("QM+C"),f=n("AESI"),T=n("toa8"),S=n("2ACu"),m=function(e,t){var n=E.mapFileType2TypeNum[e.toLowerCase()];return"".concat(n,":").concat(t)},O=function(e,t){return Object(p.f)(l.default.getState())[m(e,t)]||[]},b=function(e,t){var n=t.type,r=t.token,a=t.members;e[m(n,r)]=a},y=function(e,t){var n=t.type,r=t.token;delete e[m(n,r)]},h=function(e,t){var n=t.token,r=t.members;l.default.dispatch(Object(_.a)({type:e,token:n,members:r||[]}))};function v(e,t){return"".concat(e,"#").concat(t)}function I(e){var t=e.split("#"),n=i()(t,2);return{type:n[0],token:n[1]}}var C=new Map,R=new Map;function g(e){C.has(e)||C.set(e,new Map),R.has(e)||R.set(e,new Set)}var k=Object(u.default)(function(o,i){C.forEach(function(e,t){var n=I(t),r=n.type,a=n.token;0!==e.size&&a===i&&l.default.dispatch(Object(_.f)({type:r,token:a,count:o,memberInfoList:c()(e.values())}))}),C.clear()},500),D=function(e,t){var n=t.token,r=(t.version,t.type,t.count),a=s()(t,["token","version","type","count"]),o=v(e,n);g(o);var i=C.get(o),c=R.get(o);i.set(a.member_id,a),c.delete(a.member_id),k(r,n)},j=Object(u.default)(function(o,i){R.forEach(function(e,t){var n=I(t),r=n.type,a=n.token;0!==e.size&&a===i&&l.default.dispatch(Object(_.b)({type:r,token:a,count:o,memberIds:c()(e)}))}),R.clear()},500),L=function(e,t){var n,r,a,o=t.token,i=t.users_count,c=t.member_id;c&&(c=[].concat(c),g(n=v(e,o)),r=R.get(n),a=C.get(n),c.forEach(function(e){r.add(e),a.delete(e)}),j(i,o))},w=function(e,t){l.default.dispatch(Object(_.c)({type:e,token:t}))},N=function(e,t){var n=t.token,r=t.members,a=t.count;r&&l.default.dispatch(Object(_.c)({type:e,token:n,members:r,count:a}))},U=function(t,e,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:"";if(!l.default)return"";if(!n)return"";var a=l.default.getState().appState;if(!a)return r;var o=a.members;if(!o)return r;var i=o[m(e,n)];if(!i)return r;var c=i.find(function(e){return(e.suid||e.user_id)===t});if(!c)return r;var s=c.user_name||c.cn_name||r;return d.LANG_MAP.zh?c.cn_name||s:c.en_name||s};function P(e,t,n){return T.d.get("".concat(f.GET_COLL_MEMBERS,"?member_id=").concat(e,"&token=").concat(t,"&obj_type=").concat(n)).catch(function(e){throw Object(S.default)("reFetchRoomMembers error"),console.error(e),e})}},"7QI+":function(e,t,n){"use strict";n("hphf").a.afterPolyfill=Date.now()},"7SOz":function(e,t,n){"use strict";var r=n("SA+Z"),l=n.n(r),a=n("RIqP"),d=n.n(a),o=n("J4zp"),i=n.n(o),s=n("BeL+"),p=n("7EGn"),_=n("vEhQ"),E=n("ZBlo"),c=n("SLjs"),f=n("jp/M"),u=n("lwsE"),T=n.n(u),S=n("W8MJ"),m=n.n(S),O=n("cDf5"),b=n.n(O),y=n("4PSP"),h=function(e,t,n,r){var a,o=arguments.length,i=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":b()(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;0<=c;c--)(a=e[c])&&(i=(o<3?a(i):3<o?a(t,n,i):a(t,n))||i);return 3<o&&i&&Object.defineProperty(t,n,i),i},v=function(){function t(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];T()(this,t),this.array=[],this.maxSize=0,this.array=e}return m()(t,[{key:"setMaxSize",value:function(e){this.maxSize=e}},{key:"length",value:function(){return this.array.length}},{key:"add",value:function(e){var t=this.findIndex(e.id);-1<t?this.array.splice(t,1,e):(0<this.maxSize&&this.array.length===this.maxSize&&this.pop(),this.array.push(e))}},{key:"delete",value:function(e){var t=this.findIndex(e);-1!==t&&this.array.splice(t,1)}},{key:"pop",value:function(){return this.array.shift()}},{key:"findIndex",value:function(t){return this.array.findIndex(function(e){return e.id===t})}},{key:"latest",value:function(){return this.array[this.length()-1]}},{key:"toJSON",value:function(){return this.array}},{key:"clear",value:function(){this.array=[]}},{key:"isPendding",get:function(){return 0===this.maxSize||this.array.length<this.maxSize}}]),t}(),I=function(){function r(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1;T()(this,r),this.workerFn=t,this.maxOccurs=n,this.waitQueue=e,this.workerQueue=new v,this.workerQueue.setMaxSize(n),this.pause=!1,this.workerResult=[],this.workerRqs=[]}return m()(r,[{key:"setCallback",value:function(e,t){this.onSuccess=e,this.onFail=t}},{key:"setWorker",value:function(e){this.workerFn=e}},{key:"appendWaitQueue",value:function(e){var t=this;e.forEach(function(e){t.waitQueue.add(e)})}},{key:"start",value:function(){var t=this;return this.workerResult=[],this.workerRqs=[],new Promise(function(e){t.resolveQueue=e,0===t.waitQueue.length()&&t.resolveQueue([]),t.work()})}},{key:"stop",value:function(){this.pause=!0}},{key:"clearWait",value:function(){this.waitQueue.clear()}},{key:"continue",value:function(){this.pause=!1,this.work()}},{key:"clear",value:function(){this.pause=!1,this.cancel(),this.waitQueue.clear(),this.workerQueue.clear(),this.workerRqs=[]}},{key:"cancel",value:function(){this.workerRqs.forEach(function(e){var t=e.abort||e.cancel;t&&"function"==typeof t&&t()}),this.workerRqs=[]}},{key:"work",value:function(){for(var e=Math.min(this.waitQueue.length(),this.maxOccurs-this.workerQueue.length()),t=0;t<e;t++)this.addQueue()}},{key:"checkQueuePending",value:function(){return this.workerQueue.isPendding}},{key:"checkWaitQueueEmpty",value:function(){return 0===this.waitQueue.length()}},{key:"addQueue",value:function(){var e;this.pause||!this.checkQueuePending()||(e=this.waitQueue.pop())&&(this.workerQueue.add(e),this.worker())}},{key:"worker",value:function(){var n,e,t,r,a=this;this.pause||(n=this.workerQueue.latest(),e=n.id,t=n.data,r=this.workerFn(t),this.workerRqs.push(r),r.then(function(e){var t={payload:n,response:e};a.workerResult.push(t),a.onSuccess&&a.onSuccess(t)}).catch(function(e){var t={payload:n,response:e};a.workerResult.push(t),a.onFail&&a.onFail(t)}).finally(function(){a.removeWorkerQueue(e),a.queueEmpty()&&a.resolveQueue?a.resolveQueue(a.workerResult):a.pause||a.addQueue()}))}},{key:"removeWorkerQueue",value:function(e){this.workerQueue.delete(e)}},{key:"checkWorkerQueueEmpty",value:function(){return 0===this.workerQueue.length()}},{key:"queueEmpty",value:function(){return this.checkWaitQueueEmpty()&&this.checkWorkerQueueEmpty()}}]),r}();h([Object(y.Bind)()],I.prototype,"clear",null);var C=n("HIeq"),R=function(){return{data:{text_list:[],suppl:[]},failure_data:{text_list:[],suppl:[]},codes:[]}},g=64,k=1;function D(e,t){for(var n={url:f.apiUrls.TRANSLATE_V2,method:f.apiUrls.METHOD.POST,headers:{"Content-Type":"application/json"}},r=e.text_list,a=e.suppl,o=new v,i=Object(E.a)(r,t),c=Object(E.a)(a,t),s=0;s<i.length;s++){var u=Object(C.b)();o.add({id:u,data:Object.assign({},n,{data:Object.assign({},e,{text_list:i[s],suppl:c[s]})})})}return o}function j(n,e,t){var r=Object(p.default)(t,"occurs",k),a=Object(p.default)(t,"request_texts_count",g),o=D(n,a);0===o.length()&&console.warn("--------参数错误，无法添加队列-----------");var i=new I(o,e,r),c=new Promise(function(t){i.start().then(function(e){var r=R();return e.forEach(function(e){var t=e.response,n=e.payload;r=t.code?L(r,t.code,Object(p.default)(n,"data.data")):w(r,Object(p.default)(t,"data"))}),r.target_lang=n.target_lang,r.src_lang=n.src_lang,t(r)})});return c.cancel=c.abort=function(){c.cancel_status=!0,i.clear()},c}function L(e,t,n){var r,a,o=Object(p.default)(n,"text_list",[]),i=Object(p.default)(n,"suppl",[]);return(r=e.failure_data.text_list).push.apply(r,d()(o)),(a=e.failure_data.suppl).push.apply(a,d()(i)),-1<e.codes.indexOf(t)||e.codes.push(t),e}function w(n,e){var r=Object(p.default)(e,"text_list",[]),a=Object(p.default)(e,"suppl",[]);return Object(p.default)(e,"translate_status",[]).forEach(function(e,t){e?(n.data.text_list.push(r[t]),n.data.suppl.push(a[t])):(n.failure_data.text_list.push(r[t]),n.failure_data.suppl.push(a[t]),n.codes.some(function(e){return e===c.c.DATA_ERROR})||n.codes.push(c.c.DATA_ERROR))}),n}var N=n("4udo");function U(e,t,n){return j(e,t,n)}function P(e){var r="",o={};return e.forEach(function(e){var t=e.text,n=e.attribs,a=[Object(N.f)(r),Object(N.f)(t)];r+=t,n.forEach(function(e){var t=i()(e,2),n=t[0],r=t[1];Object(_.a)(o,["".concat(n,",").concat(r)],[].concat(d()(Object(p.default)(o,["".concat(n,",").concat(r)],[])),[a]))})}),{text:r,suppl:o}}function M(e){var n=e.text,t=e.suppl,r=[],a=Object.keys(t);if(!a.length)return n.length&&r.push({text:n,attribs:[]}),r;var u={};a.forEach(function(s){t[s].forEach(function(e){var t=s.split(","),n=l()(t),r=n[0],a=n.slice(1).join(","),o=e[0],i=e[0]+e[1]-1,c=["".concat(o,",").concat(i)];Object(_.a)(u,c,[].concat(d()(Object(p.default)(u,c,[])),[[r,a]]))})});var o=Object.keys(u).sort(function(e,t){var n=e.split(",")[1],r=t.split(",")[1];return Number(n)-Number(r)}).map(function(e){return e.split(",").map(function(e){return Number(e)})}),i=Object(N.e)(o),c=0;return i.forEach(function(e){var t=Object(s.a)(Object(N.a)(e,u));c<e[0]&&r.push({attribs:[],text:Object(N.d)(n,c,e[0])}),r.push({attribs:t,text:Object(N.d)(n,e[0],e[1]+1)}),c=e[1]+1}),c<Object(N.f)(n)&&r.push({attribs:[],text:Object(N.d)(n,c,Object(N.f)(n))}),r}function x(e){var t=e.src_lang,n=void 0===t?"en":t,r=e.target_lang,a=e.enable_auto_translate,o=e.shield_auto_translate_langs,i=void 0===o?[]:o,c=e.global_display_type,s=e.languages_display_type,u=void 0===s?{}:s,l=e.enable_auto_translate_doc_body,d=e.enable_auto_translate_doc_comment,p=e.supported_src_langs,_=void 0===p?[]:p,E=e.translation_view,f=void 0===E?0:E,T=e.view_target_lang,S={src_lang:n,target_lang:r,display_type:c,enable_auto_translate:a,enable_auto_translate_doc_body:l,enable_auto_translate_doc_comment:d,supported_src_langs:_,translation_view:f,view_target_lang:void 0===T?"":T},m=i.includes(n);return S.enable_auto_translate_doc_body=S.enable_auto_translate,S.enable_auto_translate_doc_comment=S.enable_auto_translate,!m&&a||(S.enable_auto_translate=!1,S.enable_auto_translate_doc_body=!1,S.enable_auto_translate_doc_comment=!1),u[n]&&(S.display_type=u[n]),S}n.d(t,"a",function(){return U}),n.d(t,"c",function(){return P}),n.d(t,"d",function(){return M}),n.d(t,"b",function(){return x})},"7cb0":function(e,t,n){"use strict";n.d(t,"a",function(){return d}),n.d(t,"b",function(){return T});var r,a=n("lSNA"),o=n.n(a),i=n("iP/4"),c=n("EyGs"),s=n("U6jp");function u(){var e=window;if(e.lkpDesktopApi&&e.lkpDesktopApi.getAppVersion)return e.lkpDesktopApi.getAppVersion();var t=navigator.userAgent.match(/LKPDesktop\/[\d.]+/);return t?t[1]:""}function l(){var e=i.a.isLKP?u():Object(s.j)("appVersion"),t=null;return(t=e?e.match(/(\d+)\.(\d+)\.(\d+)/):(e=window.navigator.userAgent).match(/Lark\/(\d+)\.(\d+)\.(\d+)/))?t.slice(1,3).join("."):""}var d,p,_=l();function E(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.join(".");return Object(c.a)(_,r)}(p=d=d||{}).isAutoTranslateBodyEnabled="isAutoTranslateBodyEnabled",p.isEnabledChannelAPI="isEnabledChannelAPI",p.isEnabledAnnouncementVerify="isEnabledAnnouncementVerify",p.isEnabledMeetingShareToCurrentChat="isEnabledMeetingShareToCurrentChat",p.isNotLegacyTranslateConfig="isNotLegacyTranslateConfig",p.isPushFeedMessage="isPushFeedMessage",p.isEnabledNativeWatermark="isEnabledNativeWatermark",p.needNotAnnouncementPublishOldDomain="needNotAnnouncementPublishOldDomain",p.isSupportCommentDraft="isSupportCommentDraft",p.isEnabledCloseAPI="isEnabledCloseAPI";var f=(r={},o()(r,d.isAutoTranslateBodyEnabled,E(3,12)),o()(r,d.isEnabledChannelAPI,E(3,12)),o()(r,d.isEnabledAnnouncementVerify,E(3,7)),o()(r,d.isEnabledMeetingShareToCurrentChat,E(3,6)),o()(r,d.isNotLegacyTranslateConfig,E(3,6)),o()(r,d.isPushFeedMessage,E(3,3)),o()(r,d.isEnabledNativeWatermark,E(2,7)&&!i.a.isInVC||E(3,19,2)&&i.a.isInVC),o()(r,d.needNotAnnouncementPublishOldDomain,E(2,3)),o()(r,d.isSupportCommentDraft,E(3,27)),o()(r,d.isEnabledCloseAPI,E(3,25)),r);function T(e){return f[e]||!1}},"7ip5":function(e,p,_){"use strict";(function(e){_.d(p,"e",function(){return a}),_.d(p,"b",function(){return s}),_.d(p,"a",function(){return u}),_.d(p,"d",function(){return l}),_.d(p,"c",function(){return d});var t,n,r,a,o,i=_("lSNA"),c=_.n(i);(o=a=a||{}).manager="manager",o.member="member",o.visitor="visitor";var s=(t={},c()(t,a.manager,e("explorer.teamspace.v1.role.manager")),c()(t,a.member,e("explorer.teamspace.v1.role.member")),c()(t,a.visitor,e("explorer.teamspace.v1.role.visitor")),t),u=(n={},c()(n,a.manager,e("explorer.teamspace.v1.role.manager_desc")),c()(n,a.member,e("explorer.teamspace.v1.role.member_desc")),c()(n,a.visitor,e("explorer.teamspace.v1.role.visitor_desc")),n),l=(r={},c()(r,a.manager,1),c()(r,a.member,2),c()(r,a.visitor,3),r),d={1:a.manager,2:a.member,3:a.visitor}}).call(this,_("2vAP"))},"7qKG":function(e,t){e.exports=navigator.cdn_host+"/ccm/pc/web/resource/bear/public/icon_file_text_nor.d2a99ca0ec5ecadfdbee.ico"},"83LZ":function(e,t,n){"use strict";n.d(t,"a",function(){return l});n("J4zp");var r=n("hMnB"),o=n.n(r),i=n("EVj1"),c=n("ucr6"),a=(n("QM+C"),n("t6I4"),n("jJw9"),n("PCyy")),s=[a.a.SHARE_OPEN,a.a.SUITE_SETTING_OPEN];function u(){var e=Object(i.m)(o.a.href).search;return Object.keys(Object(i.l)(e)).some(function(e){return-1<s.indexOf(e)})}function l(){var e,t,n,r,a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];!u()||"/"!==(e=o.a.pathname)&&(0<a.length&&(t=o.a.search,n=Object(i.l)(t),r=a.reduce(function(e,t){return n[t]?e+t+"="+n[t]:e},"?"),c.a.push(1<r.length?r:e)),c.a.push(e))}},"88Nr":function(e,m,O){"use strict";(function(i){O.d(m,"b",function(){return d}),O.d(m,"a",function(){return p}),O.d(m,"e",function(){return E}),O.d(m,"f",function(){return f}),O.d(m,"c",function(){return T}),O.d(m,"d",function(){return S});var r=O("iP/4"),t=O("kUgE"),n=O("dDhe"),a=O("wzgn"),o=O("skFV"),e=O("VI6H"),c=O("QM+C"),s=O("ahx2"),u=O("TGBA"),l=Object(u.a)(s.STATUS_CODE);function d(){return i("common.docs_name")}function p(){return Object(e.x)()?i("common.docs_with_brand"):Object(o.y)()?i("common.brand_name"):i("common.brand_name_internal")}function _(){var e=Object(a.c)();return e||(Object(n.c)()?Object(n.a)(Object(o.y)(),Object(t.getLocale)()):p())}function E(e){var t="";try{t="common."+(window.globalConfig?window.globalConfig.common:window.backupDomain.ext).brand.app_name.toLowerCase();t=window.TTI18N[t]}catch(e){}return t=t||"Lark",window.materialConfig&&(t=window.materialConfig.brand_app_name||t),e.replace(/\{\{APP_DISPLAY_NAME\}\}/g,t)}function f(e){var t,n;r.a.isLarkWindow?document.title="":(n=(t=_())?" - ":"",document.title=E(e?"".concat(e).concat(n).concat(t):t))}function T(e){var t,n=e.payload,r=n.delete_flag,a=n.title,o=n.type;return e.error&&(t=e.error.code),!l.includes(t)&&400<=t?i("request.server_error"):1===r||t===s.STATUS_CODE.NOTE_DELETED||t===s.STATUS_CODE.OBJCT_DELETED?c.SuiteTitle.deleted:t===s.STATUS_CODE.FORBIDDEN?c.SuiteTitle.forbidden:t===s.STATUS_CODE.NOT_FOUND||t===s.STATUS_CODE.INVALID_PARAMETERS?c.SuiteTitle.notFound:t===s.STATUS_CODE.FAILED?c.SuiteTitle.serverError:t===s.STATUS_CODE.TIMEOUT?c.SuiteTitle.timeout:!a&&o?S(o):a}function S(e){return c.suiteType2UnnamedTitle[e]||""}}).call(this,O("2vAP"))},"8AqM":function(e,t,n){"use strict";var r,a;n.d(t,"a",function(){return r}),(a=r=r||{}).FIND="find",a.REPLACE="replace"},"8Ewy":function(e,t,n){"use strict";n.d(t,"c",function(){return S}),n.d(t,"d",function(){return m}),n.d(t,"b",function(){return O}),n.d(t,"a",function(){return b});var r,a,o=n("lwsE"),i=n.n(o),c=n("7EGn"),s=n("aXiW"),u=n("2ACu"),l=n("oqjh");(a=r=r||{})[a.JS_BLOCK=1]="JS_BLOCK",a[a.OTHER=2]="OTHER";var d="doc_request_send_start",p="doc_request_send_end",_="doc_request_send_cancel",E=6e4,f=5,T=new function e(){var t=this;i()(this,e),this.timer=0,this.failRequest=[],this.validRequestNum=0,this.count=function(e){t.failRequest.push(e),t.timer||(t.timer=window.setTimeout(function(){t.report(r.OTHER)},E))},this.clear=function(){t.validRequestNum++,t.validRequestNum>=f&&(t.timer&&window.clearTimeout(t.timer),t.report(r.JS_BLOCK))},this.report=function(e){if(!t.failRequest.length)return t.validRequestNum=0,void(t.timer=0);Object(u.default)(_,{code:e,fail_apis:JSON.stringify(t.failRequest),fail_num:t.failRequest.length}),t.failRequest=[],t.validRequestNum=0,t.timer=0}};function S(e){Object(s.a)(d).report({uuid:e.__uuid,request_id:e.requestId,x_command:e.x_command,hostname:e.hostname,timeout:e.timeout,method:e.method})}function m(e,t,n){var r=e.__startTime,a=e.__uuid,o=e.requestId,i=e.x_command,c=e.hostname;Object(s.a)(p).push({uuid:a,request_id:o,x_command:i,hostname:c,status_code:t.status,responseType:t.responseType}),"number"==typeof r&&Object(s.a)(p).push({duration_time:Date.now()-r}),n?(Object(s.a)(p).report({code:0,status:"success"}),T.clear()):Object(s.a)(p).clear()}function O(e){var t=Object(c.default)(e,"config.x_command"),n=Object(c.default)(e,"config.__uuid"),r=Object(c.default)(e,"config.requestId"),a=Object(c.default)(e,"config.hostname"),o=Object(c.default)(e,"code"),i=Object(c.default)(e,"request.status");t&&(e.isTimeout||e.isCancel)&&T.count(t),Object(s.a)(p).report({status:"fail",message:e.message,x_command:t,code:o,status_code:i,is_cancel:String(!!e.isCancel),is_timeout:String(!!e.isTimeout),uuid:n,requestId:r,hostname:a,is_online:String(Object(c.default)(window,"__NETWORK_STATE__.connected","not found"))})}function b(e){var t=e.config;if(t)try{Object(l.c)({url:t.url,data:{code:e.data.code,request_id:t.requestId,data:t.data}})}catch(e){console.error(e)}}},"9+L6":function(e,t,n){"use strict";n.d(t,"h",function(){return O}),n.d(t,"k",function(){return b}),n.d(t,"e",function(){return y}),n.d(t,"f",function(){return h}),n.d(t,"o",function(){return v}),n.d(t,"j",function(){return I}),n.d(t,"m",function(){return C}),n.d(t,"x",function(){return g}),n.d(t,"z",function(){return D}),n.d(t,"d",function(){return j}),n.d(t,"q",function(){return L}),n.d(t,"t",function(){return w}),n.d(t,"s",function(){return N}),n.d(t,"w",function(){return U}),n.d(t,"v",function(){return P}),n.d(t,"c",function(){return M}),n.d(t,"y",function(){return x}),n.d(t,"b",function(){return F}),n.d(t,"a",function(){return H}),n.d(t,"u",function(){return B}),n.d(t,"l",function(){return K}),n.d(t,"n",function(){return W}),n.d(t,"g",function(){return V}),n.d(t,"p",function(){return Y}),n.d(t,"i",function(){return Q}),n.d(t,"r",function(){return J});var r=n("7EGn"),a=n("skFV"),o=n("kUgE"),i=n("f8Ac"),c=Object(a.g)(),s=Object(a.k)(),u=Object(a.s)(),l=Object(a.y)(),d=c.domain,p=c.helpcenter_article,_=Object(i.c)(),E=o.getLocale&&"zh-cn"===Object(o.getLocale)().toLowerCase()?"zh-cn":"en-us",f=Object(o.getLanguage)(),T=Object(i.b)(),S="https://",m="".concat(S).concat(d.helpcenter,"/hc/").concat(l?_:E),O=Object(r.default)(window,"materialConfig.brand_docs_helpcenter_home",m),b="".concat(m,"/articles/").concat(p.incompatible_extension),y="".concat(m,"/articles/").concat(p.app_share_help),h=Object(r.default)(window,"materialConfig.brand_docs_helpcenter_permission","".concat(m,"/articles/").concat(p.authorized_help)),v="".concat(m,"/articles/").concat(p.supported_browser),I=Object(r.default)(window,"materialConfig.brand_docs_helpcenter_import","".concat(m,"/articles/").concat(p.importing_help)),C="".concat(m,"/articles/").concat(p.stickup_help),R=l?"".concat(T,"/privacy-policy"):"".concat(f,"/privacy"),g="".concat(S).concat(d.official,"/").concat(R),k=l?"".concat(T,"/customer-terms-of-service"):"".concat(f,"/terms"),D="".concat(S).concat(d.official,"/").concat(k),j="".concat(S).concat(d.helpdesk,"/api/lark-customer-service/link"),L="".concat(S).concat(d.helpdesk,"/suite-help/ticket/new"),w=(d.passport,"".concat(S).concat(d.passport,"/suite/passport/page/login/")),N=w,U=("".concat(S).concat(d.passport,"/suite/passport/frontier_ticket/"),"".concat(S).concat(d.official)),P=u.singleDocsHome,M="".concat(U,"/drive/home/"),x="".concat(U,"/report/?type=docs"),F="".concat(U,"/anonymity/report/?type=docs"),H="".concat(U,"/admin/"),B=("".concat(H,"#/contacts/departmentanduser"),"".concat(U,"/messenger/"),s.storageNullSecretKey),K="".concat(O,l?"/articles/360048487850":"/articles/360049067502"),W="".concat(O,l?"/articles/360048487978":"/articles/360049067727"),V="".concat(O,"/articles/360049067490"),Y="".concat(O,l?"/articles/360048487834":"/articles/360049067483"),Q="".concat(O,l?"/articles/360048487756":"/articles/360049067395"),J="".concat(O,l?"/articles/360048488019":"/articles/360049067832")},"91RN":function(e,t,n){"use strict";n.d(t,"a",function(){return _});var r=n("lwsE"),a=n.n(r),o=n("W8MJ"),i=n.n(o),c=n("2ACu"),s=n("FnDM"),u=n("nN3d"),l="page_active_stay_time",d="ac_stay_",p=d+Object(u.c)(6),_=new(function(){function e(){var u=this;a()(this,e),this.activeDuration=0,this.isRunning=!1,this.tryCollectFromStorage=function(){try{for(var e=0;e<window.localStorage.length;e++){var t,n,r,a,o,i,c,s=window.localStorage.key(e);s&&s.includes(d)&&((t=window.localStorage.getItem(s))&&(window.localStorage.removeItem(s),r=(n=JSON.parse(t)).startTime,a=n.endTime,o=n.activeDuration,i=n.route,c=-1!==r?a-r+o:o,u.collect({route:i,time:c})))}}catch(e){console.error("Failed to collect stay log from storage. ",e)}},this.exit=function(){if(u.isRunning)try{window.localStorage.setItem(p,JSON.stringify({startTime:u.startTime,endTime:Date.now(),activeDuration:u.activeDuration,route:u.route})),u.timer&&clearTimeout(u.timer)}catch(e){console.error(e)}};try{this.initEvents(),this.timer=setTimeout(this.tryCollectFromStorage,this.randomTimeout())}catch(e){console.error(e)}}return i()(e,[{key:"initEvents",value:function(){window.addEventListener("beforeunload",this.exit)}},{key:"collect",value:function(e){Object(c.default)(l,e)}},{key:"randomTimeout",value:function(){var e=30,t=0;return 100*Math.floor(Math.random()*(e-t)+t)}},{key:"onHidden",value:function(){this.isRunning&&(this.activeDuration+=Date.now()-this.startTime,this.startTime=-1)}},{key:"onVisible",value:function(){this.isRunning&&(this.startTime=Date.now())}},{key:"onRouteWatchStart",value:function(){this.isRunning||(this.isRunning=!0,this.startTime=Date.now(),this.route=this.currentRoute)}},{key:"onRouteUpdate",value:function(){this.isRunning&&(this.collect({time:Date.now()-this.startTime+this.activeDuration,route:this.route}),this.activeDuration=0,this.startTime=Date.now(),this.route=this.currentRoute)}},{key:"currentRoute",get:function(){return Object(s.n)()}}]),e}())},"95pV":function(e,t,n){"use strict";n.d(t,"b",function(){return te});var r,a=n("o0o1"),_=n.n(a),o=n("yXPU"),i=n.n(o),c=n("lSNA"),s=n.n(c),u=n("hMnB"),l=n.n(u),d=n("33yf"),p=n("Mpt7"),E=n("vYB2"),f=n.n(E),T=n("7EGn"),S=n("XIp8"),m=n("BeL+"),O=n("VIFs"),b=n("s+vT"),y=n("rLED"),h=n("7/sA"),v=n("2ACu"),I=Object(y.I)("disaster_recovery_enable",!0),C=!1,R="Request-id",g="/space/api/infra/domains?types=space_api&types=drive_api",k=6e5,D=15e3,j=3e5,L=["drive_api","frontier","image","space_api","overload_static_domain"],w=Object(y.K)("disaster_recovery_quality_enable"),N=Object(p.Map)(),U=(r={},s()(r,O.DRIVE_STREAM_API_HOST,O.API_TYPE.DRIVE_API),s()(r,O.DEFAULT_API_HOST,O.API_TYPE.SPACE_API),r);function P(e){window.localStorage.setItem(O.BACKUP_DOMAIN,JSON.stringify(e))}function M(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:O.API_TYPE.SPACE_API,t=1<arguments.length?arguments[1]:void 0,n=+new Date;window.localStorage.setItem("".concat(O.BACKUP_DOMAIN,"_").concat(e),"".concat(t,"|").concat(n))}function x(e){return JSON.parse(window.localStorage.getItem(O.BACKUP_DOMAIN)||"{}")[e]}function F(e,t){var n=x(e);return n&&0!==n.length&&(n=Object(m.a)(n).filter(function(e){return!t.has(e)})).length?n[0]:""}function H(){var e="".concat(l.a.origin).concat(g);return f.a.request({url:e,headers:{"Request-Id":Object(b.a)()}}).then(function(e){var t=Object(T.default)(e,"data.data");return P(t),N&&N.clear(),console.info("clear errorRetryReqTraceMap"),t},function(e){P(window.globalConfig)})}function B(n){var e=JSON.parse(window.localStorage.getItem(O.BACKUP_DOMAIN)||"{}"),r="",r=U[n];return e&&Object.keys(e).forEach(function(t){r||L.includes(t)&&e[t].some(function(e){return e===n&&(r=t,!0)})}),r}function K(e,t){var n=e.baseURL,r=n.replace(Object(O.getLocation)(n).host,t);return Object.assign(e,{baseURL:r,data:e.rawReq.data,backupMode:!0})}function W(){setInterval(H,k)}function V(e,t){return e/t<2}var Y={networkErrorCount:0,total:0};function Q(){setInterval(function(){Y.total=0,Y.networkErrorCount=0},D)}function J(e){return 400<=e&&e<500&&404!==e}function q(){var r=0<arguments.length&&void 0!==arguments[0]&&arguments[0],a=+new Date;Object.keys(O.API_TYPE).forEach(function(e){var t="".concat(O.BACKUP_DOMAIN,"_").concat(O.API_TYPE[e]),n=(window.localStorage.getItem("".concat(O.BACKUP_DOMAIN,"_").concat(O.API_TYPE[e]))||"").split("|");(r||n.length&&Number(n[1])<a-j)&&window.localStorage.removeItem(t)})}function z(){return!(Object(O.isStagingEnv)()||I)}function X(){var e=window.localStorage.getItem("cdn_error_count");e&&Object(v.default)("cdn_error_handle",{error_count:e})}function Z(e){var t=Object(O.getLocation)(e);if(t){var n=t.backslash,r=t.protocol,a=t.host;return n?"".concat(r).concat(n).concat(a):""}return l.a.origin}function $(e){return(Boolean(Object(O.getLocation)(e.url).backslash)?Object(O.getLocation)(e.url):Object(O.getLocation)(e.baseURL)).host}function ee(e){var t=Object(S.default)(e),n=Boolean(Object(O.getLocation)(t.url).backslash);n?(t.baseURL=t.url,t.url=""):"/"!==t.url.charAt(0)&&(console.warn("request with url:".concat(t.url," not standard, pathname should start with '/'")),console.warn("See: https://developer.mozilla.org/en-US/docs/Web/API/URL/pathname"),t.url=Object(d.join)("/",t.url));var r=Object(O.getLocation)(t.baseURL).pathname,a=Object(O.getLocation)(t.url).pathname,o=Object(O.getLocation)(n?t.baseURL:t.url).search;return t.baseURL=Z(t.baseURL),t.url=[Object(d.join)(r,a),o].join(""),t}function te(){try{z()||(W(),X(),Q(),q())}catch(e){console.info("初始化域名容灾失败 =>",e)}}function ne(e){var t=(window.localStorage.getItem("".concat(O.BACKUP_DOMAIN,"_").concat(e))||"").split("|");return t.length?t[0]:null}function re(p){var e,t;1<arguments.length&&void 0!==arguments[1]||O.API_TYPE.SPACE_API;C||Object(h.c)()||(z()?q(!0):(p.interceptors.request.use(function(e){Y.total++;var t=ee(e);try{var n=$(t),r=B(n),a=Object(T.default)(e,"requestId",""),o=N.get(a)||0;x(r)&&o>=x(r).length&&(w&&Object(v.default)("disaster_recovery_quality",{baseURL:n,url:e.url,errorCount:o,online:window.navigator.onLine}),N.delete(a));var i=ne(r);if(i)return t.baseURL=t.baseURL.replace(n,i),t.hardBackupMode=!0,t.rawReq=Object(S.default)(e),t.apiType=r,t;e.apiType=r}catch(e){console.error("useDisasterRecovery error ",e)}return e.rawReq=Object(S.default)(e),e}),p.interceptors.response.use(function(e){var t,n,r={baseURL:e.config.baseURL,url:e.config.url,hard_mode:!1};return Object(T.default)(e,"config.backupMode")&&Object(v.default)("disaster_recovery_success",r),Object(T.default)(e,"config.hardBackupMode")&&(r.hard_mode=!0,Object(v.default)("disaster_recovery_success",r)),e.config&&(t=Object(T.default)(e,"config.headers[".concat(R,"]"),""),n=N.get(t),w&&Object(v.default)("disaster_recovery_quality",Object.assign({},r,{errorCount:n,online:window.navigator.onLine})),N.delete(t)),e},function(){var t=i()(_.a.mark(function e(t){var n,r,a,o,i,c,s,u,l,d;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t.status||!t.config){e.next=26;break}if(n=t.response&&t.response.status,r=t.config.headers,z()||!window.navigator.onLine||J(n))return e.abrupt("return",Promise.reject(t));e.next=6;break;case 6:if(r&&w&&(a=r[R],N.update(a,function(){return(0<arguments.length&&void 0!==arguments[0]?arguments[0]:0)+1})),Y.networkErrorCount++,o=ee(t.config),i=$(o),c=B(i),s={baseURL:o.baseURL,url:o.url,type:c,hard_mode:!1,code:n},!c){e.next=26;break}if(o.backupMode&&Object(v.default)("disaster_recovery_fail",Object.assign({host:i},s)),window.localStorage.getItem(O.BACKUP_DOMAIN)){e.next=17;break}return e.next=17,H();case 17:if(u=o.retriedDomain||new Set([i]),l=F(c,u),V(Y.total,Y.networkErrorCount)&&l&&(M(c,l),s.hard_mode=!0),Object(v.default)("disaster_recovery_handle",s),l)return d=K(o,l),u.add(l),d.retriedDomain=u,e.abrupt("return",p.request(d));e.next=26;break;case 26:e.next=31;break;case 28:e.prev=28,e.t0=e.catch(0),console.error(e.t0);case 31:return e.abrupt("return",Promise.reject(t));case 32:case"end":return e.stop()}},e,null,[[0,28]])}));return function(e){return t.apply(this,arguments)}}()),t=(e=p.interceptors.response.handlers)[e.length-1],e.pop(),e.unshift(t)))}t.a=re},"9NQc":function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r={SHEET_JS_LOADED:1,FETCH_SHEET_CLIENTVARS_START:2,FETCH_SHEET_CLIENTVARS_SUCCESS:3,SHEET_APPLY_SNAPSHOT_SUCCESS:4,SHEET_FASTER_RENDER_SUCCESS:5,FETCH_SHEET_SUB_BLOCK_START:6,FETCH_SHEET_SUB_BLOCK_COMPLETE:7,SHEET_PLUGIN_LOAD_SUCCESS:8,SHEET_COMMENT_LOAD_SUCCESS:9,FIRST_SHEET_LOADED:10}},"9QuE":function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n("VI6H");function a(e){Object(r.A)(e)}},"9VmL":function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r={WIKI_FETCH_USER_EDITABLE:"WIKI_FETCH_USER_EDITABLE",WIKI_GET_ALL_SPACE:"WIKI_GET_ALL_SPACE",FETCH_RECENT_WIKI_IN_SUITE_BACK_NAV:"FETCH_RECENT_WIKI_IN_SUITE_BACK_NAV",FETCH_RECENT_WIKI_IN_SUITE_BACK_NAV_START:"FETCH_RECENT_WIKI_IN_SUITE_BACK_NAV_START",FETCH_RECENT_WIKI_IN_SUITE_BACK_NAV_SUCCESS:"FETCH_RECENT_WIKI_IN_SUITE_BACK_NAV_SUCCESS",FETCH_RECENT_WIKI_IN_SUITE_BACK_NAV_FAIL:"FETCH_RECENT_WIKI_IN_SUITE_BACK_NAV_FAIL",FETCH_RECENT_WIKI_IN_SUITE_BACK_NAV_CANCEL:"FETCH_RECENT_WIKI_IN_SUITE_BACK_NAV_CANCEL",JUMP_WIKI_FROM_SPACE:"JUMP_WIKI_FROM_SPACE",JUMP_WIKI_FROM_CREATE_IN_SPACE:"JUMP_WIKI_FROM_CREATE_IN_SPACE",WIKI_PAGE_TREE_CREATE_WIKI:"WIKI_PAGE_TREE_CREATE_WIKI",WIKI_PAGE_TREE_CREATE_WIKI_START:"WIKI_PAGE_TREE_CREATE_WIKI_START",WIKI_PAGE_TREE_CREATE_WIKI_SUCCESS:"WIKI_PAGE_TREE_CREATE_WIKI_SUCCESS",WIKI_PAGE_TREE_CREATE_WIKI_FAIL:"WIKI_PAGE_TREE_CREATE_WIKI_FAIL",WIKI_PAGE_TREE_CREATE_WIKI_CANCEL:"WIKI_PAGE_TREE_CREATE_WIKI_CANCEL",WIKI_ADD_STAR_SPACE:"WIKI_ADD_STAR_SPACE",WIKI_DEL_STAR_SPACE:"WIKI_DEL_STAR_SPACE",WIKI_UPDATE_DATA_WHEN_LEAVE:"WIKI_UPDATE_DATA_WHEN_LEAVE",WIKI_FETCH_USER_ROLE_USE_CACHE:"WIKI_FETCH_USER_ROLE_USE_CACHE",WIKI_FETCH_USER_ROLE:"WIKI_FETCH_USER_ROLE",WIKI_FETCH_EDITABLE_SPACES:"WIKI_FETCH_EDITABLE_SPACES",WIKI_FETCH_EDITABLE_SPACES_START:"WIKI_FETCH_EDITABLE_SPACES_START",WIKI_FETCH_EDITABLE_SPACES_SUCCESS:"WIKI_FETCH_EDITABLE_SPACES_SUCCESS",WIKI_FETCH_EDITABLE_SPACES_FAIL:"WIKI_FETCH_EDITABLE_SPACES_FAIL",WIKI_FETCH_EDITABLE_SPACES_CANCEL:"WIKI_FETCH_EDITABLE_SPACES_CANCEL",WIKI_UPDATE_EDITABLE_SPACE:"WIKI_UPDATE_EDITABLE_SPACE"}},ATMF:function(e,t,n){"use strict";n.d(t,"b",function(){return S});var r=n("vYB2"),a=n.n(r),o=n("VIFs"),i=n("xA8S"),c=n("oqjh"),s=n("s+vT"),u=n("TJya"),l=n("bL6Q"),d=n("2ACu"),p=n("jp/M"),_=n("95pV"),E=n("qD9r"),f={"Content-Type":"application/json"},T=Object(i.a)();function S(e){var t,n,r,a,o;e&&(t=e.type,r=(n=e.data)?n.type:"",(t||r)&&void 0===e.code&&Object(d.default)("client_network_no_error_code",{engineType:t,messageType:r}),a=function(e,t){var n=t.request_id;console.log("Network Error (".concat(e,": ").concat(n||"null","):"),t)},void 0===(o=e.code)||0===o?n&&void 0!==(o=n.code)&&0!==o&&a("Service",e):a("System",e))}T&&(f.Env=T);var m=a.a.create({headers:f,baseURL:Object(o.prependAPI)("")});m.interceptors.request.use(function(e){var t=Object(s.a)();e.data&&e.data.context&&(t=e.data.context.request_id||t,e.data.context.request_id=t);var n=Object(u.a)({requestId:t}),r=Object(u.b)(e.url||""),a=Object.assign({},n,{},r,{},e.headers);return Object.assign(e,{headers:a})}),m.interceptors.response.use(function(e){if(!e.data)return Promise.reject(new Error("response no data"));var t=e.data;if(S(t),t.code===p.error.STATUS_CODE.LOGIN_REQUIRED&&!p.common.isAnonymousAccess)return Object(l.a)(e),Promise.reject(new Error("login required!"));if(0!==t.code)return Promise.reject(e);try{var n=e.config;Object(c.c)({url:n.url,data:{code:t.code,request_id:n.headers&&n.headers["Request-Id"],data:n.data}})}catch(e){console.error(e)}return t},function(e){var t=e.config,n=-1;e.response?n=e.response.data.code||n:console.log("Error",e.message);try{Object(c.c)({url:t.url,data:{code:n,request_id:e.config.headers["Request-Id"],data:t.data}})}catch(e){console.error(e)}return Promise.reject(e)}),Object(_.a)(m);Object(E.a)(m);t.a=m},AW8B:function(e,t,n){"use strict";n.d(t,"f",function(){return l}),n.d(t,"a",function(){return d}),n.d(t,"d",function(){return _}),n.d(t,"b",function(){return E}),n.d(t,"c",function(){return f}),n.d(t,"e",function(){return T});var r=n("iP/4"),a=n("7cb0"),o=n("rLED"),i=n("QM+C"),c=n("5dbN"),s=n("U6jp"),u=Object(a.b)(a.a.isAutoTranslateBodyEnabled)||!r.a.isFeed,l=Object(o.J)("translate_request_config",{occurs:1,request_texts_count:32}),d=u,p=Object(o.e)("translate_support_comment_enable");function _(){return!(i.isAnonymousAccess||r.a.isInVC)&&Object(o.e)("translate_enable")}function E(){var e=Object(c.locateRoute)();return _()&&d&&!(e.isWikiIndex||e.isSheet||Object(s.o)()||Object(s.q)()||r.a.isOpenDoc)}function f(){return!Object(c.locateRoute)().isWikiIndex}function T(){var e=Object(c.locateRoute)();return _()&&p&&(e.isDoc||e.isWikiIndex)}},Abbq:function(e,t){e.exports=navigator.cdn_host+"/ccm/pc/web/resource/bear/public/icon_file_ai_nor.638289ff736231f7770f.ico"},AcF7:function(e,t,n){"use strict";var r=n("q1tI"),o=n.n(r),a=n("CnBM"),i=n.n(a),c=n("Nz8i"),s=i.a.Map({loader:{onboardingSpaceModule:function(){return Promise.all([n.e("doc_index_css"),n.e("commons--create_by_template_modal--create_by_template_modal_new_layout--create_team_space_modal--ex--a373becd"),n.e("commons--add_to_modal--clone_modal--move_modal--pc_space_route"),n.e("commons--explorer_sidebar_tree--layout_delay--pc_space_route"),n.e("commons--pc_space_route--relation_graph_modal"),n.e("pc_space_route")]).then(n.bind(null,"ZkdB"))},listViewModule:function(){return Promise.all([n.e("doc_index_css"),n.e("commons--create_by_template_modal--create_by_template_modal_new_layout--create_team_space_modal--ex--a373becd"),n.e("commons--add_to_modal--clone_modal--move_modal--pc_space_route"),n.e("commons--explorer_sidebar_tree--layout_delay--pc_space_route"),n.e("commons--pc_space_route--relation_graph_modal"),n.e("pc_space_route")]).then(n.bind(null,"wNCL"))},spaceBaseModule:function(){return Promise.all([n.e("doc_index_css"),n.e("commons--create_by_template_modal--create_by_template_modal_new_layout--create_team_space_modal--ex--a373becd"),n.e("commons--add_to_modal--clone_modal--move_modal--pc_space_route"),n.e("commons--explorer_sidebar_tree--layout_delay--pc_space_route"),n.e("commons--pc_space_route--relation_graph_modal"),n.e("pc_space_route")]).then(n.bind(null,"uM6k"))},component:function(){return Promise.all([n.e("doc_index_css"),n.e("commons--create_by_template_modal--create_by_template_modal_new_layout--create_team_space_modal--ex--a373becd"),n.e("commons--add_to_modal--clone_modal--move_modal--pc_space_route"),n.e("commons--explorer_sidebar_tree--layout_delay--pc_space_route"),n.e("commons--pc_space_route--relation_graph_modal"),n.e("pc_space_route")]).then(n.bind(null,"WWld"))}},loading:function(){return null},render:function(e){var t=e.listViewModule.getListViewModule,n=e.onboardingSpaceModule.getOnboardingSpaceModule,r=e.spaceBaseModule.getSpaceBaseModule,a=e.component.default;return o.a.createElement(c.DynamicModuleLoader,{modules:[n(),t(),r()]},o.a.createElement(a,null))}});s.displayName="RouteSpace",t.a=s},B0hj:function(e,t,n){"use strict";var r=n("vYB2"),a=n.n(r),o=n("95pV"),i=n("Q6nf"),c=n("JG4O"),s=n("o0o1"),u=n.n(s),l=n("yXPU"),d=n.n(l),p=n("QILm"),_=n.n(p),E=n("7EGn"),f=n("8Ewy"),T=n("+7Be"),S=n("H402"),m=n("VIFs");function O(e){var t=e.config,n=e.data;if(!t)return e;var r=n.meta,a=n.data,o=n.code,i=(n.msg,_()(n,["meta","data","code","msg"])),c=r||{};return t.mergeRequestHeaderIntoMeta&&(c=Object.assign({},c,{},t.headers)),"number"==typeof t.__startTime&&(c=Object.assign({},c,{durationTime:(new Date).getTime()-t.__startTime})),a?Object.assign({code:o,data:a,meta:c},i):{code:o,data:n,meta:c}}function b(e){return y.apply(this,arguments)}function y(){return(y=d()(u.a.mark(function e(t){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(Object(f.c)(t),t.ignoreInterceptors)return e.abrupt("return",t);e.next=3;break;case 3:return e.t0=Object,e.t1={},e.t2=t,e.t3=Object(c.a)(t),e.next=9,Object(T.d)(t);case 9:return e.t4=e.sent,e.t5=t.timeout||i.d,e.t6={data:e.t3,headers:e.t4,timeout:e.t5},e.abrupt("return",e.t0.assign.call(e.t0,e.t1,e.t2,e.t6));case 13:case"end":return e.stop()}},e)}))).apply(this,arguments)}function h(e){var t=e.config;if(!t)return e;if(t.ignoreInterceptors)return Object(f.d)(e.config,e.request,e.data),Object(f.a)(e),e;var n=Object(E.default)(e,"data.code");if(void 0===n||0===n)return Object(f.d)(e.config,e.request,e.data),Object(f.a)(e),O(e);var r=Object(S.a)(e);return Promise.reject(r)}function v(e){return e.apiType===m.API_TYPE.SPACE_API?Object.assign({},e,{headers:Object(T.e)(e)}):e}var I=n("iP/4"),C=n("zfY2"),R=n("xS7L"),g=n("C+Is"),k=function(e){var t,n=Object(E.default)(e,"data.code");return void 0!==n&&(void 0!==(t=g.a[n]||g.a[n.toString()])&&Object(C.sendOpendocEvent)(g.d.ERROR_CODE,t),t===g.c.JSSDK_SESSION_INVALID&&Object(R.c)("expired")),e},D=n("qD9r");n.d(t,"c",function(){return L}),n.d(t,"a",function(){return w}),n.d(t,"b",function(){return N}),a.a.defaults.withCredentials=!0;var j=a.a.create({baseURL:i.a,withCredentials:!0,paramsSerializer:c.b,headers:{"Content-Type":"application/x-www-form-urlencoded"}});j.interceptors.request.use(b),j.interceptors.request.use(v),I.a.isOpendoc&&j.interceptors.response.use(k),j.interceptors.response.use(h),Object(o.a)(j);var L=Object(D.a)(j),w=Object(D.a)(j,i.b),N=Object(D.a)(j,i.c)},B1Yb:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r={SET_CURRENT_LIST_NAME:"SET_CURRENT_LIST_NAME",SET_TR_CLICKED:"SET_TR_CLICKED",SET_SPACE_HEADER:"SET_SPACE_HEADER",TOGGLE_SHOW_HIDDEN_SHARED_FOLDER:"TOGGLE_SHOW_HIDDEN_SHARED_FOLDER",TOGGLE_RIGHT_BAR_EXPAND:"TOGGLE_RIGHT_BAR_EXPAND",CLOSE_FESTIVAL_MODAL:"CLOSE_FESTIVAL_MODAL"}},BGhw:function(e,he,ve){"use strict";(function(n){ve.d(he,"b",function(){return Oe}),ve.d(he,"a",function(){return be});var e,t,r,a=ve("lSNA"),o=ve.n(a),i=ve("BmhO"),c=ve("hVE6"),s=ve("QM+C"),u=ve("wzgn"),l=ve("5dbN"),d=ve("VI6H"),p=ve("MJFi"),_=ve.n(p),E=ve("GIjJ"),f=ve.n(E),T=ve("Abbq"),S=ve.n(T),m=ve("kbm7"),O=ve.n(m),b=ve("1IfP"),y=ve.n(b),h=ve("h14u"),v=ve.n(h),I=ve("lK/R"),C=ve.n(I),R=ve("CWpE"),g=ve.n(R),k=ve("2whv"),D=ve.n(k),j=ve("PNuP"),L=ve.n(j),w=ve("w3az"),N=ve.n(w),U=ve("my54"),P=ve.n(U),M=ve("RFOY"),x=ve.n(M),F=ve("G6v6"),H=ve.n(F),B=ve("3YHj"),K=ve.n(B),W=ve("CkSg"),V=ve.n(W),Y=ve("lofo"),Q=ve.n(Y),J=ve("rqTi"),q=ve.n(J),z=ve("EVKe"),X=ve.n(z),Z=ve("6PzY"),$=ve.n(Z),ee=ve("7qKG"),te=ve.n(ee),ne=ve("bVzy"),re=ve.n(ne),ae=ve("gccH"),oe=ve.n(ae),ie=ve("SeK8"),ce=ve.n(ie),se=ve("pjgz"),ue=ve.n(se),le=ve("qDnC"),de=ve.n(le),pe=ve("qSUs"),_e=ve.n(pe),Ee=ve("D7h9"),fe=(e={},o()(e,s.FILE_TYPE.BITABLE,v.a),o()(e,s.FILE_TYPE.DOC,g.a),o()(e,s.FILE_TYPE.SHEET,q.a),o()(e,s.FILE_TYPE.MINDNOTE,H.a),o()(e,s.FILE_TYPE.SLIDE,$.a),e),Te=function(e,t){var n={};return e.forEach(function(e){return n[e]=t}),n},Se=Object.assign({},Te(i.C,L.a),{},Te(i.D,oe.a),{},Te(i.E,y.a),{},Te(i.F,te.a),{},Te(i.G,ce.a),{},Te(i.B,D.a),{},Te(i.H,V.a),{},Te(i.I,ue.a),{},Te(i.A,C.a),(t={},o()(t,i.s.PDF,K.a),o()(t,i.s.AE,f.a),o()(t,i.s.AI,S.a),o()(t,i.s.PSD,Q.a),o()(t,i.s.PSB,Q.a),o()(t,i.s.APK,O.a),o()(t,i.s.KEY,N.a),o()(t,i.s.NUMBERS,P.a),o()(t,i.s.PAGES,x.a),o()(t,i.s.SKETCH,X.a),t));function me(){return Se[(0<arguments.length&&void 0!==arguments[0]?arguments[0]:"").toLowerCase()]||re.a}function Oe(){var t,e;n||(t=window.document.querySelector('[rel="shortcut icon"]'),e=Object(l.isUnderSuiteView)()?Object(l.getSuiteTypeStr)():"",Object(l.isUnderWikiIndex)()?t.href=de.a:e===s.FILE_TYPE.FILE?setTimeout(function(){var e=Object(c.a)(Ee.default.getState());e?t.href=me(e.type):setTimeout(Oe,300)},0):t.href=fe[e]||(Object(d.x)()?_e.a:ye()))}function be(e){var t=window.document.querySelector('[rel="shortcut icon"]');t&&(t.href=e||ye())}function ye(){return r=r||(Object(u.a)()||_.a)}}).call(this,ve("kCIs"))},CIP7:function(e,t,n){"use strict";n.d(t,"c",function(){return a}),n.d(t,"a",function(){return o}),n.d(t,"f",function(){return i}),n.d(t,"e",function(){return c}),n.d(t,"b",function(){return s}),n.d(t,"d",function(){return u}),n.d(t,"g",function(){return l});var r=n("rLED"),a=function(){return Object(r.I)("common_resource_release_enable")},o=function(){return Object(r.I)("drive_suite_sidebar_enabled")},i=function(){return Object(r.d)("settings_external_sharing_enable")},c=function(){return Object(r.I)("report_abuse_enabled")},s=function(){return Object(r.d)("isv_enabled")},u=function(){return Object(r.I)("team_space_v1")},l=function(){return Object(r.d)("show_feelgood_enable")}},CWpE:function(e,t){e.exports=navigator.cdn_host+"/ccm/pc/web/resource/bear/public/icon_file_doc_nor.f71bd4e8c13c4c45d9de.ico"},CkSg:function(e,t){e.exports=navigator.cdn_host+"/ccm/pc/web/resource/bear/public/icon_file_PPT_nor.a2f9891038e3ac06bcff.ico"},DBlQ:function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n("hMnB"),a=n.n(r),o=n("iP/4"),i=n("EVj1"),c=n("TSYQ"),s=n.n(c);function u(){var e=document.body,t="0"===Object(i.l)(a.a.search).iframe,n=window.parent!==window;e.className=s()(e.className,{"iframe-mode":!t&&n,windows:o.a.windows,opendoc:o.a.isOpendoc})}},DC6e:function(e,t,n){"use strict";var r=n("lwsE"),a=n.n(r),o=n("W8MJ"),i=n.n(o),c=n("a1gu"),s=n.n(c),u=n("Nsbk"),l=n.n(u),d=n("7W2i"),p=n.n(d),_=n("q1tI"),E=n("m/+l"),f=n("lYFH"),T=n("mpK2"),S=function(e){function t(){var e;return a()(this,t),(e=s()(this,l()(t).apply(this,arguments))).hasRenderedChildren=!1,e}return p()(t,e),i()(t,[{key:"componentDidMount",value:function(){this.updateHasRenderedChildren()}},{key:"componentDidUpdate",value:function(){this.updateHasRenderedChildren()}},{key:"shouldRenderChildren",value:function(){return!(!this.props.keepalive||!this.hasRenderedChildren)||this.props.shouldRenderChildrenByReduxState}},{key:"updateHasRenderedChildren",value:function(){!this.hasRenderedChildren&&this.shouldRenderChildren()&&(this.hasRenderedChildren=!0)}},{key:"render",value:function(){return this.shouldRenderChildren()?this.props.children:void 0!==this.props.loading?this.props.loading:null}}]),t}(_.Component);function m(e,t,n,r){return void 0===t||(!Object(T.a)(e,r)||(!(!n.renderOnTimeout||!r[e].hasTimedOut)||!!Object(T.c)(e,t,r)))}var O=function(e){return Boolean(e.business)};function b(t,n){return O(t)?m(t.business,t.renderWhen,t,n):Object.keys(n).every(function(e){return m(e,t.renderWhen[e],t,n)})}function y(e,t){return{shouldRenderChildrenByReduxState:b(t,Object(f.a)(e))}}t.a=Object(E.connect)(y,null)(S)},DLuH:function(e,t,n){"use strict";n.d(t,"c",function(){return r}),n.d(t,"b",function(){return a}),n.d(t,"d",function(){return o});var c={};function r(e,t){void 0===c[e]?c[e]=[t]:c[e].push(t)}function a(e){if(c[e]){for(var t=arguments.length,n=new Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var a=n,o=0,i=c[e].length;o<i;o++)c[e][o].apply(this,a)}}function o(e,t){if(c[e]instanceof Array)for(var n=c[e].length-1;0<=n;n--)c[e][n]===t&&c[e].splice(n,1)}t.a={sub:r,pub:a,unsub:o}},DmNz:function(e,t,n){"use strict";n.d(t,"d",function(){return u}),n.d(t,"b",function(){return l}),n.d(t,"c",function(){return d}),n.d(t,"a",function(){return p});var r,a=n("f8Ac"),o=n("VI6H"),i=n("2ACu"),c=n("m3ds"),s=[];function u(){return c.a.isChrome&&!c.a.isLark&&Object(o.x)()}function l(){return""}function d(){u()&&(_(),E(),f())}function p(){return new Promise(function(e){r?e(r):s.push(e)})}function _(){var e=document.createElement("link");e.rel="manifest",e.href=Object(a.d)()?"/docs-manifest.webmanifest":"/docs-manifest_en.webmanifest",document.head.append(e)}function E(){navigator.serviceWorker&&navigator.serviceWorker.register("/docs-service-worker.js")}function f(){window.addEventListener("beforeinstallprompt",function(t){Object(i.default)("invoke_pwa_beforeinstallprompt",{exp_groupname:l()}),r=t,s.forEach(function(e){return e(t)}),s=[]},{once:!0}),window.addEventListener("appinstalled",function(e){Object(i.default)("invoke_pwa_appinstalled",{exp_groupname:l()})},{once:!0})}},EAIz:function(e,t,n){"use strict";n.d(t,"a",function(){return p}),n.d(t,"e",function(){return _}),n.d(t,"c",function(){return E}),n.d(t,"d",function(){return f}),n.d(t,"f",function(){return b}),n.d(t,"b",function(){return h});var r=n("o0o1"),a=n.n(r),o=n("lSNA"),i=n.n(o),c=n("yXPU"),s=n.n(c),u=n("iP/4"),l=n("VklI"),d=n("zfY2"),p="JsSDK-Session",_=!/opendoc=true/.test(location.search)&&u.a.isOpendoc,E=function(){var e=s()(a.a.mark(function e(){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=i.a,e.t1={},e.t2=p,e.next=5,h();case 5:return e.t3=e.sent,e.abrupt("return",(0,e.t0)(e.t1,e.t2,e.t3));case 7:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),f=function(){return i()({},p,y())},T="",S=null,m=null,O=null;function b(e){T=e,m&&m(e)}function y(){return T}function h(){return T?Promise.resolve(T):S=S||new Promise(function(t,e){m=function(e){v(),t(e)},O=setTimeout(function(){Object(d.sendOpendocEvent)(l.c.ERROR_CODE,l.b.JSSDK_SESSION_INVALID),Object(l.e)("timeout"),e("get JsSDK-Session timeout")},5e3)})}function v(){O&&clearTimeout(O),m=S=O=null}},EQyw:function(e,u,l){"use strict";(function(e){l.d(u,"a",function(){return i}),l.d(u,"b",function(){return c}),l.d(u,"c",function(){return s});var t=l("QM+C"),n=l("n/R6"),r=l("iP/4"),a=l("skFV"),o=(r.a.isInVC||!r.a.isLark)&&Boolean(Object(a.k)().fileSecureMode);function i(){return o}function c(e){return e===t.NUM_SUITE_TYPE.FILE&&i()}function s(){n.a.info({content:e("common.file_security_restrict_download_action_general_message"),closable:!0,key:"securityRestrictDownload"})}}).call(this,l("2vAP"))},EVKe:function(e,t){e.exports=navigator.cdn_host+"/ccm/pc/web/resource/bear/public/icon_file_sketch_nor.3e99d1d2c8ceaa218411.ico"},Fktw:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r={Box:function(){return Promise.all([n.e("commons--FilePicker--attachment_preview_modal--box-utils-upload-v2--box_index--doc_uploader_delay----afa6617f"),n.e("commons--bitable_utils_async--box_index--file-card--layout_delay--ui-control_modules"),n.e("commons--attachment_preview_modal--box_index--file-card"),n.e("vendors--box_index"),n.e("box_index")]).then(n.bind(null,"bCNb"))},BoxModule:function(){return Promise.all([n.e("commons--FilePicker--attachment_preview_modal--box-utils-upload-v2--box_index--doc_uploader_delay----afa6617f"),n.e("commons--bitable_utils_async--box_index--file-card--layout_delay--ui-control_modules"),n.e("commons--attachment_preview_modal--box_index--file-card"),n.e("vendors--box_index"),n.e("box_index")]).then(n.bind(null,"iJmK"))},Suite:function(){return Promise.all([n.e(10),n.e("commons--suite--suite_for_3rd"),n.e("vendors--suite"),n.e("suite")]).then(n.bind(null,"4c9a"))}}},G6v6:function(e,t){e.exports=navigator.cdn_host+"/ccm/pc/web/resource/bear/public/icon_file_mindnote_nor.907d711a192da1c901b6.ico"},G8X5:function(e,a,o){"use strict";(function(l){var e=o("o0o1"),d=o.n(e),p=o("oZtI"),_=o("MUo5"),E=o("jp/M"),f=o("QM+C"),T=o("4Uab"),S=o("aXiW"),m=o("VI6H"),t=d.a.mark(n),O=d.a.mark(r),b=[f.OWNER_TYPE.DEPARTMENT,f.OWNER_TYPE.WIKI_GROUP,f.OWNER_TYPE.APP];function n(){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(p.takeEvery)(E.actionTypes.permission.UPDATE_USER_PERMISSION_V2_SUCCESS,r);case 2:case"end":return e.stop()}},t)}function r(t){var n,r,a,o,i,c,s,u;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.payload,r=n.notification_id,a=n.owner_type,o=n.not_notify_users,i=b.includes(a),c=!o||0===Object.keys(o).length,s=f.OWNER_TYPE.APP===a,e.next=6,Object(p.call)(T.b,Object.assign({type:E.common.TOAST_TYPE.success,closeAfterCancel:!0,duration:8e3,content:l(s?"CreationDoc_ECM_AppModificationToast":"abtest.permission_toast.changed_successfully")},i||!c?{}:{cancelable:!0,cancelText:Object(m.y)()?l("member.single_product_notity_lark"):l("abtest.permission_toast.send_lark_notification")}));case 6:if(u=e.sent,Object(S.a)("click_alter_collaborate_perm_toast").report({toast:u===T.a.Cancelled?"send":"close"}),u===T.a.Cancelled)return e.next=11,Object(p.put)(Object(_.notifyMemberAfterUpdatePermission)(r));e.next=11;break;case 11:case"end":return e.stop()}},O)}a.a=n}).call(this,o("2vAP"))},GD9D:function(e,t,n){"use strict";var r,a,o=n("JaxG"),i=n("hQ6Y"),c=n("QM+C"),s=n("bSpK");(a=r=r||{}).Base="BITABLE_BASE",a.Table="BITABLE_TABLE";var u=n("5dbN");n.d(t,"a",function(){return _});var l=[i.d];function d(e,t){var n=t.entity;return{type:"",data:{obj_type:p(n.type),token:n.token,operator_id:"",revision:e,type:s.b.OBJ_PERMISSION_CHANGE},token:n.token}}function p(e){switch(e){case r.Base:return c.NUM_SUITE_TYPE.BITABLE;case c.BoxSyncSuiteType:return c.NUM_SUITE_TYPE.FILE;case c.SUITE_ENGINE_TYPE.SLIDE:if(c.ROUTE_NAME.SLIDE===Object(u.getSuiteTypeStr)())return c.NUM_SUITE_TYPE.SLIDE;break;default:return c.mapFileType2TypeNum[e.toLowerCase()]}}function _(e,t){var n=d(e,t);Object(o.c)(l,n)}},GECF:function(e,t,n){"use strict";var r=n("lwsE"),o=n.n(r),a=n("W8MJ"),i=n.n(a),c=n("7EGn"),s=n("2ACu"),u=n("iP/4"),l=n("U6jp"),d=n("7cb0"),p=n("Lg1g"),_=window.lkpDesktopApi||{},E=function(){function e(){o()(this,e),this.prefix="#########lkpapi:#####",this.logEnabled=!0}return i()(e,[{key:"log",value:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this.logEnabled&&(e=console).log.apply(e,[this.prefix].concat(n))}},{key:p.a.updateDocMeRead,value:function(t){if(this.log("call updateDocMeRead invoke",t),_.updateDocMeRead)try{return _.updateDocMeRead(JSON.stringify(t)),this.log("call updateDocMeRead success",t),Promise.resolve()}catch(e){this.log("call updateDocMeRead fail, with error",e,t)}return Promise.reject()}},{key:p.a.groupAnnouncement,value:function(e){var t=e.chatId,n=e.url,r=e.title;return this.log("call notifyAnnouceAndClose invoke",e),_.notifyAnnounceAndClose?(_.notifyAnnounceAndClose(t,n,r),this.log("call notifyAnnouceAndClose Success",e),Promise.resolve()):Promise.reject()}},{key:p.a.closeChatSidebar,value:function(){return this.log("call closeChatSidebar invoke"),_.closeLKPAnnounce?(_.closeLKPAnnounce(),this.log("call notifyAnnouceAndClose Success"),Promise.resolve()):Promise.reject()}}]),e}(),f=function(e,t){var n=new E,r=t.event,a=t.data;return n[r]&&n[r](a)||Promise.resolve(t)},T=5,S=1e3;function m(){return Math.random().toString(36).substr(2)}function O(e){return u.a.isFeed&&!!e.event}var b=null,y=(t.a={getInstance:function(){return b=b||new(u.a.isLKP?h:y)}},function(){function a(){o()(this,a),this.sendedMsgMap=new Map,this.messageTimer=null,this.isInited=!1,this._eventsCollections={};var e=Object(c.default)(window,"LarkExtensionUI.initialize");u.a.isFeed&&e&&this._init(e);var t=window.scm||{},n=t.branch,r=t.version;Object(s.default)("docs_webview_architecture",{arch_version:+this.isSupported,docs_version:"".concat(n,"(").concat(r,")"),lark_version:Object(l.m)()})}return i()(a,[{key:"_init",value:function(e){var n=this;try{e({lifecycle:{onCreate:function(){}},channel:{onMessage:function(e){if(O(e)){var t=n.sendedMsgMap.get(e.id);if(e.id&&t)return n.removeMessage(e.id),void(e.err?t.reject(e.data):t.resolve(e.data));n.emit(e)}else console.error("Received an illegal message",e)}}}),this.isInited=!0}catch(e){console.error("LarkExtensionUI initialize error: ",e)}}},{key:"addMessage",value:function(e,t){this.sendedMsgMap.set(e,t),this.messageTimer||this.startMessageTimer()}},{key:"removeMessage",value:function(e){this.sendedMsgMap.delete(e),0===this.sendedMsgMap.size&&this.stopMessageTimer()}},{key:"startMessageTimer",value:function(){var s=this;this.messageTimer=window.setInterval(function(){var e=Date.now(),t=[],n=!0,r=!1,a=void 0;try{for(var o,i=s.sendedMsgMap[Symbol.iterator]();!(n=(o=i.next()).done);n=!0){var c=o.value;c[1].expireTime<e&&t.push(c[0])}}catch(e){r=!0,a=e}finally{try{n||null==i.return||i.return()}finally{if(r)throw a}}t.forEach(function(e){var t=s.sendedMsgMap.get(e);s.removeMessage(e),t.message.err=!0,t.message.data=new Error("location timeout"),t.reject(t.message)})},S)}},{key:"stopMessageTimer",value:function(){this.messageTimer&&(clearInterval(this.messageTimer),this.messageTimer=null)}},{key:"postMessage",value:function(n){var r=this,a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:T,o=m();n.id=o;var i=Object(c.default)(window,"LarkExtensionUI.channel.postMessage"),e=O(n);return e||console.error("send an illegal message",n),e&&this.isInited&&i?new Promise(function(e,t){try{i(n),r.addMessage(o,{message:n,resolve:e,reject:t,expireTime:Date.now()+1e3*a})}catch(e){return n.err=!0,t(n)}}):(n.err=!0,Promise.reject(n))}},{key:"sendMessage",value:function(e){if(!O(e))return console.error("send an illegal message",e),!1;var t=Object(c.default)(window,"LarkExtensionUI.channel.postMessage");return!(!this.isInited||!t)&&(t(e),!0)}},{key:"emit",value:function(e){var t,n=e.event,r=e.data;n&&(t=this._eventsCollections[n]||[],this._eventsCollections[n]=t.filter(function(e){return Promise.resolve().then(function(){return e&&e(r)}),!!e}))}},{key:"on",value:function(e,t){var n=this._eventsCollections[e]||[];(this._eventsCollections[e]=n).push(t)}},{key:"remove",value:function(e,t){var n=this._eventsCollections[e]||[];this._eventsCollections[e]=n.filter(function(e){return e!==t})}},{key:"isSupported",get:function(){return!Object(c.default)(window,"lark_to_bear_bridge.updateDocMeRead")&&this.isInited&&Object(d.b)(d.a.isEnabledChannelAPI)}}]),a}()),h=function(){function e(){o()(this,e)}return i()(e,[{key:"postMessage",value:function(e,t){return f("postMessage",e)}},{key:"sendMessage",value:function(e){return!0}},{key:"on",value:function(e,t){}},{key:"remove",value:function(e,t){}},{key:"isSupported",get:function(){return!0}}]),e}()},GGX4:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n("AESI");function a(e){return"".concat(r.API_BASE,"/").concat(e)}},GIKb:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n("+mgp"),a=n("rAc3"),o=n("QM+C");function i(e){return e?Object(a.k)(e)?o.EXPLORER_URL_TYPE.V2:o.EXPLORER_URL_TYPE.V1:r.s?o.EXPLORER_URL_TYPE.V2:o.EXPLORER_URL_TYPE.V1}},GIjJ:function(e,t){e.exports=navigator.cdn_host+"/ccm/pc/web/resource/bear/public/icon_file_ae_nor.62036b55cdf893c6e58c.ico"},GoHq:function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"e",function(){return a}),n.d(t,"f",function(){return o}),n.d(t,"b",function(){return c}),n.d(t,"c",function(){return s}),n.d(t,"d",function(){return u});var i=n("jp/M"),r=function(e){var t=e.type,n=e.token,r=e.members,a=e.count;return{type:i.actionTypes.member.ADD_SUITE_MEMBERS,payload:{type:t,token:n,members:r,count:a}}},a=function(e){var t=e.type,n=e.token,r=e.memberInfo;return{type:i.actionTypes.member.UPDATE_SUITE_MEMBER,payload:{type:t,token:n,memberInfo:r}}},o=function(e){var t=e.type,n=e.token,r=e.memberInfoList,a=e.count;return{type:i.actionTypes.member.UPDATE_SUITE_MEMBERS,payload:{type:t,token:n,memberInfoList:r,count:a}}},c=function(e){var t=e.type,n=e.token,r=e.memberIds,a=e.count;return{type:i.actionTypes.member.REMOVE_SUITE_MEMBERS,payload:{type:t,token:n,memberIds:r,count:a}}},s=function(e){var t=e.type,n=e.token,r=e.members,a=e.count,o=void 0===a?0:a;return{type:i.actionTypes.member.RESET_SUITE_MEMBERS,payload:{type:t,token:n,members:r,count:o}}},u=function(e){return{type:i.actionTypes.member.SET_CURRENT_MEMBER_ID,payload:e}}},GvJQ:function(e,t,n){"use strict";n.d(t,"a",function(){return a});n("RIqP");var r=n("5YwY");function a(){Object(r.b)(function(e){0})}},"H+Hj":function(e,t,n){"use strict";n("hphf").a.afterExternal=Date.now()},H0C5:function(e,t,n){"use strict";n.d(t,"e",function(){return d}),n.d(t,"f",function(){return p}),n.d(t,"c",function(){return _}),n.d(t,"a",function(){return f}),n.d(t,"d",function(){return T}),n.d(t,"g",function(){return S}),n.d(t,"k",function(){return m}),n.d(t,"i",function(){return O}),n.d(t,"l",function(){return I}),n.d(t,"h",function(){return C}),n.d(t,"m",function(){return R}),n.d(t,"b",function(){return g}),n.d(t,"n",function(){return k}),n.d(t,"j",function(){return D});var r=n("peh1"),a=n("lgTS"),o=n("y94N"),i=n("02sq"),c=n("ZGZ5"),s=n("m1/u"),u=n("1T6K"),l=function(e){return e.appState.listView},d=function(e){return l(e).listViewSetting},p=function(t){return function(e){return d(e).get(t)}},_=function(t){return function(e){return d(e).getIn([t,"columns"],new a.b)}},E=function(t){return function(e){return d(e).getIn([t,"ordering"],new a.g)}},f=function(t){return function(e){return d(e).getIn([t,"filtering"],new a.c)}},T=function(t){return function(e){return d(e).getIn([t,"viewMode"],o.x.List)}},S=function(t){return function(e){return d(e).getIn([t,"viewTab"],"")}},m=function(e){return l(e).recentListViewSetting},O=function(e){return m(e).ordering},b={rank:null,asc:null},y=[u.PATH.ME,u.PATH.QUICKACCESS,u.PATH.FAVORITES,u.PATH.FOLDER,u.PATH.SHARE_FOLDERS,u.PATH.STORAGE],h=function(e){return Object(r.createSelector)(s.g,f(e),function(e,t){var n=Object(i.h)(t),r=e.get("path");return y.includes(r)?n:Object.assign({},n,{},i.c)})},v=function(t){return Object(r.createSelector)(E(t),function(e){return null===e?b:Object(i.i)(e,t)})},I=function(e){return Object(r.createSelector)(h(e),v(e),function(e,t){return Object(i.n)(Object.assign({},e,{},t))})},C=Object(r.createSelector)(v(o.p.MyFolder),function(e){return Object(i.n)(Object.assign({},e))}),R=Object(r.createSelector)(v(o.p.SharedFolder),function(e){return Object(i.n)(Object.assign({},e))}),g=Object(r.createSelector)(v(o.p.Folder),function(e){return Object(i.n)(Object.assign({},e))}),k=Object(r.createSelector)(v(o.p.TeamSpace),function(e){return Object(i.n)(Object.assign({},e))}),D=Object(r.createSelector)(m,c.a,function(e,t){var n=e.fileType,r=e.owner,a=e.ordering;return Object(i.n)(Object.assign({},Object(i.g)(n),{},Object(i.e)(r,t.get("id")||window.User.id),{rank:a}))})},H402:function(e,t,n){"use strict";n.d(t,"a",function(){return g}),n.d(t,"b",function(){return k});var r=n("QILm"),E=n.n(r),a=n("lwsE"),o=n.n(a),i=n("a1gu"),c=n.n(i),s=n("Nsbk"),u=n.n(s),l=n("PJYZ"),d=n.n(l),p=n("7W2i"),_=n.n(p),f=n("oShl"),T=n.n(f),S=n("vYB2"),m=n.n(S),O=n("7EGn"),b=n("fujP"),y=n("ahx2"),h=n("8Ewy"),v=n("QM+C"),I=n("bL6Q"),C=function(e){function n(e){var t;return o()(this,n),t=c()(this,u()(n).call(this,e.msg||"RequestError")),Object.assign(d()(t),e),t}return _()(n,e),n}(T()(Error));function R(e){return e.code===y.STATUS_CODE.TIMEOUT&&"string"==typeof e.message&&-1<e.message.indexOf("timeout")}function g(e){var t=e.data,n=t.code,r=t.msg,a=new Error(r);return a.code=n,a.config=e.config,a.request=e.request,a.response=e,a}function k(e,t){var n,r,a,o,i,c,s,u,l,d,p,_;return Object(O.default)(e,"response.data.code")!==y.STATUS_CODE.LOGIN_REQUIRED||v.isAnonymousAccess?(_=m.a.isCancel(e)?new C({code:y.STATUS_CODE.CONNECT_ABORT,msg:e.message,config:t,isCancel:!0,stack:e.stack,originalError:e}):e.response?(n="response.data.",r=Object(O.default)(e,n+"code"),a=Object(O.default)(e,n+"data"),o=Object(O.default)(e,n+"meta",{}),i=r||y.STATUS_CODE.REQUEST_BIZ_ERROR,c=e.message||"REQUEST_BIZ_ERROR",(u=e.response.data).data,u.code,u.msg,u.meta,l=E()(u,["data","code","msg","meta"]),Object(b.default)(l)||(s=l),d=a?{data:a}:{},p=s?Object.assign({},s,{},d):d.data,new C({code:i,msg:c,meta:o,data:p,config:e.response.config,headers:e.response.headers,request:e.response.request,stack:e.stack,originalError:e})):e.request?new C({code:R(e)?y.STATUS_CODE.TIMEOUT:y.STATUS_CODE.CONNECT_ERROR,msg:e.message,config:e.config,request:e.request,stack:e.stack,isTimeout:R(e),originalError:e}):new C({code:y.STATUS_CODE.JS_INTERNAL_ERROR,msg:"JS internal error, check the code",isInternal:!0,config:t,stack:e.stack,originalError:e}),Object(h.b)(_),Promise.reject(_)):(Object(I.a)(e.response),Promise.reject(new Error("login required!")))}},HIeq:function(e,t,n){"use strict";n.d(t,"i",function(){return l}),n.d(t,"b",function(){return p}),n.d(t,"e",function(){return _}),n.d(t,"d",function(){return E}),n.d(t,"a",function(){return f}),n.d(t,"c",function(){return T}),n.d(t,"f",function(){return S}),n.d(t,"g",function(){return m}),n.d(t,"h",function(){return O});var r=n("dtwz"),a=n("hMnB"),o=n.n(a),i=n("nN3d"),c=n("lQZd"),s=function(t){return function(e){return e&&e.plugins&&e.plugins[t]}},u=function(t){return function(e){return e&&e[t]}},l=function(e,t,n){return Object(r.a)(s(t),u(n))(e)},d=0;function p(){return d++,Object(i.c)(6)+"-"+d}function _(){return window.bestPracticeToken||(o.a.pathname?Object(c.g)():"")}function E(){return window.User?window.User.id:"unknown"}function f(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})}function T(){return Object(i.c)(8)}function S(e){return e&&(e.tagName||"").toLowerCase()}function m(e){var t=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],n=1024;if(Math.abs(e)<n)return e+" B";for(var r=["KB","MB","GB","TB","P","E","Z","Y"],a=-1;Math.abs(e)>=n&&a<r.length;)e/=n,++a;return t?e.toFixed(2)+r[a]:Math.floor(e)+r[a]}function O(e){var t=(new DOMParser).parseFromString(e,"text/html");return Array.from(t.body.childNodes).some(function(e){return 1===e.nodeType})}},Hv6m:function(e,c,s){"use strict";(function(t){s.d(c,"a",function(){return e}),s.d(c,"c",function(){return o}),s.d(c,"b",function(){return i});var n=s("jp/M"),r=new RegExp(/_FAIL$/),a=new RegExp(/_SUCCESS$/),e=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:t("action.successfully_redo");return{type:n.actionTypes.toast.TOAST_SHOW,toastConfig:{type:"success",content:e}}};function o(e){return"function"!=typeof e&&a.test(e.type)}function i(e){return"function"!=typeof e&&r.test(e.type)}}).call(this,s("2vAP"))},HvQa:function(e,t,n){"use strict";n.d(t,"c",function(){return a}),n.d(t,"a",function(){return o}),n.d(t,"b",function(){return i});var r=n("O7eI"),a=function(e,t){return{type:r.a.common.UPDATE_BUSINESS_STAGE,payload:{business:e,stage:t}}},o=function(e,t){return{type:r.a.common.RESET_BUSINESS_STAGE,payload:{toInit:e,toClear:t}}},i=function(e){return{type:r.a.common.TIMEOUT_BUSINESS_STAGE,payload:e}}},I1f5:function(e,H,B){"use strict";B.r(H),function(e){B.d(H,"OBJ_TYPE",function(){return t}),B.d(H,"RECENT_TYPE",function(){return r}),B.d(H,"SORT_RULE",function(){return o}),B.d(H,"SearchListItemType",function(){return c}),B.d(H,"OBJ_ALL_RECENT_MODE",function(){return b}),B.d(H,"OBJ_ALL",function(){return y}),B.d(H,"LIST_TYPE",function(){return l}),B.d(H,"OPEN_TIME",function(){return p}),B.d(H,"FILE_TYPE_NUM",function(){return E}),B.d(H,"CANDIDATES_TYPE_NUM",function(){return T}),B.d(H,"DEPARTMENT_TYPE_NUM",function(){return m}),B.d(H,"mapNumToFileType",function(){return I}),B.d(H,"ADVANCED_SEARCH_LOAD_TYPE",function(){return h}),B.d(H,"getGroup",function(){return L}),B.d(H,"openTimeChoices",function(){return M}),B.d(H,"ALL_WIKI_SPACE_ID",function(){return x}),B.d(H,"searchInWikiSpaces",function(){return F}),B.d(H,"RankType",function(){return C}),B.d(H,"FILTER",function(){return g}),B.d(H,"SEARCH_SOURCE",function(){return D});var t,n,r,a,o,i,c,s,u=B("QM+C");(n=t=t||{})[n.ALL=10]="ALL",n[n.FOLDER=u.NUM_FILE_TYPE.FOLDER]="FOLDER",n[n.DOC=u.NUM_FILE_TYPE.DOC]="DOC",n[n.SHEET=u.NUM_FILE_TYPE.SHEET]="SHEET",n[n.BITABLE=u.NUM_FILE_TYPE.BITABLE]="BITABLE",n[n.MINDNOTE=u.NUM_FILE_TYPE.MINDNOTE]="MINDNOTE",n[n.FILE=u.NUM_FILE_TYPE.FILE]="FILE",n[n.SLIDE=u.NUM_FILE_TYPE.SLIDE]="SLIDE",n[n.WIKI=u.NUM_FILE_TYPE.WIKI]="WIKI",(a=r=r||{})[a.OPENED=0]="OPENED",a[a.MODIFIED=1]="MODIFIED",(i=o=o||{})[i.RECENT_OPENED=1]="RECENT_OPENED",i[i.RECENT_MODIFIED=2]="RECENT_MODIFIED",i[i.RECENT_RELEVANT_OPENED=3]="RECENT_RELEVANT_OPENED",i[i.RECENT_RELEVANT_MODIFIED=4]="RECENT_RELEVANT_MODIFIED",(s=c=c||{}).HistoryItem="history-item",s.SearchItem="search-item",s.AdvancedSearch="advanced-search",s.SectionHeader="section-header",s.Divider="divider",s.RecommendItem="recommend-item";var l,d,p,_,E,f,T,S,m,O,b=[t.DOC,t.SHEET,t.BITABLE,t.MINDNOTE,t.FILE,t.SLIDE],y=[].concat(b,[t.FOLDER]);(d=l=l||{}).SEARCH="SEARCH",d.RECENT="RECENT",(_=p=p||{}).PAST_DAY="last_day",_.PAST_WEEK="last_week",_.PAST_MONTH="last_month",_.PAST_QUARTER="last_quarter",_.ALL="",(f=E=E||{}).FOLDER="1",f.VIDEO="2",f.AUDIO="3",f.IMAGE="4",f.PDF="5",f.OTHER="99",(S=T=T||{}).NO_USER="0",S.USERS="1",S.TALKED_USERS="2",S.CHAT="3",S.GROUP_CHAT="5",(O=m=m||{}).NO_DEPARTMENT="0",O.DEPARTMENT="1";var h,v,I=function(e){switch(e){case E.FOLDER:return"folder";case E.VIDEO:return"video";case E.AUDIO:return"audio";case E.IMAGE:return"image";case E.PDF:return"pdf";case E.OTHER:return"other";default:return""}};(v=h=h||{}).LOAD_MORE="loadmore",v.NORMAL="normal",v.LOAD_RELEVANT="load_relevant",v.LOAD_RELEVANT_MORE="load_relevant_more";var C,R,g,k,D,j,L=function(e){switch(e){case t.ALL:return"all";case t.DOC:return"doc";case t.SHEET:return"sheet";case t.MINDNOTE:return"mindnote";case t.BITABLE:return"bitable";case t.FOLDER:return"folder";case t.FILE:return"file";default:return""}},w=e("search.past_day"),N=e("search.past_week"),U=e("search.past_month"),P=e("search.past_quarter"),M=[{text:w,key:p.PAST_DAY},{text:N,key:p.PAST_WEEK},{text:U,key:p.PAST_MONTH},{text:P,key:p.PAST_QUARTER}],x="-1",F={id:x,name:e("search.wiki_space.all_wiki_space"),desc:""};(R=C=C||{})[R.CreatedTime=3]="CreatedTime",R[R.OpenedTime=6]="OpenedTime",R[R.EditedTime=7]="EditedTime",R[R.AllTime=8]="AllTime",(k=g=g||{}).CURRENT_SEARCH_CHATS="currentSearchChats",k.CURRENT_SEARCH_USERS="currentSearchUsers",k.CURRENT_SEARCH_WIKI_SPACE="currentSearchWikiSpace",k.CURRENT_SEARCH_FOLDER="currentSearchFolder",(j=D=D||{}).INPUT="search",j.CORRECTION="correction",j.SUGGESTION="completion"}.call(this,B("2vAP"))},IQB2:function(e,t,n){"use strict";var r=new Map,a={set:function(e,t){r.clear(),r.set(e,t)},get:function(e){return r.get(e)||null},delete:function(e){r.delete(e)}};t.a=a},Ig2Q:function(e,f,T){"use strict";(function(e){T.d(f,"b",function(){return s}),T.d(f,"c",function(){return u}),T.d(f,"a",function(){return E});var t=T("Dpjh"),n=T("q1tI"),r=T.n(n),a=T("iP/4"),o=T("9+L6"),i=T("2ACu"),c={primaryChrome:58,edge:15.15063,sougou:0,qq:9.6,360:0,"360Fast":0,safari:12.1},s=function(){return!a.a.isIECompatibleMode&&(a.a.isPrimaryChrome||a.a.isEdge||a.a.isSougou||a.a.isQQ||a.a.is360||a.a.is360Fast||a.a.isSafari||a.a.isIPad)},u=function(){var e=parseFloat(String(a.a.version));return!!a.a.isIPad||e&&(a.a.isPrimaryChrome&&e>=c.primaryChrome||a.a.isEdge&&e>=c.edge||a.a.isSougou&&e>=c.sougou||a.a.isQQ&&e>=c.qq||a.a.is360&&e>=c[360]||a.a.is360Fast&&e>=c["360Fast"]||a.a.isSafari&&e>=c.safari)},l='<span class="link">\n                        <a href="'.concat(o.o,'" target="_blank">\n                          ').concat(Object(t.a)(e("guide.help_doc")),"\n                        </a>\n                      </span>");function d(e){var t="";switch(e){case"UnSupportBrowser":t="banner_not_supported";break;case"UnSupportVersion":t="banner_low_version"}Object(i.default)("click_help_center",{action:"click",source:t})}var p=function(){return r.a.createElement("span",{className:"text",onClick:function(){return d("UnSupportBrowser")},dangerouslySetInnerHTML:{__html:e("CreationDoc_Docs_UnsupportedBrowser_Toast",l)}})},_=function(){return r.a.createElement("span",{className:"text",onClick:function(){return d("UnSupportVersion")},dangerouslySetInnerHTML:{__html:e("CreationDoc_Docs_LowBrowserVersion_Toast",l)}})};function E(){var e=s(),t=u();return e&&t?null:(Object(i.default)("browser_tips",{browser_name:a.a.name,browser_version:String(a.a.version),tips_type:e?"banner_low_version":"banner_not_supported"}),e?r.a.createElement(_,null):r.a.createElement(p,null))}}).call(this,T("2vAP"))},JC8k:function(e,t,n){"use strict";function r(e){var t=String(e).split(".");return 1<t.length&&t.pop(),t.join(".")}function a(e){var t=String(e).split(".").pop();return t&&t!==e?t.toLowerCase():""}n.d(t,"b",function(){return r}),n.d(t,"a",function(){return a})},JG4O:function(e,t,n){"use strict";n.d(t,"b",function(){return c}),n.d(t,"a",function(){return s});var r=n("Qyje"),a=n.n(r),o=n("7EGn"),i=n("6LIB");function c(e){return a.a.stringify(e,{arrayFormat:"repeat"})}function s(e){return"application/json"!==Object(o.default)(e,["headers","Content-Type"])&&"post"===e.method&&Object(i.a)(e.data)?a.a.stringify(e.data,{arrayFormat:"repeat"}):e.data}},JOI2:function(e,t,n){},JaxG:function(e,t,n){"use strict";var r=n("lwsE"),a=n.n(r),o=n("W8MJ"),i=n.n(o),c=n("TGBA"),s=n("D7h9"),u=n("5gS9");function l(e){return u.b.getInstance({})}function d(e){return void 0===e&&(e=s.default),e.getState()}function p(e,t){return void 0===t&&(t=s.default),t.dispatch(e)}function _(e){return e.data}function E(){return{getIOInstance:l,dispatch:p,getReduxState:d,getMsgData:_}}function f(e,r){e.forEach(function(e){var t=e.validator,n=e.handler;!0===t(r)&&"function"==typeof n&&n(r)})}var T=n("bSpK"),S=n("hQ6Y"),m=[S.c,S.d,S.e,S.b],O=null,b=function(){function t(){var e=this;a()(this,t),this.entity={type:"global",token:"permission"},this.allowedTypes=Object(c.a)(T.a),this.validator=function(t){return t.type?e.allowedTypes.some(function(e){return e===t.type}):(console.warn("Message must have a type"),!1)},this.handleMessageFromServer=function(e){f(m,e)},this.io=l(),this.io.register(this.entity,{message:{handler:this.handleMessageFromServer,filter:this.validator},acceptWatchHandler:function(e){console.log("[io_sync]: permission watch accept",e)}})}return i()(t,[{key:"destory",value:function(){this.io&&(this.io.unRegister(this.entity),this.io.closeChannel(),this.io=null)}}],[{key:"init",value:function(){return null===O&&(O=new t),O}},{key:"destory",value:function(){O&&O.destory()}}]),t}(),y=n("lSNA"),h=n.n(y),v=n("GD9D");function I(){var e={interval:1,callback:function(e,t,n){console.warn(e,t),e<=t||0!==t&&Object(v.a)(e,n)}};return h()({},S.a,e)}n.d(t,"e",function(){return E}),n.d(t,"c",function(){return f}),n.d(t,"d",function(){return I}),n.d(t,"a",function(){return T.b});t.b=b},JgWU:function(e,t,n){"use strict";n.d(t,"c",function(){return r}),n.d(t,"b",function(){return a}),n.d(t,"a",function(){return o});var r="ADD_USER_WHEN_FETCH_SUCCESS",a="ADD_USER_WHEN_FETCH_FAIL",o="ADD_USER"},Jisn:function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return a}),n.d(t,"d",function(){return o}),n.d(t,"f",function(){return i}),n.d(t,"c",function(){return c}),n.d(t,"e",function(){return s});var r="gstOpen",a="hlKey",o=function(e){return e.get(a,"")},i=function(e){return"1"===e.get(r,"")},c="fromTtSwitch",s=function(e){return"1"===e.get(c,"")}},JpHS:function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"c",function(){return i}),n.d(t,"d",function(){return c}),n.d(t,"b",function(){return s});var r,a,o=n("2ACu");(a=r=r||{}).Share_Menu_Open="Share_Menu_Open",a.Invite_Member="Invite_Member";var i={shareMenuOpenStartTime:-1,inviteMemberStartTime:-1};function c(){i.shareMenuOpenStartTime=Date.now()}function s(e){Object(o.default)("perm_performance_stage",Object.assign({},e))}},K4n4:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r,a=n("lSNA"),o=n.n(a),i=n("R/2b"),c=(r={},o()(r,i.b.Doc,{timeout:2e4,endStage:[i.c.Done],shouldAutoInitOnLocationChange:function(e){return e.isDoc||e.isWikiIndex&&!e.isWikiSpaceSetting},autoUpdateRules:[{when:[i.c.CommentRendered,i.c.SectionNavRendered],update:{business:i.b.Doc,stage:i.c.Done}},{when:[i.c.Done],update:{business:i.b.Wiki,stage:i.g.Done}}]}),o()(r,i.b.Sheet,{timeout:3e4,endStage:[i.e.Done],shouldAutoInitOnLocationChange:function(e){return e.isSheet}}),o()(r,i.b.Slide,{timeout:3e4,endStage:[i.f.Done],shouldAutoInitOnLocationChange:function(e){return e.isSlide}}),o()(r,i.b.Box,{timeout:2e4,endStage:[i.a.Done],shouldAutoInitOnLocationChange:function(e){return e.isFile}}),o()(r,i.b.Wiki,{timeout:2e4,endStage:[i.g.Done],shouldAutoInitOnLocationChange:function(e){return e.isWikiIndex&&!e.isWikiSpaceSetting}}),r)},KNY2:function(e,t,n){"use strict";n.d(t,"f",function(){return i}),n.d(t,"b",function(){return c}),n.d(t,"a",function(){return s}),n.d(t,"e",function(){return u}),n.d(t,"c",function(){return l}),n.d(t,"d",function(){return d});var r=n("2ACu"),a={MENTION_SHOW_AUTHORIZATION_POPOVER:"mention_show_authorization_popover",MENTION_AUTHORIZATION_OK:"mention_authorization_ok",MENTION_AUTHORIZATION_CANCEL:"mention_authorization_cancel",PROFILE_CLICK_AUTHORIZATION:"profile_click_authorization",PROFILE_CLICK_ASK_OWNER:"profile_click_ask_owner",PROFILE_AUTHORIZATION_FAILED:"profile_authorization_failed"},o=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};Object(r.default)(e,Object.assign({},t||{}))},i=function(e){o(a.MENTION_SHOW_AUTHORIZATION_POPOVER,e)},c=function(e){o(a.MENTION_AUTHORIZATION_OK,e)},s=function(e){o(a.MENTION_AUTHORIZATION_CANCEL,e)},u=function(e){o(a.PROFILE_CLICK_AUTHORIZATION,e)},l=function(e){o(a.PROFILE_CLICK_ASK_OWNER,e)},d=function(e){o(a.PROFILE_AUTHORIZATION_FAILED,e)}},KSIa:function(e,t,n){"use strict";n.d(t,"c",function(){return o}),n.d(t,"f",function(){return i}),n.d(t,"e",function(){return c}),n.d(t,"b",function(){return u}),n.d(t,"d",function(){return d}),n.d(t,"a",function(){return y});var p=n("Mpt7"),r=n("peh1"),_=n("QM+C"),E=n("yiFV"),f=n("5cZX"),T=n("aR0j"),S=n("7ip5"),a=n("IyQe"),m=n("CIP7"),O=n("rAc3"),b=n("ZGZ5"),o=function(e){var t=Object(T.qb)(e);if(!t||!_.folderType.includes(t.type))return null;var n=Object(T.y)(e).get(t.token);if(!n)return null;var r,a,o,i,c,s,u,l=Object(O.i)(n),d=Object(O.a)(n)||Object(O.e)(n)&&Object(m.d)()?(l?void 0===(r=Object(f.pb)(e).getIn(["".concat(t.type,":").concat(t.token),"permission"]))&&(r=Object(p.fromJS)({})):r=Object(p.fromJS)({role:S.e.manager,invite:!0}),Object(p.fromJS)({}).merge(n).set("rolePermission",r)):Object(O.k)(n)?(l?(a=n.get("token"),void 0===(o=Object(f.z)(e).getIn([a,"authorizedMembers"]))&&(o=Object(p.fromJS)([]))):(i=Object(b.a)(e),o=Object(p.fromJS)([{owner_id:i.get("id"),owner_type:0,owner_name:i.get("name"),avatar_url:i.get("avatar_url"),is_owner:!0}])),Object(p.fromJS)({}).merge(n).set("authorizedMembers",o)):(l?(c=n.get(E.SPACE_ID),void 0===(s=Object(f.ob)(e).getIn([c,"authorizedMembers"]))&&(s=Object(p.fromJS)([]))):(u=Object(b.a)(e),s=Object(p.fromJS)([{owner_id:u.get("id"),owner_type:0,owner_name:u.get("name"),avatar_url:u.get("avatar_url"),is_owner:!0}])),Object(p.fromJS)({}).merge(n).set("authorizedMembers",s));return d},i=Object(r.createSelector)(o,function(e){return e?e.get("token",""):""}),c=Object(r.createSelector)(o,function(e){return e?e.get("space_id",""):""}),s=(Object(r.createSelector)(o,function(e){return e?e.get("type",null):null}),Object(p.Map)({})),u=Object(r.createSelector)(T.y,T.m,T.r,function(t,e,n){var r=t.get(e);if(r&&r.get(E.SHARE_ROOT))return r;if(n&&n.first()===E.FAKE_SHARE_FOLDER_TOKEN){var a=n.get(1),o=t.get(a);if(o)return o}var i=n.findIndex(function(e){return t.getIn([e,E.SHARE_ROOT])});if(-1===i)return s;var c=n.get(i);return t.get(c)}),l=function(e){return Object(r.createSelector)(e,f.pb,function(e,t){var n=Object(p.Map)();return e&&Object(O.a)(e)&&Object(a.getRolePermission)(t,e.token,e.type)||n})},d=l(T.pb),y=l(T.q)},KrGf:function(e,t,n){"use strict";n.d(t,"b",function(){return d}),n.d(t,"c",function(){return p}),n.d(t,"a",function(){return _}),n.d(t,"d",function(){return E});var r=n("7EGn"),a=n("X6at"),o=n("jp/M"),i=n("FnDM"),c=n("s+vT"),s=n("toa8"),u=Object(a.b)((new Date).valueOf()),l=1;function d(){return Object(r.default)(window,"anonymousAccess.isAnonymousAccess",!1)}function p(){return Object(r.default)(window,"anonymousAccess.isSingleProductOwner",!1)}function _(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};return s.d.post(o.apiUrls.POST_ANONYMOUS_MESSAGE,Object.assign({type:e,version:2,data:{member_id:u,token:t,type:"CLIENT_VARS",user_ticket:""},req_id:l++,context:{os:Object(i.k)(),app_version:Object(i.b)(),os_version:Object(i.l)(),platform:Object(i.p)(),request_id:Object(c.a)()}},n),{headers:{"Content-Type":"application/json"},params:{token:t}})}var E=function(e){return s.d.post(o.apiUrls.VERIFY_USER_TOKEN,{},{headers:{"X-Verify-Token":e}})}},"L+43":function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r={NAVIGATION_BAR_SUCCESS:1,BOX_RIGHT_BAR_SUCCESS:2,PREVIEW_BOX_SUCCESS:3}},LPA4:function(e,t,n){"use strict";n.d(t,"b",function(){return s}),n.d(t,"a",function(){return u});var r=n("o0o1"),a=n.n(r),o=n("oZtI"),i=n("SebV"),c=a.a.mark(u),s=function(t){return a.a.mark(function e(){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(o.call)(t);case 3:e.next=9;break;case 5:e.prev=5,e.t0=e.catch(0),console.error("Worker saga failed:",e.t0),Object(i.a)(e.t0);case 9:case"end":return e.stop()}},e,null,[[0,5]])})};function u(t,n){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(o.all)(t.map(function(t){return Object(o.spawn)(a.a.mark(function e(){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=1,e.next=4,Object(o.call)(t);case 4:return e.abrupt("break",13);case 7:e.prev=7,e.t0=e.catch(1),console.error(e.t0),n&&n(e.t0);case 11:e.next=0;break;case 13:case"end":return e.stop()}},e,null,[[1,7]])}))}));case 2:case"end":return e.stop()}},c)}},LZKS:function(e,t,n){},Lg1g:function(e,t,n){"use strict";var r,a;n.d(t,"a",function(){return r}),(a=r=r||{}).translateState="translateState",a.openImgViewer="openImgViewer",a.updateDocMeRead="updateDocMeRead",a.isMisspelled="isMisspelled",a.getCorrectionsForMisspelling="getCorrectionsForMisspelling",a.pushAnnouncementThumbUrl="pushAnnouncementThumbUrl",a.announcementVerifyStatus="announcement_verify_status",a.toggleDoneInbox="toggleDoneInbox",a.updateDocFeedRemind="updateDocFeedRemind",a.updateFeedCardShortcut="updateFeedCardShortcut",a.pushMeetingNoteThumbUrl="shareToChats",a.groupAnnouncement="groupAnnouncement",a.heartbeat="heartbeat",a.saveDocDraft="saveDocDraft",a.deleteDocDraft="deleteDocDraft",a.getDocDraft="getDocDraft",a.removeFeed="removeFeed",a.updateDocMessageBadge="updateDocMessageBadge",a.closeChatSidebar="closeChatSidebar",a.updateMonitorStatus="updateMonitorStatus"},LghI:function(e,t,n){"use strict";var r=n("WQFp"),d=n("7EGn"),p=(n("fQzm"),n("2ACu")),_=n("FnDM"),a=n("GECF"),o=(n("Lg1g"),n("2Vt3"));a.a.getInstance();n("o0o1");var i=n("RIqP"),E=n.n(i);n("yXPU"),n("U6jp");function c(e){var t=e.fn,n=e.args,r=void 0===n?[]:n,a=e.eventName,o=void 0===a?"call_lark":a,i=e.eventOptions,c=void 0===i?{}:i,s=e.callback,u=Object(d.default)(window,"lark_to_bear_bridge.".concat(t));if(!u)return!1;var l=u.apply(void 0,E()(r));return Object(p.default)(o,Object.assign({interactor:"lark",caller:Object(_.i)().module,interface_name:t},c)),s&&s(l),!0}function s(){c({fn:"notifyFirstTimeToEdit"})}function u(){return c({fn:"hideLoading"})}function l(e){return c({fn:"handleKeyDown",args:[e]})}function f(){c({fn:"docLoadComplete"})}n.d(t,"e",function(){return r.a}),n.d(t,"h",function(){return s}),n.d(t,"c",function(){return u}),n.d(t,"b",function(){return l}),n.d(t,"f",function(){return f}),n.d(t,"a",function(){return o.c}),n.d(t,"g",function(){return o.g}),n.d(t,"d",function(){return o.f})},"M/IZ":function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r={SET_LIST_VIEW_SETTING:"SET_LIST_VIEW_SETTING",SET_LIST_VIEW_MODE:"SET_LIST_VIEW_MODE",SET_LIST_VIEW_TAB:"SET_LIST_VIEW_TAB",SET_LIST_VIEW_COLUMNS:"SET_LIST_VIEW_COLUMNS",CLICK_META_MENU_ITEM:"CLICK_META_MENU_ITEM",SET_LIST_VIEW_FILTERING_SETTING:"SET_LIST_VIEW_FILTERING_SETTING",SET_LIST_VIEW_ORDERING_SETTING:"SET_LIST_VIEW_ORDERING_SETTING",SET_RECENT_LIST_VIEW_ORDERING_SETTING:"SET_RECENT_LIST_VIEW_ORDERING_SETTING",SET_RECENT_LIST_VIEW_FILTER_TYPE:"SET_RECENT_LIST_VIEW_FILTER_TYPE",SET_RECENT_LIST_VIEW_SETTING:"SET_RECENT_LIST_VIEW_SETTING"}},MJFi:function(e,t){e.exports=navigator.cdn_host+"/ccm/pc/web/resource/bear/public/feishu-space.0dc72fc25722698fbc4a.ico"},MLbx:function(e,t,r){"use strict";r.d(t,"a",function(){return s});var n=r("o0o1"),a=r.n(n),o=r("yXPU"),i=r.n(o),c=r("D7h9");function s(){return u.apply(this,arguments)}function u(){return(u=i()(a.a.mark(function e(){var t,n;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([r.e("commons--PCDocSheetBridge--bear-bitable-external--bear-external--bear-sheet-external--btn_groups--d--dba25785"),r.e("commons--FilePicker--attachment_preview_modal--box-utils-upload-v2--box_index--doc_uploader_delay----afa6617f"),r.e("commons--create_by_template_modal--create_by_template_modal_new_layout--create_team_space_modal--ex--a373becd"),r.e("commons--box-utils-upload-v2--box_right_bar--doc_uploader_delay--lark-upload-progress-viewer--nativ--93a0e733"),r.e("commons--bitable_utils_async--box_index--file-card--layout_delay--ui-control_modules"),r.e("ui-control_modules")]).then(r.bind(null,"to9o"));case 2:return t=e.sent,n=t.getUiControlModule(),e.abrupt("return",c.default.addModule(n));case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}},MNrK:function(e,t,n){"use strict";n.d(t,"a",function(){return O});var r=n("o0o1"),s=n.n(r),a=n("yXPU"),o=n.n(a),u=n("7EGn"),l=n("L9Vw"),i=n("rLED"),d=n("TtEC"),c=n("VIFs"),p=n("26fd"),_=n.n(p),E=n("2ACu"),f=n("Zfeu");function T(){return Object(u.default)(window,"scm.version","0")}function S(){return Object(c.getDomainConfig)("secLink").appId}function m(){var e=Object(c.getDomainConfig)("domain");return"https://".concat(e.setting)}function O(){return b.apply(this,arguments)}function b(){return(b=o()(s.a.mark(function e(){var t,n,r,a,o,i,c;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(t=new _.a).init({version:Object(f.a)(T()),app_id:S(),domain:m(),platform:"web"}),e.next=5,t.getSettings();case 5:if(n=e.sent,r=Object(u.default)(n,"biz_domain_config.suite_security_link.0",""),a=Object(u.default)(n,"domain_manage_policy.sec_link_whitelist",[]),n&&r){e.next=12;break}return Object(E.default)("secure_link_config_error",{source:"empty_config"}),l.config({enable:!1}),e.abrupt("return");case 12:o="https://".concat(r,"/link/safety"),i=d.j,c=[y],l.config({enable:i,baseUrl:o,whiteList:a,interceptors:c}),e.next=23;break;case 18:e.prev=18,e.t0=e.catch(0),console.error("配置安全链接失败",e.t0),Object(E.default)("secure_link_config_error",{source:"request_failed"}),l.config({enable:!1});case 23:case"end":return e.stop()}},e,null,[[0,18]])}))).apply(this,arguments)}function y(e){return v(e)?I(e):null}var h=["https://wiki.bytedance.net/pages/viewpage.action"];function v(e){if(!Object(i.I)("wiki_jump_link_enable"))return!1;if("string"!=typeof e||!e)return!1;var t="https://"+e.replace(/^(https?:)?\/\//,"");return h.some(function(e){return t.startsWith(e)})}function I(e){var t="https://"+e.replace(/^(https?:)?\/\//,""),n=Object(c.prependAPI)("/api/parser/wiki/redirect_new_wiki/");return"".concat(n,"?old_url=").concat(encodeURIComponent(t))}},MUo5:function(e,t,n){"use strict";n.r(t),n.d(t,"updateAuthorizedMembers",function(){return l}),n.d(t,"fetchAuthorizedMembers",function(){return S}),n.d(t,"fetchAuthorizedMembersV2",function(){return m}),n.d(t,"fetchAuthorizedMembersCount",function(){return O}),n.d(t,"fetchAuthorizedRoleMembers",function(){return b}),n.d(t,"fetchAuthorizedRoleUser",function(){return y}),n.d(t,"fetchAuthorizedRoleUsers",function(){return h}),n.d(t,"fetchFolderInfoRole",function(){return v}),n.d(t,"setFolderInfoRole",function(){return I}),n.d(t,"addRoleToFolder",function(){return C}),n.d(t,"updateRoleFromFolder",function(){return R}),n.d(t,"deleteRoleFromFolder",function(){return g}),n.d(t,"fetchSuitePublicPermission",function(){return k}),n.d(t,"fetchUserPermissionOnSuite",function(){return D}),n.d(t,"setUserPermissionFromClientVars",function(){return j}),n.d(t,"fetchAllPermissionInfo",function(){return L}),n.d(t,"updateMemberPermission",function(){return w}),n.d(t,"setSuitePublicPermission",function(){return N}),n.d(t,"setSuitePublicPermissionState",function(){return U}),n.d(t,"removeAuthorizedMember",function(){return P}),n.d(t,"bulkSetUserPermission",function(){return M}),n.d(t,"fetchShareFolderMembers",function(){return x}),n.d(t,"fetchShareFolderSetting",function(){return F}),n.d(t,"updateShareSpaceSetting",function(){return H}),n.d(t,"fetchUserPermissionOnShareSpace",function(){return B}),n.d(t,"addMembersToFolder",function(){return K}),n.d(t,"removeMemberFromFolder",function(){return W}),n.d(t,"sendSuitePermissionRequest",function(){return V}),n.d(t,"sendSuiteParentPermissionRequest",function(){return Y}),n.d(t,"transferSuiteOwner",function(){return Q}),n.d(t,"universalTransferOwner",function(){return J}),n.d(t,"addPermission",function(){return q}),n.d(t,"sendFolderPermissionRequest",function(){return z}),n.d(t,"setEditMode",function(){return X}),n.d(t,"setIsDocLockedByPlugin",function(){return Z}),n.d(t,"updateMemberPermissionV2",function(){return $}),n.d(t,"notifyMemberAfterUpdatePermission",function(){return ee}),n.d(t,"withdrawPermissionNotification",function(){return te}),n.d(t,"fetchAuthorizedUsers",function(){return ne}),n.d(t,"removeAuthorizedUsers",function(){return re}),n.d(t,"setUserPermissionError",function(){return ae}),n.d(t,"fetchEmbedObjectPermissions",function(){return oe}),n.d(t,"removeEmbedObjects",function(){return ie}),n.d(t,"fetchEmbedObjectMembers",function(){return ce}),n.d(t,"setEmbedObjPublicPermission",function(){return se}),n.d(t,"bulkCreateMockUserByMobile",function(){return ue}),n.d(t,"bulkSetEmbedUserPermission",function(){return le}),n.d(t,"setEmbedObjOwner",function(){return de}),n.d(t,"fetchUserPermissionOnEmbedObj",function(){return pe}),n.d(t,"createPassword",function(){return _e}),n.d(t,"deletePassword",function(){return Ee}),n.d(t,"refreshPassword",function(){return fe}),n.d(t,"setHasPasswordState",function(){return Te}),n.d(t,"updateShareSpaceMemberPermission",function(){return Se}),n.d(t,"setShareSpaceLinkPermState",function(){return me}),n.d(t,"confirmPassword",function(){return Oe}),n.d(t,"fetchMembersExistV2",function(){return be}),n.d(t,"fetchSuitePermissionConfig",function(){return ye}),n.d(t,"bulkShareLink",function(){return he}),n.d(t,"bulkAskOwner",function(){return ve}),n.d(t,"askOwnerOpenLinkSharing",function(){return Ie}),n.d(t,"fetchTeamSpacePublicPermission",function(){return Ce}),n.d(t,"updateTeamSpacePublicPermission",function(){return Re}),n.d(t,"fetchCurrentUserTeamSpacePerm",function(){return ge}),n.d(t,"fetchTeamSpaceMembers",function(){return Ae}),n.d(t,"addMembersToFolderV3",function(){return ke}),n.d(t,"updateTeamSpaceMember",function(){return De}),n.d(t,"deleteTeamSpaceMember",function(){return je}),n.d(t,"fetchAppShareMembers",function(){return Le}),n.d(t,"fetchRecommendAppMembers",function(){return we}),n.d(t,"applyTeamSpacePerm",function(){return Ne}),n.d(t,"fetchTeamSpaceCoverMemberInfo",function(){return Ue}),n.d(t,"leaveTeamSpace",function(){return Pe}),n.d(t,"transferTeamSpaceFolderOwner",function(){return Me}),n.d(t,"fetchSharedQrCode",function(){return xe});var r=n("QILm"),o=n.n(r),a=n("lSNA"),p=n.n(a),i=n("7EGn"),c=n("3Hq1"),s=n("jeQL"),_=n("jp/M"),E=n("QM+C"),d=n("IyQe"),u=n("kUgE"),f=n("cyON"),T=n("JgWU"),l=function(e,t,n){return{type:_.actionTypes.permission.UPDATE_AUTHORIZED_MEMBERS,payload:{token:e,type:t,data:n}}},S=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]&&arguments[2],r={type:_.actionTypes.permission.FETCH_AUTHORIZED_MEMBERS,payload:{isFromNotification:n}};return p()(r,E.REQUEST,{url:_.apiUrls.GET_SUITE_AUTH_MEMBERS,params:{token:e,type:t},options:{mergeRequestDataIntoPayload:!0,takeLatest:!0}}),p()(r,f.a,{resetWhenSuiteTokenChange:!0}),r},m=function(e){var t=e.params,n=o()(e,["params"]);return p()({type:_.actionTypes.intermediate.FETCH_PAGED_DATA,payload:p()({realActionType:_.actionTypes.permission.FETCH_AUTHORIZED_MEMBERS_V2,params:Object.assign({},t),options:Object.assign({isContinuous:!1,isFromNotification:!1},n)},f.a,!0)},E.DEFERRED,!0)},O=function(e,t){return p()({type:_.actionTypes.permission.FETCH_AUTHORIZED_MEMBERS_COUNT,payload:{}},E.REQUEST,{url:_.apiUrls.GET_SUITE_AUTH_MEMBERS_COUNT,params:{token:e,type:t},options:{mergeRequestDataIntoPayload:!1,takeLatest:!0}})},b=function(e,t){var n={type:_.actionTypes.permission.FETCH_AUTHORIZED_ROLE_MEMBERS,payload:{}};return p()(n,E.REQUEST,{url:_.apiUrls.GET_SUITE_PERMISSION_ROLE_MEMBER,params:{token:e,type:t},options:{mergeRequestDataIntoPayload:!0,takeLatest:!0}}),p()(n,f.a,{resetWhenSuiteTokenChange:!0}),n},y=function(e,t){return p()({type:_.actionTypes.permission.FETCH_AUTHORIZED_ROLE_USER,payload:{}},E.REQUEST,{url:_.apiUrls.GET_SUITE_PERMISSION_ROLE_USER,params:{token:e,type:t},options:{mergeRequestDataIntoPayload:!0,takeLatest:!0}})},h=function(e,t){return p()({type:_.actionTypes.permission.FETCH_AUTHORIZED_ROLE_USERS,payload:{}},E.REQUEST,{url:_.apiUrls.GET_SUITE_PERMISSION_ROLE_USERS,method:_.apiUrls.METHOD.POST,headers:{"Content-Type":"application/json"},data:{tokens:e,type:t},options:{mergeRequestDataIntoPayload:!0}})},v=function(e,t){return p()({type:_.actionTypes.permission.FETCH_FOLDER_INFO_ROLE},E.REQUEST,{url:_.apiUrls.GET_FOLDER_INFO_ROLE,params:{token:e,type:t},options:{takeLatest:!0}})},I=function(e,t,n){return p()({type:_.actionTypes.permission.POST_FOLDER_INFO_ROLE},E.REQUEST,{url:_.apiUrls.POST_FOLDER_INFO_ROLE,method:_.apiUrls.METHOD.POST,headers:{"Content-Type":"application/json"},data:Object.assign({token:e,type:t},n)})},C=function(e){var t=e.token,n=e.type,r=e.members,a=e.isSharedFolder,o=e.needNotify;return p()({type:_.actionTypes.permission.POST_ADD_ROLE_MEMBER},E.REQUEST,{url:_.apiUrls.ADD_ROLE_MEMBER,method:_.apiUrls.METHOD.POST,headers:{"Content-Type":"application/json"},data:{token:t,type:n,need_notify:void 0===o||o,members:r},options:{transformResponse:function(e){return Object.assign({},e,{token:t,type:n,isSharedFolder:a})}}})},R=function(t,n,e,r,a){return p()({type:_.actionTypes.permission.POST_UPDATE_ROLE_MEMBER},E.REQUEST,{url:_.apiUrls.UPDATE_ROLE_MEMBER,method:_.apiUrls.METHOD.POST,headers:{"Content-Type":"application/json"},data:{token:t,type:n,owner_id:e,owner_type:r,role_type:a},options:{transformResponse:function(e){return Object.assign({},e,{token:t,type:n})}}})},g=function(t,n,r,e){return p()({type:_.actionTypes.permission.POST_DELETE_ROLE_MEMBER},E.REQUEST,{url:_.apiUrls.DELETE_ROLE_MEMBER,method:_.apiUrls.METHOD.POST,headers:{"Content-Type":"application/json"},data:{token:t,type:n,owner_id:r,owner_type:e},options:{transformResponse:function(e){return Object.assign({},e,{token:t,type:n,ownerId:r})}}})},k=function(r,a){var e=2<arguments.length&&void 0!==arguments[2]&&arguments[2],t={type:_.actionTypes.permission.FETCH_SUITE_PUBLIC_PERMISSION,payload:{isFromNotification:e}};return p()(t,E.REQUEST,{url:_.apiUrls.GET_SUITE_PUBLIC_PERMISSION_V3,params:{token:r,type:a},options:{takeLatest:!0,transformResponse:function(e){var t=e.permissions,n=o()(e,["permissions"]);return Object.assign({permission:t},n,{token:r,type:a})}}}),p()(t,f.a,{resetWhenSuiteTokenChange:!0}),t},D=function(u,l){var e=2<arguments.length&&void 0!==arguments[2]&&arguments[2],t=3<arguments.length?arguments[3]:void 0,n={type:_.actionTypes.permission.FETCH_USER_PERMISSION_ON_SUITE,payload:{isFromNotification:e}};return p()(n,E.REQUEST,{url:_.apiUrls.GET_USER_PERMISSION_ON_SUITE_V3,params:{token:u,type:l},serverFirst:t&&t.serverFirst,options:{takeLatest:!0,transformResponse:function(e){var t=e.permissions,n=e.contact_url,r=e.relationship_level,a=e.copy,o=e.print,i=e.permission_status_code,c=Object(d.filterUserPermissionIfNecessary)(t,u),s=Object(d.adaptPermissionNum2Arr)(c);return{token:u,type:l,permissions:s,contact_url:n,relationship_level:r,copy:a,print:o,export:e.export,permission_status_code:i}}}}),p()(n,f.a,{resetWhenSuiteTokenChange:!0}),p()(n,T.b,function(e){var t=Object(i.default)(e,["error","data","entities","users"],{}),n=Object(i.default)(e.error,["meta","owner"]);return n&&(t[n.id]=n),t}),n},j=function(e,t){return{type:_.actionTypes.permission.SET_USER_PERMISSION_FROM_CLIENT_VARS,payload:{token:e,permissions:t}}},L=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]&&arguments[2];return{type:_.actionTypes.permission.FETCH_ALL_PERMISSION_INFO,payload:{token:e,type:t,isFromNotification:n}}},w=function(e){var t=e.token,n=e.type,r=e.ownerId,a=e.ownerType,o=e.permission,i=e.source;return p()({type:_.actionTypes.permission.UPDATE_USER_PERMISSION},E.REQUEST,{url:_.apiUrls.POST_UPDATE_MEMBER_PERMISSION,method:_.apiUrls.METHOD.POST,data:{token:t,type:n,owner_id:r,owner_type:a,permission:o,source:i},options:{mergeRequestDataIntoPayload:!0}})},N=function(t,n){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},e=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{},a=!(4<arguments.length&&void 0!==arguments[4])||arguments[4],o=Object(s.a)({external_access:e.externalAccess,invite_external:e.inviteExternal},c.default),i=Object(s.a)({security_entity:r.securityEntity,share_entity:r.shareEntity,comment_entity:r.commentEntity,link_share_entity:r.linkShareEntity},c.default);return p()({type:_.actionTypes.permission.SET_SUITE_PUBLIC_PERMISSION,payload:{showToast:a}},E.REQUEST,{headers:{"Content-Type":"application/json"},url:_.apiUrls.POST_UPDATE_SUITE_PUBLIC_PERMISSION_V3,method:_.apiUrls.METHOD.POST,data:Object.assign({token:t,type:n},i,{},o),options:{takeLatest:!0,transformResponse:function(e){return Object.assign({},e,{},o,{token:t,type:n,showToast:a,publicPermission:r})}}})},U=function(e,t){return{type:_.actionTypes.permission.SET_SUITE_PUBLIC_PERMISSION_STATE,payload:{token:e,publicPermission:t}}},P=function(e){var t=e.token,n=e.type,r=e.ownerId,a=e.ownerType,o=e.source;return p()({type:_.actionTypes.permission.REMOVE_AUTHORIZED_MEMBERS},E.REQUEST,{url:_.apiUrls.POST_DELETE_MEMBER_PERMISSION,method:_.apiUrls.METHOD.POST,data:{token:t,type:n,owner_id:r,owner_type:a,source:o},options:{mergeRequestDataIntoPayload:!0}})},M=function(e){var t=e.token,n=e.type,r=e.owners,a=e.shouldNotifyLark,o=e.sendLarkIm,i=e.larkImText,c=e.notifyLarkV2,s=e.source,u=e.actualSource,l=e.noToast,d=e.canRevokeNotify;return p()({type:_.actionTypes.permission.BULK_SET_PERM,payload:{noToast:l}},E.REQUEST,{url:_.apiUrls.POST_ADD_MEMBERS,method:_.apiUrls.METHOD.POST,data:{token:t,type:n,owners:JSON.stringify(r),notify_lark:Number(a),send_lark_im:Boolean(o),lark_im_text:i||"",notify_lark_v2:c,source:s,actualSource:u,canRevokeNotify:d},options:{mergeRequestDataIntoPayload:!0}})},x=function(e){var t={type:_.actionTypes.explorer.FETCH_MEMBERS_OF_SHARE_FOLDER};return p()(t,E.REQUEST,{url:_.apiUrls.GET_FETCH_MEMBERS_OF_SHARE_FOLDER_NEW,method:_.apiUrls.METHOD.GET,params:{space_id:e},options:{takeLatest:!0,mergeRequestDataIntoPayload:!0}}),p()(t,f.a,!0),t},F=function(e){var t={type:_.actionTypes.permission.FETCH_SHARE_SPACE_SETTING};return p()(t,E.REQUEST,{url:_.apiUrls.GET_SHARE_SPACE_SETTING,method:_.apiUrls.METHOD.GET,params:{space_id:e},options:{takeLatest:!0,mergeRequestDataIntoPayload:!0}}),p()(t,f.a,{resetWhenSuiteTokenChange:!0}),t},H=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=!(2<arguments.length&&void 0!==arguments[2])||arguments[2],r=t.allowCrossTenant,a=t.linkPerm,o=t.remindAnyoneLink,i=Object(s.a)({allow_cross_tenant:r,link_perm:a,remind_anyone_link:o},c.default);return p()({type:_.actionTypes.permission.UPDATE_SHARE_SPACE_SETTING,payload:{showToast:n}},E.REQUEST,{url:_.apiUrls.UPDATE_SHARE_SPACE_SETTING,method:_.apiUrls.METHOD.POST,headers:{"Content-Type":"application/json"},data:Object.assign({space_id:e},i),options:{takeLatest:!0,mergeRequestDataIntoPayload:!0}})},B=function(e){var t={type:_.actionTypes.permission.FETCH_USER_PERMISSION_ON_SHARE_SPACE};return p()(t,E.REQUEST,{url:_.apiUrls.GET_USER_PERMISSION_ON_SHARE_SPACE,method:_.apiUrls.METHOD.GET,params:{space_id:e},options:{takeLatest:!0,mergeRequestDataIntoPayload:!0}}),p()(t,f.a,{resetWhenSuiteTokenChange:!0}),t},K=function(e){var t=e.getExtraInfo,n=o()(e,["getExtraInfo"]);return p()({type:_.actionTypes.explorer.ADD_MEMBERS_TO_FOLDER},E.REQUEST,{url:_.apiUrls.POST_ADD_MEMBERS_TO_FOLDER,method:_.apiUrls.METHOD.POST,data:n,options:{transformResponse:function(e){if(n.token)return Object.assign({},e,{token:n.token});if(void 0===n.space_id)throw new Error("data have neither token nor space_id");return Object.assign({},e,{space_id:n.space_id})},getExtraInfo:t}})},W=function(t,n,r){var a=3<arguments.length&&void 0!==arguments[3]&&arguments[3];return p()({type:_.actionTypes.explorer.REMOVE_MEMBER_FROM_FOLDER,payload:{onlyOne:a}},E.REQUEST,{url:_.apiUrls.POST_REMOVE_MEMBER_FROM_FOLDER,method:_.apiUrls.METHOD.POST,data:{space_id:n,owner_id:r},options:{transformResponse:function(e){return Object.assign({},e,{onlyOne:a,token:t,spaceId:n,ownerId:r})}}})},V=function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:"",a=4<arguments.length&&void 0!==arguments[4]?arguments[4]:"",o={type:_.actionTypes.permission.SEND_SUITE_PERMISSION_REQUEST};return p()(o,E.DEFERRED,!0),p()(o,E.REQUEST,{noStore:!0,url:_.apiUrls.POST_SEND_SUITE_PERMISSION_REQUEST,method:_.apiUrls.METHOD.POST,data:{token:e,obj_type:t,permission:n,message:r,userName:a}}),o},Y=function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:"",a=4<arguments.length&&void 0!==arguments[4]?arguments[4]:"",o={type:_.actionTypes.permission.SEND_SUITE_PARENT_PERMISSION_REQUEST};return p()(o,E.DEFERRED,!0),p()(o,E.REQUEST,{noStore:!0,url:_.apiUrls.POST_SEND_SUITE_PARENT_PERMISSION_REQUEST,method:_.apiUrls.METHOD.POST,data:{token:e,obj_type:t,permission:n,message:r,deviceType:a}}),o},Q=function(e){var t=e.token,n=e.type,r=e.ownerId,a=e.ownerType,o=e.meta,i=e.source,c={type:_.actionTypes.permission.TRANSFER_SUITE_OWNER};return p()(c,E.DEFERRED,!0),p()(c,E.REQUEST,{url:_.apiUrls.POST_TRANSFER_SUITE_OWNER,method:_.apiUrls.METHOD.POST,data:{token:t,type:n,owner_id:r,owner_type:a,source:i},options:{transformResponse:function(e){return Object.assign({},e,{suiteToken:t,suiteType:n,ownerId:r,ownerType:a,meta:o||{}})}}}),c},J=function(e){return p()({type:_.actionTypes.permission.UNIVERSAL_TRANSFER_OWNER,payload:e},E.DEFERRED,!0)},q=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]&&arguments[2];return{type:_.actionTypes.permission.FETCH_USER_PERMISSION_ON_SUITE_SUCCESS,meta:{isLoading:!1},payload:{token:e,permissions:t,isFromNotification:n}}},z=function(e){var t={type:_.actionTypes.permission.SEND_FOLDER_PERMISSION_REQUEST};return p()(t,E.DEFERRED,!0),p()(t,E.REQUEST,{noStore:!0,url:_.apiUrls.POST_SEND_FOLDER_PERMISSION_REQUEST,method:_.apiUrls.METHOD.POST,data:e}),t},X=function(e){return{type:_.actionTypes.permission.SET_EDIT_MODE,payload:e}},Z=function(e){return{type:_.actionTypes.permission.SET_IS_DOC_LOCKED_BY_PLUGIN,payload:e}},$=function(e,t,n,r,a,o){var i={type:_.actionTypes.permission.UPDATE_USER_PERMISSION_V2};return p()(i,E.DEFERRED,!0),p()(i,E.REQUEST,{url:_.apiUrls.POST_UPDATE_MEMBER_PERMISSION_V2,method:_.apiUrls.METHOD.POST,data:{token:e,type:t,owner_id:n,owner_type:r,permission:a,source:o},options:{mergeRequestDataIntoPayload:!0}}),i},ee=function(e){var t={type:_.actionTypes.permission.NOTIFY_MEMBER_AFTER_UPDATE_PERMISSION};return p()(t,E.DEFERRED,!0),p()(t,E.REQUEST,{url:_.apiUrls.POST_NOTIFY_MEMBER_V2,method:_.apiUrls.METHOD.POST,data:{notification_id:e}}),t},te=function(e){return{type:_.actionTypes.permission.WITHDRAW_PERMISSION_NOTIFICATION,payload:{notificationId:e}}},ne=function(e,t,n){var r={type:_.actionTypes.permission.FETCH_AUTHORIZED_USERS};return 0<n.length&&(r[E.REQUEST]={url:_.apiUrls.GET_MULTIPLE_USER_PERMISSION_ON_SUITE,method:_.apiUrls.METHOD.POST,headers:{"Content-Type":"application/json"},data:{token:e,type:t,user_ids:n},options:{mergeRequestDataIntoPayload:!0}}),r},re=function(e,t){return{type:_.actionTypes.permission.REMOVE_AUTHORIZED_USERS,payload:{token:e,userList:t}}},ae=function(e){return{type:_.actionTypes.permission.SET_USER_PERMISSION_ERROR,payload:e}},oe=function(e,t,n){var r=p()({type:_.actionTypes.permission.FETCH_EMBED_OBJECT_PERMISSION},f.a,{resetWhenSuiteTokenChange:!0});return 0<n.length&&(r[E.REQUEST]={url:_.apiUrls.POST_EMBED_OBJECTS,method:_.apiUrls.METHOD.POST,headers:{"Content-Type":"application/json"},data:{token:e,type:t,embed_objects:n},options:{mergeRequestDataIntoPayload:!0}}),r},ie=function(e,t){return{type:_.actionTypes.permission.REMOVE_EMBED_OBJECTS,payload:{token:e,embedObjectList:t}}},ce=function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]&&arguments[3],a={type:_.actionTypes.permission.FETCH_EMBED_OBJECT_MEMBERS};return n&&(a[E.REQUEST]={url:_.apiUrls.POST_EMBED_OBJECT_MEMBERS,method:_.apiUrls.METHOD.POST,headers:{"Content-Type":"application/json"},data:{token:e,type:t,embed_object:n},options:{mergeRequestDataIntoPayload:!0,transformResponse:function(e){return Object.assign({},e,{modalClosable:r})}}}),a},se=function(e,t,n){var r=!(3<arguments.length&&void 0!==arguments[3])||arguments[3];return p()({type:_.actionTypes.permission.SET_EMBED_PUBLIC_PERMISSION,payload:{showToast:r}},E.REQUEST,{url:_.apiUrls.POST_SET_SUITE_PUBLIC_PERMISSION,method:_.apiUrls.METHOD.POST,data:{token:e,type:t,permission:n},options:{mergeRequestDataIntoPayload:!0}})},ue=function(e){var t=e.token,n=e.contact_list;return p()({type:_.actionTypes.permission.CREATE_MOCK_USER},E.REQUEST,{url:_.apiUrls.CREATE_MOCK_USER,headers:{"Content-Type":"application/json"},method:_.apiUrls.METHOD.POST,data:{token:t,contact_list:n},options:{mergeRequestDataIntoPayload:!0}})},le=function(e){var t=e.token,n=e.type,r=e.owners,a=e.shouldNotifyLark,o=e.source,i=e.noToast;return p()({type:_.actionTypes.permission.BULK_SET_EMBED_PERM,payload:{noToast:i}},E.REQUEST,{url:_.apiUrls.POST_ADD_MEMBERS,method:_.apiUrls.METHOD.POST,data:{token:t,type:n,owners:JSON.stringify(r),notify_lark:Number(a),source:o},options:{mergeRequestDataIntoPayload:!0}})},de=function(e,t){return{type:_.actionTypes.permission.SET_EMBED_OBJ_OWNER,payload:{token:e,embedObject:t}}},pe=function(e,t){var n={type:_.actionTypes.permission.FETCH_USER_PERMISSION_ON_EMBED_OBJECT};return 0<e.length&&(n[E.REQUEST]={url:_.apiUrls.POST_EMBED_OBJECTS_PERM,headers:{"Content-Type":"application/json"},method:_.apiUrls.METHOD.POST,data:{objs:e},options:{mergeRequestDataIntoPayload:!0,transformResponse:function(e){return Object.assign({},e,{currentToken:t})}}}),n},_e=function(e,t,n){return p()({type:_.actionTypes.permission.POST_PASSWORD_CREATE,payload:{spaceId:n}},E.REQUEST,{url:_.apiUrls.POST_PASSWORD_CREATE,method:_.apiUrls.METHOD.POST,headers:{"Content-Type":"application/json"},data:{token:e,type:t},options:{takeLatest:!0,abortOn:_.actionTypes.permission.POST_PASSWORD_DELETE_START,mergeRequestDataIntoPayload:!0}})},Ee=function(e,t,n){return p()({type:_.actionTypes.permission.POST_PASSWORD_DELETE,payload:{spaceId:n}},E.REQUEST,{url:_.apiUrls.POST_PASSWORD_DELETE,method:_.apiUrls.METHOD.POST,headers:{"Content-Type":"application/json"},data:{token:e,type:t},options:{takeLatest:!0,abortOn:_.actionTypes.permission.POST_PASSWORD_CREATE_START,mergeRequestDataIntoPayload:!0}})},fe=function(e,t,n){return p()({type:_.actionTypes.permission.POST_PASSWORD_REFRESH,payload:{spaceId:n}},E.REQUEST,{url:_.apiUrls.POST_PASSWORD_REFRESH,method:_.apiUrls.METHOD.POST,headers:{"Content-Type":"application/json"},data:{token:e,type:t},options:{mergeRequestDataIntoPayload:!0}})},Te=function(e,t,n){return{type:_.actionTypes.permission.SET_HAS_LINK_PASSWORD_STATE,payload:{token:e,spaceId:t,hasLinkPassword:n}}},Se=function(e,t){return p()({type:_.actionTypes.permission.UPDATE_SHARE_SPACE_MEMBER_PERMISSION},E.REQUEST,{url:_.apiUrls.UPDATE_SHARE_SPACE_MEMBER_PERMISSION,method:_.apiUrls.METHOD.POST,headers:{"Content-Type":"application/json"},data:{space_id:e,owners:t},options:{mergeRequestDataIntoPayload:!0}})},me=function(e){var t=e.spaceId,n=e.token,r=e.linkPerm;return{type:_.actionTypes.permission.SET_SHARE_SPACE_PUBLIC_PERMISSION_STATE,payload:{spaceId:t,token:n,linkPerm:r}}},Oe=function(e,t,n,r){return p()({type:_.actionTypes.explorer.POST_PASSWORD_INPUT},E.REQUEST,{url:_.apiUrls.POST_PASSWORD_INPUT,method:_.apiUrls.METHOD.POST,headers:{"Content-Type":"application/json"},data:{token:e,type:t,password:n,captchaId:r}})},be=function(e,t,n){return p()({type:_.actionTypes.permission.FETCH_MEMBERS_EXIST_V2},E.REQUEST,{url:_.apiUrls.POST_EXIST_MEMBER_PERMISSION_V2,method:_.apiUrls.METHOD.POST,headers:{"Content-Type":"application/json"},data:{token:e,type:t,members:n},options:{mergeRequestDataIntoPayload:!0,takeLatest:!0}})},ye=function(e,t){return p()({type:_.actionTypes.permission.FETCH_SUITE_PERMISSION_CONFIG},E.REQUEST,{url:_.apiUrls.GET_SUITE_PERMISSION_CONFIG,params:{token:e,type:t},options:{mergeRequestDataIntoPayload:!0}})},he=function(e){var t=e.token,n=e.type,r=e.members,a=e.remark;return p()({type:_.actionTypes.permission.BULK_SHARE_LINK},E.REQUEST,{url:_.apiUrls.POST_SHARE_LINK,method:_.apiUrls.METHOD.POST,headers:{"Content-Type":"application/json"},data:{token:t,type:n,members:r,remark:a},options:{mergeRequestDataIntoPayload:!0}})},ve=function(e){var t,n=e.token,r=e.type,a=e.members,o=e.originMembers,i=e.remark,c=e.ownerName;return p()({type:_.actionTypes.permission.BULK_ASK_OWNER,payload:{ownerName:c,originMembers:o}},E.REQUEST,(t={url:_.apiUrls.POST_ASK_OWNER,method:_.apiUrls.METHOD.POST,headers:{"Content-Type":"application/json"},data:{token:n,type:r,members:a,remark:i}},p()(t,f.a,{resetWhenSuiteTokenChange:!0}),p()(t,"options",{mergeRequestDataIntoPayload:!0}),t))},Ie=function(e){var t=e.token,n=e.type,r=e.link_share_entity,a=e.remark,o=e.ownerName;return p()({type:_.actionTypes.permission.ASK_OWNER_OPEN_LINK_SHARING,payload:{ownerName:o}},E.REQUEST,{url:_.apiUrls.POST_ASK_OWNER_OPEN_LINK_SHARING,method:_.apiUrls.METHOD.POST,headers:{"Content-Type":"application/json"},data:{token:t,type:n,link_share_entity:r,remark:a}})},Ce=function(e){var t={type:_.actionTypes.permission.FETCH_TEAM_SPACE_SETTING,payload:{token:e}};return p()(t,E.REQUEST,{url:_.apiUrls.GET_TEAM_SPACE_SETTING,method:_.apiUrls.METHOD.GET,params:{token:e},options:{takeLatest:!0,mergeRequestDataIntoPayload:!0}}),p()(t,f.a,!0),t},Re=function(e){var t=e.token,n=e.link_share_entity,r=e.remind_anyone_link,a=e.need_spread;return p()({type:_.actionTypes.permission.UPDATE_TEAM_SPACE_SETTING,payload:{token:t}},E.REQUEST,{url:_.apiUrls.UPDATE_TEAM_SPACE_SETTING,method:_.apiUrls.METHOD.POST,headers:{"Content-Type":"application/json"},data:{token:t,link_share_entity:n,remind_anyone_link:r,need_spread:a},options:{takeLatest:!0,mergeRequestDataIntoPayload:!0}})},ge=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:["view","edit","invite","upload"],n={type:_.actionTypes.permission.FETCH_TEAM_SPACE_MEMBER_PERM};return p()(n,E.REQUEST,{url:_.apiUrls.GET_TEAM_SPACE_MEMBER_PERM,method:_.apiUrls.METHOD.POST,headers:{"Content-Type":"application/json"},data:{token:t,actions:e},options:{takeLatest:!0,transformResponse:function(e){return Object.assign({},e,{token:t})}}}),p()(n,f.a,!0),n},Ae=function(e){var t=e.params,n=o()(e,["params"]);return p()({type:_.actionTypes.intermediate.FETCH_PAGED_DATA,payload:p()({realActionType:_.actionTypes.permission.FETCH_TEAM_SPACE_MEMBERS,params:Object.assign({},t),options:Object.assign({isContinuous:!1},n)},f.a,!0)},E.DEFERRED,!0)},ke=function(e){var t=e.token,n=e.members,r=e.need_notify,a=e.notify_text;return p()({type:_.actionTypes.permission.POST_TEAM_SPACE_MEMBERS_CREATE},E.REQUEST,{url:_.apiUrls.POST_TEAM_SPACE_MEMBERS_CREATE,method:_.apiUrls.METHOD.POST,headers:{"Content-Type":"application/json"},data:{token:t,members:n,need_notify:r,notify_text:a},options:{transformResponse:function(e){return Object.assign({},e,{token:t})}}})},De=function(e){var t=e.token,n=e.memberId,r=e.memberType,a=e.permRole;return p()({type:_.actionTypes.permission.POST_TEAM_SPACE_MEMBERS_UPDATE},E.REQUEST,{url:_.apiUrls.POST_TEAM_SPACE_MEMBERS_UPDATE,method:_.apiUrls.METHOD.POST,headers:{"Content-Type":"application/json"},data:{token:t,member_id:n,member_type:r,perm_role:a}})},je=function(e){var t=e.token,n=e.member_id,r=e.member_type,a=e.onlyOne,o=void 0!==a&&a;return p()({type:_.actionTypes.permission.POST_TEAM_SPACE_MEMBERS_DELETE,payload:{token:t,onlyOne:o}},E.REQUEST,{url:_.apiUrls.POST_TEAM_SPACE_MEMBERS_DELETE,method:_.apiUrls.METHOD.POST,headers:{"Content-Type":"application/json"},data:{token:t,member_id:n,member_type:r},options:{mergeRequestDataIntoPayload:!0}})},Le=function(e){var t=e.token,n=e.type,r=e.lastLabel,a=e.isContinuous;return p()({type:_.actionTypes.permission.FETCH_APP_SHARE_MEMBERS,payload:{isContinuous:a}},E.REQUEST,{url:_.apiUrls.GET_APP_SHARE_MEMBER_LIST,method:_.apiUrls.METHOD.GET,params:{token:t,type:n,last_label:r},options:{mergeRequestDataIntoPayload:!0}})},we=function(e,t){return p()({type:_.actionTypes.permission.FETCH_RECOMMEND_APP_MEMBERS,payload:{token:e}},E.REQUEST,{url:t,method:_.apiUrls.METHOD.GET,params:{query:"",locale:Object(u.formatLanguageToLowerCase)(Object(u.getLocale)()),cursorInfo:{count:100}},options:{mergeRequestDataIntoPayload:!0}})},Ne=function(e){var t=e.token,n=e.perm,r=e.message;return p()({type:_.actionTypes.permission.POST_TEAM_SPACE_APPLY_PERM},E.REQUEST,{url:_.apiUrls.POST_TEAM_SPACE_APPLY_PERM,method:_.apiUrls.METHOD.POST,headers:{"Content-Type":"application/json"},data:{token:t,perm_role:n,message:r}})},Ue=function(e){return p()({type:_.actionTypes.permission.FETCH_TEAM_SPACE_COVER_MEMBER_INFO},E.REQUEST,{url:_.apiUrls.GET_TEAM_SPACE_COVER_MEMBER_INFO,method:_.apiUrls.METHOD.POST,headers:{"Content-Type":"application/json"},data:{tokens:e}})},Pe=function(t){return p()({type:_.actionTypes.permission.POST_LEAVE_TEAM_SPACE},E.REQUEST,{url:_.apiUrls.POST_LEAVE_TEAM_SPACE,method:_.apiUrls.METHOD.POST,headers:{"Content-Type":"application/json"},data:{token:t},options:{transformResponse:function(e){return Object.assign({},e,{token:t})}}})},Me=function(e){var t=e.token,n=e.memberId,r=e.memberType,a=e.meta;return p()({type:_.actionTypes.permission.POST_TEAM_SPACE_TRANSFER_OWNER,payload:{token:t,memberId:n,ownerId:n}},E.REQUEST,{url:_.apiUrls.POST_TEAM_SPACE_TRANSFER_OWNER,method:_.apiUrls.METHOD.POST,headers:{"Content-Type":"application/json"},data:{token:t,member_id:n},options:{transformResponse:function(e){return Object.assign({},e,{ownerId:n,ownerType:r,meta:a})}}})},xe=function(e){var t=e.token,n=e.type,r=e.plan,a={type:_.actionTypes.permission.FETCH_MINI_PROGRAM_QR_CODE,payload:{token:t}};return p()(a,E.REQUEST,{url:_.apiUrls.GET_MINI_PROGRAM_QR_CODE,method:_.apiUrls.METHOD.POST,data:{token:t,type:n,plan:r}}),p()(a,f.a,{resetWhenSuiteTokenChange:!0}),a}},Mb7c:function(e,t,n){"use strict";var r=n("lwsE"),a=n.n(r),o=n("W8MJ"),i=n.n(o),c=n("a1gu"),s=n.n(c),u=n("Nsbk"),l=n.n(u),d=n("7W2i"),p=n.n(d),_=n("q1tI"),E=n.n(_),f=n("TSYQ"),T=n.n(f),S=n("0wEy"),m=n("U6jp"),O=n("nsnr"),b=n("RXE/"),y=n("9+78"),h=n.n(y),v=(n("Mu/4"),{stiffness:250,damping:20,precision:.5}),I=function(){return{y:-100}},C=function(){return{y:Object(S.spring)(-100,v)}};function R(e){return"toast_".concat(h()(e))}var g=function(e){function t(){var r;return a()(this,t),(r=s()(this,l()(t).apply(this,arguments))).state={toasts:[]},r.remove=function(t){r.setState(function(e){return{toasts:e.toasts.filter(function(e){return e.key!==t})}})},r.update=function(e){var t,n=e.key;n&&(t=r.state.toasts.findIndex(function(e){return e.key===n}),r.state.toasts[t]&&(Object.assign(r.state.toasts[t],e),r.setState(function(e){return{toasts:r.state.toasts.concat()}})))},r.removeAll=function(){r.setState({toasts:[]})},r}return p()(t,e),i()(t,[{key:"show",value:function(t){var n=t.key=t.key||R(t.content);this.setState(function(e){return{toasts:e.toasts.filter(function(e){return e.key!==n}).concat(t)}})}},{key:"render",value:function(){var r=this;if(!this.state.toasts.length)return null;var t,e=this.state.toasts.map(function(e){return{key:e.key,style:{y:Object(S.spring)(Object(m.d)()?120:0,v)},data:e,zIndex:e.zIndex}});return e.forEach(function(e){t=e.zIndex}),E.a.createElement(S.TransitionMotion,{styles:e,willEnter:I,willLeave:C},function(e){return E.a.createElement(E.a.Fragment,null,r.state.toasts.some(function(e){return!0===e.processable})&&E.a.createElement("div",{className:"toast__mask"}),E.a.createElement("div",Object.assign({},r.props,{className:T()("toast-wrap",r.props.className),style:{zIndex:t}}),e.map(function(e){var t=e.style.y,n=e.data;return n&&E.a.createElement(b.b,Object.assign({},n,{style:Object.assign({},n.style,{transform:"translateY(".concat(t,"%)"),opacity:1+t/100,overflow:"hidden"}),onClose:Object(O.a)(n.onClose,function(){return r.remove(n.key)})}),n.content)})))})}}]),t}(_.PureComponent);t.a=g},"Mu/4":function(e,t,n){},NRfy:function(e,t,n){"use strict";var r=n("hMnB"),a=n.n(r),o=n("ucr6"),i=n("BGhw"),c=n("lG83"),s=n("EVj1"),u=n("oqjh"),l=n("U6jp"),d=n("FnDM"),p=n("91RN"),_={},E="",f=S(a.a.pathname);O();var T=function(){p.a.onRouteWatchStart(),o.a.listen(function(e,t){var n,r;p.a.onRouteUpdate(),"PUSH"===t&&(u.a.setIsSsd(),u.a.setLoadStartTime()),Object(i.b)(),O(e),a.a.pathname!==window.teaMap.prePathname&&(n=e.state,Object(c.b)(n&&n.from),r=Object(l.f)(window.location.href),Object(c.f)({new_source:r}),E=f,f=S(a.a.pathname),m(E))})};function S(e){var t=Object(d.i)(e);return t&&t.module||""}function m(e){Object(c.m)({from:e}),Object(c.c)(),Object(c.i)(),window.teaMap.preHref=a.a.href,window.teaMap.prePathname=a.a.pathname,window.teaMap.enterPathTime=Date.now()}function O(e){var t=Object(s.l)(a.a.search);["v","oversea","side_car","vs","vw","vsh","vb"].forEach(function(e){void 0!==t[e]&&(_[e]=t[e])});var n,r=b(t);r&&(n=a.a.search?"&":"?",o.a.replace(Object.assign({search:"".concat(a.a.search).concat(n).concat(r),hash:a.a.hash},e.state?{state:e.state}:{})))}function b(n){var r="";return Object.keys(_).forEach(function(e,t){!n[e]&&Object.keys(_).length&&_[e]&&(0!==t&&(r+="&"),r+="".concat(e,"=").concat(_[e]))}),r}t.a=T},NXru:function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"b",function(){return i});var r=n("rLED"),a=n("skFV"),o=Object(r.I)("slide_enabled",r.ob||Object(a.v)()),i=Object(r.I)("slide_op_history")},Nmqt:function(e,t,n){"use strict";n.d(t,"b",function(){return o}),n.d(t,"c",function(){return i}),n.d(t,"a",function(){return c});var r=n("JHqw"),a={navs:[]};function o(e){try{return r.a.manager.getModule(e).exports.provider}catch(e){}}function i(e,t){a[e]=t}function c(e){return e?a[e]:a}},NnqK:function(e,t,n){"use strict";n.d(t,"a",function(){return S}),n.d(t,"b",function(){return O}),n.d(t,"c",function(){return b});var o,i,r=n("iP/4"),c=n("ucr6"),s=n("lQZd"),a=n("GIL9"),u="#docSSRStyle",l="#ssrBox",d=!1,p=!1,_=!1,E=function(e){document.querySelector("#mainBox .etherpad-container-wrapper").scrollTop=e.target.scrollTop};r.a.isLark&&(p=!0),Object(a.a)()&&(p=d=!0);var f=[],T=Object(s.h)(window.location.href);function S(){var a;Object(s.d)()&&(a=c.a.listen(function(e,t){var n,r=e.pathname;_?a():"PUSH"!==t&&"REPLACE"!==t||r.includes(T)||(console.log("ssr: leave page before remove"),o&&clearTimeout(o),i&&clearTimeout(i),(n=document.querySelector("".concat(l," .etherpad-container-wrapper")))&&n.removeEventListener("scroll",E),y(),a())}))}function m(t){return function(e){return t(),e&&f&&f.push(e),h()}}var O=m(function(){d=!0}),b=m(function(){p=!0});function y(){f&&f.forEach(function(e){var t=e.beforeRemove;t&&t()}),v(l),v(u),_=!0,console.log("ssr: remove"),f&&f.forEach(function(e){var t=e.afterRemove;t&&t()}),f=void 0}function h(){var e,t,n;_||p&&d&&(e=document.querySelector(l),t=document.querySelector("".concat(l," .etherpad-container-wrapper")),n=document.querySelector("#mainBox .etherpad-container-wrapper"),e&&t&&n?(t.addEventListener("scroll",E),console.log("ssr: start timeout"),o=setTimeout(function(){n.scrollTop=t.scrollTop,console.log("ssr: scroll timeout"),i=setTimeout(function(){t.removeEventListener("scroll",E),y()},50)},17)):y())}function v(e){var t=document.querySelector(e);t&&t.remove()}},OJOY:function(e,t,n){"use strict";n.d(t,"b",function(){return u});var r=n("cDf5"),c=n.n(r),o=n("J2yf"),s=n("7EGn"),u=function(e){var t;try{t=window[e];var n="__storage_test__";return t.setItem(n,n),t.removeItem(n),!0}catch(e){return e instanceof DOMException&&(22===e.code||1014===e.code||"QuotaExceededError"===e.name||"NS_ERROR_DOM_QUOTA_REACHED"===e.name)&&t&&0!==t.length}}("localStorage"),i={getItem:function(e){if(!u)return{};var t=l(e),n=t.name,r=t.path,a=localStorage.getItem(n)||"{}";try{var o=JSON.parse(a),i=r.length?Object(s.default)(o,r):o}catch(e){i=a}return i},setItem:function(e,t){var n,r,a,o;u&&(r=(n=l(e)).name,a=n.path,o=i.getItem(r),"object"!==c()(o)&&(o={}),a.length?d(o,a,t):o=t,localStorage.setItem(r,JSON.stringify(o)))},removeItem:function(e){var t,n,r,a;u&&(n=(t=l(e)).path,r=t.name,n.length?(a=i.getItem(r)||{},Object(o.a)(a,n),i.setItem(r,a)):localStorage.removeItem(e))},clear:function(){if(u)try{localStorage.clear()}catch(e){}}};function l(e){var t=e.split("."),n=t.splice(0,1)[0];return{path:t,name:n}}function d(e,t,n){var r=e,a=0;"string"==typeof t&&(t=t.split("."));for(var o=t.length;a<o-1;a++){var i=t[a];r[i]="object"===c()(r[i])?r[i]:{},r=r[i]}return r[t[a]]=n,e}t.a=i},OMt3:function(e,t,n){"use strict";var r,a,o,i,c=n("2ACu");(a=r=r||{}).CONTROL_GROUP="v1",a.TEST_GROUP_FIRST="v2",a.TEST_GROUP_SECOND="v3",a.TEST_GROUP_THIRD="v4",(i=o=o||{})[i.NORMAL=0]="NORMAL",i[i.LARK_CHAT=1]="LARK_CHAT",i[i.IMPORT=2]="IMPORT",i[i.GOOGLE_IMPORT=3]="GOOGLE_IMPORT",i[i.DRIVE_IMPORT=4]="DRIVE_IMPORT",i[i.LARK_IMPORT=5]="LARK_IMPORT",i[i.MEETING=6]="MEETING",i[i.BEAR_COPY=7]="BEAR_COPY",i[i.TEMPLATE=8]="TEMPLATE",i[i.GROUP_ANNOUNCEMENT=9]="GROUP_ANNOUNCEMENT",i[i.SHEET_OPEN_API=10]="SHEET_OPEN_API",i[i.README_DOC=11]="README_DOC",i[i.COPYLINK_CLONE=12]="COPYLINK_CLONE",i[i.COPYLINK_NEW=13]="COPYLINK_NEW",i[i.LARK_CREATEDOC=14]="LARK_CREATEDOC",i[i.LARK_CREATE_CALENDER=15]="LARK_CREATE_CALENDER",i[i.SCAN=16]="SCAN";var s=n("rLED"),u=n("zhgJ"),l=n("1dfU");n.d(t,"c",function(){return _}),n.d(t,"a",function(){return T}),n.d(t,"b",function(){return S});var d=Object(s.J)("beginner_guide",!0),p=Object(u.c)().beginner_guide_ab_test,_=!!p&&p.type!==r.CONTROL_GROUP,E=!!p,f={logBeforeUnloadFunc:null},T=function(e,t,n){d&&E&&e===o.README_DOC&&(Object(c.default)("onboarding_doc_show",{action:"click_onboarding_Doc",obj_token:Object(l.a)(t),create_source:e}),f.logBeforeUnloadFunc=function(){Object(c.default)("onboarding_doc_click",{time_gap:Date.now()-n,obj_token:Object(l.a)(t),create_source:e})},window.addEventListener("beforeunload",f.logBeforeUnloadFunc))},S=function(){f.logBeforeUnloadFunc&&(d&&E&&f.logBeforeUnloadFunc(),window.removeEventListener("beforeunload",f.logBeforeUnloadFunc),f.logBeforeUnloadFunc=null)}},"OUn+":function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return u});var r,a,o,i=n("lSNA"),c=n.n(i);(o=a=a||{}).APP_JS="APP_JS",o.DOC_INDEX_JS="DOC_INDEX_JS";var s=(r={},c()(r,a.APP_JS,/js\/app\..*\.js$/),c()(r,a.DOC_INDEX_JS,/js\/doc_index\..*\.js$/),r);function u(e){return performance.getEntriesByType?l(performance.getEntriesByType("resource"),e):{}}function l(e,t){for(var n={},r=t.length,a=0,o=0;o<e.length&&0!==t.length;o++)for(var i=e[o],c=0;c<t.length;c++)if(s[t[c]].test(i.name)){void 0!==i.transferSize&&(n[t[c]+"_CACHED"]=0===i.transferSize?1:0,a++),t.splice(c,1);break}return n.is_resource_cache_status_all_collected=a===r?1:0,n}},OX8E:function(e,t,n){"use strict";var r=n("4O8T"),a=new(n.n(r).a);t.a=a},PNuP:function(e,t){e.exports=navigator.cdn_host+"/ccm/pc/web/resource/bear/public/icon_file_image_nor.d7622616836fe18185ce.ico"},Pnpm:function(e,t,n){"use strict";var r=n("CnBM"),a=n.n(r)()({loader:function(){return Promise.all([n.e("commons--create_by_template_modal--create_by_template_modal_new_layout--create_team_space_modal--ex--a373becd"),n.e("vendors--pc_anonymous_space_route"),n.e("pc_anonymous_space_route")]).then(n.bind(null,"AHac"))},loading:function(){return null}});a.displayName="RouteAnonymousSpace",t.a=a},"Q/5K":function(e,t,n){"use strict";n.d(t,"a",function(){return r});var c=n("7EGn");function r(e){var t,n,r,a,o,i;e&&(t=window,n=e.spaceName||Object(c.default)(t,"current_space_wiki.space_name",""),r=e.spaceIcon||Object(c.default)(t,"current_space_wiki.space_icon",""),a=e.wikiToken,o=e.objToken,i=e.objType,t.current_space_wiki={space_id:e.spaceId,space_name:n,wiki_token:a,obj_token:o,obj_type:i,space_icon:r,home_page:{wiki_token:Object(c.default)(e,"homePage.wikiToken"),obj_token:Object(c.default)(e,"homePage.objToken"),obj_type:Object(c.default)(e,"homePage.objType")}},t.wiki_info_map||(t.wiki_info_map={}),t.wiki_info_map[e.wikiToken]||(t.wiki_info_map[e.wikiToken]=e))}},Q6nf:function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"d",function(){return o}),n.d(t,"b",function(){return i}),n.d(t,"c",function(){return c});var r=n("VIFs"),a=Object(r.prependAPI)(""),o=1e4,i={headers:{"Content-Type":"application/json"}},c={baseURL:Object(r.prependPureAPI)("")}},"Q9/D":function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r={start:0,end:0}},QBD7:function(e,n,r){"use strict";(function(d){r.d(n,"c",function(){return e}),r.d(n,"b",function(){return o}),r.d(n,"a",function(){return t});var p=r("5dbN"),a=r("zIjt");function e(){if(d)return!0;var e=Object(p.locateRoute)(),t=e.isHome,n=e.isMe,r=e.isFolder,a=e.isShared,o=e.isTrash,i=e.isQuickaccess,c=e.isFavorites,s=e.isStorage,u=e.isWikiHome,l=e.isTeamSpace;return t||n||r||a||o||i||c||s||u||l}function o(){var e=Object(p.locateRoute)(),t=e.isAccountProfile,n=e.isAccountPreferences,r=e.isAccountNotifications;return t||n||r}function t(){var e=Object(p.locateRoute)(),t=e.isImport,n=e.isObjtmpl,r=e.isSheet;return!(Object(p.isUnderFileListView)()||Object(p.isUnderBoxRoute)()||t||n||r||Object(p.isUnderWikiHome)()||o()||Object(a.d)())}}).call(this,r("kCIs"))},Qazs:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=function(){return Promise.all([n.e("commons--PCDocSheetBridge--btn_groups--sheet-template-preview--spread--template-spreadsheet--utils_store"),n.e("utils_store")]).then(n.bind(null,"Y+my"))}},"R/2b":function(e,t,n){"use strict";n.d(t,"b",function(){return a}),n.d(t,"d",function(){return m}),n.d(t,"c",function(){return s}),n.d(t,"e",function(){return l}),n.d(t,"f",function(){return p}),n.d(t,"a",function(){return E}),n.d(t,"g",function(){return T}),n.d(t,"h",function(){return O});var r,a,o,i=n("lSNA"),c=n.n(i);(o=a=a||{}).Doc="Doc",o.Sheet="Sheet",o.Slide="Slide",o.Box="Box",o.Wiki="Wiki";var s,u,l,d,p,_,E,f,T,S,m=0;(u=s=s||{})[u.EditorMount=1]="EditorMount",u[u.Done=2]="Done",u.SectionNavRendered="SectionNavRendered",u.CommentRendered="CommentRendered",(d=l=l||{})[d.Done=1]="Done",(_=p=p||{})[_.Done=1]="Done",(f=E=E||{})[f.Done=1]="Done",(S=T=T||{})[S.Done=1]="Done";var O=(r={},c()(r,a.Doc,s.Done),c()(r,a.Sheet,l.Done),c()(r,a.Slide,p.Done),c()(r,a.Box,E.Done),c()(r,a.Wiki,T.Done),r)},R6YR:function(e,t,n){"use strict";n("hphf").a.afterStore=Date.now()},RFOY:function(e,t){e.exports=navigator.cdn_host+"/ccm/pc/web/resource/bear/public/icon_file_pages_nor.9e4fe2a4861b725342fc.ico"},RHO4:function(e,t,n){},"RXE/":function(e,E,m){"use strict";(function(f){m.d(E,"a",function(){return p});var e=m("lwsE"),n=m.n(e),t=m("W8MJ"),r=m.n(t),a=m("a1gu"),o=m.n(a),i=m("Nsbk"),c=m.n(i),s=m("7W2i"),u=m.n(s),l=m("q1tI"),T=m.n(l),d=m("TSYQ"),S=m.n(d),p=(m("LZKS"),function(e){var t=e.type,n=e.style,r=e.className,a=e.cancelable,o=e.cancelText,i=e.closable,c=e.actionText,s=e.processable,u=e.process,l=e.children,d=e.onCancel,p=e.onClose,_=e.onActionClick,E=S()(r,"layout-row layout-cross-center toast","toast_".concat(t));return T.a.createElement("div",{className:E,style:n},T.a.createElement("span",{className:S()("toast__icon","svg-icon_".concat(t))}),T.a.createElement("span",{className:"toast__content flex",style:{msFlex:"0 0 auto"}},l),a&&T.a.createElement("span",{className:"toast__cancel",onClick:d},o||f("common.undo")),i&&T.a.createElement("span",{className:"toast__close",onClick:p}),c&&T.a.createElement("span",{className:"toast__action",onClick:_},c),s&&T.a.createElement("div",{className:"toast__process"},T.a.createElement("div",{className:"toast__process__rate",style:{width:"".concat(u,"%")}})))}),_=function(e){function t(){var r;return n()(this,t),(r=o()(this,c()(t).apply(this,arguments))).close=function(){r.clearCloseTimer(),r.props.onClose&&r.props.onClose()},r.handleCancel=function(){var e=r.props,t=e.onCancel,n=e.closeAfterCancel;t&&t.apply(void 0,arguments),n&&r.close()},r.onActionClick=function(){r.close(),r.props.onActionClick&&r.props.onActionClick()},r}return u()(t,e),r()(t,[{key:"componentDidMount",value:function(){this.props.keepAlive||this.props.duration&&(this.closeTimer=window.setTimeout(this.close,this.props.duration))}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.duration===this.props.duration&&(this.props.keepAlive||this.closeTimer)||(this.clearCloseTimer(),e.duration&&(this.closeTimer=window.setTimeout(this.close,e.duration)))}},{key:"componentWillUnmount",value:function(){this.clearCloseTimer()}},{key:"clearCloseTimer",value:function(){this.closeTimer&&(clearTimeout(this.closeTimer),this.closeTimer=null)}},{key:"render",value:function(){var e=this.props;return T.a.createElement(p,Object.assign({},e,{onCancel:this.handleCancel,onClose:this.close,onActionClick:this.onActionClick}))}}]),t}(l.PureComponent);_.defaultProps={closable:!1,duration:3e3},E.b=_}).call(this,m("2vAP"))},RxHm:function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n("lwsE"),a=n.n(r),o=n("W8MJ"),i=n.n(o),c=n("OX8E"),s="@GLOBAL/networkStateChange",u=function(){function t(e){var n=this;a()(this,t),this.handleOnline=function(){var e={connected:n._isOnline=!0};window.__NETWORK_STATE__=e,n.eventEmitterInstance.emit(s,e)},this.handleOffline=function(){var e={connected:n._isOnline=!1};window.__NETWORK_STATE__=e,n.eventEmitterInstance.emit(s,e)},this.on=function(e){n.checkWatching();var t=Array.isArray(e)?e:[e];n.eventEmitterInstance.addListeners(s,t)},this.off=function(e){var t=Array.isArray(e)?e:[e];n.eventEmitterInstance.removeListeners(s,t)},this.eventEmitterInstance=e,this._isOnline=!0,window.__NETWORK_STATE__={connected:this._isOnline}}return i()(t,[{key:"watch",value:function(){window.addEventListener("online",this.handleOnline),window.addEventListener("offline",this.handleOffline),this._isWatching=!0}},{key:"unwatch",value:function(){window.removeEventListener("online",this.handleOnline),window.removeEventListener("offline",this.handleOffline),this._isWatching=!1}},{key:"checkWatching",value:function(){if(!this._isWatching)throw Error("NetworkWatcher was not initialized")}},{key:"isOnline",get:function(){return this._isOnline}},{key:"isWatching",get:function(){return this._isWatching}}]),t}();u.channel=s;var l=function(t,n){return function(e){(e.connected?t:n)()}},d=new u(c.a);t.b=d},S9xK:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r={SET_DRIVE_FILE_INFO:"SET_DRIVE_FILE_INFO",SET_IS_FILE_DRAGGING:"SET_IS_FILE_DRAGGING",SET_CURRENT_FOLDER_IMAGE_LIST_INFO:"SET_CURRENT_FOLDER_IMAGE_LIST_INFO",RESET_CURRENT_FOLDER_IMAGE_LIST_INFO:"RESET_CURRENT_FOLDER_IMAGE_LIST_INFO",SET_BOX_SUITE_IS_IN_EDIT_MODE:"SET_BOX_SUITE_IS_IN_EDIT_MODE",SET_IS_PDF_PREVIEW_ON:"SET_IS_PDF_PREVIEW_ON",SET_FIND_FUNCTION_IS_AVAILABLE:"SET_FIND_FUNCTION_IS_AVAILABLE"}},SGN9:function(e,t,n){"use strict";var a=n("G8Hj"),r=n("hMnB"),o=n.n(r),i=n("EVj1"),c=n("QM+C"),s=function(e){return'[data-selector="'.concat(e,'"]')};n("o0o1"),n("yXPU"),n("JOI2");var u=n("sLU5"),l=n("OX8E"),d=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return l.a.emitEvent(u.a.PC.DOCS.ONBOARDING.ADD_STEP,t)},p=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return l.a.emitEvent(u.a.PC.DOCS.ONBOARDING.REMOVE_STEP,t)},_=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return l.a.emitEvent(u.a.PC.DOCS.ONBOARDING.HIDE_STEP,t)},E=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return l.a.emitEvent(u.a.PC.DOCS.ONBOARDING.SHOW_STEP,t)},f=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return l.a.emitEvent(u.a.PC.DOCS.ONBOARDING.ACKNOWLEDGE_STEP,t)},T=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return l.a.emitEvent(u.a.PC.DOCS.ONBOARDING.COMPLETE_STEP,t)},S=function(){return l.a.emitEvent(u.a.PC.DOCS.ONBOARDING.SCAN_STEP)},m=function(){return l.a.emitEvent(u.a.PC.DOCS.ONBOARDING.RENDER_STEP)},O=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return l.a.emitEvent(u.a.PC.DOCS.ONBOARDING.COMPLETE_STEP_ONLY_LOCAL,t)},b=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return l.a.emitEvent(u.a.PC.DOCS.ONBOARDING.COMPLETE_MANUAL_GUIDE,t)},y=function(){return l.a.emitEvent(u.a.PC.DOCS.ONBOARDING.CLOSE_UNDO_REDO_CALLOUT)},h=function(e){return l.a.on(u.a.PC.DOCS.ONBOARDING.CLOSE_UNDO_REDO_CALLOUT,e)},v=function(e){return l.a.off(u.a.PC.DOCS.ONBOARDING.CLOSE_UNDO_REDO_CALLOUT,e)};n.d(t,"g",function(){return C}),n.d(t,"n",function(){return R}),n.d(t,"m",function(){return g}),n.d(t,"h",function(){return k}),n.d(t,"k",function(){return D}),n.d(t,"j",function(){return j}),n.d(t,"i",function(){return s}),n.d(t,"b",function(){return d}),n.d(t,"q",function(){return p}),n.d(t,"l",function(){return _}),n.d(t,"t",function(){return E}),n.d(t,"a",function(){return f}),n.d(t,"f",function(){return T}),n.d(t,"s",function(){return S}),n.d(t,"r",function(){return m}),n.d(t,"e",function(){return O}),n.d(t,"d",function(){return b}),n.d(t,"c",function(){return y}),n.d(t,"p",function(){return h}),n.d(t,"o",function(){return v});var I=function(){if(c.isAnonymousAccess)return!0;var e=Object(i.l)(o.a.search).onboarding,t=void 0===e?"true":e;return"false"===t||"0"===t}(),C=function(e){return a.GROUP_STEPS[e][0]},R=function(e,t){return!!I||e.getIn([t,a.STEP_STATE.DONE])},g=function(t,e){var n=a.GROUP_STEPS[e][0],r=a.GROUP_STEPS[e].slice(1);return e===a.GROUP_TYPE.CREATE_DOC&&(r=r.filter(function(e){return e!==a.STEP_TYPES.create_doc_group_congrats})),R(t,n)||!r.some(function(e){return!R(t,e)})},k=function(e,t){return e.getIn([t,a.STEP_STATE.CONTEXT])},D=function(e,t,n){return e.getIn([t,n])},j=function(e,t){return e?{"data-selector":t}:{}}},SIew:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n("IwEy"),a=Object.assign({},Object(r.c)("CURRENT_SUITE"),{SET_CURRENT_SUITE_TOKEN:"SET_CURRENT_SUITE_TOKEN"},Object(r.c)("UPDATE_TITLE",!1),{},Object(r.c)("UPDATE_META",!1),{UPDATE_SHEET_META:"UPDATE_SHEET_META",SYNC_TAB_TITLE:"SYNC_TAB_TITLE",UPDATE_DOC_TITLE:"UPDATE_DOC_TITLE",SYNC_NOTE_META:"SYNC_NOTE_META",SET_SHOULD_PRINT:"SET_SHOULD_PRINT",UPDATE_APPEAL_STATUS:"UPDATE_APPEAL_STATUS",UPDATE_HAS_COPIED:"UPDATE_HAS_COPIED"},Object(r.c)("TOKEN_INFO"),{},Object(r.c)("COPY_SUITE",!1),{CHECK_SUITE_EXTERNAL:"CHECK_SUITE_EXTERNAL",UPDATE_SUITE_VISIBILITY_STATE:"UPDATE_SUITE_VISIBILITY_STATE"},Object(r.c)("POST_RECENT_REPORT",!1),{POST_RECENT_WIKI:"POST_RECENT_WIKI",SET_HELP_BTN_VISIBLE:"SET_HELP_BTN_VISIBLE",SET_HELP_BTN_ACTIVATED:"SET_HELP_BTN_ACTIVATED",SET_HELP_SIDE_BAR_VISIBLE:"SET_HELP_SIDE_BAR_VISIBLE"},Object(r.c)("SUITE_WIKI_INFO"),{},Object(r.c)("BATCH_WIKI_INFO"),{},Object(r.c)("BATCH_SPACE_INFO_BY_WIKI_TOKEN"),{REMOVE_SUITE_WIKI_INFO:"REMOVE_SUITE_WIKI_INFO",SET_EMBED_SIDEBAR_VISIBLE:"SET_EMBED_SIDEBAR_VISIBLE",SET_CUSTOM_ICON:"SET_CUSTOM_ICON"},Object(r.c)("WIKI_ENTITY",!0),{SET_EXPLORER_WIKI_ENTITY:"SET_EXPLORER_WIKI_ENTITY"})},SLjs:function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"d",function(){return o}),n.d(t,"c",function(){return s});var r,a,o,i,c=n("ahx2");(a=r=r||{})[a.NONE=1]="NONE",a[a.ONLY_TRANSLATION=2]="ONLY_TRANSLATION",a[a.WITH_ORIGINAL=3]="WITH_ORIGINAL",(i=o=o||{}).LOADING="loading",i.FINISH="finish",i.FAIL="fail",i.MOUNT="mount",i.SYNC_LOADING="sync_loading",i.SYNC_FINISH="sync_finish",i.SYNC_FAIL="sync_fail",i.COMMENT_FAIL="comment_fail";var s=Object.assign({},c.STATUS_CODE,{DATA_ERROR:101})},SeK8:function(e,t){e.exports=navigator.cdn_host+"/ccm/pc/web/resource/bear/public/icon_file_word_nor.e1832c8a4d5d9df41522.ico"},SebV:function(e,t,n){"use strict";function r(o){var i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};console.error(o),window.Slardar&&window.Slardar("Sentry",function(a){a.withScope(function(e){var t=i.level,n=i.tags,r=i.extras;t&&e.setLevel(t),n&&e.setTags(n),r&&e.setExtras(r),a.captureException(o)})})}function a(t){window.Slardar&&(console.warn(t),window.Slardar("Sentry",function(e){e.captureMessage(t)}))}n.d(t,"a",function(){return r}),n.d(t,"b",function(){return a})},TJya:function(e,t,n){"use strict";n.d(t,"a",function(){return _}),n.d(t,"b",function(){return T});var r=n("lSNA"),a=n.n(r),o=n("A2D6"),i=n("FnDM"),c=n("fIXH"),s=n("puJD"),u=n("s+vT"),l=n("mNQo"),d=n("AESI"),p=n("7EGn"),_=function(e){var t=E(e),n={request_id:t,os:i.k,app_version:i.b,os_version:i.l,platform:i.p};return Object.assign({},f(e),{"Request-Id":t,"X-Request-Id":t,"x-tt-trace-id":t,"X-CSRFToken":Object(o.b)("_csrf_token")||"","F-Version":window&&window.rv_rev||"",Context:S(n)})},E=function(e){return e&&e.requestId?e.requestId:Object(u.a)()},f=function(e){if(!e||!e.url)return null;var t=Object(p.default)(e,["headers","x-command"]);return void 0!==t?a()({},c.o,t):null},T=function(e){return e?[d.GET_SHEET_HISTORY_FIRST_V2,Object(l.b)()].includes(e)?a()({},c.o,Object(s.a)(e)):e.startsWith(d.GET_SHEET_HISTORY_LIST)?a()({},c.o,c.h):{}:{}},S=function(n){return Object.keys(n).map(function(e){var t="",t="function"==typeof n[e]?n[e]():n[e];return"".concat(e,"=").concat(t)}).join(";")}},TNRG:function(e,t,n){"use strict";var r=n("o0o1"),a=n.n(r),o=n("yXPU"),i=n.n(o),c=n("Qazs"),s=n("2ACu"),u=n("SebV"),l=n("5pAJ"),d=n.n(l).a.createInstance({name:"creation-explorer:".concat(window.User.id)}),p=d.setItem.bind(d),_=d.getItem.bind(d),E=d.removeItem.bind(d);n.d(t,"a",function(){return P}),n.d(t,"c",function(){return d}),n.d(t,"f",function(){return p}),n.d(t,"d",function(){return _}),n.d(t,"e",function(){return E});var f=!1;function T(){return S.apply(this,arguments)}function S(){return(S=i()(a.a.mark(function e(){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(c.a)();case 3:return e.abrupt("return",e.sent.default());case 6:return e.prev=6,e.t0=e.catch(0),f||(f=!0,Object(s.default)("dev_utils_get_store_failure"),Object(u.a)(e.t0),Object(u.b)("DEV_UTILS_GET_STORE_FAILURE")),e.abrupt("return",{getItem:function(e){return window.localStorage.getItem(e)},setItem:function(e,t){return window.localStorage.setItem(e,t)},removeItem:function(e){return window.localStorage.removeItem(e)},keys:function(){return Object.keys(window.localStorage)},clear:function(){return window.localStorage.clear()},version:1});case 10:case"end":return e.stop()}},e,null,[[0,6]])}))).apply(this,arguments)}var m,O,b,y,h,v,I={getItem:(v=i()(a.a.mark(function e(t){var n;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T();case 2:return n=e.sent,e.abrupt("return",n.getItem(t));case 4:case"end":return e.stop()}},e)})),j),setItem:(h=i()(a.a.mark(function e(t,n){var r;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T();case 2:return r=e.sent,e.abrupt("return",r.setItem(t,n));case 4:case"end":return e.stop()}},e)})),D),removeItem:(y=i()(a.a.mark(function e(t){var n;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T();case 2:return n=e.sent,e.abrupt("return",n.removeItem(t));case 4:case"end":return e.stop()}},e)})),k),clear:(b=i()(a.a.mark(function e(){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T();case 2:e.sent.clear();case 4:case"end":return e.stop()}},e)})),g),getVersion:(O=i()(a.a.mark(function e(){var t;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T();case 2:return t=e.sent,e.abrupt("return",t.version);case 4:case"end":return e.stop()}},e)})),R),keys:(m=i()(a.a.mark(function e(){var t;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T();case 2:return t=e.sent,e.abrupt("return",t.keys());case 4:case"end":return e.stop()}},e)})),C)};function C(){return m.apply(this,arguments)}function R(){return O.apply(this,arguments)}function g(){return b.apply(this,arguments)}function k(e){return y.apply(this,arguments)}function D(e,t){return h.apply(this,arguments)}function j(e){return v.apply(this,arguments)}var L,w,N,U,P={getItem:(U=i()(a.a.mark(function e(t){var n;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T();case 2:return n=e.sent,e.abrupt("return",n.getItem(t,{},!0));case 4:case"end":return e.stop()}},e)})),H),setItem:(N=i()(a.a.mark(function e(t,n){var r;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T();case 2:return r=e.sent,e.abrupt("return",r.setItem(t,n,!0));case 4:case"end":return e.stop()}},e)})),F),removeItem:(w=i()(a.a.mark(function e(t){var n;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T();case 2:return n=e.sent,e.abrupt("return",n.removeByHashKey(t));case 4:case"end":return e.stop()}},e)})),x),keys:(L=i()(a.a.mark(function e(){var t;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T();case 2:return t=e.sent,e.abrupt("return",t.keys());case 4:case"end":return e.stop()}},e)})),M)};function M(){return L.apply(this,arguments)}function x(e){return w.apply(this,arguments)}function F(e,t){return N.apply(this,arguments)}function H(e){return U.apply(this,arguments)}t.b=I},TWwi:function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"c",function(){return c}),n.d(t,"b",function(){return s});var r=n("rLED"),a=n("dDhe"),o=n("GIL9");function i(){return Object(r.I)("code_block_v2_enabled")||Object(a.c)()||Object(o.a)()}function c(){return Object(r.I)("code_block_v2_upgrade_enabled")}function s(){return Object(r.I)("code_block_v2_toast_enable")}},TYVn:function(e,t,n){"use strict";n.d(t,"b",function(){return d}),n.d(t,"a",function(){return p}),n.d(t,"c",function(){return E});var r=n("K9Ia"),a=n("S5bw"),o=n("AJqF"),i=n("p0Sj"),c=n("aGNc"),s=n("VnD/"),u=new r.a,l=new r.a;function d(e){return u.next(e)}function p(){l.next()}var _=new a.a(1);u.pipe(Object(o.a)(1e3,void 0,{leading:!0,trailing:!0})).subscribe(_),l.pipe(Object(i.a)(),Object(c.a)(null)).subscribe(_);var E=_.pipe(Object(s.a)(function(e){return null!==e}))},TovF:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n("IwEy"),a=Object.assign({},Object(r.c)("CURRENT_USER"),{},Object(r.c)("USER_DETAIL"),{DELETE_CURRENT_USER:"DELETE_CURRENT_USER"},Object(r.c)("MINA_CONFIG"),{PASSPORT_HEARTBEAT:"PASSPORT_HEARTBEAT",SET_USER_INFO:"SET_USER_INFO",SAVE_LOCAL_MINA_CONFIG:"SAVE_LOCAL_MINA_CONFIG",UPDATE_CURRENT_USER:"UPDATE_CURRENT_USER"})},TtEC:function(e,t,n){"use strict";n.d(t,"f",function(){return o}),n.d(t,"g",function(){return i}),n.d(t,"b",function(){return c}),n.d(t,"i",function(){return s}),n.d(t,"c",function(){return u}),n.d(t,"j",function(){return l}),n.d(t,"d",function(){return p}),n.d(t,"e",function(){return _}),n.d(t,"a",function(){return E}),n.d(t,"h",function(){return f});var r=n("rLED"),a=n("skFV");function o(){return Object(r.M)("max_preview_poll_count",40)}function i(){return Object(r.M)("pdf_range_chunk_size",65536)}function c(){return Object(r.d)("upload_manager_enable")}function s(){return Object(r.N)("upload_manager_least_version","")}function u(){return Object(r.I)("upload_version_disable")}var l=Object(r.I)("secure_link_enable"),d=Boolean(Object(a.k)().fileWebOfficeDomain);function p(){return Object(r.I)("wps_edit")&&d}function _(){return Object(r.I)("wps_preview")&&d}function E(){return Object(r.I)("create_wps_ppt")&&d}function f(){return Object(r.L)("video_unsupported_codec")}},U50s:function(e,t,n){"use strict";n.d(t,"e",function(){return R}),n.d(t,"f",function(){return g}),n.d(t,"d",function(){return N}),n.d(t,"c",function(){return V}),n.d(t,"b",function(){return Y}),n.d(t,"a",function(){return Q}),n.d(t,"g",function(){return J});n("QILm");var r,a,o,i,c,s,u,l,d=n("lSNA"),p=n.n(d),_=n("Ba1m"),E=n("3Hq1"),f=n("UbfO"),T=n("QM+C"),S=n("+bx0"),m=(r={},p()(r,S.d.ALL,f.j.ALL),p()(r,S.d.ANY,f.j.ANY),r),O=(a={},p()(a,f.j.ALL,S.d.ALL),p()(a,f.j.ANY,S.d.ANY),a),b=(o={},p()(o,T.NUM_FILE_TYPE.DOC,f.h.DOC),p()(o,T.NUM_FILE_TYPE.SHEET,f.h.SHEET),p()(o,T.NUM_FILE_TYPE.BITABLE,f.h.BITABLE),p()(o,T.NUM_FILE_TYPE.MINDNOTE,f.h.MINDNOTE),p()(o,T.NUM_FILE_TYPE.SLIDE,f.h.SLIDE),p()(o,T.NUM_FILE_TYPE.FILE,f.h.FILE),o),y=(i={},p()(i,f.h.DOC,T.NUM_FILE_TYPE.DOC),p()(i,f.h.SHEET,T.NUM_FILE_TYPE.SHEET),p()(i,f.h.BITABLE,T.NUM_FILE_TYPE.BITABLE),p()(i,f.h.MINDNOTE,T.NUM_FILE_TYPE.MINDNOTE),p()(i,f.h.SLIDE,T.NUM_FILE_TYPE.SLIDE),p()(i,f.h.FILE,T.NUM_FILE_TYPE.FILE),i),h=(c={},p()(c,S.c.TITLE,f.d.Title),p()(c,S.c.BODY,f.d.Body),p()(c,S.c.COMMENT,f.d.Comment),c),v=(s={},p()(s,f.d.Title,S.c.TITLE),p()(s,f.d.Body,S.c.BODY),p()(s,f.d.Comment,S.c.COMMENT),s),I=(u={},p()(u,S.b.View,f.a.View),p()(u,S.b.Edit,f.a.Edit),p()(u,S.b.MentionBy,f.a.MentionBy),p()(u,S.b.Comment,f.a.Comment),p()(u,S.b.CommentBy,f.a.CommentBy),p()(u,S.b.Share,f.a.ShareTo),p()(u,S.b.SharedWith,f.a.SharedWith),p()(u,S.b.SendToChat,f.a.SendTo),u),C=(l={},p()(l,f.a.View,S.b.View),p()(l,f.a.Edit,S.b.Edit),p()(l,f.a.Comment,S.b.Comment),p()(l,f.a.CommentBy,S.b.CommentBy),p()(l,f.a.MentionBy,S.b.MentionBy),p()(l,f.a.ShareTo,S.b.Share),p()(l,f.a.SharedWith,S.b.SharedWith),p()(l,f.a.SendTo,S.b.SendToChat),l),R=function(e){return m[e]},g=function(e){return O[e]},k=function(e){var t=b[e];return Object(E.default)(t)?f.h.ALL:t},D=function(e){return y[e]},j=function(e){var t=[],n=e[_.b.User];Object(E.default)(n)||(t=t.concat(n));var r=e[_.b.Group];return Object(E.default)(r)||(t=t.concat(r)),t},L=function(e){return e.map(function(e){return"string"==typeof e?e:e.owner_id})},w=function(e){var t={},n=e[_.b.User];Object(E.default)(n)||(t[_.b.User]=L(n));var r=e[_.b.Group];return Object(E.default)(r)||(t[_.b.Group]=L(r)),t},N=function(e){var t=e.filters.map(function(e){var t=e.owners;if(void 0===t)return e;var n=w(t);return Object.assign({},e,{owners:n})});return e.set("filters",t)},U=function(e){return h[e]},P=function(e){return v[e]},M=function(e){return I[e]},x=function(e){return Object(E.default)(e.owners)?f.k.AnyOne:f.k.Specific},F=function(e){return Object(E.default)(e.recent_day)?f.i.NoLimit:e.recent_day},H=function(e){var t=Object(E.default)(e.file_types)?f.h.ALL:k(e.file_types[0]);return t},B=function(e,t){var n,r,a;switch(e){case S.b.ObjInChat:return p()({},f.c.MeOrSuiteAttributes,f.d.Chat);case S.b.DocumentContains:return p()({},f.c.MeOrSuiteAttributes,U(t.location));case S.b.IsOwner:return p()({},f.c.MeOrSuiteAttributes,f.g.Owner);case S.b.IsSuiteTypes:return n={},p()(n,f.c.MeOrSuiteAttributes,f.g.Type),p()(n,f.c.SuiteType,H(t)),n;case S.b.ReceiveInChat:return p()({},f.c.MeOrSuiteAttributes,f.d.Chat);case S.b.View:case S.b.Edit:case S.b.Mention:case S.b.Comment:return r={},p()(r,f.c.MeOrSuiteAttributes,f.f.Me),p()(r,f.c.Behavior,M(e)),p()(r,f.c.TimeLimit,F(t)),r;case S.b.Share:case S.b.SendToChat:case S.b.CommentBy:case S.b.MentionBy:case S.b.SharedWith:var o=(a={},p()(a,f.c.MeOrSuiteAttributes,f.f.Me),p()(a,f.c.Behavior,M(e)),p()(a,f.c.UserSpan,x(t)),a),i=t.owners;return!Object(E.default)(i)&&0<j(i).length&&(o[f.c.TimeLimit]=F(t)),o;default:return{}}},K=function(e){var t={},n=e.filter(function(e){return e.owner_type===T.OWNER_TYPE.LARK}),r=n.map(function(e){return e.owner_id});0<n.length&&(t[_.b.User]=r);var a=e.filter(function(e){return e.owner_type===T.OWNER_TYPE.LARK_CHAT_GROUP}),o=a.map(function(e){return e.owner_id});return 0<a.length&&(t[_.b.Group]=o),t},W=function(e){return C[e]},V=function(e){return e.meOrSuiteAttributes===f.g.Type?S.b.IsSuiteTypes:e.meOrSuiteAttributes===f.g.Owner?S.b.IsOwner:e.meOrSuiteAttributes===f.d.Chat?S.b.ObjInChat:f.e.includes(e.meOrSuiteAttributes)?S.b.DocumentContains:e.meOrSuiteAttributes!==f.f.Me||Object(E.default)(e.behavior)?e.meOrSuiteAttributes!==f.f.Me&&f.e.includes(e.meOrSuiteAttributes)?S.b.DocumentContains:S.b.None:W(e.behavior)},Y=function(e){var t=e.owners,n=e.recent_day,r=e.search_text,a=e.type,o={};return Object(E.default)(t)||(o[f.c.UserOrChat]=j(t)),Object(E.default)(n)||(o[f.c.TimeLimit]=n),Object(E.default)(r)||(o[f.c.SearchText]=r),Object.assign({},o,{},B(a,e))},Q=function(e){var t=e.userOrChat,n=e.timeLimit,r=e.searchText,a=e.suiteType,o=e.meOrSuiteAttributes,i={},c=V(e);return c!==S.b.None&&(i.type=c),c===S.b.DocumentContains&&(i.location=P(o)),!Object(E.default)(t)&&0<t.length&&(i.owners=K(t)),Object(E.default)(n)||n===f.i.NoLimit||(i.recent_day=n),Object(E.default)(r)||""===r||(i.search_text=r),Object(E.default)(a)||a===f.h.ALL||(i.file_types=[D(a)]),i},J=function(e,o){var t=e.filters;if(!t||t&&0===t.length)return Object.assign({},e,{filters:[]});if(!o||o&&0===Object.keys(o).length)return Object.assign({},e,{filters:t});var n=e.filters.map(function(e){var t;if(void 0===e.owners)return e;var n=(e.owners[_.b.User]||[]).map(function(e){var t=o[e];return Object.assign({},t,{owner_type:T.OWNER_TYPE.LARK,owner_id:e})}),r=(e.owners[_.b.Group]||[]).map(function(e){return Object.assign({},o[e],{owner_id:e})}),a=(t={},p()(t,_.b.User,n),p()(t,_.b.Group,r),t);return Object.assign({},e,{owners:a})});return Object.assign({},e,{filters:n})}},USG6:function(e,t,n){"use strict";n.r(t),n.d(t,"HIDE_FINDBAR",function(){return r}),n.d(t,"FREEZE_SPREAD_TOGGLE",function(){return a}),n.d(t,"HIDE_HYPER_LINK_EDITOR",function(){return o}),n.d(t,"REOPEN_SHEET_COMMENT",function(){return i}),n.d(t,"HIDE_DROPDOWN_MENU",function(){return c}),n.d(t,"HIDE_FILTER_MENU",function(){return s}),n.d(t,"SET_EMBED_SHEET_ALLOW_COMMENT",function(){return u}),n.d(t,"EXPORT_FILE",function(){return l}),n.d(t,"CONTENT_VISIBLE",function(){return d}),n.d(t,"TOGGLE_HISTORY",function(){return p}),n.d(t,"TOGGLE_TITLE_FOCUS_STATUS",function(){return _});var r="HIDE_FINDBAR",a="FREEZE_SPREAD_TOGGLE",o="HIDE_HYPER_LINK_EDITOR",i="REOPEN_SHEET_COMMENT",c="HIDE_DROPDOWN_MENU",s="HIDE_FILTER_MENU",u="SET_EMBED_SHEET_ALLOW_COMMENT",l="EXPORT_FILE",d="CONTENT_VISIBLE",p="TOGGLE_HISTORY",_="TOGGLE_TITLE_FOCUS_STATUS"},UbfO:function(e,C,R){"use strict";(function(e){R.d(C,"j",function(){return n}),R.d(C,"i",function(){return a}),R.d(C,"a",function(){return i}),R.d(C,"f",function(){return s}),R.d(C,"d",function(){return u}),R.d(C,"e",function(){return b}),R.d(C,"k",function(){return E}),R.d(C,"g",function(){return T}),R.d(C,"b",function(){return m}),R.d(C,"c",function(){return y}),R.d(C,"h",function(){return v});var t,n,r,a,o,i,c,s,u,l,d=R("lSNA"),p=R.n(d),_=R("QM+C");(r=n=n||{}).ALL="ALL",r.ANY="ANY",(o=a=a||{})[o.NoLimit=-1]="NoLimit",o[o.Seven=7]="Seven",o[o.Fifteen=15]="Fifteen",o[o.Thirty=30]="Thirty",o[o.Ninety=90]="Ninety",(c=i=i||{}).Edit="Edit",c.View="View",c.Comment="Comment",c.ShareTo="ShareTo",c.SendTo="SendTo",c.MentionBy="MentionBy",c.CommentBy="CommentBy",c.SharedWith="SharedWith",(s=s||{}).Me="Me",(l=u=u||{}).Title="Title",l.Body="Content",l.Comment="Comment",l.Chat="Chat";var E,f,T,S,m,O,b=[u.Title,u.Body,u.Comment,u.Chat];(f=E=E||{}).AnyOne="UserType_AnyOne",f.Specific="UserType_Specific",(S=T=T||{}).Type="Type",S.Owner="Owner",(O=m=m||{}).Group="Group",O.RelatedToMe="RelatedToMe",O.RecentOperation="RecentOperation",O.SpecificContent="SpecificContent",O.More="More";var y,h,v,I;t={},p()(t,m.Group,{name:e("smart_collection_group"),description:e("smart_collection_group_detail"),filters:[{type:u.Chat},{type:u.Title},{type:T.Owner}]}),p()(t,m.RelatedToMe,{name:e("smart_collection_about_me"),description:e("smart_collection_about_me_detail"),fields:[{type:i.CommentBy},{type:i.SharedWith},{type:i.MentionBy}]}),p()(t,m.RecentOperation,{name:e("smart_collection_recent"),description:e("smart_collection_recent_detail"),fields:[{type:i.View},{type:i.Edit},{type:i.Comment}]}),p()(t,m.SpecificContent,{name:e("smart_collection_content"),description:e("smart_collection_content_detail"),fields:[{type:u.Title},{type:u.Body},{type:T.Owner},{type:T.Type}]}),p()(t,m.More,{name:e("smart_collection_more"),description:e("smart_collection_more_detail")});(h=y=y||{}).MeOrSuiteAttributes="meOrSuiteAttributes",h.Behavior="behavior",h.UserOrChat="userOrChat",h.TimeLimit="timeLimit",h.UserSpan="userSpan",h.SuiteType="suiteType",h.SearchText="searchText",h.UnionType="union_type",(I=v=v||{})[I.ALL=-1]="ALL",I[I.DOC=_.NUM_FILE_TYPE.DOC]="DOC",I[I.SHEET=_.NUM_FILE_TYPE.SHEET]="SHEET",I[I.BITABLE=_.NUM_FILE_TYPE.BITABLE]="BITABLE",I[I.MINDNOTE=_.NUM_FILE_TYPE.MINDNOTE]="MINDNOTE",I[I.SLIDE=_.NUM_FILE_TYPE.SLIDE]="SLIDE",I[I.FILE=_.NUM_FILE_TYPE.FILE]="FILE"}).call(this,R("2vAP"))},"Ux/T":function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return a});var o={2:"DOC"};function r(e,t,n){var r=e.parentType||"",a=e.parentToken;return{serviceType:r=r||(o[t]||""),serviceToken:a=a||n}}function a(e,t,n){return n?"".concat(e,"-").concat(t,"-").concat(n):"".concat(e,"-").concat(t)}},VQSS:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n("u3oV"),a=function(e){return Object(r.a)(e,function(e){return null!=e})}},"VSo/":function(e,B,K){"use strict";(function(i){var e=K("hMnB"),n=K.n(e),c=K("q1tI"),r=K("mLw1"),s=K("jKe7"),u=K("6Cld"),t=K("TSYQ"),l=K.n(t),d=K("fjGk"),p=K("jp/M"),_=K("KrGf"),a=K("AcF7"),o=K("Pnpm"),E=K("DC6e"),f=K("zoZl"),T=K("sRCh"),S=K("gMJz"),m=K("+l2g"),O=K("iP/4"),b=K("lQZd"),y=K("EQyw"),h=K("5dbN"),v=K("QBD7"),I=K("zIjt"),C=K("p5D6"),R=K("R/2b"),g=K("7+rO"),k=K.n(g),D=K("skFV"),j=(K("aaZh"),K("rbDS"),K("zcUw"));i&&K.e("embedded_index").then(K.t.bind(null,"skAI",7)),Object(C.a)(k.a);var L="mainContainer",w=!(O.a.isMobile||O.a.isLark||O.a.isOpendoc||Object(_.b)()),N=(Object(_.b)()?o:a).a,U=function(){return c.createElement(r.a,{to:p.route.URL.HOME})},P=function(){return c.createElement(r.a,{to:p.route.URL.SHARE_FOLDERS})},M=function(){var e=n.a.pathname.split("/"),t=e[e.length-1];return c.createElement(r.a,{to:p.route.URL.WIKI_SPACE_SETTING+t})},x=function(){return Object(y.c)(),U()},F=function(){return c.createElement(c.Fragment,null,c.createElement(u.a,{path:p.route.URL.FOLDER,strict:!0,exact:!0,render:U}),c.createElement(u.a,{path:p.route.PATH.HOME_RECENTS,strict:!0,exact:!0,render:U}),c.createElement(u.a,{path:p.route.PATH.HOME_STAR,strict:!0,exact:!0,render:U}),c.createElement(u.a,{path:p.route.PATH.QUICKACCESS,strict:!0,exact:!0,render:U}),c.createElement(u.a,{path:p.route.PATH.SHARE_FILES,strict:!0,exact:!0,render:P}),c.createElement(u.a,{path:p.route.PATH.WIKI_ABANDON_PATH4,strict:!0,exact:!0,render:M}),Object(y.a)()&&c.createElement(u.a,{path:p.route.PATH.FILE,render:x}),c.createElement(S.a,null))},H=function(e){var t=l()("app-main-container flex layout-row explorer-v3",{"is-suite":Object(h.isUnderSuiteView)()}),n=Object(b.k)(),r=function(e){return c.createElement(d.f,Object.assign({},e))},a=d.k,o=Object(_.b)();return c.createElement("div",{id:L,className:l()("app layout-column flex suite-".concat(n),{"docs-in-lark-pc":i,"has-hide-header":Object(I.c)(),anonymous:o})},c.createElement(E.a,{keepalive:!0,renderOnTimeout:!0,renderWhen:R.h},!o&&c.createElement(T.a,null),!i&&c.createElement(u.a,{path:"/",component:T.b})),Object(D.B)()&&c.createElement(u.a,{path:"/",component:T.c}),!i&&c.createElement(u.a,{path:"/",render:r}),c.createElement(E.a,{keepalive:!0,renderOnTimeout:!0,renderWhen:R.h},c.createElement(u.a,{path:"/",component:d.d}),c.createElement(u.a,{path:"/",component:f.a}),c.createElement(s.a,null,c.createElement(u.a,{path:p.route.PATH.DOC,component:a}),c.createElement(u.a,{path:p.route.PATH.SHEET,component:a}),c.createElement(u.a,{path:p.route.PATH.SLIDE,component:a}),c.createElement(u.a,{path:p.route.PATH.BITABLE,component:a}),c.createElement(u.a,{path:p.route.PATH.MINDNOTE,component:a}),c.createElement(u.a,{path:p.route.PATH.WIKI_INDEX,component:a}),c.createElement(u.a,{path:p.route.PATH.FILE,component:a})),c.createElement(u.a,{path:"/",component:d.j}),c.createElement(u.a,{path:"/",component:d.h}),c.createElement(u.a,{path:"/",component:d.b}),w&&c.createElement(u.a,{path:p.route.PATH.DOC,component:d.e}),c.createElement(d.c,null)),c.createElement("div",{className:t},Object(v.c)()?c.createElement(N,null):Object(v.b)()?c.createElement(m.a,null):c.createElement(d.g,null),c.createElement(F,null),Object(v.a)()&&!O.a.isOpendoc&&c.createElement(E.a,{keepalive:!0,renderOnTimeout:!0,renderWhen:R.h},c.createElement(d.a,null))),c.createElement(j.a,null),c.createElement(E.a,{keepalive:!0,renderOnTimeout:!0,renderWhen:R.h},c.createElement(d.i,null)))};B.a=H}).call(this,K("kCIs"))},VklI:function(e,t,n){"use strict";var r=n("C+Is");n.d(t,"a",function(){return r.b}),n.d(t,"b",function(){return r.c}),n.d(t,"c",function(){return r.d});var a=n("xS7L");n.d(t,"d",function(){return a.b}),n.d(t,"e",function(){return a.c}),n.d(t,"f",function(){return a.d})},WQFp:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n("m2Ce"),a=n("tU0o"),o=n("2Vt3"),i=(Object(o.e)()?a:r).a.getInstance()},Wbu0:function(e,i,c){"use strict";(function(Be){var e=c("o0o1"),Ge=c.n(e),Ke=c("oZtI"),We=c("7EGn"),Ve=c("jp/M"),Ye=c("X+Le"),Qe=c("aR0j"),Je=c("yiFV"),qe=c("Zc6/"),ze=c("XMIC"),Xe=c("bsTM"),Ze=c("/PhZ"),$e=c("GIKb"),et=c("rAc3"),n=Ge.a.mark(r),a=Ge.a.mark(it),tt=Ge.a.mark(st),t=Ge.a.mark(o),nt=Ve.actionTypes.explorer;function r(){var t;return Ge.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,Object(Ke.take)("*");case 3:return t=e.sent,e.next=6,Object(Ke.fork)(st,t);case 6:e.next=0;break;case 8:case"end":return e.stop()}},n)}function rt(e){var t=e.operator,n=e.successCount,r=e.failCount,a="";return a+=1<n?Be.call(null,"explorer.process.success.multi",t,n):r?Be.call(null,"explorer.process.success.multi",t,1):Be.call(null,"explorer.process.success.single",t),r&&(a+=Be("common.comma_seperator"),a+=Be.call(null,"explorer.process.fail.multi",r,t)),a}function at(e,t){return e[Ve.common.FROM_UNDO]?{type:Ve.common.TOAST_TYPE.success,content:Be("explorer.undo.success")}:t}function ot(e,t){var n,r=t.operator,a=t.failCount,o="",i=e.error;return i.code===Ve.error.MOVE_BIG_TREE?o=Be("explorer.move_big_tree_fail",r):(n=Object(Xe.c)(i))?o=n:o+=1<a?Be.call(null,"explorer.process.fail.multi",a,r):Be.call(null,"explorer.process.fail.single",r),o}function it(t){var n,r;return Ge.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null===t)return e.abrupt("return");e.next=2;break;case 2:if(n=Object(Xe.c)(t.error),r={type:Ve.common.TOAST_TYPE.error,content:""},n)return r.content=n,e.next=8,Object(Ke.put)(Object(Ye.showToast)(r));e.next=8;break;case 8:case"end":return e.stop()}},a)}function ct(e){return e?Ve.common.TOAST_TYPE.error:Ve.common.TOAST_TYPE.success}function st(t){var n,r,a,o,i,c,s,u,l,d,p,_,E,f,T,S,m,O,b,y,h,v,I,C,R,g,k,D,j,L,w,N,U,P,M,x,F,H,B,K,W,V,Y,Q,J,q,z,X,Z,$,ee,te,ne,re,ae,oe,ie,ce,se,ue,le,de,pe,_e,Ee,fe,Te,Se,me,Oe,be,ye,he,ve,Ie,Ce,Re,ge,Ae,ke,De,je,Le,we,Ne,Ue,Pe,Me,xe,Fe,He;return Ge.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(Object(qe.l)(t))return e.abrupt("return");e.next=3;break;case 3:if(n=t.type,r=t.rawAction,a=void 0===r?null:r,o=t.successAction,i=void 0===o?null:o,c=t.failAction,s=void 0===c?null:c,n){e.next=7;break}return e.abrupt("return");case 7:a||(n.match(Ve.actionTypes.suffix.SUCCESS)?i=t:s=t),e.t0=n,e.next=e.t0===nt.BATCH_TASK_START?11:e.t0===nt.BATCH_TASK_SUCCESS||e.t0===nt.BATCH_TASK_FAIL?18:e.t0===nt.BATCH_TASK_CANCEL?30:e.t0===nt.COMMON_ADD_FILE_TO_SUCCESS?34:e.t0===nt.COMMON_ADD_FILE_TO_FAIL?44:e.t0===nt.DELETE_RECENT_RECORD_SUCCESS?50:e.t0===nt.DELETE_RECENT_RECORD_FAIL?59:e.t0===nt.RESTORE_REMOVED_FILE_SUCCESS?65:e.t0===nt.RESTORE_REMOVED_FILE_FAIL?74:e.t0===nt.DELETE_OBJECT_SUCCESS?80:e.t0===nt.DELETE_OBJECT_FAIL?95:e.t0===nt.MOVE_FILE_SUCCESS?101:e.t0===nt.MOVE_FILE_FAIL?118:e.t0===nt.REMOVE_FILE_SUCCESS?124:e.t0===nt.REMOVE_FILE_FAIL?153:e.t0===nt.DELETE_REMOVED_FILE_SUCCESS?159:e.t0===nt.DELETE_REMOVED_FILE_FAIL?168:174;break;case 11:return e.next=13,Object(Ke.put)(Object(ze.a)());case 13:return u=function(){window.store.dispatch({type:Ve.actionTypes.explorer.CANCEL_BATCH_TASK})},l={content:Be("explorer.processing",Object(Xe.b)(t.subType,t.rawAction[Ve.common.FROM_UNDO])),cancelText:Be("explorer.cancel"),onCancel:u},e.next=17,Object(Ke.put)(Object(Ye.showBatchRequestToast)(l));case 17:return e.abrupt("break",175);case 18:return e.next=20,Object(Ke.put)(Object(Ye.closeBatchRequestToast)());case 20:return e.next=22,new Promise(function(e){setTimeout(function(){e(void 0)},300)});case 22:if(n.match(Ve.actionTypes.suffix.SUCCESS)&&t.rawAction[Ve.common.FROM_UNDO])return d={type:Ve.common.TOAST_TYPE.success,content:Be("explorer.undo.success")},e.next=26,Object(Ke.put)(Object(Ye.showToast)(d));e.next=27;break;case 26:return e.abrupt("return");case 27:return e.next=29,Object(Ke.fork)(st,{type:t.subType,rawAction:t.rawAction,failAction:t.failAction,successAction:t.successAction});case 29:return e.abrupt("break",175);case 30:return p={type:Ve.common.TOAST_TYPE.success,content:Be("explorer.process.success.single",Be("explorer.cancel"))},e.next=33,Object(Ke.put)(Object(Ye.showToast)(p));case 33:return e.abrupt("break",175);case 34:return _=Object(We.default)(i,"payload.tokens.length",1),E=Object(We.default)(s,"payload.obj_token.length",0),console.info(_,E),f=rt({operator:Be("explorer.added"),successCount:_,failCount:E}),T={type:ct(E),content:f},e.next=41,Object(Ke.put)(Object(Ye.showToast)(T));case 41:return e.next=43,Object(Ke.fork)(it,s);case 43:return e.abrupt("break",175);case 44:return S=Object(We.default)(s,"payload.obj_token.length",1),m=ot(s,{operator:Be("explorer.added"),failCount:S}),O={type:Ve.common.TOAST_TYPE.error,content:m},e.next=49,Object(Ke.put)(Object(Ye.showToast)(O));case 49:return e.abrupt("break",175);case 50:return b=Object(We.default)(i,"payload.objTokens.length",1),y=Object(We.default)(s,"payload.obj_token.length",0),h=rt({operator:Be("explorer.removed"),successCount:b,failCount:y}),v={type:ct(y),content:h},e.next=56,Object(Ke.put)(Object(Ye.showToast)(v));case 56:return e.next=58,Object(Ke.fork)(it,s);case 58:return e.abrupt("break",175);case 59:return I=Object(We.default)(s,"payload.obj_token.length",1),C=ot(s,{operator:Be("explorer.removed"),failCount:I}),R={type:Ve.common.TOAST_TYPE.error,content:C},e.next=64,Object(Ke.put)(Object(Ye.showToast)(R));case 64:return e.abrupt("break",175);case 65:return g=Object(We.default)(i,"payload.success_tokens.length",1),k=Object(We.default)(s,"payload.token.length",0),D=rt({operator:Be("explorer.restored2"),successCount:g,failCount:k}),j={type:ct(k),content:D},e.next=71,Object(Ke.put)(Object(Ye.showToast)(j));case 71:return e.next=73,Object(Ke.fork)(it,s);case 73:return e.abrupt("break",175);case 74:return L=Object(We.default)(s,"payload.token.length",1),w=ot(s,{operator:Be("explorer.restored2"),failCount:L}),N={type:Ve.common.TOAST_TYPE.error,content:w},e.next=79,Object(Ke.put)(Object(Ye.showToast)(N));case 79:return e.abrupt("break",175);case 80:if(i.payload.noSuccessToast){e.next=92;break}return U=Object(We.default)(i,"payload.success_token.length",1),P=Object(We.default)(s,"payload.obj_token.length",0),M=i.payload,x=M.listName,F=M.success_token,H=M.fatherType,B=M.fatherToken,K=null!==x,W=Object($e.a)(),V=Object(Ze.restoreRemovedFile)({urlType:W,srcToken:F,fatherType:H,fatherToken:B}),Y=rt({operator:Be("explorer.deleted2"),successCount:U,failCount:P}),Q=at(i,{type:ct(P),content:Y,cancelable:K,onCancel:function(){return window.store.dispatch(Object(qe.n)(V))}}),e.next=92,Object(Ke.put)(Object(Ye.showToast)(Q));case 92:return e.next=94,Object(Ke.fork)(it,s);case 94:return e.abrupt("break",175);case 95:return J=Object(We.default)(s,"payload.obj_token.length",1),q=ot(s,{operator:Be("explorer.deleted2"),failCount:J}),z={type:Ve.common.TOAST_TYPE.error,content:q},e.next=100,Object(Ke.put)(Object(Ye.showToast)(z));case 100:return e.abrupt("break",175);case 101:return X=Object(We.default)(i,"payload.success_tokens.length",1),Z=Object(We.default)(s,"payload.src_token.length",0),e.next=105,Object(Ke.select)(Qe.y);case 105:return $=e.sent,ee=i.payload,te=ee.srcToken,ne=ee.fatherToken,re=ee.destToken,ae=ee.cancelable,oe=$.get(re),ie=oe?oe.type:null,ce=ne!==Je.DummyTokens.ShareFolders&&ae,se=Object(Ze.moveFile)({urlType:Object($e.a)($.get(te)),srcToken:te,destToken:ne,fatherToken:re,fatherType:ie,cancelable:!1}),ue=rt({operator:Be("explorer.moved"),successCount:X,failCount:Z}),le=at(i,{type:ct(Z),content:ue,cancelable:ce,onCancel:function(){return window.store.dispatch(Object(qe.n)(se))}}),e.next=115,Object(Ke.put)(Object(Ye.showToast)(le));case 115:return e.next=117,Object(Ke.fork)(it,s);case 117:return e.abrupt("break",175);case 118:return de=Object(We.default)(s,"payload.src_token.length"),pe=ot(s,{failCount:de,operator:Be("explorer.moved")}),_e={type:Ve.common.TOAST_TYPE.error,content:pe},e.next=123,Object(Ke.put)(Object(Ye.showToast)(_e));case 123:return e.abrupt("break",175);case 124:return Ee=i.payload,fe=Ee.fatherToken,Te=Ee.fatherType,Se=Object(We.default)(i,"payload.success_token.length",1),me=Object(We.default)(s,"payload.token.length")-Se,e.next=129,Object(Ke.select)(Qe.y);case 129:if(Oe=e.sent,be=i.payload.success_token||[],ye=i.payload.success_obj_token||[],he=be.every(function(e){var t=Oe.get(e);return!!t&&Ve.common.folderType.includes(t.get("type"))}),0<be.length&&0===ye.length&&he)return e.next=137,Object(Ke.select)(Qe.y);e.next=145;break;case 137:Ie=e.sent,(Ce=Ie.get(be[0]))&&Object(et.j)(Ce)&&(Re=Ce.get(Je.SPACE_ID)),ge=Object($e.a)(),Ae=Object(Ze.restoreRemovedFile)({urlType:ge,spaceId:Re,srcToken:be,fatherToken:fe,fatherType:Te}),ve={cancelable:!0,onCancel:function(){return window.store.dispatch(Object(qe.n)(Ae))}},e.next=146;break;case 145:ve={};case 146:return ke=rt({operator:Be("explorer.removed"),successCount:Se,failCount:me}),De=at(i,Object.assign({type:ct(me),content:ke},ve)),e.next=150,Object(Ke.put)(Object(Ye.showToast)(De));case 150:return e.next=152,Object(Ke.fork)(it,s);case 152:return e.abrupt("break",175);case 153:return je=Object(We.default)(s,"payload.token.length",1),Le=ot(s,{failCount:je,operator:Be("explorer.removed")}),we={type:Ve.common.TOAST_TYPE.error,content:Le},e.next=158,Object(Ke.put)(Object(Ye.showToast)(we));case 158:return e.abrupt("break",175);case 159:return Ne=Object(We.default)(i,"payload.success_tokens.length",1),Ue=Object(We.default)(s,"payload.token.length",0),Pe=rt({operator:Be("explorer.deleted2"),successCount:Ne,failCount:Ue}),Me={type:ct(Ue),content:Pe},e.next=165,Object(Ke.put)(Object(Ye.showToast)(Me));case 165:return e.next=167,Object(Ke.fork)(it,s);case 167:return e.abrupt("break",175);case 168:return xe=Object(We.default)(s,"payload.token.length"),Fe=ot(s,{failCount:xe,operator:Be("explorer.deleted2")}),He={type:Ve.common.TOAST_TYPE.error,content:Fe},e.next=173,Object(Ke.put)(Object(Ye.showToast)(He));case 173:case 174:return e.abrupt("break",175);case 175:case"end":return e.stop()}},tt)}function o(){return Ge.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ke.all)([Object(Ke.fork)(r)]);case 2:case"end":return e.stop()}},t)}i.a=o}).call(this,c("2vAP"))},Wgtu:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n("FnDM");function a(e){if(e.tags=e.tags||{},!e.tags.file_type)try{e.tags.file_type=Object(r.f)()}catch(e){console.log("enhanceSlardarEvent file_type error",e)}return e}},WtXJ:function(e,N,U){"use strict";(function(e){U.d(N,"a",function(){return y}),U.d(N,"d",function(){return h}),U.d(N,"e",function(){return C}),U.d(N,"b",function(){return g}),U.d(N,"c",function(){return w});var t=U("o0o1"),n=U.n(t),r=U("yXPU"),a=U.n(r),c=U("JHqw"),s=U("VIFs"),u=U("kfiP"),o=U("A2D6"),i=U("QM+C"),l=U("5dbN"),d=U("x6Oh"),p=U.n(d),_=U("Nmqt"),E=U("uGU9"),f=U("vKxd"),T="GARR_CORE_NAVS",S=i.DevInfo.GARR_DOCS_STAGE,m=decodeURIComponent(Object(o.b)(S)),O=m?JSON.parse(m):{},b=[];function y(){return b}function h(e){b=e}function v(e){var t=e.url,n=e.appId,r=e.version;return c.b.get(t+"?appId=".concat(n,"&version=").concat(r),{withCredentials:!1,timeout:3e3,params:Object.assign({platform:"web",user_id:window.User.id,tenant_id:window.User.tenantId,env:window._env},O,{templateBranch:window.scm.branch,scmVersion:window.scm.version,cdnHost:navigator.cdn_host},p.a,{},Object(u.a)())})}function I(){c.a.manager.setCommonjsXhrConfig({withCredentials:!1});var e=Object(u.a)(),t=e.vs||e.vw||e.vsh||e.vb;if(window.bearGarr&&window.local&&!window.local.localGarrModules&&!t){var n=window.bearGarr;if(Object.keys(n).length)return n.data=j(n),Promise.resolve(n)}var r=Object(s.getDomainConfig)("garrMina"),a=r.url,o=r.appId,i=r.version;return Object(E.a)(v,{max:2,interval:200})({url:a,appId:o,version:i}).then(function(e){if(0!==(e=e.payload).code&&200!==e.code)return console.error("接口返回出错！"),Promise.reject(e);var t,n=[];for(t in e)D(e[t])&&n.push(e[t]);return e.data=n,Promise.resolve(e)},function(e){return Promise.reject(e)})}function C(){return Object(l.locateRoute)().isSlide||Object(l.isUnderWiki)()||Object(l.locateRoute)().isSheet||Object(l.locateRoute)().isBitable}var R=null;function g(e){return e=e||{},C()||e.loadModule?R=R||k(T,I,e).then(function(e){var a=[],t=e.data.reduce(function(e,t){window["scm".concat(t.name)]=Object.assign({},window["scm".concat(t.name)]||{},{},t);var n=(navigator.cdn_host||"//sf3-scmcdn2-tos.pstatp.com").replace(/^https?:/,""),r=Object.assign({},window["scm".concat(t.name)],{module:t.name,path:t.path,preload:!1,js_source_url:t.source_url.replace("//s3.pstatp.com",n)});return O["stage_"+t.name]!==t.stage&&delete O["stage_"+t.name],"index"===r.module?(r.loadCondition=function(){return Promise.resolve(!0)},r.preRender=function(){return Promise.resolve(!0)}):(a.push(r),e[r.module]={js_source_url:r.js_source_url}),Object(o.c)(S,encodeURIComponent(JSON.stringify(O)),365),e},{});return{navs:a,paths:t}}).then(function(e){return c.a.manager.setModulePath(e.paths),Object(_.c)("navs",e.navs),Object(_.c)("paths",e.paths),h(e.navs),e}).catch(function(e){console.error(e)}):(Object(_.c)("navs",[{module:"slide",name:"slide",path:"/slide/:token?",preload:!1},{module:"wiki",name:"wiki",path:["/wiki/","/wiki/:token","/wiki/setting/:spaceId"],preload:!1},{module:"sheet",name:"sheet",path:"/sheet/:token?",preload:!1},{module:"bitable",name:"bitable",path:"/bitable/:token?",preload:!1}]),Promise.resolve())}function k(e,t,n){return t(n).then(function(e){return e&&j(e).length?Promise.resolve(e):(console.warn("error remote bearGarr data"),Promise.reject(e))}).catch(function(e){try{return f.default.data=j(f.default),console.warn("bearGarr backup"),Promise.resolve(f.default)}catch(e){return console.warn("bearGarr backup failed"),Promise.reject(new Error("bearGarr backup failed"))}})}function D(e){return e.name&&e.path&&e.source_url}function j(e){var t,n=[];for(t in e)D(e[t])&&n.push(e[t]);return n}var L=function(){var e=a()(n.a.mark(function e(){return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([U.e("doc_index_css"),U.e("chunk_adit"),U.e("commons--PCDocSheetBridge--bear-bitable-external--bear-external--bear-sheet-external--btn_groups--d--dba25785"),U.e(0),U.e(1),U.e("bear-external")]).then(U.bind(null,"bnnS"));case 2:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),w=e?L:function(){var t=a()(n.a.mark(function e(t){return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:console.log("loadExternalFirst: ",t),e.t0=t,e.next="sheet"===e.t0?4:"bitable"===e.t0?8:11;break;case 4:return Promise.all([U.e("commons--PCDocSheetBridge--bear-bitable-external--bear-sheet-external--btn_groups--create-by-templa--5eb3c3ae"),U.e("preloadSmartableJS")]).then(U.bind(null,"voaG")).then(function(e){e.checkShouldPreLoadSmartableJS()}),e.next=7,Promise.all([U.e("doc_index_css"),U.e("chunk_adit"),U.e("commons--PCDocSheetBridge--bear-bitable-external--bear-external--bear-sheet-external--btn_groups--d--dba25785"),U.e(0),U.e("commons--PCDocSheetBridge--bear-bitable-external--bear-sheet-external--btn_groups--create-by-templa--5eb3c3ae"),U.e("bear-sheet-external")]).then(U.bind(null,"phTD"));case 7:return e.abrupt("break",13);case 8:return e.next=10,Promise.all([U.e("doc_index_css"),U.e("chunk_adit"),U.e("commons--PCDocSheetBridge--bear-bitable-external--bear-external--bear-sheet-external--btn_groups--d--dba25785"),U.e(0),U.e("commons--PCDocSheetBridge--bear-bitable-external--bear-sheet-external--btn_groups--create-by-templa--5eb3c3ae"),U.e("bear-bitable-external")]).then(U.bind(null,"gGBd"));case 10:return e.abrupt("break",13);case 11:return e.next=13,L();case 13:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}()}).call(this,U("kCIs"))},Wxh2:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n("7EGn"),a=n("skFV"),o=n("2ACu"),i=!0;function c(e){var t=e.exception,n=e.message;if(t&&t.values)t.values.forEach(function(e){var t=Object(r.default)(e,"stacktrace.frames",[]);Object(o.collectSuiteEvent)("client_raven_error",{client_error_type:e.type,client_error_value:e.value,is_prod:Object(a.C)(),branch:Object(r.default)(window,"scm.branch","unknown"),chunk:s(t)})});else if(n){if(/^QuotaExceededError/.test(n)){if(!i)return;i=!1,setTimeout(function(){i=!0},18e5)}Object(o.collectSuiteEvent)("client_raven_error",{client_error_msg:n})}}function s(e){var t=e.some(function(e){var t=Object(r.default)(e,"filename","").toLowerCase();return t.includes("wiki")&&!t.includes("wiki_relation")});return e.some(function(e){return Object(r.default)(e,"filename","").toLowerCase().includes("3rd")})?"wikiDep":t?"wiki":"other"}},Wxx7:function(e,m,O){"use strict";(function(n){O.d(m,"a",function(){return S});var e,t,r,a=O("lSNA"),o=O.n(a),i=O("ANjH"),c=O("Mpt7"),s=O("6SzI"),u=O("M/IZ"),l=O("jp/M"),d=O("lgTS"),p=O("y94N"),_=O("02sq"),E=Object(s.handleActions)((e={},o()(e,u.a.SET_LIST_VIEW_SETTING,function(e,t){return t.payload}),o()(e,u.a.SET_LIST_VIEW_ORDERING_SETTING,function(e,t){var n=t.payload,r=n.listName,a=n.orderSetting;return e.updateIn([r,"ordering"],function(e){return e.merge(a)})}),o()(e,u.a.SET_LIST_VIEW_COLUMNS,function(e,t){var n=t.payload,r=n.listName,a=n.columns;return e.setIn([r,"columns"],a)}),o()(e,u.a.SET_LIST_VIEW_MODE,function(e,t){var n=t.payload,r=n.listName,a=n.viewMode;return e.setIn([r,"viewMode"],a)}),o()(e,u.a.SET_LIST_VIEW_TAB,function(e,t){var n=t.payload,r=n.listName,a=n.viewTab;return e.setIn([r,"viewTab"],a)}),o()(e,u.a.SET_LIST_VIEW_FILTERING_SETTING,function(e,t){var n=t.payload,r=n.listName,a=n.filtering;return e.updateIn([r,"filtering"],function(e){return e.merge(a)})}),o()(e,l.actionTypes.explorer.UPDATE_LEANMODE_CONFIG,function(e,t){if(!t.payload.folderHidden)return e;var n=new d.c({fileType:p.d.ALL,onlyUnOrganized:!1});return e.updateIn([p.p.MyObject,"filtering"],function(e){return e.merge(n)})}),e),Object(c.Map)((t={},o()(t,p.p.MyFolder,new d.d({name:p.p.MyFolder,type:p.r.SoftLink,ordering:new d.g({direction:p.t.DESCENDING,sortField:p.v.CREATED_TIME,managerFirst:!1}),viewMode:p.x.SmallGrid})),o()(t,p.p.Recent,new d.d({name:p.p.Recent,type:p.r.Entity,viewMode:p.x.List})),o()(t,p.p.Collection,new d.d({name:p.p.Collection,type:p.r.Entity,columns:Object(_.l)(p.C).map(function(e,t){return 0===t?e.merge({isLocked:!0,text:n("explorer.v3.meta_filter_menu_item.name"),sortField:p.v.NAME}):1===t?e.set("isLocked",!0):e}),ordering:new d.g({direction:p.t.DESCENDING,sortField:p.v.CREATED_TIME,managerFirst:!1}),viewMode:p.x.List})),o()(t,p.p.SharedFolder,new d.d({name:p.p.SharedFolder,type:p.r.SoftLink,ordering:new d.g({direction:p.t.DESCENDING,sortField:p.v.CREATED_TIME,managerFirst:!0}),viewMode:p.x.SmallGrid})),o()(t,p.p.TeamSpace,new d.d({name:p.p.TeamSpace,type:p.r.SoftLink,columns:Object(c.List)([new d.b({text:n("explorer.v3.meta_filter_menu_item.name"),meta:p.s.NAME,sortField:p.v.NAME})]),ordering:new d.g,filtering:new d.c,viewMode:p.x.NormalGrid})),o()(t,p.p.SharedWithMe,new d.d({name:p.p.SharedWithMe,type:p.r.Entity,columns:Object(_.l)(p.S),ordering:new d.g,viewMode:p.x.List})),o()(t,p.p.SharedWithMe2,new d.d({name:p.p.SharedWithMe2,type:p.r.Mixed,columns:Object(_.l)(p.Q),ordering:new d.g,viewMode:p.x.List,viewTab:p.y.SHARE_WITH_ME_2_RECENT})),o()(t,p.p.MyObject,new d.d({name:p.p.MyObject,type:p.r.Entity,columns:Object(_.l)(p.z),ordering:new d.g,filtering:new d.c({fileType:p.d.ALL,onlyUnOrganized:!0}),viewMode:p.x.List})),o()(t,p.p.Folder,new d.d({name:p.p.Folder,type:p.r.SoftLink,columns:Object(_.l)(p.E).map(function(e,t){return e.get("meta")===p.s.NAME&&0===t?e.merge({text:n("explorer.v3.meta_filter_menu_item.name"),sortField:p.v.NAME}):e}),ordering:new d.g({direction:p.t.DESCENDING,sortField:p.v.CREATED_TIME,managerFirst:!1}),viewMode:p.x.List})),o()(t,p.p.Star,new d.d({name:p.p.Star,type:p.r.Mixed,columns:Object(_.l)(p.U).map(function(e,t){return 0!==t?e.set("isLocked",!0):e}),ordering:new d.g,filtering:new d.c,viewMode:p.x.List})),o()(t,p.p.Trash,new d.d({name:p.p.Trash,type:p.r.SoftLink,columns:Object(_.l)(p.W).map(function(e,t){return e.get("meta")===p.s.NAME&&0===t?e.merge({isLocked:!0,text:n("explorer.v3.meta_filter_menu_item.name"),sortField:p.v.NAME}):e.set("isLocked",!0)}),ordering:new d.g,filtering:new d.c,viewMode:p.x.List})),o()(t,p.p.StorageCenter,new d.d({name:p.p.StorageCenter,type:p.r.Entity,columns:Object(_.l)(p.V).map(function(e,t){return e.get("meta")===p.s.NAME&&0===t?e.merge({isLocked:!0,text:n("explorer.v3.meta_filter_menu_item.name"),sortField:p.v.NAME}):e}),ordering:new d.g,filtering:new d.c,viewMode:p.x.List})),t))),f={ordering:p.a.LastOpened,fileType:p.e.All,owner:p.u.Anybody},T=Object(s.handleActions)((r={},o()(r,u.a.SET_RECENT_LIST_VIEW_SETTING,function(e,t){return t.payload?Object.assign({},f,{},t.payload):e}),o()(r,u.a.SET_RECENT_LIST_VIEW_ORDERING_SETTING,function(e,t){return t.payload?Object.assign({},e,{ordering:t.payload}):e}),o()(r,u.a.SET_RECENT_LIST_VIEW_FILTER_TYPE,function(e,t){var n=t.payload,r=n.fileType,a=void 0===r?e.fileType:r,o=n.owner,i=void 0===o?e.owner:o;return Object.assign({},e,{fileType:a,owner:i})}),r),f);function S(){return Object(i.combineReducers)({listViewSetting:E,recentListViewSetting:T})}}).call(this,O("2vAP"))},"X+1D":function(e,t,n){"use strict";var r=n("hMnB"),a=n.n(r),o=n("2rOc"),i=n("0iJA"),c=n("2MtQ"),s=n("3/aR"),u=n("Fktw"),l={Sheet:function(){return Promise.all([n.e("sheet_packages--faster"),n.e("doc_index_css"),n.e("chunk_adit"),n.e("merge_sheet_index--framework_chunk"),n.e("merge_sheet_index--business_tools_chunk"),n.e("sheet_index")]).then(n.bind(null,"ETMs"))},SheetModule:function(){return Promise.all([n.e("sheet_packages--faster"),n.e("doc_index_css"),n.e("chunk_adit"),n.e("merge_sheet_index--framework_chunk"),n.e("merge_sheet_index--business_tools_chunk"),n.e("sheet_index")]).then(n.bind(null,"EjVO"))},Suite:function(){return Promise.all([n.e(10),n.e("commons--suite--suite_for_3rd"),n.e("vendors--suite"),n.e("suite")]).then(n.bind(null,"4c9a"))}},d=n("iP/4");function p(t){Object.keys(t).forEach(function(e){return t[e]()})}switch(Object(o.a)(a.a.href,!0).type){case i.a.MINDNOTE:p(s.a);break;case i.a.FILE:p(u.a);break;case i.a.SHEET:p(l);break;case i.a.DEFAULT:d.a.isInVC&&p(c.a)}},"X+Le":function(e,t,n){"use strict";n.r(t),n.d(t,"showToast",function(){return a}),n.d(t,"closeToast",function(){return o}),n.d(t,"showBatchRequestToast",function(){return i}),n.d(t,"updateBatchRequestToast",function(){return c}),n.d(t,"closeBatchRequestToast",function(){return s});var r=n("jp/M"),a=function(e){return{type:r.actionTypes.toast.TOAST_SHOW,toastConfig:e}},o=function(e){return{type:r.actionTypes.toast.TOAST_CLOSE,toastConfig:e}},i=function(e){return{type:r.actionTypes.toast.TOAST_SHOW,toastConfig:Object.assign({},e,{key:r.common.BATCH_REQUEST_KEY,type:r.common.TOAST_TYPE.loading,processable:!0,cancelable:!0,keepAlive:!0})}},c=function(e){return{type:r.actionTypes.toast.TOAST_PROCESS_UPDATE,toastConfig:Object.assign({},e,{key:r.common.BATCH_REQUEST_KEY})}},s=function(){return{type:r.actionTypes.toast.TOAST_CLOSE,toastConfig:{key:r.common.BATCH_REQUEST_KEY,delayCloseTime:300}}}},XMIC:function(e,t,n){"use strict";n.d(t,"c",function(){return a}),n.d(t,"b",function(){return o}),n.d(t,"a",function(){return i});var r=n("O7eI"),a=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return{type:r.a.ui.OPEN_MODAL,payload:{modalType:e,modalProps:t}}},o=function(e,t,n){return{type:r.a.ui.CLOSE_MODAL,payload:Object.assign({},n,{modalType:e,closeType:t})}},i=function(){return{type:r.a.ui.CLOSE_ALL_MODAL}}},Xngv:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n("qo30");function a(){return{id:"entities",reducerMap:{entities:Object(r.b)()}}}},Y3ee:function(e,t,n){"use strict";var r=n("w29E");t.a=r.b},Y3mI:function(e,t,n){"use strict";var r=n("VSo/");t.a=r.a},YJ0t:function(e,t,n){"use strict";var r,a;n.d(t,"a",function(){return r}),(a=r=r||{}).UPDATE_NODES="UPDATE_NODES",a.UPDATE_OBJS="UPDATE_OBJS",a.SET_NODES="SET_NODES",a.SET_OBJS="SET_OBJS"},YLXN:function(e,t,n){"use strict";n.d(t,"b",function(){return i}),n.d(t,"a",function(){return c});var r=n("OL4R"),a={suite_create:"doc_create",suite_share:"doc_share"},o=Object(r.a)(a),i=function(e){return(!(1<arguments.length&&void 0!==arguments[1])||arguments[1]?o:a)[e]||e};function c(e,t){return e&&e.has(t)&&e.get(t).has("is_done")&&!e.get(t).get("is_done")}},YNKm:function(e,t,n){"use strict";n.d(t,"q",function(){return p}),n.d(t,"m",function(){return _}),n.d(t,"n",function(){return E}),n.d(t,"W",function(){return f}),n.d(t,"r",function(){return T}),n.d(t,"s",function(){return S}),n.d(t,"t",function(){return m}),n.d(t,"u",function(){return O}),n.d(t,"v",function(){return b}),n.d(t,"w",function(){return y}),n.d(t,"x",function(){return h}),n.d(t,"y",function(){return v}),n.d(t,"z",function(){return I}),n.d(t,"A",function(){return C}),n.d(t,"i",function(){return g}),n.d(t,"M",function(){return k}),n.d(t,"db",function(){return D}),n.d(t,"X",function(){return j}),n.d(t,"Q",function(){return L}),n.d(t,"c",function(){return w}),n.d(t,"a",function(){return N}),n.d(t,"d",function(){return U}),n.d(t,"b",function(){return P}),n.d(t,"H",function(){return M}),n.d(t,"J",function(){return x}),n.d(t,"G",function(){return F}),n.d(t,"F",function(){return H}),n.d(t,"h",function(){return B}),n.d(t,"E",function(){return K}),n.d(t,"I",function(){return W}),n.d(t,"P",function(){return V}),n.d(t,"j",function(){return Y}),n.d(t,"l",function(){return Q}),n.d(t,"K",function(){return J}),n.d(t,"L",function(){return q}),n.d(t,"eb",function(){return z}),n.d(t,"T",function(){return X}),n.d(t,"V",function(){return Z}),n.d(t,"B",function(){return $}),n.d(t,"k",function(){return ee}),n.d(t,"R",function(){return te}),n.d(t,"g",function(){return ne}),n.d(t,"f",function(){return re}),n.d(t,"e",function(){return ae}),n.d(t,"C",function(){return oe}),n.d(t,"S",function(){return ie}),n.d(t,"D",function(){return ce}),n.d(t,"o",function(){return se}),n.d(t,"p",function(){return ue}),n.d(t,"U",function(){return le}),n.d(t,"N",function(){return de}),n.d(t,"Y",function(){return Te}),n.d(t,"O",function(){return Se}),n.d(t,"ib",function(){return Oe}),n.d(t,"hb",function(){return be}),n.d(t,"gb",function(){return he}),n.d(t,"fb",function(){return ve});var r,a=n("lSNA"),o=n.n(a),i=n("/1FC"),c=(n("u3oV"),n("vFlG"),n("aBgF")),s=n("8AqM"),u=n("iP/4"),l=n("TWwi"),d=Object(l.a)(),p="GLOBAL_SEARCH",_="CREATE_DOC",E="CREATE_SHEET",f="SHORTCUTS",T="h0",S="h1",m="h2",O="h3",b="h4",y="h5",h="h6",v="h7",I="h8",C="h9",R="heading",g="bold",k="italic",D="underline",j="strikethrough",L="DO_MERGE_CELL",w="alignleft",N="aligncenter",U="alignright",P="alignfull",M="insertorderedlist",x="insertunorderedlist",F="insertcodelist",H="insertcodeblock",B="blockquote",K="insertcalloutblock",W="insertseparator",V="link",Y="bookmark",Q="checkbox",J="insertimage",q="insertImageOrFile",z="undo",X="redo",Z="sheet",$="highlight",ee="callouthighlight",te="ppt",ne="alignimageright",re="alignimageleft",ae="alignimagecenter",oe="imagefullscreen",ie="print",ce="inlinecode",se="doInsertTable",ue=s.a.FIND,le=s.a.REPLACE,de="jira_issue",pe="LARK_LST_UNREAD",_e="LARK_NXT_UNREAD",Ee="LARK_DONE",fe="LARK_ANNOUNCE_ESC",Te="templateabstract",Se=(r={},o()(r,p,{mac:{metaKey:!0,shiftKey:!0,keyCode:70},windows:{ctrlKey:!0,shiftKey:!0,keyCode:70}}),o()(r,_,{mac:{metaKey:!0,altKey:!0,code:"KeyN"},windows:{altKey:!0,ctrlKey:!0,keyCode:78}}),o()(r,E,{mac:{metaKey:!0,altKey:!0,shiftKey:!0,keyCode:78},windows:{altKey:!0,shiftKey:!0,ctrlKey:!0,keyCode:78}}),o()(r,f,{mac:{metaKey:!0,keyCode:191},windows:{ctrlKey:!0,keyCode:191}}),o()(r,$,{windows:{keyCode:72,ctrlKey:!0,altKey:!0},mac:{keyCode:72,metaKey:!0,altKey:!0}}),o()(r,T,{mindmapDocsEnable:!1,windows:{altKey:!0,ctrlKey:!0,keyCode:48},mac:{altKey:!0,metaKey:!0,keyCode:48}}),o()(r,S,{mindmapDocsEnable:!1,windows:{altKey:!0,ctrlKey:!0,keyCode:49},mac:{altKey:!0,metaKey:!0,keyCode:49}}),o()(r,m,{mindmapDocsEnable:!1,windows:{altKey:!0,ctrlKey:!0,keyCode:50},mac:{altKey:!0,metaKey:!0,keyCode:50}}),o()(r,O,{mindmapDocsEnable:!1,windows:{altKey:!0,ctrlKey:!0,keyCode:51},mac:{altKey:!0,metaKey:!0,keyCode:51}}),o()(r,b,{mindmapDocsEnable:!1,windows:{altKey:!0,ctrlKey:!0,keyCode:52},mac:{altKey:!0,metaKey:!0,keyCode:52}}),o()(r,y,{mindmapDocsEnable:!1,windows:{altKey:!0,ctrlKey:!0,keyCode:53},mac:{altKey:!0,metaKey:!0,keyCode:53}}),o()(r,h,{mindmapDocsEnable:!1,windows:{altKey:!0,ctrlKey:!0,keyCode:54},mac:{altKey:!0,metaKey:!0,keyCode:54}}),o()(r,v,{mindmapDocsEnable:!1,windows:{altKey:!0,ctrlKey:!0,keyCode:55},mac:{altKey:!0,metaKey:!0,keyCode:55}}),o()(r,I,{mindmapDocsEnable:!1,windows:{altKey:!0,ctrlKey:!0,keyCode:56},mac:{altKey:!0,metaKey:!0,keyCode:56}}),o()(r,C,{mindmapDocsEnable:!1,windows:{altKey:!0,ctrlKey:!0,keyCode:57},mac:{altKey:!0,metaKey:!0,keyCode:57}}),o()(r,R,{titleEnable:!1}),o()(r,g,{windows:{key:"b",ctrlKey:!0},mac:{metaKey:!0,key:"b"}}),o()(r,k,{windows:{key:"i",ctrlKey:!0},mac:{key:"i",metaKey:!0}}),o()(r,D,{windows:{key:"u",ctrlKey:!0,shiftKey:!1},mac:{key:"u",metaKey:!0,shiftKey:!1}}),o()(r,j,{windows:{key:"x",ctrlKey:!0,shiftKey:!0},mac:{key:"x",metaKey:!0,shiftKey:!0}}),o()(r,L,{imageEnable:!1,titleEnable:!1,mentionEnable:!1}),o()(r,w,{imageEnable:!0,titleEnable:!0,mentionEnable:!0,windows:{key:"l",ctrlKey:!0,shiftKey:!0},mac:{key:"l",metaKey:!0,shiftKey:!0}}),o()(r,N,{imageEnable:!0,titleEnable:!0,mentionEnable:!0,windows:{key:"e",ctrlKey:!0,shiftKey:!0},mac:{key:"e",metaKey:!0,shiftKey:!0}}),o()(r,U,{imageEnable:!0,titleEnable:!0,mentionEnable:!0,windows:{key:"r",ctrlKey:!0,shiftKey:!0},mac:{key:"r",metaKey:!0,shiftKey:!0}}),o()(r,P,{listEnable:!1,windows:{ctrlKey:!0,which:"f",shiftKey:!0},mac:{metaKey:!0,which:"f",shiftKey:!0}}),o()(r,M,[{imageEnable:!1,windows:{key:"7",ctrlKey:!0,shiftKey:!0},mac:{key:"7",metaKey:!0,shiftKey:!0}},{imageEnable:!1,windows:{key:"&",ctrlKey:!0,shiftKey:!0},mac:{key:"&",metaKey:!0,shiftKey:!0}}]),o()(r,x,[{imageEnable:!1,windows:{key:"8",ctrlKey:!0,shiftKey:!0},mac:{key:"8",metaKey:!0,shiftKey:!0}},{imageEnable:!1,windows:{key:"*",ctrlKey:!0,shiftKey:!0},mac:{key:"*",metaKey:!0,shiftKey:!0}}]),o()(r,d?H:F,{imageEnable:!1,windows:{altKey:!0,ctrlKey:!0,which:"c"},mac:{metaKey:!0,altKey:!0,which:"c"}}),o()(r,B,{windows:{keyCode:190,shiftKey:!0,ctrlKey:!0,altKey:!1},mac:{keyCode:190,shiftKey:!0,metaKey:!0,altKey:!1}}),o()(r,W,{windows:{ctrlKey:!0,which:"s",altKey:!0},mac:{metaKey:!0,which:"s",altKey:!0}}),o()(r,V,{titleEnable:!0,windows:{ctrlKey:!0,key:"k"},mac:{metaKey:!0,key:"k"}}),o()(r,de,{titleEnable:!1}),o()(r,Q,{imageEnable:!1,windows:{ctrlKey:!0,which:"t",altKey:!0},mac:{metaKey:!0,which:"t",altKey:!0}}),o()(r,J,{listEnable:!1,windows:{ctrlKey:!0,which:"u",shiftKey:!0},mac:{metaKey:!0,which:"u",shiftKey:!0}}),o()(r,oe,{listEnable:!1,windows:{ctrlKey:!0,which:"f",shiftKey:!0},mac:{metaKey:!0,which:"f",shiftKey:!0}}),o()(r,z,{titleEnable:!0,mentionEnable:!0,driveEnable:!0,windows:{ctrlKey:!0,which:"z"},mac:{metaKey:!0,which:"z"}}),o()(r,X,[{titleEnable:!0,mentionEnable:!0,driveEnable:!0,windows:{ctrlKey:!0,which:"z",shiftKey:!0},mac:{metaKey:!0,which:"z",shiftKey:!0}},{titleEnable:!0,driveEnable:!0,windows:{ctrlKey:!0,which:"y"},mac:{metaKey:!0,which:"y"}}]),o()(r,Z,{windows:{},mac:{},imageEnable:!1}),o()(r,te,{windows:{keyCode:116},mac:{metaKey:!0,shiftKey:!0,keyCode:80}}),o()(r,ie,{windows:{ctrlKey:!0,which:"p"},mac:{metaKey:!0,which:"p"}}),o()(r,ce,{windows:{ctrlKey:!0,which:"c",shiftKey:!0},mac:{ctrlKey:!0,which:"c",metaKey:!0}}),o()(r,se,{windows:{altKey:!0,ctrlKey:!0,keyCode:c.c.A},mac:{metaKey:!0,altKey:!0,keyCode:c.c.A}}),o()(r,ue,{windows:{altKey:!1,ctrlKey:!0,shiftKey:!1,keyCode:c.c.F},mac:{altKey:!1,metaKey:!0,ctrlKey:!1,shiftKey:!1,keyCode:c.c.F}}),o()(r,le,{windows:{ctrlKey:!0,keyCode:c.c.H},mac:{metaKey:!0,shiftKey:!0,keyCode:c.c.H}}),o()(r,pe,{windows:{ctrlKey:!0,shiftKey:!0,keyCode:c.c.Up},mac:{metaKey:!0,shiftKey:!0,keyCode:c.c.Up}}),o()(r,_e,{windows:{ctrlKey:!0,shiftKey:!0,keyCode:c.c.Down},mac:{metaKey:!0,shiftKey:!0,keyCode:c.c.Down}}),o()(r,Ee,{windows:{ctrlKey:!0,keyCode:c.c.D},mac:{metaKey:!0,keyCode:c.c.D}}),o()(r,fe,{windows:{keyCode:c.c.Esc},mac:{keyCode:c.c.Esc}}),r),me=String(!!navigator&&navigator.platform),Oe=/Mac/i.test(me);function be(t,e,n){var r=Oe?"mac":"windows",a=n||Se[e];return Object(i.a)(a)?a.some(function(e){return ye(e[r],t)}):ye(a[r],t)}function ye(e,t){if(!e)return!1;for(var n=Object.keys(e),r=0,a=n;r<a.length;r++){var o=a[r],i=t[o];if("which"===o&&i?i=String.fromCharCode(i).toLowerCase():"key"===o&&(i=i&&i.toLowerCase()),e[o]!==i)return!1}return 0<n.length}function he(e){var t,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:Se;for(t in n)if(be(e,t,n[t]))return t;return""}var ve=function(){return u.a.isMac?"⌘":"Ctrl"}},ZSG8:function(e,t,n){"use strict";n.d(t,"d",function(){return o}),n.d(t,"z",function(){return i}),n.d(t,"v",function(){return _}),n.d(t,"w",function(){return O}),n.d(t,"t",function(){return b}),n.d(t,"u",function(){return y}),n.d(t,"s",function(){return h}),n.d(t,"r",function(){return v}),n.d(t,"k",function(){return I}),n.d(t,"a",function(){return C}),n.d(t,"x",function(){return R}),n.d(t,"y",function(){return g}),n.d(t,"g",function(){return k}),n.d(t,"i",function(){return D}),n.d(t,"p",function(){return j}),n.d(t,"o",function(){return L}),n.d(t,"q",function(){return w}),n.d(t,"f",function(){return N}),n.d(t,"c",function(){return U}),n.d(t,"b",function(){return P}),n.d(t,"j",function(){return M}),n.d(t,"m",function(){return x}),n.d(t,"l",function(){return F}),n.d(t,"e",function(){return H}),n.d(t,"h",function(){return B}),n.d(t,"n",function(){return K});var r=n("lSNA"),E=n.n(r),f=n("jp/M"),T=n("QM+C"),S=n("fIXH"),s=n("cyON"),u=n("JgWU"),l=n("v33K"),c=n("vc5i"),m=n("SIew"),a=n("/Orn"),d=function(t){return["larksuite.com","larksuite-staging.com"].some(function(e){return-1<t.indexOf(e)})};function p(e){var t=e.payload,n=t.owner_id,r=t.owner_user_name,a=t.tenant_id,o=t.url,i=t.user_type,c=void 0===i?"":i,s=d(o);return E()({},n,{id:n,tenant_id:a,isOverseaSpace:s,name:r,keep:l.a.KeepNext,user_type:c})}var o=function(t,n){var e,r="",a="",o=t||"",a=n===T.NUM_FILE_TYPE.DOC?(r=f.apiUrls.GET_META,S.b):n===T.NUM_FILE_TYPE.SHEET?(r=f.apiUrls.GET_SPREADSHEET,S.e):n===T.NUM_FILE_TYPE.BITABLE?(r=f.apiUrls.GET_BITABLE,S.a):n===T.NUM_FILE_TYPE.SLIDE?(r=f.apiUrls.GET_META,S.k):n===T.NUM_FILE_TYPE.MINDNOTE?(r=f.apiUrls.GET_META,S.d):n===T.NUM_FILE_TYPE.FILE?(r=f.apiUrls.GET_META,S.c):(console.warn("unkown suite type: ".concat(n)),r=f.apiUrls.GET_META,"");if(r!==f.apiUrls.GET_META)return e={type:m.a.FETCH_CURRENT_SUITE,payload:{type:n}},E()(e,T.REQUEST,{url:"".concat(r).concat(o,"/"),headers:E()({},S.o,a),options:{takeLatest:!0,transformResponse:function(e){return Object.assign({},e,{token:o,type:n})}}}),E()(e,s.a,{resetWhenSuiteTokenChange:!0}),E()(e,u.c,p),e;var i,c={type:m.a.FETCH_CURRENT_SUITE,payload:{type:n}};return E()(c,T.REQUEST,{url:f.apiUrls.GET_META,params:{token:t,type:n},headers:(i={},E()(i,S.o,a),E()(i,"Content-Type","application/json"),i),options:{takeLatest:!0,transformResponse:function(e){return Object.assign({},e,{token:t,type:n})}}}),E()(c,s.a,{resetWhenSuiteTokenChange:!0}),E()(c,u.c,p),c},i=function(e){var t,n=e.token,r=e.type,a=e.title,o=e.memberId,i=e.isInWiki,c=e.wikiToken,s={token:n,type:r,title:a},u="",l={};switch(r){case T.NUM_FILE_TYPE.DOC:i?(t=f.apiUrls.WIKI_UPDATE_NODE_TITLE,s=JSON.stringify({wiki_token:c,name:a})):t=f.apiUrls.POST_UPDATE_TITLE;break;case T.NUM_FILE_TYPE.SHEET:t=f.apiUrls.POST_UPDATE_TITLE_SPREADSHEET,u=S.j;break;case T.NUM_FILE_TYPE.BITABLE:t=f.apiUrls.POST_UPDATE_TITLE_BITABLE;break;case T.NUM_FILE_TYPE.MINDNOTE:case T.NUM_FILE_TYPE.SLIDE:t=f.apiUrls.UPDATE_META,s={token:n,type:r,title:a,member_id:o||""};break;case T.NUM_FILE_TYPE.FILE:t=f.apiUrls.POST_BOX_UPDATE_FILE_INFO,s={file_token:n,name:a,member_id:o},l={"Content-Type":"application/json"}}var d=u?E()({},S.o,u):{};return E()({type:m.a.UPDATE_TITLE},T.REQUEST,{url:t,method:f.apiUrls.METHOD.POST,data:s,headers:Object.assign({},d,{},l),options:{takeLatest:!0,transformResponse:function(e){return Object.assign({},e,{obj_token:n,type:r,title:a})}}})},_=function(e){var t=e.token,n=e.type,r=e.title,a=e.icon_type,o=e.icon_key,i=e.icon_fsunit,c=e.member_id;return E()({type:m.a.UPDATE_META},T.REQUEST,{url:f.apiUrls.UPDATE_META,method:f.apiUrls.METHOD.POST,data:{token:t,type:n,title:r,icon_type:a,icon_key:o,icon_fsunit:i,member_id:c},options:{takeLatest:!0,transformResponse:function(e){return Object.assign({},e,{obj_token:t,type:n,title:r,icon_type:a,icon_key:o,icon_fsunit:i})}}})},O=function(e){var t=e.token,n=e.field,r=e.title,a=e.icon,o=a?{icon_key:a.key,icon_type:a.type,icon_fsunit:a.fs_unit}:{},i={type:T.NUM_SUITE_TYPE.SHEET,token:t,updateField:n,title:r||"",icon:JSON.stringify(a)};return console.log(i),E()({type:m.a.UPDATE_SHEET_META},T.REQUEST,{url:f.apiUrls.POST_UPDATE_TITLE_SPREADSHEET,method:f.apiUrls.METHOD.POST,data:i,headers:E()({},S.o,S.j),options:{takeLatest:!0,transformResponse:function(e){return Object.assign({},e,{obj_token:t,type:T.NUM_SUITE_TYPE.SHEET,title:r},o)}}})},b=function(e){var t=e.token,n=e.type,r=e.title;return{type:m.a.SYNC_TAB_TITLE,payload:{obj_token:t,type:n,title:r}}},y=function(e){var a=e.token,o=e.type,i=e.title;return function(e,t){var n=t();if(Object(c.n)(n)===a){var r=Object(c.f)(n);if(r&&r.get("title")!==i)return e({type:m.a.UPDATE_DOC_TITLE,payload:Object.assign({},r.toJS(),{obj_token:a,type:o,title:i,name:i})})}}},h=function(e){return{type:m.a.SYNC_NOTE_META,payload:e}},v=function(e){return{type:m.a.SET_SHOULD_PRINT,payload:e}},I=function(e){return{type:m.a.UPDATE_APPEAL_STATUS,payload:e}},C=function(e){var t=e.urlType,n=void 0===t?T.EXPLORER_URL_TYPE.V1:t,r=e.objToken,a=e.objType,o=e.parentToken,i=e.parentType,c=e.title,s=e.needPermission,u=e.needComment,l=a===T.NUM_FILE_TYPE.SHEET,d=l?S.f:"",p=d?E()({},S.o,d):{},_=l?4e4:1e4;return E()({type:m.a.COPY_SUITE},T.REQUEST,{url:n===T.EXPLORER_URL_TYPE.V2?f.apiUrls.COPY_SUITE_V2:f.apiUrls.COPY_SUITE,method:f.apiUrls.METHOD.POST,data:{obj_token:r,obj_type:a,parent_token:o,title:c,need_permission:s,need_comment:u},options:{transformResponse:function(e){return Object.assign({},e,{parentToken:o,parentType:i})}},headers:Object.assign({},p),timeout:_})},R=function(e,t){return{type:m.a.CHECK_SUITE_EXTERNAL,payload:{objToken:e,objType:t}}},g=function(e,t,n){return{type:m.a.UPDATE_SUITE_VISIBILITY_STATE,payload:{objToken:e,objType:t,visibilityState:n}}},k=function(e,t){return E()({type:m.a.POST_RECENT_REPORT},T.REQUEST,{url:f.apiUrls.POST_RECENT_REPORT,method:f.apiUrls.METHOD.POST,data:{obj_token:e,obj_type:t}})},D=function(e,t){return E()({type:m.a.POST_RECENT_WIKI},T.REQUEST,{url:f.apiUrls.POST_RECENT_WIKI,headers:{"Content-Type":"application/json"},method:f.apiUrls.METHOD.POST,data:{token:e,space_id:t}})},j=function(e){return{type:m.a.SET_HELP_BTN_VISIBLE,payload:e}},L=function(e){return{type:m.a.SET_HELP_BTN_ACTIVATED,payload:e}},w=function(e){return{type:m.a.SET_HELP_SIDE_BAR_VISIBLE,payload:e}},N=function(e,t){return E()({type:m.a.FETCH_SUITE_WIKI_INFO},T.REQUEST,{url:f.apiUrls.GET_WIKI_INFO,method:f.apiUrls.METHOD.GET,params:{obj_token:e,obj_type:t}})},U=function(e){return E()({type:m.a.FETCH_BATCH_WIKI_INFO},T.REQUEST,{url:f.apiUrls.FETCH_BATCH_WIKI_INFO,method:f.apiUrls.METHOD.POST,data:e,headers:{"Content-Type":"application/json"}})},P=function(e){return E()({type:m.a.FETCH_BATCH_SPACE_INFO_BY_WIKI_TOKEN},T.REQUEST,{url:f.apiUrls.FETCH_BATCH_SPACE_INFO_BY_WIKI_TOKEN,method:f.apiUrls.METHOD.GET,params:{wiki_tokens:e.wikiTokens.join(",")},headers:{"Content-Type":"application/json"}})},M=function(e){return{type:m.a.REMOVE_SUITE_WIKI_INFO,payload:e}},x=function(e){return{type:m.a.SET_EMBED_SIDEBAR_VISIBLE,payload:e}},F=function(e){var t=e.icon_key,n=e.icon_type,r=e.icon_fsunit,a=e.obj_token;return{type:m.a.SET_CUSTOM_ICON,payload:{icon_key:t,icon_type:n,icon_fsunit:r,obj_token:a}}},H=function(t,n){var e={type:a.a.FETCH_OBJ_PATHS};return E()(e,T.REQUEST,{url:f.apiUrls.GET_OBJ_PATH,method:f.apiUrls.METHOD.GET,params:{obj_token:t,obj_type:n},options:{transformResponse:function(e){return Object.assign({},e,{objToken:t,type:n})}}}),E()(e,T.DEFERRED,!0),E()(e,s.a,{resetWhenSuiteTokenChange:!0}),e},B=function(e){return E()({type:m.a.FETCH_WIKI_ENTITY},T.REQUEST,{url:f.apiUrls.GET_FETCH_WIKI_ENTITY,params:{wiki_token:e,include_explorer_info:!0}})},K=function(e){return{type:m.a.SET_EXPLORER_WIKI_ENTITY,payload:e}}},"Zc6/":function(e,t,n){"use strict";n.d(t,"k",function(){return d}),n.d(t,"h",function(){return E}),n.d(t,"i",function(){return f}),n.d(t,"c",function(){return O}),n.d(t,"o",function(){return v}),n.d(t,"g",function(){return I}),n.d(t,"a",function(){return C}),n.d(t,"m",function(){return R}),n.d(t,"f",function(){return g}),n.d(t,"d",function(){return k}),n.d(t,"e",function(){return D}),n.d(t,"j",function(){return j}),n.d(t,"l",function(){return L}),n.d(t,"n",function(){return w}),n.d(t,"b",function(){return N});var r=n("QILm"),a=n.n(r),c=n("/1FC"),o=n("XIp8"),i=n("7EGn"),s=n("qGoe"),_=n("jp/M"),u=n("+HKK"),l=n("rLED");function d(e){return!!e[_.common.REQUEST]}function p(e){return e[_.common.REQUEST]}function E(e){var t=p(e);t.options;return a()(t,["options"])}function f(e){var t=p(e),n=t?t.options:{};return Object.assign({},s.a.defaults,{},n)}function T(e){switch(e){case _.apiUrls.METHOD.GET:return"params";case _.apiUrls.METHOD.POST:return"data";default:return"params"}}function S(e){var t=p(e);return t?t[T(t.method)]:{}}function m(e,t,n){var r=Object(o.default)(e),a=T(r[_.common.REQUEST].method);return r[_.common.REQUEST][a][t]=n,r}function O(e){var t=f(e).abortOn,n="CANCEL_".concat(e.type);return Array.isArray(t)?[n].concat([t]):[n,t]}function b(e){var t=S(e);return Object.assign({},e.payload,{},t)}function y(e,t){var n=t||{},r=n.startSuffix,a=void 0===r?_.actionTypes.suffix.START:r,o=n.successSuffix,i=void 0===o?_.actionTypes.suffix.SUCCESS:o,c=n.failSuffix,s=void 0===c?_.actionTypes.suffix.FAIL:c,u=n.cancelSuffix,l=void 0===u?_.actionTypes.suffix.CANCEL:u;if(void 0!==e.type)var d=e.type,p={type:d,start:"".concat(d).concat(a),success:"".concat(d).concat(i),fail:"".concat(d).concat(s),cancel:"".concat(d).concat(l)};else{if(void 0===e.types)throw new Error('Action which matched axios middleware needs to have "type" or "types" key which is not null');p=e.types}return p}function h(e,t){var n=f(t),r=e.entities,a=(a=e.users)&&Object.assign({},a);return n.transformResponse&&(e=n.transformResponse(e,t)),e.entities||(r?e.entities=Object.assign({},r):a&&(e.entities={users:a})),n.enableCamelCaseResponse&&(e=Object(u.a)(e)),n.enableSnakeCaseResponse&&(e=Object(u.d)(e)),e}var v={start:function(e){var t,n;d(e)&&(t=f(e),n=S(e));var r=e.payload,a=r&&"string"!=typeof r&&!Object(c.a)(r);return{type:y(e,t).start,payload:Object.assign({},a?e.payload:{},{},n),meta:{isLoading:!0,previousAction:e},FROM_BATCH:L(e),FROM_UNDO:e[_.common.FROM_UNDO]}},success:function(e,t){var n,r=e.payload,a=t.data,o=t.meta;d(e)&&(n=f(e),t=h(a,e)),n&&n.mergeRequestDataIntoPayload&&(r=b(e));var i=r&&"string"!=typeof r&&!Object(c.a)(r)?Object.assign({},r,{},t):t;return{type:y(e,n).success,payload:i,meta:Object.assign({},o,{isLoading:!1,previousAction:e}),FROM_BATCH:L(e),FROM_UNDO:e[_.common.FROM_UNDO]}},fail:function(e,t){var n,r,a={};return d(e)&&(n=f(e),r=S(e),a=h(a,e)),{type:y(e,n).fail,error:t,payload:Object.assign({},e.payload,{},r,{},a),meta:{previousAction:e,isLoading:!1,isError:!0},FROM_BATCH:L(e),FROM_UNDO:e[_.common.FROM_UNDO]}},cancel:function(e){var t,n,r;return d(e)&&(t=f(e),n=S(e),r=O(e)),{type:y(e,t).cancel,payload:Object.assign({},n,{abortOn:r}),meta:{previousAction:e,isLoading:!1,isError:!1},FROM_BATCH:L(e),FROM_UNDO:e[_.common.FROM_UNDO]}}};function I(e,t){var n=t.startingDelay,r=void 0===n?200:n,a=t.timeMultiple,o=void 0===a?2:a;return r*Math.pow(o,e)}function C(e,t){var n=t.baseURL,r=t.apiType;return n&&(e.baseURL=n),r&&(e.apiType=r),Object.assign({},e,{},n?{baseURL:n}:e.baseURL,{},r?{apiType:r}:e.apiType)}function R(e,t){var n=g(e,t);return(Object(l.L)("space_batch_request_benchmark")||_.common.BATCH_REQUEST_LIMITED_NUM)<n.length}function g(e,t){var n=e[_.common.BATCH_REQUEST];return Object(i.default)(S(n),t)}function k(e){return Object(i.default)(e,[_.common.BATCH_REQUEST,"type"])}function D(e){return Object(i.default)(e,_.common.BATCH_REQUEST)}function j(e,t,n){var r=D(e),a=g(e,t),o=Object(l.L)("space_batch_request_benchmark")||_.common.BATCH_REQUEST_LIMITED_NUM,i=a.slice(n,n+o);if(!(i.length<1)){var c=m(r,t,i);return c[_.common.FROM_BATCH]=!0,c}}function L(e){return e[_.common.FROM_BATCH]}function w(e){return e[_.common.FROM_UNDO]=!0,e[_.common.BATCH_REQUEST][_.common.FROM_UNDO]=!0,e}var N={start:function(e){return{type:_.actionTypes.explorer.BATCH_TASK_START,subType:"".concat(k(e)).concat(_.actionTypes.suffix.START),rawAction:e}},success:function(e,t,n){return{type:_.actionTypes.explorer.BATCH_TASK_SUCCESS,subType:"".concat(k(e)).concat(_.actionTypes.suffix.SUCCESS),rawAction:e,successAction:t,failAction:n}},fail:function(e,t){return{type:_.actionTypes.explorer.BATCH_TASK_FAIL,subType:"".concat(k(e)).concat(_.actionTypes.suffix.FAIL),rawAction:e,failAction:t}},cancel:function(e){return{type:_.actionTypes.explorer.BATCH_TASK_CANCEL,subType:"".concat(k(e)).concat(_.actionTypes.suffix.CANCEL)}}}},aBgF:function(e,t,n){"use strict";n.d(t,"c",function(){return a}),n.d(t,"a",function(){return c}),n.d(t,"b",function(){return u}),n.d(t,"e",function(){return l}),n.d(t,"d",function(){return d});var r,a,o,i=!1;window.isNotBrowser||(r=n("puQj"),i=r&&r.mac),(o=a=a||{})[o.BackSpace=8]="BackSpace",o[o.Tab=9]="Tab",o[o.Clear=12]="Clear",o[o.Enter=13]="Enter",o[o.Shift=16]="Shift",o[o.Ctrl=17]="Ctrl",o[o.Alt=18]="Alt",o[o.Esc=27]="Esc",o[o.Space=32]="Space",o[o.PageUp=33]="PageUp",o[o.PageDown=34]="PageDown",o[o.End=35]="End",o[o.Home=36]="Home",o[o.Left=37]="Left",o[o.Up=38]="Up",o[o.Right=39]="Right",o[o.Down=40]="Down",o[o.Delete=46]="Delete",o[o.Digit0=48]="Digit0",o[o.Digit9=57]="Digit9",o[o.A=65]="A",o[o.B=66]="B",o[o.C=67]="C",o[o.D=68]="D",o[o.E=69]="E",o[o.F=70]="F",o[o.G=71]="G",o[o.H=72]="H",o[o.I=73]="I",o[o.J=74]="J",o[o.K=75]="K",o[o.L=76]="L",o[o.M=77]="M",o[o.N=78]="N",o[o.O=79]="O",o[o.P=80]="P",o[o.Q=81]="Q",o[o.R=82]="R",o[o.S=83]="S",o[o.T=84]="T",o[o.U=85]="U",o[o.V=86]="V",o[o.W=87]="W",o[o.X=88]="X",o[o.Y=89]="Y",o[o.Z=90]="Z",o[o.Meta=91]="Meta",o[o.RightMeta=93]="RightMeta",o[o.Caret=94]="Caret",o[o.Numpad0=96]="Numpad0",o[o.Numpad9=105]="Numpad9",o[o.NumpadDot=110]="NumpadDot",o[o.F11=122]="F11",o[o.Semicolon=186]="Semicolon",o[o.Plus=187]="Plus",o[o.Minus=189]="Minus",o[o.Dot=190]="Dot",o[o.Grave=192]="Grave",o[o.Bracket=219]="Bracket",o[o.Quot=222]="Quot",o[o.Asterisk=106]="Asterisk",o[o.Slash=111]="Slash",o[o["/"]=191]="/",o[o["\\"]=220]="\\",o[o.Ime=229]="Ime";var c=[a.Up,a.Down,a.Left,a.Right],s=[a.C,a.V,a.X],u=[a.BackSpace,a.Delete];function l(e){return d(e)&&-1!==s.indexOf(e.keyCode)}function d(e){return i?e.metaKey&&!e.altKey:e.ctrlKey&&!e.altKey}},aXiW:function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n("lwsE"),a=n.n(r),o=n("W8MJ"),i=n.n(o),c=n("xKvl"),s=function(){function t(e){a()(this,t),this.eventName=e,this.content=new Object}return i()(t,[{key:"push",value:function(e){return this.content=Object.assign({},this.content,{},e),this}},{key:"get",value:function(e){return this.content[e]}},{key:"report",value:function(e){return this.reportWithoutClear(e),this.clear(),this}},{key:"reportWithoutClear",value:function(e){return this.content=Object.assign({},this.content,{},e),Object(c.d)(this.eventName,this.content),this}},{key:"clear",value:function(){return this.content=new Object,this}}]),t}(),u=function(){var n=new Map;return function(e){if(n.has(e))return n.get(e);var t=new s(e);return n.set(e,t),t}}()},aaZh:function(e,t,n){},b9hN:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n("IwEy"),a=Object.assign({},Object(r.c)("CLIENT_VARS"),{RESET_CLIENT_VARS:"RESET_CLIENT_VARS",SET_CLIENT_VARS:"SET_CLIENT_VARS",CHANGE_TOKEN:"CHANGE_TOKEN",SET_EDITOR:"SET_EDITOR",DESTROY_EDITOR:"DESTROY_EDITOR",SET_BODY_BLANK:"SET_BODY_BLANK",SET_TITLE_BLANK:"SET_TITLE_BLANK",SET_TITLE_AND_BODY_BLANK:"SET_TITLE_AND_BODY_BLANK",TOGGLE_FULLSCREEN:"TOGGLE_FULLSCREEN",SET_RENDERED:"SET_RENDERED"})},bJ94:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r={start:0,afterPolyfill:0,afterUtilsDOM:0,afterStore:0,afterApp:0,afterExternal:0,beforeAppRender:0,afterAppRender:0}},bL6Q:function(e,r,a){"use strict";(function(o){a.d(r,"a",function(){return n});var e=a("q1tI"),i=a.n(e),t=a("i8i4"),c=a.n(t),s=a("2ACu"),u=a("iP/4"),l=a("vTLy"),d=a("5gS9"),p=!1;function n(e){var t,n,r,a;p||u.a.isOpendoc||(d.b.getInstance().closeChannel(),n=(t=e.config).x_command,r=t.requestId,Object(s.default)("client_login_required",{x_command:n,requestId:r}),a=document.createElement("div"),document.body.appendChild(a),c.a.render(i.a.createElement(l.a,{contentText:o("not_authorized.login_status_error")}),a,function(){p=!0}))}}).call(this,a("2vAP"))},bSpK:function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return o});var r=n("jp/M"),a={NOTIFY:"NOTIFY",DOC:r.common.FILE_TYPE.DOC.toUpperCase(),SHEET:r.common.FILE_TYPE.SHEET.toUpperCase(),BITABLE:r.common.FILE_TYPE.BITABLE.toUpperCase(),MINDNOTE:r.common.FILE_TYPE.MINDNOTE.toUpperCase(),SLIDE:r.common.FILE_TYPE.SLIDE.toUpperCase(),LIKE:r.like.LIKE_MESSAGE_TYPE,BOX:r.common.BoxSyncSuiteType},o={PERMISSION_CHANGE:"PERMISSION_CHANGE",OBJ_PERMISSION_CHANGE:"OBJ_PERMISSION_CHANGE",UNREGISTER_DEVICE:"UNREGISTER_DEVICE",GROUP_CHANGE:"GROUP_CHANGE"}},bVzy:function(e,t){e.exports=navigator.cdn_host+"/ccm/pc/web/resource/bear/public/icon_file_unknow_nor.d25602b3fb3a0f942847.ico"},biPL:function(e,t,n){"use strict";n.d(t,"a",function(){return d});var r,a=n("lSNA"),o=n.n(a),i=n("Mpt7"),c=n("ANjH"),s=n("6SzI"),u=n("jp/M"),l=n("1KqI"),d=Object(i.Record)({id:"0",userId:"0",referType:l.b.DOC,createTime:0,userName:"",userAvatarUrl:"",userTenantId:""},"Like"),p=Object(i.Record)({isOpen:!1,hasMore:!1,likes:Object(i.List)()},"LikeDetail"),_=new(Object(i.Record)({count:0,likeId:null,detail:new p,recentHasMore:!0,recentLikes:Object(i.List)(),hasLikedFromLocal:null},"TargetLikeState"));function E(e,r,a){var t=e.filter(function(e){var t=r[e];return t&&a[t.user_id]}).map(function(e){var t=r[e],n=a[t.user_id];return new d({id:t.id,userId:t.user_id,referType:t.refer_type,createTime:t.create_time,userName:n.en_name,userAvatarUrl:n.avatar_url,userTenantId:n.tenant_id})});return Object(i.List)(t)}var f=Object(s.handleActions)((r={},o()(r,u.actionTypes.like.globalLike.FETCH_GLOBAL_LIKE_LIST_SUCCESS,function(e,t){if(!e.detail.isOpen)return e;var n=t.payload,r=n.has_more,a=E(n.ids,n.likes,n.users);return e.merge({detail:e.detail.merge({hasMore:r,likes:e.detail.likes.concat(a)})})}),o()(r,u.actionTypes.like.globalLike.OPEN_GLOBAL_LIKE_DETAIL,function(e,t){return e.merge({detail:e.detail.merge({isOpen:!0,hasMore:e.recentHasMore,likes:t.payload})})}),o()(r,u.actionTypes.like.globalLike.CLOSE_GLOBAL_LIKE_DETAIL,function(e,t){return e.merge({detail:e.detail.clear()})}),o()(r,u.actionTypes.like.globalLike.FETCH_RECENT_GLOBAL_LIKE_LIST_SUCCESS,function(e,t){var n=t.payload,r=n.has_more,a=E(n.ids,n.likes,n.users);return e.merge({recentHasMore:r,recentLikes:e.recentLikes.slice(0,a.size).mergeDeep(a)})}),o()(r,u.actionTypes.like.globalLike.FETCH_GLOBAL_LIKE_COUNT_SUCCESS,function(e,t){var n=t.payload,r=n.count,a=n.like_id;return e.merge({count:r,likeId:""===a?null:a})}),o()(r,u.actionTypes.like.globalLike.SYNC_GLOBAL_LIKE,function(e,t){var n=t.payload,r=n.like.userId===n.curUserId,a={};return n.action===l.d.INCREASE?r&&(a.likeId=n.like.id):n.action===l.d.DECREASE&&r&&(a.likeId=null),a.count=n.count,a.recentLikes=n.recentLikes,e.merge(a)}),o()(r,u.actionTypes.like.globalLike.CLEAR_GLOBAL_LIKE_STATE,function(e,t){return e.clear()}),o()(r,u.actionTypes.like.globalLike.SET_HAS_LIKED_FROM_LOCAL,function(e,t){return e.merge({hasLikedFromLocal:t.payload})}),r),_);t.b=Object(c.combineReducers)({globalLike:f})},bsTM:function(e,R,g){"use strict";(function(c){g.d(R,"c",function(){return h}),g.d(R,"b",function(){return v});var e,t,n=g("lSNA"),r=g.n(n),a=g("7EGn"),s=g("jp/M"),o=g("VI6H"),u=g("KNY2"),l=g("PIny"),d=g("rLED"),i=g("kS6I"),p=s.common.FOLDER_PERMISSION_ACTION_TYPE,_=s.common.OWNER_TYPE,E=s.error.NODE_OUT_OF_LIMIT_BY_EXPLORER_ERROR_CODE,f=s.error.MEMBER_UNSUPPORT_TOBE_INVITED_CODE,T=s.error.OPERATE_ILLEGAL_ERROR_CODE,S=s.error.MOVE_BIG_TREE,m=s.error.PERMISSION_REQUEST_DENIED_DUE_TO_ADMIN_CONTROL,O=s.error.DUPLICATE_RECORD,b=s.error.GRAB_LOCK_FAILED,y=function(){return{content:Object(o.g)()?c("permission.can_not_invite_ enterprise_users"):c("permission.can_not_invite_external_users")}},h=function(e){if(e){var t=e.code,n=e.msg,r=e.meta;if(!r||!r.is_msg_old){var a=s.error.ERROR_CODE_MAP[t];if(a){var o=a.description;return"function"==typeof o?o(n):o}}return n}},v=function(e,t){if(t)return c("common.undo");switch(e){case s.actionTypes.explorer.COMMON_ADD_FILE_TO_START:return c("explorer.adding");case s.actionTypes.explorer.MOVE_FILE_START:return c("explorer.moving");case s.actionTypes.explorer.REMOVE_FILE_START:case s.actionTypes.explorer.DELETE_RECENT_RECORD_START:return c("explorer.removing");case s.actionTypes.explorer.DELETE_OBJECT_START:case s.actionTypes.explorer.DELETE_REMOVED_FILE_START:return c("explorer.deleting");case s.actionTypes.explorer.RESTORE_REMOVED_FILE_START:return c("explorer.restored2")}},I=(e={},r()(e,p.UPDATE_PUBLIC_PERMISSION_SUCCESS,function(e){return{content:e.payload.showToast?c("permission.set_public_permission_success"):""}}),r()(e,p.UPDATE_PUBLIC_PERMISSION_FAIL,function(e){return e.error&&Object(l.d)(e.error.code)?{content:c("common.rename_fail_illegal")}:{content:e.payload.showToast?c("permission.set_public_permission_fail"):""}}),r()(e,p.UPDATE_MEMBERS_PERM_SUCCESS,function(e){return{content:c("abtest.permission_toast.changed_successfully")}}),r()(e,p.UPDATE_MEMBERS_PERM_FAIL,function(e){return{content:c("permission.set_user_permission_fail")}}),e),C=(t={},r()(t,s.actionTypes.explorer.CREATE_FILE_FAIL,function(e){switch(Object(a.default)(e,"error.code")){case b:return{content:s.error.ERROR_CODE_MAP[b].description};case s.error.STATUS_CODE.FORBIDDEN:return{content:s.error.ERROR_CODE_MAP[s.error.STATUS_CODE.FORBIDDEN].description};case s.error.CREATE_LIMITATION_ERROR_CODE:return;case E:return{content:s.error.maxShareFolderNodeErrorTips};case T:return{content:c("common.rename_fail_illegal")};case s.error.CLONE_FAILED_OVER_4000_IMAGE_INSIDE_SHEET:return{content:c("sheet.create_copy.exceed_image_limit")};default:return{content:c("common.create_failed")}}}),r()(t,s.actionTypes.explorer.CREATE_FOLDER_FAIL,function(e){var t=Object(a.default)(e,"error.code");return t===E?{content:s.error.maxShareFolderNodeErrorTips}:t===f?y():t===T?{content:c("common.rename_fail_illegal")}:{content:c("common.create_failed")}}),r()(t,s.actionTypes.explorer.CREATE_SHARE_FOLDER_FAIL,function(e){var t=Object(a.default)(e,"error.code");if(t===E)return{content:s.error.maxShareFolderNodeErrorTips};if(t===f)return y();if(t===T)return{content:c("common.rename_fail_illegal")};var n=Object(a.default)(e,"error.data").block_user_map,r=void 0===n?{}:n;return 0<Object.keys(r).length?void 0:{content:c("common.create_failed")}}),r()(t,s.actionTypes.explorer.RENAME_FILE_FAIL,function(e){if(Object(a.default)(e,"error.code")!==T)return{content:c("explorer.rename_failed")}}),r()(t,s.actionTypes.explorer.ADD_MEMBERS_TO_FOLDER_SUCCESS,function(e){return{content:c("permission.invite_member_success")}}),r()(t,s.actionTypes.permission.POST_ADD_ROLE_MEMBER_SUCCESS,function(e){return{content:c("permission.invite_member_success")}}),r()(t,s.actionTypes.permission.POST_TEAM_SPACE_MEMBERS_CREATE_SUCCESS,function(e){return{content:c("permission.invite_member_success")}}),r()(t,s.actionTypes.permission.SET_SUITE_PUBLIC_PERMISSION_SUCCESS,function(e){return{content:e.payload.showToast?c("permission.set_public_permission_success"):""}}),r()(t,s.actionTypes.permission.SET_SUITE_PUBLIC_PERMISSION_FAIL,function(e){return e.error&&Object(l.d)(e.error.code)?{content:c("common.rename_fail_illegal")}:{content:e.payload.showToast?c("permission.set_public_permission_fail"):""}}),r()(t,s.actionTypes.permission.SEND_SUITE_PERMISSION_REQUEST_SUCCESS,function(e){return{content:c("permission.send_apply_permission_success")}}),r()(t,s.actionTypes.permission.SEND_SUITE_PERMISSION_REQUEST_FAIL,function(e){var t=e.error,n=e.payload.userName;if(t){if(t.code===m)return{type:s.common.TOAST_TYPE.info,content:s.error[t.code].description};var r=s.error.PERMISSION_APPLY_DENIED_TOAST_MAP[t.code];if(r)return{type:s.common.TOAST_TYPE.error,content:r(n)}}return{content:c("permission.send_apply_permission_fail")}}),r()(t,s.actionTypes.permission.SEND_SUITE_PARENT_PERMISSION_REQUEST_SUCCESS,function(e){return{content:c("permission.send_apply_permission_success")}}),r()(t,s.actionTypes.permission.SEND_SUITE_PARENT_PERMISSION_REQUEST_FAIL,function(e){var t=e.payload.deviceType,n=Object(a.default)(e,"error.code"),r=n===s.error.STATUS_CODE.NOTE_DELETED||n===s.error.STATUS_CODE.NOT_FOUND?c("filecard.file_delete_by_owner"):"mobile"===t&&n===s.error.STATUS_CODE.CONNECT_ERROR?c("permission.network_error"):n===s.error.PERMISSION_REQUEST_DENIED_DUE_TO_BLOCKED||n===s.error.PERMISSION_REQUEST_DENIED_DUE_TO_BE_BLOCKED?c("CreationDoc_ECM_BlockedUnableRequestPermissionToast"):c("permission.send_apply_permission_fail");return{content:r}}),r()(t,s.actionTypes.permission.FETCH_USER_PERMISSION_ON_SUITE_FAIL,function(t){if(![s.error.STATUS_CODE.FORBIDDEN,s.error.STATUS_CODE.INVALID_PARAMETERS,s.error.STATUS_CODE.NOT_FOUND,s.error.STATUS_CODE.NOTE_DELETED,s.error.STATUS_CODE.OBJCT_DELETED,s.error.STATUS_CODE.PROMPT_MODIFY_WHEN_VIOLATE_POLICIES,s.error.STATUS_CODE.PROMPT_CONTACT_WHEN_VIOLATE_POLICIES].some(function(e){return e===t.error.code}))return{content:c("permission.fetch_share_data_failed")}}),r()(t,s.actionTypes.permission.UPDATE_USER_PERMISSION_SUCCESS,function(e){return{content:c("permission.set_user_permission_success")}}),r()(t,s.actionTypes.permission.UPDATE_USER_PERMISSION_FAIL,function(e){return{content:c("permission.set_user_permission_fail")}}),r()(t,s.actionTypes.permission.UPDATE_USER_PERMISSION_V2_FAIL,function(e){var t=e.payload.owner_type,n=_.APP===t;return{content:c(n?"CreationDoc_ECM_AppModificationFailToast":"permission.set_user_permission_fail")}}),r()(t,s.actionTypes.permission.BULK_SET_PERM_SUCCESS,function(e){if(e.payload.noToast)return{content:""};var t=e.payload.owners,n=JSON.parse(t).every(function(e){return e.owner_type===_.APP});return{content:"share_custom_tmpl"===e.payload.actualSource?c("permission.custom_template_share_success"):c(n?"CreationDoc_ECM_AddAppToast":"permission.invite_member_success")}}),r()(t,s.actionTypes.permission.BULK_SET_PERM_FAIL,function(e){Object(u.d)();var t=Object(d.d)("share_by_unauth_v2_enabled"),n=e.error;if(n&&n.code===s.error.SUITE_MAX_COOPERATOR)return{content:c("permission.max.collaborators")};if(n&&n.code===s.error.PERMISSION_FAILED_FOR_EXTERNAL_ACCESS)return t?0<n.data.success_count?{type:s.common.TOAST_TYPE.success,content:c("permission.invite_member_success")}:void 0:{content:c("permission.invite_failed_for_external_access")};if(n&&Object(l.d)(n.code))return{content:c("common.rename_fail_illegal")};var r=(n.data||{}).block_user_map,a=void 0===r?{}:r;if(!(0<Object.keys(a).length)){var o=e.payload.owners,i=JSON.parse(o).every(function(e){return e.owner_type===_.APP});return{content:c(i?"CreationDoc_ECM_AddAppFailToast":"permission.invite_member_fail")}}}),r()(t,s.actionTypes.permission.CREATE_MOCK_USER_FAIL,function(e){return{content:c("permission.invite_member_fail")}}),r()(t,s.actionTypes.search.FETCH_SEARCH_USER_FAIL,function(e){return{content:c("member.serach_limit_toast")}}),r()(t,s.actionTypes.suite.UPDATE_TITLE_FAIL,function(e){return e.error&&Object(l.d)(e.error.code)?{key:s.actionTypes.suite.UPDATE_TITLE_FAIL,content:c("common.rename_fail_illegal")}:{content:c("explorer.rename_failed")}}),r()(t,s.actionTypes.permission.BULK_SHARE_LINK_SUCCESS,function(e){return{content:c("permission.send_link_success")}}),r()(t,s.actionTypes.permission.BULK_ASK_OWNER_SUCCESS,function(e){return{content:c("permission.ask_owner_success")}}),r()(t,s.actionTypes.permission.ASK_OWNER_OPEN_LINK_SHARING_SUCCESS,function(e){return{content:c("permission.ask_owner_success")}}),r()(t,s.actionTypes.explorer.ADD_MEMBERS_TO_FOLDER_FAIL,function(e){var t=e.error,n=t.code;if(n===f)return y();if(n===T)return{content:c("common.rename_fail_illegal")};if(n===S)return{content:c("explorer.move_big_tree_fail",c("common.share"))};var r=t.data.block_user_map,a=void 0===r?{}:r;return 0<Object.keys(a).length?void 0:{content:h(t)}}),r()(t,s.actionTypes.permission.POST_ADD_ROLE_MEMBER_FAIL,function(e){var t=e.error;return t.code===f?y():{content:h(t)}}),r()(t,s.actionTypes.permission.POST_TEAM_SPACE_MEMBERS_CREATE_FAIL,function(e){var t=e.error;return t.code===f?y():{content:h(t)}}),r()(t,s.actionTypes.permission.POST_UPDATE_ROLE_MEMBER_SUCCESS,function(e){return{content:c("explorer.teamspace.v1.collaborator_update_role_success")}}),r()(t,s.actionTypes.permission.POST_UPDATE_ROLE_MEMBER_FAIL,function(e){var t=e.error;return{content:h(t)}}),r()(t,s.actionTypes.permission.POST_DELETE_ROLE_MEMBER_FAIL,function(e){var t=e.error;return{content:h(t)}}),r()(t,s.actionTypes.explorer.CREATE_FILE_SUCCESS,function(e){if(e.payload.type===s.common.NUM_FILE_TYPE.FOLDER)return{content:c("explorer.create_success")}}),r()(t,s.actionTypes.explorer.CREATE_TEAM_SPACE_SUCCESS,function(e){return{content:c("explorer.team_space.create_success")}}),r()(t,s.actionTypes.explorer.ADD_STAR_SUCCESS,function(e){return{content:c("explorer.home.add_star_success_message_v2")}}),r()(t,s.actionTypes.explorer.ADD_STAR_FAIL,function(e){if(Object(a.default)(e,"error.code")===O)return{content:c("explorer.v3.already_added_to_quick_access")}}),r()(t,s.actionTypes.explorer.REMOVE_STAR_SUCCESS,function(e){return{content:c("explorer.home.remove_star_success_message")}}),r()(t,s.actionTypes.explorer.ADD_PIN_SUCCESS,function(e){return{content:c("explorer.home.add_pin_success_message")}}),r()(t,s.actionTypes.explorer.ADD_PIN_FAIL,function(e){var t=Object(a.default)(e,"error.code");return t===O?{content:c("explore.already_pined")}:t===E?{content:c("explore.pin.out_of_limit")}:void 0}),r()(t,s.actionTypes.explorer.SUBSCRIBE_START,function(e){return{key:"".concat(s.actionTypes.explorer.SUBSCRIBE_START,"_TOAST"),type:s.common.TOAST_TYPE.loading,delay:500,content:c("common.loading"),keepAlive:!0}}),r()(t,s.actionTypes.explorer.SUBSCRIBE_SUCCESS,function(e){return{content:c("explorer.home.subscribe_success")}}),r()(t,s.actionTypes.explorer.SUBSCRIBE_FAIL,function(e){return{content:h(e.error)}}),r()(t,s.actionTypes.explorer.UNSUBSCRIBE_START,function(e){return{key:"".concat(s.actionTypes.explorer.UNSUBSCRIBE_START,"_TOAST"),type:s.common.TOAST_TYPE.loading,delay:500,content:c("common.loading"),keepAlive:!0}}),r()(t,s.actionTypes.explorer.UNSUBSCRIBE_SUCCESS,function(e){return{content:c("explorer.home.unsubscribe_success")}}),r()(t,s.actionTypes.explorer.UNSUBSCRIBE_FAIL,function(e){return{content:h(e.error)}}),r()(t,s.actionTypes.explorer.REMOVE_PIN_SUCCESS,function(e){return{content:c("explorer.home.remove_pin_success_message")}}),r()(t,s.actionTypes.explorer.DELETE_TEMPLATE_SUCCESS,function(e){return e.payload.noToast?{content:""}:{content:c("explorer.delete_success")}}),r()(t,s.actionTypes.explorer.DELETE_TEMPLATE_FAIL,function(e){return{content:h(e.error)}}),r()(t,s.actionTypes.comment.globalComment.SET_MOBILE_OFELINE_COMMENT_FAIL,function(e){return{type:s.common.TOAST_TYPE.error,content:c("common.operate_fail_and_try_again"),duration:2e3}}),r()(t,s.actionTypes.permission.SEND_FOLDER_PERMISSION_REQUEST_SUCCESS,function(e){return{content:c("permission.send_apply_permission_success")}}),r()(t,s.actionTypes.permission.SEND_FOLDER_PERMISSION_REQUEST_FAIL,function(e){return"mobile"===e.payload.deviceType&&e.error.code===s.error.STATUS_CODE.CONNECT_ERROR?{content:c("permission.network_error")}:e.error.code===m?{type:s.common.TOAST_TYPE.info,content:c("permission.send_apply_no_permission")}:{content:c("permission.send_apply_permission_fail")}}),r()(t,s.actionTypes.permission.POST_TEAM_SPACE_APPLY_PERM_SUCCESS,function(e){return{content:c("permission.send_apply_permission_success")}}),r()(t,s.actionTypes.permission.POST_TEAM_SPACE_APPLY_PERM_FAIL,function(e){return e.error.code===m?{type:s.common.TOAST_TYPE.info,content:c("permission.send_apply_no_permission")}:{content:c("permission.send_apply_permission_fail")}}),r()(t,s.actionTypes.permission.COPY_TEXT_FAIL,function(e){return{content:Object(i.f)(i.b.FILE_COPY)?c("permission.copy_fail_without_permission"):c("CreationDoc_ECM_AdminDisableToast")}}),r()(t,s.actionTypes.preference.FETCH_USER_PREFERENCE_FAIL,function(){return{content:c("settings.fetch_settings_data_fail")}}),r()(t,s.actionTypes.preference.FETCH_UPDATE_USER_PREFERENCE_SUCCESS,function(){return{content:c("settings.changes_saved")}}),r()(t,s.actionTypes.preference.FETCH_UPDATE_USER_PREFERENCE_FAIL,function(){return{content:c("settings.setting_fail")}}),r()(t,s.actionTypes.permission.REMOVE_AUTHORIZED_MEMBERS_FAIL,function(e){var t=e.error;return{content:h(t)}}),r()(t,s.actionTypes.permission.POST_FOLDER_INFO_ROLE_FAIL,function(e){var t=e.error;return{content:h(t)}}),r()(t,s.actionTypes.permission.POST_FOLDER_INFO_ROLE_SUCCESS,function(e){return{content:c("explorer.teamspace.v1.folder_setting_success")}}),r()(t,s.actionTypes.explorer.SHOW_SHARE_FOLDER_SUCCESS,function(e){return{content:c("explorer.v3.share_folder.show_success")}}),r()(t,s.actionTypes.explorer.HIDE_SHARE_FOLDER_SUCCESS,function(e){return{content:c("explorer.v3.share_folder.hide_success")}}),r()(t,s.actionTypes.explorer.SHOW_SHARE_FOLDER_FAIL,function(e){return{content:c("error.operation_fail")}}),r()(t,s.actionTypes.explorer.HIDE_SHARE_FOLDER_FAIL,function(e){return{content:c("error.operation_fail")}}),r()(t,s.actionTypes.permission.SET_EMBED_PUBLIC_PERMISSION_SUCCESS,function(e){return{content:c("permission.set_public_permission_success")}}),r()(t,s.actionTypes.permission.BULK_SET_EMBED_PERM_SUCCESS,function(e){return{content:c("permission.invite_member_success")}}),r()(t,s.actionTypes.permission.SET_EMBED_PUBLIC_PERMISSION_FAIL,function(e){return{content:c("permission.set_public_permission_fail")}}),r()(t,s.actionTypes.permission.BULK_SET_EMBED_PERM_FAIL,function(e){var t=e.error.data.block_user_map,n=void 0===t?{}:t;if(!(0<Object.keys(n).length))return{content:c("permission.invite_member_fail")}}),r()(t,s.actionTypes.explorer.DELETE_SHARED_RECORD_SUCCESS,function(e){var t=e.payload.objTokens;return{content:1<t.length?c("removed_multi_items_successfully",t.length):c("explorer.removed_item_successfully")}}),r()(t,s.actionTypes.explorer.DELETE_SHARED_RECORD_FAIL,function(e){return{content:c("explorer.v3.remove_failed")}}),r()(t,s.actionTypes.rule.UPDATE_SMART_COLLECTION_FAIL,function(e){return{content:c("smart_collection_rule_udapte_failed")}}),r()(t,s.actionTypes.rule.CREATE_SMART_COLLECTION_FAIL,function(e){return{content:c("smart_collection_rule_create_failed")}}),r()(t,s.actionTypes.permission.UPDATE_SHARE_SPACE_SETTING_SUCCESS,I[p.UPDATE_PUBLIC_PERMISSION_SUCCESS]),r()(t,s.actionTypes.permission.UPDATE_SHARE_SPACE_SETTING_FAIL,I[p.UPDATE_PUBLIC_PERMISSION_FAIL]),r()(t,s.actionTypes.permission.UPDATE_SHARE_SPACE_MEMBER_PERMISSION_SUCCESS,I[p.UPDATE_MEMBERS_PERM_SUCCESS]),r()(t,s.actionTypes.permission.UPDATE_SHARE_SPACE_MEMBER_PERMISSION_FAIL,I[p.UPDATE_MEMBERS_PERM_FAIL]),r()(t,s.actionTypes.permission.UPDATE_TEAM_SPACE_SETTING_SUCCESS,I[p.UPDATE_PUBLIC_PERMISSION_SUCCESS]),r()(t,s.actionTypes.permission.UPDATE_TEAM_SPACE_SETTING_FAIL,I[p.UPDATE_PUBLIC_PERMISSION_FAIL]),r()(t,s.actionTypes.permission.POST_TEAM_SPACE_MEMBERS_UPDATE_SUCCESS,I[p.UPDATE_MEMBERS_PERM_SUCCESS]),r()(t,s.actionTypes.permission.POST_TEAM_SPACE_MEMBERS_UPDATE_FAIL,I[p.UPDATE_MEMBERS_PERM_FAIL]),r()(t,s.actionTypes.permission.POST_PASSWORD_CREATE_FAIL,function(e){return{content:c("permission.password_set_fail")}}),r()(t,s.actionTypes.permission.POST_PASSWORD_DELETE_FAIL,function(e){return{content:c("permission.password_set_fail")}}),r()(t,s.actionTypes.permission.POST_PASSWORD_REFRESH_FAIL,function(e){return{content:c("permission.password_set_fail")}}),r()(t,s.actionTypes.suite.COPY_SUITE_FAIL,function(e){return{content:c("explorer.v3.copy_suite_failed"),key:s.actionTypes.suite.COPY_SUITE_FAIL}}),r()(t,s.actionTypes.permission.POST_LEAVE_TEAM_SPACE_SUCCESS,function(){return{content:c("explorer.team_space.quit_success")}}),r()(t,s.actionTypes.permission.POST_LEAVE_TEAM_SPACE_FAIL,function(e){var t=e.error;return{content:h(t)||c("explorer.team_space.quit_failed")}}),r()(t,s.actionTypes.permission.ADMIN_PERMISSION_FAIL,function(e){return{content:c("CreationDoc_ECM_AdminDisableToast")}}),r()(t,s.actionTypes.explorer.APPEAL_FAIL,function(e){return{content:c("error.operation_fail_twice_retry")}}),t);R.a=C}).call(this,g("2vAP"))},"c/bE":function(e,t,n){"use strict";var r=n("lwsE"),a=n.n(r),o=n("W8MJ"),i=n.n(o),c=n("D7h9"),s=n("hMnB"),l=n.n(s),d=n("gfe6"),p=n("lQZd"),u=n("VIFs"),_=n("skFV"),E=n("CxY0"),f=n.n(E),T=n("kfiP"),S=n("5dbN");var m,O,b,y,h,v,I=Object(u.prependAPI)("/preview"),C=function(){function t(e){a()(this,t),this.option=e}return i()(t,[{key:"release",value:function(){var e,t,n,r,a,o,i,c,s,u;this.option.canLeavePage()&&Object(d.c)()&&(e=Object(p.g)(),t=window.document.querySelector('[rel="shortcut icon"]'),n=Object(_.z)()?"suspended!":document.title,r=l.a.protocol,a=l.a.host,o=l.a.pathname,i=Object(T.a)(),c=f.a.format({protocol:r,host:a,pathname:o,query:i}),console.log("going to suspend: "+c),sessionStorage.setItem(e.slice(0,15),JSON.stringify({title:n,icon:t?t.href:"",prevUrl:c})),u="",Object(S.locateRoute)().isDoc?u="".concat(I,"/doc/").concat(e,"?v2=true"):Object(S.locateRoute)().isSheet&&(s=i.sheet,u="".concat(I,"/sheet/").concat(e)+(s?"?sheet=".concat(s):"")),u&&setTimeout(function(){l.a.href=u},200))}}]),t}(),R=n("OJOY"),g=n("2ACu"),k=n("rLED"),D="tabStatus",j=50,L=216e5,w=6e4,N=/^tabStatus_/;(O=m=m||{}).TabCountChange="TabCountChange",O.SuspendTab="SuspendTab",(y=b=b||{}).Active="active",y.Inactive="inactive",(v=h=h||{}).ReactivateTab="reactivate_tab",v.SuspendTab="suspend_tab",v.ReportOnly="report_only";var U=function(){function c(){var o=this,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};a()(this,c),this.options=e,this._id=window.teaMap&&window.teaMap.sessionId||this._generateUniqId(),this._beatTimer=0,this._updateTimer=0,this._suspendTimer=0,this._tabCount=1,this._listener=new Map,this._initEvent=function(){window.addEventListener("beforeunload",o._onUnload),document.addEventListener("visibilitychange",o._onVisibilityChange),window.addEventListener("storage",o._onStorageChange)},this._onStorageChange=function(){var e,t=c.getTabCount();t!==o._tabCount&&((e=o._listener.get(m.TabCountChange))&&e.forEach(function(e){return e()}),o._updateTabCount(t))},this._onLoad=function(){var e=Date.now();o._updateCurTabStatus({activateTime:e,leaveTime:e}),o._heartbeat(),"visible"===document.visibilityState&&o.checkStatus()},this._onUnload=function(){localStorage.removeItem("".concat(D,"_").concat(o._id)),o.destroy()},this._onVisibilityChange=function(){var e;"visible"===document.visibilityState?(window.clearTimeout(o._suspendTimer),e=Date.now(),o._report(h.ReactivateTab,e),o._updateCurTabStatus({activateTime:e,leaveTime:e,suspended:!1}),o.checkStatus()):(o._updateCurTabStatus({leaveTime:Date.now()}),window.clearTimeout(o._beatTimer))},this._report=function(e,t){var n,r,a=c.getTabStatus(o._id);!a||(n=a.leaveTime)&&(r=t-n,e===h.ReactivateTab&&r<o._reportReactivateTimeLimit||(Object(g.default)("tab_manager",o.getReportData(e,r)),e===h.SuspendTab&&window.htmlCollectEvent("tab_manager",Object.assign({},o.getReportData(e,r),{action:"".concat(e,"_force")}))))},this._heartbeat=function(){o._updateTimer=window.setInterval(function(){o._updateCurTabStatus({activateTime:Date.now()}),c.getTabCount()>o._tabCountLimit&&o._trySuspendTab()},o._beatTime)},this._updateCurTabStatus=function(e){var t=c.getTabStatus(o._id)||{};e.activateTime&&(t.activateTime=e.activateTime),e.leaveTime&&(t.leaveTime=e.leaveTime),!1===e.suspended?delete t.suspended:!0===e.suspended&&(t.suspended=!0),(t.activateTime||t.leaveTime)&&c.setTabStatus(o._id,t)},this.checkStatus=function(){window.clearInterval(o._beatTimer),o._beatTimer=window.setInterval(function(){var n=c.getAllStatus(),e=Object.keys(n),r=Date.now();e.forEach(function(e){var t=n[e].activateTime;(!t||r-t>o._disabledTime)&&localStorage.removeItem(e)})},o._beatTime)},this.getCurTabStatus=function(){return c.getTabStatus(o._id)},this.setTabCountLimit=function(e){o._tabCountLimit=e},this.addListener=function(e,t){var n=o._listener.get(e);n||(n=[],o._listener.set(e,n)),n.push(t)},this.removeListener=function(e,t){var n,r;!o._listener.has(e)||-1!==(r=(n=o._listener.get(e)).indexOf(t))&&n.splice(r,1)},this.destroy=function(){o._listener.clear(),window.clearTimeout(o._beatTimer),window.clearTimeout(o._updateTimer),document.removeEventListener("visibilitychange",o._onVisibilityChange),window.removeEventListener("beforeunload",o._onUnload),window.removeEventListener("storage",o._onStorageChange)},this._tabCountLimit=e.tabCountLimit||j,this._suspendTabTimeLimit=e.suspendTabTimeLimit||L,this._initEvent(),this._onLoad(),window._DONT_USE_SUSPEND=this._suspend.bind(this)}return i()(c,[{key:"_generateUniqId",value:function(){return~~(1e9*Math.random())+""}},{key:"getReportData",value:function(e,t){return Object.assign({action:e,status:"visible"===document.visibilityState?b.Active:b.Inactive,inactive_duration:Math.floor(t/1e3)},this.defaultReportOptions)}},{key:"_updateTabCount",value:function(e){this._tabCount=e}},{key:"_trySuspendTab",value:function(){var r,e,t,a,o,i=this;"visible"!==document.visibilityState&&(r=c.getAllStatus(),(e=Object.keys(r)).length-this._tabCountLimit<=0||(t="".concat(D,"_").concat(this._id),a=r[t]&&r[t].leaveTime,Date.now()-a<this._suspendTabTimeLimit||(o=!0,e.forEach(function(e){var t,n;e===i._id||(t=r[e]&&r[e].leaveTime)&&(n=r[e]&&r[e].suspended,t<a&&!n&&(o=!1))}),o&&(this._suspendTimer=window.setTimeout(function(){i._suspend()},w)))))}},{key:"_suspend",value:function(){var e=this._listener.get(m.SuspendTab),t=this.options.canLeavePage;t&&t()&&(Object(k.I)("common_resource_release_report_only")?(this._report(h.ReportOnly,Date.now()),this._onUnload()):(this._report(h.SuspendTab,Date.now()),e&&e.forEach(function(e){return e()}))),this._updateCurTabStatus({suspended:!0})}},{key:"_beatTime",get:function(){return Math.min(3e5,Math.max(this._suspendTabTimeLimit/10,1e4))}},{key:"_disabledTime",get:function(){return 36e4}},{key:"_reportReactivateTimeLimit",get:function(){return Math.floor(.8*this._suspendTabTimeLimit)}},{key:"defaultReportOptions",get:function(){return{tab_count:c.getTabCount(),tab_limit:this._tabCountLimit,time_limit:this._suspendTabTimeLimit}}}],[{key:"getTabStatus",value:function(e){return R.a.getItem("".concat(D,"_").concat(e))}},{key:"setTabStatus",value:function(e,t){R.a.setItem("".concat(D,"_").concat(e),t)}},{key:"getAllStatus",value:function(){var t={};return Object.keys(localStorage).forEach(function(e){N.test(e)&&(t[e]=R.a.getItem(e))}),t}},{key:"getTabCount",value:function(){var t=0;return Object.keys(localStorage).forEach(function(e){N.test(e)&&t++}),t}}]),c}(),P=Object(k.M)("common_resource_release_tab_limit",Number.MAX_SAFE_INTEGER);function M(){return Object(k.M)("common_resource_release_timeout_pocket",Number.MAX_SAFE_INTEGER)}var x=function(){function n(e){var t=this;a()(this,n),this.option=e,this.strategies=[],this.onMaxTab=function(){t.strategies.forEach(function(e){return e.release()})}}return i()(n,[{key:"addStrategy",value:function(e){this.strategies.push(e)}},{key:"start",value:function(){this.initManager(),this.tabStatusManager.addListener(m.SuspendTab,this.onMaxTab)}},{key:"stop",value:function(){this.tabStatusManager&&this.tabStatusManager.removeListener(m.SuspendTab,this.onMaxTab)}},{key:"initManager",value:function(){var e;this.tabStatusManager||(e=M(),this.tabStatusManager=new U(Object.assign({tabCountLimit:P,suspendTabTimeLimit:e},this.option)))}}]),n}(),F=n("QM+C"),H=n("vc5i"),B=n("mszz");n.d(t,"a",function(){return K});var K=new(function(){function t(){var e=this;a()(this,t),this.schedules=[],this.canLeavePageHandlers=[d.c,function(){return!e.hasError()},function(){return!F.isAnonymousAccess},function(){return!Object(_.y)()},function(){return e.isEnable()}],this.onVisibilityChange=function(){"hidden"===document.visibilityState?e.startSchedule():"visible"===document.visibilityState&&e.clearSchedule()},this.canLeavePage=function(){return e.canLeavePageHandlers.every(function(e){return e()})}}return i()(t,[{key:"init",value:function(){document.addEventListener("visibilitychange",this.onVisibilityChange),this.buildSchedule(),this.addCanLeavePageHandler(function(){return"fatal"!==window.padStatus}),document.hidden&&this.startSchedule()}},{key:"addCanLeavePageHandler",value:function(e){this.canLeavePageHandlers.push(e)}},{key:"removeCanLeavePageHandler",value:function(t){this.canLeavePageHandlers=this.canLeavePageHandlers.filter(function(e){return e!==t})}},{key:"addSchedule",value:function(e){this.schedules.push(e)}},{key:"destroy",value:function(){document.removeEventListener("visibilitychange",this.onVisibilityChange),this.clearSchedule()}},{key:"buildSchedule",value:function(){var e=new C({canLeavePage:this.canLeavePage}),t=new x({canLeavePage:this.canLeavePage});t.addStrategy(e),this.schedules=[t]}},{key:"startSchedule",value:function(){this.isEnable()&&this.schedules.forEach(function(e){return e.start()})}},{key:"clearSchedule",value:function(){this.schedules.forEach(function(e){return e.stop()})}},{key:"isEnable",value:function(){var e=Object(p.i)();return this.enableProducts.includes(e)}},{key:"hasError",value:function(){var e=Object(H.f)(c.default.getState()),t=Object(B.a)("currentSuite")(c.default.getState()),n=Object(B.a)("userPermissionOnSuite")(c.default.getState()),r=e&&e.isDeleted,a=t&&t.get&&t.get("code"),o=n&&n.get&&n.get("code");return r||a||o}},{key:"enableProducts",get:function(){var e=[];return Object(k.I)("common_resource_release_doc")&&e.push(F.FILE_TYPE.DOC),Object(k.I)("common_resource_release_sheet")&&e.push(F.FILE_TYPE.SHEET),e}}]),t}())},c7eX:function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return i});var r=n("QM+C");function a(){window[r.PROJECT_GLOBAL]={utils:o},"getGlobalVar"in window||(window.getGlobalVar=i,console.log("GlobalVars initialized"))}var o={chainedFunc:function t(n){function r(){}return function(e){return void 0===n&&(n=r),function(){return n(),e&&e(),t}}}},i=function(){return window[r.PROJECT_GLOBAL]}},cPIY:function(e,t,n){"use strict";var r=n("qo30"),g=n("jp/M"),a=function(){return{type:g.actionTypes.initialization.APP_INITIALIZE}},o=function(){return{type:g.actionTypes.initialization.APP_INITIALIZED}},i=n("0GMm"),c=n("o0o1"),k=n.n(c),s=n("LPA4"),l=n("SebV"),h=n("7bO/"),D=n("oZtI"),u=n("lG83"),d=n("SIew"),p=n("TYVn"),_=k.a.mark(S),E=k.a.mark(m),f=k.a.mark(O),T=k.a.mark(b);function S(){return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(D.takeLatest)(d.a.FETCH_CURRENT_SUITE_SUCCESS,m);case 2:case"end":return e.stop()}},_)}function m(t){return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return Object(u.n)(t.payload),Object(p.b)(t.payload),e.next=4,Object(D.call)(h.delay,1e3);case 4:case"end":return e.stop()}},E)}function O(){return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(D.takeLatest)(d.a.FETCH_CURRENT_SUITE_FAIL,b);case 2:case"end":return e.stop()}},f)}function b(){return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(D.call)(h.delay,1e3);case 2:case"end":return e.stop()}},T)}var y=n("zeK0"),v=n("aR0j"),I=k.a.mark(R),C=k.a.mark(j);function R(){return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(D.takeLatest)(d.a.COPY_SUITE_SUCCESS,j);case 2:case"end":return e.stop()}},I)}function j(t){var n,r;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.payload.parentToken,e.next=3,Object(D.select)(v.m);case 3:if(r=e.sent,n===r){e.next=7;break}return e.abrupt("return");case 7:Object(y.f)();case 8:case"end":return e.stop()}},C)}var L=n("QM+C"),w=n("ZSG8"),N=k.a.mark(P),U=k.a.mark(M);function P(){return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(D.takeLatest)(d.a.CHECK_SUITE_EXTERNAL,M);case 2:case"end":return e.stop()}},N)}function M(t){var n,r,a;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.payload,r=n.objToken,(a=n.objType)===L.NUM_SUITE_TYPE.ISV)return e.abrupt("return");e.next=3;break;case 3:return e.next=5,D.put.resolve(Object(w.d)(r,a));case 5:case"end":return e.stop()}},U)}var x=P,F=n("2spZ"),H=n("5dbN"),B=n("vc5i"),K=k.a.mark(V),W=k.a.mark(Y);function V(){return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(D.takeEvery)(g.actionTypes.suite.UPDATE_SUITE_VISIBILITY_STATE,Y);case 2:case"end":return e.stop()}},K)}function Y(t){var n,r,a,o,i,c;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.payload,r=n.objToken,a=n.objType,"visible"===n.visibilityState)return e.next=5,Object(F.c)(1e3);e.next=5;break;case 5:return e.next=7,Object(D.select)(B.E);case 7:if(e.sent)return e.next=11,Object(D.select)(B.c);e.next=22;break;case 11:if(o=e.sent){e.next=16;break}console.error("wiki: currentWikiInfo is empty when post recent wiki"),e.next=20;break;case 16:if(i=o.wikiToken,c=o.spaceId,Object(H.isUnderWikiIndex)())return e.next=20,D.put.resolve(Object(w.i)(i,c));e.next=20;break;case 20:e.next=24;break;case 22:return e.next=24,D.put.resolve(Object(w.g)(r,a));case 24:case"end":return e.stop()}},W)}var Q=V,J=n("/Orn"),q=k.a.mark(X),z=k.a.mark(Z);function X(){return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(D.takeLatest)([J.a.MOVE_FILE_SUCCESS,J.a.COMMON_ADD_FILE_TO_SUCCESS],Z);case 2:case"end":return e.stop()}},q)}function Z(){var t,n;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(Object(H.isUnderSuiteView)()){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Object(D.select)(B.n);case 4:return t=e.sent,e.next=7,Object(D.select)(B.o);case 7:return n=e.sent,e.next=10,Object(D.put)(Object(w.e)(t,n));case 10:case"end":return e.stop()}},z)}var $=k.a.mark(ee);function ee(){return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(s.a)([S,O,R,x,Q,X],l.a);case 2:case"end":return e.stop()}},$)}var te,ne=n("lSNA"),re=n.n(ne),ae=n("X+Le"),oe=n("Hv6m"),ie=n("bsTM"),ce=k.a.mark(le),se=k.a.mark(pe),ue=(te={},re()(te,g.actionTypes.explorer.SUBSCRIBE,g.actionTypes.explorer.SUBSCRIBE),re()(te,g.actionTypes.explorer.UNSUBSCRIBE,g.actionTypes.explorer.UNSUBSCRIBE),te);function le(){return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(D.takeEvery)([oe.c,oe.b,g.actionTypes.explorer.SUBSCRIBE_START,g.actionTypes.explorer.UNSUBSCRIBE_START],pe);case 2:case"end":return e.stop()}},ce)}function de(e){return Object(oe.c)(e)?{type:g.common.TOAST_TYPE.success}:Object(oe.b)(e)?{type:g.common.TOAST_TYPE.error}:null}function pe(r){var a,t,n,o;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===ie.a[r.type])return e.abrupt("return");e.next=2;break;case 2:if(a=r.type,t=ie.a[a](r)){e.next=6;break}return e.abrupt("return");case 6:return n=[],n=Array.isArray(t)?t:n.concat(t),o=[],n.forEach(function(e){var t=de(r),n=a.replace(/_(SUCCESS|START|FAIL)$/,"");!ue[n]||a!=="".concat(n,"_FAIL")&&a!=="".concat(n,"_SUCCESS")||o.push(Object(D.put)(Object(ae.closeToast)({key:"".concat(n,"_START_TOAST")}))),o.push(Object(D.put)(Object(ae.showToast)(Object.assign({},t,{},e))))}),e.next=12,Object(D.all)(o);case 12:case"end":return e.stop()}},se)}var _e=le,Ee=n("Wbu0"),fe=k.a.mark(Te);function Te(){return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(s.a)([_e,Ee.a],l.a);case 2:case"end":return e.stop()}},fe)}var Se=Te,me=n("rAc3"),Oe=n("m1/u"),be=n("ZGZ5"),ye=n("MUo5"),he=k.a.mark(Re),ve=k.a.mark(ge),Ie=k.a.mark(Ae),Ce=k.a.mark(ke);function Re(){return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(D.takeLatest)(g.actionTypes.explorer.SET_SELECTED_FILE_METAS,ge);case 2:case"end":return e.stop()}},he)}function ge(){var t,n,r,a,o,i;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(D.select)(Oe.g);case 2:if("suite"===e.sent.get("type")||L.isAnonymousAccess)return e.abrupt("return");e.next=5;break;case 5:return e.prev=5,e.next=8,Object(D.select)(v.mb);case 8:if(1!==(t=e.sent).size)return e.abrupt("return");e.next=11;break;case 11:if(n=t.first().type,-1<L.suiteType.indexOf(n))return r=t.first(),a=r.obj_token,e.next=16,Ae(a,n);e.next=17;break;case 16:return e.abrupt("return");case 17:if(-1<L.folderType.indexOf(n))return o=t.first(),i=o.token,e.next=21,ke(i,n);e.next=22;break;case 21:return e.abrupt("return");case 22:e.next=27;break;case 24:e.prev=24,e.t0=e.catch(5),console.error(e.t0);case 27:case"end":return e.stop()}},ve,null,[[5,24]])}function Ae(t,n){var r,a,o,i,c;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(D.select)(v.W);case 2:return r=e.sent,a=r.getIn([t,"has_perm"]),o=r.getIn([t,"owner_id"]),e.next=7,Object(D.select)(be.a);case 7:if(i=e.sent,c=i.get("id")===o,n===L.NUM_SUITE_TYPE.ISV)return e.next=12,Object(D.put)(Object(ye.fetchSuitePermissionConfig)(t,L.NUM_SUITE_TYPE.ISV));e.next=12;break;case 12:if(!c&&a)return e.next=15,Object(D.put)(Object(ye.fetchUserPermissionOnSuite)(t,n));e.next=15;break;case 15:case"end":return e.stop()}},Ie)}function ke(t,e){var n,r,a,o,i,c,s;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(D.select)(v.y);case 2:if(n=e.sent,r=n.get(t),a=Boolean(r.expire_time),Object(me.i)(r)&&!a)return o=r.owner_id,e.next=9,Object(D.select)(be.a);e.next=26;break;case 9:if(i=e.sent,c=i.get("id")===o,Object(me.a)(r))return e.next=14,Object(D.put)(Object(ye.fetchAuthorizedRoleUser)(r.token,r.type));e.next=16;break;case 14:e.next=26;break;case 16:if(!Object(me.l)(r)){e.next=22;break}if(c){e.next=20;break}return e.next=20,Object(D.put)(Object(ye.fetchCurrentUserTeamSpacePerm)(r.token));case 20:e.next=26;break;case 22:if(c){e.next=26;break}return s=r[g.apiField.SPACE_ID],e.next=26,Object(D.put)(Object(ye.fetchUserPermissionOnShareSpace)(s));case 26:case"end":return e.stop()}},Ce)}var De=n("/PhZ"),je=k.a.mark(we),Le=k.a.mark(Ne);function we(){return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(D.takeEvery)(g.actionTypes.explorer.SET_SELECTED_FILE_METAS,Ne);case 2:case"end":return e.stop()}},je)}function Ne(t){var n,r,a,o;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(1!==(n=t.payload).length)return e.abrupt("return");e.next=3;break;case 3:if(r=n[0],a=r.obj_token,o=r.type,L.suiteType.includes(o))return e.next=7,Object(D.select)(B.n);e.next=11;break;case 7:if(e.sent!==a)return e.next=11,Object(D.put)(Object(De.setCurrentSuiteToken)(a,o));e.next=11;break;case 11:case"end":return e.stop()}},Le)}var Ue=n("TNRG"),Pe=k.a.mark(Fe),Me=k.a.mark(He),xe=g.storage.STORAGE_KEY.explorer.EXPLORER_ROOT_TOKEN_MAP;function Fe(){return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(D.takeEvery)(g.actionTypes.explorer.FETCH_EXPLORER_ROOT_TOKEN_MAP_SUCCESS,He);case 2:case"end":return e.stop()}},Pe)}function He(t){var n;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,window.User.id){e.next=4;break}return e.abrupt("return");case 4:return n=t.payload,e.next=7,Object(D.call)(Ue.f,xe,n);case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0);case 12:case"end":return e.stop()}},Me,null,[[0,9]])}var Be=n("J4zp"),Ge=n.n(Be),Ke=n("f9Hl"),We=n("02sq"),Ve=n("y94N"),Ye=n("2ACu"),Qe=k.a.mark(ze),Je=k.a.mark(Xe),qe=k.a.mark(Ze);function ze(){return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(D.takeEvery)(g.actionTypes.initialization.APP_INITIALIZE,Xe);case 2:case"end":return e.stop()}},Qe)}function Xe(t){return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(D.race)({initSaga:Object(D.call)(Ze,t),timeout:Object(D.call)(F.c,5e3)});case 2:return e.next=4,Object(D.put)(o());case 4:case"end":return e.stop()}},Je)}function Ze(e){var t,n,r,a,o,i,c,s,u;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(D.all)([Object(D.call)(Ue.d,g.storage.STORAGE_KEY.explorer.EXPLORER_ROOT_TOKEN_MAP),Object(D.call)(Ue.d,g.storage.STORAGE_KEY.explorer.LIST_VIEW_VERSION_CODE),Object(D.call)(Ue.d,g.storage.STORAGE_KEY.explorer.LIST_VIEW_SETTING),Object(D.call)(Ue.d,g.storage.STORAGE_KEY.explorer.RECENT_LIST_VIEW)]);case 3:if(t=e.sent,n=Ge()(t,4),r=n[0],a=n[1],o=n[2],i=n[3],r){e.next=14;break}return e.next=12,Object(D.put)(Object(De.fetchExplorerRootTokenMap)());case 12:e.next=23;break;case 14:if("string"==typeof r)return e.next=17,Object(D.call)(Ue.e,g.storage.STORAGE_KEY.explorer.EXPLORER_ROOT_TOKEN_MAP);e.next=21;break;case 17:return e.next=19,Object(D.put)(Object(De.loadPersistedRootTokenMap)(JSON.parse(r)));case 19:e.next=23;break;case 21:return e.next=23,Object(D.put)(Object(De.loadPersistedRootTokenMap)(r));case 23:if(c=a===Ve.m){e.next=32;break}return e.next=27,Object(D.call)(Ue.f,g.storage.STORAGE_KEY.explorer.LIST_VIEW_VERSION_CODE,Ve.m);case 27:return e.next=29,Object(D.call)(Ue.e,g.storage.STORAGE_KEY.explorer.LIST_VIEW_SETTING);case 29:return e.next=31,Object(D.call)(Ue.e,g.storage.STORAGE_KEY.explorer.RECENT_LIST_VIEW);case 31:Object(Ye.default)("localListViewSettingCleared");case 32:if(!c){e.next=40;break}if(o)return s=Object(We.d)(o),e.next=37,Object(D.put)(Object(Ke.e)(s));e.next=37;break;case 37:if(i)return e.next=40,Object(D.put)(Object(Ke.j)(i));e.next=40;break;case 40:return u=g.storage.STORAGE_KEY.explorer.ORDERING_MAP,e.next=43,Object(D.call)(Ue.e,u);case 43:e.next=48;break;case 45:e.prev=45,e.t0=e.catch(0),console.error(e.t0);case 48:case"end":return e.stop()}},qe,null,[[0,45]])}var $e=n("03In"),et=k.a.mark(nt),tt=k.a.mark(rt);function nt(){return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(D.takeEvery)([g.actionTypes.box.COMPLETE_DELETE_STORAGE_FILES_SUCCESS,g.actionTypes.box.EMIT_UPDATE_STORAGE_USAGES],rt);case 2:case"end":return e.stop()}},et)}function rt(e){return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(D.put)(Object($e.f)());case 2:case"end":return e.stop()}},tt)}var at=n("1dfU"),ot=k.a.mark(ct),it=k.a.mark(st);function ct(){return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(D.takeEvery)(g.actionTypes.route.LOCATION_CHANGE,st);case 2:case"end":return e.stop()}},ot)}function st(t){var n,r,a,o,i;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.payload.pathname,r=Object(H.locateRoute)(n),Object(H.isUnderFileListView)(r)){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,Object(D.select)(Oe.g);case 6:return a=e.sent,e.next=9,Object(D.select)(v.m);case 9:o=e.sent,i=void 0===a.get("root_type")?"folder":"",Object(Ye.default)("enter_explorer_module",{module:a.get("module"),sub_module:a.get("subModule"),file_id:Object(at.a)(o),file_type:i});case 12:case"end":return e.stop()}},it)}var ut=n("H0C5"),lt=n("lgTS"),dt=n("+mgp"),pt=k.a.mark(Et),_t=k.a.mark(ft);function Et(){return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(D.takeLatest)(g.actionTypes.explorer.FETCH_ROOT_SHARE_FOLDER_WITHIN_PARAMS,ft);case 2:case"end":return e.stop()}},pt)}function ft(t){var n,r,a,o,i;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t[L.DEFERRED],dt.k){e.next=5;break}r={},e.next=8;break;case 5:return e.next=7,Object(D.select)(ut.m);case 7:r=e.sent;case 8:return a=t.payload.hidden,o=void 0===a?lt.h.FetchHidden:a,e.prev=9,e.next=12,D.put.resolve(Object(De.fetchRootShareFolder)({requestParams:r,hidden:o,willUpdatePath:!1}));case 12:i=e.sent,n&&n.resolve(i),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(9),n&&n.reject(e.t0);case 19:case"end":return e.stop()}},_t,null,[[9,16]])}var Tt=k.a.mark(mt),St=k.a.mark(Ot);function mt(){return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(D.takeEvery)(g.actionTypes.explorer.FETCH_MY_SPACE_FOLDER_WITHIN_PARAMS,Ot);case 2:case"end":return e.stop()}},Tt)}function Ot(t){var n,r,a;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t[L.DEFERRED],dt.k){e.next=5;break}r={},e.next=8;break;case 5:return e.next=7,Object(D.select)(ut.h);case 7:r=e.sent;case 8:return e.prev=8,e.next=11,D.put.resolve(Object(De.fetchMySpaceFolder)({requestParams:r}));case 11:a=e.sent,n&&n.resolve(a),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(8),n&&n.reject(e.t0);case 18:case"end":return e.stop()}},St,null,[[8,15]])}var bt=n("jryj"),yt=n("kVLC"),ht=k.a.mark(Rt),vt=k.a.mark(gt),It=Object(ut.l)(Ve.p.MyObject),Ct=Object(ut.d)(Ve.p.MyObject);function Rt(){return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(D.takeLatest)(g.actionTypes.explorer.FETCH_MY_OBJECT_LIST_WITHIN_PARAMS,gt);case 2:case"end":return e.stop()}},ht)}function gt(t){var n,r,a,o,i,c,s;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t[L.DEFERRED],e.next=3,Object(D.select)(Ct);case 3:if(r=e.sent,a=document.getElementById(bt.explorerMyObjectListWrapperId)){e.next=7;break}return e.abrupt("return");case 7:return e.prev=7,o=Object(yt.b)({wrapperRef:a,viewMode:r}),e.next=11,Object(D.select)(It);case 11:return i=e.sent,c=Object.assign({length:o},i),e.next=15,D.put.resolve(Object(De.fetchMyObjectList)({params:c,isContinuous:!1}));case 15:s=e.sent,n&&n.resolve(s),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(7),n&&n.reject(e.t0);case 22:case"end":return e.stop()}},vt,null,[[7,19]])}var At=k.a.mark(Dt),kt=k.a.mark(jt);function Dt(){return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(D.takeLatest)(g.actionTypes.explorer.FETCH_ALL_TEAM_SPACE_WITHIN_PARAMS,jt);case 2:case"end":return e.stop()}},At)}function jt(t){var n,r,a;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t[L.DEFERRED],e.next=3,Object(D.select)(ut.n);case 3:return r=e.sent,e.prev=4,e.next=7,D.put.resolve(Object(De.fetchAllTeamSpace)({params:Object.assign({},r,{length:void 0})}));case 7:a=e.sent,n&&n.resolve(a),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(4),n&&n.reject(e.t0);case 14:case"end":return e.stop()}},kt,null,[[4,11]])}var Lt=k.a.mark(wt);function wt(){return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(s.a)([Et,mt,Rt,Dt],l.a);case 2:case"end":return e.stop()}},Lt)}var Nt=n("7EGn"),Ut=n("9VmL"),Pt=n("wkBI"),Mt=n("Q/5K"),xt=n("ucr6"),Ft=n("1T6K"),Ht=k.a.mark(Wt),Bt=k.a.mark(Vt),Gt=k.a.mark(Yt),Kt=k.a.mark(Qt);function Wt(){return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(D.takeEvery)([Ut.a.JUMP_WIKI_FROM_SPACE,Ut.a.JUMP_WIKI_FROM_CREATE_IN_SPACE],Vt);case 2:case"end":return e.stop()}},Ht)}function Vt(t){var n;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((n=t.type)===Ut.a.JUMP_WIKI_FROM_SPACE)return e.next=4,Yt(t);e.next=6;break;case 4:e.next=9;break;case 6:if(n===Ut.a.JUMP_WIKI_FROM_CREATE_IN_SPACE)return e.next=9,Qt(t);e.next=9;break;case 9:case"end":return e.stop()}},Bt)}function Yt(t){var n,r,a,o,i,c;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.payload,r=n.isCtrlOrMetaKeyClicked,a=n.spaceId,e.next=3,Object(D.select)(Pt.e);case 3:if(o=e.sent,i=o[a]){e.next=8;break}return console.error("currentSpace is not found from space"),e.abrupt("return");case 8:c=i.homePage,Object(Mt.a)(Object.assign({},i,{},c)),Jt(r,"".concat(Ft.URL.WIKI_INDEX).concat(Object(Nt.default)(c,"wikiToken")));case 11:case"end":return e.stop()}},Gt)}function Qt(t){var n,r,a,o,i,c,s;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.payload,r=n.spaceId,a=n.wikiToken,o=n.objToken,i=n.objType,e.next=3,Object(D.select)(Pt.a);case 3:if(c=e.sent,s=c[r]){e.next=8;break}return console.error("currentSpace is not found from create in create"),e.abrupt("return");case 8:Object(Mt.a)(Object.assign({},s,{wikiToken:a,objToken:o,objType:i})),Jt(!1,"".concat(Ft.URL.WIKI_INDEX).concat(a));case 10:case"end":return e.stop()}},Kt)}function Jt(e,t){e?window.open(t):xt.a.push(t)}var qt=k.a.mark(Xt),zt=k.a.mark(Zt);function Xt(){return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(D.takeLatest)(g.actionTypes.explorer.FETCH_SUBSCRIBE_STATUS_SUCCESS,Zt);case 2:case"end":return e.stop()}},qt)}function Zt(t){var n;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.payload,e.next=3,Object(D.put)(Object(De.updateSubscribeStatus)(n));case 3:case"end":return e.stop()}},zt)}var $t=k.a.mark(en);function en(){return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(s.a)([ze,ct,Fe,Re,we,nt,wt,Wt,Xt],l.a);case 2:case"end":return e.stop()}},$t)}var tn=en,nn=n("b9hN"),rn=k.a.mark(cn),an=k.a.mark(sn),on=k.a.mark(un);function cn(t){var n,r,a;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.payload){e.next=3;break}return e.abrupt("return");case 3:r=n.user_id,a=Object(Nt.default)(window,"User.id"),Object(Ye.collectSuiteEvent)("dev_client_vars_user_id",{client_vars_has_user_id:r?1:0,window_has_user_id:a?1:0,status:r===a?"equal":"diff"});case 6:case"end":return e.stop()}},rn)}function sn(){return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(D.takeEvery)(nn.a.SET_CLIENT_VARS,cn);case 2:case"end":return e.stop()}},an)}function un(){return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(D.all)([Object(D.fork)(sn)]);case 2:case"end":return e.stop()}},on)}var ln=k.a.mark(dn);function dn(){return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(D.all)([Object(D.fork)(un)]);case 2:case"end":return e.stop()}},ln)}var pn=dn,_n=n("toa8"),En=n("RIqP"),fn=n.n(En),Tn=n("vJtL"),Sn=n("qGoe"),mn=n("Zc6/"),On=n("nN3d"),bn=k.a.mark(yn);function yn(t,n){var r,a,o,i,c,s,u,l,d,p,_,E,f,T,S,m,O,b,y=arguments;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(Object(Tn.default)(n)){e.next=2;break}throw new Error("fn passed into retry should be function");case 2:for(r=Object.assign({},Sn.a.defaults.retryConfig,{},t),a=r.shouldRetry,o=r.retryTimes,i=r.retryDelay,c=r.exponentialBackOff,s=r.instantRetryAtFirst,u=r.onRetryCb,l=r.onRetrySuccessCb,d=r.onRetryFailedCb,_="request_retry_".concat(Object(On.a)()),E=y.length,f=new Array(2<E?E-2:0),T=2;T<E;T++)f[T-2]=y[T];S=0;case 7:if(S<o)return e.prev=8,m=function(e){return n.apply(void 0,fn()(e))},e.next=12,Object(D.call)(m,f);e.next=33;break;case 12:return O=e.sent,0!==S&&Object(Tn.default)(l)&&l({finalRetryCount:S-1,lastError:p,response:O,retryId:_,args:f,retryConfig:r}),e.abrupt("return",O);case 17:if(e.prev=17,e.t0=e.catch(8),Object(Tn.default)(a)&&!a(e.t0,S))throw e.t0;e.next=21;break;case 21:if(p=e.t0,Object(Tn.default)(u)&&u({currentRetryCount:S+1,retryId:_,args:f,retryConfig:r}),!(S<o-1)){e.next=30;break}if(0===S&&s)return e.abrupt("continue",30);e.next=26;break;case 26:return b=i,c&&(b=Object(mn.g)(S,{startingDelay:i})),e.next=30,Object(D.call)(h.delay,b);case 30:S++,e.next=7;break;case 33:throw Object(Tn.default)(d)&&d({error:p,retryId:_,args:f,retryConfig:r}),p;case 35:case"end":return e.stop()}},bn,null,[[8,17]])}var hn=k.a.mark(Rn),vn=k.a.mark(gn),In=k.a.mark(An),Cn=k.a.mark(kn);function Rn(){var t,n,r,a,o,i,c,s,u;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t={};case 1:return e.next=4,Object(D.take)("*");case 4:if(n=e.sent,Object(mn.k)(n)){e.next=7;break}return e.abrupt("continue",1);case 7:if(r=n,a=Object(mn.i)(r),o=a.takeLatest,i=r.type,!o){e.next=16;break}if(c=t[i])return e.next=16,Object(D.cancel)(c);e.next=16;break;case 16:return e.next=18,Object(D.fork)(gn,r);case 18:return s=e.sent,o&&(t[i]=s),u=Object(mn.c)(r),e.next=23,Object(D.fork)(An,u,s);case 23:e.next=1;break;case 25:case"end":return e.stop()}},hn)}function gn(t){var n,r,a,o,i,c,s,u;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t[L.DEFERRED],e.prev=1,e.next=4,Object(D.put)(mn.o.start(t));case 4:return r=Object(mn.h)(t),a=Object(mn.i)(t),o=a.retryConfig,Object(mn.a)(r,a),e.next=10,yn(o,_n.d,r);case 10:return i=e.sent,c=mn.o.success(t,i),n&&n.resolve(c),e.next=15,Object(D.put)(c);case 15:e.next=26;break;case 17:return e.prev=17,e.t0=e.catch(1),s=mn.o.fail(t,e.t0),e.next=22,Object(D.put)(s);case 22:if(Object(mn.l)(t))return n&&n.resolve(s),e.abrupt("return");e.next=25;break;case 25:n&&n.reject(e.t0);case 26:return e.prev=26,e.next=29,Object(D.cancelled)();case 29:if(e.sent)return u=mn.o.cancel(t),e.next=33,Object(D.put)(u);e.next=33;break;case 33:return e.finish(26);case 34:case"end":return e.stop()}},vn,null,[[1,17,26,34]])}function An(t,n){var r;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(D.race)({abortingAction:Object(D.take)(t),taskFinished:Object(D.join)(n),timeout:Object(D.call)(h.delay,1e4)});case 2:if(r=e.sent,r.abortingAction)return e.next=7,Object(D.cancel)(n);e.next=7;break;case 7:case"end":return e.stop()}},In)}function kn(){return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(D.all)([Object(D.fork)(Rn)]);case 2:case"end":return e.stop()}},Cn)}var Dn=kn,jn=n("XIp8"),Ln=n("/1FC"),wn=n("dhcM"),Nn=n("rLED"),Un=k.a.mark(Bn),Pn=k.a.mark(Gn),Mn=k.a.mark(Kn),xn=k.a.mark(Wn);function Fn(e,t){if(Object(Ln.a)(e))return fn()(new Set(e.concat(t)))}function Hn(e){var t="";switch(e){case g.actionTypes.explorer.COMMON_ADD_FILE_TO:case g.actionTypes.explorer.DELETE_RECENT_RECORD:case g.actionTypes.explorer.DELETE_OBJECT:t="obj_token";break;case g.actionTypes.explorer.RESTORE_REMOVED_FILE:case g.actionTypes.explorer.REMOVE_FILE:case g.actionTypes.explorer.DELETE_REMOVED_FILE:t="token";break;case g.actionTypes.explorer.MOVE_FILE:t="src_token"}return t}function Bn(){return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(D.takeEvery)(g.actionTypes.explorer.BATCH_TASK,Gn);case 2:case"end":return e.stop()}},Un)}function Gn(t){var n,r,a;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(mn.d)(t),r=Hn(n),a=!(r&&Object(mn.m)(t,r)),e.next=5,Object(D.fork)(Kn,t,a,r);case 5:case"end":return e.stop()}},Pn)}function Kn(t,n,r){var a,o,i,c,s;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n)return a=t[L.DEFERRED],e.prev=2,o=Object(mn.e)(t),e.next=6,Object(D.put)(o);e.next=18;break;case 6:return i=e.sent,e.next=9,i;case 9:c=e.sent,a.resolve(c),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(2),a.reject(e.t0);case 16:e.next=30;break;case 18:return e.next=20,Object(D.put)(mn.b.start(t));case 20:return e.next=22,Object(D.fork)(Wn,t,r);case 22:return s=e.sent,e.next=25,Object(D.take)(g.actionTypes.explorer.CANCEL_BATCH_TASK);case 25:if(e.sent)return e.next=28,Object(D.cancel)(s);e.next=30;break;case 28:return e.next=30,Object(D.put)(mn.b.cancel(t));case 30:case"end":return e.stop()}},Mn,null,[[2,13]])}function Wn(t,n){var r,a,o,i,c,s,u,l,d,p,_,E,f,T,S,m,O;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:o=a=r=0,i=null,c={},s={},u=Object(Nn.L)("space_batch_request_benchmark")||g.common.BATCH_REQUEST_LIMITED_NUM,l=Object(mn.f)(t,n).length,d=Math.ceil(l/u),p=100/d,_=null,e.prev=11;case 12:if(!(r<l)){e.next=42;break}if(e.prev=13,E=Object(mn.j)(t,n,r))return e.next=18,Object(D.put)(E);e.next=29;break;case 18:return f=e.sent,_=f,e.next=22,f;case 22:if(T=e.sent,_=null,T.error)throw T;e.next=27;break;case 27:c=Object(wn.a)(c,T,Fn),a+=u;case 29:e.next=34;break;case 31:e.prev=31,e.t0=e.catch(13),s=Object(wn.a)(s,e.t0,Fn);case 34:return e.prev=34,r+=u,o++,e.next=39,Object(D.put)(Object(ae.updateBatchRequestToast)({process:o*p}));case 39:return e.finish(34);case 40:e.next=12;break;case 42:return e.prev=42,e.next=45,Object(D.cancelled)();case 45:if(S=e.sent,m=t[L.DEFERRED],!a){e.next=58;break}if(S&&_)return e.next=51,_;e.next=53;break;case 51:(O=e.sent).error||(c=Object(wn.a)(c,O,Fn));case 53:return m.resolve(),e.next=56,Object(D.put)(mn.b.success(t,Object(jn.default)(c),Object(jn.default)(s)));case 56:e.next=61;break;case 58:return m.reject(i),e.next=61,Object(D.put)(mn.b.fail(t,Object(jn.default)(s)));case 61:return e.finish(42);case 62:case"end":return e.stop()}},xn,null,[[11,,42,62],[13,31,34,40]])}var Vn=Bn,Yn=k.a.mark(Qn);function Qn(){return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(s.a)([Dn,Vn],l.a);case 2:case"end":return e.stop()}},Yn)}var Jn=Qn,qn=k.a.mark(Xn),zn=k.a.mark(Zn);function Xn(){return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(D.takeEvery)([g.actionTypes.explorer.ADD_MEMBERS_TO_FOLDER_SUCCESS,g.actionTypes.explorer.REMOVE_MEMBER_FROM_FOLDER_FAIL,g.actionTypes.permission.UPDATE_SHARE_SPACE_SETTING_SUCCESS,g.actionTypes.permission.UPDATE_SHARE_SPACE_MEMBER_PERMISSION_SUCCESS],Zn);case 2:case"end":return e.stop()}},qn)}function Zn(t){var n;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.payload.space_id,e.next=3,Object(D.put)(Object(ye.fetchShareFolderMembers)(n));case 3:case"end":return e.stop()}},zn)}var $n=Xn,er=n("5cZX"),tr=k.a.mark(rr),nr=k.a.mark(ar);function rr(){return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(D.takeEvery)([g.actionTypes.permission.UPDATE_USER_PERMISSION_SUCCESS,g.actionTypes.permission.UPDATE_USER_PERMISSION_V2_SUCCESS],ar);case 2:case"end":return e.stop()}},tr)}function ar(t){var n,r,a,o,i,c,s,u,l,d,p;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.payload,r=n.owner_id,a=n.token,o=n.type,i=n.permission,e.next=3,Object(D.select)(er.K);case 3:if(c=e.sent,s=c.getIn([a,"authorizedMembersV2"])){e.next=7;break}return e.abrupt("return");case 7:if(-1===(u=s.findIndex(function(e){return e.get("owner_id")===r})))return e.abrupt("return");e.next=10;break;case 10:return l=s.get(u),d=l.set("permissions",i),p={index:u,member:d},e.next=15,Object(D.put)(Object(ye.updateAuthorizedMembers)(a,o,p));case 15:case"end":return e.stop()}},nr)}var or=rr,ir=k.a.mark(ur),cr=k.a.mark(lr),sr=k.a.mark(dr);function ur(){return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(D.takeEvery)([g.actionTypes.permission.FETCH_ALL_PERMISSION_INFO,g.actionTypes.permission.BULK_SET_PERM_SUCCESS,g.actionTypes.permission.SET_SUITE_PUBLIC_PERMISSION_SUCCESS],lr);case 2:return e.next=4,Object(D.takeEvery)([g.actionTypes.permission.POST_TEAM_SPACE_MEMBERS_CREATE_SUCCESS],dr);case 4:case"end":return e.stop()}},ir)}function lr(t){var n,r,a,o;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.payload,r=n.token,a=n.type,o=n.isFromNotification,t.type===g.actionTypes.permission.SET_SUITE_PUBLIC_PERMISSION_SUCCESS?void 0!==t.payload.external_access:Boolean(r&&a))return e.next=6,Object(D.put)(ye.fetchAuthorizedMembersV2({params:{token:r,type:a},isFromNotification:o}));e.next=6;break;case 6:case"end":return e.stop()}},cr)}function dr(t){var n;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.payload.token,e.next=3,Object(D.put)(ye.fetchTeamSpaceMembers({params:{token:n}}));case 3:case"end":return e.stop()}},sr)}var pr=ur,_r=k.a.mark(fr),Er=k.a.mark(Tr);function fr(){return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(D.takeEvery)([g.actionTypes.permission.POST_ADD_ROLE_MEMBER_SUCCESS,g.actionTypes.permission.POST_UPDATE_ROLE_MEMBER_SUCCESS,g.actionTypes.permission.POST_UPDATE_ROLE_MEMBER_FAIL,g.actionTypes.permission.POST_DELETE_ROLE_MEMBER_FAIL],Tr);case 2:case"end":return e.stop()}},_r)}function Tr(t){var n,r,a;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.payload,r=n.token,a=n.type,e.next=3,Object(D.put)(ye.fetchAuthorizedRoleMembers(r,a));case 3:case"end":return e.stop()}},Er)}var Sr=fr,mr=k.a.mark(br),Or=k.a.mark(yr);function br(){return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(D.takeEvery)([g.actionTypes.permission.FETCH_ALL_PERMISSION_INFO],yr);case 2:case"end":return e.stop()}},mr)}function yr(t){var n,r,a,o;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.payload,r=n.token,a=n.type,o=n.isFromNotification,e.next=3,Object(D.put)(ye.fetchSuitePublicPermission(r,a,o));case 3:case"end":return e.stop()}},Or)}var hr=br,vr=k.a.mark(Cr),Ir=k.a.mark(Rr);function Cr(){return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(D.takeEvery)([g.actionTypes.permission.FETCH_ALL_PERMISSION_INFO],Rr);case 2:case"end":return e.stop()}},vr)}function Rr(t){var n,r,a,o;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.payload,r=n.token,a=n.type,o=n.isFromNotification,e.next=3,Object(D.put)(ye.fetchUserPermissionOnSuite(r,a,o));case 3:case"end":return e.stop()}},Ir)}var gr=Cr,Ar=n("IyQe"),kr=k.a.mark(jr),Dr=k.a.mark(Lr);function jr(){return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(D.takeEvery)([g.actionTypes.permission.FETCH_USER_PERMISSION_ON_SUITE_SUCCESS],Lr);case 2:case"end":return e.stop()}},kr)}function Lr(t){var n,r,a,o,i,c,s,u,l,d,p,_,E;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.payload,r=n.token,a=n.type,o=n.permissions,e.next=3,Object(D.select)(be.a);case 3:return i=e.sent,c=i.get("id"),e.next=7,Object(D.select)(er.q);case 7:if(s=e.sent){e.next=10;break}return e.abrupt("return");case 10:if(-1===(u=s.findIndex(function(e){return e.get("owner_id")===c})))return e.abrupt("return");e.next=13;break;case 13:if(l=Object(Ar.permissionArr2Num)(o),d=s.get(u),p=Object(Ar.permissionArr2Num)(d.get("permissions")),l!==p){e.next=19;break}return e.abrupt("return");case 19:return _=d.set("permissions",l),E={index:u,member:_},e.next=23,Object(D.put)(Object(ye.updateAuthorizedMembers)(r,a,E));case 23:case"end":return e.stop()}},Dr)}var wr=jr,Nr=n("lwsE"),Ur=n.n(Nr),Pr=n("W8MJ"),Mr=n.n(Pr),xr=n("cDf5"),Fr=n.n(xr),Hr=n("4PSP"),Br=n("g8ZB"),Gr=n("oKwh"),Kr=k.a.mark(Yr),Wr=function(e,t,n,r){var a,o=arguments.length,i=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":Fr()(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;0<=c;c--)(a=e[c])&&(i=(o<3?a(i):3<o?a(t,n,i):a(t,n))||i);return 3<o&&i&&Object.defineProperty(t,n,i),i},Vr=function(){function e(){Ur()(this,e)}return Mr()(e,[{key:"selectCurrentSuiteToken",value:function(){return Object(D.select)(B.n)}},{key:"selectHasEditPermission",value:function(){return Object(D.select)(er.c)}},{key:"selectIsOwner",value:function(){return Object(D.select)(er.F)}},{key:"fetchPermissionStartWatcher",value:k.a.mark(function e(){return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(D.takeEvery)([g.actionTypes.permission.FETCH_USER_PERMISSION_ON_SUITE_START,g.actionTypes.permission.FETCH_SUITE_PUBLIC_PERMISSION_START],this.fetchPermissionStartSaga);case 2:case"end":return e.stop()}},e,this)})},{key:"fetchPermissionStartSaga",value:k.a.mark(function e(t){return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.selectCurrentSuiteToken();case 3:return this.suiteToken=e.sent,e.next=6,this.selectHasEditPermission();case 6:return this.hasEditPermission=e.sent,e.next=9,this.selectIsOwner();case 9:this.isOwner=e.sent,e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),Object(l.a)(e.t0),Gr.a("fetch start exception",e.t0);case 16:case"end":return e.stop()}},e,this,[[0,12]])})},{key:"fetchPermissionSuccessWatcher",value:k.a.mark(function e(){return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(D.takeEvery)([g.actionTypes.permission.FETCH_USER_PERMISSION_ON_SUITE_SUCCESS,g.actionTypes.permission.FETCH_SUITE_PUBLIC_PERMISSION_SUCCESS],this.fetchPermissionSuccessSaga);case 2:case"end":return e.stop()}},e,this)})},{key:"fetchPermissionSuccessSaga",value:k.a.mark(function e(t){var n,r,a,o,i,c;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=this.suiteToken,r=this.hasEditPermission,a=this.isOwner,o=t.payload.token,e.next=5,this.selectHasEditPermission();case 5:return i=e.sent,e.next=8,this.selectIsOwner();case 8:c=e.sent,this.suiteToken=o,this.hasEditPermission=i,this.isOwner=c,o!==n?(Gr.a("token changed"),Object(Br.a)({isTokenChanged:!0,isOwner:c,hasEditPermission:i})):c!==a||i!==r?(Gr.a("".concat(c!==a&&"owner"," ").concat(i!==r&&"edit-perm"," changed")),Object(Br.a)({isTokenChanged:!1,isOwner:c,hasEditPermission:i})):Gr.a("no expected permission change"),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(0),Object(l.a)(e.t0),Gr.a("fetch success exception",e.t0);case 19:case"end":return e.stop()}},e,this,[[0,15]])})}]),e}();function Yr(){var t;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=new Vr,e.next=3,Object(D.all)([Object(D.fork)(t.fetchPermissionStartWatcher),Object(D.fork)(t.fetchPermissionSuccessWatcher)]);case 3:case"end":return e.stop()}},Kr)}Wr([Object(Hr.Bind)()],Vr.prototype,"fetchPermissionStartWatcher",null),Wr([Object(Hr.Bind)()],Vr.prototype,"fetchPermissionStartSaga",null),Wr([Object(Hr.Bind)()],Vr.prototype,"fetchPermissionSuccessWatcher",null),Wr([Object(Hr.Bind)()],Vr.prototype,"fetchPermissionSuccessSaga",null);var Qr=Yr,Jr=k.a.mark(qr);function qr(){return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(D.all)([Object(D.fork)(gr),Object(D.fork)(wr),Object(D.fork)(Qr)]);case 2:case"end":return e.stop()}},Jr)}var zr=k.a.mark(ea),Xr=k.a.mark(ta),Zr=k.a.mark(na),$r=k.a.mark(ra);function ea(){return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(D.takeEvery)(g.actionTypes.permission.SET_SUITE_PUBLIC_PERMISSION_SUCCESS,ta);case 2:case"end":return e.stop()}},zr)}function ta(t){return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,na(t);case 2:if(dt.h)return e.next=5,ra(t);e.next=5;break;case 5:case"end":return e.stop()}},Xr)}function na(t){var n,r,a;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.payload,r=n.type,a=n.token,e.next=4,Object(D.put)(Object(w.x)(a,r));case 4:case"end":return e.stop()}},Zr)}function ra(t){var n,r,a,o,i,c,s;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.payload,r=n.token,e.next=4,Object(D.select)(v.q);case 4:if(null!=(a=e.sent)&&Object(me.d)(a))return e.next=8,Object(D.select)(v.p);e.next=15;break;case 8:if(o=e.sent,(i=o.find(function(e){return e.get("obj_token")===r}))&&null!=n.external_access)return c=i.get("token"),s=n.external_access?L.EXTERNAL_HINT_STATE.NONE:L.EXTERNAL_HINT_STATE.CAN_MODIFY,e.next=15,Object(D.put)(Object(De.setExternalHint)([{token:c,value:s}]));e.next=15;break;case 15:case"end":return e.stop()}},$r)}var aa=ea,oa=k.a.mark(ca),ia=k.a.mark(sa);function ca(){return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(D.takeLatest)([g.actionTypes.permission.BULK_SET_PERM_SUCCESS,g.actionTypes.permission.REMOVE_AUTHORIZED_MEMBERS_SUCCESS,g.actionTypes.permission.SET_SUITE_PUBLIC_PERMISSION_SUCCESS],sa);case 2:case"end":return e.stop()}},oa)}function sa(t){var n,r,a;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.payload,r=n.type,a=n.token,e.next=4,Object(D.put)(Object(w.x)(a,r));case 4:case"end":return e.stop()}},ia)}var ua=ca,la=n("G8X5"),da=k.a.mark(_a),pa=k.a.mark(Ea);function _a(){return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(D.takeEvery)([g.actionTypes.permission.SET_EMBED_PUBLIC_PERMISSION_SUCCESS],Ea);case 2:case"end":return e.stop()}},da)}function Ea(t){var n,r,a,o,i;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.payload,e.next=3,Object(D.select)(B.n);case 3:return r=e.sent,e.next=6,Object(D.select)(B.o);case 6:return a=e.sent,o=n.token,i=n.type,e.next=10,Object(D.put)(Object(ye.fetchEmbedObjectPermissions)(r,a,[{token:o,type:i}]));case 10:case"end":return e.stop()}},pa)}var fa=_a,Ta=n("83LZ"),Sa=k.a.mark(Oa),ma=k.a.mark(ba);function Oa(){return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(D.takeEvery)([g.actionTypes.permission.BULK_SET_PERM_SUCCESS,g.actionTypes.permission.SET_SUITE_PUBLIC_PERMISSION_SUCCESS],ba);case 2:case"end":return e.stop()}},Sa)}function ba(){return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:Object(Ta.a)();case 1:case"end":return e.stop()}},ma)}var ya=Oa,ha=n("SiRs"),va=n("lZ5r"),Ia=k.a.mark(ka),Ca=k.a.mark(Da),Ra=k.a.mark(ja),ga=k.a.mark(La),Aa=k.a.mark(wa);function ka(){return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(D.takeEvery)([g.actionTypes.explorer.ADD_MEMBERS_TO_FOLDER_SUCCESS,g.actionTypes.explorer.CREATE_SHARE_FOLDER_SUCCESS,g.actionTypes.permission.BULK_SET_PERM_SUCCESS,g.actionTypes.permission.TRANSFER_SUITE_OWNER_SUCCESS,g.actionTypes.explorer.TRANSFER_SHARE_FOLDER_OWNER_SUCCESS,g.actionTypes.permission.UPDATE_USER_PERMISSION_V2_SUCCESS],Da);case 2:return e.next=4,Object(D.takeEvery)([g.actionTypes.permission.BULK_ASK_OWNER_FAIL,g.actionTypes.permission.ASK_OWNER_OPEN_LINK_SHARING_FAIL],wa);case 4:case"end":return e.stop()}},Ia)}function Da(t){var n;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=t.payload.not_notify_users,setTimeout(function(){Object(va.c)(n)},0);case 2:case"end":return e.stop()}},Ca)}function ja(){return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(D.takeEvery)([g.actionTypes.explorer.ADD_MEMBERS_TO_FOLDER_FAIL,g.actionTypes.explorer.CREATE_SHARE_FOLDER_FAIL,g.actionTypes.permission.BULK_SET_PERM_FAIL,g.actionTypes.permission.BULK_SET_EMBED_PERM_FAIL,g.actionTypes.permission.BULK_SHARE_LINK_FAIL,g.actionTypes.permission.BULK_ASK_OWNER_FAIL,g.actionTypes.permission.ASK_OWNER_OPEN_LINK_SHARING_FAIL],La);case 2:case"end":return e.stop()}},Ra)}function La(t){var n,r,a,o,i,c,s;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=t.error.data||{},r=n.user_map,a=n.block_user_map,o=n.limit_num,i=n.source,c=t.error.code,s=t.payload.ownerName,setTimeout(function(){Object(va.e)({userMap:r,blockUserMap:a,limitNum:o,actionType:t.type,source:i,ownerName:s,actionErrorCode:c})},0);case 4:case"end":return e.stop()}},ga)}function wa(t){var n,r,a,o,i,c;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=t.error,r=n.code,a=n.data,o=t.payload.ownerName,i=[g.error.PERMISSION_REQUEST_DENIED_DUE_TO_ADMIN_CONTROL,g.error.PERMISSION_REQUEST_DENIED_DUE_TO_BLOCKED,g.error.PERMISSION_REQUEST_DENIED_DUE_TO_BE_BLOCKED,g.error.PERMISSION_REQUEST_DENIED_DUE_TO_PRIVACY_SETTING,g.error.PERMISSION_REQUEST_DENIED_DUE_TO_ERROR,g.error.PERMISSION_REQUEST_DENIED_DUE_TO_LIMITED],0!==r&&-1<Object.values(i).indexOf(r)&&(c=a.limit_num,setTimeout(function(){Object(va.d)(Object(ha.a)(r),{ownerName:o,limitNum:c})},0));case 5:case"end":return e.stop()}},Aa)}var Na=n("KSIa"),Ua=k.a.mark(xa),Pa=k.a.mark(Fa),Ma=k.a.mark(Ba);function xa(){return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(D.takeEvery)([g.actionTypes.explorer.FETCH_MEMBERS_OF_SHARE_FOLDER_SUCCESS,g.actionTypes.explorer.REMOVE_MEMBER_FROM_FOLDER_SUCCESS,g.actionTypes.permission.FETCH_TEAM_SPACE_MEMBERS_SUCCESS,g.actionTypes.permission.UPDATE_TEAM_SPACE_SETTING_SUCCESS,g.actionTypes.permission.POST_TEAM_SPACE_MEMBERS_DELETE_SUCCESS],Fa);case 2:case"end":return e.stop()}},Ua)}function Fa(e){var t,n,r,a,o,i,c;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(D.select)(Na.c);case 2:return t=e.sent,e.next=5,Object(D.select)(Object(er.a)("linkPerm"));case 5:if(n=e.sent,t&&null!=n){e.next=8;break}return e.abrupt("return");case 8:if(r=Ha(t,n),null!=(a=t.get(g.apiField.EXTERNAL))&&a!==r)return e.next=13,Object(D.select)(v.q);e.next=27;break;case 13:if(o=e.sent,i=o&&o.get(g.apiField.SPACE_ID),c=o&&o.get("token"),!(o&&Object(me.k)(o)?c===t.get("token"):null!=i&&i===t.get(g.apiField.SPACE_ID))){e.next=25;break}if(Object(y.f)(),!1===r&&!0===a)return e.next=23,Ba();e.next=23;break;case 23:e.next=27;break;case 25:return e.next=27,Object(D.put)(Object(De.setNodeIsExternal)(t.get("token"),r));case 27:case"end":return e.stop()}},Pa)}function Ha(e,t){var n,r;return!!Object(Ar.getIsFolderAnyoneCanVisit)(t)||(r=(n=e.get("authorizedMembers"))&&n.find(function(e){return e.get(g.apiField.EXTERNAL)}),Boolean(r))}function Ba(){var t,n;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(D.select)(v.j);case 2:return t=e.sent,n=t.map(function(e){return{token:e,value:L.EXTERNAL_HINT_STATE.NONE}}),e.next=6,Object(D.put)(Object(De.setExternalHint)(n));case 6:case"end":return e.stop()}},Ma)}var Ga=xa,Ka=n("3Gm5"),Wa=k.a.mark(Ya),Va=k.a.mark(Qa);function Ya(){return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(D.takeEvery)([g.actionTypes.permission.POST_TEAM_SPACE_MEMBERS_CREATE_SUCCESS,g.actionTypes.permission.UPDATE_TEAM_SPACE_SETTING_SUCCESS],Qa);case 2:case"end":return e.stop()}},Wa)}function Qa(t){var n,r,a;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.payload.token,e.next=3,Object(D.select)(v.y);case 3:if(r=e.sent,(a=r.get(n))&&Object(me.g)(a))return e.next=8,Object(D.put)(Object(De.fetchFolderMeta)(n));e.next=8;break;case 8:case"end":return e.stop()}},Va)}var Ja=Ya,qa=k.a.mark(Xa),za=k.a.mark(Za);function Xa(){return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(D.takeEvery)([g.actionTypes.permission.UPDATE_TEAM_SPACE_SETTING_SUCCESS,g.actionTypes.permission.POST_TEAM_SPACE_MEMBERS_DELETE_SUCCESS],Za);case 2:case"end":return e.stop()}},qa)}function Za(t){var n,r,a,o,i,c,s,u;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.type,r=t.payload,a=r.token,e.next=4,Object(D.select)(v.y);case 4:if(o=e.sent,(i=o.get(a))&&Object(me.c)(i))return e.next=9,Object(D.select)(er.z);e.next=16;break;case 9:if(c=e.sent,s=c.getIn([a,"totalNum"]),u=!1,n===g.actionTypes.permission.UPDATE_TEAM_SPACE_SETTING_SUCCESS?u=r.link_share_entity===L.FOLDER_PUBLIC_PERMISSION.PRIVATE&&1===s:n===g.actionTypes.permission.POST_TEAM_SPACE_MEMBERS_DELETE_SUCCESS&&(u=1===s),u)return e.next=16,Object(D.put)(Object(De.fetchFolderMeta)(a));e.next=16;break;case 16:case"end":return e.stop()}},za)}var $a=Xa,eo=n("JpHS"),to=k.a.mark(oo),no=k.a.mark(io),ro=k.a.mark(co),ao=k.a.mark(so);function oo(){return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(D.takeLatest)([g.actionTypes.permission.BULK_SET_PERM_START],io);case 2:return e.next=4,Object(D.takeLatest)([g.actionTypes.permission.BULK_SET_PERM_SUCCESS],co);case 4:return e.next=6,Object(D.takeLatest)([g.actionTypes.permission.BULK_SET_PERM_FAIL],so);case 6:case"end":return e.stop()}},to)}function io(e){return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:Object(eo.b)({stage:eo.a.Invite_Member,load_status:"start"});case 1:case"end":return e.stop()}},no)}function co(t){var n,r;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=t.meta||{},r=n.durationTime,Object(eo.b)({stage:eo.a.Invite_Member,load_status:"success",cost_time:r});case 2:case"end":return e.stop()}},ro)}function so(e){return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:Object(eo.b)({stage:eo.a.Invite_Member,load_status:"fail"});case 1:case"end":return e.stop()}},ao)}var uo=oo,lo=k.a.mark(po);function po(){return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(D.all)([Object(D.fork)($n),Object(D.fork)(or),Object(D.fork)(pr),Object(D.fork)(Sr),Object(D.fork)(hr),Object(D.fork)(qr),Object(D.fork)(ya),Object(D.fork)(aa),Object(D.fork)(fa),Object(D.fork)(ua),Object(D.fork)(la.a),Object(D.fork)(ja),Object(D.fork)(ka),Object(D.fork)(Ga),Object(D.fork)(Ka.a),Object(D.fork)(Ja),Object(D.fork)($a),Object(D.fork)(uo)]);case 2:case"end":return e.stop()}},lo)}var _o=n("dBKg"),Eo=(n("dasq"),k.a.mark(To)),fo=k.a.mark(So);function To(){return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(D.takeLatest)(g.actionTypes.explorer.FETCH_RECENT_OBJS,So);case 2:case"end":return e.stop()}},Eo)}function So(t){var n,r,a,o,i,c,s,u,l,d,p,_,E;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t[L.DEFERRED],e.prev=1,r=t.payload,a=r.params,o=r.options,e.next=5,Object(D.select)(v.cb);case 5:return i=e.sent,e.next=8,Object(D.select)(_o.b);case 8:if(c=e.sent,s=0,!o.isContinuous||!i){e.next=19;break}if(u=i.get("lastLabel"),!1===i.get("hasMore"))return e.abrupt("return");e.next=15;break;case 15:return e.next=17,Object(D.select)(v.db);case 17:l=e.sent,s=l.size;case 19:return e.next=21,Object(D.put)(mn.o.start(t));case 21:return d={url:c?g.apiUrls.GET_RECENT_LIST_LEAN:g.apiUrls.GET_RECENT_LIST,method:g.apiUrls.METHOD.GET,params:Object.assign({last_label:u},a),mergeRequestHeaderIntoMeta:!0},e.next=24,yn(Sn.a.explorer.retryConfig,_n.d,d);case 24:return p=e.sent,_=mn.o.success(t,Object.assign({},p?p.data:null,{},o,{offset:s})),e.next=28,Object(D.put)(_);case 28:n&&n.resolve(_),e.next=38;break;case 31:return e.prev=31,e.t0=e.catch(1),console.log(e.t0),E=mn.o.fail(t,e.t0),n&&n.reject(E),e.next=38,Object(D.put)(E);case 38:case"end":return e.stop()}},fo,null,[[1,31]])}var mo=To,Oo=k.a.mark(bo);function bo(){return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(D.all)([Object(D.fork)(mo)]);case 2:case"end":return e.stop()}},Oo)}var yo,ho,vo=bo,Io=n("QILm"),Co=n.n(Io),Ro=k.a.mark(jo),go=k.a.mark(Lo),Ao=k.a.mark(wo),ko=k.a.mark(No);(ho=yo=yo||{})[ho.NEXT_ID=0]="NEXT_ID",ho[ho.CHECK_ID=0]="CHECK_ID",ho[ho.PREVIOUS_OFFSET=0]="PREVIOUS_OFFSET";var Do=function(e){var t={};return re()(t,g.apiUrls.METHOD.POST,"data"),re()(t,g.apiUrls.METHOD.GET,"params"),t[e]};function jo(t){var n;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(D.select)(_o.b);case 2:n=e.sent,e.t0=t,e.next=e.t0===g.actionTypes.explorer.FETCH_SHARE_OBJECTS?6:e.t0===g.actionTypes.explorer.FETCH_MY_OBJECT_LIST?7:e.t0===g.actionTypes.explorer.FETCH_STORAGE_LIST?8:e.t0===g.actionTypes.explorer.FETCH_RECENT_OBJS?9:e.t0===g.actionTypes.explorer.FETCH_RECENT_OBJS_IN_SUITE_BACK_NAV?10:e.t0===g.actionTypes.permission.FETCH_AUTHORIZED_MEMBERS_V2?11:e.t0===g.actionTypes.permission.FETCH_TEAM_SPACE_MEMBERS?12:e.t0===g.actionTypes.explorer.FETCH_DUSTBIN_SPACE_LIST?13:14;break;case 6:return e.abrupt("return",{url:n?g.apiUrls.GET_SHARE_OBJECTS_LEAN:g.apiUrls.GET_SHARE_OBJECTS,method:g.apiUrls.METHOD.GET,loadInfoSelector:v.zb,indexesSelector:v.wb});case 7:return e.abrupt("return",{url:n?g.apiUrls.GET_MY_OBJECT_LIST_LEAN:g.apiUrls.GET_MY_OBJECT_LIST,method:g.apiUrls.METHOD.GET,loadInfoSelector:v.R,indexesSelector:v.S});case 8:return e.abrupt("return",{url:g.apiUrls.GET_STORAGE_LIST,method:g.apiUrls.METHOD.GET,loadInfoSelector:v.Eb,indexesSelector:v.Fb});case 9:return e.abrupt("return",{url:n?g.apiUrls.GET_FETCH_RECENT_OBJS_LEAN:g.apiUrls.GET_FETCH_RECENT_OBJS,method:g.apiUrls.METHOD.GET,loadInfoSelector:v.cb,indexesSelector:v.db});case 10:return e.abrupt("return",{url:n?g.apiUrls.GET_FETCH_RECENT_OBJS_LEAN:g.apiUrls.GET_FETCH_RECENT_OBJS,method:g.apiUrls.METHOD.GET,loadInfoSelector:v.bb,indexesSelector:v.eb});case 11:return e.abrupt("return",{url:g.apiUrls.GET_SUITE_AUTH_MEMBERS_V2,method:g.apiUrls.METHOD.GET,loadInfoSelector:v.d,indexesSelector:er.r});case 12:return e.abrupt("return",{url:g.apiUrls.GET_TEAM_SPACE_MEMBERS,method:g.apiUrls.METHOD.GET,loadInfoSelector:v.E,indexesSelector:er.hb});case 13:return e.abrupt("return",{url:g.apiUrls.GET_FETCH_ALL_TEAM_SPACE,method:g.apiUrls.METHOD.GET,loadInfoSelector:v.x,indexesSelector:v.w});case 14:return e.abrupt("return");case 15:case"end":return e.stop()}},Ro)}function Lo(t){return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,jo(t.payload.realActionType);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},go)}function wo(){var t,n;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(D.actionChannel)(g.actionTypes.intermediate.FETCH_PAGED_DATA);case 2:t=e.sent;case 3:return e.next=6,Object(D.take)(t);case 6:return n=e.sent,e.next=9,Object(D.call)(No,n);case 9:e.next=3;break;case 11:case"end":return e.stop()}},Ao)}function No(t){var n,r,a,o,i,c,s,u,l,d,p,_,E,f,T,S,m,O,b,y,h,v,I;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t[L.DEFERRED],r=t.payload,a=r.realActionType,o=Co()(r,["realActionType"]),e.next=4,Lo(t);case 4:return i=e.sent,c=i.loadInfoSelector,s=i.indexesSelector,u=i.url,l=i.method,d={type:a,payload:Object.assign({},o),rawAction:t.payload},e.prev=10,e.next=13,Object(D.select)(c);case 13:if(_=e.sent,E=o.params,f=o.options,T=yo.PREVIOUS_OFFSET,!f.isContinuous||!_){e.next=25;break}if(S=_.get("lastLabel"),!1===_.get("hasMore"))return e.abrupt("return");e.next=21;break;case 21:return e.next=23,Object(D.select)(s);case 23:m=e.sent,T=m.size;case 25:return e.next=27,Object(D.put)(mn.o.start(d));case 27:return O=Do(l),p={url:u,method:l},re()(p,O,Object.assign({last_label:S},E)),re()(p,"mergeRequestHeaderIntoMeta",!0),b=p,e.next=31,yn(Sn.a.explorer.retryConfig,_n.d,b);case 31:return y=e.sent,h=y.data,v=mn.o.success(d,Object.assign({},E,{},h,{},f,{offset:T})),e.next=36,Object(D.put)(v);case 36:n&&n.resolve(v),e.next=46;break;case 39:return e.prev=39,e.t0=e.catch(10),console.error(e.t0),I=mn.o.fail(d,e.t0),n&&n.resolve(I),e.next=46,Object(D.put)(I);case 46:case"end":return e.stop()}},ko,null,[[10,39]])}var Uo=n("1vJV"),Po=n("OMt3"),Mo=k.a.mark(Fo),xo=k.a.mark(Ho);function Fo(){return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(D.takeEvery)([g.actionTypes.route.LOCATION_CHANGE],Ho);case 2:case"end":return e.stop()}},Mo)}function Ho(){return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:Object(Po.b)();case 1:case"end":return e.stop()}},xo)}var Bo=n("nYlk"),Go=n("G8Hj"),Ko=n("0uEh"),Wo=k.a.mark(Qo),Vo=k.a.mark(Jo),Yo=604800;function Qo(){return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(D.takeEvery)([g.actionTypes.onboarding.UNDO_REDO_GUIDE_CHECK_STATE],Object(s.b)(Jo));case 2:case"end":return e.stop()}},Wo)}function Jo(){var t,n,r;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(D.call)(Uo.b);case 2:return e.next=4,Object(D.call)(Ko.d,Go.STEP_TYPES.undo_redo_callout);case 4:if(e.sent)return e.abrupt("return");e.next=7;break;case 7:return e.next=9,Object(D.call)(Ko.b,Go.PROFILE_GROUP.USER,Go.PROFILE.user.docs_acc_editor_redo_count);case 9:if(-1===(t=e.sent)||0<t)return e.abrupt("return");e.next=12;break;case 12:return e.next=14,Object(D.call)(Ko.b,Go.PROFILE_GROUP.USER,Go.PROFILE.user.docs_acc_editor_undo_count);case 14:if(-1===(n=e.sent)||0<n)return e.abrupt("return");e.next=17;break;case 17:return e.next=19,Object(D.call)(Ko.b,Go.PROFILE_GROUP.USER,Go.PROFILE.user.docs_first_create_file_time);case 19:if(-1===(r=e.sent)||Date.now()/1e3-r<Yo)return e.abrupt("return");e.next=22;break;case 22:return e.next=24,Object(D.take)(nn.a.SET_EDITOR);case 24:return e.next=26,Object(D.put)(Object(Bo.k)());case 26:case"end":return e.stop()}},Vo)}var qo=n("XMIC"),zo=n("zhgJ"),Xo=n("5UDZ"),Zo=k.a.mark(ei),$o=k.a.mark(ti);function ei(){return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(D.takeEvery)([g.actionTypes.onboarding.OPEN_SLIDE_GUIDE_MODAL],Object(s.b)(ti));case 2:case"end":return e.stop()}},Zo)}function ti(){var t,n,r,a;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(D.call)(Uo.b);case 2:return e.next=4,Object(D.call)(Ko.b,Go.PROFILE_GROUP.CREATE_GUIDE_USER,Go.PROFILE.create_guide_user.view_others_file_num);case 4:if(1!==e.sent){e.next=16;break}t="1";try{t=window.localStorage.getItem(L.HAS_SHOWN_SLIDE_INFO_MODAL)}catch(e){}if(n=Object(zo.c)(),r=n.showSlideModal,a=r&&r.show,!t&&a)return window.localStorage.setItem(L.HAS_SHOWN_SLIDE_INFO_MODAL,String(1)),Object(Ye.collectSuiteEvent)(Xo.a.SPACE_BANNER_SLIDE_SHOW),e.next=16,Object(D.put)(Object(qo.c)(bt.MODAL_TYPES.SLIDE_CREATE));e.next=16;break;case 16:case"end":return e.stop()}},$o)}var ni=k.a.mark(ri);function ri(){return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(D.all)([Object(D.fork)(Uo.a),Object(D.fork)(Fo),Object(D.fork)(Qo),Object(D.fork)(Uo.c),Object(D.fork)(ei)]);case 2:case"end":return e.stop()}},ni)}var ai=ri,oi=n("vnAn"),ii=n("tOQ2"),ci=n("qKwb"),si=n("YNKm"),ui=n("xqYH"),li=k.a.mark(_i),di=k.a.mark(Ei),pi=k.a.mark(fi);function _i(){return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(D.takeEvery)(g.actionTypes.findReplace.TRIGGER_FIND_REPLACE,Ei);case 2:case"end":return e.stop()}},li)}function Ei(t){var n,r,a,o,i,c,s,u;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(D.select)(ii.e);case 3:if(e.sent)return e.abrupt("return");e.next=6;break;case 6:return n=t.payload.hotkeyName,e.next=9,Object(D.select)(er.c);case 9:return r=e.sent,a=!r||n===si.p,o={showOnlyFindRow:a},e.next=14,Object(D.select)(ci.c);case 14:return i=e.sent,(c=Object(ui.a)(i))&&(o.findText=c),e.next=19,Object(D.put)(Object(oi.openFindReplaceBox)(o));case 19:s=a?"find":"replace",u=n?"shortkey":"headerbar",Object(Ye.default)("toggle_attribute",{action:s,source:u,zone:"default"}),e.next=27;break;case 24:e.prev=24,e.t0=e.catch(0),Object(l.a)(e.t0);case 27:case"end":return e.stop()}},di,null,[[0,24]])}function fi(){return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(D.all)([Object(D.fork)(_i)]);case 2:case"end":return e.stop()}},pi)}var Ti=n("xXG4"),Si=n("7SOz"),mi=k.a.mark(gi),Oi=k.a.mark(Ai),bi=k.a.mark(ki),yi=k.a.mark(Di),hi=k.a.mark(ji),vi=k.a.mark(Li),Ii=k.a.mark(wi),Ci=k.a.mark(Ni),Ri=k.a.mark(Ui);function gi(){return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(D.takeEvery)(g.actionTypes.translate.TOGGLE_TRANSLATE,Ai);case 2:case"end":return e.stop()}},mi)}function Ai(t){return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.payload.type===L.NUM_FILE_TYPE.DOC)return e.next=3,ki(t);e.next=3;break;case 3:case"end":return e.stop()}},Oi)}function ki(t){var n,r,a,o,i,c;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.payload,r=n.token,a=n.type,o=n.status,i=n.targetLang,o)return e.next=4,Object(D.select)(ci.c);e.next=18;break;case 4:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,Object(D.put)(Ti.f({translating:!0}));case 9:return e.next=11,Object(D.select)(ci.a);case 11:return c=e.sent,e.next=14,Object(D.put)(Ti.c(c));case 14:return e.next=16,Object(D.put)(Ti.b(r,a,!0,i));case 16:e.next=20;break;case 18:return e.next=20,Object(D.put)(Ti.c(null));case 20:case"end":return e.stop()}},bi)}function Di(){return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(D.takeEvery)([g.actionTypes.translate.GET_TRANSLATE_CONFIG_SUCCESS,g.actionTypes.translate.GET_TRANSLATE_CONFIG_FAIL],ji);case 2:case"end":return e.stop()}},yi)}function ji(t){return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.payload.type===L.NUM_FILE_TYPE.DOC)return e.next=3,Li(t);e.next=3;break;case 3:case"end":return e.stop()}},hi)}function Li(t){var n,r,a,o,i,c;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.payload,r=n.code,a=n.nextTrans,o=n.defaultLang,i=Co()(n,["code","nextTrans","defaultLang"]),t.type===g.actionTypes.translate.GET_TRANSLATE_CONFIG_FAIL||r)return e.next=4,Object(D.put)(Ti.f({translating:!1,error:a?"fail":""}));e.next=5;break;case 4:return e.abrupt("return");case 5:return c=Object(Si.b)(i),o&&o!==c.target_lang&&(c.target_lang=o),e.next=9,Object(D.put)(Ti.e(Object.assign({},c)));case 9:if(a)return e.next=12,Object(D.put)(Ti.f({translate_start:!0,translating:!0}));e.next=12;break;case 12:case"end":return e.stop()}},vi)}function wi(){return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(D.takeEvery)([g.actionTypes.translate.SUBMIT_TRANSLATE_SUCCESS,g.actionTypes.translate.SUBMIT_TRANSLATE_FAIL],Ni);case 2:case"end":return e.stop()}},Ii)}function Ni(t){var n,r;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n={translate_start:!1,translating:!1},r=t.payload.code,t.type===g.actionTypes.translate.SUBMIT_TRANSLATE_FAIL||r)return e.next=5,Object(D.put)(Ti.f(Object.assign({},n,{error:"fail"})));e.next=6;break;case 5:return e.abrupt("return");case 6:return e.next=8,Object(D.put)(Ti.f(Object.assign({},n,{translating:!0})));case 8:case"end":return e.stop()}},Ci)}function Ui(){return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(D.all)([Object(D.fork)(Di),Object(D.fork)(gi),Object(D.fork)(wi)]);case 2:case"end":return e.stop()}},Ri)}var Pi=n("OJOY"),Mi=k.a.mark(Fi),xi=k.a.mark(Bi);function Fi(){return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(D.takeEvery)(g.actionTypes.template.TOGGLE_TEMPLATE_VISIBLE,Hi);case 2:case"end":return e.stop()}},Mi)}function Hi(e){var t=e.payload;Pi.a.setItem("__template__",{visible:t})}function Bi(){return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(D.all)([Object(D.fork)(Fi)]);case 2:case"end":return e.stop()}},xi)}var Gi=n("O7eI"),Ki=n("lYFH"),Wi=n("HvQa"),Vi=n("K4n4"),Yi=n("mpK2"),Qi=n("R/2b"),Ji=n("NXru"),qi=k.a.mark(nc),zi=k.a.mark(rc),Xi=k.a.mark(ac),Zi=function(e,t,n,r){var a,o=arguments.length,i=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":Fr()(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;0<=c;c--)(a=e[c])&&(i=(o<3?a(i):3<o?a(t,n,i):a(t,n))||i);return 3<o&&i&&Object.defineProperty(t,n,i),i},$i="CONTENT_VISIBLE",ec="SLIDE_GLOBAL_CANVAS_RENDERED",tc=function(){function e(){Ur()(this,e),this.prevShouldAutoInitResultMap=new Map,this.timeoutTaskMap=new Map}return Mr()(e,[{key:"locationChange",value:k.a.mark(function e(t){var a,o,i,c=this;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,a=[],o=[],i=Object(H.locateRoute)(),Object.keys(Vi.a).forEach(function(e){var t,n,r=Vi.a[e];r.shouldAutoInitOnLocationChange&&(t=c.prevShouldAutoInitResultMap.get(e),n=r.shouldAutoInitOnLocationChange(i),!t&&n?a.push(e):t&&!n&&o.push(e),c.prevShouldAutoInitResultMap.set(e,n))}),0<a.length||0<o.length)return e.delegateYield(this.resetBusinessStage(a,o),"t0",7);e.next=7;break;case 7:e.next=12;break;case 9:e.prev=9,e.t1=e.catch(0),Object(l.a)(e.t1);case 12:case"end":return e.stop()}},e,this,[[0,9]])})},{key:"resetBusinessStage",value:k.a.mark(function e(t,n){var r,a,o,i,c,s,u,l,d,p,_,E;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(a=!(r=!0),o=void 0,e.prev=3,i=n[Symbol.iterator]();!(r=(c=i.next()).done);r=!0)s=c.value,this.clearTimeout(s);e.next=11;break;case 7:e.prev=7,e.t0=e.catch(3),a=!0,o=e.t0;case 11:e.prev=11,e.prev=12,r||null==i.return||i.return();case 14:if(e.prev=14,a)throw o;e.next=17;break;case 17:return e.finish(14);case 18:return e.finish(11);case 19:l=!(u=!0),d=void 0,e.prev=22,p=t[Symbol.iterator]();case 24:if(u=(_=p.next()).done){e.next=30;break}return E=_.value,e.delegateYield(this.setTimeout(E),"t1",27);case 27:u=!0,e.next=24;break;case 30:e.next=36;break;case 32:e.prev=32,e.t2=e.catch(22),l=!0,d=e.t2;case 36:e.prev=36,e.prev=37,u||null==p.return||p.return();case 39:if(e.prev=39,l)throw d;e.next=42;break;case 42:return e.finish(39);case 43:return e.finish(36);case 44:return e.next=46,Object(D.put)(Wi.a(t,n));case 46:case"end":return e.stop()}},e,this,[[3,7,11,19],[12,,14,18],[22,32,36,44],[37,,39,43]])})},{key:"setTimeout",value:k.a.mark(function e(r){var t,o,i,c,n;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Vi.a[r],o=t.timeout,i=t.endStage,void 0!==o&&i&&0!==i.length){e.next=3;break}return e.abrupt("return");case 3:return this.clearTimeout(r),c=this,e.next=7,Object(D.fork)(k.a.mark(function e(){var a,t,n;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(h.delay)(o);case 2:return e.next=4,Object(D.put)(Wi.b(r));case 4:return e.next=6,Object(D.select)(Ki.a);case 6:a=e.sent,0<(t=i.filter(function(e){return!Object(Yi.c)(r,e,a)})).length&&(n=Object.keys(a).reduce(function(e,t){var n=a[t],r=Array.from(n.simpleStageSet);return e[t]=Object.assign({},n,{simpleStageSet:r}),e},{}),Object(Ye.default)("multi_stage_render_timeout",{multi_stage_render_business:r,multi_stage_render_not_fulfilled_stages:t,multi_stage_render_state:n})),c.timeoutTaskMap.delete(r);case 10:case"end":return e.stop()}},e)}));case 7:n=e.sent,this.timeoutTaskMap.set(r,n);case 9:case"end":return e.stop()}},e,this)})},{key:"clearTimeout",value:function(e){var t=this.timeoutTaskMap.get(e);void 0!==t&&(t.cancel(),this.timeoutTaskMap.delete(e))}}]),e}();function nc(){var t;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=new tc,e.next=3,Object(D.takeEvery)(Gi.a.route.LOCATION_CHANGE,t.locationChange);case 3:case"end":return e.stop()}},qi)}function rc(){return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(D.takeEvery)($i,k.a.mark(function e(t){return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.payload)return e.next=4,Object(D.put)(Wi.c(Qi.b.Sheet,Qi.e.Done));e.next=4;break;case 4:case"end":return e.stop()}},e)}));case 2:return e.next=4,Object(D.takeEvery)(Gi.a.box.SET_IS_BOX_RENDERED,k.a.mark(function e(t){var n,r;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.payload,e.next=3,Object(D.select)(Ki.a);case 3:if(r=e.sent,n)return e.next=7,Object(D.put)(Wi.c(Qi.b.Box,Qi.a.Done));e.next=9;break;case 7:e.next=12;break;case 9:if(Object(Yi.a)(Qi.b.Box,r))return e.next=12,Object(D.put)(Wi.a([],[Qi.b.Box]));e.next=12;break;case 12:case"end":return e.stop()}},e)}));case 4:return e.next=6,Object(D.takeEvery)(ec,k.a.mark(function e(t){var n,r;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(Ji.a){e.next=2;break}return e.abrupt("return");case 2:return n=t.payload,e.next=5,Object(D.select)(Ki.a);case 5:if(r=e.sent,n)return e.next=9,Object(D.put)(Wi.c(Qi.b.Slide,Qi.f.Done));e.next=11;break;case 9:e.next=14;break;case 11:if(Object(Yi.a)(Qi.b.Slide,r))return e.next=14,Object(D.put)(Wi.a([],[Qi.b.Slide]));e.next=14;break;case 14:case"end":return e.stop()}},e)}));case 6:case"end":return e.stop()}},zi)}function ac(){return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(D.all)([Object(D.fork)(nc),Object(D.fork)(rc)]);case 2:case"end":return e.stop()}},Xi)}Zi([Object(Hr.Bind)()],tc.prototype,"locationChange",null);var oc=k.a.mark(cc),ic=k.a.mark(sc);function cc(){return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:Object(p.a)();case 1:case"end":return e.stop()}},oc)}function sc(){return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(D.takeEvery)(g.actionTypes.route.LOCATION_CHANGE,cc);case 2:case"end":return e.stop()}},ic)}var uc=n("fCBT"),lc=n("IzLi"),dc=n("3Hq1"),pc=n("xnu4"),_c=n("s/f2"),Ec=n("1TYq"),fc=function(e){return{type:Ec.a.SET_FETCH_STATUS,payload:e}},Tc=function(){return{type:Ec.a.RESET_FETCH_STATUS,payload:{}}},Sc=n("cyON"),mc=k.a.mark(yc),Oc=k.a.mark(vc),bc=k.a.mark(Ic);function yc(){return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(D.takeEvery)("*",vc);case 2:case"end":return e.stop()}},mc)}function hc(e,t,n){return Object(pc.a)(e.slice(t.length).slice(0,0-n.length))}function vc(t){var n,r,a,o,i,c,s,u,l,d,p,_,E,f,T,S,m,O,b,y,h,v,I,C,R;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.type!==g.actionTypes.route.LOCATION_CHANGE){e.next=6;break}if(n=t.payload,r=n.hash,a=n.isPathChanged,""===r&&a)return e.next=5,Object(D.put)(Tc());e.next=5;break;case 5:return e.abrupt("return");case 6:if(t.type===g.actionTypes.explorer.SET_CURRENT_SUITE_TOKEN)return e.next=9,Object(D.put)(Tc());e.next=10;break;case 9:return e.abrupt("return");case 10:if(o=Object(_c.a)(t),i=o[Sc.a]){e.next=14;break}return e.abrupt("return");case 14:if(c=t.type,s=g.actionTypes.prefix.FETCH,u=g.actionTypes.suffix,l=u.START,d=u.BEGIN,p=u.SUCCESS,_=u.COMPLETE,E=u.FAIL,f=u.ERROR,T=c.startsWith(s)?s:"",S=c.endsWith(l),m=c.endsWith(d),S||m)return O=hc(c,T,S?l:d),b={actionName:O,status:g.common.StatusMap.loading},Object(dc.default)(Object(Nt.default)(t,"payload.options.isContinuous"))||(b.isContinuous=t.payload.options.isContinuous),Object(lc.a)(i)&&(b.options=i),e.next=27,Object(D.put)(fc(b));e.next=28;break;case 27:return e.abrupt("return");case 28:if(y=c.endsWith(p),h=c.endsWith(_),y||h)return v=hc(c,T,y?p:_),e.next=34,Object(D.put)(fc({actionName:v,status:g.common.StatusMap.loaded}));e.next=35;break;case 34:return e.abrupt("return");case 35:if(I=c.endsWith(E),C=c.endsWith(f),I||C)return R=hc(c,T,I?E:f),e.next=41,Object(D.put)(fc({actionName:R,status:g.common.StatusMap.failed}));e.next=41;break;case 41:case"end":return e.stop()}},Oc)}function Ic(){return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(D.all)([Object(D.fork)(yc)]);case 2:case"end":return e.stop()}},bc)}var Cc=n("KrGf");n.d(t,"a",function(){return kc});var Rc=Object(Cc.b)(),gc=[a(),Object(i.a)()],Ac=[o(),Object(i.a)()];function kc(){return{id:"appState",reducerMap:{appState:Object(r.a)(),indexes:Object(r.c)()},initialActions:Rc?Ac:gc,sagas:[Se,po,tn,pn,Jn,ee,vo,ai,wo,fi,Ui,Bi,uc.a,ac,Ic,sc]}}},cyON:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r="RECORD_FETCH_STATUS"},d1Ge:function(e,t,r){"use strict";r.d(t,"a",function(){return s});var n=r("o0o1"),a=r.n(n),o=r("yXPU"),i=r.n(o),c=r("D7h9");function s(){return u.apply(this,arguments)}function u(){return(u=i()(a.a.mark(function e(){var t,n;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.e("explorer-async_modules").then(r.bind(null,"j3eB"));case 2:return t=e.sent,n=t.getExplorerAsyncModule(),e.abrupt("return",c.default.addModule(n));case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}},dBKg:function(e,t,n){"use strict";n.d(t,"c",function(){return a}),n.d(t,"a",function(){return o}),n.d(t,"d",function(){return i}),n.d(t,"e",function(){return c}),n.d(t,"b",function(){return s});var r=function(e){return e.appState.leanModeConfig},a=function(e){return r(e).get("folderHidden")},o=function(e){return r(e).get("favoritesHidden")},i=function(e){return r(e).get("pinDragDisabled")},c=function(e){return r(e).get("wikiHidden")},s=function(e){return r(e).get("fetchPartData")}},dfOl:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n("jp/M"),a=function(e){return{type:r.actionTypes.network.SET_NETWORK_STATE,payload:{data:e}}}},eoP6:function(e,t,n){"use strict";n.d(t,"k",function(){return r}),n.d(t,"h",function(){return o}),n.d(t,"a",function(){return c}),n.d(t,"f",function(){return u}),n.d(t,"e",function(){return d}),n.d(t,"b",function(){return _}),n.d(t,"d",function(){return f}),n.d(t,"j",function(){return S}),n.d(t,"g",function(){return O}),n.d(t,"c",function(){return y}),n.d(t,"i",function(){return h});var r,a,o,i,c,s,u,l,d,p,_,E,f,T,S,m,O,b,y,h,v,I=n("QM+C");(a=r=r||{})[a.NOT_READY=-1]="NOT_READY",a[a.NOT_SYNCED=1]="NOT_SYNCED",a[a.SYNCING=2]="SYNCING",a[a.SYNCED=3]="SYNCED",a[a.SYNC_PENDING=4]="SYNC_PENDING",a[a.SYNC_ERROR=5]="SYNC_ERROR",a[a.REMOVED=6]="REMOVED",a[a.OFFLINE=7]="OFFLINE",(i=o=o||{})[i.UNKNOW=0]="UNKNOW",i[i.MY_SPACE=1]="MY_SPACE",i[i.SHARED_SPACE=2]="SHARED_SPACE",i[i.TEAM_SPACE=3]="TEAM_SPACE",(s=c=c||{})[s.FOLDER=I.NUM_FILE_TYPE.FOLDER]="FOLDER",s[s.MY_SPACE_ROOT=128]="MY_SPACE_ROOT",s[s.SHARED_SPACE_ROOT=129]="SHARED_SPACE_ROOT",s[s.SYNCDISK_ROOT=255]="SYNCDISK_ROOT",(l=u=u||{})[l.PREPARE_INSTALL=-2]="PREPARE_INSTALL",l[l.DOWNLOAD_INSTALL_TOOL=-1]="DOWNLOAD_INSTALL_TOOL",l[l.DOWNLOAD_INSTALLER=1]="DOWNLOAD_INSTALLER",l[l.UNZIP_INSTALLER=2]="UNZIP_INSTALLER",l[l.EXEC_INSTALLER=3]="EXEC_INSTALLER",l[l.FINISHED=4]="FINISHED",(p=d=d||{})[p.INSTALLING=1]="INSTALLING",p[p.SETTING=2]="SETTING",p[p.CACHE_PATH_SETTING=3]="CACHE_PATH_SETTING",p[p.FINISHED=4]="FINISHED",(E=_=_||{})[E.UNKNOW=-1]="UNKNOW",E[E.UNINSTALL=0]="UNINSTALL",E[E.INSTALLED=1]="INSTALLED",(T=f=f||{}).INSTALL="install",T.UPGRADE="upgrade",(m=S=S||{})[m.UNKNOW=-1]="UNKNOW",m[m.UNSTART=0]="UNSTART",m[m.READY=5]="READY",(b=O=O||{})[b.INSTALL=1]="INSTALL",b[b.UPGRADE=2]="UPGRADE",(y=y||{}).ONBOARDING_TYPE="SYNC_DISK_ONBOARDING_TYPE",(v=h=h||{})[v.NOEXISTS=1]="NOEXISTS",v[v.SEARCHING=2]="SEARCHING",v[v.DOWNLOADING=3]="DOWNLOADING",v[v.INSTALLING=4]="INSTALLING",v[v.INSTALLED=5]="INSTALLED",v[v.RUNNING=6]="RUNNING"},f7jX:function(e,t,n){"use strict";var r=n("o0o1"),S=n.n(r),a=n("yXPU"),o=n.n(a),m=n("ipyK"),O=n("lQZd"),b=n("Q9MD"),l=n("vc5i"),y=n("VI6H"),i=n("RIqP"),c=n.n(i),s=n("lwsE"),u=n.n(s),d=n("W8MJ"),p=n.n(d),h=function(){function t(e){u()(this,t),this.options=e||{numberOfSamples:5}}return p()(t,[{key:"check",value:function(){return{localStorage:this.checkLocalStorageStatus()}}},{key:"checkLocalStorageStatus",value:function(){if(!window.localStorage)return null;var e=this.checkIOSpeed({read:function(e){return localStorage.getItem(e)},write:function(e,t){return localStorage.setItem(e,t)},remove:function(e){return localStorage.removeItem(e)}}),t=this.getLocalStorageSize();return Object.assign({},e,{size:t})}},{key:"getLocalStorageSize",value:function(){var e,t="";for(e in window.localStorage)window.localStorage.hasOwnProperty(e)&&(t+=window.localStorage[e]);return t?3+16*t.length/8:0}},{key:"measureSpeed",value:function(e,t){var n=performance.now();return e.apply(void 0,c()(t)),performance.now()-n}},{key:"toDecimal",value:function(e){return Number(e.toFixed(4))}},{key:"checkIOSpeed",value:function(e){var t=e.read,n=e.write,r=e.remove,a=this.options.numberOfSamples,o="CHECK_IO",i=0,c=0;try{for(var s=0;s<=a;s++)i+=this.measureSpeed(n,[o,o]),c+=this.measureSpeed(t,[o]),r(o);return{writeCost:this.toDecimal(i/a),readCost:this.toDecimal(c/a)}}catch(e){return{exception:e}}}}]),t}(),_=n("wd/R"),E=n.n(_),v=n("D7h9"),I=n("5dbN"),C=n("1dfU"),R=n("A2D6"),g=n("VIFs"),k=n("5gS9"),D=n("SebV");n.d(t,"c",function(){return N}),n.d(t,"a",function(){return M}),n.d(t,"b",function(){return B});var j="CUSTOM_LOG_MESSAGE",f=10,L=[],T=null,w=null,N={setOfflineTime:function(){T=T||new Date},addRecord:function(){T&&(w=new Date,L.length===f&&L.shift(),L.push("OffineTime: ".concat(E()(T).format()," -- ").concat(E()(w).format())),T=null)}},U={engineSyncLog:[],vcLog:[]},P={engineSyncLog:100,vcLog:100},M=function(e,t){var n=U[e];n&&(n.length===P[e]&&n.shift(),n.push({event:t,time:E()().format()}))},x=function(e,t){var n=e.getSheetIds(),r=e.getSheetCount(),a=t?t.baseRev:"",o=0,i=0,c="",s=e.getActiveSheet();s&&(o=s.getRowCount(),i=s.getColumnCount(),c=s.id());var u=v.default.getState();return{activeSheetId:c,activeSheetRowCount:o,activeSheetColumnCount:i,sheetCount:r,sheetIds:n,sheetRevision:a,ssid:Object(l.e)(u)}},F=function(){var e=window.embedSheetManagers;if(e&&Object.keys(e).length){var t=Object.keys(e)[0],n=e[t];if(n&&n.sheetSpreads){var r=Object.keys(n.sheetSpreads),a=r.length;if(a){var o,i=n.engine?n.engine.baseRev:"",c=0,s=0,u="",l=v.default.getState().sheet.activeSpread;return!l||(o=l.getActiveSheet())&&(c=o.getRowCount(),s=o.getColumnCount(),u=o.id()),{sheetToken:t?Object(C.a)(t):"",activeSheetId:u,activeSheetRowCount:c,activeSheetColumnCount:s,sheetCount:a,sheetIds:r,sheetRevision:i}}}}return{}},H=function(e,t){return e?x(e,t):F()},B=function(){var e=o()(S.a.mark(function e(){var t,n,r,a,o,i,c,s,u,l,d,p,_,E,f,T;return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=window,Object(D.b)(j),n=new h({numberOfSamples:10}),r=Object(g.getDomainConfig)("tea"),a=Object(g.getDomainConfig)("slardar"),o=Object(g.getDomainConfig)("sentry"),i=t.performance&&t.performance.memory||{},c=Object(C.a)(Object(O.g)()),s=Object(O.k)(),u=k.b.getInstance().getMemberId(),l=t.teaMap&&t.teaMap.sessionId||"unknown",d={token:c,fileType:s,memberId:u,teaSessionId:l,en:t.User.language,scm:t.scm,userId:t.User.id,ua:t.User&&t.User.userAgent||navigator.userAgent||"",members:Object(m.a)(Object(b.e)(v.default.getState()),y.w).length,memory:{jsHeapSizeLimit:i.jsHeapSizeLimit,totalJSHeapSize:i.totalJSHeapSize,usedJSHeapSize:i.usedJSHeapSize},timezone:-(new Date).getTimezoneOffset()/60,offlineMsg:L,io:n.check(),otherMsg:U,heartbeatRequestStatus:t.__HEARTBEAT_STATUS__},p={},!Object(I.locateRoute)().isBitable&&t.Spread&&(p=H(t.spread,t.Spread.engine)),_=Object(R.b)("SLARDAR_WEB_ID"),E={},f={},T={},_&&a.open&&(E.slardar="https://".concat(a.domain,"/node/browser_detail/logquery?bid=").concat(a.config.bid.docs_pc,"&region=").concat(a.region,"&slardar_web_id=").concat(Object(C.a)(_))),r.open&&(f.tea="https://".concat(r.domain,"/app/").concat(r.productId.doc,"/behavior-detail/").concat(Object(C.a)(t.User.id))+"?activeEventId=0_1&app_name=docs&curDevice=%E5%85%B6%E4%BB%96&eventParamsType=open&isShowFiltered=false&query_type=user_unique_id&selectedShowEventList=limit_edit_mode_quantity&selectedShowEventList=client_performance_fps&"+"selectedShowEventList=launch_duration&timestamp=".concat(Date.now())),o.open&&(T.sentry="https://".concat(o.domain,"/").concat(o.organizationSlug,"/").concat(o.projectSlug.doc,"/?query=eToken%3A").concat(c,"+user%3Aid%3A").concat(t.User.id)),e.abrupt("return",JSON.stringify(Object.assign({},d,p,f,T,E),null,2));case 22:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()},f8Ac:function(e,b,y){"use strict";(function(e){y.d(b,"a",function(){return p}),y.d(b,"d",function(){return _}),y.d(b,"e",function(){return f}),y.d(b,"c",function(){return T}),y.d(b,"b",function(){return S});var t=y("J4zp"),r=y.n(t),n=y("hMnB"),a=y.n(n),o=(y("FZl3"),y("skFV")),i=y("A2D6"),c=y("dDhe"),s=y("EVj1"),u=y("U6jp"),l=y("GIL9"),d={"zh-CN":"zh","en-US":"en","ja-JP":"ja","fr-FR":"fr","hi-IN":"hi","id-ID":"id","it-IT":"it","ko-KR":"ko","pt-BR":"pt","ru-RU":"ru","th-TH":"th","vi-VN":"vi","de-DE":"de","es-ES":"es"};function p(){return d[T()]}function _(){return"zh"===p()}var E;E=p();function f(e){var t={zh:"zh-CN",en:"en-US",ja:"ja-JP",fr:"fr-FR",hi:"hi-IN",id:"id-ID",it:"it-IT",ko:"ko-KR",pt:"pt-BR",ru:"ru-RU",th:"th-TH",vi:"vi-VN",de:"de-DE",es:"es-ES"},n=e.split("-");return t[r()(n,1)[0]]||"en-US"}function T(){var e,t=Object(s.i)("lang"),n=Object(i.b)("lang");return t&&Object(l.a)()?e=t:window.User&&window.User.language?e=window.User.language:t&&Object(c.c)()?e=t:Object(u.j)("locale")?e=Object(u.j)("locale"):n?e=n:window.navigator.language&&(e=window.navigator.language),e?f(e):"en-US"}function S(){switch(T()){case"zh-CN":return"zh_tw";case"en-US":return"en_us";case"ja-JP":return"ja_jp";case"fr-FR":return"fr_fr";case"hi-IN":return"hi_in";case"id-ID":return"id_id";case"it-IT":return"it_it";case"ko-KR":return"ko_kr";case"pt-BR":return"pt_br";case"ru-RU":return"ru_ru";case"th-TH":return"th_th";case"vi-VN":return"vi_vn";case"de-DE":return"de_de";case"es-ES":return"es_es";default:return"en_us"}}var m=a.a.hostname;".".concat(m),O(m);function O(e){var t=Object(o.o)();if(t)return".".concat(t);var n=e.split("."),r=n.length,a=2<=r?"".concat(n[r-2],".").concat(n[r-1]):e;return".".concat(a)}}).call(this,y("2vAP"))},f9Hl:function(e,t,n){"use strict";n.d(t,"e",function(){return a}),n.d(t,"d",function(){return o}),n.d(t,"f",function(){return i}),n.d(t,"a",function(){return c}),n.d(t,"c",function(){return s}),n.d(t,"b",function(){return u}),n.d(t,"g",function(){return l}),n.d(t,"i",function(){return d}),n.d(t,"h",function(){return p}),n.d(t,"j",function(){return _});var r=n("M/IZ"),a=function(e){return{type:r.a.SET_LIST_VIEW_SETTING,payload:e}},o=function(e,t){return{type:r.a.SET_LIST_VIEW_MODE,payload:{listName:e,viewMode:t}}},i=function(e,t){return{type:r.a.SET_LIST_VIEW_TAB,payload:{listName:e,viewTab:t}}},c=function(e,t,n){return{type:r.a.CLICK_META_MENU_ITEM,payload:{listName:e,metaMenuItemValue:n,columnIdx:t}}},s=function(e,t){return{type:r.a.SET_LIST_VIEW_COLUMNS,payload:{listName:e,columns:t}}},u=function(e,t){return{type:r.a.SET_LIST_VIEW_FILTERING_SETTING,payload:{listName:e,filtering:t}}},l=function(e,t){return{type:r.a.SET_LIST_VIEW_ORDERING_SETTING,payload:{listName:e,orderSetting:t}}},d=function(e){return{type:r.a.SET_RECENT_LIST_VIEW_ORDERING_SETTING,payload:e}},p=function(e){return{type:r.a.SET_RECENT_LIST_VIEW_FILTER_TYPE,payload:e}},_=function(e){return{type:r.a.SET_RECENT_LIST_VIEW_SETTING,payload:e}}},fCBT:function(e,C,R){"use strict";(function(s){R.d(C,"a",function(){return I});var e=R("o0o1"),u=R.n(e),l=R("oZtI"),d=R("m1/u"),p=R("Jisn"),_=R("t6I4"),E=R("kUgE"),f=R("BGhw"),T=R("VI6H"),S=R("n/R6"),t=R("TovF"),o=R("JgWU"),i=R("ZGZ5"),c=R("0GMm"),n=u.a.mark(b),r=u.a.mark(y),m=u.a.mark(h),O=u.a.mark(v),a=u.a.mark(I);function b(){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(l.takeEvery)(t.a.FETCH_CURRENT_USER_SUCCESS,v);case 2:case"end":return e.stop()}},n)}function y(){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(l.takeEvery)("*",h);case 2:case"end":return e.stop()}},r)}function h(t){var n,r,a;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t[o.a]){e.next=2;break}return e.abrupt("return");case 2:return n=t[o.a](),e.next=5,Object(l.select)(i.a);case 5:if(r=e.sent){e.next=8;break}return e.abrupt("return");case 8:if(a=n[r.toJS().id]){e.next=11;break}return e.abrupt("return");case 11:return e.next=13,Object(l.put)(Object(c.d)(r.merge({avatar_url:a.avatar_url,is_anonymous:a.is_anonymous,name:a.name,en_name:a.en_name,cn_name:a.cn_name,tenant_id:a.tenant_id,uid:a.uid}).toJS()));case 13:case"end":return e.stop()}},m)}function v(t){var n,r,a,o,i,c;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return Object(T.x)()&&Object(f.b)(),n=t.payload,r=n.cn_name,a=n.en_name,o=n.tenant_name,e.next=4,Object(l.select)(d.f);case 4:if((i=e.sent)&&Object(p.e)(i)){e.next=7;break}return e.abrupt("return");case 7:""!==(c=Object(E.isZhLanguage)()?r:a)&&(S.a.success({content:s("explorer.v3.permissiom_switch_success",c,o)}),Object(_.f)([p.c],!0));case 9:case"end":return e.stop()}},O)}function I(){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(l.all)([Object(l.fork)(b),Object(l.fork)(y)]);case 2:case"end":return e.stop()}},a)}}).call(this,R("2vAP"))},fHNB:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n("hMnB"),o=n.n(r),i=n("2ACu"),a=function(e){var t=window.htmlCollectEvent,n=(location.pathname.match(/\/([a-zA-Z0-9]+)$/)||[])[0],r=n?location.pathname.replace(n,"/:token"):location.pathname,a=(new Error).stack||"";n&&(a=a.replace(new RegExp(n,"g"),"/:token")),t&&t("client_action_reload",{path:r,stack:a,platform:window.__CURRENT_PLATFORM},!0),Object(i.default)("client_action_reload",{stack:a}),o.a.reload(e)}},fIXH:function(e,t,n){"use strict";n.d(t,"o",function(){return r}),n.d(t,"b",function(){return a}),n.d(t,"e",function(){return o}),n.d(t,"k",function(){return i}),n.d(t,"a",function(){return c}),n.d(t,"d",function(){return s}),n.d(t,"c",function(){return u}),n.d(t,"h",function(){return l}),n.d(t,"j",function(){return d}),n.d(t,"i",function(){return p}),n.d(t,"g",function(){return _}),n.d(t,"f",function(){return E}),n.d(t,"n",function(){return f}),n.d(t,"m",function(){return T}),n.d(t,"l",function(){return S});var r="x-command",a="api.doc.token",o="api.sheet.token",i="api.slide.token",c="api.bitable.token",s="api.mindnote.token",u="api.file.token",l=("".concat(a,".create_sheet"),"api.sheet.histories.token"),d="api.sheet.update_meta",p="api.sheet.parser.export",_="api.sheet.explorer.create",E="api.sheet.explorer.clone",f="api.v2.sheet.correct_formulas",T="api.v2.sheet.complement_formulas",S="api.v2.sheet.intellect_headers"},fQzm:function(e,t,n){"use strict";var r=n("o0o1"),u=n.n(r),a=n("yXPU"),o=n.n(a),i=n("hMnB"),c=n.n(i),s=n("lwsE"),l=n.n(s),d=n("W8MJ"),p=n.n(d),_=n("5pAJ"),E=n.n(_),f=n("1dfU"),T=E.a.createInstance({name:"moirae-forage-v2-".concat(window.User.id),driver:[E.a.INDEXEDDB]}),S=function(){for(var e=window.localStorage.length-1;0<=e;e--){var t=window.localStorage.key(e);t&&/moirae/gi.test(t)&&window.localStorage.removeItem(t)}},m=1e4,O=function(){function a(e){l()(this,a),this.inStack=[],this.outStack=[],this.outStack=e.slice(),this.outStack.sort(function(e,t){return a.getTimeStamp(t)-a.getTimeStamp(e)})}return p()(a,[{key:"index",value:function(e,t){var n=this.inStack,r=this.outStack,a=r.length;if(e<a){var o=a-e-1;return t&&(r[o]=t),r[o]}var i=e-a;return t&&(n[i]=t),n[i]}},{key:"length",value:function(){return this.inStack.length+this.outStack.length}},{key:"push",value:function(e){this.inStack.push(e);for(var t=this.length()-1;1<=t;t--){var n=this.index(t-1),r=this.index(t);if(!(a.getTimeStamp(n)>a.getTimeStamp(r)))break;this.index(t-1,r),this.index(t,n)}}},{key:"pop",value:function(){return this.outStack.length||(this.outStack=this.inStack.reverse(),this.inStack=[]),this.outStack.pop()}},{key:"map",value:function(e){for(var t=[],n=0;n<this.length();n++)t.push(e(this.index(n)));return t}},{key:"filter",value:function(e){return this.map(function(e){return e}).filter(e)}}],[{key:"getTimeStamp",value:function(e){return parseInt(e.split("-")[2],10)}},{key:"getToken",value:function(e){return e.split("-")[0]}}]),a}(),b=function e(t){var s=this;l()(this,e),this.userId="",this.sortedLogKeys=new O([]),this.isReady=!1,this.loadKeysInStore=o()(u.a.mark(function e(){var t;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.keys();case 2:if((t=e.sent).length>m)return s.sortedLogKeys=new O(t.concat(s.sortedLogKeys.map(function(e){return e}))),e.next=7,s.autoClearLogs();e.next=7;break;case 7:s.isReady=!0;case 8:case"end":return e.stop()}},e)})),this.saveLog=function(){var t=o()(u.a.mark(function e(t){var n,r,a,o,i,c;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(s.isReady){e.next=2;break}return e.abrupt("return");case 2:if(n=s.getToken(),r=Date.now(),a=s.getFileType(),o=window.Spread,i={eToken:n,timeStamp:r,fileType:a,timeStampStr:new Date(r).toLocaleString(),userId:s.userId,docToken:"doc"===a?n:"",sheetToken:o&&o.sync&&Object(f.a)(o.sync._token)||"",logs:t.params,scm:window.scm||{}},n&&0!==n.length){e.next=9;break}return e.abrupt("return");case 9:return c="".concat(n,"-").concat(t.level,"-").concat(r,"-").concat(s.sortedLogKeys.length()),s.sortedLogKeys.push(c),e.prev=11,e.next=14,T.setItem(c,i);case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(11),console.error(e.t0);case 19:return e.next=21,s.autoClearLogs();case 21:case"end":return e.stop()}},e,null,[[11,16]])}));return function(e){return t.apply(this,arguments)}}(),this.autoClearLogs=o()(u.a.mark(function e(){var t,n;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=s.sortedLogKeys;case 1:if(t.length()>m)return n=t.pop(),e.next=5,T.removeItem(n);e.next=7;break;case 5:e.next=1;break;case 7:case"end":return e.stop()}},e)})),this.collectLog=o()(u.a.mark(function e(){var t,n,r;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.getToken(),n=s.sortedLogKeys.filter(function(e){return O.getToken(e)===t}),r=[],e.next=5,s.iterKeys(n,function(){var t=o()(u.a.mark(function e(t){var n;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.getItem(t);case 2:n=e.sent,r.push(n);case 4:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}());case 5:return e.abrupt("return",r.reverse());case 6:case"end":return e.stop()}},e)})),this.removeLogs=function(){var t=o()(u.a.mark(function e(t){var n,r,a;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=s.sortedLogKeys,t){e.next=9;break}case 2:if(n.length())return r=n.pop(),e.next=6,T.removeItem(r);e.next=8;break;case 6:e.next=2;break;case 8:return e.abrupt("return");case 9:return e.next=11,s.iterKeys(t,function(){var t=o()(u.a.mark(function e(t){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.removeItem(t);case 2:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}());case 11:a=n.filter(function(e){return!t.includes(e)}),s.sortedLogKeys=new O(a);case 13:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}(),this.getFileType=function(){return"undefined"!=typeof location&&c.a.href?/\/sheets?\//gi.test(c.a.href)?"sheet":/\/docs?\//gi.test(c.a.href)?"doc":"unknown":"unknow"},this.getToken=function(){if("undefined"==typeof location||!c.a.pathname)return"";var e=c.a.pathname,t=e.substr(e.lastIndexOf("/")+1).split("#");return Object(f.a)(t[0])},this.iterKeys=function(){var n=o()(u.a.mark(function e(t,n){var r;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=0;case 1:if(r<t.length-1)return e.next=4,n(t[r]);e.next=7;break;case 4:r++,e.next=1;break;case 7:case"end":return e.stop()}},e)}));return function(e,t){return n.apply(this,arguments)}}(),this.userId=t,this.loadKeysInStore()};S();var y,h,v,I,C=n("RIqP"),R=n.n(C),g=n("hbEN");(h=y=y||{})[h.DEBUG=1]="DEBUG",h[h.INFO=2]="INFO",h[h.WARN=3]="WARN",h[h.ERROR=4]="ERROR",h[h.OFF=5]="OFF",(I=v=v||{})[I.DEBUG=1]="DEBUG",I[I.INFO=2]="INFO",I[I.WARN=3]="WARN",I[I.ERROR=4]="ERROR",I[I.OFF=5]="OFF",I[I.COUNT=6]="COUNT",I[I.TIME=7]="TIME",I[I.MEAN=8]="MEAN";var k=n("2ACu"),D=n("SebV"),j=n("kfiP"),L="_count_",w="_time_",N="_mean_",U=Object(j.a)().localhost;function P(e,t){U&&console.log(e,t)}var M=function(e){var t,n,r,a,o=e.level,i=["logger ".concat(name,":")].concat(R()(e.params));o===y.DEBUG?(t=console).debug.apply(t,R()(i)):o===y.INFO?(n=console).info.apply(n,R()(i)):o===y.WARN?(r=console).warn.apply(r,R()(i)):o===y.ERROR&&(a=console).error.apply(a,R()(i))},x=function(){function r(){var e=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"__DEFAULT__",n=1<arguments.length?arguments[1]:void 0;l()(this,r),this.debouncedTeaLog=Object(g.default)(function(){0<e.suspendedLogs.length&&e.reportSuspendedLogs()},1e3),this.name=t,this.cache=new Map,this.level=y.INFO,this.writeData=n||M,this.middlewares=[this.createLevelChecker(),this.createDataWritter()],this.suspendedLogs=[]}return p()(r,[{key:"setLevel",value:function(e){this.level=e}},{key:"setWriter",value:function(e){this.writeData=e}},{key:"use",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.middlewares=[this.createLevelChecker()].concat(t,[this.createDataWritter()])}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.invokeByLevel(v.DEBUG,y.DEBUG,t)}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.invokeByLevel(v.INFO,y.INFO,t)}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.invokeByLevel(v.WARN,y.WARN,t)}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.invokeByLevel(v.ERROR,y.ERROR,t)}},{key:"teaLog",value:function(e){for(var t=arguments.length,n=new Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e?(this.suspendedLogs.push(n),this.debouncedTeaLog()):(0<this.suspendedLogs.length&&this.reportSuspendedLogs(),n.forEach(function(e){e.key&&(P(e.key,e),Object(k.collectSuiteEvent)(e.key,e))}),this.info(n))}},{key:"reportSuspendedLogs",value:function(){this.suspendedLogs.forEach(function(e){e&&e.length&&e.forEach(function(e){e.key&&(P(e.key,e),Object(k.collectSuiteEvent)(e.key,e))})}),this.suspendedLogs=[]}},{key:"ravenCatch",value:function(e,t){try{var n=e.message||JSON.stringify(e);n=(n=(n=(n=n.replace(/session/gi,"sierra")).replace(/token/gi,"tangoOscar")).replace(/cookie/gi,"charlie")).replace(/ticket/gi,"tangoIndia"),console.error(e instanceof Error?e.stack:n),Object(D.a)(e,t),this.info({ex:n})}catch(e){return}}},{key:"count",value:function(e){var t=L+e,n=this.cache.get(t);if(void 0===n&&(n=0),"number"==typeof n){n++,this.cache.set(t,n);for(var r=arguments.length,a=new Array(1<r?r-1:0),o=1;o<r;o++)a[o-1]=arguments[o];this.invokeByLevel(v.COUNT,y.INFO,[e].concat(a,[n]))}else console.error("counter key: ".concat(e," is used by others."))}},{key:"clearCounter",value:function(e){var t=L+e;this.clearCache(t)}},{key:"mean",value:function(e){for(var t,n,r,a,o=arguments.length,i=new Array(1<o?o-1:0),c=1;c<o;c++)i[c-1]=arguments[c];i.length<1||"number"==typeof(t=i[0])&&(n=N+e,void 0===(r=this.cache.get(n))&&(r=[]),Array.isArray(r)?(r.push(t),a=r.reduce(function(e,t){return e+t},0),this.cache.set(n,r),this.invokeByLevel(v.MEAN,y.INFO,[e].concat(i,[a/r.length]))):console.error("mean key: ".concat(e," is used by others.")))}},{key:"clearMean",value:function(e){var t=N+e;this.clearCache(t)}},{key:"clearAllCache",value:function(){this.cache.clear()}},{key:"time",value:function(e){var t=Date.now(),n=w+e,r=this.cache.get(n);void 0===r?(r=t,this.cache.set(n,r)):console.error("timer key: ".concat(e," is used by others."))}},{key:"timeEnd",value:function(e){var t=Date.now(),n=w+e,r=this.cache.get(n);if(void 0!==r){r=t-r,this.cache.delete(n);for(var a=arguments.length,o=new Array(1<a?a-1:0),i=1;i<a;i++)o[i-1]=arguments[i];this.invokeByLevel(v.TIME,y.INFO,[e].concat(o,[r]))}else console.error("timer key: ".concat(e," is not defined."))}},{key:"clearCache",value:function(e){void 0!==this.cache.get(e)&&this.cache.delete(e)}},{key:"invokeByLevel",value:function(e,t,n){this.invoke(this.createContext(e,t,n||[]))}},{key:"createContext",value:function(e,t,n){return{method:e,name:this.name,level:t,params:n,logger:this}}},{key:"invoke",value:function(a){var o=this,i=0;(function n(r){return function(){var e,t;r===i&&(e=o.middlewares[i],t=n(++i),e&&e(a,t))}})(i)()}},{key:"createLevelChecker",value:function(){var n=this;return function(e,t){n.level>e.level||t()}}},{key:"createDataWritter",value:function(){var n=this;return function(e,t){n.writeData(e)}}}]),r}(),F=n("iP/4"),H=n("skFV");function B(e,t){try{t()}catch(e){console.error(e)}}function K(e,t){e.method!==v.MEAN&&e.method!==v.COUNT&&(F.a.isMobile||F.a.isLark||F.a.isFeed)||t()}function W(e,t){if(0,!Object(H.C)())return window.User&&window.User.showLog&&M(e);t()}var V,Y,Q=n("lSNA"),J=n.n(Q);function q(){return Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)}(Y=V=V||{})[Y.MEAN=0]="MEAN",Y[Y.SUM=1]="SUM";var z,X=n("VIFs");function Z(e){return e.reduce(function(e,t){return e+t},0)}function $(e){return e.reduce(function(e,t){return e+t},0)/e.length}var ee,te,ne=(z={},J()(z,V.SUM,Z),J()(z,V.MEAN,$),z),re=function(){function e(){l()(this,e),this.contexts={},this.contexts={}}return p()(e,[{key:"set",value:function(e){var t,n,r,a=e.key,o=e.tags,i=e.value,c=e.type,s=e.handler,u=e.pairs;i?(n=this.generateKeys(a,o),this.contexts[n]=this.contexts[n]||{type:c,key:a,tags:o,value:[],handler:s},(t=this.contexts[n].value).push.apply(t,R()(i))):u&&(r=q(),this.contexts[r]={type:c,tags:o,pairs:u})}},{key:"read",value:function(){var t=this;return Object.getOwnPropertyNames(this.contexts).map(function(e){return t.contexts[e]})}},{key:"clear",value:function(){this.contexts={}}},{key:"generateKeys",value:function(e,n){n=n||{};var t=Object.keys(n).sort().map(function(e){var t=n[e];return"".concat(e,":").concat(t)});return[e].concat(R()(t)).join("-")}}]),e}(),ae=function(){function t(e){var u=this;l()(this,t),this.uploadTimer=0,this.sending=!1,this.upload=function(){var e,t,n,r,a,o,i,c,s;u.sending?u.setUploadTimer(2e3):(u.sending=!0,e=u.storage,t=u.logType,n=u.header,0!==(r=e.read()).length?(a=r.map(function(e){var t,n={};e.value?(t=ne[e.handler],n.value=t?t(e.value):0,n.key=e.key||""):e.pairs&&(n.pairs=e.pairs),u.table&&(n.table=u.table);var r=Object.assign({type:e.type,ts:Math.round(Date.now()/1e3)},n);return e.tags&&(r.tags=e.tags),r}),o={data:JSON.stringify(a)},t&&(o.log_type=t),i={data:[o],header:n},c=u.getUrl(),(s=new XMLHttpRequest).open("POST",c,!0),s.setRequestHeader("Content-Type","application/json"),s.onreadystatechange=function(){4===s.readyState&&(200===s.status&&(e.clear(),u.onUpload&&u.onUpload()),u.sending=!1)},s.send(JSON.stringify(i))):u.sending=!1)},this.validKeyPrefix=e.validKeyPrefix||[],this.logType=e.logType||"",this.onUpload=e.onUpload,this.getUrl="string"==typeof e.url?function(){return e.url}:e.url,this.header=Object.assign({aid:"1161",channel_type:"metrics"},e.header||{}),this.storage=e.storage||new re,this.table=e.table}return p()(t,[{key:"setUploadTimer",value:function(e){Object(X.getDomainConfig)("metrics").open&&(e=e||5e3,window.clearTimeout(this.uploadTimer),this.uploadTimer=window.setTimeout(this.upload,e))}},{key:"setValueContext",value:function(e,t,n,r,a){var o;Object(X.getDomainConfig)("metrics").open&&(o=this.storage,this.validKeyPrefix.every(function(e){return-1===n.indexOf(e)})||o.set({key:n,tags:a,handler:t,type:e,value:[r]}))}},{key:"setPairsContext",value:function(e,t,n){Object(X.getDomainConfig)("metrics").open&&this.storage.set({tags:n,pairs:t,type:e})}},{key:"count",value:function(e,t){this.setValueContext("counter",V.SUM,e,1,t),this.setUploadTimer()}},{key:"mean",value:function(e,t,n){this.setValueContext("timer",V.MEAN,e,t,n),this.setUploadTimer()}},{key:"pair",value:function(e,t){this.setPairsContext("timer",e,t),this.setUploadTimer()}}]),t}(),oe=1,ie=0,ce=function(){function t(e){l()(this,t),this.metrics=e}return p()(t,[{key:"success",value:function(e,t,n){this.send(oe,e,t,n)}},{key:"fail",value:function(e,t,n){this.send(ie,e,t,n)}},{key:"send",value:function(e,t,n,r){try{var a=[{key:"latency",value:1},{key:"stable",value:e}];r=Object.assign({service:t,cmd:n},r),this.metrics.pair(a,r)}catch(e){console.error(e)}}}]),t}(),se=ae;n.d(t,"a",function(){return je}),n.d(t,"c",function(){return Le});var ue,le=Date.now().toString(),de=Object(X.getDomainConfig)("metrics"),pe=new se({url:function(){var e=window.User,t=(e?e.id:le).substr(0,11);return"https://".concat(de.domain,"/log/collect?aid=1161&device_id=").concat(t,"&rdn=").concat(Math.random())},logType:"docs_log",validKeyPrefix:["ee.docs.sheet","ee.docs.doc","ee.docs.bitable","ee.docs.mindnote"],onUpload:function(){te.clearAllCache()}}),_e=new ce(new se({url:"https://".concat(de.domain,"/log/collect"),table:"ee-http-sla",header:{device_id:((ue=window.User)&&ue.id?ue.id:le).substr(0,11)}})),Ee=function(){var e=window.User,t=e?e.id:"__DEFAULT__";ee=new b(t),(te=new x).use(B,W,K),te.setWriter(function(e){var t,n,r=e.params,a=e.method;a===v.MEAN?3<=r.length&&(Se(t=3<r.length?r[2]:{}),pe.mean(r[0],r[1],t)):a===v.COUNT&&2<=r.length&&(Se(n=2<r.length?r[1]:{}),pe.count(r[0],n))})};window.scm=window.scm||JSON.parse('{"version":"0.0.0.0000","type":"test","branch":"localhost"}');var fe=null,Te=function(){if(fe)return fe;if(window.scm){fe={version:"",branch:""};var e=window.scm;fe.branch=e.branch;var t=e.version.split(".");if(4!==t.length)return fe.version="",null;fe.version=t[3]||""}return fe};function Se(e){e=e||{},F.a.isMobile?e.platform="mobile":F.a.isLark?e.platform="lark":F.a.isFeed?e.platform="feed":e.platform="pc",e.scm=window.scm?(window.scm.version||"")+"-"+(window.scm.branch||""):"";var t=window.location.host,n="^(https?://)?".concat(t,"/(?:space/)?(docs?|sheets?|slides?|mindnotes?|bitable|base)/([a-zA-Z0-9]{22})/?")+"(\\?[;&a-zA-Z\\d%_.~+=-]*)?(\\#[-a-zA-Z\\d_]*)?$",r=new RegExp(n).exec(c.a.href);return!r||r.length<4||(e.type=r[2]),e}var me=!1,Oe=function(){te.debug.apply(te,arguments)},be=function(){te.info.apply(te,arguments)},ye=function(){te.warn.apply(te,arguments)},he=function(){te.error.apply(te,arguments)},ve=function(e){te.time(e)},Ie=function(e){for(var t=arguments.length,n=new Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];te.timeEnd.apply(te,[e].concat(n))},Ce=function(e){for(var t=Te(),n=arguments.length,r=new Array(1<n?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];t&&t.branch&&0<t.branch.length&&te.count.apply(te,["".concat(e,"-").concat(t.branch)].concat(r)),t&&t.version&&0<t.version.length&&te.count.apply(te,["".concat(e,"-").concat(t.version)].concat(r))},Re=function(e,t){for(var n=Te(),r=arguments.length,a=new Array(2<r?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];n&&n.branch&&0<n.branch.length&&te.mean.apply(te,["".concat(e,"-").concat(n.branch)].concat(a)),n&&n.version&&0<n.version.length&&te.mean.apply(te,["".concat(e,"-").concat(n.version)].concat(a))},ge=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];te.teaLog.apply(te,[me].concat(t))},Ae=function(e,t){te.ravenCatch(e,t)},ke=function(){me=!0},De=function(){me=!1,te.reportSuspendedLogs()},je=function(){var e=o()(u.a.mark(function e(){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ee.collectLog();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),Le=function(){var e=o()(u.a.mark(function e(){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ee.removeLogs();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),we={debug:Oe,info:be,warn:ye,error:he,time:ve,timeEnd:Ie,count:Ce,mean:Re,teaLog:ge,ravenCatch:Ae,slaFail:function(){var e;Object(X.isProductionDomain)()&&(e=Se(),_e.fail("bear_fe.http.all",e.type))},slaSuccess:function(){var e;Object(X.isProductionDomain)()&&(e=Se(),_e.success("bear_fe.http.all",e.type))},collectLog:je,removeLogs:Le,suspend:ke,resume:De};Ee();t.b=we;window.moirae=we},fco7:function(e,E,f){"use strict";(function(t){var e=f("lwsE"),n=f.n(e),r=f("W8MJ"),a=f.n(r),o=f("7EGn"),i=f("toa8"),c=f("jp/M"),s=f("AW8B"),u=f("kUgE"),l=f("iP/4"),d="TRANSLATE",p={supported_target_langs:["zh","en","ja","th"],langs:{zh:{name:t("common.language_name.zh"),desc:"简体中文",translation_preview:"你好，朋友"},en:{name:t("common.language_name.en"),desc:"English",translation_preview:"Hello Friend"},ja:{name:t("common.language_name.ja"),desc:"日本語",translation_preview:"こんにちは"},th:{name:t("common.language_name.th"),desc:"ไทย",translation_preview:"สวัสดีเพื่อน!"}}},_=new(function(){function e(){n()(this,e),this.setLangsConfig(p)}return a()(e,[{key:"init",value:function(){var e,t=this;Object(s.d)()?(e="".concat(c.apiUrls.GET_TRANSLATE_LANGS).concat(l.a.isOpendoc?"?req_lang="+Object(u.getLanguage)():""),Object(i.d)({url:e,method:c.apiUrls.METHOD.GET}).then(function(e){t.setLangsConfig(e.data)}).catch(function(e){console.log("get translate lang error",e)})):console.log("not support to get translate lang")}},{key:"getText",value:function(e){return Object(o.default)(this.langDetails,"".concat(e,".name"),t("common.language_name.other"))}},{key:"getDesc",value:function(e){return Object(o.default)(this.langDetails,"".concat(e,".desc"),t("common.language_name.other"))}},{key:"getPreview",value:function(e){return Object(o.default)(this.langDetails,"".concat(e,".translation_preview"),p.langs.en.translation_preview)}},{key:"getMenuType",value:function(e){return"".concat(d,"_").concat(e)}},{key:"setLangsConfig",value:function(e){var t=this,n=e.supported_target_langs,r=e.langs;!n||!r||n.length<1||(this.langs=n,this.langDetails=r,this.langOptions=this.langs.map(function(e){return{value:e,name:t.getText(e),visible:!0}}))}}]),e}());E.a=_}).call(this,f("2vAP"))},fjGk:function(e,T,S){"use strict";(function(e){S.d(T,"e",function(){return o}),S.d(T,"c",function(){return i}),S.d(T,"d",function(){return c}),S.d(T,"j",function(){return s}),S.d(T,"h",function(){return u}),S.d(T,"b",function(){return l}),S.d(T,"a",function(){return d}),S.d(T,"k",function(){return p}),S.d(T,"f",function(){return _}),S.d(T,"g",function(){return E}),S.d(T,"i",function(){return f});var t=S("q1tI"),n=S.n(t),r=S("CnBM"),a=S.n(r),o=a()({loader:function(){return S.e("nps").then(S.bind(null,"SQCn"))},loading:function(){return null}}),i=a()({loader:function(){return Promise.all([S.e(11),S.e("feel_good")]).then(S.bind(null,"IQ3O"))},loading:function(){return null}}),c=a()({loader:function(){return Promise.all([S.e("doc_index_css"),S.e("commons--bitable_utils_async--box_index--file-card--layout_delay--ui-control_modules"),S.e("commons--explorer_sidebar_tree--layout_delay--pc_space_route"),S.e("commons--anonymous_suite_header--layout_delay"),S.e("vendors--layout_delay"),S.e("layout_delay")]).then(S.bind(null,"lN4v"))},loading:function(){return null}}),s=a()({loader:function(){return Promise.all([S.e("doc_index_css"),S.e("commons--bitable_utils_async--box_index--file-card--layout_delay--ui-control_modules"),S.e("commons--explorer_sidebar_tree--layout_delay--pc_space_route"),S.e("commons--anonymous_suite_header--layout_delay"),S.e("vendors--layout_delay"),S.e("layout_delay")]).then(S.bind(null,"pYj7"))},loading:function(){return null}}),u=a()({loader:function(){return Promise.all([S.e("doc_index_css"),S.e("commons--bitable_utils_async--box_index--file-card--layout_delay--ui-control_modules"),S.e("commons--explorer_sidebar_tree--layout_delay--pc_space_route"),S.e("commons--anonymous_suite_header--layout_delay"),S.e("vendors--layout_delay"),S.e("layout_delay")]).then(S.bind(null,"V4on"))},loading:function(){return null}}),l=a()({loader:function(){return Promise.all([S.e("doc_index_css"),S.e("commons--bitable_utils_async--box_index--file-card--layout_delay--ui-control_modules"),S.e("commons--explorer_sidebar_tree--layout_delay--pc_space_route"),S.e("commons--anonymous_suite_header--layout_delay"),S.e("vendors--layout_delay"),S.e("layout_delay")]).then(S.bind(null,"72uE"))},loading:function(){return null}}),d=e?n.a.Component:a()({loader:function(){return Promise.all([S.e("doc_index_css"),S.e("chunk_adit"),S.e("commons--PCDocSheetBridge--bear-bitable-external--bear-external--bear-sheet-external--btn_groups--d--dba25785"),S.e("commons--PCDocSheetBridge--bear-bitable-external--bear-sheet-external--btn_groups--create-by-templa--5eb3c3ae"),S.e("commons--PCDocSheetBridge--btn_groups--sheet-template-preview--spread--template-spreadsheet--utils_store"),S.e("btn_groups")]).then(S.bind(null,"4SQj"))},loading:function(){return null}}),p=a()({loader:function(){return Promise.all([S.e("doc_index_css"),S.e("commons--bitable_utils_async--box_index--file-card--layout_delay--ui-control_modules"),S.e("commons--explorer_sidebar_tree--layout_delay--pc_space_route"),S.e("commons--anonymous_suite_header--layout_delay"),S.e("vendors--layout_delay"),S.e("layout_delay")]).then(S.bind(null,"TPZ+"))},loading:function(){return null}}),_=e?n.a.Component:a()({loader:function(){return Promise.all([S.e(10),S.e("commons--suite--suite_for_3rd"),S.e("vendors--suite"),S.e("suite")]).then(S.bind(null,"cYuk"))},loading:function(){return null}}),E=e?n.a.Component:a()({loader:function(){return Promise.all([S.e(10),S.e("commons--suite--suite_for_3rd"),S.e("vendors--suite"),S.e("suite")]).then(S.bind(null,"LgPl"))},loading:function(){return null}}),f=a()({loader:function(){return S.e("todo_center_wrapper").then(S.bind(null,"wfBx"))},loading:function(){return null}})}).call(this,S("kCIs"))},ftdE:function(e,t,n){"use strict";var r,a,o,i;n.d(t,"a",function(){return r}),n.d(t,"b",function(){return o}),(a=r=r||{}).EN="en",a.ZH="zh",a.JA="ja",a.TH="th",(i=o=o||{})[i.ORIGINAL=0]="ORIGINAL",i[i.TRANSLATION=1]="TRANSLATION"},fvxY:function(e,t,n){},g8ZB:function(e,t,n){"use strict";n.d(t,"a",function(){return c}),n.d(t,"b",function(){return u});var r=n("K9Ia"),a=n("S5bw"),o=n("AJqF"),i=new r.a;function c(e){return i.next(e)}var s=new a.a(1);i.pipe(Object(o.a)(1e3,void 0,{leading:!0,trailing:!0})).subscribe(s);var u=s.asObservable()},gMJz:function(e,t,n){"use strict";var r=n("hMnB"),s=n.n(r),a=n("jp/M"),u=n("iP/4"),l=n("VIFs"),o=n("q1tI"),d=n.n(o),p=n("mLw1"),i=n("2INN");function c(){var e=Object.keys(a.route.REDIRECT_FROM_PATH);return d.a.createElement(d.a.Fragment,null,e.map(function(e,t){return a.route.PATH[e]?d.a.createElement(i.a,{key:t,path:a.route.REDIRECT_FROM_PATH[e],strict:!0,exact:!0,render:function(e){var t=e.location,n=t.pathname,r=t.search,a=t.hash,o=Object(l.prependSpace)("".concat(n)),i="".concat(o).concat(r).concat(a),c=u.a.isFeed?i:s.a.origin+i;return d.a.createElement(p.a,{to:c})}}):null}))}n.d(t,"a",function(){return c})},gccH:function(e,t){e.exports=navigator.cdn_host+"/ccm/pc/web/resource/bear/public/icon_file_video_nor.371362de55d5ccb9df0b.ico"},h14u:function(e,t){e.exports=navigator.cdn_host+"/ccm/pc/web/resource/bear/public/icon_file_bitable_nor.1e36ffdf5bd56532deb2.ico"},hQ6Y:function(e,t,n){"use strict";var y=n("JaxG"),h=n("MUo5"),v=n("ZSG8"),I=n("vc5i"),s=n("5dbN"),r=n("iP/4"),u=n("jp/M"),C=n("SebV"),R=n("fQzm"),g=r.a.mobile;function a(e){var t=Object(s.isUnderFileListView)();return e.data.type===y.a.OBJ_PERMISSION_CHANGE&&!t}function o(e){var t,n=Object(y.e)(),r=n.getIOInstance,a=n.dispatch,o=n.getReduxState,i=n.getMsgData,c=r(),s=i(e),u=s.obj_type,l=s.operator_id,d=s.token,p=s.revision,_=s.ignore,E=o(),f=Object(I.n)(E),T=Object(I.f)(E).get("owner_id"),S=window.User.id===T,m=window.User.id===l,O=d===f,b={type:k(u),token:d};"number"==typeof p&&b.type?c.setHeartbeatVersion(b,j,p):(console.error("Revision or entity type is missing"),t=new Error("Revision or entity type is missing"),Object(C.a)(t,{extras:e}),R.b.error(t,e)),"1"!==_&&(!O||S||m||f&&u&&(g?a(Object(h.fetchUserPermissionOnSuite)(f,u,!0)):(a(Object(h.fetchUserPermissionOnSuite)(d,u,!0)),a(Object(v.d)(d,u)),a(Object(h.fetchSuitePublicPermission)(d,u)))))}function k(e){var t=u.common.mapTypeNumToFileType[e];return t?t.toUpperCase():""}var i={validator:a,handler:o};function c(e){return(0,Object(y.e)().getMsgData)(e).action===y.a.UNREGISTER_DEVICE}function l(e){(0,Object(y.e)().getIOInstance)().closeChannel()}var d={validator:c,handler:l},p=n("ZGZ5"),_=n("mszz"),E=n("VI6H"),f=r.a.mobile;function T(e){var t=Object(y.e)(),n=t.getMsgData,r=(0,t.getReduxState)(),a=n(e),o=a&&a.action,i=Object(s.isUnderFileListView)(),c=Object(_.a)("userPermissionOnSuite")(r);return o===y.a.PERMISSION_CHANGE&&!i&&c&&c.get("code")===u.error.STATUS_CODE.FORBIDDEN}function S(e){var t=Object(y.e)(),n=t.dispatch,r=t.getReduxState,a=(0,t.getMsgData)(e).payload,o=a.obj_type,i=a.operator_id,c=a.obj_token,s=r(),u=Object(p.a)(s),l=Object(I.n)(s);Object(E.t)(u,i)||c!==l||(f?n(Object(h.fetchUserPermissionOnSuite)(l,o,!0)):(n(Object(v.d)(c,o)),n(Object(h.fetchUserPermissionOnSuite)(c,o,!0))))}var m={validator:T,handler:S};function O(e){var t=Object(s.isUnderSuiteView)();return e.data.type===y.a.GROUP_CHANGE&&t}function b(e){var t=Object(y.e)(),n=t.dispatch,r=(0,t.getReduxState)(),a=Object(I.o)(r),o=Object(I.n)(r);n(Object(h.fetchUserPermissionOnSuite)(o,a,!0))}var D={validator:O,handler:b};n.d(t,"a",function(){return j}),n.d(t,"d",function(){return i}),n.d(t,"e",function(){return d}),n.d(t,"c",function(){return m}),n.d(t,"b",function(){return D});var j="obj_permission_channel"},hphf:function(e,t,n){"use strict";var r=n("bJ94");n.d(t,"a",function(){return r.a})},jG17:function(e,t,n){"use strict";n("hphf").a.afterUtilsDOM=Date.now()},jtRX:function(e,O,b){"use strict";(function(r){b.d(O,"a",function(){return S}),b.d(O,"b",function(){return m});var e=b("o0o1"),a=b.n(e),t=b("yXPU"),n=b.n(t),o=b("hbEN"),i=b("hMnB"),c=b.n(i),s=b("toa8"),u=b("n/R6"),l=b("9+L6"),d=b("iP/4"),p=b("VI6H"),_=b("kUgE"),E=function(){var e=n()(a.a.mark(function e(){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.d.get(l.d,{params:{locale:Object(_.getLocale)()},withCredentials:!0});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),f=function(){var e=n()(a.a.mark(function e(){var t,n;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(Object(p.x)())return S(),e.abrupt("return");e.next=3;break;case 3:return e.prev=3,e.next=6,E();case 6:t=e.sent,(n=t&&t.data&&t.data.link)&&n.startsWith("lark:")?c.a.href=n:n&&n.startsWith("http")?T(n):u.a.error({content:r("error.try_later")}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),u.a.error({content:r("common.network_error")});case 14:case"end":return e.stop()}},e,null,[[3,11]])}));return function(){return e.apply(this,arguments)}}(),T=function(e){try{if(d.a.isLarkWindow)return void window.open(e);var t=window.open("_blank");if(!t)throw new Error("Can`t open new Window!");t.location.href=e}catch(e){u.a.error({content:r("feedback.feedback_new_window_open_fail")})}},S=function(){var e=Object(_.getLocale)().toLowerCase().replace("-","_"),t="".concat(l.q,"?locale=").concat(e,"&product=docs");T(t)},m=Object(o.default)(f,300)}).call(this,b("2vAP"))},jzcD:function(e,t,n){"use strict";n.d(t,"b",function(){return a}),n.d(t,"c",function(){return o}),n.d(t,"e",function(){return i}),n.d(t,"a",function(){return c}),n.d(t,"d",function(){return s});var r=n("SLjs"),a=function(e){return e.appState.translate},o=function(e){var t=a(e);return t.config.src_lang===t.config.target_lang},i=function(e){return a(e).config.target_lang},c=function(e){var t=a(e);return{enableTranslate:t.status.comment_enable_translate,targetLang:t.config.target_lang,translateContentCompare:t.config.display_type===r.b.WITH_ORIGINAL}},s=function(e){return a(e).status}},kJZd:function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"a",function(){return a});var i=n("HA5h"),c=n("z+r6"),s={};function r(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:Date.now();s[e]={start:n,params:t}}function a(e,t){var n,r,a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:Date.now(),o=s[e];o&&((n=Object(c.b)(e,0)).start(o.start),r=Object(i.a)({},o.params,t),n.end(a),n.send(r,"cost_time"),delete s[e])}},kS6I:function(e,t,r){"use strict";var a,n,o,i,c,s=r("o0o1"),u=r.n(s),l=r("yXPU"),d=r.n(l);function p(){return _.apply(this,arguments)}function _(){return(_=d()(u.a.mark(function e(){var t,n;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([r.e("commons--PCDocSheetBridge--bear-bitable-external--bear-external--bear-sheet-external--btn_groups--d--dba25785"),r.e("vendors--doc_collector_security_audit"),r.e("doc_collector_security_audit")]).then(r.bind(null,"x6vj"));case 2:return t=e.sent,n=t.getSecurityAudit,a=n(),e.abrupt("return",a);case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}function E(){return a}function f(e){return T.apply(this,arguments)}function T(){return(T=d()(u.a.mark(function e(r){var a;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=E()){e.next=5;break}return e.next=4,p();case 4:a=e.sent;case 5:return e.abrupt("return",new Promise(function(t,n){a.checkAuthority({perm_type:r}).then(function(e){0===e.code?t(i.ALLOW):1===e.code?t(i.DENY):t(i.UNKNOW)}).catch(function(e){n(e)})}));case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}function S(e){var t=E();if(!t)return console.log("[lark-security-audit] security-audit is not inited!"),i.UNKNOW;try{var n=t.checkAuthoritySync({perm_type:e});return 0===n.code?i.ALLOW:1===n.code?i.DENY:i.UNKNOW}catch(e){return console.log(e),i.UNKNOW}}function m(e){return e!==i.DENY}function O(e){return S(e)!==i.DENY}r.d(t,"b",function(){return n}),r.d(t,"a",function(){return i}),r.d(t,"c",function(){return f}),r.d(t,"d",function(){return S}),r.d(t,"e",function(){return m}),r.d(t,"f",function(){return O}),r.d(t,"g",function(){return p}),(o=n=n||{})[o.PERMISSION_TYPE_UNKNOWN=0]="PERMISSION_TYPE_UNKNOWN",o[o.FILE_UPLOAD=1]="FILE_UPLOAD",o[o.FILE_IMPORT=2]="FILE_IMPORT",o[o.FILE_DOWNLOAD=3]="FILE_DOWNLOAD",o[o.FILE_EXPORT=4]="FILE_EXPORT",o[o.FILE_PRINT=5]="FILE_PRINT",o[o.FILE_APP_OPEN=6]="FILE_APP_OPEN",o[o.FILE_ACCESS_FOLDER=7]="FILE_ACCESS_FOLDER",o[o.FILE_READ=8]="FILE_READ",o[o.FILE_EDIT=9]="FILE_EDIT",o[o.FILE_COMMENT=10]="FILE_COMMENT",o[o.FILE_COPY=11]="FILE_COPY",o[o.FILE_DELETE=12]="FILE_DELETE",o[o.FILE_SHARE=13]="FILE_SHARE",o[o.SEARCH=14]="SEARCH",(c=i=i||{})[c.ALLOW=0]="ALLOW",c[c.DENY=1]="DENY",c[c.UNKNOW=2]="UNKNOW"},kVLC:function(e,t,n){"use strict";n.d(t,"c",function(){return p}),n.d(t,"a",function(){return _}),n.d(t,"b",function(){return r});var i=n("y94N"),c=n("jryj"),d=n("SebV"),p=function(e,t){return parseInt(getComputedStyle(e)[t],10)},_=function(e){var t=e.viewMode,n=e.containerDimension,r=e.fallbackSize,a=e.rowHeight;switch(t){case i.x.List:o=Math.ceil(n.height/(a||c.LIST_VIEW_DEFAULT_ROW_HEIGHT_V2));break;case i.x.NormalGrid:var o=Math.ceil(n.height/c.GRID_VIEW_DEFAULT_ROW_HEIGHT)*Math.floor(n.width/c.GRID_VIEW_MIN_WIDTH)}return void 0===o||o===1/0||Number.isNaN(o)||0===o?r:o},r=function(e){var t=e.wrapperRef,n=e.viewMode,r=e.fallbackSize,a=void 0===r?40:r,o=e.rowHeight;try{var i={width:p(t,"width"),height:window.innerHeight},c=_({viewMode:n,containerDimension:i,fallbackSize:a,rowHeight:o})}catch(e){var s=window,u=s.innerHeight,l=s.innerWidth;return Object(d.a)(new Error("getListFetchSize failed: using innerHeight"),{extras:{error:e,innerHeight:u,innerWidth:l,isWrapperExisted:void 0===t}}),a}return c}},kbm7:function(e,t){e.exports=navigator.cdn_host+"/ccm/pc/web/resource/bear/public/icon_file_android_nor.77f629251bf9ed3b160e.ico"},l8Om:function(e,T,S){"use strict";(function(a){S.d(T,"c",function(){return o}),S.d(T,"a",function(){return E});var o,e,t=S("lwsE"),i=S.n(t),n=S("W8MJ"),c=S.n(n),s=S("2ACu"),u=S("7EGn"),r=S("OX8E"),l=S("U6jp"),d=S("91RN"),p="@GLOBAL/visibilitychange";(e=o=o||{}).Visible="visible",e.Hidden="hidden";var _=function(){function r(e){var n=this;i()(this,r),this.useLarkDeprecatedEvent=!l.r&&a,this.handlePageVisible=function(){Object(s.default)("page_visibility_change",{visibility:o.Visible}),n._visibilityState=o.Visible,n.eventEmitterInstance.emit(p,o.Visible),Object(l.v)()},this.handlePageNotVisible=function(){Object(s.default)("page_visibility_change",{visibility:o.Hidden}),n._visibilityState=o.Hidden,n.eventEmitterInstance.emit(p,o.Hidden)},this.handleVisibilityChange=function(){var e=document.visibilityState;Object(s.default)("page_visibility_change",{visibility:e}),n._visibilityState=e,n.eventEmitterInstance.emit(p,e),"hidden"===e?d.a.onHidden():d.a.onVisible()},this.on=function(e){n.checkWatching();var t=Array.isArray(e)?e:[e];n.eventEmitterInstance.addListeners(p,t)},this.off=function(e){var t=Array.isArray(e)?e:[e];n.eventEmitterInstance.removeListeners(p,t)},this.eventEmitterInstance=e;var t=this.useLarkDeprecatedEvent?this.getStateFromLarkStatus():document.visibilityState;this._visibilityState=t}return c()(r,[{key:"getStateFromLarkStatus",value:function(){return"started"===Object(u.default)(window,"__APPLICATION__STATUS__")?o.Visible:o.Hidden}},{key:"watch",value:function(){this.useLarkDeprecatedEvent?(window.addEventListener("application-stop",this.handlePageNotVisible),window.addEventListener("application-start",this.handlePageVisible)):document.addEventListener("visibilitychange",this.handleVisibilityChange),this._isWatching=!0}},{key:"unwatch",value:function(){this.useLarkDeprecatedEvent?(window.removeEventListener("application-stop",this.handlePageNotVisible),window.removeEventListener("application-start",this.handlePageVisible)):document.removeEventListener("visibilitychange",this.handleVisibilityChange),this._isWatching=!1}},{key:"checkWatching",value:function(){if(!this._isWatching)throw Error("VisibilityWatcher was not initialized")}},{key:"isVisible",get:function(){return this._visibilityState===o.Visible}},{key:"isWatching",get:function(){return this._isWatching}}]),r}();_.channel=p;var E=function(t,n){return function(e){e===o.Hidden?n():e===o.Visible&&t()}},f=new _(r.a);T.b=f}).call(this,S("kCIs"))},"lK/R":function(e,t){e.exports=navigator.cdn_host+"/ccm/pc/web/resource/bear/public/icon_file_code_nor.e6fda7ca9477f6a2e048.ico"},lYFH:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=function(e){return e.appState.multiStageRender}},lZ5r:function(e,C,R){"use strict";(function(u){R.d(C,"a",function(){return h}),R.d(C,"e",function(){return i}),R.d(C,"c",function(){return s}),R.d(C,"b",function(){return v}),R.d(C,"d",function(){return I});var e,t,n,r,a=R("lSNA"),c=R.n(a),o=R("q1tI"),d=R("n/R6"),p=R("jp/M"),l=R("kUgE"),_=R("VI6H"),E=R("2ACu"),f=R("1dfU"),T=(e={},c()(e,p.error.PERMISSION_REQUEST_DENIED_DUE_TO_ADMIN_CONTROL,u("common.mention.no.notify.users")),c()(e,p.error.PERMISSION_REQUEST_DENIED_DUE_TO_BLOCKED,u("CreationDoc_ECM_BlockUnableShareToast")),c()(e,p.error.PERMISSION_REQUEST_DENIED_DUE_TO_BE_BLOCKED,u("CreationDoc_ECM_BlockedUnableShareToast")),c()(e,p.error.PERMISSION_REQUEST_DENIED_DUE_TO_PRIVACY_SETTING,u("CreationDoc_ECM_SettingInviteCollaboratorShareToast")),c()(e,p.error.PERMISSION_REQUEST_DENIED_DUE_TO_ERROR,u("permission.invite_member_fail")),c()(e,p.error.PERMISSION_REQUEST_DENIED_DUE_TO_LIMITED,u("CreationDoc_ECM_MaxShareInvitationContactsToast")),c()(e,p.error.PERMISSION_REQUEST_DENIED_DUE_TO_INVITEE_LIMITED,u("member.phonenumber_maxphonenumbershare_toast")),e),S=(t={},c()(t,p.error.PERMISSION_REQUEST_DENIED_DUE_TO_ADMIN_CONTROL,function(e){var t=e.blockedUserName;return u("permission.ask_owner_fail_for_shared_admin",t)}),c()(t,p.error.PERMISSION_REQUEST_DENIED_DUE_TO_BLOCKED,function(e){var t=e.ownerName,n=e.blockedUserName;return u("permission.ask_owner_fail_for_shared_active_block",t,n)}),c()(t,p.error.PERMISSION_REQUEST_DENIED_DUE_TO_BE_BLOCKED,function(e){var t=e.ownerName,n=e.blockedUserName;return u("permission.ask_owner_fail_for_shared_passive_block",n,t)}),c()(t,p.error.PERMISSION_REQUEST_DENIED_DUE_TO_PRIVACY_SETTING,function(e){var t=e.blockedUserName;return u("permission.ask_owner_fail_for_shared_privacy_settings",t)}),c()(t,p.error.PERMISSION_REQUEST_DENIED_DUE_TO_ERROR,u("permission.ask_owner_part_fail")),c()(t,p.error.PERMISSION_REQUEST_DENIED_DUE_TO_LIMITED,function(e){var t=e.ownerName,n=e.blockedUserName,r=e.limitNum;return u("permission.ask_owner_fail_for_shared_time_limit",t,n,r)}),t),m=(n={},c()(n,p.error.PERMISSION_REQUEST_DENIED_DUE_TO_ADMIN_CONTROL,function(e){var t=e.blockedUserName;return u("permission.send_link_fail_for_admin",t)}),c()(n,p.error.PERMISSION_REQUEST_DENIED_DUE_TO_BLOCKED,function(e){var t=e.blockedUserName;return u("permission.send_link_fail_for_active_block",t)}),c()(n,p.error.PERMISSION_REQUEST_DENIED_DUE_TO_BE_BLOCKED,function(e){var t=e.blockedUserName;return u("permission.send_link_fail_for_passive_block",t)}),c()(n,p.error.PERMISSION_REQUEST_DENIED_DUE_TO_PRIVACY_SETTING,function(e){var t=e.blockedUserName;return u("permission.send_link_fail_for_privacy_settings",t)}),c()(n,p.error.PERMISSION_REQUEST_DENIED_DUE_TO_ERROR,u("permission.send_link_part_fail")),c()(n,p.error.PERMISSION_REQUEST_DENIED_DUE_TO_LIMITED,function(e){var t=e.blockedUserName;return u("permission.send_link_fail_for_time_limit",t)}),n),O=(r={},c()(r,p.error.PERMISSION_REQUEST_DENIED_DUE_TO_ADMIN_CONTROL,"admin_control"),c()(r,p.error.PERMISSION_REQUEST_DENIED_DUE_TO_BLOCKED,"block"),c()(r,p.error.PERMISSION_REQUEST_DENIED_DUE_TO_BE_BLOCKED,"blocked"),c()(r,p.error.PERMISSION_REQUEST_DENIED_DUE_TO_PRIVACY_SETTING,"praivacy_setting"),c()(r,p.error.PERMISSION_REQUEST_DENIED_DUE_TO_LIMITED,"more_then_limited"),r);function b(e){var t=e.actionType,n=e.source;return[p.actionTypes.permission.BULK_SET_PERM_FAIL,p.actionTypes.permission.BULK_SET_EMBED_PERM_FAIL].includes(t)?n:"others"}function y(e){var t="en"===Object(l.getLanguage)()?",":"、";return e.map(function(e){return Object(_.q)(e)}).join(t)}function h(e,t){var n=y(t),r=e.split("${1}"),a=[];return r.forEach(function(e,t){a.push(e),t<r.length-1&&a.push(o.createElement("strong",null,n))}),o.createElement(o.Fragment,null,a)}function i(a){var o=a.userMap,i=a.blockUserMap,c=a.limitNum,s=a.ownerName,u=a.actionType,l=a.actionErrorCode;i&&Object.keys(i).forEach(function(e){var t,n,r=i[e].map(function(e){return o[e]});[p.actionTypes.permission.BULK_ASK_OWNER_FAIL,p.actionTypes.permission.BULK_SHARE_LINK_FAIL].includes(u)?(t=(t=(u===p.actionTypes.permission.BULK_ASK_OWNER_FAIL?S:m)[e])({blockedUserName:y(r),ownerName:s,limitNum:c}),d.a.info({content:t,duration:3e3})):u===p.actionTypes.permission.BULK_SET_PERM_FAIL&&Number(e)===p.error.PERMISSION_REQUEST_DENIED_DUE_TO_ERROR&&l&&Number(l)===p.error.PERMISSION_FAILED_FOR_EXTERNAL_ACCESS||(t=T[e],0!==r.length&&t&&((n=Number(e))===p.error.PERMISSION_REQUEST_DENIED_DUE_TO_LIMITED&&(t=t.replace("${2}",String(c))),(n===p.error.PERMISSION_REQUEST_DENIED_DUE_TO_ADMIN_CONTROL?d.a.info:d.a.error)({key:e,content:h(t,r),duration:3e3}),Object(E.default)("client_auth_error",{reason:O[n],location:b(a)})))})}var s=function(e){var t,n,r;e&&0!==e.length&&(t=u("common.mention.no.notify.users").split("${1}"),n="en"===Object(l.getLanguage)()?",":"、",""!==(r=e.map(function(e){return Object(_.q)(e)}).join(n))&&d.a.info({key:"common.mention.no.notify.users",content:o.createElement(o.Fragment,null,t[0],o.createElement("strong",null,r),t[1]),duration:3e3}))},v=function(e){var t,n,r,a,o=e.blockedUsers,i=e.notNotifyUsers,c=o&&0!==o.length,s=i&&0!==i.length;(c||s)&&(t=new Set,c&&o.forEach(function(e){t.add(Object(_.q)(e)),Object(E.default)("click_block_not_notification",{source:"content_mention",userid_block:Object(f.a)(e.id)})}),s&&i.forEach(function(e){t.add(Object(_.q)(e))}),n=Array.from(t).join("en"===Object(l.getLanguage)()?",":"、"),a=u("CreationDoc_ECM_NewContacts.BlockNotification.Toast").replace("{{operate}}",u("CreationDoc_ECM_NewContacts.BlockNotification.Mention")).replace("{{users}}",n),r=u(c&&!s?"CreationDoc_ECM_NewContacts.BlockNotification.BlockSetting":!c&&s?"CreationDoc_ECM_NewContacts.BlockNotification.AdminSetting":"CreationDoc_ECM_NewContacts.BlockNotification.AdminSettingAndBlockSetting"),a=a.replace("{{reason}}",r),d.a.remove("CreationDoc_ECM_NewContacts.BlockNotification"),d.a.show({key:"CreationDoc_ECM_NewContacts.BlockNotification",type:"success",content:a,duration:3e3,closable:!1}))},I=function(e,t){var n,r=t.ownerName,a=t.limitNum,o=(n={},c()(n,p.error.PERMISSION_REQUEST_DENIED_DUE_TO_ADMIN_CONTROL,u("permission.ask_owner_fail_for_admin",r)),c()(n,p.error.PERMISSION_REQUEST_DENIED_DUE_TO_ERROR,u("permission.ask_owner_part_fail")),c()(n,p.error.PERMISSION_REQUEST_DENIED_DUE_TO_BLOCKED,u("permission.ask_owner_fail_for_active_block",r)),c()(n,p.error.PERMISSION_REQUEST_DENIED_DUE_TO_BE_BLOCKED,u("permission.ask_owner_fail_for_passive_block",r)),c()(n,p.error.PERMISSION_REQUEST_DENIED_DUE_TO_PRIVACY_SETTING,u("permission.ask_owner_fail_for_privacy_settings")),c()(n,p.error.PERMISSION_REQUEST_DENIED_DUE_TO_LIMITED,u("permission.ask_owner_fail_for_time_limit",r,a)),n),i=u("common.mention.no.notify.users");o[e]&&(i=o[e]),(e===p.error.PERMISSION_REQUEST_DENIED_DUE_TO_ADMIN_CONTROL?d.a.info:d.a.error)({content:i,duration:3e3})}}).call(this,R("2vAP"))},lofo:function(e,t){e.exports=navigator.cdn_host+"/ccm/pc/web/resource/bear/public/icon_file_ps_nor.10ffb8324c4a45f9ea5f.ico"},m2Ce:function(e,y,h){"use strict";(function(r){h.d(y,"a",function(){return b});var e=h("lwsE"),t=h.n(e),n=h("W8MJ"),a=h.n(n),d=h("7EGn"),p=h("2ACu"),_=h("FnDM"),o=h("snzu"),i=h("GECF"),c=h("Lg1g"),s=h("EVj1"),u=h("U6jp"),l=h("iP/4"),E=i.a.getInstance();function f(e){var t=e.fn,n=e.args,r=e.eventName,a=void 0===r?"call_lark":r,o=e.eventOptions,i=void 0===o?{}:o,c=e.callback,s=E.isSupported;if(Object(p.default)(a,Object.assign({interactor:"lark",caller:Object(_.i)().module,interface_name:t,larkletAPI:s},i)),s)return c?E.postMessage({event:t,data:n}).then(function(e){c&&c(e)}):E.sendMessage({event:t,data:n}),!0;var u=Object(d.default)(window,"lark_to_bear_bridge.".concat(t));if(u){var l=u(n);return c&&c(l),!0}return!1}function T(e,t){E.isSupported&&(Object(p.default)("call_lark",{interactor:"lark",caller:Object(_.i)().module,interface_name:e,larkletAPI:!0}),E.sendMessage({event:e,data:t}))}function S(e,t){return E.isSupported?(Object(p.default)("call_lark",{interactor:"lark",caller:Object(_.i)().module,interface_name:e,larkletAPI:!0}),E.postMessage({event:e,data:t})):Promise.reject()}var m="";function O(){var e=/\/([\w]+)\/([\d\w]+)(?:\?|$)/.exec(location.href);if(e)return e[1]}var b=function(){function e(){t()(this,e),this.isNativeLark=!1}return a()(e,[{key:"toggleDoneInbox",value:function(){return T(c.a.toggleDoneInbox),Promise.resolve()}},{key:"openLarkImageViewer",value:function(e){var t=f({fn:c.a.openImgViewer,args:e});return Promise.resolve(t)}},{key:"updateDocFeedRemind",value:function(e){T(c.a.updateDocFeedRemind,e)}},{key:"updateFeedCardShortcut",value:function(e){return S(c.a.updateFeedCardShortcut,e)}},{key:"removeFeed",value:function(e){T(c.a.removeFeed,e)}},{key:"updateDocMsgBadge",value:function(e){T(c.a.updateDocMessageBadge,e)}},{key:"notifyAnnouncement",value:function(e){var t=Object(u.t)()?r("lark.group_announcement.community"):r("lark.group_announcement"),n=Object(d.default)(window,"bear_to_lark_bridge.docsInfo.chatId","")||Object(s.l)(location.search).chat_id;return n?S(c.a.groupAnnouncement,{chatId:n,title:t,url:e}):Promise.reject()}},{key:"getDocDraft",value:function(e){return S(c.a.getDocDraft,e)}},{key:"saveDocDraft",value:function(e){return S(c.a.saveDocDraft,e)}},{key:"deleteDocDraft",value:function(e,t){T(c.a.deleteDocDraft,{id:e,token:t})}},{key:"closeChatSidebar",value:function(){return l.a.isLKP?S(c.a.closeChatSidebar):(T(c.a.closeChatSidebar),Promise.resolve())}},{key:"updateMonitorStatus",value:function(e,t){if(l.a.isLark&&l.a.isFeed){var n={status:e,docsType:O(),reportId:m,timestamp:(new Date).valueOf(),session_id:o.a.session_id(),file_id:o.a.file_id()};if(t)for(var r in t)n[r]=t[r];Object(p.default)("docs_feed_process_bear",n),m&&T(c.a.updateMonitorStatus,n)}}},{key:"openShareDoc",value:function(e){return Promise.resolve()}},{key:"handleDocRead",value:function(e){return Promise.resolve()}},{key:"handleShareToChat",value:function(e){return Promise.resolve()}}],[{key:"getInstance",value:function(){return e.instance||(e.instance=new e),e.instance}}]),e}()}).call(this,h("2vAP"))},mNQo:function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return o});var r=n("AESI"),a=function(e){return"".concat(r.POST_RCE_MESSAGE,"?member_id=").concat(e.memberId)},o=function(){return r.FETCH_BLOCKS_SPREADSHEET_V2}},mfjQ:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n("7EGn"),s=n("2ACu"),u=/[0-9A-Za-z]{15,}/g,l={doc:"doc",docs:"doc",sheet:"sheet",sheets:"sheet",slide:"slide",slides:"slide",mindnote:"mindnote",mindnotes:"mindnote",bitable:"bitable",base:"bitable",file:"drive",wiki:"wiki"};function a(e){try{"img"===Object(r.default)(e,"target.nodeName","").toLowserCase()&&o(e)}catch(e){}}function o(e){var t=location,n=t.host,r=t.pathname,a=e.target,o=(a.dataset.src||a.src).replace(u,"$");try{var i=r.replace(/^\/(?:space|drive)/,"").match(/\/([^\/]+)/)[1],c=l[i]||"space"}catch(e){c="space"}Object(s.default)("client_img_load_err",{host:n,product:c,url_path:o})}function i(){window.addEventListener("error",a)}},mpK2:function(e,t,n){"use strict";n.d(t,"b",function(){return a}),n.d(t,"a",function(){return o}),n.d(t,"c",function(){return i});var r=n("R/2b");function a(e){return"number"==typeof e&&e>=r.d}function o(e,t){return Boolean(t[e])}function i(e,t,n){return!!o(e,n)&&(a(t)?n[e].numberStage>=t:n[e].simpleStageSet.has(t))}},musQ:function(e,t,n){"use strict";var r=n("D7h9"),a=n("0GMm"),o=6e4,i=2e3,c=null;function s(){return r.default.dispatch(Object(a.c)())}function u(){return r.default.dispatch(Object(a.a)())}function l(){return"visible"===document.visibilityState}function d(e){return!window.User||e.id===window.User.id}function p(){l()?s().finally(function(){c=setTimeout(p,o)}):c=null}function _(e){l()&&(null===c&&(c=setTimeout(p)),u().then(function(e){d(e.payload)}))}function E(e){"user_logout_at"===e.key&&setTimeout(s,i)}t.a=function(){c=setTimeout(p,o),document.addEventListener("visibilitychange",_),window.addEventListener("storage",E)}},my54:function(e,t){e.exports=navigator.cdn_host+"/ccm/pc/web/resource/bear/public/icon_file_numbers_nor.14bd668e634788acc781.ico"},myFJ:function(e,t,n){"use strict";var r=n("lwsE"),i=n.n(r),a=n("W8MJ"),c=n.n(a),o=n("a1gu"),s=n.n(o),u=n("Nsbk"),l=n.n(u),d=n("7W2i"),p=n.n(d),_=n("q1tI"),E=n.n(_),f=function(n,o){return function(a){return function(e){function t(){var e;return i()(this,t),(e=s()(this,l()(t).apply(this,arguments))).state={hasError:!1,error:void 0,info:{componentStack:""}},e}return p()(t,e),c()(t,[{key:"componentDidCatch",value:function(e,t){n&&n(e,{componentStack:t.componentStack,componentName:a.displayName||a.name||"App"}),this.setState({hasError:!0,error:e,info:t})}},{key:"componentWillUnmount",value:function(){this.setState({error:void 0})}},{key:"render",value:function(){var e=this.state,t=e.hasError,n=e.error,r=e.info;return t?o&&E.a.createElement(o,{error:n,info:r}):E.a.createElement(a,Object.assign({},this.props))}}]),t}(E.a.Component)}},T=n("vTLy"),S=n("2ACu"),m=n("SebV"),O=n("ywOK"),b=n("Ig2Q"),y=!0;function h(e){if("ChunkLoadError"===e.name)try{var t=e.message.match(/Loading chunk (\S+) failed.\n\((\w+):/);if(!t)return;var n="script",r=t[1],a=t[2],o={};window.__cdnErrorEntries__&&(o=window.__cdnErrorEntries__["".concat(n,"-").concat(r)]);var i=!1;window.__cdnErrorRetrySuccessEntries__&&(i=-1<window.__cdnErrorRetrySuccessEntries__.indexOf("".concat(n,"-").concat(r))),Object(S.default)("dev_loading_chunk_error",Object.assign({chunk_id:r,chunk_error_type:a},o,{error_domains:o.error_domains?o.error_domains.join(","):"",cdn_error_retry_success:i?1:0,is_first_captured_v2:y?1:0,networkStatus:navigator.onLine?"online":"offline"}))}catch(e){console.error("tryLogLoadChunkErrorDebugInfo",e)}}var v=function(e,t){var n=Object(b.b)(),r=Object(b.c)();Object(S.default)("client_react_component_error",{component_name:t.componentName,component_error_name:e.name,component_error_msg:e.message,component_error_stack:String(e.stack),component_error_info:t.componentStack,is_browser_supported:n?1:0,is_browser_and_version_supported:n&&r?1:0,is_first_captured_v2:y?1:0,networkStatus:navigator.onLine?"online":"offline"}),h(e),y=!1,Object(m.a)(e,{extras:t}),O.c.renderFail(O.a.REACT_COMPONENT_ERROR)};t.a=f(v,T.a)},"n/R6":function(e,t,n){"use strict";var r=n("q1tI"),a=n.n(r),o=n("i8i4"),i=n.n(o),c=n("Mb7c"),s=document.createElement("div");document.body.appendChild(s);var u=i.a.render(a.a.createElement(c.a,null),s);t.a={show:function(e){u.show(e)},info:function(e){u.show(Object.assign({},e,{type:"info"}))},success:function(e){u.show(Object.assign({},e,{type:"success"}))},update:function(e){u.update(e)},error:function(e){u.show(Object.assign({},e,{type:"error"}))},remove:function(e){u.remove(e)},removeAll:function(){u.removeAll()},destroy:function(){i.a.unmountComponentAtNode(s),document.body.removeChild(s)}}},n3ZB:function(e,t,n){"use strict";n.d(t,"i",function(){return u}),n.d(t,"j",function(){return l}),n.d(t,"d",function(){return p}),n.d(t,"b",function(){return _}),n.d(t,"f",function(){return E}),n.d(t,"c",function(){return f}),n.d(t,"e",function(){return T}),n.d(t,"a",function(){return S}),n.d(t,"h",function(){return m}),n.d(t,"g",function(){return O});var r=n("peh1"),o=n("G8Hj"),i=n("SGN9"),a=n("vc5i"),c=n("QM+C"),s=n("VI6H"),u=function(e){return e.appState.userGuide.get(o.DATA_FIELD.GUIDES)},l=function(e){return e.appState.userGuide.get(o.DATA_FIELD.PROFILE)},d=function(e){return e.appState.userGuide.get(o.DATA_FIELD.FIRSTLOGIN)},p=function(e){return 1604851200<d(e).get("doc")},_=function(e){var t=l(e),n=o.PROFILE_GROUP.CREATE_GUIDE_USER,r=o.PROFILE[n].create_file_num,a=o.PROFILE[n].view_others_file_num;return{createFileNum:Object(i.k)(t,n,r),viewOthersFileNum:Object(i.k)(t,n,a)}},E=function(e){return _(e).createFileNum<5},f=Object(r.createSelector)(a.q,_,function(e,t){var n=e===c.NUM_SUITE_TYPE.DOC,r=t.createFileNum,a=t.viewOthersFileNum;return n&&0===r&&0<=a&&!s.s}),T=function(e){var t=l(e),n=o.PROFILE_GROUP.USER,r=o.PROFILE[n].docs_acc_create_doc_count;return 5<=Object(i.k)(t,n,r)},S=function(t){return Object(r.createSelector)(u,function(e){return Boolean(Object(i.n)(e,t))})},m=function(e){var t=e.appState.userGuide.get(o.DATA_FIELD.PROPERTIES);return t&&t.get("register_from")},O=function(e,t){return e.getState().appState.userGuide.get("guides").get(t).get("is_done")}},nCBi:function(e,t,n){"use strict";n.d(t,"k",function(){return c}),n.d(t,"j",function(){return s}),n.d(t,"a",function(){return u}),n.d(t,"i",function(){return l}),n.d(t,"c",function(){return p}),n.d(t,"l",function(){return _}),n.d(t,"b",function(){return E}),n.d(t,"g",function(){return f}),n.d(t,"d",function(){return T}),n.d(t,"f",function(){return S}),n.d(t,"e",function(){return m}),n.d(t,"h",function(){return O});var o=n("I1f5"),r=n("vERi"),i=n("Mpt7"),a=n("/1FC"),c="advanced-search-owner__inner-input",s="advanced-search-chat__inner-input",u="lightweight-search-input__inner-input";function l(e){var t={};return e.obj_types===o.OBJ_TYPE.ALL?t.obj_types=o.OBJ_ALL.join(","):t.obj_types=e.obj_types,t}function d(e){switch(e){case o.FILTER.CURRENT_SEARCH_CHATS:return function(e){return new r.a(e)};case o.FILTER.CURRENT_SEARCH_USERS:return function(e){return new r.b(e)};case o.FILTER.CURRENT_SEARCH_WIKI_SPACE:return function(e){return new r.d(e)};case o.FILTER.CURRENT_SEARCH_FOLDER:return function(e){return new r.c(e)}}}function p(e){try{var t=localStorage.getItem(e)||"[]",n=JSON.parse(t),r=d(e);if(Array.isArray(n)){var a=n.map(function(e){return e.isChosen=!1,r(e)});return Object(i.List)(a)}throw new Error("".concat(e," in storage is not Array"))}catch(e){return console.error(e),Object(i.List)([])}}function _(e,t){var n=e.filter(function(e){return e.get("isChosen")});p(t).forEach(function(e){var t=e.getId();n.find(function(e){return(e.get("id")||e.getId())===t})||(n=n.push(e))});var r=t===o.FILTER.CURRENT_SEARCH_USERS?4:5,a=n.slice(0,r).toJS();localStorage.setItem(t,JSON.stringify(a))}function E(t,e){var n=p(e),r=n.findIndex(function(e){return e.getId()===t});-1!==r&&(n=n.splice(r,1)),localStorage.setItem(e,JSON.stringify(n.toJS()))}var f=function(e){return[e.space_name,e.space_id,e.wiki_token,e.wiki_url].every(function(e){return void 0!==e&&""!==e})},T=function(e){return Object(a.a)(e)?e.filter(f):[]},S=function(e){return[e.space_name,e.space_id,e.wiki_token,e.wiki_url].every(function(e){return void 0!==e})},m=function(e){var t=e.obj_type;if(!(e.type===o.OBJ_TYPE.WIKI))return!1;if(!(null!=t))return!1;var n=e.extra;return Boolean(n&&void 0!==n.wiki_subtype&&"number"==typeof n.wiki_subtype)},O=function(e){var t=e.extra;return Boolean(t&&"number"==typeof t.wiki_subtype&&"string"==typeof t.wiki_sub_token)}},"nO+V":function(e,t,ge){"use strict";ge.r(t),function(i){var e=ge("cDf5"),n=ge.n(e),t=ge("J4zp"),u=ge.n(t),r=(ge("r//D"),ge("bJ94")),a=(ge("X+1D"),ge("fvxY"),ge("7/CL"),ge("Cdu+"),ge("+P05"),ge("7QI+"),ge("/z8v"),ge("BMrA"),ge("vE74")),o=(ge("jG17"),ge("i8i4")),c=ge.n(o),s=ge("q1tI"),l=ge.n(s),d=ge("6QiX"),p=(ge("R6YR"),ge("ucr6")),_=ge("I9fj"),E=ge("2ACu"),f=ge("f7jX"),T=(ge("yW2L"),ge("0qwg")),S=ge("lG83"),m=ge("iP/4"),O=ge("9QuE"),b=ge("kUgE"),y=ge("mfjQ"),h=ge("EVj1"),v=ge("Wxh2"),I=ge("Wgtu"),C=ge("5pkL"),R=ge("VI6H"),g=ge("rLED"),k=ge("1dfU"),D=ge("GIL9"),j=ge("dDhe"),L=ge("rxZW"),w=ge("DBlQ"),N=ge("BGhw"),U=ge("DLuH"),P=ge("kJZd"),M=ge("skFV"),x=ge("VIFs"),F=ge("U6jp"),H=ge("LghI"),B=ge("6jTl"),K=ge("wWCe"),W=ge("e2rD"),V=ge("0Gu0"),Y=ge("WtXJ"),Q=ge("QM+C"),J=ge("sOaF"),q=(ge("qCC3"),ge("lQZd")),z=ge("521f"),X=ge("v+SY"),Z=(ge("H+Hj"),ge("ywOK")),$=ge("95pV"),ee=ge("kcBB"),te=ge("MNrK"),ne=ge("GvJQ"),re=(ge("v8K9"),ge("SebV")),ae=ge("c/bE"),oe=ge("CIP7"),ie=ge("NnqK"),ce=ge("sDqb"),se=ge("DmNz"),ue=ge("toa8"),le=ge("A2D6"),de=ge("jp/M");Object(g.k)()&&Object(ce.a)(["ant-tree-node-content-wrapper","ant-tree-switcher","fix-ipad-hover-click"]);var pe=R.s&&Object(M.x)()&&Object(M.u)();function _e(){pe&&Object(ue.d)({url:de.apiUrls.GET_USER_ENV,method:de.apiUrls.METHOD.GET}).then(function(e){for(var t=e&&e.data&&e.data.env,n=t.split(","),r="",a=0;a<n.length;a++){var o=n[a].split("="),i=u()(o,2),c=i[0],s=i[1];if("pre"===c){r=s;break}}Object(M.q)()!==r&&Object(le.c)("env",t)}).catch(function(e){console.log(e)})}m.a.isOpendoc||_e(),window.isFastSpaceTemplate&&window.addEventListener("s300-skeleton-finished",function(){function e(e){var t=window.performance.getEntriesByName(e)[0];return t&&t.startTime}window.performance&&Object(E.default)("s300_performance",{i18nLoaded:e("i18nLoaded"),skeletonShow:e("skeletonShow"),removeSkeletonTimeout:e("removeSkeletonTimeout"),skeletonWithCacheShow:e("skeletonWithCacheShow"),skeletonHeaderRemove:e("skeletonHeaderRemove"),skeletonSidebarRemove:e("skeletonSidebarRemove"),skeletonContentRemove:e("skeletonContentRemove")})},{once:!0}),window.addEventListener("popstate",function(){B.a.destroyAll()}),Object(oe.c)()&&!m.a.isOpendoc&&ae.a.init(),!Object(se.d)()&&navigator.serviceWorker&&navigator.serviceWorker.getRegistration&&navigator.serviceWorker.getRegistration().then(function(e){e?e.unregister():caches.keys().then(function(e){e.map(function(e){return caches.delete(e)})})}),window.encryptTea=k.a,Object(ie.a)();try{window.localStorage.setItem("userUniqueId",Object(k.a)(window.User.suid))}catch(e){}Object(b.bodyAddLanguage)(),Object(b.setLanguage)(),Object(se.c)(),Object($.b)(),Object(te.a)(),Object(ne.a)(),Object(ee.b)()&&_.a.registerRecord("jsError",{client_raven_error:0,client_file_open:0});var Ee=Object(x.getDomainConfig)("tea");E.collector.init({appId:Object(ee.b)()?2774:Object(R.x)()?Ee.config.appId.single_product:Ee.config.appId.doc,appName:Object(R.x)()?"feishu_docs":"docs",userId:Object(k.a)(window.User.suid),sz:window.User.sz,osName:m.a.osname,osVersion:(m.a.osversion||0).toString(),browser:m.a.name,browserVersion:m.a.version,debug:!Object(ee.b)()&&!Object(M.C)(),browserKernel:m.a.kernel,tenantId:Object(k.a)(window.User.tenantId),departmentId:window.User.departmentId}),Object(S.a)(),i||Object(S.m)({platform:m.a.isOpendoc?"opendoc":"pc",from:"url"}),Object(S.e)({source:"url"}),K.b.init(),Object(S.h)("pc"),Object(S.b)();var fe=Object(h.i)("source_type")||"";Object(S.d)(window.location.href),Object(S.f)({new_source:fe}),Object(y.a)();var Te,Se,me=performance.timing.navigationStart;z.b.init(),z.b.renderDocAllStart(me),Z.c.init(),Z.c.renderStart(me),X.a.init(),window.Slardar&&"function"==typeof window.Slardar&&(Te=[4],window.addEventListener("unhandledrejection",function(e){var t=e.reason;t.code&&-1!==Te.indexOf(t.code)||(t instanceof Error||"object"!==n()(t)||(t=JSON.stringify(t)),64e3<new Blob([t]).size&&(t=t.slice(0,1e4)),Object(re.a)(t))}),(Se=Object(q.g)())&&window.Slardar("Sentry",function(e){e.configureScope(function(e){e.setTag("eToken",Object(k.a)(Se))})}),window.Slardar("Sentry",function(e){e.configureScope(function(e){e.addEventProcessor(function(e){return e.request&&e.request.url&&(e.request.url=""),e.culprit="",Object(v.a)(e),e=Object(I.a)(e)})})})),document.documentElement.className.match("gr__")&&Object(E.default)("browsers_plugin_detection",{plugin_type:"Grammarly"}),window.addEventListener("online",function(){f.c.addRecord()}),window.addEventListener("offline",function(){f.c.setOfflineTime()}),window.App={utils:{sub:U.c,pub:U.b,unsub:U.d},openDocFromFolder:{}},Object(N.b)(),Object(w.a)();var Oe=document.getElementById("actual"===window.SSRResult?"innerdocbodyWrap":"mainBox");Object(O.a)(d.a);var be=Object(M.A)()?Object(p.b)(p.a,{beforePush:function(e){return Object(x.generateDomainLocation)(e)},afterPush:function(e){e.from;var t,n,r,a,o=e.to;Q.isAnonymousAccess||i||o.domain===location.hostname||!o.pathname||(t=o.domain,n=o.pathname,r=o.search,a=o.hash,window.location.replace("https://".concat(t).concat(n).concat(r).concat(a)))}}):p.a,ye=function(t){return new Promise(function(e){Object(P.b)(V.DOC_RENDER),Object(P.b)(V.SHEET_DID_RENDER),r.a.beforeAppRender=Date.now(),c.a.render(l.a.createElement(t,{store:d.a,history:be}),Oe,function(){e(void 0)}),r.a.afterAppRender=Date.now()})},he=function(){var e=c.a.unmountComponentAtNode(Oe);window.dispatchEvent(Object(a.b)("clear")),console.log("ReactDOMs unmount status:".concat(e))};function ve(){window.clear=he,window.render=function(e){p.a.push(e),Promise.all([ge.e("doc_index_css"),ge.e("chunk_adit"),ge.e(10),ge.e(12),ge.e(14)]).then(ge.bind(null,"cUE/")).then(function(e){var t=e.default;Object(Y.b)().then(function(){ye(t)})})},window.replace=function(e){p.a.replace(e),Promise.all([ge.e("doc_index_css"),ge.e("chunk_adit"),ge.e(10),ge.e(12),ge.e(14)]).then(ge.bind(null,"cUE/")).then(function(e){var t=e.default;Object(Y.b)().then(function(){ye(t)})})}}function Ie(n){window.clear=he,window.render=function(e){p.a.push(e);var t=n();ye(t),window.dispatchEvent(Object(a.b)("render"))},window.replace=function(e){p.a.replace(e);var t=n();ye(t)}}function Ce(){return ge.e("vcsdk").then(ge.bind(null,"k2k2"))}function Re(t){Ce().then(function(e){(0,e.init)(function(e){return he(),p.a.push(e),ye(t).then(function(){return window.dispatchEvent(Object(a.b)("render"))}).catch(function(){return window.location.href=e})})})}Object(D.a)()?Promise.all([ge.e("doc_index_css"),ge.e("chunk_adit"),ge.e(10),ge.e(12),ge.e(14)]).then(ge.bind(null,"cUE/")).then(function(e){var t=e.default;Object(Y.b)().then(function(){ye(t)}),ve()}):Object(j.c)()?Promise.all([ge.e("doc_index_css"),ge.e("chunk_adit"),ge.e(36),ge.e(42)]).then(ge.bind(null,"B3A6")).then(function(e){var t=e.default;ye(t()),Ie(t)}):Object(L.b)()||(i?(Oe.addEventListener("keydown",function(e){Object(T.b)(e)||Object(H.b)(e)}),window.rerender=function(){ye(J.a)},Object(Y.b)().then(function(){ye(J.a)})):m.a.isInVC?Promise.all([Object(Y.b)(),Ce()]).then(function(){Re(J.a),ye(J.a)}):m.a.isOpendoc?Promise.all([Object(Y.b)(),Object(C.a)()]).then(function(){W.a.collectStartRender(),ye(J.a)}):Object(Y.b)().then(function(){return ye(J.a)})),window.addEventListener("beforeunload",function(){Z.c.handleBeforeUnload()}),Object(Y.e)()||Object(Y.a)().length||Object(Y.b)({loadModule:!0}),F.s&&(document.oncontextmenu=function(){return!F.s})}.call(this,ge("kCIs"))},nYlk:function(e,t,n){"use strict";n.d(t,"c",function(){return a}),n.d(t,"f",function(){return o}),n.d(t,"e",function(){return i}),n.d(t,"h",function(){return c}),n.d(t,"g",function(){return s}),n.d(t,"j",function(){return u}),n.d(t,"b",function(){return l}),n.d(t,"k",function(){return d}),n.d(t,"q",function(){return p}),n.d(t,"a",function(){return _}),n.d(t,"i",function(){return E}),n.d(t,"m",function(){return f}),n.d(t,"o",function(){return T}),n.d(t,"n",function(){return S}),n.d(t,"p",function(){return m}),n.d(t,"d",function(){return O}),n.d(t,"l",function(){return b});var r=n("O7eI"),a=function(){return{type:r.a.onboarding.FETCH_LATEST_GUIDE}},o=function(){return{type:r.a.onboarding.HOME_GUIDE_PREPARE}},i=function(){return{type:r.a.onboarding.CREATE_DOC_GUIDE_PREPARE}},c=function(e){return{type:r.a.onboarding.CREATE_DOC_GUIDE_READY,payload:{on:e}}},s=function(){return{type:r.a.onboarding.SHARED_DOC_GUIDE_PREPARE}},u=function(e){return{type:r.a.onboarding.SHARED_DOC_GUIDE_READY,payload:{on:e}}},l=function(){return{type:r.a.onboarding.UNDO_REDO_GUIDE_CHECK_STATE}},d=function(){return{type:r.a.onboarding.UNDO_REDO_GUIDE_SET_ON}},p=function(){return{type:r.a.onboarding.UNUSED_DOC_FEATURE_CHECK}},_=function(){return{type:r.a.onboarding.CANCEL_UNUSED_DOC_FEATURE_GUIDE}},E=function(e){return{type:r.a.onboarding.SET_SPACE_TUTORIAL_CREATE_MENU_VISIBLE,payload:{visible:e}}},f=function(e,t){return{type:r.a.onboarding.SPACE_TUTORIAL_IMPORT_CENTER,payload:{isOnboarding:e,isAcknowledge:t}}},T=function(e,t){return{type:r.a.onboarding.SPACE_TUTORIAL_SHARE_FOLDER,payload:{isOnboarding:e,isAcknowledge:t}}},S=function(e){return{type:r.a.onboarding.SPACE_TUTORIAL_NEW_DOC,payload:{isOnboarding:e}}},m=function(){return{type:r.a.onboarding.SPACE_TUTORIAL_SHOW_SHARE_FOLDER}},O=function(e){return{type:r.a.onboarding.INIT_PREFERENCE_OPTIONS,payload:e}},b=function(e){return{type:r.a.onboarding.TOGGLE_PREFERENCE_OPTION,payload:e}}},oKwh:function(e,t,n){"use strict";n.d(t,"a",function(){return E});var r=n("Nwst"),a=n("IzLi"),o=n("K9Ia"),i=n("DaYz"),c=n("Gi3i"),s=n("VnD/"),u=n("2ACu"),l=n("SebV");function d(e){try{var n=new WeakSet;return JSON.stringify(e,function(e,t){return Object(a.a)(t)?n.has(t)?"[Circular]":(n.add(t),Object(r.a)(t)?t.message:t):t})}catch(e){return Object(l.a)(e),"error during safeJSONStringify"}}var p=1e3,_=new o.a;function E(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];window.User.showLimiterLog&&(e=console).log.apply(e,["[limiter]"].concat(n)),_.next(n)}_.pipe(Object(i.a)(_.pipe(Object(c.a)(p))),Object(s.a)(function(e){return 0<e.length})).subscribe(function(e){var t=1===e.length?e[0]:e;Object(u.default)("limit_edit_mode_quantity",{args:JSON.parse(d(t)),__disable_storage__:1})})},oaVD:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r={SIDEBAR_RENDER_SUCCESS:1,SEARCHBAR_RENDER_SUCCESS:2,CONTACT_US_BTN_RENDER_SUCCESS:3,USER_SETTINGS_BTN_SUCCESS:4,FESTIVAL_BANNER_RENDER_SUCCESS:5,PIN_FILES_SUCCESS:6,RECENT_FILES_SUCCESS:7}},oqjh:function(e,a,E){"use strict";(function(o){E.d(a,"c",function(){return t}),E.d(a,"a",function(){return n}),E.d(a,"b",function(){return r});var e=E("hMnB"),i=E.n(e),u=E("2ACu"),l=E("IzLi"),d=E("gSGL"),c=E("7EGn"),p=E("6gXO"),_=E("jp/M"),s=E("m3ds"),t=function(e){var t=e.url,n=e.data;if(performance.getEntriesByType&&t.startsWith("/api/")){var r=performance.getEntriesByType("resource").filter(function(e){return e.name.includes(t)});if(r&&r.length){if(t.includes("?")&&(t=t.substr(0,t.lastIndexOf("?"))),(t.startsWith("/api/sheet/")||t.startsWith("/api/doc/")||t.startsWith("/api/bitable/")||t.startsWith("/api/suite/")||t.startsWith("/api/parser/import/")||t.startsWith("/api/parser/larkimport/"))&&t.endsWith("/"))t=t.substr(0,t.lastIndexOf("/",t.lastIndexOf("/")-1)+1);else if(t.startsWith("/api/sheet/histories/")||t.startsWith("/api/sheet/cs_range/"))t=t.substr(0,t.lastIndexOf("/")+1);else if(/\/api\/bitable\/\w+\/version\//.test(t))t="/api/bitable/version/";else if(!p.a.includes(t))return;var a,o=r[r.length-1],i=(i=o.secureConnectionStart)||o.connectEnd,c="";t==="".concat(_.apiUrls.POST_RCE_MESSAGE)&&n&&(a=n.data,Object(l.a)(a)&&"type"in a?c="/"+a.type:Object(d.a)(a)&&(c="/"+((a=JSON.parse(a))&&a.data&&a.data.type)));var s={url:t+c,stalled_queueing_time:Math.round(100*(o.requestStart-o.connectEnd))/100,dns_lookup_time:Math.round(100*(o.domainLookupEnd-o.domainLookupStart))/100,initial_connection_time:Math.round(100*(i-o.connectStart))/100,ssl_connect_time:Math.round(100*(o.connectEnd-i))/100,waiting_time:Math.round(100*(o.responseStart-o.requestStart))/100,content_download_time:Math.round(100*(o.responseEnd-o.responseStart))/100,api_duration:Math.round(100*o.duration)/100,request_id:n.request_id,code:n.code};Object(u.collectSuiteEvent)("client_performance_api_url",s)}}},n=function(){var a=1,o=0,i=0;return{setIsSsd:function(){a=0},setLoadStartTime:function(){o=+new Date},getLoadStartTime:function(){return o},setBlockCount:function(e){if(i=0,e)for(var t=e.sheets||{},n=0,r=Object.values(t);n<r.length;n++){var a=r[n].blocks||[];i+=a.length}},collectData:function(e,t){var n,r;e.getActiveSheet()&&(n=o,a&&!(n=performance.timing.navigationStart)||(r={time_cost:+new Date-n,is_ssd:a,block_count:i},Object(u.collectSuiteEvent)(t,r)))}}}(),r=function(e){if(window.performance&&window.performance.mark&&!Object(c.default)(window,"__DOCS_PERF_FLAG_MAP__.firstReady")){window.__DOCS_PERF_FLAG_MAP__.firstReady=!0;var t="perf_".concat(e.moduleName,"_first_ready"),n="perf_".concat(e.moduleName,"_ready");performance.mark(n),performance.measure(t,_.performance.HTML_LOADED,n);var r=performance.getEntriesByName(t)[0],a="web";if(o?a="file:"===location.protocol?"spacetab_offline":"spacetab_online":s.a.isLarkWindow?a="lark_window":s.a.isFeed&&(a="lark_feed"),Object(u.collectSuiteEvent)(t,Object.assign({startTime:r.startTime,duration:r.duration,name:r.name},e.params,{isStaging:i.a.href.includes("staging"),source:a})),console.log(t,r.duration/1e3),e.callback&&"function"==typeof e.callback)try{e.callback(r)}catch(e){console.error(e)}}}}).call(this,E("kCIs"))},p5D6:function(e,t,n){"use strict";function r(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"";(new Image).src=e}n.d(t,"a",function(){return r})},pjgz:function(e,t){e.exports=navigator.cdn_host+"/ccm/pc/web/resource/bear/public/icon_file_zip_nor.59a1c48836b966eb7601.ico"},puJD:function(e,t,n){"use strict";n.d(t,"a",function(){return r});n("vRGJ");function r(e){return e.replace(/(^\/)|(\/$)/g,"").replace(/\//g,".")}},q8Sm:function(e,t,n){"use strict";function r(){if(!window.performance.getEntriesByType)return null;var e=window.performance.getEntriesByType("resource"),t=window.performance.timing.navigationStart,n=l(e,"app"),r=l(e,"merge_app--business_tools_chunk"),a=l(e,"merge_app--framework_chunk");if(!n&&!r&&!a)return null;var o=Math.min(s(r),s(a)),i=Math.min(s(n),o),c=Math.max(u(n),Math.max(u(r),u(a)));function s(e){return e?e.startTime:1/0}function u(e){return e?e.startTime+e.duration:0}return{startTime:Math.round(t+i),endTime:Math.round(t+c)}}function a(){if(!window.performance.getEntriesByType)return null;var e=window.performance.getEntriesByType("resource"),t=window.performance.timing.navigationStart,n=l(e,"doc_index");return n?{startTime:Math.round(t+n.startTime),endTime:Math.round(t+n.startTime+n.duration)}:null}function l(e,t){return e.find(function(e){return e.name.includes("/resource/bear/js/".concat(t,"."))||e.name.endsWith("/js/".concat(t,".[dev].js"))})}n.d(t,"b",function(){return r}),n.d(t,"c",function(){return a}),n.d(t,"a",function(){return l})},qCC3:function(e,t,n){"use strict";n("hphf").a.afterApp=Date.now()},qD9r:function(e,g,k){"use strict";(function(n){k.d(g,"a",function(){return C});var e=k("QILm"),T=k.n(e),t=k("vYB2"),S=k.n(t),m=k("oaNE"),a=k("7EGn"),r=k("fujP"),o=k("6LIB"),O=k("7bO/"),b=k("H402"),i=k("Y3ee"),c=k("6jTl"),s=k("2ACu"),u=k("wWso"),l=k("s+vT"),d=k("puJD"),p=k("EVj1"),_=k("nN3d"),E=k("fHNB"),f=k("w29E");function y(e){var t=Object(a.default)(window,"User.minaConfig");return Object(r.default)(t)?null:e?t[e]:t}function h(){var e=y("request_meltdown_config");return console.log(e),Object(o.a)(e)?e:{}}function v(e){c.a.show({title:n("error.internal_error_please_refresh"),body:n("error.request_overload"),confirmText:n("common.refresh"),hasCancel:!1,closable:!1,maskClosable:!1,onConfirm:function(){return Object(E.a)()}});var t=Object(f.a)(e);Object(s.default)("request_meltdown",{top_path:t[0].url,top_path_count:t[0].count,top5_path:t.map(function(e){return"".concat(e.url,":").concat(e.count)}).join(";")})}var I=Object(i.a)(Object.assign({},h(),{onLimit:v}));function C(E,f){var r=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"request",n=S.a.CancelToken.source(),r=t=Object(m.a)({},f,{cancelToken:n.token},R(t)),a=r.url,o=T()(r,["url"]);if(window["__REQUEST_CACHE__".concat(a)]){var i=window["__REQUEST_CACHE__".concat(a)],c=i.code,s=i.data,u=i.msg;return window["__REQUEST_CACHE__".concat(a)]=void 0,Promise.resolve({code:c,data:s,message:u,meta:{durationTime:0}})}switch(e){case"request":p=E.request(t);break;case"post":var l=o.data,d=T()(o,["data"]),p=E.post(a,l,d);break;default:p=E[e](a,o)}function _(){return n.cancel("RequestCancelledByUser")}return(p=p.then(function(e){return e},function(e){return Object(b.b)(e,t)})).abort=_,p[O.CANCEL]=_,p.apiType=t.apiType,p};return Object(u.a)()&&(r=I(r)),["head","options","get"].forEach(function(n){r[n]=function(e,t){return r(Object.assign({url:e},t),n)}}),r.post=function(e,t,n){return r(Object.assign({url:e,data:t},n),"post")},r}function R(e){var t=e.url.replace(/\?.*/g,""),n=Object(d.a)(Object(p.k)(t,!0).pathname),r={x_command:Object(a.default)(e,"headers.x-command")||n,requestId:Object(a.default)(e,"headers.requestId")||Object(l.a)(),__uuid:Object(_.a)(),__startTime:Date.now(),hostname:Object(d.a)(Object(p.k)(t,!0).hostname)};return Object.assign({},e,{},r)}}).call(this,k("2vAP"))},qDnC:function(e,t){e.exports=navigator.cdn_host+"/ccm/pc/web/resource/bear/public/wiki-favicon.aaf8b4073c25f0e60491.ico"},qGoe:function(e,t,n){"use strict";var r=n("TSHB"),a=n("XIp8"),o=n("1+fu"),i=n("ahx2"),c=n("7EGn"),s=n("ifKl"),u=n("2ACu"),l=n("jp/M"),d=n("SebV"),p={retryConfig:{retryTimes:3,retryDelay:200,instantRetryAtFirst:!1,exponentialBackOff:!0,shouldRetry:function(e,t){return e&&e.code===l.error.STATUS_CODE.TIMEOUT},onRetryCb:function(e){e.currentRetryCount,e.retryId,e.retryConfig;return Object(s.default)()},onRetrySuccessCb:function(e){var t=e.finalRetryCount,n=e.response,r=e.lastError,a=e.retryId,o=e.retryConfig;Object(u.default)("request_retry",{retry_id:a,request_id:Object(c.default)(n,"meta.Request-Id",""),retry_count:t,retry_times:o.retryTimes,last_error:JSON.stringify(r),last_error_code:Number(r.code),last_error_msg:r.msg})},onRetryFailedCb:function(e){var t,n=e.error,r=(e.retryId,e.retryConfig,e.args);window.Slardar&&(t=Array.from(r).find(function(e){return"string"==typeof e.url}),Object(d.a)(i.requestRetryFailed,{tags:Object.assign({},t&&t.url?{url:t.url}:null,{},n.code?{errorCode:n.code}:null),extras:Object.assign({errorStr:JSON.stringify(n)},n.msg?{errorMsg:n.msg}:null)}))}},takeLatest:!1,mergeRequestHeaderIntoMeta:!1,startSuffix:l.actionTypes.suffix.START,successSuffix:l.actionTypes.suffix.SUCCESS,failSuffix:l.actionTypes.suffix.FAIL,cancelSuffix:l.actionTypes.suffix.CANCEL,mergeRequestDataIntoPayload:!1,enableCamelCaseResponse:!1,enableSnakeCaseResponse:!1},_={explorer:{retryConfig:{shouldRetry:function(e,t){return!i.COMMON_NOT_RETRY_CODE.includes(e.code)}}}},E=Object(r.a)(_,function(e){return Object(o.a)(Object(a.default)(e),p)}),f=Object.assign({defaults:p},E);t.a=f},qKwb:function(e,t,n){"use strict";n.d(t,"a",function(){return c}),n.d(t,"c",function(){return s}),n.d(t,"h",function(){return u}),n.d(t,"d",function(){return l}),n.d(t,"f",function(){return d}),n.d(t,"e",function(){return p}),n.d(t,"g",function(){return _}),n.d(t,"b",function(){return f});var a=n("dDhe"),r=n("IQB2"),o=n("peh1"),i=function(e){return e.doc&&e.doc.etherpad||{}},c=function(e){return i(e).clientVars},s=function(e){var t=i(e).editor;return r.a.get(t)},u=function(e){return i(e).isTitleBlank},l=function(e){return i(e).isBodyBlank},d=function(e){return i(e).isFullscreenMode},p=function(e){return i(e).isDocRendered},_=function(e){return i(e).isSpellCheckerShowing},E=function(e){var t={title:"",doc_ssr:!1},n=c(e);if(n){var r=n.collab_client_vars;if(n.doc_ssr||Object(a.c)())return Object.assign({},t,{title:r.title,ssr:!0})}return t},f=Object(o.createSelector)(function(e){return E(e).title},function(e){return E(e).doc_ssr},function(e,t){return{title:e,doc_ssr:t}})},qSUs:function(e,t){e.exports=navigator.cdn_host+"/ccm/pc/web/resource/bear/public/single-product-docs-favicon.8631a7b3072a109e0ac2.ico"},qo30:function(e,t,n){"use strict";var r={};n.r(r),n.d(r,"LOCATION_CHANGE",function(){return ra});var a={};n.r(a),n.d(a,"objSettings",function(){return Yo});var o,i=n("ANjH"),c=n("L342"),s=n("lSNA"),S=n.n(s),m=n("Mpt7"),u=n("6SzI"),f=n("AuM3"),l=n("TovF"),d=Object(u.handleActions)((o={},S()(o,l.a.FETCH_CURRENT_USER_SUCCESS,function(e,t){if(!t.payload)return e;var n=new f.a(t.payload);return e.merge(n)}),S()(o,l.a.DELETE_CURRENT_USER,function(){return m.default.fromJS({})}),S()(o,l.a.SET_USER_INFO,function(e,t){var n=new f.a(t.user);return e.merge(n)}),o),m.default.fromJS({})),p=n("QILm"),O=n.n(p),T=n("7EGn"),b=n("TSHB"),y=n("v33K");function h(e,t,n){return _({key:n,preferred:e,backup:t})}function v(e,t,n){return _({key:n,preferred:t,backup:e})}function _(e){var t=e.key,n=e.preferred,r=e.backup;switch(t){case"delete_flag":case"create_source":case"share_version":case"owner_type":return"number"==typeof n?n:r;case"link_token":return void 0===n?r:n;case"space_id":case"description":return n}return"boolean"==typeof n?n:n||r}var I,E,C=n("jp/M");(E=I=I||{}).REMOVE_USER_ENTITIES="REMOVE_USER_ENTITIES",E.RESET_USER_ENTITIES="RESET_USER_ENTITIES";var R,g,k,D,j,L,w,N,U=n("s/f2"),P=n("JgWU"),M=C.actionTypes.suffix,x=M.SUCCESS,F=M.COMPLETE,H=M.FAIL,B=M.ERROR,K=function(){var s=0<arguments.length&&void 0!==arguments[0]?arguments[0]:Object(m.fromJS)({}),e=1<arguments.length?arguments[1]:void 0,t=e.type,n=e.payload;if(t===I.REMOVE_USER_ENTITIES){var r=n.userIds;return s.filter(function(e){return-1===r.indexOf(e.get("id"))})}if(t===I.RESET_USER_ENTITIES)return Object(m.fromJS)({});var a,o,i,c,u,l,d,p,_=e[P.a];if(!(p=_?_(e):(o=(a=Object(U.a)(e))[P.c],i=a[P.b],c=t.endsWith(x),u=t.endsWith(F),l=t.endsWith(H),d=t.endsWith(B),o&&(c||u)?o(e):i&&(l||d)?i(e):Object(T.default)(n,"entities.users")))||0===Object.keys(p).length)return s;var E=Object(b.a)(p,function(e){var t,n=s.get(e.id),r=(n&&n.isOverseaSpace?n:e).isOverseaSpace,a=(n&&n.is_anonymous?n:e).is_anonymous,o=e.keep,i=O()(e,["keep"]),c=new f.a(Object.assign({},i,{isOverseaSpace:r,is_anonymous:a}));return n&&o&&(t=o===y.a.KeepNext?v:h,c=n.mergeWith(t,c)),c});return s.mergeDeep(E)},W=n("J4zp"),V=n.n(W),Y=n("G8Hj"),Q=n("YLXN"),J=Object(m.Map)((R={},S()(R,Y.DATA_FIELD.PROFILE,Object(m.Map)(Y.PROFILE).map(function(e){return Object(m.Map)(e).map(function(){return-1})})),S()(R,Y.DATA_FIELD.GUIDES,Object(m.Map)(Y.STEP_TYPES).map(function(){var e;return Object(m.Map)((e={},S()(e,Y.STEP_STATE.DONE,!0),S()(e,Y.STEP_STATE.CONTEXT,""),e))})),S()(R,Y.DATA_FIELD.FIRSTLOGIN,Object(m.Map)(Y.FIRSTLOGIN_TYPE).map(function(){return 0})),R)),q=Object(u.handleActions)((g={},S()(g,C.actionTypes.guide.FETCH_USER_GUIDE_SUCCESS,function(e,t){return e.mergeIn([Y.DATA_FIELD.GUIDES],Object(m.fromJS)(t.payload.guides).mapEntries(function(e){var t,n=V()(e,2),r=n[0],a=n[1];return[Object(Q.b)(r),Object(m.Map)((t={},S()(t,Y.STEP_STATE.DONE,a.get("is_done")),S()(t,Y.STEP_STATE.CONTEXT,a.get("context")),S()(t,Y.STEP_STATE.MAX_COUNT,a.get("max_count")),t))]})).mergeIn([Y.DATA_FIELD.PROFILE],t.payload.profile).mergeIn([Y.DATA_FIELD.PROPERTIES],t.payload.properties).mergeIn([Y.DATA_FIELD.FIRSTLOGIN],t.payload.firstlogin).mergeIn([Y.DATA_FIELD.ACTIVITY_BANNER],t.payload.activity_banner)}),S()(g,C.actionTypes.guide.UPDATE_USER_GUIDE_SUCCESS,function(e,t){var n,r=t.payload,a=r.guideType,o=r.is_done,i=r.context;return e.mergeIn([Y.DATA_FIELD.GUIDES,a],Object(m.fromJS)((n={},S()(n,Y.STEP_STATE.DONE,o),S()(n,Y.STEP_STATE.CONTEXT,i),n)))}),S()(g,C.actionTypes.guide.CLOSE_USER_GUIDE_SUCCESS,function(e,t){var n=t.payload.guideType;return e.mergeIn([Y.DATA_FIELD.GUIDES,n],Object(m.fromJS)(S()({},Y.STEP_STATE.DONE,!0)))}),S()(g,C.actionTypes.guide.SET_USER_GUIDE_DONE,function(e,t){var n=t.payload;return e.mergeIn([Y.DATA_FIELD.GUIDES,n],Object(m.fromJS)(S()({},Y.STEP_STATE.DONE,!0)))}),g),J),z=n("S9xK"),X=n("5dbN"),Z=Object(u.handleActions)(S()({},z.a.SET_DRIVE_FILE_INFO,function(e,t){return t.payload}),null),$=Object(u.handleActions)(S()({},z.a.SET_IS_FILE_DRAGGING,function(e,t){return t.payload}),!1),ee=Object(u.handleActions)((k={},S()(k,z.a.SET_CURRENT_FOLDER_IMAGE_LIST_INFO,function(e,t){return t.payload}),S()(k,z.a.RESET_CURRENT_FOLDER_IMAGE_LIST_INFO,function(e,t){return Object(m.List)()}),S()(k,C.actionTypes.route.LOCATION_CHANGE,function(e,t){var n=t.payload.pathname;return Object(X.locateRoute)(n).isFile?e:Object(m.List)()}),k),Object(m.List)()),te=Object(u.handleActions)(S()({},C.actionTypes.box.SET_IS_PREVIEW_HISTORY,function(e,t){return t.payload}),!1),ne=Object(u.handleActions)(S()({},C.actionTypes.explorer.FETCH_STORAGE_USAGE_SUCCESS,function(e,t){return t.payload.usages}),{total:"0"}),re=Object(u.handleActions)(S()({},C.actionTypes.box.SET_IS_BOX_RENDERED,function(e,t){return t.payload}),!1),ae=Object(u.handleActions)(S()({},z.a.SET_BOX_SUITE_IS_IN_EDIT_MODE,function(e,t){return t.payload}),!1),oe=Object(u.handleActions)(S()({},z.a.SET_IS_PDF_PREVIEW_ON,function(e,t){return t.payload}),!1),ie=Object(u.handleActions)(S()({},z.a.SET_FIND_FUNCTION_IS_AVAILABLE,function(e,t){return t.payload}),!1),ce=Object(i.combineReducers)({currentDriveFileInfo:Z,isFileDragging:$,currentFolderImageListInfo:ee,isPreviewHistory:te,storageCenterUsages:ne,isBoxRendered:re,isInEditMode:ae,isPDFPreviewOn:oe,findFunctionIsAvailable:ie}),se=n("DKof"),ue=n("OZf9"),le=n("jeQL"),de=n("3Hq1"),pe=n("QM+C"),_e=n("7ip5"),Ee=n("IyQe"),fe=n("PIny"),Te=n("rLED"),Se=n("sbbc"),me=n.n(Se),Oe=[0];function be(e,n){return!!Object(de.default)(n)||(n.size!==e.length||!e.every(function(t){return n.find(function(e){return t===e})}))}var ye,he,ve,Ie,Ce,Re,ge,Ae,ke,De,je,Le,we,Ne,Ue,Pe,Me,xe,Fe,He,Be,Ge,Ke,We,Ve,Ye,Qe=function(e,t){var n=!1,r=!1,a=!1;return!Object(de.default)(t)&&be(e,t)&&(n=!0,r=t.get(0)===pe.PERMISSION.PRIVATE&&e[0]!==pe.PERMISSION.PRIVATE,a=t.get(0)!==pe.PERMISSION.PRIVATE&&e[0]===pe.PERMISSION.PRIVATE),{isChanged:n,isPermissionOpened:r,isPermissionClosed:a}},Je=Object(u.handleActions)((D={},S()(D,Object(u.combineActions)(C.actionTypes.permission.FETCH_USER_PERMISSION_ON_SUITE_SUCCESS,C.actionTypes.permission.FETCH_ANONYMOUS_SUITE_PERMISSION_SUCCESS),function(e,t){var n=t.payload,r=n.token,a=n.permissions,o=n.isFromNotification,i=n.contact_url,c=n.relationship_level,s=n.copy,u=n.print,l=n.permission_status_code,d=e.getIn([r,"permissions"]),p=0===a.length?Oe:be(a,d)?a:d,_=Qe(p,d);return e.mergeIn([r],{permissions:p,isFromNotification:o,contactUrl:i,relationshipLevel:c,copy:s,print:u,export:t.payload.export,permission_status_code:l},_)}),S()(D,Object(u.combineActions)(C.actionTypes.permission.FETCH_USER_PERMISSION_ON_SUITE_FAIL,C.actionTypes.permission.FETCH_ANONYMOUS_SUITE_PERMISSION_FAIL),function(e,t){var n,r,a,o,i,c,s,u,l=t.payload,d=l.token,p=l.isFromNotification,_=t.error,E={isChanged:!0,isPermissionClosed:!0,isFromNotification:p};return _&&Object(fe.d)(_.code)&&_.data&&_.data.permissions&&(s=(n=_.data).permissions,r=n.contact_url,a=n.copy,o=n.print,i=n.relationship_level,c=e.getIn([d,"permissions"]),s=0===(s=Object(Ee.adaptPermissionNum2Arr)(s)).length?Oe:s,u=Qe(s,c),E=Object.assign(E,u,{permissions:be(s,c)?s:c,contactUrl:r,copy:a,print:o,export:_.data.export,relationshipLevel:i})),e.mergeIn([d],E)}),S()(D,C.actionTypes.permission.FETCH_SUITE_PUBLIC_PERMISSION_SUCCESS,function(e,t){var n=t.payload,r=n.token,a=n.isFromNotification,o=n.is_owner,i=n.admin_can_cross,c=n.external_access,s=n.invite_external,u=n.ignore_anyone_link,l=n.has_link_password,d=n.link_password,p=n.anonymous_verify,_=n.link_share_entity,E=(n.remind_anyone_link,n.security_entity),f=n.share_entity,T=n.comment_entity,S=O()(n,["token","isFromNotification","is_owner","admin_can_cross","external_access","invite_external","ignore_anyone_link","has_link_password","link_password","anonymous_verify","link_share_entity","remind_anyone_link","security_entity","share_entity","comment_entity"]);return e.mergeIn([r],Object.assign({publicPermission:{securityEntity:E,shareEntity:f,commentEntity:T,linkShareEntity:_},publicPermissionState:{securityEntity:E,shareEntity:f,commentEntity:T,linkShareEntity:_},isFromNotification:a,isOwner:o,canCross:i,anonymousVerify:p,externalAccess:c,inviteExternal:s,ignoreAnyoneLink:u,hasLinkPassword:l,hasLinkPasswordState:l,linkPassword:d},S))}),S()(D,C.actionTypes.permission.FETCH_AUTHORIZED_MEMBERS_SUCCESS,function(e,t){var n=t.payload,r=n.token,a=n.isFromNotification,o=n.owners,i=n.type,c=n.entities,s=(O()(n,["token","isFromNotification","owners","type","entities"]),c.users),u=o.map(function(e){return e.owner_type===pe.OWNER_TYPE.DEPARTMENT&&(e.avatar_url=e.avatar_url||me.a),Object.assign({},s[e.owner_id]||{},{},e)});return null==t.payload.code?e.mergeIn([r],{authorizedMembers:u,type:i,isFromNotification:a}):e.deleteIn(["authorizedMembers"])}),S()(D,C.actionTypes.permission.FETCH_AUTHORIZED_MEMBERS_V2_SUCCESS,function(e,t){var n,r=t.payload,a=r.token,o=r.type,i=r.isFromNotification,c=r.members,s=r.entities,u=r.total_num,l=r.offset,d=r.isContinuous,p=s.users,_=c.map(function(e){return e.owner_type===pe.OWNER_TYPE.DEPARTMENT&&(e.avatar_url=e.avatar_url||me.a),Object.assign({},p[e.owner_id]||{},{},e)}),E=_;return d&&(n=_.map(function(e){return m.default.Map(e)}),E=e.getIn([a,"authorizedMembersV2"]).splice(l).concat(n)),e.mergeIn([a],{authorizedMembersV2:E,totalNum:u,type:o,isFromNotification:i})}),S()(D,C.actionTypes.permission.FETCH_APP_SHARE_MEMBERS_SUCCESS,function(e,t){var n,r=t.payload,a=r.apps,o=r.token,i=a||[];return r.isContinuous&&(n=a.map(function(e){return m.default.Map(e)}),i=e.getIn([o,"appShareMembers"]).concat(n)),e.mergeIn([o],{appShareMembers:i})}),S()(D,C.actionTypes.permission.FETCH_RECOMMEND_APP_MEMBERS_SUCCESS,function(e,t){var n=t.payload,r=n.unavailableAppList,a=void 0===r?[]:r,o=n.availableAppList,i=void 0===o?[]:o,c=n.token;return e.mergeIn([c],{unavailableAppList:a,recommendAppList:i})}),S()(D,C.actionTypes.permission.FETCH_EMBED_OBJECT_PERMISSION_SUCCESS,function(e,t){var n=t.payload,r=n.token,a=n.isFromNotification,o=n.tip_code,i=n.type,c=n.embed_objects,s=n.owners,u=e.getIn([r,"embedObjects"])||m.default.OrderedMap({}),l={},d=!0,p=!1,_=void 0;try{for(var E,f=c[Symbol.iterator]();!(d=(E=f.next()).done);d=!0){var T=E.value.token,S=u.get(T)||m.default.fromJS({ownersWithPerm:[],ownersWithoutPerm:[],owner:null});void 0!==o[T]&&(l[T]=Object.assign({},S.toJS(),{owner:s[T]||null,permission:o[T]}))}}catch(e){p=!0,_=e}finally{try{d||null==f.return||f.return()}finally{if(p)throw _}}return l=u.merge(l),null==t.payload.code?e.mergeIn([r],{embedObjects:l,type:i,isFromNotification:a}):e}),S()(D,C.actionTypes.permission.FETCH_EMBED_OBJECT_MEMBERS_SUCCESS,function(e,t){var n=t.payload,r=n.token,a=n.isFromNotification,o=n.embed_object,i=n.type,c=n.owners_with_perm,s=n.owners_without_perm,u=e.getIn([r,"embedObjects"]).mergeIn([o.token],{ownersWithPerm:c,ownersWithoutPerm:s});return e.mergeIn([r],{embedObjects:u,type:i,isFromNotification:a})}),S()(D,C.actionTypes.permission.FETCH_USER_PERMISSION_ON_EMBED_OBJECT_SUCCESS,function(e,t){var n=t.payload,r=n.currentToken,a=n.perms,o=n.objs,i=e.getIn([r,"embedObjects"])||m.default.Map({}),c={},s=!0,u=!1,l=void 0;try{for(var d,p=o[Symbol.iterator]();!(s=(d=p.next()).done);s=!0){var _=d.value.token,E=i.get(_)||m.default.fromJS({ownersWithPerm:[],ownersWithoutPerm:[],owner:null});void 0!==a[_]&&(c[_]=E.merge({userPermissions:a[_]}))}}catch(e){u=!0,l=e}finally{try{s||null==p.return||p.return()}finally{if(u)throw l}}return c=i.merge(c),e.mergeIn([r],{embedObjects:c})}),S()(D,C.actionTypes.permission.SET_SUITE_PUBLIC_PERMISSION_SUCCESS,function(e,t){var n=t.payload,r=n.token,a=(n.type,n.publicPermission),o=n.external_access,i=n.invite_external,c=O()(n,["token","type","publicPermission","external_access","invite_external"]),s=Object(le.a)({externalAccess:o,inviteExternal:i},de.default),u={};Object(Ee.getIsAnyoneCanVisit)(a.linkShareEntity)||(u={hasLinkPassword:!1,hasLinkPasswordState:!1,linkPassword:""});var l=(e.getIn([r,"publicPermission"])||m.default.Map({})).merge(a);return e.mergeIn([r],Object.assign({publicPermission:l,publicPermissionState:l},u,{},s,{},c))}),S()(D,C.actionTypes.permission.SET_SUITE_PUBLIC_PERMISSION_STATE,function(e,t){var n=t.payload,r=n.token,a=n.publicPermission;return e.mergeIn([r],{publicPermissionState:a})}),S()(D,C.actionTypes.permission.REMOVE_AUTHORIZED_MEMBERS_SUCCESS,function(e,t){var n,r=t.payload,a=r.token,o=(r.type,r.owner_id),i=r.owner_type,c=e.getIn([a,"authorizedMembersV2"],m.default.List()).findIndex(function(e){return e.get("owner_id")===o}),s=-1===c?e:e.deleteIn([a,"authorizedMembersV2",c]).updateIn([a,"totalNum"],function(e){return e-1});return i!==pe.OWNER_TYPE.APP||-1!==(n=s.getIn([a,"appShareMembers"],m.default.List()).findIndex(function(e){return e.get("owner_id")===o}))&&(s=s.deleteIn([a,"appShareMembers",n])),s}),S()(D,C.actionTypes.permission.UPDATE_AUTHORIZED_MEMBERS,function(e,t){var n=t.payload,r=n.token,a=(n.type,n.data),o=a.index,i=a.member;return i&&0!==i.size?e.setIn([r,"authorizedMembersV2",o],i):e}),S()(D,C.actionTypes.permission.SET_USER_PERMISSION_FROM_CLIENT_VARS,function(e,t){var n=t.payload,r=n.token,a=n.permissions.filter(function(e){return e<=8}),o=Object(se.a)(a),i=Object(Ee.filterUserPermissionIfNecessary)(o,r),c=Object(Ee.adaptPermissionNum2Arr)(i);return be(c,e.getIn([r,"permissions"]))?e.mergeIn([r],{permissions:c}):e}),S()(D,C.actionTypes.permission.FETCH_AUTHORIZED_USERS_SUCCESS,function(e,t){for(var n=t.payload,r=n.token,a=n.permissions,o=0,i=Object.entries(a);o<i.length;o++){var c=V()(i[o],2),s=c[0],u=c[1];u!==e.getIn([r,"authorizedUsers",s])&&(e=e.setIn([r,"authorizedUsers",s],u))}return e}),S()(D,C.actionTypes.permission.REMOVE_AUTHORIZED_USERS,function(e,t){var n=t.payload,r=n.token,a=n.userList,o=!0,i=!1,c=void 0;try{for(var s,u=a[Symbol.iterator]();!(o=(s=u.next()).done);o=!0){var l=s.value;e=e.deleteIn([r,"authorizedUsers",l])}}catch(e){i=!0,c=e}finally{try{o||null==u.return||u.return()}finally{if(i)throw c}}return e}),S()(D,C.actionTypes.permission.REMOVE_EMBED_OBJECTS,function(e,t){var n=t.payload,r=n.token,a=n.embedObjectList,o=!0,i=!1,c=void 0;try{for(var s,u=a[Symbol.iterator]();!(o=(s=u.next()).done);o=!0){var l=s.value;e=e.deleteIn([r,"embedObjects",l])}}catch(e){i=!0,c=e}finally{try{o||null==u.return||u.return()}finally{if(i)throw c}}return e}),S()(D,C.actionTypes.permission.POST_PASSWORD_CREATE_SUCCESS,function(e,t){var n=t.payload,r=n.token,a=n.password;return n.spaceId?e:e.mergeIn([r],{hasLinkPassword:!0,hasLinkPasswordState:!0,linkPassword:a})}),S()(D,C.actionTypes.permission.POST_PASSWORD_DELETE_SUCCESS,function(e,t){var n=t.payload,r=n.token;return n.spaceId?e:e.mergeIn([r],{hasLinkPassword:!1,hasLinkPasswordState:!1,linkPassword:""})}),S()(D,C.actionTypes.permission.POST_PASSWORD_REFRESH_SUCCESS,function(e,t){var n=t.payload,r=n.token,a=n.password;return n.spaceId?e:e.mergeIn([r],{linkPassword:a})}),S()(D,C.actionTypes.permission.SET_HAS_LINK_PASSWORD_STATE,function(e,t){var n=t.payload,r=n.token,a=n.spaceId,o=n.hasLinkPassword;return a?e:e.mergeIn([r],{hasLinkPasswordState:o})}),S()(D,C.actionTypes.permission.FETCH_MEMBERS_EXIST_V2_SUCCESS,function(e,t){var n=t.payload,r=n.token,a=(n.type,n.existed_members);return e.mergeIn([r],{membersExistV2:a.map(function(e){return{owner_id:e.member_id,owner_type:e.member_type,permissions:e.perm}})})}),S()(D,C.actionTypes.permission.FETCH_SUITE_PERMISSION_CONFIG_SUCCESS,function(e,t){var n=t.payload,r=n.token,a=n.type,o=n.permission,i=n.edit_perm_desc,c=n.view_perm_desc;return e.mergeIn([r,"config"],{allowedPermission:o,editPermDesc:i,viewPermDesc:c,allowNotifyMsg:!!Object(Te.B)()||a!==pe.NUM_FILE_TYPE.ISV})}),S()(D,C.actionTypes.permission.FETCH_MINI_PROGRAM_QR_CODE_SUCCESS,function(e,t){var n=t.payload,r=n.token,a=n.base64Data;return e.mergeIn([r],{shareQrCode:a})}),D),m.default.Map({})),qe=Object(u.handleActions)((j={},S()(j,C.actionTypes.explorer.FETCH_MEMBERS_OF_SHARE_FOLDER_SUCCESS,function(e,t){var n=t.payload,r=n.entities,a=n.space_id,o=O()(n,["entities","space_id"]),i=r.users,c=(o[a]||[]).map(function(e){return Object.assign({},i[e.owner_id]||{},{},e)});return e.mergeIn([a],{authorizedMembers:c.map(function(e){return e.owner_type===pe.OWNER_TYPE.DEPARTMENT&&(e.avatar_url=me.a),e})})}),S()(j,C.actionTypes.explorer.REMOVE_MEMBER_FROM_FOLDER_SUCCESS,function(e,t){var n=t.payload,r=n.spaceId,a=n.ownerId,o=[r,"authorizedMembers"],i=e.getIn(o).filter(function(e){return e.get("owner_id")!==a});return e.updateIn(o,function(e){return i})}),S()(j,C.actionTypes.permission.FETCH_SHARE_SPACE_SETTING_SUCCESS,function(e,t){var n=t.payload,r=n.space_id,a=n.allow_cross_tenant,o=n.link_perm,i=n.exist_password,c=n.password,s=n.is_owner,u=n.admin_allow_cross,l=n.remind_anyone_link,d=O()(n,["space_id","allow_cross_tenant","link_perm","exist_password","password","is_owner","admin_allow_cross","remind_anyone_link"]);return e.mergeIn([r],Object.assign({allowCrossTenant:a,linkPerm:o,linkPermState:o,existPassword:i,existPasswordState:i,password:c,isOwner:s,remindAnyoneLink:l,adminAllowCross:u},d))}),S()(j,C.actionTypes.permission.UPDATE_SHARE_SPACE_SETTING_SUCCESS,function(e,t){var n=t.payload,r=n.space_id,a=n.allow_cross_tenant,o=n.link_perm,i=n.remind_anyone_link,c=O()(n,["space_id","allow_cross_tenant","link_perm","remind_anyone_link"]),s=Object(le.a)({allowCrossTenant:a,remindAnyoneLink:i},de.default);if(Object(de.default)(o))return e.mergeIn([r],Object.assign({},s,{},c));var u={};return Object(Ee.getIsFolderAnyoneCanVisit)(o)||(u={existPassword:!1,existPasswordState:!1,password:""}),e.mergeIn([r],Object.assign({linkPerm:o,linkPermState:o},s,{},u,{},c))}),S()(j,C.actionTypes.permission.SET_SHARE_SPACE_PUBLIC_PERMISSION_STATE,function(e,t){var n=t.payload,r=n.spaceId,a=n.linkPerm;return e.mergeIn([r],{linkPermState:a})}),S()(j,C.actionTypes.permission.FETCH_USER_PERMISSION_ON_SHARE_SPACE_SUCCESS,function(e,t){var n=t.payload,r=n.space_id,a=n.perm;return e.mergeIn([r],{perm:a})}),S()(j,C.actionTypes.permission.POST_PASSWORD_CREATE_SUCCESS,function(e,t){var n=t.payload,r=(n.token,n.password),a=n.spaceId;return a?e.mergeIn([a],{existPassword:!0,existPasswordState:!0,password:r}):e}),S()(j,C.actionTypes.permission.POST_PASSWORD_DELETE_SUCCESS,function(e,t){var n=t.payload,r=(n.token,n.spaceId);return r?e.mergeIn([r],{existPassword:!1,existPasswordState:!1,password:""}):e}),S()(j,C.actionTypes.permission.POST_PASSWORD_REFRESH_SUCCESS,function(e,t){var n=t.payload,r=(n.token,n.password),a=n.spaceId;return a?e.mergeIn([a],{password:r}):e}),S()(j,C.actionTypes.permission.SET_HAS_LINK_PASSWORD_STATE,function(e,t){var n=t.payload,r=(n.token,n.spaceId),a=n.hasLinkPassword;return r?e.mergeIn([r],{existPasswordState:a}):e}),j),m.default.Map({})),ze=Object(u.handleActions)((L={},S()(L,C.actionTypes.permission.FETCH_TEAM_SPACE_MEMBERS_SUCCESS,function(e,t){var n,r=t.payload,a=r.entities,o=r.offset,i=r.isContinuous,c=r.token,s=r.members,u=void 0===s?[]:s,l=r.total_num,d=a.users,p=u.map(function(e){return e.owner_type===pe.OWNER_TYPE.DEPARTMENT&&(e.avatar_url=e.avatar_url||me.a),Object.assign({},d[e.member_id]||{},{},e)}),_=p;return i&&(n=p.map(function(e){return m.default.Map(e)}),_=e.getIn([c,"authorizedMembers"]).splice(o).concat(n)),e.mergeIn([c],{authorizedMembers:_,totalNum:l})}),S()(L,C.actionTypes.permission.FETCH_TEAM_SPACE_SETTING_SUCCESS,function(e,t){var n=t.payload,r=n.token,a=n.allow_cross_tenant,o=n.is_owner,i=n.remind_anyone_link,c=n.admin_can_cross,s=n.link_share_entity,u=n.has_link_password,l=n.link_password,d=n.share_entity,p=O()(n,["token","allow_cross_tenant","is_owner","remind_anyone_link","admin_can_cross","link_share_entity","has_link_password","link_password","share_entity"]);return e.mergeIn([r],Object.assign({allowCrossTenant:a,linkPerm:s,linkPermState:s,existPassword:u,existPasswordState:u,password:l,isOwner:o,remindAnyoneLink:i,adminAllowCross:c,shareEntity:d},p))}),S()(L,C.actionTypes.permission.UPDATE_TEAM_SPACE_SETTING_SUCCESS,function(e,t){var n=t.payload,r=n.token,a=n.allow_cross_tenant,o=n.link_share_entity,i=n.remind_anyone_link,c=(n.need_spread,O()(n,["token","allow_cross_tenant","link_share_entity","remind_anyone_link","need_spread"])),s=Object(le.a)({allowCrossTenant:a,remindAnyoneLink:i},de.default);return Object(de.default)(o)?e.mergeIn([r],Object.assign({},s,{},c)):e.mergeIn([r],Object.assign({linkPerm:o,linkPermState:o},s,{},c))}),S()(L,C.actionTypes.permission.FETCH_TEAM_SPACE_MEMBER_PERM_SUCCESS,function(e,t){var n=t.payload,r=n.token,a=n.actions;return e.mergeIn([r],{teamSpaceUserPerm:a})}),S()(L,C.actionTypes.permission.POST_TEAM_SPACE_MEMBERS_DELETE_SUCCESS,function(e,t){var n=t.payload,r=n.token,a=(n.type,n.member_id),o=e.getIn([r,"authorizedMembers"],m.default.List()).findIndex(function(e){return e.get("member_id")===a});return-1===o?e:e.deleteIn([r,"authorizedMembers",o]).updateIn([r,"totalNum"],function(e){return e-1})}),S()(L,C.actionTypes.permission.SET_SHARE_SPACE_PUBLIC_PERMISSION_STATE,function(e,t){var n=t.payload,r=n.token,a=n.linkPerm;return e.mergeIn([r],{linkPermState:a})}),L),m.default.Map({})),Xe=Object(u.handleActions)((w={},S()(w,C.actionTypes.permission.FETCH_AUTHORIZED_ROLE_MEMBERS_SUCCESS,function(e,t){var n=t.payload,r=n.token,a=n.type,o=n.members;return e.mergeIn(["".concat(a,":").concat(r)],{members:o})}),S()(w,C.actionTypes.permission.POST_DELETE_ROLE_MEMBER_SUCCESS,function(e,t){var n=t.payload,r=n.token,a=n.type,o=n.ownerId,i=["".concat(a,":").concat(r),"members"],c=e.getIn(i).filter(function(e){return e.get("owner_id")!==o});return e.updateIn(i,function(){return c})}),S()(w,C.actionTypes.permission.FETCH_AUTHORIZED_ROLE_USER_SUCCESS,function(e,t){var n=t.payload,r=n.token,a=n.type,o=O()(n,["token","type"]);return o.role=_e.c[o.role_type],delete o.role_type,e.mergeIn(["".concat(a,":").concat(r)],{permission:o})}),S()(w,C.actionTypes.permission.FETCH_AUTHORIZED_ROLE_USERS_SUCCESS,function(e,t){var n=t.payload,r=(n.tokens,n.type),a=n.role_user_data,o={};return Object(ue.a)(a,function(e,t){e.role=_e.c[e.role_type],delete e.role_type,o["".concat(r,":").concat(t)]={permission:e}}),e.mergeWith(function(e,t){return e.merge(t)},m.default.fromJS(o))}),w),m.default.Map({})),Ze=Object(u.handleActions)(S()({},C.actionTypes.permission.SET_EDIT_MODE,function(e,t){return t.payload}),!0),$e=Object(u.handleActions)(S()({},C.actionTypes.permission.SET_IS_DOC_LOCKED_BY_PLUGIN,function(e,t){return t.payload}),!1),et=Object(u.handleActions)((N={},S()(N,C.actionTypes.permission.FETCH_TEAM_SPACE_COVER_MEMBER_INFO_SUCCESS,function(e,t){var n=t.payload.cover_member_info;return e.merge(n)}),S()(N,C.actionTypes.permission.FETCH_TEAM_SPACE_MEMBERS_SUCCESS,function(e,t){var n=t.payload,r=n.token,a=n.total_num;return e.setIn([r,"count"],a)}),S()(N,C.actionTypes.permission.POST_TEAM_SPACE_MEMBERS_DELETE,function(e,t){var n=t.payload.token;return e.updateIn([n,"count"],function(e){return e-1})}),N),m.default.Map({})),tt=n("RIqP"),nt=n.n(tt),rt=n("Muja"),at=n("/1FC"),ot=n("lgTS"),it=n("y94N"),ct=n("Ixoi"),st=n("+mgp"),ut=function(e,t){return e.filter(function(e){return!!t[e]})},lt=function(e,t){var n=t.payload,r=n.fatherToken,a=n.childToken,o=e instanceof m.List?e:e.get(r);if(!o)return e;var i=o.filter(function(e){return Object(at.a)(a)?!a.includes(e):e!==a});return e instanceof m.List?i:e.set(r,i)},dt=Object(u.handleActions)(S()({},Object(u.combineActions)(C.actionTypes.explorer.FETCH_EXPLORER_ROOT_TOKEN_MAP_SUCCESS,C.actionTypes.explorer.LOAD_PERSISTED_ROOT_TOKEN_MAP),function(e,t){return t.payload?e.merge(t.payload):e}),Object(m.fromJS)({})),pt=Object(u.handleActions)((ye={},S()(ye,C.actionTypes.explorer.FETCH_SHARE_OBJECTS_SUCCESS,function(e,t){var n=t.payload,r=n.entities,a=n.node_list,o=n.isContinuous,i=r.nodes,c=a.map(function(e){return i[e].obj_token});return o?e.concat(Object(m.List)(c)):Object(m.List)(c)}),S()(ye,C.actionTypes.explorer.DELETE_SHARED_RECORD_SUCCESS,function(e,t){var n=t.payload.objTokens;return e.filter(function(e){return!n.includes(e)})}),ye),Object(m.List)()),_t=Object(u.handleActions)((he={},S()(he,C.actionTypes.explorer.HIDE_SHARE_FOLDER_SUCCESS,function(e,t){var n=t.payload.token;return e.filter(function(e){return e!==n})}),S()(he,C.actionTypes.explorer.SHOW_SHARE_FOLDER_SUCCESS,function(e,t){var n=t.payload.token;return e.concat(n)}),S()(he,C.actionTypes.explorer.FETCH_ROOT_SHARE_FOLDER_SUCCESS,function(e,t){var n=t.payload,r=n.hidden,a=n.node_list;return r===ot.h.FetchVisible?Object(m.List)(a):e}),S()(he,C.actionTypes.explorer.MOVE_FILE_SUCCESS,function(e,t){var n=t.payload.success_tokens;return e.filter(function(e){return!n.includes(e)})}),S()(he,C.actionTypes.explorer.REMOVE_CHILD_FROM_FATHER_INDEX,lt),he),Object(m.List)()),Et=Object(u.handleActions)((ve={},S()(ve,C.actionTypes.explorer.HIDE_SHARE_FOLDER_SUCCESS,function(e,t){var n=t.payload.token;return e.concat(n)}),S()(ve,C.actionTypes.explorer.SHOW_SHARE_FOLDER_SUCCESS,function(e,t){var n=t.payload.token;return e.filter(function(e){return e!==n})}),S()(ve,C.actionTypes.explorer.FETCH_ROOT_SHARE_FOLDER_SUCCESS,function(e,t){var n=t.payload,r=n.hidden,a=n.node_list;return r===ot.h.FetchHidden?Object(m.List)(a):e}),S()(ve,C.actionTypes.explorer.MOVE_FILE_SUCCESS,function(e,t){var n=t.payload.success_tokens;return e.filter(function(e){return!n.includes(e)})}),S()(ve,C.actionTypes.explorer.REMOVE_CHILD_FROM_FATHER_INDEX,lt),ve),Object(m.List)()),ft=Object(u.handleActions)(S()({},C.actionTypes.explorer.FETCH_ROOT_SHARE_FOLDER_SUCCESS,function(e,t){var n=t.payload,r=n.beShared,a=n.node_list;return 1===r?Object(m.List)(a):e}),Object(m.List)()),Tt=Object(u.handleActions)((Ie={},S()(Ie,C.actionTypes.explorer.FETCH_FOLDER_FILE_META_SUCCESS,function(e,t){var n=t.payload,r=n.token,a=n.node_list,o=n.entities.nodes,i=n.isContinuous,c=ut(a,o);return i&&(c=(e.get(r)||Object(m.List)()).concat(c)),e.merge(S()({},"".concat(r),c))}),S()(Ie,C.actionTypes.explorer.MOVE_FILE_SUCCESS,function(e,t){var n=t.payload.success_tokens;return e.map(function(e){return e.filter(function(e){return n.indexOf(e)<0})})}),S()(Ie,C.actionTypes.explorer.REMOVE_FROM_FILE_TOKENS,function(e,t){var n=t.payload,r=n.token,a=n.removeToken;return e.update(r,function(e){return e.filter(function(e){return e!==a})})}),S()(Ie,C.actionTypes.explorer.SET_TOKEN_MAP,function(e,t){var n=t.payload,r=n.tokenMap;return n.treeDirectory||!r?e:r}),S()(Ie,C.actionTypes.explorer.REMOVE_CHILD_FROM_FATHER_INDEX,lt),Ie),Object(m.fromJS)({})),St=Object(u.handleActions)((Ce={},S()(Ce,C.actionTypes.explorer.FETCH_MY_SPACE_FOLDER_SUCCESS,function(e,t){var n=t.payload.node_list;return Object(m.List)(n)}),S()(Ce,C.actionTypes.explorer.MOVE_FILE_SUCCESS,function(e,t){var n=t.payload.success_tokens;return e.filter(function(e){return!n.includes(e)})}),S()(Ce,C.actionTypes.explorer.REMOVE_CHILD_FROM_FATHER_INDEX,lt),Ce),Object(m.List)()),mt=Object(u.handleActions)((Re={},S()(Re,C.actionTypes.explorer.FETCH_TREE_FILE_META_SUCCESS,function(e,t){var n=t.payload.token,r=t.payload,a=r.node_list,o=r.entities.nodes;return e.merge(S()({},n,ut(a,o)))}),S()(Re,C.actionTypes.explorer.SET_TOKEN_MAP,function(e,t){var n=t.payload,r=n.tokenMap;return n.treeDirectory&&r?r:e}),S()(Re,C.actionTypes.explorer.REMOVE_CHILD_FROM_FATHER_INDEX,lt),Re),Object(m.Map)()),Ot=Object(u.handleActions)((ge={},S()(ge,C.actionTypes.route.LOCATION_CHANGE,function(e,t){var n,r=t.payload.pathname,a=/folder\/(\S+)\/*/.exec(r);if(a&&(n=a[1].replace(/\/*$/,"")),n)return window.fileToken=n;var o=Object(X.locateRoute)(r);return o.isTrash||o.isShared&&!st.s?e:""}),S()(ge,C.actionTypes.explorer.SET_ROOT_META,function(e,t){return t.payload.token}),ge),""),bt=Object(u.handleActions)((Ae={},S()(Ae,C.actionTypes.route.LOCATION_CHANGE,function(e,t){var n=t.payload.pathname;return Object(X.locateRoute)(n).isFolder?e:Object(m.List)()}),S()(Ae,C.actionTypes.explorer.FETCH_FOLDER_FILE_META_SUCCESS,function(e,t){var n=t.payload,r=n.path;return n.isContinuous?e:e.clear().merge(r)}),Ae),Object(m.fromJS)([])),yt=Object(u.handleActions)((ke={},S()(ke,C.actionTypes.explorer.SET_SELECTED_FILE_METAS,function(e,t){if(!t.payload)return e;var n=t.payload.map(function(e){return Object(ct.b)(e)});return e.equals(Object(m.List)(n))?e:Object(m.List)(n)}),S()(ke,C.actionTypes.route.LOCATION_CHANGE,function(e,t){var n=t.payload.isPathChanged;return e.isEmpty()||n?e.clear():e}),ke),Object(m.List)([])),ht=function(e,t){for(var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,r=0;r<e.length;r++)t[n+r]=e[r];return Object(m.List)(t)},vt=function(e,t){var n=t.payload,r=n.node_list,a=n.offset,o=n.isContinuous,i=n.entities.nodes,c=ut(r,i);return o?ht(c,e.toJS(),a):Object(m.List)(c)},It=function(e,t){var n=t.payload,r=n.nodes,a=n.nodesObj,o=n.isContinuous,i=o?e.size:0,c=r.map(function(e){return e.obj_token}),s=ut(c,a);return o?ht(s,e.toJS(),i):Object(m.List)(s)},Ct=Object(u.handleActions)((De={},S()(De,C.actionTypes.search.FETCH_RECENT_IN_SEARCH_BOX_SUCCESS,vt),S()(De,C.actionTypes.explorer.REMOVE_CHILD_FROM_FATHER_INDEX,function(e,t){if(t.payload.listName!==it.p.Recent)return e;var n=t.payload.childToken;return e.filter(function(e){return!n.includes(e)})}),De),Object(m.List)([])),Rt=Object(u.handleActions)(S()({},C.actionTypes.explorer.FETCH_RECENT_OBJS_IN_SUITE_BACK_NAV_SUCCESS,vt),Object(m.List)([])),gt=Object(u.handleActions)((je={},S()(je,C.actionTypes.explorer.FETCH_RECENT_OBJS_SUCCESS,vt),S()(je,C.actionTypes.explorer.SET_RECENT_OBJ_TOKENS,function(e,t){return t.payload.tokens}),S()(je,C.actionTypes.explorer.INSERT_UPLOADED_FILE_TO_RECENT,function(e,t){var n=t.payload;return e.unshift(n.obj_token)}),S()(je,C.actionTypes.explorer.DELETE_RECENT_RECORD_SUCCESS,function(e,t){var n=t.payload.objTokens;return e.filter(function(e){return!n.includes(e)})}),S()(je,C.actionTypes.explorer.DELETE_OBJECT_SUCCESS,function(e,t){var n=t.payload,r=n.success_obj_token;return n.listName!==it.p.Recent?e:e.filter(function(e){return!r.includes(e)})}),S()(je,C.actionTypes.explorer.REMOVE_CHILD_FROM_FATHER_INDEX,function(e,t){return t.payload.listName!==it.p.Recent?e:lt(e,t)}),je),Object(m.List)([])),At=Object(u.handleActions)((Le={},S()(Le,C.actionTypes.rule.GET_SMART_COLLECTION_SUITE_LIST_SUCCESS,It),S()(Le,C.actionTypes.rule.GET_PREVIEW_SMART_COLLECTION_SUITE_LIST_SUCCESS,It),S()(Le,C.actionTypes.rule.SET_COLLECTION_LIST_TOKENS,function(e,t){return t.payload.tokens||e}),Le),Object(m.List)([])),kt=Object(u.handleActions)((we={},S()(we,C.actionTypes.explorer.FETCH_MY_OBJECT_LIST_SUCCESS,function(e,t){var n=t.payload,r=n.node_list,a=n.offset,o=n.isContinuous,i=n.entities.nodes,c=ut(r,i);return o?ht(c,e.toJS(),a):Object(m.List)(c)}),S()(we,C.actionTypes.explorer.DELETE_OBJECT_SUCCESS,function(e,t){var n=t.payload.success_obj_token;return e.filter(function(e){return!n.includes(e)})}),S()(we,C.actionTypes.explorer.REMOVE_INDEX_FROM_MY_OBJECT_LIST,function(e,t){var n=t.payload.tokens;return e.filter(function(e){return!n.includes(e)})}),S()(we,C.actionTypes.explorer.INSERT_UPLOADED_FILE_TO_RECENT,function(e,t){var n=t.payload;return e.unshift(n.obj_token)}),S()(we,C.actionTypes.explorer.REMOVE_CHILD_FROM_FATHER_INDEX,function(e,t){return t.payload.listName!==it.p.MyObject?e:lt(e,t)}),we),Object(m.List)()),Dt=Object(u.handleActions)((Ne={},S()(Ne,C.actionTypes.explorer.FETCH_STORAGE_LIST_SUCCESS,function(e,t){var n=Object(T.default)(t.payload,"entities.nodes",{}),r=t.payload,a=r.node_list,o=r.offset,i=r.isContinuous,c=ut(a,n);return i?ht(c,e.toJS(),o):Object(m.List)(c)}),S()(Ne,C.actionTypes.box.COMPLETE_DELETE_STORAGE_FILES_SUCCESS,function(e,t){var n=t.payload.success_tokens;return e.filter(function(e){return!n.includes(e)})}),Ne),Object(m.List)()),jt=function(r,e){return e.map(function(e){var t=Object(ct.j)(e),n=r[e].type;return Object(ct.g)({token:t,type:n})})},Lt=Object(u.handleActions)((Ue={},S()(Ue,C.actionTypes.explorer.FETCH_PIN_LIST_SUCCESS,function(e,t){var n=t.payload,r=n.node_list,a=n.entities.nodes,o=ut(r,a),i=jt(a,o);return Object(m.List)(i)}),S()(Ue,Object(u.combineActions)(C.actionTypes.explorer.ADD_PIN_SUCCESS,C.actionTypes.explorer.ADD_PIN_SILENTLY_SUCCESS),function(e,t){var n=t.payload,r=n.pin_nodes,a=n.entities.nodes,o=jt(a,r);return e.push.apply(e,nt()(o))}),S()(Ue,C.actionTypes.explorer.REMOVE_PIN_SUCCESS,function(e,t){var n=t.payload.finalToken;return e.filter(function(e){return!(e.token===n||e.obj_token===n)})}),S()(Ue,C.actionTypes.explorer.MOVE_PIN_SUCCESS,function(e,t){var n,r,a=t.payload,o=a.file,i=a.frontFile,c=Object(ct.g)(o),s=e.findIndex(function(e){return Object(rt.default)(e,c)});return-1!==s&&(e=e.remove(s)),i?(n=Object(ct.g)(i),-1!==(r=e.findIndex(function(e){return Object(rt.default)(e,n)}))&&(e=e.insert(r+1,c))):e=e.unshift(c),e}),Ue),Object(m.List)()),wt=Object(u.handleActions)((Pe={},S()(Pe,C.actionTypes.explorer.CLEAR_FETCH_STAR_LIST,function(e,t){return e.clear()}),S()(Pe,C.actionTypes.explorer.FETCH_STAR_LIST_SUCCESS,function(e,t){var n=t.payload,r=n.node_list,a=n.entities.nodes,o=n.isContinuous,i=ut(r,a),c=jt(a,i);return o?e.concat(c):Object(m.List)(c)}),S()(Pe,C.actionTypes.explorer.REMOVE_STAR_SUCCESS,function(e,t){var n=t.payload.finalToken;return e.filter(function(e){return!(e.token===n||e.obj_token===n)})}),Pe),Object(m.List)()),Nt=Object(u.handleActions)(S()({},C.actionTypes.explorer.FETCH_SHARE_LIST_SUCCESS,function(e,t){var n=t.payload,r=n.node_list,a=n.entities.nodes,o=n.isContinuous,i=ut(r,a),c=jt(a,i);return o?e.concat(c):Object(m.List)(c)}),Object(m.List)()),Ut=Object(u.handleActions)((Me={},S()(Me,C.actionTypes.explorer.FETCH_OBJ_PATHS_SUCCESS,function(e,t){var n=t.payload,r=n.paths,a=n.objToken;return e.merge(S()({},a,r))}),S()(Me,Object(u.combineActions)(C.actionTypes.explorer.FETCH_RECENT_OBJS_SUCCESS,C.actionTypes.explorer.FETCH_RECENT_OBJS_FOR_CHECK_SUCCESS),function(e,t){var n=Object(T.default)(t.payload,"entities.paths",null);if(!n)return e;var r=Object(b.a)(n,function(e){return 0===e.length?[]:[e]});return e.merge(r)}),Me),Object(m.Map)()),Pt=Object(u.handleActions)((xe={},S()(xe,C.actionTypes.explorer.FETCH_RECOMMEND_LIST_SUCCESS,function(e,t){var n=Object(ct.h)(t,"nodes");if(!n)return e;var r=Object(T.default)(t,["payload","recommend_nodes"]);if(!r)return e;var a=ut(r,n),o=jt(n,a);return Object(m.List)(o)}),S()(xe,C.actionTypes.explorer.REMOVE_RECOMMENDED_FILE,function(e,t){var n=t.payload;return e.filter(function(e){return!(e.token===n||e.obj_token===n)})}),xe),Object(m.List)()),Mt=Object(u.handleActions)(S()({},C.actionTypes.explorer.FETCH_DUSTBIN_CHILDREN_SUCCESS,function(e,t){var n=t.payload,r=n.token,a=n.node_list||[];return e.merge(S()({},r,{nodeList:a}))}),Object(m.Map)()),xt=Object(u.handleActions)((Fe={},S()(Fe,C.actionTypes.explorer.FETCH_ROOT_DUSTBIN_SUCCESS,function(e,t){var n=t.payload.node_list;return Object(m.List)(n)}),S()(Fe,C.actionTypes.explorer.RESTORE_REMOVED_FILE_SUCCESS,function(e,t){var n=t.payload.success_tokens;return e.filter(function(e){return!n.includes(e)})}),S()(Fe,C.actionTypes.explorer.DELETE_REMOVED_FILE_SUCCESS,function(e,t){var n=t.payload.success_tokens;return e.filter(function(e){return!n.includes(e)})}),Fe),Object(m.List)()),Ft=Object(u.handleActions)((He={},S()(He,C.actionTypes.explorer.FETCH_DUSTBIN_SPACE_LIST_SUCCESS,function(e,t){var n=t.payload,r=n.entities.nodes,a=n.node_list,o=void 0===a?[]:a,i=n.isContinuous,c=ut(o,r),s=Object(m.List)(c).map(function(e){var t=r[e];return{name:t.name,space_id:t.extra.space_id,token:e}});return i?e.concat(s):Object(m.List)(s)}),S()(He,C.actionTypes.permission.POST_LEAVE_TEAM_SPACE_SUCCESS,function(e,t){var n=t.payload.token;return e.filter(function(e){return e.token!==n})}),S()(He,C.actionTypes.explorer.REMOVE_CHILD_FROM_FATHER_INDEX,function(e,t){var n=t.payload,r=n.fatherToken,a=n.childToken;return r===C.apiField.DummyTokens.TeamSpace?e.filter(function(e){return Object(at.a)(a)?!a.includes(e.token):e.token!==a}):e}),He),Object(m.List)()),Ht=Object(u.handleActions)(S()({},C.actionTypes.explorer.SET_DUSTBIN_SPACE_ID,function(e,t){return t.payload}),C.apiField.MY_SPACE_DUSTBIN_FAKE_SPACE_ID),Bt=Object(u.handleActions)((Be={},S()(Be,C.actionTypes.explorer.FETCH_DUSTBIN_LIST_SUCCESS,function(e,t){var n=t.payload,r=n.space_id,a=void 0===r?C.apiField.MY_SPACE_DUSTBIN_FAKE_SPACE_ID:r,o=n.node_list,i=n.entities.nodes,c=n.isContinuous,s=ut(o,i);return c&&(s=(e.get(a)||Object(m.List)()).concat(s)),e.merge(S()({},"".concat(a),s))}),S()(Be,C.actionTypes.explorer.RESTORE_REMOVED_FILE_SUCCESS,function(e,t){var n=t.payload,r=n.success_tokens,a=n.space_id,o=void 0===a?C.apiField.MY_SPACE_DUSTBIN_FAKE_SPACE_ID:a;return e.update(o,function(e){return e&&e.filter(function(e){return!r.includes(e)})})}),S()(Be,C.actionTypes.explorer.DELETE_REMOVED_FILE_SUCCESS,function(e,t){var n=t.payload,r=n.success_tokens,a=n.space_id,o=void 0===a?C.apiField.MY_SPACE_DUSTBIN_FAKE_SPACE_ID:a;return e.update(o,function(e){return e&&e.filter(function(e){return!r.includes(e)})})}),Be),Object(m.Map)()),Gt=Object(u.handleActions)((Ge={},S()(Ge,C.actionTypes.explorer.FETCH_ALL_TEAM_SPACE_SUCCESS,function(e,t){var n=t.payload,r=n.node_list,a=n.entities.nodes,o=n.isContinuous,i=ut(r,a);return o?e.concat(i):Object(m.List)(i)}),S()(Ge,C.actionTypes.permission.POST_LEAVE_TEAM_SPACE_SUCCESS,function(e,t){var n=t.payload.token;return e.filter(function(e){return e!==n})}),S()(Ge,C.actionTypes.explorer.REMOVE_CHILD_FROM_FATHER_INDEX,lt),Ge),Object(m.List)()),Kt=Object(u.handleActions)(S()({},C.actionTypes.explorer.SAVE_TREE_EXPANDED_KEYS,function(e,t){return t.payload.keys}),[]),Wt=n("O7eI"),Vt=function(o){return function(e,t){var n=t.payload,r=n.has_more,a=n.last_label;return e.set(o,m.default.Map({lastLabel:a,hasMore:r}))}},Yt=function(e){return S()({},e,{hasMore:!0})},Qt=Object(u.handleActions)((Ke={},S()(Ke,Wt.a.explorer.FETCH_SHARE_OBJECTS_SUCCESS,Vt(pe.PaginationType.ShareObjects)),S()(Ke,Wt.a.explorer.FETCH_RECENT_OBJS_SUCCESS,Vt(pe.PaginationType.Recent)),S()(Ke,Wt.a.explorer.FETCH_RECENT_OBJS_IN_SUITE_BACK_NAV_SUCCESS,Vt(pe.PaginationType.RecentInBackNav)),S()(Ke,Wt.a.explorer.FETCH_MY_OBJECT_LIST_SUCCESS,Vt(pe.PaginationType.MyObjectList)),S()(Ke,Wt.a.explorer.FETCH_STORAGE_LIST_SUCCESS,Vt(pe.PaginationType.Storage)),S()(Ke,Wt.a.rule.GET_SMART_COLLECTION_SUITE_LIST_SUCCESS,Vt(pe.PaginationType.Collection)),S()(Ke,Wt.a.explorer.SET_RECENT_OBJ_TOKENS,function(e,t){var n=t.payload,r=n.hasMore,a=n.lastLabel;return 0===t.payload.tokens.size?e.set(pe.PaginationType.Recent,m.default.Map({hasMore:!1,lastLabel:""})):e.update(pe.PaginationType.Recent,function(e){return e.merge({hasMore:r,lastLabel:a})})}),S()(Ke,Wt.a.rule.SET_COLLECTION_LIST_TOKENS,function(e,t){return 0!==t.payload.tokens.size?e:e.set(pe.PaginationType.Collection,m.default.Map({hasMore:!0}))}),S()(Ke,Wt.a.permission.FETCH_AUTHORIZED_MEMBERS_V2_SUCCESS,Vt(pe.PaginationType.AuthorizedMembersV2)),S()(Ke,Wt.a.permission.FETCH_TEAM_SPACE_MEMBERS_SUCCESS,Vt(pe.PaginationType.FolderV3Members)),S()(Ke,Wt.a.explorer.FETCH_DUSTBIN_SPACE_LIST_SUCCESS,Vt(pe.PaginationType.DustbinSpaceList)),S()(Ke,Wt.a.permission.FETCH_APP_SHARE_MEMBERS_SUCCESS,Vt(pe.PaginationType.AppShareMembers)),Ke),m.default.fromJS(Object.assign({},Yt(pe.PaginationType.ShareObjects),{},Yt(pe.PaginationType.Recent),{},Yt(pe.PaginationType.Collection),{},Yt(pe.PaginationType.Star),{},Yt(pe.PaginationType.MyObjectList),{},Yt(pe.PaginationType.Storage),{},Yt(pe.PaginationType.RecentInBackNav),{},Yt(pe.PaginationType.AuthorizedMembersV2),{},Yt(pe.PaginationType.FolderV3Members),{},Yt(pe.PaginationType.DustbinSpaceList)))),Jt=n("yiFV");function qt(e){return m.default.List(e).map(function(e){return m.default.fromJS({token:e,children:[]})})}function zt(e,t,n){var r=t.rest().interpose("children").concat("children");return e.setIn(r,qt(n))}var Xt,Zt,$t,en,tn,nn,rn,an,on,cn,sn,un,ln,dn,pn,_n,En,fn,Tn,Sn,mn,On,bn,yn,hn,vn,In,Cn,Rn,gn,An,kn,Dn,jn=Object(u.handleActions)((We={},S()(We,Object(u.combineActions)(C.actionTypes.explorer.FETCH_PATH_TREE_SUCCESS),function(e,t){var n=t.payload.tree,r=void 0===n?[]:n;return m.default.fromJS(r)}),S()(We,Object(u.combineActions)(C.actionTypes.explorer.FETCH_PATH_TREE_FILE_META_SUCCESS),function(e,t){var n=t.payload,r=n.pathIndexes,a=n.node_list,o=n.token;return r.get(0)!==pe.NUM_ROOT_META.EXPLORER?e:o?zt(e,r,a):m.default.fromJS(qt(a))}),We),m.default.fromJS([])),Ln=Object(u.handleActions)((Ve={},S()(Ve,Object(u.combineActions)(C.actionTypes.explorer.FETCH_PATH_TREE_SUCCESS),function(e,t){var n=t.payload.share_tree,r=void 0===n?[]:n;return m.default.fromJS(r)}),S()(Ve,Object(u.combineActions)(C.actionTypes.explorer.FETCH_PATH_TREE_FILE_META_SUCCESS),function(e,t){var n=t.payload,r=n.pathIndexes,a=n.node_list,o=n.token,i=n.urlType;if(r.get(0)!==pe.NUM_ROOT_META.SHARE_FOLDERS)return e;if(o!==Jt.DummyTokens.ShareFolders)return zt(e,r,a);var c=m.default.fromJS(qt(a));return i===pe.EXPLORER_URL_TYPE.V1?c.concat(e):e.concat(c)}),Ve),m.default.fromJS([])),wn=Object(u.handleActions)((Ye={},S()(Ye,Object(u.combineActions)(C.actionTypes.explorer.FETCH_PATH_TREE_SUCCESS),function(e,t){var n=t.payload.team_space_tree,r=void 0===n?[]:n;return m.default.fromJS(r)}),S()(Ye,Object(u.combineActions)(C.actionTypes.explorer.FETCH_PATH_TREE_FILE_META_SUCCESS),function(e,t){var n=t.payload,r=n.pathIndexes,a=n.node_list,o=n.token;return r.get(0)!==pe.NUM_ROOT_META.TEAM_SPACE?e:o===Jt.DummyTokens.TeamSpace?m.default.fromJS(qt(a)):zt(e,r,a)}),Ye),m.default.fromJS([])),Nn=n("Fsnq"),Un=n("joPI"),Pn=n("88Nr"),Mn=n("YJ0t"),xn=function(o){return function(e){return Object(b.a)(e,function(e){var t=e.token;if(Object(de.default)(o.get(t)))return new Un.a(e);var n=e,r=o.get(t).toJS(),a=Object(ct.l)(r)?Object.assign({},n,{obj_token:r.obj_token,token:r.token}):n;return new Un.a(a).toJS()})}},Fn=function(e,t){return new Un.a(e.mergeWith(v,t))},Hn=[ct.p,ct.x,ct.a],Bn=Object(ct.c)({valueMappers:Hn}),Gn=Object(ct.e)([Object(ct.d)([ct.m]),Object(ct.c)({valueMappers:[ct.p,ct.A,ct.v,ct.a]})]),Kn=Object(u.handleActions)((Xt={},S()(Xt,Mn.a.SET_NODES,function(e,t){var n=t.payload.entityMap,r=Bn(n),a=xn(e)(r);return Object(Nn.a)(a)?e.mergeWith(Fn,a):e}),S()(Xt,Object(u.combineActions)(C.actionTypes.explorer.FETCH_EXPLORER_ROOT_TOKEN_MAP_SUCCESS,C.actionTypes.explorer.LOAD_PERSISTED_ROOT_TOKEN_MAP),function(e,t){var n=(t.payload||{})[pe.NUM_ROOT_META.EXPLORER];if(!n)return e;var r=S()({},n,Object(ct.f)(n)),a=xn(e)(r);return Object(Nn.a)(a)?e.mergeWith(Fn,a):e}),S()(Xt,Object(u.combineActions)(C.actionTypes.explorer.FETCH_MY_SPACE_FOLDER_SUCCESS,C.actionTypes.explorer.FETCH_ROOT_SHARE_FOLDER_SUCCESS,C.actionTypes.explorer.FETCH_PATH_TREE_SUCCESS,C.actionTypes.explorer.FETCH_PATH_TREE_FILE_META_SUCCESS,C.actionTypes.explorer.FETCH_TREE_FILE_META_SUCCESS,C.actionTypes.explorer.FETCH_OBJ_PATHS_SUCCESS,C.actionTypes.explorer.FETCH_ROOT_DUSTBIN_SUCCESS,C.actionTypes.explorer.FETCH_DUSTBIN_CHILDREN_SUCCESS,C.actionTypes.explorer.FETCH_DUSTBIN_LIST_SUCCESS,C.actionTypes.explorer.FETCH_ALL_TEAM_SPACE_SUCCESS),function(e,t){var n=Object(ct.h)(t,"nodes");if(!n)return e;var r=Bn(n),a=xn(e)(r);return Object(Nn.a)(a)?e.mergeWith(Fn,a):e}),S()(Xt,C.actionTypes.explorer.FETCH_ROOT_SHARE_FOLDER_SUCCESS,function(e,t){var n=Object(ct.h)(t,"nodes"),r=t.payload.hidden;if(!n)return e;var a=Bn(n),a=Object(b.a)(a,function(e){return Object.assign({},e,S()({},"is_hidden",ot.h.FetchHidden===r))}),o=xn(e)(a);return e.mergeWith(Fn,o)}),S()(Xt,C.actionTypes.explorer.FETCH_FOLDER_FILE_META_SUCCESS,function(e,t){var n=Object(ct.h)(t,"nodes");if(!n)return e;var r=Bn(n),r=Object(ct.q)(r,t.payload.token),a=xn(e)(r);return e.withMutations(function(e){e.mergeWith(Fn,a),e.setIn([t.payload.token,"is_visited"],!0)})}),S()(Xt,C.actionTypes.explorer.FETCH_FOLDER_META_SUCCESS,function(e,t){var n=t.payload;if(!n)return e;var r=Bn(n),a=xn(e)(r);return Object(Nn.a)(a)?e.mergeWith(Fn,a):e}),S()(Xt,Object(u.combineActions)(C.actionTypes.explorer.FETCH_SHARE_HOME_SUCCESS,C.actionTypes.explorer.HIDE_SHARE_FOLDER_SUCCESS,C.actionTypes.explorer.SHOW_SHARE_FOLDER_SUCCESS),function(e,t){var n=Object(ct.h)(t,"nodes");if(!n)return e;var r=Object(ct.t)(n),a=xn(e)(r);return Object(Nn.a)(a)?e.mergeWith(Fn,a):e}),S()(Xt,Object(u.combineActions)(C.actionTypes.explorer.HIDE_SHARE_FOLDER_SUCCESS,C.actionTypes.explorer.SHOW_SHARE_FOLDER_SUCCESS),function(e,t){var n=t.type===C.actionTypes.explorer.HIDE_SHARE_FOLDER_SUCCESS,r=t.payload.token;return e.get(r)?e.updateIn([r,"is_hidden"],function(){return n}):e}),S()(Xt,Object(u.combineActions)(C.actionTypes.explorer.FETCH_SHARE_LIST_SUCCESS,C.actionTypes.explorer.FETCH_STAR_LIST_SUCCESS,C.actionTypes.explorer.FETCH_PIN_LIST_SUCCESS),function(e,t){var n=Object(ct.h)(t,"nodes");if(!n)return e;var r=Gn(n),a=xn(e)(r);return Object(Nn.a)(a)?e.mergeWith(Fn,a):e}),S()(Xt,Object(u.combineActions)(C.actionTypes.explorer.FETCH_RECENT_OBJS_SUCCESS,C.actionTypes.explorer.FETCH_RECENT_OBJS_FOR_CHECK_SUCCESS),function(e,t){var n=Object(ct.h)(t,"path_nodes");if(!n)return e;var r=Object(ct.h)(t,"paths");if(!r)return e;var a=Object(ct.y)(r,n),o=Bn(a),i=xn(e)(o);return Object(Nn.a)(i)?e.mergeWith(Fn,i):e}),S()(Xt,Object(u.combineActions)(C.actionTypes.explorer.FETCH_RECOMMEND_LIST_SUCCESS),function(e,t){var n=Object(ct.h)(t,"nodes");if(!n)return e;var r=m.default.Map(xn(e)(n)).mapKeys(function(e){return Object(ct.j)(e)}).filter(function(e){return""!==e.token});return 0===r.size?e:e.mergeWith(Fn,r)}),S()(Xt,Object(u.combineActions)(C.actionTypes.explorer.ADD_STAR_SUCCESS,C.actionTypes.explorer.REMOVE_STAR_SUCCESS,C.actionTypes.explorer.ADD_PIN_SUCCESS,C.actionTypes.explorer.ADD_PIN_SILENTLY_SUCCESS,C.actionTypes.explorer.REMOVE_PIN_SUCCESS),function(e,t){var n=t.payload,r=n.token,a=n.field,o=n.value,i=n.objToken,c=n.type;return e.has(r)?e.withMutations(function(t){t.setIn([r,a],o),pe.folderType.indexOf(c)<0&&""!==i&&t.forEach(function(e){e.obj_token===i&&t.setIn([e.token,a],o)})}):e}),S()(Xt,C.actionTypes.explorer.FETCH_EXTERNAL_HINT_SUCCESS,function(e,t){var n=t.payload,r=n.nodes,i=n.objFlags;return e.withMutations(function(o){r.forEach(function(e){var t=e.token,n=e.objToken,r=e.isOwner,a=i[n]?r?pe.EXTERNAL_HINT_STATE.CAN_MODIFY:pe.EXTERNAL_HINT_STATE.READONLY:pe.EXTERNAL_HINT_STATE.NONE;o.setIn([t,"external_hint"],a)})})}),S()(Xt,C.actionTypes.explorer.SET_EXTERNAL_HINT,function(e,t){var n=t.payload.data;return e.withMutations(function(r){n.forEach(function(e){var t=e.token,n=e.value;r.setIn([t,"external_hint"],n)})})}),S()(Xt,C.actionTypes.explorer.SET_NODE_IS_EXTERNAL,function(e,t){var n=t.payload,r=n.token,a=n.isExternal;return e.withMutations(function(e){e.setIn([r,C.apiField.EXTERNAL],a)})}),S()(Xt,C.actionTypes.explorer.ADD_MEMBERS_TO_FOLDER_SUCCESS,function(e,t){var n,r=t.payload.token;if(!r)return e;var a=t.payload.space_id,o=e.has(r)?e.get(r).merge((n={},S()(n,Jt.SPACE_ID,a),S()(n,Jt.SHARE_ROOT,!0),S()(n,Jt.OWNER_TYPE,pe.FOLDER_OWNER_TYPE.SHARE_FOLDER),n)):null;return null===o?e:e.set(r,o)}),S()(Xt,C.actionTypes.explorer.REMOVE_FILES_SHARED_INFO,function(e,t){var n=t.payload.metas;return e.withMutations(function(a){n.forEach(function(e){var t,n=e.token,r=(e.objToken,e.type,e.ownerType);void 0!==a.get(n)&&a.mergeIn([n],(t={},S()(t,Jt.SPACE_ID,""),S()(t,Jt.OWNER_TYPE,r===pe.FOLDER_OWNER_TYPE.SHARE_FOLDER?pe.FOLDER_OWNER_TYPE.PERSONAL_FOLDER:pe.FOLDER_OWNER_TYPE.BETA_PERSONAL_FOLDER),S()(t,Jt.SHARE_ROOT,!1),t))})})}),S()(Xt,C.actionTypes.explorer.REMOVE_SHARE_ROOT_INFO,function(e,t){var r=t.payload.metas;return e.withMutations(function(n){r.forEach(function(e){var t=e.token;e.objToken,e.type;void 0!==n.get(t)&&n.mergeIn([t],S()({},Jt.SHARE_ROOT,!1))})})}),S()(Xt,C.actionTypes.suite.UPDATE_DOC_TITLE,function(e,t){var n=t.payload,r=n.title,a=n.type,o=n.obj_token;return e.map(function(e){if(e.get("obj_token")!==o)return e;var t=r||Object(Pn.d)(a);return e.set("name",t).set("title",t)})}),S()(Xt,C.actionTypes.suite.SET_CUSTOM_ICON,function(e,t){var n=t.payload,r=n.obj_token,a=n.icon_key,o=n.icon_type,i=n.icon_fsunit;return e.map(function(e){return e.get("obj_token")!==r?e:e.merge({icon_key:a,icon_type:o,icon_fsunit:i})})}),S()(Xt,C.actionTypes.explorer.RENAME_FILE_SUCCESS,function(e,t){var n=t.payload,r=n.token,a=n.newName;return e.withMutations(function(e){e.setIn([r,"name"],a),e.setIn([r,"title"],a)})}),S()(Xt,C.actionTypes.explorer.UPDATE_FOLDER_INFO_SUCCESS,function(e,t){var n=t.payload,r=n.token,a=n.name,o=n.description;return e.update(r,function(e){return e.merge({name:a,title:a,description:o})})}),S()(Xt,Object(u.combineActions)(C.actionTypes.permission.TRANSFER_SUITE_OWNER_SUCCESS,C.actionTypes.explorer.TRANSFER_SHARE_FOLDER_OWNER_SUCCESS,C.actionTypes.permission.POST_TEAM_SPACE_TRANSFER_OWNER_SUCCESS),function(e,t){var n=t.payload,r=n.meta,a=n.ownerId;return Object(T.default)(t.payload,["meta","nodeToken"],void 0)?e.updateIn([r.nodeToken,"owner_id"],function(e){return a}).updateIn([r.nodeToken,"share_creator"],function(e){return a}):e}),S()(Xt,C.actionTypes.explorer.UPDATE_SHARE_FOLDER_DESC_SUCCESS,function(e,t){var n=t.payload,r=n.token,a=n.newDescription,o=n.newName;return e.updateIn([r,"title"],function(e){return o||e}).updateIn([r,"name"],function(e){return o||e}).updateIn([r,"description"],function(e){return a||e})}),S()(Xt,C.actionTypes.explorer.MOVE_PIN_SUCCESS,function(e,t){var n=t.payload,r=n.file,a=n.top,o=Object(ct.g)(r),i=o.type,c=o.token;return pe.suiteType.includes(i)?e:e.updateIn([c,"is_top"],function(){return a})}),S()(Xt,C.actionTypes.explorer.SET_FILE_META_NAME,function(e,t){var n=t.payload,r=n.token,a=n.name,o=n.update_time,i=e.get(r);if(i){var c=i.set("edit_time",o).set("name",a).set("title",a);return e.set(r,c)}return e}),Xt),m.default.Map({})),Wn=n("ZGcR"),Vn=n("RTCx"),Yn=n("ahx2"),Qn=function(e,t,n){return e.has(n)?e.get(n).merge(t):new Vn.a(t)},Jn=function(a){return function(e,t){var n=t?Object(Wn.a)(t,ct.w):null,r=Object(b.a)(e,function(e){return n&&n[e.obj_token]&&(e=Object.assign({},e,{},t[e.obj_token])),Object(ct.u)(e)});return m.default.Map(r).filter(function(e){return Object(ct.s)(e)}).toMap().mapKeys(function(e,t){return t.obj_token}).map(function(e,t){return Qn(a,e,t)})}},qn=function(n){return function(e){return m.default.Map(e).toMap().map(function(e,t){return Qn(n,e,t)})}},zn=Object(ct.e)([Object(ct.d)([ct.n]),Object(ct.c)({keyMappers:[ct.C],valueMappers:[ct.p,ct.x,ct.a]})]),Xn=Object(ct.e)([Object(ct.d)([ct.n]),Object(ct.c)({valueMappers:[ct.p,ct.A,ct.v,ct.a]})]),Zn=Object(u.handleActions)((Zt={},S()(Zt,Object(u.combineActions)(Mn.a.SET_NODES,Mn.a.SET_OBJS),function(e,t){var n=t.payload.entityMap,r=zn(n),a=qn(e)(r);return e.merge(a)}),S()(Zt,Object(u.combineActions)(C.actionTypes.explorer.FETCH_FOLDER_FILE_META_SUCCESS,C.actionTypes.explorer.FETCH_ROOT_DUSTBIN_SUCCESS,C.actionTypes.explorer.FETCH_DUSTBIN_LIST_SUCCESS,C.actionTypes.explorer.FETCH_ROOT_SHARE_FOLDER_SUCCESS,C.actionTypes.explorer.FETCH_PATH_TREE_SUCCESS,C.actionTypes.explorer.FETCH_PATH_TREE_FILE_META_SUCCESS,C.actionTypes.explorer.FETCH_TREE_FILE_META_SUCCESS,C.actionTypes.explorer.FETCH_OBJ_PATHS_SUCCESS,C.actionTypes.search.FETCH_RECENT_IN_SEARCH_BOX_SUCCESS,C.actionTypes.explorer.FETCH_RECENT_OBJS_IN_SUITE_BACK_NAV_SUCCESS),function(e,t){var n=Object(ct.h)(t,"nodes");if(!n)return e;var r=zn(n);t.type===C.actionTypes.explorer.FETCH_FOLDER_FILE_META_SUCCESS&&(r=Object(ct.q)(r,t.payload.token));var a=qn(e)(r);return Object(Nn.a)(a)?e.merge(a):e}),S()(Zt,C.actionTypes.explorer.FETCH_OBJ_PATHS_SUCCESS,function(e,t){var n=t.payload,r=n.objToken,i=n.paths,a=e.get(r);if(!a)return e;if(i&&0===i.length){var o=a.merge(ct.r);return e.set(r,o)}var c=Object(ct.h)(t,"nodes");if(!c)return e;var s=Object(b.a)(c,function(e){var t=e.obj_token;if(c[t]&&c[t].parent_token&&c[t].parent_path_name)return e;if(0===i.length)return Object.assign({},e,{},ct.r);var n=i[0],r=3;if(!n||!n.length||n.length<r)return console.warn("reducer: firstPath length is invalid",n),e;var a=n[n.length-2];if(!a)return console.warn("reducer: parentToken is missing",n),e;var o=c[a];return o?Object.assign({},e,{parent_path_name:o.name,parent_token:o.object_token||o.token,parent_type:o.type}):(console.warn("reducer: parentNode is missing"),e)}),u=zn(s),l=qn(e)(u);return Object(Nn.a)(l)?e.withMutations(function(e){e.merge(l),e.has(r)&&e.setIn([r,"path_count"],i.length)}):e}),S()(Zt,Object(u.combineActions)(C.actionTypes.explorer.FETCH_SHARE_LIST_SUCCESS,C.actionTypes.explorer.FETCH_STAR_LIST_SUCCESS,C.actionTypes.explorer.FETCH_PIN_LIST_SUCCESS),function(e,t){var n=Object(ct.h)(t,"nodes");if(!n)return e;var r=Xn(n),a=qn(e)(r);return Object(Nn.a)(a)?e.merge(a):e}),S()(Zt,Object(u.combineActions)(C.actionTypes.explorer.FETCH_RECOMMEND_LIST_SUCCESS),function(e,t){var n=Object(ct.h)(t,"nodes");if(!n)return e;var r=Object(ct.h)(t,"objs"),a=Jn(e)(n,r);return e.merge(a)}),S()(Zt,Object(u.combineActions)(C.actionTypes.explorer.ADD_PIN_SUCCESS,C.actionTypes.explorer.ADD_PIN_SILENTLY_SUCCESS),function(n,e){var t=Object(T.default)(e,["payload","entities","nodes"]);if(!t)return n;var r=m.default.Map(t).map(function(e,t){return n.has(t)?n.get(t).merge(e):new Vn.a(e)});return n.merge(r)}),S()(Zt,Object(u.combineActions)(C.actionTypes.explorer.FETCH_RECENT_OBJS_SUCCESS,C.actionTypes.explorer.FETCH_RECENT_OBJS_FOR_CHECK_SUCCESS,C.actionTypes.search.FETCH_RECENT_IN_SEARCH_BOX_SUCCESS),function(e,t){var n=Object(ct.h)(t,"nodes");if(!n)return e;var r=Object(ct.h)(t,"paths"),a=r?Object(ct.y)(r,n):n,o=zn(a),i=qn(e)(o);return e.merge(i)}),S()(Zt,Object(u.combineActions)(C.actionTypes.rule.GET_SMART_COLLECTION_SUITE_LIST_SUCCESS,C.actionTypes.rule.GET_PREVIEW_SMART_COLLECTION_SUITE_LIST_SUCCESS),function(e,t){var n=t.payload.nodesObj,r=zn(n),a=qn(e)(r);return e.merge(a)}),S()(Zt,Object(u.combineActions)(C.actionTypes.explorer.FETCH_SHARE_OBJECTS_SUCCESS,C.actionTypes.explorer.FETCH_MY_OBJECT_LIST_SUCCESS,C.actionTypes.explorer.FETCH_STORAGE_LIST_SUCCESS),function(e,t){var n=Object(ct.h)(t,"nodes");if(!n)return e;var r=Object(b.a)(n,function(e){if(!e.parent)return Object.assign({},e,{},ct.r);var t=n[e.parent];return t?Object.assign({},e,{parent_path_name:t.name,parent_token:t.object_token||t.token,parent_type:t.type}):(console.warn("parentNode is missing",e.parent),e)}),a=zn(r),o=qn(e)(a);return e.merge(o)}),S()(Zt,Object(u.combineActions)(C.actionTypes.explorer.ADD_STAR_SUCCESS,C.actionTypes.explorer.REMOVE_STAR_SUCCESS,C.actionTypes.explorer.ADD_PIN_SUCCESS,C.actionTypes.explorer.ADD_PIN_SILENTLY_SUCCESS,C.actionTypes.explorer.REMOVE_PIN_SUCCESS,C.actionTypes.explorer.SUBSCRIBE_SUCCESS,C.actionTypes.explorer.UNSUBSCRIBE_SUCCESS),function(e,t){var n=t.payload,r=n.objToken,a=n.field,o=n.value;return e.has(r)?e.setIn([r,a],o):e}),S()(Zt,C.actionTypes.suite.FETCH_CURRENT_SUITE_SUCCESS,function(e,t){var n=t.payload,r=n.token,a=n.type,o=(n.title,n.obj_type,O()(n,["token","type","title","obj_type"])),i=(e.get(r)||new Vn.a).mergeWith(v,Object.assign({obj_token:r,title:Object(Pn.c)(t),type:a},o));return e.set(r,i)}),S()(Zt,C.actionTypes.suite.FETCH_CURRENT_SUITE_FAIL,function(e,t){var n=t.payload,r=n.token,a=n.type;if(!r)return e;var o=t.error,i=o.code,c=o.isTimeout,s=e.get(r);if(s&&(c||i===Yn.STATUS_CODE.CONNECT_ERROR))return e;var u=s||new Vn.a,l={obj_token:r,type:a},d=i?Object.assign({},l,{title:Object(Pn.c)(t)}):l,p=u.merge(d);return e.set(r,p)}),S()(Zt,C.actionTypes.permission.FETCH_USER_PERMISSION_ON_SUITE_FAIL,function(e,t){var n=t.payload.token;if(!n)return e;var r=t.error.code,a=Object(T.default)(t.error,["meta","owner","id"]),o=a?{owner_id:a}:null;return 1===e.getIn([n,"delete_flag"])||r!==Yn.STATUS_CODE.FORBIDDEN?e:e.mergeIn([n],Object.assign({title:Object(Pn.c)(t)},o))}),S()(Zt,C.actionTypes.permission.TRANSFER_SUITE_OWNER_SUCCESS,function(e,t){var n=t.payload,r=n.suiteToken,a=n.ownerId;return e.mergeIn([r],{owner_id:a})}),S()(Zt,Object(u.combineActions)(C.actionTypes.suite.UPDATE_TITLE_SUCCESS,C.actionTypes.suite.UPDATE_DOC_TITLE),function(e,t){var n=t.payload,r=n.obj_token,a=(n.type,O()(n,["obj_token","type"])),o=(e.get(r)||new Vn.a).set("name",a.title).set("title",a.title);return e.set(r,o)}),S()(Zt,C.actionTypes.suite.SET_CUSTOM_ICON,function(e,t){var n=t.payload,r=n.obj_token,a=n.icon_key,o=n.icon_type,i=n.icon_fsunit,c=(e.get(r)||new Vn.a).merge({icon_key:a,icon_type:o,icon_fsunit:i});return e.set(r,c)}),S()(Zt,C.actionTypes.suite.UPDATE_HAS_COPIED,function(e,t){var n=t.payload,r=n.objToken,a=n.value,o=e.get(r);return o?o.set("has_copied",a):e}),S()(Zt,C.actionTypes.explorer.REMOVE_FILES_SHARED_INFO,function(e,t){var n=t.payload.metas;return e.withMutations(function(a){n.forEach(function(e){e.token;var t,n=e.objToken,r=(e.type,e.ownerType);if(void 0!==a.get(n))return a.mergeIn([n],(t={},S()(t,Jt.SPACE_ID,""),S()(t,Jt.OWNER_TYPE,r===pe.FOLDER_OWNER_TYPE.SHARE_FOLDER?pe.FOLDER_OWNER_TYPE.PERSONAL_FOLDER:pe.FOLDER_OWNER_TYPE.BETA_PERSONAL_FOLDER),S()(t,Jt.SHARE_ROOT,!1),t))})})}),S()(Zt,C.actionTypes.explorer.SET_FILE_META_NAME,function(e,t){var n=t.payload,r=n.obj_token,a=n.name,o=n.update_time,i=e.get(r);if(i){var c=i.set("edit_time",o).set("name",a).set("title",a);return e.set(r,c)}return e}),S()(Zt,C.actionTypes.explorer.MOVE_PIN_SUCCESS,function(e,t){var n=t.payload,r=n.file,a=n.top,o=Object(ct.g)(r),i=o.type,c=o.obj_token;return pe.suiteType.includes(i)?e.updateIn([c,"is_top"],function(){return a}):e}),S()(Zt,C.actionTypes.explorer.INSERT_UPLOADED_FILE_TO_RECENT,function(e,t){var n=t.payload,r=S()({},n.obj_token,n),a=Jn(e)(r);return e.merge(a)}),S()(Zt,C.actionTypes.template.FETCH_TEMPLATE_LIST_V2_SUCCESS,function(a,e){var t=e.payload,n=a;return t.owner&&(n=a.withMutations(function(r){t.owner.forEach(function(e){var t=S()({},e.obj_token,e),n=Jn(a)(t);r.merge(n)})})),n}),S()(Zt,C.actionTypes.template.FETCH_TEMPLATE_CUSTOM_LIST_SUCCESS,function(a,e){var t=e.payload,n=a;return t.owner&&(n=a.withMutations(function(r){t.owner.forEach(function(e){var t=S()({},e.obj_token,e),n=Jn(a)(t);r.merge(n)})})),n}),S()(Zt,C.actionTypes.explorer.UPDATE_SUBSCRIBE_STATUS,function(e,t){var n=t.payload,r=n.objToken,a=n.isSubscribed,o=e.get(r);if(o){var i=o.merge({is_subscribed:a});return e.set(r,i)}return e}),Zt),m.default.Map({})),$n=Object(u.handleActions)(S()({},C.actionTypes.initialization.APP_INITIALIZED,function(){return!0}),!1),er=n("nCBi"),tr=n("I1f5"),nr=n("vERi"),rr=Object(u.handleActions)(($t={},S()($t,C.actionTypes.search.RESET_ADVANCED_SEARCH,function(e,t){return tr.OBJ_TYPE.ALL}),S()($t,C.actionTypes.search.SWITCH_TAB,function(e,t){return t.payload}),$t),tr.OBJ_TYPE.ALL),ar=Object(u.handleActions)((en={},S()(en,C.actionTypes.search.RESET_ADVANCED_SEARCH,function(e,t){return tr.RECENT_TYPE.OPENED}),S()(en,C.actionTypes.search.SWITCH_RECENT_TAB,function(e,t){return t.payload}),en),tr.RECENT_TYPE.OPENED),or=Object(u.handleActions)((tn={},S()(tn,C.actionTypes.search.RESET_ADVANCED_SEARCH,function(e,t){var n=t.payload,r=Object(er.c)(tr.FILTER.CURRENT_SEARCH_USERS);if(n){var a=new nr.b(n.toJS()).set("isChosen",!1);return r.unshift(new nr.b(a))}return r}),S()(tn,l.a.FETCH_CURRENT_USER_SUCCESS,function(e,t){if(!t.payload)return e;var n=new nr.b(t.payload);if(-1!==e.findIndex(function(e){return e.getId()===n.getId()}))return e;var r=n.set("isChosen",!1);return e.unshift(r)}),S()(tn,C.actionTypes.search.TOGGLE_USER_CHOSEN,function(e,t){var n=t.payload;if(!n)return e;var r=e.findIndex(function(e){return e.getId()===n});return-1===r?e:e.updateIn([r,"isChosen"],function(e){return!e})}),S()(tn,C.actionTypes.search.SELECT_USER,function(e,t){var n=new nr.b(t.payload);if(-1!==e.findIndex(function(e){return e.getId()===n.getId()}))return e;var r=n.set("isChosen",!0);return e.push(r)}),S()(tn,C.actionTypes.search.DELETE_USER,function(e,t){var n=t.payload,r=e.findIndex(function(e){return e.getId()===n});return-1!==r?e.splice(r,1):e}),tn),Object(er.c)(tr.FILTER.CURRENT_SEARCH_USERS)),ir=Object(u.handleActions)((nn={},S()(nn,C.actionTypes.search.RESET_ADVANCED_SEARCH,function(e,t){return Object(er.c)(tr.FILTER.CURRENT_SEARCH_CHATS)}),S()(nn,C.actionTypes.search.TOGGLE_CHAT_CHOSEN,function(e,t){var n=t.payload;if(!n)return e;var r=e.findIndex(function(e){return e.getId()===n});return-1===r?e:e.updateIn([r,"isChosen"],function(e){return!e})}),S()(nn,C.actionTypes.search.SELECT_CHAT,function(e,t){var n=new nr.a(t.payload);if(-1!==e.findIndex(function(e){return e.getId()===n.getId()}))return e;var r=n.set("isChosen",!0);return e.push(r)}),S()(nn,C.actionTypes.search.DELETE_CHAT,function(e,t){var n=t.payload,r=e.findIndex(function(e){return e.getId()===n});return-1!==r?e.splice(r,1):e}),nn),Object(er.c)(tr.FILTER.CURRENT_SEARCH_CHATS)),cr=Object(u.handleActions)((rn={},S()(rn,C.actionTypes.search.RESET_ADVANCED_SEARCH,function(e,t){return Object(m.List)([nr.e]).concat(Object(er.c)(tr.FILTER.CURRENT_SEARCH_WIKI_SPACE))}),S()(rn,C.actionTypes.search.TOGGLE_WIKI_SPACE_CHOSEN,function(e,t){var n=t.payload;return n?e.map(function(e){return e.id===n?e.set("isChosen",!e.isChosen):e}):e}),S()(rn,C.actionTypes.search.SELECT_WIKI_SPACE,function(e,t){var n=new nr.d(t.payload),r=e.findIndex(function(e){return e.id===n.id});if(-1!==r)return e.updateIn([r,"isChosen"],function(e){return!0});var a=n.set("isChosen",!0);return e.push(a)}),S()(rn,C.actionTypes.search.DELETE_WIKI_SPACE,function(e,t){var n=t.payload;return e.filter(function(e){return e.id!==n})}),rn),Object(m.List)([nr.e]).concat(Object(er.c)(tr.FILTER.CURRENT_SEARCH_WIKI_SPACE))),sr=Object(u.handleActions)((an={},S()(an,C.actionTypes.search.RESET_ADVANCED_SEARCH,function(e,t){return Object(m.List)([])}),S()(an,C.actionTypes.search.SELECT_FOLDER,function(e,t){var n=t.payload,r=t.isAppend;if(m.List.isList(n))return r?e.concat(n):n;var a=new nr.c(n);a.id||(a=a.set("id",a.token));var o=a.get("token"),i=e.findIndex(function(e,t){return e.get("token")===o});if(r||(e=e.map(function(e,t){var n=t===i;return e.set("isChosen",n)})),i<0){var c=a.set("isChosen",!0);return e.push(c)}return e}),S()(an,C.actionTypes.search.TOGGLE_FOLDER_CHOSEN,function(e,t){var n=t.payload;return n?e.map(function(e){return e.get("token")===n?e.set("isChosen",!e.get("isChosen")):e}):e}),S()(an,C.actionTypes.search.RESET_FOLDER,function(e,t){return e.withMutations(function(n){n.map(function(e,t){n=n.updateIn([t,"isChosen"],function(e){return!1})})})}),S()(an,C.actionTypes.search.DELETE_FOLDER,function(e,t){var n=t.payload;return e.filter(function(e){return e.get("token")!==n})}),an),Object(m.List)([])),ur=Object(u.handleActions)((on={},S()(on,C.actionTypes.search.RESET_ADVANCED_SEARCH,function(e,t){return[]}),S()(on,C.actionTypes.search.CHANGE_OPEN_TIME,function(e,t){return t.payload}),on),[]),lr=Object(u.handleActions)((cn={},S()(cn,C.actionTypes.search.RESET_ADVANCED_SEARCH,function(e,t){return""}),S()(cn,C.actionTypes.search.CHOOSE_FILE_TYPE,function(e,t){return t.payload}),cn),""),dr={keyword:"",source:tr.SEARCH_SOURCE.INPUT},pr=Object(u.handleActions)((sn={},S()(sn,C.actionTypes.search.RESET_ADVANCED_SEARCH,function(e,t){return dr}),S()(sn,C.actionTypes.search.SHOW_ADVANCED_SEARCH,function(e,t){var n=t.payload.searchWord;return n?{keyword:n,source:tr.SEARCH_SOURCE.INPUT}:e}),S()(sn,C.actionTypes.search.CHANGE_SEARCH_KEYWORD,function(e,t){return t.payload}),sn),dr),_r=Object(u.handleActions)((un={},S()(un,C.actionTypes.search.RESET_ADVANCED_SEARCH,function(e,t){return 0}),S()(un,C.actionTypes.search.LOAD_MORE_REFINE_SEARCH,function(e,t){return t.payload}),S()(un,C.actionTypes.search.LOAD_RELEVANT_MORE_REFINE_SEARCH,function(e,t){return t.payload}),un),0),Er=Object(u.handleActions)((ln={},S()(ln,C.actionTypes.search.RESET_ADVANCED_SEARCH,function(e,t){return{}}),S()(ln,C.actionTypes.search.FILL_ADVANCED_SEARCH_LIST,function(e,t){return t.payload}),ln),{}),fr=Object(u.handleActions)((dn={},S()(dn,C.actionTypes.search.RESET_ADVANCED_SEARCH,function(e,t){return tr.ADVANCED_SEARCH_LOAD_TYPE.NORMAL}),S()(dn,C.actionTypes.search.SET_ADVANCED_SEARCH_LOAD_TYPE,function(e,t){return t.payload}),dn),tr.ADVANCED_SEARCH_LOAD_TYPE.NORMAL),Tr=Object(u.handleActions)(S()({},C.actionTypes.search.SET_IS_SEARCH_HISTORY_SHOWN,function(e,t){return t.payload}),!0),Sr=Object(u.handleActions)((pn={},S()(pn,C.actionTypes.search.SET_IS_ADVANCE_SEARCH_ICON_SHOWN,function(e,t){return t.payload}),S()(pn,C.actionTypes.search.LEAVE_WIKI,function(e,t){return!0}),S()(pn,C.actionTypes.search.ENTER_WIKI,function(e,t){return!1}),pn),!0),mr=Object(u.handleActions)(S()({},C.actionTypes.search.SET_IS_BROWSE_HISTORY_SHOWN,function(e,t){return t.payload}),!0),Or=Object(u.handleActions)((_n={},S()(_n,C.actionTypes.search.SET_IS_MORE_RECENT_BTN_SHOWN,function(e,t){return t.payload}),S()(_n,C.actionTypes.search.LEAVE_WIKI,function(e,t){return!0}),S()(_n,C.actionTypes.search.ENTER_WIKI,function(e,t){return!1}),_n),!0),br=Object(u.handleActions)((En={},S()(En,C.actionTypes.search.SET_IS_USER_CANDIDATE_ITEMS_SHOWN,function(e,t){return t.payload}),S()(En,C.actionTypes.search.LEAVE_WIKI,function(e,t){return!0}),S()(En,C.actionTypes.search.ENTER_WIKI,function(e,t){return!1}),En),!0),yr=Object(u.handleActions)((fn={},S()(fn,C.actionTypes.search.SET_IS_USER_CANDIDATE_ITEMS_SHOWN,function(e,t){return t.payload}),S()(fn,C.actionTypes.search.LEAVE_WIKI,function(e,t){return!0}),S()(fn,C.actionTypes.search.ENTER_WIKI,function(e,t){return!1}),fn),!0),hr=Object(u.handleActions)((Tn={},S()(Tn,C.actionTypes.search.LEAVE_WIKI,function(e,t){return!0}),S()(Tn,C.actionTypes.search.ENTER_WIKI,function(e,t){return!1}),Tn),!0),vr=Object(u.handleActions)((Sn={},S()(Sn,C.actionTypes.search.LEAVE_WIKI,function(e,t){return!1}),S()(Sn,C.actionTypes.search.ENTER_WIKI,function(e,t){return!0}),Sn),!1),Ir=Object(u.handleActions)((mn={},S()(mn,C.actionTypes.search.LEAVE_WIKI,function(e,t){return!0}),S()(mn,C.actionTypes.search.ENTER_WIKI,function(e,t){return!1}),mn),!0),Cr=Object(u.handleActions)((On={},S()(On,C.actionTypes.search.LEAVE_WIKI,function(e,t){return!0}),S()(On,C.actionTypes.search.ENTER_WIKI,function(e,t){return!1}),On),!0),Rr=Object(i.combineReducers)({currentSearchTab:rr,currentRecentTab:ar,currentSearchedUsers:or,currentSearchedChats:ir,currentSearchedFolders:sr,currentOpenTime:ur,currentSearchedWikiSpaces:cr,currentSearchFileType:lr,currentSearchResult:Er,currentSearchLoadType:fr,currentSearchOffset:_r,currentSearchDemand:pr,isChatCandidateItemsShown:yr,isUserCandidateItemsShown:br,isRelatedResultBtnShown:Ir,isAdvanceSearchByGlobalSearchEnable:Cr,isMoreRecentBtnShown:Or,isAdvanceSearchIconShown:Sr,isSearchHistoryShown:Tr,isSearchIconTooltipShown:hr,isSearchWikiOnly:vr,isBrowseHistoryShown:mr}),gr=Object(u.handleActions)(S()({},C.actionTypes.explorer.SET_CURRENT_DRAGGING_ITEMS,function(e,t){return t.payload.reduce(function(e,t){var n=t.token||t.obj_token;return e.set(n,t)},m.default.Map())}),m.default.Map({})),Ar=Object(u.handleActions)(S()({},C.actionTypes.explorer.FETCH_ISV_CONFIG_SUCCESS,function(e,t){var n=t.payload,r=n.entities;return n.app_ids.reduce(function(e,t){return e.set(t,r[t])},m.default.Map())}),m.default.Map({})),kr=Object(u.handleActions)(S()({},C.actionTypes.explorer.FETCH_ISV_CONFIG_SUCCESS,function(e,t){var n=t.payload.app_ids;return m.default.List(n)}),m.default.List([])),Dr=Object(i.combineReducers)({config:Ar,indexes:kr}),jr=Object(u.handleActions)(S()({},C.actionTypes.explorer.FETCH_TEAM_SPACE_COVERS_SUCCESS,function(e,t){var n=t.payload.cover_list;return Object(m.List)(n)}),Object(m.List)()),Lr=n("9VmL"),wr=Object(u.handleActions)(S()({},"".concat(Lr.a.WIKI_GET_ALL_SPACE,"_SUCCESS"),function(e,t){return t.payload.map(function(e){return e.space_id})}),[]),Nr=Object(u.handleActions)((bn={},S()(bn,Object(u.combineActions)("".concat(Lr.a.WIKI_GET_ALL_SPACE,"_SUCCESS")),function(e,t){return t.payload.reduce(function(e,t){var n=t.space_id;return e[n]={spaceId:n,spaceName:t.space_name,spaceIcon:t.space_icon,isStar:t.is_star,homePage:{objToken:Object(T.default)(t,"home_page.obj_token"),objType:Object(T.default)(t,"home_page.obj_type"),wikiToken:Object(T.default)(t,"home_page.wiki_token")},description:t.description,attr:t.attr,spaceCover:{key:Object(T.default)(t,"space_cover.key"),origin:Object(T.default)(t,"space_cover.origin"),thumbnail:Object(T.default)(t,"space_cover.thumbnail"),isGraphDark:Object(T.default)(t,"space_cover.is_graph_dark")}},e},{})}),S()(bn,"".concat(Lr.a.WIKI_ADD_STAR_SPACE,"_SUCCESS"),function(e,t){var n=t.payload.space_id,r=Object.assign({},e[n],{isStar:!0});return Object.assign({},e,S()({},n,r))}),S()(bn,"".concat(Lr.a.WIKI_DEL_STAR_SPACE,"_SUCCESS"),function(e,t){var n=t.payload.space_id,r=Object.assign({},e[n],{isStar:!1});return Object.assign({},e,S()({},n,r))}),S()(bn,Lr.a.WIKI_UPDATE_DATA_WHEN_LEAVE,function(e,t){var n=t.payload;return n.spaces||e}),bn),{}),Ur=Object(u.handleActions)(S()({},Object(u.combineActions)("".concat(Lr.a.FETCH_RECENT_WIKI_IN_SUITE_BACK_NAV_SUCCESS)),function(e,t){var n=t.payload,r=n.wiki_browses,a=n.options,o=r.map(function(e){return{wikiId:e.wiki_id,wikiToken:e.wiki_token,wikiTitle:e.title,objToken:e.obj_token,objType:e.obj_type}});return a.isContinuous?e.concat(o):o}),[]),Pr=Object(u.handleActions)((yn={},S()(yn,Lr.a.WIKI_FETCH_EDITABLE_SPACES_SUCCESS,function(e,t){return t.payload.reduce(function(e,t){var n=t.space_id,r=t.space_name,a=t.space_icon,o=t.home_page;return e[n]={spaceId:n,spaceName:r,spaceIcon:a,homePage:{objToken:Object(T.default)(o,"obj_token"),objType:Object(T.default)(o,"obj_type"),wikiToken:Object(T.default)(o,"wiki_token")}},e},{})}),S()(yn,Lr.a.WIKI_UPDATE_EDITABLE_SPACE,function(e,t){var n=t.payload,r=n.spaceId;return Object.assign({},e,S()({},r,Object.assign({},e[r],{},n)))}),yn),{}),Mr=Object(u.handleActions)(S()({},"".concat(Lr.a.WIKI_FETCH_USER_ROLE,"_SUCCESS"),function(e,t){var n=t.payload,r=n.role,a=n.prop,o=n.space_id;return Object.assign({},e,S()({},o,{role:r,memberProp:a,timestamp:Date.now()}))}),{}),xr={homeGuideOn:!1,createDocGuideOn:!1,sharedDocGuideOn:!1,undoRedoGuideRequired:!1,createMenuVisible:!1,preferenceOptions:[]},Fr=Object(u.handleActions)((hn={},S()(hn,C.actionTypes.onboarding.HOME_GUIDE_PREPARE,function(e){return Object.assign({},e,{homeGuideOn:!1})}),S()(hn,C.actionTypes.onboarding.CREATE_DOC_GUIDE_PREPARE,function(e){return Object.assign({},e,{createDocGuideOn:!1,sharedDocGuideOn:!1})}),S()(hn,C.actionTypes.onboarding.CREATE_DOC_GUIDE_READY,function(e,t){var n=t.payload.on;return Object.assign({},e,{createDocGuideOn:n})}),S()(hn,C.actionTypes.onboarding.SHARED_DOC_GUIDE_PREPARE,function(e){return Object.assign({},e,{createDocGuideOn:!1,sharedDocGuideOn:!1})}),S()(hn,C.actionTypes.onboarding.SHARED_DOC_GUIDE_READY,function(e,t){var n=t.payload.on;return Object.assign({},e,{sharedDocGuideOn:n})}),S()(hn,C.actionTypes.onboarding.UNDO_REDO_GUIDE_CHECK_STATE,function(e){return Object.assign({},e,{undoRedoGuideRequired:!1})}),S()(hn,C.actionTypes.onboarding.UNDO_REDO_GUIDE_SET_ON,function(e){return Object.assign({},e,{undoRedoGuideRequired:!0})}),S()(hn,C.actionTypes.onboarding.SET_SPACE_TUTORIAL_CREATE_MENU_VISIBLE,function(e,t){var n=t.payload.visible;return Object.assign({},e,{createMenuVisible:n})}),S()(hn,C.actionTypes.onboarding.INIT_PREFERENCE_OPTIONS,function(e,t){return Object.assign({},e,{preferenceOptions:t.payload})}),S()(hn,C.actionTypes.onboarding.TOGGLE_PREFERENCE_OPTION,function(e,t){var n=t.payload;if(!n)return e;var r=e.preferenceOptions.map(function(e){return e.type===n&&(e.selected=!e.selected),e});return Object.assign({},e,{preferenceOptions:r})}),hn),xr),Hr=n("Qyje"),Br=n.n(Hr),Gr=Object(u.handleActions)((vn={},S()(vn,C.actionTypes.route.LOCATION_CHANGE,function(e,t){var n=t.payload,r=n.pathname,a=n.search,o=Object(X.getCurrentRouteObj)(r),i=Br.a.parse(a.replace("?",""));return m.default.fromJS(Object.assign({},o,{query:i}))}),S()(vn,C.actionTypes.route.SET_ROUTE_OBJ,function(e,t){if(t.payload)return m.default.fromJS(t.payload)}),vn),m.default.Map({})),Kr=Object(u.handleActions)((In={},S()(In,C.actionTypes.ui.OPEN_MODAL,function(e,t){var n=t.payload,r=n.modalType,a=n.modalProps;return e.find(function(e){return e.type===r})?e:e.concat({type:r,props:a})}),S()(In,C.actionTypes.ui.CLOSE_MODAL,function(e,t){var n=t.payload.modalType;return n?e.filter(function(e){var t=e.type;return n!==t}):e.butLast()}),S()(In,C.actionTypes.ui.CLOSE_ALL_MODAL,function(e,t){return e.clear()}),In),m.default.OrderedSet([])),Wr=Object(u.handleActions)(S()({},C.actionTypes.template.SET_TEMPLATE_MODE,function(e,t){return t.payload}),!1),Vr=Object(u.handleActions)(S()({},C.actionTypes.template.TOGGLE_TEMPLATE_VISIBLE,function(e,t){return t.payload}),!0),Yr=Object(u.handleActions)(S()({},C.actionTypes.template.FETCH_TEMPLATE_LIST_SUCCESS,function(e,t){return Object.values(Object(ct.h)(t,"nodes")).filter(function(e){return e.type!==pe.NUM_FILE_TYPE.FOLDER})}),[]),Qr=Object(u.handleActions)(S()({},C.actionTypes.template.FETCH_TEMPLATE_BANNER_RECOMMENDATIONS_SUCCESS,function(e,t){return t.payload.templates}),[]),Jr=Object(u.handleActions)(S()({},C.actionTypes.template.FETCH_TEMPLATE_BANNER_RECOMMENDATIONS_V2_SUCCESS,function(e,t){return t.payload.template_banners}),[]),qr=Object(i.combineReducers)({isTemplateMode:Wr,isTemplateVisible:Vr,templateList:Yr,recommendTemplates:Qr,recommendTemplatesV2:Jr}),zr={isTodoCenterOpen:!1},Xr=Object(u.handleActions)((Cn={},S()(Cn,C.actionTypes.todo.TOGGLE_TODO_CENTER_PANEL,function(e){return Object.assign({},e,{isTodoCenterOpen:!e.isTodoCenterOpen})}),S()(Cn,C.actionTypes.todo.SET_TODO_CENTER_PANEL_OPEN_STATUS,function(e,t){var n=t.payload;return Object.assign({},e,{isTodoCenterOpen:n})}),Cn),zr),Zr=n("fujP"),$r=Object(Te.z)()?{DOC:"docs",SHEET:"sheets",SLIDE:"slides",MINDNOTE:"mindnotes",BITABLE:"base",DOC_OLD:"doc",SHEET_OLD:"sheet",SLIDE_OLD:"slide",MINDNOTE_OLD:"mindnote",BITABLE_OLD:"bitable"}:{DOC:"doc",SHEET:"sheet",SLIDE:"slide",MINDNOTE:"mindnote",BITABLE:"bitable"},ea=Object.assign({FILE:"file",WIKI:"wiki",FOLDER:"folder",TRASH:"trash",SHARE_FILES:"share-files",SHARE_FOLDERS:"share-folder",DRIVE_PREFIX:"drive",SPACE_PREFIX:"space"},$r),ta=n("lQZd"),na=n("USG6"),ra="@@router/LOCATION_CHANGE",aa={sheet:na,route:r},oa=n("SIew"),ia=Object(u.handleActions)(S()({},oa.a.SYNC_NOTE_META,function(e,t){return t.payload}),{}),ca=Object(u.handleActions)(S()({},oa.a.FETCH_CURRENT_SUITE_SUCCESS,function(e,t){return t.payload.ssid||""}),""),sa=Object(u.handleActions)((Rn={},S()(Rn,aa.route.LOCATION_CHANGE,function(e,t){var n,r=Object(ta.m)(),a=t.payload.pathname,o=[ea.DOC,ea.SHEET,ea.SLIDE,ea.MINDNOTE,ea.BITABLE,ea.FILE,ea.WIKI].concat(nt()(Object(Te.z)()?[ea.DOC_OLD,ea.SHEET_OLD,ea.SLIDE_OLD,ea.MINDNOTE_OLD,ea.BITABLE_OLD]:[])),i=new RegExp("(".concat(o.join("|"),")\\/([^/?#]+)\\/*")).exec(a);return i?(n=i[2].replace(/\/*$/,""),window.noteToken=n,e.clear().merge({type:r,obj_token:n})):e.clear()}),S()(Rn,oa.a.SET_CURRENT_SUITE_TOKEN,function(e,t){var n=t.payload,r=n.obj_token,a=n.type;return e.clear().merge({obj_token:r,type:parseInt(a,10)})}),Rn),m.default.fromJS({})),ua=Object(u.handleActions)(S()({},oa.a.SET_SHOULD_PRINT,function(e,t){return t.payload}),!1),la=Object(u.handleActions)(S()({},oa.a.UPDATE_APPEAL_STATUS,function(e,t){return t.payload}),!1),da=Object(u.handleActions)(S()({},oa.a.SET_HELP_BTN_VISIBLE,function(e,t){return t.payload}),!0),pa=Object(u.handleActions)(S()({},oa.a.SET_HELP_BTN_ACTIVATED,function(e,t){return t.payload}),!1),_a=Object(u.handleActions)(S()({},oa.a.SET_HELP_SIDE_BAR_VISIBLE,function(e,t){return t.payload}),!0),Ea=Object(u.handleActions)((gn={},S()(gn,oa.a.FETCH_SUITE_WIKI_INFO_SUCCESS,function(e,t){var n=t.payload;return Object.assign({},n,{isPublishToWiki:!Object(Zr.default)(n)})}),S()(gn,oa.a.REMOVE_SUITE_WIKI_INFO,function(e,t){var n=t.payload;if(!n)return Object.assign({},e,{isPublishToWiki:!1});var r=e.node_path,a=e.space_value;return delete r[n],delete a[n],Object.assign({},e,{isPublishToWiki:!Object(Zr.default)(r)&&!Object(Zr.default)(a)})}),S()(gn,oa.a.UPDATE_DOC_TITLE,function(e,t){if(Object(ta.i)()===ea.WIKI)return{};var n=t.payload.title,r=e.isPublishToWiki,a=e.node_path,o=void 0===a?{}:a;return r?(Object.keys(o).forEach(function(e){var t=o[e];t[t.length-1].title=n}),Object.assign({},e)):e}),gn),{isPublishToWiki:!1}),fa=Object(u.handleActions)(S()({},oa.a.SET_EMBED_SIDEBAR_VISIBLE,function(e,t){var n=t.payload;return void 0===n?!e:n}),!1),Ta=Object(u.handleActions)((An={},S()(An,oa.a.FETCH_WIKI_ENTITY_START,function(e,t){var n=t.payload.wikiToken;return e&&e.wiki_token!==n?null:e}),S()(An,oa.a.FETCH_WIKI_ENTITY_SUCCESS,function(e,t){return t.payload}),S()(An,C.actionTypes.explorer.UPDATE_SUBSCRIBE_STATUS,function(e,t){var n=t.payload,r=n.isSubscribed,a=n.wikiToken;return e&&a&&e.wiki_token===a?Object.assign({},e,{is_subscribed:r}):e}),S()(An,Object(u.combineActions)(C.actionTypes.explorer.ADD_STAR_SUCCESS,C.actionTypes.explorer.REMOVE_STAR_SUCCESS,C.actionTypes.explorer.ADD_PIN_SUCCESS,C.actionTypes.explorer.ADD_PIN_SILENTLY_SUCCESS,C.actionTypes.explorer.REMOVE_PIN_SUCCESS,C.actionTypes.explorer.SUBSCRIBE_SUCCESS,C.actionTypes.explorer.UNSUBSCRIBE_SUCCESS),function(e,t){var n=t.payload,r=n.objToken,a=n.field,o=n.value;return null===e||e.wiki_token!==r?e:Object.assign({},e,S()({},a,o))}),S()(An,oa.a.SET_EXPLORER_WIKI_ENTITY,function(e,t){return t.payload}),An),null),Sa=n("U50s"),ma=Object(u.handleActions)((kn={},S()(kn,C.actionTypes.rule.GET_ALL_SMART_COLLECTION_SUCCESS,function(e,t){var n=t.payload.rules.map(function(e){return e.rule_id});return e.concat(m.default.List(n))}),S()(kn,C.actionTypes.rule.CREATE_SMART_COLLECTION_SUCCESS,function(e,t){var n=t.payload.rule_id;return e.push(n)}),S()(kn,C.actionTypes.rule.REMOVE_SMART_COLLECTION_SUCCESS,function(e,t){var n=t.payload.ruleId,r=e.findIndex(function(e){return e===n});return e.remove(r)}),S()(kn,C.actionTypes.rule.SORT_SMART_COLLECTION_SUCCESS,function(e,t){var n=t.payload,r=n.ruleId,a=n.afterId,o=e.findIndex(function(e){return e===+r}),i=e.findIndex(function(e){return e===a})+1;return 0==+a&&(i=0),o<i?e.insert(i,+r).remove(o):e.remove(o).insert(i,r)}),kn),m.default.List([])),Oa=Object(u.handleActions)((Dn={},S()(Dn,C.actionTypes.rule.GET_ALL_SMART_COLLECTION_SUCCESS,function(e,t){var n=t.payload,r=n.rules,a=n.owners;return e.withMutations(function(n){r.forEach(function(e){var t=Object(Sa.g)(e,a);return n.set(e.rule_id,new ot.a(t))})})}),S()(Dn,C.actionTypes.rule.UPDATE_SMART_COLLECTION_VIEW_SETTING_SUCCESS,function(e,t){var n=t.payload,r=n.rule_id,a=n.asc,o=n.rank,i=e.get(r);return i?e.set(r,i.merge({asc:a,rank:o})):e}),S()(Dn,Object(u.combineActions)(C.actionTypes.rule.CREATE_SMART_COLLECTION_SUCCESS,C.actionTypes.rule.GET_SINGLE_SMART_COLLECTION_SUCCESS,C.actionTypes.rule.UPDATE_SMART_COLLECTION_SUCCESS),function(e,t){var n=t.payload,r=n.rule_id,a=n.owners,o=Object(Sa.g)(n,a);return e.set(r,new ot.a(Object.assign({},o,{redDot:!1})))}),S()(Dn,C.actionTypes.rule.CLEAR_COLLECTION_RED_DOT_BY_ID,function(e,t){var n=t.payload.rule_id;return e.has(n)?e.setIn([n,"redDot"],!1):e}),S()(Dn,C.actionTypes.rule.REMOVE_SMART_COLLECTION_SUCCESS,function(e,t){var n=t.payload.ruleId;return e.delete(n)}),S()(Dn,C.actionTypes.rule.FETCH_SMART_COLLECTION_RED_DOT_ID_LIST_SUCCESS,function(e,t){var n=t.payload.rules;return e.withMutations(function(t){Object.keys(n).forEach(function(e){t.has(e)&&t.setIn([e,"redDot"],!0)})})}),Dn),m.default.Map({})),ba=n("Wxx7"),ya=n("B1Yb"),ha=Object(u.handleActions)(S()({},ya.a.SET_CURRENT_LIST_NAME,function(e,t){return t.payload&&t.payload!==e?t.payload:e}),it.p.Unknown),va=Object(u.handleActions)(S()({},ya.a.SET_TR_CLICKED,function(e,t){return t.payload}),!1),Ia=Object(u.handleActions)(S()({},ya.a.SET_SPACE_HEADER,function(e,t){return t.payload||null}),null),Ca=Object(u.handleActions)(S()({},ya.a.TOGGLE_SHOW_HIDDEN_SHARED_FOLDER,function(e,t){return!e}),!1),Ra=Object(u.handleActions)(S()({},ya.a.TOGGLE_RIGHT_BAR_EXPAND,function(e,t){return!e}),!0),ga=Object(u.handleActions)(S()({},ya.a.CLOSE_FESTIVAL_MODAL,function(e,t){return!1}),!0);function Aa(){return{currentListName:ha,trClicked:va,currentSpaceHeaderId:Ia,isHiddenSharedFolderVisible:Ca,isRightBarExpanded:Ra,isFestivalModalVisible:ga}}var ka,Da,ja,La,wa,Na,Ua,Pa,Ma,xa,Fa,Ha=n("HI9p"),Ba=n("Ux/T"),Ga=function(e){var t=e.rootType,n=e.rootToken,r=e.subCommentToken,a=e.commentId,o=e.replyId,i=e.state,c=e.updateReplyInfo,s=Object(Ba.b)(t,n,r),u=Object.assign({},i,S()({},s,Object.assign({},i[s]))),l=u[s][a],d=l.commentList,p=Object(Ha.a)(d,function(e){return e.replyId===o}),_=c.shouldDelete?d.filter(function(e){return e.replyId!==o}):[].concat(l.commentList);return-1<p?_[p]=Object.assign({},_[p],{},c):_.push(c),u[s][a]=Object.assign({},l,{commentList:_}),u},Ka=function(e,t){var n=t.payload,r=n.comments,a=n.rootToken,o=n.rootType,i=n.subCommentToken,c=Object(Ba.b)(o,a,i),s=e,u=Object.assign({},e,S()({},c,Object.assign({},e[c])));return r.forEach(function(o){var i,e,t,n=o.commentId,r=s[c],a=r&&r[n];Object(rt.default)(a,o)||(e=(i=Object(T.default)(a,"commentList",[])).filter(function(e){var t=e.type,n=e.sending,r=e.error,a=e.replyId;return"reply"===t&&(!o.commentList.find(function(e){return e.replyId===a||e.compatibleReplyIdBeforeSend===a})&&(n||r))}),0!==(t=o.commentList.map(function(e){var t=e.replyId,n=e.updateTimestamp,r=i.find(function(e){return e.replyId===t});if(r){var a=r.updateTimestamp;if("update"===r.type&&n&&a&&n<a)return Object.assign({},e,{},r)}return Object.assign({},e)}).concat(e)).length?u[c][n]=Object.assign({},o,{commentList:t}):delete u[c][n])}),u},Wa=function(){var e=Date.now();return Math.floor(e/1e3)},Va=function(e){var t=e.userId,n=e.replyId,r=e.content,a=e.extra,o=e.realReplyId,i=Wa();return{userId:t,replyId:n,content:r,extra:a,realReplyId:o,type:"reply",createTimestamp:i,updateTimestamp:i}},Ya=Object(u.handleActions)((ka={},S()(ka,C.actionTypes.commentData.FETCH_COMMENT_COMPLETE,function(e,t){return t.payload?Ka(e,t):e}),S()(ka,C.actionTypes.commentData.MERGE_COMMENTS,function(e,t){return t.payload?Ka(e,t):e}),S()(ka,C.actionTypes.commentData.RESET_COMMENTS,function(e,t){if(!t.payload)return e;var n=t.payload,r=n.rootType,a=n.rootToken,o=n.subCommentToken,i=Object(Ba.b)(r,a,o);return Object.assign({},e,S()({},i,[]))}),S()(ka,C.actionTypes.commentData.REPLY_COMMENT_BEGIN,function(e,t){if(!t.payload)return e;var n=t.payload,r=n.replyCommentParams,a=n.rootType,o=n.rootToken,i=n.subCommentToken,c=r.commentId,s=r.replyId,u=Object.assign({},Va(r),{sending:!0,error:null});return Ga({rootType:a,rootToken:o,subCommentToken:i,commentId:c,replyId:s,state:e,updateReplyInfo:u})}),S()(ka,C.actionTypes.commentData.REPLY_COMMENT_ERROR,function(e,t){if(!t.payload)return e;var n=t.payload,r=t.error,a=n.replyCommentParams,o=n.rootType,i=n.rootToken,c=n.subCommentToken,s=a.commentId,u=a.replyId,l=Object.assign({},Va(a),{sending:!1,error:r});return Ga({rootType:o,rootToken:i,subCommentToken:c,commentId:s,replyId:u,state:e,updateReplyInfo:l})}),S()(ka,C.actionTypes.commentData.RESOLVE_COMMENT_ANIMATION_END,function(e,t){if(!t.payload)return e;var n=t.payload,r=n.rootType,a=n.rootToken,o=n.subCommentToken,i=n.commentId,c=Object(Ba.b)(r,a,o),s=e[c];return delete s[i],Object.assign({},e,S()({},c,Object.assign({},s)))}),S()(ka,C.actionTypes.commentData.UPDATE_COMMENT_BEGIN,function(e,t){if(!t.payload)return e;var n=t.payload,r=n.updateCommentParams,a=n.rootType,o=n.rootToken,i=n.subCommentToken,c=r.commentId,s=r.replyId;return Ga({rootType:a,rootToken:o,subCommentToken:i,commentId:c,replyId:s,state:e,updateReplyInfo:Object.assign({},r,{type:"update",sending:!0,error:null})})}),S()(ka,C.actionTypes.commentData.UPDATE_COMMENT_ERROR,function(e,t){if(!t.payload)return e;var n=t.payload,r=t.error,a=n.updateCommentParams,o=n.rootType,i=n.rootToken,c=n.subCommentToken,s=a.commentId,u=a.replyId;return Ga({rootType:o,rootToken:i,subCommentToken:c,commentId:s,replyId:u,state:e,updateReplyInfo:Object.assign({},a,{type:"update",sending:!1,error:r})})}),S()(ka,C.actionTypes.commentData.DELETE_COMMENT_BEGIN,function(e,t){if(!t.payload)return e;var n=t.payload,r=n.deleteCommentParams,a=n.rootType,o=n.rootToken,i=n.subCommentToken,c=r.commentId,s=r.replyId;return Ga({rootType:a,rootToken:o,subCommentToken:i,commentId:c,replyId:s,state:e,updateReplyInfo:{type:"delete",sending:!0,error:null}})}),S()(ka,C.actionTypes.commentData.DELETE_COMMENT_ERROR,function(e,t){if(!t.payload)return e;var n=t.payload,r=t.error,a=n.deleteCommentParams,o=n.rootType,i=n.rootToken,c=n.subCommentToken,s=a.commentId,u=a.replyId;return Ga({rootType:o,rootToken:i,subCommentToken:c,commentId:s,replyId:u,state:e,updateReplyInfo:{sending:!1,type:"delete",error:r}})}),S()(ka,C.actionTypes.commentData.START_NEW_COMMENT,function(e,t){if(!t.payload)return e;var n=t.payload,r=n.commentId,a=n.rootType,o=n.subCommentToken,i=n.rootToken,c=n.quote,s=n.source,u=n.isWhole,l=Object(Ba.b)(a,i,o),d=Object.assign({},e,S()({},l,Object.assign({},e[l])));return d[l][r]={commentId:r,quote:c,source:s,unSubmitComment:!0,commentList:[],isWhole:u},d}),S()(ka,C.actionTypes.commentData.ADD_COMMENT_BEGIN,function(e,t){if(!t.payload)return e;var n=t.payload,r=n.rootType,a=n.rootToken,o=n.addCommentParams,i=n.subCommentToken,c=o.commentId,s=o.replyId,u=o.userId,l=o.content,d=o.extra,p=o.realReplyId,_=Wa();return Ga({rootType:r,rootToken:a,subCommentToken:i,commentId:c,replyId:s,state:e,updateReplyInfo:{userId:u,realReplyId:p,replyId:s,content:l,extra:d,createTimestamp:_,updateTimestamp:_,sending:!0,error:null}})}),S()(ka,C.actionTypes.commentData.ADD_COMMENT_ERROR,function(e,t){if(!t.payload)return e;var n=t.error,r=t.payload,a=r.rootType,o=r.rootToken,i=r.addCommentParams,c=r.subCommentToken,s=i.commentId,u=i.replyId;return Ga({rootType:a,rootToken:o,subCommentToken:c,commentId:s,replyId:u,state:e,updateReplyInfo:{replyId:u,sending:!1,error:n}})}),S()(ka,C.actionTypes.commentData.LINK_COMMENT_TO_DOC,function(e,t){if(!t.payload)return e;var n=t.error,r=t.payload,a=r.commentId,o=r.replyId,i=r.tempReplyId,c=r.rootType,s=r.rootToken,u=r.subCommentToken;return Ga({rootType:c,rootToken:s,subCommentToken:u,commentId:a,replyId:i,state:e,updateReplyInfo:{replyId:o,sending:!0,error:n}})}),S()(ka,C.actionTypes.commentData.LINK_COMMENT_TO_DOC_OK,function(e,t){if(!t.payload)return e;var n=t.payload,r=n.tempCommentId,a=n.commentId,o=n.rootType,i=n.rootToken,c=n.subCommentToken,s=Object(Ba.b)(o,i,c),u=Object.assign({},e,S()({},s,Object.assign({},e[s]))),l=u[s][r],d=l.commentList.map(function(e,t){return 0===t?Object.assign({},e,{sending:!1,error:null}):Object.assign({},e)});return u[s][a]||(u[s][a]=Object.assign({},l,{unSubmitComment:!1,commentId:a,commentList:d})),r!==a&&delete u[s][r],u}),S()(ka,C.actionTypes.commentData.LINK_COMMENT_TO_DOC_ERROR,function(e,t){if(!t.payload)return e;var n=t.payload,r=n.commentId,a=n.error,o=n.replyId,i=n.rootType,c=n.rootToken,s=n.subCommentToken;return Ga({rootType:i,rootToken:c,subCommentToken:s,commentId:r,replyId:o,state:e,updateReplyInfo:{sending:!1,error:a}})}),S()(ka,C.actionTypes.commentData.DELETE_TEMPLATE_COMMENT,function(e,t){if(!t.payload)return e;var n,r,a,o,i,c=t.payload,s=c.commentId,u=c.replyId,l=c.rootType,d=c.rootToken,p=c.subCommentToken,_=c.type,E=c.oldContent,f=Object(Ba.b)(l,d,p),T=Object.assign({},e,S()({},f,Object.assign({},e[f])));return"add"===_?(n=T[f][s],T[f][s]=Object.assign({},n,{commentList:[]})):"reply"===_?(a=(r=T[f][s]).commentList.filter(function(e,t){return e.replyId!==u}),T[f][s]=Object.assign({},r,{commentList:a})):"update"===_&&(i=(o=T[f][s]).commentList.map(function(e,t){return e.replyId===u?Object.assign({},e,{content:E,sending:null,error:null}):e}),T[f][s]=Object.assign({},o,{commentList:i})),T}),ka),{}),Qa=Object(u.handleActions)(S()({},C.actionTypes.commentLoadStatus.SET_COMMENT_LOAD_STATUS,function(e,t){if(!t.payload)return e;var n=t.payload.statusData,o=Object.assign({},e);return n.forEach(function(e){var t=e.serviceToken,n=e.serviceType,r=e.isLoading,a="".concat(n,"-").concat(t);o[a]=r}),o}),{}),Ja=n("pHS2"),qa=(Object(u.handleActions)((Da={},S()(Da,C.actionTypes.messageData.SET_NOTIFICATIONS,function(e,t){if(!t.payload)return e;var c=e.messages,n=t.payload.messages,s=new Map;return n.forEach(function(e){var t,n,r,a=e.mentionId,o=e.messageId,i=e.related;o&&(a&&!i||(n=(t=c.get(e.messageId))?t.initStatus:e.status,r=Object.assign({},e,{initStatus:n}),s.set(e.messageId,r)))}),Object.assign({},e,{messages:s})}),S()(Da,C.actionTypes.messageData.UPDATE_BUTTON_STATUS,function(e,t){if(!t.payload)return e;var n=t.payload,r=n.type,a=n.messageId,o=n.actionId,i=n.actionBtnIndex,c=e.messages,s=new Map(c),u=c.get(a);if(!u)return e;if("message-card"===r&&i){var l=u.content,d=JSON.parse(l);if(!d)return e;d.action_button_index=i;var p=JSON.stringify(d),_=Object.assign({},u,{content:p});return s.set(a,_),Object.assign({},e,{messages:s})}if("message-card-new"===r&&o){var E,f=u.content.richtext.elements.dictionary,T=Object.assign({},f);for(E in T){var S=T[E],m=S.property.actionId;m&&m===o?S.property.disable=!0:m&&m!==o&&(S.property.visible=!1)}u.content.richtext.elements.dictionary=T;var O=Object.assign({},u);return s.set(a,O),Object.assign({},e,{messages:s})}return e}),S()(Da,C.actionTypes.messageData.SET_ACTIVE_NOTIFICATION,function(e,t){if(!t.payload)return e;var n=t.payload,r=n.commentId,a=n.mentionId,o=n.commentOption;return Object.assign({},e,{commentId:r,mentionId:a,commentOption:o})}),Da),{messages:new Map,commentId:null,mentionId:null,commentOption:{}}),Object(u.handleActions)((ja={},S()(ja,C.actionTypes.messageData.SET_MESSAGES,function(e,t){if(!t.payload)return e;var c=e,n=t.payload.messages,s=new Map;return n.forEach(function(e){var t,n,r,a=e.mentionId,o=e.messageId,i=e.related;o&&(a&&!i||(n=(t=c.get(e.messageId))?t.initStatus:e.status,r=Object.assign({},e,{initStatus:n}),s.set(e.messageId,r)))}),s}),S()(ja,C.actionTypes.messageData.RESET_MESSAGES,function(e,t){return new Map}),S()(ja,C.actionTypes.messageData.SET_MESSAGE_STATUS,function(e,t){if(!t.payload)return e;var n=t.payload,r=n.type,a=n.id,o=new Map(e),i=!0,c=!1,s=void 0;try{for(var u,l=o.values()[Symbol.iterator]();!(i=(u=l.next()).done);i=!0){var d,p=u.value,_=p.commentId,E=p.mentionId,f=p.messageId;("comment"===r&&_===a&&f||"mention"===r&&E===a&&f)&&(d=Object.assign({},p,{initStatus:2}),o.set(f,d))}}catch(e){c=!0,s=e}finally{try{i||null==l.return||l.return()}finally{if(c)throw s}}return o}),ja),new Map)),za=Object(u.handleActions)(S()({},C.actionTypes.messageData.SET_INCOMING_MESSAGES,function(e,t){if(!t.payload)return e;var n=t.payload.messages;return[].concat(n)}),[]),Xa=Object(u.handleActions)((La={},S()(La,C.actionTypes.messageData.FETCH_MESSAGES_COMPLETE,function(e,t){if(!t.payload)return e;var n,r=t.payload.messages,a=Object(Ja.a)(r,"commentId"),o={},i={};for(n in delete a[void 0],a){var c=a[n],s=!1,u=c.sort(function(e,t){return t.createTime-e.createTime})[0].createTime;c.forEach(function(e){e.related&&(s=!0)}),s&&(o[n]=u)}return r.forEach(function(e){var t=e.type,n=e.related,r=e.mentionId,a=e.createTime;"MESSAGE_DOC_MENTION"===t&&n&&(i[r]=a)}),{comment:o,mention:i}}),S()(La,C.actionTypes.messageData.SET_MESSAGES,function(e,t){if(!t.payload)return e;var n=t.payload.messages,o=e.comment,i=e.mention;return n.forEach(function(e){var t=e.mentionId,n=e.commentId,r=e.related,a=e.createTime;n&&!o[n]&&r?o[n]=a:t&&!i[t]&&r&&(i[t]=a)}),{comment:Object.assign({},o),mention:Object.assign({},i)}}),S()(La,C.actionTypes.messageData.REMOVE_MESSAGES_NEW_STATUS,function(e,t){if(!t.payload)return e;var n=t.payload,r=n.commentId,a=n.mentionId,o=e.comment,i=e.mention;return r&&(o[r]=!1),a&&(i[a]=!1),{comment:Object.assign({},o),mention:Object.assign({},i)}}),S()(La,C.actionTypes.messageData.RESET_MESSAGES_NEW_STATUS,function(e,t){return{comment:{},mention:{}}}),La),{comment:{},mention:{}}),Za=Object(u.handleActions)((wa={},S()(wa,C.actionTypes.commentPosition.SET_COMMENT_POSITION_DATA,function(e,t){if(!t.payload)return e;var n=t.payload,r=n.commentPositions,a=n.rootToken,o=n.rootType,i=n.subCommentToken,c=n.isLoaded,s=void 0===c||c,u=Object(Ba.b)(o,a,i),l=r.map(function(e){var t=e.commentId,n=e.visible,r=e.context,a=O()(e,["commentId","visible","context"]);return r?e:{commentId:t,visible:n,context:Object.assign({},r,{},a)}});return Object.assign({},e,S()({},u,Object.assign({},e[u],{positions:[].concat(l),isLoaded:s})))}),S()(wa,C.actionTypes.commentPosition.TOGGLE_COMMENT_SHOWN,function(e,t){if(!t.payload)return e;var n=t.payload,r=n.rootToken,a=n.rootType,o=n.subCommentToken,i=n.shown,c=Object(Ba.b)(a,r,o);return Object.assign({},e,S()({},c,Object.assign({},e[c],{shown:i})))}),wa),{}),$a=Object(u.handleActions)(S()({},C.actionTypes.commentPanelPosition.SET_COMMENT_PANEL_POSITION_DATA,function(e,t){if(!t.payload)return e;var n=t.payload,r=n.data,a=n.dirty,o=n.ableToChange;return{data:r?[].concat(r):e.data,dirty:a||e.dirty,ableToChange:o||e.ableToChange}}),{data:[],dirty:null,ableToChange:null}),eo=Object(u.handleActions)((Na={},S()(Na,C.actionTypes.messagePosition.SET_MESSAGE_POSITION_DATA,function(e,t){return t.payload?{position:[].concat(t.payload),isInit:!0}:e}),S()(Na,C.actionTypes.messagePosition.RESET_MESSAGE_POSITION_DATA,function(e,t){return{position:[],isInit:!1}}),S()(Na,C.actionTypes.messagePosition.SET_ACTIVE_NOTIFICATION,function(e,t){if(!t.payload)return e;var n=t.payload,r=n.commentId,a=n.mentionId;return Object.assign({},e,{commentId:r,mentionId:a})}),Na),{position:[],isInit:!1,commentId:null,mentionId:null}),to=Object(u.handleActions)(S()({},C.actionTypes.commentHistory.SET_COMMENT_HISTORY_REOPENING,function(e,t){if(t.payload){var n=t.payload,r=n.commentId;return n.reopening?e.add(r):e.delete(r),new Set(e)}return e}),new Set([])),no=Object(i.combineReducers)({reopening:to}),ro=Object(u.handleActions)(S()({},C.actionTypes.commentReaction.SET_COMMENT_REACTION,function(e,t){return t.payload||e}),new Map),ao=Object(u.handleActions)(S()({},C.actionTypes.commentReaction.SET_COMMENT_REACTION_LOAD_STATUS,function(e,t){var n=t.payload,r=n.suiteType,a=n.suiteToken,o=n.status,i=new Map(e);return i.set("".concat(r,":").concat(a),o),i}),new Map),oo=n("1myf"),io=n("Z0Cl"),co=n("lE2N"),so=n("VI6H"),uo=n("77Gt"),lo=Object(u.handleActions)((Ua={},S()(Ua,C.actionTypes.member.ADD_SUITE_MEMBERS,function(e,t){var n=t.payload,r=n.type,a=n.token,o=n.members,i=Object.assign({},e),c=e[Object(uo.c)(r,a)]||[],s=o.map(function(e){return Object(so.z)(e)}),u=Object(co.a)(c.concat(s),"member_id");return Object(uo.k)(i,{type:r,token:a,members:Object(oo.a)(u,"create_time")}),i}),S()(Ua,C.actionTypes.member.UPDATE_SUITE_MEMBER,function(e,t){var n=t.payload,r=n.type,a=n.token,o=n.memberInfo,i=o.member_id,c=O()(o,["member_id"]),s=e[Object(uo.c)(r,a)]||[],u=Object(Ha.a)(s,function(e){return e.member_id===i}),l=Object.assign({},e);if(-1!==u)return s[u]=Object.assign({},s[u],{},c),l;var d=Object(so.z)(o),p=[].concat(s);return p.push(d),Object(uo.k)(l,{type:r,token:a,members:Object(oo.a)(p,"create_time")}),l}),S()(Ua,C.actionTypes.member.UPDATE_SUITE_MEMBERS,function(e,t){var n=t.payload,r=n.type,a=n.token,o=n.memberInfoList,i=e[Object(uo.c)(r,a)]||[],c=i.reduce(function(e,t,n){return e.set(t.member_id,n)},new Map),s=Object.assign({},e),u=nt()(i);return o.forEach(function(e){var t,n,r=e.member_id,a=O()(e,["member_id"]);c.has(r)?(t=c.get(r),u[t]=Object.assign({},i[t],{},a)):(n=Object(so.z)(e),u.push(n))}),Object(uo.k)(s,{type:r,token:a,members:Object(oo.a)(u,"create_time")}),s}),S()(Ua,C.actionTypes.member.REMOVE_SUITE_MEMBERS,function(e,t){var n=t.payload,r=n.type,a=n.token,o=n.memberIds,i=e[Object(uo.c)(r,a)]||[],c=[].concat(i);o.forEach(function(t){c=Object(io.a)(c,function(e){return e.member_id!==t})});var s=Object.assign({},e);return Object(uo.k)(s,{type:r,token:a,members:c}),s}),S()(Ua,C.actionTypes.member.RESET_SUITE_MEMBERS,function(e,t){var n=t.payload,r=n.type,a=n.token,o=n.members,i=n.count,c=Object.assign({},e);if(o&&i){var s=o.map(function(e){return Object(so.z)(e)}),u=Object(co.a)(s,"member_id");return Object(uo.k)(c,{type:r,token:a,members:Object(oo.a)(u,"create_time")}),c}return Object(uo.a)(c,{type:r,token:a}),c}),Ua),{}),po=Object(u.handleActions)(S()({},C.actionTypes.member.SET_CURRENT_MEMBER_ID,function(e,t){return String(t.payload)}),null),_o=Object(u.handleActions)(S()({},Object(u.combineActions)(C.actionTypes.member.ADD_SUITE_MEMBERS,C.actionTypes.member.REMOVE_SUITE_MEMBERS,C.actionTypes.member.UPDATE_SUITE_MEMBERS,C.actionTypes.member.RESET_SUITE_MEMBERS),function(e,t){var n=t.payload,r=n.token,a=n.count,o=void 0===a?0:a;return Object.assign({},e,S()({},r,Math.max(o-1,0)))}),{}),Eo=n("biPL"),fo=n("Bw5p"),To=Object(m.Record)({selectedMatchIndex:0,total:0,canReplaceSelected:!1,canReplaceAll:!1},"FindReplaceState"),So=new(Object(m.Record)({isOpen:!1,showOnlyFindRow:!0,findText:"",replaceText:"",isFinding:!1,isReplacingAll:!1,result:new To},"FindReplaceState")),mo=Object(u.handleActions)((Pa={},S()(Pa,C.actionTypes.findReplace.OPEN_FIND_REPLACE_BOX,function(e,t){return e.merge(Object.assign({isOpen:!0},Object(fo.a)(t.payload,"findText","showOnlyFindRow")))}),S()(Pa,C.actionTypes.findReplace.CLOSE_FIND_REPLACE_BOX,function(e,t){var n=e.result,r=n.selectedMatchIndex;return e.merge({isOpen:!1,showOnlyFindRow:!0,isFinding:!1,result:n.clear().merge({selectedMatchIndex:r})})}),S()(Pa,C.actionTypes.findReplace.START_FINDING,function(e,t){var n=t.payload.findText;return e.merge({isFinding:!0,findText:n})}),S()(Pa,C.actionTypes.findReplace.UPDATE_FIND_REPLACE_RESULT,function(e,t){return e.merge({isFinding:!1,result:e.result.merge(t.payload)})}),S()(Pa,C.actionTypes.findReplace.SET_REPLACE_TEXT,function(e,t){return e.merge({replaceText:t.payload})}),S()(Pa,C.actionTypes.findReplace.SET_IS_REPLACING_ALL,function(e,t){return e.merge({isReplacingAll:t.payload})}),S()(Pa,C.actionTypes.findReplace.FIND_REPLACE_SHOW_MORE,function(e,t){return e.merge({showOnlyFindRow:!1})}),Pa),So),Oo=n("SLjs"),bo=n("ftdE"),yo={translating:!1,translated:!1,error:"",translate_start:!1,translate_exiting:!1,comment_enable_translate:!1},ho=null,vo={target_lang:"zh",src_lang:"zh",display_type:Oo.b.ONLY_TRANSLATION,enable_auto_translate:!1,supported_src_langs:["en","zh","ja"]},Io={type:bo.b.ORIGINAL,isOpenHistory:!1},Co=Object(u.handleActions)(S()({},C.actionTypes.translate.SET_CLIENTVARS,function(e,t){return t.payload.clientVars}),ho),Ro=Object(u.handleActions)((Ma={},S()(Ma,C.actionTypes.translate.TOGGLE_TRANSLATE,function(e,t){var n=t.payload;return Object.assign({},yo,{translating:n.status})}),S()(Ma,C.actionTypes.translate.UPDATE_TRANSLATE_STATUS,function(e,t){var n=t.payload;return Object.assign({},e,{},n)}),Ma),yo),go=Object(u.handleActions)(S()({},C.actionTypes.translate.UPDATE_TRANSLATE_CONFIG,function(e,t){var n=t.payload,r=Object.assign({},e,{},n);return r.enable_auto_translate_doc_body=r.enable_auto_translate,r.enable_auto_translate_doc_comment=r.enable_auto_translate,r}),vo),Ao=Object(u.handleActions)(S()({},C.actionTypes.translate.UPDATE_TRANSLATION_VIEW,function(e,t){var n=t.payload;return Object.assign({},e,{},n)}),Io),ko=Object(i.combineReducers)({status:Ro,config:go,originClientVars:Co,view:Ao}),Do=Object(u.handleActions)(S()({},C.actionTypes.etherpad.UPDATE_DOC_PERMISSION_USER_MAP,function(e,t){return Object.assign({},e,{},t.payload)}),{}),jo=n("yc0+"),Lo=Object(u.handleActions)((xa={},S()(xa,C.actionTypes.settings.FETCH_USER_SETTING_SUCCESS,function(e,t){var n=t.payload,r=n.settings,a=n.permission_type;return e.merge({permission_type:a||jo.a.CompanyReadable,allow_share_outside:r.allow_share_outside,enable_auto_capitalize:r.initial_setting?1:0,lang_correction_perm:r.ai_setting?1:0})}),S()(xa,C.actionTypes.settings.FETCH_USER_TRANSLATE_SETTING_SUCCESS,function(e,t){return e.merge(Object.assign({},t.payload))}),S()(xa,C.actionTypes.settings.FETCH_IS_USER_TRANSLATE_VIP_SUCCESS,function(e,t){var n=t.payload.is_success;return e.merge({is_user_translate_vip:n})}),S()(xa,C.actionTypes.settings.UPDATE_USER_SETTING_SUCCESS,function(e,t){var n=t.payload,r=n.permission_type,a=n.allow_share_outside,o=n.initial_setting;return e.merge({permission_type:r||jo.a.CompanyReadable,allow_share_outside:a,enable_auto_capitalize:o?1:0})}),S()(xa,C.actionTypes.settings.UPDATE_USER_TRANSLATE_SETTING_SUCCESS,function(e,t){var n=t.payload.settings;return e.merge(Object.assign({},n))}),S()(xa,C.actionTypes.settings.FETCH_USER_LANG_CORRECTION_SETTING_SUCCESS,function(e,t){return e.merge(Object.assign({},t.payload))}),S()(xa,C.actionTypes.settings.UPDATE_USER_LANG_CORRECTION_SETTING_SUCCESS,function(e,t){return e.merge(Object.assign({},t.payload))}),S()(xa,C.actionTypes.settings.FETCH_SMART_COMPOSE_SETTING_SUCCESS,function(e,t){var n=t.payload,r=n.enable_docs,a=n.personalize;return e.merge({smart_compose_setting:r,smart_compose_personalization_setting:a})}),S()(xa,C.actionTypes.settings.FETCH_UPDATE_SMART_COMPOSE_SETTING_SUCCESS,function(e,t){var n=t.payload,r=n.enable_docs,a=void 0===r?e.get("smart_compose_setting"):r,o=n.personalize,i=void 0===o?e.get("smart_compose_personalization_setting"):o;return e.merge({smart_compose_setting:a,smart_compose_personalization_setting:i})}),xa),jo.c),wo=m.default.fromJS({dontAskBeforeUpload:0,dontAskAgainOpenAllShareSwitch:0}),No=Object(u.handleActions)((Fa={},S()(Fa,C.actionTypes.preference.FETCH_USER_PREFERENCE_SUCCESS,function(e,t){var n=t.payload,r=n.dont_ask_before_uploading_log,a=n.dont_ask_again_open_all_share_switch;return m.default.fromJS({dontAskBeforeUpload:r,dontAskAgainOpenAllShareSwitch:a})}),S()(Fa,C.actionTypes.preference.FETCH_UPDATE_USER_PREFERENCE_SUCCESS,function(e,t){var n=t.payload,r=n.dont_ask_before_uploading_log,a=n.dont_ask_again_open_all_share_switch,o=m.default.fromJS({dontAskBeforeUpload:r,dontAskAgainOpenAllShareSwitch:a});return e.mergeWith(function(e,t){return void 0===t?e:t},o)}),Fa),wo),Uo=Object(u.handleActions)(S()({},C.actionTypes.explorer.UPDATE_LEANMODE_CONFIG,function(e,t){return t.payload?e.merge(t.payload):e}),Object(m.Map)({folderHidden:!1,favoritesHidden:!1,pinDragDisabled:!1,wikiHidden:!1,searchLimited:!1,fetchPartData:!1})),Po=n("xnu4"),Mo=n("Hv6m");function xo(e,t){return!t.payload.isPathChanged}var Fo,Ho,Bo,Go=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:m.default.Map({}),t=1<arguments.length?arguments[1]:void 0,n=Object(Po.a)(t.type.replace(C.actionTypes.prefix.FETCH,"").replace(C.actionTypes.suffix.SUCCESS,"").replace(C.actionTypes.suffix.FAIL,""));if(t.type===C.actionTypes.route.LOCATION_CHANGE){if(xo(e,t)){var r=e.get("userPermissionOnSuite");if(r)return e.clear().set("userPermissionOnSuite",r)}return e.clear()}if(Object(Mo.b)(t)&&t.error){var a=t.error,o=a.code,i=a.msg,c=a.meta,s=a.data;return e.mergeIn([n],{code:o,msg:i,meta:c,data:s,payload:t.payload||{}})}if(Object(Mo.c)(t)&&null!=e.get(n))return e.deleteIn([n]);if(t.type!==C.actionTypes.permission.SET_USER_PERMISSION_ERROR)return e;var u=t.payload,l=u.msg,d=u.code;return e.mergeIn(["userPermissionOnSuite"],{code:d,msg:l})},Ko=n("1TYq"),Wo=Object(u.handleActions)((Fo={},S()(Fo,"".concat(Ko.a.SET_FETCH_STATUS),function(e,t){var n=t.payload,r=n.actionName,a=O()(n,["actionName"]);return e.updateIn([r],function(e){return e?e.merge(a):Object(m.fromJS)(Object.assign({status:pe.StatusMap.uninitialized,isContinuous:!1},a))})}),S()(Fo,"".concat(Ko.a.RESET_FETCH_STATUS),function(e,t){return e.map(function(e){return e.getIn(["options","resetWhenSuiteTokenChange"])?e.merge({status:pe.StatusMap.uninitialized}):e})}),Fo),Object(m.Map)()),Vo=Object(u.handleActions)(S()({},C.actionTypes.network.SET_NETWORK_STATE,function(e,t){if(t.payload)return t.payload.data}),{connected:!0}),Yo=Object(u.handleActions)((Ho={},S()(Ho,C.actionTypes.common.FETCH_OBJ_SETTINGS_SUCCESS,function(e,t){return t.payload}),S()(Ho,C.actionTypes.common.SET_OBJ_SETTINGS,function(){return{enable_watermark:1}}),Ho),{enable_watermark:0,dark_watermark:{enable:0}}),Qo=n("eoP6");function Jo(){return{nodeSyncStatus:{},curFolderSyncInfo:null,isShowOnboarding:!0,isInOnboarding:!1,isOnboardingCanceled:!1,isInstalled:Qo.b.UNKNOW,syncDiskStatus:Qo.j.UNKNOW,syncDiskState:null}}var qo,zo=Object(u.handleActions)((Bo={},S()(Bo,C.actionTypes.syncDisk.UPDATE_NODE_SYNC_STATUS,function(e,t){return!t.payload||e.nodeSyncStatus[t.payload.token]===t.payload.status?e:Object.assign({},e,{nodeSyncStatus:Object.assign({},e.nodeSyncStatus,S()({},t.payload.token,t.payload.status))})}),S()(Bo,C.actionTypes.syncDisk.UPDATE_NODE_SYNC_STATUS_BATCH,function(e,t){if(!t.payload||!t.payload.statusList||0===t.payload.statusList.length)return e;var n=t.payload.statusList,r={};return n.forEach(function(e){e.type!==Qo.a.SYNCDISK_ROOT&&e.token&&(r[e.token]=e.syncStatus)}),Object.assign({},e,{nodeSyncStatus:Object.assign({},e.nodeSyncStatus,{},r)})}),S()(Bo,C.actionTypes.syncDisk.UPDATE_CUR_FOLDER_SYNC_INFO,function(e,t){return t.payload?Object.assign({},e,{curFolderSyncInfo:t.payload}):e}),S()(Bo,C.actionTypes.syncDisk.SET_IS_SHOW_ONBOARDING,function(e,t){return Object.assign({},e,{isShowOnboarding:t.isShow})}),S()(Bo,C.actionTypes.syncDisk.SET_IS_IN_ONBOARDING,function(e,t){return Object.assign({},e,{isInOnboarding:t.isInOnboarding})}),S()(Bo,C.actionTypes.syncDisk.SET_IS_ONBOARDING_CANCELED,function(e,t){return Object.assign({},e,{isOnboardingCanceled:t.isOnboardingCanceled})}),S()(Bo,C.actionTypes.syncDisk.SET_IS_SYNCDISK_INSTALLED,function(e,t){return Object.assign({},e,{isInstalled:t.isInstalled})}),S()(Bo,C.actionTypes.syncDisk.RESET_ALL_SYNC_STATUS,function(e,t){return Object.assign({},e,{nodeSyncStatus:{},curFolderSyncInfo:null})}),S()(Bo,C.actionTypes.syncDisk.UPDATE_SYNCDISK_STATUS,function(e,t){return Object.assign({},e,{syncDiskStatus:t.payload.syncDiskStatus})}),S()(Bo,C.actionTypes.syncDisk.UPDATE_SYNCDISK_STATE,function(e,t){var n=e.state===Qo.i.RUNNING?Qo.j.READY:Qo.j.UNSTART,r=e.valid?Qo.b.INSTALLED:Qo.b.UNINSTALL;return Object.assign({},e,{syncDiskState:t.payload.syncDiskState,syncDiskStatus:n,isInstalled:r})}),Bo),Jo()),Xo=n("R/2b"),Zo=n("K4n4"),$o=n("mpK2"),ei={};function ti(){return{numberStage:Xo.d,simpleStageSet:new Set,hasTimedOut:!1}}var ni=Object(u.handleActions)((qo={},S()(qo,C.actionTypes.common.INIT_BUSINESS_STAGE,function(e,t){var n=t.payload;return Object.assign({},e,S()({},n,ti()))}),S()(qo,C.actionTypes.common.UPDATE_BUSINESS_STAGE,function(e,t){for(var o=!1,i=Object.assign({},e),c=(new Set).add(t.payload),s=0,n=function(){s+=1;var e=c.values().next().value;c.delete(e);var t=e.business,n=e.stage;if(!Object($o.a)(t,i)||Object($o.c)(t,n,i))return"continue";var r=Object($o.b)(n)?{numberStage:n}:{simpleStageSet:new Set(i[t].simpleStageSet).add(n)};i[t]=Object.assign({},i[t],{},r),o=!0;var a=Zo.a[t].autoUpdateRules;a&&a.forEach(function(e){e.when.every(function(e){return Object($o.c)(t,e,i)})&&Object($o.a)(e.update.business,i)&&!Object($o.c)(e.update.business,e.update.stage,i)&&c.add(e.update)})};0<c.size&&s<10;)n();return o?i:e}),S()(qo,C.actionTypes.common.RESET_BUSINESS_STAGE,function(e,t){var n=t.payload,r=n.toInit,a=n.toClear,o=Object.assign({},e);return a.forEach(function(e){return delete o[e]}),r.forEach(function(e){o[e]=ti()}),o}),S()(qo,C.actionTypes.common.TIMEOUT_BUSINESS_STAGE,function(e,t){var n=t.payload;return Object($o.a)(n,e)?Object.assign({},e,S()({},n,Object.assign({},e[n],{hasTimedOut:!0}))):e}),qo),ei),ri=n("XIp8"),ai=n("oaNE"),oi=n("dmr2"),ii=Object(u.handleActions)(S()({},C.actionTypes.opendoc.SET_FEATURE_CONFIG,function(e,t){var n=t.payload.featureConfig,r=void 0===n?{}:n;return Object(ri.default)(Object(ai.a)({},e,r))}),oi.a),ci=Object(u.handleActions)(S()({},C.actionTypes.opendoc.SET_OPENDOC_OPTIONS,function(e,t){var n=t.payload.options,r=void 0===n?{}:n;return Object(ri.default)(Object(ai.a)({},e,r))}),oi.b),si=Object(i.combineReducers)({options:ci,config:ii}),ui=Object(u.handleActions)(S()({},C.actionTypes.export.TOGGLE_EXPORTING,function(e,t){return t.payload}),!1),li=Object(i.combineReducers)({exporting:ui}),di={has_pwd:!0,credentials:[],user_info:{}},pi=Object(u.handleActions)(S()({},C.actionTypes.account.FETCH_ACCOUNT_USER_INFO_SUCCESS,function(e,t){return Object.assign({},e,t.payload)}),di),_i=n("iP/4");function Ei(){var e=Object.assign({},Aa(),{listView:Object(ba.a)(),appInitialized:$n,currentUser:d,currentNoteToken:sa,currentWikiEntity:Ta,currentSsid:ca,userGuide:q,boxCommon:ce,noteMeta:ia,shouldPrint:ua,alreadyAppeal:la,helpBtnVisible:da,helpSideBarVisible:_a,helpBtnActivated:pa,embedSidebarVisible:fa,onboarding:Fr,todo:Xr,wikiSpaceIdList:wr,wikiSpaces:Nr,recentWikiInSuiteBackNav:Ur,editableSpaces:Pr,wikiSpacePermissionMap:Mr,suiteWikiInfo:Ea,mySpaceTree:jn,shareTree:Ln,teamSpaceTree:wn,explorerPaginationInfo:Qt,rootToken:dt,route:Gr,members:lo,currentMemberId:po,membersCount:_o,commentData:Ya,commentLoadStatus:Qa,messageData:qa,newOldMessage:Xa,incomingMessages:za,commentPosition:Za,commentPanelPosition:$a,commentHistory:no,commentReaction:ro,commentReactionLoadStatus:ao,messagePosition:eo,fetchStatus:Wo,error:Go,router:c.e,ui:Object(i.combineReducers)({currentModals:Kr}),networkState:Vo,userSettings:Lo,userPreference:No,template:qr,like:Eo.b,findReplace:mo,translate:ko,leanModeConfig:Uo},a,{search:Rr,folderTreeExpandedKeys:Kt,permissionUserMap:Do,currentDraggingItems:gr,syncDisk:zo,multiStageRender:ni,isv:Dr,teamSpaceCoverList:jr,export:li,account:pi});return _i.a.isOpendoc&&(e.opendoc=si),Object(i.combineReducers)(e)}function fi(){return Object(i.combineReducers)({folderPermissions:qe,teamSpacePermissions:ze,roleMembers:Xe,permissions:Je,isInEditMode:Ze,isDocLockedByPlugin:$e,users:K,nodes:Kn,objs:Zn,collectorEntities:Oa})}function Ti(){return Object(i.combineReducers)({selectedFileMetas:yt,staredFileMetas:wt,shareListMetas:Nt,pinnedFileMetas:Lt,recommendedFileMetas:Pt,objPaths:Ut,currentPath:bt,currentFileToken:Ot,shareObjectTokens:pt,myObjectTokens:kt,storageTokens:Dt,recentObjectTokens:gt,recentObjectTokensInBackNav:Rt,recentObjectTokensInSearchBox:Ct,folderTokenListMap:Tt,unorderedFolderTokenListMap:mt,shareFolderTokens:_t,rootDustbinTokens:xt,hiddenShareFolderTokens:Et,beSharedFolderTokens:ft,mySpaceFolderTokens:St,teamSpaceTokens:Gt,dustbinChildren:Mt,dustbinSpaceList:Ft,selectedDustbinSpaceId:Ht,dustbinListMap:Bt,collectionIds:ma,collectionTokens:At,teamSpaceCoverMemberInfo:et})}n.d(t,"a",function(){return Ei}),n.d(t,"b",function(){return fi}),n.d(t,"c",function(){return Ti})},"r//D":function(e,t,n){"use strict";n("hphf").a.start=Date.now()},rbDS:function(e,t,n){},rqTi:function(e,t){e.exports=navigator.cdn_host+"/ccm/pc/web/resource/bear/public/icon_file_sheet_nor.9856464cde0b604eca21.ico"},"s+vT":function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n("hMnB"),a=n.n(r),o=n("nN3d"),i=n("kfiP"),c=n("skFV"),s=null,u=function(){var e="",t="";return(s=s||Object(i.a)(a.a.href)).side_car&&(e="#".concat(s.side_car)),Object(c.z)()&&!Object(c.D)()&&(t="$online_debug"),"".concat(Object(o.c)(12),"-").concat(window.User.id).concat(t).concat(e)}},"s/f2":function(e,t,n){"use strict";function r(e){var t=e.meta;if(t){if(t.previousAction&&t.previousAction.rawAction)return t.previousAction.rawAction;if(t.previousAction)return t.previousAction}return e.rawAction||e}n.d(t,"a",function(){return r})},sDqb:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n("cDf5"),b=n.n(r),a=n("q1tI"),y=n.n(a),h=n("iP/4");function o(n){if(h.a.isIPad){var o=y.a.createElement,r=8,e=1e3,a=["clientX","clientY","pageX","pageY","screenX","screenY","radiusX","radiusY"],i={downPos:{},lastPos:{}},c=function(e){if(!e)return!1;var t=e.getAttribute("disabled");return!1!==t&&null!==t},s=function(e,t){var n=t||e.currentTarget;n&&!c(n)&&n.focus()},u={input:function(e){s(e),e.stopPropagation()},textarea:function(e){s(e),e.stopPropagation()},select:function(e){s(e),e.stopPropagation()},label:function(e){var t=e.currentTarget.getAttribute("for"),n=t?document.getElementById(t):e.currentTarget.querySelectorAll("input, textarea, select")[0];n&&s(e,n)}},l=function(e){"function"==typeof e.persist&&e.persist(),e.fastclick=!0,e.type="click",e.button=0},d=function(e,t){if("function"==typeof t.persist&&t.persist(),e)for(var n=0;n<a.length;n+=1){var r=a[n];t[r]=e[r]}},p=function(){return!i.touched&&(!i.lastTouchDate||Date.now()>i.lastTouchDate+e)},_=function(e){i.invalid=e.touches&&1<e.touches.length||i.invalid},E=function(e,t){var n=!p();n&&t.target!==i.target&&t.preventDefault(),"function"!=typeof e||n||e(t),"click"===t.type&&(i.invalid=!1,i.touched=!1,i.moved=!1)},f=function(e,t){i.invalid=!1,i.moved=!1,i.touched=!0,i.target=t.target,i.lastTouchDate=Date.now(),d(t.touches[0],i.downPos),d(t.touches[0],i.lastPos),_(t),"function"==typeof e&&e(t)},T=function(e,t){i.touched=!0,i.lastTouchDate=Date.now(),d(t.touches[0],i.lastPos),_(t),(Math.abs(i.downPos.clientX-i.lastPos.clientX)>r||Math.abs(i.downPos.clientY-i.lastPos.clientY)>r)&&(i.moved=!0),"function"==typeof e&&e(t)},S=function(e,t,n,r){var a;i.touched=!0,i.lastTouchDate=Date.now(),_(r),"function"==typeof e&&e(r),i.invalid||i.moved||(a=r.currentTarget.getBoundingClientRect(),i.lastPos.clientX-(i.lastPos.radiusX||0)<=a.right&&i.lastPos.clientX+(i.lastPos.radiusX||0)>=a.left&&i.lastPos.clientY-(i.lastPos.radiusY||0)<=a.bottom&&i.lastPos.clientY+(i.lastPos.radiusY||0)>=a.top&&(c(r.currentTarget)||("function"==typeof t&&(d(i.lastPos,r),l(r),t(r)),!r.defaultPrevented&&u[n]&&u[n](r))))},m=function(e,t){var n,r={};for(n in t)r[n]=t[n];return r.onClick=E.bind(null,t.onClick),r.onMouseDown=E.bind(null,t.onMouseDown),r.onMouseMove=E.bind(null,t.onMouseMove),r.onMouseUp=E.bind(null,t.onMouseUp),r.onTouchStart=f.bind(null,t.onTouchStart),r.onTouchMove=T.bind(null,t.onTouchMove),r.onTouchEnd=S.bind(null,t.onTouchEnd,t.onClick,e),"function"==typeof Object.freeze&&Object.freeze(r),r};if(y.a.createElement=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0],a=t[1];return r&&"string"==typeof r&&a&&a.className&&"function"==typeof a.onClick&&O(a.className)&&(t[1]=m(r,a||{})),o.apply(null,t)},"object"===b()(y.a.DOM))for(var t in y.a.DOM)y.a.DOM[t]=y.a.createElement.bind(null,t)}function O(e){for(var t=0;t<n.length;t++)if(-1<e.indexOf(n[t]))return!0;return!1}}},sOaF:function(e,x,F){"use strict";(function(r){var e=F("lwsE"),a=F.n(e),t=F("W8MJ"),o=F.n(t),n=F("a1gu"),i=F.n(n),c=F("Nsbk"),s=F.n(c),u=F("7W2i"),l=F.n(u),d=F("q1tI"),p=F.n(d),_=F("m/+l"),E=F("L342"),f=F("JaxG"),T=F("CnBM"),S=F.n(T),m=F("dfOl"),O=F("fco7"),b=F("NRfy"),y=F("musQ"),h=F("l8Om"),v=F("RxHm"),I=F("iP/4"),C=F("/DSa"),R=F("Y3mI"),g=F("myFJ"),k=F("DC6e"),D=F("R/2b"),j=F("d1Ge"),L=F("MLbx"),w=F("skFV"),N=F("kS6I"),U=S()({loader:function(){return F.e("opendoc-app").then(F.bind(null,"zJuj"))},loading:function(){return null}});Object(w.v)()&&F.e("rateLimitTest").then(F.bind(null,"sf1l")).then(function(e){var t=e.default;"function"==typeof t&&(t(),console.log("%c[injected] RateLimitTest ready","font-weight: bold; color: #03A9F4; background-color: #FFF59D; padding: 0 6px;"))});var P=Object(d.memo)(function(){return Object(d.useEffect)(function(){Object(j.a)(),Object(L.a)()},[]),null}),M=function(e){function n(e){var t;return a()(this,n),(t=i()(this,s()(n).call(this,e))).handleNetworkChange=function(e){t.props.store.dispatch(Object(m.a)({connected:e.connected}))},t.addSafariClass=function(){I.a.isSafari&&document.body.classList.add("safari")},t.addIPadClass=function(){I.a.isIPad&&document.body.classList.add("isIPad")},h.b.watch(),v.b.watch(),v.b.on(t.handleNetworkChange),r&&C.b.getInstance(),t}return l()(n,e),o()(n,[{key:"componentDidMount",value:function(){Object(b.a)(),I.a.isLark||I.a.isOpendoc||Object(y.a)(),this.initSyncDisk(),this.initSecurityAuditSDK(),f.b.init(),O.a.init(),this.addSafariClass(),this.addIPadClass()}},{key:"componentWillUnmount",value:function(){h.b.unwatch(),v.b.off(this.handleNetworkChange),v.b.unwatch()}},{key:"initSyncDisk",value:function(){r&&Promise.all([F.e("commons--create_by_template_modal--create_by_template_modal_new_layout--create_team_space_modal--ex--a373becd"),F.e("syncDiskWatcher")]).then(F.bind(null,"4fNA")).then(function(e){(0,e.default)()})}},{key:"initSecurityAuditSDK",value:function(){Promise.all([F.e("commons--PCDocSheetBridge--bear-bitable-external--bear-external--bear-sheet-external--btn_groups--d--dba25785"),F.e("vendors--doc_collector_security_audit"),F.e("doc_collector_security_audit")]).then(F.bind(null,"x6vj")).then(function(e){(0,e.initSecurityAudit)(),Object(N.g)()})}},{key:"render",value:function(){var e=this.props,t=e.store,n=e.history;return p.a.createElement(_.Provider,{store:t},I.a.isOpendoc&&p.a.createElement(U,null),p.a.createElement(E.a,{history:n,store:t},p.a.createElement(R.a,null)),p.a.createElement(k.a,{keepalive:!0,renderOnTimeout:!0,renderWhen:D.h},p.a.createElement(P,null)))}}]),n}(d.Component);M.displayName="App",x.a=Object(g.a)(M)}).call(this,F("kCIs"))},sRCh:function(e,t,n){"use strict";var r=n("CnBM"),a=n.n(r),o=a()({loader:function(){return Promise.all([n.e("doc_index_css"),n.e("commons--bitable_utils_async--box_index--file-card--layout_delay--ui-control_modules"),n.e("commons--explorer_sidebar_tree--layout_delay--pc_space_route"),n.e("commons--anonymous_suite_header--layout_delay"),n.e("vendors--layout_delay"),n.e("layout_delay")]).then(n.bind(null,"l2NY"))},loading:function(){return null}}),i=a()({loader:function(){return Promise.all([n.e("doc_index_css"),n.e("commons--bitable_utils_async--box_index--file-card--layout_delay--ui-control_modules"),n.e("commons--explorer_sidebar_tree--layout_delay--pc_space_route"),n.e("commons--anonymous_suite_header--layout_delay"),n.e("vendors--layout_delay"),n.e("layout_delay")]).then(n.bind(null,"RhsR"))},loading:function(){return null}}),c=n("q1tI"),s=n.n(c),u=(n("3M1e"),function(){return s.a.createElement("div",{className:"pre-env-mark"},"Pre Env")});n.d(t,"a",function(){return o}),n.d(t,"b",function(){return i}),n.d(t,"c",function(){return u})},sbbc:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAaDSURBVHgB3ZtNTFxVFIDPfTNt+WnrmLY0gKYD24ZKNyauHBqaAJp0IrDqooOLLtoFPwt1YxhwY6uh1aCJboDEVQsRFhQSTBg31uiigOmWmWoQwRhG5Z/hXc+5M+/5hnnD/Lz7HsN8yTDvjwvn3HPPOffc+xjYTJN/2QvKvo8xqAemXALgXmDMAxy8SQ8yiADnUTyIcODzjO/P8f0Tc9PjlRGwEQY20NT2m49x5gdFuZEiaK6gYpjKQiqLjUyPvhoCyUhTgM8f9pS5Szqx97rw1AN2gMrgjAVhF76XZRmWFeCI4KlEGbCHagxGrCrCkgKa2//oBK4GwTnBk0lYxPSjyhHIk7wUQI6NufkQHvqgECBF7LGGfKxBgRyhXkfhn0GhCE+go6X/qbnt964cfzM3C8A/8AC/cv4jToK+IfhktLIv++ezpKV1eYgzHoBjAGN8+Mnj6o6sns3mIex5Mvl6OF6EpkarGjI9lNEHUM/D8ROe8LW0Lw1leuhQBbS0LfceF7M3g3MWSPittKQdAokY/xCKg24cDqaymCogEedp3B9NgiOfKI+xq2Z5gukQYCf4LBSP8IQnkbilkKKApneWA5ZncIWJzyxRShoCwvSp94tTAUR0K7ZTExqviWoX3Ma7aCadTgjf6CvFTxlcuXxSnC8834XvQpv42QKb8ZS4T5IVBLULugU45fh67nigsaHU9N4MKuDBF1GwmSQr+N8HKGJyY6vwN9vPJAm/8HxHfDSuo2XcbD8NNqNZgUAfAszFe9H8baO8XAH/W+XieGV1H94P/gWrf+6L84sXXDD4yQV8holnxic3YWNTBbvACVMnJIaBsACq4dk99mu9biEgMTG5oQtPrODx+OS6OCZF1da4wWY8QmZIKIBxJQA2Q72ssW7SuysGhZwus6VWm4Qo2oLmAxT2JtjMYiSmH9ddPpVy/4rh2vqmjWNRgyrW9CXq9g6EvsXInhj7RNzZnYHyMkV8bgfOitBI0DO/YFi0HZRZRL7m1l/9mAB8Cw5Qh3H/XvDcoc/031+DH3/eBifgTO1QOHM5Ntennh3AOL+xkWridG3gy6hjwhNMhXo3hoTXwEEo2yNF3Hi7HPwt8bA4g1ng10P/2hr6zOBM8ZIT9ILDkMdfDO/p56QQp4UnMNZcUvBnMU17cwNld9sVAci7U1ZXUeEyvX/RcL2xocw0NBJhjB4//LSdlDhJg9YTcI4sPejWek8Ib69lflahIfMRRgcKpbLJeWUoGz5872VpwhOURVKbdiA96aZYr6W9TzGkDQz+bcnB9dx9SdQOqE1qW3aSpIidGRIx5vxPcexa9e4LBoGNbUsBZVfQEdhegShYUHbyARGQBHl+46SGnCFdK5T2DoLe/wVagPoCJCCKGp+e1yc1BIVBulaRh+nKbs8cPqdw7poDi1CvfNx3znSM0rV7eC/XnpPdnhkcXM8UUCEEFnnj9VP6P0vV3fZbK9BxZ1Wv8tK9677SrNujXpfZXjpYjM8rYrnIYiTQytvEN4/Wheen5OWr4X/06zU5lLlkt2cKykyyx+1IVSdAEsaprozSluz2NLjKQvQtFIBL4ONgAWO563bHWeGkaIxS1UcjlwRGdnumsJjYWaarFOcEa5DnugBVcgfvn0+a4BihMlfH3VXIFtntpcAgPPW4qpYOdVfKgX8GebKxocIHWOfXan5GtDWAo2zvIJwxfROVbgF+f9iz4z4VBourQ+TB6xJOLIymPDO7ZSkdlt0eHNgrkLw63LYUxBJZLxQxaOl906PVQe08KZsoie3SNpLinRvg2IeYMmy8lKSA8fiKadabDI8bNPYPbpMxDawYEWiLjA+KCYPnN2KaUKOToF2WxTQU1vgeu2Z2w1QBCTMppqHQn24nedopldhXx9W8c4NCgbx+uj2CRMbkurl1aRgYuwXHEM758PTY4Zumi3azNE6hZqdHq65lei6rqgKa0FVUZ96vpTiN6PkshCeyLqtMjVUHaDxBYcNpf3MmszeSU10pkUJ2Q2GGSJrN9kyNvdKdyy/l/9JU4ewo5TjeQxBj7+bz0pSlEgvtK05sr/PC0UC93n9YmMuE5RqTsAbXfhcwhUKlU0vtazjYP9/GyZtx328+SCuyxV+SBp+NFkHFwagswTVse3kauBJgtP0uf2WIaigXL0+rE1i3nCjol6fTER8ie/W0GSuxH8mLQnnYAcXgtTCLr1NGaLUKPds8qK6Q3a/P/wfXE8w7J0j0WAAAAABJRU5ErkJggg=="},tOQ2:function(e,t,n){"use strict";n.d(t,"e",function(){return c}),n.d(t,"h",function(){return s}),n.d(t,"a",function(){return u}),n.d(t,"c",function(){return l}),n.d(t,"g",function(){return d}),n.d(t,"d",function(){return p}),n.d(t,"f",function(){return _}),n.d(t,"b",function(){return E});var r=n("peh1"),a=n("5cZX"),o=n("jzcD"),i=function(e){return e.appState.findReplace},c=Object(r.createSelector)(i,function(e){return e.isOpen}),s=Object(r.createSelector)(i,a.e,o.b,function(e,t,n){return!t||e.showOnlyFindRow||n&&n.status.translated}),u=Object(r.createSelector)(i,a.e,o.b,function(e,t,n){return t&&e.showOnlyFindRow&&!(n&&n.status.translated)}),l=Object(r.createSelector)(i,function(e){return e.findText}),d=Object(r.createSelector)(i,function(e){return e.replaceText}),p=Object(r.createSelector)(i,function(e){return e.isFinding}),_=Object(r.createSelector)(i,function(e){return e.isReplacingAll}),E=Object(r.createSelector)(i,function(e){return e.result})},tU0o:function(e,g,k){"use strict";(function(_){k.d(g,"a",function(){return p});var t,e=k("o0o1"),f=k.n(e),n=k("lwsE"),E=k.n(n),r=k("W8MJ"),T=k.n(r),a=k("yXPU"),S=k.n(a),m=k("7EGn"),O=k("6z7T"),b=k("EVj1"),y=k("2Vt3"),l=k("2ACu"),d=k("FnDM"),h=k("U6jp");function v(){return o.apply(this,arguments)}function o(){return(o=S()(f.a.mark(function e(){return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=t||(Object(y.e)()?new Promise(function(r,e){Object(h.n)().then(function(e){function t(e,t){return n.apply(this,arguments)}var n;e.ChildExtension.initialize({lifecycle:{onCreate:(n=S()(f.a.mark(function e(t,n){return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r(n);case 1:case"end":return e.stop()}},e)})),t)}})}).catch(e)}):Promise.reject()),e.abrupt("return",t);case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function I(e,t,n,r){return i.apply(this,arguments)}function i(){return(i=S()(f.a.mark(function e(t,n,r,a){var o,i,c,s,u;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=O.a.PENDING,i=Date.now(),Object(l.default)("call_lark",{interactor:"NativeLark",caller:Object(d.i)().module,rust_api_name:t,rustAPI:!0,status:o}),e.prev=3,e.next=6,Object(h.h)("runtime");case 6:if(c=e.sent)return s=c.transport.callApi,e.next=11,s(t,n,r,a);e.next=14;break;case 11:return u=e.sent,o=O.a.FULFILLED,e.abrupt("return",u);case 14:e.next=20;break;case 16:return e.prev=16,e.t0=e.catch(3),o=O.a.REJECTED,e.abrupt("return",Promise.reject(e.t0));case 20:return e.prev=20,Object(l.default)("call_lark",{timestamp:Date.now()-i,interactor:"NativeLark",caller:Object(d.i)().module,rust_api_name:t,rustAPI:!0,status:o}),e.finish(20);case 23:case"end":return e.stop()}},e,null,[[3,16,20,23]])}))).apply(this,arguments)}function c(){return s.apply(this,arguments)}function s(){return(s=S()(f.a.mark(function e(){var t;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(h.h)("runtime");case 2:(t=e.sent)&&(0,t.transport.on)(O.f.PUSH_DOC_FEEDS,u);case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function C(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];console.log("==> NativeLarkApi log",t)}function u(e){C(O.f.PUSH_DOC_FEEDS,e);var t,n=R&&R.docsInfo,r=n&&n.id;r&&(t=e.docFeeds[r]||n,R.docsInfo=t)}c();var R=new(function(){function e(){E()(this,e),this.permission=!0,this.refreshToken()}return T()(e,[{key:"refreshToken",value:function(){var e=Object(b.k)(location.href,!0).token;this.token=e}},{key:"badgeCount",get:function(){return(this.docsInfo||{newMessageCount:0}).newMessageCount}}]),e}());var p=function(){function e(){E()(this,e),this.isNativeLark=!0}function t(e){return n.apply(this,arguments)}var n,r,a,o,i,c;function s(e){return r.apply(this,arguments)}function u(){return a.apply(this,arguments)}function l(e){return o.apply(this,arguments)}function d(){return i.apply(this,arguments)}function p(e,t,n){return c.apply(this,arguments)}return T()(e,[{key:"postAnnouncement",value:(c=S()(f.a.mark(function e(t,n,r){var a,o,i,c,s,u,l,d,p,_,E;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=null,e.prev=1,e.next=4,Object(y.b)(t);case 4:a=e.sent,e.next=10;break;case 7:throw e.prev=7,e.t0=e.catch(1),new Error("下载群公告缩略图失败");case 10:if(a){e.next=12;break}throw new Error("下载群公告缩略图失败");case 12:return o=a.replace(/^(.*)?,/,""),e.next=15,I(O.d.UPLOAD_SECURE_IMAGE,{image:o,type:O.c.NORMAL});case 15:return i=e.sent,c=Object(y.d)(i.token),e.next=19,Object(h.g)();case 19:if(s=e.sent)return u=s.runtime,l=s.biz,e.next=24,u.passport.getAuthInfo();e.next=33;break;case 24:if(d=e.sent,p=d.userId,_={title:r,to:n,from:p,richText:c,isGroupAnnouncement:!0},E=l.messages.sendPostMessage){e.next=30;break}throw new TypeError("sendPostMessage is not a function");case 30:return e.next=32,E(_);case 32:this.closeChatSidebar();case 33:case"end":return e.stop()}},e,this,[[1,7]])})),p)},{key:"toggleDoneInbox",value:(i=S()(f.a.mark(function e(){var t,n,r,a,o;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=R&&R.docsInfo||{},n=t.id,r=t.feedType,a={id:n,feedType:r,type:O.b.DOC_FEED},o={card:a,isActive:!0,callType:"click_inner"},e.next=6,v();case 6:e.sent.postMessage({type:O.e.FEED_DONE,data:o});case 8:case"end":return e.stop()}},e)})),d)},{key:"openLarkImageViewer",value:(o=S()(f.a.mark(function e(t){var n,r,a,o,i;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.images,r=t.index,a=void 0===r?0:r,n&&0!==n.length){e.next=3;break}return e.abrupt("return",!1);case 3:o={images:n.map(function(e){return{key:e.key.toString(),path:e.url,isEncrypted:!1}}),winKey:"from_doc_webview",currentIndex:a},e.prev=4,(i=Object(m.default)(window,["ShellAPI","app","imageViewer","open"]))&&i(o),e.next=12;break;case 9:return e.prev=9,e.t0=e.catch(4),e.abrupt("return",!1);case 12:return e.abrupt("return",!0);case 13:case"end":return e.stop()}},e,null,[[4,9]])})),l)},{key:"updateDocFeedRemind",value:function(e){var t=R&&R.docsInfo,n=t&&t.id;I(O.d.UPDATE_DOC_FEED,{docFeedId:n,isRemind:!e})}},{key:"updateFeedCardShortcut",value:function(e){var t=e?O.d.DELETE_SHORTCUTS:O.d.CREATE_SHORTCUTS,n=R&&R.docsInfo;return I(t,{shortcuts:[{channel:{id:n&&n.id,type:3}}]}).then(function(){return!e},function(e){throw e})}},{key:"removeFeed",value:function(e){I(O.d.REMOVE_DOC,{token:e})}},{key:"updateDocMsgBadge",value:function(e){I(O.d.UPDATE_DOC_MESSAGE_BADGE,e)}},{key:"notifyAnnouncement",value:function(e){var t=Object(h.t)()?_("lark.group_announcement.community"):_("lark.group_announcement"),n=Object(b.l)(location.search).chat_id;return n?this.postAnnouncement(e,n,t):Promise.reject()}},{key:"closeChatSidebar",value:(a=S()(f.a.mark(function e(){return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v();case 2:e.sent.postMessage({type:O.e.CLOSE_DOC});case 4:case"end":return e.stop()}},e)})),u)},{key:"updateMonitorStatus",value:function(e,t){C("updateMonitorStatus","is an empty function")}},{key:"getDocDraft",value:function(e){return I(O.d.GET_DOC_DRAFT,{token:e},!0).then(function(e){return e.drafts.map(function(e){return e.extra=JSON.parse(e.extra),e})},function(e){throw e})}},{key:"saveDocDraft",value:function(e){return I(O.d.CREATE_DOC_DRAFT,e)}},{key:"deleteDocDraft",value:function(e,t){I(O.d.DELETE_DOC_DRAFT,{id:e,token:t})}},{key:"handleDocRead",value:function(e){return I(O.d.UPDATE_DOC_ME_READ,e,!0)}},{key:"handleShareToChat",value:(r=S()(f.a.mark(function e(t){var n,r,a;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=Object(h.i)()){e.next=3;break}throw new Error("handleShareToChat no chatId");case 3:return e.next=5,v();case 5:r=e.sent,a={chatId:n,type:"post",content:Object(y.a)(t)},r.postMessage({type:O.e.SEND_MEETING_MINUTE,data:a});case 8:case"end":return e.stop()}},e)})),s)},{key:"openShareDoc",value:(n=S()(f.a.mark(function e(t){return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v();case 2:e.sent.postMessage({type:O.e.OPEN_SHARE_DOC,data:{docUrl:t}});case 4:case"end":return e.stop()}},e)})),t)}],[{key:"getInstance",value:function(){return e.instance||(e.instance=new e),e.instance}}]),e}()}).call(this,k("2vAP"))},toa8:function(e,t,n){"use strict";var r=n("QILm"),c=n.n(r),s=n("JG4O"),u=n("+7Be"),l=n("VIFs"),a=function(e){var n=new XMLHttpRequest,t=e.method,r=e.url,a=e.headers,o=(e.data,c()(e,["method","url","headers","data"]));n.open(t||"GET",Object(l.prependAPI)(r),!1),Object.keys(o).map(function(e){var t=o[e];"timeout"!==e&&(n[e]=t)});var i=Object.assign({},Object(u.d)(e),{},a);return Object.keys(i).map(function(e){var t=i[e];n.setRequestHeader(e,t)}),n.withCredentials=!0,n.send(Object(s.a)(e)),n},o=n("B0hj");n("H402"),n("RHO4");n.d(t,"d",function(){return i}),n.d(t,"c",function(){return d}),n.d(t,"e",function(){return p}),n.d(t,"b",function(){return o.a});var i=o.c,d=o.b,p=a},uGU9:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n("o0o1"),E=n.n(r),a=n("yXPU"),f=n.n(a),o={max:10,factor:0,interval:1e3};function i(c,e){var t=Object.assign({},o,e),s=t.max,u=t.interval,l=t.factor,d=t.onRetry,p=t.shouldRetry,_=0;return function(){for(var e=arguments.length,i=new Array(e),t=0;t<e;t++)i[t]=arguments[t];return new Promise(function(r,a){var o=function(){var e=f()(E.a.mark(function e(){var t,n;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=function(e){var t=Math.pow(_++,l)*u;p&&!p(e)||setTimeout(function(){d&&d(_,e),o()},t)},e.prev=1,e.next=4,c.apply(null,i);case 4:if(n=e.sent,!p||!p(n)){e.next=11;break}if(_<s)return e.abrupt("return",t(n));e.next=8;break;case 8:a({code:"50010",payload:n}),e.next=12;break;case 11:r({code:0,payload:n});case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(1),_<s&&(!p||p(e.t0))?t(e.t0):a({code:"50010",payload:e.t0});case 17:case"end":return e.stop()}},e,null,[[1,14]])}));return function(){return e.apply(this,arguments)}}();o()})}}},uzgA:function(e,t,n){"use strict";n.d(t,"b",function(){return i}),n.d(t,"a",function(){return c}),n.d(t,"c",function(){return s});var r=n("hMnB"),a=n.n(r),o=n("1T6K"),i=function(e){return e.pc.backUrlMap||{}},c=function(e){return i(e)[a.a.pathname]||o.URL.HOME},s=function(e){return i(e)[a.a.pathname]}},"v+SY":function(e,_,E){"use strict";(function(t){var e=E("lwsE"),n=E.n(e),r=E("W8MJ"),a=E.n(r),o=E("hMnB"),i=E.n(o),c=E("iP/4"),s=E("ucr6"),u=E("FnDM"),l=E("QM+C"),d="url",p=function(){function e(){n()(this,e)}return a()(e,[{key:"init",value:function(){var n=this;this.startRecord={},this.fromRecord={},this.startFileType=Object(u.f)(),this.prevModule="",this.initTime=(new Date).getTime(),this.setStartTime(this.initTime,this.startFileType),this.curModule=this.getModule(i.a.pathname),c.a.isFeed||s.a.listen(function(e,t){"PUSH"===t&&(n.prevModule=n.curModule,n.curModule=n.getModule(i.a.pathname),n.startRecord[n.curModule]=Date.now(),n.fromRecord[n.curModule]=n.prevModule)})}},{key:"setStartTime",value:function(e,t){for(var n in l.FILE_TYPE)this.startRecord[l.FILE_TYPE[n]]=e,this.fromRecord[l.FILE_TYPE[n]]=t===l.FILE_TYPE[n]?d:t}},{key:"getStartTime",value:function(e){return this.fromRecord[e]===d?t||!c.a.isFeed?this.renderAppStartTime=performance.timing.navigationStart:this.renderAppStartTime=window.domReadyTime||0:this.renderAppStartTime=this.startRecord[e],this.renderAppStartTime}},{key:"getFrom",value:function(e){return this.fromRecord[e]}},{key:"getModule",value:function(e){var t=Object(u.i)(e);return t&&t.module||""}}]),e}();_.a=new p}).call(this,E("kCIs"))},v33K:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r,a;n("JgWU");(a=r=r||{}).KeepNext="KeepNext",a.KeepPrev="KeepPrev"},v8K9:function(e,t,n){"use strict";var r=n("lwsE"),a=n.n(r),o=n("W8MJ"),i=n.n(o),c=3e4,s=3e4,u=function(){function t(e){var r=this;a()(this,t),this.aliveInterval=c,this.deadThreshold=s,this.timer=null,this.prefix="CrashTracker_$x$_",this.suffix="_info_$n$",this.liveFlagSetted=!1,this.updateLocalData=function(){var e=Date.now(),t=r.getLocalStorageInfoKey(r.localStorageKey);try{r.liveFlagSetted&&r.checkResurrectionAndReport(r.lastAliveTime),window.localStorage.setItem(r.localStorageKey,e+"");var n=r.getPreLocalData(e);window.localStorage.setItem(t,JSON.stringify(n)),r.liveFlagSetted=!0,r.lastAliveTime=e,r.log("update alive time")}catch(e){r.clearLocalData(r.localStorageKey),r.liveFlagSetted=!1,r.log("set localStorage error, clearData")}},this.updateVisibilityChange=function(){"hidden"===document.visibilityState?(r.timer&&clearInterval(r.timer),r.timer=null,r.liveFlagSetted=!1,r.clearLocalData(r.localStorageKey)):r.startKeepAlive()},this.aliveInterval=e.aliveInterval||c,this.deadThreshold=e.deadThreshold||s,this.id=e.id||this.getUniqId(),this.getExtraData=e.getExtraData,this.doReport=e.doReport,this.logEnabled=e.logEnabled}return i()(t,[{key:"getUniqId",value:function(){return~~(1e5*Math.random())+""}},{key:"getLocalStorageInfoKey",value:function(e){return e+this.suffix}},{key:"clearLocalData",value:function(e){window.localStorage.removeItem(e),window.localStorage.removeItem(this.getLocalStorageInfoKey(e))}},{key:"report",value:function(e,t){var n=this.getLocalStorageInfoKey(e),r=Object.assign({key:e},t);try{var a=JSON.parse(window.localStorage.getItem(n)||"{}"),r=Object.assign(r,a)}catch(e){}this.doReport(r)}},{key:"checkResurrectionAndReport",value:function(e){if(window.localStorage.getItem(this.localStorageKey))return!1;var t=+new Date-e-this.aliveInterval;return this.report(this.localStorageKey,{costTime:t,type:"Resurrection"}),this.log("Resurrection",this.localStorageKey),!0}},{key:"getPreLocalData",value:function(e){var t=Object.assign({},this.getExtraData&&this.getExtraData()||{});return t.aliveTime=e,t}},{key:"log",value:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this.logEnabled&&(e=console).log.apply(e,["CrashTracker:"].concat(n))}},{key:"startKeepAlive",value:function(){this.timer||(this.log("Keep Alive",this.localStorageKey),this.updateLocalData(),this.timer=setInterval(this.updateLocalData,this.aliveInterval))}},{key:"checkItemCrashAndReport",value:function(e){var t,n,r;e.substr(0,this.prefix.length)===this.prefix&&e.substr(e.length-this.suffix.length)!==this.suffix&&(t=Number(window.localStorage.getItem(e)),n=+new Date,isNaN(t)||(r=n-t-this.aliveInterval)>this.deadThreshold&&(this.report(e,{costTime:r,type:"Crash"}),this.log("Crashed",this.localStorageKey),this.clearLocalData(e)))}},{key:"checkCrashAndReport",value:function(){var t=this;Object.keys(window.localStorage).map(function(e){t.checkItemCrashAndReport(e)})}},{key:"start",value:function(){var e=this;this.checkCrashAndReport(),this.startKeepAlive(),window.addEventListener("beforeunload",function(){return e.stop()}),document.addEventListener("visibilitychange",this.updateVisibilityChange)}},{key:"stop",value:function(){this.timer&&clearInterval(this.timer),this.timer=null,this.liveFlagSetted=!1,this.clearLocalData(this.localStorageKey),document.removeEventListener("visibilitychange",this.updateVisibilityChange)}},{key:"localStorageKey",get:function(){return this.prefix+this.id}}]),t}(),l=n("2ACu");window.top===window&&setTimeout(function(){new u({logEnabled:!1,id:window.teaMap&&window.teaMap.sessionId,getExtraData:function(){try{return Object.assign({},l.collector.config,Object(l.getTeaCommonParams)())}catch(e){return{}}},doReport:function(e){console.log("CrashTracker: crashed case found, with data, ",e),Object(l.default)("crashTrackerReport",e)}}).start()},5e3)},vE74:function(e,t,n){"use strict";n.d(t,"e",function(){return s}),n.d(t,"i",function(){return u}),n.d(t,"h",function(){return E}),n.d(t,"f",function(){return f}),n.d(t,"b",function(){return T}),n.d(t,"j",function(){return S}),n.d(t,"d",function(){return m}),n.d(t,"g",function(){return O}),n.d(t,"c",function(){return b}),n.d(t,"a",function(){return y});var a,o,r=n("J4zp"),l=n.n(r),i=n("lSCD"),c=n.n(i),d=n("bdgK");function s(){if(null!=a)return a;var e=document.createElement("p");e.style.width="100%",e.style.height="200px";var t=document.createElement("div");t.style.position="absolute",t.style.top="0px",t.style.left="0px",t.style.visibility="hidden",t.style.width="200px",t.style.height="150px",t.style.overflow="hidden",t.appendChild(e),document.body.appendChild(t);var n=e.offsetWidth;t.style.overflow="scroll";var r=e.offsetWidth;return n===r&&(r=t.clientWidth),document.body.removeChild(t),a=n-r}function u(e){var t,n,r;return o||(n=96,(t=document.createElement("span")).style.fontSize="".concat(n,"pt"),t.style.display="none",document.body.appendChild(t),r=window.getComputedStyle(t).fontSize,o=r&&-1!==r.indexOf("px")?n/parseFloat(r):.75,document.body.removeChild(t)),Math.round(parseFloat(e)*o)+"pt"}var p=document.createElement("span"),_={};function E(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"";if(_[e])return Object.assign({},_[e]);p.style.font=e;var t=p.style,n={fontFamily:t.fontFamily||"",fontSize:t.fontSize||"",fontStyle:t.fontStyle||"",fontWeight:t.fontWeight||"",fontVariant:t.fontVariant||"",lineHeight:t.lineHeight||""};return _[e]=n,Object.assign({},n)}function f(e){return-1!==["bold","600","700","800","900"].indexOf(e)}function T(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(c()(CustomEvent))return new CustomEvent(e,t);var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,!!t.bubbles,!!t.cancelable,t.detail),n}function S(e){return e.replace(/>\s{1,}</g,"><").trim()}function m(e,t){if(!e)return null;for(var n="offset".concat(2<arguments.length&&void 0!==arguments[2]?arguments[2]:"Top"),r=e,a=0;r!==t&&null!==r;){a+=r[n];var o=r.offsetParent;if(!(o instanceof HTMLElement))return console.error(o,"is not HTMLElement"),null;r=o}return a}function O(e,i){var c,s;function u(){return[c,s].some(function(e){return"number"==typeof e})}function t(e){var t=l()(e,1)[0].target.getBoundingClientRect(),n=t.width,r=t.height,a=Math.floor(n),o=Math.floor(r);c===a&&s===o||i({width:a,height:o,isInitialized:u()}),c=a,s=o}var n=new d.default(t);return e&&n.observe(e),function(){n.disconnect()}}var b=function(e,t,n){for(var r=e.parentNode;r;){if(r.classList.contains(t))return!0;if(r.classList.contains(n))return!1;r=r.parentElement}return!1};function y(e){if(e){var t=e.getBoundingClientRect(),n=t.height,r=t.width,a=t.x,o=t.y,i=document.body.getBoundingClientRect(),c=i.height,s=i.width;return 0<=a+r&&0<=o+n&&a<=s&&o<=c}}},vERi:function(e,t,n){"use strict";n.d(t,"b",function(){return O}),n.d(t,"a",function(){return y}),n.d(t,"d",function(){return v}),n.d(t,"e",function(){return I}),n.d(t,"c",function(){return R});var r=n("lwsE"),a=n.n(r),o=n("W8MJ"),i=n.n(o),c=n("a1gu"),s=n.n(c),u=n("Nsbk"),l=n.n(u),d=n("iWIM"),p=n.n(d),_=n("7W2i"),E=n.n(_),f=n("Mpt7"),T=n("I1f5"),S=n("jp/M"),m={id:"",owner_id:"",avatar_url:"",owner_name:"",cn_name:"",en_name:"",department_name:"",isChosen:!1},O=function(e){function n(e){var t;return a()(this,n),t=e?s()(this,l()(n).call(this,e)):s()(this,l()(n).call(this)),s()(t)}return E()(n,e),i()(n,[{key:"get",value:function(e){return p()(l()(n.prototype),"get",this).call(this,e)}},{key:"getId",value:function(){return this.get("id")||this.get("owner_id")}}]),n}(Object(f.Record)(m)),b=Object.assign({},m,{user_count:0,owner_type:S.common.OWNER_TYPE.LARK}),y=function(e){function n(e){var t;return a()(this,n),t=e?s()(this,l()(n).call(this,e)):s()(this,l()(n).call(this)),s()(t)}return E()(n,e),i()(n,[{key:"get",value:function(e){return p()(l()(n.prototype),"get",this).call(this,e)}},{key:"getId",value:function(){return this.get("id")||this.get("owner_id")}}]),n}(Object(f.Record)(b)),h={id:"",name:"",desc:"",isChosen:!1},v=function(e){function n(e){var t;return a()(this,n),t=e?s()(this,l()(n).call(this,e)):s()(this,l()(n).call(this)),s()(t)}return E()(n,e),i()(n,[{key:"get",value:function(e){return p()(l()(n.prototype),"get",this).call(this,e)}},{key:"getId",value:function(){return this.get("id")}}]),n}(Object(f.Record)(h)),I=new v(T.searchInWikiSpaces),C={author:"",owner_id:"",title:"",token:"",type:0,url:"",owner_type:0,share_version:0,path:[],pathToken:[],id:"",isChosen:!1},R=function(e){function n(e){var t;return a()(this,n),t=e?s()(this,l()(n).call(this,e)):s()(this,l()(n).call(this)),s()(t)}return E()(n,e),i()(n,[{key:"getId",value:function(){return this.get("id")}}]),n}(Object(f.Record)(C))},vKxd:function(e,t,n){"use strict";n.r(t);var r={bitable:{branchVersion:{"AB-a-release-doc":"1.0.0.1037","AB-a-release-ssr-v2":"1.0.0.988","AB-a-single-product":"1.0.0.950","AB-alpha-sheet":"1.0.0.1058","AB-smartable":"1.0.0.888","feat-xsm-st-conflict-using-sheet-api":"1.0.0.666"},env:"prod",name:"bitable",path:"/bitable/:token?",source_url:"//sf1-scmcdn2-tos.pstatp.com/eesz/bear/smartable/module/ee/docs/bitable/1.0.0.1036/index.js",stage:"master_version",version:"1.0.0.1036",versionList:{ga:"1.0.0.848"},versionListProject:{alpha:"测试版",beta:"test",ga:"848","pre-beta":"1.23.4-test",rc:"test"}},code:0,"doc-x":{branchVersion:{},env:"prod",name:"doc-x",source_url:"//s3.pstatp.com/eesz/module/ee/bear_web/doc_x/1.0.0.21/index.js",stage:"ga",version:"1.0.0.21",versionList:{ga:"1.0.0.21"},versionListProject:{}},docx:{branchVersion:{"AB-a-release-doc":"1.0.0.2"},env:"prod",name:"docx",path:"/docx/:token?",source_url:"//sf1-scmcdn2-tos.pstatp.com/eesz/bear/docx/module/ee/docs/docx/1.0.0.6/index.js",stage:"ga",version:"1.0.0.6",versionList:{ga:"1.0.0.6"},versionListProject:{alpha:"测试版",beta:"test",ga:"undefined","pre-beta":"1.23.4-test",rc:"test"}},msg:"ok",sheet:{branchVersion:{"AB-a-feat-sheetOpenSyncBuffer":"1.0.0.1112","AB-alpha-sheet":"1.0.0.2294","AB-smartable":"1.0.0.2172","application-dev":"1.0.0.455","feat-xsm-st-conflict-using-sheet-api":"1.0.0.1323"},env:"prod",name:"sheet",path:"/sheet/:token?",source_url:"//sf1-scmcdn-tos.pstatp.com/goofy/eesz/bear/sheet/module/ee/bear_web/sheet/1.0.0.2306/index.js",stage:"master_version",version:"1.0.0.2306",versionList:{ga:"1.0.0.235"},versionListProject:{alpha:"测试版",beta:"1.23.0",ga:"1.25.0","pre-beta":"1.23.4-test",rc:"1.0.0.253"}},slide:{env:"prod",index_css:"/eesz/module/css/slide_index.1.0.0.1875.css?ssr",name:"slide",path:"/slide/:token?",source_url:"//sf1-scmcdn2-tos.pstatp.com/eesz/bear/slide/module/ee/docs/slide/1.0.0.1875/index.js",stage:"branch:master",version:"1.0.0.1875",versionList:{ga:"1.0.0.1813",staging:"1.0.0.307"},versionListProject:{alpha:"测试版",beta:"19.10.3",ga:"20.6.5","pre-beta":"19.10.3",rc:"19.10.3"}},test:{branchVersion:{},env:"prod",name:"test",path:"/test/:token?",source_url:"//s3.pstatp.com/eesz/module/ee/docs/bitable/1.0.0.68/index.js",stage:"ga",version:"1.0.0.68",versionList:{ga:"1.0.0.68",staging:"1.0.0.52"},versionListProject:{alpha:"测试版",beta:"test",ga:"test","pre-beta":"1.23.4-test",rc:"test"}},wiki:{env:"prod",index_css:"/eesz/module/css/wiki_index.1.0.0.964.css?ssr",name:"wiki",path:["/wiki/","/wiki/:token","/wiki/setting/:spaceId"],source_url:"//sf1-scmcdn2-tos.pstatp.com/eesz/bear/wiki/module/ee/docs/wiki/1.0.0.964/index.js",stage:"master_version",version:"1.0.0.964",versionList:{ga:"1.0.0.429",pre:"1.0.0.258",staging:"1.0.0.7"},versionListProject:{alpha:"测试版",beta:"undefined",ga:"20.07.12","pre-beta":"20.3.8",rc:"undefined"}}};t.default=r},vTLy:function(e,w,N){"use strict";(function(a){N.d(w,"a",function(){return L});var e=N("o0o1"),o=N.n(e),t=N("yXPU"),i=N.n(t),n=N("lwsE"),c=N.n(n),r=N("W8MJ"),s=N.n(r),u=N("a1gu"),l=N.n(u),d=N("Nsbk"),p=N.n(d),_=N("7W2i"),E=N.n(_),f=N("cDf5"),T=N.n(f),S=N("q1tI"),m=N.n(S),O=N("m/+l"),b=N("D7h9"),y=N("ybRk"),h=N("jtRX"),v=N("xKvl"),I=N("4PSP"),C=N("TNRG"),R=N("Ig2Q"),g=(N("0G9k"),N("iP/4")),k=N("fHNB"),D=function(e,t,n,r){var a,o=arguments.length,i=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":T()(Reflect))&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;0<=c;c--)(a=e[c])&&(i=(o<3?a(i):3<o?a(t,n,i):a(t,n))||i);return 3<o&&i&&Object.defineProperty(t,n,i),i},j="crash-dialog",L=function(e){function t(){return c()(this,t),l()(this,p()(t).apply(this,arguments))}function n(){return r.apply(this,arguments)}var r;return E()(t,e),s()(t,[{key:"handleContactUs",value:function(){Object(h.b)()}},{key:"handleReload",value:(r=i()(o.a.mark(function e(){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.c.clear();case 2:Object(k.a)(!0);case 3:case"end":return e.stop()}},e)})),n)},{key:"getIsBrowserAndVersionSupported",value:function(){return Object(R.b)()&&Object(R.c)()}},{key:"renderFooter",value:function(){var e="".concat(j,"__footer");return g.a.isFeishuRooms?null:m.a.createElement("div",{className:e},m.a.createElement("button",{className:"".concat(e,"__btn ").concat(e,"__contact"),onClick:this.handleContactUs},a("common.contact")),this.getIsBrowserAndVersionSupported()&&m.a.createElement("button",{className:"".concat(e,"__btn ").concat(e,"__reload"),onClick:this.handleReload},a("common.refresh")))}},{key:"renderContent",value:function(){return this.props.contentText?m.a.createElement("span",null,this.props.contentText):g.a.isFeishuRooms?m.a.createElement("span",null,a("vc.oops.content")):this.getIsBrowserAndVersionSupported()?m.a.createElement("span",null,a("error.system_and_reload")):m.a.createElement(m.a.Fragment,null,m.a.createElement("span",null,a("error.occurred")),Object(R.a)())}},{key:"render",value:function(){return m.a.createElement(O.Provider,{store:b.default},m.a.createElement(y.a,{center:!0,visible:!0,closeble:!1,className:j,width:400,title:a("common.oops"),footer:this.renderFooter()},this.renderContent()))}}]),t}(m.a.Component);D([Object(I.Bind)(),Object(v.b)("click_contact_customer_service",i()(o.a.mark(function e(){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{source:"file_open",withFileInfo:!0});case 1:case"end":return e.stop()}},e)})))],L.prototype,"handleContactUs",null),D([Object(I.Bind)()],L.prototype,"handleReload",null)}).call(this,N("2vAP"))},vnAn:function(e,t,n){"use strict";n.r(t),n.d(t,"triggerFindReplace",function(){return a}),n.d(t,"openFindReplaceBox",function(){return o}),n.d(t,"closeFindReplaceBox",function(){return i}),n.d(t,"startFinding",function(){return c}),n.d(t,"updateFindReplaceResult",function(){return s}),n.d(t,"setReplaceText",function(){return u}),n.d(t,"setIsReplacingAll",function(){return l}),n.d(t,"findReplaceShowMore",function(){return d});var r=n("jp/M"),a=function(e){return{type:r.actionTypes.findReplace.TRIGGER_FIND_REPLACE,payload:e}},o=function(e){return{type:r.actionTypes.findReplace.OPEN_FIND_REPLACE_BOX,payload:e}},i=function(){return{type:r.actionTypes.findReplace.CLOSE_FIND_REPLACE_BOX}},c=function(e){return{type:r.actionTypes.findReplace.START_FINDING,payload:e}},s=function(e){return{type:r.actionTypes.findReplace.UPDATE_FIND_REPLACE_RESULT,payload:e}},u=function(e){return{type:r.actionTypes.findReplace.SET_REPLACE_TEXT,payload:e}},l=function(e){return{type:r.actionTypes.findReplace.SET_IS_REPLACING_ALL,payload:e}},d=function(){return{type:r.actionTypes.findReplace.FIND_REPLACE_SHOW_MORE}}},w29E:function(e,t,n){"use strict";var u=n("1myf"),l=n("ahx2"),d=1e3,p=100,r=n("o0o1"),a=n.n(r),o=n("lwsE"),i=n.n(o),c=n("W8MJ"),s=n.n(c),_=function(){function e(){i()(this,e),this.head=void 0,this.tail=void 0}return s()(e,[{key:"add",value:function(e){var t={value:e,next:void 0};this.head||(this.head=t),this.tail&&(this.tail.next=t),this.tail=t}},{key:"dequeue",value:function(){if(this.head){var e=this.head.value;return this.head=this.head.next,this.head||(this.tail=void 0),e}}},{key:"traverse",value:function(){var n=[];return this.head?function e(t){return n.push(t.value),t.next?e(t.next):n}(this.head):n}},{key:"size",value:function(){return this.traverse().length}},{key:"isEmpty",value:function(){return void 0===this.head}},{key:"values",value:a.a.mark(function e(){var t;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=this.head;case 1:if(t)return e.next=4,t.value;e.next=7;break;case 4:t=t.next,e.next=1;break;case 7:case"end":return e.stop()}},e,this)})}]),e}();function E(e){var t=e.interval,r=void 0===t?d:t,n=e.maxCount,a=void 0===n?p:n,o=e.onLimit,i=!1,c=new _;function s(e){for(var t=+Date.now(),n=t-r;!c.isEmpty()&&c.head.value.time<=n;)c.dequeue();return c.add({url:e.replace(/\?.*/,""),time:t}),c.size()>a}return function(r){return function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return s(t[0].url)&&"function"==typeof o&&!i?(o(c),i=!0,Promise.reject(new l.OverloadProtectionError)):r.apply(void 0,t)}}}function f(e){var t={},n=!0,r=!1,a=void 0;try{for(var o,i=e.values()[Symbol.iterator]();!(n=(o=i.next()).done);n=!0){var c=o.value.url,s=void 0===c?"unknown":c;t[s]||(t[s]={url:s,count:0}),t[s].count++}}catch(e){r=!0,a=e}finally{try{n||null==i.return||i.return()}finally{if(r)throw a}}return Object(u.a)(t,function(e){return-e.count}).splice(0,5)}n.d(t,"b",function(){return E}),n.d(t,"a",function(){return f})},w3az:function(e,t){e.exports=navigator.cdn_host+"/ccm/pc/web/resource/bear/public/icon_file_keynote_nor.b232a7d2e1926641f133.ico"},wWCe:function(e,R,g){"use strict";(function(t){g.d(R,"a",function(){return I});var n,e,r=g("lwsE"),a=g.n(r),o=g("W8MJ"),i=g.n(o),c=g("hMnB"),s=g.n(c),u=g("iP/4"),l=g("2ACu"),d=g("FnDM"),p=g("ucr6"),_=g("U6jp"),E=g("5dbN"),f=g("1T6K"),T=g("QM+C"),S="render_wiki_all",m="render_wiki_fail",O="expand_wiki_node",b="open_wiki_page",y="url";(e=n=n||{}).REACT_COMPONENT_ERROR="react_component_error",e.UNLOAD_BEFORE_LOADED="unload_before_loaded",e.FETCH_TREE_ERROR="fetch_tree_error",e.FETCH_INIT_INFO_ERROR="fetch_init_info_error";var h="only_expand",v="expand_and_jump",I={WIKI_JS_LOADED:1,FETCH_WIKI_PAGE_TREE_SUCCESS:2,FETCH_WIKI_HOEM_DATA:2,WIKI_RENDER_SUCCESS:3},C=function(){function e(){a()(this,e),this.start=!1,this.didRenderAll=!1,this.expandNode={}}return i()(e,[{key:"init",value:function(){var n=this;this.platform=this.getPlatform(),this.isWiki=Object(E.isUnderWiki)(),this.prevModule="",this.curModule=this.getModule(s.a.pathname),this.larkVersion=Object(_.m)(),u.a.isFeed||p.a.listen(function(e,t){"PUSH"===t&&(n.prevModule=n.curModule,n.curModule=n.getModule(s.a.pathname),(n.curModule===T.FILE_TYPE.WIKI&&n.prevModule!==T.FILE_TYPE.WIKI||n.curModule===T.FILE_TYPE.WIKI_HOME)&&(n.expandNode={},n.renderWikiFromSpaStart(Date.now(),n.prevModule)))})}},{key:"renderWikiAllStart",value:function(){this.isWiki&&!this.didRenderAll&&(this.start=!0,this.from=y,this.renderWikiStartTime=performance.timing.navigationStart,this.curModule===T.FILE_TYPE.WIKI&&Object(l.default)(b,{path:f.URL.WIKI_INDEX}))}},{key:"renderWikiAllEnd",value:function(){this.isWiki&&!this.didRenderAll&&(this.didRenderAll=!0,this.collectEnd())}},{key:"renderWikiFromSpaStart",value:function(e,t){this.start=!0,this.from=t,this.renderWikiStartTime=e,this.curModule===T.FILE_TYPE.WIKI&&Object(l.default)(b,{path:f.URL.WIKI_INDEX})}},{key:"renderWikiFromSpaEnd",value:function(){this.collectEnd()}},{key:"renderWikiEnd",value:function(){this.start&&(this.from===y?this.renderWikiAllEnd():this.renderWikiFromSpaEnd(),this.start=!1)}},{key:"collectEnd",value:function(){var e=Date.now()-this.renderWikiStartTime,t=window.performance.timing,n=window.domReadyTime,r={},a=Object(E.getCurrentRouteObj)();r.cost_time=e,r.platform=this.platform,r.wiki_dns_lookup_time=t.domainLookupEnd-t.domainLookupStart,r.response_to_client_time=t.responseEnd-t.responseStart,r.request_to_server_time=t.responseStart-t.requestStart,r.from=this.from,r.lark_version=this.larkVersion,r.path=a&&a.path,n&&(r.download_time=n-t.navigationStart),Object(E.locateRoute)().isWikiIndex&&(r.fetch_wiki_tree_time=this.fetchWikiTreeTime,r.render_wiki_tree_time=this.renderWikiTreeTime),Object(l.default)(S,r)}},{key:"fetchWikiTreeStart",value:function(){this.fetchWikiTreeStartTime=Date.now()}},{key:"fetchWikiTreeEnd",value:function(){this.fetchWikiTreeTime=Date.now()-this.fetchWikiTreeStartTime}},{key:"renderWikiTreeStart",value:function(){this.renderWikiTreeStartTime=Date.now()}},{key:"renderWikiTreeEnd",value:function(){this.renderWikiTreeTime=Date.now()-this.renderWikiTreeStartTime}},{key:"renderWikiFail",value:function(e){var t;this.isWiki&&!this.didRenderAll&&(this.didRenderAll=!0),!0===this.start&&(this.start=!1,t=Object(E.getCurrentRouteObj)(),Object(l.default)(m,{type:e,path:t&&t.path}))}},{key:"handleBeforeUnload",value:function(){this.renderWikiFail(n.UNLOAD_BEFORE_LOADED)}},{key:"getModule",value:function(e){var t=Object(d.i)(e);return t&&t.module||""}},{key:"getPlatform",value:function(){return t?"docs-in-lark":u.a.isFeed?"lark-feed":"pc"}},{key:"expandNodeStart",value:function(e,t){this.expandNode[e]||(this.expandNode[e]={startTime:Date.now(),isOnlyExpandNode:t})}},{key:"expandNodeFetchChildEnd",value:function(e,t){this.expandNode[e]&&(this.expandNode[e].fetchChildTime=t)}},{key:"expandNodeEnd",value:function(e){Object(l.default)(O,{cost_time:Date.now()-this.expandNode[e].startTime,fetch_child_time:this.expandNode[e].fetchChildTime,expand_node_type:this.expandNode[e].isOnlyExpandNode?h:v})}}]),e}();R.b=new C}).call(this,g("kCIs"))},wWso:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n("rLED");function a(){return Object(r.d)("request_meltdown_ajax_enable")}},wkBI:function(e,t,n){"use strict";n.d(t,"e",function(){return c}),n.d(t,"c",function(){return l}),n.d(t,"a",function(){return d}),n.d(t,"d",function(){return p}),n.d(t,"b",function(){return _}),n.d(t,"f",function(){return E});var a=n("LrWZ"),r=n("peh1"),o=n("vc5i"),i=n("5dbN"),c=function(e){return e.appState.wikiSpaces},s=function(e){return e.wiki&&e.wiki.spaces},u=function(e){return e.appState.wikiSpaceIdList},l=function(e){return e.appState.recentWikiInSuiteBackNav},d=function(e){return e.appState.editableSpaces},p=Object(r.createSelector)(u,c,s,function(e,t,n){var r=n||t;return e.map(function(e){return r[e]}).filter(function(e){return!Object(a.a)(e)})}),_=Object(r.createSelector)(u,function(e){return 0<e.length}),E=Object(r.createSelector)(p,function(e){return e&&e.filter(function(e){return e.isStar})});Object(r.createSelector)(o.c,o.d,function(e,t){if(!e||!t)return!1;var n=t.homePage.wikiToken,r=e.wikiToken;return!Object(i.isUnderWikiHome)()&&r===n})},wzgn:function(e,s,u){"use strict";(function(e){u.d(s,"d",function(){return a}),u.d(s,"b",function(){return o}),u.d(s,"c",function(){return i}),u.d(s,"a",function(){return c});var t=u("7EGn"),n=u("skFV"),r=u("kUgE"),a=function(){return Object(n.y)()?e("common.lark_name_oversea"):e("common.lark_name")},o=function(){return(Object(t.default)(window,"materialConfig.brand_docs_home_logo")||Object(t.default)(Object(n.g)(),"brand.logo","")).replace(/https?\:/,"")},i=function(){return Object(t.default)(Object(n.g)(),"brand.name_".concat(Object(r.getLanguage)()),"")},c=function(){return(Object(t.default)(window,"materialConfig.brand_docs_browser_tap_logo")||Object(t.default)(Object(n.g)(),"brand.ico","")).replace(/https?\:/,"")}}).call(this,u("2vAP"))},x6Oh:function(e,t){e.exports={garrMaster:"20210201"}},xA8S:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n("7EGn"),a=function(){if("pre_release"===Object(r.default)(window,"globalConfig.common.env"))return"Pre_release"}},xKvl:function(e,t,n){"use strict";n.d(t,"b",function(){return R}),n.d(t,"c",function(){return g}),n.d(t,"a",function(){return k}),n.d(t,"d",function(){return D});var r=n("lwsE"),a=n.n(r),o=n("W8MJ"),i=n.n(o),c=n("m8R6"),u=n("2ACu"),l=n("D7h9"),s=n("QM+C"),d=n("vc5i"),p=n("aR0j"),_=n("94ch"),E=n("ZGZ5"),f=n("5cZX"),T=n("m1/u"),S=n("rAc3"),m=n("zaV1"),O=n("5dbN"),b=n("sTQd"),y=n("1dfU"),h=["query_id","create_uid","owner_id","file_id","copy_file_id","loc_file_id","file_tenant_id"],v="withFileInfo",I=function(e,t){e.forEach(function(e){e in t&&(t[e]=Object(y.a)(t[e]))})},C=function(e,t){var n=Object(m.b)();return Object.assign({file_type:n.file_type,file_id:n.file_id,file_is_cross_tenant:n.file_is_cross_tenant,file_tenant_id:n.file_tenant_id},Object(c.default)(t,[e]))};function R(c,s){return function(e,t,n){var i=n.value;return n.value=function(){for(var e,t,n,r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];try{e=i.apply(this,a)}finally{"function"==typeof c&&(t=c.apply(this,[{context:this,store:l.default}].concat(a))),"string"==typeof c&&(t=c),t&&((n="function"==typeof s?s.apply(this,[{context:this,store:l.default}].concat(a)):s)&&(n=C(v,n),I(h,n)),Object(u.default)(t,Object.assign({},n)))}return e},n}}var g=new(function(){function e(){a()(this,e)}return i()(e,[{key:"isInShareFiles",value:function(){var n=Object(p.y)(this.state);return Object(p.r)(this.state).toJS().some(function(e){var t=n.get(e);return Boolean(t)&&Object(S.i)(t)})}},{key:"getTypeStringByToken",value:function(e){var t=this.getNodeEntity(e);return this.getTypeStringByEntity(t)}},{key:"getTypeStringByEntity",value:function(e){if(e.get("is_share_root"))return"share_folder";var t=e.get("type");return s.mapTypeNumToFileType[t]}},{key:"getFileInfoByToken",value:function(e,t){var n=this.getNodeEntity(e);return this.getFileInfoByEntity(n)}},{key:"getObjInfoByToken",value:function(e){var t=this.getObjEntity(e);return this.getFileInfoByEntity(t)}},{key:"getModuleByEntity",value:function(e){var t=e.get("space_id");if("string"==typeof t&&0<t.length)return"sharetome"}},{key:"getModuleFromRoute",value:function(){var e=Object(T.g)(this.state);return e?{module:e.get("module"),sub_module:e.get("subModule")}:null}},{key:"getFileInfoByEntity",value:function(e){var t;if(!e)return{};var n=e.get("type"),r=s.folderType.includes(n)?e.get("token"):e.get("obj_token");s.NUM_FILE_TYPE.ISV===n&&(t=e.get("app_id"));var a=L(e);return Object.assign({file_type:this.getTypeStringByEntity(e),file_id:r,isv_id:t},a)}},{key:"getCurrentFileType",value:function(){return Object(O.isUnderFileListView)()?null:s.mapTypeNumToFileType[Object(d.o)(this.state)]}},{key:"getCurrentFileToken",value:function(){return Object(O.isUnderFileListView)()?null:Object(d.n)(this.state)}},{key:"getNodeEntity",value:function(e){return Object(p.y)(this.state).get(e)}},{key:"getObjEntity",value:function(e){return Object(p.W)(this.state).get(e)}},{key:"getCurrentUser",value:function(){return Object(E.a)(this.state)}},{key:"getCurrentPath",value:function(){return Object(p.r)(this.state).toJS()}},{key:"getCreateDate",value:function(e){return Object(b.b)(parseInt(e,10))}},{key:"getDaysFromCreateDate",value:function(e){var t=(new Date).getTime()-1e3*parseInt(e,10);return parseInt(t/1e3/60/60/24,10)}},{key:"isOwner",value:function(e){return void 0===e?Object(f.F)(this.state):Object(E.a)(this.state).get("suid")===e}},{key:"getSelectedFileMeta",value:function(){return Object(p.mb)(this.state).first()}},{key:"hasEditPerm",value:function(){return Object(f.c)(this.state)}},{key:"state",get:function(){return l.default.getState()}}]),e}());function k(o,i){return function(e,t,n){var a=n.value;return n.value=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];try{var r=i.call(this,{context:this,args:t,helpers:g,reduxStore:l.default});r&&(I(h,r),Object(u.default)(o,Object.assign({},r)))}catch(e){console.error(e)}return a.apply(this,t)},n}}function D(e,t){I(h,t),Object(u.default)(e,Object.assign({},t))}var j=function(e){var t=l.default.getState(),n=Object(_.a)(t);return n&&n.get(e)};function L(e){var t={file_tenant_id:"",file_is_cross_tenant:""};if(void 0===e)return t;var n=l.default.getState(),r=e.get("owner_id"),a=j(r),o=a&&a.get("tenant_id"),i=Object(E.a)(n).get("tenant_id")||"";return t.file_tenant_id=o,t.file_is_cross_tenant=String(!(i===o)),t}},xXG4:function(e,t,n){"use strict";n.d(t,"d",function(){return c}),n.d(t,"c",function(){return s}),n.d(t,"f",function(){return u}),n.d(t,"e",function(){return l}),n.d(t,"g",function(){return d}),n.d(t,"b",function(){return p}),n.d(t,"a",function(){return _});var r=n("lSNA"),a=n.n(r),o=n("jp/M"),i=n("QM+C"),c=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return{type:o.actionTypes.translate.TOGGLE_TRANSLATE,payload:Object.assign({status:e},t)}},s=function(e){return{type:o.actionTypes.translate.SET_CLIENTVARS,payload:{clientVars:e}}},u=function(e){return{type:o.actionTypes.translate.UPDATE_TRANSLATE_STATUS,payload:e}},l=function(e){return{type:o.actionTypes.translate.UPDATE_TRANSLATE_CONFIG,payload:e}},d=function(e){return{type:o.actionTypes.translate.UPDATE_TRANSLATION_VIEW,payload:e}},p=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]&&arguments[2],r=3<arguments.length?arguments[3]:void 0;return a()({type:o.actionTypes.translate.GET_TRANSLATE_CONFIG,payload:{token:e,type:t,nextTrans:n,defaultLang:r}},i.REQUEST,{url:o.apiUrls.TRANSLATE_GET_CONFIG,method:o.apiUrls.METHOD.GET,params:{token:e,obj_type:t},options:{transformResponse:function(e){return Object.assign({},e)}}})},_=function(){return{type:"CANCEL_".concat(o.actionTypes.translate.GET_TRANSLATE_CONFIG)}}},xqYH:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n("SebV");function a(e){var t=window.getSelection();if(!e||!t||0===t.rangeCount)return"";try{var n=e.getSelectedHTML();return(new DOMParser).parseFromString(n,"text/html").body.textContent||""}catch(e){return Object(r.a)(e),""}}},yW2L:function(e,t,n){"use strict";var r,a=n("cDf5"),o=n.n(a),i=n("zfY2"),c=n("5pkL"),s=n("iP/4"),u=n("EAIz"),l=n("e2rD"),d=n("xS7L"),p=n("C+Is"),_=n("D7h9"),E=n("XfSZ");function f(e){var t=e.jssdkSession,n=e.appId;Object(u.f)(t),Object(d.a)(),l.a.updateAppId(n)}function T(e){_.default.dispatch(Object(E.b)(e))}function S(e){e.forEach(function(e){var t=e.event,n=e.params;return t&&l.a.collect(t,n)})}s.a.isOpendoc&&(r=function(e){var t=e.authConfig,n=e.featureConfig,r=e.mountStartTime;t&&f(t),n&&T(n),r&&(l.a.mountStartTime=r)},window.__opendoc_state__&&(r(window.__opendoc_state__),window.__opendoc_state__=null),Object(i.registerOpendocApi)(p.b.setAuthConfig,f),Object(i.registerOpendocApi)(p.b.setFeatureConfig,T),Object(i.registerOpendocApi)(p.b.collectLogList,S),Object(i.createOpendocChannel)(),/opendoc=true/.test(location.search)&&setTimeout(function(){return Object(i.sendOpendocEvent)(p.d.SUITE_STATUS,null)},250),Object(i.opendocHandshake)().then(function(e){e&&"object"===o()(e)&&r(e)}),Object(c.a)())},yaX4:function(e,t,n){"use strict";n.d(t,"b",function(){return d}),n.d(t,"d",function(){return p}),n.d(t,"a",function(){return _}),n.d(t,"c",function(){return E});var r=n("lSNA"),o=n.n(r),i=n("gSGL"),c=n("AESI"),s=n("O7eI"),u=n("QM+C"),l=n("YLXN"),a=n("cyON"),d=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"web",t={type:s.a.guide.FETCH_USER_GUIDE};return o()(t,u.REQUEST,{url:c.POST_GET_USER_GUIDE,method:c.METHOD.POST,data:{type:e}}),o()(t,a.a,!0),t},p=function(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"web",r=Object(l.b)(t,!1),a=Object(i.a)(e)?{action:r,context:e,type:n}:{action:r,type:n};return o()({type:s.a.guide.UPDATE_USER_GUIDE},u.REQUEST,{url:c.POST_UPDATE_USER_GUIDE,method:c.METHOD.POST,options:{transformResponse:function(e){return Object.assign({},e,{guideType:t})}},data:a})},_=function(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"web",r=Object(l.b)(t,!1),a=Object(i.a)(e)?{action:r,context:e,type:n}:{action:r,type:n};return o()({type:s.a.guide.CLOSE_USER_GUIDE},u.REQUEST,{url:c.POST_CLOSE_USER_GUIDE,method:c.METHOD.POST,options:{transformResponse:function(e){return Object.assign({},e,{guideType:t})}},data:a})},E=function(e){return{type:s.a.guide.SET_USER_GUIDE_DONE,payload:e}}},"yc0+":function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"c",function(){return m}),n.d(t,"b",function(){return O});var r,a,o=n("lwsE"),i=n.n(o),c=n("W8MJ"),s=n.n(c),u=n("a1gu"),l=n.n(u),d=n("Nsbk"),p=n.n(d),_=n("iWIM"),E=n.n(_),f=n("7W2i"),T=n.n(f),S=n("Mpt7");(a=r=r||{})[a.OnlyInvited=1]="OnlyInvited",a[a.CompanyReadable=2]="CompanyReadable";var m=S.default.fromJS({src_lang:"zh",target_lang:"",enable_auto_translate:!1,shield_auto_translate_langs:[],global_display_type:0,languages_display_type:{},enable_auto_translate_doc_body:!0,enable_auto_translate_doc_comment:!0,is_user_translate_vip:!1,permission_type:r.CompanyReadable,allow_share_outside:!0,lang_correction_perm:0,enable_auto_capitalize:0,smart_compose_setting:!0,smart_compose_personalization_setting:!1}),O=(Object(S.Record)(m),{targetLang:"target_lang",displayType:"global_display_type",langDisplayType:"languages_display_type",autoTranslate:"enable_auto_translate",translateContent:"auto_translate_content",shieldTranslateLang:"shield_auto_translate_langs"})},ywOK:function(e,te,ne){"use strict";(function(t){ne.d(te,"b",function(){return W}),ne.d(te,"d",function(){return z}),ne.d(te,"a",function(){return s});var e,n,r,a,s,o,i,c,u,l,d,p,_=ne("J4zp"),E=ne.n(_),f=ne("lwsE"),T=ne.n(f),S=ne("W8MJ"),m=ne.n(S),O=ne("lSNA"),b=ne.n(O),y=ne("vJtL"),h=ne("hMnB"),v=ne.n(h),I=ne("1dfU"),C=ne("2ACu"),R=ne("FnDM"),g=ne("ucr6"),k=ne("iP/4"),D=ne("QM+C"),j=ne("U6jp"),L=ne("5dbN"),w=ne("bJ94"),N=ne("oaVD"),U=ne("L+43"),P=ne("OUn+"),M=ne("q8Sm"),x=ne("GBY4"),F=ne.n(x),H=ne("lQZd"),B=ne("9NQc"),K=ne("e2rD"),W="url",V="0",Y="client_performance_stage",Q="client_performance_stage_extra",J="client_performance_stage_before_unload",q=10,z=function(){return"visible"===document.visibilityState};(o=s=s||{}).REACT_COMPONENT_ERROR="react_component_error",o.DEV_OOPS="dev_oops",o.UNLOAD_BEFORE_LOADED="unload_before_loaded",o.FETCH_TREE_ERROR="fetch_tree_error",o.FETCH_INIT_INFO_ERROR="fetch_init_info_error",o.FETCH_CLIENTVAR_ERROR="fetch_clientvar_error",(c=i=i||{})[c.LOAD=1]="LOAD",(l=u=u||{})[l.WRONG_OPEN=1]="WRONG_OPEN",(p=d=d||{})[p.INVISIBLE=1]="INVISIBLE";var X=(a={},b()(a,D.FILE_TYPE.WIKI,{module:D.FILE_TYPE.WIKI,isCollectFromSpa:!0,isCollectFromSameModule:!1,endStages:{3:i.LOAD}}),b()(a,D.FILE_TYPE.WIKI_HOME,{module:D.FILE_TYPE.WIKI_HOME,isCollectFromSpa:!0,isCollectFromSameModule:!0,endStages:{3:i.LOAD}}),b()(a,D.FILE_TYPE.DOC,$),b()(a,D.FILE_TYPE.SHEET,{module:D.FILE_TYPE.SHEET,isCollectFromSpa:!0,isCollectFromSameModule:!0,endStages:(e={},b()(e,B.a.SHEET_FASTER_RENDER_SUCCESS,i.LOAD),b()(e,B.a.SHEET_PLUGIN_LOAD_SUCCESS,i.LOAD),b()(e,B.a.SHEET_COMMENT_LOAD_SUCCESS,i.LOAD),b()(e,B.a.FIRST_SHEET_LOADED,i.LOAD),e)}),b()(a,D.FILE_TYPE.EXPLORER,{module:D.FILE_TYPE.EXPLORER,isCollectFromSpa:!0,isCollectFromSameModule:!0,endStages:(n={},b()(n,N.a.SIDEBAR_RENDER_SUCCESS,i.LOAD),b()(n,N.a.SEARCHBAR_RENDER_SUCCESS,i.LOAD),b()(n,N.a.CONTACT_US_BTN_RENDER_SUCCESS,i.LOAD),b()(n,N.a.USER_SETTINGS_BTN_SUCCESS,i.LOAD),b()(n,N.a.FESTIVAL_BANNER_RENDER_SUCCESS,i.LOAD),b()(n,N.a.RECENT_FILES_SUCCESS,i.LOAD),n)}),b()(a,D.FILE_TYPE.DRIVE,{module:D.FILE_TYPE.DRIVE,isCollectFromSpa:!0,isCollectFromSameModule:!0,endStages:(r={},b()(r,U.a.NAVIGATION_BAR_SUCCESS,i.LOAD),b()(r,U.a.BOX_RIGHT_BAR_SUCCESS,i.LOAD),b()(r,U.a.PREVIEW_BOX_SUCCESS,i.LOAD),r)}),a),Z=function(){function e(){T()(this,e),this.appJsLoaded=0,this.appJsLoadedTime=0,this.start=!1,this.stageStatus={},this.stageTimes={},this.eventParams={},this.path="",this.unusualCaseRecord={}}return m()(e,[{key:"appendTimeAndDuration",value:function(o,e){var i=this.renderStartTime;e.forEach(function(e){var t=E()(e,3),n=t[0],r=t[1],a=t[2];o["".concat(n,"_time")]=0===a?a:a-i,o["".concat(n,"_duration")]=a-r})}},{key:"appendServerTiming",value:function(r){var e,t=window.performance;t&&t.getEntriesByType&&((e=t.getEntriesByType("navigation"))&&e.length&&e.forEach(function(e){var t=e.serverTiming;t&&t.length&&t.forEach(function(e){var t=e.name,n=e.duration;t&&(r["server_timing_".concat(t)]=n)})}))}},{key:"init",value:function(){var a=this,e=Object(L.getCurrentRouteObj)();this.path=e&&e.path,this.platform=this.getPlatform(),this.larkVersion=Object(j.m)(),this.prevModule="",this.curModule=this.getModule(v.a.pathname),this.prevFileId="",this.curFileId=Object(R.d)(),this.from=W,this.appJsLoaded=1,this.unusualCaseRecord={},this.getProfileContext=function(){},window.addEventListener("beforeunload",function(){a.handleBeforeUnload()}),g.a.listen(function(e,t){var n,r;"REPLACE"!==t&&(a.isSupportCurrentModule()&&a.start&&(void 0===a.eventParams.unload_before_loaded_status&&a.setExtraData({unload_before_loaded_status:u.WRONG_OPEN}),a.renderFail(s.UNLOAD_BEFORE_LOADED)),n=Object(L.getCurrentRouteObj)(),a.path=n&&n.path,a.historyAction=t,a.prevModule=a.curModule,a.curModule=a.getModule(v.a.pathname),a.prevFileId=a.curFileId,a.curFileId=Object(R.d)(),a.from=a.prevModule,a.unusualCaseRecord={},r=a.isSupportCurrentModule(),a.curFileId!==a.prevFileId&&r&&a.renderStart(Date.now()))})}},{key:"isSupportCurrentModule",value:function(){var e=this.getModuleConfig(this.curModule);return!!e&&(this.from===W||!!e.isCollectFromSpa&&(this.curModule!==this.prevModule||e.isCollectFromSameModule))}},{key:"logTimeStart",value:function(e,t){console.time("performanceStageCollector ".concat(e,"-").concat(t))}},{key:"logTimeEnd",value:function(e,t){console.timeEnd("performanceStageCollector ".concat(e,"-").concat(t))}},{key:"initCollectParams",value:function(){this.stageTimes={},this.stageStatus={};for(var e=1;e<=q;e++)this.logTimeStart(this.curModule,e),this.stageTimes["costTime".concat(e)]=0,this.stageStatus["stage".concat(e)]=0}},{key:"setProfileContext",value:function(e){this.getProfileContext=e}},{key:"renderStart",value:function(e){this.isSupportCurrentModule()&&(this.start=!0,this.renderStartTime=e,this.from===W&&(this.appJsLoadedTime=Date.now()-this.renderStartTime),this.initCollectParams())}},{key:"updateStage",value:function(e,t){var n;this.logTimeEnd(t,e),this.start&&this.curModule===t&&(e<=0||q<e?this.stopCollect():(n=this.getModuleConfig(this.curModule).endStages[e]||i.LOAD,this.stageTimes["costTime".concat(e)]=Date.now()-this.renderStartTime,this.stageStatus["stage".concat(e)]=1,this.isRenderEnd(n)&&this.collectEnd(V)))}},{key:"updateStageByNextRender",value:function(e,t){var n=this;z()?window.requestAnimationFrame(function(){n.updateStage(e,t)}):(this.unusualCaseRecord[d.INVISIBLE]=!0,this.updateStage(e,t))}},{key:"setExtraData",value:function(e){Object.assign(this.eventParams,e)}},{key:"isRenderEnd",value:function(e){var t=this.getModuleConfig(this.curModule);if(t){var n,r=t.endStages;for(n in r)if(r[n]===e&&!this.stageStatus["stage".concat(n)])return!1;return!0}}},{key:"handleBeforeUnload",value:function(){this.renderFail(s.UNLOAD_BEFORE_LOADED)}},{key:"renderFail",value:function(e){this.start&&this.getModuleConfig(this.curModule)&&this.collectEnd(e)}},{key:"stopCollect",value:function(){this.start=!1,this.eventParams={}}},{key:"collectEnd",value:function(e){this.setExtraData({result_code:e}),this.start&&(K.a.collectFinishRender(),this.collectTeaLog(),window.__allRenderEnd=!0)}},{key:"collectTeaLog",value:function(){var e,t,n=this.getModuleConfig(this.curModule),r=this.getProfileContext(),a=Object.keys(this.unusualCaseRecord).join(","),o=n.resources||[P.a.APP_JS],i=Object(P.b)(o),c=Object.assign({},this.eventParams,Object.assign({appJsLoaded:this.appJsLoaded,appJsLoadedTime:this.appJsLoadedTime,from:this.from,platform:this.platform,larkVersion:this.larkVersion,path:this.path},this.extraData,{},this.stageTimes,{},this.stageStatus,{},r,{module:this.curModule,cdnHost:this.getCdnHost(),isFastSpaceTemplate:Boolean(window.isFastSpaceTemplate),unusualCaseCodes:a},i));this.stopCollect(),c.result_code===s.UNLOAD_BEFORE_LOADED&&(c.unload_time=Date.now()-this.renderStartTime),Object(C.default)(Y,c),ee(),window.htmlCollectEvent&&(t={tenant_id:(e=window.User.tenantId)?Object(I.a)(e):""},window.htmlCollectEvent(Q,c,!1,t),c.result_code===s.UNLOAD_BEFORE_LOADED&&window.htmlCollectEvent(J,c,!0,t)),console.log(Y,c)}},{key:"getCdnHost",value:function(){if(!window.performance.getEntries)return null;var e=window.performance.getEntries(),t=Object(M.a)(e,"app");return t&&t.name?new F.a(t.name).host:""}},{key:"getModule",value:function(e){var t=Object(R.i)(e);return t&&t.module||""}},{key:"getPlatform",value:function(){return t?"docs-in-lark":k.a.isFeed?"lark-feed":"pc"}},{key:"getModuleConfig",value:function(e){var t=X[e];return Object(y.default)(t)?t():t}},{key:"extraData",get:function(){var e,t,n,r={},a=w.a.start,o=w.a.afterAppRender,i=window,c=i.domReadyTime,s=i.parseStartTime,u=i.isInjectSSR,l=i.docSSRDomReadyTime,d=window.performance.timing;return this.from===W?(c&&s&&(e=this.renderStartTime,r.html_download_end=s-e,r.html_parse_end=c-e,r.app_js_download_end=a-e,r.app_js_exec_end=o-e,this.appendTimeAndDuration(r,[["unload_event",d.unloadEventStart,d.unloadEventEnd],["redirect",d.redirectStart,d.redirectEnd],["fetch_app_cache",d.fetchStart,d.domainLookupStart],["doc_dns_lookup",d.domainLookupStart,d.domainLookupEnd],["connection",d.connectStart,d.connectEnd],["secure_connection",d.secureConnectionStart,d.connectEnd],["request_to_server",d.requestStart,d.responseStart],["response_to_client",d.responseStart,d.responseEnd]]),this.appendServerTiming(r),null!==(t=Object(M.b)())&&(r.app_js_load_time_dom_ready_to_app_download_start=t.startTime-c,r.app_js_load_time_app_download_time=t.endTime-t.startTime,r.app_js_load_time_app_download_end_to_exec_start=w.a.start-t.endTime),this.curModule!==D.FILE_TYPE.DOC||null!==(n=Object(M.c)())&&this.appendTimeAndDuration(r,[["doc_index_js_download",n.startTime,n.endTime]])),u&&(r.ssr_render_time=l-d.navigationStart)):(r.history_action=this.historyAction,r.previous_module=this.prevModule,r.previous_file_id=this.prevFileId),r}}]),e}();function $(){var e,t,n={module:D.FILE_TYPE.DOC,isCollectFromSpa:!0,isCollectFromSameModule:!0,endStages:{3:i.LOAD,4:i.LOAD,5:i.LOAD,7:i.LOAD,9:i.LOAD},resources:[P.a.APP_JS,P.a.DOC_INDEX_JS]};return k.a.isLark&&(e=Object(j.k)(v.a.href),delete(t=n.endStages)[7],e===j.b.ANNOUNCE&&delete t[9]),n}function ee(){if(performance&&performance.getEntriesByType){var e=["app","merge_app--framework_chunk","merge_app--business_tools_chunk","suite_header"];Object(H.d)()?e.push("doc_index"):Object(H.e)()&&e.push("sheet_index");for(var t=performance.getEntriesByType("resource"),n=t.length,r={},a=0;a<n;a++){var o=t[a].name;if(o.endsWith("js")){var i=s(o);if(i){var c=e.indexOf(i);if(-1!==c&&(u(i,t[a],r),e.splice(c,1),!e.length))break}}}Object(C.default)("record_main_resource_timing",r)}function s(e){var t=new RegExp("js\\/(.+)\\.[\\[\\]a-z0-9]+\\.js"),n=e.match(t);if(n)return n[1]}function u(e,t,n){e=e.replace(/\-/g,"_");var r=t.domainLookupStart,a=t.domainLookupEnd,o=t.connectStart,i=t.connectEnd,c=t.requestStart,s=t.responseEnd,u=t.secureConnectionStart,l=t.fetchStart,d=t.transferSize;function p(e,t){return+(e-t).toFixed(2)}n["".concat(e,"_dns_lookup")]=p(a,r),n["".concat(e,"_connect_time")]=p(i,o),n["".concat(e,"_request_time")]=p(s,c),n["".concat(e,"_used_time")]=p(s,l),u&&(n["".concat(e,"_SSL_time")]=p(i,u)),n["".concat(e,"_is_cache")]=0===d?"True":"False"}}te.c=new Z}).call(this,ne("kCIs"))},"z+r6":function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return a});var f=n("2ACu");function r(l,d,p,_,E){return function(e,t,n){var u=n.value;return n.value=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,a,o=u.apply(this,t),i=Array.from(t).find(function(e){return e&&e.hasOwnProperty("target")&&e.hasOwnProperty("nativeEvent")}),c=i?i.target:void 0;if("function"==typeof _?r=_.apply(this,[this].concat(t)):"string"==typeof _&&(r=_),"function"==typeof E?a=E.apply(this,[this].concat(t)):"string"==typeof E&&(a=E),!r)return o;var s={action:r,source:p,eventType:d,targetId:c&&c.id||"",targetClass:c&&c.className||""};return a&&(s.create_file_type=a),Object(f.collectSuiteEvent)(l,s),o},n}}var o={},i={};function a(r){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;o[r]||(o[r]={},i[r]={});var a=o[r];return a.interval=n,{start:function(e){var t=(new Date).getTime();a.lastTime&&t-a.lastTime<1e3*n?a.cancel=!0:(a.lastTime=t,a.startTime=e)},end:function(e){a.endTime=e},send:function(t,n,e){if(!a.cancel)return e&&"function"==typeof e?e(r,a.startTime,a.endTime):void c(function(){var e=Object.assign({},t,{},i[r]);e[n]=a.endTime-a.startTime,console.log("log: ",r,e),Object(f.collectSuiteEvent)(r,e)});a.cancel=!1},getStartTime:function(){return a&&a.startTime},clear:function(){for(var e in o[r])delete o[r][e];for(var t in i[r])delete i[r][t]},setExtraData:function(e,t){i[r][e]=t},getExtraData:function(e){return i[r]?i[r][e]:null}}}function c(e){(c=window.requestIdleCallback&&"function"==typeof window.requestIdleCallback?function(e){window.requestIdleCallback(e)}:function(e){window.requestAnimationFrame(e)})(e)}},zcUw:function(e,t,n){"use strict";var r=n("J4zp"),o=n.n(r),i=n("q1tI"),c=n.n(i),s=n("i8i4"),a=n("m/+l"),u=n("CnBM"),l=n.n(u),d=n("ucr6"),p=n("vc5i"),_=n("rLED"),E=n("QM+C"),f=n("Qyje"),T=n.n(f),S="subscription",m="changes",O=l()({loader:function(){return Promise.all([n.e("doc_index_css"),n.e("chunk_adit"),n.e(0),n.e(5),n.e(7),n.e("subscription")]).then(n.bind(null,"3jJR"))},loading:function(){return null}}),b=function(e){var t=Object(i.useState)(""),n=o()(t,2),r=n[0],a=n[1];return Object(i.useEffect)(function(){var e,t=new window.URL(location.href),n=T.a.parse(t.search,{ignoreQueryPrefix:!0});n[S]&&(delete n[S],(e=n[m])&&"string"==typeof e&&(delete n[m],t.search=T.a.stringify(n,{addQueryPrefix:!0,arrayFormat:"repeat"}),d.a.replace(t.toString()),a(e)))},[]),r&&e.type===E.NUM_SUITE_TYPE.DOC&&Object(_.kb)()&&Object(_.jb)()?Object(s.createPortal)(c.a.createElement(O,Object.assign({changes:r},e)),document.body):null};b.displayName="SubscriptionEntry",t.a=Object(a.connect)(function(e){return{type:Object(p.o)(e),token:Object(p.n)(e),urlType:Object(p.q)(e)}})(Object(i.memo)(b))},zeK0:function(e,t,n){"use strict";n.d(t,"c",function(){return s}),n.d(t,"f",function(){return u}),n.d(t,"b",function(){return l}),n.d(t,"e",function(){return d}),n.d(t,"a",function(){return p}),n.d(t,"d",function(){return _});var r=n("sLU5"),a=n("OX8E"),o=n("y94N");function i(e){return a.a.on(r.a.PC.DRIVE.LIST_RELOAD,e),{remove:function(){a.a.off(r.a.PC.DRIVE.LIST_RELOAD,e)}}}function c(e){a.a.emit(r.a.PC.DRIVE.LIST_RELOAD,e)}function s(r){return i(function(e){var t=e.listName,n=e.params;t===o.p.MyFolder&&r(n)})}function u(e){c({listName:o.p.MyFolder,params:e})}function l(r){return i(function(e){var t=e.listName,n=e.params;t===o.p.Star&&r(n)})}function d(){c({listName:o.p.Star})}function p(r){return i(function(e){var t=e.listName,n=e.params;t===o.p.Trash&&r(n)})}function _(){c({listName:o.p.Trash})}},zoZl:function(e,t,n){"use strict";var r=n("lwsE"),a=n.n(r),o=n("W8MJ"),i=n.n(o),c=n("a1gu"),s=n.n(c),u=n("Nsbk"),l=n.n(u),d=n("7W2i"),p=n.n(d),_=function(e){function n(){var t;return a()(this,n),(t=s()(this,l()(n).apply(this,arguments))).mountContainer=function(){var e=document.createElement("div");return e.classList.add("global-overlay-container"),document.body.appendChild(e),t.containerNode=e,function(){document.body.removeChild(e),t.containerNode=null}},t.getContainer=function(){return t.containerNode||void 0},t}return p()(n,e),i()(n,[{key:"componentDidMount",value:function(){this.unmountContainer=this.mountContainer()}},{key:"componentWillUnmount",value:function(){this.unmountContainer&&this.unmountContainer()}},{key:"render",value:function(){return null}}],[{key:"getContainer",value:function(){return document.querySelector(".global-overlay-container")}}]),n}(n("q1tI").Component);t.a=_}},[[1,"manifest~app","doc_index_css","merge_app--framework_chunk","merge_app--business_tools_chunk","vendors--app--equation","vendors--app","app--equation--fvg","app--fvg--opendoc-dialog","app--opendoc-dialog"]]]);
//# sourceMappingURL=app.1a673df8641c12ddfdb9.js.map