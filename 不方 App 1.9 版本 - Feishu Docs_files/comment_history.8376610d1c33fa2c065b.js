(this.webpackJsonp=this.webpackJsonp||[]).push([["comment_history",62],{"+Xq6":function(e,t,n){"use strict";var r=n("wN88");n.d(t,"d",function(){return r.a}),n.d(t,"e",function(){return r.b}),n.d(t,"g",function(){return r.d}),n.d(t,"h",function(){return r.e});var o=n("qkqw");n.d(t,"a",function(){return o.a}),n.d(t,"c",function(){return o.b});var i=n("PiJo");n.d(t,"f",function(){return i.generatePublicUrl}),n.d(t,"i",function(){return i.makePulicUrlEffective})},"0X7r":function(e,t,n){"use strict";var r=n("J4zp"),i=n.n(r),o=n("lwsE"),a=n.n(o),s=n("W8MJ"),c=n.n(s),p=n("LrWZ"),m=n("Muja"),u=n("Mpt7"),l=n("D7h9"),d=n("WzBf"),f=n("MUo5"),h=n("5cZX"),b=function(){function e(){a()(this,e),this.instances={}}return c()(e,[{key:"reroll",value:function(e){var t=this.getUserList(e),n=this.selectPermissions(e),r=[],o=!0,i=!1,a=void 0;try{for(var s,c=n.keys()[Symbol.iterator]();!(o=(s=c.next()).done);o=!0){var u=s.value;t.has(u)||r.push(u)}}catch(e){i=!0,a=e}finally{try{o||null==c.return||c.return()}finally{if(i)throw a}}r.length&&l.default.dispatch(Object(f.removeAuthorizedUsers)(e,r))}},{key:"selectPermissions",value:function(e){var t=Object(h.K)(l.default.getState()).getIn([e,"authorizedUsers"]);return t||Object(u.Map)({})}},{key:"getUserList",value:function(e){var t=new Set,n=!0,r=!1,o=void 0;try{for(var i,a=this.instances[e][Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var s=i.value.getUsers(),c=!0,u=!1,l=void 0;try{for(var d,f=s[Symbol.iterator]();!(c=(d=f.next()).done);c=!0){var p=d.value;t.add(p)}}catch(e){u=!0,l=e}finally{try{c||null==f.return||f.return()}finally{if(u)throw l}}}}catch(e){r=!0,o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}return t}},{key:"ensureToken",value:function(e){this.instances[e]||(this.instances[e]=new Set)}},{key:"add",value:function(e,t){this.ensureToken(e),this.instances[e].add(t),this.reroll(e)}},{key:"delete",value:function(e,t){this.ensureToken(e),this.instances[e].delete(t),this.reroll(e)}},{key:"destroyToken",value:function(e){delete this.instances[e]}}]),e}(),v=n("vc5i"),y=n("eL/v"),O=n("IyQe"),g=n("/PhZ"),E=n("o0o1"),k=n.n(E),T=n("yXPU"),C=n.n(T),_=n("2spZ"),V=10,j=new(function(){function e(){a()(this,e),this.fetchingStatus={},this.pendingUserMap=new Map}function t(e,t){return n.apply(this,arguments)}var n;return c()(e,[{key:"addPendingUserList",value:function(e,t,n){var r,o=this.pendingUserMap.get(e);o=o?(r=n.filter(function(e){return!o.includes(e)}),o.concat(r)):n,this.pendingUserMap.set(e,o),this.startFetchUserPerm(e,t)}},{key:"startFetchUserPerm",value:function(e,t){this.fetchingStatus[e]||(this.fetchingStatus[e]=!0,this.fetchUserPerm(e,t))}},{key:"fetchUserPerm",value:(n=C()(k.a.mark(function e(t,n){var r,o;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((r=this.pendingUserMap.get(t))&&0!==r.length){e.next=4;break}return this.fetchingStatus[t]=!1,e.abrupt("return");case 4:return o=r.splice(0,V),l.default.dispatch(Object(f.fetchAuthorizedUsers)(t,n,o)),e.next=8,Object(_.c)(1e3);case 8:this.fetchUserPerm(t,n);case 9:case"end":return e.stop()}},e,this)})),t)}]),e}()),S=new b;function w(e){return{token:"PERMISSION_CHANGE_".concat(e),resourceType:"PERMISSION_CHANGE",routeType:"token",routeKey:e}}var L=function(){function o(e){var f=this,t=e.userList,n=e.onPermissionChange,r=e.onError;a()(this,o),this.ready=!1,this.envInfos=null,this.onError=function(){},this.oldPermissions=Object(u.Map)({}),this.oldUserList=new Set,this.handleStoreChangeForNetworkState=function(){var e=Object(y.a)(l.default.getState());e&&!f.isOnline?(f.isOnline=e,f.fetchUserPermissions()):f.isOnline=e},this.handleStoreChangeForPermission=function(){if(f.ready){var e=f.selectPermissions();if(e!==f.oldPermissions||!Object(m.default)(f.userList,f.oldUserList)){var n=f.oldUserList,t=f.oldPermissions.filter(function(e,t){return n.has(t)});f.oldPermissions=e,f.oldUserList=new Set(f.userList);var r={},o=!0,i=!1,a=void 0;try{for(var s,c=f.userList[Symbol.iterator]();!(o=(s=c.next()).done);o=!0){var u=s.value,l=f.userList.has(u)&&e.get(u),d=t.get(u);Object(p.a)(l)&&!Object(p.a)(d)?r[u]=null:(!Object(p.a)(l)&&Object(p.a)(d)||l!==d)&&(r[u]=null!=e.get(u)?e.get(u):null)}}catch(e){i=!0,a=e}finally{try{o||null==c.return||c.return()}finally{if(i)throw a}}Object.keys(r).length&&f.emitChanges(r)}}else f.checkEnvReady()},this.handleMessage=function(){f.fetchUserPermissions()},this.userList=new Set(t),this.onPermissionChange=n,r&&(this.onError=r),this.unsubscribePermission=l.default.subscribe(this.handleStoreChangeForPermission),this.unsubscribeNetworkState=l.default.subscribe(this.handleStoreChangeForNetworkState),this.isOnline=Object(y.a)(l.default.getState()),this.checkEnvReady()}return c()(o,[{key:"bootstrap",value:function(){var e=this.envInfos.token,t=w(e);d.a.register(t,this.handleMessage),S.add(e,this)}},{key:"checkEnvReady",value:function(){var e=l.default.getState(),t=Object(v.n)(e),n=Object(v.o)(e);Object(p.a)(t)||Object(p.a)(n)||(this.ready=!0,this.envInfos={token:t,suiteType:n},this.bootstrap(),this.fetchUserPermissions())}},{key:"fetchUserPermissions",value:function(e){var t,n,r,o;this.ready&&this.isOnline&&(n=(t=this.envInfos).token,r=t.suiteType,o=e||Array.from(this.userList),j.addPendingUserList(n,r,o))}},{key:"emitChanges",value:function(e){var o=this,t=Object.entries(e).map(function(e){var t=i()(e,2),n=t[0],r=t[1];return{userId:n,permission:null!=r?o.convert(r):null}});this.onPermissionChange(t)}},{key:"convert",value:function(e){return Object(O.permission2Booleans)(e)}},{key:"selectPermissions",value:function(){if(!this.ready)return Object(u.Map)({});var e=this.envInfos.token,t=Object(h.K)(l.default.getState()).getIn([e,"authorizedUsers"]);return t||Object(u.Map)({})}},{key:"updateUserPerm",value:function(e){this.fetchUserPermissions(e)}},{key:"updateUserList",value:function(e){var t=new Set(e);Object(m.default)(this.userList,t)||(this.userList=t,this.fetchUserPermissions())}},{key:"addUsers",value:function(e){var t=[],n=!0,r=!1,o=void 0;try{for(var i,a=e[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var s=i.value;this.userList.has(s)||(this.userList.add(s),t.push(s))}}catch(e){r=!0,o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}0<t.length&&this.fetchUserPermissions(t)}},{key:"fetchUsers",value:function(e){return l.default.dispatch(Object(g.fetchUserDetail)({mentioned_users:e}))}},{key:"removeUsers",value:function(e){var t=!0,n=!1,r=void 0;try{for(var o,i=e[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value;this.userList.has(a)&&this.userList.delete(a)}}catch(e){n=!0,r=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}}},{key:"getUsers",value:function(){return Array.from(this.userList)}},{key:"getUserPermissions",value:function(){var e=this.selectPermissions(),t={},n=!0,r=!1,o=void 0;try{for(var i,a=this.userList[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var s=i.value;t[s]=e.has(s)?this.convert(e.get(s)):null}}catch(e){r=!0,o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}return t}},{key:"getPermissionByUser",value:function(e){var t=this.selectPermissions();return t.has(e)?this.convert(t.get(e)):null}},{key:"destroy",value:function(){var e,t;this.userList.clear(),this.unsubscribePermission&&this.unsubscribePermission(),this.unsubscribeNetworkState&&this.unsubscribeNetworkState(),this.ready&&(t=w(e=this.envInfos.token),d.a.deregister(t,this.handleMessage),S.delete(e,this))}}],[{key:"destroyToken",value:function(e){S.destroyToken(e)}}]),o}();t.b=L},"15MJ":function(e,t,n){"use strict";n.d(t,"u",function(){return d}),n.d(t,"s",function(){return f}),n.d(t,"m",function(){return p}),n.d(t,"q",function(){return m}),n.d(t,"h",function(){return h}),n.d(t,"j",function(){return b}),n.d(t,"l",function(){return v}),n.d(t,"i",function(){return y}),n.d(t,"e",function(){return O}),n.d(t,"a",function(){return g}),n.d(t,"p",function(){return E}),n.d(t,"o",function(){return k}),n.d(t,"n",function(){return T}),n.d(t,"b",function(){return C}),n.d(t,"k",function(){return _}),n.d(t,"t",function(){return V}),n.d(t,"f",function(){return j}),n.d(t,"g",function(){return S}),n.d(t,"d",function(){return w}),n.d(t,"c",function(){return L});var r=n("NSt8"),o=n.n(r),i=n("K6ZQ"),a=n.n(i),s=n("bCqk"),c=n.n(s),u=n("bIgJ"),l=n.n(u);n.d(t,"r",function(){return l.a});var d="image-upload",f="imageUpload",p=20,m=["tl","tc","tr","cr","br","bc","bl","lc"],h=9e4,b=20971520,v="mark_decode_image",y=6,O="gallery",g="data-ace-gallery-json",E="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII=",k={zh:a.a,en:o.a,ja:c.a},T=o.a,C="doc_decrypt_img_display",_="doc_insert_image",V=["list","heading"],j="gif-load-icon-active",S="gif-load-icon",w=/\/api\/box\/stream\/download\/(?:v\d+\/)?(all|cover)\/(\w*)/,L=/\/api\/file\/f\/(\w*)/},"2M8O":function(e,t,n){},"2RY6":function(e,t,n){"use strict";n.d(t,"j",function(){return o}),n.d(t,"i",function(){return i}),n.d(t,"a",function(){return a}),n.d(t,"b",function(){return s}),n.d(t,"h",function(){return c}),n.d(t,"f",function(){return u}),n.d(t,"c",function(){return l}),n.d(t,"d",function(){return d}),n.d(t,"e",function(){return f});var r=n("3406");n.d(t,"g",function(){return r.d});var o="body",i="fs-loading",a=".doc-comment__panel-item--active",s=".doc-comment-new__panel-item--active",c=".global-comment__textarea",u="".concat(o,":not(.").concat(r.c,"):not(.").concat(r.b.CLOSED,")"),l=64,d="FSMODE:ENTER",f="FSMODE:EXIT"},3406:function(e,t,n){"use strict";var r={};n.r(r),n.d(r,"LEFT",function(){return o}),n.d(r,"UP",function(){return i}),n.d(r,"RIGHT",function(){return a}),n.d(r,"DOWN",function(){return s}),n.d(r,"SPACE",function(){return c}),n.d(r,"ENTER",function(){return u}),n.d(r,"N",function(){return l}),n.d(r,"P",function(){return d}),n.d(r,"PAGE_UP",function(){return f}),n.d(r,"PAGE_DOWN",function(){return p});var o=37,i=38,a=39,s=40,c=32,u=13,l=78,d=80,f=33,p=34;n.d(t,"c",function(){return b}),n.d(t,"a",function(){return v}),n.d(t,"b",function(){return m}),n.d(t,"e",function(){return y}),n.d(t,"d",function(){return O}),n.d(t,"f",function(){return r});var m,h,b="fs-mode",v="fs-mode-non-paged";(h=m=m||{}).OPENING="fs-mode-non-paged__comment-opening",h.OPENED="fs-mode-non-paged__comment-opened",h.CLOSED="fs-mode-non-paged__comment-closed";var y=1e4,O=1.8},4:function(e,t){},"4E8e":function(e,V,j){"use strict";(function(u){j.d(V,"a",function(){return _});var e=j("aOJk"),o=j.n(e),t=j("lwsE"),n=j.n(t),r=j("W8MJ"),i=j.n(r),a=j("a1gu"),s=j.n(a),c=j("Nsbk"),l=j.n(c),d=j("7W2i"),f=j.n(d),p=j("xpYl"),m=j("q1tI"),h=j.n(m),b=j("TSYQ"),v=j.n(b),y=j("fOmz"),O=j("nHtH"),g=j("VI6H"),E=j("fJxK"),k=j("JXNz"),T=j("QM+C"),C=j("rLED"),_=(j("U2Xl"),function(e){function t(){var r;return n()(this,t),(r=s()(this,l()(t).apply(this,arguments))).logger=new E.b,r.handleReopen=function(e){var t=r.props.reopening,n=e.comment_id;t.has(n)||(r.props.setCommentHistoryReopening({commentId:n,reopening:!0}),r.commentDataActions.reopenComment({commentId:n}))},r}return f()(t,e),i()(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.logContext,n=e.rootType,r=e.rootToken;this.commentDataActions=new y.a({rootType:n,rootToken:r}),this.commentDataActions.getCommentService().setupCommentRecord(),this.logger.setLogContext(t)}},{key:"componentDidUpdate",value:function(e){var t,n,r,o=this.props,i=o.visible,a=o.logContext,s=o.rootToken;e.logContext!==a&&this.logger.setLogContext(a),e.rootToken!==s&&(n=(t=this.props).rootType,r=t.rootToken,this.commentDataActions=new y.a({rootType:n,rootToken:r})),i&&!e.visible&&(this.fetchCommentHistory(),this.logger.logClientComment(E.a.ViewHistory,null))}},{key:"fetchCommentHistory",value:function(){this.commentDataActions.fetchComments(!0)}},{key:"getCommentQuote",value:function(e){return this.props.rootType===T.NUM_FILE_TYPE.FILE?u("common.comment"):e.is_whole?u("common.full.text_review"):e.quote}},{key:"renderHistoryItem",value:function(e){var t=this.props,n=t.reopening,r=t.haveCommentPermission,o=e.comment_id,i=e.finish,a=!r,s=n.has(o)?u("etherpad.comment.reopening_comment"):i?Object(g.o)(e.finish_user_id)+u("etherpad.comment.resolved_comment"):u("etherpad.comment.delete_comment"),c=e.comment_list.map(function(e){return Object.assign({},e,{time:Object(O.a)(e.create_timestamp)})});return h.a.createElement("div",{className:"comment-history__item",key:e.comment_id},h.a.createElement("div",{className:"comment-history__sub"},h.a.createElement("span",{className:"comment-history__finish-user"},s),!a&&h.a.createElement("span",{className:"comment-history__reopen-btn",onClick:Object(p.a)(this.handleReopen,e)},i?u("etherpad.comment.reopen"):"")),h.a.createElement("div",{className:"comment-history__quote"},h.a.createElement("span",null,this.getCommentQuote(e))),h.a.createElement(k.a,{key:e.comment_id,list:c,embedObjShareEnable:Object(C.s)()}))}},{key:"renderPanel",value:function(){var t=this,e=this.props,n=e.historyData,r=e.visible,o=n.length<=0,i=v()("comment-history",{"comment-history--empty":o});return!1===r?null:h.a.createElement("div",{className:i},o?h.a.createElement("div",null,h.a.createElement("span",{className:"comment-history--empty__img"}),h.a.createElement("div",null,u("etherpad.comment.resolved_comment_store"))):n.map(function(e){return t.renderHistoryItem(e)}))}},{key:"render",value:function(){var e=this.props,t=e.visible,n=e.toggleVisible,r=e.placeholderStyle;return h.a.createElement("div",null,h.a.createElement(o.a,{prefixCls:"cp-popover",content:this.renderPanel(),visible:t,trigger:"click",placement:"bottomRight",onVisibleChange:n,arrowPointAtCenter:!0},h.a.createElement("span",{className:"comment-history-placeholder",style:r})))}}]),t}(m.PureComponent))}).call(this,j("2vAP"))},"5f2W":function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r={owner:null,userPermissions:0,permission:0,ownersWithPerm:[],ownersWithoutPerm:[]}},"5ydi":function(e,t,n){"use strict";n.d(t,"e",function(){return r}),n.d(t,"b",function(){return v}),n.d(t,"c",function(){return y}),n.d(t,"a",function(){return O}),n.d(t,"d",function(){return g});var r,o,i=n("lwsE"),a=n.n(i),s=n("a1gu"),c=n.n(s),u=n("Nsbk"),l=n.n(u),d=n("7W2i"),f=n.n(d),p=n("Mpt7"),m=n("658s");(o=r=r||{})[o.NewVersion=1]="NewVersion",o[o.RenameFile=2]="RenameFile",o[o.DeleteVersion=3]="DeleteVersion",o[o.RestoreVersion=4]="RestoreVersion";var h={version:"",edit_uid:"",edit_time:0},b={name:"",size:0,tag:0},v=function(e){function t(){return a()(this,t),c()(this,l()(t).apply(this,arguments))}return f()(t,e),t}(Object(p.Record)(Object.assign({type:r.NewVersion},h,{},b,{data_version:"",is_deleted:!1,user_source:m.a.OTHER}))),y=function(e){function t(){return a()(this,t),c()(this,l()(t).apply(this,arguments))}return f()(t,e),t}(Object(p.Record)(Object.assign({type:r.RenameFile},h,{name:"",source_tag:0}))),O=function(e){function t(){return a()(this,t),c()(this,l()(t).apply(this,arguments))}return f()(t,e),t}(Object(p.Record)(Object.assign({type:r.DeleteVersion},h,{source_tag:0,source_name:""}))),g=function(e){function t(){return a()(this,t),c()(this,l()(t).apply(this,arguments))}return f()(t,e),t}(Object(p.Record)(Object.assign({type:r.RestoreVersion},h,{},b,{source_tag:0,data_version:"",is_deleted:!1})))},"6O0K":function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n("n/R6"),o=n("SnPR"),i="TOAST_WITH_LOGIN",a="@";function s(e){r.a.remove(i),r.a.error({key:i,closable:!0,content:Object(o.a)(e,a)})}},"7HY0":function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n("o0o1"),d=n.n(r),o=n("yXPU"),f=n.n(o),i=n("lwsE"),p=n.n(i),a=n("W8MJ"),s=n.n(a),m=n("VN5G"),c=n("paQS"),h=n("wQna"),b=n("QM+C"),u=function(){function l(e){var c=this;p()(this,l),this.wrapperDispatchAction=function(o,i,a){var s=c.requestCommentActions;return o(s.begin(i)),new Promise(function(){var n=f()(d.a.mark(function e(t,n){var r;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a();case 3:r=e.sent,o(s.complete(i,r)),t(r),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),n(e.t0),o(s.error(i,e.t0));case 12:case"end":return e.stop()}},e,null,[[0,8]])}));return function(e,t){return n.apply(this,arguments)}}())},this.requestCommentActions={begin:function(e){return{type:e.type+"_BEGIN",payload:Object.assign({rootType:c.rootType,rootToken:c.rootToken,subCommentToken:c.subCommentToken},e.payload),meta:{previousAction:e}}},complete:function(e,t){var n=e.payload,r=n?Object.assign({},n,{},t):t;return{type:e.type+"_COMPLETE",payload:Object.assign({rootType:c.rootType,rootToken:c.rootToken,subCommentToken:c.subCommentToken},r),meta:{previousAction:e}}},error:function(e,t){return{type:e.type+"_ERROR",error:t,payload:Object.assign({rootType:c.rootType,rootToken:c.rootToken,subCommentToken:c.subCommentToken},e.payload),meta:{previousAction:e}}}};var t,n=e.rootType,r=e.rootToken,o=e.subCommentToken,i=e.enableAutoTranslate,a=e.translateLang,s=e.shouldSetBroadcast,u=e.transEnabled;this.rootType=n,this.rootToken=r,this.subCommentToken=o,this.commentService=Object(m.a)(n,r),b.isAnonymousAccess?s&&(t=h.a.getOrCreate({suiteType:this.rootType,suiteToken:this.rootToken}),this.commentService.setupBroadcast(t)):this.setUpCommentTranslate(i,a,s,u)}return s()(l,[{key:"setUpCommentTranslate",value:function(e,t,n,r){var o;this.commentTranslate=c.a.getOrCreate({suiteType:this.rootType,suiteToken:this.rootToken,subCommentToken:this.subCommentToken,enableAutoTranslate:e,translateLang:t}),n&&(o=!1!==r?(this.commentTranslate=c.a.getOrCreate({suiteType:this.rootType,suiteToken:this.rootToken,subCommentToken:this.subCommentToken,enableAutoTranslate:e,translateLang:t}),this.commentTranslate.getTranslateBroadcast()):(h.a.destroy({suiteType:this.rootType,suiteToken:this.rootToken}),h.a.getOrCreate({suiteType:this.rootType,suiteToken:this.rootToken})),this.commentService.setupBroadcast(o))}},{key:"setCommentTranslateEnableLang",value:function(e,t){this.commentTranslate=c.a.getOrCreate({suiteType:this.rootType,suiteToken:this.rootToken,subCommentToken:this.subCommentToken,enableAutoTranslate:e,translateLang:t}),this.commentTranslate.setCommentTranslateEnableLang(e,t)}},{key:"addTranslateCommentId",value:function(e){this.commentTranslate&&this.commentTranslate.addTranslateCommentId(e)}},{key:"destroy",value:function(){Object(m.b)(this.rootType,this.rootToken,this.subCommentToken)}},{key:"getCommentService",value:function(){return this.commentService}},{key:"getCommentTranslate",value:function(){return this.commentTranslate}}]),l}()},"8g0u":function(e,t,n){"use strict";n.d(t,"b",function(){return u}),n.d(t,"a",function(){return l});var m=n("lCmp"),r=n("peh1"),o=n("vc5i"),i=n("94ch"),h=n("uQON"),a=n("NltJ"),s=n("QM+C"),c=function(e){return e.appState.commentData},u=function(e){return e.appState.commentHistory.reopening},l=Object(r.createSelector)(function(e){return c(e)},function(e){return Object(a.f)(e)},function(e){return u(e)},function(e){return Object(i.a)(e)},function(e){return Object(o.n)(e)},function(e){return Object(o.o)(e)},function(e,c,u,l,t,n){if(0===Object.keys(e).length)return[];var r,d=e["".concat(n,"-").concat(t)],f=[],p=n===s.NUM_FILE_TYPE.SHEET,o=function(t){var e,n,r,o=d[t],i=o.finish,a=o.isWhole,s=o.commentList;c.find(function(e){return e.commentId===t})||(n=e=!1,i?e=!0:a||p||(n=Object(m.a)(s,function(e){return!e.deleted})),(e||n||u.has(t))&&s&&(r=s.reduce(function(e,t){var n,r=t.userId;return l.get(r)&&(n=Object(h.m)(t,l),e.push(n)),e},[]),f.push(Object.assign({},Object(h.a)(o),{comment_list:r,comment_id:t}))))};for(r in d)o(r);return f.sort(function(e,t){return t.finish_timestamp-e.finish_timestamp})})},BpSZ:function(e,t,n){"use strict";function r(e){return!!e.match(o)}n.d(t,"b",function(){return r}),n.d(t,"a",function(){return o});var o=/^\s*data:([a-z]+\/([a-z]+)(;[a-z\-]+\=[a-z\-]+)?)?(;base64)?,[a-z0-9\!\$\&\'\,\(\)\*\+\,\;\=\-\.\_\~\:\@\/\?\%\s]*\s*$/i},BzeS:function(e,t,n){},D0c4:function(e,t,n){"use strict";n.r(t);var r=n("lwsE"),o=n.n(r),i=n("W8MJ"),a=n.n(i),s=n("a1gu"),c=n.n(s),u=n("Nsbk"),l=n.n(u),d=n("7W2i"),f=n.n(d),p=n("q1tI"),m=n.n(p),h=n("m/+l"),b=n("CnBM"),v=n.n(b),y=n("5cZX"),O=n("D7h9"),g=n("Jdee"),E=n("vc5i"),k=n("UAY2"),T=n("MUo5"),C=n("VI6H"),_=n("Mpt7"),V=function(){return m.a.createElement("div",{className:"layout-main-center layout-cross-center layout-row popover-loading"},m.a.createElement(k.a,null))},j=v()({loader:function(){return Promise.all([n.e("doc_index_css"),n.e("commons--home_banner--reaction--user_profile--whats_new_request"),n.e("commons--reaction--user_profile"),n.e("vendors--user_profile"),n.e("user_profile")]).then(n.bind(null,"6Sv6"))},loading:V}),S=function(e,t){var n=t.token;return{suiteShareable:Object(y.x)(e),userPermission:Object(g.a)(e,n),currentSuite:Object(E.f)(e)||_.default.fromJS({}),fileOwner:Object(y.Y)(e),isSingleProduct:Object(C.x)()}},w={bulkSetUserPermission:T.bulkSetUserPermission,bulkAskOwner:T.bulkAskOwner},L=Object(h.connect)(S,w)(j),I=function(e){function t(){return o()(this,t),c()(this,l()(t).apply(this,arguments))}return f()(t,e),a()(t,[{key:"render",value:function(){return m.a.createElement(h.Provider,{store:O.default},m.a.createElement(L,Object.assign({},this.props)))}}]),t}(p.Component);t.default=I},EqJN:function(e,y,O){"use strict";(function(u){var e=O("lwsE"),r=O.n(e),t=O("W8MJ"),o=O.n(t),n=O("a1gu"),i=O.n(n),a=O("Nsbk"),s=O.n(a),c=O("7W2i"),l=O.n(c),d=O("q1tI"),f=O.n(d),p=(O("17x9"),O("VI6H")),m=O("JXNz"),h=(O("a/AK"),O("UlbS")),b=1101,v=function(e){function n(e){var t;return r()(this,n),(t=i()(this,s()(n).call(this,e))).setDespRef=function(e){t.despRef=e},t.isTextOverflow=function(){t.despRef&&t.despRef.clientWidth<t.despRef.scrollWidth?t.setState({textOverflow:!0}):t.setState({textOverflow:!1})},t.state={textOverflow:!1},t.despRef=null,t}return l()(n,e),o()(n,[{key:"componentDidMount",value:function(){this.isTextOverflow()}},{key:"renderDescription",value:function(e){return f.a.createElement("span",{className:"comment-history__finish-user",ref:this.setDespRef},e)}},{key:"render",value:function(){var e=this.props,t=e.readOnly,n=e.comment,r=e.embedObjShareEnable,o=e.scrollContainer,i=this.state.textOverflow,a=n.finish,s=n.isLoading,c=a?Object(p.o)(n.finish_user_id)+u("etherpad.comment.resolved_comment"):u("etherpad.comment.delete_comment");return f.a.createElement("div",{className:"comment-history__item"},f.a.createElement("div",{className:"comment-history__sub"},i?f.a.createElement(h.Tooltip,{title:c,zIndex:b,placement:"topLeft"},this.renderDescription(c)):this.renderDescription(c),!t&&f.a.createElement("span",{className:"comment-history__reopen-btn",onClick:this.props.onResolve},a&&!s?u("etherpad.comment.reopen"):"")),f.a.createElement("div",{className:"comment-history__quote"},f.a.createElement("span",null,n.is_whole?u("common.full.text_review"):n.quote)),f.a.createElement(m.a,{key:n.comment_id,list:n.comment_list,embedObjShareEnable:r,scrollContainer:o}))}}]),n}(d.Component);y.a=v}).call(this,O("2vAP"))},EzSe:function(e,t,n){"use strict";n.d(t,"a",function(){return c}),n.d(t,"d",function(){return u}),n.d(t,"b",function(){return d}),n.d(t,"c",function(){return f});var r=n("L9Vw"),o=n("2ACu"),i=n("iP/4"),a=n("VIFs"),s="link_clicked",c=function(e){if(i.a.isFeed)return e;var t={logParams:{location:r.SECURE_LINK_LOG.CCM_DOCS}};return Object(r.getSecureLink)(e,t)},u=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:r.SECURE_LINK_LOG.CCM_DOCS;i.a.isFeed||Object(o.default)(s,{scene:r.SECURE_LINK_LOG.CCM_DOCS,location:e})};function l(e,t){var n;Object(a.isDocUrl)(e)?window.open(t):i.a.isChrome?window.open(t,"_blank","noopener"):(n=window.open(t,"_blank"))&&(n.opener=null)}function d(e){l(e,c(e)),u()}function f(e){i.a.isFeed&&l(e,e);var t={logParams:{location:r.SECURE_LINK_LOG.DOCS_SDK_COMMENT}};l(e,Object(r.getSecureLink)(e,t)),u(r.SECURE_LINK_LOG.DOCS_SDK_COMMENT)}},GGin:function(e,t,n){"use strict";n.d(t,"f",function(){return o}),n.d(t,"e",function(){return i}),n.d(t,"b",function(){return a}),n.d(t,"a",function(){return s}),n.d(t,"c",function(){return c}),n.d(t,"d",function(){return u});var r=n("Ngi8"),o="#ffeea8",i=r.Y100,a="HALF_FULL_ALL_CHANGED",s="HALF_FLL_CHANGED",c="HALF_FULL_CHANGED",u="HALF_FULL_START_CHANGE"},GkkD:function(e,t,n){"use strict";n.r(t);var r=n("m/+l"),o=n("4E8e"),i=n("vc5i"),a=n("5cZX"),s=n("8g0u"),c={setCommentHistoryReopening:n("QsUg").a},u=function(e){var t=Object(s.a)(e);return{haveCommentPermission:Object(a.b)(e),historyData:t,rootToken:Object(i.n)(e),rootType:Object(i.o)(e),reopening:Object(s.b)(e)}};t.default=Object(r.connect)(u,c)(o.a)},HmyT:function(e,t,n){"use strict";n.r(t),n.d(t,"jQuery",function(){return r}),n.d(t,"$",function(){return r});var r=n("EVdn");(window.jQuery=window.$=r).expr.cacheLength=1},"I4N/":function(e,t,n){"use strict";n.d(t,"b",function(){return i}),n.d(t,"a",function(){return a});var r=n("FnDM"),o=n("AiBH");function i(e){var t=e.source,n=e.isWhole;return t===o.z.DOC?"doc":t===o.z.SHEET?"sheet":n?"full_comment":"part_comment"}function a(e){var t="full_comment"===e||"part_comment"===e;return"doc"===Object(r.f)()?t?o.z.DOC_COMMENT:o.z.DOC:t?o.z.SHEET_COMMENT:o.z.SHEET}},Jdee:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=function(e,t){return e.appState.permissionUserMap[t]}},K6ZQ:function(e,t){e.exports="data:image/png;base64,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n7EgWuBMNTUfwvvLjYmLi4YIuz12iXxgoSjCDiqXLY/FOOaXG9ti4/9O2sfVN6ANxLiGAlrbE4mpUEmlmywkRkVcz8YNTeIqpN0CMkksEg/IxpM5vQVA61WX/PldwNJZUaEbO16+lzbJaRY4REZAxFmw3Jy0TxsM6WE8X0tbADZapxFgJskut4PjebDEHY5EyjhjAkzYI+X5eWAr3MoIxJznVkSKCiHeZ8WwsScWz7el3UzOR2+cMsN0nEO+74iU+yrUuUsMXVgA+Ylj6ZBKuzc3AKuXvrsD8OM7aU8WjFYi7b4qEolqn2pqPoW3F/YVccPpdAepfy3EtF4t7Cs72NPPpS1KbQ2ANhTTihALQLCbcET6YjwHG+gn7L+kLjRK0GVvf+1b0fxGvArguzUfTjw9L+2JYR04InkxGU8sXLLJSmV6gITOiZi0Tz2/G//qSlcF+CxcCqLiPRtrKkn7JMi+t06icUE/tIWhEHnCcYR2cgFx/IfxfC1tURGznPZRgzoO3+db/X421/b+3b4F0mDvWjFThLruRuGsHlzD4vla2oogbAMISdv2AfNy9UhvBKQLg27N6QYRG749kImOy8F+oEXdlO6CBzAdipRyumwAeyDmpe1UTBi1woRoggPV1HwMvVals3t0T3O2kAs7zqeapvEHMRkYbJbQYsn00aJfSHsPwGgLhbdcTQFcE0u0cgcMmVFMFzHf0TcCbtvXEBIJTtS5wtwjXnFub+vJaq5zl3LSHqRHJA+wv4gxS8yxLEtbQkiS34+bv+Yxuf5lw2HOz+P5fkdkPxm21Iwt6jUe4L0t7WUARisKtZDsM2do2BOL5ytps8CsE/k+ydeVS/4mWWt+D2DdaR22PjtoiByX4TgtgQpwfxhANy/t/o5hJdI+Bepup651qqn5HPRZRW5Ep5+xmJ6pxHm6iKdxvrPAUFtRCVfTXCqw63pUQl7tws2qPZOYD46tVqs7Th/LlskmfEtauJNz22Sfom9L6bu2b1yV5GUNbOkFwrRLIUqzmU4uMrwWzXQcLJfLiUsZI8tPPBEuuzg/pt8c2NAknm/u344nw9QkqmTGC0R6mjkQxvQ+7nTq0iNEb5sw7sXqTfaxiNGejt+I52S6yh13xPMrn95hrPWL7r2YFKHfLwXPsXPLja46lRAX/IkirqMJFdlP5xQhjxxnJFNNzSchLpqNAs3F/3OtJdOpFwas41ni//nPUPPh6MNmTtnD/+t3Qen/+ovH1PGsqfkPIQrDS7/Z7F+GQt2w+JM9OBAAAAAAAPJ/bQRVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVWEPDgQAAAAAgPxfG0FVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVdqDAxIAAAAAQf9ftyNQAQAAAAAAAAAAAAAAAAAA2Ah4kBuxS9hLOQAAAABJRU5ErkJggg=="},KVeW:function(e,t,n){},KgLa:function(e,t,n){"use strict";var r=n("lwsE"),i=n.n(r),o=n("W8MJ"),a=n.n(o),s=n("a1gu"),c=n.n(s),u=n("Nsbk"),l=n.n(u),d=n("7W2i"),f=n.n(d),p=n("q1tI"),m=n.n(p),h=n("iP/4"),b=n("eOIy"),v=function(e){function t(){var o;return i()(this,t),(o=c()(this,l()(t).apply(this,arguments))).handleScroll=function(e){var t=o.props,n=t.onScrollX,r=t.onScrollY;n&&n(e),r&&r(e)},o}return f()(t,e),a()(t,[{key:"render",value:function(){var e=this.props,t=e.id,n=e.style,r=e.onWheel,o=e.children,i=e.className,a=e.containerRef,s=e.onContextMenu,c=e.onDoubleClick;return h.a.isMac||h.a.isIOS||h.a.isIE?m.a.createElement("div",{id:t,className:i,style:n,ref:a,onScroll:this.handleScroll,onContextMenu:s,onDoubleClick:c,onWheel:r},o):m.a.createElement(b.b,Object.assign({},this.props),o)}}]),t}(p.Component);t.a=v},KiYW:function(e,t,n){"use strict";n.d(t,"b",function(){return s}),n.d(t,"c",function(){return c}),n.d(t,"d",function(){return u}),n.d(t,"e",function(){return l}),n.d(t,"f",function(){return d}),n.d(t,"a",function(){return f}),n.d(t,"g",function(){return p});var r=n("QM+C"),o=n("VIFs"),i=n("sLU5"),a=n("OX8E"),s=function(e,t){return a.a.emit(i.a.PC.SUITE.TRIGGER_UPDATE_CUSTOM_ICON_META,e,t)},c=function(e,t,n){return a.a.emit(i.a.PC.SUITE.UPDATE_CUSTOM_ICON_START,e,t,n)},u=function(e,t){return a.a.emit(i.a.PC.SUITE.UPDATE_CUSTOM_ICON_SUCCESS,e,t)};function l(e){var t=e.key,n=e.direct_link;if(n)return n;if(!t)return"";var r=Object(o.getDomainConfig)("domain").lark_file;return"https://".concat(r,"/api/avatar/v1/").concat(t,"/noop.image")}var d=function(e){if(!e)return"";var t=e.get("icon_key"),n=e.get("icon");return t||n?l({key:t,direct_link:n}):""},f=[r.NUM_SUITE_TYPE.FILE,r.NUM_SUITE_TYPE.BITABLE];function p(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e))+e}},M8cP:function(e,t,n){"use strict";function i(e){var t=document.createElement("a");t.href=e;try{return{protocol:t.protocol,hostname:t.hostname}}catch(e){return null}}function r(e){var t=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],n=i(e);if(!n)return"";var r=n.protocol,o=n.hostname;return t?[r,o].join("//"):o}function o(e){return r(e,!1)}function a(e){var t=i(e);return t?t.hostname:""}n.d(t,"d",function(){return i}),n.d(t,"b",function(){return r}),n.d(t,"c",function(){return o}),n.d(t,"a",function(){return a})},NSt8:function(e,t){e.exports="data:image/png;base64,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"},PiJo:function(e,t,n){"use strict";n.r(t);var r=n("o0o1"),d=n.n(r),o=n("yXPU"),i=n.n(o),a=n("9+78"),c=n.n(a),u=n("nN3d"),s=n("VIFs"),l=n("toa8"),f=n("AESI"),p=n("wN88");function m(e,t){return h.apply(this,arguments)}function h(){return(h=i()(d.a.mark(function e(o,i){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(t){var e=i.maxConcurrentCount,n=0;function r(){var e=o.shift();if("function"==typeof e)return e().then(r);--n<=0&&t()}for(;n<e;)r(),++n}));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}var b=n("+00W"),v=n.n(b);n.d(t,"generatePublicUrl",function(){return j}),n.d(t,"makePulicUrlEffective",function(){return L}),n.d(t,"makePublicUrlEffective",function(){return M});var y={},O={},g=3600,E="V4";function k(e){return Object(s.prependAPI)("/api/file/out/".concat(e,"/"))}function T(e){return Object(s.prependAPI)("/api/box/stream/download/asynccode/?code=".concat(e))}function C(e){var t=Object(p.c)(e),n=y[t];return n?k(n):(n=Object(u.c)(50),k(y[t]=n))}function _(e){var t=Math.round((new Date).getTime()/1e3),n=t+g,r="".concat(t,":").concat(n),o="Token:".concat(e),i=Object(u.c)(32),a=c()("".concat(i,"_").concat(o,"_").concat(r,"_").concat(E)),s="".concat(a,"_").concat(i,"_").concat(o,"_").concat(r,"_").concat(E);return v()(s)}function V(e){var t=O[e];return t?T(t):(t=_(e),T(O[e]=t))}function j(e){var t=e.originSrc,n=e.fileToken;return n?V(n):t?C(t):""}function S(e){return l.b.post("/api/file/copy_out/",{key_dict:JSON.stringify(e)}).catch(function(){console.error("doc 图片生成 publicUrl 失败。")})}function w(e){return l.b.post(f.MAKE_PUBLIC_URL_EFFECTIVE,{tokens:e}).catch(function(){console.error("drive 图片生成 publicUrl 失败。")})}function L(){return I.apply(this,arguments)}function I(){return(I=i()(d.a.mark(function e(){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all([R(),x()]));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function M(){return P.apply(this,arguments)}function P(){return(P=i()(d.a.mark(function e(){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all([R(),x()]));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function D(e,t){return N.apply(this,arguments)}function N(){return(N=i()(d.a.mark(function e(t,n){var r,o,i,a,s,c,u,l;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(0===(r=Object.keys(n)).length)return e.abrupt("return");e.next=3;break;case 3:if(o=50,r.length<=o)return e.next=7,t(n);e.next=9;break;case 7:e.next=15;break;case 9:for(i=2,a=[],s=0;s<r.length;){for(c={},u=Math.min(s+o,r.length);s<u;)l=r[s],c[l]=n[l],++s;a.push(t.bind(null,c))}return e.next=15,m(a,{maxConcurrentCount:i});case 15:case"end":return e.stop()}},e)}))).apply(this,arguments)}function R(){return U.apply(this,arguments)}function U(){return(U=i()(d.a.mark(function e(){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D(S,y);case 2:y={};case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}function x(){return q.apply(this,arguments)}function q(){return(q=i()(d.a.mark(function e(){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D(w,O);case 2:O={};case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}},QsUg:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n("jp/M"),o=function(e){return{type:r.actionTypes.commentHistory.SET_COMMENT_HISTORY_REOPENING,payload:e}}},SnPR:function(e,o,i){"use strict";(function(e){i.d(o,"a",function(){return r});var t=i("J4zp"),l=i.n(t),d=i("gpFw"),n=i("q1tI"),f=i.n(n),p=e("anonymous.login");function r(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",n=new RegExp(t+p,"ig"),r=e.match(n);if(!r||1<r.length)throw new TypeError("No matched ".concat(p,'" or matched multiple result,\n    Indentifier such as "@" should be included before hypertext "').concat(p,'"\n    when content has mutiple "').concat(p,'".'));var o=r[0],i=e.split(o),a=l()(i,2),s=a[0],c=a[1],u=0<t.length?o.slice(t.length):o;return f.a.createElement("span",null,s,f.a.createElement(d.a,{loginText:u}),c)}}).call(this,i("2vAP"))},SskX:function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,(e.exports=n).id="SskX"},U2Xl:function(e,t,n){},U5G9:function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return s}),n.d(t,"c",function(){return c});var r=n("FJEn"),i=n("OX8E"),o=r.ChangesetHelper.ChangesetHelper,a={COMMENT:"comment",MENTION:"mention",HISTORY:"history",MINDMAP:"mindmap",SHEET:"sheet",BACK:"back",ATTRIBUTE_POSITION:"attribute_position",SELECTION_POPUP:"selection_popup",NOTE_TITLE:"note_title",INSERT_DIR:"insert_dir",CODEBLOCK:"codeblock",HYPERLINK:"hyperlink",TABLE:"table",HISTORY_NEW:"history_new",SUBSCRIPTION:"subscription"};function s(t){var e=new o;return e.setErrorHandler(function(e){throw e.silence||i.a.trigger("EtherpadPlugin:Error",[Object.assign({},t,{from:"etherpad",message:e.message,type:"changeset",editor:null})]),e}),e}function c(r,o){return function(){try{for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return r.apply(null,t)}catch(e){i.a.trigger("EtherpadPlugin:Error",[Object.assign({},o,{from:"etherpad",message:e.message,type:"changeset",editor:null})])}}}},UAY2:function(e,t,n){"use strict";var r=n("lwsE"),o=n.n(r),i=n("W8MJ"),a=n.n(i),s=n("a1gu"),c=n.n(s),u=n("Nsbk"),l=n.n(u),d=n("7W2i"),f=n.n(d),p=n("q1tI"),m=n.n(p),h=n("TSYQ"),b=n.n(h),v=(n("17x9"),n("2M8O"),function(e){function t(){return o()(this,t),c()(this,l()(t).apply(this,arguments))}return f()(t,e),a()(t,[{key:"render",value:function(){var e=b()("spiner",this.props.className),t={transform:"scale(".concat(this.props.scale,")")};return m.a.createElement("span",{className:e,style:t},m.a.createElement("span",{"aria-hidden":"true"}),m.a.createElement("span",{"aria-hidden":"true"}),m.a.createElement("span",{"aria-hidden":"true"}))}}]),t}(p.PureComponent));t.a=v},VN5G:function(e,t,n){"use strict";var r=n("f+gR"),o=n("x/Yo"),i=n("toa8"),a=n("Q9MD"),s=n("D7h9"),c=n("ZGZ5"),u=n("5cZX"),l=n("lwsE"),d=n.n(l),f=n("W8MJ"),p=n.n(f),m=n("cDf5"),h=n.n(m),y=n("7EGn"),b=n("xKvl"),O=n("1dfU"),v=n("fQzm"),g=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":h()(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;0<=s;s--)(o=e[s])&&(a=(i<3?o(a):3<i?o(t,n,a):o(t,n))||a);return 3<i&&a&&Object.defineProperty(t,n,a),a},E=parseInt(Object(y.default)(window,"DATA.clientVars.data.user_info.member_id"),10),k=function(){function e(){d()(this,e)}return p()(e,[{key:"logInitVersion",value:function(e){}},{key:"logVersionBreak",value:function(e){var t=e.localVersion;e.remoteVersion<t&&this.logLocateRemoteDiffVersion(e)}},{key:"logBroadcastVersion",value:function(e){var t=e.localVersion,n=e.remoteVersion,r=e.module,o=e.token,i=e.message;console.log("received! BROADCAST_".concat(r,"\n      localVersion: ").concat(t,"\n      remoteVersion: ").concat(n),i),v.b.info("IO: memberId(".concat(E,"):\n      BROADCAST_").concat(r,"\n      token: ").concat(Object(O.a)(o),"\n      localVersion: ").concat(t,"\n      remoteVersion: ").concat(n)),n<t&&this.logLocateRemoteDiffVersion(e)}},{key:"logLocateRemoteDiffVersion",value:function(e){}}]),e}();g([Object(b.a)("doc_comment_log_init_data_version",function(e){var t=e.args[0],n=t.aheadVersion,r=t.behindVersion,o=t.token,i=t.source,a=t.module;return{aheadVersion:n,behindVersion:r,source:i,token:Object(O.a)(o),module:a}})],k.prototype,"logInitVersion",null),g([Object(b.a)("doc_comment_log_broadcast_locate_remote_version",function(e){var t,n,r,o,i,a,s,c,u=e.args[0],l=u.localVersion,d=u.remoteVersion,f=u.source,p=u.token,m=u.module,h=u.message,b={},v=Object(y.default)(h,"data.message.context",null);return"COMMENT"===m&&v?(t=v.ACTION,n=v.REQUEST_ID,r=v.USER_ID,o=v.comment_id,i=v.reply_id,b={actionType:t,requestId:n,commentId:Object(O.a)(o),replyId:Object(O.a)(i),sendUserId:Object(O.a)(r)}):"COMMENT_REACTION"===m&&v&&(a=v.ACTION,s=v.REQUEST_ID,c=v.USER_ID,b={actionType:a,requestId:s,reactionKey:v.reaction_key,sendUserId:Object(O.a)(c)}),Object.assign({localVersion:l,remoteVersion:d,source:f,module:m,token:Object(O.a)(p),memberId:E},b)})],k.prototype,"logBroadcastVersion",null),g([Object(b.a)("doc_comment_log_locate_remote_diff_version",function(e){var t=e.args[0],n=t.localVersion,r=t.remoteVersion,o=t.source,i=t.token;return{localVersion:n,remoteVersion:r,source:o,module:t.module,token:Object(O.a)(i)}})],k.prototype,"logLocateRemoteDiffVersion",null);var T=new k,C=n("paQS"),_=n("kUgE"),V=n("WzBf"),j=n("rLED"),S=n("SebV");n.d(t,"a",function(){return I}),n.d(t,"b",function(){return M});var w=new r.a,L=new o.CommentRecordManager;function I(e,t){e&&"default"!==t||Object(S.a)("createCommentService token objType no collect");var n=w.getOrCreateCommentService({rootType:e,rootToken:t,commentRecordManager:L,getUserId:function(){return Object(c.a)(s.default.getState()).get("id")||window.User.id},getMemberId:function(){return Object(a.b)(s.default.getState())},getIsOwner:function(){return Object(u.F)(s.default.getState())},getLanguage:_.getLanguage,msgBox:Object(j.d)("message_msgBox_enable")?V.a:null,messageVersion:3,isNewMentionUi:Object(j.G)(),isCommentMergeMessage:!1});return n.setupRequest(i.d),n.setupLogger(T),n}function M(e,t,n){n||(w.destroyCommentService(t),L.destroyCommentRecord(e,t),C.a.destroy({suiteType:e,suiteToken:t}))}},XRg5:function(e,o,i){"use strict";i.r(o),function(l){i.d(o,"DEFAULT_ZOOM_RATIO",function(){return v}),i.d(o,"ZOOM_TWICE_RATIO",function(){return y}),i.d(o,"MODULE_TYPE",function(){return t}),i.d(o,"BLOCK_VIEW_TYPE",function(){return d}),i.d(o,"imageViewerCreator",function(){return n}),i.d(o,"createViewer",function(){return r});i("fFdo");var d,e,f=i("dvZ7"),p=i("2ACu"),m=i("Z/PY"),h=i("Mp37"),b=i("rLED"),v=.15,y=Math.pow(1+v,2)-1,t={DOC_FULLSCREEN:"presentation",DOC_BODY:"mainbody",SHEET:"sheet",MINDNOTE:"mindnote",COMMENT:"comment"};(e=d=d||{}).PICTURE="picture",e.DIAGRAM="diagram";var O={DEFAULT:[[h.TOOLBAR_TYPE.ZOOM_OUT,!0],[h.TOOLBAR_TYPE.ZOOM_IN,!0],[h.TOOLBAR_TYPE.ROTATE_LEFT,!0],[h.TOOLBAR_TYPE.ONE_TO_ONE,!0],[h.TOOLBAR_TYPE.DOWNLOAD,!1]],BLACK:[[h.TOOLBAR_TYPE.PREV,!0],[h.TOOLBAR_TYPE.PAGE_NUM,!0],[h.TOOLBAR_TYPE.NEXT,!0],[h.TOOLBAR_TYPE.SEPARATOR_LINE,!0],[h.TOOLBAR_TYPE.ZOOM_OUT,!0],[h.TOOLBAR_TYPE.RATIO,!0],[h.TOOLBAR_TYPE.ZOOM_IN,!0],[h.TOOLBAR_TYPE.ONE_TO_ONE,!0],[h.TOOLBAR_TYPE.SEPARATOR_LINE,!0],[h.TOOLBAR_TYPE.ROTATE_LEFT,!0]]},n={create:function(e){return r(e.elementsWrapper,e.options,e.evtSource)}};function r(e,s,c){var u=3<arguments.length&&void 0!==arguments[3]?arguments[3]:d.PICTURE,t=Date.now(),n=function(e){var t,n,r=e.actionType,o=e.evtType,i="";s.report&&s.report({actionType:r,evtType:o});var a=o===h.UX_EVENT_TYPE.KEYBOARD?"keydown":o===h.UX_EVENT_TYPE.WHEEL||o===h.UX_EVENT_TYPE.PINCH?"touchpad":"mouseclick";switch(r){case h.UX_ACTION_TYPE.HIDE:t="close",n=o===h.UX_EVENT_TYPE.KEYBOARD?"esc":o===h.UX_EVENT_TYPE.BUTTON_CLICK?"click_icon":"click_bg";break;case h.UX_ACTION_TYPE.NEXT:case h.UX_ACTION_TYPE.PREV:t=r===h.UX_ACTION_TYPE.NEXT?"next_image":"previous_image",n=o===h.UX_EVENT_TYPE.KEYBOARD?"keyboard":"click_icon";break;case h.UX_ACTION_TYPE.ZOOM_IN:case h.UX_ACTION_TYPE.ZOOM_OUT:t=r===h.UX_ACTION_TYPE.ZOOM_IN?"zoom_in":"zoom_out",n=o===h.UX_EVENT_TYPE.KEYBOARD?"keyboard":o===h.UX_EVENT_TYPE.WHEEL?"wheel":o===h.UX_EVENT_TYPE.PINCH?"pinch":"click_icon",i=r===h.UX_ACTION_TYPE.ZOOM_IN?"zoom-in":"zoom-out";break;case h.UX_ACTION_TYPE.ORIGINAL_SIZE:case h.UX_ACTION_TYPE.INITIAL_SIZE:t=r===h.UX_ACTION_TYPE.ORIGINAL_SIZE?"original_size":"initial_size",n=o===h.UX_EVENT_TYPE.CANVAS_DBL_CLICK?"double_click":"click_icon",i=t;break;case h.UX_ACTION_TYPE.MOVE:t="move",n=o===h.UX_EVENT_TYPE.DRAG?"drag":"wheel";break;case h.UX_ACTION_TYPE.FULLSCREEN:case h.UX_ACTION_TYPE.NOT_FULLSCREEN:t=r===h.UX_ACTION_TYPE.FULLSCREEN?"fullscreen":"not_fullscreen",n=o===h.UX_EVENT_TYPE.CANVAS_DBL_CLICK?"double_click":"click_icon",i=t;break;default:return}Object(p.default)("client_block_view",{client_block_view_type:u,client_block_view_subtype:"picture_".concat(t,"_by_").concat(n),client_block_view_source:c}),s.isDrive&&i&&Object(f.f)({action:i,source:"toolbar",eventType:a,subFileType:s.fileType})},r=function(){var e=Date.now();Object(p.default)("client_block_view",{client_block_view_type:u,client_block_view_subtype:"picture_open",client_block_view_source:c,client_block_view_launch_duration:e-t})},o=Object(b.N)("image_viewer_theme","DEFAULT"),i=O[o],a=new h.default(e,Object.assign({minZoomRatio:.1,maxZoomRatio:5,zoomRatio:v,navbar:!1,clearSwitchTransition:!0,theme:o,toolbar:i,i18n:{toolbar_zoom_in:l("image.zoom-in"),toolbar_zoom_out:l("image.zoom-out"),toolbar_one_to_one:l("image.one-to-one"),toolbar_rotate_left:l("viewer.toolbar.rotate"),toolbar_fullscreen:l("viewer.toolbar.fullscreen"),toolbar_exit_fullscreen:l("viewer.toolbar.exitfullscreen"),toolbar_download:l("viewer.toolbar.download"),toolbar_reset:l("image.reset"),toolbar_prev:l("image.prev"),toolbar_next:l("image.next")},rotateRight:!1,keyboard:!0,loop:!1,url:function(e){var t=e.getAttribute("data-src"),n=Object(m.p)(t)&&/\/file\/f\//.test(t)?t.replace(/\/$/,"~noop"):t;return(n||e.src).replace(/"/g,"").replace(/'/g,"")},viewed:function(e){var t=e.detail.image.getBoundingClientRect().width;t&&1===a.imageData.ratio&&window.innerWidth/4>=t&&(a.zoom(y,{evtType:h.UX_EVENT_TYPE.INIT_ZOOM},!0),a.initialImageData.ratio=a.imageData.ratio)},report:n,shown:r},s));return a}}.call(this,i("2vAP"))},Xngx:function(e,t,n){"use strict";var r=n("RIqP"),o=n.n(r),i=n("yIs4"),a=n("F2y5"),s=n("BmhO"),c=n("VIFs"),u=n("kUgE"),l=n("EVj1"),d=n("5ydi"),f=n("y94N"),p=n("VQSS"),m=n("JC8k");function h(e){var t=e.fileToken,n=e.mountPoint,r=e.version,o=Object(c.prependDriveStreamAPI)("/api/box/stream/download/all/".concat(t,"/")),i=Object(p.a)({mount_node_token:n&&n.token,mount_point:n&&n.type,version:r});return o+Object(l.d)(i)}function b(e){var t=e.fileToken,n=e.mountPoint,r=e.coverOptions,o=Object(c.prependAPI)("/api/box/stream/download/v2/cover/".concat(t,"/")),i=Object(p.a)({mount_node_token:n&&n.token,mount_point:n&&n.type,width:r&&r.width,height:r&&r.height,policy:r&&r.policy,shape:r&&r.shape});return o+Object(l.d)(i)}function v(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:2;if(!Object(i.default)(e))return"";var n=e;return n<1024?"".concat(Math.round(n)," B"):(n/=1024)<1024?"".concat(n.toFixed(t)," KB"):(n/=1024)<1024?"".concat(n.toFixed(t)," MB"):(n/=1024)<1024?"".concat(n.toFixed(t)," GB"):"".concat((n/=1024).toFixed(t)," TB")}function y(e){var t=Object(m.a)(e),n={image:o()(s.C),video:o()(s.D),audio:o()(s.E),txt:o()(s.F),word:o()(s.G),excel:o()(s.B),ppt:o()(s.H),code:o()(s.A)};return Object.keys(n).find(function(e){return n[e].includes(t)})||t}function O(e){return s.w.includes(e.toLowerCase())}function g(e){return s.x.includes(e.toLowerCase())}function E(e){return s.u.includes(e.toLowerCase())}function k(e){return s.J.includes(e.toLowerCase())}var T=function(e){return Array.isArray(e)?e.map(function(e){switch(e&&e.type){case d.e.NewVersion:return new d.b(e);case d.e.RenameFile:return new d.c(e);case d.e.DeleteVersion:return new d.a(e);case d.e.RestoreVersion:return new d.d(e);default:return null}}).filter(function(e){return e}):[]},C=function(e,t){var n=e.map(function(e){return e.get("version")});return t.filter(function(e){return e&&!n.includes(e.get("version"))})};function _(e){return"number"!=typeof e||e<1e4?e:"zh"===Object(u.getLanguage)()?"".concat(Object(a.a)(e/1e4,1),"万"):"".concat(Object(a.a)(e/1e3,1),"K")}function V(e){if(!e.render_config)return{};try{var t=e.render_config;return"string"==typeof e.render_config&&(t=JSON.parse(e.render_config)),{"--top-border-bg-color":t&&t.show_top_border?t.top_border_color:"transparent"}}catch(e){return{}}}function j(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",t=Object(m.a)(e);return s.C.includes(t)?s.C:s.D.includes(t)?s.D:s.E.includes(t)?s.E:s.G.includes(t)?s.G:s.B.includes(t)?s.B:s.H.includes(t)?s.H:t===s.s.PDF?[s.s.PDF]:void 0}function S(e){return s.C.includes(e)?f.d.IMAGE:f.d.FILE}n.d(t,"d",function(){return m.a}),n.d(t,"f",function(){return m.b}),n.d(t,"c",function(){return h}),n.d(t,"b",function(){return b}),n.d(t,"g",function(){return v}),n.d(t,"e",function(){return y}),n.d(t,"n",function(){return O}),n.d(t,"l",function(){return g}),n.d(t,"m",function(){return E}),n.d(t,"k",function(){return k}),n.d(t,"o",function(){return T}),n.d(t,"p",function(){return C}),n.d(t,"a",function(){return _}),n.d(t,"i",function(){return V}),n.d(t,"j",function(){return j}),n.d(t,"h",function(){return S})},XsFf:function(e,t,n){"use strict";var r=n("o0o1"),i=n.n(r),o=n("J4zp"),a=n.n(o),s=n("lwsE"),c=n.n(s),u=n("W8MJ"),l=n.n(u),d=n("yXPU"),f=n.n(d),p=n("cDf5"),m=n.n(p),h=n("BeL+"),b=n("Z0Cl"),v=n("ZBlo"),y=n("toa8"),O=n("H6oK"),g=n("4PSP"),E=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":m()(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;0<=s;s--)(o=e[s])&&(a=(i<3?o(a):3<i?o(t,n,a):o(t,n))||a);return 3<i&&a&&Object.defineProperty(t,n,a),a},k=function(){function t(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];c()(this,t),this.array=[],this.maxSize=0,this.array=e}return l()(t,[{key:"setMaxSize",value:function(e){this.maxSize=e}},{key:"length",value:function(){return this.array.length}},{key:"add",value:function(e){var t=this.findIndex(e.id);-1<t?this.array.splice(t,1,e):(0<this.maxSize&&this.array.length===this.maxSize&&this.pop(),this.array.push(e))}},{key:"delete",value:function(e){var t=this.findIndex(e);-1!==t&&this.array.splice(t,1)}},{key:"pop",value:function(){return this.array.shift()}},{key:"findIndex",value:function(t){return this.array.findIndex(function(e){return e.id===t})}},{key:"latest",value:function(){return this.array[this.length()-1]}},{key:"toJSON",value:function(){return this.array}},{key:"clear",value:function(){this.array=[]}},{key:"isPendding",get:function(){return 0===this.maxSize||this.array.length<this.maxSize}}]),t}(),T=function(){function r(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1;c()(this,r),this.workerFn=t,this.maxOccurs=n,this.waitQueue=e,this.workerQueue=new k,this.workerQueue.setMaxSize(n),this.pause=!1,this.workerResult=[],this.workerRqs=[]}return l()(r,[{key:"setCallback",value:function(e,t){this.onSuccess=e,this.onFail=t}},{key:"setWorker",value:function(e){this.workerFn=e}},{key:"appendWaitQueue",value:function(e){var t=this;e.forEach(function(e){t.waitQueue.add(e)})}},{key:"start",value:function(){var t=this;return this.workerResult=[],this.workerRqs=[],new Promise(function(e){t.resolveQueue=e,0===t.waitQueue.length()&&t.resolveQueue([]),t.work()})}},{key:"stop",value:function(){this.pause=!0}},{key:"clearWait",value:function(){this.waitQueue.clear()}},{key:"continue",value:function(){this.pause=!1,this.work()}},{key:"clear",value:function(){this.pause=!1,this.cancel(),this.waitQueue.clear(),this.workerQueue.clear(),this.workerRqs=[]}},{key:"cancel",value:function(){this.workerRqs.forEach(function(e){var t=e.abort||e.cancel;t&&"function"==typeof t&&t()}),this.workerRqs=[]}},{key:"work",value:function(){for(var e=Math.min(this.waitQueue.length(),this.maxOccurs-this.workerQueue.length()),t=0;t<e;t++)this.addQueue()}},{key:"checkQueuePending",value:function(){return this.workerQueue.isPendding}},{key:"checkWaitQueueEmpty",value:function(){return 0===this.waitQueue.length()}},{key:"addQueue",value:function(){var e;this.pause||!this.checkQueuePending()||(e=this.waitQueue.pop())&&(this.workerQueue.add(e),this.worker())}},{key:"worker",value:function(){var n,e,t,r,o=this;this.pause||(n=this.workerQueue.latest(),e=n.id,t=n.data,r=this.workerFn(t),this.workerRqs.push(r),r.then(function(e){var t={payload:n,response:e};o.workerResult.push(t),o.onSuccess&&o.onSuccess(t)}).catch(function(e){var t={payload:n,response:e};o.workerResult.push(t),o.onFail&&o.onFail(t)}).finally(function(){o.removeWorkerQueue(e),o.queueEmpty()&&o.resolveQueue?o.resolveQueue(o.workerResult):o.pause||o.addQueue()}))}},{key:"removeWorkerQueue",value:function(e){this.workerQueue.delete(e)}},{key:"checkWorkerQueueEmpty",value:function(){return 0===this.workerQueue.length()}},{key:"queueEmpty",value:function(){return this.checkWaitQueueEmpty()&&this.checkWorkerQueueEmpty()}}]),r}();E([Object(g.Bind)()],T.prototype,"clear",null);var C=n("HIeq"),_=n("jp/M"),V=n("AiBH");n.d(t,"a",function(){return I}),n.d(t,"b",function(){return M});var j,S=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":m()(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;0<=s;s--)(o=e[s])&&(a=(i<3?o(a):3<i?o(t,n,a):o(t,n))||a);return 3<i&&a&&Object.defineProperty(t,n,a),a},w=5,L=50;function I(){return j=j||new N}function M(n,r,o){var i=I();return new Promise(function(e,t){i.resCacheMap.has(n)?e(i.resCacheMap.get(n)):(i.fetchingSet.has(n)||i.appendWaitQueue([n],r,o),i.addDetachMap(n,{resolve:e,reject:t}))})}function P(e,t,n){return D.apply(this,arguments)}function D(){return(D=f()(i.a.mark(function e(t,n,r){var o;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.d.post(_.apiUrls.POST_FETCH_USER_DETAIL,{mentioned_users:t,source:n,token:r},{headers:{"Content-Type":"application/json"}});case 3:return o=e.sent,e.abrupt("return",o.data.entities);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",Promise.reject(new Error("pull users Error ".concat(e.t0.code,": ").concat(e.t0.msg))));case 10:case"end":return e.stop()}},e,null,[[0,7]])}))).apply(this,arguments)}var N=function(){function e(){c()(this,e),this.resCacheMap=new Map,this.detachMap=new Map,this.userQueue=null,this.fetchingSet=new Set,this.throttleWaitUserIds=[],this.userQueue=new T(new k,this.fetchUsers,w),this.userQueue.setCallback(this.fetchUsersSuccess,this.fetchUsersFail),this.userQueue.start()}return l()(e,[{key:"fetchUsersToQueue",value:function(e,t,n){var r=this,o=Object(b.a)(Object(h.a)(e),function(e){return!r.resCacheMap.has(e)&&!r.fetchingSet.has(e)});this.appendWaitQueue(o,t,n)}},{key:"fetchEditorUsers",value:function(e,t){var n=V.z.DOC,r=this.collectEditorUsers(e);this.fetchUsersToQueue(r,n,t)}},{key:"collectEditorUsers",value:function(e){var n="dataMetaBlockProps",t=function(e,t){return Boolean(e===n&&JSON.parse(t).blockType===O.BlockType.AT_USER_BLOCK)};return e.getMatchedAttributePositionOnSelection(null,t,{shouldMerge:!1}).map(function(e){try{return JSON.parse(e.attrValue).props.data.user.id}catch(e){return{}}})}},{key:"pause",value:function(){this.userQueue&&this.userQueue.clear(),this.fetchingSet.clear()}},{key:"fetchUsers",value:function(e){var t=this,n=a()(e,3),r=n[0],o=n[1],i=n[2];return r.forEach(function(e){return t.fetchingSet.add(e)}),P(r,o,i)}},{key:"fetchUsersFinally",value:function(t,n){var r=this;Object.keys(t).forEach(function(e){r.detachMap.has(e)&&n(e,t[e]),r.fetchingSet.delete(e),r.detachMap.delete(e)})}},{key:"resolve",value:function(e,t){this.detachMap.get(e).forEach(function(e){e.resolve(t)}),this.resCacheMap.set(e,t)}},{key:"reject",value:function(e,t){this.detachMap.get(e).forEach(function(e){e.reject(t)})}},{key:"fetchUsersSuccess",value:function(e){var t=e.response;this.fetchUsersFinally(t,this.resolve)}},{key:"fetchUsersFail",value:function(e){var t=e.response;this.fetchUsersFinally(t,this.reject)}},{key:"appendWaitQueue",value:function(e,t,n){this.userQueue&&(this.userQueue.appendWaitQueue(Object(v.a)(e,L).map(function(e){return{id:Object(C.b)(),data:[e,t,n]}})),this.userQueue.continue())}},{key:"addDetachMap",value:function(e,t){var n,r=t.resolve,o=t.reject;this.detachMap.has(e)?(n=this.detachMap.get(e),this.detachMap.set(e,n.concat([{resolve:r,reject:o}]))):this.detachMap.set(e,[{resolve:r,reject:o}])}}]),e}();S([Object(g.Bind)()],N.prototype,"pause",null),S([Object(g.Bind)()],N.prototype,"fetchUsers",null),S([Object(g.Bind)()],N.prototype,"resolve",null),S([Object(g.Bind)()],N.prototype,"reject",null),S([Object(g.Bind)()],N.prototype,"fetchUsersSuccess",null),S([Object(g.Bind)()],N.prototype,"fetchUsersFail",null)},YO6O:function(e,t,n){"use strict";n.r(t);var r=n("QILm"),i=n.n(r),o=n("lwsE"),a=n.n(o),s=n("W8MJ"),c=n.n(s),u=n("a1gu"),l=n.n(u),d=n("Nsbk"),f=n.n(d),p=n("7W2i"),m=n.n(p),h=n("q1tI"),b=n.n(h),v=n("Si88"),y=n.n(v),O=n("VI6H"),g=n("D0c4"),E=n("pVnL"),k=n.n(E),T=n("PJYZ"),C=n.n(T),_=n("Bw5p"),V=n("i8i4"),j=n.n(V);n("17x9");function S(e,t,n,r){var o=j.a.unstable_batchedUpdates?function(e){j.a.unstable_batchedUpdates(n,e)}:n;return e.addEventListener(t,o,r),{cancel:function(){e.removeEventListener(t,o,r)}}}function w(e,t){for(;t;){if(t===e)return!0;t=t.parentNode}return!1}var L=n("EB6M"),I=n("lSNA"),M=n.n(I),P=n("TSYQ"),D=n.n(P),N=n("UXvI"),R=n("Muja"),U=n("kaUV");function x(e){return null!=e&&e===e.window}var q=function(e){function o(){var e,s;a()(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(s=l()(this,(e=f()(o)).call.apply(e,[this].concat(n)))).observer=null,s.prevHeight=0,s.forceAlign=function(){var e=s.props,t=e.target,n=e.align,r=e.disabled,o=e.onAlign;if(!r){var i=Object(V.findDOMNode)(C()(s));if(!i)return console.error("Align Component findDOMNode return null");var a=Object(U.c)(i,t,n);o&&o(i,t,a)}},s}return m()(o,e),c()(o,[{key:"componentDidMount",value:function(){this.forceAlign(),!this.props.disabled&&this.props.observe&&this.startMutationObserver(),!this.props.disabled&&this.props.monitorWindowResize&&this.startMonitorWindowResize()}},{key:"componentDidUpdate",value:function(e){var t,n,r=!1,o=this.props;o.disabled||(e.disabled||!Object(R.default)(e.align,o.align)?r=!0:(t=e.target,n=o.target,x(t)&&x(n)?r=!1:t!==n&&(r=!0))),r&&this.forceAlign(),o.monitorWindowResize&&!o.disabled?this.startMonitorWindowResize():this.stopMonitorWindowResize(),o.observe&&!o.disabled?this.startMutationObserver():this.stopMutationObserve()}},{key:"componentWillUnmount",value:function(){this.stopMonitorWindowResize(),this.stopMutationObserve()}},{key:"startMonitorWindowResize",value:function(){this.resizeHandler||(this.bufferMonitor=Object(N.default)(this.forceAlign,this.props.monitorBufferTime),this.resizeHandler=S(window,"resize",this.bufferMonitor))}},{key:"stopMonitorWindowResize",value:function(){this.resizeHandler&&(this.bufferMonitor.cancel(),this.resizeHandler.cancel(),this.resizeHandler=null)}},{key:"startMutationObserver",value:function(){var t,e,n,r=this;this.observer||(t=Object(V.findDOMNode)(this),e={attribute:!0,childList:!0,subtree:!0},n=function(){var e;!t||(e=t.offsetHeight)!==r.prevHeight&&(r.prevHeight=e,r.forceAlign())},this.observer=new MutationObserver(n),this.observer.observe(t,e))}},{key:"stopMutationObserve",value:function(){this.observer&&this.observer.disconnect(),this.observer=null}},{key:"render",value:function(){return h.Children.only(this.props.children)}}]),o}(h.Component);q.defaultProps={target:window,monitorBufferTime:50,monitorWindowResize:!0,observe:!0};var F=q,B=function(e){function i(){var e,t;a()(this,i);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=l()(this,(e=f()(i)).call.apply(e,[this].concat(r)))).setAlign=function(e){t.align=e},t.setPopupInner=function(e){t.popupInner=e},t.forceAlign=function(){t.align&&t.align.forceAlign()},t}return m()(i,e),c()(i,[{key:"getPopupElement",value:function(){var e=this.props,t=e.prefixCls,n=e.className,r=e.style,o=e.children,i=e.visible,a=e.destroyOnHide,s=e.placement,c=e.zIndex,u=e.align,l=e.target,d=e.onMouseEnter,f=e.onMouseLeave,p=e.onAlign;if(a&&!i)return null;var m=D()(t,"".concat(t,"_").concat(s),n,M()({},"".concat(t,"_hidden"),!i));return b.a.createElement(F,{ref:this.setAlign,target:l,align:u,disabled:!i,onAlign:p},b.a.createElement("div",{ref:this.setPopupInner,className:m,onMouseEnter:d,onMouseLeave:f,style:Object.assign({},r,{zIndex:c})},b.a.createElement(L.b,{visible:i},o)))}},{key:"getMaskElement",value:function(){var e=this.props,t=e.prefixCls,n=e.mask,r=e.visible,o=e.zIndex,i=D()("".concat(t,"__mask"),M()({},"".concat(t,"__mask_hidden"),!r));return n&&b.a.createElement(L.b,{visible:r},b.a.createElement("div",{className:i,style:{zIndex:o}}))}},{key:"render",value:function(){return b.a.createElement("div",null,this.getMaskElement(),this.getPopupElement())}}]),i}(h.Component),Y={adjustX:!0,adjustY:!0,alwaysByViewport:!0},H=[0,0],W={l:{points:["cr","cl"],overflow:Y,offset:[0,0],targetOffset:[10,0],useCssRight:!0},r:{points:["cl","cr"],overflow:Y,offset:[0,0],targetOffset:[10,0]},t:{points:["bc","tc"],overflow:Y,offset:[0,0],targetOffset:[0,7],useCssBottom:!0},b:{points:["tc","bc"],overflow:Y,offset:[0,0],targetOffset:[0,7]},tl:{points:["bl","tl"],overflow:Y,offset:[0,0],targetOffset:H},lt:{points:["tr","tl"],overflow:Y,offset:[0,0],targetOffset:H},tr:{points:["br","tr"],overflow:Y,offset:[0,0],targetOffset:H},rt:{points:["tl","tr"],overflow:Y,offset:[0,0],targetOffset:H},bt:{points:["tr","br"],overflow:Y,offset:[0,0],targetOffset:H},rb:{points:["bl","br"],overflow:Y,offset:[0,0],targetOffset:H},bl:{points:["tl","bl"],overflow:Y,offset:[0,0],targetOffset:H},lb:{points:["br","bl"],overflow:Y,offset:[0,0],targetOffset:H}},K=["onClick","onMouseEnter","onMouseLeave","onFocus","onBlur"],Z=function(e){function t(e){var o;return a()(this,t),(o=l()(this,f()(t).call(this,e))).setTrigger=function(e){o.trigger=e},o.setContainerRender=function(e){o.containerRender=e},o.handleDocumentClick=function(e){var t;o.props.mask&&!o.props.maskClosable||(w(j.a.findDOMNode(C()(o)),t=e.target)||w(o.containerRender.component.popupInner,t)||o.setPopupVisible(!1))},o.handlePopupMouseEnter=function(e){o.clearDelayTimer()},o.handlePopupMouseLeave=function(e){e.relatedTarget&&o.trigger&&w(o.trigger,e.relatedTarget)||o.delaySetPopupVisible(!1,o.mouseLeaveDelay)},o.getPopup=function(){var e=C()(o).props,t={};o.isMouseEnterToShow()&&(t.onMouseEnter=o.handlePopupMouseEnter),o.isMouseLeaveToHide()&&(t.onMouseEnter=o.handlePopupMouseEnter,t.onMouseLeave=o.handlePopupMouseLeave);var n=Object(_.a)(e,["prefixCls","className","style","visible","placement","destroyOnHide","mask","zIndex","onAlign"]),r=Object.assign({},W[e.placement],{},e.align);return b.a.createElement(B,k()({},t,n,{target:j.a.findDOMNode(C()(o)),align:r,visible:o.state.visible}),o.props.popup)},o.handleClick=function(e){if(o.onClick(e),o.focusTime){if(Math.abs(Date.now()-o.focusTime)<20)return;o.focusTime=0}var t=!o.state.visible;(o.isClickToHide()&&!t||o.isClickToShow()&&t)&&o.setPopupVisible(t)},o.handleMouseEnter=function(e){o.onMouseEnter(e),o.delaySetPopupVisible(!0,o.props.mouseEnterDelay)},o.handleMouseLeave=function(e){o.onMouseLeave(e),o.delaySetPopupVisible(!1,o.props.mouseLeaveDelay)},o.handleFocus=function(e){o.onFocus(e),o.clearDelayTimer(),o.isFocusToShow()&&(o.focusTime=Date.now(),o.delaySetPopupVisible(!0,o.props.focusDelay))},o.handleBlur=function(e){o.onBlur(e),o.clearDelayTimer(),o.isBlurToHide()&&o.delaySetPopupVisible(!1,o.props.blurDelay)},o.state={visible:!!e.visible},K.forEach(function(t){o[t]=function(e){return o.fireEvents(t,e)}}),o}return m()(t,e),c()(t,[{key:"componentDidMount",value:function(){this.componentDidUpdate({},{visible:this.state.visible})}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){"visible"in e&&this.setState({visible:e.visible})}},{key:"componentDidUpdate",value:function(e,n){var r=this;this.containerRender.renderComponent(null,function(){var e,t=r.state;n.visible===t.visible||(e=r.props.afterPopupVisibleChange)&&e(t.visible)}),this.state.visible?!this.clickOutsideHandler&&this.isClickToHide()&&(this.clickOutsideHandler=S(document,"click",this.handleDocumentClick)):this.clearOutsideHandler()}},{key:"componentWillUnmount",value:function(){this.clearDelayTimer(),this.clearOutsideHandler()}},{key:"isClickToShow",value:function(){var e=this.props,t=e.action,n=e.showAction;return-1!==t.indexOf("click")||-1!==n.indexOf("click")}},{key:"isClickToHide",value:function(){var e=this.props,t=e.action,n=e.hideAction;return-1!==t.indexOf("click")||-1!==n.indexOf("click")}},{key:"isMouseEnterToShow",value:function(){var e=this.props,t=e.action,n=e.showAction;return-1!==t.indexOf("hover")||-1!==n.indexOf("mouseEnter")}},{key:"isMouseLeaveToHide",value:function(){var e=this.props,t=e.action,n=e.hideAction;return-1!==t.indexOf("hover")||-1!==n.indexOf("mouseLeave")}},{key:"isFocusToShow",value:function(){var e=this.props,t=e.action,n=e.showAction;return-1!==t.indexOf("focus")||-1!==n.indexOf("focus")}},{key:"isBlurToHide",value:function(){var e=this.props,t=e.action,n=e.hideAction;return-1!==t.indexOf("focus")||-1!==n.indexOf("blur")}},{key:"setPopupVisible",value:function(e){var t;this.clearDelayTimer(),this.state.visible!==e&&("visible"in this.props||this.setState({visible:e}),(t=this.props.onVisibleChange)&&t(e))}},{key:"delaySetPopupVisible",value:function(e,t){var n=this;this.clearDelayTimer(),t?this.delayTimer=setTimeout(function(){return n.setPopupVisible(e)},t):this.setPopupVisible(e)}},{key:"clearDelayTimer",value:function(){this.delayTimer&&(clearTimeout(this.delayTimer),this.delayTimer=null)}},{key:"fireEvents",value:function(e,t){var n=this.props.children.props[e];n&&n(t);var r=this.props[e];r&&r(t)}},{key:"clearOutsideHandler",value:function(){this.clickOutsideHandler&&(this.clickOutsideHandler.cancel(),this.clickOutsideHandler=null)}},{key:"render",value:function(){var e={ref:this.setTrigger},t=h.Children.only(this.props.children);return e.onClick=this.isClickToShow()||this.isClickToHide()?this.handleClick:this.onClick,e.onMouseEnter=this.isMouseEnterToShow()?this.handleMouseEnter:this.onMouseEnter,e.onMouseLeave=this.isMouseLeaveToHide()?this.handleMouseLeave:this.onMouseLeave,this.isFocusToShow()||this.isBlurToHide()?(e.onFocus=this.handleFocus,e.onBlur=this.handleBlur):(e.onFocus=this.onFocus,e.onBlur=this.onBlur),b.a.createElement(L.a,{ref:this.setContainerRender,autoMount:!1,visible:this.state.visible,getComponent:this.getPopup,getContainer:this.props.getContainer},Object(h.cloneElement)(t,e))}}]),t}(h.Component);Z.defaultProps={action:[],showAction:[],hideAction:[],mask:!1,maskClosable:!0,mouseEnterDelay:0,mouseLeaveDelay:100,focusDelay:0,blurDelay:150,getContainer:function(){var e=document.createElement("div");return e.style.position="absolute",e.style.left=0,e.style.top=0,e.style.width=0,e.style.height=0,document.body.appendChild(e),e}};var z=Z,J=n("I4N/"),X=n("2ACu"),Q=n("iP/4");n("p/xT"),n("xD9Q"),n("BzeS");n.d(t,"default",function(){return $});var $=function(e){function t(e){var o;return a()(this,t),(o=l()(this,f()(t).call(this,e))).getPopup=function(){var e=o.props,t=e.token,n=e.source,r=e.grantViewAccessDisabled;return b.a.createElement(y.a,{in:o.state.isFadingInOrOut,timeout:250,className:"mention-popover comment-ignore-blur",classNames:"popover-fade",onExited:o.hidePopup},b.a.createElement("section",null,b.a.createElement(g.default,{closePopover:o.hidePopup,grantViewAccessDisabled:r,token:t,source:Object(J.a)(n)})))},o.onVisibleChange=function(e){if(!e)return o.startToFadeOut();o.props.onVisibleChange&&o.props.onVisibleChange(!0),o.props.usePopover&&(Object(X.default)("click_user_photo",{source_user_photo:o.props.source}),o.setState({visible:!0,isFadingInOrOut:!0}))},o.hidePopup=function(){o.props.onVisibleChange&&o.props.onVisibleChange(!1),o.setState({visible:!1})},o.state={isFadingInOrOut:!1,visible:!1},o}return m()(t,e),c()(t,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){}},{key:"startToFadeOut",value:function(){this.setState({isFadingInOrOut:!1})}},{key:"componentWillUnmount",value:function(){this.props.onVisibleChange&&this.props.onVisibleChange(!1)}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.trigger,r=(e.usePopover,e.onVisibleChange,e.className),o=i()(e,["children","trigger","usePopover","onVisibleChange","className"]);return Object(O.u)(this.props.token)||Q.a.isOpendoc?t:b.a.createElement(z,Object.assign({},o,{className:r,mask:!0,maskClosable:!1,action:[n],popup:this.getPopup(),destroyOnHide:!0,visible:this.state.visible,onVisibleChange:this.onVisibleChange}),t)}}]),t}(h.Component);$.defaultProps={usePopover:!0}},"Z/PY":function(e,be,ve){"use strict";(function(e){ve.d(be,"a",function(){return V}),ve.d(be,"w",function(){return I}),ve.d(be,"x",function(){return M}),ve.d(be,"y",function(){return P}),ve.d(be,"u",function(){return U}),ve.d(be,"v",function(){return x}),ve.d(be,"e",function(){return q}),ve.d(be,"E",function(){return F}),ve.d(be,"d",function(){return H}),ve.d(be,"n",function(){return W}),ve.d(be,"D",function(){return K}),ve.d(be,"g",function(){return Z}),ve.d(be,"p",function(){return J}),ve.d(be,"C",function(){return X}),ve.d(be,"b",function(){return Q}),ve.d(be,"i",function(){return $}),ve.d(be,"l",function(){return ee}),ve.d(be,"t",function(){return te}),ve.d(be,"j",function(){return ne}),ve.d(be,"s",function(){return re}),ve.d(be,"r",function(){return oe}),ve.d(be,"q",function(){return ie}),ve.d(be,"f",function(){return ae}),ve.d(be,"m",function(){return se}),ve.d(be,"c",function(){return ce}),ve.d(be,"B",function(){return ue}),ve.d(be,"h",function(){return le}),ve.d(be,"k",function(){return fe}),ve.d(be,"o",function(){return pe}),ve.d(be,"A",function(){return me}),ve.d(be,"z",function(){return he});var t=ve("o0o1"),o=ve.n(t),n=ve("yXPU"),r=ve.n(n),i=ve("J4zp"),S=ve.n(i),a=ve("dtwz"),s=ve("yIs4"),c=ve("F294"),u=ve("CpTu"),w=ve("15MJ"),l=ve("2ACu"),d=ve("+Xq6"),f=ve("3doy"),p=ve("skFV"),m=ve("VIFs"),h=ve("kUgE"),b=ve("BpSZ"),v=ve("lQZd"),y=ve("6O0K"),O=ve("jJw9"),g=ve("EVj1"),E=ve("dDhe"),k=ve("cGQV"),T=ve("rLED"),C=ve("wMS7"),_=ve.n(C);function V(){Object(y.a)(e("anonymous.paste_toast_with_login"))}var j=1280,L=730;function I(e){if(e){var t=e.src,n=e.file_token;if(!n)return Object(O.replaceImageDataSrc)(decodeURIComponent(t).replace(/\/\/file/,"/file"));var r=$(n);return Object(E.c)()?R(r):r}return null}function M(e){if(e){var t=e.src;return!!e.file_token?D(e):Object(O.replaceImageDataSrc)(decodeURIComponent(t).replace(/\/\/file/,"/file"))}return null}function P(e){if(!e)return!1;var t=e.size;if(!!!e.file_token)return!1;if(!t||!Object(s.default)(+t))return!1;var n=Object(T.M)("gif_load_icon_limit_value",Number.MAX_SAFE_INTEGER);return!!n&&n<+t}function D(e){if(!e)return null;var t=e.file_token;if(!!!t)return null;var n=Object(a.a)($,R)(t);return n?P(e)?N(n):n:null}function N(e){return e?e.replace("/all/","/v2/cover/"):null}function R(e){if(!e)return null;var t=Object(g.k)(e,!0),n=t.pathname,r=t.search,o=t.hash,i="".concat(n).concat(r).concat(o),a=Object(c.a)(Object(p.i)())||Object(c.a)(Object(p.r)());if(!a)return console.error("get api domain faild."),null;var s="https://".concat(a);return"".concat(s).concat(i)}function U(e){return e&&e.includes("pluginName="+w.s)}function x(e,t,n){var r=n.getAllAttributesOnLine(e,t);return!!Object(u.a)(r,function(e){return w.t.includes(e[0])})}function q(e){var t,n="";for(t in e)n+="".concat(t,"=").concat(e[t],"&");return n.slice(0,n.length-1)}function F(e){return void 0===e||"undefined"===e||"null"===e?void 0:e}function B(e,t){var n="t"===e[0]?-1:1,r="l"===e[1]?-1:1;return{width:t.width*r,height:t.height*n}}function Y(e){return e/Math.abs(e)}function H(e){for(var t=e.direction,n=e.alignment,r=e.imageSize,o=e.moveVector,i=e.imageMaxWidth,a=B(t,r),s=[Y(a.width),Y(a.height)],c=o.x,u=o.y,l="center"===n?2:1,d=r.width/l,f=r.height,p=a.width/l,m=a.height,h=i/l,b=p*m<0?-1:1,v=u*p*b<m*c*b,y=0,O=[["left","tr","top"],["center","tl","top"],["center","tr","top"],["right","tl","top"],["left","bl","side"],["right","br","side"]];y<O.length;y++){var g=O[y];g[0]===n&&g[1]===t&&(v="top"===g[2])}var E=(v?[p+c,m*(p+c)/p]:[p*(m+u)/m,m+u]).map(function(e,t){return e*s[t]}),k=S()(E,2),T=k[0],C=k[1],_=[d*l<f?w.m/l:w.m*d/f,d*l<f?w.m/l*f/d:w.m],V=[h,h*f/d],j=[Math.round(Math.min(V[0],Math.max(_[0],T))),Math.round(Math.min(V[1],Math.max(_[1],C)))];return{width:j[0]*l,height:j[1]}}function W(e,t,n){var r=n.split(".").pop()||"unknown";Object(l.default)("mention_drag_upload",{upload_status:e||"fail",mention_file_length:t,mention_file_type:r})}function K(e,t){return parseFloat(Number(e).toFixed(t))}function Z(e){return z.apply(this,arguments)}function z(){return(z=r()(o.a.mark(function e(t){var r;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t)return r=new Image,e.abrupt("return",new Promise(function(n){r.onload=function(){var e=document.createElement("canvas");e.width=r.width,e.height=r.height;var t=e.getContext("2d");t&&(t.drawImage(r,0,0,e.width,e.height),n(e.toDataURL()))},r.src=t}));e.next=3;break;case 3:return e.abrupt("return",null);case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function J(e){var t=Object(p.h)();return new RegExp("^https?:\\/\\/[\\w\\-._]+\\.(".concat(t.map(function(e){return e.replace(/\./g,"\\.")}).join("|"),")\\/space\\/api\\/")).test(e)}function X(e){var t=null;if(e)try{t=JSON.parse(e)}catch(e){}return t}function Q(e){try{e=decodeURIComponent(e)}catch(e){}return!!e&&/^(?:([A-Za-z]+):){1}(?:\/\/([.\-\w]+)){1}(?::(\d+))?(\/[^?#<>"']*)?(\?[^#<>"']*)?(#[^<>"']*)?$/.test(e)}function $(e,t){t=t||Object(v.g)();var n={mountPoint:{type:f.MountPointType.DOC_IMAGE,token:t}};return Object(d.h)(e,n)}function ee(){var e=Object(h.getLanguage)();return w.o[e]||w.n}function te(e){return!(!e||Object(b.b)(e))&&(!Object(m.isDocUrl)(e)||!re(e)&&!oe(e))}function ne(e){return e?"drive":"doc"}function re(e){return w.d.test(e)}function oe(e){return w.c.test(e)}function ie(e,t){return j<t&&e*j/t<L}function ae(e,n){var t=e.getMatchedAttributePositionOnSelection(null,function(e,t){return"image-previewer"===e&&n(Object(k.c)(t))});return 0<t.length?t[0].docPosition:null}function se(e,t){var n=Object(s.default)(e)?e:parseFloat(e),r=Object(s.default)(t)?t:parseFloat(t);return isNaN(n)||isNaN(r)||r<=0||n<=0?1:n/r}function ce(e){var t="#ssrBox #container-wrap-".concat(w.u,"-image-").concat(e," img");return!!document.querySelector(t)}function ue(e){return _.a.sanitize(e,{SAFE_FOR_JQUERY:!0,ALLOW_DATA_ATTR:!0,ALLOW_UNKNOWN_PROTOCOLS:!0,ADD_ATTR:["contenteditable"]}).replace(/data-faketext=""/g,'data-faketext=" "')}function le(e){return de.apply(this,arguments)}function de(){return(de=r()(o.a.mark(function e(t){var n;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(decodeURIComponent(t),{credentials:"include"});case 3:return n=e.sent,e.next=6,n.blob();case 6:return e.abrupt("return",e.sent);case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:return e.abrupt("return");case 13:case"end":return e.stop()}},e,null,[[0,9]])}))).apply(this,arguments)}function fe(e){return e&&Object.keys(e).find(function(e){return"gallery"===e||"image-uploaded"===e})}function pe(e){return/^comment-(id|resolved|deleted)-[0-9]+$/.test(e)}function me(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{transformSrc:!0},r=[];return"gallery"===e?r=he(t).items||[]:"image-uploaded"===e&&(r=[Object(k.c)(t)]),n.transformSrc&&r.forEach(function(e){e.src=I(e)}),r}function he(e){var t={};try{t=JSON.parse(e)}catch(e){console.error("attrObj gallery is not json string:",e)}return t}}).call(this,ve("2vAP"))},"a/AK":function(e,t,n){},bCqk:function(e,t){e.exports="data:image/png;base64,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"},bIgJ:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAtwAAAGSCAMAAADnzebaAAAAP1BMVEXl5ujn5+r19vfk5eecoqmus7nj5efR1Njz9PXv8fKmq7Kgpq3f4uS3u8C0uL3p6+3N0dTHy8+/wsfY2t2wtLtBBvaRAAAAAnRSTlPsSYtYiOwAAAWUSURBVHja7NIxEcAwDAAxN57Cn3CD40/CoPlmIejVnnsg6M7sgaSVmyq5yZKbLLnJkpssucmSmyy5yZKbLLnJkpssucmSmyy5yZKbLLnJkpssucmSmyy5yZKbLLnJkpssucmSmyy5yZKbLLnJkpssucmSmyy5yZKbLLnJkpssucmSmyy5yZKbLLnJkpssucmSmyy5yZKbLLnJkpssucmSmyy5yZKbLLnJkpssucmSmyy5yZKbLLnJkpssucmSmyy5yZKbLLnJkpssucmSmyy5yZKbLLnJkpssucmSmyy5yZKbLLnJkpssucmSmyy5yZL7Z5cOZAAAAAAG+Vvf4yuG2JKbLbnZkpstudmSmy252ZKbLbnZkpstudmSmy252ZKbLbnZkpstudmSmy252ZKbLbnZkpstudmSmy252ZKbLbnZkpstudmSmy252ZKbLbnZkpstudmSmy252ZKbLbnZkpstudmSmy252ZKbLbnZkpstudmSmy252ZKbLbnZkpstudmSmy252ZKbLbnZkpstudmSmy252ZKbLbnZkpstudmSmy252ZKbLbnZkpstudmSmy252ZKbLbnZkpstudmSmy252ZKbLbnZkpstudmSm9i5m503YSCMwlI6BIe/QNL7v9Z6HKp8AUdedTFvz7MyXqIjBLaMLOKGLOKGLOKGLOKGLOKGLOKGLOKGLOKGLOKGLOKGLOKGLOKGLOKGLOKGLOKGLOKGLOKGLOKGLOKGLOKGLOL+t9burM/zt6Vz6wU/EHcodjbe8vxmLxf8RNyRmG39weTzvduI+4C4IzG7Xr66EvcBcUfyJe7bcyLuCuKOpB73r8FsScR9RNyh1ONeLOuJ+4S4I6nHPVi2EfcJcUdSj/th2ZO4T4g7kj3ue58+vicXs40PyjPijuQV9zTanD7mb4nVkgrijsTj9rYt1806dxNxR+Jxe9ulbuJuIe5IctzedvEg7hbijsRsHW3XE3cLcUdib78/998TcZ8RdyT25jf6mi7FfWD7vYa4I7Hs/cadhjntbVuum7iPiDuS0xGFOZW23TIR9wFxR2J/rf7Afq13e9vFQNwHxB2J7bqUL2ZzS2mbY2Y1xB2J7aY8nmxH3N8QdyT2Mudh6oi7hbgjsWK85+FqxN1C3JFYsfm2zUjcTcQdibkhlQMKxN1E3JGYe/qNNuJuIu5Q/HdqDx88ugN+p1ZB3ABx4/9G3JBF3JBF3JBF3JBF3JBF3JBF3JBF3JBF3JBF3JBF3JBF3JBF3JBF3JBF3JBF3JBF3JBF3JBF3JBF3JBF3JBF3JBF3JBF3JBF3JBF3JBF3JBF3JBF3JBF3JBF3JBF3JBF3JD1h106kAEAAAAY5G99j68YkpstudmSmy252ZKbLbnZkpstudmSmy252ZKbLbnZkpstudmSmy252ZKbLbnZkpstudmSmy252ZKbLbnZkpstudmSmy252ZKbLbnZkpstudmSmy252ZKbLbnZkpstudmSmy252ZKbLbnZkpstudmSmy252ZKbLbnZkpstudmSmy252ZKbLbnZkpstudmSmy252ZKbLbnZkpstudmSmy252ZKbLbnZkpstudmSmy252ZKbLbnZkpstudmSmy252ZKbLbnZkpstudmSmy252ZKbLblrlw6KAAYBIIgd5YV/w/Wxk2gIWXKTJTdZcpMlN1lykyU3WXKTJTdZcpMlN1lykyU3WXKTJTdZcpMlN1lykyU3WXKTJTdZcpMlN1lykyU3WXKTJTdZcpMlN1lykyU3WXKTJTdZcpMlN1lykyU3WXKTJTdZcpMlN1lykyU3WXKTJTdZcpMlN1lykyU3WXKTJTdZcpMlN1lykyU3WXKTJTdZcpMlN1lykyU3WXKTJTdZcpMlN1lykyU3WXd7HwS97exC0M4PFp8M/ukGaV4AAAAASUVORK5CYII="},cGQV:function(e,t,n){"use strict";n.d(t,"b",function(){return o}),n.d(t,"c",function(){return i}),n.d(t,"a",function(){return a});var r=n("RKCD");function o(e){return Object(r.a)(e,{evaluate:/\{\{([\s\S]+?)\}\}/g,interpolate:/\{\{=([\s\S]+?)\}\}/g,escape:/\{\{\{([\s\S]+?)\}\}\}/g})}function i(){var n={};return(0<arguments.length&&void 0!==arguments[0]?arguments[0]:"").split("&").forEach(function(e){var t=e.split("=");n[t[0]]=t[1]}),n}function a(e){return"number"==typeof e&&isFinite(e)&&!isNaN(e)}},dF9M:function(e,i,a){"use strict";(function(o){a.d(i,"a",function(){return r});var e=a("wd/R"),t=a.n(e),n=(a("XDpg"),a("B55N"),a("f8Ac"));t.a.locale("en"),t.a.locale(Object(n.c)().toLowerCase()),t.a.relativeTimeThreshold("ss",0),t.a.relativeTimeThreshold("s",60),t.a.relativeTimeThreshold("m",60),t.a.relativeTimeThreshold("h",24),t.a.relativeTimeThreshold("d",31),t.a.relativeTimeThreshold("M",12);var r={TODAY:"h:mm A [Today]",YESTERDAY:"h:mm A [Yesterday]",BEFORE_YESTERDAY:"h:mm A [The day before yesterday]",SAME_YEAR:"h:mm A MMM D",BEFORE_YEAR:"MMM D, YYYY"};(function(){r.TODAY=o("space.date_format.today"),r.YESTERDAY=o("space.date_format.yesterday"),r.BEFORE_YESTERDAY=o("space.date_format.before_yesterday"),r.SAME_YEAR=o("space.date_format.same_year"),r.BEFORE_YEAR=o("space.date_format.before_year");var e=t.a.locale();t.a.locale(e,{relativeTime:{future:o("space.in_future"),past:function(e){return-1===[o("date.just")].indexOf(e)?"".concat(e).concat(o("space.time_before")):e},s:function(e,t,n,r){return o(r?"space.a_moment":"date.just")},ss:o("space.ss_seconds"),m:o("space.a_minute"),mm:o("space.mm_minutes"),h:o("space.a_hour"),hh:o("space.hh_hours")}})})()}).call(this,a("2vAP"))},dvZ7:function(e,t,n){"use strict";var O=n("7EGn"),i=n("BmhO"),a=n("TtEC"),r=n("WzBf");function o(e){return{token:"DRIVE_PREVIEW_EVENT_".concat(e),resourceType:"DRIVE_PREVIEW_EVENT",routeType:"local",routeKey:""}}function s(e,t){var n=o(e);r.a.register(n,t),r.a.onError(n,function(e){console.error("[MessageBoxError]:",e)})}function c(e,t){var n=o(e);r.a.deregister(n,t)}var u={register:s,deregister:c},g=n("Xngx"),l=n("rLED"),d=n("vE74"),f=n("QM+C"),p=n("iP/4"),E=n("skFV"),m=n("f8Ac"),k=n("5dbN"),h=n("omim"),b=n("EVj1"),v=n("VI6H"),y=n("EQyw"),T=n("erPj"),C=n("wCm6"),_=n("zaV1"),V=n("2ACu"),j=n("lgTS"),S=n("ucr6"),w=n("1dfU");function L(e){var t=e.file,n=e.files;if(!t||t instanceof j.e)return null;var r=t.get("type"),o=(t.get("subtype")||"").toLowerCase();return r===f.NUM_SUITE_TYPE.FILE&&i.u.includes(o)?n.filter(function(e){var t=e.get("type"),n=(e.get("subtype")||"").toLowerCase();return e instanceof j.f&&t===f.NUM_SUITE_TYPE.FILE&&i.u.includes(n)}).map(function(e){return e.get("obj_token")}):null}function I(e){var t=f.mapTypeToSuite[Object(g.d)(e).toLowerCase()]||"";return f.NUM_SUITE_TYPE[t.toUpperCase()]}function M(e){var t=e.action,n=void 0===t?"":t,r=e.fileToken,o=void 0===r?"":r,i=e.fileName,a=void 0===i?"":i,s=e.status,c=void 0===s?"success":s,u=e.subConfirmType,l=void 0===u?"":u,d=e.source,f=void 0===d?"":d,p=e.isCrossTenant,m=e.dummyToken,h=Object(g.d)(a),b=Object(k.getCurrentRouteObj)(),v=b&&b.module?b.module:"",y=b&&b.subModule?b.subModule:"";Object(V.default)("client_content_management",{action:n,source:f,sub_file_type:h,file_id:o?Object(w.a)(o):"",dummy_token:m&&Object(w.a)(m),module:v,sub_module:y,status_name:c,sub_confirm_type:l,file_is_cross_tenant:p,api_host:E.d,location_country:Object(O.default)(window,"User.locationCountry")})}function P(e){var t=e.action,n=void 0===t?"":t,r=e.status,o=void 0===r?"success":r,i=e.subConfirmType,a=void 0===i?"":i,s=e.source,c=void 0===s?"":s,u=e.isCrossTenant,l=Object(k.getCurrentRouteObj)(),d=l&&l.module?l.module:"",f=l&&l.subModule?l.subModule:"";Object(V.default)("client_content_management",{action:n,source:c,file_type:"folder",sub_file_type:"",file_id:"",module:d,sub_module:f,status_name:o,sub_confirm_type:a,file_is_cross_tenant:u||void 0,api_host:E.d,location_country:Object(O.default)(window,"User.locationCountry")})}function D(e){var t,n=e.action,r=void 0===n?"":n,o=e.source,i=void 0===o?"direct":o,a=e.eventType,s=void 0===a?"mouseclick":a,c=e.commentId,u=void 0===c?"":c,l=e.replyId,d=void 0===l?"":l,f=e.statusCode,p=void 0===f?0:f,m=e.statusName,h=void 0===m?"success":m,b=e.commentType,v=void 0===b?"full_comment":b,y=Object(_.a)();y&&y.type&&(t=y.type,Object(V.default)("client_comment",{action:r,eventType:s,source:i,comment_type:v,comment_id:u,reply_id:d,comment_target_type:"whole_file",zone:"full_comment",mode:"drive_view",status_code:p,status_name:h,sub_file_type:t||""}))}function N(e){var t=e.action,n=void 0===t?"":t,r=e.source,o=void 0===r?"":r,i=e.eventType,a=void 0===i?"mouseclick":i,s=e.subFileType,c=Object(_.a)(),u=s||c&&c.type||"";Object(V.default)("toggle_attribute",{product_type:"drive",eventType:a,sub_file_type:u,mode:"drive_view",action:n,source:o})}function R(e){var t=e.source,n=e.action,r=e.subFileType,o=e.fileToken,i=Object(k.getCurrentRouteObj)(),a=i&&i.module?i.module:"";Object(V.default)("office_online_edit",{source:t,action:n,module:a,file_type:"file",sub_file_type:r,file_id:o?Object(w.a)(o):""})}function U(e){var t=e.costTime,n=e.fileToken,r=e.stage;Object(V.default)("dev_box_load_performance",{stage:r,file_id:n?Object(w.a)(n):"",cost_time:t})}function x(){window.dispatchEvent(Object(d.b)("resize"))}n.d(t,"i",function(){return L}),n.d(t,"k",function(){return I}),n.d(t,"b",function(){return M}),n.d(t,"d",function(){return P}),n.d(t,"a",function(){return D}),n.d(t,"f",function(){return N}),n.d(t,"e",function(){return R}),n.d(t,"c",function(){return U}),n.d(t,"p",function(){return x}),n.d(t,"h",function(){return B}),n.d(t,"j",function(){return W}),n.d(t,"g",function(){return Z}),n.d(t,"m",function(){return z}),n.d(t,"l",function(){return J}),n.d(t,"o",function(){return X}),n.d(t,"n",function(){return Q});var q={isOnlineEnv:!(Object(E.D)()||Object(E.z)()),apiHosts:Object(E.r)(),driveApiHosts:Object(E.i)(),fileUrlPrefix:Object(E.k)().fileURLPrefix||"",isLocalhost:Object(E.z)(),fileWebOfficeDomain:Object(E.k)().fileWebOfficeDomain||"",updatePreviewTplSeed:Object(E.k)().updatePreviewTplSeed},F=Object(E.g)().tea;function B(e){var t=Object(v.c)(),r=[],n=p.a.isInVC;n&&r.push(i.n.SHEET),(n||f.isAnonymousAccess||p.a.isFeed||!e)&&r.push(i.n.WPS);var o=function(e){var t=r.slice(),n=z(e);return n.edit||n.preview||t.push(i.n.WPS),t};return{customRequest:C.a,PreviewMessageHandler:u,envConfig:q,seclinkEnabled:a.j,languageType:Object(m.a)(),userId:t.get("id")||window.User.id,tenantId:t.get("tenant_id")||window.User.tenantId,showDownloadProgress:h.g,enablePDFProgressCache:!0,enableSheetProgressCache:!0,enableMediaProgressCache:!0,getDisabledPreviewComponents:o,maxPollCount:Object(a.f)(),pdfRangeChunkSize:Object(a.g)(),showPDFDigitalSign:!0,unsupportedVideoCodec:Object(a.h)(),authority:{downloadable:Object(T.c)(),printable:Object(T.e)(),exportable:Object(T.d)(),copyable:Object(T.b)()},floatingToolbarHiddenOnStart:p.a.isInVC}}F&&!0===F.open&&(q.teaConfig={sdkAppId:Object(O.default)(F,"config.appId.drive_sdk"),suiteAppId:Object(O.default)(F,"config.appId.doc"),singleProductAppID:Object(O.default)(F,"config.appId.single_product"),channelDomain:Object(O.default)(F,"config.channel_domain")}),q.slardarConfig={slardarCommonConfig:Object(E.g)().slardar,slardarMinaConfig:Object(l.L)("slardar_config"),sentryConfig:Object(E.g)().sentry,sentryMinaConfig:Object(l.L)("sentry_filter_config"),scm:Object(O.default)(window,"scm"),rvRev:Object(O.default)(window,"rv_rev")};var Y=["pdf","csv"];function H(e){return!Y.includes(e)&&i.l.includes(e)}function W(e){return Boolean(e&&e.weboffice)}function K(e){var t=Object(g.d)(e);return Object(a.a)()&&i.H.includes(t)}function Z(e){return Object(a.d)()&&H(Object(g.d)(e))||K(e)}function z(e){if(!e)return{preview:!1,edit:!1};var t=W(e);return K(e.name)?{preview:t,edit:t}:{preview:Boolean(t&&Object(a.e)()),edit:Boolean(t&&Object(a.d)()&&!Y.includes(Object(g.d)(e.name)))}}function J(e,t){var n=z(e);return t?n.edit:n.preview}function X(e){var t=Object(b.l)(S.a.location.search)||{};e?t.office_edit="1":delete t.office_edit,S.a.replace({search:Object(b.d)(t)})}function Q(e){return e&&!Object(y.a)()}},eOIy:function(e,t,n){"use strict";n.d(t,"a",function(){return l}),n.d(t,"b",function(){return T});var l,r,o=n("lSNA"),d=n.n(o),i=n("lwsE"),a=n.n(i),s=n("W8MJ"),c=n.n(s),u=n("a1gu"),f=n.n(u),p=n("Nsbk"),m=n.n(p),h=n("7W2i"),b=n.n(h),v=n("q1tI"),y=n("t/UT"),O=n("TSYQ"),g=n.n(O);n("KVeW");(r=l=l||{})[r.Normal=0]="Normal";var E={handlers:["click-rail","drag-thumb","keyboard","wheel","touch"],wheelSpeed:1,wheelPropagation:!(r[r.Small=1]="Small"),swipeEasing:!0,scrollingThreshold:1e3,useBothWheelAxes:!1,suppressScrollX:!1,suppressScrollY:!1,scrollXMarginOffset:0,scrollYMarginOffset:0,minScrollbarLength:20},k={"ps-scroll-y":"onScrollY","ps-scroll-x":"onScrollX","ps-scroll-up":"onScrollUp","ps-scroll-down":"onScrollDown","ps-scroll-left":"onScrollLeft","ps-scroll-right":"onScrollRight","ps-y-reach-start":"onYReachStart","ps-y-reach-end":"onYReachEnd","ps-x-reach-start":"onXReachStart","ps-x-reach-end":"onXReachEnd"};Object.freeze(k);var T=function(e){function t(){var o;return a()(this,t),(o=f()(this,m()(t).apply(this,arguments))).ps=null,o.bindDragStart=function(){var e;!o.container||(e=o.container.querySelector(".ps__thumb-y"))&&(e.addEventListener("mousedown",o.handleYDragStart),e.addEventListener("touchstart",o.handleYDragStart))},o.unbindDragStart=function(){var e;!o.container||(e=o.container.querySelector(".ps__thumb-y"))&&(e.removeEventListener("mousedown",o.handleYDragStart),e.removeEventListener("touchstart",o.handleYDragStart))},o.bindDragEnd=function(){document.addEventListener("mouseup",o.handleYDragEnd),document.addEventListener("touchend",o.handleYDragEnd)},o.unbindDragEnd=function(){document.removeEventListener("mouseup",o.handleYDragEnd),document.removeEventListener("touchend",o.handleYDragEnd)},o.handleRef=function(e){o.container=e,o.props.containerRef&&o.props.containerRef(e)},o.handleYDragStart=function(e){var t=o.props.onYDragStart;t&&t(e),o.bindDragEnd(),e.stopPropagation()},o.handleYDragEnd=function(e){var t=o.props.onYDragEnd;t&&t(e),o.unbindDragEnd()},o.updateEventHook=function(){var r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};Object.keys(k).forEach(function(e){var t=o.props[k[e]],n=r[k[e]];n!==t&&o.container&&(n&&o.container.removeEventListener(e,n,!1),t&&o.container.addEventListener(e,t,!1))})},o.handleScroll=function(e){var t=o.props,n=t.onScrollX,r=t.onScrollY;n&&n(e),r&&r(e)},o}return b()(t,e),c()(t,[{key:"componentDidMount",value:function(){this.ps=new y.a(this.container,Object.assign({},E,{},this.props.options)),this.bindDragStart()}},{key:"componentDidUpdate",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this.updateEventHook(e),this.ps&&"function"==typeof this.ps.update&&this.ps.update()}},{key:"componentWillUnmount",value:function(){var n=this;this.unbindDragStart(),Object.keys(k).forEach(function(e){var t=n.props[k[e]];t&&"function"==typeof t&&n.container&&n.container.removeEventListener(e,t,!1)}),this.ps&&"function"==typeof this.ps.destroy&&this.ps.destroy(),this.ps=null}},{key:"render",value:function(){var e=this.props,t=e.id,n=e.children,r=e.className,o=e.style,i=e.tabIndex,a=e.size,s=e.onContextMenu,c=e.onDoubleClick,u=e.onWheel;return v.createElement("div",{id:t,className:g()("scrollbar-container ".concat(r),d()({},"scrollbar-container-small",a===l.Small)),style:o,onWheel:u,tabIndex:i,ref:this.handleRef,onScroll:this.handleScroll,onContextMenu:s,onDoubleClick:c},n)}}]),t}(v.Component)},erPj:function(e,t,n){"use strict";n.d(t,"f",function(){return o}),n.d(t,"c",function(){return i}),n.d(t,"a",function(){return a}),n.d(t,"e",function(){return s}),n.d(t,"d",function(){return c}),n.d(t,"b",function(){return u});var r=n("kS6I");function o(){return Object(r.d)(r.b.FILE_UPLOAD)!==r.a.DENY}function i(){return Object(r.d)(r.b.FILE_DOWNLOAD)!==r.a.DENY}function a(){return Object(r.d)(r.b.FILE_COPY)!==r.a.DENY}function s(){return Object(r.d)(r.b.FILE_PRINT)!==r.a.DENY}function c(){return Object(r.d)(r.b.FILE_EXPORT)!==r.a.DENY}function u(){return Object(r.d)(r.b.FILE_COPY)!==r.a.DENY}},fJxK:function(e,t,n){"use strict";n.d(t,"a",function(){return s}),n.d(t,"b",function(){return f});var a,s,r,o=n("lwsE"),i=n.n(o),c=n("W8MJ"),u=n.n(c),l=n("7EGn"),d=n("2ACu");(a=a||{}).ClientComment="client_comment",(r=s=s||{}).InputBox="input_box",r.SubmitBox="submit_box",r.CancelSubmit="cancel_submit",r.StartEditComment="start_edit_comment",r.SubmitEdit="submit_edit",r.ClickCommentEdit="submit_edit",r.DeleteComment="delete_comment",r.ReplyComment="reply_comment",r.UpBtn="up_btn",r.DownBtn="down_btn",r.ClickTarget="click_target",r.FinishComment="finish_comment",r.ViewHistory="view_history",r.ShowReactionPanel="show_reaction_panel",r.SelectReaction="select_reaction",r.CancelReaction="cancel_reaction",r.ShowReactionPage="show_reaction_page",r.ShowReactionPanelFull="show_reaction_page_full";var f=function(){function e(){i()(this,e),this.logContext=null}return u()(e,[{key:"setLogContext",value:function(e){this.logContext=e}},{key:"logClientComment",value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},r="";e!==s.InputBox&&e!==s.SubmitBox&&e!==s.ReplyComment||(r="direct");var o=this.logContext?this.logContext(e,t):{},i=Object.assign({comment_id:Object(l.default)(t,"commentId",null)},n,{},o);Object(d.collectSuiteEvent)(a.ClientComment,Object.assign({action:e},i,{source:i.source||r,comment_type:"part_comment"}))}}]),e}()},fOmz:function(e,t,n){"use strict";n.d(t,"a",function(){return C});var r=n("o0o1"),a=n.n(r),o=n("lSNA"),s=n.n(o),i=n("yXPU"),c=n.n(i),u=n("lwsE"),l=n.n(u),d=n("W8MJ"),f=n.n(d),p=n("a1gu"),m=n.n(p),h=n("Nsbk"),b=n.n(h),v=n("7W2i"),y=n.n(v),O=n("jp/M"),g=n("7HY0"),E=n("D7h9"),k=n("cyON"),T=E.default.dispatch,C=function(e){function t(e){var i;return l()(this,t),(i=m()(this,b()(t).call(this,e))).fetchComments=function(){var n,o=0<arguments.length&&void 0!==arguments[0]&&arguments[0];return T({type:"COMMENT_SERVICE",COMMENT:(n=c()(a.a.mark(function e(t,n){var r;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=s()({type:O.actionTypes.commentData.FETCH_COMMENTS,payload:{}},k.a,{resetWhenSuiteTokenChange:!0}),e.abrupt("return",i.wrapperDispatchAction(t,r,function(){return i.commentService.fetchComments(o)}));case 2:case"end":return e.stop()}},e)})),e)});function e(e,t){return n.apply(this,arguments)}},i.fetchComment=function(o){return T({type:"COMMENT_SERVICE",COMMENT:(n=c()(a.a.mark(function e(t,n){var r;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=s()({type:O.actionTypes.commentData.FETCH_COMMENT,payload:{}},k.a,{resetWhenSuiteTokenChange:!0}),e.abrupt("return",i.wrapperDispatchAction(t,r,function(){return i.commentService.fetchComment(o)}));case 2:case"end":return e.stop()}},e)})),e)});function e(e,t){return n.apply(this,arguments)}var n},i.startNewComment=function(e){return T({type:O.actionTypes.commentData.START_NEW_COMMENT,payload:Object.assign({rootType:i.rootType,rootToken:i.rootToken,subCommentToken:i.subCommentToken},e)})},i.addComment=function(r){return T({type:"COMMENT_SERVICE",COMMENT:(t=c()(a.a.mark(function e(t){var n;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n={type:O.actionTypes.commentData.ADD_COMMENT,payload:{addCommentParams:r}},e.abrupt("return",i.wrapperDispatchAction(t,n,function(){return i.commentService.addComment(r)}));case 2:case"end":return e.stop()}},e)})),e)});function e(e){return t.apply(this,arguments)}var t},i.resolveComment=function(r){return T({type:"COMMENT_SERVICE",COMMENT:(t=c()(a.a.mark(function e(t){var n;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n={type:O.actionTypes.commentData.RESOLVE_COMMENT,payload:{rootToken:i.rootToken}},e.abrupt("return",i.wrapperDispatchAction(t,n,function(){return i.commentService.resolveComment(r)}));case 2:case"end":return e.stop()}},e)})),e)});function e(e){return t.apply(this,arguments)}var t},i.resolveCommentAnimationEnd=function(e){var t=e.commentId;return T({type:O.actionTypes.commentData.RESOLVE_COMMENT_ANIMATION_END,payload:{rootType:i.rootType,rootToken:i.rootToken,subCommentToken:i.subCommentToken,commentId:t}})},i.replyComment=function(r){return T({type:"COMMENT_SERVICE",COMMENT:(t=c()(a.a.mark(function e(t){var n;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n={type:O.actionTypes.commentData.REPLY_COMMENT,payload:{replyCommentParams:r}},e.abrupt("return",i.wrapperDispatchAction(t,n,function(){return i.commentService.replyComment(r)}));case 2:case"end":return e.stop()}},e)})),e)});function e(e){return t.apply(this,arguments)}var t},i.updateComment=function(r){return T({type:"COMMENT_SERVICE",COMMENT:(t=c()(a.a.mark(function e(t){var n;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n={type:O.actionTypes.commentData.UPDATE_COMMENT,payload:{updateCommentParams:r}},e.abrupt("return",i.wrapperDispatchAction(t,n,function(){return i.commentService.updateComment(r)}));case 2:case"end":return e.stop()}},e)})),e)});function e(e){return t.apply(this,arguments)}var t},i.deleteComment=function(r){return T({type:"COMMENT_SERVICE",COMMENT:(t=c()(a.a.mark(function e(t){var n;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n={type:O.actionTypes.commentData.DELETE_COMMENT,payload:{deleteCommentParams:r}},e.abrupt("return",i.wrapperDispatchAction(t,n,function(){return i.commentService.deleteComment(r)}));case 2:case"end":return e.stop()}},e)})),e)});function e(e){return t.apply(this,arguments)}var t},i.reopenComment=function(r){return T({type:"COMMENT_SERVICE",COMMENT:(t=c()(a.a.mark(function e(t){var n;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n={type:O.actionTypes.commentData.REOPEN_COMMENT,payload:{reopenCommentParams:r,rootType:i.rootType,rootToken:i.rootToken,subCommentToken:i.subCommentToken}},e.abrupt("return",i.wrapperDispatchAction(t,n,function(){return i.commentService.reopenComment(r)}));case 2:case"end":return e.stop()}},e)})),e)});function e(e){return t.apply(this,arguments)}var t},i.genReplyId=function(r){return T({type:"COMMENT_SERVICE",COMMENT:(t=c()(a.a.mark(function e(t){var n;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n={type:O.actionTypes.commentData.GEN_REPLY_ID,payload:Object.assign({},r)},e.abrupt("return",i.wrapperDispatchAction(t,n,function(){return i.commentService.genReplyId(r)}));case 2:case"end":return e.stop()}},e)})),e)});function e(e){return t.apply(this,arguments)}var t},i.deleteTemplateComment=function(e){var t=e.commentId,n=e.replyId,r=e.type,o=e.oldContent;return T({type:O.actionTypes.commentData.DELETE_TEMPLATE_COMMENT,payload:{commentId:t,replyId:n,type:r,oldContent:o,subCommentToken:i.subCommentToken,rootType:i.rootType,rootToken:i.rootToken}})},i.linkCommentToDoc=function(e){var t=e.commentId,n=e.replyId,r=e.tempReplyId;return T({type:O.actionTypes.commentData.LINK_COMMENT_TO_DOC,payload:{commentId:t,tempReplyId:r,replyId:n,subCommentToken:i.subCommentToken,rootType:i.rootType,rootToken:i.rootToken}})},i.linkCommentToDocOK=function(e){var t=e.commentId,n=e.tempCommentId,r=e.replyId;return T({type:O.actionTypes.commentData.LINK_COMMENT_TO_DOC_OK,payload:{commentId:t,tempCommentId:n,replyId:r,rootType:i.rootType,rootToken:i.rootToken,subCommentToken:i.subCommentToken}})},i.linkCommentToDocError=function(e){var t=e.commentId,n=e.error,r=e.replyId;return T({type:O.actionTypes.commentData.LINK_COMMENT_TO_DOC_ERROR,payload:{commentId:t,replyId:r,error:n,rootType:i.rootType,rootToken:i.rootToken,subCommentToken:i.subCommentToken}})},i.mergeComments=function(e){return T({type:O.actionTypes.commentData.MERGE_COMMENTS,payload:Object.assign({rootToken:i.rootToken,rootType:i.rootType,subCommentToken:i.subCommentToken},e),ADD_USER:function(){return e.entities.users}})},i.commentService.setupCommentRecord(),i}return y()(t,e),f()(t,[{key:"destroyComments",value:function(){this.destroy(),T({type:O.actionTypes.commentPosition.SET_COMMENT_POSITION_DATA,payload:{commentPositions:[],rootToken:this.rootToken,rootType:this.rootType,subCommentToken:this.subCommentToken,isLoaded:!1}}),T({type:O.actionTypes.commentData.RESET_COMMENTS,payload:{rootToken:this.rootToken,rootType:this.rootType,subCommentToken:this.subCommentToken,comments:[]}})}}]),t}(g.a)},gNEk:function(e,t,n){"use strict";n.d(t,"b",function(){return M}),n.d(t,"d",function(){return P}),n.d(t,"c",function(){return R}),n.d(t,"g",function(){return q}),n.d(t,"f",function(){return F}),n.d(t,"e",function(){return B}),n.d(t,"a",function(){return Y});var r=n("lSNA"),O=n.n(r),o=n("J4zp"),g=n.n(o),i=n("RIqP"),E=n.n(i),k=(n("RKCD"),n("FJEn")),a=n("hMnB"),u=n.n(a),T=n("QM+C"),s=n("OX8E"),c=n("jJw9"),l=n("hjac"),d=n("sLU5"),C=n("U5G9"),h=n("HmyT"),b=n("iP/4"),v=n("kmoK"),y=n("ucr6"),_=n("VIFs"),V=n("EzSe"),f=n("U6jp"),p=n("lQZd"),m=n("yGdm"),j=n("M8cP"),S=n("D7h9"),w=n("vc5i"),L=k.utils.getAllAttribKeysFromAline;function I(e,t){var n=e.metaKey,r=e.ctrlKey,o=Object(c.parseAnchorUrl)(t),i=o.isCurDocAnchor,a=o.guid;return i&&(n||r?window.open(t):(e.preventDefault(),v.a.isWiki()&&e.originalEvent&&e.originalEvent.stopImmediatePropagation(),Object(l.a)(a),s.a.emit(d.a.PC.DOCS.EDITOR_JUMP_TO_GUID_POSITION,a))),i}function M(e){var t,n,r,o,i,a,s,c,u,l,d,f,p=1<arguments.length&&void 0!==arguments[1]&&arguments[1],m="A"===e.target.tagName?Object(h.$)(e.target):Object(h.$)(e.currentTarget);"A"===m.prop("tagName")&&(I(e,t=N(m))||(e.preventDefault(),v.a.isWiki()?(o=void 0===(r=(n=new URL(t)).search)?"":r,a=void 0===(i=n.hash)?"":i,e.originalEvent&&e.originalEvent.stopImmediatePropagation(),s=m.data("href")||m.attr("href"),c=v.a.getToken(s).token,u=1===e.button,l=e.ctrlKey&&b.a.isWindows,!v.a.isDocInCurrentSpace(c)||e.metaKey||u||l?(p?Object(V.c):Object(V.b))(t):(d=v.a.getToken(t).token,f=Object(_.prependSpace)("/".concat(T.FILE_TYPE_URL_MAP[T.NUM_SUITE_TYPE.WIKI],"/").concat(d).concat(o).concat(a)),y.a.push(f))):(p?Object(V.c):Object(V.b))(t)))}function P(e){var t,n="A"===e.target.tagName?Object(h.$)(e.target):Object(h.$)(e.currentTarget);"A"===n.prop("tagName")&&(e.preventDefault(),t=N(n),Object(V.b)(t))}function D(t,e,n){try{var r=new URL(t);return r.searchParams.set(e,n),r.href}catch(e){return t}}function N(e){var t=e.data("href")||e.attr("href"),n=v.a.isWiki()?v.a.getWikiUrl(t):t;return Object(_.isSuiteUrl)(n)&&(n=D(n,"from",Object(p.d)()&&Object(f.o)()?T.FROM_SOURCE_TYPE.LARK_ANNOUNTCEMENT:T.FROM_SOURCE_TYPE.PARENT_DOC)),n}function R(e){var t,n;1===e.button&&v.a.isWiki()&&(e.preventDefault(),"A"===(t="A"===e.target.tagName?Object(h.$)(e.target):Object(h.$)(e.currentTarget)).prop("tagName")&&(n=N(t),Object(V.b)(n)))}function U(a,s){var c=0,u=0;if(s)for(;c<s.length&&0===s[c];)c++;function l(e,t){var n,r,o,i;!s||c>=s.length?(a(e,t),u+=e.length):(n=s[c]-u,(r=e.length)<=n?(a(e,t),u+=e.length,n===r&&c++):(o=e,0<n&&(i=o.substring(0,n),a(i,t),u+=n),c++,l(o.substring(n),t)))}return l}var x=function(u,c){T.LINK_REG.lastIndex=0;for(var o,s=null,i=null,l=!1,a=new Map([["(",")"],["[","]"],["{","}"],["<",">"]]),d=null,f=function(){var e=0,t=[],n=!0,r=!1,o=void 0;try{for(var i,a=u[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var s,c=i.value;c.insert&&"\n"!==c.insert?(e+=s=c.insert.length,u.getAttributes(e-s,e).find(function(e){var t=g()(e,2),n=t[0];t[1];return n.includes("mention-token")})?t.push([e-s,e]):t.push(null)):t.push(null)}}catch(e){r=!0,o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}return t.filter(Boolean)},p=u.hasLineMarker()?1:0,e=u.getModelText().slice(p,-1),t=function(){s||(s=[],i=[]);var t=o.index+p,n=o[0];h(n,a)&&(n=b(o[0],a));var e,r=(d=d||f()).filter(function(e){return t<e[0]&&t+n.length>=e[0]});if(r.length&&(e=r[0][0],n=n.slice(0,e-t)),d.some(function(e){return t>=e[0]&&t+n.length<=e[1]}))return"continue";s.push([t,n]),i.push(t,t+n.length)};o=T.LINK_REG.exec(e);)t();if(!s)return null;function m(e){return e.map(function(e){return"\\"+e}).join("")}function h(e,t){var n,r=m((n=E()(t.keys())).concat.apply(n,E()(t.values())));return new RegExp("[".concat(r,"]")).test(e)}function b(e,t){for(var n=[],r=e.length,o=e,i=0;i<r;i++){var a=e[i],s=new RegExp("[".concat(m(E()(t.values())),"]")).test(a);if(t.has(a))n.push([t.get(a),i]);else if(s){var c=n.pop();if(!c)return o=e.slice(0,i);if(a!==c[0])return o=n[0]?o=e.slice(0,n[0][1]):e.slice(0,c[1])}}return n.length&&(o=e.slice(0,n[0][1])),o}function v(e,t,n,r){for(var o=0;o<s.length;o++){var i=s[o];if(e>=i[0]&&e<i[0]+i[1].length){if(!n){if(r){T.LINK_REG.lastIndex=0;var a=T.LINK_REG.exec(i[1].substring(t.length));return a?s.splice(o,1,[i[0]+t.length,a[0]]):s.splice(o,1),i[1]}return i[1]}s.splice(o,1),o--}}return!1}var y,n,r=U((y=0,n=function(e,t){t.list&&/code/.test(t.list)&&(l=!0);var n,r=e.length,o=Object.keys(t),i=o.find(function(e){return e.includes("url-")||e.includes("manual")}),a=o.find(function(e){return"removeLink"===e}),s=v(y,e,i,t.removeLink);!s||l||a?c.retain(r):(n="url:",c.retain(r,O()({},n,encodeURIComponent(s)))),y+=r},Object(C.c)(n,C.a.HYPERLINK)),i);u._getOps().forEach(function(e){return r(e.insert,e.attributes||{})})},q=function(O,g){var e=function(e,u,t,o){O.lastIndex=0;for(var i,s=null,a=null,l=!1,c=new Map([["(",")"],["[","]"],["{","}"],["<",">"]]),d=null,f=function(){var e=t.split(/([^+]*\+\w+)/).filter(Boolean),r=0;return e.map(function(e){var t=e.split("+");if(!t)return null;var n=parseInt(t[1],36);return r+=n,L(e,o).join("").includes("mention-token")?[r-n,r]:null}).filter(Boolean)},n=function(){s||(s=[],a=[]);var t=i.index,n=i[0];m(n,c)&&(n=h(i[0],c));var e,r=(d=d||f()).filter(function(e){return t<e[0]&&t+n.length>=e[0]});if(r.length&&(e=r[0][0],n=n.slice(0,e-t)),d.some(function(e){return t>=e[0]&&t+n.length<=e[1]}))return"continue";s.push([t,n]),a.push(t,t+n.length)};i=O.exec(e);)n();if(!s)return u;function p(e){return e.map(function(e){return"\\"+e}).join("")}function m(e,t){var n,r=p((n=E()(t.keys())).concat.apply(n,E()(t.values())));return new RegExp("[".concat(r,"]")).test(e)}function h(e,t){for(var n=[],r=e.length,o=e,i=0;i<r;i++){var a=e[i],s=new RegExp("[".concat(p(E()(t.values())),"]")).test(a);if(t.has(a))n.push([t.get(a),i]);else if(s){var c=n.pop();if(!c)return o=e.slice(0,i);if(a!==c[0])return o=n[0]?o=e.slice(0,n[0][1]):e.slice(0,c[1])}}return n.length&&(o=e.slice(0,n[0][1])),o}function b(e,t,n,r){for(var o=0;o<s.length;o++){var i=s[o];if(e>=i[0]&&e<i[0]+i[1].length){if(!n){if(r){O.lastIndex=0;var a=O.exec(i[1].substring(t.length));return a?s.splice(o,1,[i[0]+t.length,a[0]]):s.splice(o,1),i[1]}return i[1]}s.splice(o,1),o--}}return!1}var v,r,y=(v=0,r=function(e,t,n,r,o){-1!==t.indexOf("list:code")&&(l=!0);var i=e.length,a=t,s=-1<t.indexOf("url-")&&-1===t.indexOf("manual"),c=b(v,e,s,n.removeLink);c&&!l&&(a+=" "+g+":"+c),u(e,a,n,r,o),v+=i},Object(C.c)(r,C.a.HYPERLINK));return k.LineStyleFilter.textAndClassFuncSplitter(y,a)};return Object(C.c)(e,{module:C.a.HYPERLINK})}(T.LINK_REG,"url"),F=x;function B(e){var t=!0,n=!1,r=void 0;try{for(var o,i=m.m[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value;if(e.includes(a))return!0}}catch(e){n=!0,r=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}var s=Object(j.a)(e);if(-1!==m.k.indexOf(s))return!1;var c=/^https:\/\/[\S]+/;return"http:"===u.a.protocol||c.test(e)}function Y(){var e=S.default.getState();return Object(w.k)(e)?Object.assign({},m.b,{tiktok:m.g.tiktok,youtube:m.g.youtube,gmaps:m.g.gmaps}):Object(w.A)(e)?m.g:m.b}},gpFw:function(e,u,l){"use strict";(function(n){l.d(u,"a",function(){return s});var e=l("hMnB"),t=l.n(e),r=l("q1tI"),o=l.n(r),i=l("q4SO"),a=l("Ngi8");function s(e){var t=e.loginText;return o.a.createElement("a",{onClick:c,style:{color:a.B500}},t||n("anonymous.login"))}function c(){Object(i.c)(t.a.href)}}).call(this,l("2vAP"))},hjac:function(e,t,n){"use strict";n.d(t,"a",function(){return i});n("hMnB");var r=n("5dbN"),o=(n("jp/M"),n("ucr6"));function i(e){"function"!=typeof window.docsInLarkHistoryReplace||Object(r.isUnderWiki)()?window.history.replaceState(null,null,"#".concat(e)):window.docsInLarkHistoryReplace(o.a.nativeReplace,{hash:e})}},k7EW:function(e,t,n){"use strict";n.d(t,"a",function(){return c}),n.d(t,"b",function(){return l});var r=n("rLED"),o=n("U6jp"),i=n("EyGs"),a=Object(o.j)("appVersion"),s=Object(r.N)("download_manager_least_version",""),c=Object(i.a)(a,s),u=Object(r.N)("native_download_manager_least_version",""),l=Object(r.I)("native_download_manager_enabled",!1)&&Object(i.a)(a,u)},kOe7:function(e,y,O){"use strict";(function(e){O.d(y,"i",function(){return r}),O.d(y,"f",function(){return i}),O.d(y,"h",function(){return s}),O.d(y,"a",function(){return f}),O.d(y,"c",function(){return p}),O.d(y,"g",function(){return m}),O.d(y,"b",function(){return h}),O.d(y,"e",function(){return b}),O.d(y,"d",function(){return v});var t,n,r,o,i,a,s,c,u=O("lSNA"),l=O.n(u),d=O("QM+C");(o=r=r||{})[o.USER=0]="USER",o[o.DOC=1]="DOC",o[o.FOLDER=2]="FOLDER",o[o.SHEET=3]="SHEET",o[o.SHEET_DOC=4]="SHEET_DOC",o[o.CHAT=5]="CHAT",o[o.GROUP=6]="GROUP",o[o.BLOCK=7]="BLOCK",o[o.BITABLE=8]="BITABLE",o[o.TABLE=9]="TABLE",o[o.INLINE_BLOCK=10]="INLINE_BLOCK",o[o.MINDNOTE=11]="MINDNOTE",o[o.BOX=12]="BOX",o[o.SLIDE=15]="SLIDE",o[o.WIKI=16]="WIKI",(a=i=i||{})[a.DOC=0]="DOC",a[a.DOC_COMMENT=1]="DOC_COMMENT",a[a.SHEET=2]="SHEET",a[a.SHEET_COMMENT=3]="SHEET_COMMENT",a[a.BITABLE=4]="BITABLE",a[a.OPEN_DOC=6]="OPEN_DOC",a[a.BOX_COMMENT=9]="BOX_COMMENT",a[a.MINDNOTE=10]="MINDNOTE",a[a.MINDNOTE_COMMENT=11]="MINDNOTE_COMMENT",(c=s=s||{})[c.LARK=0]="LARK";var f=[r.DOC,r.SHEET,r.BITABLE,r.MINDNOTE,r.BOX,r.SLIDE,r.WIKI],p=(t={},l()(t,r.DOC,d.NUM_FILE_TYPE.DOC),l()(t,r.SHEET,d.NUM_FILE_TYPE.SHEET),l()(t,r.BITABLE,d.NUM_FILE_TYPE.BITABLE),l()(t,r.MINDNOTE,d.NUM_FILE_TYPE.MINDNOTE),l()(t,r.BOX,d.NUM_FILE_TYPE.FILE),l()(t,r.SLIDE,d.NUM_FILE_TYPE.SLIDE),l()(t,r.WIKI,d.NUM_FILE_TYPE.WIKI),t),m=(n={},l()(n,d.NUM_FILE_TYPE.DOC,r.DOC),l()(n,d.NUM_FILE_TYPE.SHEET,r.SHEET),l()(n,d.NUM_FILE_TYPE.BITABLE,r.BITABLE),l()(n,d.NUM_FILE_TYPE.MINDNOTE,r.MINDNOTE),l()(n,d.NUM_FILE_TYPE.FILE,r.BOX),l()(n,d.NUM_FILE_TYPE.SLIDE,r.SLIDE),l()(n,d.NUM_FILE_TYPE.WIKI,r.WIKI),n),h={1:e("etherpad.server_abnormal"),2:e("error.args_error"),3:e("error.object_not_found"),4:e("error.no_permission"),5:e("warn.login_required_tips"),6:e("error.request_timeout")},b=420,v=390}).call(this,O("2vAP"))},kkTN:function(e,L,I){"use strict";(function(c){I.d(L,"a",function(){return w});var e=I("aOJk"),i=I.n(e),t=I("lwsE"),n=I.n(t),r=I("W8MJ"),o=I.n(r),a=I("a1gu"),s=I.n(a),u=I("Nsbk"),l=I.n(u),d=I("PJYZ"),f=I.n(d),p=I("7W2i"),m=I.n(p),h=I("xpYl"),b=I("Muja"),v=I("q1tI"),y=I.n(v),O=I("i8i4"),g=I.n(O),E=(I("17x9"),I("TSYQ")),k=I.n(E),T=I("EqJN"),C=I("2ACu"),_=I("1dfU"),V=I("fOmz"),j=I("KgLa"),S=I("rLED"),w=(I("uuwQ"),function(e){function t(e){var i;return n()(this,t),(i=s()(this,l()(t).call(this,e))).handleResolve=function(e){var t=f()(i).commentDataActions,n=e.comment_id,r=e.is_whole;t.reopenComment({commentId:n});var o=r?"full_comment":"part_comment";Object(C.collectSuiteEvent)("click_history_comment_reopen",{comment_id:Object(_.a)(n),comment_type:o})},i.getScrollContainer=function(e){i.setState({scrollContainer:e})},i.state={scrollContainer:null},i}return m()(t,e),o()(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.objectType,n=e.token;this.commentDataActions=new V.a({rootType:t,rootToken:n}),this.commentDataActions.getCommentService().setupCommentRecord(),this.createContainer()}},{key:"shouldComponentUpdate",value:function(e){return!!e.token}},{key:"componentDidUpdate",value:function(e,t){var n=e.token,r=e.visible,o=e.placeholderStyle,i=e.data,a=this.props,s=a.token,c=a.objectType,u=a.visible,l=a.placeholderStyle,d=a.data;n!==s&&(this.commentDataActions=new V.a({rootType:c,rootToken:s})),r!==u||!Object(b.default)(o,l)||d.length<i.length?this.container&&this.mountPopover(this.container):u&&d.some(function(e){return 0===e.finish})&&this.container&&this.mountPopover(this.container),!t.scrollContainer&&this.state.scrollContainer&&this.container&&this.mountPopover(this.container)}},{key:"componentWillUnmount",value:function(){this.destroyContainer()}},{key:"createContainer",value:function(){var e,t=document.querySelector(".comment-history"),n=t.getBoundingClientRect(),r=n.left,o=n.right,i=n.height,a=n.bottom;0===r&&0===o&&0===i&&0===a?(e=document.createElement("div"),document.body.appendChild(e),this.container=e):this.container=t}},{key:"destroyContainer",value:function(){this.container&&this.container.parentNode&&this.container.parentNode===document.body&&this.container.parentNode.removeChild(this.container)}},{key:"useCommentService",value:function(e){return 2===e}},{key:"mountPopover",value:function(e){var t=this.props,n=t.visible,r=t.toggleVisible,o=y.a.createElement(i.a,{prefixCls:"cp-popover",content:this.renderPanel(),visible:n,trigger:"click",placement:"bottomRight",onVisibleChange:r,arrowPointAtCenter:!0,children:this.renderChild()});g.a.render(o,e)}},{key:"renderPanel",value:function(){var t=this,e=this.props,n=e.data,r=e.haveCommentPermission,o=e.visible,i=this.state.scrollContainer;if(!o)return null;var a=n.length<=0,s=k()("comment-history",{"comment-history--empty":a});return y.a.createElement(j.a,{className:s,containerRef:this.getScrollContainer},a?y.a.createElement("div",null,y.a.createElement("span",{className:"comment-history--empty__img"}),y.a.createElement("div",null,c("etherpad.comment.resolved_comment_store"))):n.map(function(e){return y.a.createElement(T.a,{key:e.comment_id,readOnly:!r,comment:e,embedObjShareEnable:Object(S.s)(),onResolve:Object(h.a)(t.handleResolve,e),scrollContainer:i})}))}},{key:"renderChild",value:function(){return y.a.createElement("span",{className:"comment-history-placeholder",style:this.props.placeholderStyle})}},{key:"render",value:function(){return y.a.createElement("div",{className:"comment-history"})}}]),t}(v.Component))}).call(this,I("2vAP"))},kmoK:function(e,t,n){"use strict";var r=n("lwsE"),i=n.n(r),o=n("W8MJ"),a=n.n(o),u=n("7EGn"),l=n("QM+C"),d=n("vc5i"),f=n("D7h9"),s=n("EVj1"),p=n("jJw9"),c=n("o0o1"),m=n.n(c),h=n("J4zp"),b=n.n(h),v=n("yXPU"),y=n.n(v),O=n("hbEN"),g=n("ZSG8"),E=n("lQZd"),k=function(){function e(){var o=this;i()(this,e),this.tasks=[],this.spaceInfoMapping={},this.fetchSpaceInfo=y()(m.a.mark(function e(){var t,n,r;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(0===o.tasks.length)return e.abrupt("return");e.next=2;break;case 2:return t={objs:o.tasks.map(function(e){return{obj_token:e,obj_type:l.NUM_FILE_TYPE.DOC}}),need_all_space:!1},e.prev=3,e.next=6,f.default.dispatch(Object(g.c)(t));case 6:n=e.sent,r=n.payload,o.tasks=[],o.spaceInfoMapping=Object.assign({},o.spaceInfoMapping,{},Object.entries(r).reduce(function(e,t){var n=b()(t,2),r=n[0],o=n[1];return e[r]=o.map(function(e){return{wikiToken:e.wiki_token,spaceName:e.space_name,spaceId:e.space_id}}),e},{})),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(3),console.error(e.t0);case 15:case"end":return e.stop()}},e,null,[[3,12]])})),this.fetchSpaceInfo=Object(O.default)(this.fetchSpaceInfo,50)}return a()(e,[{key:"addTask",value:function(e){var t=Object(s.k)(e,!0),n=t.token;t.type===l.FILE_TYPE.DOC&&Object(E.b)(n)&&(this.tasks.push(n),this.fetchSpaceInfo())}},{key:"getSpaceInfo",value:function(){return this.spaceInfoMapping}}]),e}(),T=n("lSNA"),C=n.n(T),_=function(){function e(){var o=this;i()(this,e),this.tasks=[],this.spaceInfoMapping={},this.fetchSpaceInfo=y()(m.a.mark(function e(){var t,n,r;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(0===o.tasks.length)return e.abrupt("return");e.next=2;break;case 2:return t=o.tasks,e.prev=3,e.next=6,f.default.dispatch(Object(g.b)({wikiTokens:t}));case 6:n=e.sent,r=n.payload,o.tasks=[],o.spaceInfoMapping=Object.assign({},o.spaceInfoMapping,{},Object.entries(r).reduce(function(e,t){var n=b()(t,2),r=n[0],o=n[1];return Object.assign({},e,C()({},r,[{wikiToken:o.wiki_token,spaceName:o.space_name,spaceId:o.space_id}]))},{})),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(3),console.error(e.t0);case 15:case"end":return e.stop()}},e,null,[[3,12]])})),this.fetchSpaceInfo=Object(O.default)(this.fetchSpaceInfo,50)}return a()(e,[{key:"addTask",value:function(e){var t=Object(s.k)(e,!0),n=t.token;t.type===l.FILE_TYPE.WIKI&&Object(E.b)(n)&&(this.tasks.push(n),this.fetchSpaceInfo())}},{key:"getSpaceInfo",value:function(){return this.spaceInfoMapping}}]),e}(),V=new(function(){function e(){i()(this,e),this.handlers=[new k,new _],this.addTask=this.addTask.bind(this)}return a()(e,[{key:"parseHTML",value:function(e){var n=this;e&&0!==e.length&&e.forEach(function(e){var t=n.genDom(e).querySelectorAll("a");Array.prototype.map.call(t,function(e){return e.href}).forEach(function(e){return n.addTask(e)}),t=null})}},{key:"addTask",value:function(t){this.handlers.forEach(function(e){return e.addTask(t)})}},{key:"findSpaceInfos",value:function(t){return this.handlers.map(function(e){return e.getSpaceInfo()}).find(function(e){return e[t]})||{}}},{key:"isDocInCurrentSpace",value:function(e){var t=Object(d.c)(f.default.getState()),n=Object(u.default)(t,"spaceId"),r=this.findSpaceInfos(e);if(!r[e])return!1;var o=r[e].find(function(e){return e.spaceId===n});return!!o&&o.spaceId===n}},{key:"getWikiUrl",value:function(e){var t=this.getToken(e),n=t.token,r=t.hash,o=this.findSpaceInfos(n);if(!o[n])return e;var i=Object(d.c)(f.default.getState()),a=Object(u.default)(i,"spaceId"),s=o[n][0],c=o[n].find(function(e){return e.spaceId===a})||s;return Object(p.getFullUrl)({type:l.FILE_TYPE_URL_MAP[l.NUM_SUITE_TYPE.WIKI],token:c.wikiToken,hash:r})}},{key:"genDom",value:function(e){var t=document.createElement("div");return t.innerHTML=e,t}},{key:"getToken",value:function(e){return Object(s.k)(e,!0)}},{key:"isWiki",value:function(){return Object(d.q)(f.default.getState())===l.NUM_SUITE_TYPE.WIKI}}]),e}());t.a=V},kohC:function(e,t,n){"use strict";var r=n("o0o1"),m=n.n(r),o=n("yXPU"),i=n.n(o),a=n("lwsE"),s=n.n(a),c=n("W8MJ"),u=n.n(c),b=n("LrWZ"),v=n("Muja"),l=n("Mpt7"),y=n("D7h9"),h=n("MUo5"),d=n("5cZX"),f=n("eL/v"),p=n("vc5i"),O=n("IyQe"),g=n("2spZ"),E=10,k=new(function(){function e(){s()(this,e),this.instances={}}return u()(e,[{key:"reroll",value:function(e){var t=this.getEmbedObjMap(e),n=Object(d.K)(y.default.getState()).getIn([e,"embedObjects"]),r=[];if(n){var o=!0,i=!1,a=void 0;try{for(var s,c=n.keys()[Symbol.iterator]();!(o=(s=c.next()).done);o=!0){var u=s.value;t[u]||r.push(u)}}catch(e){i=!0,a=e}finally{try{o||null==c.return||c.return()}finally{if(i)throw a}}0<r.length&&y.default.dispatch(Object(h.removeEmbedObjects)(e,r))}}},{key:"ensureToken",value:function(e){this.instances[e]||(this.instances[e]=new Set)}},{key:"getEmbedObjMap",value:function(e){if(!this.instances[e])return{};var t={},n=!0,r=!1,o=void 0;try{for(var i,a=this.instances[e][Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var s=i.value.getEmbedObjs(),c=!0,u=!1,l=void 0;try{for(var d,f=s[Symbol.iterator]();!(c=(d=f.next()).done);c=!0){var p=d.value;t[p.token]=p}}catch(e){u=!0,l=e}finally{try{c||null==f.return||f.return()}finally{if(u)throw l}}}}catch(e){r=!0,o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}return t}},{key:"add",value:function(e,t){this.ensureToken(e),this.instances[e].add(t),this.reroll(e)}},{key:"delete",value:function(e,t){this.ensureToken(e),this.instances[e].delete(t),this.reroll(e)}},{key:"destroyToken",value:function(e){delete this.instances[e]}}]),e}()),T=function(){function o(e){var h=this,t=e.embedObjList,n=e.onPermissionChange,r=e.onError;s()(this,o),this.ready=!1,this.olbEmbedObjPermission=Object(l.Map)({}),this.oldEmbedObjList=[],this.handleStoreChangeForNetworkState=function(){var e=Object(f.a)(y.default.getState());e&&!h.isOnline&&(h.isOnline=e,h.fetchEmbedObjPermissions()),h.isOnline=e},this.handleStoreChangeForPermission=function(){if(h.ready){var e=h.selectEmbedObjPermission();if(e!==h.olbEmbedObjPermission||!Object(v.default)(h.oldEmbedObjList,h.embedObjList)){var n=h.oldEmbedObjList,t=h.olbEmbedObjPermission.filter(function(e,t){return 0<n.filter(function(e){return e.token===t}).length});h.olbEmbedObjPermission=e,h.oldEmbedObjList=h.embedObjList.slice(0);var r=[],o=!0,i=!1,a=void 0;try{for(var s,c=h.embedObjList[Symbol.iterator]();!(o=(s=c.next()).done);o=!0){var u,l,d,f=s.value,p=e.get(f.token),m=t.get(f.token);Object(b.a)(p)||(!Object(b.a)(p)&&Object(b.a)(m)||!Object(b.a)(m)&&p.get("permission")!==m.get("permission")||!Object(b.a)(m)&&p.get("userPermissions")!==m.get("userPermissions"))&&(u=p.get("permission"),l=p.get("userPermissions"),d=Object.assign({},f,Object.assign({},p.toJS(),{permission:Object(O.embedObjPermission2Booleans)(u),userPermissions:Object(O.permission2Booleans)(l)})),r.push(d))}}catch(e){i=!0,a=e}finally{try{o||null==c.return||c.return()}finally{if(i)throw a}}0<r.length&&h.onPermissionChange&&h.onPermissionChange(r)}}else h.checkEnvReady()},this.embedObjList=t&&t.slice(0)||[],this.onPermissionChange=n,r&&(this.onError=r),this.unsubscribePermission=y.default.subscribe(this.handleStoreChangeForPermission),this.unsubscribeNetworkState=y.default.subscribe(this.handleStoreChangeForNetworkState),this.isOnline=Object(f.a)(y.default.getState()),this.checkEnvReady()}function e(e){return t.apply(this,arguments)}var t;return u()(o,[{key:"checkEnvReady",value:function(){var e=y.default.getState(),t=Object(p.n)(e),n=Object(p.o)(e);Object(b.a)(t)||Object(b.a)(n)||(this.ready=!0,this.envInfos={token:t,type:n},this.bootstrap(),this.fetchEmbedObjPermissions())}},{key:"bootstrap",value:function(){k.add(this.envInfos.token,this)}},{key:"fetchEmbedObjPermissions",value:(t=i()(m.a.mark(function e(t){var n,r,o,i,a,s,c,u,l,d,f,p;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ready&&this.isOnline){e.next=2;break}return e.abrupt("return");case 2:n=this.envInfos,r=n.token,o=n.type,a=!(i=!0),s=void 0,e.prev=6,c=this.getSplitedEmbedObjList(t)[Symbol.iterator]();case 8:if(i=(u=c.next()).done){e.next=18;break}return l=u.value,d=l.map(function(e){return{token:e.token,type:e.type}}),f=y.default.dispatch(Object(h.fetchEmbedObjectPermissions)(r,o,d)),p=y.default.dispatch(Object(h.fetchUserPermissionOnEmbedObj)(d,r)),e.next=15,Promise.all([f,p,Object(g.c)(1e3)]);case 15:i=!0,e.next=8;break;case 18:e.next=24;break;case 20:e.prev=20,e.t0=e.catch(6),a=!0,s=e.t0;case 24:e.prev=24,e.prev=25,i||null==c.return||c.return();case 27:if(e.prev=27,a)throw s;e.next=30;break;case 30:return e.finish(27);case 31:return e.finish(24);case 32:case"end":return e.stop()}},e,this,[[6,20,24,32],[25,,27,31]])})),e)},{key:"getSplitedEmbedObjList",value:function(e){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:E;return(e||this.getEmbedObjs()).reduce(function(e,t){return e.slice(-1)[0].length===n&&e.push([]),e.slice(-1)[0].push(t),e},[[]])}},{key:"findEmbedObj",value:function(e,n){var r=-1;return e.forEach(function(e,t){e.token===n.token&&(r=t)}),r}},{key:"selectEmbedObjPermission",value:function(){return this.ready&&Object(d.K)(y.default.getState()).getIn([this.envInfos.token,"embedObjects"])||Object(l.Map)({})}},{key:"fetchEmbedObjsAllPerm",value:function(){this.fetchEmbedObjPermissions()}},{key:"updateEmbedObjList",value:function(e){Object(v.default)(this.embedObjList,e)||(this.removeEmbedObjs(this.embedObjList),this.addEmbedObjs(e))}},{key:"addEmbedObjs",value:function(e){var t=[],n=!0,r=!1,o=void 0;try{for(var i,a=e[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var s=i.value,c=this.findEmbedObj(this.embedObjList,s);-1===c?(t.push(s),this.embedObjList.push(s)):this.embedObjList[c].title!==s.title&&(this.embedObjList[c]=s,t.push(s))}}catch(e){r=!0,o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}0<t.length&&this.fetchEmbedObjPermissions(t)}},{key:"removeEmbedObjs",value:function(e){var t=[],n=[],r=!0,o=!1,i=void 0;try{for(var a,s=this.embedObjList[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var c=a.value;-1===this.findEmbedObj(e,c)?t.push(c):n.push(c.token)}}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}this.embedObjList=t,0<n.length&&y.default.dispatch(Object(h.removeEmbedObjects)(this.envInfos.token,n))}},{key:"getEmbedObjs",value:function(){return this.embedObjList}},{key:"getEmbedObjsAllBoolPerm",value:function(){var e=this.selectEmbedObjPermission(),t=this.getEmbedObjs(),n={},r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var c=a.value,u=e.get(c.token);n[c.token]=u?Object.assign({},u.toJS(),{permission:Object(O.embedObjPermission2Booleans)(u.get("permission")),userPermissions:Object(O.permission2Booleans)(u.get("userPermissions"))}):null}}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}},{key:"getEmbedObjAllBoolPermByToken",value:function(e){var t=this.selectEmbedObjPermission().get(e);return t?Object.assign({},t.toJS(),{permission:Object(O.embedObjPermission2Booleans)(t.get("permission")),userPermissions:Object(O.permission2Booleans)(t.get("userPermissions"))}):null}},{key:"getEmbedObjPermissions",value:function(){var e=this.selectEmbedObjPermission(),t=this.getEmbedObjs(),n={},r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var c=a.value,u=e.get(c.token);n[c.token]=u?Object(O.embedObjPermission2Booleans)(u.get("permission")):null}}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}},{key:"getPermissionByToken",value:function(e){var t=this.selectEmbedObjPermission().get(e);return t?Object(O.embedObjPermission2Booleans)(t.get("permission")):null}},{key:"getOwnerByToken",value:function(e){var t=this.selectEmbedObjPermission().get(e);return t?t.get("owner"):null}},{key:"destroy",value:function(){this.embedObjList=[],this.unsubscribePermission&&this.unsubscribePermission(),this.unsubscribeNetworkState&&this.unsubscribeNetworkState(),this.ready&&k.delete(this.envInfos.token,this)}}],[{key:"destroyToken",value:function(e){k.destroyToken(e)}}]),o}();n("5f2W");n.d(t,"b",function(){return k});t.a=T},nHtH:function(e,t,n){"use strict";n.d(t,"c",function(){return i}),n.d(t,"b",function(){return a}),n.d(t,"a",function(){return l});var s=n("yIs4"),r=n("wd/R"),c=n.n(r),u=(n("XDpg"),n("dF9M")),o=n("sTQd");function i(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:(new Date).getTime(),n=2<arguments.length?arguments[2]:void 0,r=3<arguments.length&&void 0!==arguments[3]&&arguments[3];if(!Object(s.default)(e)||!e)return"";e=e<1e12?1e3*e:e,r&&t<e&&(t=e);var o=c()(e),i=c()(t);if(!e||o.isSame(i,"day"))return n?o.format(u.a.TODAY):o.from(i);var a=i.clone().subtract(1,"day");return o.isSame(a,"day")?o.format(u.a.YESTERDAY):o.isSame(i,"year")?o.format(u.a.SAME_YEAR):o.format(u.a.BEFORE_YEAR)}function a(e){return c.a.duration(1e3*e).humanize()}function l(e,t){return e&&"number"==typeof e?i(Object(o.a)(e),(new Date).getTime(),!!t):""}},omim:function(e,u,l){"use strict";(function(e){l.d(u,"a",function(){return a}),l.d(u,"g",function(){return s}),l.d(u,"d",function(){return o}),l.d(u,"c",function(){return r}),l.d(u,"f",function(){return i}),l.d(u,"e",function(){return c});var t=l("iP/4"),n=l("k7EW");l.d(u,"b",function(){return n.a});var r=e||t.a.isLarkWindow,o=t.a.isLark&&!/electron/i.test(navigator.userAgent),i=e&&o&&n.b,a=!0;o?a=n.b:r&&(a=n.a);var s=r&&!n.a,c=!o&&e&&n.a}).call(this,l("kCIs"))},"p/xT":function(e,t,n){},paQS:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var a=n("D7h9"),s=n("toa8"),r=n("wOYm"),c=n("Tb95"),u=n("ZGZ5"),l=n("wQna"),d=n("7SOz"),f=n("sFgt"),p=n("kUgE");function o(e){var t=e.suiteType,n=e.suiteToken,r=e.enableAutoTranslate,o=e.translateLang;l.a.destroy({suiteType:t,suiteToken:n});var i=l.a.getOrCreate({suiteType:t,suiteToken:n});return new c.a({enableAutoTranslate:r||!1,broadcast:i,request:s.d,getUserId:function(){return Object(u.a)(a.default.getState()).get("id")||window.User.id},getSuiteType:function(){return t},getSuiteToken:function(){return n},getTranslateLang:function(){return o||"en"},getSrcLang:function(){return Object(p.getLanguage)()},translateFn:d.a,toAILabTypeData:d.c,toLineTexts:d.d,parseCommentContent:f.j})}var i=Object(r.a)(o,function(e){return e.subCommentToken?"".concat(e.suiteType,":").concat(e.suiteToken,":").concat(e.subCommentToken):"".concat(e.suiteType,":").concat(e.suiteToken)})},q4SO:function(e,t,n){"use strict";n.d(t,"c",function(){return u}),n.d(t,"b",function(){return l}),n.d(t,"a",function(){return d});var r=n("9+L6"),o=n("dP4c"),i=n("VI6H"),a=n("skFV");function s(e){return/^(https?:\/\/)?localhost(:\d+)?\//.test(e)}function c(){var e=1<arguments.length&&void 0!==arguments[1]&&arguments[1],t=s(t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"")?r.c:t,n="".concat(e?r.s:r.t,"?query_scope=all&app_id=2&should_pass_through=1&utm_from=organic_ccm_share_web&redirect_uri=").concat(encodeURIComponent(t));return e&&(n+="&template_id=".concat(Object(a.v)()?"6882703852286509057":"6882649779491307521","&biz=feishu_docs")),n}function u(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"";Object(o.c)(c(e),!1,!0)}function l(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"";Object(o.c)(c(e,!0),!1,!0)}function d(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"";(Object(i.x)()?l:u)(e)}},qkqw:function(e,E,k){"use strict";(function(l){k.d(E,"a",function(){return f}),k.d(E,"b",function(){return g});var d,e,f,t,n=k("o0o1"),p=k.n(n),r=k("RIqP"),m=k.n(r),o=k("yXPU"),i=k.n(o),a=k("toa8"),s=k("lQZd"),c=k("AESI"),h=k("n/R6"),u=k("6jTl"),b=k("gfe6"),v=k("uGU9");function y(e,t,n){var r=function(){return a.b.post(c.POST_COPY_IMAGE_V3,{dest:{obj_type:t||Object(s.l)(),obj_token:n||Object(s.g)()},files:e})};return Object(v.a)(r,{max:3,interval:0,factor:1})().then(function(e){return e.payload},function(e){return e.payload})}function O(e){switch(e){case d.SUCCESS:break;case d.FILE_QUOTA_EXCEEDED:u.a.show({title:l("common.storage_usage_limitation_title"),body:l("common.storage_usage_limitation_body_paste"),hasCancel:!1});break;case d.FILE_COUNT_EXCEEDED:u.a.show({body:l("CreationDoc_Limitation_UploadAttachment"),hasCancel:!1});break;case d.FILE_DELETED:h.a.error({closable:!0,content:l("common.paste_deleted_image")});break;default:h.a.error({closable:!0,content:l("common.paste_image_failed")})}}function g(a,s,c){var t,u=!1,e=function(){var e=i()(p.a.mark(function e(){var t,n,r,o,i;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((e.prev=0)===a.length)return e.abrupt("return",{code:f.SUCCESSFUL,tokenMap:{}});e.next=3;break;case 3:if(Object(b.c)()){e.next=6;break}return h.a.error({closable:!0,content:l("common.paste_image_offline")}),e.abrupt("return",{code:f.FAILED});case 6:a=m()(new Set(a)),t=50,n={},r=0;case 10:if(!(r<a.length)){e.next=38;break}if(u)return e.abrupt("return",{code:f.CANCELED});e.next=13;break;case 13:return o=a.slice(r,r+t),e.next=16,y(o,s,c);case 16:if(i=e.sent,u)return e.abrupt("return",{code:f.CANCELED});e.next=19;break;case 19:if(!i){e.next=33;break}if(i.code){e.next=29;break}if(!i.data||!i.data.token){e.next=25;break}Object.assign(n,i.data.token),e.next=27;break;case 25:return O(i.code),e.abrupt("return",{code:f.FAILED});case 27:e.next=31;break;case 29:return O(i.code),e.abrupt("return",{code:f.FAILED});case 31:e.next=35;break;case 33:return O(d.FAIL),e.abrupt("return",{code:f.FAILED});case 35:r+=t,e.next=10;break;case 38:return e.abrupt("return",{code:f.SUCCESSFUL,tokenMap:n});case 41:if(e.prev=41,e.t0=e.catch(0),u)return e.abrupt("return",{code:f.CANCELED});e.next=45;break;case 45:return O(d.FAIL),e.abrupt("return",{code:f.FAILED});case 47:case"end":return e.stop()}},e,null,[[0,41]])}));return function(){return e.apply(this,arguments)}}(),n=new Promise(function(e){t=function(){u=!0,e({code:f.CANCELED})}});return{promise:Promise.race([e(),n]),cancel:t}}(e=d=d||{})[e.SUCCESS=0]="SUCCESS",e[e.FAIL=1]="FAIL",e[e.FILE_DELETED=90003032]="FILE_DELETED",e[e.FILE_QUOTA_EXCEEDED=90003081]="FILE_QUOTA_EXCEEDED",e[e.FILE_COUNT_EXCEEDED=90015407]="FILE_COUNT_EXCEEDED",(t=f=f||{}).SUCCESSFUL="successful",t.FAILED="failed",t.CANCELED="canceled"}).call(this,k("2vAP"))},rFy5:function(e,t,n){"use strict";n.d(t,"b",function(){return i}),n.d(t,"a",function(){return a});var r={"&nbsp;":" ","&iexcl;":"¡","&cent;":"¢","&pound;":"£","&curren;":"¤","&yen;":"¥","&brvbar;":"¦","&sect;":"§","&uml;":"¨","&copy;":"©","&ordf;":"ª","&laquo;":"«","&not;":"¬","&shy;":"­","&reg;":"®","&macr;":"¯","&deg;":"°","&plusmn;":"±","&sup2;":"²","&sup3;":"³","&acute;":"´","&micro;":"µ","&para;":"¶","&middot;":"·","&cedil;":"¸","&sup1;":"¹","&ordm;":"º","&raquo;":"»","&frac14;":"¼","&frac12;":"½","&frac34;":"¾","&iquest;":"¿","&Agrave;":"À","&Aacute;":"Á","&Acirc;":"Â","&Atilde;":"Ã","&Auml;":"Ä","&Aring;":"Å","&AElig;":"Æ","&Ccedil;":"Ç","&Egrave;":"È","&Eacute;":"É","&Ecirc;":"Ê","&Euml;":"Ë","&Igrave;":"Ì","&Iacute;":"Í","&Icirc;":"Î","&Iuml;":"Ï","&ETH;":"Ð","&Ntilde;":"Ñ","&Ograve;":"Ò","&Oacute;":"Ó","&Ocirc;":"Ô","&Otilde;":"Õ","&Ouml;":"Ö","&times;":"×","&Oslash;":"Ø","&Ugrave;":"Ù","&Uacute;":"Ú","&Ucirc;":"Û","&Uuml;":"Ü","&Yacute;":"Ý","&THORN;":"Þ","&szlig;":"ß","&agrave;":"à","&aacute;":"á","&acirc;":"â","&atilde;":"ã","&auml;":"ä","&aring;":"å","&aelig;":"æ","&ccedil;":"ç","&egrave;":"è","&eacute;":"é","&ecirc;":"ê","&euml;":"ë","&igrave;":"ì","&iacute;":"í","&icirc;":"î","&iuml;":"ï","&eth;":"ð","&ntilde;":"ñ","&ograve;":"ò","&oacute;":"ó","&ocirc;":"ô","&otilde;":"õ","&ouml;":"ö","&divide;":"÷","&oslash;":"ø","&ugrave;":"ù","&uacute;":"ú","&ucirc;":"û","&uuml;":"ü","&yacute;":"ý","&thorn;":"þ","&yuml;":"ÿ","&quot;":'"',"&amp;":"&","&lt;":"<","&gt;":">","&apos;":"'","&OElig;":"Œ","&oelig;":"œ","&Scaron;":"Š","&scaron;":"š","&Yuml;":"Ÿ","&circ;":"ˆ","&tilde;":"˜","&ensp;":" ","&emsp;":" ","&thinsp;":" ","&zwnj;":"‌","&zwj;":"‍","&lrm;":"‎","&rlm;":"‏","&ndash;":"–","&mdash;":"—","&lsquo;":"‘","&rsquo;":"’","&sbquo;":"‚","&ldquo;":"“","&rdquo;":"”","&bdquo;":"„","&dagger;":"†","&Dagger;":"‡","&permil;":"‰","&lsaquo;":"‹","&rsaquo;":"›","&euro;":"€","&fnof;":"ƒ","&Alpha;":"Α","&Beta;":"Β","&Gamma;":"Γ","&Delta;":"Δ","&Epsilon;":"Ε","&Zeta;":"Ζ","&Eta;":"Η","&Theta;":"Θ","&Iota;":"Ι","&Kappa;":"Κ","&Lambda;":"Λ","&Mu;":"Μ","&Nu;":"Ν","&Xi;":"Ξ","&Omicron;":"Ο","&Pi;":"Π","&Rho;":"Ρ","&Sigma;":"Σ","&Tau;":"Τ","&Upsilon;":"Υ","&Phi;":"Φ","&Chi;":"Χ","&Psi;":"Ψ","&Omega;":"Ω","&alpha;":"α","&beta;":"β","&gamma;":"γ","&delta;":"δ","&epsilon;":"ε","&zeta;":"ζ","&eta;":"η","&theta;":"θ","&iota;":"ι","&kappa;":"κ","&lambda;":"λ","&mu;":"μ","&nu;":"ν","&xi;":"ξ","&omicron;":"ο","&pi;":"π","&rho;":"ρ","&sigmaf;":"ς","&sigma;":"σ","&tau;":"τ","&upsilon;":"υ","&phi;":"φ","&chi;":"χ","&psi;":"ψ","&omega;":"ω","&thetasym;":"ϑ","&upsih;":"ϒ","&piv;":"ϖ","&bull;":"•","&hellip;":"…","&prime;":"′","&Prime;":"″","&oline;":"‾","&frasl;":"⁄","&weierp;":"℘","&image;":"ℑ","&real;":"ℜ","&trade;":"™","&alefsym;":"ℵ","&larr;":"←","&uarr;":"↑","&rarr;":"→","&darr;":"↓","&harr;":"↔","&crarr;":"↵","&lArr;":"⇐","&uArr;":"⇑","&rArr;":"⇒","&dArr;":"⇓","&hArr;":"⇔","&forall;":"∀","&part;":"∂","&exist;":"∃","&empty;":"∅","&nabla;":"∇","&isin;":"∈","&notin;":"∉","&ni;":"∋","&prod;":"∏","&sum;":"∑","&minus;":"−","&lowast;":"∗","&radic;":"√","&prop;":"∝","&infin;":"∞","&ang;":"∠","&and;":"∧","&or;":"∨","&cap;":"∩","&cup;":"∪","&int;":"∫","&there4;":"∴","&sim;":"∼","&cong;":"≅","&asymp;":"≈","&ne;":"≠","&equiv;":"≡","&le;":"≤","&ge;":"≥","&sub;":"⊂","&sup;":"⊃","&nsub;":"⊄","&sube;":"⊆","&supe;":"⊇","&oplus;":"⊕","&otimes;":"⊗","&perp;":"⊥","&sdot;":"⋅","&lceil;":"⌈","&rceil;":"⌉","&lfloor;":"⌊","&rfloor;":"⌋","&lang;":"〈","&rang;":"〉","&loz;":"◊","&spades;":"♠","&clubs;":"♣","&hearts;":"♥","&diams;":"♦"};function o(e){if("#"!==e.charAt(1))return r[e]||e;var t=e.charAt(2),n="x"===t||"X"===t?(t=e.substring(3,e.length-1),parseInt(t,16)):(t=e.substring(2,e.length-1),parseInt(t));return isNaN(n)?e:String.fromCharCode(n)}function i(e){return e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function a(e){return e.replace(/&#?\w+;/g,o)}},sFgt:function(e,t,n){"use strict";n("RIqP");var r=n("J4zp"),_=n.n(r),V=(n("vJtL"),n("owWc"),n("Bw5p")),o=n("oTSI"),m=n("7EGn"),i=n("RKCD"),a=(n("Muja"),n("YsUP"),n("OZf9")),h=n("HmyT"),j=n("Mpt7"),S=(n("GGin"),n("iP/4")),s=n("XiKa"),c=n.n(s),w=n("uQON"),L=n("dP4c"),I=n("H6oK"),u=n("U5G9"),M=(n("2RY6"),n("t9fZ"),n("VI6H")),l=n("HIeq"),d=n("i8i4"),f=n.n(d),p=n("lZ5r");n.d(t,"m",function(){return b}),n.d(t,"k",function(){return v}),n.d(t,"c",function(){return y}),n.d(t,"h",function(){return O}),n.d(t,"i",function(){return g}),n.d(t,"f",function(){return E}),n.d(t,"j",function(){return k}),n.d(t,"n",function(){return T}),n.d(t,"a",function(){return C}),n.d(t,"b",function(){return P}),n.d(t,"l",function(){return D}),n.d(t,"d",function(){return N}),n.d(t,"e",function(){return R}),n.d(t,"g",function(){return U});Object(u.b)({module:u.a.COMMENT});function b(e,t,n,r,o){e.undelegate(t,n,o||r),e.delegate(t,n,r,o)}function v(e){return Object(i.a)(e,{evaluate:/\{\{([\s\S]+?)\}\}/g,interpolate:/\{\{=([\s\S]+?)\}\}/g,escape:/\{\{\{([\s\S]+?)\}\}\}/g})}function y(e){return e&&parseInt(e.replace("px",""))}var O=function(e){return/^comment-(id|resolved|deleted)-[0-9]+$/.test(e)},g=function(e){return"".concat(e?e+"-":"","comment")},E=(window.setTimeout,function(e,t,n){var r=t.selStart,o=t.selEnd,i=e.getReps()[n].lines,a=e.selection.getRealFirstLine(n,{selStart:r,selEnd:o}),s=e.selection.getRealEndLine(n,{selStart:r,selEnd:o});if(s<a)return!1;var c=i.atIndex(s),u=a===r[0]?[r[0],r[1]]:[a,0],l=s===o[0]?[o[0],o[1]]:[s,c.text.length],d=Object(m.default)(c,"domInfo.node"),f=d&&d.querySelector(".image-uploaded"),p=Object(h.$)(d).hasClass("single-line");return(f||p)&&(u[1]=i.atIndex(u[0]).lineMarker,l[1]=c.text.length),{selStart:u,selEnd:l,selZone:n}});var k=Object(o.a)(function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",p=[],m=["href","type","token","icon"],t=c()(e.trim(),{allowedTags:["at"],allowedAttributes:{at:m}}),n=document.createElement("div");return n.innerHTML=t,Array.from(n.childNodes).forEach(function(t){if(t){var e,n,r,o,i,a,s,c;if(t.nodeType===Node.TEXT_NODE){var u=t.textContent,l=Object(w.e)(u);if(l.length<=0)return void p.push({type:"text",content:u});var d,f=0;return l.forEach(function(e){var t=e.startIndex,n=e.endIndex,r=e.url,o=u.slice(f,t);o&&p.push({type:"text",content:o}),p.push({type:"link_".concat(r),content:r}),f=n}),void(f<u.length&&(d=u.slice(f),p.push({type:"text",content:d})))}"AT"===t.tagName&&(e=m.map(function(e){return t.getAttribute(e)}),r=(n=_()(e,4))[0],o=n[1],i=n[2],a=n[3],s=t.innerText,c=encodeURIComponent(JSON.stringify({href:r,type:o,token:i,icon:a})),p.push({type:(r?"mentionLink_":"mentionUser_").concat(c),content:s}))}}),p}),T=Object(o.a)(function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},g=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,E=["href","type","token"],n=c()(e.trim(),{allowedTags:["at"],allowedAttributes:{at:E}}),k=t.users||new j.Map,T=document.createElement("div");T.innerHTML=n;var C=Object(l.d)();return Object(a.a)(T.childNodes,function(t){if(t){var e,n,r,o,i,a,s,c,u,l,d,f,p;if(t.nodeType===Node.TEXT_NODE){var m=t.textContent,h=Object(w.e)(m);if(h.length<=0)return;var b,v,y=document.createElement("span"),O=0;return h.forEach(function(e){var t,n=e.startIndex,r=e.endIndex,o=e.url,i=m.slice(O,n);i&&(t=document.createTextNode(i),y.appendChild(t));var a=document.createElement("a");a.setAttribute("href",Object(L.a)(o)),a.setAttribute("target",S.a.mobile?"":"_blank"),a.className="link",a.innerText=o,y.appendChild(a),O=r}),O<m.length&&(b=m.slice(O),v=document.createTextNode(b),y.appendChild(v)),void T.replaceChild(y,t)}"AT"===t.tagName&&(e=E.map(function(e){return t.getAttribute(e)}),r=(n=_()(e,3))[0],o=n[1],i=n[2],a=document.createElement("span"),s=k?Object(j.isImmutable)(k)?k.get(i):k[i]:null,l="",l=g&&s?(c=I.BlockType.AT_USER_BLOCK,u=Object(I.generateBlockDataSet)({blockType:c,creator:Object(I.getBlockCreator)(c,g),props:{data:{mentionNotify:!1,user:Object(V.a)(s,["avatar_url","cn_name","en_name","id","name","type"])}}}),Object(I.generateBlockHTML)(u,"")):(d=t.innerText,s&&(d="@".concat(Object(M.q)(s))),f="mention mention-type_".concat(o," mention-token_").concat(i),r&&(f+=" mention-link_".concat(encodeURIComponent(r))),i===C&&(f+=" at-self-highlight"),a.setAttribute("class",f),a.setAttribute("token",i),(p=document.createElement("a")).setAttribute("href",r&&/[^<>]+bytedance[^<>]+/.test(r)?r:"javascript:void(0)"),p.setAttribute("target",S.a.mobile?"":"_blank"),p.innerText=d,p.outerHTML),a.innerHTML=l,T.replaceChild(a,t))}}),T.innerHTML});function C(e){var t,n=e.getRep(),r=n.selStart,o=n.selEnd;"0"===n.zoneId&&0===r[0]&&0!==o[0]&&(t=n.lines.atIndex(0),e.selection.setWithSelection(n.zoneId,n.selStart,[0,t.width-1],!1))}function P(e,t){return t&&3===t.nodeType&&S.a.modernIE&&11===parseInt(S.a.version)?e.contains(t.parentNode):e.contains(t)}var D=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"#",n=function(e){return e.replace(/[^\r\n\s*]/g,function(){return t})};return Array.isArray(e)?e.map(n):n(e)},N=function(e){if(e){var t=e.cacheNodeResult;return t||(e.cacheNodeResult=f.a.findDOMNode(e),t=e.cacheNodeResult),t}},R=function(e){if(!e)return!1;var t=document.querySelector(".navigation-bar-wrapper"),n=t?t.getBoundingClientRect().height:0;return!(.8*(window.innerHeight-n)<N(e).offsetHeight)},U=function(e){var t=Object.values(e);Object(p.c)(t)}},uuwQ:function(e,t,n){},wCm6:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n("gSGL"),o=n("toa8"),i=function(e){var t=Boolean(e.ignoreInterceptors),n=Math.max(e.url.indexOf("/api"),0);return e.url=e.url.substring(n),Object(o.d)(Object.assign({},e,{headers:Object.assign({"Content-Type":"application/json"},e.headers),ignoreInterceptors:t})).then(function(e){return t?e:{data:Object(r.a)(e.data)?e.data:e}}).catch(function(e){throw e.originalError||e})}},wN88:function(e,t,n){"use strict";n.d(t,"c",function(){return o}),n.d(t,"e",function(){return i}),n.d(t,"d",function(){return a}),n.d(t,"a",function(){return s}),n.d(t,"b",function(){return c});var r=n("Xngx");function o(e){if(!e)return"";var t=e.match(/\/file\/f\/([A-Za-z0-9]*)/);return t&&t[1]?t[1]:""}function i(e,t){return e?(t.coverOptions?Object(r.b):Object(r.c))(Object.assign({fileToken:e},t)):""}function a(e){if(!e)return"";var t=e.match(/\/box\/stream\/download(\/v2)?\/(all|cover)\/([A-Za-z0-9]*)/);return t&&t[t.length-1]?t[t.length-1]:""}function s(e){if(!e)return null;try{var t=decodeURIComponent(atob(e).split("").map(function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)}).join(""));return JSON.parse(t)}catch(e){return console.error("decodeInfo 失败。"),null}}function c(e){if(!e)return"";try{var t=JSON.stringify(e);return btoa(encodeURIComponent(t).replace(/%([0-9A-F]{2})/g,function(e,t){return String.fromCharCode(Number("0x"+t))}))}catch(e){return console.error("encodeInfo 失败。"),""}}},wOYm:function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n("lwsE"),i=n.n(r),o=n("W8MJ"),a=n.n(o);function s(r,o){return new(function(){function e(){i()(this,e),this.services=new Map}return a()(e,[{key:"getOrCreate",value:function(e){var t=o(e),n=this.services.get(t);return n||(n=r(e),this.services.set(t,n)),n}},{key:"destroy",value:function(e){var t=o(e),n=this.services.get(t);n&&n.destroy(),this.services.delete(t)}}]),e}())}},wQna:function(e,t,n){"use strict";n.d(t,"a",function(){return d});var r=n("Vfrr"),o=n("D7h9"),i=n("toa8"),a=n("Q9MD"),s=n("5gS9"),c=n("QM+C"),u=n("wOYm");function l(e){var t=e.suiteType,n=e.suiteToken;return new r.a({serviceType:t,serviceToken:n,engineType:c.NUM_SUITE_TYPE_TO_SUITE_ENGINE_TYPE[t],io:s.b.getInstance(),getRequest:function(){return i.d},getMemberId:function(){return function(){return Object(a.b)(o.default.getState())}}})}var d=Object(u.a)(l,function(e){return"".concat(e.suiteType,":").concat(e.suiteToken)})},wl7t:function(e,t,n){"use strict";n.r(t);var r=n("m/+l"),o=n("kkTN"),i=n("vc5i"),a=n("5cZX"),s=n("NltJ"),c={},u=function(e){var t=Object(i.o)(e);return{haveCommentPermission:Object(a.b)(e),data:Object(s.c)(e),token:Object(i.n)(e),objectType:t}},l=Object(r.connect)(u,c)(o.a);t.default=l},xD9Q:function(e,t,n){},yGdm:function(e,m,h){"use strict";(function(e){h.d(m,"d",function(){return n}),h.d(m,"h",function(){return r}),h.d(m,"c",function(){return o}),h.d(m,"l",function(){return i}),h.d(m,"a",function(){return a}),h.d(m,"j",function(){return s}),h.d(m,"i",function(){return c}),h.d(m,"b",function(){return u}),h.d(m,"g",function(){return l}),h.d(m,"e",function(){return d}),h.d(m,"k",function(){return f}),h.d(m,"m",function(){return p});var t=h("H6oK"),n=338,r={gmap:"ee.docs.doc.block_iframe_make_address_specific_error",xigua:"ee.docs.doc.block_get_xigua_iframe__error",tiktok:"ee.docs.doc.block_get_tiktok_iframe__error"},o="outer-u-container",i=new RegExp("mention-type|".concat(t.IGNORE_HYPERLINK_CLASS)),a={bilibili:"https://www.bilibili.com/video/BV1Hi4y1w7V7",youku:"https://v.youku.com/v_show/id_XMTY1MjYwODYzNg==.html?spm=a2h0j.11185381.listitem_page1.5!15~A&&s=9a35f8960f3c11e5a080",youtube:"https://youtu.be/Ajo5v1zxrHE",airtable:"https://airtable.com/shrs4PhummCCIHXXT",baidumap:"https://j.map.baidu.com/6jqkO",autonavi:"https://www.amap.com/place/B000A83C1S",gmaps:"https://www.google.com/maps/place/Central+Park/@40.7828647,-73.9675438,17z",xigua:"https://www.ixigua.com/6763174234282787341",tiktok:"https://t.tiktok.com/i18n/share/video/6584979523391982853",figma:"https://www.figma.com/file/LKQ4FJ4bTnCSjedbRpk931/Sample-File",modao:"https://modao.cc/app/45ed43a9277e1cdb844b10e8e8890cf177e6ea25?simulator_type=device&sticky",canva:"https://www.canva.cn/design/DAERsJN19ZM/view",codepen:"https://codepen.io/jackrugile/pen/IHbvh",jinshuju:"https://jinshuju.net/f/tRreUu",feishu_survey:"https://wenjuan.feishu.cn/m?t=sVOKVVz7rwpi-ay5n",lark_survey:"https://survey.larksuite.com/m/cfm?t=sVF8j1fIlrpi-ff3n"},s={bilibili:e("CreationDocs_Embeds_PasteLinkBilibili_Options"),youku:e("CreationDocs_Embeds_PasteLinkYouku_Options"),youtube:e("CreationDocs_Embeds_PasteLinkYoutube_Options"),airtable:e("CreationDocs_Embeds_PasteLinkAirtable_Options"),baidumap:e("CreationDocs_Embeds_PasteLinkBaiduMap_Options"),autonavi:e("CreationDocs_Embeds_PasteLinkGaodeMap_Options"),gmaps:e("CreationDocs_Embeds_PasteLinkGoogleMap_Options"),xigua:e("CreationDocs_Embeds_PasteLinkXigua_Options"),tiktok:e("CreationDocs_Embeds_PasteLinkTiktok_Options"),figma:e("CreationDocs_Embeds_PasteLinkFigma_Options"),modao:e("CreationDocs_Embeds_PasteLinkModao_Options"),canva:e("CreationDocs_Embeds_PasteLinkCanva_Options"),codepen:e("CreationDocs_Embeds_PasteLinkCodePen_Options"),jinshuju:e("CreationDocs_Embeds_PasteLinkJinshuju_Options"),feishu_survey:e("CreationDocs_Embeds_PasteLinkFeishuSurvey_Options"),lark_survey:e("CreationDocs_Embeds_PasteLinkLarkSurvey_Options")},c={bilibili:e("CreationDocs_Embeds_bilibiliLink_Placeholder"),youku:e("CreationDocs_Embeds_YoukuLink_Placeholder"),youtube:e("CreationDocs_Embeds_YoutubeLink_Placeholder"),airtable:e("CreationDocs_Embeds_AirtableLink_Placeholder"),baidumap:e("CreationDocs_Embeds_BaiduMapLink_Placeholder"),autonavi:e("CreationDocs_Embeds_GaodeMapLink_Placeholder"),gmaps:e("CreationDocs_Embeds_GoogleMapsLink_Placeholder"),xigua:e("CreationDocs_Embeds_XiguaLink_Placeholder"),tiktok:e("CreationDocs_Embeds_TikTokLink_Placeholder"),figma:e("CreationDocs_Embeds_FigamaLink_Placeholder"),modao:e("CreationDocs_Embeds_ModaoLink_Placeholder"),canva:e("CreationDocs_Embeds_CanvaLink_Placeholder"),codepen:e("CreationDocs_Embeds_CodePenLink_Placeholder"),jinshuju:e("CreationDocs_Embeds_JinshujuLink_Placeholder"),feishu_survey:e("CreationDocs_Embeds_FeishuSurveyLink_Placeholder"),lark_survey:e("CreationDocs_Embeds_LarkSurveyLink_Placeholder")},u={bilibili:e("CreationDocs_Embeds_BilibiliLink_FeishuHelpCenter"),youku:e("CreationDocs_Embeds_YoukuLink_FeishuHelpCenter"),airtable:e("CreationDocs_Embeds_AirtableLink_FeishuHelpCenter"),baidumap:e("CreationDocs_Embeds_BaiduMapLink_FeishuHelpCenter"),autonavi:e("CreationDocs_Embeds_GaodeMapsLink_FeishuHelpCenter"),xigua:e("CreationDocs_Embeds_XiguaLink_FeishuHelpCenter"),figma:e("CreationDocs_Embeds_FigmaLink_FeishuHelpCenter"),modao:e("CreationDocs_Embeds_ModaoLink_FeishuHelpCenter"),canva:e("CreationDocs_Embeds_CanvaLink_FeishuHelpCenter"),codepen:e("CreationDocs_Embeds_CodePenLink_FeishuHelpCenter"),jinshuju:e("CreationDocs_Embeds_JinshujuLink_FeishuHelpCenter"),feishu_survey:e("CreationDocs_Embeds_FeishuSurveyLink_FeishuHelpCenter")},l={youtube:e("CreationDocs_Embeds_YoutubeLink_LakrHelpCenter"),airtable:e("CreationDocs_Embeds_AirtableLink_LarkHelpCenter"),gmaps:e("CreationDocs_Embeds_GoogleMapsLink_LarkHelpCenter"),tiktok:e("CreationDocs_Embeds_TikTokLink_LarkHelpCenter"),figma:e("CreationDocs_Embeds_FigmaLink_LarkHelpCenter"),codepen:e("CreationDocs_Embeds_CodePenLink_LarkHelpCenter"),lark_survey:e("CreationDocs_Embeds_LarkSurveyLink_LarkHelpCenter")},d="iframe-holder",f=["people.bytedance.net"],p=["vt.tiktok.com","imgur.com","slideshare.net","chartblocks.com","speakerdeck.com"]}).call(this,h("2vAP"))}}]);
//# sourceMappingURL=comment_history.4b8213f103158298cd68.js.map