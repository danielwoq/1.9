(this.webpackJsonp=this.webpackJsonp||[]).push([["commons--doc_blockit--hash-tags--publish-to-pano"],{"+0oo":function(t,fT,pT){"use strict";pT.r(fT),function(t){pT.d(fT,"Engine",function(){return cT});var v="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{};function e(t,e,n){return t(n={path:e,exports:{},require:function(t,e){return r(null==e&&n.path)}},n.exports),n.exports}function r(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var n=function(t){return t&&t.Math==Math&&t},C=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof v&&v)||Function("return this")(),m=function(t){try{return!!t()}catch(t){return!0}},p=!m(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}),o={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,h={f:i&&!o.call({1:2},1)?function(t){var e=i(this,t);return!!e&&e.enumerable}:o},z=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},a={}.toString,s=function(t){return a.call(t).slice(8,-1)},c="".split,_=m(function(){return!Object("z").propertyIsEnumerable(0)})?function(t){return"String"==s(t)?c.call(t,""):Object(t)}:Object,f=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t},u=function(t){return _(f(t))},N=function(t){return"object"==typeof t?null!==t:"function"==typeof t},l=function(t,e){if(!N(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!N(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!N(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!N(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")},d={}.hasOwnProperty,j=function(t,e){return d.call(t,e)},g=C.document,y=N(g)&&N(g.createElement),b=function(t){return y?g.createElement(t):{}},w=!p&&!m(function(){return 7!=Object.defineProperty(b("div"),"a",{get:function(){return 7}}).a}),x=Object.getOwnPropertyDescriptor,O={f:p?x:function(t,e){if(t=u(t),e=l(e,!0),w)try{return x(t,e)}catch(t){}if(j(t,e))return z(!h.f.call(t,e),t[e])}},E=function(t){if(!N(t))throw TypeError(String(t)+" is not an object");return t},k=Object.defineProperty,A={f:p?k:function(t,e,n){if(E(t),e=l(e,!0),E(n),w)try{return k(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},D=p?function(t,e,n){return A.f(t,e,z(1,n))}:function(t,e,n){return t[e]=n,t},I=function(e,n){try{D(C,e,n)}catch(t){C[e]=n}return n},T=C["__core-js_shared__"]||I("__core-js_shared__",{}),M=Function.toString;"function"!=typeof T.inspectSource&&(T.inspectSource=function(t){return M.call(t)});var S,L,G,P,R,$,U,H,B=T.inspectSource,F=C.WeakMap,V="function"==typeof F&&/native code/.test(B(F)),W=e(function(t){(t.exports=function(t,e){return T[t]||(T[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.6.5",mode:"global",copyright:"Â© 2020 Denis Pushkarev (zloirock.ru)"})}),q=0,Y=Math.random(),J=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++q+Y).toString(36)},Q=W("keys"),Z=function(t){return Q[t]||(Q[t]=J(t))},K={},X=C.WeakMap;U=V?(S=new X,L=S.get,G=S.has,P=S.set,R=function(t,e){return P.call(S,t,e),e},$=function(t){return L.call(S,t)||{}},function(t){return G.call(S,t)}):(H=Z("state"),K[H]=!0,R=function(t,e){return D(t,H,e),e},$=function(t){return j(t,H)?t[H]:{}},function(t){return j(t,H)});var tt,et,nt={set:R,get:$,has:U,enforce:function(t){return U(t)?$(t):R(t,{})},getterFor:function(n){return function(t){var e;if(!N(t)||(e=$(t)).type!==n)throw TypeError("Incompatible receiver, "+n+" required");return e}}},rt=e(function(t){var e=nt.get,s=nt.enforce,c=String(String).split("String");(t.exports=function(t,e,n,r){var o=!!r&&!!r.unsafe,i=!!r&&!!r.enumerable,a=!!r&&!!r.noTargetGet;"function"==typeof n&&("string"!=typeof e||j(n,"name")||D(n,"name",e),s(n).source=c.join("string"==typeof e?e:"")),t!==C?(o?!a&&t[e]&&(i=!0):delete t[e],i?t[e]=n:D(t,e,n)):i?t[e]=n:I(e,n)})(Function.prototype,"toString",function(){return"function"==typeof this&&e(this).source||B(this)})}),ot=C,it=function(t){return"function"==typeof t?t:void 0},at=function(t,e){return arguments.length<2?it(ot[t])||it(C[t]):ot[t]&&ot[t][e]||C[t]&&C[t][e]},st=Math.ceil,ct=Math.floor,ut=function(t){return isNaN(t=+t)?0:(0<t?ct:st)(t)},lt=Math.min,ft=function(t){return 0<t?lt(ut(t),9007199254740991):0},pt=Math.max,ht=Math.min,dt=function(t,e){var n=ut(t);return n<0?pt(n+e,0):ht(n,e)},gt=function(s){return function(t,e,n){var r,o=u(t),i=ft(o.length),a=dt(n,i);if(s&&e!=e){for(;a<i;)if((r=o[a++])!=r)return!0}else for(;a<i;a++)if((s||a in o)&&o[a]===e)return s||a||0;return!s&&-1}},vt={includes:gt(!0),indexOf:gt(!1)},mt=vt.indexOf,yt=function(t,e){var n,r=u(t),o=0,i=[];for(n in r)!j(K,n)&&j(r,n)&&i.push(n);for(;e.length>o;)j(r,n=e[o++])&&(~mt(i,n)||i.push(n));return i},bt=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],_t=bt.concat("length","prototype"),wt={f:Object.getOwnPropertyNames||function(t){return yt(t,_t)}},xt={f:Object.getOwnPropertySymbols},kt=at("Reflect","ownKeys")||function(t){var e=wt.f(E(t)),n=xt.f;return n?e.concat(n(t)):e},It=function(t,e){for(var n=kt(e),r=A.f,o=O.f,i=0;i<n.length;i++){var a=n[i];j(t,a)||r(t,a,o(e,a))}},Tt=/#|\.prototype\./,Et=function(t,e){var n=St[Mt(t)];return n==Ct||n!=At&&("function"==typeof e?m(e):!!e)},Mt=Et.normalize=function(t){return String(t).replace(Tt,".").toLowerCase()},St=Et.data={},At=Et.NATIVE="N",Ct=Et.POLYFILL="P",zt=Et,Nt=O.f,jt=function(t,e){var n,r,o,i,a,s=t.target,c=t.global,u=t.stat;if(n=c?C:u?C[s]||I(s,{}):(C[s]||{}).prototype)for(r in e){if(i=e[r],o=t.noTargetGet?(a=Nt(n,r))&&a.value:n[r],!zt(c?r:s+(u?".":"#")+r,t.forced)&&void 0!==o){if(typeof i==typeof o)continue;It(i,o)}(t.sham||o&&o.sham)&&D(i,"sham",!0),rt(n,r,i,t)}},Ot=Array.isArray||function(t){return"Array"==s(t)},Dt=function(t){return Object(f(t))},Lt=function(t,e,n){var r=l(e);r in t?A.f(t,r,z(0,n)):t[r]=n},Pt=!!Object.getOwnPropertySymbols&&!m(function(){return!String(Symbol())}),Rt=Pt&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,$t=W("wks"),Ut=C.Symbol,Ht=Rt?Ut:Ut&&Ut.withoutSetter||J,Bt=function(t){return j($t,t)||(Pt&&j(Ut,t)?$t[t]=Ut[t]:$t[t]=Ht("Symbol."+t)),$t[t]},Ft=Bt("species"),Vt=function(t,e){var n;return Ot(t)&&("function"==typeof(n=t.constructor)&&(n===Array||Ot(n.prototype))||N(n)&&null===(n=n[Ft]))&&(n=void 0),new(void 0===n?Array:n)(0===e?0:e)},Wt=at("navigator","userAgent")||"",qt=C.process,Yt=qt&&qt.versions,Jt=Yt&&Yt.v8;Jt?et=(tt=Jt.split("."))[0]+tt[1]:Wt&&(!(tt=Wt.match(/Edge\/(\d+)/))||74<=tt[1])&&(tt=Wt.match(/Chrome\/(\d+)/))&&(et=tt[1]);var Qt=et&&+et,Gt=Bt("species"),Zt=function(e){return 51<=Qt||!m(function(){var t=[];return(t.constructor={})[Gt]=function(){return{foo:1}},1!==t[e](Boolean).foo})},Kt=Bt("isConcatSpreadable"),Xt=51<=Qt||!m(function(){var t=[];return t[Kt]=!1,t.concat()[0]!==t}),te=Zt("concat"),ee=function(t){if(!N(t))return!1;var e=t[Kt];return void 0!==e?!!e:Ot(t)};jt({target:"Array",proto:!0,forced:!Xt||!te},{concat:function(t){for(var e,n,r,o=Dt(this),i=Vt(o,0),a=0,s=-1,c=arguments.length;s<c;s++)if(ee(r=-1===s?o:arguments[s])){if(9007199254740991<a+(n=ft(r.length)))throw TypeError("Maximum allowed index exceeded");for(e=0;e<n;e++,a++)e in r&&Lt(i,a,r[e])}else{if(9007199254740991<=a)throw TypeError("Maximum allowed index exceeded");Lt(i,a++,r)}return i.length=a,i}});var ne=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t},re=function(r,o,t){if(ne(r),void 0===o)return r;switch(t){case 0:return function(){return r.call(o)};case 1:return function(t){return r.call(o,t)};case 2:return function(t,e){return r.call(o,t,e)};case 3:return function(t,e,n){return r.call(o,t,e,n)}}return function(){return r.apply(o,arguments)}},oe=[].push,ie=function(h){var d=1==h,g=2==h,v=3==h,m=4==h,y=6==h,b=5==h||y;return function(t,e,n,r){for(var o,i,a=Dt(t),s=_(a),c=re(e,n,3),u=ft(s.length),l=0,f=r||Vt,p=d?f(t,u):g?f(t,0):void 0;l<u;l++)if((b||l in s)&&(i=c(o=s[l],l,a),h))if(d)p[l]=i;else if(i)switch(h){case 3:return!0;case 5:return o;case 6:return l;case 2:oe.call(p,o)}else if(m)return!1;return y?-1:v||m?m:p}},ae={forEach:ie(0),map:ie(1),filter:ie(2),some:ie(3),every:ie(4),find:ie(5),findIndex:ie(6)},se=function(t,e){var n=[][t];return!!n&&m(function(){n.call(null,e||function(){throw 1},1)})},ce=Object.defineProperty,ue={},le=function(t){throw t},fe=function(t,e){if(j(ue,t))return ue[t];var n=[][t],r=!!j(e=e||{},"ACCESSORS")&&e.ACCESSORS,o=j(e,0)?e[0]:le,i=j(e,1)?e[1]:void 0;return ue[t]=!!n&&!m(function(){if(r&&!p)return!0;var t={length:-1};r?ce(t,1,{enumerable:!0,get:le}):t[1]=1,n.call(t,o,i)})},pe=ae.forEach,he=se("forEach"),de=fe("forEach"),ge=he&&de?[].forEach:function(t){return pe(this,t,1<arguments.length?arguments[1]:void 0)};jt({target:"Array",proto:!0,forced:[].forEach!=ge},{forEach:ge});var ve,me=Object.keys||function(t){return yt(t,bt)},ye=p?Object.defineProperties:function(t,e){E(t);for(var n,r=me(e),o=r.length,i=0;i<o;)A.f(t,n=r[i++],e[n]);return t},be=at("document","documentElement"),_e=Z("IE_PROTO"),we=function(){},xe=function(t){return"<script>"+t+"<\/script>"},ke=function(){try{ve=document.domain&&new ActiveXObject("htmlfile")}catch(t){}var t,e;ke=ve?function(t){t.write(xe("")),t.close();var e=t.parentWindow.Object;return t=null,e}(ve):((e=b("iframe")).style.display="none",be.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(xe("document.F=Object")),t.close(),t.F);for(var n=bt.length;n--;)delete ke.prototype[bt[n]];return ke()};K[_e]=!0;var Ie=Object.create||function(t,e){var n;return null!==t?(we.prototype=E(t),n=new we,we.prototype=null,n[_e]=t):n=ke(),void 0===e?n:ye(n,e)},Te=Bt("unscopables"),Ee=Array.prototype;null==Ee[Te]&&A.f(Ee,Te,{configurable:!0,value:Ie(null)});var Me=function(t){Ee[Te][t]=!0},Se=vt.includes,Ae=fe("indexOf",{ACCESSORS:!0,1:0});jt({target:"Array",proto:!0,forced:!Ae},{includes:function(t){return Se(this,t,1<arguments.length?arguments[1]:void 0)}}),Me("includes");var Ce,ze,Ne,je={},Oe=!m(function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}),De=Z("IE_PROTO"),Le=Object.prototype,Pe=Oe?Object.getPrototypeOf:function(t){return t=Dt(t),j(t,De)?t[De]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?Le:null},Re=Bt("iterator"),$e=!1;[].keys&&("next"in(Ne=[].keys())?(ze=Pe(Pe(Ne)))!==Object.prototype&&(Ce=ze):$e=!0),null==Ce&&(Ce={}),j(Ce,Re)||D(Ce,Re,function(){return this});var Ue={IteratorPrototype:Ce,BUGGY_SAFARI_ITERATORS:$e},He=A.f,Be=Bt("toStringTag"),Fe=function(t,e,n){t&&!j(t=n?t:t.prototype,Be)&&He(t,Be,{configurable:!0,value:e})},Ve=Ue.IteratorPrototype,We=function(){return this},qe=Object.setPrototypeOf||("__proto__"in{}?function(){var n,r=!1,t={};try{(n=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(t,[]),r=t instanceof Array}catch(n){}return function(t,e){return E(t),function(t){if(!N(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype")}(e),r?n.call(t,e):t.__proto__=e,t}}():void 0),Ye=Ue.IteratorPrototype,Je=Ue.BUGGY_SAFARI_ITERATORS,Qe=Bt("iterator"),Ge=function(){return this},Ze=function(t,e,n,r,o,i,a){var s,c;c=e+" Iterator",(s=n).prototype=Ie(Ve,{next:z(1,r)}),Fe(s,c,!1),je[c]=We;var u,l,f,p=function(t){if(t===o&&m)return m;if(!Je&&t in g)return g[t];switch(t){case"keys":case"values":case"entries":return function(){return new n(this,t)}}return function(){return new n(this)}},h=e+" Iterator",d=!1,g=t.prototype,v=g[Qe]||g["@@iterator"]||o&&g[o],m=!Je&&v||p(o),y="Array"==e&&g.entries||v;if(y&&(u=Pe(y.call(new t)),Ye!==Object.prototype&&u.next&&(Pe(u)!==Ye&&(qe?qe(u,Ye):"function"!=typeof u[Qe]&&D(u,Qe,Ge)),Fe(u,h,!0))),"values"==o&&v&&"values"!==v.name&&(d=!0,m=function(){return v.call(this)}),g[Qe]!==m&&D(g,Qe,m),je[e]=m,o)if(l={values:p("values"),keys:i?m:p("keys"),entries:p("entries")},a)for(f in l)!Je&&!d&&f in g||rt(g,f,l[f]);else jt({target:e,proto:!0,forced:Je||d},l);return l},Ke=nt.set,Xe=nt.getterFor("Array Iterator"),tn=Ze(Array,"Array",function(t,e){Ke(this,{type:"Array Iterator",target:u(t),index:0,kind:e})},function(){var t=Xe(this),e=t.target,n=t.kind,r=t.index++;return!e||r>=e.length?{value:t.target=void 0,done:!0}:"keys"==n?{value:r,done:!1}:"values"==n?{value:e[r],done:!1}:{value:[r,e[r]],done:!1}},"values");je.Arguments=je.Array,Me("keys"),Me("values"),Me("entries");var en=ae.map,nn=Zt("map"),rn=fe("map");jt({target:"Array",proto:!0,forced:!nn||!rn},{map:function(t){return en(this,t,1<arguments.length?arguments[1]:void 0)}});var on=function(u){return function(t,e,n,r){ne(e);var o=Dt(t),i=_(o),a=ft(o.length),s=u?a-1:0,c=u?-1:1;if(n<2)for(;;){if(s in i){r=i[s],s+=c;break}if(s+=c,u?s<0:a<=s)throw TypeError("Reduce of empty array with no initial value")}for(;u?0<=s:s<a;s+=c)s in i&&(r=e(r,i[s],s,o));return r}},an={left:on(!1),right:on(!0)},sn=an.left,cn=se("reduce"),un=fe("reduce",{1:0});jt({target:"Array",proto:!0,forced:!cn||!un},{reduce:function(t){return sn(this,t,arguments.length,1<arguments.length?arguments[1]:void 0)}});var ln=Date.prototype,fn=ln.toString,pn=ln.getTime;new Date(NaN)+""!="Invalid Date"&&rt(ln,"toString",function(){var t=pn.call(this);return t==t?fn.call(this):"Invalid Date"});var hn=[].slice,dn={},gn=function(t,e,n){if(!(e in dn)){for(var r=[],o=0;o<e;o++)r[o]="a["+o+"]";dn[e]=Function("C,a","return new C("+r.join(",")+")")}return dn[e](t,n)},vn=Function.bind||function(e){var n=ne(this),r=hn.call(arguments,1),o=function(){var t=r.concat(hn.call(arguments));return this instanceof o?gn(n,t.length,t):n.apply(e,t)};return N(n.prototype)&&(o.prototype=n.prototype),o};jt({target:"Function",proto:!0},{bind:vn});var mn=!m(function(){return Object.isExtensible(Object.preventExtensions({}))}),yn=e(function(t){var e=A.f,n=J("meta"),r=0,o=Object.isExtensible||function(){return!0},i=function(t){e(t,n,{value:{objectID:"O"+ ++r,weakData:{}}})},a=t.exports={REQUIRED:!1,fastKey:function(t,e){if(!N(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!j(t,n)){if(!o(t))return"F";if(!e)return"E";i(t)}return t[n].objectID},getWeakData:function(t,e){if(!j(t,n)){if(!o(t))return!0;if(!e)return!1;i(t)}return t[n].weakData},onFreeze:function(t){return mn&&a.REQUIRED&&o(t)&&!j(t,n)&&i(t),t}};K[n]=!0}),bn=Bt("iterator"),_n=Array.prototype,wn=function(t){return void 0!==t&&(je.Array===t||_n[bn]===t)},xn={};xn[Bt("toStringTag")]="z";var kn="[object z]"===String(xn),In=Bt("toStringTag"),Tn="Arguments"==s(function(){return arguments}()),En=kn?s:function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),In))?n:Tn?s(e):"Object"==(r=s(e))&&"function"==typeof e.callee?"Arguments":r},Mn=Bt("iterator"),Sn=function(t){if(null!=t)return t[Mn]||t["@@iterator"]||je[En(t)]},An=function(t,e,n,r){try{return r?e(E(n)[0],n[1]):e(n)}catch(e){var o=t.return;throw void 0!==o&&E(o.call(t)),e}},Cn=e(function(t){var h=function(t,e){this.stopped=t,this.result=e};(t.exports=function(t,e,n,r,o){var i,a,s,c,u,l,f,p=re(e,n,r?2:1);if(o)i=t;else{if("function"!=typeof(a=Sn(t)))throw TypeError("Target is not iterable");if(wn(a)){for(s=0,c=ft(t.length);s<c;s++)if((u=r?p(E(f=t[s])[0],f[1]):p(t[s]))&&u instanceof h)return u;return new h(!1)}i=a.call(t)}for(l=i.next;!(f=l.call(i)).done;)if("object"==typeof(u=An(i,p,f.value,r))&&u&&u instanceof h)return u;return new h(!1)}).stop=function(t){return new h(!0,t)}}),zn=function(t,e,n){if(!(t instanceof e))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return t},Nn=Bt("iterator"),jn=!1;try{var On=0,Dn={next:function(){return{done:!!On++}},return:function(){jn=!0}};Dn[Nn]=function(){return this},Array.from(Dn,function(){throw 2})}catch(v){}var Ln=function(t,e){if(!e&&!jn)return!1;var n=!1;try{var r={};r[Nn]=function(){return{next:function(){return{done:n=!0}}}},t(r)}catch(t){}return n},Pn=function(t,e,n){var r,o;return qe&&"function"==typeof(r=e.constructor)&&r!==n&&N(o=r.prototype)&&o!==n.prototype&&qe(t,o),t},Rn=function(r,t,e){var n,o,i,a,s,c=-1!==r.indexOf("Map"),u=-1!==r.indexOf("Weak"),l=c?"set":"add",f=C[r],p=f&&f.prototype,h=f,d={},g=function(t){var n=p[t];rt(p,t,"add"==t?function(t){return n.call(this,0===t?0:t),this}:"delete"==t?function(t){return!(u&&!N(t))&&n.call(this,0===t?0:t)}:"get"==t?function(t){return u&&!N(t)?void 0:n.call(this,0===t?0:t)}:"has"==t?function(t){return!(u&&!N(t))&&n.call(this,0===t?0:t)}:function(t,e){return n.call(this,0===t?0:t,e),this})};return zt(r,"function"!=typeof f||!(u||p.forEach&&!m(function(){(new f).entries().next()})))?(h=e.getConstructor(t,r,c,l),yn.REQUIRED=!0):zt(r,!0)&&(o=(n=new h)[l](u?{}:-0,1)!=n,i=m(function(){n.has(1)}),a=Ln(function(t){new f(t)}),s=!u&&m(function(){for(var t=new f,e=5;e--;)t[l](e,e);return!t.has(-0)}),a||(((h=t(function(t,e){zn(t,h,r);var n=Pn(new f,t,h);return null!=e&&Cn(e,n[l],n,c),n})).prototype=p).constructor=h),(i||s)&&(g("delete"),g("has"),c&&g("get")),(s||o)&&g(l),u&&p.clear&&delete p.clear),d[r]=h,jt({global:!0,forced:h!=f},d),Fe(h,r),u||e.setStrong(h,r,c),h},$n=function(t,e,n){for(var r in e)rt(t,r,e[r],n);return t},Un=Bt("species"),Hn=function(t){var e=at(t),n=A.f;p&&e&&!e[Un]&&n(e,Un,{configurable:!0,get:function(){return this}})},Bn=A.f,Fn=yn.fastKey,Vn=nt.set,Wn=nt.getterFor,qn={getConstructor:function(t,n,r,o){var i=t(function(t,e){zn(t,i,n),Vn(t,{type:n,index:Ie(null),first:void 0,last:void 0,size:0}),p||(t.size=0),null!=e&&Cn(e,t[o],t,r)}),s=Wn(n),a=function(t,e,n){var r,o,i=s(t),a=c(t,e);return a?a.value=n:(i.last=a={index:o=Fn(e,!0),key:e,value:n,previous:r=i.last,next:void 0,removed:!1},i.first||(i.first=a),r&&(r.next=a),p?i.size++:t.size++,"F"!==o&&(i.index[o]=a)),t},c=function(t,e){var n,r=s(t),o=Fn(e);if("F"!==o)return r.index[o];for(n=r.first;n;n=n.next)if(n.key==e)return n};return $n(i.prototype,{clear:function(){for(var t=s(this),e=t.index,n=t.first;n;)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete e[n.index],n=n.next;t.first=t.last=void 0,p?t.size=0:this.size=0},delete:function(t){var e,n,r=this,o=s(r),i=c(r,t);return i&&(e=i.next,n=i.previous,delete o.index[i.index],i.removed=!0,n&&(n.next=e),e&&(e.previous=n),o.first==i&&(o.first=e),o.last==i&&(o.last=n),p?o.size--:r.size--),!!i},forEach:function(t){for(var e,n=s(this),r=re(t,1<arguments.length?arguments[1]:void 0,3);e=e?e.next:n.first;)for(r(e.value,e.key,this);e&&e.removed;)e=e.previous},has:function(t){return!!c(this,t)}}),$n(i.prototype,r?{get:function(t){var e=c(this,t);return e&&e.value},set:function(t,e){return a(this,0===t?0:t,e)}}:{add:function(t){return a(this,t=0===t?0:t,t)}}),p&&Bn(i.prototype,"size",{get:function(){return s(this).size}}),i},setStrong:function(t,e,n){var r=e+" Iterator",o=Wn(e),i=Wn(r);Ze(t,e,function(t,e){Vn(this,{type:r,target:t,state:o(t),kind:e,last:void 0})},function(){for(var t=i(this),e=t.kind,n=t.last;n&&n.removed;)n=n.previous;return t.target&&(t.last=n=n?n.next:t.state.first)?"keys"==e?{value:n.key,done:!1}:"values"==e?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:{value:t.target=void 0,done:!0}},n?"entries":"values",!n,!0),Hn(e)}},Yn=(Rn("Map",function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},qn),Object.assign),Jn=Object.defineProperty,Qn=!Yn||m(function(){if(p&&1!==Yn({b:1},Yn(Jn({},"a",{enumerable:!0,get:function(){Jn(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach(function(t){e[t]=t}),7!=Yn({},t)[n]||me(Yn({},e)).join("")!=r})?function(t,e){for(var n=Dt(t),r=arguments.length,o=1,i=xt.f,a=h.f;o<r;)for(var s,c=_(arguments[o++]),u=i?me(c).concat(i(c)):me(c),l=u.length,f=0;f<l;)s=u[f++],p&&!a.call(c,s)||(n[s]=c[s]);return n}:Yn;jt({target:"Object",stat:!0,forced:Object.assign!==Qn},{assign:Qn});var Gn=m(function(){me(1)});jt({target:"Object",stat:!0,forced:Gn},{keys:function(t){return me(Dt(t))}});var Zn=kn?{}.toString:function(){return"[object "+En(this)+"]"};kn||rt(Object.prototype,"toString",Zn,{unsafe:!0});var Kn,Xn,tr,er=C.Promise,nr=Bt("species"),rr=function(t,e){var n,r=E(t).constructor;return void 0===r||null==(n=E(r)[nr])?e:ne(n)},or=/(iphone|ipod|ipad).*applewebkit/i.test(Wt),ir=C.location,ar=C.setImmediate,sr=C.clearImmediate,cr=C.process,ur=C.MessageChannel,lr=C.Dispatch,fr=0,pr={},hr=function(t){var e;pr.hasOwnProperty(t)&&(e=pr[t],delete pr[t],e())},dr=function(t){return function(){hr(t)}},gr=function(t){hr(t.data)},vr=function(t){C.postMessage(t+"",ir.protocol+"//"+ir.host)};ar&&sr||(ar=function(t){for(var e=[],n=1;n<arguments.length;)e.push(arguments[n++]);return pr[++fr]=function(){("function"==typeof t?t:Function(t)).apply(void 0,e)},Kn(fr),fr},sr=function(t){delete pr[t]},"process"==s(cr)?Kn=function(t){cr.nextTick(dr(t))}:lr&&lr.now?Kn=function(t){lr.now(dr(t))}:ur&&!or?(tr=(Xn=new ur).port2,Xn.port1.onmessage=gr,Kn=re(tr.postMessage,tr,1)):!C.addEventListener||"function"!=typeof postMessage||C.importScripts||m(vr)||"file:"===ir.protocol?Kn="onreadystatechange"in b("script")?function(t){be.appendChild(b("script")).onreadystatechange=function(){be.removeChild(this),hr(t)}}:function(t){setTimeout(dr(t),0)}:(Kn=vr,C.addEventListener("message",gr,!1)));var mr,yr,br,_r,wr,xr,kr,Ir,Tr={set:ar,clear:sr},Er=O.f,Mr=Tr.set,Sr=C.MutationObserver||C.WebKitMutationObserver,Ar=C.process,Cr=C.Promise,zr="process"==s(Ar),Nr=Er(C,"queueMicrotask"),jr=Nr&&Nr.value;jr||(mr=function(){var t,e;for(zr&&(t=Ar.domain)&&t.exit();yr;){e=yr.fn,yr=yr.next;try{e()}catch(t){throw yr?_r():br=void 0,t}}br=void 0,t&&t.enter()},_r=zr?function(){Ar.nextTick(mr)}:Sr&&!or?(wr=!0,xr=document.createTextNode(""),new Sr(mr).observe(xr,{characterData:!0}),function(){xr.data=wr=!wr}):Cr&&Cr.resolve?(kr=Cr.resolve(void 0),Ir=kr.then,function(){Ir.call(kr,mr)}):function(){Mr.call(C,mr)});var Or,Dr,Lr,Pr,Rr=jr||function(t){var e={fn:t,next:void 0};br&&(br.next=e),yr||(yr=e,_r()),br=e},$r=function(t){var n,r;this.promise=new t(function(t,e){if(void 0!==n||void 0!==r)throw TypeError("Bad Promise constructor");n=t,r=e}),this.resolve=ne(n),this.reject=ne(r)},Ur={f:function(t){return new $r(t)}},Hr=function(t,e){if(E(t),N(e)&&e.constructor===t)return e;var n=Ur.f(t);return(0,n.resolve)(e),n.promise},Br=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}},Fr=Tr.set,Vr=Bt("species"),Wr="Promise",qr=nt.get,Yr=nt.set,Jr=nt.getterFor(Wr),Qr=er,Gr=C.TypeError,Zr=C.document,Kr=C.process,Xr=at("fetch"),to=Ur.f,eo=to,no="process"==s(Kr),ro=!!(Zr&&Zr.createEvent&&C.dispatchEvent),oo=zt(Wr,function(){if(B(Qr)===String(Qr)){if(66===Qt)return!0;if(!no&&"function"!=typeof PromiseRejectionEvent)return!0}if(51<=Qt&&/native code/.test(Qr))return!1;var t=Qr.resolve(1),e=function(t){t(function(){},function(){})};return(t.constructor={})[Vr]=e,!(t.then(function(){})instanceof e)}),io=oo||!Ln(function(t){Qr.all(t).catch(function(){})}),ao=function(t){var e;return!(!N(t)||"function"!=typeof(e=t.then))&&e},so=function(f,p,h){var d;p.notified||(p.notified=!0,d=p.reactions,Rr(function(){for(var t=p.value,e=1==p.state,n=0;d.length>n;){var r,o,i,a=d[n++],s=e?a.ok:a.fail,c=a.resolve,u=a.reject,l=a.domain;try{s?(e||(2===p.rejection&&fo(f,p),p.rejection=1),!0===s?r=t:(l&&l.enter(),r=s(t),l&&(l.exit(),i=!0)),r===a.promise?u(Gr("Promise-chain cycle")):(o=ao(r))?o.call(r,c,u):c(r)):u(t)}catch(t){l&&!i&&l.exit(),u(t)}}p.reactions=[],p.notified=!1,h&&!p.rejection&&uo(f,p)}))},co=function(t,e,n){var r,o;ro?((r=Zr.createEvent("Event")).promise=e,r.reason=n,r.initEvent(t,!1,!0),C.dispatchEvent(r)):r={promise:e,reason:n},(o=C["on"+t])?o(r):"unhandledrejection"===t&&function(t,e){var n=C.console;n&&n.error&&(1===arguments.length?n.error(t):n.error(t,e))}("Unhandled promise rejection",n)},uo=function(n,r){Fr.call(C,function(){var t,e=r.value;if(lo(r)&&(t=Br(function(){no?Kr.emit("unhandledRejection",e,n):co("unhandledrejection",n,e)}),r.rejection=no||lo(r)?2:1,t.error))throw t.value})},lo=function(t){return 1!==t.rejection&&!t.parent},fo=function(t,e){Fr.call(C,function(){no?Kr.emit("rejectionHandled",t):co("rejectionhandled",t,e.value)})},po=function(e,n,r,o){return function(t){e(n,r,t,o)}},ho=function(t,e,n,r){e.done||(e.done=!0,r&&(e=r),e.value=n,e.state=2,so(t,e,!0))},go=function(n,r,t,e){if(!r.done){r.done=!0,e&&(r=e);try{if(n===t)throw Gr("Promise can't be resolved itself");var o=ao(t);o?Rr(function(){var e={done:!1};try{o.call(t,po(go,n,e,r),po(ho,n,e,r))}catch(t){ho(n,e,t,r)}}):(r.value=t,r.state=1,so(n,r,!1))}catch(t){ho(n,{done:!1},t,r)}}};oo&&(Qr=function(t){zn(this,Qr,Wr),ne(t),Or.call(this);var e=qr(this);try{t(po(go,this,e),po(ho,this,e))}catch(t){ho(this,e,t)}},(Or=function(t){Yr(this,{type:Wr,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=$n(Qr.prototype,{then:function(t,e){var n=Jr(this),r=to(rr(this,Qr));return r.ok="function"!=typeof t||t,r.fail="function"==typeof e&&e,r.domain=no?Kr.domain:void 0,n.parent=!0,n.reactions.push(r),0!=n.state&&so(this,n,!1),r.promise},catch:function(t){return this.then(void 0,t)}}),Dr=function(){var t=new Or,e=qr(t);this.promise=t,this.resolve=po(go,t,e),this.reject=po(ho,t,e)},Ur.f=to=function(t){return t===Qr||t===Lr?new Dr(t):eo(t)},"function"==typeof er&&(Pr=er.prototype.then,rt(er.prototype,"then",function(t,e){var n=this;return new Qr(function(t,e){Pr.call(n,t,e)}).then(t,e)},{unsafe:!0}),"function"==typeof Xr&&jt({global:!0,enumerable:!0,forced:!0},{fetch:function(t){return Hr(Qr,Xr.apply(C,arguments))}}))),jt({global:!0,wrap:!0,forced:oo},{Promise:Qr}),Fe(Qr,Wr,!1),Hn(Wr),Lr=at(Wr),jt({target:Wr,stat:!0,forced:oo},{reject:function(t){var e=to(this);return e.reject.call(void 0,t),e.promise}}),jt({target:Wr,stat:!0,forced:oo},{resolve:function(t){return Hr(this,t)}}),jt({target:Wr,stat:!0,forced:io},{all:function(t){var s=this,e=to(s),c=e.resolve,u=e.reject,n=Br(function(){var r=ne(s.resolve),o=[],i=0,a=1;Cn(t,function(t){var e=i++,n=!1;o.push(void 0),a++,r.call(s,t).then(function(t){n||(n=!0,o[e]=t,--a||c(o))},u)}),--a||c(o)});return n.error&&u(n.value),e.promise},race:function(t){var n=this,r=to(n),o=r.reject,e=Br(function(){var e=ne(n.resolve);Cn(t,function(t){e.call(n,t).then(r.resolve,o)})});return e.error&&o(e.value),r.promise}});var vo=!!er&&m(function(){er.prototype.finally.call({then:function(){}},function(){})});jt({target:"Promise",proto:!0,real:!0,forced:vo},{finally:function(e){var n=rr(this,at("Promise")),t="function"==typeof e;return this.then(t?function(t){return Hr(n,e()).then(function(){return t})}:e,t?function(t){return Hr(n,e()).then(function(){throw t})}:e)}}),"function"!=typeof er||er.prototype.finally||rt(er.prototype,"finally",at("Promise").prototype.finally);var mo=function(){var t=E(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e},yo=RegExp.prototype,bo=yo.toString,_o=m(function(){return"/a/b"!=bo.call({source:"a",flags:"b"})}),wo="toString"!=bo.name;(_o||wo)&&rt(RegExp.prototype,"toString",function(){var t=E(this),e=String(t.source),n=t.flags;return"/"+e+"/"+String(void 0===n&&t instanceof RegExp&&!("flags"in yo)?mo.call(t):n)},{unsafe:!0});var xo=Bt("match"),ko=function(t){var e;return N(t)&&(void 0!==(e=t[xo])?!!e:"RegExp"==s(t))},Io=function(t){if(ko(t))throw TypeError("The method doesn't accept regular expressions");return t},To=Bt("match"),Eo=function(e){var n=/./;try{"/./"[e](n)}catch(t){try{return n[To]=!1,"/./"[e](n)}catch(e){}}return!1};jt({target:"String",proto:!0,forced:!Eo("includes")},{includes:function(t){return!!~String(f(this)).indexOf(Io(t),1<arguments.length?arguments[1]:void 0)}});var Mo=function(s){return function(t,e){var n,r,o=String(f(t)),i=ut(e),a=o.length;return i<0||a<=i?s?"":void 0:(n=o.charCodeAt(i))<55296||56319<n||i+1===a||(r=o.charCodeAt(i+1))<56320||57343<r?s?o.charAt(i):n:s?o.slice(i,i+2):r-56320+(n-55296<<10)+65536}},So={codeAt:Mo(!1),charAt:Mo(!0)},Ao=So.charAt,Co=nt.set,zo=nt.getterFor("String Iterator");Ze(String,"String",function(t){Co(this,{type:"String Iterator",string:String(t),index:0})},function(){var t,e=zo(this),n=e.string,r=e.index;return r>=n.length?{value:void 0,done:!0}:(t=Ao(n,r),e.index+=t.length,{value:t,done:!1})});var No=yn.getWeakData,jo=nt.set,Oo=nt.getterFor,Do=ae.find,Lo=ae.findIndex,Po=0,Ro=function(t){return t.frozen||(t.frozen=new $o)},$o=function(){this.entries=[]},Uo=function(t,e){return Do(t.entries,function(t){return t[0]===e})};$o.prototype={get:function(t){var e=Uo(this,t);if(e)return e[1]},has:function(t){return!!Uo(this,t)},set:function(t,e){var n=Uo(this,t);n?n[1]=e:this.entries.push([t,e])},delete:function(e){var t=Lo(this.entries,function(t){return t[0]===e});return~t&&this.entries.splice(t,1),!!~t}};var Ho={getConstructor:function(t,n,r,o){var i=t(function(t,e){zn(t,i,n),jo(t,{type:n,id:Po++,frozen:void 0}),null!=e&&Cn(e,t[o],t,r)}),a=Oo(n),s=function(t,e,n){var r=a(t),o=No(E(e),!0);return!0===o?Ro(r).set(e,n):o[r.id]=n,t};return $n(i.prototype,{delete:function(t){var e=a(this);if(!N(t))return!1;var n=No(t);return!0===n?Ro(e).delete(t):n&&j(n,e.id)&&delete n[e.id]},has:function(t){var e=a(this);if(!N(t))return!1;var n=No(t);return!0===n?Ro(e).has(t):n&&j(n,e.id)}}),$n(i.prototype,r?{get:function(t){var e=a(this);if(N(t)){var n=No(t);return!0===n?Ro(e).get(t):n?n[e.id]:void 0}},set:function(t,e){return s(this,t,e)}}:{add:function(t){return s(this,t,!0)}}),i}},Bo=(e(function(t){var r,e,n,o,i,a,s=nt.enforce,c=!C.ActiveXObject&&"ActiveXObject"in C,u=Object.isExtensible,l=function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},f=t.exports=Rn("WeakMap",l,Ho);V&&c&&(r=Ho.getConstructor(l,"WeakMap",!0),yn.REQUIRED=!0,e=f.prototype,n=e.delete,o=e.has,i=e.get,a=e.set,$n(e,{delete:function(t){if(!N(t)||u(t))return n.call(this,t);var e=s(this);return e.frozen||(e.frozen=new r),n.call(this,t)||e.frozen.delete(t)},has:function(t){if(!N(t)||u(t))return o.call(this,t);var e=s(this);return e.frozen||(e.frozen=new r),o.call(this,t)||e.frozen.has(t)},get:function(t){if(!N(t)||u(t))return i.call(this,t);var e=s(this);return e.frozen||(e.frozen=new r),o.call(this,t)?i.call(this,t):e.frozen.get(t)},set:function(t,e){var n;return N(t)&&!u(t)?((n=s(this)).frozen||(n.frozen=new r),o.call(this,t)?a.call(this,t,e):n.frozen.set(t,e)):a.call(this,t,e),this}}))}),function(){for(var t,e=E(this),n=ne(e.delete),r=!0,o=0,i=arguments.length;o<i;o++)t=n.call(e,arguments[o]),r=r&&t;return!!r});jt({target:"Map",proto:!0,real:!0,forced:!1},{deleteAll:function(){return Bo.apply(this,arguments)}});var Fo=function(t){return Map.prototype.entries.call(t)};jt({target:"Map",proto:!0,real:!0,forced:!1},{every:function(t){var n=E(this),e=Fo(n),r=re(t,1<arguments.length?arguments[1]:void 0,3);return!Cn(e,function(t,e){if(!r(e,t,n))return Cn.stop()},void 0,!0,!0).stopped}}),jt({target:"Map",proto:!0,real:!0,forced:!1},{filter:function(t){var n=E(this),e=Fo(n),r=re(t,1<arguments.length?arguments[1]:void 0,3),o=new(rr(n,at("Map"))),i=ne(o.set);return Cn(e,function(t,e){r(e,t,n)&&i.call(o,t,e)},void 0,!0,!0),o}}),jt({target:"Map",proto:!0,real:!0,forced:!1},{find:function(t){var n=E(this),e=Fo(n),r=re(t,1<arguments.length?arguments[1]:void 0,3);return Cn(e,function(t,e){if(r(e,t,n))return Cn.stop(e)},void 0,!0,!0).result}}),jt({target:"Map",proto:!0,real:!0,forced:!1},{findKey:function(t){var n=E(this),e=Fo(n),r=re(t,1<arguments.length?arguments[1]:void 0,3);return Cn(e,function(t,e){if(r(e,t,n))return Cn.stop(t)},void 0,!0,!0).result}}),jt({target:"Map",proto:!0,real:!0,forced:!1},{includes:function(n){return Cn(Fo(E(this)),function(t,e){if(e===n||e!=e&&n!=n)return Cn.stop()},void 0,!0,!0).stopped}}),jt({target:"Map",proto:!0,real:!0,forced:!1},{keyOf:function(n){return Cn(Fo(E(this)),function(t,e){if(e===n)return Cn.stop(t)},void 0,!0,!0).result}}),jt({target:"Map",proto:!0,real:!0,forced:!1},{mapKeys:function(t){var n=E(this),e=Fo(n),r=re(t,1<arguments.length?arguments[1]:void 0,3),o=new(rr(n,at("Map"))),i=ne(o.set);return Cn(e,function(t,e){i.call(o,r(e,t,n),e)},void 0,!0,!0),o}}),jt({target:"Map",proto:!0,real:!0,forced:!1},{mapValues:function(t){var n=E(this),e=Fo(n),r=re(t,1<arguments.length?arguments[1]:void 0,3),o=new(rr(n,at("Map"))),i=ne(o.set);return Cn(e,function(t,e){i.call(o,t,r(e,t,n))},void 0,!0,!0),o}}),jt({target:"Map",proto:!0,real:!0,forced:!1},{merge:function(t){for(var e=E(this),n=ne(e.set),r=0;r<arguments.length;)Cn(arguments[r++],n,e,!0);return e}}),jt({target:"Map",proto:!0,real:!0,forced:!1},{reduce:function(n){var r=E(this),t=Fo(r),o=arguments.length<2,i=o?void 0:arguments[1];if(ne(n),Cn(t,function(t,e){i=o?(o=!1,e):n(i,e,t,r)},void 0,!0,!0),o)throw TypeError("Reduce of empty map with no initial value");return i}}),jt({target:"Map",proto:!0,real:!0,forced:!1},{some:function(t){var n=E(this),e=Fo(n),r=re(t,1<arguments.length?arguments[1]:void 0,3);return Cn(e,function(t,e){if(r(e,t,n))return Cn.stop()},void 0,!0,!0).stopped}}),jt({target:"Map",proto:!0,real:!0,forced:!1},{update:function(t,e){var n=E(this),r=arguments.length;ne(e);var o=n.has(t);if(!o&&r<3)throw TypeError("Updating absent value");var i=o?n.get(t):ne(2<r?arguments[2]:void 0)(t,n);return n.set(t,e(i,t,n)),n}}),jt({target:"WeakMap",proto:!0,real:!0,forced:!1},{deleteAll:function(){return Bo.apply(this,arguments)}});var Vo,Wo={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0};for(Vo in Wo){var qo=C[Vo],Yo=qo&&qo.prototype;if(Yo&&Yo.forEach!==ge)try{D(Yo,"forEach",ge)}catch(v){Yo.forEach=ge}}var Jo,Qo=Bt("iterator"),Go=Bt("toStringTag"),Zo=tn.values;for(Jo in Wo){var Ko=C[Jo],Xo=Ko&&Ko.prototype;if(Xo){if(Xo[Qo]!==Zo)try{D(Xo,Qo,Zo)}catch(v){Xo[Qo]=Zo}if(Xo[Go]||D(Xo,Go,Jo),Wo[Jo])for(var ti in tn)if(Xo[ti]!==tn[ti])try{D(Xo,ti,tn[ti])}catch(v){Xo[ti]=tn[ti]}}}function Ic(t){return(Ic="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ei(t,e,n,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function ni(s){return function(){var t=this,a=arguments;return new Promise(function(e,n){var r=s.apply(t,a);function o(t){ei(r,e,n,o,i,"next",t)}function i(t){ei(r,e,n,o,i,"throw",t)}o(void 0)})}}function ri(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function oi(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ii(t,e,n){return e&&oi(t.prototype,e),n&&oi(t,n),t}function ai(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function si(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)),r}function ci(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?si(Object(n),!0).forEach(function(t){ai(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):si(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function ui(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&fi(t,e)}function li(t){return(li=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function fi(t,e){return(fi=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function pi(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}function hi(t,e,n){return(hi=pi()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var o=new(Function.bind.apply(t,r));return n&&fi(o,n.prototype),o}).apply(null,arguments)}function di(t){var n="function"==typeof Map?new Map:void 0;return(di=function(t){if(null===t||-1===Function.toString.call(t).indexOf("[native code]"))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==n){if(n.has(t))return n.get(t);n.set(t,e)}function e(){return hi(t,arguments,li(this).constructor)}return e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),fi(e,t)})(t)}function gi(t,e){if(null==t)return{};var n,r=function(t,e){if(null==t)return{};for(var n,r={},o=Object.keys(t),i=0;i<o.length;i++)n=o[i],0<=e.indexOf(n)||(r[n]=t[n]);return r}(t,e);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(t),i=0;i<o.length;i++)n=o[i],0<=e.indexOf(n)||Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n]);return r}function vi(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function mi(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?vi(t):e}function yi(n){var r=pi();return function(){var t,e=li(n);return mi(this,r?(t=li(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments))}}function bi(t,e){return xi(t)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}}(t,e)||Ii(t,e)||Ei()}function _i(t){return xi(t)||ki(t)||Ii(t)||Ei()}function wi(t){return function(t){if(Array.isArray(t))return Ti(t)}(t)||ki(t)||Ii(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xi(t){if(Array.isArray(t))return t}function ki(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function Ii(t,e){if(t){if("string"==typeof t)return Ti(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ti(t,e):void 0}}function Ti(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ei(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Mi(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=Ii(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function Si(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0===n)return("string"===e?String:Number)(t);var r=n.call(t,e||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}(t,"string");return"symbol"==typeof e?e:String(e)}e(function(t){var e=function(a){var c,t=Object.prototype,l=t.hasOwnProperty,e="function"==typeof Symbol?Symbol:{},o=e.iterator||"@@iterator",n=e.asyncIterator||"@@asyncIterator",r=e.toStringTag||"@@toStringTag";function i(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{i({},"")}catch(a){i=function(t,e,n){return t[e]=n}}function s(t,e,n,r){var i,a,s,c,o=e&&e.prototype instanceof m?e:m,u=Object.create(o.prototype),l=new S(r||[]);return u._invoke=(i=t,a=n,s=l,c=p,function(t,e){if(c===d)throw new Error("Generator is already running");if(c===g){if("throw"===t)throw e;return C()}for(s.method=t,s.arg=e;;){var n=s.delegate;if(n){var r=T(n,s);if(r){if(r===v)continue;return r}}if("next"===s.method)s.sent=s._sent=s.arg;else if("throw"===s.method){if(c===p)throw c=g,s.arg;s.dispatchException(s.arg)}else"return"===s.method&&s.abrupt("return",s.arg);c=d;var o=f(i,a,s);if("normal"===o.type){if(c=s.done?g:h,o.arg===v)continue;return{value:o.arg,done:s.done}}"throw"===o.type&&(c=g,s.method="throw",s.arg=o.arg)}}),u}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}a.wrap=s;var p="suspendedStart",h="suspendedYield",d="executing",g="completed",v={};function m(){}function u(){}function y(){}var b={};b[o]=function(){return this};var _=Object.getPrototypeOf,w=_&&_(_(A([])));w&&w!==t&&l.call(w,o)&&(b=w);var x=y.prototype=m.prototype=Object.create(b);function k(t){["next","throw","return"].forEach(function(e){i(t,e,function(t){return this._invoke(e,t)})})}function I(s,c){function u(t,e,n,r){var o=f(s[t],s,e);if("throw"!==o.type){var i=o.arg,a=i.value;return a&&"object"==typeof a&&l.call(a,"__await")?c.resolve(a.__await).then(function(t){u("next",t,n,r)},function(t){u("throw",t,n,r)}):c.resolve(a).then(function(t){i.value=t,n(i)},function(t){return u("throw",t,n,r)})}r(o.arg)}var e;this._invoke=function(n,r){function t(){return new c(function(t,e){u(n,r,t,e)})}return e=e?e.then(t,t):t()}}function T(t,e){var n=t.iterator[e.method];if(n===c){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=c,T(t,e),"throw"===e.method))return v;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var r=f(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,v;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=c),e.delegate=null,v):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,v)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function M(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function S(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function A(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,r=function t(){for(;++n<e.length;)if(l.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=c,t.done=!0,t};return r.next=r}}return{next:C}}function C(){return{value:c,done:!0}}return((u.prototype=x.constructor=y).constructor=u).displayName=i(y,r,"GeneratorFunction"),a.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===u||"GeneratorFunction"===(e.displayName||e.name))},a.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,i(t,r,"GeneratorFunction")),t.prototype=Object.create(x),t},a.awrap=function(t){return{__await:t}},k(I.prototype),I.prototype[n]=function(){return this},a.AsyncIterator=I,a.async=function(t,e,n,r,o){void 0===o&&(o=Promise);var i=new I(s(t,e,n,r),o);return a.isGeneratorFunction(e)?i:i.next().then(function(t){return t.done?t.value:i.next()})},k(x),i(x,r,"Generator"),x[o]=function(){return this},x.toString=function(){return"[object Generator]"},a.keys=function(n){var t,r=[];for(t in n)r.push(t);return r.reverse(),function t(){for(;r.length;){var e=r.pop();if(e in n)return t.value=e,t.done=!1,t}return t.done=!0,t}},a.values=A,S.prototype={constructor:S,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=c,this.done=!1,this.delegate=null,this.method="next",this.arg=c,this.tryEntries.forEach(M),!t)for(var e in this)"t"===e.charAt(0)&&l.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=c)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var r=this;function t(t,e){return i.type="throw",i.arg=n,r.next=t,e&&(r.method="next",r.arg=c),!!e}for(var e=this.tryEntries.length-1;0<=e;--e){var o=this.tryEntries[e],i=o.completion;if("root"===o.tryLoc)return t("end");if(o.tryLoc<=this.prev){var a=l.call(o,"catchLoc"),s=l.call(o,"finallyLoc");if(a&&s){if(this.prev<o.catchLoc)return t(o.catchLoc,!0);if(this.prev<o.finallyLoc)return t(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return t(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return t(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;0<=n;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&l.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),M(n),v}},catch:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r,o=n.completion;return"throw"===o.type&&(r=o.arg,M(n)),r}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:A(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=c),v}},a}(t.exports);try{regeneratorRuntime=e}catch(t){Function("r","regeneratorRuntime = r")(e)}});var Ai=A.f,Ci=Function.prototype,zi=Ci.toString,Ni=/^\s*function ([^ (]*)/;!p||"name"in Ci||Ai(Ci,"name",{configurable:!0,get:function(){try{return zi.call(this).match(Ni)[1]}catch(t){return""}}});var ji=!Ln(function(t){Array.from(t)});jt({target:"Array",stat:!0,forced:ji},{from:function(t){var e,n,r,o,i,a,s=Dt(t),c="function"==typeof this?this:Array,u=arguments.length,l=1<u?arguments[1]:void 0,f=void 0!==l,p=Sn(s),h=0;if(f&&(l=re(l,2<u?arguments[2]:void 0,2)),null==p||c==Array&&wn(p))for(n=new c(e=ft(s.length));h<e;h++)a=f?l(s[h],h):s[h],Lt(n,h,a);else for(i=(o=p.call(s)).next,n=new c;!(r=i.call(o)).done;h++)a=f?An(o,l,[r.value,h],!0):r.value,Lt(n,h,a);return n.length=h,n}}),jt({target:"Array",stat:!0},{isArray:Ot});var Oi=ae.some,Di=se("some"),Li=fe("some");jt({target:"Array",proto:!0,forced:!Di||!Li},{some:function(t){return Oi(this,t,1<arguments.length?arguments[1]:void 0)}});var Pi=[].slice,Ri=/MSIE .\./.test(Wt),$i=function(o){return function(t,e){var n=2<arguments.length,r=n?Pi.call(arguments,2):void 0;return o(n?function(){("function"==typeof t?t:Function(t)).apply(this,r)}:t,e)}};jt({global:!0,bind:!0,forced:Ri},{setTimeout:$i(C.setTimeout),setInterval:$i(C.setInterval)});var Ui=vt.indexOf,Hi=[].indexOf,Bi=!!Hi&&1/[1].indexOf(1,-0)<0,Fi=se("indexOf"),Vi=fe("indexOf",{ACCESSORS:!0,1:0});jt({target:"Array",proto:!0,forced:Bi||!Fi||!Vi},{indexOf:function(t){return Bi?Hi.apply(this,arguments)||0:Ui(this,t,1<arguments.length?arguments[1]:void 0)}});var Wi=Zt("splice"),qi=fe("splice",{ACCESSORS:!0,0:0,1:2}),Yi=Math.max,Ji=Math.min;function Qi(t,e){var n=t.indexOf(e);return!!~n&&(t.splice(n,1),!0)}jt({target:"Array",proto:!0,forced:!Wi||!qi},{splice:function(t,e){var n,r,o,i,a,s,c=Dt(this),u=ft(c.length),l=dt(t,u),f=arguments.length;if(0===f?n=r=0:r=1===f?(n=0,u-l):(n=f-2,Ji(Yi(ut(e),0),u-l)),9007199254740991<u+n-r)throw TypeError("Maximum allowed length exceeded");for(o=Vt(c,r),i=0;i<r;i++)(a=l+i)in c&&Lt(o,i,c[a]);if(n<(o.length=r)){for(i=l;i<u-r;i++)s=i+n,(a=i+r)in c?c[s]=c[a]:delete c[s];for(i=u;u-r+n<i;i--)delete c[i-1]}else if(r<n)for(i=u-r;l<i;i--)s=i+n-1,(a=i+r-1)in c?c[s]=c[a]:delete c[s];for(i=0;i<n;i++)c[i+l]=arguments[i+2];return c.length=u-r+n,o}});var Gi=(ii(Zi,[{key:"on",value:function(t,e){var n=this.map.get(t);return n||(n=[],this.map.set(t,n)),n.push(e),Qi.bind(null,n,e)}},{key:"off",value:function(t,e){var n=this.map.get(t);return!!n&&Qi(n,e)}},{key:"emit",value:function(t,e){var n=this.map.get(t);n&&n.forEach(function(t){return t(e)})}},{key:"clear",value:function(){this.map.clear()}}]),Zi);function Zi(){ri(this,Zi),ai(this,"map",new Map)}var Ki,Xi=function(){},ta=(ii(aa,[{key:"use",value:function(t){this.filters.push(ci(ci({success:Xi},t),{},{timerMap:new Map}))}},{key:"cleanAll",value:function(){for(var t=0,e=this.filters.length;t<e;t++){var n=this.filters[t];this.cleanItem(n)}}},{key:"cleanItem",value:function(t){var e,n=Mi(t.timerMap.keys());try{for(n.s();!(e=n.n()).done;){var r=e.value,o=t.timerMap.get(r);o&&clearTimeout(o),t.timerMap.delete(r)}}catch(t){n.e(t)}finally{n.f()}}},{key:"sendData",value:function(i){for(var a=this,t=function(t,e){var n,r=a.filters[t],o=r.format(i);o&&(n=setTimeout(function(){r.timerMap.delete(o),r.handler(i)},r.timeout),r.timerMap.set(o,n))},e=0,n=this.filters.length;e<n;e++)t(e)}},{key:"onData",value:function(t){for(var e=0,n=this.filters.length;e<n;e++){var r,o=this.filters[e],i=o.parse(t);!i||(r=o.timerMap.get(i))&&(clearTimeout(r),o.timerMap.delete(i),o.success(t))}}}]),aa),ea=Zt("slice"),na=fe("slice",{ACCESSORS:!0,0:0,1:2}),ra=Bt("species"),oa=[].slice,ia=Math.max;function aa(){ri(this,aa),ai(this,"filters",[])}jt({target:"Array",proto:!0,forced:!ea||!na},{slice:function(t,e){var n,r,o,i=u(this),a=ft(i.length),s=dt(t,a),c=dt(void 0===e?a:e,a);if(Ot(i)&&(("function"==typeof(n=i.constructor)&&(n===Array||Ot(n.prototype))||N(n)&&null===(n=n[ra]))&&(n=void 0),n===Array||void 0===n))return oa.call(i,s,c);for(r=new(void 0===n?Array:n)(ia(c-s,0)),o=0;s<c;s++,o++)s in i&&Lt(r,o,i[s]);return r.length=o,r}});var sa={host:"docs_block",locale:"zh-CN",env:"online",debug:!1,region:"feishu",platform:"pc"};function ca(t){return Object.assign(sa,t)}var ua,la,fa="default_".concat(Math.random().toString(36).slice(2));(la=ua=ua||{}).getBlockList="getBlockList",la.generateBlock="generateBlock",la.getBlockEntity="getBlockEntity",la.getAuthToken="getAuthToken",la.getBlockEntityV2="getBlockEntityV2";var pa=(ai(Ki={},ua.getBlockList,{method:"POST",subDomain:"internal-api",path:"/lark/app_explorer/api/GetBlockTemplateList"}),ai(Ki,ua.generateBlock,{method:"POST",subDomain:"open",path:"/open-apis/block/server/api/CreateBlockEntity"}),ai(Ki,ua.getBlockEntity,{method:"POST",subDomain:"open",path:"/open-apis/block/server/api/MGetBlockEntityV2"}),ai(Ki,ua.getAuthToken,{method:"POST",subDomain:"open",path:"/open-apis/block/server/api/GetHttpAuth"}),ai(Ki,ua.getBlockEntityV2,{method:"POST",subDomain:"open",path:"/open-apis/block/server/api/client/GetBlockEntity"}),Ki),ha="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{};function da(t){var e={exports:{}};return t(e,e.exports),e.exports}var ga=function(t){return t&&t.Math==Math&&t},va=ga("object"==typeof globalThis&&globalThis)||ga("object"==typeof window&&window)||ga("object"==typeof self&&self)||ga("object"==typeof ha&&ha)||function(){return this}()||Function("return this")(),ma=function(t){try{return!!t()}catch(t){return!0}},ya=!ma(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}),ba={}.propertyIsEnumerable,_a=Object.getOwnPropertyDescriptor,wa={f:_a&&!ba.call({1:2},1)?function(t){var e=_a(this,t);return!!e&&e.enumerable}:ba},xa=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},ka={}.toString,Ia=function(t){return ka.call(t).slice(8,-1)},Ta="".split,Ea=ma(function(){return!Object("z").propertyIsEnumerable(0)})?function(t){return"String"==Ia(t)?Ta.call(t,""):Object(t)}:Object,Ma=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t},Sa=function(t){return Ea(Ma(t))},Aa=function(t){return"object"==typeof t?null!==t:"function"==typeof t},Ca=function(t,e){if(!Aa(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!Aa(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!Aa(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!Aa(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")},za={}.hasOwnProperty,Na=function(t,e){return za.call(t,e)},ja=va.document,Oa=Aa(ja)&&Aa(ja.createElement),Da=!ya&&!ma(function(){return 7!=Object.defineProperty(Oa?ja.createElement("div"):{},"a",{get:function(){return 7}}).a}),La=Object.getOwnPropertyDescriptor,Pa={f:ya?La:function(t,e){if(t=Sa(t),e=Ca(e,!0),Da)try{return La(t,e)}catch(t){}if(Na(t,e))return xa(!wa.f.call(t,e),t[e])}},Ra=function(t){if(!Aa(t))throw TypeError(String(t)+" is not an object");return t},$a=Object.defineProperty,Ua={f:ya?$a:function(t,e,n){if(Ra(t),e=Ca(e,!0),Ra(n),Da)try{return $a(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},Ha=ya?function(t,e,n){return Ua.f(t,e,xa(1,n))}:function(t,e,n){return t[e]=n,t},Ba=function(e,n){try{Ha(va,e,n)}catch(t){va[e]=n}return n},Fa=va["__core-js_shared__"]||Ba("__core-js_shared__",{}),Va=Function.toString;"function"!=typeof Fa.inspectSource&&(Fa.inspectSource=function(t){return Va.call(t)});var Wa,qa,Ya,Ja,Qa,Ga,Za,Ka,Xa,ts=Fa.inspectSource,es=va.WeakMap,ns="function"==typeof es&&/native code/.test(ts(es)),rs=da(function(t){(t.exports=function(t,e){return Fa[t]||(Fa[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.8.2",mode:"global",copyright:"Â© 2021 Denis Pushkarev (zloirock.ru)"})}),os=0,is=Math.random(),as=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++os+is).toString(36)},ss=rs("keys"),cs={},us=va.WeakMap;Za=ns?(Wa=Fa.state||(Fa.state=new us),qa=Wa.get,Ya=Wa.has,Ja=Wa.set,Qa=function(t,e){return e.facade=t,Ja.call(Wa,t,e),e},Ga=function(t){return qa.call(Wa,t)||{}},function(t){return Ya.call(Wa,t)}):(Ka=ss[Xa="state"]||(ss[Xa]=as(Xa)),cs[Ka]=!0,Qa=function(t,e){return e.facade=t,Ha(t,Ka,e),e},Ga=function(t){return Na(t,Ka)?t[Ka]:{}},function(t){return Na(t,Ka)});var ls,fs,ps,hs={set:Qa,get:Ga,has:Za,enforce:function(t){return Za(t)?Ga(t):Qa(t,{})},getterFor:function(n){return function(t){var e;if(!Aa(t)||(e=Ga(t)).type!==n)throw TypeError("Incompatible receiver, "+n+" required");return e}}},ds=da(function(t){var e=hs.get,c=hs.enforce,u=String(String).split("String");(t.exports=function(t,e,n,r){var o,i=!!r&&!!r.unsafe,a=!!r&&!!r.enumerable,s=!!r&&!!r.noTargetGet;"function"==typeof n&&("string"!=typeof e||Na(n,"name")||Ha(n,"name",e),(o=c(n)).source||(o.source=u.join("string"==typeof e?e:""))),t!==va?(i?!s&&t[e]&&(a=!0):delete t[e],a?t[e]=n:Ha(t,e,n)):a?t[e]=n:Ba(e,n)})(Function.prototype,"toString",function(){return"function"==typeof this&&e(this).source||ts(this)})}),gs=va,vs=function(t){return"function"==typeof t?t:void 0},ms=Math.ceil,ys=Math.floor,bs=function(t){return isNaN(t=+t)?0:(0<t?ys:ms)(t)},_s=Math.min,ws=function(t){return 0<t?_s(bs(t),9007199254740991):0},xs=Math.max,ks=Math.min,Is=function(u){return function(t,e,n){var r,o,i,a=Sa(t),s=ws(a.length),c=(o=s,(i=bs(n))<0?xs(i+o,0):ks(i,o));if(u&&e!=e){for(;c<s;)if((r=a[c++])!=r)return!0}else for(;c<s;c++)if((u||c in a)&&a[c]===e)return u||c||0;return!u&&-1}},Ts=(Is(!0),Is(!1)),Es=function(t,e){var n,r=Sa(t),o=0,i=[];for(n in r)!Na(cs,n)&&Na(r,n)&&i.push(n);for(;e.length>o;)Na(r,n=e[o++])&&(~Ts(i,n)||i.push(n));return i},Ms=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Ss=Ms.concat("length","prototype"),As={f:Object.getOwnPropertyNames||function(t){return Es(t,Ss)}},Cs={f:Object.getOwnPropertySymbols},zs=function(t,e){return arguments.length<2?vs(gs[t])||vs(va[t]):gs[t]&&gs[t][e]||va[t]&&va[t][e]}("Reflect","ownKeys")||function(t){var e=As.f(Ra(t)),n=Cs.f;return n?e.concat(n(t)):e},Ns=function(t,e){for(var n=zs(e),r=Ua.f,o=Pa.f,i=0;i<n.length;i++){var a=n[i];Na(t,a)||r(t,a,o(e,a))}},js=/#|\.prototype\./,Os=function(t,e){var n=Ls[Ds(t)];return n==Rs||n!=Ps&&("function"==typeof e?ma(e):!!e)},Ds=Os.normalize=function(t){return String(t).replace(js,".").toLowerCase()},Ls=Os.data={},Ps=Os.NATIVE="N",Rs=Os.POLYFILL="P",$s=Os,Us=Pa.f,Hs=function(t,e){var n,r,o,i,a,s=t.target,c=t.global,u=t.stat;if(n=c?va:u?va[s]||Ba(s,{}):(va[s]||{}).prototype)for(r in e){if(i=e[r],o=t.noTargetGet?(a=Us(n,r))&&a.value:n[r],!$s(c?r:s+(u?".":"#")+r,t.forced)&&void 0!==o){if(typeof i==typeof o)continue;Ns(i,o)}(t.sham||o&&o.sham)&&Ha(i,"sham",!0),ds(n,r,i,t)}},Bs=function(r,o,t){if(function(){if("function"!=typeof r)throw TypeError(String(r)+" is not a function")}(),void 0===o)return r;switch(t){case 0:return function(){return r.call(o)};case 1:return function(t){return r.call(o,t)};case 2:return function(t,e){return r.call(o,t,e)};case 3:return function(t,e,n){return r.call(o,t,e,n)}}return function(){return r.apply(o,arguments)}},Fs=function(t){return Object(Ma(t))},Vs=Array.isArray||function(t){return"Array"==Ia(t)},Ws=!!Object.getOwnPropertySymbols&&!ma(function(){return!String(Symbol())}),qs=Ws&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,Ys=rs("wks"),Js=va.Symbol,Qs=qs?Js:Js&&Js.withoutSetter||as,Gs=(Na(Ys,ps="species")||(Ws&&Na(Js,ps)?Ys[ps]=Js[ps]:Ys[ps]=Qs("Symbol."+ps)),Ys[ps]),Zs=function(t,e){var n;return Vs(t)&&("function"==typeof(n=t.constructor)&&(n===Array||Vs(n.prototype))||Aa(n)&&null===(n=n[Gs]))&&(n=void 0),new(void 0===n?Array:n)(0===e?0:e)},Ks=[].push,Xs=function(h){var d=1==h,g=2==h,v=3==h,m=4==h,y=6==h,b=7==h,_=5==h||y;return function(t,e,n,r){for(var o,i,a=Fs(t),s=Ea(a),c=Bs(e,n,3),u=ws(s.length),l=0,f=r||Zs,p=d?f(t,u):g||b?f(t,0):void 0;l<u;l++)if((_||l in s)&&(i=c(o=s[l],l,a),h))if(d)p[l]=i;else if(i)switch(h){case 3:return!0;case 5:return o;case 6:return l;case 2:Ks.call(p,o)}else switch(h){case 4:return!1;case 7:Ks.call(p,o)}return y?-1:v||m?m:p}},tc={forEach:Xs(0),map:Xs(1),filter:Xs(2),some:Xs(3),every:Xs(4),find:Xs(5),findIndex:Xs(6),filterOut:Xs(7)},ec=Object.defineProperty,nc={},rc=function(t){throw t},oc=tc.forEach,ic=!!(fs=[]["forEach"])&&ma(function(){fs.call(null,ls||function(){throw 1},1)}),ac=function(t,e){if(Na(nc,t))return nc[t];var n=[][t],r=!!Na(e=e||{},"ACCESSORS")&&e.ACCESSORS,o=Na(e,0)?e[0]:rc,i=Na(e,1)?e[1]:void 0;return nc[t]=!!n&&!ma(function(){if(r&&!ya)return!0;var t={length:-1};r?ec(t,1,{enumerable:!0,get:rc}):t[1]=1,n.call(t,o,i)})}("forEach"),sc=ic&&ac?[].forEach:function(t){return oc(this,t,1<arguments.length?arguments[1]:void 0)};Hs({target:"Array",proto:!0,forced:[].forEach!=sc},{forEach:sc});var cc,uc,lc,fc,pc,hc,dc,gc,vc,mc=Function.call;function yc(t,e){if(!t)throw new TypeError("Invalid argument");var n,r=document.implementation.createHTMLDocument("");e&&((n=r.createElement("base")).href=e,r.head.appendChild(n));var o=r.createElement("a");if(o.href=t,r.body.appendChild(o),":"===o.protocol||!/:/.test(o.href))throw new TypeError("Invalid URL");Object.defineProperty(this,"_anchorElement",{value:o})}cc="forEach",Bs(mc,va.Array.prototype[cc],uc),!(hc=void 0!==ha?ha:"undefined"!=typeof window?window:"undefined"!=typeof self?self:ha)||"href"in(null!==(gc=null===(dc=hc.URL)||void 0===dc?void 0:dc.prototype)&&void 0!==gc?gc:{})||(yc.prototype={toString:function(){return this.href},get href(){return this._anchorElement.href},set href(t){this._anchorElement.href=t},get protocol(){return this._anchorElement.protocol},set protocol(t){this._anchorElement.protocol=t},get host(){return this._anchorElement.host},set host(t){this._anchorElement.host=t},get hostname(){return this._anchorElement.hostname},set hostname(t){this._anchorElement.hostname=t},get port(){return this._anchorElement.port},set port(t){this._anchorElement.port=t},get pathname(){return this._anchorElement.pathname},set pathname(t){this._anchorElement.pathname=t},get search(){return this._anchorElement.search},set search(t){this._anchorElement.search=t},get hash(){return this._anchorElement.hash},set hash(t){this._anchorElement.hash=t}},vc=hc.URL||hc.webkitURL||hc.mozURL,yc.createObjectURL=function(t){return vc.createObjectURL(t)},yc.revokeObjectURL=function(t){return vc.revokeObjectURL(t)},Object.defineProperty(yc.prototype,"toString",{enumerable:!1}),hc.URL=yc),Element.prototype.addEventListener||(lc=[],fc=function(t,e){var n,r,o=this,i=function(t){t.target=t.srcElement,t.currentTarget=o,void 0!==e.handleEvent?e.handleEvent(t):e.call(o,t)};"DOMContentLoaded"===t?(n=function(t){"complete"===document.readyState&&i(t)},document.attachEvent("onreadystatechange",n),lc.push({object:this,type:t,listener:e,wrapper:n}),"complete"===document.readyState&&((r=new Event).srcElement=window,n(r))):(this.attachEvent("on"+t,i),lc.push({object:this,type:t,listener:e,wrapper:i}))},pc=function(t,e){for(var n=0;n<lc.length;){var r=lc[n];if(r.object===this&&r.type===t&&r.listener===e){"DOMContentLoaded"===t?this.detachEvent("onreadystatechange",r.wrapper):this.detachEvent("on"+t,r.wrapper),lc.splice(n,1);break}++n}},Element.prototype.addEventListener=fc,Element.prototype.removeEventListener=pc,HTMLDocument&&!HTMLDocument.prototype.addEventListener&&(HTMLDocument.prototype.addEventListener=fc,HTMLDocument.prototype.removeEventListener=pc),Window&&!Window.prototype.addEventListener&&(Window.prototype.addEventListener=fc,Window.prototype.removeEventListener=pc));var bc=Object.keys||function(t){return Es(t,Ms)};Hs({target:"Object",stat:!0,forced:ma(function(){bc(1)})},{keys:function(t){return bc(Fs(t))}}),gs.Object.keys;var _c=function(t,e){return(_c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function wc(t,e){function n(){this.constructor=t}_c(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var xc=function(){return(xc=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function kc(t,e){var n={};for(o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.indexOf(o)<0&&(n[o]=t[o]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,o=Object.getOwnPropertySymbols(t);r<o.length;r++)e.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(t,o[r])&&(n[o[r]]=t[o[r]]);return n}function Tc(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ec(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||0<e--)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function Mc(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Ec(arguments[e]));return t}function Sc(t){return"object"==typeof t&&null!==t&&!zc(t)}function Ac(t){return"function"==typeof t}function Cc(t){return"[object String]"===Object.prototype.toString.call(t)}function zc(t){return"[object Array]"===Object.prototype.toString.call(t)}function Nc(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function jc(t,e){if(Sc(t))for(var n in t)Nc(t,n)&&e.call(null,n,t[n])}function Oc(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n={},r=0;r<t.length;)n=Rc(n,t[r]),r++;return n}var Dc=Object.getPrototypeOf?Object.getPrototypeOf({}):null;function Lc(t){return Object.getPrototypeOf?Object.getPrototypeOf(t)===Dc:t.constructor===Object}function Pc(t,e){var n,r=xc({},t);for(n in e)Object.prototype.hasOwnProperty.call(e,n)&&void 0!==e[n]&&(Sc(e[n])&&Lc(e[n])?r[n]=Rc(Sc(t[n])?t[n]:{},e[n]):zc(e[n])?r[n]=e[n].slice():r[n]=e[n]);return r}function Rc(t,e){var n,r=xc({},t);for(n in e)Object.prototype.hasOwnProperty.call(e,n)&&void 0!==e[n]&&(Sc(e[n])&&Lc(e[n])?r[n]=Rc(Sc(t[n])?t[n]:{},e[n]):zc(t[n])||zc(e[n])?r[n]=$c(t[n],e[n]):r[n]=e[n]);return r}function $c(t,e){var n=zc(t)?t:[],r=zc(e)?e:[];return Array.prototype.concat.call(n,r).map(function(t){return!(t instanceof RegExp)&&(zc(t)||Sc(t)&&Lc(t))?zc(t)?$c([],t):Rc({},t):t})}function Uc(t,e){if(!zc(t))return!1;if(0===t.length)return!1;for(var n=0;n<t.length;){if(t[n]===e)return!0;n++}return!1}function Hc(){return!!Sc(window)}function Bc(){return!(!Hc()||!Sc(window.performance)||!Sc(window.performance.timing))}function Fc(t){var e,n,r=(e=function(t){if(!Sc(t))return{};var n={};return jc(t,function(t,e){Sc(e)||zc(e)?n[t]=JSON.stringify(e):n[t]=e}),n}(t),n={},jc(e,function(t,e){n[encodeURIComponent(t)]=encodeURIComponent(e)}),n),o=[];return jc(r,function(t,e){o.push(t+"="+e)}),o.join("&")}function Vc(t){var e=document.createElement("a");e.href=t;var n=e.pathname||"/";return"/"!==n[0]&&(n="/"+n),{href:e.href,protocol:e.protocol.slice(0,-1),hostname:e.hostname,host:e.host,search:e.search,pathname:n,hash:e.hash}}function Wc(){}function qc(t){var e="[object String]"===Object.prototype.toString.call(t);return t?e?t.length:ArrayBuffer&&t instanceof ArrayBuffer?t.byteLength:window.Blob&&t instanceof Blob?t.size:t.length||0:0}function Yc(t){if(!t)return"";if(!Ac(t.forEach))return"";var r=[];return t.forEach(function(t){var e,n;zc(t)&&t[0]&&!function(t){if(Cc(t)){var e=t;return Ac(e.toLowerCase)&&(e=e.toLowerCase()),Uc(["x-tt-token"],e)}}(t[0])&&(e=t[0],n=t[1]||"",r.push(e+": "+n))}),r.join("\r\n")}function Jc(t){var e={},n=Vc(t);return e.ax_protocol=n.protocol,e.ax_domain=n.hostname,e.ax_path=n.pathname,e.ax_url=(n.href||t).split("?")[0],e}function Qc(t){return zc(t)&&t.length?function(t){for(var e=[],n=t.length,r=0;r<n;r++){var o=t[r];Cc(o)?e.push(o.replace(/([.*+?^=!:${}()|[\]/\\])/g,"\\$1")):o&&o.source&&e.push(o.source)}return new RegExp(e.join("|"),"i")}(t):null}function Gc(t){return!!t&&Math.random()<Number(t)}var Zc=(Kc.post=function(t,e,n){var r=n&&n.success||Wc,o=n&&n.fail||Wc,i=new XMLHttpRequest;i.open("POST",t,!0),i.setRequestHeader("Content-Type","application/json"),i.send(JSON.stringify(e)),i.onload=function(){try{var t;this.responseText?(t=JSON.parse(this.responseText),r(t)):r({})}catch(t){o()}},i.onerror=function(){o()},i.onabort=function(){o()}},Kc.get=function(t,e){var n=e&&e.success||Wc,r=e&&e.fail||Wc,o=e&&e.getResponse||Wc,i=e&&e.getResponseText||Wc,a=new XMLHttpRequest;e&&e.withCredentials&&(a.withCredentials=e.withCredentials),a.open("GET",t),a.send(),a.onload=function(){o(null==this?void 0:this.response),i(this.responseText);try{var t;this.responseText?(t=JSON.parse(this.responseText),n(t)):n({})}catch(t){r()}},a.onerror=function(){r()},a.onabort=function(){r()}},Kc.prototype.getCommonParams=function(){return{timestamp:Date.now()}},Kc);function Kc(t){var r=this;this.postEvent=function(t){var e=xc(xc({},t),r.getCommonParams());Kc.post(r.url,e)},this.getEvent=function(t){var e=Fc(xc(xc({},t),r.getCommonParams())),n=r.url+"?"+e;Kc.get(n)},this.getURL=function(){return r.url},this.options=t,this.url=this.options.reportURL}function Xc(t,e,n){if(void 0===n&&(n="0"),1<n.length)throw new TypeError("expect the length of pad to be 1, but got "+t.length);return t.length>=e?t:""+Array.from({length:e-t.length}).fill(n).join("")+t}function tu(t){return t?Math.floor(Math.random()*Math.pow(10,12)).toString(16).substr(0,t):""}function eu(i,t,e){void 0===e&&(e="01");var n=""+Xc((Date.now()%4294967295).toString(16),8)+function(){var t;if("number"==typeof i)t=i;else{var e=i.replace(/-/g,"");if(!/^[0-9]+$/.test(e)){if(18<e.length)return"18"+tu(18);var n=22-e.length-4;return""+Xc(""+e.length,2)+e+tu(n)}t=parseInt(e,10)}var r=t.toString(16),o=22-r.length-4;return""+Xc(""+r.length,2)+r+tu(o)}()+("string"==typeof t?tu(4):Xc(t.toString(16),4));return"00-"+n+"-"+n.substr(0,16)+"-"+e}function nu(){var t=function(){for(var t=new Array(16),e=0,n=0;n<16;n++)0==(3&n)&&(e=4294967296*Math.random()),t[n]=e>>>((3&n)<<3)&255;return t}();return t[6]=15&t[6]|64,t[8]=63&t[8]|128,function(t){for(var e=[],n=0;n<256;++n)e[n]=(n+256).toString(16).substr(1);var r=0;return[e[t[r++]],e[t[r++]],e[t[r++]],e[t[r++]],"-",e[t[r++]],e[t[r++]],"-",e[t[r++]],e[t[r++]],"-",e[t[r++]],e[t[r++]],"-",e[t[r++]],e[t[r++]],e[t[r++]],e[t[r++]],e[t[r++]],e[t[r++]]].join("")}(t)}var ru=["/log/sentry/"],ou=nu(),iu=nu(),au=function(){};function su(t,e){var n,r;void 0===e&&(e=au),t&&Cc(t)&&Hc()&&Sc(document)&&Ac(document.createElement)&&(n=document.createElement("script"),r=document.head,Sc(n)&&Sc(r)&&(n.src=t,n.async=!0,n.crossOrigin="anonymous",n.onload=function(){e()},Ac(r.appendChild)&&r.appendChild(n)))}function cu(){try{return new Headers,new Request(""),new Response,window.fetch}catch(t){}}function uu(){if(Sc(window))return window}function lu(){if(Sc(document))return document}function fu(){if(Ac(XMLHttpRequest))return XMLHttpRequest}function pu(){var t=function(){if(uu()&&Sc(window.performance))return window.performance}();if(t&&Sc(t.timing))return t.timing}var hu=function(t,e,n){var r,o,i,a=t.commonParams,s=t.ajaxMonitorOptions,c=a||{},u=c.bid,l=c.web_id,f=(s||{}).sampleHitTrace,p=(r=e,o=Vc(n),i=Vc(r),o.protocol===i.protocol&&o.host===i.host);return u&&l&&f&&p},du=function(i,a,s){return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(!i)return Wc;var n=i[a],r=s.apply(void 0,Mc([n],t)),o=r;return Ac(o)&&(o=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];try{return r.apply(this,t)}catch(e){return Ac(n)&&n.apply(this,t)}}),i[a]=o,function(t){t&&o!==i[a]||(i[a]=n)}}};function gu(t,e){return t instanceof e}function vu(t,e){return t instanceof e}var mu=function(t){var e,n;return null!==(n=null===(e=t.ajaxMonitorOptions)||void 0===e?void 0:e.errorRequestCollect)&&void 0!==n&&n},yu=function(t){var e=t,n={},r=function(){return Object.keys(e).forEach(function(t){return!(t in n)&&Object.defineProperty(n,t,{get:function(){return e[t]}})})};return r(),[n,function(t){e=Oc({},e,t),r()}]},bu=function(t){var e,n=window.requestAnimationFrame,r=window.cancelAnimationFrame,o=!Ac(n)||t&&document&&document.hidden?function(t){return t(0),0}:n,i=Ac(r)?r:Wc;return[function(t){e&&i(e),e=o(t)},o,i]},_u=function(t,e,n,r){var o,i,a=t._method,s=t._requestHeaders,c=t._url,u=t._start,l=t._data,f={ev_type:"ajax",ax_status:(t.status||0).toString(),ax_type:a,ax_request_header:Yc(s||[]),ax_domain:"",ax_duration:0,ax_path:"",ax_protocol:"",ax_response_header:"",ax_size:0,ax_url:""};"function"==typeof t.getAllResponseHeaders&&(f.ax_response_header=function(e){if(Cc(e)){var t=e.split("\r\n"),r=[];return t.forEach(function(t,e){var n;t&&Ac(t.split)&&(n=t.split(": "),r.push([n[0],n[1]]))}),Yc(r)}return Sc(e)?Yc(Object.keys(e).map(function(t){return[t,e[t]]})):e}(t.getAllResponseHeaders())),hu(e,c,r)&&(i=n||t.getResponseHeader("x-tt-trace-id"))&&(f.trace_id=i,f.trace_host=t.getResponseHeader("x-tt-trace-host")||void 0,f.log_id=t.getResponseHeader("x-tt-logid")||void 0),f.ax_duration=Date.now()-u,200===t.status&&(f.ax_size=function(t){if(""===t.responseType||"text"===t.responseType)return qc(t.responseText);if(t.response)return qc(t.response);try{return qc(t.responseText)}catch(t){return 0}}(t));var p=(f=xc(xc({},f),Jc(c))).ax_status;return mu(e)&&"2"!==p[0]&&"3"!==p[0]&&(f.ax_request={body:l?""+l:void 0,search:Vc(c).search,content_type:s&&(null===(o=s.find(function(t){return"content-type"===t[0].toLowerCase()}))||void 0===o?void 0:o[1])}),f},wu=function(i){return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=Ec(t,2),r=n[0],o=n[1];return this._url=o||"",this._method=r&&r.toLowerCase()||"",i.apply(this,t)}},xu=function(n){return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._requestHeaders=this._requestHeaders||[],this._requestHeaders.push(t),n&&n.apply(this,t)}},ku=function(i,a,s,c){var u=null;return function(){for(var t,e,n,r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return hu(a,this._url,c)&&(e=(t=a.commonParams||{}).bid,n=t.web_id,e&&n&&(u=eu(n,e),this.setRequestHeader("x-tt-trace-id",u))),Iu(this)(a,u,s,c),this._start=Date.now(),this._data=null==r?void 0:r[0],i.apply(this,r)}},Iu=function(s){return du(s,"onreadystatechange",function(n,r,o,i,a){return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return 4===this.readyState&&i&&i({name:"AjaxMonitor",type:"get",event:_u(s,r,o,a)}),n&&n.apply(this,t)}})},Tu=function(t,e,n){void 0===e&&(e=!1);var r="",r=gu(t,n)?t.url:t;return e||(r=Cc(r)?r.split("?")[0]:r),r},Eu=function(t,e,n){return gu(t,n)?t.body:null==e?void 0:e.body},Mu=function(t,e){if(!t)return"";var n=[];return vu(t,e)?t.forEach(function(t,e){n.push([e,t])}):zc(t)?n.push.apply(n,Mc(t)):n.push.apply(n,Mc(Object.entries(t))),Yc(n)};function Su(t,e,n){if(t){if(vu(t,n))return t.get(e)||void 0;if(zc(t)){var r=t.find(function(t){return e===t[0]});return null==r?void 0:r[1]}return t[e]}}var Au,Cu=function(d,g,v,m,y,b){return function(c,u){void 0===u&&(u={});var l=Tu(c,void 0,y);if(!function(t){if(Cc(t)){var e=Ec(t.split(":"),2),n=e[0];return!e[1]||"http"===n||"https"===n}}(l))return d(c,u);var t,e,n,r,o,i=g.commonParams||{},a=i.bid,s=i.web_id,f=Date.now(),p={ev_type:"ajax",ax_size:0};try{hu(g,l,b)&&(u.headers||(u.headers=[]),a&&s&&(p.trace_id=eu(a,s),t=u.headers,e="x-tt-trace-id",n=p.trace_id,vu(t,m)?t.append(e,n):zc(t)?t.push([e,n]):t[e]=n))}catch(t){}p.ax_type=(r=c,o=u&&u.method||"get",gu(r,y)&&(o=r.method||o),o.toLowerCase()),p=xc(xc({},p),Jc(l));var h=function(){var t,e,n,r,o,i,a,s;e=c,n=u,r=y,o=m,s=(t=p).ax_status,mu(g)&&"2"!==s[0]&&"3"!==s[0]&&(a=Tu(e,!0,r),t.ax_request={body:null===(i=Eu(e,n,r))||void 0===i?void 0:i.toString(),search:Vc(a).search,content_type:Su(n.headers,"Content-Type",o)}),null==v||v({name:"FetchMonitor",type:"get",event:p})};return d(c,u).then(function(n){var t,e,r,o,i,a;try{p.ax_status=(n.status||0).toString(),p.ax_duration=Date.now()-f,p.ax_response_header=Mu(n.headers,m),p.ax_request_header=Mu((e=c,r=u,i=y,a=new(o=m),gu(e,i)&&e.headers&&Ac(e.headers.forEach)&&e.headers.forEach(function(t,e){a.append(e,t)}),r.headers&&new o(r.headers).forEach(function(t,e){a.append(e,t)}),a),m);var s=function(t,e){n.headers.has(t)&&(p[e]=n.headers.get(t)||void 0)};Ac(null===(t=n.headers)||void 0===t?void 0:t.has)&&(n.headers.has("content-length")&&(p.ax_size=Number(n.headers.get("content-length"))||0),hu(g,l,b)&&(s("x-tt-trace-host","trace_host"),s("x-tt-trace-id","trace_id"),s("x-tt-logid","log_id"))),h()}catch(n){}return n},function(t){try{p.ax_status="0",p.ax_duration=Date.now()-f,h()}catch(t){}return Promise.reject(t)})}},zu=["SCRIPT","STYLE","META","HEAD"],Nu=function(t,n,e,r){if(!t||-1<r.indexOf(t.tagName))return 0;var o=t.children,i=void 0===o?[]:o,a=[].slice.call(i).reduceRight(function(t,e){return t+Nu(e,n+1,0<t,r)},0);if(a<=0&&!e){if(!Ac(t.getBoundingClientRect))return 0;var s=t.getBoundingClientRect()||{},c=s.top,u=s.height;if(c>window.innerHeight||u<=0)return 0}return a+1+.5*n},ju=(Fu.prototype.setup=function(t){Hc()&&(this.currentURL=location.href,this.callback=t,this.start())},Fu.prototype.onChange=function(t){this.onPathChange=t},Fu.prototype.start=function(){this.monitorHashChange(),Hc()&&Sc(window.history)&&Ac(window.history.pushState)&&Ac(window.history.replaceState)&&(this.monitorPopState(),this.monitorPushState(),this.monitorReplaceState())},Fu.prototype.monitorPopState=function(){var t=this;window.addEventListener("popstate",function(){t.handleStateChange(t.currentURL,location.href),t.replaceCurrentURL(location.href)})},Fu.prototype.monitorHashChange=function(){var e=this;window.addEventListener("hashchange",function(){var t=e.parseHash(location.hash);t&&e.pathChangeHandler(e.getPath(t),"hash"),e.replaceCurrentURL(location.href)})},Fu.prototype.monitorPushState=function(){var n=this,r=window.history.pushState;r&&(window.history.pushState=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return n.handleHistoryStateChange.apply(n,Mc(t)),r.apply(this,t)})},Fu.prototype.monitorReplaceState=function(){var n=this,r=window.history.replaceState;r&&(window.history.replaceState=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return n.handleHistoryStateChange.apply(n,Mc(t)),r.apply(this,t)})},Fu.prototype.pathChangeHandler=function(t,e,n){Cc(t)&&Ac(this.callback)&&(this.onPathChange&&this.onPathChange({path:t,type:e,url:n}),this.callback({name:this.name,type:"get",event:{ev_type:"pageview",path:t,type:e}}))},Fu.prototype.handleHistoryStateChange=function(t,e,n){n&&(this.handleStateChange(location.href,n),this.replaceCurrentURL(n))},Fu.prototype.handleStateChange=function(t,e){var n=this.parseURL(t),r=this.parseURL(e);r&&n&&(r.pathname===n.pathname?r.hash!==n.hash&&this.pathChangeHandler(this.getPath(r.hash),"hash",r):this.pathChangeHandler(this.getPath(r.pathname),"pathname",r))},Fu.prototype.parseURL=function(t){var e=null;if(!t)return e;if("string"!=typeof t)return e;if(t.match(/^\/[^\/]/))return new URL(location.protocol+"//"+location.host+t);try{return new URL(t)}catch(t){return e}},Fu.prototype.parseHash=function(t){return!t||"string"!=typeof t?"/":t.replace(/^#/,"")},Fu.prototype.getPath=function(t){var e=t&&"string"==typeof t?t.replace(/^(https?:)?\/\//,"").replace(/\?.*$/,""):"";return this.parseHash(e)},Fu.prototype.replaceCurrentURL=function(t){this.currentURL!==t&&(this.currentURL=t)},Fu.monitorName="PathMonitor",Fu),Ou=function(e,n,t,r){var i=(o.prototype.setup=function(t){this.monitor=function(t,e,n,r){void 0===e&&(e={}),void 0===r&&(r=[]);try{var o=t.apply(void 0,Mc(r));return o&&o(e,n)||[]}catch(t){return[]}}(n,this.props,t,r)},o.monitorName=e,o);function o(t){this.props=t,this.name=e}return t.forEach(function(t,o){return i.prototype[t]=function(){for(var t,e,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return null===(e=null===(t=this.monitor)||void 0===t?void 0:t[o])||void 0===e?void 0:e.call.apply(e,Mc([t],n))}}),i},Du=Ou("AjaxMonitor",function(t,i){void 0===t&&(t=fu()),void 0===i&&(i=null===location||void 0===location?void 0:location.href);var a=t&&t.prototype;if(a)return function(t,e){var n=Ec(yu(t),2),r=n[0],o=n[1];return du(a,"open",wu)(),du(a,"send",ku)(r,e,i||""),du(a,"setRequestHeader",xu)(),[o]}},["updateConfig"]),Lu=Ou("FetchMonitor",function(i,a,s,c){if(void 0===i&&(i=cu()&&uu()),void 0===a&&(a=window.Headers),void 0===s&&(s=window.Request),void 0===c&&(c=null===location||void 0===location?void 0:location.href),i&&a&&s)return function(t,e){var n=Ec(yu(t),2),r=n[0],o=n[1];return du(i,"fetch",Cu)(r,e,a,s,c||""),[o]}},["updateConfig"]),Pu=Ou("FMPMonitor",function(h,d,g){var t;return void 0===h&&(h=lu()),void 0===d&&(d=function(){if(uu()&&Ac(window.MutationObserver))return window.MutationObserver}()),void 0===g&&(g=null===(t=pu())||void 0===t?void 0:t.navigationStart),function(t,a){var n,e=Date.now(),s=[],r=zu.concat(t.ignoreTags||[]),o=function(){return s.push({time:Date.now()-e,score:Nu(h&&h.body,1,!1,r)})},i=Ec(bu(!0),1)[0],c=Ec((n=d&&new d(function(){return i(o)}),[function(t,e){n&&t&&n.observe(t,e)},function(){return n&&n.disconnect()}]),2),u=c[0],l=c[1],f=function(t){void 0===t&&(t=0),l();var e,n,r,o=(e=Ec(void 0===s?[]:s),n=e[0],(r=e.slice(1))&&r.reduce(function(t,e){var n=Ec(t,2),r=n[0],o=n[1],i=e.score-r.score;return[e,e.time>=r.time&&o.rate<i?{time:e.time,rate:i}:o]},[n,{time:null==n?void 0:n.time,rate:0}])[1].time||0),i={name:"FMPMonitor",type:"post",event:{ev_type:"fmp",fmp:o?o+t:0}};return a&&a(i),i},p=e-(g||0);return u(h,{subtree:!0,childList:!0}),[l,f,f.bind(null,p)]}},["disconnect","getFmp","getLoadFmp"]),Ru=(Bu.prototype.sendEvent=function(t){var e=this.getEventToBeSent(t);e&&this.idleSendEvent(e)},Bu.prototype.getEventToBeSent=function(t){var e=this._modifyEvent(t);if(this._shouldSend(e))return e},Bu.prototype._modifyEvent=function(t){return t},Bu.prototype._shouldSend=function(t){return!0},Bu.prototype._send=function(t){},Bu.prototype.idleSendEvent=function(t){this._send(t)},Bu),$u=(wc(Hu,Au=Ru),Object.defineProperty(Hu.prototype,"ready",{get:function(){return this.isReady},set:function(t){this.isReady=t,this.isReady&&this._uploadQueue()},enumerable:!1,configurable:!0}),Hu.prototype._send=function(t){var e=this,n=this.buildParams(t);null==n||(this.reportQueue.push(n),this.isReady&&(this.reportQueue.length>=this.batchReportLength&&this._uploadQueue(),this.batchReportTimeout&&clearTimeout(this.batchReportTimeout),this.batchReportTimeout=setTimeout(function(){e._uploadQueue()},this.batchReportWait)))},Hu.prototype._uploadQueue=function(){var t;this.reportQueue.length&&this.ready&&(t={ev_type:"batch",list:this.reportQueue},this.reportQueue=[],this._request({event:t,type:"post"}))},Hu.prototype._request=function(t){},Hu),Uu="https://sf6-scmcdn-tos.pstatp.com/goofy/slardar/fe/sdk/plugins"+"/sentry.3.6.18.cn.js";function Hu(t){var e,n,r=Au.call(this)||this;return r.reportQueue=[],r.isReady=!0,r.batchReportLength=null!==(e=t.maxBatchReportLength)&&void 0!==e?e:10,r.batchReportWait=null!==(n=t.batchReportWait)&&void 0!==n?n:1e3,r.batchReportTimeout=null,r}function Bu(){}function Fu(){this.name="PathMonitor",this.callback=Wc,this.onPathChange=Wc,this.currentURL=""}function Vu(t){return!!t&&Math.random()<Number(t)}function Wu(t,e){return Sc(t)?Sc(e)?xc(xc({},t),{overrides:e}):t:{}}function qu(t){return"error"===t.type}function Yu(t){return"unhandledrejection"===t.type}function Ju(e){var t,n,r;if(null!==(t=window.__SLARDAR__)&&void 0!==t&&t.plugins&&zc(null===(n=window.__SLARDAR__)||void 0===n?void 0:n.plugins)){var o=null===(r=window.__SLARDAR__)||void 0===r?void 0:r.plugins,i=void 0;return o.forEach(function(t){t.version===e.version&&t[e.name]&&(i=t[e.name])}),i}}var Qu,Gu=(wc(Zu,Qu=$u),Zu.prototype.setEnable=function(t){this.enable||(this.enable=t,this.enable&&this.updateStatus())},Zu.prototype.getReportURL=function(){return this.reportURL||this.getBatchReportURL()},Object.defineProperty(Zu.prototype,"contextAgent",{get:function(){var o=this,n={set:function(t,e){return o.options&&(o.options.commonParams.context||(o.options.commonParams.context={}),o.options.commonParams.context[t]=e),n},delete:function(t){var e;return null!==(e=o.options)&&void 0!==e&&e.commonParams.context&&"string"!=typeof o.options.commonParams.context&&Nc(o.options.commonParams.context,t)&&delete o.options.commonParams.context[t],n},clear:function(){return o.options&&(o.options.commonParams.context={}),n},get:function(t){var e,n,r;return null===(r=null===(n=null===(e=o.options)||void 0===e?void 0:e.commonParams)||void 0===n?void 0:n.context)||void 0===r?void 0:r[t]},toObject:function(){var t,e,n;return"string"==typeof(null===(t=o.options)||void 0===t?void 0:t.commonParams.context)?{}:xc({},null===(n=null===(e=o.options)||void 0===e?void 0:e.commonParams)||void 0===n?void 0:n.context)}};return n},enumerable:!1,configurable:!0}),Zu.prototype._shouldSend=function(t){var e,n;if(!(null!==(e=this.options)&&void 0!==e&&e.monitors&&t&&Sc(t)&&null!==(n=t.event)&&void 0!==n&&n.ev_type))return!1;var r,o,i,a,s,c,u,l,f=this.options.monitors;if("AjaxMonitor"===t.name||"FetchMonitor"===t.name){var p=Qc(ru||[]);if(p&&p.test(t.event.ax_url))return!1}return!!f.BaseMonitor.webIDHit||!!f.BaseMonitor.sampleHit&&("PathMonitor"===t.name?(s={sendParams:t,pageViewMonitor:f.PageViewMonitor,baseMonitor:f.BaseMonitor},c=s.sendParams,u=s.pageViewMonitor,1===(l=s.baseMonitor).appTypeSetting.type&&c.event.type===l.appTypeSetting.SPA&&(!u||!!u.webIDHit||!!u.sampleHit)):"PageViewMonitor"===t.name?!(a={pageViewMonitor:f.PageViewMonitor}.pageViewMonitor)||(!!a.webIDHit||!!a.sampleHit):"AjaxMonitor"===t.name||"FetchMonitor"===t.name?function(t){var n=t.sendParams,e=t.ajaxMonitor;if(!e)return!0;if(e.webIDHit)return!0;if(!e.sampleHit)return!1;var r=e.whitelistUrls;if(zc(r)&&0<r.length){var o=Qc(e.whitelistUrls||[]);return!(!o||!o.test(n.event.ax_url))}var i=Qc(e.ignore||[]);if(i&&i.test(n.event.ax_url))return!1;var a=e.statusCodeSample;if(a&&Nc(a,n.event.ax_status))return Vu(a[n.event.ax_status]);var s=e.requestUrlSample;if(s){var c=!1,u=!1;if(s.forEach(function(t){var e;c||null!=(e=Qc([t.url]))&&e.test(n.event.ax_url)&&(c=!0,u=Vu(t.sampleRate))}),c)return u}return!0}({sendParams:t,ajaxMonitor:f.AjaxMonitor}):"PerformanceMonitor"===t.name?!(i={performanceMonitor:f.PerformanceMonitor}.performanceMonitor)||(!!i.webIDHit||!!i.sampleHit):"EmitMonitor"===t.name?function(t){var e=t.sendParams,n=t.flexibleMonitor;if(!n)return!0;if(n.webIDHit)return!0;if(!n.sampleHit)return!1;var r=n.eventNameHit;if(r){var o=e.event.flexible_data_list[0].event_name;if(r&&Nc(r,o))return Vu(r[o])}return!0}({sendParams:t,flexibleMonitor:f.FlexibleMonitor}):"StaticErrorMonitor"===t.name?function(t){var e=t.sendParams,n=t.staticErrorMonitor;if(!n)return!0;if(n.webIDHit)return!0;if(!n.sampleHit)return!1;var r=Qc(n.ignore||[]);return!r||!r.test(e.event.st_src)}({sendParams:t,staticErrorMonitor:f.StaticErrorMonitor}):"HijackMonitor"===t.name?!(o={hijackMonitor:f.HijackMonitor}.hijackMonitor)||(!!o.webIDHit||!!o.sampleHit):"JSErrorMonitor"!==t.name||(!(r={jsErrorMonitor:f.JSErrorMonitor}.jsErrorMonitor)||(!!r.webIDHit||!!r.sampleHit)))},Zu.prototype._modifyEvent=function(t){var e;if(null===(e=this.options)||void 0===e||!e.monitors||!t||!Sc(t))return{};var n,r,o,i,a,s,c,u,l,f,p=this.options.monitors;return"PerformanceMonitor"===t.name?(a={sendParams:t,performanceMonitor:p.PerformanceMonitor},l=a.sendParams,(f=a.performanceMonitor)?Bc()?(c=l.event.isAsync?l.event.load>f.spaSlowSessionTime:(s=window.performance.timing).loadEventEnd-s.navigationStart>f.slowSessionTime,l.event.resources&&zc(l.event.resources)&&(u=Qc(f.geckoUrls||[]),l.event.resources.forEach(function(t,e){var n,r,o,i;null!==(n=l.event.resources)&&void 0!==n&&n[e]&&Sc(null===(r=l.event.resources)||void 0===r?void 0:r[e])&&Ac(null===(o=l.event.resources)||void 0===o?void 0:o[e].toJSON)&&(l.event.resources[e]=null===(i=l.event.resources)||void 0===i?void 0:i[e].toJSON(),l.event.resources[e].is_gecko=u&&u.test(t.name||"")?"1":"0")})),f.webIDHitStaticResource||f.sampleHitStaticResource?l.event.upload_reason="sample":c?l.event.upload_reason="slow_session":(delete l.event.resources,l.event.has_resource=0),l):{}:l):"PathMonitor"===t.name?(n={sendParams:t,baseMonitor:p.BaseMonitor,effect:this.updateConfig},r=n.sendParams,o=n.baseMonitor,i=n.effect,1===o.appTypeSetting.type&&o.appTypeSetting.SPA===r.event.type&&(i({commonParams:{pid:r.event.path}}),delete r.event.type,delete r.event.path),{}):t},Zu.prototype.buildParams=function(t){var e,n,r,o,i,a=t.event||{},s=t.overrides||{},c=s.context,u=kc(s,["context"]),l=xc({},null!==(n=null===(e=this.options)||void 0===e?void 0:e.commonParams)&&void 0!==n?n:{});Sc(c)&&(i=xc(xc({},null!==(r=Sc(l.context)&&l.context)&&void 0!==r?r:{}),c||{}),l.context=i);var f=xc(xc(xc({},a),l||{}),u),f=this.normalizeEvent(f);return null!==(o=this.options)&&void 0!==o&&o.custom&&Ac(this.options.custom.beforeSend)&&(f=this.options.custom.beforeSend(f||{})),f},Zu.prototype._request=function(t){var e,n,r,o,i;t&&t.event&&(n=t.type,r=t.event,(o=window.automation_test_info)&&(r.automation_test_info=o),"beacon"===(null===(e=this.options)||void 0===e?void 0:e.commonParams.report_type)&&navigator&&navigator.sendBeacon?(i=JSON.stringify(r),navigator.sendBeacon(this.getReportURL(),i)):this.transport&&("get"!==n?"post"===n&&this.transport.postEvent(r):this.transport.getEvent(r)))},Zu.prototype.chechIsReady=function(){return 2===this.clientStatus},Zu.prototype.updateStatus=function(){var e=this;switch(this.clientStatus){case 0:this.clientStatus=1;break;case 1:if(this.clientStatus=2,!this.preQueue.length)return;this.preQueue.forEach(function(t){Qu.prototype.sendEvent.call(e,t)}),this.preQueue=[]}},Zu.prototype.getBatchReportURL=function(){var t;return"https://"+(null===(t=this.options)||void 0===t?void 0:t.commonParams.report_domain)+"/log/sentry/v2/api/slardar/batch/"},Zu.prototype.normalizeOptions=function(t){var e;return Oc({},null!==(e=this.options)&&void 0!==e?e:{},t)},Zu.prototype.normalizeEvent=function(t){var e=xc(xc({},t),{url:window.location.href});return Sc(t.context)&&(e.context=JSON.stringify(t.context)),e||{}},Zu);function Zu(t){var e,i=Qu.call(this,null!=t?t:{reportURL:""})||this;return i.setTransport=function(){i.transport||(i.transport=new Zc({reportURL:i.getReportURL()}),i.updateStatus())},i.uploadQueue=function(){i._uploadQueue()},i.updateConfig=function(t){var e,n,r,o=null===(n=null===(e=i.options)||void 0===e?void 0:e.commonParams)||void 0===n?void 0:n.pid;i.options=i.normalizeOptions(t),o&&null!==(r=null==t?void 0:t.commonParams)&&void 0!==r&&r.pid&&t.commonParams.pid!==o&&i.sendPageview()},i.sendPageview=function(){Ac(i.sendEvent)&&i.sendEvent({name:"PageViewMonitor",type:"get",event:{ev_type:"pageview"}})},i.sendEvent=function(t){i.chechIsReady()?Qu.prototype.sendEvent.call(i,t):i.preQueue.push(t)},i.buildSendParams=function(t){return i.buildParams(t)},i.reportURL=null!==(e=null==t?void 0:t.reportURL)&&void 0!==e?e:"",i.preQueue=[],i.clientStatus=0,i.enable=!1,i}var Ku=function(){var t="";return null!==document&&void 0!==document&&document.cookie&&(t=function(t,e){var n,r;if(!t||!e)return"";var o=t.split(";"),i={};try{for(var a=Tc(o),s=a.next();!s.done;s=a.next()){var c=s.value.split("="),u=Cc(c[0])&&c[0].trim();u&&Cc(c[1])&&(i[u]=c[1].trim())}}catch(t){n={error:t}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}return i[e]||""}(document.cookie,"MONITOR_WEB_ID")),t};function Xu(t){var e,n,r,o,i;return Oc({},{commonParams:{version:"",hostname:window.location.hostname,protocol:window.location.protocol.slice(0,-1),url:window.location.href,slardar_session_id:ou,sample_rate:1,pid:location.pathname,report_domain:"i.snssdk.com",screen_resolution:(void 0===r&&(r=window),Hc()&&null!==(o=r.screen)&&void 0!==o&&o.width&&null!==(i=r.screen)&&void 0!==i&&i.height?r.screen.width+"x"+r.screen.height:"0x0"),network_type:(e="unknown",(n=navigator.connection||navigator.mozConnection||navigator.webkitConnection)&&Cc(n.effectiveType)?n.effectiveType:e),bid:"",context:{},slardar_web_id:Ku()||iu,report_type:"xhr",performanceAuto:!0,reportURLSingle:"",region:"cn",env:"production",refreshPrecollectedContext:!1,maxBatchReportLength:10,batchReportWait:1e3},flags:{hookPath:!0,hookXHR:!0,hookFetch:!0,enableSizeStats:!0,enableFMP:!0,enablePerformance:!0,enableResourcePerformance:!0,enableStaticError:!0,enableCatchJSError:!0,enableCatchGlobalJSError:!0,enableCatchJSErrorV2:!1,enableCrash:!0,enableMemoryRecord:!0,enableFPSJankTimesMonitor:!0,enableBreadcrumb:!0,hookConsole:!1,hookDom:!0},monitors:{BaseMonitor:{appTypeSetting:{type:0,SPA:"",renderType:0},webIDHit:!1,sampleHit:Gc(1)},PageViewMonitor:{webIDHit:!1,sampleHit:Gc(1)},JSErrorMonitor:{webIDHit:!1,sampleHit:Gc(1),webIDHitBehavior:Gc(0),sampleHitBehavior:Gc(0),ignoreErrors:[],whitelistUrls:[],blacklistUrls:[],download_link:""},AjaxMonitor:{webIDHit:!1,sampleHit:Gc(1),sampleHitTrace:Gc(0),ignore:ru,abort:!1,whitelistUrls:[],statusCodeSample:{},requestUrlSample:[],errorRequestCollect:!1},PerformanceMonitor:{webIDHit:!1,sampleHit:Gc(1),webIDHitStaticResource:!1,sampleHitStaticResource:Gc(.1),slowSessionTime:8e3,spaSlowSessionTime:4e3,geckoUrls:[],interval:0,checkPoint:[]},FlexibleMonitor:{webIDHit:!1,sampleHit:Gc(1),eventNameHit:{},eventNameSampleHit:Gc(1)},StaticErrorMonitor:{webIDHit:!1,sampleHit:Gc(1),ignore:ru},HijackMonitor:{webIDHit:!1,sampleHit:Gc(.1)},FMPMonitor:{}},plugins:{render:{enable:0},spa:{enable:0,type:""},behavior:{enable:0,slardar_web_ids:[],sample_rate:0,download_link:"https://sf6-scmcdn-tos.pstatp.com/goofy/slardar/fe/sdk/plugins/behavior.3.6.18.cn.js"},sentry:{enable:0,behavior_enable:0,behavior_sample_rate:0,behavior_slardar_web_ids:[],download_link:Uu}},custom:{beforeSend:function(t){return t}},heatmap:{openList:[]}},t)}var tl=function(t,e){var n=!1;return t&&t.forEach(function(t){n||!t.condition.is_default&&"slardar_web_id"===t.condition.field&&Uc(t.condition.values,e.web_id)&&(n=!0)}),n},el=function(t){var e=!1;return!t||(t.forEach(function(t){t.condition.field&&e||(e=Vu(Number(t.value)))}),e)},nl=function(t){var e=[];if(t)try{e=JSON.parse(t)}catch(t){e=[]}return e},rl=function(t){var n=[];return t.forEach(function(t){var e;t.value&&(e=nl(t.value),n.push.apply(n,Mc(e)))}),n},ol=function(t,n){var r={},o=[];return t.forEach(function(e){e.condition.field===n&&e.condition.values&&e.condition.values.forEach(function(t){Nc(r,t)||(r[t]=Number(e.value)||0,o.push({url:t,sampleRate:r[t]}))})}),{flatten:r,list:o}},il=function(n){var t;void 0===n&&(n={});var r=Oc({},null!==(t=n.commonParams)&&void 0!==t?t:{});if(!Sc(n))return r;var o=["bid","context","pid","slardar_web_id","slardar_session_id","performanceAuto","report_type","region","env","refreshPrecollectedContext","maxBatchReportLength","batchReportWait"];return jc(n,function(t,e){Uc(o,t)&&("report_domain"===t&&"mon-va.byteoversea.com"===e?r.region="maliva":r[t]=e)}),jc({cookieid:"slardar_web_id",sampleRate:"sample_rate",reportDomain:"report_domain",domain:"report_domain",sample_rate:"sample_rate",slardar_web_id:"slardar_web_id"},function(t,e){Nc(n,t)&&(r[e]=n[t])}),r.slardar_web_id&&(r.slardar_web_id=r.slardar_web_id.toString()),r};function al(t,e){var n,r,o,i,a,s,c,u,l,f,p,h={PageViewMonitor:{},JSErrorMonitor:{},AjaxMonitor:{},PerformanceMonitor:{},FlexibleMonitor:{},StaticErrorMonitor:{},HijackMonitor:{},BaseMonitor:{}},d=null!==(n=t.setting)&&void 0!==n?n:{};null!==(o=null===(r=d.page_view)||void 0===r?void 0:r.enable_rate)&&void 0!==o&&o.length&&(h.PageViewMonitor.webIDHit=tl(d.page_view.enable_rate,e),h.PageViewMonitor.sampleHit=el(d.page_view.enable_rate)),d.jserr&&(null!==(i=d.jserr.enable_rate)&&void 0!==i&&i.length&&(h.JSErrorMonitor.webIDHit=tl(d.jserr.enable_rate,e),h.JSErrorMonitor.sampleHit=el(d.jserr.enable_rate)),d.jserr.ignore_errors&&(h.JSErrorMonitor.ignoreErrors=rl(d.jserr.ignore_errors)),d.jserr.blacklist_urls&&(h.JSErrorMonitor.blacklistUrls=rl(d.jserr.blacklist_urls)),d.jserr.whitelist_urls&&(h.JSErrorMonitor.whitelistUrls=rl(d.jserr.whitelist_urls))),d.ajax&&(d.ajax.enable_rate&&(h.AjaxMonitor.webIDHit=tl(d.ajax.enable_rate,e),h.AjaxMonitor.sampleHit=el(d.ajax.enable_rate)),d.ajax.request_sample_rate&&(h.AjaxMonitor.statusCodeSample=ol(d.ajax.request_sample_rate,"status_code").flatten,h.AjaxMonitor.requestUrlSample=ol(d.ajax.request_sample_rate,"request_url").list),d.ajax.trace_rate&&(h.AjaxMonitor.sampleHitTrace=el(d.ajax.trace_rate)),d.ajax.enable_request_param_collect_on_error&&(h.AjaxMonitor.errorRequestCollect=function(t,e){var n,r;void 0===e&&(e=!1);try{for(var o=Tc(t),i=o.next();!i.done;i=o.next()){var a=i.value;if(a.value)return"true"===a.value}}catch(t){n={error:t}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return e}(d.ajax.enable_request_param_collect_on_error))),null!==(a=d.static_resource)&&void 0!==a&&a.enable_rate&&(h.PerformanceMonitor.webIDHitStaticResource=tl(d.static_resource.enable_rate,e),h.PerformanceMonitor.sampleHitStaticResource=el(d.static_resource.enable_rate)),null!==(s=d.performance)&&void 0!==s&&s.enable_rate&&(h.PerformanceMonitor.webIDHit=tl(d.performance.enable_rate,e),h.PerformanceMonitor.sampleHit=el(d.performance.enable_rate)),d.flexible&&(d.flexible.enable_rate&&(h.FlexibleMonitor.webIDHit=tl(d.flexible.enable_rate,e),h.FlexibleMonitor.sampleHit=el(d.flexible.enable_rate)),d.flexible.event_name_sample_rate&&(h.FlexibleMonitor.eventNameHit=ol(d.flexible.event_name_sample_rate,"event_name").flatten,h.FlexibleMonitor.eventNameSampleHit=el(d.flexible.event_name_sample_rate))),null!==(c=d.static_err)&&void 0!==c&&c.enable_rate&&(h.StaticErrorMonitor.webIDHit=tl(d.static_err.enable_rate,e),h.StaticErrorMonitor.sampleHit=el(d.static_err.enable_rate)),d.general&&(f=d.general.app_type_setting)&&(p={type:Number(f.app_type[0].value),SPA:f.app_type_spa[0].value,renderType:sl({renderRules:(u=f.app_render_type,l=[],u.forEach(function(t){"pid"===t.condition.field.toLowerCase()&&"like"===t.condition.op.toLowerCase()&&t.value?l.push({pids:nl(t.value),value:parseInt(t.value,10),isDefault:!1}):t.condition.is_default&&l.push({pids:[],value:parseInt(t.value,10),isDefault:!0})}),l),pid:e.pid})},h.BaseMonitor.appTypeSetting=p);var g=t.whitelist;return zc(g)&&g.forEach(function(t){e.web_id===t&&(h.BaseMonitor.webIDHit=!0,h.AjaxMonitor.sampleHitTrace=!0)}),h}function sl(t){var e=t.renderRules,n=t.pid;if(!e||!n)return 0;for(var r=0;r<e.length;r++){var o=e[r];if(zc(o.pids)&&0<o.pids.length){var i=Qc(o.pids);if(i&&i.test(n))return o.value}if(o.isDefault&&r===e.length-1)return o.value}return 0}var cl,ul=(fl.prototype.handleUserConfig=function(t){var e;this.userConfig=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n={},r=0;r<t.length;)n=Pc(n,t[r]),r++;return n}(this.userConfig,t),null!==(e=this.userConfig)&&void 0!==e&&e.onlyUseLocalSetting&&(this.serverSetting={}),this.mergeSettings()},fl.prototype.setBaseParams=function(){this.baseParams.bid=this.shared.config.commonParams.bid||"",this.baseParams.pid=this.shared.config.commonParams.pid||""},fl.prototype.init=function(t){this.handleUserConfig(t);var e,n,r=this.finalConfig;this.inited||(this.inited=!0,this.client=new Gu({reportURL:"https://"+(null!=(e=r.commonParams.report_domain)?e:"i.snssdk.com")+"/log/sentry/v2/api/slardar/batch/",maxBatchReportLength:r.commonParams.maxBatchReportLength,batchReportWait:r.commonParams.batchReportWait}),r.commonParams.refreshPrecollectedContext&&this.refreshPrecollectedContext(),n=this.setMonitors(),this.setupMonitors(n),this.shared.instance&&zc(this.shared.instance)&&this.shared.instance.push(r.commonParams.bid),this.getServerSetting(r.commonParams.bid),this.onClose())},fl.prototype.config=function(t){var e,n;this.configed=!0,this.inited?(this.handleUserConfig(t),n=this.finalConfig,null===(e=this.client)||void 0===e||e.updateConfig(n)):this.init(t),this.tryUnlockClient()},fl.prototype.getServerSetting=function(t){var e,n,r=this;this.serverSetting?this.handleServerSetting():(n="https://"+(null!=(e=this.finalConfig.commonParams.report_domain)?e:"i.snssdk.com")+"/slardar/sdk_setting?bid="+t,Zc.get(n,{success:function(t){try{r.serverSetting=t.data||{},r.handleServerSetting()}catch(t){r.userConfig.sampleRate=.001,r.handleServerSetting()}},fail:function(){r.userConfig.sampleRate=.001,r.handleServerSetting()},withCredentials:!0}))},fl.prototype.setMonitors=function(){var t,e=this,n=[],r=this.finalConfig.flags,o=this.finalConfig.commonParams;return r.hookPath&&n.push(new ju),r.hookXHR&&n.push(new Du({commonParams:{web_id:o.slardar_web_id,bid:o.bid},ajaxMonitorOptions:this.finalConfig.monitors.AjaxMonitor})),r.hookFetch&&n.push(new Lu({commonParams:{web_id:o.slardar_web_id,bid:o.bid},ajaxMonitorOptions:this.finalConfig.monitors.AjaxMonitor})),r.enableFMP&&n.push(new Pu(this.finalConfig.monitors.FMPMonitor)),null!==(t=this.shared)&&void 0!==t&&t.monitors&&n.forEach(function(t){e.shared.monitors[t.name]=t}),n},fl.prototype.setupMonitors=function(t){var n=this;this.client&&this.client.sendEvent&&t.forEach(function(t){var e;"FMPMonitor"===t.name?n.finalConfig.flags.enableFMP&&t.setup(Wc):t.setup(null===(e=n.client)||void 0===e?void 0:e.sendEvent)})},fl.prototype.shouldSetClientEnable=function(){return"production"===this.finalConfig.commonParams.env},fl.prototype.tryUnlockClient=function(){var t;null===(t=this.client)||void 0===t||t.setEnable(this.shouldSetClientEnable()&&this.configed&&!!this.serverSetting)},fl.prototype.handleServerSetting=function(){var t,e;this.mergeSettings();var n=this.finalConfig;this.client.updateConfig(n),this.client.setTransport(),this.tryUnlockClient(),this.client.sendPageview(),this.shared.transport=this.client.transport,this.shared.sendEvent=this.client.sendEvent.bind(this.client),this.setCookie(n.commonParams.slardar_web_id),null===(t=this.shared.monitors.FetchMonitor)||void 0===t||t.updateConfig({commonParams:{web_id:n.commonParams.slardar_web_id,bid:n.commonParams.bid},ajaxMonitorOptions:n.monitors.AjaxMonitor}),null===(e=this.shared.monitors.AjaxMonitor)||void 0===e||e.updateConfig({commonParams:{web_id:n.commonParams.slardar_web_id,bid:n.commonParams.bid},ajaxMonitorOptions:n.monitors.AjaxMonitor}),this.loadMonitors(),n.flags.enableCatchJSError&&this.loadSentry(),n.heatmap.openList.length&&this.loadHeatmap(),-1<location.search.indexOf("slardar_heatmap_draw")&&this.loadHeatmapDraw()},fl.prototype.loadSentry=function(){var n=this;su("https://sf6-scmcdn-tos.pstatp.com/goofy/slardar/fe/sdk/plugins/sentry.3.6.18.cn.js",function(){var t,e=Ju({name:"SetSentryMonitors",version:n.version});e&&((t=new e({hookConsole:n.finalConfig.flags.hookConsole,hookDom:n.finalConfig.flags.hookDom,memoryRecordMonitor:n.shared.monitors.MemoryRecordMonitor,collect:n.shared.collect,sendEvent:n.client.sendEvent,jsErrorOptions:n.shared.config.monitors.JSErrorMonitor})).init(),n.shared.monitors=xc(xc({},n.shared.monitors),t.getInstalledMonitors()))})},fl.prototype.loadMonitors=function(){var r=this;su("https://sf6-scmcdn-tos.pstatp.com/goofy/slardar/fe/sdk/plugins/monitors.3.6.18.cn.js",function(){var t,e=Ju({name:"SetMonitors",version:r.version});if(e)try{var n=new e({config:r.finalConfig,fmpMonitor:r.shared.monitors.FMPMonitor,report:function(){return r.instance("report")},sendEvent:null===(t=r.client)||void 0===t?void 0:t.sendEvent,captureException:function(e){return r.instance("Sentry",function(t){t.captureException(e)})},collect:r.shared.collect});n.init(),r.shared.monitors=xc(xc({},r.shared.monitors),n.getInstalledMonitors())}catch(t){r.instance("Sentry",function(n){n.captureException(t);try{n.withScope(function(t){t.setTag("from","slardar-sdk"),n.captureMessage("SLARDAR_ERROR: "+typeof e),n.captureMessage("SLARDAR_ERROR: "+e.toString())})}catch(e){n.withScope(function(t){t.setTag("from","slardar-sdk"),n.captureException(e)})}})}})},fl.prototype.loadHeatmap=function(){var n=this;su("https://sf6-scmcdn-tos.pstatp.com/goofy/slardar/fe/sdk/plugins/heatmap.3.6.18.cn.js",function(){var t,e=Ju({name:"SetHeatmap",version:n.version});e&&((t=new e({config:n.finalConfig,report:function(){return n.instance("report")},sendEvent:n.client.sendEvent,collect:n.shared.collect,pathMonitor:n.shared.monitors.PathMonitor,buildSendParams:n.client.buildSendParams,reportURL:n.client.getReportURL()})).init(),n.shared.monitors=xc(xc({},n.shared.monitors),t.getInstalledMonitors()))})},fl.prototype.loadHeatmapDraw=function(){var e=this;su("https://sf6-scmcdn-tos.pstatp.com/goofy/slardar/fe/sdk/plugins/heatmap-draw.3.6.18.cn.js",function(){var t=Ju({name:"SetHeatmapDraw",version:e.version});t&&new t({config:e.finalConfig,pathMonitor:e.shared.monitors.PathMonitor}).init()})},fl.prototype.setCookie=function(t){t&&(document.cookie="MONITOR_WEB_ID="+t+";max-age=7776000;domain="+location.hostname+";path=/")},fl.prototype.normalizeSetting=function(t){return{commonParams:this.getClientCommonParams(t),flags:this.getClientFlags(t),plugins:this.getClientPluginsSetting(t),monitors:this.getClientMonitorsSetting(t),custom:this.getClientCustom(t),heatmap:this.getClientHeatmap(t)}},fl.prototype.normalizeServerSetting=function(t){var e;return Nc(t,"setting")?{commonParams:il(t),monitors:al(t,this.getNormoalizeInfo()),heatmap:t.heatmap}:this.normalizeSetting({cookieid:t.cookieid,reportDomain:t.reportDomain,bid:t.bid,plugins:t.plugins,heatmap:null!==(e=t.heatmap)&&void 0!==e?e:{openList:[]}})},fl.prototype.getClientHeatmap=function(t){var e;return null!==(e=t.heatmap)&&void 0!==e?e:{}},fl.prototype.mergeSettings=function(){var t,e=this.serverSetting?this.normalizeServerSetting(this.serverSetting):{},n=this.normalizeSetting(this.userConfig),r=Oc(this.defaultClientConfig,e,n);r.commonParams.reportURLSingle="https://"+(null!=(t=r.commonParams.report_domain)?t:"i.snssdk.com")+"/log/sentry/v2/api/slardar/main/",r.commonParams.pid=this.getPid(r),this.shared.config=r,this.setBaseParams(),this.finalConfig=r},fl.prototype.getPid=function(t){if(t.commonParams.pid)return t.commonParams.pid;var e=t.monitors.BaseMonitor;return 1===e.appTypeSetting.type&&"hash"===e.appTypeSetting.SPA?location.hash.slice(1)||"/":location.pathname},fl.prototype.getClientCommonParams=function(t){return il(t)},fl.prototype.getClientFlags=function(t){var e;void 0===t&&(t={});var n=Oc({},null!==(e=t.flags)&&void 0!==e?e:{});if(!Sc(t))return n;var r=["hookPath","hookXHR","hookFetch","enableSizeStats","enableFMP","enablePerformance","enableStaticError","enableCatchJSError","enableCatchJSErrorV2","enableCatchGlobalJSError","enableResourcePerformance","enableCrash","enableMemoryRecord","enableFPSJankTimesMonitor","enableBreadcrumb","hookConsole","hookDom"];return jc(t,function(t,e){Uc(r,t)&&(n[t]=e)}),n},fl.prototype.getClientCustom=function(t){var e={};return t.beforeSend&&Ac(t.beforeSend)&&(e.beforeSend=t.beforeSend),e},fl.prototype.getClientMonitorsSetting=function(t){return function(t){var e,n,r=t.setting,o=t.info,i=Oc({PageViewMonitor:{},JSErrorMonitor:{},AjaxMonitor:{},PerformanceMonitor:{},FlexibleMonitor:{},StaticErrorMonitor:{},HijackMonitor:{},BaseMonitor:{appTypeSetting:{}},FMPMonitor:{}},r.monitors);r.ajaxWhitelistUrls&&zc(r.ajaxWhitelistUrls)&&(i.AjaxMonitor.whitelistUrls=(i.AjaxMonitor.whitelistUrls||[]).concat(r.ajaxWhitelistUrls)),r.ignoreAjax&&zc(r.ignoreAjax)&&(i.AjaxMonitor.ignore=(i.AjaxMonitor.ignore||[]).concat(r.ignoreAjax)),Nc(r,"geckoUrls")&&(i.PerformanceMonitor.geckoUrls=r.geckoUrls),r.ignoreStatic&&zc(r.ignoreStatic)&&(i.StaticErrorMonitor.ignore=(i.StaticErrorMonitor.ignore||[]).concat(r.ignoreStatic)),null!==(e=r.plugins)&&void 0!==e&&e.sentry&&(i.JSErrorMonitor=xc(xc({},i.JSErrorMonitor||{}),r.plugins.sentry)),r.errorRelease&&(i.JSErrorMonitor.release=r.errorRelease),r.ignoreErrors&&zc(r.ignoreErrors)&&(i.JSErrorMonitor.ignoreErrors=r.ignoreErrors),r.errorBlacklistUrls&&zc(r.errorBlacklistUrls)&&(i.JSErrorMonitor.blacklistUrls=r.errorBlacklistUrls),r.errorWhitelistUrls&&zc(r.errorWhitelistUrls)&&(i.JSErrorMonitor.whitelistUrls=r.errorWhitelistUrls),r.fmpIgnoreTags&&zc(r.fmpIgnoreTags)&&(i.FMPMonitor.ignoreTags=r.fmpIgnoreTags),Nc(r,"sampleRate")&&(i.BaseMonitor.sampleHit=Vu(r.sampleRate));var a,s,c,u=r.plugins;return u&&Sc(u)&&(Nc(u,"spa")&&((a=u.spa)&&Nc(a,"enable")&&(i.BaseMonitor.appTypeSetting.type=Number(a.enable)),a&&Nc(a,"type")&&(i.BaseMonitor.appTypeSetting.SPA=a.type)),!u.render||(s=null===(n=r.plugins)||void 0===n?void 0:n.render)&&Sc(s)&&Nc(s,"enable")&&(c=[{pids:[],value:s.enable,isDefault:!0}],i.BaseMonitor.appTypeSetting.renderType=sl({renderRules:c,pid:o.pid}))),i}({setting:t,info:this.getNormoalizeInfo()})},fl.prototype.getClientPluginsSetting=function(t){return void 0===(e=t)&&(e={}),Oc({sentry:{},behavior:{},spa:{},render:{}},null!==(n=e.plugins)&&void 0!==n?n:{});var e,n},fl.prototype.getNormoalizeInfo=function(){return{web_id:this.finalConfig.commonParams.slardar_web_id,pid:this.finalConfig.commonParams.pid}},fl.prototype.saveInstance=function(){window.__SLARDAR__||(window.__SLARDAR__={}),window.__SLARDAR__&&!zc(window.__SLARDAR__.instances)&&(window.__SLARDAR__.instances=[]),window.__SLARDAR__&&zc(window.__SLARDAR__.instances)&&window.__SLARDAR__.instances.push({version:this.version})},fl.prototype.refreshPrecollectedContext=function(){var t,n=this;jc(null!==(t=this.shared.collect)&&void 0!==t?t:{},function(t){var e;null===(e=n.shared.collect)||void 0===e||e[t].forEach(function(t){return t.params={}})})},fl),ll=Wc;function fl(){var E=this;this.version="3.6.18",this.instance=function(){for(var t,e,n,r,o,i,a,s,c,u,l,f,p,h,d,g=[],v=0;v<arguments.length;v++)g[v]=arguments[v];switch(g[0]){case"init":return void E.init(g[1]);case"config":return void E.config(g[1]);case"sendCustomCountLog":case"sendCustomTimeLog":case"emit":case"send":return void(E.shared.monitors.EmitMonitor?(t=E.shared.monitors.EmitMonitor).handOut.apply(t,Mc(g)):E.instance("precollect","emit",g));case"precollect":var m=E.shared.collect,y=E.finalConfig.commonParams.refreshPrecollectedContext?{}:{pid:E.finalConfig.commonParams.pid,url:E.finalConfig.commonParams.url,context:E.finalConfig.commonParams.context};if("sentry"===g[1])return void m.sentry.push({event:g[2],params:y});if("exception"===g[1]){var b=g[3]||{},_=b.context,w=kc(b,["context"]),x=xc(xc({},Sc(y.context)&&y.context),_);return y.context=x,void m.exception.push({exception:g[2],params:xc(xc({},y),w)})}if("error"!==g[1])return void("emit"===g[1]&&m.emit.push({event:g[2],params:y}));if(!g[2]||!g[2][0])return;var k=g[2][0]||{};return qu(k)&&((k.error||k.message)&&m.jsError.push({event:k,params:y}),null!==(e=k.target)&&void 0!==e&&e.tagName&&m.staticError.push({event:k,params:y})),void(Yu(k)&&m.jsError.push({event:k,params:y}));case"Sentry":var I,T=g[1];return void(Ac(T)&&((I=null===(r=null===(n=E.shared.monitors)||void 0===n?void 0:n.JSErrorMonitor)||void 0===r?void 0:r.getSentry())?T(I):E.instance("precollect","sentry",g[1])));case"report":return void(E.client&&E.client.uploadQueue());case"performanceSend":return void(null===(a=null===(i=null===(o=E.shared.monitors)||void 0===o?void 0:o.PerformanceMonitor)||void 0===i?void 0:i.send)||void 0===a||a.call(i));case"performanceInit":return void(null===(u=null===(c=null===(s=E.shared.monitors)||void 0===s?void 0:s.PerformanceMonitor)||void 0===c?void 0:c.initAsync)||void 0===u||u.call(c));case"captureException":return void(E.shared.monitors.JSExceptionMonitor?(d=Wu(E.shared.monitors.JSExceptionMonitor.buildEvent(g[1]),null!==(l=g[2])&&void 0!==l?l:{}),null===(p=null===(f=E.client)||void 0===f?void 0:f.sendEvent)||void 0===p||p.call(f,d)):E.instance("precollect","exception",g[1],g[2]));case"context":return void(E.client&&(null===(h=g[1])||void 0===h||h.call(g,E.client.contextAgent)));default:return}},this.changeReortType=function(t){var e;E.finalConfig.commonParams.report_type=t,null===(e=E.client)||void 0===e||e.updateConfig(E.finalConfig)},this.onClose=function(){var e,n;e=E.onCloseReport,n=E.visibilityChange,Ac(e)&&(Ac(window.addEventListener)&&(window.addEventListener("unload",e),window.addEventListener("beforeunload",e),window.addEventListener("pagehide",e)),Ac(document.addEventListener)&&document.addEventListener("visibilitychange",function(t){Ac(n)?n(t):"hidden"===document.visibilityState&&e(t)}))},this.visibilityChange=function(){"hidden"===document.visibilityState&&E.onCloseReport(),"visible"===document.visibilityState&&E.changeReortType("xhr")},this.onCloseReport=function(){var t;E.changeReortType("beacon"),null===(t=E.client)||void 0===t||t.uploadQueue()},this.defaultClientConfig=Xu({commonParams:{version:this.version}}),this.finalConfig=Xu({commonParams:{version:this.version}}),this.client=void 0,this.userConfig={},this.inited=!1,this.configed=!1,this.shared={config:this.finalConfig,instance:[],collect:{sentry:[],jsError:[],staticError:[],emit:[],exception:[]},monitors:{}},this.baseParams={bid:this.shared.config.commonParams.bid||"",pid:this.shared.config.commonParams.pid||""},this.serverSetting=this.__SLARDAR__REPALCE__HOLDER__,this.saveInstance()}Hc()&&((ll=(cl=new ul).instance).version=cl.version,ll.shared=cl.shared,ll.SlardarBrowser=ul,ll._baseParams=cl.baseParams);var pl,hl=ll;"function"==typeof window.addEventListener&&(pl=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];hl("precollect","error",t)},window.addEventListener("error",pl,!0),window.addEventListener("unhandledrejection",pl));var dl=e(function(t,e){var n;t.exports=n=n||function(l,n){var t;if("undefined"!=typeof window&&window.crypto&&(t=window.crypto),!t&&"undefined"!=typeof window&&window.msCrypto&&(t=window.msCrypto),!t&&void 0!==v&&v.crypto&&(t=v.crypto),!t)try{t=pT("HEbw")}catch(t){}var r=function(){if(t){if("function"==typeof t.getRandomValues)try{return t.getRandomValues(new Uint32Array(1))[0]}catch(t){}if("function"==typeof t.randomBytes)try{return t.randomBytes(4).readInt32LE()}catch(t){}}throw new Error("Native crypto module could not be used to get secure random number.")},o=Object.create||function(t){var e;return g.prototype=t,e=new g,g.prototype=null,e},e={},i=e.lib={},a=i.Base={extend:function(t){var e=o(this);return t&&e.mixIn(t),e.hasOwnProperty("init")&&this.init!==e.init||(e.init=function(){e.$super.init.apply(this,arguments)}),(e.init.prototype=e).$super=this,e},create:function(){var t=this.extend();return t.init.apply(t,arguments),t},init:function(){},mixIn:function(t){for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e]);t.hasOwnProperty("toString")&&(this.toString=t.toString)},clone:function(){return this.init.prototype.extend(this)}},f=i.WordArray=a.extend({init:function(t,e){t=this.words=t||[],this.sigBytes=e!=n?e:4*t.length},toString:function(t){return(t||c).stringify(this)},concat:function(t){var e=this.words,n=t.words,r=this.sigBytes,o=t.sigBytes;if(this.clamp(),r%4)for(var i=0;i<o;i++){var a=n[i>>>2]>>>24-i%4*8&255;e[r+i>>>2]|=a<<24-(r+i)%4*8}else for(i=0;i<o;i+=4)e[r+i>>>2]=n[i>>>2];return this.sigBytes+=o,this},clamp:function(){var t=this.words,e=this.sigBytes;t[e>>>2]&=4294967295<<32-e%4*8,t.length=l.ceil(e/4)},clone:function(){var t=a.clone.call(this);return t.words=this.words.slice(0),t},random:function(t){for(var e=[],n=0;n<t;n+=4)e.push(r());return new f.init(e,t)}}),s=e.enc={},c=s.Hex={stringify:function(t){for(var e=t.words,n=t.sigBytes,r=[],o=0;o<n;o++){var i=e[o>>>2]>>>24-o%4*8&255;r.push((i>>>4).toString(16)),r.push((15&i).toString(16))}return r.join("")},parse:function(t){for(var e=t.length,n=[],r=0;r<e;r+=2)n[r>>>3]|=parseInt(t.substr(r,2),16)<<24-r%8*4;return new f.init(n,e/2)}},u=s.Latin1={stringify:function(t){for(var e=t.words,n=t.sigBytes,r=[],o=0;o<n;o++){var i=e[o>>>2]>>>24-o%4*8&255;r.push(String.fromCharCode(i))}return r.join("")},parse:function(t){for(var e=t.length,n=[],r=0;r<e;r++)n[r>>>2]|=(255&t.charCodeAt(r))<<24-r%4*8;return new f.init(n,e)}},p=s.Utf8={stringify:function(t){try{return decodeURIComponent(escape(u.stringify(t)))}catch(t){throw new Error("Malformed UTF-8 data")}},parse:function(t){return u.parse(unescape(encodeURIComponent(t)))}},h=i.BufferedBlockAlgorithm=a.extend({reset:function(){this._data=new f.init,this._nDataBytes=0},_append:function(t){"string"==typeof t&&(t=p.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes},_process:function(t){var e,n=this._data,r=n.words,o=n.sigBytes,i=this.blockSize,a=o/(4*i),s=(a=t?l.ceil(a):l.max((0|a)-this._minBufferSize,0))*i,c=l.min(4*s,o);if(s){for(var u=0;u<s;u+=i)this._doProcessBlock(r,u);e=r.splice(0,s),n.sigBytes-=c}return new f.init(e,c)},clone:function(){var t=a.clone.call(this);return t._data=this._data.clone(),t},_minBufferSize:0}),d=(i.Hasher=h.extend({cfg:a.extend(),init:function(t){this.cfg=this.cfg.extend(t),this.reset()},reset:function(){h.reset.call(this),this._doReset()},update:function(t){return this._append(t),this._process(),this},finalize:function(t){return t&&this._append(t),this._doFinalize()},blockSize:16,_createHelper:function(n){return function(t,e){return new n.init(e).finalize(t)}},_createHmacHelper:function(n){return function(t,e){return new d.HMAC.init(n,e).finalize(t)}}}),e.algo={});function g(){}return e}(Math)}),gl=e(function(t,e){var a;t.exports=(a=dl,function(l){var t=a,e=t.lib,n=e.WordArray,r=e.Hasher,o=t.algo,T=[];!function(){for(var t=0;t<64;t++)T[t]=4294967296*l.abs(l.sin(t+1))|0}();var i=o.MD5=r.extend({_doReset:function(){this._hash=new n.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(t,e){for(var n=0;n<16;n++){var r=e+n,o=t[r];t[r]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8)}var i=this._hash.words,a=t[e+0],s=t[e+1],c=t[e+2],u=t[e+3],l=t[e+4],f=t[e+5],p=t[e+6],h=t[e+7],d=t[e+8],g=t[e+9],v=t[e+10],m=t[e+11],y=t[e+12],b=t[e+13],_=t[e+14],w=t[e+15],x=E(x=i[0],I=i[1],A=i[2],k=i[3],a,7,T[0]),k=E(k,x,I,A,s,12,T[1]),A=E(A,k,x,I,c,17,T[2]),I=E(I,A,k,x,u,22,T[3]);x=E(x,I,A,k,l,7,T[4]),k=E(k,x,I,A,f,12,T[5]),A=E(A,k,x,I,p,17,T[6]),I=E(I,A,k,x,h,22,T[7]),x=E(x,I,A,k,d,7,T[8]),k=E(k,x,I,A,g,12,T[9]),A=E(A,k,x,I,v,17,T[10]),I=E(I,A,k,x,m,22,T[11]),x=E(x,I,A,k,y,7,T[12]),k=E(k,x,I,A,b,12,T[13]),A=E(A,k,x,I,_,17,T[14]),x=M(x,I=E(I,A,k,x,w,22,T[15]),A,k,s,5,T[16]),k=M(k,x,I,A,p,9,T[17]),A=M(A,k,x,I,m,14,T[18]),I=M(I,A,k,x,a,20,T[19]),x=M(x,I,A,k,f,5,T[20]),k=M(k,x,I,A,v,9,T[21]),A=M(A,k,x,I,w,14,T[22]),I=M(I,A,k,x,l,20,T[23]),x=M(x,I,A,k,g,5,T[24]),k=M(k,x,I,A,_,9,T[25]),A=M(A,k,x,I,u,14,T[26]),I=M(I,A,k,x,d,20,T[27]),x=M(x,I,A,k,b,5,T[28]),k=M(k,x,I,A,c,9,T[29]),A=M(A,k,x,I,h,14,T[30]),x=S(x,I=M(I,A,k,x,y,20,T[31]),A,k,f,4,T[32]),k=S(k,x,I,A,d,11,T[33]),A=S(A,k,x,I,m,16,T[34]),I=S(I,A,k,x,_,23,T[35]),x=S(x,I,A,k,s,4,T[36]),k=S(k,x,I,A,l,11,T[37]),A=S(A,k,x,I,h,16,T[38]),I=S(I,A,k,x,v,23,T[39]),x=S(x,I,A,k,b,4,T[40]),k=S(k,x,I,A,a,11,T[41]),A=S(A,k,x,I,u,16,T[42]),I=S(I,A,k,x,p,23,T[43]),x=S(x,I,A,k,g,4,T[44]),k=S(k,x,I,A,y,11,T[45]),A=S(A,k,x,I,w,16,T[46]),x=C(x,I=S(I,A,k,x,c,23,T[47]),A,k,a,6,T[48]),k=C(k,x,I,A,h,10,T[49]),A=C(A,k,x,I,_,15,T[50]),I=C(I,A,k,x,f,21,T[51]),x=C(x,I,A,k,y,6,T[52]),k=C(k,x,I,A,u,10,T[53]),A=C(A,k,x,I,v,15,T[54]),I=C(I,A,k,x,s,21,T[55]),x=C(x,I,A,k,d,6,T[56]),k=C(k,x,I,A,w,10,T[57]),A=C(A,k,x,I,p,15,T[58]),I=C(I,A,k,x,b,21,T[59]),x=C(x,I,A,k,l,6,T[60]),k=C(k,x,I,A,m,10,T[61]),A=C(A,k,x,I,c,15,T[62]),I=C(I,A,k,x,g,21,T[63]),i[0]=i[0]+x|0,i[1]=i[1]+I|0,i[2]=i[2]+A|0,i[3]=i[3]+k|0},_doFinalize:function(){var t=this._data,e=t.words,n=8*this._nDataBytes,r=8*t.sigBytes;e[r>>>5]|=128<<24-r%32;var o=l.floor(n/4294967296),i=n;e[15+(r+64>>>9<<4)]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),e[14+(r+64>>>9<<4)]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8),t.sigBytes=4*(e.length+1),this._process();for(var a=this._hash,s=a.words,c=0;c<4;c++){var u=s[c];s[c]=16711935&(u<<8|u>>>24)|4278255360&(u<<24|u>>>8)}return a},clone:function(){var t=r.clone.call(this);return t._hash=this._hash.clone(),t}});function E(t,e,n,r,o,i,a){var s=t+(e&n|~e&r)+o+a;return(s<<i|s>>>32-i)+e}function M(t,e,n,r,o,i,a){var s=t+(e&r|n&~r)+o+a;return(s<<i|s>>>32-i)+e}function S(t,e,n,r,o,i,a){var s=t+(e^n^r)+o+a;return(s<<i|s>>>32-i)+e}function C(t,e,n,r,o,i,a){var s=t+(n^(e|~r))+o+a;return(s<<i|s>>>32-i)+e}t.MD5=r._createHelper(i),t.HmacMD5=r._createHmacHelper(i)}(Math),a.MD5)}),vl=e(function(t,e){var n,r,o,i,a,s,f,c;t.exports=(o=(r=n=dl).lib,i=o.WordArray,a=o.Hasher,s=r.algo,f=[],c=s.SHA1=a.extend({_doReset:function(){this._hash=new i.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(t,e){for(var n,r=this._hash.words,o=r[0],i=r[1],a=r[2],s=r[3],c=r[4],u=0;u<80;u++){u<16?f[u]=0|t[e+u]:(n=f[u-3]^f[u-8]^f[u-14]^f[u-16],f[u]=n<<1|n>>>31);var l=(o<<5|o>>>27)+c+f[u];l+=u<20?1518500249+(i&a|~i&s):u<40?1859775393+(i^a^s):u<60?(i&a|i&s|a&s)-1894007588:(i^a^s)-899497514,c=s,s=a,a=i<<30|i>>>2,i=o,o=l}r[0]=r[0]+o|0,r[1]=r[1]+i|0,r[2]=r[2]+a|0,r[3]=r[3]+s|0,r[4]=r[4]+c|0},_doFinalize:function(){var t=this._data,e=t.words,n=8*this._nDataBytes,r=8*t.sigBytes;return e[r>>>5]|=128<<24-r%32,e[14+(r+64>>>9<<4)]=Math.floor(n/4294967296),e[15+(r+64>>>9<<4)]=n,t.sigBytes=4*e.length,this._process(),this._hash},clone:function(){var t=a.clone.call(this);return t._hash=this._hash.clone(),t}}),r.SHA1=a._createHelper(c),r.HmacSHA1=a._createHmacHelper(c),n.SHA1)}),ml=(new ul).instance;ml("config",{bid:"feishu_blockit_web",pid:location.href,performanceAuto:!1,hookPath:!1,hookXHR:!1,hookFetch:!1,enableFMP:!1,enableCatchJSError:!1,enableCatchJSErrorV2:!0,enableCatchGlobalJSError:!1,enableFPSJankTimesMonitor:!1,enableCrash:!1,enablePerformance:!1,enableBreadcrumb:!1,hookConsole:!1,hookDom:!1,context:{version:"0.0.43-beta.49"}});var yl=function(t){var e,n,r={context:t};t.userId&&(n=t.userId,e=vl("08a441"+gl(n+"42b91e").toString()).toString(),r.slardar_web_id=e,r.context.userId=e),ml("config",r)},bl=function(t){ml("emit","counter",ci({value:1},t))},_l=function(t){ml("emit","timer",t)},wl=function(t){ml("emit","log",t)},xl=function(t){ml("captureException",t)};function kl(t){return t.includes("://")}function Il(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"open",n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"https";if(t.domain)return"object"===Ic(t.domain)?kl(t.domain[e])?t.domain[e]:"".concat(n,"://").concat(t.domain[e]):"string"==typeof t.domain?kl(t.domain)?t.domain:"".concat(n,"://").concat(e,".").concat(t.domain):"";var r="staging"===t.env||"boe"===t.env||"pre"===t.env?"-".concat(t.env):"",o="feishu"===t.region?"feishu".concat(r,".cn"):"larksuite".concat(r,".com");return"".concat(n,"://").concat(e,".").concat(o)}new Gi;var Tl="ping/pong",El=(ii(Ml,[{key:"clearPing",value:function(){this.timer&&(clearTimeout(this.timer),this.timer=null),this.retry.cleanAll()}},{key:"reConnect",value:function(){var t,e=this;this.clearPing(),this.retryTimer||(this.connectTask?this.connectTask.catch(function(){return e.reConnect()}):(t=2e3*this.reConnectTimes,this.retryTimer=setTimeout(function(){e.retryTimer=null,e.connect().then(function(){e.reConnectTimes=0,e.send(e.config.reconnect())},function(){e.reConnectTimes++,e.reConnect()})},t<6e4?t:6e4)))}},{key:"connect",value:function(){var t,n,e,r,o,i=this;return this.client&&(this.client.removeEventListener("message",this.handler),this.client.removeEventListener("close",this.closeHandler),this.client.close()),this.connectTask||(this.connectTask=(t=this.config.fetch,n=this.config.env,e=Il(n,"open","https"),r=Il(n,"open","wss"),o=pa[ua.getAuthToken],t("".concat(e).concat(o.path),{method:o.method}).then(function(t){if(t&&0===t.code)return t.data.secretClientId;throw new Error("no auth")}).then(function(t){var e="staging"===n.env?"lark.block.server_staging":"lark.block.server";return new WebSocket("".concat(r,"/ws?access_token=").concat(t,"&service_id=").concat(e))}).then(function(n){return new Promise(function(t,e){n.addEventListener("open",function(){i.client=n,i.connectTask=null,t(),i.ping()},{once:!0}),n.addEventListener("error",function(t){i.reConnect(),e(t)}),n.addEventListener("close",i.closeHandler),n.addEventListener("message",i.handler)})}).then(function(){i.connectTask=null,i.cache.length&&i.cache.forEach(function(t){return i.send(t)}),i.cache.length=0},function(t){throw i.connectTask=null,t}))),this.connectTask}},{key:"open",value:function(t){return this.config=t,this.client&&(this.client.removeEventListener("message",this.handler),this.client.removeEventListener("close",this.closeHandler),this.client.close()),this.closed=!1,this.cache.length=0,this.connect()}},{key:"send",value:function(t){this.client?(this.client.send(new Blob([JSON.stringify(t)],{type:"application/json"})),this.retry.sendData(t)):this.cache.push(t)}},{key:"onmessage",value:function(t){var e=this;return this.listeners.push(t),function(){Qi(e.listeners,t)}}},{key:"close",value:function(){this.client&&(this.client.close(),this.client=null,this.closed=!0,this.clearPing())}}]),Ml);function Ml(t){var n=this;ri(this,Ml),ai(this,"client",null),ai(this,"listeners",[]),ai(this,"cache",[]),ai(this,"closed",!1),ai(this,"retry",new ta),ai(this,"timer",null),ai(this,"handler",function(t){if(t.data&&t.data.constructor===Blob)o=t.data,new Promise(function(t,e){var n=new FileReader,r=function(){n.onload=null,n.onerror=null};n.onload=function(){t(n.result),r()},n.onerror=function(){e(n.error),r(),n.abort()},n.readAsText(o)}).then(function(t){try{return JSON.parse(t)}catch(t){}}).then(function(e){e&&(n.listeners.forEach(function(t){return t(e)}),n.retry.onData(e))});else try{n.retry.onData(JSON.parse(t.data))}catch(t){}var o}),ai(this,"closeHandler",function(){n.closed||n.reConnect()}),ai(this,"ping",function(){n.timer=setTimeout(function(){var t;n.client&&(t={type:Tl,id:1},n.client.send(JSON.stringify(t)),n.retry.sendData(t))},3e4)}),ai(this,"connectTask",null),ai(this,"config",void 0),ai(this,"reConnectTimes",0),ai(this,"retryTimer",null),this.retry.use({timeout:3e3,format:function(t){return t&&t.type===Tl&&t.id||void 0},parse:function(t){return t&&t.type===Tl&&t.id||void 0},handler:function(){n.reConnect()},success:this.ping}),this.retry.use(ci(ci({timeout:5e3},t),{},{handler:function(t){n.client&&n.send(t)}}))}var Sl,Al=(ii(Cl,[{key:"init",value:function(t){var e=this;this.namespace="".concat("__BLOCKIT_").concat(t),this.db||this.task||(Sl=Sl||function(s,t,e){var c=1<arguments.length&&void 0!==t?arguments[1]:"blockit_sdk",u=2<arguments.length&&void 0!==e?arguments[2]:Xi,l=[];return function i(a){return new Promise(function(n,r){var o=indexedDB.open(c);o.onsuccess=function(){var t,e=o.result;l.push(e),e.objectStoreNames.length&&!e.objectStoreNames.contains(a)?(l.forEach(function(t){return t.close()}),l.length=0,(t=indexedDB.deleteDatabase(c)).onsuccess=function(){i(a).then(n,r)},t.onerror=r):n(e)},o.onerror=r,o.onupgradeneeded=function(){var t,e=o.result;e.objectStoreNames.contains(a)||(t=e.createObjectStore(a,{keyPath:s}),u(t),t.transaction.oncomplete=function(){n(e)},t.transaction.onerror=r)}})}}("blockID"),this.task=Sl(this.namespace).then(function(t){e.db=t,e.task=null}))}},{key:"handlerFactory",value:function(t){for(var e=arguments.length,n=new Array(1<e?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return this.task?this.task.then(function(){return t.apply(void 0,n)},function(){}):this.db?t.apply(void 0,n):Promise.resolve()}},{key:"changeHandler",value:function(t){for(var e=0,n=this.listeners.length;e<n;e++)this.listeners[e](t)}},{key:"get",value:function(t){var e=this;return this.handlerFactory(function(){return r=e.db,o=e.namespace,i=t,new Promise(function(t,e){if(!r.objectStoreNames.contains(o))return t();var n=r.transaction(o).objectStore(o).get(i);n.onsuccess=function(){return t(n.result||void 0)},n.onerror=e});var r,o,i})}},{key:"add",value:function(t){var e=this;return this.handlerFactory(function(){return r=e.db,o=e.namespace,i=t,new Promise(function(t,e){if(!r.objectStoreNames.contains(o))return t();var n=r.transaction(o,"readwrite").objectStore(o).add(i);n.onsuccess=function(){return t()},n.onerror=e});var r,o,i})}},{key:"update",value:function(t){var e=this;return this.handlerFactory(function(){return r=e.db,o=e.namespace,i=t,new Promise(function(t,e){if(!r.objectStoreNames.contains(o))return t();var n=r.transaction(o,"readwrite").objectStore(o).put(i);n.onsuccess=function(){return t()},n.onerror=e}).then(function(){return e.changeHandler(t)});var r,o,i})}},{key:"delete",value:function(t){var e=this;return this.handlerFactory(function(){return r=e.db,o=e.namespace,i=t,new Promise(function(t,e){if(!r.objectStoreNames.contains(o))return t();var n=r.transaction(o).objectStore(o).delete(i);n.onsuccess=function(){return t()},n.onerror=e}).then(function(){return e.changeHandler(t)});var r,o,i})}},{key:"onChange",value:function(t){return this.listeners.push(t),Qi.bind(null,this.listeners,t)}}]),Cl);function Cl(){ri(this,Cl),ai(this,"listeners",[]),ai(this,"namespace",void 0),ai(this,"db",void 0),ai(this,"task",null)}function zl(){var r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:sa;return function(t,e){var n=Il(r,t.subDomain)+t.path;return bf.fetch(n,ci(ci({method:t.method,body:JSON.stringify(e.data)},e),{},{headers:ci({"Content-Type":"text/plain;charset=utf-8"},e.headers)})).then(function(t){if(0===t.code)return t.data;throw new Error(t.msg)})}}function Nl(){return(Nl=ni(regeneratorRuntime.mark(function t(e){var n,r,o,i=arguments;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=1<i.length&&void 0!==i[1]?i[1]:sa,t.next=3,zl(n)(pa[ua.getBlockEntity],{data:{blockIDs:[e]}});case 3:if(r=t.sent,(o=r.blocks[e].entity)&&o.blockID){t.next=7;break}throw new Error("BlockID is invalid");case 7:return o.sourceMeta=JSON.parse(o.sourceMeta||'""'),o.sourceData=JSON.parse(o.sourceData||'""'),t.abrupt("return",o);case 10:case"end":return t.stop()}},t)}))).apply(this,arguments)}function jl(t,e){return RegExp(t,e)}var Ol,Dl,Ll={UNSUPPORTED_Y:m(function(){var t=jl("a","y");return t.lastIndex=2,null!=t.exec("abcd")}),BROKEN_CARET:m(function(){var t=jl("^r","gy");return t.lastIndex=2,null!=t.exec("str")})},Pl=RegExp.prototype.exec,Rl=String.prototype.replace,$l=Pl,Ul=(Ol=/a/,Dl=/b*/g,Pl.call(Ol,"a"),Pl.call(Dl,"a"),0!==Ol.lastIndex||0!==Dl.lastIndex),Hl=Ll.UNSUPPORTED_Y||Ll.BROKEN_CARET,Bl=void 0!==/()??/.exec("")[1];(Ul||Bl||Hl)&&($l=function(t){var e,n,r,o,i=this,a=Hl&&i.sticky,s=mo.call(i),c=i.source,u=0,l=t;return a&&(-1===(s=s.replace("y","")).indexOf("g")&&(s+="g"),l=String(t).slice(i.lastIndex),0<i.lastIndex&&(!i.multiline||i.multiline&&"\n"!==t[i.lastIndex-1])&&(c="(?: "+c+")",l=" "+l,u++),n=new RegExp("^(?:"+c+")",s)),Bl&&(n=new RegExp("^"+c+"$(?!\\s)",s)),Ul&&(e=i.lastIndex),r=Pl.call(a?n:i,l),a?r?(r.input=r.input.slice(u),r[0]=r[0].slice(u),r.index=i.lastIndex,i.lastIndex+=r[0].length):i.lastIndex=0:Ul&&r&&(i.lastIndex=i.global?r.index+r[0].length:e),Bl&&r&&1<r.length&&Rl.call(r[0],n,function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(r[o]=void 0)}),r});var Fl=$l;jt({target:"RegExp",proto:!0,forced:/./.exec!==Fl},{exec:Fl});var Vl,Wl,ql,Yl=Bt("species"),Jl=!m(function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}),Ql="$0"==="a".replace(/./,"$0"),Gl=Bt("replace"),Zl=!!/./[Gl]&&""===/./[Gl]("a","$0"),Kl=!m(function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}),Xl=function(n,t,e,r){var i,o,a,s,c=Bt(n),u=!m(function(){var t={};return t[c]=function(){return 7},7!=""[n](t)}),l=u&&!m(function(){var t=!1,e=/a/;return"split"===n&&((e={}).constructor={},e.constructor[Yl]=function(){return e},e.flags="",e[c]=/./[c]),e.exec=function(){return t=!0,null},e[c](""),!t});u&&l&&("replace"!==n||Jl&&Ql&&!Zl)&&("split"!==n||Kl)||(i=/./[c],a=(o=e(c,""[n],function(t,e,n,r,o){return e.exec===Fl?u&&!o?{done:!0,value:i.call(e,n,r)}:{done:!0,value:t.call(n,e,r)}:{done:!1}},{REPLACE_KEEPS_$0:Ql,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:Zl}))[0],s=o[1],rt(String.prototype,n,a),rt(RegExp.prototype,c,2==t?function(t,e){return s.call(t,this,e)}:function(t){return s.call(t,this)})),r&&D(RegExp.prototype[c],"sham",!0)},tf=So.charAt,ef=function(t,e,n){return e+(n?tf(t,e).length:1)},nf=function(t,e){var n=t.exec;if("function"==typeof n){var r=n.call(t,e);if("object"!=typeof r)throw TypeError("RegExp exec method returned something other than an Object or null");return r}if("RegExp"!==s(t))throw TypeError("RegExp#exec called on incompatible receiver");return Fl.call(t,e)},rf=Math.max,of=Math.min,af=Math.floor,sf=/\$([$&'`]|\d\d?|<[^>]*>)/g,cf=/\$([$&'`]|\d\d?)/g,uf=function(t){return void 0===t?t:String(t)};Xl("replace",2,function(o,_,w,t){var x=t.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,k=t.REPLACE_KEEPS_$0,I=x?"$":"$0";return[function(t,e){var n=f(this),r=null==t?void 0:t[o];return void 0!==r?r.call(t,n,e):_.call(String(n),t,e)},function(t,e){if(!x&&k||"string"==typeof e&&-1===e.indexOf(I)){var n=w(_,t,this,e);if(n.done)return n.value}var r=E(t),o=String(this),i="function"==typeof e;i||(e=String(e));var a,s=r.global;s&&(a=r.unicode,r.lastIndex=0);for(var c=[];;){var u=nf(r,o);if(null===u)break;if(c.push(u),!s)break;""===String(u[0])&&(r.lastIndex=ef(o,ft(r.lastIndex),a))}for(var l="",f=0,p=0;p<c.length;p++){u=c[p];for(var h=String(u[0]),d=rf(of(ut(u.index),o.length),0),g=[],v=1;v<u.length;v++)g.push(uf(u[v]));var m,y=u.groups,b=i?(m=[h].concat(g,d,o),void 0!==y&&m.push(y),String(e.apply(void 0,m))):T(h,o,d,g,y,e);f<=d&&(l+=o.slice(f,d)+b,f=d+h.length)}return l+o.slice(f)}];function T(i,a,s,c,u,t){var l=s+i.length,f=c.length,e=cf;return void 0!==u&&(u=Dt(u),e=sf),_.call(t,e,function(t,e){var n;switch(e.charAt(0)){case"$":return"$";case"&":return i;case"`":return a.slice(0,s);case"'":return a.slice(l);case"<":n=u[e.slice(1,-1)];break;default:var r=+e;if(0===r)return t;if(f<r){var o=af(r/10);return 0!==o&&o<=f?void 0===c[o-1]?e.charAt(1):c[o-1]+e.charAt(1):t}n=c[r-1]}return void 0===n?"":n})}}),(ql=Vl=Vl||{})[ql.GET_APP_CODE_FAIL=-4025]="GET_APP_CODE_FAIL",ql[ql.APP_CHECK_FAIL=-4028]="APP_CHECK_FAIL",ql[ql.NEED_UPGRADE=0]="NEED_UPGRADE",ql[ql.AVAILABLE=1]="AVAILABLE",ql[ql.UNABLE_DISPLAY=2]="UNABLE_DISPLAY",ql[ql.DEACTIVATE=100]="DEACTIVATE",ql[ql.UNINSTALL=101]="UNINSTALL",ql[ql.NO_PERMISSION=200]="NO_PERMISSION",ql[ql.NOT_SUPPORT_ABILITY=300]="NOT_SUPPORT_ABILITY";var lf="https://sf3-cn.feishucdn.com/obj/eden-cn/eseh7nupevhps/blockit/",ff=(ai(Wl={},Vl.NEED_UPGRADE,lf+"upgrade.svg"),ai(Wl,Vl.UNABLE_DISPLAY,lf+"display.svg"),ai(Wl,Vl.DEACTIVATE,lf+"deactivate.svg"),ai(Wl,Vl.UNINSTALL,lf+"uninstall.svg"),ai(Wl,Vl.NO_PERMISSION,lf+"nopermission.svg"),ai(Wl,Vl.NOT_SUPPORT_ABILITY,lf+"deactivate.svg"),Wl),pf="\n  display: flex;\n  box-sizing: border-box;\n  justify-content: center;\n  align-items: center;\n  min-height: 160px;\n  max-width: 100%;\n  width: 730px;\n  background-color: #f5f6f7;\n  border: 1px solid #dee0e3;\n  border-radius: 4px;\n  padding: 14px 32px;\n",hf=!1;function df(){var t;hf||((t=document.createElement("style")).appendChild(document.createTextNode("\n    @keyframes block-loading {\n      from {\n        transform: rotate(0);\n      }\n      to {\n        transform: rotate(360deg);\n      }\n    }\n\n    .block-status__button {\n      display: inline-block;\n      height: 32px;\n      border: 1px solid #3370ff;\n      box-sizing: border-box;\n      border-radius: 4px;\n      color: #3370ff;\n      cursor: pointer;\n      font-size: 14px;\n      line-height: 20px;\n      padding: 6px 16px;\n      transition: all .3s cubic-bezier(.645,.045,.355,1);\n    }\n\n    .block-status__button:hover {\n      background-color: #e1eaff;\n    }\n\n    .block-status__button:active {\n      background-color: #bacefd;\n    }\n  ")),document.getElementsByTagName("head")[0].appendChild(t),hf=!0)}function gf(t,e){return t.appendChild(e),function(){t.removeChild(e)}}var vf=new El({format:function(t){if(t&&t.command&&t.data&&t.data.requestId)return t.data.requestId},parse:function(t){if(t&&t.command&&t.data&&200===t.data.errorCode)return t.data.requestId}}),mf=new Al,yf=new Map,bf={fetch:function(n,t){return fetch(n,ci({credentials:"include"},t)).then(function(e){if(e.ok)return e.json().then(function(t){return 0!==t.code&&wl({value:t.msg,level:"error",tags:{event:"requestError",code:e.status.toString(),errCode:t.code.toString(),requestId:e.headers.get("x-request-id"),logId:e.headers.get("x-tt-logid"),url:n}}),t});throw wl({value:e.statusText,level:"error",tags:{event:"requestError",code:e.status.toString(),requestId:e.headers.get("x-request-id"),logId:e.headers.get("x-tt-logid"),url:n}}),new Error("request error")})},socket:{open:function(t){return vf.open({fetch:bf.fetch,env:sa,reconnect:t})},onMessage:function(t){return vf.onmessage(t)},postMessage:function(t){vf.send(t)},close:function(){vf.close()}},ui:{showLoading:function(t,e){var n=document.createElement("div"),r=document.createElement("img");return df(),r.src="data:image/svg+xml,%3Csvg%20width%3D%2236%22%20height%3D%2236%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%3Cpath%20d%3D%22M18.302%200C28.084%200%2036%208.066%2036%2018s-7.916%2018-17.698%2018c-2.052%200-4.059-.356-5.953-1.044a1.542%201.542%200%20111.057-2.9%2014.31%2014.31%200%20004.896.858c8.06%200%2014.607-6.67%2014.607-14.914S26.362%203.086%2018.302%203.086c-5.812%200-11.004%203.499-13.34%208.83a1.546%201.546%200%2001-2.036.794%201.542%201.542%200%2001-.796-2.032C4.951%204.241%2011.243%200%2018.302%200z%22%20fill%3D%22%23BBBFC4%22%2F%3E%3C%2Fsvg%3E",r.setAttribute("style","\n    width: 36px;\n    height: 36px;\n    animation: block-loading 1s linear infinite;\n  "),n.setAttribute("status","loading"),n.setAttribute("style",pf),n.appendChild(r),gf(t,n)},showError:function(n,t,e){var r=document.createElement("div"),o=ff.hasOwnProperty(n.status)?ff[n.status]:"https://sf3-cn.feishucdn.com/obj/eden-cn/eseh7nupevhps/blockit/fail.svg",i=n.tips.content.replace(/{(\w+)}/,"").replace("\\n","\n");return df(),r.setAttribute("status","error"),r.setAttribute("style",pf),r.innerHTML='\n    <div style="text-align: center">\n      <img class="block-status__icon" src="'.concat(o,'" style="width: 80px; height: 80px" />\n      <div style="font-size: 14px; line-height: 22px; color: #646a73; white-space: pre-wrap; cursor: default">').concat(i,'</div>\n      <div style="margin-top: 16px; display: ').concat(0===n.tips.buttons.length?"none":"block",'"></div>\n    </div>\n  '),Object.keys(n.tips.params).forEach(function(t){var e=document.createElement("a");e.setAttribute("style","color: #3370ff; cursor: pointer"),e.onclick=n.tips.params[t].handler,e.innerText=n.tips.params[t].name,r.childNodes[1].childNodes[3].appendChild(e)}),n.tips.buttons.forEach(function(t){var e=document.createElement("div");e.innerText=t.name,e.onclick=t.handler,e.className="block-status__button",r.childNodes[1].childNodes[5].appendChild(e)}),gf(t,r)}},storage:{init:function(){return mf.init.apply(mf,arguments)},get:function(){return mf.get.apply(mf,arguments)},add:function(){return mf.add.apply(mf,arguments)},update:function(){return mf.update.apply(mf,arguments)},delete:function(){return mf.delete.apply(mf,arguments)},onChange:function(){return mf.onChange.apply(mf,arguments)}},cacheFallback:function(t){var e=yf.get(t);return e||(e=function(){return Nl.apply(this,arguments)}(t).finally(function(){yf.delete(t)}),yf.set(t,e)),e}},_f="\t\n\v\f\r Â áââââââââââââ¯âã\u2028\u2029\ufeff",wf="["+_f+"]",xf=RegExp("^"+wf+wf+"*"),kf=RegExp(wf+wf+"*$"),If=function(n){return function(t){var e=String(f(t));return 1&n&&(e=e.replace(xf,"")),2&n&&(e=e.replace(kf,"")),e}},Tf={start:If(1),end:If(2),trim:If(3)},Ef=Tf.trim,Mf=C.parseInt,Sf=/^[+-]?0[Xx]/,Af=8!==Mf(_f+"08")||22!==Mf(_f+"0x16")?function(t,e){var n=Ef(String(t));return Mf(n,e>>>0||(Sf.test(n)?16:10))}:Mf;jt({global:!0,forced:parseInt!=Af},{parseInt:Af});var Cf=ae.filter,zf=Zt("filter"),Nf=fe("filter");jt({target:"Array",proto:!0,forced:!zf||!Nf},{filter:function(t){return Cf(this,t,1<arguments.length?arguments[1]:void 0)}});var jf=[],Of=jf.sort,Df=m(function(){jf.sort(void 0)}),Lf=m(function(){jf.sort(null)}),Pf=se("sort");jt({target:"Array",proto:!0,forced:Df||!Lf||!Pf},{sort:function(t){return void 0===t?Of.call(Dt(this)):Of.call(Dt(this),ne(t))}});var Rf=ae.findIndex,$f=!0,Uf=fe("findIndex");function Hf(t,e,n){return("object"!==Ic(e)||null===e)&&("nil"===e?"number"==typeof n?t.splice(n,1):delete t[n]:t[n]=e,!0)}function Bf(t,e){if(Array.isArray(e))return e;for(var c=ci({},t),n=Object.keys(e),r=0,o=n.length;r<o;r++){var u=n[r],l=e[u];Hf(c,l,u)||(l.unique?function(){if(!Array.isArray(c[u]))throw new Error("".concat(u," is not array"));var n=l.unique,t=Object.keys(l.item),r=c[u].slice();c[u]=r;for(var e="self"===n?function(e){return r.findIndex(function(t){return t==e})}:function(e){return r.findIndex(function(t){return t&&t[n]==e})},o=0,i=t.length;o<i;o++){var a=e(t[o]),s=l.item[t[o]];-1===a?r.push(s):Hf(r,s,a)||(r[a]=Bf(r[a],s))}}():c[u]=Bf(c[u],l))}return c}function Ff(t,e){return Bf(t,e)}"findIndex"in[]&&Array(1).findIndex(function(){$f=!1}),jt({target:"Array",proto:!0,forced:$f||!Uf},{findIndex:function(t){return Rf(this,t,1<arguments.length?arguments[1]:void 0)}}),Me("findIndex");var Vf=new Map,Wf=new Map;function qf(t,e){return void 0===e||e<t}function Yf(t,e){return t+1===e}function Jf(t){return zl()(pa[ua.getBlockEntityV2],{data:{blockID:t}}).then(function(t){return ci(ci({},t),{},{entity:ci(ci({},t.entity),{},{sourceData:"string"==typeof t.entity.sourceData?JSON.parse(t.entity.sourceData||'""'):t.entity.sourceData,sourceMeta:"string"==typeof t.entity.sourceMeta?JSON.parse(t.entity.sourceMeta||'""'):t.entity.sourceMeta})})})}function Qf(t,e){var n=Wf.get(t);return n&&(n.state=1),Jf(t).then(function(t){!function(e,t){var n=e.entity.blockID,r=Wf.get(n);if(r&&!qf(r.version,e.version))if(1===r.state){r.version=e.version,r.entity=e.entity;var o=r.cache.filter(function(t){return qf(t.version,e.version)});o.sort(function(t,e){return qf(e.version,t.version)?-1:1});for(var i=0,a=o.length;i<a;i++){var s=o[i];if(!Yf(r.version,s.version))return Qf(n,t),r.cache=o.slice(i);r.version=o[i].version,r.entity=Ff(r.entity,o[i].event)}r.cache.length=0,r.state=0,t(r.entity)}else 0===r.state&&(r.version=e.version,r.entity=e.entity,t(r.entity))}(t,e)})}function Gf(t,e){var n,r,o,i=t.block_id,a=Wf.get(i);a?(r=t,o=e,1===(n=a).state?qf(r.version,n.version)&&n.cache.push(r):0===n.state&&(Yf(n.version,r.version)?(n.version=r.version,n.entity=Ff(n.entity,r.event),o(n.entity)):qf(r.version,n.version)&&(n.version=r.version,n.entity=Ff(n.entity,r.event),Qf(n.entity.blockID,o)))):Qf(i,e)}var Zf=new Map;function Kf(t,r){var e,n,o,i,a,s,c,u,l;t&&("pushBlockEvent"===t.command&&t.data&&t.data.header&&"update"===t.data.header.action?(n=(e=t.data).header,o=e.event,i=Vf.get(o.blockID),qf(a=parseInt(n.version),i)&&(Vf.set(o.blockID,a),r(o))):"incr"===t.type?Gf(t,r):"respSubscribeBlockEntity"===t.command&&(c=(s=t.data||{}).subType,u=s.requestId,"incr"!==c||(l=Zf.get(t.data.requestId))&&l.forEach(function(n){Wf.set(n,{version:-1,entity:{blockID:n},cache:[],state:1}),Jf(n).then(function(t){var e=Wf.get(n);e&&qf(t.version,e.version)&&(r(t.entity),Wf.set(n,{version:t.version,entity:t.entity,state:0,cache:[]}))})}),Zf.delete(u)))}var Xf,tp=(ii(Qp,[{key:"addFilter",value:function(t){return this.filters.push(t),Qi.bind(null,this.filters,t)}},{key:"addInstance",value:function(t){var e,n,r,o,i,a=t.type,s=t.id,c=t.blockID,u=t.instance,l=t.engine;"creator"!==a&&"panel"!==a&&this.filters.some(function(t){return t(a,s)})&&(0===this.instances.size&&this.start(),e=this.instances.get(c),r=u,(i=e||{})[(o=l).name]?i[o.name].push(r):i[o.name]=[r],n=i,!e&&n&&(this.instances.set(c,n),this.subscribe(c)))}},{key:"getInstanceMap",value:function(t){return this.instances.get(t)}},{key:"start",value:function(){var t=this;this.socket=bf.socket,this.socket.open(function(){return t.getSubMsg(Array.from(t.instances.keys()))}),this.socket.onMessage(this.msgHandler)}},{key:"getSubMsg",value:function(t){var e=Array.isArray(t)?t:[t],n=(++this.id).toString();return Zf.set(n,e),{command:"subscribeBlockEntity",data:{requestId:n,blockIds:e,subType:"incr"}}}},{key:"subscribe",value:function(t){this.socket.postMessage(this.getSubMsg(t))}},{key:"removeInstance",value:function(t,e,n){var r=this.instances.get(t);if(!r)return!1;var o,i=r[e];return!!i&&(Qi(i,n),i.length||(r[e],o=gi(r,[e].map(Si)),0===Object.keys(o).length?this.instances.delete(t):this.instances.set(t,o)),0===this.instances.size?this.close():this.instances.has(t)||this.unsubscribe(t),!0)}},{key:"unsubscribe",value:function(t){var e;e=t,Vf.has(e)?Vf.delete(e):Wf.has(e)&&Wf.delete(e),this.socket.postMessage({command:"unSubscribeBlockEntity",data:{requestId:(++this.id).toString(),blockIds:[t]}})}},{key:"close",value:function(){this.socket.close()}}]),Qp),ep=(ii(Jp,[{key:"addListener",value:function(t,e){return this.eventBus.on(t,e)}},{key:"unMount",value:function(){this.eventBus.clear(),this.removeTag()}}]),Jp),np=function(){ui(e,ep);var t=yi(e);function e(){return ri(this,e),t.apply(this,arguments)}return e}(),rp=function(){ui(a,np);var i=yi(a);function a(t,e,n,r){var o;return ri(this,a),(o=i.call(this,e,n)).entity=t,o.config=r,o.config.active&&o.appendTag(),o}return ii(a,[{key:"onLoaded",value:function(t){this.eventBus.on("onLoad",t)}},{key:"onLoadFail",value:function(t){this.eventBus.on("onError",t)}},{key:"onConfigLoaded",value:function(t){this.eventBus.on("onConfig",t)}}]),a}(),op=function(){ui(i,ep);var o=yi(i);function i(t,e,n){var r;return ri(this,i),(r=o.call(this,t,e)).config=n,ai(vi(r),"timer",null),ai(vi(r),"times",0),r}return ii(i,[{key:"destroy",value:function(){var e=this;return new Promise(function(t){e.timer&&clearTimeout(e.timer),e.timer=setTimeout(function(){e.unMount(),e.timer=null,t()},e.config.delay)})}},{key:"submitHandler",value:function(t,e){var n=this.dataHandler(t,e);0===n.code?this.eventBus.emit("onSubmit",n.data):1===n.code||this.times>=this.config.retry?this.eventBus.emit("onError",1===n.code?null:new Error("string"==typeof n.data?n.data:n.data&&n.data.message||"")):this.times++}},{key:"cancelHandler",value:function(){this.destroy()}},{key:"onSubmit",value:function(t,e){var n=this.addListener("onSubmit",t),r=this.addListener("onError",e);return function(){n(),r()}}}]),i}(),ip=function(){ui(a,op);var i=yi(a);function a(t,e,n,r){var o;return ri(this,a),(o=i.call(this,e,n,r)).blockTypeID=t,o.appendTag(),o}return ii(a,[{key:"onLoaded",value:function(t){this.eventBus.on("onLoad",t)}},{key:"onLoadFail",value:function(t){this.eventBus.on("onError",t)}}]),a}(),ap=function(){ui(s,op);var a=yi(s);function s(t,e,n,r,o){var i;return ri(this,s),(i=a.call(this,e,n,r)).entity=t,i.extra=o,i.appendTag(),i}return s}(),sp=function(){ui(a,np);var i=yi(a);function a(t,e,n,r){var o;return ri(this,a),(o=i.call(this,e,n)).entity=t,o.extra=r,o.appendTag(),o}return ii(a,[{key:"onDataChange",value:function(t){return this.addListener("onDataChange",t)}}]),a}(),cp=(ii(Yp,[{key:"loadEngine",value:function(t){var e=this;return this._hasInit?Promise.resolve():(this.loadTask||(this.loadTask=this.load(t).then(function(){e._hasInit=!0,e.loadTask=null})),this.loadTask)}},{key:"shouldCollaboration",value:function(t,e){return!1}},{key:"hasInit",get:function(){return this._hasInit}}]),Yp),up={props:"propsMap",panel:"panelMap",creator:"creatorMap",block:"blockMap"},lp=(ii(qp,[{key:"entityChange",value:function(t){var e;!t||(e=this.collaboration.getInstanceMap(t.blockID))&&e.block&&this.engineMap.block.onDataChange(t)}},{key:"registerUI",value:function(t,e,n){"string"==typeof t?this[up[t]].set(e,n):"function"==typeof t&&this.engineFilter.push(function(){return!0===t.apply(void 0,arguments)?e:null})}},{key:"registerEngine",value:function(t){var n=new(1<arguments.length&&void 0!==arguments[1]&&arguments[1]?t({baseEngine:cp,baseBlock:rp,baseProp:sp,baseCreator:ip,basePanel:ap}):t)(this.registerUI);return this.engineMap[n.name]=n,this.collaboration.addFilter(function(t,e){return n.shouldCollaboration(t,e)}),n}},{key:"getUIEngine",value:function(t,e){for(var n="string"==typeof e?e:e.blockTypeID,r=0,o=this.engineFilter.length;r<o;r++){var i=this.engineFilter[r](t,n);if(i)return i}var a=this[up[t]];return a.get(n)||a.get(fa)}},{key:"mount",value:function(t,e){for(var n=arguments.length,r=new Array(2<n?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];var i=t.mountUI.apply(t,[e].concat(r));return"block"!==e&&"props"!==e||this.collaboration.addInstance({type:e,id:"block"===e?r[0].blockTypeID:r[0],blockID:("block"===e?r[0]:r[1]).blockID,instance:i,engine:t}),i}},{key:"mountUISync",value:function(t){for(var e=arguments.length,n=new Array(1<e?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var o=this.getUIEngine(t,n[0]);return this.mount.apply(this,[o,t].concat(n))}},{key:"mountUI",value:function(t){for(var e=this,n=arguments.length,r=new Array(1<n?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];var i=this.getUIEngine(t,r[0]);return i.hasInit?Promise.resolve(i.mountUI.apply(i,[t].concat(r))):i.loadEngine().then(function(){return e.mount.apply(e,[i,t].concat(r))})}},{key:"unmountUI",value:function(t,e,n,r){var o=this.getUIEngine(e,r||t);this.collaboration.removeInstance(t,o.name,n)&&o.removeUI(e,n)}},{key:"loadEngine",value:function(t,e){return this.engineMap[e].loadEngine(t)}},{key:"engineLoaded",value:function(t){return this.engineMap[t].hasInit}}]),new qp),fp=wt.f,pp={}.toString,hp="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],dp={f:function(t){return hp&&"[object Window]"==pp.call(t)?function(t){try{return fp(t)}catch(t){return hp.slice()}}(t):fp(u(t))}},gp={f:Bt},vp=A.f,mp=function(t){var e=ot.Symbol||(ot.Symbol={});j(e,t)||vp(e,t,{value:gp.f(t)})},yp=ae.forEach,bp=Z("hidden"),_p=Bt("toPrimitive"),wp=nt.set,xp=nt.getterFor("Symbol"),kp=Object.prototype,Ip=C.Symbol,Tp=at("JSON","stringify"),Ep=O.f,Mp=A.f,Sp=dp.f,Ap=h.f,Cp=W("symbols"),zp=W("op-symbols"),Np=W("string-to-symbol-registry"),jp=W("symbol-to-string-registry"),Op=W("wks"),Dp=C.QObject,Lp=!Dp||!Dp.prototype||!Dp.prototype.findChild,Pp=p&&m(function(){return 7!=Ie(Mp({},"a",{get:function(){return Mp(this,"a",{value:7}).a}})).a})?function(t,e,n){var r=Ep(kp,e);r&&delete kp[e],Mp(t,e,n),r&&t!==kp&&Mp(kp,e,r)}:Mp,Rp=function(t,e){var n=Cp[t]=Ie(Ip.prototype);return wp(n,{type:"Symbol",tag:t,description:e}),p||(n.description=e),n},$p=Rt?function(t){return"symbol"==typeof t}:function(t){return Object(t)instanceof Ip},Up=function(t,e,n){t===kp&&Up(zp,e,n),E(t);var r=l(e,!0);return E(n),j(Cp,r)?(n.enumerable?(j(t,bp)&&t[bp][r]&&(t[bp][r]=!1),n=Ie(n,{enumerable:z(0,!1)})):(j(t,bp)||Mp(t,bp,z(1,{})),t[bp][r]=!0),Pp(t,r,n)):Mp(t,r,n)},Hp=function(e,t){E(e);var n=u(t),r=me(n).concat(Wp(n));return yp(r,function(t){p&&!Bp.call(n,t)||Up(e,t,n[t])}),e},Bp=function(t){var e=l(t,!0),n=Ap.call(this,e);return!(this===kp&&j(Cp,e)&&!j(zp,e))&&(!(n||!j(this,e)||!j(Cp,e)||j(this,bp)&&this[bp][e])||n)},Fp=function(t,e){var n=u(t),r=l(e,!0);if(n!==kp||!j(Cp,r)||j(zp,r)){var o=Ep(n,r);return!o||!j(Cp,r)||j(n,bp)&&n[bp][r]||(o.enumerable=!0),o}},Vp=function(t){var e=Sp(u(t)),n=[];return yp(e,function(t){j(Cp,t)||j(K,t)||n.push(t)}),n},Wp=function(t){var e=t===kp,n=Sp(e?zp:u(t)),r=[];return yp(n,function(t){!j(Cp,t)||e&&!j(kp,t)||r.push(Cp[t])}),r};function qp(){ri(this,qp),ai(this,"propsMap",new Map),ai(this,"panelMap",new Map),ai(this,"creatorMap",new Map),ai(this,"blockMap",new Map),ai(this,"engineFilter",[]),ai(this,"collaboration",void 0),ai(this,"engineMap",{}),this.registerUI=this.registerUI.bind(this),this.entityChange=this.entityChange.bind(this),this.collaboration=new tp(this.entityChange)}function Yp(t){ri(this,Yp),ai(this,"_hasInit",!1),ai(this,"loadTask",null),ai(this,"name",void 0),this.registerUI(t)}function Jp(t,e){ri(this,Jp),this.root=t,this.env=e,ai(this,"tag",void 0),ai(this,"eventBus",new Gi)}function Qp(e){ri(this,Qp),ai(this,"socket",void 0),ai(this,"id",0),ai(this,"instances",new Map),ai(this,"filters",[]),ai(this,"msgHandler",void 0),this.msgHandler=function(t){Kf(t,e)}}Pt||(rt((Ip=function(){if(this instanceof Ip)throw TypeError("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,e=J(t),n=function(t){this===kp&&n.call(zp,t),j(this,bp)&&j(this[bp],e)&&(this[bp][e]=!1),Pp(this,e,z(1,t))};return p&&Lp&&Pp(kp,e,{configurable:!0,set:n}),Rp(e,t)}).prototype,"toString",function(){return xp(this).tag}),rt(Ip,"withoutSetter",function(t){return Rp(J(t),t)}),h.f=Bp,A.f=Up,O.f=Fp,wt.f=dp.f=Vp,xt.f=Wp,gp.f=function(t){return Rp(Bt(t),t)},p&&(Mp(Ip.prototype,"description",{configurable:!0,get:function(){return xp(this).description}}),rt(kp,"propertyIsEnumerable",Bp,{unsafe:!0}))),jt({global:!0,wrap:!0,forced:!Pt,sham:!Pt},{Symbol:Ip}),yp(me(Op),function(t){mp(t)}),jt({target:"Symbol",stat:!0,forced:!Pt},{for:function(t){var e=String(t);if(j(Np,e))return Np[e];var n=Ip(e);return Np[e]=n,jp[n]=e,n},keyFor:function(t){if(!$p(t))throw TypeError(t+" is not a symbol");if(j(jp,t))return jp[t]},useSetter:function(){Lp=!0},useSimple:function(){Lp=!1}}),jt({target:"Object",stat:!0,forced:!Pt,sham:!p},{create:function(t,e){return void 0===e?Ie(t):Hp(Ie(t),e)},defineProperty:Up,defineProperties:Hp,getOwnPropertyDescriptor:Fp}),jt({target:"Object",stat:!0,forced:!Pt},{getOwnPropertyNames:Vp,getOwnPropertySymbols:Wp}),jt({target:"Object",stat:!0,forced:m(function(){xt.f(1)})},{getOwnPropertySymbols:function(t){return xt.f(Dt(t))}}),Tp&&(Xf=!Pt||m(function(){var t=Ip();return"[null]"!=Tp([t])||"{}"!=Tp({a:t})||"{}"!=Tp(Object(t))}),jt({target:"JSON",stat:!0,forced:Xf},{stringify:function(t,e,n){for(var r,o=[t],i=1;i<arguments.length;)o.push(arguments[i++]);if((N(r=e)||void 0!==t)&&!$p(t))return Ot(e)||(e=function(t,e){if("function"==typeof r&&(e=r.call(this,t,e)),!$p(e))return e}),o[1]=e,Tp.apply(null,o)}})),Ip.prototype[_p]||D(Ip.prototype,_p,Ip.prototype.valueOf),Fe(Ip,"Symbol"),K[bp]=!0;var Gp,Zp,Kp,Xp,th,eh,nh=A.f,rh=C.Symbol;!p||"function"!=typeof rh||"description"in rh.prototype&&void 0===rh().description||(Gp={},It(Zp=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),e=this instanceof Zp?new rh(t):void 0===t?rh():rh(t);return""===t&&(Gp[e]=!0),e},rh),(Kp=Zp.prototype=rh.prototype).constructor=Zp,Xp=Kp.toString,th="Symbol(test)"==String(rh("test")),eh=/^Symbol\((.*)\)[^)]+$/,nh(Kp,"description",{configurable:!0,get:function(){var t=N(this)?this.valueOf():this,e=Xp.call(t);if(j(Gp,t))return"";var n=th?e.slice(7,-1):e.replace(eh,"$1");return""===n?void 0:n}}),jt({global:!0,forced:!0},{Symbol:Zp})),mp("iterator");var oh=ae.every,ih=se("every"),ah=fe("every");jt({target:"Array",proto:!0,forced:!ih||!ah},{every:function(t){return oh(this,t,1<arguments.length?arguments[1]:void 0)}});var sh=function(t){for(var e=Dt(this),n=ft(e.length),r=arguments.length,o=dt(1<r?arguments[1]:void 0,n),i=2<r?arguments[2]:void 0,a=void 0===i?n:dt(i,n);o<a;)e[o++]=t;return e};jt({target:"Array",proto:!0},{fill:sh}),Me("fill");var ch=ae.find,uh=!0,lh=fe("find");"find"in[]&&Array(1).find(function(){uh=!1}),jt({target:"Array",proto:!0,forced:uh||!lh},{find:function(t){return ch(this,t,1<arguments.length?arguments[1]:void 0)}}),Me("find");var fh=function(t,e,n,r,o,i,a,s){for(var c,u=o,l=0,f=!!a&&re(a,s,3);l<r;){if(l in n){if(c=f?f(n[l],l,e):n[l],0<i&&Ot(c))u=fh(t,e,c,ft(c.length),u,i-1)-1;else{if(9007199254740991<=u)throw TypeError("Exceed the acceptable array length");t[u]=c}u++}l++}return u},ph=fh;jt({target:"Array",proto:!0},{flatMap:function(t){var e,n=Dt(this),r=ft(n.length);return ne(t),(e=Vt(n,0)).length=ph(e,n,n,r,0,1,t,1<arguments.length?arguments[1]:void 0),e}});var hh=[].join,dh=_!=Object,gh=se("join",",");jt({target:"Array",proto:!0,forced:dh||!gh},{join:function(t){return hh.call(u(this),void 0===t?",":t)}});var vh=Math.min,mh=[].lastIndexOf,yh=!!mh&&1/[1].lastIndexOf(1,-0)<0,bh=se("lastIndexOf"),_h=fe("indexOf",{ACCESSORS:!0,1:0}),wh=!yh&&bh&&_h?mh:function(t){if(yh)return mh.apply(this,arguments)||0;var e=u(this),n=ft(e.length),r=n-1;for(1<arguments.length&&(r=vh(r,ut(arguments[1]))),r<0&&(r=n+r);0<=r;r--)if(r in e&&e[r]===t)return r||0;return-1};jt({target:"Array",proto:!0,forced:wh!==[].lastIndexOf},{lastIndexOf:wh});var xh=an.right,kh=se("reduceRight"),Ih=fe("reduce",{1:0});jt({target:"Array",proto:!0,forced:!kh||!Ih},{reduceRight:function(t){return xh(this,t,arguments.length,1<arguments.length?arguments[1]:void 0)}});var Th=[].reverse,Eh=[1,2];jt({target:"Array",proto:!0,forced:String(Eh)===String(Eh.reverse())},{reverse:function(){return Ot(this)&&(this.length=this.length),Th.call(this)}}),Me("flatMap");var Mh="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView,Sh=function(t){if(void 0===t)return 0;var e=ut(t),n=ft(e);if(e!==n)throw RangeError("Wrong length or index");return n},Ah=Math.abs,Ch=Math.pow,zh=Math.floor,Nh=Math.log,jh=Math.LN2,Oh=function(t,e,n){var r,o,i,a=new Array(n),s=8*n-e-1,c=(1<<s)-1,u=c>>1,l=23===e?Ch(2,-24)-Ch(2,-77):0,f=t<0||0===t&&1/t<0?1:0,p=0;for((t=Ah(t))!=t||1/0===t?(o=t!=t?1:0,r=c):(r=zh(Nh(t)/jh),t*(i=Ch(2,-r))<1&&(r--,i*=2),2<=(t+=1<=r+u?l/i:l*Ch(2,1-u))*i&&(r++,i/=2),c<=r+u?(o=0,r=c):1<=r+u?(o=(t*i-1)*Ch(2,e),r+=u):(o=t*Ch(2,u-1)*Ch(2,e),r=0));8<=e;a[p++]=255&o,o/=256,e-=8);for(r=r<<e|o,s+=e;0<s;a[p++]=255&r,r/=256,s-=8);return a[--p]|=128*f,a},Dh=function(t,e){var n,r=t.length,o=8*r-e-1,i=(1<<o)-1,a=i>>1,s=o-7,c=r-1,u=t[c--],l=127&u;for(u>>=7;0<s;l=256*l+t[c],c--,s-=8);for(n=l&(1<<-s)-1,l>>=-s,s+=e;0<s;n=256*n+t[c],c--,s-=8);if(0===l)l=1-a;else{if(l===i)return n?NaN:u?-1/0:1/0;n+=Ch(2,e),l-=a}return(u?-1:1)*n*Ch(2,l-e)},Lh=wt.f,Ph=A.f,Rh=nt.get,$h=nt.set,Uh=C.ArrayBuffer,Hh=Uh,Bh=C.DataView,Fh=Bh&&Bh.prototype,Vh=Object.prototype,Wh=C.RangeError,qh=Oh,Yh=Dh,Jh=function(t){return[255&t]},Qh=function(t){return[255&t,t>>8&255]},Gh=function(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]},Zh=function(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]},Kh=function(t){return qh(t,23,4)},Xh=function(t){return qh(t,52,8)},td=function(t,e){Ph(t.prototype,e,{get:function(){return Rh(this)[e]}})},ed=function(t,e,n,r){var o=Sh(n),i=Rh(t);if(o+e>i.byteLength)throw Wh("Wrong index");var a=Rh(i.buffer).bytes,s=o+i.byteOffset,c=a.slice(s,s+e);return r?c:c.reverse()},nd=function(t,e,n,r,o,i){var a=Sh(n),s=Rh(t);if(a+e>s.byteLength)throw Wh("Wrong index");for(var c=Rh(s.buffer).bytes,u=a+s.byteOffset,l=r(+o),f=0;f<e;f++)c[u+f]=l[i?f:e-f-1]};if(Mh){if(!m(function(){Uh(1)})||!m(function(){new Uh(-1)})||m(function(){return new Uh,new Uh(1.5),new Uh(NaN),"ArrayBuffer"!=Uh.name})){for(var rd,od=(Hh=function(t){return zn(this,Hh),new Uh(Sh(t))}).prototype=Uh.prototype,id=Lh(Uh),ad=0;id.length>ad;)(rd=id[ad++])in Hh||D(Hh,rd,Uh[rd]);od.constructor=Hh}qe&&Pe(Fh)!==Vh&&qe(Fh,Vh);var sd=new Bh(new Hh(2)),cd=Fh.setInt8;sd.setInt8(0,2147483648),sd.setInt8(1,2147483649),!sd.getInt8(0)&&sd.getInt8(1)||$n(Fh,{setInt8:function(t,e){cd.call(this,t,e<<24>>24)},setUint8:function(t,e){cd.call(this,t,e<<24>>24)}},{unsafe:!0})}else Hh=function(t){zn(this,Hh,"ArrayBuffer");var e=Sh(t);$h(this,{bytes:sh.call(new Array(e),0),byteLength:e}),p||(this.byteLength=e)},Bh=function(t,e,n){zn(this,Bh,"DataView"),zn(t,Hh,"DataView");var r=Rh(t).byteLength,o=ut(e);if(o<0||r<o)throw Wh("Wrong offset");if(o+(n=void 0===n?r-o:ft(n))>r)throw Wh("Wrong length");$h(this,{buffer:t,byteLength:n,byteOffset:o}),p||(this.buffer=t,this.byteLength=n,this.byteOffset=o)},p&&(td(Hh,"byteLength"),td(Bh,"buffer"),td(Bh,"byteLength"),td(Bh,"byteOffset")),$n(Bh.prototype,{getInt8:function(t){return ed(this,1,t)[0]<<24>>24},getUint8:function(t){return ed(this,1,t)[0]},getInt16:function(t){var e=ed(this,2,t,1<arguments.length?arguments[1]:void 0);return(e[1]<<8|e[0])<<16>>16},getUint16:function(t){var e=ed(this,2,t,1<arguments.length?arguments[1]:void 0);return e[1]<<8|e[0]},getInt32:function(t){return Zh(ed(this,4,t,1<arguments.length?arguments[1]:void 0))},getUint32:function(t){return Zh(ed(this,4,t,1<arguments.length?arguments[1]:void 0))>>>0},getFloat32:function(t){return Yh(ed(this,4,t,1<arguments.length?arguments[1]:void 0),23)},getFloat64:function(t){return Yh(ed(this,8,t,1<arguments.length?arguments[1]:void 0),52)},setInt8:function(t,e){nd(this,1,t,Jh,e)},setUint8:function(t,e){nd(this,1,t,Jh,e)},setInt16:function(t,e){nd(this,2,t,Qh,e,2<arguments.length?arguments[2]:void 0)},setUint16:function(t,e){nd(this,2,t,Qh,e,2<arguments.length?arguments[2]:void 0)},setInt32:function(t,e){nd(this,4,t,Gh,e,2<arguments.length?arguments[2]:void 0)},setUint32:function(t,e){nd(this,4,t,Gh,e,2<arguments.length?arguments[2]:void 0)},setFloat32:function(t,e){nd(this,4,t,Kh,e,2<arguments.length?arguments[2]:void 0)},setFloat64:function(t,e){nd(this,8,t,Xh,e,2<arguments.length?arguments[2]:void 0)}});Fe(Hh,"ArrayBuffer"),Fe(Bh,"DataView");var ud={ArrayBuffer:Hh,DataView:Bh},ld=ud.ArrayBuffer,fd=C.ArrayBuffer;jt({global:!0,forced:fd!==ld},{ArrayBuffer:ld}),Hn("ArrayBuffer");var pd=ud.ArrayBuffer,hd=ud.DataView,dd=pd.prototype.slice,gd=m(function(){return!new pd(2).slice(1,void 0).byteLength});jt({target:"ArrayBuffer",proto:!0,unsafe:!0,forced:gd},{slice:function(t,e){if(void 0!==dd&&void 0===e)return dd.call(E(this),t);for(var n=E(this).byteLength,r=dt(t,n),o=dt(void 0===e?n:e,n),i=new(rr(this,pd))(ft(o-r)),a=new hd(this),s=new hd(i),c=0;r<o;)s.setUint8(c++,a.getUint8(r++));return i}}),jt({target:"Date",stat:!0},{now:function(){return(new Date).getTime()}});var vd=m(function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})});jt({target:"Date",proto:!0,forced:vd},{toJSON:function(t){var e=Dt(this),n=l(e);return"number"!=typeof n||isFinite(n)?e.toISOString():null}});var md=wt.f,yd=O.f,bd=A.f,_d=Tf.trim,wd=C.Number,xd=wd.prototype,kd="Number"==s(Ie(xd)),Id=function(t){var e,n,r,o,i,a,s,c,u=l(t,!1);if("string"==typeof u&&2<u.length)if(43===(e=(u=_d(u)).charCodeAt(0))||45===e){if(88===(n=u.charCodeAt(2))||120===n)return NaN}else if(48===e){switch(u.charCodeAt(1)){case 66:case 98:r=2,o=49;break;case 79:case 111:r=8,o=55;break;default:return+u}for(a=(i=u.slice(2)).length,s=0;s<a;s++)if((c=i.charCodeAt(s))<48||o<c)return NaN;return parseInt(i,r)}return+u};if(zt("Number",!wd(" 0o1")||!wd("0b1")||wd("+0x1"))){for(var Td,Ed=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof Ed&&(kd?m(function(){xd.valueOf.call(n)}):"Number"!=s(n))?Pn(new wd(Id(e)),n,Ed):Id(e)},Md=p?md(wd):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),Sd=0;Md.length>Sd;Sd++)j(wd,Td=Md[Sd])&&!j(Ed,Td)&&bd(Ed,Td,yd(wd,Td));(Ed.prototype=xd).constructor=Ed,rt(C,"Number",Ed)}jt({target:"Object",stat:!0,forced:!p,sham:!p},{defineProperty:A.f});var Ad=h.f,Cd=function(s){return function(t){for(var e,n=u(t),r=me(n),o=r.length,i=0,a=[];i<o;)e=r[i++],p&&!Ad.call(n,e)||a.push(s?[e,n[e]]:n[e]);return a}},zd={entries:Cd(!0),values:Cd(!1)},Nd=zd.entries;jt({target:"Object",stat:!0},{entries:function(t){return Nd(t)}});var jd=!m(function(){var t=Math.random();__defineSetter__.call(null,t,function(){}),delete C[t]}),Od=O.f;p&&jt({target:"Object",proto:!0,forced:jd},{__lookupSetter__:function(t){var e,n=Dt(this),r=l(t,!0);do{if(e=Od(n,r))return e.set}while(n=Pe(n))}});var Dd=zd.values;jt({target:"Object",stat:!0},{values:function(t){return Dd(t)}});var Ld=Tf.trim,Pd=C.parseFloat,Rd=1/Pd(_f+"-0")!=-1/0?function(t){var e=Ld(String(t)),n=Pd(e);return 0===n&&"-"==e.charAt(0)?-0:n}:Pd;jt({global:!0,forced:parseFloat!=Rd},{parseFloat:Rd});var $d=A.f,Ud=wt.f,Hd=nt.set,Bd=Bt("match"),Fd=C.RegExp,Vd=Fd.prototype,Wd=/a/g,qd=/a/g,Yd=new Fd(Wd)!==Wd,Jd=Ll.UNSUPPORTED_Y;if(p&&zt("RegExp",!Yd||Jd||m(function(){return qd[Bd]=!1,Fd(Wd)!=Wd||Fd(qd)==qd||"/a/i"!=Fd(Wd,"i")}))){for(var Qd=function(t,e){var n,r=this instanceof Qd,o=ko(t),i=void 0===e;if(!r&&o&&t.constructor===Qd&&i)return t;Yd?o&&!i&&(t=t.source):t instanceof Qd&&(i&&(e=mo.call(t)),t=t.source),Jd&&(n=!!e&&-1<e.indexOf("y"))&&(e=e.replace(/y/g,""));var a=Pn(Yd?new Fd(t,e):Fd(t,e),r?this:Vd,Qd);return Jd&&n&&Hd(a,{sticky:n}),a},Gd=function(e){e in Qd||$d(Qd,e,{configurable:!0,get:function(){return Fd[e]},set:function(t){Fd[e]=t}})},Zd=Ud(Fd),Kd=0;Zd.length>Kd;)Gd(Zd[Kd++]);(Vd.constructor=Qd).prototype=Vd,rt(C,"RegExp",Qd)}Hn("RegExp"),Rn("Set",function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},qn);var Xd,tg=O.f,eg="".endsWith,ng=Math.min,rg=Eo("endsWith"),og=!(rg||(!(Xd=tg(String.prototype,"endsWith"))||Xd.writable));jt({target:"String",proto:!0,forced:!og&&!rg},{endsWith:function(t){var e=String(f(this));Io(t);var n=1<arguments.length?arguments[1]:void 0,r=ft(e.length),o=void 0===n?r:ng(ft(n),r),i=String(t);return eg?eg.call(e,i,o):e.slice(o-i.length,o)===i}}),Xl("match",1,function(r,u,l){return[function(t){var e=f(this),n=null==t?void 0:t[r];return void 0!==n?n.call(t,e):new RegExp(t)[r](String(e))},function(t){var e=l(u,t,this);if(e.done)return e.value;var n=E(t),r=String(this);if(!n.global)return nf(n,r);for(var o,i=n.unicode,a=[],s=n.lastIndex=0;null!==(o=nf(n,r));){var c=String(o[0]);""===(a[s]=c)&&(n.lastIndex=ef(r,ft(n.lastIndex),i)),s++}return 0===s?null:a}]});var ig="".repeat||function(t){var e=String(f(this)),n="",r=ut(t);if(r<0||r==1/0)throw RangeError("Wrong number of repetitions");for(;0<r;(r>>>=1)&&(e+=e))1&r&&(n+=e);return n},ag=Math.ceil,sg=function(u){return function(t,e,n){var r,o,i=String(f(t)),a=i.length,s=void 0===n?" ":String(n),c=ft(e);return c<=a||""==s?i:(r=c-a,(o=ig.call(s,ag(r/s.length))).length>r&&(o=o.slice(0,r)),u?i+o:o+i)}},cg={start:sg(!1),end:sg(!0)},ug=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(Wt),lg=cg.end;jt({target:"String",proto:!0,forced:ug},{padEnd:function(t){return lg(this,t,1<arguments.length?arguments[1]:void 0)}});var fg=cg.start;jt({target:"String",proto:!0,forced:ug},{padStart:function(t){return fg(this,t,1<arguments.length?arguments[1]:void 0)}}),jt({target:"String",proto:!0},{repeat:ig});var pg=Object.is||function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e};Xl("search",1,function(r,a,s){return[function(t){var e=f(this),n=null==t?void 0:t[r];return void 0!==n?n.call(t,e):new RegExp(t)[r](String(e))},function(t){var e=s(a,t,this);if(e.done)return e.value;var n=E(t),r=String(this),o=n.lastIndex;pg(o,0)||(n.lastIndex=0);var i=nf(n,r);return pg(n.lastIndex,o)||(n.lastIndex=o),null===i?-1:i.index}]});var hg=[].push,dg=Math.min,gg=!m(function(){return!RegExp(4294967295,"y")});Xl("split",2,function(o,v,m){var y="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||1<".".split(/()()/).length||"".split(/.?/).length?function(t,e){var n=String(f(this)),r=void 0===e?4294967295:e>>>0;if(0===r)return[];if(void 0===t)return[n];if(!ko(t))return v.call(n,t,r);for(var o,i,a,s=[],c=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),u=0,l=new RegExp(t.source,c+"g");(o=Fl.call(l,n))&&!((i=l.lastIndex)>u&&(s.push(n.slice(u,o.index)),1<o.length&&o.index<n.length&&hg.apply(s,o.slice(1)),a=o[0].length,u=i,s.length>=r));)l.lastIndex===o.index&&l.lastIndex++;return u===n.length?!a&&l.test("")||s.push(""):s.push(n.slice(u)),s.length>r?s.slice(0,r):s}:"0".split(void 0,0).length?function(t,e){return void 0===t&&0===e?[]:v.call(this,t,e)}:v;return[function(t,e){var n=f(this),r=null==t?void 0:t[o];return void 0!==r?r.call(t,n,e):y.call(String(n),t,e)},function(t,e){var n=m(y,t,this,e,y!==v);if(n.done)return n.value;var r=E(t),o=String(this),i=rr(r,RegExp),a=r.unicode,s=(r.ignoreCase?"i":"")+(r.multiline?"m":"")+(r.unicode?"u":"")+(gg?"y":"g"),c=new i(gg?r:"^(?:"+r.source+")",s),u=void 0===e?4294967295:e>>>0;if(0===u)return[];if(0===o.length)return null===nf(c,o)?[o]:[];for(var l=0,f=0,p=[];f<o.length;){c.lastIndex=gg?f:0;var h,d=nf(c,gg?o:o.slice(f));if(null===d||(h=dg(ft(c.lastIndex+(gg?0:f)),o.length))===l)f=ef(o,f,a);else{if(p.push(o.slice(l,f)),p.length===u)return p;for(var g=1;g<=d.length-1;g++)if(p.push(d[g]),p.length===u)return p;f=l=h}}return p.push(o.slice(l)),p}]},!gg);var vg,mg=O.f,yg="".startsWith,bg=Math.min,_g=Eo("startsWith"),wg=!(_g||(!(vg=mg(String.prototype,"startsWith"))||vg.writable));jt({target:"String",proto:!0,forced:!wg&&!_g},{startsWith:function(t){var e=String(f(this));Io(t);var n=ft(bg(1<arguments.length?arguments[1]:void 0,e.length)),r=String(t);return yg?yg.call(e,r,n):e.slice(n,n+r.length)===r}});var xg=function(t){return m(function(){return!!_f[t]()||"âÂá "!="âÂá "[t]()||_f[t].name!==t})},kg=Tf.trim;jt({target:"String",proto:!0,forced:xg("trim")},{trim:function(){return kg(this)}});var Ig=Tf.end,Tg=xg("trimEnd"),Eg=Tg?function(){return Ig(this)}:"".trimEnd;jt({target:"String",proto:!0,forced:Tg},{trimEnd:Eg,trimRight:Eg});var Mg=Tf.start,Sg=xg("trimStart"),Ag=Sg?function(){return Mg(this)}:"".trimStart;jt({target:"String",proto:!0,forced:Sg},{trimStart:Ag,trimLeft:Ag});var Cg,zg=A.f,Ng=C.Int8Array,jg=Ng&&Ng.prototype,Og=C.Uint8ClampedArray,Dg=Og&&Og.prototype,Lg=Ng&&Pe(Ng),Pg=jg&&Pe(jg),Rg=Object.prototype,$g=Rg.isPrototypeOf,Ug=Bt("toStringTag"),Hg=J("TYPED_ARRAY_TAG"),Bg=Mh&&!!qe&&"Opera"!==En(C.opera),Fg=!1,Vg={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},Wg=function(t){return N(t)&&j(Vg,En(t))};for(Cg in Vg)C[Cg]||(Bg=!1);if((!Bg||"function"!=typeof Lg||Lg===Function.prototype)&&(Lg=function(){throw TypeError("Incorrect invocation")},Bg))for(Cg in Vg)C[Cg]&&qe(C[Cg],Lg);if((!Bg||!Pg||Pg===Rg)&&(Pg=Lg.prototype,Bg))for(Cg in Vg)C[Cg]&&qe(C[Cg].prototype,Pg);if(Bg&&Pe(Dg)!==Pg&&qe(Dg,Pg),p&&!j(Pg,Ug))for(Cg in Fg=!0,zg(Pg,Ug,{get:function(){return N(this)?this[Hg]:void 0}}),Vg)C[Cg]&&D(C[Cg],Hg,Cg);var qg={NATIVE_ARRAY_BUFFER_VIEWS:Bg,TYPED_ARRAY_TAG:Fg&&Hg,aTypedArray:function(t){if(Wg(t))return t;throw TypeError("Target is not a typed array")},aTypedArrayConstructor:function(t){if(qe){if($g.call(Lg,t))return t}else for(var e in Vg)if(j(Vg,Cg)){var n=C[e];if(n&&(t===n||$g.call(n,t)))return t}throw TypeError("Target is not a typed array constructor")},exportTypedArrayMethod:function(t,e,n){if(p){if(n)for(var r in Vg){var o=C[r];o&&j(o.prototype,t)&&delete o.prototype[t]}Pg[t]&&!n||rt(Pg,t,!n&&Bg&&jg[t]||e)}},exportTypedArrayStaticMethod:function(t,e,n){var r,o;if(p){if(qe){if(n)for(r in Vg)(o=C[r])&&j(o,t)&&delete o[t];if(Lg[t]&&!n)return;try{return rt(Lg,t,!n&&Bg&&Ng[t]||e)}catch(t){}}for(r in Vg)!(o=C[r])||o[t]&&!n||rt(o,t,e)}},isView:function(t){var e=En(t);return"DataView"===e||j(Vg,e)},isTypedArray:Wg,TypedArray:Lg,TypedArrayPrototype:Pg},Yg=qg.NATIVE_ARRAY_BUFFER_VIEWS,Jg=C.ArrayBuffer,Qg=C.Int8Array,Gg=!Yg||!m(function(){Qg(1)})||!m(function(){new Qg(-1)})||!Ln(function(t){new Qg,new Qg(null),new Qg(1.5),new Qg(t)},!0)||m(function(){return 1!==new Qg(new Jg(2),1,void 0).length}),Zg=function(e,t){var n=function(){var t=ut(e);if(t<0)throw RangeError("The argument can't be less than 0");return t}();if(n%t)throw RangeError("Wrong offset");return n},Kg=qg.aTypedArrayConstructor,Xg=function(t){var e,n,r,o,i,a,s=Dt(t),c=arguments.length,u=1<c?arguments[1]:void 0,l=void 0!==u,f=Sn(s);if(null!=f&&!wn(f))for(a=(i=f.call(s)).next,s=[];!(o=a.call(i)).done;)s.push(o.value);for(l&&2<c&&(u=re(u,arguments[2],2)),n=ft(s.length),r=new(Kg(this))(n),e=0;e<n;e++)r[e]=l?u(s[e],e):s[e];return r};e(function(t){var s=wt.f,c=ae.forEach,u=nt.get,d=nt.set,g=A.f,n=O.f,v=Math.round,m=C.RangeError,y=ud.ArrayBuffer,b=ud.DataView,_=qg.NATIVE_ARRAY_BUFFER_VIEWS,w=qg.TYPED_ARRAY_TAG,x=qg.TypedArray,k=qg.TypedArrayPrototype,i=qg.aTypedArrayConstructor,I=qg.isTypedArray,T="BYTES_PER_ELEMENT",E="Wrong length",M=function(t,e){for(var n=0,r=e.length,o=new(i(t))(r);n<r;)o[n]=e[n++];return o},e=function(t,e){g(t,e,{get:function(){return u(this)[e]}})},S=function(t){var e;return t instanceof y||"ArrayBuffer"==(e=En(t))||"SharedArrayBuffer"==e},r=function(t,e){return I(t)&&"symbol"!=typeof e&&e in t&&String(+e)==String(e)},o=function(t,e){return r(t,e=l(e,!0))?z(2,t[e]):n(t,e)},a=function(t,e,n){return!(r(t,e=l(e,!0))&&N(n)&&j(n,"value"))||j(n,"get")||j(n,"set")||n.configurable||j(n,"writable")&&!n.writable||j(n,"enumerable")&&!n.enumerable?g(t,e,n):(t[e]=n.value,t)};p?(_||(O.f=o,A.f=a,e(k,"buffer"),e(k,"byteOffset"),e(k,"byteLength"),e(k,"length")),jt({target:"Object",stat:!0,forced:!_},{getOwnPropertyDescriptor:o,defineProperty:a}),t.exports=function(t,e,i){var l=t.match(/\d+$/)[0]/8,f=t+(i?"Clamped":"")+"Array",n="get"+t,a="set"+t,o=C[f],p=o,A=p&&p.prototype,r={},h=function(t,o){g(t,o,{get:function(){return t=o,(e=u(this)).view[n](t*l+e.byteOffset,!0);var t,e},set:function(t){return e=o,n=t,r=u(this),i&&(n=(n=v(n))<0?0:255<n?255:255&n),void r.view[a](e*l+r.byteOffset,n,!0);var e,n,r},enumerable:!0})};_?Gg&&(p=e(function(t,e,n,r){return zn(t,p,f),Pn(N(e)?S(e)?void 0!==r?new o(e,Zg(n,l),r):void 0!==n?new o(e,Zg(n,l)):new o(e):I(e)?M(p,e):Xg.call(p,e):new o(Sh(e)),t,p)}),qe&&qe(p,x),c(s(o),function(t){t in p||D(p,t,o[t])}),p.prototype=A):(p=e(function(t,e,n,r){zn(t,p,f);var o,i,a,s=0,c=0;if(N(e)){if(!S(e))return I(e)?M(p,e):Xg.call(p,e);o=e,c=Zg(n,l);var u=e.byteLength;if(void 0===r){if(u%l)throw m(E);if((i=u-c)<0)throw m(E)}else if((i=ft(r)*l)+c>u)throw m(E);a=i/l}else a=Sh(e),o=new y(i=a*l);for(d(t,{buffer:o,byteOffset:c,byteLength:i,length:a,view:new b(o)});s<a;)h(t,s++)}),qe&&qe(p,x),A=p.prototype=Ie(k)),A.constructor!==p&&D(A,"constructor",p),w&&D(A,w,f),r[f]=p,jt({global:!0,forced:p!=o,sham:!_},r),T in p||D(p,T,l),T in A||D(A,T,l),Hn(f)}):t.exports=function(){}})("Uint8",function(r){return function(t,e,n){return r(this,t,e,n)}});var tv=Math.min,ev=[].copyWithin||function(t,e){var n=Dt(this),r=ft(n.length),o=dt(t,r),i=dt(e,r),a=2<arguments.length?arguments[2]:void 0,s=tv((void 0===a?r:dt(a,r))-i,r-o),c=1;for(i<o&&o<i+s&&(c=-1,i+=s-1,o+=s-1);0<s--;)i in n?n[o]=n[i]:delete n[o],o+=c,i+=c;return n},nv=qg.aTypedArray;(0,qg.exportTypedArrayMethod)("copyWithin",function(t,e){return ev.call(nv(this),t,e,2<arguments.length?arguments[2]:void 0)});var rv=ae.every,ov=qg.aTypedArray;(0,qg.exportTypedArrayMethod)("every",function(t){return rv(ov(this),t,1<arguments.length?arguments[1]:void 0)});var iv=qg.aTypedArray;(0,qg.exportTypedArrayMethod)("fill",function(t){return sh.apply(iv(this),arguments)});var av=ae.filter,sv=qg.aTypedArray,cv=qg.aTypedArrayConstructor;(0,qg.exportTypedArrayMethod)("filter",function(t){for(var e=av(sv(this),t,1<arguments.length?arguments[1]:void 0),n=rr(this,this.constructor),r=0,o=e.length,i=new(cv(n))(o);r<o;)i[r]=e[r++];return i});var uv=ae.find,lv=qg.aTypedArray;(0,qg.exportTypedArrayMethod)("find",function(t){return uv(lv(this),t,1<arguments.length?arguments[1]:void 0)});var fv=ae.findIndex,pv=qg.aTypedArray;(0,qg.exportTypedArrayMethod)("findIndex",function(t){return fv(pv(this),t,1<arguments.length?arguments[1]:void 0)});var hv=ae.forEach,dv=qg.aTypedArray;(0,qg.exportTypedArrayMethod)("forEach",function(t){hv(dv(this),t,1<arguments.length?arguments[1]:void 0)});var gv=vt.includes,vv=qg.aTypedArray;(0,qg.exportTypedArrayMethod)("includes",function(t){return gv(vv(this),t,1<arguments.length?arguments[1]:void 0)});var mv=vt.indexOf,yv=qg.aTypedArray;(0,qg.exportTypedArrayMethod)("indexOf",function(t){return mv(yv(this),t,1<arguments.length?arguments[1]:void 0)});var bv=Bt("iterator"),_v=C.Uint8Array,wv=tn.values,xv=tn.keys,kv=tn.entries,Iv=qg.aTypedArray,Tv=qg.exportTypedArrayMethod,Ev=_v&&_v.prototype[bv],Mv=!!Ev&&("values"==Ev.name||null==Ev.name),Sv=function(){return wv.call(Iv(this))};Tv("entries",function(){return kv.call(Iv(this))}),Tv("keys",function(){return xv.call(Iv(this))}),Tv("values",Sv,!Mv),Tv(bv,Sv,!Mv);var Av=qg.aTypedArray,Cv=[].join;(0,qg.exportTypedArrayMethod)("join",function(t){return Cv.apply(Av(this),arguments)});var zv=qg.aTypedArray;(0,qg.exportTypedArrayMethod)("lastIndexOf",function(t){return wh.apply(zv(this),arguments)});var Nv=ae.map,jv=qg.aTypedArray,Ov=qg.aTypedArrayConstructor;(0,qg.exportTypedArrayMethod)("map",function(t){return Nv(jv(this),t,1<arguments.length?arguments[1]:void 0,function(t,e){return new(Ov(rr(t,t.constructor)))(e)})});var Dv=an.left,Lv=qg.aTypedArray;(0,qg.exportTypedArrayMethod)("reduce",function(t){return Dv(Lv(this),t,arguments.length,1<arguments.length?arguments[1]:void 0)});var Pv=an.right,Rv=qg.aTypedArray;(0,qg.exportTypedArrayMethod)("reduceRight",function(t){return Pv(Rv(this),t,arguments.length,1<arguments.length?arguments[1]:void 0)});var $v=qg.aTypedArray,Uv=qg.exportTypedArrayMethod,Hv=Math.floor;Uv("reverse",function(){for(var t,e=this,n=$v(e).length,r=Hv(n/2),o=0;o<r;)t=e[o],e[o++]=e[--n],e[n]=t;return e});var Bv=qg.aTypedArray;(0,qg.exportTypedArrayMethod)("set",function(t){Bv(this);var e=Zg(1<arguments.length?arguments[1]:void 0,1),n=this.length,r=Dt(t),o=ft(r.length),i=0;if(n<o+e)throw RangeError("Wrong length");for(;i<o;)this[e+i]=r[i++]},m(function(){new Int8Array(1).set({})}));var Fv=qg.aTypedArray,Vv=qg.aTypedArrayConstructor,Wv=[].slice;(0,qg.exportTypedArrayMethod)("slice",function(t,e){for(var n=Wv.call(Fv(this),t,e),r=rr(this,this.constructor),o=0,i=n.length,a=new(Vv(r))(i);o<i;)a[o]=n[o++];return a},m(function(){new Int8Array(1).slice()}));var qv=ae.some,Yv=qg.aTypedArray;(0,qg.exportTypedArrayMethod)("some",function(t){return qv(Yv(this),t,1<arguments.length?arguments[1]:void 0)});var Jv=qg.aTypedArray,Qv=[].sort;(0,qg.exportTypedArrayMethod)("sort",function(t){return Qv.call(Jv(this),t)});var Gv=qg.aTypedArray;(0,qg.exportTypedArrayMethod)("subarray",function(t,e){var n=Gv(this),r=n.length,o=dt(t,r);return new(rr(n,n.constructor))(n.buffer,n.byteOffset+o*n.BYTES_PER_ELEMENT,ft((void 0===e?r:dt(e,r))-o))});var Zv=C.Int8Array,Kv=qg.aTypedArray,Xv=qg.exportTypedArrayMethod,tm=[].toLocaleString,em=[].slice,nm=!!Zv&&m(function(){tm.call(new Zv(1))});Xv("toLocaleString",function(){return tm.apply(nm?em.call(Kv(this)):Kv(this),arguments)},m(function(){return[1,2].toLocaleString()!=new Zv([1,2]).toLocaleString()})||!m(function(){Zv.prototype.toLocaleString.call([1,2])}));var rm=qg.exportTypedArrayMethod,om=C.Uint8Array,im=om&&om.prototype||{},am=[].toString,sm=[].join;m(function(){am.call({})})&&(am=function(){return sm.call(this)});var cm=im.toString!=am;rm("toString",am,cm);var um=A.f;!p||"lastIndex"in[]||(um(Array.prototype,"lastIndex",{configurable:!0,get:function(){var t=Dt(this),e=ft(t.length);return 0==e?0:e-1}}),Me("lastIndex")),jt({global:!0},{globalThis:C});var lm=function(){for(var t=E(this),e=ne(t.add),n=0,r=arguments.length;n<r;n++)e.call(t,arguments[n]);return t};jt({target:"Set",proto:!0,real:!0,forced:!1},{addAll:function(){return lm.apply(this,arguments)}}),jt({target:"Set",proto:!0,real:!0,forced:!1},{deleteAll:function(){return Bo.apply(this,arguments)}}),jt({target:"Set",proto:!0,real:!0,forced:!1},{difference:function(t){var e=E(this),n=new(rr(e,at("Set")))(e),r=ne(n.delete);return Cn(t,function(t){r.call(n,t)}),n}});var fm=function(t){return Set.prototype.values.call(t)};jt({target:"Set",proto:!0,real:!0,forced:!1},{every:function(t){var e=E(this),n=fm(e),r=re(t,1<arguments.length?arguments[1]:void 0,3);return!Cn(n,function(t){if(!r(t,t,e))return Cn.stop()},void 0,!1,!0).stopped}}),jt({target:"Set",proto:!0,real:!0,forced:!1},{filter:function(t){var e=E(this),n=fm(e),r=re(t,1<arguments.length?arguments[1]:void 0,3),o=new(rr(e,at("Set"))),i=ne(o.add);return Cn(n,function(t){r(t,t,e)&&i.call(o,t)},void 0,!1,!0),o}}),jt({target:"Set",proto:!0,real:!0,forced:!1},{find:function(t){var e=E(this),n=fm(e),r=re(t,1<arguments.length?arguments[1]:void 0,3);return Cn(n,function(t){if(r(t,t,e))return Cn.stop(t)},void 0,!1,!0).result}}),jt({target:"Set",proto:!0,real:!0,forced:!1},{intersection:function(t){var e=E(this),n=new(rr(e,at("Set"))),r=ne(e.has),o=ne(n.add);return Cn(t,function(t){r.call(e,t)&&o.call(n,t)}),n}}),jt({target:"Set",proto:!0,real:!0,forced:!1},{isDisjointFrom:function(t){var e=E(this),n=ne(e.has);return!Cn(t,function(t){if(!0===n.call(e,t))return Cn.stop()}).stopped}}),jt({target:"Set",proto:!0,real:!0,forced:!1},{isSubsetOf:function(t){var e=function(t){var e=Sn(t);if("function"!=typeof e)throw TypeError(String(t)+" is not iterable");return E(e.call(t))}(this),n=E(t),r=n.has;return"function"!=typeof r&&(n=new(at("Set"))(t),r=ne(n.has)),!Cn(e,function(t){if(!1===r.call(n,t))return Cn.stop()},void 0,!1,!0).stopped}}),jt({target:"Set",proto:!0,real:!0,forced:!1},{isSupersetOf:function(t){var e=E(this),n=ne(e.has);return!Cn(t,function(t){if(!1===n.call(e,t))return Cn.stop()}).stopped}}),jt({target:"Set",proto:!0,real:!0,forced:!1},{join:function(t){var e=E(this),n=fm(e),r=void 0===t?",":String(t),o=[];return Cn(n,o.push,o,!1,!0),o.join(r)}}),jt({target:"Set",proto:!0,real:!0,forced:!1},{map:function(t){var e=E(this),n=fm(e),r=re(t,1<arguments.length?arguments[1]:void 0,3),o=new(rr(e,at("Set"))),i=ne(o.add);return Cn(n,function(t){i.call(o,r(t,t,e))},void 0,!1,!0),o}}),jt({target:"Set",proto:!0,real:!0,forced:!1},{reduce:function(e){var n=E(this),t=fm(n),r=arguments.length<2,o=r?void 0:arguments[1];if(ne(e),Cn(t,function(t){o=r?(r=!1,t):e(o,t,t,n)},void 0,!1,!0),r)throw TypeError("Reduce of empty set with no initial value");return o}}),jt({target:"Set",proto:!0,real:!0,forced:!1},{some:function(t){var e=E(this),n=fm(e),r=re(t,1<arguments.length?arguments[1]:void 0,3);return Cn(n,function(t){if(r(t,t,e))return Cn.stop()},void 0,!1,!0).stopped}}),jt({target:"Set",proto:!0,real:!0,forced:!1},{symmetricDifference:function(t){var e=E(this),n=new(rr(e,at("Set")))(e),r=ne(n.delete),o=ne(n.add);return Cn(t,function(t){r.call(n,t)||o.call(n,t)}),n}}),jt({target:"Set",proto:!0,real:!0,forced:!1},{union:function(t){var e=E(this),n=new(rr(e,at("Set")))(e);return Cn(t,ne(n.add),n),n}});var pm,hm,dm=So.charAt;jt({target:"String",proto:!0},{at:function(t){return dm(this,t)}}),jt({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return URL.prototype.toString.call(this)}});var gm,vm,mm,ym,bm,_m,wm,xm,km,Im,Tm,Em,Mm,Sm,Am,Cm=!1,zm=!1,Nm=!1,jm=!1,Om=null,Dm=!1,Lm="undefined"!=typeof window?window:{},Pm=Lm.document||{head:{}},Rm={$flags$:0,$resourcesUrl$:"",jmp:function(t){return t()},raf:function(t){return requestAnimationFrame(t)},ael:function(t,e,n,r){return t.addEventListener(e,n,r)},rel:function(t,e,n,r){return t.removeEventListener(e,n,r)},ce:function(t,e){return new CustomEvent(t,e)}},$m=function(){try{return new CSSStyleSheet,!0}catch(t){}return!1}(),Um=function(c,u,t,e){t&&t.map(function(t){var e=bi(t,3),n=e[0],r=e[1],o=e[2],i=Bm(c,n),a=Hm(u,o),s=Fm(n);Rm.ael(i,r,a,s),(u.$rmListeners$=u.$rmListeners$||[]).push(function(){return Rm.rel(i,r,a,s)})})},Hm=function(e,n){return function(t){try{e.$hostElement$[n](t)}catch(t){Ly(t)}}},Bm=function(t,e){return 4&e?Pm:8&e?Lm:16&e?Pm.body:t},Fm=function(t){return 0!=(2&t)},Vm="http://www.w3.org/1999/xlink",Wm=new WeakMap,qm=function(t){var e,n,r,o,i,a,s=t.$cmpMeta$,c=t.$hostElement$,u=s.$flags$,l=(s.$tagName$,function(){}),f=(e=c.shadowRoot||c.getRootNode(),n=t.$modeName$,i=Ym(s,n),a=Py.get(i),e=11===e.nodeType?e:Pm,a&&("string"==typeof a?(e=e.head||e,(o=Wm.get(e))||Wm.set(e,o=new Set),o.has(i)||((r=Pm.createElement("style")).innerHTML=a,e.insertBefore(r,e.querySelector("link")),o&&o.add(i))):e.adoptedStyleSheets.includes(a)||(e.adoptedStyleSheets=[].concat(wi(e.adoptedStyleSheets),[a]))),i);10&u&&(c["s-sc"]=f,c.classList.add(f+"-h"),2&u&&c.classList.add(f+"-s")),l()},Ym=function(t,e){return"sc-"+(e&&32&t.$flags$?t.$tagName$+"-"+e:t.$tagName$)},Jm={},Qm=function(t){return"object"===(t=Ic(t))||"function"===t},Gm=function(r,t){for(var e,o=null,n=null,i=null,a=!1,s=!1,c=[],u=function t(e){for(var n=0;n<e.length;n++)o=e[n],Array.isArray(o)?t(o):null!=o&&"boolean"!=typeof o&&((a="function"!=typeof r&&!Qm(o))&&(o=String(o)),a&&s?c[c.length-1].$text$+=o:c.push(a?Zm(null,o):o),s=a)},l=arguments.length,f=new Array(2<l?l-2:0),p=2;p<l;p++)f[p-2]=arguments[p];if(u(f),t&&(t.key&&(n=t.key),t.name&&(i=t.name),(e=t.className||t.class)&&(t.class="object"!=Ic(e)?e:Object.keys(e).filter(function(t){return e[t]}).join(" "))),"function"==typeof r)return r(null===t?{}:t,c,Xm);var h=Zm(r,null);return h.$attrs$=t,0<c.length&&(h.$children$=c),h.$key$=n,h.$name$=i,h},Zm=function(t,e){return{$flags$:0,$tag$:t,$text$:e,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}},Km={},Xm={forEach:function(t,e){return t.map(ty).forEach(e)},map:function(t,e){return t.map(ty).map(e).map(ey)}},ty=function(t){return{vattrs:t.$attrs$,vchildren:t.$children$,vkey:t.$key$,vname:t.$name$,vtag:t.$tag$,vtext:t.$text$}},ey=function(t){if("function"==typeof t.vtag){var e=Object.assign({},t.vattrs);return t.vkey&&(e.key=t.vkey),t.vname&&(e.name=t.vname),Gm.apply(void 0,[t.vtag,e].concat(wi(t.vchildren||[])))}var n=Zm(t.vtag,t.vtext);return n.$attrs$=t.vattrs,n.$children$=t.vchildren,n.$key$=t.vkey,n.$name$=t.vname,n},ny=function(t,e,n,r,o,i){if(n!==r){var a=Dy(t,e),s=e.toLowerCase();if("class"===e){var c=t.classList,u=oy(n),l=oy(r);c.remove.apply(c,wi(u.filter(function(t){return t&&!l.includes(t)}))),c.add.apply(c,wi(l.filter(function(t){return t&&!u.includes(t)})))}else if("style"===e){for(var f in n)r&&null!=r[f]||(f.includes("-")?t.style.removeProperty(f):t.style[f]="");for(var p in r)n&&r[p]===n[p]||(p.includes("-")?t.style.setProperty(p,r[p]):t.style[p]=r[p])}else if("key"!==e)if("ref"===e)r&&r(t);else if(t.__lookupSetter__(e)||"o"!==e[0]||"n"!==e[1]){var h,d=Qm(r);if((a||d&&null!==r)&&!o)try{t.tagName.includes("-")?t[e]=r:(h=null==r?"":r,"list"===e?a=!1:null!=n&&t[e]==h||(t[e]=h))}catch(t){}var g=!1;s!==(s=s.replace(/^xlink\:?/,""))&&(e=s,g=!0),null==r||!1===r?!1===r&&""!==t.getAttribute(e)||(g?t.removeAttributeNS(Vm,e):t.removeAttribute(e)):(!a||4&i||o)&&!d&&(r=!0===r?"":r,g?t.setAttributeNS(Vm,e,r):t.setAttribute(e,r))}else e="-"===e[2]?e.slice(3):Dy(Lm,s)?s.slice(2):s[2]+e.slice(3),n&&Rm.rel(t,e,n,!1),r&&Rm.ael(t,e,r,!1)}},ry=/\s/,oy=function(t){return t?t.split(ry):[]},iy=function(t,e,n,r){var o=11===e.$elm$.nodeType&&e.$elm$.host?e.$elm$.host:e.$elm$,i=t&&t.$attrs$||Jm,a=e.$attrs$||Jm;for(r in i)r in a||ny(o,r,i[r],void 0,n,e.$flags$);for(r in a)ny(o,r,i[r],a[r],n,e.$flags$)},ay=function t(e,n,r,o){var i,a,s,c=n.$children$[r],u=0;if(Cm||(Nm=!0,"slot"===c.$tag$&&(gm&&o.classList.add(gm+"-s"),c.$flags$|=c.$children$?2:1)),null!==c.$text$)i=c.$elm$=Pm.createTextNode(c.$text$);else if(1&c.$flags$)i=c.$elm$=Pm.createTextNode("");else{if(jm=jm||"svg"===c.$tag$,i=c.$elm$=Pm.createElementNS(jm?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",2&c.$flags$?"slot-fb":c.$tag$),jm&&"foreignObject"===c.$tag$&&(jm=!1),iy(null,c,jm),null!=gm&&i["s-si"]!==gm&&i.classList.add(i["s-si"]=gm),c.$children$)for(u=0;u<c.$children$.length;++u)(a=t(e,c,u,i))&&i.appendChild(a);"svg"===c.$tag$?jm=!1:"foreignObject"===i.tagName&&(jm=!0)}return i["s-hn"]=mm,3&c.$flags$&&(i["s-sr"]=!0,i["s-cr"]=vm,i["s-sn"]=c.$name$||"",(s=e&&e.$children$&&e.$children$[r])&&s.$tag$===c.$tag$&&e.$elm$&&sy(e.$elm$,!1)),i},sy=function t(e,n){Rm.$flags$|=1;for(var r=e.childNodes,o=r.length-1;0<=o;o--){var i=r[o];i["s-hn"]!==mm&&i["s-ol"]&&(py(i).insertBefore(i,fy(i)),i["s-ol"].remove(),i["s-ol"]=void 0,Nm=!0),n&&t(i,n)}Rm.$flags$&=-2},cy=function(t,e,n,r,o,i){var a,s=t["s-cr"]&&t["s-cr"].parentNode||t;for(s.shadowRoot&&s.tagName===mm&&(s=s.shadowRoot);o<=i;++o)r[o]&&(a=ay(null,n,o,t))&&(r[o].$elm$=a,s.insertBefore(a,fy(e)))},uy=function(t,e,n,r,o){for(;e<=n;++e)(r=t[e])&&(o=r.$elm$,yy(r),zm=!0,o["s-ol"]?o["s-ol"].remove():sy(o,!0),o.remove())},ly=function(t,e){return t.$tag$===e.$tag$&&("slot"===t.$tag$?t.$name$===e.$name$:t.$key$===e.$key$)},fy=function(t){return t&&t["s-ol"]||t},py=function(t){return(t["s-ol"]||t).parentNode},hy=function v(t,e){var n,r=e.$elm$=t.$elm$,o=t.$children$,i=e.$children$,a=e.$tag$,s=e.$text$;null===s?(jm="svg"===a||"foreignObject"!==a&&jm,"slot"===a||iy(t,e,jm),null!==o&&null!==i?function(t,e,n,r){for(var o,i,a=0,s=0,c=0,u=0,l=e.length-1,f=e[0],p=e[l],h=r.length-1,d=r[0],g=r[h];a<=l&&s<=h;)if(null==f)f=e[++a];else if(null==p)p=e[--l];else if(null==d)d=r[++s];else if(null==g)g=r[--h];else if(ly(f,d))v(f,d),f=e[++a],d=r[++s];else if(ly(p,g))v(p,g),p=e[--l],g=r[--h];else if(ly(f,g))"slot"!==f.$tag$&&"slot"!==g.$tag$||sy(f.$elm$.parentNode,!1),v(f,g),t.insertBefore(f.$elm$,p.$elm$.nextSibling),f=e[++a],g=r[--h];else if(ly(p,d))"slot"!==f.$tag$&&"slot"!==g.$tag$||sy(p.$elm$.parentNode,!1),v(p,d),t.insertBefore(p.$elm$,f.$elm$),p=e[--l],d=r[++s];else{for(c=-1,u=a;u<=l;++u)if(e[u]&&null!==e[u].$key$&&e[u].$key$===d.$key$){c=u;break}d=(o=0<=c?(i=e[c]).$tag$!==d.$tag$?ay(e&&e[s],n,c,t):(v(i,d),e[c]=void 0,i.$elm$):ay(e&&e[s],n,s,t),r[++s]),o&&py(f.$elm$).insertBefore(o,fy(f.$elm$))}l<a?cy(t,null==r[h+1]?null:r[h+1].$elm$,n,r,s,h):h<s&&uy(e,a,l)}(r,o,e,i):null!==i?(null!==t.$text$&&(r.textContent=""),cy(r,null,e,i,0,i.length-1)):null!==o&&uy(o,0,o.length-1),jm&&"svg"===a&&(jm=!1)):(n=r["s-cr"])?n.parentNode.textContent=s:t.$text$!==s&&(r.data=s)},dy=function t(e){for(var n,r,o,i,a=e.childNodes,s=0,c=a.length;s<c;s++)if(1===(n=a[s]).nodeType){if(n["s-sr"])for(o=n["s-sn"],n.hidden=!1,r=0;r<c;r++)if(a[r]["s-hn"]!==n["s-hn"])if(i=a[r].nodeType,""!==o){if(1===i&&o===a[r].getAttribute("slot")){n.hidden=!0;break}}else if(1===i||3===i&&""!==a[r].textContent.trim()){n.hidden=!0;break}t(n)}},gy=[],vy=function t(e){for(var n,r,o,i,a,s,c=0,u=e.childNodes,l=u.length;c<l;c++){if((n=u[c])["s-sr"]&&(r=n["s-cr"]))for(o=r.parentNode.childNodes,i=n["s-sn"],s=o.length-1;0<=s;s--)(r=o[s])["s-cn"]||r["s-nr"]||r["s-hn"]===n["s-hn"]||(my(r,i)?(a=gy.find(function(t){return t.$nodeToRelocate$===r}),zm=!0,r["s-sn"]=r["s-sn"]||i,a?a.$slotRefNode$=n:gy.push({$slotRefNode$:n,$nodeToRelocate$:r}),r["s-sr"]&&gy.map(function(t){my(t.$nodeToRelocate$,r["s-sn"])&&(a=gy.find(function(t){return t.$nodeToRelocate$===r}))&&!t.$slotRefNode$&&(t.$slotRefNode$=a.$slotRefNode$)})):gy.some(function(t){return t.$nodeToRelocate$===r})||gy.push({$nodeToRelocate$:r}));1===n.nodeType&&t(n)}},my=function(t,e){return 1===t.nodeType?null===t.getAttribute("slot")&&""===e||t.getAttribute("slot")===e:t["s-sn"]===e||""===e},yy=function t(e){e.$attrs$&&e.$attrs$.ref&&e.$attrs$.ref(null),e.$children$&&e.$children$.map(t)},by=function(t,e){var n,r,o,i,a,s,c=t.$hostElement$,u=t.$cmpMeta$,l=t.$vnode$||Zm(null,null),f=e&&e.$tag$===Km?e:Gm(null,null,e);if(mm=c.tagName,u.$attrsToReflect$&&(f.$attrs$=f.$attrs$||{},u.$attrsToReflect$.map(function(t){var e=bi(t,2),n=e[0],r=e[1];return f.$attrs$[r]=c[n]})),f.$tag$=null,f.$flags$|=4,(t.$vnode$=f).$elm$=l.$elm$=c.shadowRoot||c,gm=c["s-sc"],vm=c["s-cr"],Cm=0!=(1&u.$flags$),zm=!1,hy(l,f),Rm.$flags$|=1,Nm){vy(f.$elm$);for(var p=0;p<gy.length;p++)(r=(n=gy[p]).$nodeToRelocate$)["s-ol"]||((o=Pm.createTextNode(""))["s-nr"]=r).parentNode.insertBefore(r["s-ol"]=o,r);for(p=0;p<gy.length;p++)if(r=(n=gy[p]).$nodeToRelocate$,n.$slotRefNode$){for(i=n.$slotRefNode$.parentNode,a=n.$slotRefNode$.nextSibling,o=r["s-ol"];o=o.previousSibling;)if((s=o["s-nr"])&&s["s-sn"]===r["s-sn"]&&i===s.parentNode&&(!(s=s.nextSibling)||!s["s-nr"])){a=s;break}(a||i===r.parentNode)&&r.nextSibling===a||r===a||(!r["s-hn"]&&r["s-ol"]&&(r["s-hn"]=r["s-ol"].parentNode.nodeName),i.insertBefore(r,a))}else 1===r.nodeType&&(r.hidden=!0)}zm&&dy(f.$elm$),Rm.$flags$&=-2,gy.length=0},_y=function(t,e){return t.$flags$|=16,t.$ancestorComponent$,Vy(function(){return wy(t,e)})},wy=function(t,e){var n=t.$hostElement$,r=(t.$cmpMeta$.$tagName$,n),o=Ey(r,e?"componentWillLoad":"componentWillUpdate");return o=My(o,function(){return Ey(r,"componentWillRender")}),My(o,function(){return xy(t,r,e)})},xy=(Tm=ni(regeneratorRuntime.mark(function t(e,n,r){var o,i,a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:o=e.$hostElement$,e.$cmpMeta$.$tagName$,i=function(){},o["s-rc"],r&&qm(e),e.$cmpMeta$.$tagName$,a=function(){},by(e,ky(e,n)),a(),i(),Iy(e);case 5:case"end":return t.stop()}},t)})),function(t,e,n){return Tm.apply(this,arguments)}),ky=function(t,e){try{e=(Om=e).render&&e.render(),t.$flags$&=-17,t.$flags$|=2}catch(e){Ly(e,t.$hostElement$)}return Om=null,e},Iy=function(t){t.$cmpMeta$.$tagName$;var e=t.$hostElement$;t.$ancestorComponent$,Ey(e,"componentDidRender"),64&t.$flags$?Ey(e,"componentDidUpdate"):(t.$flags$|=64,Ey(e,"componentDidLoad"))},Ty=function(t){var e=jy(t),n=e.$hostElement$.isConnected;return n&&2==(18&e.$flags$)&&_y(e,!1),n},Ey=function(t,e,n){if(t&&t[e])try{return t[e](n)}catch(t){Ly(t)}},My=function(t,e){return t&&t.then?t.then(e):e()},Sy=function(t,d,e){var n,r,i;return d.$members$&&(t.watchers&&(d.$watchers$=t.watchers),n=Object.entries(d.$members$),r=t.prototype,n.map(function(t){var e=bi(t,2),h=e[0],n=bi(e[1],1)[0];(31&n||32&n)&&Object.defineProperty(r,h,{get:function(){return t=h,jy(this).$instanceValues$.get(t);var t},set:function(t){var e,n,r,o,i,a,s,c,u,l,f,p;n=h,r=t,o=d,a=jy(e=this),s=e,c=a.$instanceValues$.get(n),u=a.$flags$,l=s,f=r,p=o.$members$[n][0],(r=null==f||Qm(f)?f:4&p?"false"!==f&&(""===f||!!f):2&p?parseFloat(f):1&p?String(f):f)!==c&&(a.$instanceValues$.set(n,r),o.$watchers$&&128&u&&(i=o.$watchers$[n])&&i.map(function(t){try{l[t](r,c,n)}catch(t){Ly(t,s)}}),2==(18&u)&&(l.componentShouldUpdate&&!1===l.componentShouldUpdate(r,c,n)||_y(a,!1)))},configurable:!0,enumerable:!0})}),i=new Map,r.attributeChangedCallback=function(e,t,n){var r=this;Rm.jmp(function(){var t=i.get(e);r[t]=(null!==n||"boolean"!=typeof r[t])&&n})},t.observedAttributes=n.filter(function(t){var e=bi(t,2);return e[0],15&e[1][0]}).map(function(t){var e=bi(t,2),n=e[0],r=e[1],o=r[1]||n;return i.set(o,n),512&r[0]&&d.$attrsToReflect$.push([n,o]),o})),t},Ay=(Im=ni(regeneratorRuntime.mark(function t(i,a,s,e,c){var u,l,f;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:0==(32&a.$flags$)&&(c=i.constructor,a.$flags$|=160,c.style)&&("string"!=typeof(u=c.style)&&(u=u[a.$modeName$=function(e){return Ry.map(function(t){return t(e)}).find(function(t){return!!t})}(i)]),l=Ym(s,a.$modeName$),Py.has(l)||(s.$tagName$,f=function(){},e=l,n=u,r=!!(1&s.$flags$),o=void 0,o=Py.get(e),$m&&r?(o=o||new CSSStyleSheet).replace(n):o=n,Py.set(e,o),f())),a.$ancestorComponent$,_y(a,!0);case 3:case"end":return t.stop()}var e,n,r,o},t)})),function(t,e,n,r,o){return Im.apply(this,arguments)}),Cy=function(t,e){var n={$flags$:e[0],$tagName$:e[1]};n.$members$=e[2],n.$listeners$=e[3],n.$watchers$=t.$watchers$,n.$attrsToReflect$=[];var a=t.prototype.connectedCallback,r=t.prototype.disconnectedCallback;return Object.assign(t.prototype,{__registerHost:function(){Oy(this,n)},connectedCallback:function(){var t,e,n,r,o,i;t=this,0==(1&Rm.$flags$)&&((n=(e=jy(t)).$cmpMeta$).$tagName$,r=function(){},1&e.$flags$?(Um(t,e,n.$listeners$),e.$lazyInstance$):(e.$flags$|=1,12&n.$flags$&&((i=(o=t)["s-cr"]=Pm.createComment(""))["s-cn"]=!0,o.insertBefore(i,o.firstChild)),Ay(t,e,n)),r()),a&&a.call(this)},disconnectedCallback:function(){var t,e;t=this,0!=(1&Rm.$flags$)||(e=jy(t)).$rmListeners$&&(e.$rmListeners$.map(function(t){return t()}),e.$rmListeners$=void 0),r&&r.call(this)}}),t.is=n.$tagName$,Sy(t,n)},zy=function(t){t.attachShadow({mode:"open"})},Ny=new WeakMap,jy=function(t){return Ny.get(t)},Oy=function(t,e){var n={$flags$:0,$hostElement$:t,$cmpMeta$:e,$instanceValues$:new Map};return Um(t,n,e.$listeners$),Ny.set(t,n)},Dy=function(t,e){return e in t},Ly=function(t,e){return(0,console.error)(t,e)},Py=new Map,Ry=[],$y=[],Uy=[],Hy=function(t){for(var e=0;e<t.length;e++)try{t[e](performance.now())}catch(t){Ly(t)}t.length=0},By=function t(){Hy($y),Hy(Uy),(Dm=0<$y.length)&&Rm.raf(t)},Fy=function(t){return Promise.resolve(void 0).then(t)},Vy=(xm=Uy,km=!0,function(t){xm.push(t),Dm||(Dm=!0,km&&4&Rm.$flags$?Fy(By):Rm.raf(By))});function Wy(t){var e,n,r=[n=t,n.replace("_","-"),n.toLowerCase(),n.replace("_","-").toLowerCase()],o=Object.values(ym),i=Mi(r);try{for(i.s();!(e=i.n()).done;){var a=e.value;if(o.includes(a))return a}}catch(t){i.e(t)}finally{i.f()}return ym.zh}(Am=ym=ym||{}).zh="zh-CN",Am.en="en-US",Am.ja="ja-JP",(Sm=bm=bm||{}).STAGING="staging",Sm.PRE="pre",Sm.PRERELEASE="prerelease",Sm.ONLINE="online",Sm.BOE="boe",Sm.VA_ONLINE="va_online",Sm.VA_PRE="va_pre",Sm.KA_ONE="ka1",Sm.KA_TWO="ka2",(Mm=_m=_m||{}).CCM="docs_block",Mm.MESSENGER="messenger",Mm.CALENDAR="calendar",Mm.TODO="todo",(Em=wm=wm||{})[Em.None=0]="None",Em[Em.Task=1]="Task",Em[Em.DOC=2]="DOC",Em[Em.MESSAGE=3]="MESSAGE",Em[Em.GROUP=4]="GROUP",Em[Em.CALENDAR=5]="CALENDAR";var qy,Yy,Jy,Qy,Gy,Zy,Ky,Xy,tb,eb,nb,rb,ob,ib,ab,sb,cb,ub,lb,fb,pb,hb,db,gb,vb={todo:wm.Task,ccm:wm.DOC,message:wm.MESSAGE,group:wm.GROUP,calendar:wm.CALENDAR};(gb=qy=qy||{})[gb.Default=0]="Default",gb[gb.Public=1]="Public",gb[gb.Private=2]="Private",(db=Yy=Yy||{})[db.None=0]="None",db[db.Owner=1]="Owner",db[db.Member=2]="Member",db[db.Viewer=3]="Viewer",(hb=Jy=Jy||{})[hb.None=0]="None",hb[hb.User=1]="User",hb[hb.Department=2]="Department",hb[hb.Chat=9]="Chat",(pb=Qy=Qy||{})[pb.UNKNOWN=0]="UNKNOWN",pb[pb.DOCS=1]="DOCS",pb[pb.DOCS_TODO=2]="DOCS_TODO",pb[pb.DOCS_LOCAL_COMMENT=3]="DOCS_LOCAL_COMMENT",pb[pb.DOCS_FULL_COMMENT=4]="DOCS_FULL_COMMENT",pb[pb.TASK=5]="TASK",pb[pb.MESSAGE=6]="MESSAGE",pb[pb.CHAT=7]="CHAT",pb[pb.CALENDAR_EVENT=8]="CALENDAR_EVENT",(fb=Gy=Gy||{})[fb.UNKNOWN=0]="UNKNOWN",fb[fb.HASH_TAG=1]="HASH_TAG",fb[fb.KV_TAG=2]="KV_TAG",(lb=Zy=Zy||{})[lb.Default=0]="Default",lb[lb.Public=1]="Public",lb[lb.Private=2]="Private",(ub=Ky=Ky||{})[ub.user=1]="user",ub[ub.department=2]="department",ub[ub.leader=3]="leader",ub[ub.brother=4]="brother",ub[ub.tenantAdmin=5]="tenantAdmin",ub[ub.appAdmin=6]="appAdmin",ub[ub.vGroup=7]="vGroup",ub[ub.chat=9]="chat",ub[ub.group=101]="group",ub[ub.entity=102]="entity",(cb=Xy=Xy||{})[cb.Default=0]="Default",cb[cb.Teamwork=1]="Teamwork",cb[cb.TeamKnowledge=2]="TeamKnowledge",cb[cb.PrivateCollection=3]="PrivateCollection",cb[cb.PublicTopic=4]="PublicTopic",(sb=tb=tb||{})[sb.Default=0]="Default",sb[sb.Public=1]="Public",sb[sb.Private=2]="Private",(ab=eb=eb||{})[ab.UNKNOWN=0]="UNKNOWN",ab[ab.HASH_TAG=1]="HASH_TAG",ab[ab.KV_TAG=2]="KV_TAG",(ib=nb=nb||{})[ib.user=1]="user",ib[ib.department=2]="department",ib[ib.leader=3]="leader",ib[ib.brother=4]="brother",ib[ib.tenantAdmin=5]="tenantAdmin",ib[ib.appAdmin=6]="appAdmin",ib[ib.vGroup=7]="vGroup",ib[ib.chat=9]="chat",ib[ib.group=101]="group",ib[ib.entity=102]="entity",(ob=rb=rb||{})[ob.ALLUSE=1]="ALLUSE",ob[ob.ALLVIEW=2]="ALLVIEW",ob[ob.SOMEVIEW=3]="SOMEVIEW";var mb=(ai(pm={},ym.en,{add_repeated_tag:"This hashtag has been added. No need to add it again",add_tag_placeholder:"Add hashtag",added:"Added",apply_add_auth:"You can ask {{name}} for permission.",common_add_error:"Failed to add",common_add_success:"Added successfully",common_cancel:"Cancel",common_complete:"Complete",common_confirm:"Confirm",common_delete_error:"Failed to delete",common_delete_success:"Deleted successfully",common_remove:"Confirm",common_set_success:"Set successfully",create_tag:"Create",mention_no_content:"No results found. Please enter again",mention_recommend:"You may want to add...",no_auth:"No permission",panel_delete_modal_content:"The content will be removed from #{{name}} after deletion.",panel_delete_modal_header:"Delete this hashtag?",panel_modal_body_existed_tag:"Added hashtags",panel_modal_body_label:"Add hashtag",panel_modal_header:"Hashtag settings","recommend _tags":"You may want to add...",recommend_tags:"You may want to add...",search_placeholder:"Enter a name",tag_collaborator_count:"{{count}} collaborators ",tag_no_visit_permission:"No permission to view this hashtag",tag_private_tips:"You can add hashtag collaborators or make the hashtag public after creating it successfully",tag_scope_public:"Public",tagname_invalid_at:"Cannot contain @. Please modify it. ",tagname_invalid_mention:"Cannot contain #. Please modify it. ",tagname_invalid_space:"Cannot contain spaces. Please modify it."}),ai(pm,ym.zh,{add_repeated_tag:"æ­¤æ ç­¾å·²æ·»å ï¼æ ééå¤æ·»å ",add_tag_placeholder:"æ·»å æ ç­¾",added:"å·²æ·»å ",apply_add_auth:"å¯å{{name}}ç³è¯·æé",common_add_error:"æ·»å å¤±è´¥",common_add_success:"æ·»å æå",common_cancel:"åæ¶",common_complete:"å®æ",common_confirm:"ç¡®å®",common_delete_error:"å é¤å¤±è´¥",common_delete_success:"å é¤æå",common_remove:"ç¡®å®å é¤",common_set_success:"è®¾ç½®æå",create_tag:"æ°å»ºæ ç­¾",mention_no_content:"æ ç¸å³ç»æï¼è¯·éæ°è¾å¥",mention_recommend:"å¯è½æ³æåçæ ç­¾",no_auth:"æ æé",panel_delete_modal_content:"å é¤åï¼å½ååå®¹å°ä»â#{{name}}âæ ç­¾ä¸ç§»åº",panel_delete_modal_header:"ç¡®å®è¦å é¤æ­¤æ ç­¾åï¼",panel_modal_body_existed_tag:"å·²æ·»å çæ ç­¾",panel_modal_body_label:"æ·»å æ ç­¾",panel_modal_header:"æ ç­¾è®¾ç½®","recommend _tags":"å¯è½æ³æ·»å çæ ç­¾",recommend_tags:"å¯è½æ³æ·»å çæ ç­¾",search_placeholder:"è¯·è¾å¥æ ç­¾åç§°",tag_collaborator_count:"åä½è {{count}} äºº",tag_no_visit_permission:"æ²¡ææéæ¥çå½åæ ç­¾",tag_private_tips:"æ°å»ºæååï¼å¯å¨ Pano ä¸­æ·»å æ ç­¾åä½èæå°æ ç­¾è®¾ä¸ºå¬å¼",tag_scope_public:"å¬å¼",tagname_invalid_at:"ä¸è½åå« @ï¼è¯·ä¿®æ¹",tagname_invalid_mention:"ä¸è½åå« #ï¼è¯·ä¿®æ¹",tagname_invalid_space:"ä¸è½åå«ç©ºæ ¼ï¼è¯·ä¿®æ¹"}),ai(pm,ym.ja,{add_repeated_tag:"ããã·ã¥ã¿ã°ã¯ãã§ã«å­å¨ãã¦ãã¾ã",add_tag_placeholder:"ããã·ã¥ã¿ã°ãè¿½å ",added:"è¿½å æ¸ã¿",apply_add_auth:"{{name}} ã«æ¨©éãç³è«ãã¦ãã ãã",common_add_error:"è¿½å ã§ãã¾ããã§ãã",common_add_success:"è¿½å ãã¾ãã",common_cancel:"ã­ã£ã³ã»ã«",common_complete:"å®äº",common_confirm:"ç¢ºèª",common_delete_error:"åé¤ã§ãã¾ããã§ãã",common_delete_success:"åé¤ãã¾ãã",common_remove:"ç¢ºèª",common_set_success:"è¨­å®ãã¾ãã",create_tag:"æ°è¦",mention_no_content:"ä¸è´ããæ¤ç´¢çµæãããã¾ãã",mention_recommend:"ãããã",no_auth:"æ¨©éãªã",panel_delete_modal_content:"åé¤å¾ããã®é ç®ã¯ã#{{name}}ãããå¤ããã¾ãã",panel_delete_modal_header:"ãã®ããã·ã¥ã¿ã°ãåé¤ãã¾ããï¼",panel_modal_body_existed_tag:"è¿½å ãããããã·ã¥ã¿ã°",panel_modal_body_label:"ããã·ã¥ã¿ã°ãè¿½å ",panel_modal_header:"ããã·ã¥ã¿ã°ãè¨­å®","recommend _tags":"ãããã",recommend_tags:"ãããã",search_placeholder:"åç§°ãå¥å",tag_collaborator_count:"å±åç·¨éèï¼{{count}} äºº",tag_no_visit_permission:"é²è¦§æ¨©éãããã¾ãã",tag_private_tips:"ä½æå¾ãPano ã§ããã·ã¥ã¿ã°ãè¿½å ãããå¬éããã·ã¥ã¿ã°ã«è¨­å®ãããã¨ãã§ãã¾ã",tag_scope_public:"å¬é",tagname_invalid_at:"@ ã¯ä½¿ãã¾ãããç·¨éãã¦ãã ãã",tagname_invalid_mention:"# ã¯ä½¿ãã¾ãããç·¨éãã¦ãã ãã",tagname_invalid_space:"ã¹ãã¼ã¹ã¯ä½¿ãã¾ãããç·¨éãã¦ãã ãã"}),pm),yb=ym.zh;function bb(t){yb=t}function _b(o,t){var i=(mb[yb]||mb[ym.zh]||{})[o];return t&&Object.entries(t).forEach(function(t){var e=bi(t,2),n=e[0],r=e[1];i=i?i.replace("{{".concat(n,"}}"),r):o}),i||o}function wb(t){if(t[yb]||0===t[yb])return t[yb];for(var e=0,n=[ym.en,ym.zh,ym.ja];e<n.length;e++){var r=n[e];if(t[r]||0===t[r])return t[r]}}var xb,kb,Ib,Tb,Eb,Mb=function(t){return!("isConnected"in t)||t.isConnected},Sb=(Tb=function(t){var e,n=Mi(t.keys());try{for(n.s();!(e=n.n()).done;){var r=e.value;t.set(r,t.get(r).filter(Mb))}}catch(t){n.e(t)}finally{n.f()}},function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];Eb&&clearTimeout(Eb),Eb=setTimeout(function(){Eb=0,Tb.apply(void 0,e)},2e3)}),Ab=function(t,e){var n=t.indexOf(e);0<=n&&(t[n]=t[t.length-1],t.length--)},Cb={env:bm.ONLINE,locale:ym.zh,host:_m.CCM},zb=(Ib=function(o,t){var i=1<arguments.length&&void 0!==t?arguments[1]:function(t,e){return t!==e},a=new Map(Object.entries(null!=o?o:{})),s={dispose:[],get:[],set:[],reset:[]},e=function(){a=new Map(Object.entries(null!=o?o:{})),s.reset.forEach(function(t){return t()})},n=function(e){return s.get.forEach(function(t){return t(e)}),a.get(e)},r=function(e,n){var r=a.get(e);i(n,r,e)&&(a.set(e,n),s.set.forEach(function(t){return t(e,n,r)}))},c="undefined"==typeof Proxy?{}:new Proxy(o,{get:function(t,e){return n(e)},ownKeys:function(t){return Array.from(a.keys())},getOwnPropertyDescriptor:function(){return{enumerable:!0,configurable:!0}},has:function(t,e){return a.has(e)},set:function(t,e,n){return r(e,n),!0}}),u=function(t,e){return s[t].push(e),function(){Ab(s[t],e)}};return{state:c,get:n,set:r,on:u,onChange:function(n,r){var t=u("set",function(t,e){t===n&&r(e)}),e=u("reset",function(){return r(o[n])});return function(){t(),e()}},use:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.forEach(function(t){t.set&&u("set",t.set),t.get&&u("get",t.get),t.reset&&u("reset",t.reset)})},dispose:function(){s.dispose.forEach(function(t){return t()}),e()},reset:e}}(Cb,void 0),xb=Ib.on,kb=new Map,xb("dispose",function(){kb.clear()}),xb("get",function(t){var e,n,r,o;Om&&(n=t,r=Om,(o=(e=kb).get(n))?o.includes(r)||o.push(r):e.set(n,[r]))}),xb("set",function(t){var e=kb.get(t);e&&kb.set(t,e.filter(Ty)),Sb(kb)}),xb("reset",function(){kb.forEach(function(t){return t.forEach(Ty)}),Sb(kb)}),Ib.state),Nb=(ai(hm={},bm.STAGING,"https://oa.feishu-staging.cn/pano"),ai(hm,bm.PRE,"https://oa.feishu-pre.cn/pano"),ai(hm,bm.ONLINE,"https://oa.feishu.cn/pano"),ai(hm,bm.BOE,"https://oa.feishu-boe.cn/pano"),ai(hm,bm.VA_ONLINE,"https://oa.larksuite.com/pano"),ai(hm,bm.VA_PRE,"https://oa.larksuite-pre.com/pano"),ai(hm,bm.KA_ONE,"https://oa.crc.feishu.cn/pano"),ai(hm,bm.KA_TWO,"https://oa.mi.feishu.cn/pano"),hm);function jb(){var t=function(){if(zb.env)return zb.env;var t=location.host;return-1<t.indexOf("staging")||-1<t.indexOf("localhost")||-1<t.indexOf("pre")?bm.STAGING:void 0}();return Nb[t]||"https://oa.feishu.cn/pano"}function Ob(t){var e=t.host,n=t.viewItemType;if(n&&vb[n])return vb[n];switch(e){case _m.CCM:return wm.DOC;case _m.CALENDAR:return wm.CALENDAR;case _m.MESSENGER:return wm.GROUP;default:return wm.DOC}}function Db(){var n=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=(n+16*Math.random())%16|0;return n=Math.floor(n/16),("x"==t?e:3&e|8).toString(16)})}var Lb=[{value:" ",errMsg:_b("tagname_invalid_space")},{value:"@",errMsg:_b("tagname_invalid_at")},{value:"#",errMsg:_b("tagname_invalid_mention")}];function Pb(t){var e,n=Mi(Lb);try{for(n.s();!(e=n.n()).done;){var r=e.value,o=r.value,i=r.errMsg;if(-1<t.indexOf(o))return i}}catch(t){n.e(t)}finally{n.f()}return""}function Rb(t){var e,n=Mi(Lb);try{for(n.s();!(e=n.n()).done;){var r=e.value.value,o=new RegExp(r,"g");t=t.replace(o,"")}}catch(t){n.e(t)}finally{n.f()}return t}function $b(t,e){return Ub.apply(this,arguments)}function Ub(){return(Ub=ni(regeneratorRuntime.mark(function t(e,n){var r,o,i,a,s,c;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=jb(),t.prev=1,t.next=4,fetch(r+e,{method:"POST",body:JSON.stringify(n),mode:"cors",credentials:"include",headers:{Locale:zb.locale.replace("-","_"),"Content-Type":"application/json"}});case 4:return o=t.sent,t.next=7,o.json();case 7:if(i=t.sent,a=i.code,s=i.data,c=i.msg,a)throw new Error(c);t.next=13;break;case 13:return t.abrupt("return",s);case 16:throw t.prev=16,t.t0=t.catch(1),t.t0;case 19:case"end":return t.stop()}},t,null,[[1,16]])}))).apply(this,arguments)}var Hb,Bb,Fb={createContainer:function(){var t="pano-toast-wrapper-".concat(Date.now());return Hb=document.createElement("div"),(Bb=document.createElement("style")).textContent="\n        .".concat(t," {\n          position: absolute;\n          top: 0;\n          left: 0;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          margin-top: 10px;\n          flex-direction: column;\n          width: 100%;\n          z-index: 2000;\n          pointer-events: none;\n        }\n      "),Hb.className=t,document.body.append(Bb),document.body.append(Hb),Hb},disposeContainer:function(){Hb&&(document.body.removeChild(Bb),document.body.removeChild(Hb),Hb=Bb=null)},getContainer:function(){return Hb||Vb()}},Vb=Fb.createContainer,Wb=Fb.disposeContainer,qb=Fb.getContainer,Yb=new Map,Jb=(ii(Qb,[{key:"show",value:function(){this.isVisible||(Yb.set(this.key,this),qb().appendChild(this.elToast),this.hideTimeoutId=window.setTimeout(this.dispose,this.data.duration))}},{key:"delayDispose",value:function(t){this.isVisible&&(window.clearTimeout(this.hideTimeoutId),this.hideTimeoutId=window.setTimeout(this.dispose,t))}},{key:"isVisible",get:function(){return Yb.has(this.key)}}]),Qb);function Qb(t){var e=this;ri(this,Qb),this.hideTimeoutId=null,this.dispose=function(){e.isVisible&&(Yb.delete(e.key),window.clearTimeout(e.hideTimeoutId),e.hideTimeoutId=null,qb().removeChild(e.elToast),Yb.size||Wb())},this.data=t,this.key=JSON.stringify({type:t.type,msg:t.msg}),this.elToast=document.createElement("pano-common-toast"),this.elToast.setAttribute("message",t.msg),this.elToast.setAttribute("type",t.type)}function Gb(t){var e,n;t.duration<=0||(e=new Jb(t),(n=Yb.get(e.key))?n.delayDispose(t.duration):e.show())}var Zb,Kb,Xb,t_,e_=function(t){Gb({type:"success",msg:t,duration:1<arguments.length&&void 0!==arguments[1]?arguments[1]:3e3})},n_=function(t){Gb({type:"error",msg:t,duration:1<arguments.length&&void 0!==arguments[1]?arguments[1]:3e3})},r_=function(t){Gb({type:"warn",msg:t,duration:1<arguments.length&&void 0!==arguments[1]?arguments[1]:3e3})},o_=function(){ui(a,di(HTMLElement));var t,e,i=yi(a);function a(){var r,n,o;return ri(this,a),(r=i.call(this)).__registerHost(),zy(vi(r)),r.locale=ym.zh,r.blockId="",r.value="",r.list=[],r.modalInfo={title:"",content:""},r._searchTags=ni(regeneratorRuntime.mark(function t(){var e,n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,$b("/api/SearchTags",{uniqueId:r.blockId,tagName:r.value});case 3:e=t.sent,n=e.tags,r.list=n,t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),n_(t.t0.message,2e3);case 11:case"end":return t.stop()}},t,null,[[0,8]])})),r._debouncedSearchTags=(n=function(){return r._searchTags()},function(){var t=this,e=arguments;clearTimeout(o),o=setTimeout(function(){n.apply(t,e)},500)}),r}return ii(a,[{key:"_handleInput",value:function(t){this.value=t.target.value,this._debouncedSearchTags()}},{key:"componentWillLoad",value:function(){this._searchTags(),bb(this.locale)}},{key:"_complete",value:function(){new CustomEvent("action-panel-complete",{detail:{status:"success",msg:"",data:{}}})}},{key:"_addTag",value:(e=ni(regeneratorRuntime.mark(function t(e){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.hasAdded&&!e.unavailable){t.next=4;break}e.hasAdded&&r_(_b("add_repeated_tag"),2e3),t.next=16;break;case 4:return t.prev=4,t.next=7,$b("/api/BatchTagAction",{itemsAction:[{uniqId:this.blockId,blockInfo:JSON.parse(this.blockInfo),tagsAdding:[{tagType:Gy.HASH_TAG,tagId:e.id,tagAttr:{tagValue:"",isVisibleTag:!1}}],tagsRemoving:[],tagsUpdating:[]}]});case 7:e_(_b("add_success"),2e3),this._complete(),(n=this.list.find(function(t){return t.id===e.id}))&&(n.hasAdded=!0,this.list=wi(this.list)),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(4),n_(t.t0.message,2e3);case 16:case"end":return t.stop()}},t,this,[[4,13]])})),function(t){return e.apply(this,arguments)})},{key:"setModalInfo",value:function(t){this.modalInfo=Object.assign({},this.modalInfo,t)}},{key:"_createTag",value:(t=ni(regeneratorRuntime.mark(function t(){var e,n,r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,e=this.value){t.next=4;break}return t.abrupt("return");case 4:if(100<e.length)return t.abrupt("return",void n_(_b("create_tag_text_len_error")));t.next=6;break;case 6:return t.next=8,$b("/api/CreateTagAndAddItem",{tagName:this.value,tagType:Gy.HASH_TAG,tagDescription:"",tagAttr:{tagValue:"",isVisibleTag:!1},uniqId:this.blockId,blockInfo:JSON.parse(this.blockInfo)});case 8:n=t.sent,r=n.tagInfo,e_(_b("add_success"),2e3),this._complete(),this.list=[{name:r.name,id:r.tagId,hasAdded:!0,unavailable:!1,owners:[],subscribed:!1,description:"",permissionType:qy.Private,teamworkerCount:""}].concat(wi(this.list)),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0),this.setModalInfo({title:_b("create_fail"),content:t.t0.message});case 16:case"end":return t.stop()}},t,this,[[0,13]])})),function(){return t.apply(this,arguments)})},{key:"render",value:function(){var e=this,t=this.value,n=this.list,r=this.modalInfo;return Gm(Km,null,Gm("div",{class:"main"},Gm("div",{class:"input-wrapper"},Gm("div",{class:"prefix"},"#"),Gm("input",{class:"input",onKeyDown:function(t){"ArrowUp"!==t.key&&"ArrowDown"!==t.key||t.preventDefault()},type:"text",value:t,onInput:function(t){return e._handleInput(t)},placeholder:_b("add_tag_placeholder")})),Gm("div",{class:"divider"}),Gm("pano-list-panel",{value:t,list:n,onCreate:function(){return e._createTag()},onConfirm:function(t){return e._addTag(t)}}),Gm("pano-common-modal",{type:"warn",visible:!!r.content,onConfirm:function(){e.setModalInfo({content:""})}},Gm("div",{slot:"header"},r.title),Gm("div",{class:"modal-body",slot:"body"},r.content))))}}],[{key:"style",get:function(){return":host{display:block}*{box-sizing:border-box}.main{width:320px;border-radius:4px;border:1px solid #dee0e3;background:#ffffff;padding:8px 0;box-shadow:0px 4px 16px rgba(31, 35, 41, 0.1);box-sizing:border-box}.main .input-wrapper{padding:0 12px;display:flex;align-items:center;height:22px}.main .input-wrapper .prefix{flex:0 0 auto;color:#1f2329;font-size:14px}.main .input-wrapper .input{flex:1 0 auto;border:none;font-size:14px;line-height:22px;font-family:PingFang SC;color:#1f2329;outline:none;padding-left:0}.main .divider{height:1px;background-color:#dee0e3;margin:9px 12px 7px 12px}.main .scroll-wrapper{max-height:300px;overflow:auto}.main .recommend{padding:0 12px;color:#646a73;font-size:12px;margin-top:8px;margin-bottom:2px}.main .create{height:32px;padding:5px 12px;display:flex;justify-content:space-between;align-items:center;cursor:pointer}.main .create:hover{background-color:#eff0f1}.main .create .name{flex:1 1 auto;font-size:14px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.main .create .create-desc{flex:0 0 auto;color:#646a73;font-size:12px;margin-right:8px}.main .modal-body{margin:8px 0 24px 40px;color:#1F2329;font-size:14px;text-align:left}"}}]),a}(),i_=(ii(s_,[{key:"toDataUrl",value:function(t){"string"==typeof(t=t||this.slots.default)&&(t={default:t});for(var e=this.img,n=0,r=Object.keys(t);n<r.length;n++)var o=r[n],e=e.replace(RegExp(this.slots[o],"g"),t[o]);return"data:image/svg+xml;base64,".concat(btoa(e))}}]),s_),a_=new i_('<svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">\n  <path fill-rule="evenodd" clip-rule="evenodd" d="M6.99805 7.93424L9.46041 5.38264C9.56872 5.27219 9.74432 5.27219 9.85262 5.38264L10.2448 5.78261C10.3531 5.89305 10.3531 6.07212 10.2448 6.18257L7.39026 9.13413C7.17365 9.35503 6.82246 9.35503 6.60585 9.13413L3.75128 6.18257C3.64298 6.07212 3.64298 5.89305 3.75128 5.78261L4.14349 5.38264C4.25179 5.27219 4.42739 5.27219 4.53569 5.38264L6.99805 7.93424Z" fill="#3370FF"/>\n  </svg>',"#3370FF");function s_(t,e){ri(this,s_),this.img=t.startsWith("data:")?atob(t.split(",")[1]):t,this.slots="string"==typeof e?{default:e}:e}function c_(t,e){return new CustomEvent("action-panel-complete",{detail:{status:t,msg:"",data:e||{}},bubbles:!0})}function u_(t,e){return new CustomEvent("action-panel-tags",{detail:{data:{tags:t,blockId:e}},bubbles:!0})}function l_(t){return new CustomEvent("props-data-change",{detail:{data:t||[]},bubbles:!0})}(t_=Zb=Zb||{})[t_.Default=0]="Default",t_[t_.Public=1]="Public",t_[t_.Private=2]="Private",(Xb=Kb=Kb||{})[Xb.user=1]="user",Xb[Xb.department=2]="department",Xb[Xb.leader=3]="leader",Xb[Xb.brother=4]="brother",Xb[Xb.tenantAdmin=5]="tenantAdmin",Xb[Xb.appAdmin=6]="appAdmin",Xb[Xb.vGroup=7]="vGroup",Xb[Xb.chat=9]="chat",Xb[Xb.group=101]="group",Xb[Xb.entity=102]="entity";var f_=function(){return(f_=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function p_(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||0<e--)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function h_(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(p_(arguments[e]));return t}function d_(t,e){return t(e={exports:{}},e.exports),e.exports}var g_=d_(function(t,e){var n=function(){function s(){for(var t=0,e={};t<arguments.length;t++){var n,r=arguments[t];for(n in r)e[n]=r[n]}return e}function u(t){return t.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function t(c){function a(){}function n(t,e,n){if("undefined"!=typeof document){"number"==typeof(n=s({path:"/"},a.defaults,n)).expires&&(n.expires=new Date(+new Date+864e5*n.expires)),n.expires=n.expires?n.expires.toUTCString():"";try{var r=JSON.stringify(e);/^[\{\[]/.test(r)&&(e=r)}catch(t){}e=c.write?c.write(e,t):encodeURIComponent(String(e)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var o,i="";for(o in n)n[o]&&(i+="; "+o,!0!==n[o]&&(i+="="+n[o].split(";")[0]));return document.cookie=t+"="+e+i}}function e(t,e){if("undefined"!=typeof document){for(var n={},r=document.cookie?document.cookie.split("; "):[],o=0;o<r.length;o++){var i=r[o].split("="),a=i.slice(1).join("=");e||'"'!==a.charAt(0)||(a=a.slice(1,-1));try{var s=u(i[0]),a=(c.read||c)(a,s)||u(a);if(e)try{a=JSON.parse(a)}catch(t){}if(n[s]=a,t===s)break}catch(t){}}return t?n[t]:n}}return a.set=n,a.get=function(t){return e(t,!1)},a.getJSON=function(t){return e(t,!0)},a.remove=function(t,e){n(t,"",s(e,{expires:-1}))},a.defaults={},a.withConverter=t,a}(function(){})};t.exports=n()}),v_=(C_.prototype.setItem=function(t,e){this.cache[t]=e},C_.prototype.getItem=function(t){return this.cache[t]},C_.prototype.removeItem=function(t){this.cache[t]=void 0},C_),m_={getItem:function(t){try{var e=localStorage.getItem(t),n=e;try{e&&"string"==typeof e&&(n=JSON.parse(e))}catch(t){}return n||void 0}catch(t){}},setItem:function(t,e){try{var n="string"==typeof e?e:JSON.stringify(e);localStorage.setItem(t,n)}catch(t){}},removeItem:function(t){try{localStorage.removeItem(t)}catch(t){}},getCookie:function(t,e){try{return g_.get(t,{domain:e||document.domain})}catch(t){return""}},setCookie:function(t,e,n,r){try{var o=r||document.domain,i=+new Date+n;g_.set(t,e,{expires:new Date(i),path:"/",domain:o})}catch(t){}},isSupportLS:function(){try{return localStorage.setItem("_ranger-test-key","hi"),localStorage.getItem("_ranger-test-key"),localStorage.removeItem("_ranger-test-key"),!0}catch(t){return!1}}()},y_={getItem:function(t){try{var e=sessionStorage.getItem(t),n=e;try{e&&"string"==typeof e&&(n=JSON.parse(e))}catch(t){}return n||void 0}catch(t){}},setItem:function(t,e){try{var n="string"==typeof e?e:JSON.stringify(e);sessionStorage.setItem(t,n)}catch(t){}},removeItem:function(t){try{sessionStorage.removeItem(t)}catch(t){}},isSupportSession:function(){try{return sessionStorage.setItem("_ranger-test-key","hi"),sessionStorage.getItem("_ranger-test-key"),sessionStorage.removeItem("_ranger-test-key"),!0}catch(t){return!1}}()},b_=(A_.prototype.getItem=function(t){return this._storage.getItem(t)},A_.prototype.setItem=function(t,e){this._storage.setItem(t,e)},A_.prototype.getCookie=function(t,e){return this._storage.getCookie(t,e)},A_.prototype.setCookie=function(t,e,n,r){this._storage.setCookie(t,e,n,r)},A_.prototype.removeItem=function(t){this._storage.removeItem(t)},A_),__=function(t){return function(t,e){if("string"==typeof t&&"number"==typeof e){var n=[];e=e<=25?e:e%25;for(var r=String.fromCharCode(e+97),o=t.split(r),i=0;i<o.length;i++){var a=64^+(a=parseInt(o[i],e)),s=String.fromCharCode(a);n.push(s)}return n.join("")}}(t,25)},w_={cn:"1fz22z22z1nz21z4mz4bz4bz1kz1az21z4az21z1lz21z21z1bz1iz4az1az1mz1k",sg:"1fz22z22z1nz21z4mz4bz4bz21z1ez18z1jz1gz49z1kz1az21z4az19z27z22z1cz1mz24z1cz20z21z1cz18z4az1az1mz1k",va:"1fz22z22z1nz21z4mz4bz4bz1kz18z1jz1gz24z18z49z1kz1az21z4az19z27z22z1cz1mz24z1cz20z21z1cz18z4az1az1mz1k"},x_="/v1/user/webid",k_="/v1/list",I_=function(t,e){return e?"__tea_cache_tokens_"+t:"__tea_cache_events_"+t},T_=function(){if("undefined"!=typeof window)return window.TeaAnalyticsObject},E_={cn:"1fz22z22z1nz21z4mz4bz4bz22z1mz19z1jz1mz1ez4az1az22z1mz19z21z1lz21z21z1bz1iz4az1az1mz1k",va:"1fz22z22z1nz21z4mz4bz4bz22z1mz19z1jz1mz1ez4az1gz22z1mz19z21z1lz21z21z1bz1iz4az1az1mz1k",sg:"1fz22z22z1nz21z4mz4bz4bz22z1mz19z1jz1mz1ez4az22z1mz19z21z1lz21z21z1bz1iz4az1az1mz1k"},M_="__shushuo_libra_style__",S_=(["1fz22z22z1nz21z4mz4bz4bz1bz18z22z18z4az19z27z22z1cz1bz18z1lz1az1cz4az1az1mz1k","1fz22z22z1nz21z4mz4bz4bz25z25z25z4az19z27z22z1cz20z18z1lz1ez1cz20z21z4az1az1mz1k","1fz22z22z1nz21z4mz4bz4bz1bz18z22z18z20z18z1lz1ez1cz20z21z4az1az1mz1kz4az1az1l","1fz22z22z1nz21z4mz4bz4bz19z27z22z1cz20z18z1lz1ez1cz20z21z4az19z27z22z1cz1bz18z1lz1az1cz4az1az1mz1k"].map(function(t){return __(t)}),"v1/list_test");function A_(t,e){this._storage=e&&"session"===e?y_:!t&&m_.isSupportLS?m_:new v_}function C_(){this.cache={}}function z_(t,e,n,r,o,i,a){try{var s=new XMLHttpRequest,c=a||"POST";s.open(c,""+t,!0),s.setRequestHeader("Content-Type","application/json; charset=utf-8"),o&&s.setRequestHeader("X-MCS-AppKey",""+o),s.onload=function(){if(n){var e=null;if(s.responseText){try{e=JSON.parse(s.responseText)}catch(t){e={}}n(e)}}},i&&(s.timeout=i),i&&(s.ontimeout=function(){r&&r()}),s.onerror=function(){s.abort(),r&&r(e,500)},s.send(JSON.stringify(e))}catch(t){}}var N_=function(r,o,i,a){try{var t=r.match(/\/v\d\//),e=t?t[0]:-1!==r.indexOf("/v1/")?"/v1/":"/v2/",s=r.split(e)[0];if(!s)return void a(r,o,4001);o.forEach(function(t){var e=function(t){var e,n="";for(e in t)t.hasOwnProperty(e)&&void 0!==t[e]&&(n+="&"+e+"="+encodeURIComponent(JSON.stringify(t[e])));return"&"===n[0]?n.slice(1):n}(t),n=new Image(1,1);n.onload=function(){n=null,i&&i()},n.onerror=function(){n=null,a&&a(r,o,4e3)},n.src=s+"/v1/gif?"+e})}catch(i){a&&a(r,o,4002,i.message)}},j_=function(t,e,n,r,o,i,a,s,c){var u=window.navigator.userAgent,l=-1!==window.navigator.appName.indexOf("Microsoft Internet Explorer")&&(-1!==u.indexOf("MSIE 8.0")||-1!==u.indexOf("MSIE 9.0")),f=!!r;if(!f&&l)N_(t,n,o,i);else if(!f&&s)return window.navigator&&window.navigator.sendBeacon?(c&&c(),void(window.navigator.sendBeacon(t,JSON.stringify(n))?o():i(t,n,4003))):void N_(t,n,o,i);a&&delete n.app_key,z_(t,n,o,i,r,e)};function O_(t){return t?(t^16*Math.random()>>t/4).toString(10):([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,O_)}var D_,L_=function(){return O_().replace(/-/g,"").slice(0,19)},P_=(ew.prototype._getToken=function(){this.tokensKey=I_(this.appInfo,!0),this.cookieKey="__tea_cookie_tokens_"+this.appInfo;try{var t=this.storage.getItem(this.tokensKey);if(this.enableCookie){var e=this.storage.getCookie(this.cookieKey,this.cookieDomain);if(e){e=decodeURIComponent(e);var n=(e=JSON.parse(e)).user_unique_id,r=e.web_id,o=e.timestamp,i=e.ssid;this._setToken(r,n,i,o)}else{if(!t)return void this._requestWebId();this.storage.setCookie(this.cookieKey,encodeURIComponent(JSON.stringify(t)),this.expiresTime,this.cookieDomain),this._checkLocal(t)}}else{if(!t)return void this._requestWebId();this._checkLocal(t)}}catch(t){}},ew.prototype._checkLocal=function(t){var e,n,r;t.web_id||(e=this.storage.getCookie("tt_webid"),a=this.storage.getCookie("__tea_sdk__ssid"),n=this.storage.getCookie("__tea_sdk__user_unique_id"),e&&a&&n&&(r={web_id:e,ssid:a,user_unique_id:n,timestamp:Date.now()},this.storage.setItem(this.tokensKey,r)));var o=this.storage.getItem(this.tokensKey),i=(n=o.user_unique_id,e=o.web_id,o.timestamp),a=o.ssid;e&&n?this._setToken(e,n,a,i):this._requestWebId()},ew.prototype._setToken=function(t,e,n,r){if(this.uuid=e,this.web_id=t,this.ssid=n,this.checkExp){var o=Date.now()-parseFloat(r);if(7344e6<o)return void this._requestWebId();if(432e7<o)return void this._updateWebId(t)}this._complete(t,e,n)},ew.prototype._complete=function(t,e,n){this.cfg.envInfo.user.ssid=n,this.cfg.envInfo.user.web_id=t,this.cfg.envInfo.user.user_unique_id=e,this.tokenReady=!0},ew.prototype._requestWebId=function(){this.isNoWebid?this._setTokenId(L_(),"","",!0):this._fetchWebId(this.fetchUrl,!1)},ew.prototype._updateWebId=function(t){var e=""+this.domain+x_+"/"+t+"/update";this._fetchWebId(e,!0)},ew.prototype._fetchWebId=function(t,e){var n=this;this.isGetWebId=!0,j_(t,3e3,{app_key:this.config.app_key,app_id:this.config.app_id,url:location.href,user_agent:window.navigator.userAgent,referer:document.referrer,user_unique_id:""},this.config.app_key,function(t){n.isGetWebId=!1,t&&0===t.e?(n.web_id=t.web_id,n.uuidQueue.length?n._requestSsId(n.uuidQueue[0]):n._setTokenId(t.web_id,"",(e?n:t).ssid,!0)):console.log((e?" update":"fetch")+" webid error please check")},function(){n.isGetWebId=!1},!0)},ew.prototype._setTokenId=function(t,e,n,r){var o=this.cfg.envInfo.user.web_id||t,i={web_id:o,ssid:n,user_unique_id:e||o,timestamp:Date.now()};this.enableCookie&&this.storage.setCookie(this.cookieKey,encodeURIComponent(JSON.stringify(i)),this.expiresTime,this.cookieDomain),this.storage.setItem(this.tokensKey,i),this.cfg.envInfo.user.ssid=n,this.cfg.envInfo.user.web_id=o,this.cfg.envInfo.user.user_unique_id=e||o,this.uuid=e||o,this.web_id=o,this.ssid=n,r&&(this.tokenReady=!0,this.hook.emit("token-ready"))},ew.prototype._getSsid=function(t){t&&-1===["0","Null","None","","undefined"].indexOf(t)&&this.uuid!==t&&(this.uuidQueue.push(t),this.uuid=t,this.cfg.envInfo.user.user_unique_id=t,-1===this.uuidQueue.indexOf(t)&&this.uuidQueue.push(t),this.isNoSsid||this.isGetWebId||(this.tokenReady=!1,this._requestSsId(t),this.sendQueue.push(t)),this.session._resetSessionId())},ew.prototype._requestSsId=function(e){var t,n=this;this.sendQueue.length||(t=this.domain+"/v1/user/ssid",j_(t,3e3,{app_key:this.config.app_key,app_id:this.config.app_id,web_id:this.web_id,user_unique_id:e},this.config.app_key,function(t){n.sendQueue=[],n.uuidQueue.length&&n.uuidQueue.splice(n.uuidQueue.indexOf(e),1),t&&0===t.e?n._setTokenId(n.web_id,e,t.ssid,0===n.uuidQueue.length):n.tokenReady=!0,n.uuidQueue.length&&n._requestSsId(n.uuidQueue[0])},function(){n.tokenReady=!0,n.hook.emit("token-ready")},!0))},ew.prototype.isTokenReady=function(){return this.tokenReady},ew),R_=function(t){navigator.userAgent.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/)?window.addEventListener("pagehide",t,!1):window.addEventListener("beforeunload",t,!1)},$_=function(t,n,r){void 0===t&&(t=[]),void 0===n&&(n=function(t){return t}),void 0===r&&(r=20);var o,i=[],a=0;return t.forEach(function(t){var e=n(t);void 0===o?o=e:(e!==o||i[a].length>=r)&&(a+=1,o=e),i[a]=i[a]||[],i[a].push(t)}),i},U_=(tw.prototype.addListener=function(){var t=this;window.addEventListener("unload",function(){t.report(!0)},!1),R_(function(){t.report(!0)}),document.addEventListener("visibilitychange",function(){"hidden"===document.visibilityState&&t.report(!0)},!1)},tw.prototype.setReady=function(){this.isReady=!0,this.closeStorage||this.checkStorageEvent(),this.report()},tw.prototype.event=function(t,e,n){var r=this;void 0===t&&(t=[]);try{var o=this.storage.getItem(n?this.beconKey:this.evtDataKey)||[],i=e?h_(t,o):h_(o,t);this.storage.setItem(n?this.beconKey:this.evtDataKey,i),this.reportTimer&&clearTimeout(this.reportTimer),n&&e||i.length>=this.maxReport?this.report(!1):this.reportTimer=setTimeout(function(){r.report(!1),r.reportTimer=null},this.reportTime)}catch(t){}},tw.prototype.report=function(t){void 0===t&&(t=!1);try{if(this.collect.destroyInstance)return;if(!this._token.isTokenReady())return;if(!this.isReady)return;var e=this.storage.getItem(this.evtDataKey)||[],n=this.storage.getItem(this.beconKey)||[],r=this._mergeEvents(e),o=this._mergeEvents(n);this.storage.removeItem(this.evtDataKey),this.storage.removeItem(this.beconKey),t?(r=o.concat(r),this._dealData(r,!0)):(this._dealData(o,!0),this._dealData(r,!1))}catch(t){}},tw.prototype._mergeEvents=function(t){var r=this;if(!t.length)return t;var e=this.cfg.get();return e.header.custom=JSON.stringify(e.header.custom),$_(t,function(t){return!r.closeStorage&&!!t.params.__disable_storage__},this.maxReport).map(function(t){return f_({events:t.map(function(t){var e=f_({},r.cfg.get("evtParams"),t.params);delete e.__disable_storage__;try{if(r.plugin&&r.plugin.ab&&r.plugin.ab.versions&&r.plugin.ab.extVersions){var n=r.plugin.ab.versions.concat(r.plugin.ab.extVersions);return f_({},t,{params:JSON.stringify(e),ab_sdk_version:n.join(","),session_id:r.session._getSessionId()})}return f_({},t,{params:JSON.stringify(e),session_id:r.session._getSessionId()})}catch(n){return f_({},t,{params:JSON.stringify(e),session_id:r.session._getSessionId()})}}),user:e.user,header:e.header},r.closeStorage?{}:{__disable_storage__:t[0].params.__disable_storage__},{verbose:r.debugMode?1:void 0,local_time:parseInt(""+(new Date).getTime()/1e3)})})},tw.prototype._dealData=function(t,o){var i=this;if(!t.length)return t;var e=[],e=$_(t,function(t){return!!t.__disable_storage__},this.maxReport);!this.closeStorage&&this.plugin.maxStorage&&this.plugin.maxStorage(e,this.maxStorage,this.evtDataKey,this.storage);var a={};e.forEach(function(t){var e,n=L_(),r=t;try{i.filter&&(r=i.filter(t))}catch(t){}i.closeStorage||t[0].__disable_storage__||((e=JSON.parse(JSON.stringify(t)))&&e[0]&&(e[0].header.__storage_index__=Date.now()),a[n]=e,i.EventStorage.setItem(i.evtDataKey,a)),i._send(n,r,o)})},tw.prototype._send=function(e,t,n){var r=this;this.isSending=!0;var o=function(){r.isSending=!1};if(!this.closeStorage)try{t&&t[0]&&t[0].header.__storage_index__&&delete(t=JSON.parse(JSON.stringify(t)))[0].header.__storage_index__}catch(e){}this.plugin&&this.plugin.et_test&&this.plugin.et_test.send(t),j_(this.reportUrl,this.timeout,t,this.config.app_key,function(){var t;o(),r.plugin&&!r.closeStorage&&(t=r.EventStorage.getItem(r.evtDataKey)||{},Object.keys(t).length?(delete t[e],r.EventStorage.setItem(r.evtDataKey,t)):r.EventStorage.removeItem(r.evtDataKey))},function(t,e){o(),r.cfg.get("reportErrorCallback")(t,e),r.plugin&&r.plugin.monitor&&r.plugin.monitor.sdkError(r.config.app_key,r.reportUrl,t,e)},!1,n,o),this.plugin&&this.plugin.monitor&&this.plugin.monitor.sdkOnload(this.config.app_key,this.reportUrl,t)},tw.prototype.checkStorageEvent=function(){var r=this;try{var o=this.EventStorage.getItem(this.evtDataKey)||{},i=Object.keys(o);0<i.length&&setTimeout(function t(){for(var e=[],n=0;n<r.maxReport;n++)0<i.length&&e.push(i.shift());0<e.length&&e.forEach(function(t){r._send(t,o[t],!1)}),setTimeout(t,5)},5)}catch(r){}},tw),H_=void 0,B_=(new Date).getTimezoneOffset(),F_=parseInt(""+-B_/60,10),V_=60*B_,W_=(X_.prototype.set=function(t,e){var n=this;if(null==e&&(this.delete(t),e=void 0),"evtParams"===t||"_staging_flag"===t){var r="evtParams"===t?e:{_staging_flag:Number(e)},o=f_({},r);Object.keys(o).forEach(function(t){n.evtParams[t]=o[t]})}else if("reportErrorCallback"===t&&"function"==typeof e)this.reportErrorCallback=e;else{var i,a="";if(-1<t.indexOf(".")&&(a=(i=t.split("."))[0],t=i[1]),"user_unique_id"===t){if(!e)return;if(-1!==["0","Null","None","","undefined"].indexOf(e))return}if("os_version"===t&&(t=""+e),"web_id"===t){if(!e)return;(!this.envInfo.user.user_unique_id||this.envInfo.user.user_unique_id&&this.envInfo.user.user_unique_id===this.envInfo.user.web_id)&&(this.envInfo.user.user_unique_id=e)}a?"user"===a||"header"===a?this.envInfo[a][t]=e:this.envInfo.header.custom[t]=e:this.envInfo.user.hasOwnProperty(t)?-1<["user_type","ip_addr_id"].indexOf(t)?this.envInfo.user[t]=e&&Number(e):-1<["user_id","web_id","user_unique_id","ssid"].indexOf(t)?this.envInfo.user[t]=e&&String(e):-1<["user_is_auth","user_is_login"].indexOf(t)?this.envInfo.user[t]=Boolean(e):"device_id"===t&&(this.envInfo.user[t]=e):this.envInfo.header.hasOwnProperty(t)?this.envInfo.header[t]=e:this.envInfo.header.custom[t]=e}},X_.prototype.get=function(t){return t?"evtParams"===t?this.evtParams:"reportErrorCallback"===t?this[t]:JSON.parse(JSON.stringify(this.envInfo[t])):JSON.parse(JSON.stringify(this.envInfo))},X_.prototype.setStore=function(t){try{var e,n=this.storage.getItem(this.configKey);Object.keys(t).length&&(e=Object.assign(t,n),this.storage.setItem(this.configKey,e))}catch(t){}},X_.prototype.getStore=function(){try{var t=this.storage.getItem(this.configKey);return Object.keys(t).length?t:null}catch(t){return null}},X_.prototype.delete=function(t){try{var e=this.storage.getItem(this.configKey);e&&e.hasOwnProperty(t)&&(delete e[t],this.storage.setItem(this.configKey,e))}catch(t){}},X_),q_=((D_=K_.prototype).info=function(t){this.isLog&&console.log("["+this.name+"] "+t)},D_.warn=function(t){this.isLog&&console.warn("["+this.name+"] "+t)},D_.error=function(t){this.isLog&&console.error("["+this.name+"] "+t)},D_.throw=function(t){throw this.error(this.name),new Error(t)},K_),Y_=(Z_.prototype.on=function(t,e){t&&e&&"function"==typeof e&&(this._hooks[t]||(this._hooks[t]=[]),this._hooks[t].push(e))},Z_.prototype.once=function(n,r){var o=this;n&&r&&"function"==typeof r&&this.on(n,function t(e){r(e),o.off(n,t)})},Z_.prototype.off=function(t,e){var n;t&&this._hooks[t]&&this._hooks[t].length&&(e?-1!==(n=this._hooks[t].indexOf(e))&&this._hooks[t].splice(n,1):this._hooks[t]=[])},Z_.prototype.emit=function(t,e){t&&this._hooks[t]&&this._hooks[t].length&&h_(this._hooks[t]).forEach(function(t){try{t(e)}catch(t){}})},Z_),J_=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)})},Q_=(G_.prototype._updateSessionId=function(){var t,e=this.storage.getItem(this.sessionKey);e&&e.sessionId&&(t=e.timestamp,Date.now()-t>this.expireTime?e={sessionId:J_(),timestamp:Date.now()}:e.timestamp=Date.now(),this.storage.setItem(this.sessionKey,e),this._resetExpTime())},G_.prototype._setSessionId=function(){var t=this,e=this.storage.getItem(this.sessionKey);e&&e.sessionId?e.timestamp=Date.now():e={sessionId:J_(),timestamp:Date.now()},this.storage.setItem(this.sessionKey,e),this.sessionExp=setInterval(function(){t._checkEXp()},this.expireTime)},G_.prototype._getSessionId=function(){var t=this.storage.getItem(this.sessionKey);return t&&t.sessionId?t.sessionId:null},G_.prototype._resetExpTime=function(){var t=this;this.sessionExp&&(clearInterval(this.sessionExp),this.sessionExp=setInterval(function(){t._checkEXp()},this.expireTime))},G_.prototype._resetSessionId=function(){console.log("_resetSessionId");var t={sessionId:J_(),timestamp:Date.now()};this.storage.setItem(this.sessionKey,t)},G_.prototype._checkEXp=function(){var t,e=this.storage.getItem(this.sessionKey);e&&e.sessionId&&((t=Date.now()-e.timestamp)+30>=this.expireTime&&(console.log(t),e={sessionId:J_(),timestamp:Date.now()},this.storage.setItem(this.sessionKey,e)))},G_);function G_(t,e){this.storage=new b_(!1,"session"),this.sessionKey="__tea_session_id_"+t,this._setSessionId(),this.expireTime=e.expireTime||18e5}function Z_(){this._hooks={}}function K_(t,e){this.isLog=e,this.name=t||""}function X_(t,e,n){this.cookieDomain=e.cookie_domain||"",this.initConfig=e;var r=function(t,e){var n,r,o,i,a,s=function(t){var e=document.createElement("a");return e.href=t,e},c=window.screen.width,u=window.screen.height,l=window.navigator.appVersion,f=window.navigator.userAgent,p=window.navigator.language,h=document.referrer,d=h?s(h).hostname:"",g=(o=window.location.href,i=(i=s(o).search).slice(1),a={},i.split("&").forEach(function(t){var e,n,r=t.split("=");r.length&&(e=r[0],n=r[1]);try{a[e]=decodeURIComponent(void 0===n?"":n)}catch(t){a[e]=n}}),a),v="",m="",y="",b=""+parseFloat(l);-1!==(n=f.indexOf("Opera"))&&(y="Opera",b=f.substring(n+6),-1!==(n=f.indexOf("Version"))&&(b=f.substring(n+8))),-1!==(n=f.indexOf("Edge"))?(y="Microsoft Edge",b=f.substring(n+5)):-1!==(n=f.indexOf("MSIE"))?(y="Microsoft Internet Explorer",b=f.substring(n+5)):-1!==f.indexOf("Chrome")?-1!==(n=f.indexOf("MicroMessenger"))?(y="weixin",b=f.substring(n+15,n+20)):-1!==(n=f.indexOf("MQQBrowser"))?(y="qqbrowser",b=f.substring(n+11,n+15)):-1!==(n=f.indexOf("360"))?(y="360browser",b=f.substring(f.indexOf("Chrome")+7)):-1!==f.indexOf("baidubrowser")||-1!==f.indexOf("BIDUBrowser")?(-1!==f.indexOf("baidubrowser")?(n=f.indexOf("baidubrowser"),b=f.substring(n+13,n+16)):-1!==f.indexOf("BIDUBrowser")&&(n=f.indexOf("BIDUBrowser"),b=f.substring(n+12,n+15)),y="baidubrowser"):-1!==(n=f.indexOf("Chrome"))&&(y="Chrome",b=f.substring(n+7)):-1!==f.indexOf("Safari")?-1!==(n=f.indexOf("QQ"))?(y="qqbrowser",b=f.substring(n+10,n+16)):-1!==(n=f.indexOf("Safari"))&&(y="Safari",b=f.substring(n+7),-1!==(n=f.indexOf("Version"))&&(b=f.substring(n+8))):-1!==(n=f.indexOf("Firefox"))?(y="Firefox",b=f.substring(n+8)):-1!==(n=f.indexOf("MicroMessenger"))?(y="weixin",b=f.substring(n+15,n+20)):-1!==(n=f.indexOf("QQ"))&&(y="qqbrowser",b=f.substring(n+3,n+8)),-1!==(r=b.indexOf(";"))&&(b=b.substring(0,r)),-1!==(r=b.indexOf(" "))&&(b=b.substring(0,r)),-1!==(r=b.indexOf(")"))&&(b=b.substring(0,r));for(var _,w,x,k=/Mobile|htc|mini|Android|iP(ad|od|hone)/.test(l)?"wap":"web",I=[{s:"Windows 10",r:/(Windows 10.0|Windows NT 10.0)/},{s:"Windows 8.1",r:/(Windows 8.1|Windows NT 6.3)/},{s:"Windows 8",r:/(Windows 8|Windows NT 6.2)/},{s:"Windows 7",r:/(Windows 7|Windows NT 6.1)/},{s:"Android",r:/Android/},{s:"Sun OS",r:/SunOS/},{s:"Linux",r:/(Linux|X11)/},{s:"iOS",r:/(iPhone|iPad|iPod)/},{s:"Mac OS X",r:/Mac OS X/},{s:"Mac OS",r:/(MacPPC|MacIntel|Mac_PowerPC|Macintosh)/}],T=0;T<I.length;T++){var E=I[T];if(E.r.test(f)){v=E.s;break}}function M(t,e){var n=t.exec(e);return n&&n[1]?n[1]:""}switch(/Windows/.test(v)&&(m=M(/Windows (.*)/,v),v="windows"),v){case"Mac OS X":_=f,m=(w=RegExp("(?:^|[^A-Z0-9-_]|[^A-Z0-9-]_|sprd-)(?:Mac[ +]OS[ +]X(?:[ /](?:Version )?(\\d+(?:[_\\.]\\d+)+))?)","i").exec(_))?w.slice(1)[0]:"",v="mac";break;case"Android":m=M(/Android ([\.\_\d]+)/,x=f)||M(/Android\/([\.\_\d]+)/,x),v="android";break;case"iOS":m=(m=/OS (\d+)_(\d+)_?(\d+)?/.exec(l))?m[1]+"."+m[2]+"."+(0|m[3]):"",v="ios"}var S=function(t,e,n){var r=new b_(!1),o=t?"_tea_utm_cache_"+t:"_tea_utm_cache",i={},a=["tr_shareuser","tr_admaster","tr_param1","tr_param2","tr_param3","tr_param4"],s={utm_source:e.utm_source,utm_medium:e.utm_medium,utm_campaign:e.utm_campaign,utm_term:e.utm_term,utm_content:e.utm_content,tr_shareuser:e.tr_shareuser,tr_admaster:e.tr_admaster,tr_param1:e.tr_param1,tr_param2:e.tr_param2,tr_param3:e.tr_param3,tr_param4:e.tr_param4};try{var c,u,l=!1;for(c in s)s[c]&&(-1!==a.indexOf(c)?(i.hasOwnProperty("tracer_data")||(i.tracer_data={}),i.tracer_data[c]=s[c]):i[c]=s[c],l=!0);l?r.setCookie(o,JSON.stringify(i),7776e6,n):(u=r.getCookie(o,n))&&(i=JSON.parse(u))}catch(t){return s}return i}(t,g,e);return{browser:y,browser_version:b,platform:k,os_name:v,os_version:m,userAgent:f,screen_width:c,screen_height:u,device_model:function(t){var e,n,r="";try{"android"===t?navigator.userAgent.split(";").forEach(function(t){-1<t.indexOf("Build/")&&(r=t.slice(0,t.indexOf("Build/")))}):"ios"!==t&&"mac"!==t&&"windows"!==t||(n=(e=navigator.userAgent.replace("Mozilla/5.0 (","")).indexOf(";"),r=e.slice(0,n))}catch(t){}return r.trim()}(v),language:p,referrer:h,referrer_host:d,utm_source:S.utm_source,utm_medium:S.utm_medium,utm_campaign:S.utm_campaign,utm_term:S.utm_term,utm_content:S.utm_content,tracer_data:S.tracer_data}}(t,this.cookieDomain);this.configKey="__tea_cache_config_"+t,this.sessionStorage=new b_(!1,"session"),this.localStorage=new b_(!1,"local"),n&&(this.storage=1===n?this.sessionStorage:this.localStorage),this.envInfo={user:{user_unique_id:H_,user_type:H_,user_id:H_,user_is_auth:H_,user_is_login:H_,device_id:H_,web_id:H_,ip_addr_id:H_,ssid:H_},header:{app_id:H_,app_name:H_,app_install_id:H_,install_id:H_,app_package:H_,app_channel:H_,app_version:H_,os_name:r.os_name,os_version:r.os_version,device_model:r.device_model,ab_client:H_,ab_version:H_,ab_sdk_version:H_,traffic_type:H_,client_ip:H_,device_brand:H_,os_api:H_,access:H_,language:r.language,region:H_,app_language:H_,app_region:H_,creative_id:H_,ad_id:H_,campaign_id:H_,log_type:H_,rnd:H_,platform:r.platform,sdk_version:"4.1.41",province:H_,city:H_,timezone:F_,tz_offset:V_,tz_name:H_,sim_region:H_,carrier:H_,resolution:r.screen_width+"x"+r.screen_height,browser:r.browser,browser_version:r.browser_version,referrer:r.referrer,referrer_host:r.referrer_host,width:r.screen_width,height:r.screen_height,screen_width:r.screen_width,screen_height:r.screen_height,utm_term:r.utm_term,utm_content:r.utm_content,utm_source:r.utm_source,utm_medium:r.utm_medium,utm_campaign:r.utm_campaign,tracer_data:JSON.stringify(r.tracer_data),custom:{}}},this.evtParams={},this.reportErrorCallback=function(){}}function tw(t,e,n,r,o,i,a){this.collect=t,this.cfg=n,this.config=e,this._token=r,this.appInfo=e.app_key||e.app_id,this.debugMode=!!e.log,this.evtDataKey=I_(this.appInfo,!1),this.beconKey="__tea_becon_events_"+this.appInfo;var s,c,u=e.channel_domain||__(w_[e.channel]);this.reportUrl=e.report_url||""+u+k_,this.storage=new b_(!0),this.EventStorage=new b_(!1),this.maxStorage=e.max_storage_num||-1,this.maxReport=e.max_report||20,this.reportTime=e.reportTime||30,this.timeout=e.timeout||3e3,this.closeStorage=!0,this.plugin=o,this.session=i,this.filter=a,this.plugin&&(s=e.enable_storage,c=e.disable_storage,!s&&!1!==c||(this.closeStorage=!1)),this.addListener()}function ew(t,e,n,r){this.config=t,this.cfg=e,this.storage=new b_(!1),this.appInfo=t.app_key||t.app_id,this.isNoWebid=t.disable_webid,this.isNoSsid=t.disable_webid||t.disable_ssid,this.domain=t.channel_domain||__(w_[t.channel]),this.tokenReady=!1,this.checkExp=t.checkExp||!1,this.enableCookie=t.cross_subdomain||!1,this.expiresTime=this.enableCookie?94608e6:0,this.fetchUrl=""+this.domain+x_,this.uuidQueue=[],this.sendQueue=[],this.hook=n,this.cookieDomain=t.cookie_domain||"",this.session=r}function nw(t,e,n){return{title:e||document.title||location.pathname,url:n||location.href,url_path:t||location.pathname}}function rw(){return Date.now()}function ow(){var t=T_();return window[t]?window[t].l:rw()}function iw(){var e=!1;return["hidden","msHidden","webkitHidden"].forEach(function(t){void 0!==document[t]&&(e=!0)}),e}var aw=(Cw.prototype.enable=function(t,e,n){this.url_path=t,this.url=n,this.title=e,this.disableCallback=this._enablePageAlive()},Cw.prototype.disable=function(){this.disableCallback(),this.pageStartTime=Date.now()},Cw.prototype._enablePageAlive=function(){var t=this;return this.timerHandler=this._setUpTimer(),document.addEventListener("visibilitychange",this._visibilitychange),R_(this._beforeunload),function(){t._beforeunload(),document.removeEventListener("visibilitychange",t._visibilitychange),window.removeEventListener("beforeunload",t._beforeunload),window.removeEventListener("pagehide",t._beforeunload)}},Cw),sw=(Aw.prototype.enable=function(t,e,n){this.url_path=t,this.url=n,this.title=e,this.disableCallback=this._enablePageClose()},Aw.prototype.disable=function(){this.disableCallback()},Aw.prototype._resetData=function(){this.activeStartTime=void 0===this.activeStartTime?ow():Date.now(),this.activeEndTime=void 0,this.activeTimes=1,this.totalTime=0},Aw.prototype._sendEventPageClose=function(){var t=rw()-this.pageStartTime;this.totalTime>=this.maxDuration||(this.event("predefine_page_close",f_({},nw(this.url_path,this.title,this.url),{active_times:this.activeTimes,duration:this.totalTime,total_duration:t,is_support_visibility_change:this.options.sup_vis_change?1:0})),this.pageStartTime=Date.now(),this._resetData())},Aw.prototype._enablePageClose=function(){var t=this;return document.addEventListener("visibilitychange",this._visibilitychange),R_(this._beforeunload),function(){t._beforeunload(),document.removeEventListener("visibilitychange",t._visibilitychange),window.removeEventListener("beforeunload",t._beforeunload),window.removeEventListener("pagehide",t._beforeunload)}},Aw),cw=(Sw.prototype._enable=function(t,e,n){this.pageAlive.enable(t,e,n),this.pageClose.enable(t,e,n)},Sw.prototype._disable=function(){this.pageAlive.disable(),this.pageClose.disable()},Sw.prototype.reset=function(t,e,n){this._disable(),this._enable(t,e,n)},Sw),uw=(Mw.prototype._endCurrentSession=function(){this._eventSenderFunc("_be_active",{start_time:this._startTime,end_time:this._lastTime,url:window.location.href,referrer:window.document.referrer}),this._isSessionhasEvent=!1,this._startTime=0},Mw.prototype.process=function(){this._isSessionhasEvent||(this._isSessionhasEvent=!0,this._startTime=+new Date);var t=this._lastTime||+new Date;this._lastTime=+new Date,this._lastTime-t>this.sessionInterval&&(this._clearInterval(),this._endCurrentSession(),this._setInterval())},Mw),lw=(Ew.prototype.start=function(){this.profileReady=!0},Ew.prototype.setProfile=function(t){var e=this._formatParams(t);e&&Object.keys(e).length&&(this._pushCache(e),this.event("__profile_set",f_({},e,{profile:!0})))},Ew.prototype.setOnceProfile=function(t){var e=this._formatParams(t,!0);e&&Object.keys(e).length&&(this._pushCache(e),this.event("__profile_set_once",f_({},e,{profile:!0})))},Ew.prototype.incrementProfile=function(t){t?this.event("__profile_increment",f_({},t,{profile:!0})):console.warn("please check the params, must be object!!!")},Ew.prototype.unsetProfile=function(t){var e;t?((e={})[t]="1",this.event("__profile_unset",f_({},e,{profile:!0}))):console.warn("please check the key, must be string!!!")},Ew.prototype.appendProfile=function(t){if(t){var e,n={};for(e in t)"string"==typeof t[e]||"Array"===Object.prototype.toString.call(t[e]).slice(8,-1)?n[e]=t[e]:console.warn("please check the value of param: "+e+", must be string or array !!!");Object.keys(n).length&&this.event("__profile_append",f_({},n,{profile:!0}))}else console.warn("please check the params, must be object!!!")},Ew.prototype._pushCache=function(e){var n=this;Object.keys(e).forEach(function(t){n.cache[t]={val:n._clone(e[t]),timestamp:Date.now()}})},Ew.prototype._formatParams=function(n,r){var o=this;void 0===r&&(r=!1);try{if(!n||"[object Object]"!==Object.prototype.toString.call(n))return void console.warn("please check the params type, must be object !!!");var t,i={};for(t in n)"string"==typeof n[t]||"number"==typeof n[t]||"Array"===Object.prototype.toString.call(n[t]).slice(8,-1)?i[t]=n[t]:console.warn("please check the value of params:"+t+", must be string,number,Array !!!");var e=Object.keys(i);if(!e.length)return;var a=Date.now();return e.filter(function(t){var e=o.cache[t];return r?!e:!(e&&o._compare(e.val,n[t])&&a-e.timestamp<o.duration)}).reduce(function(t,e){return t[e]=i[e],t},{})}catch(n){}},Ew.prototype._compare=function(t,e){try{return JSON.stringify(t)===JSON.stringify(e)}catch(t){return!1}},Ew.prototype._clone=function(e){try{return JSON.parse(JSON.stringify(e))}catch(t){return e}},Ew.prototype._unReady=function(){console.warn("sdk is not ready, please use this api after start")},Ew),fw=(Tw.prototype.sdkOnload=function(t,e,n){if(!this.sdkReady){this.sdkReady=!0;try{if(0===n.length)return;var r=n[0],o=r.header,i=r.user,a=o.app_id,s=o.app_name,c=o.sdk_version,u=i.web_id,l={events:[{event:"onload",params:JSON.stringify({app_key:t,app_id:a,app_name:s||"",sdk_version:c}),local_time_ms:Date.now()}],user:{user_unique_id:u},header:{}};setTimeout(function(){j_(e,3e3,[l],"566f58151b0ed37e")},16)}catch(t){}}},Tw.prototype.sdkError=function(e,t,n,r){try{var o=n[0],i=o.user,a=o.header,s=[];n.forEach(function(t){t.events.forEach(function(t){s.push(t)})});var c={events:s.map(function(t){return{event:"on_error",params:JSON.stringify({error_code:r,app_key:e,app_id:a.app_id,app_name:a.app_name||"",error_event:t.event,local_time_ms:t.local_time_ms,tea_event_index:Date.now(),params:t.params,header:JSON.stringify(a),user:JSON.stringify(i)}),local_time_ms:Date.now()}}),user:{user_unique_id:i.user_unique_id},header:{}};setTimeout(function(){j_(t,3e3,[c],"566f58151b0ed37e")},16)}catch(e){}},Tw),pw=new b_(!1),hw=function(t){return"__tea_sdk_ab_version_"+t},dw=function(t){var e={ab_version:[],ab_ext_version:[],data:null,timestamp:+new Date};try{e=pw.getItem(hw(t))||e}catch(t){}return e},gw=function(t,e){try{var n=dw(t);pw.setItem(hw(t),f_({},n,e))}catch(t){}},vw=function(t,e,n){void 0===n&&(n=!1);var r=n?{ab_ext_version:e,timestamp:Date.now()}:{ab_version:e,timestamp:Date.now()};gw(t,r)},mw=d_(function(Tt){!function(n){var t,h,_,i,o,d,f,g,w,c,u,x,k,a,I,v,s,l,m,T="sizzle"+ +new Date,p=n.document,E=0,r=0,y=ct(),b=ct(),M=ct(),S=ct(),A=function(t,e){return t===e&&(u=!0),0},C={}.hasOwnProperty,e=[],z=e.pop,N=e.push,j=e.push,O=e.slice,D=function(t,e){for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1},L="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",P="[\\x20\\t\\r\\n\\f]",R="(?:\\\\[\\da-fA-F]{1,6}"+P+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",$="\\["+P+"*("+R+")(?:"+P+"*([*^$|!~]?=)"+P+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+R+"))|)"+P+"*\\]",U=":("+R+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+$+")*)|.*)\\)|)",H=new RegExp(P+"+","g"),B=new RegExp("^"+P+"+|((?:^|[^\\\\])(?:\\\\.)*)"+P+"+$","g"),F=new RegExp("^"+P+"*,"+P+"*"),V=new RegExp("^"+P+"*([>+~]|"+P+")"+P+"*"),W=new RegExp(P+"|>"),q=new RegExp(U),Y=new RegExp("^"+R+"$"),J={ID:new RegExp("^#("+R+")"),CLASS:new RegExp("^\\.("+R+")"),TAG:new RegExp("^("+R+"|[*])"),ATTR:new RegExp("^"+$),PSEUDO:new RegExp("^"+U),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+P+"*(even|odd|(([+-]|)(\\d*)n|)"+P+"*(?:([+-]|)"+P+"*(\\d+)|))"+P+"*\\)|)","i"),bool:new RegExp("^(?:"+L+")$","i"),needsContext:new RegExp("^"+P+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+P+"*((?:-\\d)?\\d*)"+P+"*\\)|)(?=[^-]|$)","i")},G=/HTML$/i,Q=/^(?:input|select|textarea|button)$/i,Z=/^h\d$/i,K=/^[^{]+\{\s*\[native \w/,X=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,tt=/[+~]/,et=new RegExp("\\\\[\\da-fA-F]{1,6}"+P+"?|\\\\([^\\r\\n\\f])","g"),nt=function(t,e){var n="0x"+t.slice(1)-65536;return e||(n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320))},rt=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ot=function(t,e){return e?"\0"===t?"":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t},it=function(){x()},at=yt(function(t){return!0===t.disabled&&"fieldset"===t.nodeName.toLowerCase()},{dir:"parentNode",next:"legend"});try{j.apply(e=O.call(p.childNodes),p.childNodes),e[p.childNodes.length].nodeType}catch(n){j={apply:e.length?function(t,e){N.apply(t,O.call(e))}:function(t,e){for(var n=t.length,r=0;t[n++]=e[r++];);t.length=n-1}}}function st(t,e,n,r){var o,i,a,s,c,u,l,f=e&&e.ownerDocument,p=e?e.nodeType:9;if(n=n||[],"string"!=typeof t||!t||1!==p&&9!==p&&11!==p)return n;if(!r&&(x(e),e=e||k,I)){if(11!==p&&(c=X.exec(t)))if(o=c[1]){if(9===p){if(!(a=e.getElementById(o)))return n;if(a.id===o)return n.push(a),n}else if(f&&(a=f.getElementById(o))&&m(e,a)&&a.id===o)return n.push(a),n}else{if(c[2])return j.apply(n,e.getElementsByTagName(t)),n;if((o=c[3])&&h.getElementsByClassName&&e.getElementsByClassName)return j.apply(n,e.getElementsByClassName(o)),n}if(h.qsa&&!S[t+" "]&&(!v||!v.test(t))&&(1!==p||"object"!==e.nodeName.toLowerCase())){if(l=t,f=e,1===p&&(W.test(t)||V.test(t))){for((f=tt.test(t)&&gt(e.parentNode)||e)===e&&h.scope||((s=e.getAttribute("id"))?s=s.replace(rt,ot):e.setAttribute("id",s=T)),i=(u=d(t)).length;i--;)u[i]=(s?"#"+s:":scope")+" "+mt(u[i]);l=u.join(",")}try{return j.apply(n,f.querySelectorAll(l)),n}catch(e){S(t,!0)}finally{s===T&&e.removeAttribute("id")}}}return g(t.replace(B,"$1"),e,n,r)}function ct(){var r=[];return function t(e,n){return r.push(e+" ")>_.cacheLength&&delete t[r.shift()],t[e+" "]=n}}function ut(t){return t[T]=!0,t}function lt(t){var e=k.createElement("fieldset");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function ft(t,e){for(var n=t.split("|"),r=n.length;r--;)_.attrHandle[n[r]]=e}function pt(t,e){var n=e&&t,r=n&&1===t.nodeType&&1===e.nodeType&&t.sourceIndex-e.sourceIndex;if(r)return r;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function ht(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&at(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function dt(a){return ut(function(i){return i=+i,ut(function(t,e){for(var n,r=a([],t.length,i),o=r.length;o--;)t[n=r[o]]&&(t[n]=!(e[n]=t[n]))})})}function gt(t){return t&&void 0!==t.getElementsByTagName&&t}for(t in h=st.support={},o=st.isXML=function(t){var e=t.namespaceURI,n=(t.ownerDocument||t).documentElement;return!G.test(e||n&&n.nodeName||"HTML")},x=st.setDocument=function(t){var e,n,r=t?t.ownerDocument||t:p;return r!=k&&9===r.nodeType&&r.documentElement&&(a=(k=r).documentElement,I=!o(k),p!=k&&(n=k.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",it,!1):n.attachEvent&&n.attachEvent("onunload",it)),h.scope=lt(function(t){return a.appendChild(t).appendChild(k.createElement("div")),void 0!==t.querySelectorAll&&!t.querySelectorAll(":scope fieldset div").length}),h.attributes=lt(function(t){return t.className="i",!t.getAttribute("className")}),h.getElementsByTagName=lt(function(t){return t.appendChild(k.createComment("")),!t.getElementsByTagName("*").length}),h.getElementsByClassName=K.test(k.getElementsByClassName),h.getById=lt(function(t){return a.appendChild(t).id=T,!k.getElementsByName||!k.getElementsByName(T).length}),h.getById?(_.filter.ID=function(t){var e=t.replace(et,nt);return function(t){return t.getAttribute("id")===e}},_.find.ID=function(t,e){if(void 0!==e.getElementById&&I){var n=e.getElementById(t);return n?[n]:[]}}):(_.filter.ID=function(t){var n=t.replace(et,nt);return function(t){var e=void 0!==t.getAttributeNode&&t.getAttributeNode("id");return e&&e.value===n}},_.find.ID=function(t,e){if(void 0!==e.getElementById&&I){var n,r,o,i=e.getElementById(t);if(i){if((n=i.getAttributeNode("id"))&&n.value===t)return[i];for(o=e.getElementsByName(t),r=0;i=o[r++];)if((n=i.getAttributeNode("id"))&&n.value===t)return[i]}return[]}}),_.find.TAG=h.getElementsByTagName?function(t,e){return void 0!==e.getElementsByTagName?e.getElementsByTagName(t):h.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,r=[],o=0,i=e.getElementsByTagName(t);if("*"!==t)return i;for(;n=i[o++];)1===n.nodeType&&r.push(n);return r},_.find.CLASS=h.getElementsByClassName&&function(t,e){if(void 0!==e.getElementsByClassName&&I)return e.getElementsByClassName(t)},s=[],v=[],(h.qsa=K.test(k.querySelectorAll))&&(lt(function(t){var e;a.appendChild(t).innerHTML="<a id='"+T+"'></a><select id='"+T+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&v.push("[*^$]="+P+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||v.push("\\["+P+"*(?:value|"+L+")"),t.querySelectorAll("[id~="+T+"-]").length||v.push("~="),(e=k.createElement("input")).setAttribute("name",""),t.appendChild(e),t.querySelectorAll("[name='']").length||v.push("\\["+P+"*name"+P+"*="+P+"*(?:''|\"\")"),t.querySelectorAll(":checked").length||v.push(":checked"),t.querySelectorAll("a#"+T+"+*").length||v.push(".#.+[+~]"),t.querySelectorAll("\\\f"),v.push("[\\r\\n\\f]")}),lt(function(t){t.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var e=k.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&v.push("name"+P+"*[*^$|!~]?="),2!==t.querySelectorAll(":enabled").length&&v.push(":enabled",":disabled"),a.appendChild(t).disabled=!0,2!==t.querySelectorAll(":disabled").length&&v.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),v.push(",.*:")})),(h.matchesSelector=K.test(l=a.matches||a.webkitMatchesSelector||a.mozMatchesSelector||a.oMatchesSelector||a.msMatchesSelector))&&lt(function(t){h.disconnectedMatch=l.call(t,"*"),l.call(t,"[s!='']:x"),s.push("!=",U)}),v=v.length&&new RegExp(v.join("|")),s=s.length&&new RegExp(s.join("|")),e=K.test(a.compareDocumentPosition),m=e||K.test(a.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,r=e&&e.parentNode;return t===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):t.compareDocumentPosition&&16&t.compareDocumentPosition(r)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},A=e?function(t,e){if(t===e)return u=!0,0;var n=!t.compareDocumentPosition-!e.compareDocumentPosition;return n||(1&(n=(t.ownerDocument||t)==(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!h.sortDetached&&e.compareDocumentPosition(t)===n?t==k||t.ownerDocument==p&&m(p,t)?-1:e==k||e.ownerDocument==p&&m(p,e)?1:c?D(c,t)-D(c,e):0:4&n?-1:1)}:function(t,e){if(t===e)return u=!0,0;var n,r=0,o=t.parentNode,i=e.parentNode,a=[t],s=[e];if(!o||!i)return t==k?-1:e==k?1:o?-1:i?1:c?D(c,t)-D(c,e):0;if(o===i)return pt(t,e);for(n=t;n=n.parentNode;)a.unshift(n);for(n=e;n=n.parentNode;)s.unshift(n);for(;a[r]===s[r];)r++;return r?pt(a[r],s[r]):a[r]==p?-1:s[r]==p?1:0}),k},st.matches=function(t,e){return st(t,null,null,e)},st.matchesSelector=function(t,e){if(x(t),h.matchesSelector&&I&&!S[e+" "]&&(!s||!s.test(e))&&(!v||!v.test(e)))try{var n=l.call(t,e);if(n||h.disconnectedMatch||t.document&&11!==t.document.nodeType)return n}catch(t){S(e,!0)}return 0<st(e,k,null,[t]).length},st.contains=function(t,e){return(t.ownerDocument||t)!=k&&x(t),m(t,e)},st.attr=function(t,e){(t.ownerDocument||t)!=k&&x(t);var n=_.attrHandle[e.toLowerCase()],r=n&&C.call(_.attrHandle,e.toLowerCase())?n(t,e,!I):void 0;return void 0!==r?r:h.attributes||!I?t.getAttribute(e):(r=t.getAttributeNode(e))&&r.specified?r.value:null},st.escape=function(t){return(t+"").replace(rt,ot)},st.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},st.uniqueSort=function(t){var e,n=[],r=0,o=0;if(u=!h.detectDuplicates,c=!h.sortStable&&t.slice(0),t.sort(A),u){for(;e=t[o++];)e===t[o]&&(r=n.push(o));for(;r--;)t.splice(n[r],1)}return c=null,t},i=st.getText=function(t){var e,n="",r=0,o=t.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=i(t)}else if(3===o||4===o)return t.nodeValue}else for(;e=t[r++];)n+=i(e);return n},(_=st.selectors={cacheLength:50,createPseudo:ut,match:J,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(et,nt),t[3]=(t[3]||t[4]||t[5]||"").replace(et,nt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||st.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&st.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return J.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&q.test(n)&&(e=d(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(et,nt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=y[t+" "];return e||(e=new RegExp("(^|"+P+")"+t+"("+P+"|$)"))&&y(t,function(t){return e.test("string"==typeof t.className&&t.className||void 0!==t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(n,r,o){return function(t){var e=st.attr(t,n);return null==e?"!="===r:!r||(e+="","="===r?e===o:"!="===r?e!==o:"^="===r?o&&0===e.indexOf(o):"*="===r?o&&-1<e.indexOf(o):"$="===r?o&&e.slice(-o.length)===o:"~="===r?-1<(" "+e.replace(H," ")+" ").indexOf(o):"|="===r&&(e===o||e.slice(0,o.length+1)===o+"-"))}},CHILD:function(d,t,e,g,v){var m="nth"!==d.slice(0,3),y="last"!==d.slice(-4),b="of-type"===t;return 1===g&&0===v?function(t){return!!t.parentNode}:function(t,e,n){var r,o,i,a,s,c,u=m!==y?"nextSibling":"previousSibling",l=t.parentNode,f=b&&t.nodeName.toLowerCase(),p=!n&&!b,h=!1;if(l){if(m){for(;u;){for(a=t;a=a[u];)if(b?a.nodeName.toLowerCase()===f:1===a.nodeType)return!1;c=u="only"===d&&!c&&"nextSibling"}return!0}if(c=[y?l.firstChild:l.lastChild],y&&p){for(h=(s=(r=(o=(i=(a=l)[T]||(a[T]={}))[a.uniqueID]||(i[a.uniqueID]={}))[d]||[])[0]===E&&r[1])&&r[2],a=s&&l.childNodes[s];a=++s&&a&&a[u]||(h=s=0)||c.pop();)if(1===a.nodeType&&++h&&a===t){o[d]=[E,s,h];break}}else if(p&&(h=s=(r=(o=(i=(a=t)[T]||(a[T]={}))[a.uniqueID]||(i[a.uniqueID]={}))[d]||[])[0]===E&&r[1]),!1===h)for(;(a=++s&&a&&a[u]||(h=s=0)||c.pop())&&((b?a.nodeName.toLowerCase()!==f:1!==a.nodeType)||!++h||(p&&((o=(i=a[T]||(a[T]={}))[a.uniqueID]||(i[a.uniqueID]={}))[d]=[E,h]),a!==t)););return(h-=v)===g||h%g==0&&0<=h/g}}},PSEUDO:function(t,i){var e,a=_.pseudos[t]||_.setFilters[t.toLowerCase()]||st.error("unsupported pseudo: "+t);return a[T]?a(i):1<a.length?(e=[t,t,"",i],_.setFilters.hasOwnProperty(t.toLowerCase())?ut(function(t,e){for(var n,r=a(t,i),o=r.length;o--;)t[n=D(t,r[o])]=!(e[n]=r[o])}):function(t){return a(t,0,e)}):a}},pseudos:{not:ut(function(t){var r=[],o=[],s=f(t.replace(B,"$1"));return s[T]?ut(function(t,e,n,r){for(var o,i=s(t,null,r,[]),a=t.length;a--;)(o=i[a])&&(t[a]=!(e[a]=o))}):function(t,e,n){return r[0]=t,s(r,null,n,o),r[0]=null,!o.pop()}}),has:ut(function(e){return function(t){return 0<st(e,t).length}}),contains:ut(function(e){return e=e.replace(et,nt),function(t){return-1<(t.textContent||i(t)).indexOf(e)}}),lang:ut(function(n){return Y.test(n||"")||st.error("unsupported lang: "+n),n=n.replace(et,nt).toLowerCase(),function(t){var e;do{if(e=I?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(e=e.toLowerCase())===n||0===e.indexOf(n+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var e=n.location&&n.location.hash;return e&&e.slice(1)===t.id},root:function(t){return t===a},focus:function(t){return t===k.activeElement&&(!k.hasFocus||k.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:ht(!1),disabled:ht(!0),checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!_.pseudos.empty(t)},header:function(t){return Z.test(t.nodeName)},input:function(t){return Q.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:dt(function(){return[0]}),last:dt(function(t,e){return[e-1]}),eq:dt(function(t,e,n){return[n<0?n+e:n]}),even:dt(function(t,e){for(var n=0;n<e;n+=2)t.push(n);return t}),odd:dt(function(t,e){for(var n=1;n<e;n+=2)t.push(n);return t}),lt:dt(function(t,e,n){for(var r=n<0?n+e:e<n?e:n;0<=--r;)t.push(r);return t}),gt:dt(function(t,e,n){for(var r=n<0?n+e:n;++r<e;)t.push(r);return t})}}).pseudos.nth=_.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})_.pseudos[t]=function(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}(t);for(t in{submit:!0,reset:!0})_.pseudos[t]=function(n){return function(t){var e=t.nodeName.toLowerCase();return("input"===e||"button"===e)&&t.type===n}}(t);function vt(){}function mt(t){for(var e=0,n=t.length,r="";e<n;e++)r+=t[e].value;return r}function yt(s,t,e){var c=t.dir,u=t.next,l=u||c,f=e&&"parentNode"===l,p=r++;return t.first?function(t,e,n){for(;t=t[c];)if(1===t.nodeType||f)return s(t,e,n);return!1}:function(t,e,n){var r,o,i,a=[E,p];if(n){for(;t=t[c];)if((1===t.nodeType||f)&&s(t,e,n))return!0}else for(;t=t[c];)if(1===t.nodeType||f)if(o=(i=t[T]||(t[T]={}))[t.uniqueID]||(i[t.uniqueID]={}),u&&u===t.nodeName.toLowerCase())t=t[c]||t;else{if((r=o[l])&&r[0]===E&&r[1]===p)return a[2]=r[2];if((o[l]=a)[2]=s(t,e,n))return!0}return!1}}function bt(o){return 1<o.length?function(t,e,n){for(var r=o.length;r--;)if(!o[r](t,e,n))return!1;return!0}:o[0]}function _t(t,e,n,r,o){for(var i,a=[],s=0,c=t.length,u=null!=e;s<c;s++)(i=t[s])&&(n&&!n(i,r,o)||(a.push(i),u&&e.push(s)));return a}function wt(h,d,g,v,m,t){return v&&!v[T]&&(v=wt(v)),m&&!m[T]&&(m=wt(m,t)),ut(function(t,e,n,r){var o,i,a,s=[],c=[],u=e.length,l=t||function(t,e,n){for(var r=0,o=e.length;r<o;r++)st(t,e[r],n);return n}(d||"*",n.nodeType?[n]:n,[]),f=!h||!t&&d?l:_t(l,s,h,n,r),p=g?m||(t?h:u||v)?[]:e:f;if(g&&g(f,p,n,r),v)for(o=_t(p,c),v(o,[],n,r),i=o.length;i--;)(a=o[i])&&(p[c[i]]=!(f[c[i]]=a));if(t){if(m||h){if(m){for(o=[],i=p.length;i--;)(a=p[i])&&o.push(f[i]=a);m(null,p=[],o,r)}for(i=p.length;i--;)(a=p[i])&&-1<(o=m?D(t,a):s[i])&&(t[o]=!(e[o]=a))}}else p=_t(p===e?p.splice(u,p.length):p),m?m(null,e,p,r):j.apply(e,p)})}function xt(t){for(var o,e,n,r=t.length,i=_.relative[t[0].type],a=i||_.relative[" "],s=i?1:0,c=yt(function(t){return t===o},a,!0),u=yt(function(t){return-1<D(o,t)},a,!0),l=[function(t,e,n){var r=!i&&(n||e!==w)||((o=e).nodeType?c:u)(t,e,n);return o=null,r}];s<r;s++)if(e=_.relative[t[s].type])l=[yt(bt(l),e)];else{if((e=_.filter[t[s].type].apply(null,t[s].matches))[T]){for(n=++s;n<r&&!_.relative[t[n].type];n++);return wt(1<s&&bt(l),1<s&&mt(t.slice(0,s-1).concat({value:" "===t[s-2].type?"*":""})).replace(B,"$1"),e,s<n&&xt(t.slice(s,n)),n<r&&xt(t=t.slice(n)),n<r&&mt(t))}l.push(e)}return bt(l)}function kt(v,m){var y=0<m.length,b=0<v.length,t=function(t,e,n,r,o){var i,a,s,c=0,u="0",l=t&&[],f=[],p=w,h=t||b&&_.find.TAG("*",o),d=E+=null==p?1:Math.random()||.1,g=h.length;for(o&&(w=e==k||e||o);u!==g&&null!=(i=h[u]);u++){if(b&&i){for(a=0,e||i.ownerDocument==k||(x(i),n=!I);s=v[a++];)if(s(i,e||k,n)){r.push(i);break}o&&(E=d)}y&&((i=!s&&i)&&c--,t&&l.push(i))}if(c+=u,y&&u!==c){for(a=0;s=m[a++];)s(l,f,e,n);if(t){if(0<c)for(;u--;)l[u]||f[u]||(f[u]=z.call(r));f=_t(f)}j.apply(r,f),o&&!t&&0<f.length&&1<c+m.length&&st.uniqueSort(r)}return o&&(E=d,w=p),l};return y?ut(t):t}vt.prototype=_.filters=_.pseudos,_.setFilters=new vt,d=st.tokenize=function(t,e){var n,r,o,i,a,s,c,u=b[t+" "];if(u)return e?0:u.slice(0);for(a=t,s=[],c=_.preFilter;a;){for(i in n&&!(r=F.exec(a))||(r&&(a=a.slice(r[0].length)||a),s.push(o=[])),n=!1,(r=V.exec(a))&&(n=r.shift(),o.push({value:n,type:r[0].replace(B," ")}),a=a.slice(n.length)),_.filter)!(r=J[i].exec(a))||c[i]&&!(r=c[i](r))||(n=r.shift(),o.push({value:n,type:i,matches:r}),a=a.slice(n.length));if(!n)break}return e?a.length:a?st.error(t):b(t,s).slice(0)},f=st.compile=function(t,e){var n,r=[],o=[],i=M[t+" "];if(!i){for(n=(e=e||d(t)).length;n--;)((i=xt(e[n]))[T]?r:o).push(i);(i=M(t,kt(o,r))).selector=t}return i},g=st.select=function(t,e,n,r){var o,i,a,s,c,u="function"==typeof t&&t,l=!r&&d(t=u.selector||t);if(n=n||[],1===l.length){if(2<(i=l[0]=l[0].slice(0)).length&&"ID"===(a=i[0]).type&&9===e.nodeType&&I&&_.relative[i[1].type]){if(!(e=(_.find.ID(a.matches[0].replace(et,nt),e)||[])[0]))return n;u&&(e=e.parentNode),t=t.slice(i.shift().value.length)}for(o=J.needsContext.test(t)?0:i.length;o--&&(a=i[o],!_.relative[s=a.type]);)if((c=_.find[s])&&(r=c(a.matches[0].replace(et,nt),tt.test(i[0].type)&&gt(e.parentNode)||e))){if(i.splice(o,1),!(t=r.length&&mt(i)))return j.apply(n,r),n;break}}return(u||f(t,l))(r,e,!I,n,!e||tt.test(t)&&gt(e.parentNode)||e),n},h.sortStable=T.split("").sort(A).join("")===T,h.detectDuplicates=!!u,x(),h.sortDetached=lt(function(t){return 1&t.compareDocumentPosition(k.createElement("fieldset"))}),lt(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||ft("type|href|height|width",function(t,e,n){if(!n)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),h.attributes&&lt(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||ft("value",function(t,e,n){if(!n&&"input"===t.nodeName.toLowerCase())return t.defaultValue}),lt(function(t){return null==t.getAttribute("disabled")})||ft(L,function(t,e,n){var r;if(!n)return!0===t[e]?e.toLowerCase():(r=t.getAttributeNode(e))&&r.specified?r.value:null});var It=n.Sizzle;st.noConflict=function(){return n.Sizzle===st&&(n.Sizzle=It),st},Tt.exports?Tt.exports=st:n.Sizzle=st}(window)}),yw=(Iw.prototype.query=function(t){try{if(document.querySelector)return document.querySelector(t);var e=mw(t);return e&&e.length?e[0]:null}catch(t){return null}},Iw.prototype.init=function(){var n=this;try{this.elementList&&this.elementList.length?(this.elementList.map(function(t){var e=n.query(t.selector);e&&n.inScreen(e,t)}),this.domInScreen.length&&(this.domInScreen.map(function(t){n.render(t.dom,t.elementItem)}),this.domInScreen=[],this.closeOverLay||(this.abInstance.closeOverlayer(),this.closeOverLay=!0)),this.domOutScreen.length&&(this.domOutScreen.map(function(t){n.render(t.dom,t.elementItem)}),this.domOutScreen=[])):console.log("no abtest config")}catch(n){console.log("init error: "+JSON.stringify(n))}},Iw.prototype.render=function(t,e){if("true"!==t.getAttribute("data-ab-visual")){for(var n in e){if("text"===n&&(t.innerHTML=e[n]),"style"===n)for(var r in e[n])t.style[r]=e[n][r];if("attrs"===n)for(var o in e[n])t[o]=e[n][o]}t.setAttribute("data-ab-visual","true")}},Iw.prototype.inScreen=function(t,e){var n=this.windowSize,r=n.windowHeight,o=n.windowWidth,i=t.getBoundingClientRect&&t.getBoundingClientRect();(i&&0<i.width&&0<i.height&&i.top<=r&&i.left<=o?this.domInScreen:this.domOutScreen).push({dom:t,elementItem:e})},Iw.prototype.getWindowSize=function(){var n={windowHeight:window.outerHeight||screen.height,windowWidth:window.outerWidth||screen.width},t=document.documentElement||document.body;return[window.innerWidth,t.clientWidth].filter(function(t){return t&&t>n.windowWidth&&2<=t/n.windowWidth}).forEach(function(t){var e=t/n.windowHeight;n.windowHeight=n.windowHeight*e,n.windowWidth=n.windowWidth*e}),n},Iw),bw=(kw.prototype.linster=function(){var e=this,t=window.MutationObserver;if(t)try{this.observer=new t(function(t){t&&t.length&&e.select.init()}),this.observer.observe(document,{childList:!0,subtree:!0})}catch(e){console.log("mutationObserver err")}else console.log("you browser is not support mutationObserver")},kw),_w={},ww=[],xw=function(t){t.length&&t.forEach(function(t){ww.push(t)})};function kw(t,e){this.linster(),this.select=new yw(e,t),this.select.init()}function Iw(t,e){this.closeOverLay=!1,this.domInScreen=[],this.domOutScreen=[],this.abInstance=t,this.elementList=e,this.windowSize=this.getWindowSize()}function Tw(){}function Ew(t){this.event=t,this.cache={},this.duration=6e4,this.profileReady=!1,this.lastId=0,this.lastOnceId=0}function Mw(t){var e=this;this._setInterval=function(){e._clearIntervalFunc=function(n,r){void 0===n&&(n=function(){}),void 0===r&&(r=1e3);var o=Date.now()+r,i=window.setTimeout(function t(){var e=Date.now()-o;n(),o+=r,i=window.setTimeout(t,Math.max(0,r-e))},r);return function(){window.clearTimeout(i)}}(function(){e._isSessionhasEvent&&e._endCurrentSession()},e.sessionInterval)},this._clearInterval=function(){e._clearIntervalFunc&&e._clearIntervalFunc()},this.sessionInterval=6e4,this._eventSenderFunc=t,this._startTime=0,this._lastTime=0,this._setInterval()}function Sw(t,e){this.pageAlive=new aw(t,e),this.pageClose=new sw(t,e),this.title=document.title||location.pathname,this.url=location.href,this.url_path=location.pathname,this._enable(this.url_path,this.title,this.url)}function Aw(t,e){var n=this;this._visibilitychange=function(){"hidden"===document.visibilityState?n.activeEndTime=rw():"visible"===document.visibilityState&&(n.activeEndTime&&(n.totalTime+=n.activeEndTime-n.activeStartTime,n.activeTimes+=1),n.activeEndTime=void 0,n.activeStartTime=rw())},this._beforeunload=function(){if(n.totalTime+=(n.activeEndTime||rw())-n.activeStartTime,n.config.autotrack)try{window.sessionStorage.setItem("_tea_cache_duration",JSON.stringify({duration:n.totalTime,page_title:document.title||location.pathname}))}catch(t){}n._sendEventPageClose()},this.event=t,this.config=e,this.isSupVisChange=iw(),this.options={sup_vis_change:this.isSupVisChange},this.maxDuration=e.maxDuration||864e5,this.disableCallback=function(){},this.pageStartTime=ow(),this._resetData()}function Cw(t,e){var n=this;this._sendEvent=function(t){void 0===t&&(t=!1);var e=t?n.options.aliveDTime:rw()-n.sessionStartTime;rw()-n.pageStartTime>n.options.maxDuration||(n.event("predefine_page_alive",f_({},nw(n.url_path,n.title,n.url),{duration:e,is_support_visibility_change:n.options.sup_vis_change?1:0})),n.sessionStartTime=rw())},this._setUpTimer=function(){return n.timerHandler&&clearInterval(n.timerHandler),setInterval(function(){rw()-n.sessionStartTime>n.options.aliveDTime&&n._sendEvent(!0)},1e3)},this._visibilitychange=function(){"hidden"===document.visibilityState?n.timerHandler&&(clearInterval(n.timerHandler),n._sendEvent()):"visible"===document.visibilityState&&(n.sessionStartTime=rw(),n.timerHandler=n._setUpTimer())},this._beforeunload=function(){document.hidden||n._sendEvent()},this._wtest=function(){document.getElementById("wtest").innerHTML="visibilitychange"},this._dtest=function(){document.getElementById("dtest").innerHTML="dvisibilitychange"},this.event=t,this.config=e,this.isSupVisChange=iw(),this.options={maxDuration:432e5,aliveDTime:6e4,sup_vis_change:iw()},this.pageStartTime=ow(),this.sessionStartTime=this.pageStartTime,this.timerHandler=null,this.disableCallback=function(){}}function zw(t,e,n,r){var o=t&&t.source||window.opener||window.parent,i=t&&t.origin||r||"*",a={type:e,payload:n};o.postMessage(JSON.stringify(a),i)}function Nw(t,e){_w[t]=_w[t]||[],_w[t].push(e)}function jw(e){if(ww.some(function(t){return"*"===t})||ww.some(function(t){return-1<e.origin.indexOf(t)})){var t,n,r=e.data;if("string"==typeof e.data)try{r=JSON.parse(e.data)}catch(e){r=void 0}r&&(t=r.type,n=r.payload,_w[t]&&_w[t].forEach(function(t){"function"==typeof t&&t(e,n)}))}}function Ow(){(window.opener||window.parent).postMessage("[tea-sdk]ready","*"),window.addEventListener("message",jw,!1)}function Dw(t,e,n){var r=document.createElement("script");r.src=t,r.onerror=function(){n(t)},r.onload=function(){e()},document.getElementsByTagName("head")[0].appendChild(r)}window.TEAVisualEditor=window.TEAVisualEditor||{};var Lw,Pw,Rw,$w,Uw="",Hw=!1;($w=Lw=Lw||{})[$w.No=0]="No",$w[$w.Ing=1]="Ing",$w[$w.Complete=2]="Complete",(Rw=Pw=Pw||{})[Rw.Var=0]="Var",Rw[Rw.All=1]="All";var Bw,Fw,Vw=(Qw.prototype.init=function(t,e){var n,r,o;this.collector.destroyInstance||(this.domain?(n=(this.config=t).user,o=function(t,e){var n={};for(o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.indexOf(o)<0&&(n[o]=t[o]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,o=Object.getOwnPropertySymbols(t);r<o.length;r++)e.indexOf(o[r])<0&&(n[o[r]]=t[o[r]]);return n}(r=t.header,[]),this.user=f_({},n),this.header=f_({},r),this._fetch(f_({},o),{success:e,fail:e})):console.warn("sorry you env is not support abtest yet~"))},Qw.prototype._check=function(){var t,e,n,r=this,o=function(t){var e=dw(t),n=e.timestamp;if(2592e6<=Date.now()-n){try{pw.removeItem("__tea_sdk_ab_version")}catch(t){}return null}return e}(this.appId);o&&(t=o.ab_version,e=o.data,n=o.ab_ext_version,this.extVersions=n,t&&t.length&&(this.versions=t,this.data=e,setTimeout(function(){r._configVersions()})))},Qw.prototype.wait=function(){var t=this;this.needOverlay&&(this.isWait||(this.openOverlayer(),this.isWait=!0),setTimeout(function(){t.closeOverlayer()},this.closeTime))},Qw.prototype.getAllVars=function(t){if("function"!=typeof t)throw new Error("callback must be a function");var e={callback:t,type:Pw.All};this.fetchStatus===Lw.Complete?this._getAllVars(e):this.callbacks.push(e)},Qw.prototype._getAllVars=function(t){(0,t.callback)(this.data?JSON.parse(JSON.stringify(this.data)):{})},Qw.prototype.getVar=function(t,e,n){if(!t)throw new Error("variable must not be empty");if(void 0===e)throw new Error("variable no default value");if("function"!=typeof n)throw new Error("callback must be a function");var r={name:t,defaultValue:e,callback:n,type:Pw.Var};this.fetchStatus===Lw.Complete?(this._getVar(r),this._updateVersions()):this.callbacks.push(r)},Qw.prototype._getVar=function(t){var e=t.name,n=t.defaultValue,r=t.callback,o=this.data;if(o){if("object"==Ic(o[e])&&void 0!==o[e].val){r(o[e].val);var i=o[e].vid;return this._abEvent(i),void(this.versions.includes(i)||this.versions.push(i))}r(n)}else r(n)},Qw.prototype._abEvent=function(t){var e,n,r,o=this;try{t&&(e={event:"abtest_exposure",ab_sdk_version:""+t,params:JSON.stringify({app_id:this.appId,ab_url:window.location.href}),local_time_ms:Date.now()},(n=f_({},this.header)).ab_sdk_version=""+t,r={events:[e],user:this.user,header:n},setTimeout(function(){j_(o.reportUrl,3e3,[r],"")},16))}catch(t){}},Qw.prototype.openOverlayer=function(){var t,e,n;document.getElementById(M_)||(t="body { opacity: 0 !important; }",e=document.head||document.getElementsByTagName("head")[0],(n=document.createElement("style")).id=M_,n.type="text/css",n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t)),e.appendChild(n))},Qw.prototype.closeOverlayer=function(){var t;(t=document.getElementById(M_))&&t.parentElement.removeChild(t)},Qw.prototype._setAbVersion=function(t){this.extVersions=[t],vw(this.appId,this.extVersions,!0)},Qw.prototype._updateVersions=function(){vw(this.appId,this.versions),this._configVersions()},Qw.prototype._configVersions=function(){var t=this.versions.join(",");t&&this.collector.config({ab_sdk_version:t})},Qw.prototype._getABconfig=function(t,e){var n=Object.keys(t);n&&n.length&&this.collector.config(t),this.init(this.collector._config.get(),e)},Qw.prototype._fetchComplete=function(n){var t,e=this;if(n){t=this.appId,gw(t,{data:n}),this.data=n;var r=[];Object.keys(n).forEach(function(t){var e=n[t].vid;e&&r.push(e)}),this.versions=this.versions.filter(function(t){return r.includes(t)});var o,i,a=n.$ab_url,s=n.$ab_modification;if(s&&s.val&&this.enable_ab_visual){if(this.collector.destroyInstance)return;this.getVar("$ab_modification",window.location.href,function(){e.visual=new bw(s.val,e)})}else a&&this.enable_multilink?(o=a.val,i=a.vid,o&&i&&this.getVar("$ab_url",window.location.href,function(){o!==window.location.href?setTimeout(function(){var t;e.collector.destroyInstance||(t=-1===(t=""+o).indexOf("http")?"https://"+t:t,window.location.href=t)},50):e.closeOverlayer()})):this.closeOverlayer()}this.callbacks.forEach(function(t){return e[t.type===Pw.Var?"_getVar":"_getAllVars"](t)}),this.callbacks=[],this._updateVersions(),this.isWait||this.closeOverlayer()},Qw.prototype._fetch=function(t,e){var n=this,r=void 0===e?{}:e,o=r.success,i=void 0===o?function(){}:o,a=r.fail,s=void 0===a?function(){}:a;this.fetchStatus=Lw.Ing,z_(this.domain+"/service/2/abtest_config/",{header:f_({aid:this.appId},this.user||{},t||{},{ab_sdk_version:this.versions.join(","),ab_url:window.location.href})},function(t){n.fetchStatus=Lw.Complete;var e=t.data;"success"===t.message?(n._fetchComplete(e),i(e)):(n._fetchComplete(null),s())},function(){n.fetchStatus=Lw.Complete,s(),n._fetchComplete(null)},"",3e3)},Qw),Ww=function(t,e,n,r){if(e){var o=t.filter(function(t){return!t[0].__disable_storage__}).length;if(0<o)try{var i=r.getItem(n);if(i){var a=Object.keys(i),s=a.length+o-e;if(0<s){for(var c=a.map(function(t){var e=i[t];return{id:t,index:e&&e[0]?e[0].header.__storage_index__:+new Date}}).sort(function(t,e){return t.index-e.index}),u=0;u<s;u++){var l=c.shift();l&&l.id&&i[l.id]&&delete i[l.id]}r.setItem(n,i)}}}catch(t){}}},qw=(Jw.prototype.send=function(t){this.url&&j_(this.url,3e3,t)},Jw),Yw=function(t,e,n){e&&(e.enable_stay_duration&&(this.stay=new cw(n,e)),e.channel_domain&&(this.profile=new lw(n)),e.disable_session||(this.session=new uw(n)),e.channel_domain||e.disable_sdk_monitor||(this.monitor=new fw),e.event_verify_url&&(this.et_test=new qw(e)),e.enable_ab_test&&(this.ab=new Vw(t)),e.max_storage_num&&(this.maxStorage=Ww))};function Jw(t){"string"==typeof t.event_verify_url?this.url=t.event_verify_url+"/"+S_:console.log("please use correct et_test url")}function Qw(t){this.appId=0,this.user={},this.header={},this.domain="",this.protocal=location.protocol,this.fetchStatus=Lw.No,this.callbacks=[],this.data=null,this.versions=[],this.extVersions=[],this.collector=t;var e=this.collector._initConfig,n=e.app_id,r=e.channel,o=e.enable_multilink,i=e.multilink_timeout_ms,a=e.ab_channel_domain,s=e.channel_domain,c=e.enable_ab_visual;if(this.appId=n,this.domain=a||__(E_[r||"cn"]),this.domain){this.needOverlay=o||c||!1,this.enable_ab_visual=c,this.enable_multilink=o,this.closeTime=i||500;var u=s||__(w_[r]);if(this.reportUrl=""+u+k_,c){!function(a,s,c){xw(["*"]);var u="";Ow();var t,e=window.performance.getEntriesByType("resource"),n="";try{if(e&&e.length&&(e.forEach(function(t){"script"===t.initiatorType&&t.name&&-1!==t.name.indexOf("collect")&&(n=t.name)}),n||document.currentScript&&(n=document.currentScript.src),n&&(t=n.split("/"))&&t.length)){u="https:/";for(var r=2;r<t.length&&r!==t.length-1;r++)u=u+"/"+t[r];u+="/visual-editor-ab"}}catch(a){}Nw("tea:openVisualABEditor",function(t){var e,n,r=t.data;if("string"==typeof t.data)try{r=JSON.parse(t.data)}catch(t){r=void 0}if(r){var o=r.lang;if(r.appId!==s)return zw(t,"appIdError"),void console.error("abtest appid is not belong the page appid please check");var i=r.version;Uw=i&&u?u+(i?"."+i:".1.0.1")+".js?query="+Date.now():__("1fz22z22z1nz21z4mz4bz4bz21z4fz4az1nz21z22z18z22z1nz4az1az1mz1kz4bz1nz1ez1az4bz22z1cz1az1fz4bz1az1mz1jz1jz1cz1az22z4bz24z1gz21z23z18z1jz49z1cz1bz1gz22z1mz20z49z18z19z4az1hz21")+"?query="+Date.now(),window.TEAVisualEditor.lang=o,c&&(window.TEAVisualEditor.__ab_domin=c),n=(e={event:t,editorUrl:Uw,collectInstance:a}).event,Hw||(Hw=!0,Dw(e.editorUrl,function(){zw(n,"abEditorScriptloadSuccess")},function(){n&&zw(n,"abEditorScriptloadError"),Hw=!1}))}})}(t,this.appId,a);var l=function(){try{var t=JSON.parse(atob(window.name));return t&&t.href?t.href:""}catch(t){return""}}();if(l&&-1!==l.indexOf("datatester"))return console.log("edit mode"),void this.collector.destroy()}this._check(),this.wait()}else console.warn("sorry you env is not support abtest yet~")}function Gw(t,e){if(void 0===e&&(e="list"),!t)return!1;if(e&&"list"===e){if(["LI","TR","DL"].includes(t.nodeName))return!0;if(t.dataset&&t.dataset.hasOwnProperty("teaIdx"))return!0;if(t.hasAttribute&&t.hasAttribute("data-tea-idx"))return!0}else{if(["A","BUTTON"].includes(t.nodeName))return!0;if(t.dataset&&t.dataset.hasOwnProperty("teaContainer"))return!0;if(t.hasAttribute&&t.hasAttribute("data-tea-container"))return!0}return!1}function Zw(t){for(var e=t;e&&!Gw(e,"container");){if("HTML"===e.nodeName||"BODY"===e.nodeName)return t;e=e.parentElement}return e||t}function Kw(t){var e="";return 3===t.nodeType?e=t.textContent.trim():t.dataset&&t.dataset.hasOwnProperty("teaTitle")||t.hasAttribute("ata-tea-title")?e=t.getAttribute("data-tea-title"):t.hasAttribute("title")?e=t.getAttribute("title"):"INPUT"===t.nodeName&&["button","submit"].includes(t.getAttribute("type"))?e=t.getAttribute("value"):"IMG"===t.nodeName&&t.getAttribute("alt")&&(e=t.getAttribute("alt")),e.slice(0,200)}function Xw(t,e,n){void 0===e&&(e=""),void 0===n&&(n={});var r=t;"/"===(r=r.split("#")[0].split("?")[0])[t.length-1]&&(r=r.substr(0,t.length-1)),r="/"===e[0]?r.replace(/(https?:\/\/[\w-]+(\.[\w-]+){1,}(:[0-9]{1,5})?)(\/[.\w-]+)*\/?$/,"$1"+e):r.replace(/(https?:\/\/[\w-]+(\.[\w-]+){1,}(:[0-9]{1,5})?(\/[.\w-]+)*?)(\/[.\w-]+)?\/?$/,"$1/"+e);var o=Object.keys(n).map(function(t){return t+"="+n[t]}).join("&");return 0<o.length?r+"?"+o:r}function tx(){var t="";try{t=document.referrer||(Fw.getItem("__tea_cache_refer_key")===location.href?"":Fw.getItem("__tea_cache_refer_key"))}catch(t){}return{is_html:1,page_key:location.href,refer_page_key:t,page_manual_key:"",refer_page_manual_key:""}}function ex(t,e){var n=tx();return n.is_back=0,n}function nx(n,r){var a,s,c,u,l;void 0===r&&(r=!1),a=n,u=window.history,l=u.pushState,u.pushState=function(t){"function"==typeof u.onpushstate&&u.onpushstate({state:t}),a("pushState",t,i);for(var e=arguments.length,n=new Array(1<e?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var o=l.call.apply(l,[u,t].concat(n)),i=ex();return Bw=Xw(location.href,n[1]),a("popstate",t,i),o},s=window.history,c=s.replaceState,s.replaceState=function(t){"function"==typeof s.onreplacestate&&s.onreplacestate({state:t});for(var e=arguments.length,n=new Array(1<e?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var o=c.call.apply(c,[s,t].concat(n)),i=ex();return Bw=Xw(location.href,n[1]),a("replaceState",t,i),o},(Fw=new b_(!0)).setItem("__tea_cache_refer_key",location.href);var o=null;window.addEventListener("hashchange",function(t){var e;Bw!==window.location.href&&(clearTimeout(o),r)&&(Bw=window.location.href,e=tx(),n("hashchange",t,e))}),window.addEventListener("popstate",function(e){Bw!==window.location.href&&(o=setTimeout(function(){Bw=window.location.href;var t=ex();n("popstate",e,t)},10))});var t=ex();n("popstate",null,t)}"undefined"!=typeof window&&(Bw=window.location.href);var rx=(sx.prototype.init=function(t){this.eventHandel=t;var e=this.config.mode;this.addListener(e)},sx.prototype.addListener=function(t){var o=this;if("proxy-capturing"===t&&(this.config.click&&window.document.addEventListener("click",this.clickEvent,!0),this.config.change&&window.document.addEventListener("change",this.changeEvent,!0),this.config.submit&&window.document.addEventListener("submit",this.submitEvent,!0),this.config.pv&&("complete"===document.readyState?nx(this.getPageViewEvent,this.options.hashTag||this.config.hashTag):window.addEventListener("load",function(){nx(o.getPageViewEvent,o.options.hashTag||o.config.hashTag)})),this.config.beat)){try{"complete"===document.readyState?this.beatEvent(this.beatTime):window.addEventListener("load",function(){o.beatEvent(o.beatTime)});var e=0,n=null;document.onscroll=function(){clearTimeout(n),n=setTimeout(r,500),e=document.documentElement.scrollTop||document.body.scrollTop};var r=function(){(document.documentElement.scrollTop||document.body.scrollTop)==e&&o.eventHandel({eventType:"dom",eventName:"beat"},{beat_type:1})}}catch(t){}try{var i=window.performance&&window.performance.getEntriesByType("paint");i&&i.length?(new PerformanceObserver(function(t){var e=t.getEntries(),n=e[e.length-1],r=n.renderTime||n.loadTime;o.statistics||(o.getPageLoadEvent(r),o.statistics=!0)}).observe({entryTypes:["largest-contentful-paint"]}),setTimeout(function(){o.statistics||(o.getPageLoadEvent(i[0].startTime||0),o.statistics=!0)},2e3)):this.getPageLoadEvent(0)}catch(t){this.getPageLoadEvent(0)}}},sx.prototype.removeListener=function(){window.document.removeEventListener("click",this.clickEvent,!0),window.document.removeEventListener("change",this.changeEvent,!0),window.document.removeEventListener("submit",this.submitEvent,!0)},sx.prototype.beatEvent=function(t){var e,n=this;try{this.eventHandel({eventType:"dom",eventName:"beat"},{beat_type:3}),this.beatTime&&(e=setInterval(function(){n.eventHandel({eventType:"dom",eventName:"beat"},{beat_type:2})},t)),R_(function(){n.eventHandel({eventType:"dom",eventName:"beat"},{beat_type:0}),n.beatTime&&clearInterval(e)})}catch(t){}},sx),ox={eventConfig:{mode:"proxy-capturing",submit:!1,click:!0,change:!1,pv:!0,beat:!0,hashTag:!1,impr:!1},scoutConfig:{mode:"xpath"}},ix=(ax.prototype.getConfig=function(){return this.config},ax.prototype.setConfig=function(t){return this.config=t},ax);function ax(t){this.config=t}function sx(t,e){var r=this;this.clickEvent=function(t){!function(n){if(1===n.nodeType&&!function(){for(var t=n.parentElement,e=!1;t;)"svg"===t.tagName.toLowerCase()?e=!(t=null):t=t.parentElement;return e}()&&!["HTML","BODY"].includes(n.tagName.toUpperCase())){var e=n;return"none"!==e.style.display&&(Gw(e,"container")||function(){if(e.children.length){var t=e.children;return![].slice.call(t).some(function(t){return 0<t.children.length})}return 1}())}}(t.target)||r.eventHandel({eventType:"dom",eventName:"click"},t)},this.changeEvent=function(t){r.eventHandel({eventType:"dom",eventName:"change"},t)},this.submitEvent=function(t){r.eventHandel({eventType:"dom",eventName:"submit"},t)},this.getPageViewEvent=function(t,e,n){"pushState"===t?r.eventHandel({eventType:"dom",eventName:"beat"},{beat_type:0}):r.eventHandel({eventType:"dom",eventName:"page_view"},n)},this.getPageLoadEvent=function(t){r.eventHandel({eventType:"dom",eventName:"page_statistics"},{lcp:t})},this.config=e.getConfig().eventConfig,this.options=t,this.beatTime=t.beat,this.statistics=!1}function cx(t,e,n){return f_({event:t},function(t,r){var e,i,n,a,o={element_path:"",positions:[],texts:[]},s=function(){if(r){var t=r.getBoundingClientRect(),e=t.width,n=t.height;return{left:t.left,top:t.top,element_width:e,element_height:n}}}(),c=function(t,e){void 0===t&&(t={}),void 0===e&&(e={});var n=t.clientX,r=t.clientY,o=e.left,i=e.top;return{touch_x:Math.floor(n-o),touch_y:Math.floor(r-i)}}(t,s),u=s.element_width,l=s.element_height,f=c.touch_x,p=c.touch_y,h=function(t){for(var e=[];null!==t.parentElement;)e.push(t),t=t.parentElement;var o=[],i=[];return e.forEach(function(t){var e=function(t){if(null===t)return{str:"",index:0};var e=0,n=t.parentElement;if(n)for(var r=n.children,o=0;o<r.length&&r[o]!==t;o++)r[o].nodeName===t.nodeName&&e++;return{str:[t.nodeName.toLowerCase(),Gw(t,"list")?"[]":""].join(""),index:e}}(t),n=e.str,r=e.index;o.unshift(n),i.unshift(r)}),{element_path:"/"+o.join("/"),positions:i}}(r),d=h.element_path,g=h.positions,v=(e=Zw(r),i=[],function t(e){var n=Kw(e);if(n&&-1===i.indexOf(n)&&i.push(n),0<e.childNodes.length)for(var r=e.childNodes,o=0;o<r.length;o++)8!==r[o].nodeType&&t(r[o])}(e),i),m=window.performance.timing.navigationStart,y=Date.now()-m;o.element_path=d,o.positions=g.map(function(t){return""+t}),o.texts=v,o.element_width=Math.floor(u),o.element_height=Math.floor(l),o.touch_x=f,o.touch_y=p,o.page_manual_key="",o.elememt_manual_key="",o.since_page_start_ms=y,o.page_start_ms=m,o.element_title=(n=Zw(r),a="",function t(e){var n=Kw(e);if(n&&(a+=n),0<e.childNodes.length)for(var r=e.childNodes,o=0;o<r.length;o++)3===r[o].nodeType&&t(r[o])}(n),a);var b=Zw(r);return"A"===b.tagName&&(o.href=b.getAttribute("href")),"IMG"===r.tagName&&(o.src=r.getAttribute("src")),o}(e,n),{is_html:1,page_key:window.location.href,page_title:document.title})}var ux=(gx.prototype.handleEvent=function(e,t){try{if(function(){for(var t=e.target;t&&t.parentNode;){if(t.hasAttribute("data-tea-ignore"))return 1;if("HTML"===t.nodeName||"body"===t.nodeName)return;t=t.parentNode}}())return null;var n="bav2b_click";switch(t){case"click":return cx(n=this.eventName.click,e,e.target);case"change":return f_({},cx(n="bav2b_change",e,e.target),function(t,e){try{if("bav2b_change"===t)return e.hasAttribute("data-tea-track")?{value:e.value}:{}}catch(t){return{}}}(n,e.target));case"submit":return cx(n="bav2b_submit",e,e.target)}}catch(e){return console.error(e),null}},gx.prototype.handleViewEvent=function(t){t.event=this.eventName.page,t.page_title=document.title,t.page_total_width=window.innerWidth,t.page_total_height=window.innerHeight;try{var e,n=window.sessionStorage.getItem("_tea_cache_duration");n?(e=JSON.parse(n),t.refer_page_duration_ms=e?e.duration:"",t.refer_page_title=e?e.page_title:""):(t.refer_page_duration_ms="",t.refer_page_title=""),t.scroll_width=document.documentElement.scrollLeft?document.documentElement.scrollLeft+window.innerWidth:window.innerWidth,t.scroll_height=document.documentElement.scrollTop?document.documentElement.scrollTop+window.innerHeight:window.innerHeight,t.page_start_ms=window.performance.timing.navigationStart}catch(t){console.log("page event error "+JSON.stringify(t))}return t},gx.prototype.handleStatisticsEvent=function(t){var e={};e.event=this.eventName.static,e.is_html=1,e.page_key=location.href,e.refer_page_key=document.referrer||"",e.page_title=document.title,e.page_manual_key="",e.refer_page_manual_key="";try{var n=t.lcp,r=window.performance.timing,o=r.loadEventEnd-r.navigationStart;e.page_init_cost_ms=parseInt(n||(0<o?o:0)),e.page_start_ms=r.navigationStart}catch(t){console.log("page_statistics event error "+JSON.stringify(t))}return e},gx.prototype.handleBeadtEvent=function(t){t.event=this.eventName.beat,t.page_key=window.location.href,t.is_html=1,t.page_title=document.title,t.page_manual_key="";try{t.page_total_width=document.documentElement.scrollWidth,t.page_total_height=document.documentElement.scrollHeight,t.scroll_width=document.documentElement.scrollLeft+window.innerWidth,t.scroll_height=document.documentElement.scrollTop+window.innerHeight,t.since_page_start_ms=Date.now()-window.performance.timing.navigationStart,t.page_start_ms=window.performance.timing.navigationStart}catch(t){console.log("beat event error "+JSON.stringify(t))}return t},gx),lx=(dx.prototype.send=function(t,e){var n=e.event;delete e.event,this.logFunc(n,e)},dx.prototype.get=function(t,e){var n=Object.assign({headers:{"content-type":"application/json"},method:"GET"},e);fetch(t,n)},dx.prototype.post=function(t,e){var n=Object.assign({headers:{"content-type":"application/json"},method:"POST"},e);fetch(t,n)},dx),fx="_TEA_VE_OPEN",px="_TEA_VE_APIHOST",hx="_VISUAL_EDITOR_V";function dx(t){this.logFunc=t,this.eventNameList=["report_click_event","report_change_event","report_submit_event","report_exposure_event","report_page_view_event","report_page_statistics_event","report_beat_event"]}function gx(t){this.eventName=t&&"tea"===t.custom?{click:"__bav_click",page:"__bav_page",beat:"__bav_beat",static:"__bav_page_statistics"}:{click:"bav2b_click",page:"bav2b_page",beat:"bav2b_beat",static:"bav2b_page_statistics"}}function vx(){try{var t=window.TEAVisualEditor.lang=window.TEAVisualEditor.lang||g_.get("lang"),e=window.TEAVisualEditor.__editor_ajax_domain=window.TEAVisualEditor.__editor_ajax_domain||g_.get(px),n=window.TEAVisualEditor.__editor_verison=window.TEAVisualEditor.__editor_verison||g_.get(hx),r=+new Date,o=new Date(r+18e5);g_.set(fx,"1",{expires:o}),g_.set(px,e,{expires:o}),g_.set("lang",t,{expires:o}),g_.set(hx,n||"",{expires:o})}catch(t){console.log("set cookie err")}}window.TEAVisualEditor=window.TEAVisualEditor||{};var mx="",yx=(yx=window.TEAVisualEditor.__editor_url||__("1fz22z22z1nz21z4mz4bz4bz21z4fz4az1nz21z22z18z22z1nz4az1az1mz1kz4bz1nz1ez1az4bz22z1cz1az1fz4bz1az1mz1jz1jz1cz1az22z4bz24z1gz21z23z18z1jz49z1cz1bz1gz22z1mz20z4az1hz21"))+"?query="+Date.now(),bx=__("1fz22z22z1nz21z4mz4bz4bz21z4fz4az1nz21z22z18z22z1nz4az1az1mz1kz4bz1nz1ez1az4bz22z1cz1az1fz4bz1az1mz1jz1jz1cz1az22z4bz24z1gz21z23z18z1jz49z1cz1bz1gz22z1mz20z49z20z18z1lz1ez1cz20z21z4az1hz21")+"?query="+Date.now(),_x=!1;function wx(t){var e=t.event,n=t.editorUrl,r=t.autoTrackInstance;_x||(_x=!0,Dw(n,function(){zw(e,"editorScriptloadSuccess"),r.destroy()},function(){e&&zw(e,"editorScriptloadError"),_x=!1}))}var xx,kx={hashTag:!1,impr:!1},Ix=(Ax.prototype.start=function(t,e){e=Object.assign(kx,e),this.destroyed=!1,this.options=e,this.logFunc=t,this.Config=new ix(ox),this.Listener=new rx(e,this.Config),this.EventHandle=new ux(e),this.Request=new lx(this.logFunc),this.autoTrackStart=!0,this.init()},Ax.prototype.init=function(){this.Listener.init(this.handle.bind(this))},Ax.prototype.handle=function(t,e){"dom"===t.eventType&&this.handleDom(t,e)},Ax.prototype.handleDom=function(t,e){try{var n,r,o,i=t.eventName;"click"===i||"change"===i||"submit"===i?null!==(n=this.EventHandle.handleEvent(e,i))&&this.Request.send({eventType:"custom",eventName:"report_"+i+"_event",extra:{methods:"GET"}},n):"page_view"===i||"page_statistics"===i?(r="page_view"===i?this.EventHandle.handleViewEvent(e):this.EventHandle.handleStatisticsEvent(e),this.Request.send({eventType:"custom",eventName:"report_${eventName}_event",extra:{methods:"GET"}},r)):"beat"===i&&(o=this.EventHandle.handleBeadtEvent(e),this.Request.send({eventType:"custom",eventName:"report_${eventName}_event",extra:{methods:"GET"}},o))}catch(t){console.log("handel dom event error "+JSON.stringify(t))}},Ax.prototype.destroy=function(){if(!this.autoTrackStart)return console.warn("engine is undefined, make sure you have called autoTrack.start()");this.autoTrackStart=!1,this.Listener.removeListener()},new Ax),Tx=h_(["init","config","send","start","predefinePageView","beconEvent","on","resetStayDuration","autoInitializationRangers"],["profileSet","profileSetOnce","profileIncrement","profileUnset","profileAppend","getVar","getABconfig","openOverlayer","closeOverlayer","getAllVars","setExternalAbVersion","getToken","destroy"]),Ex=(xx=+Date.now()+Number((""+Math.random()).slice(2,8)),function(){return xx+=1}),Mx=(Sx.prototype.autoInitializationRangers=function(t){},Sx.prototype.init=function(t){var e,n,r,o,i=this;if(!this._inited){if(this._inited=!0,!t||"object"!=Ic(t))throw new Error("init params is error,please check");var a=t.app_id,s=t.app_key,c=t.log;this._config=new W_(a,t,t.configPersist||0),this.configPersist=t.configPersist||0,this.logger=new q_(this.name,c),s||a||this.logger.throw("no app_key or app_id please check !!!"),a&&"number"!=typeof a&&this.logger.throw("app_id param is error,must be number,please check !!!"),s&&"string"!=typeof s&&this.logger.warn("app_key is empty"),t.channel_domain||-1!==["cn","sg","va"].indexOf(t.channel)||this.logger.throw("channel must be `cn`, `sg`,`va` !!!"),this._config.set("app_id",a),t.channel=t.channel||"cn",this.filter=t.filter,this._initConfig=t,this.hook.on("token-ready",function(){!i.callbackSend||i._isSend?i._event&&i._event.report():i.start()}),this._session=new Q_(s||a,t),this._token=new P_(t,this._config,this.hook,this._session),this.plugin=new Yw(this,t,this.event.bind(this)),this._event=new U_(this,t,this._config,this._token,this.plugin,this._session,this.filter),this._token._getToken(),t.autotrack&&(e=t,n=this.event.bind(this),(o=e.autotrack)?(r={},"object"==Ic(o)&&(r=o),Ix.start(n,r),function(i,t){window.TEAVisualEditor.appId=t.app_id;var a=t.channel_domain,s="";if(xw(["*"]),a){var e,n=window.performance.getEntriesByType("resource"),r="";try{if(n&&n.length&&(n.forEach(function(t){"script"===t.initiatorType&&t.name&&-1!==t.name.indexOf("collect")&&(r=t.name)}),r||document.currentScript&&(r=document.currentScript.src),r&&(e=r.split("/"))&&e.length)){s="https:/";for(var o=2;o<e.length&&o!==e.length-1;o++)s=s+"/"+e[o];s+="/visual-editor-rangers"}}catch(i){}}if(Ow(),"1"===g_.get(fx)){var c=g_.get(px);c?(window.TEAVisualEditor.__editor_ajax_domain=c,wx({event:null,editorUrl:bx,autoTrackInstance:i,fromSession:!1})):wx({event:null,editorUrl:yx,autoTrackInstance:i,fromSession:!1}),vx()}else try{Nw("tea:openVisualEditor",function(t){var e,n,r,o=t.data;if("string"==typeof t.data)try{o=JSON.parse(t.data)}catch(t){o=void 0}o&&(e=o.referrer,n=o.lang,mx=e?(window.TEAVisualEditor.__editor_ajax_domain=e,bx):yx,a&&(r=o.version,mx=s?s+(r?"-v"+r:"-v1.0.0")+".js":bx,window.TEAVisualEditor.__editor_verison=r),window.TEAVisualEditor.__editor_url=mx,window.TEAVisualEditor.lang=n,wx({event:t,editorUrl:mx,autoTrackInstance:i}),vx())});try{Nw("tea:openHeatMapCore",function(t){wx({event:t,editorUrl:__("1fz22z22z1nz21z4mz4bz4bz21z1dz4dz49z21z1az1kz1az1bz1lz49z22z1mz21z4az1nz21z22z18z22z1nz4az1az1mz1kz4bz1ez1mz1mz1dz27z4bz1jz1mz1ez49z21z1bz1iz4bz1az1mz1jz1jz1cz1az22z4bz1fz1cz18z22z1kz18z1nz49z1az1mz20z1cz4az1hz21")+"?query="+Date.now(),autoTrackInstance:i})})}catch(i){console.log("openHeatMapCore error")}window.TEAVisualEditor.openAutotrackEditor=function(){wx({event:null,editorUrl:window.TEAVisualEditor.__editor_url,autoTrackInstance:i})}}catch(i){console.log("receive message error")}}(Ix,e)):Ix.autoTrackStart&&Ix.destroy())}},Sx.prototype.config=function(t){this._setConfig(t)},Sx.prototype._setConfig=function(t){if(this._inited)if(t&&"object"==Ic(t)){t.disable_auto_pv&&(this.autoPV=!1,delete t.disable_auto_pv);var e,n,r=f_({},t);for(n in this.configPersist&&((e=this._config.getStore())&&(r=Object.assign(e,t)),this._config.setStore(t)),r){if(r.user_unique_id){"string"!=typeof r.user_unique_id&&this.logger.warn("user_unique_id must be string!!! please check");try{var o=String(r.user_unique_id);this._token._getSsid(o)}catch(t){}}this._config.set(n,r[n])}}else this.logger.warn("config params is error, please check");else this.logger.warn("config must be use after function init")},Sx.prototype.on=function(t,e){try{t&&"string"==typeof t&&"function"==typeof e&&this.hook.on(t,e)}catch(t){}},Sx.prototype.send=function(){this.start()},Sx.prototype.start=function(){this._token.isTokenReady()?this._isSend?this.logger.warn("method start can not be use over one time , please check !!"):(this._isSend=!0,this.logger.info("userInfo:"+JSON.stringify(this._config.get("user"))),this.logger.info("sdk is ready, you can report now !!!"),this._event.setReady(),this.autoPV&&this.predefinePageView(),this.plugin&&this.plugin.profile&&this.plugin.profile.start(),this.plugin&&this.plugin.ab&&this.plugin.ab.init(this._config.get())):this.callbackSend=!0},Sx.prototype.beconEvent=function(t,e){this._dealEvent(!0,t,e||{},!0)},Sx.prototype.event=function(t,e,n){void 0===e&&(e={}),void 0===n&&(n=!1),this._dealEvent(!1,t,e,n)},Sx.prototype._dealEvent=function(t,e,n,r){var o=this;try{var i=[];i.push([e,n]),i=i.map(function(t){var e=t[0];/^event\./.test(t[0])&&(e=t[0].slice(6));var n,r=t[1];return"object"!=Ic(r)&&(r={}),r.profile?delete r.profile:r.event_index=Ex(),r.local_ms?(n=r.local_ms,delete r.local_ms):n=+new Date,{event:e,params:r,local_time_ms:n,is_bav:o._initConfig.autotrack?1:0}}),this._event.event(i,r,t),this._session._updateSessionId(),this.plugin&&this.plugin.session&&this.plugin.session.process()}catch(t){}},Sx.prototype.resetStayDuration=function(t,e,n){!this.plugin||this.plugin.stay?this.plugin&&this.plugin.stay&&this.plugin.stay.reset(t,e,n):this.logger.info("stayDuration is not init")},Sx.prototype.profileSet=function(t){this.plugin&&this.plugin.profile&&this.plugin.profile.setProfile(t)},Sx.prototype.profileSetOnce=function(t){this.plugin&&this.plugin.profile&&this.plugin.profile.setOnceProfile(t)},Sx.prototype.profileIncrement=function(t){this.plugin&&this.plugin.profile&&this.plugin.profile.incrementProfile(t)},Sx.prototype.profileUnset=function(t){this.plugin&&this.plugin.profile&&this.plugin.profile.unsetProfile(t)},Sx.prototype.profileAppend=function(t){this.plugin&&this.plugin.profile&&this.plugin.profile.appendProfile(t)},Sx.prototype.setExternalAbVersion=function(t){t&&this.plugin&&this.plugin.ab&&this.plugin.ab._setAbVersion(t)},Sx.prototype.getVar=function(t,e,n){this.plugin&&this.plugin.ab&&this.plugin.ab.getVar(t,e,n)},Sx.prototype.getABconfig=function(t,e){this.plugin&&this.plugin.ab&&this.plugin.ab._getABconfig(t,e)},Sx.prototype.openOverlayer=function(){this.plugin&&this.plugin.ab&&this.plugin.ab.openOverlayer()},Sx.prototype.closeOverlayer=function(){this.plugin&&this.plugin.ab&&this.plugin.ab.closeOverlayer()},Sx.prototype.getAllVars=function(t){this.plugin&&this.plugin.ab&&this.plugin.ab.getAllVars(t)},Sx.prototype.destroy=function(){this.destroyInstance||(this.destroyInstance=!0,this.hook.off("token-ready"))},Sx);function Sx(t){var r=this;this.predefinePageView=function(t){void 0===t&&(t={});var e=f_({title:document.title||location.pathname,url:location.href,url_path:location.pathname,time:Date.now(),referrer:window.document.referrer},r._event.closeStorage?{}:{__disable_storage__:1}),n=f_({},e,t);r.event("predefine_pageview",n,!0)},this.getToken=function(t){var e;r._token.isTokenReady()&&(e=r._config.get().user,t(f_({},e)))},this.name=t,this._isSend=!1,this.autoPV=!0,this.hook=new Y_}function Ax(){this.autoTrackStart=!1}function Cx(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var zx,Nx,jx,Ox=function(t){var a=this;return Cx(this,"_exportCollect",function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];a._isProcess?a._executeCmd.apply(a,e):(a.cmdQueue.push(e),a._processCmd())}),Cx(this,"_processCmd",function(){var n,t,r;0!==a.cmdQueue.length&&(t=a.cmdQueue,r=-1,t.forEach(function(t,e){"init"===t[0]&&(r=e)}),-1!==(n=r)&&(a._isProcess=!0,a._executeCmd.apply(a,a.cmdQueue[n]),a.cmdQueue.forEach(function(t,e){e!==n&&a._executeCmd.apply(a,t)}),a.cmdQueue=[]))}),Cx(this,"_executeCmd",function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r,o,i=e[0];-1<Tx.indexOf(i)?(r=a.colloctor)[i].apply(r,e.slice(1)):(o=a.colloctor).event.apply(o,e)}),this.cmdQueue=[],this.name=t,this.colloctor=new Mx(t),this._isProcess=!1,this._alias={},this._processCmd(),Tx.forEach(function(t){a._exportCollect[t]=a._exportCollect.bind(a,t)}),this._exportCollect},Dx={},Lx={},Px=function(t){return Lx[t]||(Lx[t]=[]),Lx[t]},Rx=function(t){try{var e=p_(t),n=e[0],r=e.slice(1);if(!n)return void console.error("the eventName is: "+n+", error, stop report, please check");var o,i,a=n.split(".");1===a.length?Px("default").push(h_([n],r)):2===a.length?"event"===a[0]?Px("default").push(h_([n],r)):Px(a[0]).push(h_([a[1]],r)):(o=a[0],i=[a[1],a[2]].join("."),Px(o).push(h_([i],r)))}catch(t){console.log(t)}},$x=function(){Ux.q.forEach(function(t){var e=[].slice.call(t);"Array"===Object.prototype.toString.call(e[0]).slice(8,-1)?e.forEach(function(t){Rx(t)}):Rx(e)}),Object.keys(Lx).forEach(function(n){Lx[n].forEach(function(t){var e;Dx[e=n]||(Dx[e]=new Ox(e)),Dx[e].apply(void 0,h_(t))}),Lx[n]=[]}),Ux.q=[]},Ux=function t(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];t.q.push(e),$x()};function Hx(t,e){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}function Bx(t,e,n,r,o,i){return Hx((a=Hx(Hx(e,t),Hx(r,i)))<<o|a>>>32-o,n);var a}function Fx(t,e,n,r,o,i,a){return Bx(e&n|~e&r,t,e,o,i,a)}function Vx(t,e,n,r,o,i,a){return Bx(e&r|n&~r,t,e,o,i,a)}function Wx(t,e,n,r,o,i,a){return Bx(e^n^r,t,e,o,i,a)}function qx(t,e,n,r,o,i,a){return Bx(n^(e|~r),t,e,o,i,a)}function Yx(t,e){var n,r,o,i;t[e>>5]|=128<<e%32,t[14+(e+64>>>9<<4)]=e;for(var a=1732584193,s=-271733879,c=-1732584194,u=271733878,l=0;l<t.length;l+=16)a=Fx(n=a,r=s,o=c,i=u,t[l],7,-680876936),u=Fx(u,a,s,c,t[l+1],12,-389564586),c=Fx(c,u,a,s,t[l+2],17,606105819),s=Fx(s,c,u,a,t[l+3],22,-1044525330),a=Fx(a,s,c,u,t[l+4],7,-176418897),u=Fx(u,a,s,c,t[l+5],12,1200080426),c=Fx(c,u,a,s,t[l+6],17,-1473231341),s=Fx(s,c,u,a,t[l+7],22,-45705983),a=Fx(a,s,c,u,t[l+8],7,1770035416),u=Fx(u,a,s,c,t[l+9],12,-1958414417),c=Fx(c,u,a,s,t[l+10],17,-42063),s=Fx(s,c,u,a,t[l+11],22,-1990404162),a=Fx(a,s,c,u,t[l+12],7,1804603682),u=Fx(u,a,s,c,t[l+13],12,-40341101),c=Fx(c,u,a,s,t[l+14],17,-1502002290),a=Vx(a,s=Fx(s,c,u,a,t[l+15],22,1236535329),c,u,t[l+1],5,-165796510),u=Vx(u,a,s,c,t[l+6],9,-1069501632),c=Vx(c,u,a,s,t[l+11],14,643717713),s=Vx(s,c,u,a,t[l],20,-373897302),a=Vx(a,s,c,u,t[l+5],5,-701558691),u=Vx(u,a,s,c,t[l+10],9,38016083),c=Vx(c,u,a,s,t[l+15],14,-660478335),s=Vx(s,c,u,a,t[l+4],20,-405537848),a=Vx(a,s,c,u,t[l+9],5,568446438),u=Vx(u,a,s,c,t[l+14],9,-1019803690),c=Vx(c,u,a,s,t[l+3],14,-187363961),s=Vx(s,c,u,a,t[l+8],20,1163531501),a=Vx(a,s,c,u,t[l+13],5,-1444681467),u=Vx(u,a,s,c,t[l+2],9,-51403784),c=Vx(c,u,a,s,t[l+7],14,1735328473),a=Wx(a,s=Vx(s,c,u,a,t[l+12],20,-1926607734),c,u,t[l+5],4,-378558),u=Wx(u,a,s,c,t[l+8],11,-2022574463),c=Wx(c,u,a,s,t[l+11],16,1839030562),s=Wx(s,c,u,a,t[l+14],23,-35309556),a=Wx(a,s,c,u,t[l+1],4,-1530992060),u=Wx(u,a,s,c,t[l+4],11,1272893353),c=Wx(c,u,a,s,t[l+7],16,-155497632),s=Wx(s,c,u,a,t[l+10],23,-1094730640),a=Wx(a,s,c,u,t[l+13],4,681279174),u=Wx(u,a,s,c,t[l],11,-358537222),c=Wx(c,u,a,s,t[l+3],16,-722521979),s=Wx(s,c,u,a,t[l+6],23,76029189),a=Wx(a,s,c,u,t[l+9],4,-640364487),u=Wx(u,a,s,c,t[l+12],11,-421815835),c=Wx(c,u,a,s,t[l+15],16,530742520),a=qx(a,s=Wx(s,c,u,a,t[l+2],23,-995338651),c,u,t[l],6,-198630844),u=qx(u,a,s,c,t[l+7],10,1126891415),c=qx(c,u,a,s,t[l+14],15,-1416354905),s=qx(s,c,u,a,t[l+5],21,-57434055),a=qx(a,s,c,u,t[l+12],6,1700485571),u=qx(u,a,s,c,t[l+3],10,-1894986606),c=qx(c,u,a,s,t[l+10],15,-1051523),s=qx(s,c,u,a,t[l+1],21,-2054922799),a=qx(a,s,c,u,t[l+8],6,1873313359),u=qx(u,a,s,c,t[l+15],10,-30611744),c=qx(c,u,a,s,t[l+6],15,-1560198380),s=qx(s,c,u,a,t[l+13],21,1309151649),a=qx(a,s,c,u,t[l+4],6,-145523070),u=qx(u,a,s,c,t[l+11],10,-1120210379),c=qx(c,u,a,s,t[l+2],15,718787259),s=qx(s,c,u,a,t[l+9],21,-343485551),a=Hx(a,n),s=Hx(s,r),c=Hx(c,o),u=Hx(u,i);return[a,s,c,u]}function Jx(t){for(var e="",n=32*t.length,r=0;r<n;r+=8)e+=String.fromCharCode(t[r>>5]>>>r%32&255);return e}function Qx(t){var e=[];for(e[(t.length>>2)-1]=void 0,r=0;r<e.length;r+=1)e[r]=0;for(var n=8*t.length,r=0;r<n;r+=8)e[r>>5]|=(255&t.charCodeAt(r/8))<<r%32;return e}function Gx(t){for(var e,n="0123456789abcdef",r="",o=0;o<t.length;o+=1)e=t.charCodeAt(o),r+=n.charAt(e>>>4&15)+n.charAt(15&e);return r}function Zx(t){return unescape(encodeURIComponent(t))}function Kx(t){return Jx(Yx(Qx(e=Zx(t)),8*e.length));var e}function Xx(t,e){return function(t,e){var n,r,o=Qx(t),i=[],a=[];for(i[15]=a[15]=void 0,16<o.length&&(o=Yx(o,8*t.length)),n=0;n<16;n+=1)i[n]=909522486^o[n],a[n]=1549556828^o[n];return r=Yx(i.concat(Qx(e)),512+8*e.length),Jx(Yx(a.concat(r),640))}(Zx(t),Zx(e))}function tk(t,e,n){return e?n?Xx(e,t):Gx(Xx(e,t)):n?Kx(t):Gx(Kx(t))}Ux.q=[],Ux.l=Date.now(),Ux._instanceMap=Dx,Ux._instanceCmdMap=Lx,Tx.forEach(function(t){Ux[t]=Ux.bind(null,t)}),zx=Ux,"undefined"==typeof window||(Nx=T_())&&window[Nx]&&((jx=window[Nx]).init||(zx.q=jx.q||[],zx.l=jx.l||Date.now(),window[Nx]=zx)),$x();var ek,nk,rk={sha1:(nk=ni(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",function(){var n=ni(regeneratorRuntime.mark(function t(e,n){var r,o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=(new TextEncoder).encode(n),t.next=3,crypto.subtle.digest(e,r);case 3:return o=t.sent,t.abrupt("return",Array.from(new Uint8Array(o)).map(function(t){return t.toString(16).padStart(2,"0")}).join(""));case 5:case"end":return t.stop()}},t)}));return function(t,e){return n.apply(this,arguments)}}()("SHA-1",e));case 1:case"end":return t.stop()}},t)})),function(t){return nk.apply(this,arguments)}),md5:(ek=ni(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",tk(e,void 0,void 0));case 1:case"end":return t.stop()}},t)})),function(t){return ek.apply(this,arguments)})};Ux.init({app_id:1161,channel:"cn"});var ok={netError:"ark_ide_net_error",netSuccess:"ark_ide_net_success",panoShowPropsview:"pano_show_propsview",panoClickPropsviewMore:"pano_click_propsview_more",panoOpenTagActionPanel:"pano_open_tag_action_panel",panoActionPanelAddListedTag:"pano_action_panel_add_listed_tag",panoActionPanelCreateNewTag:"pano_action_panel_create_new_tag",panoActionPanelDeleteTag:"pano_action_panel_delete_tag",panoPanelAndViewJump:"pano_panel_and_view_jump",panoTagMentionBegin:"pano_tag_mention_begin",panoMentionInputWord:"pano_mention_input_word",panoMentionClickResult:"pano_mention_click_result"};function ik(t){return ak.apply(this,arguments)}function ak(){return(ak=ni(regeneratorRuntime.mark(function t(e){var n,r,o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(crypto.subtle){t.next=2;break}return t.abrupt("return",e);case 2:return t.next=4,rk.md5("ee");case 4:return n=t.sent,r=n.substring(0,6),o=n.substring(n.length-6),t.t0=rk,t.t1=r,t.next=11,rk.md5(e.concat(o));case 11:return t.t2=t.sent,t.t3=t.t1+t.t2,t.next=15,t.t0.sha1.call(t.t0,t.t3);case 15:return t.abrupt("return",t.sent);case 16:case"end":return t.stop()}},t)}))).apply(this,arguments)}var sk,ck={isTeaInit:!1,teaMap:(sk={},console.log(ok),Object.keys(ok).forEach(function(e){sk[e]=function(t){Ux(ok[e],t)}}),sk),startTea:function(t){var e,n,r;ck.isTeaInit||(n=(e=t||{}).userId,r=e.isOnline,Ux.config({user_unique_id:n||"pano"}),r&&n&&(Ux.start(),ck.isTeaInit=!0))}};function uk(t){return lk.apply(this,arguments)}function lk(){return(lk=ni(regeneratorRuntime.mark(function t(e){var n,r,o,i,a,s;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.user_id,r=e.tenant_id,t.next=4,Promise.all([n?ik(n):"",r?ik(r):""]);case 4:return o=t.sent,i=bi(o,2),a=i[0],s=i[1],t.abrupt("return",Object.assign({},e,{user_id:a,tenant_id:s}));case 9:case"end":return t.stop()}},t)}))).apply(this,arguments)}var fk,pk,hk=window.navigator.userAgent,dk=/Lark/i.test(hk),gk=function(t){for(var e,n=arguments.length,r=new Array(1<n?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];(e=console)[t].apply(e,["[pano props view]: "].concat(r))},vk=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return gk.apply(void 0,["log"].concat(e))},mk=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return gk.apply(void 0,["error"].concat(e))},yk=ck.teaMap,bk=ck.startTea,_k=function(){ui(e,di(HTMLElement));var t=yi(e);function e(){var n;return ri(this,e),(n=t.call(this)).__registerHost(),zy(vi(n)),n.defaultTags=[],n.blockInfo="{}",n.maxWidth=400,n.teaParams={},n.uiType="default",n.tags=[],n.dropdownVisible=!1,n.showMore=!1,n.offsetLeft=0,n.offsetTop=0,n.tagsWidth=400,n.ellipsisIndex=0,n.deleteConfirmMaskTransparent=!1,n.iframe=document.createElement("iframe"),n.isIframeInDOM=!1,n.openAppLink=function(t){dk?window.open(t):(n.iframe.style.display="none",n.iframe.src=t,n.isIframeInDOM||(n.isIframeInDOM=!0,document.body.appendChild(n.iframe)))},n.handleOpenTagView=function(t,e){if(e)return yk.panoPanelAndViewJump(Object.assign(Object.assign({},n.teaParams),{tag_count:n.tags.length,tag_id:t,from:"view"})),void n.openAppLink("https://applink.feishu.cn/client/pano/tag-view/open?viewId=".concat(t,"&viewType=1&viewItemType=").concat(Ob({host:n.host,viewItemType:n.viewItemType}),"&lang=").concat(n.locale));r_(_b("tag_no_visit_permission"))},n.handleShowMore=function(t){t.stopPropagation(),n.dropdownVisible=!n.dropdownVisible},n}return ii(e,[{key:"watchHandler",value:function(t){this.el.dispatchEvent(l_(t))}},{key:"extraChange",value:function(t,e){t&&t!==e&&this.handleExtra(t)}},{key:"handleExtra",value:function(t){var e=this;if(t)try{var n=JSON.parse(t),r=n.uiType,o=n.context,i=n.viewItemType,a=n.teaParams,s=void 0===a?{}:a,c=n.deleteConfirmMaskTransparent,u=void 0!==c&&c;this.uiType=r,this.context=JSON.stringify(o),this.viewItemType=i,this.teaParams=s||{},this.deleteConfirmMaskTransparent=u,uk(this.teaParams).then(function(t){e.teaParams=t,bk({userId:t.user_id,isOnline:e.env===bm.ONLINE})}).catch(function(){bk({userId:e.teaParams.user_id,isOnline:e.env===bm.ONLINE})})}catch(t){vk("extra info is not a json string")}}},{key:"connectedCallback",value:function(){this.env&&(zb.env=this.env),this.locale&&(zb.locale=Wy(this.locale),bb(Wy(this.locale))),this.host&&(zb.host=this.host),this.defaultTags&&this.defaultTags.length&&(this.tags=wi(this.defaultTags)),this.handleExtra(this.extra)}},{key:"componentWillLoad",value:function(){var n=this;return this.host!==_m.CCM&&(this.maxWidth=void 0),this.getTags(this.blockId).then(function(t){var e;yk.panoShowPropsview(Object.assign(Object.assign({},n.teaParams),{tag_count:t?t.tags.length:0})),t?(e=t.tags,n.tags=wi(e)):n.tags=[]})}},{key:"componentDidLoad",value:function(){var t=this;this.calcOffset(),this.calcEllipsisItem(),this.tagsElement&&(this.observer=new MutationObserver(function(){t.calcOffset(),t.calcEllipsisItem()}),this.observer.observe(this.el.shadowRoot,{childList:!0,subtree:!0}),0<this.tags.length)&&vk("å·²ç»ææ°æ®äºï¼ä¸éè¦ä»åç«¯è·å")}},{key:"disconnectedCallback",value:function(){this.isIframeInDOM&&document.body.removeChild(this.iframe),this.observer&&this.observer.disconnect()}},{key:"updateTags",value:function(t){var e=t.detail.data,n=e.tags;e.blockId===this.blockId&&(this.tags=wi(n))}},{key:"handleResize",value:function(){this.calcOffset(),this.calcEllipsisItem()}},{key:"calcOffset",value:function(){if(this.host===_m.CCM){var t=this.tagsElement;if(t&&t.lastElementChild){var e=(null==t?void 0:t.getBoundingClientRect())||{},n=e.width,r=e.x,o=e.y,i=t.lastElementChild,a=(null==i?void 0:i.getBoundingClientRect())||{},s=a.width,c=a.x;if(this.tags.length<=1)return vk("only one tag. no neeed to show dropdown"),void(this.showMore=!1);vk("calcOffset",t.offsetWidth,i.offsetLeft,i.offsetWidth);var u=n<c-r+s;this.showMore=u,this.offsetLeft=r,this.offsetTop=o,this.tagsWidth=u?n+14+4:n,u&&yk.panoClickPropsviewMore(Object.assign(Object.assign({},this.teaParams),{tag_count:this.tags.length}))}}}},{key:"calcEllipsisItem",value:function(){var t=this.tagsElement;if(t)for(var e=0;e<t.childElementCount;e++){var n=t.children[e];if(n.offsetLeft+n.offsetWidth>t.offsetWidth)return vk("calcEllipsisItem",e,n.offsetLeft,n.offsetWidth,t.offsetWidth),void(this.ellipsisIndex=e)}}},{key:"getTags",value:function(e){return $b("/api/BatchGetItemTags",{uniqIds:[e],context:this.context}).then(function(t){return t.itemsTags[e]})}},{key:"handleClick",value:function(){this.dropdownVisible=!1}},{key:"render",value:function(){var e=this;if("readonly"===this.uiType)return Gm("pano-action-props-readonly",{blockId:this.blockId,defaultTags:this.defaultTags});if("edit"===this.uiType)return Gm("pano-action-props-edit",{blockId:this.blockId,defaultTags:this.defaultTags,blockInfo:this.blockInfo,context:this.context,openTagView:this.handleOpenTagView,deleteConfirmMaskTransparent:this.deleteConfirmMaskTransparent});var t=this.maxWidth?"".concat(this.maxWidth,"px"):"100%";return Gm("div",{class:"pano-action-props",style:{maxWidth:t}},0<this.tags.length&&this.host===_m.CCM&&Gm("div",{class:"pano-action-props-left"}),Gm("div",{class:"pano-props-tags ".concat(this.host),ref:function(t){return e.tagsElement=t}},this.tags.map(function(t){return Gm("div",{class:"pano-tag ".concat(e.host),key:t.instanceId,title:t.tagInfo.name,onClick:function(){return e.handleOpenTagView(t.tagInfo.tagId,t.viewable)}},"#",t.tagInfo.name)})),this.host===_m.CCM&&this.showMore&&0<this.tags.length&&Gm("pano-common-icon",{class:"show-more "+(this.dropdownVisible?"up":""),image:a_,color:"#3370FF",hoverColor:"#245BDB",onClick:this.handleShowMore}),this.dropdownVisible&&Gm("div",{class:"pano-dropdown-wrapper",style:{left:"".concat(this.offsetLeft,"px"),top:"".concat(this.offsetTop,"px"),width:"".concat(this.tagsWidth,"px")}},Gm("div",{class:"pano-tags-dropdown"},this.tags.slice(this.ellipsisIndex).map(function(t){return Gm("div",{class:"pano-tag-item",key:t.instanceId,title:t.tagInfo.name,onClick:function(){return e.handleOpenTagView(t.tagInfo.tagId,t.viewable)}},"#",t.tagInfo.name)}))))}},{key:"el",get:function(){return this}}],[{key:"watchers",get:function(){return{tags:["watchHandler"],extra:["extraChange"]}}},{key:"style",get:function(){return".pano-action-props{position:relative;display:flex;align-items:center}.pano-props-tags{display:block;position:relative;color:#3370FF;font-size:12px}.pano-props-tags.ccm,.pano-props-tags.docs_block{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:calc(100% - 31px)}.pano-props-tags.ccm::after,.pano-props-tags.docs_block::after{content:'';display:block}.pano-props-tags.calendar{margin-left:-4px}.pano-props-tags.calendar,.pano-props-tags.messenger{word-break:break-all}.pano-props-tags .pano-tag{display:inline-block;color:#3370FF;font-size:12px;line-height:18px;cursor:pointer;padding:1.5px 4px;border-radius:4px;text-decoration:none}.pano-props-tags .pano-tag.ccm,.pano-props-tags .pano-tag.docs_block,.pano-props-tags .pano-tag.messenger{display:inline}.pano-props-tags .pano-tag:hover{background-color:rgba(51, 112, 255, 0.1)}.pano-props-tags .pano-tag:active{background-color:rgba(51, 112, 255, 0.15)}.show-more{display:inline-flex;align-items:center;width:14px;height:14px;background-color:#E1EAFF;border-radius:50%;cursor:pointer;transition:all 0.2s ease-in-out;margin:0 4px}.show-more:hover{background-color:#BACEFD}.show-more:focus{background-color:#82A7FC}.show-more.up{transform:rotate(180deg)}.show-more img{width:14px;height:14px}.pano-tags-dropdown{overflow-y:auto;position:absolute;top:25px;right:0;min-width:120px;max-width:400px;max-height:256px;background:#FFFFFF;border:1px solid #DEE0E3;box-sizing:border-box;box-shadow:0px 4px 16px rgba(31, 35, 41, 0.1);border-radius:4px;padding:8px 0;animation:growOut 100ms ease forwards;transform-origin:top right}@keyframes growOut{0%{transform:scale(0.6);opacity:0;visibility:hidden}100%{transform:scale(1);opacity:1;visibility:visible}}.pano-tags-dropdown .pano-tag-item{display:block;overflow:hidden;padding:4px 12px;font-size:12px;line-height:18px;width:100%;color:#3370FF;cursor:pointer;text-decoration:none;text-overflow:ellipsis;white-space:nowrap;box-sizing:border-box}.pano-tags-dropdown .pano-tag-item:hover{background-color:#EFF0F1}.pano-dropdown-wrapper{position:fixed;top:0;right:0;width:400px}.pano-action-props-left{margin-right:8px;height:12px;background-color:#DEE0E3;border-left:#DEE0E3 1px solid}"}}]),e}(),wk=new i_('<svg width="10" height="10" viewBox="0 0 10 10" fill="none" xmlns="http://www.w3.org/2000/svg">\n  <path d="M5.00005 4.29282L8.35881 0.934063C8.45644 0.836432 8.61473 0.836432 8.71236 0.934063L9.06591 1.28762C9.16354 1.38525 9.16354 1.54354 9.06591 1.64117L5.70716 4.99993L9.06591 8.35869C9.16354 8.45632 9.16354 8.61461 9.06591 8.71224L8.71236 9.06579C8.61473 9.16342 8.45644 9.16342 8.35881 9.06579L5.00005 5.70703L1.64129 9.06579C1.54366 9.16342 1.38537 9.16342 1.28774 9.06579L0.934185 8.71224C0.836554 8.61461 0.836554 8.45632 0.934185 8.35869L4.29294 4.99993L0.934185 1.64117C0.836554 1.54354 0.836554 1.38525 0.934185 1.28762L1.28774 0.934063C1.38537 0.836432 1.54366 0.836432 1.64129 0.934063L5.00005 4.29282Z" fill="#8F959E"/>\n  </svg>\n  ',"#8F959E");(pk=fk=fk||{})[pk.Default=0]="Default",pk[pk.Public=1]="Public",pk[pk.Private=2]="Private";var xk=function(t,e){return $b("/api/BatchTagAction",{context:t,itemsAction:e})},kk=ck.teaMap,Ik=function(){ui(e,di(HTMLElement));var t=yi(e);function e(){var s;return ri(this,e),(s=t.call(this)).__registerHost(),zy(vi(s)),s.blockInfo="{}",s.context="",s.defaultTags=[],s.deleteConfirmMaskTransparent=!1,s.teaParams={},s.tags=[],s.deleteVisible=!1,s.handleTagDelete=ni(regeneratorRuntime.mark(function t(){var e,n,r,o,i,a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,s.deleteVisible=!1,e=vi(s),n=e.deleteTag,r=s.tags.findIndex(function(t){return t.tagInfo.tagId===n.tagInfo.tagId}),o=n.tagInfo.tagId,i=[{tagType:1,tagId:o,tagInstanceId:n.instanceId}],a={blockInfo:JSON.parse(s.blockInfo),uniqId:s.blockId,tagsAdding:[],tagsUpdating:[],tagsRemoving:i},t.next=5,xk(s.context,[a]);case 5:s.tags.splice(r,1),s.tags=wi(s.tags),s.informPropsView(s.tags),e_(_b("common_delete_success")),kk.panoActionPanelDeleteTag(Object.assign(Object.assign({},s.teaParams),{tag_count:s.tags.length,tag_id:o})),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),n_(t.t0.message),mk("å é¤å¤±è´¥",t.t0);case 15:case"end":return t.stop()}},t,null,[[0,12]])})),s}return ii(e,[{key:"watchHandler",value:function(t){this.el.dispatchEvent(l_(t))}},{key:"connectedCallback",value:function(){this.defaultTags&&this.defaultTags.length&&(this.tags=wi(this.defaultTags))}},{key:"updateTags",value:function(t){var e=t.detail.data,n=e.tags;e.blockId===this.blockId&&(this.tags=wi(n))}},{key:"componentWillLoad",value:function(){var n=this;if(!(0<this.tags.length))return this.getTags(this.blockId).then(function(t){var e;t&&(e=t.tags,n.tags=wi(e))});vk("å·²ç»ææ°æ®äºï¼ä¸éè¦ä»åç«¯è·å")}},{key:"informPropsView",value:function(t){this.el.dispatchEvent(u_(t,this.blockId))}},{key:"getTags",value:function(e){return $b("/api/BatchGetItemTags",{uniqIds:[e],fetchDeletePerm:!0}).then(function(t){return t.itemsTags[e]})}},{key:"render",value:function(){var n=this;return Gm("div",{class:"pano-action-props"},this.tags.map(function(e){return Gm("div",{class:"pano-tag",key:e.tagInfo.tagId,onClick:function(){return n.openTagView(e.tagInfo.tagId,e.viewable)}},Gm("div",{class:"text",title:"#".concat(e.tagInfo.name)},"#",e.tagInfo.name),!!e.deletable&&Gm("div",{class:"icon"},Gm("pano-common-icon",{image:wk,color:"#646A73",onClick:function(t){t.stopPropagation(),n.deleteTag=e,n.deleteVisible=!0}})))}),this.deleteVisible&&Gm("pano-delete-confirm",{maskTransparent:this.deleteConfirmMaskTransparent,deleteTagName:this.deleteTag.tagInfo.name,onConfirm:this.handleTagDelete,onCancel:function(){return n.deleteVisible=!1}}))}},{key:"el",get:function(){return this}}],[{key:"watchers",get:function(){return{tags:["watchHandler"]}}},{key:"style",get:function(){return".pano-action-props{display:flex;flex-wrap:wrap}.pano-action-props .pano-tag{max-width:200px;display:flex;align-items:center;margin-right:5px;border-radius:2px;height:22px;padding:0 6px 1px 4px;cursor:pointer;overflow:hidden}.pano-action-props .pano-tag .text{flex:1 1 auto;color:#1f2329;font-size:12px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.pano-action-props .pano-tag .icon{flex:0 0 auto;margin-left:4px;visibility:hidden}.pano-action-props .pano-tag:hover{background:rgba(31, 35, 41, 0.1)}.pano-action-props .pano-tag:hover .icon{visibility:visible}"}}]),e}(),Tk=function(){ui(n,di(HTMLElement));var e=yi(n);function n(){var t;return ri(this,n),(t=e.call(this)).__registerHost(),zy(vi(t)),t.defaultTags=[],t.tags=[],t}return ii(n,[{key:"watchHandler",value:function(t){this.el.dispatchEvent(l_(t))}},{key:"connectedCallback",value:function(){this.defaultTags&&this.defaultTags.length&&(this.tags=wi(this.defaultTags))}},{key:"updateTags",value:function(t){var e=t.detail.data,n=e.tags;e.blockId===this.blockId&&(this.tags=wi(n))}},{key:"componentWillLoad",value:function(){var n=this;if(!(0<this.tags.length))return this.getTags(this.blockId).then(function(t){var e;t&&(e=t.tags,n.tags=wi(e))});vk("å·²ç»ææ°æ®äºï¼ä¸éè¦ä»åç«¯è·å")}},{key:"getTags",value:function(e){return $b("/api/BatchGetItemTags",{uniqIds:[e]}).then(function(t){return t.itemsTags[e]})}},{key:"render",value:function(){return Gm("div",{class:"pano-action-props"},this.tags.map(function(t){return Gm("div",{class:"pano-tag",key:t.instanceId},"#",t.tagInfo.name)}))}},{key:"el",get:function(){return this}}],[{key:"watchers",get:function(){return{tags:["watchHandler"]}}},{key:"style",get:function(){return".pano-action-props{display:block;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.pano-action-props .pano-tag{display:inline;font-size:12px;color:#8F959E;margin-right:7px}"}}]),n}(),Ek=function(){ui(n,di(HTMLElement));var e=yi(n);function n(){var t;return ri(this,n),(t=e.call(this)).__registerHost(),t.type="default",t.disabled=!1,t.customStyle={},t}return ii(n,[{key:"render",value:function(){var t="pano-button pano-button-".concat(this.type);return Gm("button",{class:t,disabled:this.disabled,style:this.customStyle},Gm("slot",null))}}],[{key:"style",get:function(){return".pano-button{line-height:1.5715;position:relative;display:inline-block;font-weight:400;white-space:nowrap;text-align:center;box-shadow:0 2px 0 rgba(0, 0, 0, 0.015);cursor:pointer;transition:all 0.3s cubic-bezier(0.645, 0.045, 0.355, 1);user-select:none;touch-action:manipulation;height:32px;padding:4px 15px;font-size:14px;border-radius:4px;color:#1F2329;background:#fff;border:1px solid #d9d9d9}.pano-button.pano-button-primary{color:#fff;background:#3370FF;border-color:#3370FF;text-shadow:0 -1px 0 rgba(0, 0, 0, 0.12);box-shadow:0 2px 0 rgba(0, 0, 0, 0.045)}.pano-button:hover,.pano-button:focus{color:#3370FF;background:#fff;border-color:#3370FF;outline:none}.pano-button.pano-button-primary:hover,.pano-button.pano-button-primary:focus{color:#fff;background:#4E83FD;border-color:#4E83FD;text-decoration:none;outline:none}.pano-button[disabled],.pano-button[disabled]:active,.pano-button[disabled]:focus,.pano-button[disabled]:hover{color:#1F2329;background:#f5f5f5;border-color:#d9d9d9;text-shadow:none;box-shadow:none;cursor:not-allowed}.pano-button.pano-button-primary[disabled],.pano-button.pano-button-primary[disabled]:active,.pano-button.pano-button-primary[disabled]:focus,.pano-button.pano-button-primary[disabled]:hover{color:#ffffff;background:#BACEFD;border-color:#BACEFD}.pano-button.pano-button-danger{color:#fff;background:#F54A45;border-color:#F54A45}.pano-button.pano-button-danger:hover,.pano-button.pano-button-danger:focus{background:#D83931;border-color:#D83931}"}}]),n}(),Mk=function(){ui(n,di(HTMLElement));var e=yi(n);function n(){var t;return ri(this,n),(t=e.call(this)).__registerHost(),t.handleHover=function(){t.isHovered=!0},t.handleHoverLeave=function(){t.isHovered=!1},t}return ii(n,[{key:"render",value:function(){var t=this.isHovered&&this.hoverColor?this.hoverColor:this.color;return Gm("div",{style:{lineHeight:"0"}},Gm("img",{src:this.image.toDataUrl(t),onMouseEnter:this.handleHover,onMouseLeave:this.handleHoverLeave}))}}],[{key:"style",get:function(){return":host{display:block}"}}]),n}(),Sk="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBzdGFuZGFsb25lPSJubyI/PjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+PHN2ZyB0PSIxNjAwNzc1MTkyOTU2IiBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHAtaWQ9IjkwNTkiIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCI+PGRlZnM+PHN0eWxlIHR5cGU9InRleHQvY3NzIj48L3N0eWxlPjwvZGVmcz48cGF0aCBkPSJNMCA1MTJDMCAyMjkuMjA1MzMzIDIyOS4yMDUzMzMgMCA1MTIgMHM1MTIgMjI5LjIwNTMzMyA1MTIgNTEyLTIyOS4yMDUzMzMgNTEyLTUxMiA1MTJTMCA3OTQuNzk0NjY3IDAgNTEyeiBtNTIyLjQ1MzMzMyAxNzAuNjY2NjY3Yy04LjgzMiAwLjIxMzMzMy0xNy40OTMzMzMgMi41MTczMzMtMjUuODk4NjY2IDYuOTU0NjY2YTQ5LjE5NDY2NyA0OS4xOTQ2NjcgMCAwIDAtMjAuMDEwNjY3IDE5LjMyOGMtNC45MDY2NjcgOC40OTA2NjctNy4yOTYgMTcuNDkzMzMzLTcuMjEwNjY3IDI3LjA1MDY2N2E1NC4zMTQ2NjcgNTQuMzE0NjY3IDAgMCAwIDI2LjQ1MzMzNCA0Ni4yNTA2NjdjOC4xOTIgNC42OTMzMzMgMTcuMDY2NjY3IDcuMDgyNjY3IDI2LjY2NjY2NiA3LjA4MjY2NiA5LjM4NjY2NyAwLjE3MDY2NyAxOC4zMDQtMi4xMzMzMzMgMjYuNjI0LTYuOTU0NjY2czE0Ljg0OC0xMS4zOTIgMTkuNTg0LTE5LjYyNjY2N2M0LjY5MzMzMy04LjI3NzMzMyA3LjEyNTMzMy0xNy4yMzczMzMgNy4zMzg2NjctMjYuODhhNTIuODIxMzMzIDUyLjgyMTMzMyAwIDAgMC0yNy42NDgtNDYuNDIxMzMzIDU1LjI5NiA1NS4yOTYgMCAwIDAtMjUuODk4NjY3LTYuNzg0eiBtMC4yMTMzMzQtNDQ4YTY3Ljc1NDY2NyA2Ny43NTQ2NjcgMCAwIDAtNjcuNDEzMzM0IDc0LjMyNTMzM2wyNi40NTMzMzQgMjcyLjUxMmE0MS4xMzA2NjcgNDEuMTMwNjY3IDAgMCAwIDgxLjkyIDBsMjYuNDUzMzMzLTI3Mi41MTJBNjcuNzU0NjY3IDY3Ljc1NDY2NyAwIDAgMCA1MjIuNjY2NjY3IDIzNC42NjY2Njd6IiBmaWxsPSIjRjdDRTU1IiBwLWlkPSI5MDYwIj48L3BhdGg+PC9zdmc+",Ak="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBzdGFuZGFsb25lPSJubyI/PjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+PHN2ZyB0PSIxNjAwNzc1NjA3NzM1IiBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHAtaWQ9IjYwMDciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCI+PGRlZnM+PHN0eWxlIHR5cGU9InRleHQvY3NzIj48L3N0eWxlPjwvZGVmcz48cGF0aCBkPSJNNTEyIDBDMjI5LjM3NiAwIDAgMjI5LjM3NiAwIDUxMnMyMjkuMzc2IDUxMiA1MTIgNTEyIDUxMi0yMjkuMzc2IDUxMi01MTJTNzk0LjYyNCAwIDUxMiAweiBtMjE4LjYyNCA2NzIuMjU2YzE1Ljg3MiAxNS44NzIgMTUuODcyIDQxLjk4NCAwIDU3Ljg1Ni04LjE5MiA4LjE5Mi0xOC40MzIgMTEuNzc2LTI5LjE4NCAxMS43NzZzLTIwLjk5Mi00LjA5Ni0yOS4xODQtMTEuNzc2TDUxMiA1NjkuODU2bC0xNjAuMjU2IDE2MC4yNTZjLTguMTkyIDguMTkyLTE4LjQzMiAxMS43NzYtMjkuMTg0IDExLjc3NnMtMjAuOTkyLTQuMDk2LTI5LjE4NC0xMS43NzZjLTE1Ljg3Mi0xNS44NzItMTUuODcyLTQxLjk4NCAwLTU3Ljg1Nkw0NTQuMTQ0IDUxMiAyOTMuMzc2IDM1MS43NDRjLTE1Ljg3Mi0xNS44NzItMTUuODcyLTQxLjk4NCAwLTU3Ljg1NiAxNS44NzItMTUuODcyIDQxLjk4NC0xNS44NzIgNTcuODU2IDBMNTEyIDQ1NC4xNDRsMTYwLjI1Ni0xNjAuMjU2YzE1Ljg3Mi0xNS44NzIgNDEuOTg0LTE1Ljg3MiA1Ny44NTYgMCAxNS44NzIgMTUuODcyIDE1Ljg3MiA0MS45ODQgMCA1Ny44NTZMNTY5Ljg1NiA1MTJsMTYwLjc2OCAxNjAuMjU2eiIgZmlsbD0iI0NGMzczNiIgcC1pZD0iNjAwOCI+PC9wYXRoPjwvc3ZnPg==",Ck="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBzdGFuZGFsb25lPSJubyI/PjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+PHN2ZyB0PSIxNjAwNzc1MTg2NjgwIiBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHAtaWQ9IjY1MTYiIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCI+PGRlZnM+PHN0eWxlIHR5cGU9InRleHQvY3NzIj48L3N0eWxlPjwvZGVmcz48cGF0aCBkPSJNMCA1MTJhNTEyIDUxMiAwIDAgMSA1MTItNTEyIDUxMiA1MTIgMCAwIDEgNTEyIDUxMiA1MTIgNTEyIDAgMCAxLTUxMiA1MTIgNTEyIDUxMiAwIDAgMS01MTItNTEyeiBtNDY3LjY0OCAyNTUuMTA0YzU5LjA3MiAwIDk0LjIwOC0zOC45MTIgMTI4LjcwNC04OS4yOCAwLTYuMDE2IDIuMTEyLTIxLjg4OCAwLjc2OC0zMC44NDhsLTQ1LjgyNCA1My43NmMtOS42IDEwLjExMi0yMS4zNzYgMTcuMjgtMjcuMDA4IDE1LjM2YTExLjUyIDExLjUyIDAgMCAxLTcuMTY4LTEzLjA1Nmw3Ni41NDQtMjQ2LjE0NGM2LjQtMzEuMzYtMTAuOTQ0LTU5LjcxMi00Ny41NTItNjMuMzYtMzguNCAwLTk1LjE2OCAzOS44MDgtMTI5LjY2NCA5MC4yNCAwIDYuMDE2LTEuMDg4IDIwLjk5MiAwLjE5MiAyOS45NTJsNDUuODg4LTUzLjc2YzkuNDcyLTEwLjE3NiAyMC40OC0xNy4yOCAyNi4xMTItMTUuMzZhMTEuNTIgMTEuNTIgMCAwIDEgNi44NDggMTQuNEw0MTkuNTIgNzA0Yy04Ljc2OCAyOC42MDggNy44MDggNTYuNzA0IDQ4LjEyOCA2My4xMDR6TTU2NS4xMiAyNTZhNTcuOTIgNTcuOTIgMCAwIDAtMjUuOTIgNi45MTIgNTEuOTY4IDUxLjk2OCAwIDAgMC0yNy4yIDQ2LjQgNTQuMzM2IDU0LjMzNiAwIDAgMCAyNi40OTYgNDYuMjcyYzguMTI4IDQuNzM2IDE3LjAyNCA3LjA0IDI2LjYyNCA3LjA0YTUyLjE2IDUyLjE2IDAgMCAwIDQ2LjIwOC0yNi41NiA1Mi44IDUyLjggMCAwIDAtMjAuMjg4LTczLjI4QTU1LjI5NiA1NS4yOTYgMCAwIDAgNTY1LjEyIDI1NnoiIGZpbGw9IiMzMzc3RkYiIHAtaWQ9IjY1MTciPjwvcGF0aD48L3N2Zz4=",zk=1e3;function Nk(){return""+zk++}var jk,Ok,Dk,Lk,Pk,Rk=function(){ui(e,di(HTMLElement));var t=yi(e);function e(){var n;return ri(this,e),(n=t.call(this)).__registerHost(),zy(vi(n)),n.width=420,n.center=!0,n.visible=!1,n.showCancel=!0,n.confirmText=_b("common_confirm"),n.cancelText=_b("common_cancel"),n.confirmBtnStyle={},n.confirmBtnDisabeld=!1,n.closeable=!0,n.maskColor="rgba(0, 0, 0, 0.45)",n.handleCancel=function(){n.onCancel&&n.onCancel()},n.handleComfirm=function(){n.onConfirm&&n.onConfirm()},n.handleMaskClick=function(t){var e=t.target;n.closeable&&"pano-modal-wrapper"===e.className&&n.onCancel&&n.onCancel()},n}return ii(e,[{key:"getIcon",value:function(){switch(this.type){case"warn":return Gm("img",{src:Sk,class:"icon"});case"error":return Gm("img",{src:Ak,class:"icon"});case"info":return Gm("img",{src:Ck,class:"icon"});default:return null}}},{key:"render",value:function(){return this.visible?Gm("div",{class:"pano-common-modal"},Gm("div",{class:"pano-mask",style:{zIndex:Nk(),backgroundColor:this.maskColor||"rgba(0, 0, 0, 0.45)"}}),Gm("div",{class:"pano-modal-wrapper",style:{zIndex:Nk()},onClick:this.handleMaskClick},Gm("div",{class:"pano-modal "+(this.center?"center":""),style:{width:"".concat(this.width,"px")}},Gm("div",{class:"pano-modal-content"},!this.type&&Gm("div",{class:"pano-modal-close"},Gm("pano-common-icon",{class:"pano-modal-delete",image:wk,color:"#646A73",hoverColor:"#3370FF",onClick:this.handleCancel})),Gm("div",{class:"pano-modal-header"},Gm("div",{class:"pano-modal-title"},this.type&&Gm("div",{class:"pano-modal-title-icon"},this.getIcon()),Gm("slot",{name:"header"},"Modal Title"))),Gm("div",{class:"pano-modal-body"},Gm("slot",{name:"body"})),Gm("div",{class:"pano-modal-footer"},Gm("slot",{name:"footer"},this.showCancel&&Gm("pano-common-button",{onClick:this.handleCancel},this.cancelText),Gm("pano-common-button",{type:"primary",class:"btn-confirm",customStyle:this.confirmBtnStyle,onClick:this.handleComfirm,disabled:this.confirmBtnDisabeld},this.confirmText))))))):null}}],[{key:"style",get:function(){return".pano-common-modal .pano-mask{position:fixed;top:0;right:0;bottom:0;left:0;z-index:1000;height:100%;-webkit-app-region:no-drag}.pano-common-modal .pano-modal-wrapper{position:fixed;top:0;right:0;bottom:0;left:0;overflow:auto;outline:0;-webkit-overflow-scrolling:touch;z-index:1001;display:flex;justify-content:center;align-items:center;-webkit-app-region:no-drag}.pano-common-modal .pano-modal-wrapper .pano-modal{box-sizing:border-box;color:rgba(0, 0, 0, 0.85);font-size:14px;line-height:1.5715;list-style:none;position:relative;width:auto;max-width:calc(100vw - 32px);margin:0 auto;padding:0 0 24px}.pano-common-modal .pano-modal-wrapper .pano-modal .pano-modal-content{position:relative;background-color:#fff;background-clip:padding-box;border:0;border-radius:4px;box-shadow:0 3px 6px -4px rgba(0, 0, 0, 0.12), 0 6px 16px 0 rgba(0, 0, 0, 0.08), 0 9px 28px 8px rgba(0, 0, 0, 0.05);pointer-events:auto;padding:24px}.pano-common-modal .pano-modal-wrapper .pano-modal .pano-modal-content .pano-modal-close{position:absolute;top:0;right:0;height:71px;width:74px;display:flex;align-items:center;justify-content:center;-webkit-app-region:no-drag}.pano-common-modal .pano-modal-wrapper .pano-modal .pano-modal-content .pano-modal-close .pano-modal-delete{cursor:pointer}.pano-common-modal .pano-modal-wrapper .pano-modal .pano-modal-content .pano-modal-close .pano-modal-delete img{width:14px;height:14px}.pano-common-modal .pano-modal-wrapper .pano-modal .pano-modal-content .pano-modal-header{display:flex;align-items:center;color:rgba(0, 0, 0, 0.85);background:#fff;border-radius:2px 2px 0 0}.pano-common-modal .pano-modal-wrapper .pano-modal .pano-modal-content .pano-modal-header .pano-modal-title{margin:0;color:rgba(0, 0, 0, 0.85);font-weight:500;font-size:16px;line-height:22px;display:inline-flex;align-items:center}.pano-common-modal .pano-modal-wrapper .pano-modal .pano-modal-content .pano-modal-header .pano-modal-title .pano-modal-title-icon{display:inline-flex;align-items:center;margin-right:17px}.pano-common-modal .pano-modal-wrapper .pano-modal .pano-modal-content .pano-modal-header .pano-modal-title .pano-modal-title-icon img{width:22px;height:22px}.pano-common-modal .pano-modal-wrapper .pano-modal .pano-modal-content .pano-modal-body{font-size:14px}.pano-common-modal .pano-modal-wrapper .pano-modal .pano-modal-content .pano-modal-footer{margin-top:24px;text-align:right;background:0 0;border-radius:0 0 2px 2px}.pano-common-modal .btn{min-width:80px}.pano-common-modal .btn-confirm{margin-left:10px}"}}]),e}(),$k=function(){ui(n,di(HTMLElement));var e=yi(n);function n(){var t;return ri(this,n),(t=e.call(this)).__registerHost(),zy(vi(t)),t}return ii(n,[{key:"getIcon",value:function(){switch(this.type){case"success":return Gm("img",{src:"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBzdGFuZGFsb25lPSJubyI/PjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+PHN2ZyB0PSIxNjAwNzc1MTk2ODY5IiBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHAtaWQ9IjkxODQiIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCI+PGRlZnM+PHN0eWxlIHR5cGU9InRleHQvY3NzIj48L3N0eWxlPjwvZGVmcz48cGF0aCBkPSJNMCA1MTJDMCAyMjkuMjA1MzMzIDIyOS4yMDUzMzMgMCA1MTIgMHM1MTIgMjI5LjIwNTMzMyA1MTIgNTEyLTIyOS4yMDUzMzMgNTEyLTUxMiA1MTJTMCA3OTQuNzk0NjY3IDAgNTEyeiBtMzI4LjQ0OCAxMi4zNzMzMzNjLTE2LjkzODY2Ny0xNi45Mzg2NjctNDUuNDgyNjY3LTE1Ljg3Mi02My43NDQgMi4zODkzMzQtMTguMjYxMzMzIDE4LjI2MTMzMy0xOS4zMjggNDYuODA1MzMzLTIuMzg5MzMzIDYzLjc0NGwxNDkuODQ1MzMzIDE0OS44NDUzMzNjMTYuOTM4NjY3IDE2LjkzODY2NyA0NS40ODI2NjcgMTUuODcyIDYzLjc0NC0yLjM4OTMzM0w3ODYuODU4NjY3IDM5Ni44YzE4LjI2MTMzMy0xOC4yNjEzMzMgMTkuMzI4LTQ2Ljc2MjY2NyAyLjM4OTMzMy02My43MDEzMzNzLTQ1LjQ4MjY2Ny0xNS44NzItNjMuNzQ0IDIuMzg5MzMzbC0yNzcuODg4IDMwOC4xMzg2NjctMTE5LjE2OC0xMTkuMjEwNjY3eiIgZmlsbD0iIzYzQzlBNSIgcC1pZD0iOTE4NSI+PC9wYXRoPjwvc3ZnPg==",class:"icon"});case"warn":return Gm("img",{src:Sk,class:"icon"});case"error":return Gm("img",{src:Ak,class:"icon"});case"info":return Gm("img",{src:Ck,class:"icon"});default:return null}}},{key:"render",value:function(){return Gm("div",{class:"pano-toast"},Gm("div",{class:"message"},this.getIcon(),this.message))}}],[{key:"style",get:function(){return".pano-toast{display:flex;align-items:center;justify-content:center;width:100%;margin-top:10px}.pano-toast .icon{width:16px;height:16px;margin-right:8px}.message{display:inline-flex;align-items:center;padding:12px 16px;pointer-events:all;color:#1f2329;font-size:14px;background:#ffffff;border:1px solid #dee0e3;box-sizing:border-box;box-shadow:0px 5px 10px rgba(31, 35, 41, 0.1);border-radius:4px}"}}]),n}(),Uk=function(){ui(n,di(HTMLElement));var e=yi(n);function n(){var t;return ri(this,n),(t=e.call(this)).__registerHost(),zy(vi(t)),t.text="",t.visible=!1,t.top="",t.left="",t.handleMouseEnter=function(){clearTimeout(t.visibleCloseTimer),t.visibleOpenTimer=setTimeout(function(){t.visible=!0,clearTimeout(t.visibleOpenTimer)},500)},t.handleMouseLeave=function(){clearTimeout(t.visibleOpenTimer),t.visible&&(t.visibleCloseTimer=setTimeout(function(){t.visible=!1,clearTimeout(t.visibleCloseTimer)},300))},t.handleTooltipMouseOver=function(){clearTimeout(t.visibleCloseTimer)},t.handleTooltipMouseLeave=function(){clearTimeout(t.visibleOpenTimer),t.visible&&(t.visibleCloseTimer=setTimeout(function(){t.visible=!1,clearTimeout(t.visibleCloseTimer)},300))},t}return ii(n,[{key:"componentDidLoad",value:function(){var t=this.el.shadowRoot.querySelector(".content-wrapper").getBoundingClientRect(),e=t.height,n=t.width,r=t.left,o=t.top,i=this.el.parentElement.getBoundingClientRect(),a=i.left,s=i.top;this.top="".concat(o-s+e,"px"),this.left=r-a+n/2+"px"}},{key:"render",value:function(){return Gm("div",{class:"pano-tooltip"},Gm("div",{class:"content-wrapper",onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},Gm("slot",{name:"content"})),this.visible&&Gm("div",{class:"tooltip",style:{top:this.top,left:this.left},onMouseEnter:this.handleTooltipMouseOver,onMouseLeave:this.handleTooltipMouseLeave},this.text||Gm("slot",{name:"title"})))}},{key:"el",get:function(){return this}}],[{key:"style",get:function(){return".pano-tooltip .content-wrapper{display:inline-flex}.pano-tooltip .tooltip{position:absolute;background:#FFFFFF;border:1px solid #DEE0E3;box-sizing:border-box;box-shadow:0px 5px 10px rgba(31, 35, 41, 0.1);border-radius:4px;padding:12px 16px;font-size:14px;color:#1F2329;transform:translateX(-50%);width:max-content;z-index:2000}"}}]),n}(),Hk=function(){ui(n,di(HTMLElement));var e=yi(n);function n(){var t;return ri(this,n),(t=e.call(this)).__registerHost(),zy(vi(t)),t.deleteTagName="",t.maskTransparent=!1,t}return ii(n,[{key:"render",value:function(){return Gm("div",null,Gm("pano-common-modal",{type:"warn",visible:!0,maskColor:this.maskTransparent?"transparent":""},Gm("div",{slot:"header"},_b("panel_delete_modal_header")),Gm("div",{class:"pano-delete-modal-body",slot:"body"},_b("panel_delete_modal_content",{name:this.deleteTagName})),Gm("div",{class:"pano-delete-moda-footer",slot:"footer"},Gm("pano-common-button",{onClick:this.onCancel,class:"pano-delete-moda-footer-btn"},_b("common_cancel")),Gm("pano-common-button",{type:"danger",class:"pano-delete-btn-confirm",onClick:this.onConfirm},_b("common_remove")))))}}],[{key:"style",get:function(){return".pano-delete-modal-body{margin-top:8px;margin-left:40px;word-break:break-word;text-align:left}.pano-delete-moda-footer button{min-width:80px !important}.pano-delete-moda-footer .pano-delete-btn-confirm{margin-left:12px}"}}]),n}(),Bk="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{},Fk=(Dk=jk={path:void 0,exports:{},require:function(t,e){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}},Lk=jk.exports,function(){var ia,aa="Expected a function",sa="__lodash_hash_undefined__",ca="__lodash_placeholder__",ua=32,la=128,fa=1/0,pa=9007199254740991,ha=NaN,da=4294967295,ga=[["ary",la],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",ua],["partialRight",64],["rearg",256]],va="[object Arguments]",ma="[object Array]",ya="[object Boolean]",ba="[object Date]",_a="[object Error]",wa="[object Function]",xa="[object GeneratorFunction]",ka="[object Map]",Ia="[object Number]",Ta="[object Object]",Ea="[object Promise]",Ma="[object RegExp]",Sa="[object Set]",Aa="[object String]",Ca="[object Symbol]",za="[object WeakMap]",A="[object ArrayBuffer]",Na="[object DataView]",ja="[object Float32Array]",Oa="[object Float64Array]",Da="[object Int8Array]",La="[object Int16Array]",Pa="[object Int32Array]",Ra="[object Uint8Array]",$a="[object Uint8ClampedArray]",Ua="[object Uint16Array]",Ha="[object Uint32Array]",Ba=/\b__p \+= '';/g,Fa=/\b(__p \+=) '' \+/g,Va=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Wa=/&(?:amp|lt|gt|quot|#39);/g,qa=/[&<>"']/g,Ya=RegExp(Wa.source),Ja=RegExp(qa.source),Qa=/<%-([\s\S]+?)%>/g,Ga=/<%([\s\S]+?)%>/g,Za=/<%=([\s\S]+?)%>/g,G=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ka=/^\w*$/,Xa=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ts=/[\\^$.*+?()[\]{}|]/g,es=RegExp(ts.source),ns=/^\s+|\s+$/g,rs=/^\s+/,os=/\s+$/,is=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,as=/\{\n\/\* \[wrapped with (.+)\] \*/,ss=/,? & /,cs=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,us=/\\(\\)?/g,ls=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,fs=/\w*$/,ps=/^[-+]0x[0-9a-f]+$/i,hs=/^0b[01]+$/i,ds=/^\[object .+?Constructor\]$/,gs=/^0o[0-7]+$/i,vs=/^(?:0|[1-9]\d*)$/,ms=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ys=/($^)/,bs=/['\n\r\u2028\u2029\\]/g,t="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",e="a-z\\xdf-\\xf6\\xf8-\\xff",n="A-Z\\xc0-\\xd6\\xd8-\\xde",r="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",o="["+r+"]",i="["+t+"]",a="\\d+",s="["+e+"]",c="[^\\ud800-\\udfff"+r+a+"\\u2700-\\u27bf"+e+n+"]",u="\\ud83c[\\udffb-\\udfff]",l="[^\\ud800-\\udfff]",f="(?:\\ud83c[\\udde6-\\uddff]){2}",p="[\\ud800-\\udbff][\\udc00-\\udfff]",h="["+n+"]",d="(?:"+s+"|"+c+")",g="(?:"+h+"|"+c+")",v="(?:['â](?:d|ll|m|re|s|t|ve))?",m="(?:['â](?:D|LL|M|RE|S|T|VE))?",y="(?:"+i+"|"+u+")?",b="[\\ufe0e\\ufe0f]?",_=b+y+"(?:\\u200d(?:"+[l,f,p].join("|")+")"+b+y+")*",w="(?:"+["[\\u2700-\\u27bf]",f,p].join("|")+")"+_,x="(?:"+[l+i+"?",i,f,p,"[\\ud800-\\udfff]"].join("|")+")",_s=RegExp("['â]","g"),ws=RegExp(i,"g"),k=RegExp(u+"(?="+u+")|"+x+_,"g"),xs=RegExp([h+"?"+s+"+"+v+"(?="+[o,h,"$"].join("|")+")",g+"+"+m+"(?="+[o,h+d,"$"].join("|")+")",h+"?"+d+"+"+v,h+"+"+m,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",a,w].join("|"),"g"),I=RegExp("[\\u200d\\ud800-\\udfff"+t+"\\ufe0e\\ufe0f]"),ks=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Is=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Ts={};Ts[ja]=Ts[Oa]=Ts[Da]=Ts[La]=Ts[Pa]=Ts[Ra]=Ts[$a]=Ts[Ua]=Ts[Ha]=!0,Ts[va]=Ts[ma]=Ts[A]=Ts[ya]=Ts[Na]=Ts[ba]=Ts[_a]=Ts[wa]=Ts[ka]=Ts[Ia]=Ts[Ta]=Ts[Ma]=Ts[Sa]=Ts[Aa]=Ts[za]=!1;var Es={};Es[va]=Es[ma]=Es[A]=Es[Na]=Es[ya]=Es[ba]=Es[ja]=Es[Oa]=Es[Da]=Es[La]=Es[Pa]=Es[ka]=Es[Ia]=Es[Ta]=Es[Ma]=Es[Sa]=Es[Aa]=Es[Ca]=Es[Ra]=Es[$a]=Es[Ua]=Es[Ha]=!0,Es[_a]=Es[wa]=Es[za]=!1;var T={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Ms=parseFloat,Ss=parseInt,E="object"==Ic(Bk)&&Bk&&Bk.Object===Object&&Bk,M="object"==("undefined"==typeof self?"undefined":Ic(self))&&self&&self.Object===Object&&self,As=E||M||function(){},S=Lk&&!Lk.nodeType&&Lk,C=S&&Dk&&!Dk.nodeType&&Dk,Cs=C&&C.exports===S,z=Cs&&E.process,N=function(){try{return C&&C.require&&C.require("util").types||z&&z.binding&&z.binding("util")}catch(t){}}(),zs=N&&N.isArrayBuffer,Ns=N&&N.isDate,js=N&&N.isMap,Os=N&&N.isRegExp,Ds=N&&N.isSet,Ls=N&&N.isTypedArray;function Ps(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function Rs(t,e,n,r){for(var o=-1,i=null==t?0:t.length;++o<i;){var a=t[o];e(r,a,n(a),t)}return r}function $s(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}function Us(t,e){for(var n=null==t?0:t.length;n--&&!1!==e(t[n],n,t););return t}function Hs(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}function Bs(t,e){for(var n=-1,r=null==t?0:t.length,o=0,i=[];++n<r;){var a=t[n];e(a,n,t)&&(i[o++]=a)}return i}function Fs(t,e){return!(null==t||!t.length)&&-1<Ks(t,e,0)}function Vs(t,e,n){for(var r=-1,o=null==t?0:t.length;++r<o;)if(n(e,t[r]))return!0;return!1}function Ws(t,e){for(var n=-1,r=null==t?0:t.length,o=Array(r);++n<r;)o[n]=e(t[n],n,t);return o}function qs(t,e){for(var n=-1,r=e.length,o=t.length;++n<r;)t[o+n]=e[n];return t}function Ys(t,e,n,r){var o=-1,i=null==t?0:t.length;for(r&&i&&(n=t[++o]);++o<i;)n=e(n,t[o],o,t);return n}function Js(t,e,n,r){var o=null==t?0:t.length;for(r&&o&&(n=t[--o]);o--;)n=e(n,t[o],o,t);return n}function Qs(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var j=nc("length");function Gs(t,r,e){var o;return e(t,function(t,e,n){if(r(t,e,n))return o=e,!1}),o}function Zs(t,e,n,r){for(var o=t.length,i=n+(r?1:-1);r?i--:++i<o;)if(e(t[i],i,t))return i;return-1}function Ks(t,e,o){return e==e?function(t,e){for(var n=o-1,r=t.length;++n<r;)if(t[n]===e)return n;return-1}(t,e):Zs(t,tc,o)}function Xs(t,e,n,r){for(var o=n-1,i=t.length;++o<i;)if(r(t[o],e))return o;return-1}function tc(t){return t!=t}function ec(t,e){var n=null==t?0:t.length;return n?oc(t,e)/n:ha}function nc(e){return function(t){return null==t?ia:t[e]}}function O(e){return function(t){return null==e?ia:e[t]}}function rc(t,r,o,i,e){return e(t,function(t,e,n){o=i?(i=!1,t):r(o,t,e,n)}),o}function oc(t,e){for(var n,r=-1,o=t.length;++r<o;){var i=e(t[r]);i!==ia&&(n=n===ia?i:n+i)}return n}function ic(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}function ac(e){return function(t){return e(t)}}function sc(e,t){return Ws(t,function(t){return e[t]})}function cc(t,e){return t.has(e)}function uc(t,e){for(var n=-1,r=t.length;++n<r&&-1<Ks(e,t[n],0););return n}function lc(t,e){for(var n=t.length;n--&&-1<Ks(e,t[n],0););return n}function fc(t,e){for(var n=t.length,r=0;n--;)t[n]===e&&++r;return r}var pc=O({"Ã":"A","Ã":"A","Ã":"A","Ã":"A","Ã":"A","Ã":"A","Ã ":"a","Ã¡":"a","Ã¢":"a","Ã£":"a","Ã¤":"a","Ã¥":"a","Ã":"C","Ã§":"c","Ã":"D","Ã°":"d","Ã":"E","Ã":"E","Ã":"E","Ã":"E","Ã¨":"e","Ã©":"e","Ãª":"e","Ã«":"e","Ã":"I","Ã":"I","Ã":"I","Ã":"I","Ã¬":"i","Ã­":"i","Ã®":"i","Ã¯":"i","Ã":"N","Ã±":"n","Ã":"O","Ã":"O","Ã":"O","Ã":"O","Ã":"O","Ã":"O","Ã²":"o","Ã³":"o","Ã´":"o","Ãµ":"o","Ã¶":"o","Ã¸":"o","Ã":"U","Ã":"U","Ã":"U","Ã":"U","Ã¹":"u","Ãº":"u","Ã»":"u","Ã¼":"u","Ã":"Y","Ã½":"y","Ã¿":"y","Ã":"Ae","Ã¦":"ae","Ã":"Th","Ã¾":"th","Ã":"ss","Ä":"A","Ä":"A","Ä":"A","Ä":"a","Ä":"a","Ä":"a","Ä":"C","Ä":"C","Ä":"C","Ä":"C","Ä":"c","Ä":"c","Ä":"c","Ä":"c","Ä":"D","Ä":"D","Ä":"d","Ä":"d","Ä":"E","Ä":"E","Ä":"E","Ä":"E","Ä":"E","Ä":"e","Ä":"e","Ä":"e","Ä":"e","Ä":"e","Ä":"G","Ä":"G","Ä ":"G","Ä¢":"G","Ä":"g","Ä":"g","Ä¡":"g","Ä£":"g","Ä¤":"H","Ä¦":"H","Ä¥":"h","Ä§":"h","Ä¨":"I","Äª":"I","Ä¬":"I","Ä®":"I","Ä°":"I","Ä©":"i","Ä«":"i","Ä­":"i","Ä¯":"i","Ä±":"i","Ä´":"J","Äµ":"j","Ä¶":"K","Ä·":"k","Ä¸":"k","Ä¹":"L","Ä»":"L","Ä½":"L","Ä¿":"L","Å":"L","Äº":"l","Ä¼":"l","Ä¾":"l","Å":"l","Å":"l","Å":"N","Å":"N","Å":"N","Å":"N","Å":"n","Å":"n","Å":"n","Å":"n","Å":"O","Å":"O","Å":"O","Å":"o","Å":"o","Å":"o","Å":"R","Å":"R","Å":"R","Å":"r","Å":"r","Å":"r","Å":"S","Å":"S","Å":"S","Å ":"S","Å":"s","Å":"s","Å":"s","Å¡":"s","Å¢":"T","Å¤":"T","Å¦":"T","Å£":"t","Å¥":"t","Å§":"t","Å¨":"U","Åª":"U","Å¬":"U","Å®":"U","Å°":"U","Å²":"U","Å©":"u","Å«":"u","Å­":"u","Å¯":"u","Å±":"u","Å³":"u","Å´":"W","Åµ":"w","Å¶":"Y","Å·":"y","Å¸":"Y","Å¹":"Z","Å»":"Z","Å½":"Z","Åº":"z","Å¼":"z","Å¾":"z","Ä²":"IJ","Ä³":"ij","Å":"Oe","Å":"oe","Å":"'n","Å¿":"s"}),hc=O({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function dc(t){return"\\"+T[t]}function gc(t){return I.test(t)}function vc(t){var n=-1,r=Array(t.size);return t.forEach(function(t,e){r[++n]=[e,t]}),r}function mc(e,n){return function(t){return e(n(t))}}function yc(t,e){for(var n=-1,r=t.length,o=0,i=[];++n<r;){var a=t[n];a!==e&&a!==ca||(t[n]=ca,i[o++]=n)}return i}function bc(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}function _c(t){return(gc(t)?function(t){for(var e=k.lastIndex=0;k.test(t);)++e;return e}:j)(t)}function wc(t){return gc(t)?t.match(k)||[]:t.split("")}var xc=O({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),kc=function t(e){var n,S=(e=null==e?As:kc.defaults(As.Object(),e,kc.pick(As,Is))).Array,r=e.Date,o=e.Error,i=e.Function,a=e.Math,k=e.Object,d=e.RegExp,l=e.String,C=e.TypeError,s=S.prototype,c=i.prototype,f=k.prototype,u=e["__core-js_shared__"],p=c.toString,I=f.hasOwnProperty,h=0,g=(n=/[^.]+$/.exec(u&&u.keys&&u.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",v=f.toString,m=p.call(k),y=As._,b=d("^"+p.call(I).replace(ts,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),_=Cs?e.Buffer:ia,w=e.Symbol,x=e.Uint8Array,T=_?_.allocUnsafe:ia,E=mc(k.getPrototypeOf,k),M=k.create,z=f.propertyIsEnumerable,N=s.splice,j=w?w.isConcatSpreadable:ia,O=w?w.iterator:ia,D=w?w.toStringTag:ia,L=function(){try{var t=Bn(k,"defineProperty");return t({},"",{}),t}catch(t){}}(),P=e.clearTimeout!==As.clearTimeout&&e.clearTimeout,R=r&&r.now!==As.Date.now&&r.now,$=e.setTimeout!==As.setTimeout&&e.setTimeout,U=a.ceil,H=a.floor,B=k.getOwnPropertySymbols,F=_?_.isBuffer:ia,V=e.isFinite,W=s.join,q=mc(k.keys,k),Y=a.max,J=a.min,Q=r.now,Z=e.parseInt,K=a.random,X=s.reverse,tt=Bn(e,"DataView"),et=Bn(e,"Map"),nt=Bn(e,"Promise"),rt=Bn(e,"Set"),ot=Bn(e,"WeakMap"),it=Bn(k,"create"),at=ot&&new ot,st={},ct=mr(tt),ut=mr(et),lt=mr(nt),ft=mr(rt),pt=mr(ot),ht=w?w.prototype:ia,dt=ht?ht.valueOf:ia,gt=ht?ht.toString:ia;function vt(t){if(Do(t)&&!Io(t)&&!(t instanceof wt)){if(t instanceof _t)return t;if(I.call(t,"__wrapped__"))return yr(t)}return new _t(t)}var mt=function(t){if(!Oo(t))return{};if(M)return M(t);yt.prototype=t;var e=new yt;return yt.prototype=ia,e};function yt(){}function bt(){}function _t(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=ia}function wt(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=da,this.__views__=[]}function xt(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function kt(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function It(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Tt(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new It;++e<n;)this.add(t[e])}function Et(t){var e=this.__data__=new kt(t);this.size=e.size}function Mt(t,e){var n,r=Io(t),o=!r&&ko(t),i=!r&&!o&&So(t),a=!r&&!o&&!i&&Fo(t),s=r||o||i||a,c=s?ic(t.length,l):[],u=c.length;for(n in t)!e&&!I.call(t,n)||s&&("length"==n||i&&("offset"==n||"parent"==n)||a&&("buffer"==n||"byteLength"==n||"byteOffset"==n)||Qn(n,u))||c.push(n);return c}function St(t){var e=t.length;return e?t[Ie(0,e-1)]:ia}function At(t,e){return pr(an(t),Rt(e,0,t.length))}function Ct(t){return pr(an(t))}function zt(t,e,n){(n===ia||_o(t[e],n))&&(n!==ia||e in t)||Lt(t,e,n)}function Nt(t,e,n){var r=t[e];I.call(t,e)&&_o(r,n)&&(n!==ia||e in t)||Lt(t,e,n)}function jt(t,e){for(var n=t.length;n--;)if(_o(t[n][0],e))return n;return-1}function Ot(t,r,o,i){return Ft(t,function(t,e,n){r(i,t,o(t),n)}),i}function Dt(t,e){return t&&sn(e,fi(e),t)}function Lt(t,e,n){"__proto__"==e&&L?L(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function Pt(t,e){for(var n=-1,r=e.length,o=S(r),i=null==t;++n<r;)o[n]=i?ia:ai(t,e[n]);return o}function Rt(t,e,n){return t==t&&(n!==ia&&(t=t<=n?t:n),e!==ia&&(t=e<=t?t:e)),t}function $t(n,r,o,t,e,i){var a,s=1&r,c=2&r,u=4&r;if(o&&(a=e?o(n,t,e,i):o(n)),a!==ia)return a;if(!Oo(n))return n;var l,f,p,h,d,g,v,m,y=Io(n);if(y){if(v=(g=n).length,m=new g.constructor(v),v&&"string"==typeof g[0]&&I.call(g,"index")&&(m.index=g.index,m.input=g.input),a=m,!s)return an(n,a)}else{var b=Wn(n),_=b==wa||b==xa;if(So(n))return Xe(n,s);if(b==Ta||b==va||_&&!e){if(a=c||_?{}:Yn(n),!s)return c?(p=n,h=(d=a)&&sn(n,pi(n),d),sn(p,Vn(p),h)):(f=Dt(a,l=n),sn(l,Fn(l),f))}else{if(!Es[b])return e?n:{};a=function(t,e){var n,r,o,i,a=t.constructor;switch(b){case A:return tn(t);case ya:case ba:return new a(+t);case Na:return o=t,i=e?tn(o.buffer):o.buffer,new o.constructor(i,o.byteOffset,o.byteLength);case ja:case Oa:case Da:case La:case Pa:case Ra:case $a:case Ua:case Ha:return en(t,e);case ka:return new a;case Ia:case Aa:return new a(t);case Ma:return(r=new(n=t).constructor(n.source,fs.exec(n))).lastIndex=n.lastIndex,r;case Sa:return new a;case Ca:return dt?k(dt.call(t)):{}}}(n,s)}}var w=(i=i||new Et).get(n);if(w)return w;i.set(n,a),Uo(n)?n.forEach(function(t){a.add($t(t,r,o,t,n,i))}):Lo(n)&&n.forEach(function(t,e){a.set(e,$t(t,r,o,e,n,i))});var x=y?ia:(u?c?Dn:On:c?pi:fi)(n);return $s(x||n,function(t,e){x&&(t=n[e=t]),Nt(a,e,$t(t,r,o,e,n,i))}),a}function Ut(t,e,n){var r=n.length;if(null==t)return!r;for(t=k(t);r--;){var o=n[r],i=e[o],a=t[o];if(a===ia&&!(o in t)||!i(a))return!1}return!0}function Ht(t,e,n){if("function"!=typeof t)throw new C(aa);return cr(function(){t.apply(ia,n)},e)}function Bt(t,e,n,r){var o=-1,i=Fs,a=!0,s=t.length,c=[],u=e.length;if(!s)return c;n&&(e=Ws(e,ac(n))),r?(i=Vs,a=!1):200<=e.length&&(i=cc,a=!1,e=new Tt(e));t:for(;++o<s;){var l=t[o],f=null==n?l:n(l),l=r||0!==l?l:0;if(a&&f==f){for(var p=u;p--;)if(e[p]===f)continue t;c.push(l)}else i(e,f,r)||c.push(l)}return c}vt.templateSettings={escape:Qa,evaluate:Ga,interpolate:Za,variable:"",imports:{_:vt}},vt.prototype=bt.prototype,vt.prototype.constructor=vt,_t.prototype=mt(bt.prototype),_t.prototype.constructor=_t,wt.prototype=mt(bt.prototype),wt.prototype.constructor=wt,xt.prototype.clear=function(){this.__data__=it?it(null):{},this.size=0},xt.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},xt.prototype.get=function(t){var e=this.__data__;if(it){var n=e[t];return n===sa?ia:n}return I.call(e,t)?e[t]:ia},xt.prototype.has=function(t){var e=this.__data__;return it?e[t]!==ia:I.call(e,t)},xt.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=it&&e===ia?sa:e,this},kt.prototype.clear=function(){this.__data__=[],this.size=0},kt.prototype.delete=function(t){var e=this.__data__,n=jt(e,t);return!(n<0||(n==e.length-1?e.pop():N.call(e,n,1),--this.size,0))},kt.prototype.get=function(t){var e=this.__data__,n=jt(e,t);return n<0?ia:e[n][1]},kt.prototype.has=function(t){return-1<jt(this.__data__,t)},kt.prototype.set=function(t,e){var n=this.__data__,r=jt(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this},It.prototype.clear=function(){this.size=0,this.__data__={hash:new xt,map:new(et||kt),string:new xt}},It.prototype.delete=function(t){var e=Un(this,t).delete(t);return this.size-=e?1:0,e},It.prototype.get=function(t){return Un(this,t).get(t)},It.prototype.has=function(t){return Un(this,t).has(t)},It.prototype.set=function(t,e){var n=Un(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this},Tt.prototype.add=Tt.prototype.push=function(t){return this.__data__.set(t,sa),this},Tt.prototype.has=function(t){return this.__data__.has(t)},Et.prototype.clear=function(){this.__data__=new kt,this.size=0},Et.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},Et.prototype.get=function(t){return this.__data__.get(t)},Et.prototype.has=function(t){return this.__data__.has(t)},Et.prototype.set=function(t,e){var n=this.__data__;if(n instanceof kt){var r=n.__data__;if(!et||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new It(r)}return n.set(t,e),this.size=n.size,this};var Ft=ln(Zt),Vt=ln(Kt,!0);function Wt(t,r){var o=!0;return Ft(t,function(t,e,n){return o=!!r(t,e,n)}),o}function qt(t,e,n){for(var r=-1,o=t.length;++r<o;){var i,a,s=t[r],c=e(s);null!=c&&(i===ia?c==c&&!Bo(c):n(c,i))&&(i=c,a=s)}return a}function Yt(t,r){var o=[];return Ft(t,function(t,e,n){r(t,e,n)&&o.push(t)}),o}function Jt(t,e,n,r,o){var i=-1,a=t.length;for(n=n||Jn,o=o||[];++i<a;){var s=t[i];0<e&&n(s)?1<e?Jt(s,e-1,n,r,o):qs(o,s):r||(o[o.length]=s)}return o}var Qt=fn(),Gt=fn(!0);function Zt(t,e){return t&&Qt(t,e,fi)}function Kt(t,e){return t&&Gt(t,e,fi)}function Xt(e,t){return Bs(t,function(t){return zo(e[t])})}function te(t,e){for(var n=0,r=(e=Qe(e,t)).length;null!=t&&n<r;)t=t[vr(e[n++])];return n&&n==r?t:ia}function ee(t,e,n){var r=e(t);return Io(t)?r:qs(r,n(t))}function ne(t){return null==t?t===ia?"[object Undefined]":"[object Null]":D&&D in k(t)?function(t){var e=I.call(t,D),n=t[D];try{t[D]=ia;var r=!0}catch(t){}var o=v.call(t);return r&&(e?t[D]=n:delete t[D]),o}(t):v.call(t)}function re(t,e){return e<t}function oe(t,e){return null!=t&&I.call(t,e)}function ie(t,e){return null!=t&&e in k(t)}function ae(t,e,n){for(var r=n?Vs:Fs,o=t[0].length,i=t.length,a=i,s=S(i),c=1/0,u=[];a--;){var l=t[a];a&&e&&(l=Ws(l,ac(e))),c=J(l.length,c),s[a]=!n&&(e||120<=o&&120<=l.length)?new Tt(a&&l):ia}l=t[0];var f=-1,p=s[0];t:for(;++f<o&&u.length<c;){var h=l[f],d=e?e(h):h,h=n||0!==h?h:0;if(!(p?cc(p,d):r(u,d,n))){for(a=i;--a;){var g=s[a];if(!(g?cc(g,d):r(t[a],d,n)))continue t}p&&p.push(d),u.push(h)}}return u}function se(t,e,n){var r=null==(t=or(t,e=Qe(e,t)))?t:t[vr(Ar(e))];return null==r?ia:Ps(r,t,n)}function ce(t){return Do(t)&&ne(t)==va}function ue(t,e,n,r,o){return t===e||(null==t||null==e||!Do(t)&&!Do(e)?t!=t&&e!=e:function(t,e,n,r,o,i){var a=Io(t),s=Io(e),l=a?ma:Wn(t),c=s?ma:Wn(e),u=(l=l==va?Ta:l)==Ta,f=(c=c==va?Ta:c)==Ta,p=l==c;if(p&&So(t)){if(!So(e))return!1;u=!(a=!0)}if(p&&!u)return i=i||new Et,(a||Fo(t)?Nn:function(t,e,n,r,o,i){switch(l){case Na:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case A:return!(t.byteLength!=e.byteLength||!o(new x(t),new x(e)));case ya:case ba:case Ia:return _o(+t,+e);case _a:return t.name==e.name&&t.message==e.message;case Ma:case Aa:return t==e+"";case ka:var a=vc;case Sa:var s=1&n,a=a||bc;if(t.size!=e.size&&!s)return!1;var c=i.get(t);if(c)return c==e;n|=2,i.set(t,e);var u=Nn(a(t),a(e),n,r,o,i);return i.delete(t),u;case Ca:if(dt)return dt.call(t)==dt.call(e)}return!1})(t,e,n,r,o,i);if(!(1&n)){var h=u&&I.call(t,"__wrapped__"),d=f&&I.call(e,"__wrapped__");if(h||d)return o(h?t.value():t,d?e.value():e,n,r,i=i||new Et)}return!!p&&function(t,e,n,r,o,i){var a=1&n,s=On(t),c=s.length;if(c!=On(e).length&&!a)return!1;for(var u=c;u--;){var l=s[u];if(!(a?l in e:I.call(e,l)))return!1}var f=i.get(t),p=i.get(e);if(f&&p)return f==e&&p==t;var h=!0;i.set(t,e),i.set(e,t);for(var d,g,v=a;++u<c;){var m,y=t[l=s[u]],b=e[l];if(r&&(m=a?r(b,y,l,e,t,i):r(y,b,l,t,e,i)),!(m===ia?y===b||o(y,b,n,r,i):m)){h=!1;break}v=v||"constructor"==l}return!h||v||(d=t.constructor)!=(g=e.constructor)&&"constructor"in t&&"constructor"in e&&!("function"==typeof d&&d instanceof d&&"function"==typeof g&&g instanceof g)&&(h=!1),i.delete(t),i.delete(e),h}(t,e,n,r,o,i=i||new Et)}(t,e,n,r,ue,o))}function le(t,e,n,r){var o=n.length,i=o,a=!r;if(null==t)return!i;for(t=k(t);o--;){var s=n[o];if(a&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++o<i;){var c=(s=n[o])[0],u=t[c],l=s[1];if(a&&s[2]){if(u===ia&&!(c in t))return!1}else{var f,p=new Et;if(r&&(f=r(u,l,c,t,e,p)),!(f===ia?ue(l,u,3,r,p):f))return!1}}return!0}function fe(t){return!(!Oo(t)||g&&g in t)&&(zo(t)?b:ds).test(mr(t))}function pe(t){return"function"==typeof t?t:null==t?Pi:"object"==Ic(t)?Io(t)?me(t[0],t[1]):ve(t):qi(t)}function he(t){if(!tr(t))return q(t);var e,n=[];for(e in k(t))I.call(t,e)&&"constructor"!=e&&n.push(e);return n}function de(t,e){return t<e}function ge(t,r){var o=-1,i=Eo(t)?S(t.length):[];return Ft(t,function(t,e,n){i[++o]=r(t,e,n)}),i}function ve(e){var n=Hn(e);return 1==n.length&&n[0][2]?nr(n[0][0],n[0][1]):function(t){return t===e||le(t,e,n)}}function me(n,r){return Zn(n)&&er(r)?nr(vr(n),r):function(t){var e=ai(t,n);return e===ia&&e===r?si(t,n):ue(r,e,3)}}function ye(y,b,_,w,x){y!==b&&Qt(b,function(t,e){var n,r,o,i,a,s,c,u,l,f,p,h,d,g,v,m;x=x||new Et,Oo(t)?(o=b,a=_,s=ye,c=w,u=x,g=ar(r=y,i=e),v=ar(o,i),(m=u.get(v))?zt(r,i,m):((l=(d=c?c(g,v,i+"",r,o,u):ia)===ia)&&(p=!(f=Io(v))&&So(v),h=!f&&!p&&Fo(v),d=v,f||p||h?d=Io(g)?g:Mo(g)?an(g):p?Xe(v,!(l=!1)):h?en(v,!(l=!1)):[]:Ro(v)||ko(v)?ko(d=g)?d=Zo(g):Oo(g)&&!zo(g)||(d=Yn(v)):l=!1),l&&(u.set(v,d),s(d,v,a,c,u),u.delete(v)),zt(r,i,d))):((n=w?w(ar(y,e),t,e+"",y,b,x):ia)===ia&&(n=t),zt(y,e,n))},pi)}function be(t,e){var n=t.length;if(n)return Qn(e+=e<0?n:0,n)?t[e]:ia}function _e(t,r,n){r=r.length?Ws(r,function(e){return Io(e)?function(t){return te(t,1===e.length?e[0]:e)}:e}):[Pi];var o=-1;return r=Ws(r,ac($n())),function(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}(ge(t,function(e,t,n){return{criteria:Ws(r,function(t){return t(e)}),index:++o,value:e}}),function(t,e){return function(t,e,n){for(var r=-1,o=t.criteria,i=e.criteria,a=o.length,s=n.length;++r<a;){var c=nn(o[r],i[r]);if(c)return s<=r?c:c*("desc"==n[r]?-1:1)}return t.index-e.index}(t,e,n)})}function we(t,e,n){for(var r=-1,o=e.length,i={};++r<o;){var a=e[r],s=te(t,a);n(s,a)&&Ae(i,Qe(a,t),s)}return i}function xe(t,e,n,r){var o=r?Xs:Ks,i=-1,a=e.length,s=t;for(t===e&&(e=an(e)),n&&(s=Ws(t,ac(n)));++i<a;)for(var c=0,u=e[i],l=n?n(u):u;-1<(c=o(s,l,c,r));)s!==t&&N.call(s,c,1),N.call(t,c,1);return t}function ke(t,e){for(var n=t?e.length:0,r=n-1;n--;){var o,i=e[n];n!=r&&i===o||(Qn(o=i)?N.call(t,i,1):He(t,i))}return t}function Ie(t,e){return t+H(K()*(e-t+1))}function Te(t,e){var n="";if(!t||e<1||pa<e)return n;for(;e%2&&(n+=t),(e=H(e/2))&&(t+=t),e;);return n}function Ee(t,e){return ur(rr(t,e,Pi),t+"")}function Me(t){return St(_i(t))}function Se(t,e){var n=_i(t);return pr(n,Rt(e,0,n.length))}function Ae(t,e,n,r){if(!Oo(t))return t;for(var o=-1,i=(e=Qe(e,t)).length,a=i-1,s=t;null!=s&&++o<i;){var c,u=vr(e[o]),l=n;if("__proto__"===u||"constructor"===u||"prototype"===u)return t;o!=a&&(c=s[u],(l=r?r(c,u,s):ia)===ia&&(l=Oo(c)?c:Qn(e[o+1])?[]:{})),Nt(s,u,l),s=s[u]}return t}var Ce=at?function(t,e){return at.set(t,e),t}:Pi,ze=L?function(t,e){return L(t,"toString",{configurable:!0,enumerable:!1,value:Oi(e),writable:!0})}:Pi;function Ne(t){return pr(_i(t))}function je(t,e,n){var r=-1,o=t.length;e<0&&(e=o<-e?0:o+e),(n=o<n?o:n)<0&&(n+=o),o=n<e?0:n-e>>>0,e>>>=0;for(var i=S(o);++r<o;)i[r]=t[r+e];return i}function Oe(t,r){var o;return Ft(t,function(t,e,n){return!(o=r(t,e,n))}),!!o}function De(t,e,n){var r=0,o=null==t?r:t.length;if("number"==typeof e&&e==e&&o<=2147483647){for(;r<o;){var i=r+o>>>1,a=t[i];null!==a&&!Bo(a)&&(n?a<=e:a<e)?r=i+1:o=i}return o}return Le(t,e,Pi,n)}function Le(t,e,n,r){var o=0,i=null==t?0:t.length;if(0===i)return 0;for(var a=(e=n(e))!=e,s=null===e,c=Bo(e),u=e===ia;o<i;){var l=H((o+i)/2),f=n(t[l]),p=f!==ia,h=null===f,d=f==f,g=Bo(f),v=a?r||d:u?d&&(r||p):s?d&&p&&(r||!h):c?d&&p&&!h&&(r||!g):!h&&!g&&(r?f<=e:f<e);v?o=l+1:i=l}return J(i,4294967294)}function Pe(t,e){for(var n=-1,r=t.length,o=0,i=[];++n<r;){var a,s=t[n],c=e?e(s):s;n&&_o(c,a)||(a=c,i[o++]=0===s?0:s)}return i}function Re(t){return"number"==typeof t?t:Bo(t)?ha:+t}function $e(t){if("string"==typeof t)return t;if(Io(t))return Ws(t,$e)+"";if(Bo(t))return gt?gt.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function Ue(t,e,n){var r=-1,o=Fs,i=t.length,a=!0,s=[],c=s;if(n)a=!1,o=Vs;else if(200<=i){var u=e?null:En(t);if(u)return bc(u);a=!1,o=cc,c=new Tt}else c=e?[]:s;t:for(;++r<i;){var l=t[r],f=e?e(l):l,l=n||0!==l?l:0;if(a&&f==f){for(var p=c.length;p--;)if(c[p]===f)continue t;e&&c.push(f),s.push(l)}else o(c,f,n)||(c!==s&&c.push(f),s.push(l))}return s}function He(t,e){return null==(t=or(t,e=Qe(e,t)))||delete t[vr(Ar(e))]}function Be(t,e,n,r){return Ae(t,e,n(te(t,e)),r)}function Fe(t,e,n,r){for(var o=t.length,i=r?o:-1;(r?i--:++i<o)&&e(t[i],i,t););return n?je(t,r?0:i,r?i+1:o):je(t,r?i+1:0,r?o:i)}function Ve(t,e){var n=t;return n instanceof wt&&(n=n.value()),Ys(e,function(t,e){return e.func.apply(e.thisArg,qs([t],e.args))},n)}function We(t,e,n){var r=t.length;if(r<2)return r?Ue(t[0]):[];for(var o=-1,i=S(r);++o<r;)for(var a=t[o],s=-1;++s<r;)s!=o&&(i[o]=Bt(i[o]||a,t[s],e,n));return Ue(Jt(i,1),e,n)}function qe(t,e,n){for(var r=-1,o=t.length,i=e.length,a={};++r<o;){var s=r<i?e[r]:ia;n(a,t[r],s)}return a}function Ye(t){return Mo(t)?t:[]}function Je(t){return"function"==typeof t?t:Pi}function Qe(t,e){return Io(t)?t:Zn(t,e)?[t]:gr(Ko(t))}var Ge=Ee;function Ze(t,e,n){var r=t.length;return n=n===ia?r:n,!e&&r<=n?t:je(t,e,n)}var Ke=P||function(t){return As.clearTimeout(t)};function Xe(t,e){if(e)return t.slice();var n=t.length,r=T?T(n):new t.constructor(n);return t.copy(r),r}function tn(t){var e=new t.constructor(t.byteLength);return new x(e).set(new x(t)),e}function en(t,e){var n=e?tn(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function nn(t,e){if(t!==e){var n=t!==ia,r=null===t,o=t==t,i=Bo(t),a=e!==ia,s=null===e,c=e==e,u=Bo(e);if(!s&&!u&&!i&&e<t||i&&a&&c&&!s&&!u||r&&a&&c||!n&&c||!o)return 1;if(!r&&!i&&!u&&t<e||u&&n&&o&&!r&&!i||s&&n&&o||!a&&o||!c)return-1}return 0}function rn(t,e,n,r){for(var o=-1,i=t.length,a=n.length,s=-1,c=e.length,u=Y(i-a,0),l=S(c+u),f=!r;++s<c;)l[s]=e[s];for(;++o<a;)(f||o<i)&&(l[n[o]]=t[o]);for(;u--;)l[s++]=t[o++];return l}function on(t,e,n,r){for(var o=-1,i=t.length,a=-1,s=n.length,c=-1,u=e.length,l=Y(i-s,0),f=S(l+u),p=!r;++o<l;)f[o]=t[o];for(var h=o;++c<u;)f[h+c]=e[c];for(;++a<s;)(p||o<i)&&(f[h+n[a]]=t[o++]);return f}function an(t,e){var n=-1,r=t.length;for(e=e||S(r);++n<r;)e[n]=t[n];return e}function sn(t,e,n,r){var o=!n;n=n||{};for(var i=-1,a=e.length;++i<a;){var s=e[i],c=r?r(n[s],t[s],s,n,t):ia;c===ia&&(c=t[s]),(o?Lt:Nt)(n,s,c)}return n}function cn(o,i){return function(t,e){var n=Io(t)?Rs:Ot,r=i?i():{};return n(t,o,$n(e,2),r)}}function un(s){return Ee(function(t,e){var n=-1,r=e.length,o=1<r?e[r-1]:ia,i=2<r?e[2]:ia,o=3<s.length&&"function"==typeof o?(r--,o):ia;for(i&&Gn(e[0],e[1],i)&&(o=r<3?ia:o,r=1),t=k(t);++n<r;){var a=e[n];a&&s(t,a,n,o)}return t})}function ln(i,a){return function(t,e){if(null==t)return t;if(!Eo(t))return i(t,e);for(var n=t.length,r=a?n:-1,o=k(t);(a?r--:++r<n)&&!1!==e(o[r],r,o););return t}}function fn(c){return function(t,e,n){for(var r=-1,o=k(t),i=n(t),a=i.length;a--;){var s=i[c?a:++r];if(!1===e(o[s],s,o))break}return t}}function pn(o){return function(t){var e=gc(t=Ko(t))?wc(t):ia,n=e?e[0]:t.charAt(0),r=e?Ze(e,1).join(""):t.slice(1);return n[o]()+r}}function hn(e){return function(t){return Ys(zi(ki(t).replace(_s,"")),e,"")}}function dn(r){return function(){var t=arguments;switch(t.length){case 0:return new r;case 1:return new r(t[0]);case 2:return new r(t[0],t[1]);case 3:return new r(t[0],t[1],t[2]);case 4:return new r(t[0],t[1],t[2],t[3]);case 5:return new r(t[0],t[1],t[2],t[3],t[4]);case 6:return new r(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new r(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var e=mt(r.prototype),n=r.apply(e,t);return Oo(n)?n:e}}function gn(a){return function(t,e,n){var r,o=k(t);Eo(t)||(r=$n(e,3),t=fi(t),e=function(t){return r(o[t],t,o)});var i=a(t,e,n);return-1<i?o[r?t[i]:i]:ia}}function vn(c){return jn(function(o){var i=o.length,t=i,e=_t.prototype.thru;for(c&&o.reverse();t--;){var n=o[t];if("function"!=typeof n)throw new C(aa);e&&!s&&"wrapper"==Pn(n)&&(s=new _t([],!0))}for(t=s?t:i;++t<i;)var r=Pn(n=o[t]),a="wrapper"==r?Ln(n):ia,s=a&&Kn(a[0])&&424==a[1]&&!a[4].length&&1==a[9]?s[Pn(a[0])].apply(s,a[3]):1==n.length&&Kn(n)?s[r]():s.thru(n);return function(){var t=arguments,e=t[0];if(s&&1==t.length&&Io(e))return s.plant(e).value();for(var n=0,r=i?o[n].apply(this,t):e;++n<i;)r=o[n].call(this,r);return r}})}function mn(u,l,f,p,h,d,g,v,m,y){var b=l&la,_=1&l,w=2&l,x=24&l,k=512&l,I=w?ia:dn(u);return function t(){for(var e,n,r=S(c=arguments.length),o=c;o--;)r[o]=arguments[o];if(x&&(n=fc(r,e=Rn(t))),p&&(r=rn(r,p,h,x)),d&&(r=on(r,d,g,x)),c-=n,x&&c<y){var i=yc(r,e);return In(u,l,mn,t.placeholder,f,r,i,v,m,y-c)}var a=_?f:this,s=w?a[u]:u,c=r.length;return v?r=ir(r,v):k&&1<c&&r.reverse(),b&&m<c&&(r.length=m),this&&this!==As&&this instanceof t&&(s=I||dn(s)),s.apply(a,r)}}function yn(a,s){return function(t,e){return n=t,r=a,o=s(e),i={},Zt(n,function(t,e,n){r(i,o(t),e,n)}),i;var n,r,o,i}}function bn(r,o){return function(t,e){var n;if(t===ia&&e===ia)return o;if(t!==ia&&(n=t),e!==ia){if(n===ia)return e;e="string"==typeof t||"string"==typeof e?(t=$e(t),$e(e)):(t=Re(t),Re(e)),n=r(t,e)}return n}}function _n(r){return jn(function(t){return t=Ws(t,ac($n())),Ee(function(e){var n=this;return r(t,function(t){return Ps(t,n,e)})})})}function wn(t,e){var n=(e=e===ia?" ":$e(e)).length;if(n<2)return n?Te(e,t):e;var r=Te(e,U(t/_c(e)));return gc(e)?Ze(wc(r),0,t).join(""):r.slice(0,t)}function xn(r){return function(t,e,n){return n&&"number"!=typeof n&&Gn(t,e,n)&&(e=n=ia),t=Yo(t),e===ia?(e=t,t=0):e=Yo(e),function(t,e,n,r){for(var o=-1,i=Y(U((e-t)/(n||1)),0),a=S(i);i--;)a[r?i:++o]=t,t+=n;return a}(t,e,n=n===ia?t<e?1:-1:Yo(n),r)}}function kn(n){return function(t,e){return"string"==typeof t&&"string"==typeof e||(t=Go(t),e=Go(e)),n(t,e)}}function In(t,e,n,r,o,i,a,s,c,u){var l=8&e;e|=l?ua:64,4&(e&=~(l?64:ua))||(e&=-4);var f=[t,e,o,l?i:ia,l?a:ia,l?ia:i,l?ia:a,s,c,u],p=n.apply(ia,f);return Kn(t)&&sr(p,f),p.placeholder=r,lr(p,t,e)}function Tn(t){var r=a[t];return function(t,e){if(t=Go(t),(e=null==e?0:J(Jo(e),292))&&V(t)){var n=(Ko(t)+"e").split("e");return+((n=(Ko(r(n[0]+"e"+(+n[1]+e)))+"e").split("e"))[0]+"e"+(+n[1]-e))}return r(t)}}var En=rt&&1/bc(new rt([,-0]))[1]==fa?function(t){return new rt(t)}:Bi;function Mn(a){return function(t){var e,n,r,o,i=Wn(t);return i==ka?vc(t):i==Sa?(n=t,r=-1,o=Array(n.size),n.forEach(function(t){o[++r]=[t,t]}),o):Ws(a(e=t),function(t){return[t,e[t]]})}}function Sn(t,e,n,r,o,i,a,s){var c=2&e;if(!c&&"function"!=typeof t)throw new C(aa);var u,l,f=r?r.length:0;f||(e&=-97,r=o=ia),a=a===ia?a:Y(Jo(a),0),s=s===ia?s:Jo(s),f-=o?o.length:0,64&e&&(u=r,l=o,r=o=ia);var p,h,d,g,v,m,y,b,_,w,x,k,I,T,E=c?ia:Ln(t),M=[t,e,n,r,o,u,l,i,a,s];return E&&function(t,e){var n=t[1],r=e[1],o=n|r,i=o<131,a=r==la&&8==n||r==la&&256==n&&t[7].length<=e[8]||384==r&&e[7].length<=e[8]&&8==n;if(!i&&!a)return;1&r&&(t[2]=e[2],o|=1&n?0:4);var s,c=e[3];c&&(s=t[3],t[3]=s?rn(s,c,e[4]):c,t[4]=s?yc(t[3],ca):e[4]),(c=e[5])&&(s=t[5],t[5]=s?on(s,c,e[6]):c,t[6]=s?yc(t[5],ca):e[6]),(c=e[7])&&(t[7]=c),r&la&&(t[8]=null==t[8]?e[8]:J(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=o}(M,E),t=M[0],e=M[1],n=M[2],r=M[3],o=M[4],!(s=M[9]=M[9]===ia?c?0:t.length:Y(M[9]-f,0))&&24&e&&(e&=-25),p=e&&1!=e?8==e||16==e?(k=e,I=s,T=dn(x=t),function t(){for(var e=arguments.length,n=S(e),r=e,o=Rn(t);r--;)n[r]=arguments[r];var i=e<3&&n[0]!==o&&n[e-1]!==o?[]:yc(n,o);return(e-=i.length)<I?In(x,k,mn,t.placeholder,ia,n,i,ia,ia,I-e):Ps(this&&this!==As&&this instanceof t?T:x,this,n)}):e!=ua&&33!=e||o.length?mn.apply(ia,M):(y=n,b=r,_=1&e,w=dn(m=t),function t(){for(var e=-1,n=arguments.length,r=-1,o=b.length,i=S(o+n),a=this&&this!==As&&this instanceof t?w:m;++r<o;)i[r]=b[r];for(;n--;)i[r++]=arguments[++e];return Ps(a,_?y:this,i)}):(d=n,g=1&e,v=dn(h=t),function t(){return(this&&this!==As&&this instanceof t?v:h).apply(g?d:this,arguments)}),lr((E?Ce:sr)(p,M),t,e)}function An(t,e,n,r){return t===ia||_o(t,f[n])&&!I.call(r,n)?e:t}function Cn(t,e,n,r,o,i){return Oo(t)&&Oo(e)&&(i.set(e,t),ye(t,e,ia,Cn,i),i.delete(e)),t}function zn(t){return Ro(t)?ia:t}function Nn(t,e,n,r,o,i){var a=1&n,s=t.length,c=e.length;if(s!=c&&!(a&&s<c))return!1;var u=i.get(t),l=i.get(e);if(u&&l)return u==e&&l==t;var f=-1,p=!0,h=2&n?new Tt:ia;for(i.set(t,e),i.set(e,t);++f<s;){var d,g=t[f],v=e[f];if(r&&(d=a?r(v,g,f,e,t,i):r(g,v,f,t,e,i)),d!==ia){if(d)continue;p=!1;break}if(h){if(!Qs(e,function(t,e){if(!cc(h,e)&&(g===t||o(g,t,n,r,i)))return h.push(e)})){p=!1;break}}else if(g!==v&&!o(g,v,n,r,i)){p=!1;break}}return i.delete(t),i.delete(e),p}function jn(t){return ur(rr(t,ia,Ir),t+"")}function On(t){return ee(t,fi,Fn)}function Dn(t){return ee(t,pi,Vn)}var Ln=at?function(t){return at.get(t)}:Bi;function Pn(t){for(var e=t.name+"",n=st[e],r=I.call(st,e)?n.length:0;r--;){var o=n[r],i=o.func;if(null==i||i==t)return o.name}return e}function Rn(t){return(I.call(vt,"placeholder")?vt:t).placeholder}function $n(){var t=(t=vt.iteratee||Ri)===Ri?pe:t;return arguments.length?t(arguments[0],arguments[1]):t}function Un(t,e){var n,r,o=t.__data__;return("string"==(r=Ic(n=e))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?o["string"==typeof e?"string":"hash"]:o.map}function Hn(t){for(var e=fi(t),n=e.length;n--;){var r=e[n],o=t[r];e[n]=[r,o,er(o)]}return e}function Bn(t,e){var n=null==t?ia:t[e];return fe(n)?n:ia}var Fn=B?function(e){return null==e?[]:(e=k(e),Bs(B(e),function(t){return z.call(e,t)}))}:Qi,Vn=B?function(t){for(var e=[];t;)qs(e,Fn(t)),t=E(t);return e}:Qi,Wn=ne;function qn(t,e,n){for(var r=-1,o=(e=Qe(e,t)).length,i=!1;++r<o;){var a=vr(e[r]);if(!(i=null!=t&&n(t,a)))break;t=t[a]}return i||++r!=o?i:!!(o=null==t?0:t.length)&&jo(o)&&Qn(a,o)&&(Io(t)||ko(t))}function Yn(t){return"function"!=typeof t.constructor||tr(t)?{}:mt(E(t))}function Jn(t){return Io(t)||ko(t)||!!(j&&t&&t[j])}function Qn(t,e){var n=Ic(t);return!!(e=null==e?pa:e)&&("number"==n||"symbol"!=n&&vs.test(t))&&-1<t&&t%1==0&&t<e}function Gn(t,e,n){if(!Oo(n))return!1;var r=Ic(e);return!!("number"==r?Eo(n)&&Qn(e,n.length):"string"==r&&e in n)&&_o(n[e],t)}function Zn(t,e){if(Io(t))return!1;var n=Ic(t);return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!Bo(t))||Ka.test(t)||!G.test(t)||null!=e&&t in k(e)}function Kn(t){var e=Pn(t),n=vt[e];if("function"!=typeof n||!(e in wt.prototype))return!1;if(t===n)return!0;var r=Ln(n);return!!r&&t===r[0]}(tt&&Wn(new tt(new ArrayBuffer(1)))!=Na||et&&Wn(new et)!=ka||nt&&Wn(nt.resolve())!=Ea||rt&&Wn(new rt)!=Sa||ot&&Wn(new ot)!=za)&&(Wn=function(t){var e=ne(t),n=e==Ta?t.constructor:ia,r=n?mr(n):"";if(r)switch(r){case ct:return Na;case ut:return ka;case lt:return Ea;case ft:return Sa;case pt:return za}return e});var Xn=u?zo:Gi;function tr(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||f)}function er(t){return t==t&&!Oo(t)}function nr(e,n){return function(t){return null!=t&&t[e]===n&&(n!==ia||e in k(t))}}function rr(i,a,s){return a=Y(a===ia?i.length-1:a,0),function(){for(var t=arguments,e=-1,n=Y(t.length-a,0),r=S(n);++e<n;)r[e]=t[a+e];e=-1;for(var o=S(a+1);++e<a;)o[e]=t[e];return o[a]=s(r),Ps(i,this,o)}}function or(t,e){return e.length<2?t:te(t,je(e,0,-1))}function ir(t,e){for(var n=t.length,r=J(e.length,n),o=an(t);r--;){var i=e[r];t[r]=Qn(i,n)?o[i]:ia}return t}function ar(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}var sr=fr(Ce),cr=$||function(t,e){return As.setTimeout(t,e)},ur=fr(ze);function lr(t,e,n){var r,o,i,a=e+"";return ur(t,function(t,e){var n=e.length;if(!n)return t;var r=n-1;return e[r]=(1<n?"& ":"")+e[r],e=e.join(2<n?", ":" "),t.replace(is,"{\n/* [wrapped with "+e+"] */\n")}(a,(i=a.match(as),r=i?i[1].split(ss):[],o=n,$s(ga,function(t){var e="_."+t[0];o&t[1]&&!Fs(r,e)&&r.push(e)}),r.sort())))}function fr(n){var r=0,o=0;return function(){var t=Q(),e=16-(t-o);if(o=t,0<e){if(800<=++r)return arguments[0]}else r=0;return n.apply(ia,arguments)}}function pr(t,e){var n=-1,r=t.length,o=r-1;for(e=e===ia?r:e;++n<e;){var i=Ie(n,o),a=t[i];t[i]=t[n],t[n]=a}return t.length=e,t}var hr,dr,gr=(dr=(hr=ho(function(t){var o=[];return 46===t.charCodeAt(0)&&o.push(""),t.replace(Xa,function(t,e,n,r){o.push(n?r.replace(us,"$1"):e||t)}),o},function(t){return 500===dr.size&&dr.clear(),t})).cache,hr);function vr(t){if("string"==typeof t||Bo(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function mr(t){if(null!=t){try{return p.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function yr(t){if(t instanceof wt)return t.clone();var e=new _t(t.__wrapped__,t.__chain__);return e.__actions__=an(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var br=Ee(function(t,e){return Mo(t)?Bt(t,Jt(e,1,Mo,!0)):[]}),_r=Ee(function(t,e){var n=Ar(e);return Mo(n)&&(n=ia),Mo(t)?Bt(t,Jt(e,1,Mo,!0),$n(n,2)):[]}),wr=Ee(function(t,e){var n=Ar(e);return Mo(n)&&(n=ia),Mo(t)?Bt(t,Jt(e,1,Mo,!0),ia,n):[]});function xr(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var o=null==n?0:Jo(n);return o<0&&(o=Y(r+o,0)),Zs(t,$n(e,3),o)}function kr(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var o=r-1;return n!==ia&&(o=Jo(n),o=n<0?Y(r+o,0):J(o,r-1)),Zs(t,$n(e,3),o,!0)}function Ir(t){return null!=t&&t.length?Jt(t,1):[]}function Tr(t){return t&&t.length?t[0]:ia}var Er=Ee(function(t){var e=Ws(t,Ye);return e.length&&e[0]===t[0]?ae(e):[]}),Mr=Ee(function(t){var e=Ar(t),n=Ws(t,Ye);return e===Ar(n)?e=ia:n.pop(),n.length&&n[0]===t[0]?ae(n,$n(e,2)):[]}),Sr=Ee(function(t){var e=Ar(t),n=Ws(t,Ye);return(e="function"==typeof e?e:ia)&&n.pop(),n.length&&n[0]===t[0]?ae(n,ia,e):[]});function Ar(t){var e=null==t?0:t.length;return e?t[e-1]:ia}var Cr=Ee(zr);function zr(t,e){return t&&t.length&&e&&e.length?xe(t,e):t}var Nr=jn(function(t,e){var n=null==t?0:t.length,r=Pt(t,e);return ke(t,Ws(e,function(t){return Qn(t,n)?+t:t}).sort(nn)),r});function jr(t){return null==t?t:X.call(t)}var Or=Ee(function(t){return Ue(Jt(t,1,Mo,!0))}),Dr=Ee(function(t){var e=Ar(t);return Mo(e)&&(e=ia),Ue(Jt(t,1,Mo,!0),$n(e,2))}),Lr=Ee(function(t){var e="function"==typeof(e=Ar(t))?e:ia;return Ue(Jt(t,1,Mo,!0),ia,e)});function Pr(e){if(!e||!e.length)return[];var n=0;return e=Bs(e,function(t){if(Mo(t))return n=Y(t.length,n),!0}),ic(n,function(t){return Ws(e,nc(t))})}function Rr(t,e){if(!t||!t.length)return[];var n=Pr(t);return null==e?n:Ws(n,function(t){return Ps(e,ia,t)})}var $r=Ee(function(t,e){return Mo(t)?Bt(t,e):[]}),Ur=Ee(function(t){return We(Bs(t,Mo))}),Hr=Ee(function(t){var e=Ar(t);return Mo(e)&&(e=ia),We(Bs(t,Mo),$n(e,2))}),Br=Ee(function(t){var e="function"==typeof(e=Ar(t))?e:ia;return We(Bs(t,Mo),ia,e)}),Fr=Ee(Pr),Vr=Ee(function(t){var e=t.length,n="function"==typeof(n=1<e?t[e-1]:ia)?(t.pop(),n):ia;return Rr(t,n)});function Wr(t){var e=vt(t);return e.__chain__=!0,e}function qr(t,e){return e(t)}var Yr=jn(function(e){var n=e.length,t=n?e[0]:0,r=this.__wrapped__,o=function(t){return Pt(t,e)};return!(1<n||this.__actions__.length)&&r instanceof wt&&Qn(t)?((r=r.slice(t,+t+(n?1:0))).__actions__.push({func:qr,args:[o],thisArg:ia}),new _t(r,this.__chain__).thru(function(t){return n&&!t.length&&t.push(ia),t})):this.thru(o)}),Jr=cn(function(t,e,n){I.call(t,n)?++t[n]:Lt(t,n,1)}),Qr=gn(xr),Gr=gn(kr);function Zr(t,e){return(Io(t)?$s:Ft)(t,$n(e,3))}function Kr(t,e){return(Io(t)?Us:Vt)(t,$n(e,3))}var Xr=cn(function(t,e,n){I.call(t,n)?t[n].push(e):Lt(t,n,[e])}),to=Ee(function(t,e,n){var r=-1,o="function"==typeof e,i=Eo(t)?S(t.length):[];return Ft(t,function(t){i[++r]=o?Ps(e,t,n):se(t,e,n)}),i}),eo=cn(function(t,e,n){Lt(t,n,e)});function no(t,e){return(Io(t)?Ws:ge)(t,$n(e,3))}var ro=cn(function(t,e,n){t[n?0:1].push(e)},function(){return[[],[]]}),oo=Ee(function(t,e){if(null==t)return[];var n=e.length;return 1<n&&Gn(t,e[0],e[1])?e=[]:2<n&&Gn(e[0],e[1],e[2])&&(e=[e[0]]),_e(t,Jt(e,1),[])}),io=R||function(){return As.Date.now()};function ao(t,e,n){return e=n?ia:e,e=t&&null==e?t.length:e,Sn(t,la,ia,ia,ia,ia,e)}function so(t,e){var n;if("function"!=typeof e)throw new C(aa);return t=Jo(t),function(){return 0<--t&&(n=e.apply(this,arguments)),t<=1&&(e=ia),n}}var co=Ee(function(t,e,n){var r,o=1;return n.length&&(r=yc(n,Rn(co)),o|=ua),Sn(t,o,e,n,r)}),uo=Ee(function(t,e,n){var r,o=3;return n.length&&(r=yc(n,Rn(uo)),o|=ua),Sn(e,o,t,n,r)});function lo(r,n,t){var o,i,a,s,c,u,l=0,e=!1,f=!1,p=!0;if("function"!=typeof r)throw new C(aa);function h(t){var e=o,n=i;return o=i=ia,l=t,s=r.apply(n,e)}function d(t){return l=t,c=cr(v,n),e?h(t):s}function g(t){var e=t-u;return u===ia||n<=e||e<0||f&&a<=t-l}function v(){var t,e=io();if(g(e))return m(e);c=cr(v,(t=n-(e-u),f?J(t,a-(e-l)):t))}function m(t){return c=ia,p&&o?h(t):(o=i=ia,s)}function y(){var t=io(),e=g(t);if(o=arguments,i=this,u=t,e){if(c===ia)return d(u);if(f)return Ke(c),c=cr(v,n),h(u)}return c===ia&&(c=cr(v,n)),s}return n=Go(n)||0,Oo(t)&&(e=!!t.leading,a=(f="maxWait"in t)?Y(Go(t.maxWait)||0,n):a,p="trailing"in t?!!t.trailing:p),y.cancel=function(){c!==ia&&Ke(c),l=0,o=u=i=c=ia},y.flush=function(){return c===ia?s:m(io())},y}var fo=Ee(function(t,e){return Ht(t,1,e)}),po=Ee(function(t,e,n){return Ht(t,Go(e)||0,n)});function ho(i,a){if("function"!=typeof i||null!=a&&"function"!=typeof a)throw new C(aa);var t=function t(){var e=arguments,n=a?a.apply(this,e):e[0],r=t.cache;if(r.has(n))return r.get(n);var o=i.apply(this,e);return t.cache=r.set(n,o)||r,o};return t.cache=new(ho.Cache||It),t}function go(e){if("function"!=typeof e)throw new C(aa);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}ho.Cache=It;var vo=Ge(function(r,o){var i=(o=1==o.length&&Io(o[0])?Ws(o[0],ac($n())):Ws(Jt(o,1),ac($n()))).length;return Ee(function(t){for(var e=-1,n=J(t.length,i);++e<n;)t[e]=o[e].call(this,t[e]);return Ps(r,this,t)})}),mo=Ee(function(t,e){var n=yc(e,Rn(mo));return Sn(t,ua,ia,e,n)}),yo=Ee(function(t,e){var n=yc(e,Rn(yo));return Sn(t,64,ia,e,n)}),bo=jn(function(t,e){return Sn(t,256,ia,ia,ia,e)});function _o(t,e){return t===e||t!=t&&e!=e}var wo=kn(re),xo=kn(function(t,e){return e<=t}),ko=ce(function(){return arguments}())?ce:function(t){return Do(t)&&I.call(t,"callee")&&!z.call(t,"callee")},Io=S.isArray,To=zs?ac(zs):function(t){return Do(t)&&ne(t)==A};function Eo(t){return null!=t&&jo(t.length)&&!zo(t)}function Mo(t){return Do(t)&&Eo(t)}var So=F||Gi,Ao=Ns?ac(Ns):function(t){return Do(t)&&ne(t)==ba};function Co(t){if(!Do(t))return!1;var e=ne(t);return e==_a||"[object DOMException]"==e||"string"==typeof t.message&&"string"==typeof t.name&&!Ro(t)}function zo(t){if(!Oo(t))return!1;var e=ne(t);return e==wa||e==xa||"[object AsyncFunction]"==e||"[object Proxy]"==e}function No(t){return"number"==typeof t&&t==Jo(t)}function jo(t){return"number"==typeof t&&-1<t&&t%1==0&&t<=pa}function Oo(t){var e=Ic(t);return null!=t&&("object"==e||"function"==e)}function Do(t){return null!=t&&"object"==Ic(t)}var Lo=js?ac(js):function(t){return Do(t)&&Wn(t)==ka};function Po(t){return"number"==typeof t||Do(t)&&ne(t)==Ia}function Ro(t){if(!Do(t)||ne(t)!=Ta)return!1;var e=E(t);if(null===e)return!0;var n=I.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&p.call(n)==m}var $o=Os?ac(Os):function(t){return Do(t)&&ne(t)==Ma},Uo=Ds?ac(Ds):function(t){return Do(t)&&Wn(t)==Sa};function Ho(t){return"string"==typeof t||!Io(t)&&Do(t)&&ne(t)==Aa}function Bo(t){return"symbol"==Ic(t)||Do(t)&&ne(t)==Ca}var Fo=Ls?ac(Ls):function(t){return Do(t)&&jo(t.length)&&!!Ts[ne(t)]},Vo=kn(de),Wo=kn(function(t,e){return t<=e});function qo(t){if(!t)return[];if(Eo(t))return(Ho(t)?wc:an)(t);if(O&&t[O])return function(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}(t[O]());var e=Wn(t);return(e==ka?vc:e==Sa?bc:_i)(t)}function Yo(t){return t?(t=Go(t))===fa||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}function Jo(t){var e=Yo(t),n=e%1;return e==e?n?e-n:e:0}function Qo(t){return t?Rt(Jo(t),0,da):0}function Go(t){if("number"==typeof t)return t;if(Bo(t))return ha;var e;if(Oo(t)&&(t=Oo(e="function"==typeof t.valueOf?t.valueOf():t)?e+"":e),"string"!=typeof t)return 0===t?t:+t;t=t.replace(ns,"");var n=hs.test(t);return n||gs.test(t)?Ss(t.slice(2),n?2:8):ps.test(t)?ha:+t}function Zo(t){return sn(t,pi(t))}function Ko(t){return null==t?"":$e(t)}var Xo=un(function(t,e){if(tr(e)||Eo(e))sn(e,fi(e),t);else for(var n in e)I.call(e,n)&&Nt(t,n,e[n])}),ti=un(function(t,e){sn(e,pi(e),t)}),ei=un(function(t,e,n,r){sn(e,pi(e),t,r)}),ni=un(function(t,e,n,r){sn(e,fi(e),t,r)}),ri=jn(Pt),oi=Ee(function(t,e){t=k(t);var n=-1,r=e.length,o=2<r?e[2]:ia;for(o&&Gn(e[0],e[1],o)&&(r=1);++n<r;)for(var i=e[n],a=pi(i),s=-1,c=a.length;++s<c;){var u=a[s],l=t[u];(l===ia||_o(l,f[u])&&!I.call(t,u))&&(t[u]=i[u])}return t}),ii=Ee(function(t){return t.push(ia,Cn),Ps(di,ia,t)});function ai(t,e,n){var r=null==t?ia:te(t,e);return r===ia?n:r}function si(t,e){return null!=t&&qn(t,e,ie)}var ci=yn(function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=v.call(e)),t[e]=n},Oi(Pi)),ui=yn(function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=v.call(e)),I.call(t,e)?t[e].push(n):t[e]=[n]},$n),li=Ee(se);function fi(t){return(Eo(t)?Mt:he)(t)}function pi(t){return Eo(t)?Mt(t,!0):function(n){if(!Oo(n))return function(){var t=[];if(null!=n)for(var e in k(n))t.push(e);return t}();var t,e=tr(n),r=[];for(t in n)("constructor"!=t||!e&&I.call(n,t))&&r.push(t);return r}(t)}var hi=un(function(t,e,n){ye(t,e,n)}),di=un(function(t,e,n,r){ye(t,e,n,r)}),gi=jn(function(e,t){var n={};if(null==e)return n;var r=!1;t=Ws(t,function(t){return t=Qe(t,e),r=r||1<t.length,t}),sn(e,Dn(e),n),r&&(n=$t(n,7,zn));for(var o=t.length;o--;)He(n,t[o]);return n}),vi=jn(function(t,e){return null==t?{}:we(n=t,e,function(t,e){return si(n,e)});var n});function mi(t,n){if(null==t)return{};var e=Ws(Dn(t),function(t){return[t]});return n=$n(n),we(t,e,function(t,e){return n(t,e[0])})}var yi=Mn(fi),bi=Mn(pi);function _i(t){return null==t?[]:sc(t,fi(t))}var wi=hn(function(t,e,n){return e=e.toLowerCase(),t+(n?xi(e):e)});function xi(t){return Ci(Ko(t).toLowerCase())}function ki(t){return(t=Ko(t))&&t.replace(ms,pc).replace(ws,"")}var Ii=hn(function(t,e,n){return t+(n?"-":"")+e.toLowerCase()}),Ti=hn(function(t,e,n){return t+(n?" ":"")+e.toLowerCase()}),Ei=pn("toLowerCase"),Mi=hn(function(t,e,n){return t+(n?"_":"")+e.toLowerCase()}),Si=hn(function(t,e,n){return t+(n?" ":"")+Ci(e)}),Ai=hn(function(t,e,n){return t+(n?" ":"")+e.toUpperCase()}),Ci=pn("toUpperCase");function zi(t,e,n){return t=Ko(t),(e=n?ia:e)===ia?ks.test(t)?t.match(xs)||[]:t.match(cs)||[]:t.match(e)||[]}var Ni=Ee(function(t,e){try{return Ps(t,ia,e)}catch(t){return Co(t)?t:new o(t)}}),ji=jn(function(e,t){return $s(t,function(t){t=vr(t),Lt(e,t,co(e[t],e))}),e});function Oi(t){return function(){return t}}var Di=vn(),Li=vn(!0);function Pi(t){return t}function Ri(t){return pe("function"==typeof t?t:$t(t,1))}var $i=Ee(function(e,n){return function(t){return se(t,e,n)}}),Ui=Ee(function(e,n){return function(t){return se(e,t,n)}});function Hi(r,e,t){var n=fi(e),o=Xt(e,n);null!=t||Oo(e)&&(o.length||!n.length)||(t=e,e=r,r=this,o=Xt(e,fi(e)));var i=!(Oo(t)&&"chain"in t&&!t.chain),a=zo(r);return $s(o,function(t){var n=e[t];r[t]=n,a&&(r.prototype[t]=function(){var t=this.__chain__;if(i||t){var e=r(this.__wrapped__);return(e.__actions__=an(this.__actions__)).push({func:n,args:arguments,thisArg:r}),e.__chain__=t,e}return n.apply(r,qs([this.value()],arguments))})}),r}function Bi(){}var Fi=_n(Ws),Vi=_n(Hs),Wi=_n(Qs);function qi(t){return Zn(t)?nc(vr(t)):(e=t,function(t){return te(t,e)});var e}var Yi=xn(),Ji=xn(!0);function Qi(){return[]}function Gi(){return!1}var Zi,Ki=bn(function(t,e){return t+e},0),Xi=Tn("ceil"),ta=bn(function(t,e){return t/e},1),ea=Tn("floor"),na=bn(function(t,e){return t*e},1),ra=Tn("round"),oa=bn(function(t,e){return t-e},0);return vt.after=function(t,e){if("function"!=typeof e)throw new C(aa);return t=Jo(t),function(){if(--t<1)return e.apply(this,arguments)}},vt.ary=ao,vt.assign=Xo,vt.assignIn=ti,vt.assignInWith=ei,vt.assignWith=ni,vt.at=ri,vt.before=so,vt.bind=co,vt.bindAll=ji,vt.bindKey=uo,vt.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return Io(t)?t:[t]},vt.chain=Wr,vt.chunk=function(t,e,n){e=(n?Gn(t,e,n):e===ia)?1:Y(Jo(e),0);var r=null==t?0:t.length;if(!r||e<1)return[];for(var o=0,i=0,a=S(U(r/e));o<r;)a[i++]=je(t,o,o+=e);return a},vt.compact=function(t){for(var e=-1,n=null==t?0:t.length,r=0,o=[];++e<n;){var i=t[e];i&&(o[r++]=i)}return o},vt.concat=function(){var t=arguments.length;if(!t)return[];for(var e=S(t-1),n=arguments[0],r=t;r--;)e[r-1]=arguments[r];return qs(Io(n)?an(n):[n],Jt(e,1))},vt.cond=function(r){var o=null==r?0:r.length,e=$n();return r=o?Ws(r,function(t){if("function"!=typeof t[1])throw new C(aa);return[e(t[0]),t[1]]}):[],Ee(function(t){for(var e=-1;++e<o;){var n=r[e];if(Ps(n[0],this,t))return Ps(n[1],this,t)}})},vt.conforms=function(t){return e=$t(t,1),n=fi(e),function(t){return Ut(t,e,n)};var e,n},vt.constant=Oi,vt.countBy=Jr,vt.create=function(t,e){var n=mt(t);return null==e?n:Dt(n,e)},vt.curry=function t(e,n,r){var o=Sn(e,8,ia,ia,ia,ia,ia,n=r?ia:n);return o.placeholder=t.placeholder,o},vt.curryRight=function t(e,n,r){var o=Sn(e,16,ia,ia,ia,ia,ia,n=r?ia:n);return o.placeholder=t.placeholder,o},vt.debounce=lo,vt.defaults=oi,vt.defaultsDeep=ii,vt.defer=fo,vt.delay=po,vt.difference=br,vt.differenceBy=_r,vt.differenceWith=wr,vt.drop=function(t,e,n){var r=null==t?0:t.length;return r?je(t,(e=n||e===ia?1:Jo(e))<0?0:e,r):[]},vt.dropRight=function(t,e,n){var r=null==t?0:t.length;return r?je(t,0,(e=r-(n||e===ia?1:Jo(e)))<0?0:e):[]},vt.dropRightWhile=function(t,e){return t&&t.length?Fe(t,$n(e,3),!0,!0):[]},vt.dropWhile=function(t,e){return t&&t.length?Fe(t,$n(e,3),!0):[]},vt.fill=function(t,e,n,r){var o=null==t?0:t.length;return o?(n&&"number"!=typeof n&&Gn(t,e,n)&&(n=0,r=o),function(t,e,n,r){var o=t.length;for((n=Jo(n))<0&&(n=o<-n?0:o+n),(r=r===ia||o<r?o:Jo(r))<0&&(r+=o),r=r<n?0:Qo(r);n<r;)t[n++]=e;return t}(t,e,n,r)):[]},vt.filter=function(t,e){return(Io(t)?Bs:Yt)(t,$n(e,3))},vt.flatMap=function(t,e){return Jt(no(t,e),1)},vt.flatMapDeep=function(t,e){return Jt(no(t,e),fa)},vt.flatMapDepth=function(t,e,n){return n=n===ia?1:Jo(n),Jt(no(t,e),n)},vt.flatten=Ir,vt.flattenDeep=function(t){return null!=t&&t.length?Jt(t,fa):[]},vt.flattenDepth=function(t,e){return null!=t&&t.length?Jt(t,e=e===ia?1:Jo(e)):[]},vt.flip=function(t){return Sn(t,512)},vt.flow=Di,vt.flowRight=Li,vt.fromPairs=function(t){for(var e=-1,n=null==t?0:t.length,r={};++e<n;){var o=t[e];r[o[0]]=o[1]}return r},vt.functions=function(t){return null==t?[]:Xt(t,fi(t))},vt.functionsIn=function(t){return null==t?[]:Xt(t,pi(t))},vt.groupBy=Xr,vt.initial=function(t){return null!=t&&t.length?je(t,0,-1):[]},vt.intersection=Er,vt.intersectionBy=Mr,vt.intersectionWith=Sr,vt.invert=ci,vt.invertBy=ui,vt.invokeMap=to,vt.iteratee=Ri,vt.keyBy=eo,vt.keys=fi,vt.keysIn=pi,vt.map=no,vt.mapKeys=function(t,r){var o={};return r=$n(r,3),Zt(t,function(t,e,n){Lt(o,r(t,e,n),t)}),o},vt.mapValues=function(t,r){var o={};return r=$n(r,3),Zt(t,function(t,e,n){Lt(o,e,r(t,e,n))}),o},vt.matches=function(t){return ve($t(t,1))},vt.matchesProperty=function(t,e){return me(t,$t(e,1))},vt.memoize=ho,vt.merge=hi,vt.mergeWith=di,vt.method=$i,vt.methodOf=Ui,vt.mixin=Hi,vt.negate=go,vt.nthArg=function(e){return e=Jo(e),Ee(function(t){return be(t,e)})},vt.omit=gi,vt.omitBy=function(t,e){return mi(t,go($n(e)))},vt.once=function(t){return so(2,t)},vt.orderBy=function(t,e,n,r){return null==t?[]:(Io(e)||(e=null==e?[]:[e]),Io(n=r?ia:n)||(n=null==n?[]:[n]),_e(t,e,n))},vt.over=Fi,vt.overArgs=vo,vt.overEvery=Vi,vt.overSome=Wi,vt.partial=mo,vt.partialRight=yo,vt.partition=ro,vt.pick=vi,vt.pickBy=mi,vt.property=qi,vt.propertyOf=function(e){return function(t){return null==e?ia:te(e,t)}},vt.pull=Cr,vt.pullAll=zr,vt.pullAllBy=function(t,e,n){return t&&t.length&&e&&e.length?xe(t,e,$n(n,2)):t},vt.pullAllWith=function(t,e,n){return t&&t.length&&e&&e.length?xe(t,e,ia,n):t},vt.pullAt=Nr,vt.range=Yi,vt.rangeRight=Ji,vt.rearg=bo,vt.reject=function(t,e){return(Io(t)?Bs:Yt)(t,go($n(e,3)))},vt.remove=function(t,e){var n=[];if(!t||!t.length)return n;var r=-1,o=[],i=t.length;for(e=$n(e,3);++r<i;){var a=t[r];e(a,r,t)&&(n.push(a),o.push(r))}return ke(t,o),n},vt.rest=function(t,e){if("function"!=typeof t)throw new C(aa);return Ee(t,e=e===ia?e:Jo(e))},vt.reverse=jr,vt.sampleSize=function(t,e,n){return e=(n?Gn(t,e,n):e===ia)?1:Jo(e),(Io(t)?At:Se)(t,e)},vt.set=function(t,e,n){return null==t?t:Ae(t,e,n)},vt.setWith=function(t,e,n,r){return r="function"==typeof r?r:ia,null==t?t:Ae(t,e,n,r)},vt.shuffle=function(t){return(Io(t)?Ct:Ne)(t)},vt.slice=function(t,e,n){var r=null==t?0:t.length;return r?(n=n&&"number"!=typeof n&&Gn(t,e,n)?(e=0,r):(e=null==e?0:Jo(e),n===ia?r:Jo(n)),je(t,e,n)):[]},vt.sortBy=oo,vt.sortedUniq=function(t){return t&&t.length?Pe(t):[]},vt.sortedUniqBy=function(t,e){return t&&t.length?Pe(t,$n(e,2)):[]},vt.split=function(t,e,n){return n&&"number"!=typeof n&&Gn(t,e,n)&&(e=n=ia),(n=n===ia?da:n>>>0)?(t=Ko(t))&&("string"==typeof e||null!=e&&!$o(e))&&!(e=$e(e))&&gc(t)?Ze(wc(t),0,n):t.split(e,n):[]},vt.spread=function(r,o){if("function"!=typeof r)throw new C(aa);return o=null==o?0:Y(Jo(o),0),Ee(function(t){var e=t[o],n=Ze(t,0,o);return e&&qs(n,e),Ps(r,this,n)})},vt.tail=function(t){var e=null==t?0:t.length;return e?je(t,1,e):[]},vt.take=function(t,e,n){return t&&t.length?je(t,0,(e=n||e===ia?1:Jo(e))<0?0:e):[]},vt.takeRight=function(t,e,n){var r=null==t?0:t.length;return r?je(t,(e=r-(n||e===ia?1:Jo(e)))<0?0:e,r):[]},vt.takeRightWhile=function(t,e){return t&&t.length?Fe(t,$n(e,3),!1,!0):[]},vt.takeWhile=function(t,e){return t&&t.length?Fe(t,$n(e,3)):[]},vt.tap=function(t,e){return e(t),t},vt.throttle=function(t,e,n){var r=!0,o=!0;if("function"!=typeof t)throw new C(aa);return Oo(n)&&(r="leading"in n?!!n.leading:r,o="trailing"in n?!!n.trailing:o),lo(t,e,{leading:r,maxWait:e,trailing:o})},vt.thru=qr,vt.toArray=qo,vt.toPairs=yi,vt.toPairsIn=bi,vt.toPath=function(t){return Io(t)?Ws(t,vr):Bo(t)?[t]:an(gr(Ko(t)))},vt.toPlainObject=Zo,vt.transform=function(t,r,o){var e,n=Io(t),i=n||So(t)||Fo(t);return r=$n(r,4),null==o&&(e=t&&t.constructor,o=i?n?new e:[]:Oo(t)&&zo(e)?mt(E(t)):{}),(i?$s:Zt)(t,function(t,e,n){return r(o,t,e,n)}),o},vt.unary=function(t){return ao(t,1)},vt.union=Or,vt.unionBy=Dr,vt.unionWith=Lr,vt.uniq=function(t){return t&&t.length?Ue(t):[]},vt.uniqBy=function(t,e){return t&&t.length?Ue(t,$n(e,2)):[]},vt.uniqWith=function(t,e){return e="function"==typeof e?e:ia,t&&t.length?Ue(t,ia,e):[]},vt.unset=function(t,e){return null==t||He(t,e)},vt.unzip=Pr,vt.unzipWith=Rr,vt.update=function(t,e,n){return null==t?t:Be(t,e,Je(n))},vt.updateWith=function(t,e,n,r){return r="function"==typeof r?r:ia,null==t?t:Be(t,e,Je(n),r)},vt.values=_i,vt.valuesIn=function(t){return null==t?[]:sc(t,pi(t))},vt.without=$r,vt.words=zi,vt.wrap=function(t,e){return mo(Je(e),t)},vt.xor=Ur,vt.xorBy=Hr,vt.xorWith=Br,vt.zip=Fr,vt.zipObject=function(t,e){return qe(t||[],e||[],Nt)},vt.zipObjectDeep=function(t,e){return qe(t||[],e||[],Ae)},vt.zipWith=Vr,vt.entries=yi,vt.entriesIn=bi,vt.extend=ti,vt.extendWith=ei,Hi(vt,vt),vt.add=Ki,vt.attempt=Ni,vt.camelCase=wi,vt.capitalize=xi,vt.ceil=Xi,vt.clamp=function(t,e,n){return n===ia&&(n=e,e=ia),n!==ia&&(n=(n=Go(n))==n?n:0),e!==ia&&(e=(e=Go(e))==e?e:0),Rt(Go(t),e,n)},vt.clone=function(t){return $t(t,4)},vt.cloneDeep=function(t){return $t(t,5)},vt.cloneDeepWith=function(t,e){return $t(t,5,e="function"==typeof e?e:ia)},vt.cloneWith=function(t,e){return $t(t,4,e="function"==typeof e?e:ia)},vt.conformsTo=function(t,e){return null==e||Ut(t,e,fi(e))},vt.deburr=ki,vt.defaultTo=function(t,e){return null==t||t!=t?e:t},vt.divide=ta,vt.endsWith=function(t,e,n){t=Ko(t),e=$e(e);var r=t.length,o=n=n===ia?r:Rt(Jo(n),0,r);return 0<=(n-=e.length)&&t.slice(n,o)==e},vt.eq=_o,vt.escape=function(t){return(t=Ko(t))&&Ja.test(t)?t.replace(qa,hc):t},vt.escapeRegExp=function(t){return(t=Ko(t))&&es.test(t)?t.replace(ts,"\\$&"):t},vt.every=function(t,e,n){var r=Io(t)?Hs:Wt;return n&&Gn(t,e,n)&&(e=ia),r(t,$n(e,3))},vt.find=Qr,vt.findIndex=xr,vt.findKey=function(t,e){return Gs(t,$n(e,3),Zt)},vt.findLast=Gr,vt.findLastIndex=kr,vt.findLastKey=function(t,e){return Gs(t,$n(e,3),Kt)},vt.floor=ea,vt.forEach=Zr,vt.forEachRight=Kr,vt.forIn=function(t,e){return null==t?t:Qt(t,$n(e,3),pi)},vt.forInRight=function(t,e){return null==t?t:Gt(t,$n(e,3),pi)},vt.forOwn=function(t,e){return t&&Zt(t,$n(e,3))},vt.forOwnRight=function(t,e){return t&&Kt(t,$n(e,3))},vt.get=ai,vt.gt=wo,vt.gte=xo,vt.has=function(t,e){return null!=t&&qn(t,e,oe)},vt.hasIn=si,vt.head=Tr,vt.identity=Pi,vt.includes=function(t,e,n,r){t=Eo(t)?t:_i(t),n=n&&!r?Jo(n):0;var o=t.length;return n<0&&(n=Y(o+n,0)),Ho(t)?n<=o&&-1<t.indexOf(e,n):!!o&&-1<Ks(t,e,n)},vt.indexOf=function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var o=null==n?0:Jo(n);return o<0&&(o=Y(r+o,0)),Ks(t,e,o)},vt.inRange=function(t,e,n){return e=Yo(e),n===ia?(n=e,e=0):n=Yo(n),(r=t=Go(t))>=J(o=e,i=n)&&r<Y(o,i);var r,o,i},vt.invoke=li,vt.isArguments=ko,vt.isArray=Io,vt.isArrayBuffer=To,vt.isArrayLike=Eo,vt.isArrayLikeObject=Mo,vt.isBoolean=function(t){return!0===t||!1===t||Do(t)&&ne(t)==ya},vt.isBuffer=So,vt.isDate=Ao,vt.isElement=function(t){return Do(t)&&1===t.nodeType&&!Ro(t)},vt.isEmpty=function(t){if(null==t)return!0;if(Eo(t)&&(Io(t)||"string"==typeof t||"function"==typeof t.splice||So(t)||Fo(t)||ko(t)))return!t.length;var e,n=Wn(t);if(n==ka||n==Sa)return!t.size;if(tr(t))return!he(t).length;for(e in t)if(I.call(t,e))return!1;return!0},vt.isEqual=function(t,e){return ue(t,e)},vt.isEqualWith=function(t,e,n){var r=(n="function"==typeof n?n:ia)?n(t,e):ia;return r===ia?ue(t,e,ia,n):!!r},vt.isError=Co,vt.isFinite=function(t){return"number"==typeof t&&V(t)},vt.isFunction=zo,vt.isInteger=No,vt.isLength=jo,vt.isMap=Lo,vt.isMatch=function(t,e){return t===e||le(t,e,Hn(e))},vt.isMatchWith=function(t,e,n){return n="function"==typeof n?n:ia,le(t,e,Hn(e),n)},vt.isNaN=function(t){return Po(t)&&t!=+t},vt.isNative=function(t){if(Xn(t))throw new o("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return fe(t)},vt.isNil=function(t){return null==t},vt.isNull=function(t){return null===t},vt.isNumber=Po,vt.isObject=Oo,vt.isObjectLike=Do,vt.isPlainObject=Ro,vt.isRegExp=$o,vt.isSafeInteger=function(t){return No(t)&&-9007199254740991<=t&&t<=pa},vt.isSet=Uo,vt.isString=Ho,vt.isSymbol=Bo,vt.isTypedArray=Fo,vt.isUndefined=function(t){return t===ia},vt.isWeakMap=function(t){return Do(t)&&Wn(t)==za},vt.isWeakSet=function(t){return Do(t)&&"[object WeakSet]"==ne(t)},vt.join=function(t,e){return null==t?"":W.call(t,e)},vt.kebabCase=Ii,vt.last=Ar,vt.lastIndexOf=function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var o=r;return n!==ia&&(o=(o=Jo(n))<0?Y(r+o,0):J(o,r-1)),e==e?function(t,e){for(var n=o+1;n--;)if(t[n]===e)return n;return n}(t,e):Zs(t,tc,o,!0)},vt.lowerCase=Ti,vt.lowerFirst=Ei,vt.lt=Vo,vt.lte=Wo,vt.max=function(t){return t&&t.length?qt(t,Pi,re):ia},vt.maxBy=function(t,e){return t&&t.length?qt(t,$n(e,2),re):ia},vt.mean=function(t){return ec(t,Pi)},vt.meanBy=function(t,e){return ec(t,$n(e,2))},vt.min=function(t){return t&&t.length?qt(t,Pi,de):ia},vt.minBy=function(t,e){return t&&t.length?qt(t,$n(e,2),de):ia},vt.stubArray=Qi,vt.stubFalse=Gi,vt.stubObject=function(){return{}},vt.stubString=function(){return""},vt.stubTrue=function(){return!0},vt.multiply=na,vt.nth=function(t,e){return t&&t.length?be(t,Jo(e)):ia},vt.noConflict=function(){return As._===this&&(As._=y),this},vt.noop=Bi,vt.now=io,vt.pad=function(t,e,n){t=Ko(t);var r=(e=Jo(e))?_c(t):0;if(!e||e<=r)return t;var o=(e-r)/2;return wn(H(o),n)+t+wn(U(o),n)},vt.padEnd=function(t,e,n){t=Ko(t);var r=(e=Jo(e))?_c(t):0;return e&&r<e?t+wn(e-r,n):t},vt.padStart=function(t,e,n){t=Ko(t);var r=(e=Jo(e))?_c(t):0;return e&&r<e?wn(e-r,n)+t:t},vt.parseInt=function(t,e,n){return e=n||null==e?0:e&&+e,Z(Ko(t).replace(rs,""),e||0)},vt.random=function(t,e,n){var r;if(n&&"boolean"!=typeof n&&Gn(t,e,n)&&(e=n=ia),n===ia&&("boolean"==typeof e?(n=e,e=ia):"boolean"==typeof t&&(n=t,t=ia)),t===ia&&e===ia?(t=0,e=1):(t=Yo(t),e===ia?(e=t,t=0):e=Yo(e)),e<t&&(r=t,t=e,e=r),n||t%1||e%1){var o=K();return J(t+o*(e-t+Ms("1e-"+((o+"").length-1))),e)}return Ie(t,e)},vt.reduce=function(t,e,n){var r=Io(t)?Ys:rc,o=arguments.length<3;return r(t,$n(e,4),n,o,Ft)},vt.reduceRight=function(t,e,n){var r=Io(t)?Js:rc,o=arguments.length<3;return r(t,$n(e,4),n,o,Vt)},vt.repeat=function(t,e,n){return e=(n?Gn(t,e,n):e===ia)?1:Jo(e),Te(Ko(t),e)},vt.replace=function(){var t=arguments,e=Ko(t[0]);return t.length<3?e:e.replace(t[1],t[2])},vt.result=function(t,e,n){var r=-1,o=(e=Qe(e,t)).length;for(o||(o=1,t=ia);++r<o;){var i=null==t?ia:t[vr(e[r])];i===ia&&(r=o,i=n),t=zo(i)?i.call(t):i}return t},vt.round=ra,vt.runInContext=t,vt.sample=function(t){return(Io(t)?St:Me)(t)},vt.size=function(t){if(null==t)return 0;if(Eo(t))return Ho(t)?_c(t):t.length;var e=Wn(t);return e==ka||e==Sa?t.size:he(t).length},vt.snakeCase=Mi,vt.some=function(t,e,n){var r=Io(t)?Qs:Oe;return n&&Gn(t,e,n)&&(e=ia),r(t,$n(e,3))},vt.sortedIndex=function(t,e){return De(t,e)},vt.sortedIndexBy=function(t,e,n){return Le(t,e,$n(n,2))},vt.sortedIndexOf=function(t,e){var n=null==t?0:t.length;if(n){var r=De(t,e);if(r<n&&_o(t[r],e))return r}return-1},vt.sortedLastIndex=function(t,e){return De(t,e,!0)},vt.sortedLastIndexBy=function(t,e,n){return Le(t,e,$n(n,2),!0)},vt.sortedLastIndexOf=function(t,e){if(null!=t&&t.length){var n=De(t,e,!0)-1;if(_o(t[n],e))return n}return-1},vt.startCase=Si,vt.startsWith=function(t,e,n){return t=Ko(t),n=null==n?0:Rt(Jo(n),0,t.length),e=$e(e),t.slice(n,n+e.length)==e},vt.subtract=oa,vt.sum=function(t){return t&&t.length?oc(t,Pi):0},vt.sumBy=function(t,e){return t&&t.length?oc(t,$n(e,2)):0},vt.template=function(a,t,e){var n=vt.templateSettings;e&&Gn(a,t,e)&&(t=ia),a=Ko(a),t=ei({},t,n,An);var s,c,r=ei({},t.imports,n.imports,An),o=sc(r,fi(r)),u=0,i=t.interpolate||ys,l="__p += '",f=d((t.escape||ys).source+"|"+i.source+"|"+(i===Za?ls:ys).source+"|"+(t.evaluate||ys).source+"|$","g");I.call(t,"sourceURL")&&(t.sourceURL+"").replace(/\s/g," "),a.replace(f,function(t,e,n,r,o,i){return n=n||r,l+=a.slice(u,i).replace(bs,dc),e&&(s=!0,l+="' +\n__e("+e+") +\n'"),o&&(c=!0,l+="';\n"+o+";\n__p += '"),n&&(l+="' +\n((__t = ("+n+")) == null ? '' : __t) +\n'"),u=i+t.length,t}),l+="';\n";var p=I.call(t,"variable")&&t.variable;p||(l="with (obj) {\n"+l+"\n}\n"),l=(c?l.replace(Ba,""):l).replace(Fa,"$1").replace(Va,"$1;"),l="function("+(p||"obj")+") {\n"+(p?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(s?", __e = _.escape":"")+(c?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+l+"return __p\n}";var h=Ni(function(){return function(){}.apply(ia,o)});if(h.source=l,Co(h))throw h;return h},vt.times=function(t,e){if((t=Jo(t))<1||pa<t)return[];var n=da,r=J(t,da);e=$n(e),t-=da;for(var o=ic(r,e);++n<t;)e(n);return o},vt.toFinite=Yo,vt.toInteger=Jo,vt.toLength=Qo,vt.toLower=function(t){return Ko(t).toLowerCase()},vt.toNumber=Go,vt.toSafeInteger=function(t){return t?Rt(Jo(t),-9007199254740991,pa):0===t?t:0},vt.toString=Ko,vt.toUpper=function(t){return Ko(t).toUpperCase()},vt.trim=function(t,e,n){if((t=Ko(t))&&(n||e===ia))return t.replace(ns,"");if(!t||!(e=$e(e)))return t;var r=wc(t),o=wc(e);return Ze(r,uc(r,o),lc(r,o)+1).join("")},vt.trimEnd=function(t,e,n){if((t=Ko(t))&&(n||e===ia))return t.replace(os,"");if(!t||!(e=$e(e)))return t;var r=wc(t);return Ze(r,0,lc(r,wc(e))+1).join("")},vt.trimStart=function(t,e,n){if((t=Ko(t))&&(n||e===ia))return t.replace(rs,"");if(!t||!(e=$e(e)))return t;var r=wc(t);return Ze(r,uc(r,wc(e))).join("")},vt.truncate=function(t,e){var n,r=30,o="...";Oo(e)&&(n="separator"in e?e.separator:n,r="length"in e?Jo(e.length):r,o="omission"in e?$e(e.omission):o);var i,a=(t=Ko(t)).length;if(gc(t)&&(a=(i=wc(t)).length),a<=r)return t;var s=r-_c(o);if(s<1)return o;var c,u=i?Ze(i,0,s).join(""):t.slice(0,s);if(n===ia)return u+o;if(i&&(s+=u.length-s),$o(n)){if(t.slice(s).search(n)){var l,f=u;for(n.global||(n=d(n.source,Ko(fs.exec(n))+"g")),n.lastIndex=0;l=n.exec(f);)var p=l.index;u=u.slice(0,p===ia?s:p)}}else t.indexOf($e(n),s)==s||-1<(c=u.lastIndexOf(n))&&(u=u.slice(0,c));return u+o},vt.unescape=function(t){return(t=Ko(t))&&Ya.test(t)?t.replace(Wa,xc):t},vt.uniqueId=function(t){var e=++h;return Ko(t)+e},vt.upperCase=Ai,vt.upperFirst=Ci,vt.each=Zr,vt.eachRight=Kr,vt.first=Tr,Hi(vt,(Zi={},Zt(vt,function(t,e){I.call(vt.prototype,e)||(Zi[e]=t)}),Zi),{chain:!1}),vt.VERSION="4.17.20",$s(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){vt[t].placeholder=vt}),$s(["drop","take"],function(n,r){wt.prototype[n]=function(t){t=t===ia?1:Y(Jo(t),0);var e=this.__filtered__&&!r?new wt(this):this.clone();return e.__filtered__?e.__takeCount__=J(t,e.__takeCount__):e.__views__.push({size:J(t,da),type:n+(e.__dir__<0?"Right":"")}),e},wt.prototype[n+"Right"]=function(t){return this.reverse()[n](t).reverse()}}),$s(["filter","map","takeWhile"],function(t,e){var n=e+1,r=1==n||3==n;wt.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:$n(t,3),type:n}),e.__filtered__=e.__filtered__||r,e}}),$s(["head","last"],function(t,e){var n="take"+(e?"Right":"");wt.prototype[t]=function(){return this[n](1).value()[0]}}),$s(["initial","tail"],function(t,e){var n="drop"+(e?"":"Right");wt.prototype[t]=function(){return this.__filtered__?new wt(this):this[n](1)}}),wt.prototype.compact=function(){return this.filter(Pi)},wt.prototype.find=function(t){return this.filter(t).head()},wt.prototype.findLast=function(t){return this.reverse().find(t)},wt.prototype.invokeMap=Ee(function(e,n){return"function"==typeof e?new wt(this):this.map(function(t){return se(t,e,n)})}),wt.prototype.reject=function(t){return this.filter(go($n(t)))},wt.prototype.slice=function(t,e){t=Jo(t);var n=this;return n.__filtered__&&(0<t||e<0)?new wt(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),e!==ia&&(n=(e=Jo(e))<0?n.dropRight(-e):n.take(e-t)),n)},wt.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},wt.prototype.toArray=function(){return this.take(da)},Zt(wt.prototype,function(f,t){var p=/^(?:filter|find|map|reject)|While$/.test(t),h=/^(?:head|last)$/.test(t),d=vt[h?"take"+("last"==t?"Right":""):t],g=h||/^find/.test(t);d&&(vt.prototype[t]=function(){var t=this.__wrapped__,n=h?[1]:arguments,e=t instanceof wt,r=n[0],o=e||Io(t),i=function(t){var e=d.apply(vt,qs([t],n));return h&&a?e[0]:e};o&&p&&"function"==typeof r&&1!=r.length&&(e=o=!1);var a=this.__chain__,s=!!this.__actions__.length,c=g&&!a,u=e&&!s;if(g||!o)return c&&u?f.apply(this,n):(l=this.thru(i),c?h?l.value()[0]:l.value():l);t=u?t:new wt(this);var l=f.apply(t,n);return l.__actions__.push({func:qr,args:[i],thisArg:ia}),new _t(l,a)})}),$s(["pop","push","shift","sort","splice","unshift"],function(t){var n=s[t],r=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",o=/^(?:pop|shift)$/.test(t);vt.prototype[t]=function(){var e=arguments;if(!o||this.__chain__)return this[r](function(t){return n.apply(Io(t)?t:[],e)});var t=this.value();return n.apply(Io(t)?t:[],e)}}),Zt(wt.prototype,function(t,e){var n,r=vt[e];r&&(n=r.name+"",I.call(st,n)||(st[n]=[]),st[n].push({name:e,func:r}))}),st[mn(ia,2).name]=[{name:"wrapper",func:ia}],wt.prototype.clone=function(){var t=new wt(this.__wrapped__);return t.__actions__=an(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=an(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=an(this.__views__),t},wt.prototype.reverse=function(){var t;return this.__filtered__?((t=new wt(this)).__dir__=-1,t.__filtered__=!0):(t=this.clone()).__dir__*=-1,t},wt.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,n=Io(t),r=e<0,o=n?t.length:0,i=function(t,e,n){for(var r=-1,o=n.length;++r<o;){var i=n[r],a=i.size;switch(i.type){case"drop":t+=a;break;case"dropRight":e-=a;break;case"take":e=J(e,t+a);break;case"takeRight":t=Y(t,e-a)}}return{start:t,end:e}}(0,o,this.__views__),a=i.start,s=i.end,c=s-a,u=r?s:a-1,l=this.__iteratees__,f=l.length,p=0,h=J(c,this.__takeCount__);if(!n||!r&&o==c&&h==c)return Ve(t,this.__actions__);var d=[];t:for(;c--&&p<h;){for(var g=-1,v=t[u+=e];++g<f;){var m=l[g],y=m.iteratee,b=m.type,_=y(v);if(2==b)v=_;else if(!_){if(1==b)continue t;break t}}d[p++]=v}return d},vt.prototype.at=Yr,vt.prototype.chain=function(){return Wr(this)},vt.prototype.commit=function(){return new _t(this.value(),this.__chain__)},vt.prototype.next=function(){this.__values__===ia&&(this.__values__=qo(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?ia:this.__values__[this.__index__++]}},vt.prototype.plant=function(t){for(var e,n=this;n instanceof bt;){var r=yr(n);r.__index__=0,r.__values__=ia,e?o.__wrapped__=r:e=r;var o=r,n=n.__wrapped__}return o.__wrapped__=t,e},vt.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof wt){var e=t;return this.__actions__.length&&(e=new wt(this)),(e=e.reverse()).__actions__.push({func:qr,args:[jr],thisArg:ia}),new _t(e,this.__chain__)}return this.thru(jr)},vt.prototype.toJSON=vt.prototype.valueOf=vt.prototype.value=function(){return Ve(this.__wrapped__,this.__actions__)},vt.prototype.first=vt.prototype.head,O&&(vt.prototype[O]=function(){return this}),vt}();C?((C.exports=kc)._=kc,S._=kc):As._=kc}.call(Bk),jk.exports),Vk=function(){ui(e,di(HTMLElement));var t=yi(e);function e(){var r;return ri(this,e),(r=t.call(this)).__registerHost(),zy(vi(r)),r.showLoading=!1,r.list=[],r.value="",r.maxHeight=300,r.isSearching=!1,r.selectIndex=-2,r.disablePointer=!1,r.throttleOnMouseMove=Fk.throttle(function(){r.disablePointer&&(r.disablePointer=!1)},100),r.confirmCurrentIndex=function(){var t=vi(r),e=t.selectIndex,n=t.list;-1<=e&&n[e]&&r.onConfirm(n[e])},r}return ii(e,[{key:"onListChange",value:function(t){var e=this;setTimeout(function(){return e._setInitSelectIndex(t)},0)}},{key:"onSelectIndexChange",value:function(t){this.scrollToIndex(-2===t?0:t)}},{key:"scrollToIndex",value:function(t){var e,n,r;-2<t&&document.body.scrollIntoView&&(e=this.element.shadowRoot.querySelector(".pano-tag-item-".concat(t)),n=this.element.shadowRoot.querySelector(".pano-list-panel"),e&&n&&((r=e.offsetTop-n.scrollTop)<0?e.scrollIntoView(!0):r>this.maxHeight-32&&e.scrollIntoView(!1)))}},{key:"_setInitSelectIndex",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.list,e=!(!(1<arguments.length&&void 0!==arguments[1])||arguments[1])||!!this.value;this.selectIndex=this._showCreate(t)?-1:this.list.length&&e?0:-2}},{key:"onKeydown",value:function(t){var e=t.key,n=this.onCreate,r=this.onConfirm,o=this.list,i=this.selectIndex,a=this.value,s=this._showCreate();i<-1||-1!==i&&!o[i]||-1===i&&!s?"ArrowDown"===e&&this._setInitSelectIndex(o,!!a):("Enter"===e?-1===i?n():r(o[i]):"ArrowUp"===e?-1===i||0===i?this.selectIndex=0===i&&s?-1:o.length-1:--this.selectIndex:"ArrowDown"===e&&(i===o.length-1?this.selectIndex=s?-1:0:this.selectIndex+=1),["ArrowDown","ArrowUp","Enter"].includes(e)&&(this.disablePointer=!0,t.preventDefault()))}},{key:"onMouseMove",value:function(){this.throttleOnMouseMove()}},{key:"componentDidLoad",value:function(){this._setInitSelectIndex()}},{key:"_showCreate",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.list,e=this.value;return!!e&&!this.showLoading&&t.every(function(t){return t.name.toLowerCase()!==e.toLowerCase()})}},{key:"render",value:function(){var n=this,t=this.onCreate,e=this.list,r=this.value,o=this.selectIndex,i=this.maxHeight,a=this.showLoading,s=this.disablePointer;return Gm(Km,null,Gm("div",{class:"pano-list-panel",style:{maxHeight:"".concat(i,"px")}},Gm("div",{class:"panel-content"},s&&Gm("div",{class:"mask",onClick:this.confirmCurrentIndex}),!r&&!!e.length&&Gm("div",{class:"recommend"},_b("recommend_tags")),this._showCreate()&&Gm("div",{class:"pano-tag-item--1",onMouseOver:function(){n.selectIndex=-1}},Gm("pano-tag-item",{create:!0,selected:-1===o,tagInfo:{id:"",name:r,subscribed:!1,hasAdded:!1,unavailable:!1,owners:[],description:"",permissionType:qy.Private,teamworkerCount:""},onClick:t})),e.length?e.map(function(t,e){return Gm("div",{class:"pano-tag-item-".concat(e),key:t.id,onMouseOver:function(){n.selectIndex=e}},Gm("pano-tag-item",{selected:e===o,tagInfo:t,onClick:n.confirmCurrentIndex,key:t.id}))}):null,a&&Gm("div",{class:"loading-wrapper"},Gm("pano-loading",{size:24})))))}},{key:"element",get:function(){return this}}],[{key:"watchers",get:function(){return{list:["onListChange"],selectIndex:["onSelectIndexChange"]}}},{key:"style",get:function(){return":host{display:block}.pano-list-panel{overflow:auto;position:relative;padding:8px 0}.pano-list-panel .panel-content{position:relative}.pano-list-panel .mask{position:absolute;top:0;left:0;right:0;bottom:0;z-index:1001}.pano-list-panel .recommend{padding:0 12px;color:#646a73;font-size:12px;margin-top:8px;margin-bottom:2px;text-align:left}.pano-list-panel .divider{height:1px;background-color:#dee0e3;margin:9px 12px 7px 12px}.pano-list-panel .empty{height:200px;display:flex;align-items:center;justify-content:center;color:#646A73;font-size:14px}.pano-list-panel .loading-wrapper{height:50px;display:flex;justify-content:center;align-items:center}"}}]),e}(),Wk=function(){ui(n,di(HTMLElement));var e=yi(n);function n(){var t;return ri(this,n),(t=e.call(this)).__registerHost(),zy(vi(t)),t.color="#3370ff",t.size=30,t}return ii(n,[{key:"render",value:function(){return Gm(Km,null,Gm("svg",{width:this.size,height:this.size,viewBox:"25 25 50 50",class:"circular"},Gm("circle",{"stroke-miterlimit":"10","stroke-width":"4",fill:"none",r:"20",cy:"50",cx:"50",class:"path",stroke:this.color})))}}],[{key:"style",get:function(){return":host{display:block}.circular{animation:rotate 2s linear infinite}.circular .path{animation:loading-dash 1.5s ease-in-out infinite;stroke-dasharray:1,200;stroke-dashoffset:0;stroke-linecap:round}@keyframes rotate{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes loading-dash{0%{stroke-dasharray:1, 200;stroke-dashoffset:0}50%{stroke-dasharray:89, 200;stroke-dashoffset:-35px}to{stroke-dasharray:89, 200;stroke-dashoffset:-124px}}"}}]),n}(),qk=new i_('<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n      <path\n        d="M12.2031 19.665C12.0738 19.6075 11.9263 19.6075 11.7971 19.665L5.7366 22.3573C5.38518 22.5134 4.99642 22.2309 5.0363 21.8485L5.72406 15.2526C5.73873 15.112 5.69314 14.9717 5.5986 14.8665L1.16526 9.93463C0.908188 9.64865 1.05668 9.19164 1.43275 9.11138L7.91829 7.72725C8.0566 7.69774 8.17593 7.61104 8.24674 7.48862L11.5673 1.74822C11.7598 1.41536 12.2403 1.41536 12.4329 1.74822L15.7534 7.48862C15.8242 7.61104 15.9436 7.69774 16.0819 7.72725L22.5674 9.11138C22.9435 9.19164 23.092 9.64865 22.8349 9.93463L18.4016 14.8665C18.307 14.9717 18.2614 15.112 18.2761 15.2526L18.9639 21.8485C19.0037 22.2309 18.615 22.5134 18.2636 22.3573L12.2031 19.665Z"\n        fill="#FFC60A"\n      />\n    </svg>',"#FFC60A"),Yk=ck.teaMap,Jk=ck.startTea,Qk=function(){ui(n,di(HTMLElement));var t=yi(n);function n(){var o,e;return ri(this,n),(o=t.call(this)).__registerHost(),o.value="",o.maxHeight=300,o.searchWhenVisible=!1,o.list=[],o.selectIndex=0,o.isSearching=!1,o.coCountTipPos={left:0,top:0},o.teaParams={},o.sessionId=Db(),o.debounceSearchTags=Fk.debounce(function(t){return o.searchTags(t)},300),o.searchTags=(e=ni(regeneratorRuntime.mark(function t(e){var n,r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,vk("mention value change and start search ".concat(e)),t.next=4,$b("/api/SearchTagView",{name:e});case 4:n=t.sent,r=n.tagViews,o.isSearching=!1,o.list=r,o.visible&&Yk.panoMentionInputWord(Object.assign(Object.assign({},o.teaParams),{session_id:o.sessionId,if_input:!!e})),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),o.isSearching=!1,vk(t.t0);case 12:case"end":return t.stop()}},t,null,[[0,9]])})),function(t){return e.apply(this,arguments)}),o.handleConfirm=function(t){o.visible&&(Yk.panoMentionClickResult(Object.assign(Object.assign({},o.teaParams),{session_id:o.sessionId,tag_id:t.id.startsWith("Tag|")?t.id.replace("Tag|",""):t.id,if_input:!!o.value})),console.log("mention confirmItem",t),o.element.dispatchEvent(new CustomEvent("mention-panel-complete",{detail:{data:t||{}},bubbles:!0})))},o.handleMouseOver=function(t){o.selectIndex=t},o}return ii(n,[{key:"onShowCoCountTag",value:function(t){var e,n;t&&this.element&&(e=this.element.querySelector(".pano-mention-panel-wrapper").getBoundingClientRect(),n=this.element.querySelector(".collaborator-icon-".concat(this.trimTagPrefix(t.id))).getBoundingClientRect(),this.coCountTipPos={top:n.top-e.top-10-36,left:n.left-e.left+6})}},{key:"trimTagPrefix",value:function(t){return t.startsWith("Tag|")?t.replace("Tag|",""):t}},{key:"listChange",value:function(t,e){var n;vk("mention list change"),Fk.isEqual(t,e)||(vk("mention list change and list is not equal, start reset select index"),this.resetSelected(),this.element.dispatchEvent((n=this.list,new CustomEvent("mention-panel-data-change",{detail:{data:n},bubbles:!0}))))}},{key:"visibleChange",value:function(t,e){vk("mention visible change"),t!==e&&(vk("mention visible change, start reset select index"),t&&(this.sessionId=Db(),Yk.panoTagMentionBegin(Object.assign(Object.assign({},this.teaParams),{session_id:this.sessionId}))),this.resetSelected())}},{key:"extraChange",value:function(t,e){t&&t!==e&&this.handleExtra(t)}},{key:"resetSelected",value:function(){this.selectIndex=0}},{key:"handleExtra",value:function(t){var e,n,r=this;t&&(n=void 0===(e=JSON.parse(t).teaParams)?{}:e,this.teaParams=n||{},uk(this.teaParams).then(function(t){r.teaParams=t,Jk({userId:t.user_id,isOnline:r.env===bm.ONLINE})}).catch(function(){Jk({userId:r.teaParams.user_id,isOnline:r.env===bm.ONLINE})}))}},{key:"connectedCallback",value:function(){this.env&&(zb.env=this.env),this.locale&&(zb.locale=Wy(this.locale),bb(Wy(this.locale))),this.host&&(zb.host=this.host),this.handleExtra(this.extra)}},{key:"componentWillLoad",value:function(){return this.searchTags(this.value)}},{key:"handleValueChange",value:function(){vk("mention value change ".concat(this.value," ").concat(this.searchWhenVisible)),(this.visible||this.searchWhenVisible)&&("string"==typeof this.value?(this.isSearching=!0,this.debounceSearchTags(this.value)):vk("mention value is not string",this.value))}},{key:"onKeydown",value:function(t){var e,n=t.key,r=this.list,o=this.selectIndex,i=this.element.shadowRoot.getElementById("pano-mention-panel");"ArrowUp"===n?0===o?(i.scrollBy(0,32*r.length),this.selectIndex=r.length-1):(i.scrollTop/32>=o&&i.scrollBy(0,-32),this.selectIndex=o-1):"ArrowDown"===n?o===r.length-1?(i.scrollTo(0,0),this.selectIndex=0):(i.scrollTop/32+i.offsetHeight/32<o+2&&i.scrollBy(0,32),this.selectIndex=o+1):"Enter"===n?(e=this.list[this.selectIndex],vk(e),this.handleConfirm(e)):"Escape"===n&&this.element.dispatchEvent(new CustomEvent("mention-panel-cancel",{detail:{},bubbles:!0}))}},{key:"render",value:function(){var i=this,t=this.list,a=this.selectIndex,e=this.value,n=this.visible,r=this.maxHeight,o=this.width,s=this.coCountTipPos,c=this.showCoCountTag,u=this.trimTagPrefix,l=o?"".concat(o,"px"):"100%";return n?(vk("mention value ".concat(e," isSearching ").concat(this.isSearching)),Gm(Km,null,Gm("div",{class:"pano-mention-panel-wrapper"},Gm("div",{class:"pano-mention-panel",id:"pano-mention-panel",style:{maxHeight:"".concat(r,"px"),width:l}},""===e&&!this.isSearching&&Gm("div",{class:"mention-recommend"},_b("mention_recommend")),0<this.list.length&&t.map(function(t,e){var n=t.permissionType===fk.Public,r=t.permissionType===fk.Private&&t.isAvailable,o=!t.isAvailable;return Gm("div",{key:t.id,class:"pano-mention-tags"},Gm("div",{class:"pano-mention-tag "+(a===e?"active":""),onMouseDown:function(){i.handleConfirm(t)},onMouseOver:function(){return i.handleMouseOver(e)}},Gm("div",{class:"tag-name "+(o?"is-unavail":""),title:t.name},"#",t.name),n&&Gm("div",{class:"label is-public"},Gm("span",null,_b("tag_scope_public"))),o&&Gm("div",{class:"label"},Gm("span",null,_b("no_auth"))),t.isSubscribed&&Gm("pano-common-icon",{class:"pano-collect-icon",image:qk,color:"#FFC60A"}),r&&Gm("div",{class:"collaborator"},Gm("img",{src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTIiIGhlaWdodD0iMTAiIHZpZXdCb3g9IjAgMCAxMiAxMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTQuMjUgMS41QzMuNTYgMS41IDMgMi4wNTk3NSAzIDIuNzVDMyAzLjQ0MDI1IDMuNTYgNCA0LjI1IDRDNC45NCA0IDUuNSAzLjQ0MDI1IDUuNSAyLjc1QzUuNSAyLjA1OTc1IDQuOTQgMS41IDQuMjUgMS41Wk0yIDIuNzVDMiAxLjUwNzI1IDMuMDA3NSAwLjUgNC4yNSAwLjVDNS40OTI1IDAuNSA2LjUgMS41MDcyNSA2LjUgMi43NUM2LjUgMy45OTI3NSA1LjQ5MjUgNSA0LjI1IDVDMy4wMDc1IDUgMiAzLjk5Mjc1IDIgMi43NVpNMi45MTc1IDYuNUMyLjAwNzUgNi41IDEuMjUgNy4yNDkyNSAxLjI1IDguMlY5SDcuMjVWOC4yQzcuMjUgNy4yNDkyNSA2LjQ5MjUgNi41IDUuNTgyNSA2LjVIMi45MTc1Wk0wLjI1IDguMkMwLjI1IDYuNzA4NzUgMS40NDUgNS41IDIuOTE3NSA1LjVINS41ODI1QzcuMDU1IDUuNSA4LjI1IDYuNzA4NzUgOC4yNSA4LjJWOS41NUM4LjI1IDkuNzk4NSA4LjA1IDEwIDcuODA1IDEwSDAuNjk1QzAuNDUgMTAgMC4yNSA5Ljc5ODUgMC4yNSA5LjU1VjguMlpNMTEuNDE3NSA5LjVIOS4xODI1MVY5LjI5NTVWOC41SDEwLjc1VjguMkMxMC43NSA3LjY5OSAxMC4zMjc1IDcuMjUgOS43NTAwMSA3LjI1SDkuMDk1MDFDOS4wMDAwMSA2Ljg4MDUgOC44MzAwMSA2LjU0MTUgOC42MDI1MSA2LjI1SDkuNzUwMDFDMTAuODU1IDYuMjUgMTEuNzUgNy4xMjMgMTEuNzUgOC4yVjkuMTc1QzExLjc1IDkuMzU0NSAxMS42IDkuNSAxMS40MTc1IDkuNVpNOC4yNSA0QzguMjUgMy43MjM3NSA4LjQ3NSAzLjUgOC43NSAzLjVDOS4wMjUgMy41IDkuMjUgMy43MjM3NSA5LjI1IDRDOS4yNSA0LjI3NjI1IDkuMDI1IDQuNSA4Ljc1IDQuNUM4LjQ3NSA0LjUgOC4yNSA0LjI3NjI1IDguMjUgNFpNOC43NSAyLjVDNy45MjI1IDIuNSA3LjI1IDMuMTcxNSA3LjI1IDRDNy4yNSA0LjgyODUgNy45MjI1IDUuNSA4Ljc1IDUuNUM5LjU3NzUgNS41IDEwLjI1IDQuODI4NSAxMC4yNSA0QzEwLjI1IDMuMTcxNSA5LjU3NzUgMi41IDguNzUgMi41WiIgZmlsbD0iI2ZmZmZmZiIvPgo8L3N2Zz4K",class:"icon-collaborator collaborator-icon-".concat(u(t.id||"unknown")),onMouseEnter:function(){i.showCoCountTag=t},onMouseLeave:function(){i.showCoCountTag=void 0}}),Gm("span",{class:"count-num"},t.teamworkerCount||0))))})),!!c&&Gm("div",{class:"tootip",style:{left:"".concat(s.left,"px"),top:"".concat(s.top,"px")}},_b("tag_collaborator_count",{count:c.teamworkerCount||0}))))):null}},{key:"element",get:function(){return this}}],[{key:"watchers",get:function(){return{showCoCountTag:["onShowCoCountTag"],list:["listChange"],visible:["visibleChange"],extra:["extraChange"],value:["handleValueChange"]}}},{key:"style",get:function(){return".pano-mention-panel-wrapper{transform:translate(0, 0)}.pano-mention-panel{overflow-y:auto;background:#FFFFFF;border:1px solid #DEE0E3;box-sizing:border-box;box-shadow:0px 4px 16px rgba(31, 35, 41, 0.1);border-radius:2px;padding:8px 0;width:100%}.pano-mention-panel .mention-recommend{display:flex;align-items:center;margin:4px 12px;font-size:12px;line-height:20px;color:#646A73}.pano-mention-panel .mention-recommend::before{content:'';display:block;height:10px;width:3px;background:#3370FF;border-radius:10px;margin-right:4px}.pano-mention-panel .pano-mention-tags .pano-mention-tag{display:flex;align-items:center;padding:6px 12px;font-size:12px;line-height:20px;color:#1F2329;cursor:pointer}.pano-mention-panel .pano-mention-tags .pano-mention-tag.active{background-color:#3370FF;color:#FFFFFF}.pano-mention-panel .pano-mention-tags .pano-mention-tag.active .tag-name.tag-name.tag-name{color:#FFFFFF}.pano-mention-panel .pano-mention-tags .pano-mention-tag.active .label.label.label{color:#3370FF;background:#FFFFFF}.pano-mention-panel .pano-mention-tags .pano-mention-tag.active .collaborator.collaborator.collaborator{color:#FFFFFF}.pano-mention-panel .pano-mention-tags .pano-mention-tag .tag-name{margin-right:4px;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;color:#1F2329}.pano-mention-panel .pano-mention-tags .pano-mention-tag .tag-name.is-unavail{color:#646A73}.pano-mention-panel .pano-mention-tags .pano-mention-tag .label{padding:0 3px;border-radius:2px;background:rgba(31, 35, 41, 0.1);font-weight:500;font-size:12px;color:#646a73;margin-left:4px;user-select:none;box-sizing:border-box;height:16px;line-height:16px;white-space:nowrap}.pano-mention-panel .pano-mention-tags .pano-mention-tag .label.is-public{color:#245BDB;background:#E1EAFF}.pano-mention-panel .pano-mention-tags .pano-mention-tag .label span{display:block;transform-origin:center;transform:scale(0.83)}.pano-mention-panel .pano-mention-tags .pano-mention-tag .collaborator{display:flex;align-items:center;color:#8F959E;margin-left:4px;opacity:0}.pano-mention-panel .pano-mention-tags .pano-mention-tag .collaborator .icon-collaborator{height:12px;width:12px;margin-right:3px;cursor:pointer}.pano-mention-panel .pano-mention-tags .pano-mention-tag .collaborator .count-num{position:relative;top:1px;font-size:12px;font-weight:normal}.pano-mention-panel .pano-mention-tags .pano-mention-tag .pano-collect-icon{display:flex;align-items:center;margin-left:4px}.pano-mention-panel .pano-mention-tags .pano-mention-tag .pano-collect-icon img{display:block;width:12px;height:12px}.pano-mention-panel .pano-mention-tags:hover .pano-mention-tag .collaborator{opacity:1}.pano-mention-panel .no-content{font-size:14px;line-height:22px;color:#646A73;padding-left:12px}.tootip{z-index:3;position:fixed;box-sizing:border-box;border-radius:4px;background-color:rgba(31, 35, 41, 0.9);padding:8px 12px;line-height:20px;font-size:12px;color:#ffffff;transform:translateX(-50%)}.tootip:after{content:'';display:block;height:0;width:0;border:4px solid transparent;border-top:4px solid rgba(31, 35, 41, 0.9);position:absolute;left:50%;bottom:-8px;transform:translateX(-4px)}"}}]),n}(),Gk=new i_('<svg width="16" height="14" viewBox="0 0 16 14" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M6.16065 0.333496C6.32193 0.333496 6.44629 0.475544 6.42498 0.635406L6.14207 2.75718H10.9894L11.2817 0.564919C11.2994 0.432438 11.4124 0.333496 11.5461 0.333496H12.3829C12.5441 0.333496 12.6685 0.475544 12.6472 0.635406L12.3643 2.75718H14.8445C14.9917 2.75718 15.1111 2.87657 15.1111 3.02385V3.86537C15.1111 4.01264 14.9917 4.13203 14.8445 4.13203H12.181L11.5347 8.9794H13.9556C14.1029 8.9794 14.2222 9.09879 14.2222 9.24607V10.0876C14.2222 10.2349 14.1029 10.3543 13.9556 10.3543H11.3514L10.9405 13.4354C10.9229 13.5679 10.8099 13.6668 10.6762 13.6668H9.8394C9.67813 13.6668 9.55376 13.5248 9.57508 13.3649L9.9765 10.3543H5.12913L4.71831 13.4354C4.70065 13.5679 4.58764 13.6668 4.45398 13.6668H3.61718C3.45591 13.6668 3.33154 13.5248 3.35286 13.3649L3.75428 10.3543H1.15558C1.00831 10.3543 0.888916 10.2349 0.888916 10.0876V9.24607C0.888916 9.09879 1.00831 8.9794 1.15558 8.9794H3.93759L4.58391 4.13203H2.04447C1.8972 4.13203 1.7778 4.01264 1.7778 3.86537V3.02385C1.7778 2.87657 1.8972 2.75718 2.04447 2.75718H4.76722L5.05952 0.564919C5.07719 0.432438 5.1902 0.333496 5.32385 0.333496H6.16065ZM10.1598 8.9794L10.8061 4.13203H5.95876L5.31244 8.9794H10.1598Z" fill="#8F959E"/>\n</svg>\n',"#8F959E"),Zk=ck.teaMap,Kk=ck.startTea;(Pk=Ok=Ok||{}).MODAL="modal",Pk.input="input";var Xk=function(){ui(r,di(HTMLElement));var e,t=yi(r);function r(){var a,e,n;return ri(this,r),(a=t.call(this)).__registerHost(),zy(vi(a)),a.visible=!0,a.searchText="",a.searchInputVal="",a.list=[],a.tags=[],a.dropDownVisible=!1,a.deleteVisible=!1,a.showLoading=!1,a.isSearching=!1,a.searchTagErrMsg="",a.componentType=Ok.MODAL,a.teaParams={},a.iframe=document.createElement("iframe"),a.isIframeInDOM=!1,a.composing=!1,a.openAppLink=function(t){dk?window.open(t):(a.iframe.style.display="none",a.iframe.src=t,a.isIframeInDOM||(a.isIframeInDOM=!0,document.body.appendChild(a.iframe)))},a.handleTagClick=function(t){Zk.panoPanelAndViewJump(Object.assign(Object.assign({},a.teaParams),{tag_count:a.tags.length,tag_id:t,from:"panel"}));try{a.openAppLink("https://applink.feishu.cn/client/pano/tag-view/open?viewId=".concat(t,"&viewType=1&viewItemType=").concat(Ob({host:a.host,viewItemType:a.viewItemType}),"&lang=").concat(a.locale))}catch(t){mk(t)}setTimeout(function(){a.visible=!1;var t=c_("success");a.el.dispatchEvent(t),vk("confirm")},1e3)},a.handleTagHover=function(t){a.hoverTagIndex=t},a.handleTagLeave=function(){a.hoverTagIndex=void 0},a.handleTagDeleteVisibleChange=function(t,e){t.stopPropagation(),a.deleteVisible=!0,a.deleteTag=e},a.handleTagDelete=ni(regeneratorRuntime.mark(function t(){var e,n,r,o,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a.deleteTag){t.next=2;break}return t.abrupt("return");case 2:return e=a.deleteTag,n=a.tags.findIndex(function(t){return t.tagInfo.tagId===e.tagInfo.tagId}),t.prev=3,r=e.tagInfo.tagId,o=[{tagType:1,tagId:r,tagInstanceId:e.instanceId}],i={blockInfo:JSON.parse(a.blockInfo),uniqId:a.blockId,tagsAdding:[],tagsUpdating:[],tagsRemoving:o},t.next=7,$b("/api/BatchTagAction",{context:a.context,itemsAction:[i]});case 7:a.tags.splice(n,1),a.tags=wi(a.tags),a.informPropsView(a.tags),a.deleteTag=null,a.deleteVisible=!1,e_(_b("common_delete_success")),Zk.panoActionPanelDeleteTag(Object.assign(Object.assign({},a.teaParams),{tag_count:a.tags.length,tag_id:r})),t.next=19;break;case 16:t.prev=16,t.t0=t.catch(3),n_(t.t0.message),mk("å é¤å¤±è´¥",t.t0);case 19:case"end":return t.stop()}},t,null,[[3,16]])})),a.handleFocused=function(t){t.stopPropagation(),a.searchTags(),a.dropDownVisible=!0},a.handlekeyDown=function(t){t.stopPropagation(),"ArrowUp"!==t.key&&"ArrowDown"!==t.key||t.preventDefault()},a.checkValidTagName=function(t){a.searchTagErrMsg=Pb(t)},a.handleSearch=function(t){var e=t.target.value;if(a.searchInputVal=e,!a.composing){if(a.checkValidTagName(e),a.searchTagErrMsg)return vk(Rb(a.searchInputVal)),a.searchInputVal=Rb(a.searchInputVal),a.searchElement.value=a.searchInputVal,void r_(a.searchTagErrMsg);a.searchText=a.searchInputVal,a.showLoading=!0,a.debounceSearchTags()}},a.debounceSearchTags=Fk.debounce(function(){return a.searchTags()},300),a.searchTags=ni(regeneratorRuntime.mark(function t(){var e,n,r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e=a.searchText,t.next=4,$b("/api/SearchTags",{uniqueId:a.blockId,tagName:a.searchText});case 4:n=t.sent,r=n.tags,e===a.searchText&&(a.list=r);case 7:return t.prev=7,a.showLoading=!1,t.finish(7);case 10:case"end":return t.stop()}},t,null,[[0,,7,10]])})),a.handleCreateTag=ni(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:a.composing||a.debounceCreateTag();case 1:case"end":return t.stop()}},t)})),a.debounceCreateTag=Fk.debounce(function(){return a.createTag()},300,{trailing:!1,leading:!0}),a.clearSearch=function(){a.searchText="";var t=a.el.shadowRoot.querySelector(".search");t&&(t.value="")},a.closeDropDown=function(){var t=a.el.shadowRoot.querySelector(".search");t&&t.blur(),a.clearSearch(),a.dropDownVisible=!1},a.createTag=ni(regeneratorRuntime.mark(function t(){var e,n,r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,$b("/api/CreateTagAndAddItem",{blockInfo:JSON.parse(a.blockInfo),context:a.context,tagName:a.searchText,tagType:Gy.HASH_TAG,tagDescription:"",uniqId:a.blockId,tagAttr:{tagValue:"",isVisibleTag:!0}});case 3:e=t.sent,n=e.latestItemTags,r=e.tagInfo,e_(_b("common_add_success")),a.informPropsView(n.tags),a.tags=n.tags,Zk.panoActionPanelCreateNewTag(Object.assign(Object.assign({},a.teaParams),{tag_count:a.tags.length,tag_id:r.tagId})),a.closeDropDown(),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),n_(t.t0.message),mk("æ·»å å¤±è´¥",t.t0.message);case 12:case"end":return t.stop()}},t,null,[[0,9]])})),a.handleAddTag=(n=ni(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:a.composing||a.debounceAddTag(e);case 1:case"end":return t.stop()}},t)})),function(t){return n.apply(this,arguments)}),a.addTag=(e=ni(regeneratorRuntime.mark(function t(e){var n,r,o,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a.composing)return t.abrupt("return");t.next=2;break;case 2:if(e.hasAdded)return t.abrupt("return",void(e.hasAdded&&r_(_b("add_repeated_tag"),2e3)));t.next=4;break;case 4:return n=e.id,r=[{tagType:Gy.HASH_TAG,tagId:n,tagAttr:{tagValue:"",isVisibleTag:!0}}],t.prev=5,o={blockInfo:JSON.parse(a.blockInfo),uniqId:a.blockId,tagsAdding:r,tagsUpdating:[],tagsRemoving:[]},t.next=9,$b("/api/BatchTagAction",{context:a.context,itemsAction:[o]});case 9:if(i=t.sent,e_(_b("common_add_success")),a.dropDownVisible=!1,i.latestItemTags[a.blockId]){t.next=12;break}return t.abrupt("return");case 12:a.tags=i.latestItemTags[a.blockId].tags,Zk.panoActionPanelAddListedTag(Object.assign(Object.assign({},a.teaParams),{tag_count:a.tags.length,tag_id:e.id,tag_type:a.searchText?"search":"recommend"})),a.list=[],a.informPropsView(i.latestItemTags[a.blockId].tags),a.closeDropDown(),t.next=18;break;case 15:t.prev=15,t.t0=t.catch(5),n_(t.t0.message),mk("æ·»å å¤±è´¥",t.t0);case 18:case"end":return t.stop()}},t,null,[[5,15]])})),function(t){return e.apply(this,arguments)}),a.debounceAddTag=Fk.debounce(function(t){return a.addTag(t)},300),a.handleClose=function(){a.visible=!1;var t=c_("cancel");a.el.dispatchEvent(t)},a.handleConfirmClose=function(){a.visible=!1;var t=c_("success");a.el.dispatchEvent(t)},a}return ii(r,[{key:"extraChange",value:function(t,e){t&&t!==e&&this.handleExtra(t)}},{key:"handleExtra",value:function(t){var e=this;if(t)try{var n=JSON.parse(t),r=n.context,o=n.viewItemType,i=n.teaParams,a=void 0===i?{}:i,s=n.componentType,c=void 0===s?Ok.MODAL:s;this.context=JSON.stringify(r),this.viewItemType=o,this.teaParams=a||{},this.componentType=c,uk(this.teaParams).then(function(t){e.teaParams=t,Kk({userId:t.user_id,isOnline:e.env===bm.ONLINE})}).catch(function(){Kk({userId:e.teaParams.user_id,isOnline:e.env===bm.ONLINE})})}catch(t){vk("extra info is not a json string")}}},{key:"connectedCallback",value:function(){this.env&&(zb.env=this.env),this.locale&&(zb.locale=Wy(this.locale),bb(Wy(this.locale))),this.host&&(zb.host=this.host),this.handleExtra(this.extra)}},{key:"disconnectedCallback",value:function(){this.isIframeInDOM&&document.body.removeChild(this.iframe)}},{key:"componentWillLoad",value:function(){var n=this;return document.activeElement&&document.activeElement.blur&&document.activeElement.blur(),this.getTags(this.blockId).then(function(t){var e;Zk.panoOpenTagActionPanel(Object.assign(Object.assign({},n.teaParams),{tag_count:t?t.tags.length:0})),t&&(e=t.tags,n.tags=wi(e))})}},{key:"handleClickOutside",value:function(){this.dropDownVisible=!1}},{key:"onCompostionStart",value:function(){this.composing=!0}},{key:"onCompostionEnd",value:function(){this.composing=!1,this.showLoading=!0,this.componentType!==Ok.input&&(this.searchText=this.searchInputVal,this.debounceSearchTags())}},{key:"getTags",value:(e=ni(regeneratorRuntime.mark(function t(e){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n={uniqIds:[e],fetchDeletePerm:!0,context:this.context},t.prev=1,t.next=4,$b("/api/BatchGetItemTags",n);case 4:return t.t0=e,t.abrupt("return",t.sent.itemsTags[t.t0]);case 8:t.prev=8,t.t1=t.catch(1),mk(t.t1);case 11:case"end":return t.stop()}},t,this,[[1,8]])})),function(t){return e.apply(this,arguments)})},{key:"informPropsView",value:function(t){this.el.dispatchEvent(u_(t,this.blockId))}},{key:"render",value:function(){var s=this,t=this.blockId,e=this.blockInfo,n=this.context,r=this.teaParams;if(this.componentType===Ok.input)return Gm("pano-tag-input",{blockId:t,blockInfo:e,context:n,teaParams:r});var o=!this.tags.length;return Gm("div",{class:"pano-modal-panel"},Gm("pano-common-modal",{width:600,visible:this.visible,onCancel:this.handleClose,onConfirm:this.handleConfirmClose,showCancel:o,confirmText:_b(o?"common_confirm":"common_complete"),confirmBtnDisabeld:o,closeable:!0,center:!1},Gm("div",{slot:"header"},_b("panel_modal_header")),Gm("div",{slot:"body",class:"panp-panel-modal-body"},Gm("div",{class:"form-item"},Gm("div",{class:"label"},_b("panel_modal_body_label")),Gm("div",{class:"control",onClick:function(t){return t.stopPropagation()}},Gm("div",{class:"search-input",onClick:function(){s.searchElement&&s.searchElement.focus()}},Gm("pano-common-icon",{image:Gk,class:"prefix-icon"}),Gm("input",{type:"text",class:"search",placeholder:_b("search_placeholder"),onInput:this.handleSearch,value:this.searchInputVal,onFocus:this.handleFocused,onKeyDown:this.handlekeyDown,ref:function(t){return s.searchElement=t}})),this.dropDownVisible&&(0!==this.list.length||""!==this.searchText)&&Gm("div",{class:"search-list"},Gm("pano-list-panel",{showLoading:this.showLoading,list:this.list,value:this.searchText,onCreate:this.handleCreateTag,onConfirm:this.handleAddTag})))),0<this.tags.length&&Gm("div",{class:"form-item"},Gm("div",{class:"label"},_b("panel_modal_body_existed_tag")),Gm("div",{class:"control"},Gm("div",{class:"tags"},this.tags.map(function(e,t){var n=e.tagInfo.permissionType===Zy.Public,r=!!e.deletable,o=!!e.viewable,i="tag ".concat(r?"show-delete":""," ").concat(o?"viewable":""),a="delete-tag "+(s.hoverTagIndex===t?"show":"");return o?Gm("div",{class:i,onClick:function(){return s.handleTagClick(e.tagInfo.tagId)},onMouseEnter:function(){return s.handleTagHover(t)},onMouseLeave:s.handleTagLeave},Gm("div",{class:"tag-name",title:e.tagInfo.name},"#",e.tagInfo.name),n&&Gm("div",{class:"is-public-mark"},Gm("span",null,_b("tag_scope_public"))),r&&Gm("pano-common-icon",{image:wk,class:a,color:"#8F959E",onClick:function(t){return s.handleTagDeleteVisibleChange(t,e)}})):Gm("pano-common-tooptip",null,Gm("div",{slot:"content",class:i,onClick:function(){return s.handleTagClick(e.tagInfo.tagId)},onMouseEnter:function(){return s.handleTagHover(t)},onMouseLeave:s.handleTagLeave},"#",e.tagInfo.name,r&&Gm("pano-common-icon",{image:wk,class:a,color:"#8F959E",onClick:function(t){return s.handleTagDeleteVisibleChange(t,e)}})),Gm("div",{class:"tip",slot:"title"},Gm("img",{src:Sk,class:"icon"}),_b("tag_no_visit_permission")))})))))),this.deleteVisible&&Gm("pano-delete-confirm",{deleteTagName:this.deleteTag.tagInfo.name,onConfirm:this.handleTagDelete,onCancel:function(){return s.deleteVisible=!1}}))}},{key:"el",get:function(){return this}}],[{key:"watchers",get:function(){return{extra:["extraChange"]}}},{key:"style",get:function(){return".pano-modal-panel .form-item{margin-top:24px}.pano-modal-panel .form-item .label{font-size:14px;color:#1F2329;font-weight:500}.pano-modal-panel .form-item .control{margin-top:8px;width:100%;position:relative}.pano-modal-panel .search-input{display:flex;align-items:center;background:#FFFFFF;border:1px solid #DEE0E3;box-sizing:border-box;border-radius:4px;padding:9px 13px;height:40px}.pano-modal-panel .search-input:hover{border-color:#3370FF}.pano-modal-panel .search-input .prefix-icon{display:inline-flex;align-items:center;margin-right:8px}.pano-modal-panel .search-input .prefix-icon img{width:14px;height:14px}.pano-modal-panel .search-input .search{width:100%;border:none;height:22px;font-size:14px}.pano-modal-panel .search-input .search:hover,.pano-modal-panel .search-input .search:focus{border:none;outline:none}.pano-modal-panel .search-list{position:absolute;top:44px;width:100%;background:#FFFFFF;border:1px solid #DEE0E3;box-sizing:border-box;box-shadow:0px 4px 16px rgba(31, 35, 41, 0.1);border-radius:4px;z-index:2}.pano-modal-panel .tags{display:flex;flex-wrap:wrap;margin-left:-4px;max-height:200px;overflow-y:auto}.pano-modal-panel .tags .tag{display:inline-flex;align-items:center;padding:1px 4px;color:#646A73;line-height:20px;margin-right:20px;margin-bottom:6px;border-radius:2px;cursor:pointer}.pano-modal-panel .tags .tag .tag-name{max-width:200px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.pano-modal-panel .tags .tag .is-public-mark{font-size:10px;font-weight:500;color:#245BDB;background-color:#E1EAFF;border-radius:2px;margin-left:4px;height:16px;line-height:16px;box-sizing:border-box;padding:0 3px}.pano-modal-panel .tags .tag .is-public-mark span{display:block;transform:scale(0.83);transform-origin:center}.pano-modal-panel .tags .tag.show-delete{margin-right:5px}.pano-modal-panel .tags .tag.viewable{color:#1F2329}.pano-modal-panel .tags .tag:hover{background:rgba(31, 35, 41, 0.1)}.pano-modal-panel .tags .tag .delete-tag{visibility:hidden;display:inline-flex;align-items:center}.pano-modal-panel .tags .tag .delete-tag.show{visibility:visible}.pano-modal-panel .tags .tag .delete-tag img{width:8px;height:8px;margin:auto 3px auto 4px}.pano-delete-modal-body{margin-top:8px;margin-left:40px;word-break:break-word;text-align:left}.pano-delete-moda-footer button{min-width:80px !important}.pano-delete-moda-footer .pano-delete-btn-confirm{margin-left:12px}.tip{display:flex;align-items:center;color:#1F2329}.tip .icon{width:16px;height:16px;margin-right:8px}"}}]),r}(),tI=new i_('<svg width="16" height="14" viewBox="0 0 16 14" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <path d="M6.16062 0.333496C6.3219 0.333496 6.44626 0.475544 6.42495 0.635406L6.14204 2.75718H10.9894L11.2817 0.564919C11.2994 0.432438 11.4124 0.333496 11.546 0.333496H12.3828C12.5441 0.333496 12.6685 0.475544 12.6472 0.635406L12.3643 2.75718H14.8444C14.9917 2.75718 15.1111 2.87657 15.1111 3.02385V3.86537C15.1111 4.01264 14.9917 4.13203 14.8444 4.13203H12.1809L11.5346 8.9794H13.9556C14.1028 8.9794 14.2222 9.09879 14.2222 9.24607V10.0876C14.2222 10.2349 14.1028 10.3543 13.9556 10.3543H11.3513L10.9405 13.4354C10.9228 13.5679 10.8098 13.6668 10.6762 13.6668H9.83937C9.6781 13.6668 9.55373 13.5248 9.57505 13.3649L9.97647 10.3543H5.1291L4.71828 13.4354C4.70061 13.5679 4.58761 13.6668 4.45395 13.6668H3.61715C3.45587 13.6668 3.33151 13.5248 3.35282 13.3649L3.75425 10.3543H1.15555C1.00828 10.3543 0.888885 10.2349 0.888885 10.0876V9.24607C0.888885 9.09879 1.00828 8.9794 1.15555 8.9794H3.93756L4.58388 4.13203H2.04444C1.89717 4.13203 1.77777 4.01264 1.77777 3.86537V3.02385C1.77777 2.87657 1.89716 2.75718 2.04444 2.75718H4.76719L5.05949 0.564919C5.07716 0.432438 5.19016 0.333496 5.32382 0.333496H6.16062ZM10.1598 8.9794L10.8061 4.13203H5.95873L5.31241 8.9794H10.1598Z" fill="#8F959E"/>\n    </svg>',"#8F959E"),eI=ck.teaMap,nI=function(){ui(r,di(HTMLElement));var t=yi(r);function r(){var s,e,n;return ri(this,r),(s=t.call(this)).__registerHost(),zy(vi(s)),s.maxHeight=300,s.teaParams={},s.isSearching=!1,s.searchValue="",s.list=[],s.showDropdown=!1,s.focused=!1,s.inputEle={},s.composing=!1,s.searchTags=(n=ni(regeneratorRuntime.mark(function t(e){var n,r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,s.isSearching=!0,t.next=4,$b("/api/SearchTags",{uniqueId:s.blockId,tagName:e});case 4:n=t.sent,r=n.tags,e===s.searchValue&&(s.list=r,s.isSearching=!1),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),s.isSearching=!1,vk(t.t0);case 12:case"end":return t.stop()}},t,null,[[0,9]])})),function(t){return n.apply(this,arguments)}),s.debounceSearchTags=Fk.debounce(function(t){return s.searchTags(t)},300),s.handleOnInput=function(t){var e,n;s.composing||((n=Pb(e="string"==typeof t?t:t.target.value))&&(e=Rb(e),r_(n)),s.inputEle.value=s.searchValue=e)},s.createTag=ni(regeneratorRuntime.mark(function t(){var e,n,r,o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(s.composing){t.next=13;break}return t.prev=1,t.next=4,e={blockInfo:JSON.parse(s.blockInfo),context:s.context,tagName:s.searchValue,uniqId:s.blockId},$b("/api/CreateTagAndAddItem",Object.assign({},e,{tagType:Gy.HASH_TAG,tagDescription:"",tagAttr:{tagValue:"",isVisibleTag:!0}}));case 4:n=t.sent,r=n.latestItemTags,o=n.tagInfo,e_(_b("common_add_success")),eI.panoActionPanelCreateNewTag(Object.assign(Object.assign({},s.teaParams),{tag_count:r.tags.length,tag_id:o.tagId})),s.searchValue="",s.showDropdown=!1,s.informPropsView(r.tags||[]),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),n_(t.t0.message),mk("æ·»å å¤±è´¥",t.t0.message);case 13:case"end":return t.stop()}},t,null,[[1,10]])})),s.addTag=(e=ni(regeneratorRuntime.mark(function t(e){var n,r,o,i,a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(s.composing)return t.abrupt("return");t.next=2;break;case 2:if(e.hasAdded)return t.abrupt("return",void(e.hasAdded&&r_(_b("add_repeated_tag"),2e3)));t.next=4;break;case 4:return r=e.id,o=[{tagType:Gy.HASH_TAG,tagId:r,tagAttr:{tagValue:"",isVisibleTag:!0}}],t.prev=5,i={blockInfo:JSON.parse(s.blockInfo),uniqId:s.blockId,tagsAdding:o,tagsUpdating:[],tagsRemoving:[]},t.next=9,xk(s.context,[i]);case 9:a=t.sent,e_(_b("common_add_success")),eI.panoActionPanelAddListedTag(Object.assign(Object.assign({},s.teaParams),{tag_count:a.latestItemTags[s.blockId].tags.length,tag_id:e.id,tag_type:s.searchValue?"search":"recommend"})),s.list=[],s.informPropsView((null===(n=a.latestItemTags[s.blockId])||void 0===n?void 0:n.tags)||[]),s.searchValue="",s.showDropdown=!1,t.next=16;break;case 13:t.prev=13,t.t0=t.catch(5),n_(t.t0.message),mk("æ·»å å¤±è´¥",t.t0);case 16:case"end":return t.stop()}},t,null,[[5,13]])})),function(t){return e.apply(this,arguments)}),s}return ii(r,[{key:"handleClickOutside",value:function(){this.showDropdown=!1}},{key:"onCompostionStart",value:function(){this.composing=!0}},{key:"onCompostionEnd",value:function(){this.composing=!1,this.handleOnInput(this.inputEle.value)}},{key:"searchValueChange",value:function(t){t&&(this.showDropdown=!0),this.composing||this.debounceSearchTags(t)}},{key:"componentWillLoad",value:function(){return this.searchTags(this.searchValue)}},{key:"informPropsView",value:function(t){document.dispatchEvent(u_(t,this.blockId))}},{key:"render",value:function(){var e=this,t=this.list,n=this.searchValue,r=this.isSearching,o=this.focused,i=this.showDropdown&&(!!t.length||!!n);return Gm("div",{class:"pano-tag-input",onClick:function(t){return t.stopPropagation()}},Gm("div",{class:"input-wrapper "+(i||o?"active":""),onClick:function(t){t.currentTarget.querySelector("input").focus()}},Gm("pano-common-icon",{image:tI,class:"icon"}),Gm("input",{class:"input",onInput:this.handleOnInput,placeholder:_b("search_placeholder"),onFocus:function(){e.searchTags(e.searchValue),e.showDropdown=e.focused=!0},onBlur:function(){e.focused=!1},value:this.searchValue,ref:function(t){return e.inputEle=t},autoFocus:!0})),i&&Gm("div",{class:"dropdown"},Gm("pano-list-panel",{showLoading:r,list:t,value:n,onCreate:this.createTag,onConfirm:this.addTag})))}},{key:"el",get:function(){return this}}],[{key:"watchers",get:function(){return{searchValue:["searchValueChange"]}}},{key:"style",get:function(){return".pano-tag-input{position:relative}.pano-tag-input .input-wrapper{box-sizing:border-box;height:32px;border-radius:4px;display:flex;justify-content:flex-start;align-items:center;border:1px solid #BBBFC4;cursor:pointer}.pano-tag-input .input-wrapper.active{border-color:#3370ff}.pano-tag-input .input-wrapper .icon{flex:0 0 auto;margin:2px 8px 0 13px}.pano-tag-input .input-wrapper .icon img{width:15px;height:14px;margin-bottom:2px}.pano-tag-input .input-wrapper .input{flex:1 1 auto;border:none;outline:none;font-size:14px;min-width:0;padding-right:12px}.pano-tag-input:hover .input-wrapper{border-color:#3370ff}.pano-tag-input .dropdown{position:absolute;top:34px;left:0;width:100%;background-color:white;border:1px solid #DEE0E3;border-radius:4px;box-sizing:border-box}"}}]),r}(),rI=new i_('<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n  <path d="M8.00002 15.3334C12.0501 15.3334 15.3334 12.0502 15.3334 8.00008C15.3334 3.94999 12.0501 0.666748 8.00002 0.666748C3.94993 0.666748 0.666687 3.94999 0.666687 8.00008C0.666687 12.0502 3.94993 15.3334 8.00002 15.3334ZM7.33335 5.00008C7.33335 4.81599 7.48259 4.66675 7.66669 4.66675H8.33335C8.51745 4.66675 8.66669 4.81599 8.66669 5.00008V9.00008C8.66669 9.18418 8.51745 9.33341 8.33335 9.33341H7.66669C7.48259 9.33341 7.33335 9.18418 7.33335 9.00008V5.00008ZM7.33335 10.3334C7.33335 10.1493 7.48259 10.0001 7.66669 10.0001H8.33335C8.51745 10.0001 8.66669 10.1493 8.66669 10.3334V11.0001C8.66669 11.1842 8.51745 11.3334 8.33335 11.3334H7.66669C7.48259 11.3334 7.33335 11.1842 7.33335 11.0001V10.3334Z" fill="#FF8800"/>\n  </svg>',"#FF8800"),oI=new i_('<svg width="12" height="10" viewBox="0 0 12 10" fill="none" xmlns="http://www.w3.org/2000/svg">\n  <path d="M4.25 1.5C3.56 1.5 3 2.05975 3 2.75C3 3.44025 3.56 4 4.25 4C4.94 4 5.5 3.44025 5.5 2.75C5.5 2.05975 4.94 1.5 4.25 1.5ZM2 2.75C2 1.50725 3.0075 0.5 4.25 0.5C5.4925 0.5 6.5 1.50725 6.5 2.75C6.5 3.99275 5.4925 5 4.25 5C3.0075 5 2 3.99275 2 2.75ZM2.9175 6.5C2.0075 6.5 1.25 7.24925 1.25 8.2V9H7.25V8.2C7.25 7.24925 6.4925 6.5 5.5825 6.5H2.9175ZM0.25 8.2C0.25 6.70875 1.445 5.5 2.9175 5.5H5.5825C7.055 5.5 8.25 6.70875 8.25 8.2V9.55C8.25 9.7985 8.05 10 7.805 10H0.695C0.45 10 0.25 9.7985 0.25 9.55V8.2ZM11.4175 9.5H9.18251V9.2955V8.5H10.75V8.2C10.75 7.699 10.3275 7.25 9.75001 7.25H9.09501C9.00001 6.8805 8.83001 6.5415 8.60251 6.25H9.75001C10.855 6.25 11.75 7.123 11.75 8.2V9.175C11.75 9.3545 11.6 9.5 11.4175 9.5ZM8.25 4C8.25 3.72375 8.475 3.5 8.75 3.5C9.025 3.5 9.25 3.72375 9.25 4C9.25 4.27625 9.025 4.5 8.75 4.5C8.475 4.5 8.25 4.27625 8.25 4ZM8.75 2.5C7.9225 2.5 7.25 3.1715 7.25 4C7.25 4.8285 7.9225 5.5 8.75 5.5C9.5775 5.5 10.25 4.8285 10.25 4C10.25 3.1715 9.5775 2.5 8.75 2.5Z" fill="#ffffff"/>\n  </svg>\n  ',"#ffffff"),iI=function(){ui(n,di(HTMLElement));var e=yi(n);function n(){var t;return ri(this,n),(t=e.call(this)).__registerHost(),t.create=!1,t.selected=!1,t.showNoAuthTip=!1,t.showCoCountId="",t.showPrivateTip=!1,t.noAuthTipPos={left:0,top:0,width:0},t.coCountTipPos={left:0,top:0},t.privateTipPos={left:0,top:0},t}return ii(n,[{key:"onShowNoAuthTip",value:function(t){var e;t&&this.element&&(e=this.element.querySelector(".tag-item").getBoundingClientRect(),this.noAuthTipPos={top:e.top-48-2,left:e.left,width:e.width})}},{key:"onShowCoCountId",value:function(t){var e;t&&this.element&&(e=this.element.querySelector(".collaborator-icon-".concat(t)).getBoundingClientRect(),this.coCountTipPos={top:e.top-10-36,left:e.left+6})}},{key:"onShowPrivateTip",value:function(t){var e;t&&this.element&&(e=this.element.querySelector(".private-icon").getBoundingClientRect(),this.privateTipPos={top:e.top-10-36,left:e.left+6})}},{key:"render",value:function(){var t=this,e=this.onClick,n=this.create,r=this.selected,o=this.tagInfo,i=o.id,a=o.hasAdded,s=o.subscribed,c=o.unavailable,u=o.name,l=o.owners,f=o.permissionType,p=o.teamworkerCount,h=this.showNoAuthTip,d=this.showCoCountId,g=this.noAuthTipPos,v=this.coCountTipPos,m=this.showPrivateTip,y=this.privateTipPos,b=f===qy.Public,_=f===qy.Private&&!c;return Gm(Km,null,Gm("div",{class:"container",onMouseEnter:function(){t.showNoAuthTip=!a&&c&&!!l[0]},onMouseLeave:function(){t.showNoAuthTip=!1}},Gm("div",{class:"tag-item "+(r?"selected":""),onClick:function(){c||e&&e()}},n&&Gm("div",{class:"create-desc"},Gm("img",{src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTIiIGhlaWdodD0iMTQiIHZpZXdCb3g9IjAgMCAxMiAxNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTIuMzMzMzMgNC4zMzM1VjQuMDAwMTZDMi4zMzMzMyAxLjk3MzUgMy45NzUzMyAwLjMzMzQ5NiA2IDAuMzMzNDk2QzguMDI0NjcgMC4zMzM0OTYgOS42NjY2NyAxLjk3MzUgOS42NjY2NyA0LjAwMDE2VjQuMzMzNUgxMS4zMzMzQzExLjcwMTMgNC4zMzM1IDEyIDQuNjMzNSAxMiA1LjAwMDE2VjEzLjAwMDJDMTIgMTMuMzY2OCAxMS43MDEzIDEzLjY2NjggMTEuMzMzMyAxMy42NjY4SDAuNjY2NjY3QzAuMjk4IDEzLjY2NjggMCAxMy4zNjY4IDAgMTMuMDAwMlY1LjAwMDE2QzAgNC42MzM1IDAuMjk4IDQuMzMzNSAwLjY2NjY2NyA0LjMzMzVIMi4zMzMzM1pNOC4zMzMzMyA0LjAwMDE2QzguMzMzMzMgMi43MTAxNiA3LjI4ODY3IDEuNjY2ODMgNiAxLjY2NjgzQzUuNjkzNTYgMS42NjY3NCA1LjM5MDEgMS43MjcwNCA1LjEwNjk3IDEuODQ0MjdDNC44MjM4NCAxLjk2MTUgNC41NjY1OCAyLjEzMzM2IDQuMzQ5ODkgMi4zNTAwNUM0LjEzMzIgMi41NjY3NCAzLjk2MTMzIDIuODI0IDMuODQ0MSAzLjEwNzEzQzMuNzI2ODcgMy4zOTAyNiAzLjY2NjU4IDMuNjkzNzIgMy42NjY2NyA0LjAwMDE2VjQuMzMzNUg4LjMzMzMzVjQuMDAwMTZaTTYgMTAuNjY2OEM2LjQ0MjAzIDEwLjY2NjggNi44NjU5NSAxMC40OTEyIDcuMTc4NTEgMTAuMTc4N0M3LjQ5MTA3IDkuODY2MTIgNy42NjY2NyA5LjQ0MjE5IDcuNjY2NjcgOS4wMDAxNkM3LjY2NjY3IDguNTU4MTQgNy40OTEwNyA4LjEzNDIxIDcuMTc4NTEgNy44MjE2NUM2Ljg2NTk1IDcuNTA5MDkgNi40NDIwMyA3LjMzMzUgNiA3LjMzMzVDNS41NTc5NyA3LjMzMzUgNS4xMzQwNSA3LjUwOTA5IDQuODIxNDkgNy44MjE2NUM0LjUwODkzIDguMTM0MjEgNC4zMzMzMyA4LjU1ODE0IDQuMzMzMzMgOS4wMDAxNkM0LjMzMzMzIDkuNDQyMTkgNC41MDg5MyA5Ljg2NjEyIDQuODIxNDkgMTAuMTc4N0M1LjEzNDA1IDEwLjQ5MTIgNS41NTc5NyAxMC42NjY4IDYgMTAuNjY2OFoiIGZpbGw9IiMzMzcwRkYiLz4KPC9zdmc+Cg==",class:"private-icon",onMouseEnter:function(){t.showPrivateTip=!0},onMouseLeave:function(){t.showPrivateTip=!1}}),_b("create_tag")),Gm("div",{class:"tag-name",title:u,style:{color:c||a?"#646A73":"#1F2329"}},"#".concat(u)),Gm("div",{class:"right"},!!b&&Gm("div",{class:"label is-public"},Gm("span",null,_b("tag_scope_public"))),(a||c)&&Gm("div",{class:"label "+(a?"added":"")},Gm("span",null,_b(a?"added":"no_auth"))),s&&Gm("div",{class:"icon-wrapper"},Gm("pano-common-icon",{class:"pano-collect-icon",image:qk,color:"#FFC60A"})),_&&!n&&Gm("div",{class:"collaborator"},Gm("img",{src:oI.toDataUrl("#8F959E"),class:"icon-collaborator collaborator-icon-".concat(i||"unknown"),onMouseEnter:function(){t.showCoCountId=i},onMouseLeave:function(){t.showCoCountId=""}}),Gm("span",{class:"count-num"},p||0)))),h&&Gm("div",{class:"apply-wrapper",style:{left:"".concat(g.left,"px"),top:"".concat(g.top,"px"),width:"".concat(g.width,"px")},onClick:function(t){return t.stopPropagation()}},Gm("div",{class:"apply"},Gm("div",{class:"icon-wrapper"},Gm("pano-common-icon",{image:rI,color:"#FF8800"})),Gm("div",{class:"pano-apply-auth",innerHTML:_b("apply_add_auth",{name:'<div class="owner-name">@'.concat(wb(l[0].name),"</div>")})}))),!!d&&Gm("div",{class:"tootip",style:{left:"".concat(v.left,"px"),top:"".concat(v.top,"px")}},_b("tag_collaborator_count",{count:p||0})),!!m&&Gm("div",{class:"tootip",style:{left:"".concat(y.left,"px"),top:"".concat(y.top,"px")}},_b("tag_private_tips"))))}},{key:"element",get:function(){return this}}],[{key:"watchers",get:function(){return{showNoAuthTip:["onShowNoAuthTip"],showCoCountId:["onShowCoCountId"],showPrivateTip:["onShowPrivateTip"]}}},{key:"style",get:function(){return":host{display:block}*{box-sizing:border-box}.container{height:32px;position:relative}.container .tag-item{height:100%;align-items:center;padding:0 12px;cursor:pointer;display:flex}.container .tag-item .create-desc{flex:0 0 auto;color:#646a73;font-size:12px;margin-right:8px;display:flex;align-items:center}.container .tag-item .create-desc .private-icon{height:14px;width:12px;margin-right:6px}.container .tag-item .tag-name{flex:0 1 auto;font-size:14px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;user-select:none}.container .tag-item .right{flex:1 0 auto;display:flex;justify-content:flex-start;align-items:center}.container .tag-item .right .label{padding:0 3px;border-radius:2px;background:rgba(31, 35, 41, 0.1);font-weight:500;font-size:12px;color:#646a73;margin-left:4px;user-select:none;box-sizing:border-box;height:16px;line-height:16px;white-space:nowrap}.container .tag-item .right .label.added,.container .tag-item .right .label.is-public{color:#3370ff;background:#e1eaff}.container .tag-item .right .label>span{display:block;transform-origin:center;transform:scale(0.83)}.container .tag-item .right .icon-wrapper{flex:0 0 auto;margin-left:4px;margin-right:3px}.container .tag-item .right .icon-wrapper img{width:12px;height:12px}.container .tag-item .right .collaborator{display:flex;align-items:center;color:#8F959E;margin-left:4px;opacity:0}.container .tag-item .right .collaborator .icon-collaborator{height:12px;width:12px;margin-right:3px;cursor:pointer}.container .tag-item .right .collaborator .count-num{position:relative;top:1px;font-size:12px;font-weight:normal}.container .tag-item.selected{background-color:#eff0f1}.container .tag-item:hover .right .collaborator{opacity:1}.container .tootip{z-index:3;position:fixed;box-sizing:border-box;border-radius:4px;background-color:rgba(31, 35, 41, 0.9);padding:8px 12px;line-height:20px;font-size:12px;color:#ffffff;transform:translateX(-50%)}.container .tootip:after{content:'';display:block;height:0;width:0;border:4px solid transparent;border-top:4px solid rgba(31, 35, 41, 0.9);position:absolute;left:50%;bottom:-8px;transform:translateX(-4px)}.container .apply-wrapper{z-index:3;display:flex;position:fixed;background-color:transparent;justify-content:center;align-items:center;pointer-events:none}.container .apply-wrapper .apply{font-size:14px;display:flex;border-radius:4px;box-shadow:0px 5px 10px rgba(31, 35, 41, 0.1);border:1px solid #dee0e3;padding:12px 16px;align-items:center;justify-content:flex-start;color:#1F2329;background-color:#fff;white-space:nowrap;pointer-events:auto;margin-bottom:4px;position:relative}.container .apply-wrapper .apply :before{content:'';width:100%;position:absolute;height:4px;top:100%;left:0}.container .apply-wrapper .apply .icon-wrapper{margin-right:8px;line-height:0;min-width:16px;min-height:16px}.container .apply-wrapper .apply .icon-wrapper img{width:16px;height:16px}.container .apply-wrapper .apply .pano-apply-auth{display:flex;align-items:center}.container .apply-wrapper .apply .owner-name{color:#3370FF;margin:0 4px}.container .apply-wrapper .apply .divider{margin:0 12px;width:1px;height:14px;background:#DEE0E3}.container .apply-wrapper .apply .apply-link{cursor:pointer;color:#3370FF}"}}]),n}(),aI=Cy(o_,[1,"pano-action-panel-popover",{locale:[1],blockId:[1,"block-id"],blockInfo:[1,"block-info"],value:[32],list:[32],modalInfo:[32]}]),sI=Cy(_k,[1,"pano-action-props",{blockId:[1,"block-id"],locale:[1],env:[1],host:[1],defaultTags:[16],blockInfo:[1,"block-info"],extra:[1],maxWidth:[2,"max-width"],teaParams:[16],context:[32],uiType:[32],tags:[32],dropdownVisible:[32],showMore:[32],offsetLeft:[32],offsetTop:[32],tagsWidth:[32],ellipsisIndex:[32],deleteConfirmMaskTransparent:[32]},[[4,"action-panel-tags","updateTags"],[9,"resize","handleResize"],[4,"click","handleClick"]]]),cI=Cy(Ik,[1,"pano-action-props-edit",{blockId:[1,"block-id"],blockInfo:[1,"block-info"],context:[1],defaultTags:[16],openTagView:[16],deleteConfirmMaskTransparent:[4,"delete-confirm-mask-transparent"],teaParams:[16],tags:[32],deleteVisible:[32],deleteTag:[32]},[[4,"action-panel-tags","updateTags"]]]),uI=Cy(Tk,[1,"pano-action-props-readonly",{blockId:[1,"block-id"],defaultTags:[16],tags:[32]},[[4,"action-panel-tags","updateTags"]]]),lI=Cy(Ek,[4,"pano-common-button",{type:[1],disabled:[4],customStyle:[8,"custom-style"]}]),fI=Cy(Mk,[0,"pano-common-icon",{image:[16],color:[1],hoverColor:[1,"hover-color"],isHovered:[32]}]),pI=Cy(Rk,[1,"pano-common-modal",{width:[2],center:[4],visible:[4],onCancel:[16],onConfirm:[16],showCancel:[4,"show-cancel"],confirmText:[1,"confirm-text"],cancelText:[1,"cancel-text"],confirmBtnStyle:[8,"confirm-btn-style"],confirmBtnDisabeld:[4,"confirm-btn-disabeld"],type:[1],closeable:[4],maskColor:[1,"mask-color"]}]),hI=Cy($k,[1,"pano-common-toast",{message:[1],type:[1]}]),dI=Cy(Uk,[1,"pano-common-tooptip",{text:[1],visible:[32],top:[32],left:[32]}]),gI=Cy(Hk,[1,"pano-delete-confirm",{deleteTagName:[1,"delete-tag-name"],onConfirm:[16],onCancel:[16],maskTransparent:[4,"mask-transparent"]}]),vI=Cy(Vk,[1,"pano-list-panel",{showLoading:[4,"show-loading"],list:[16],value:[1],onConfirm:[16],onCreate:[16],maxHeight:[2,"max-height"],isSearching:[4,"is-searching"],selectIndex:[32],disablePointer:[32]},[[6,"keydown","onKeydown"],[7,"mousemove","onMouseMove"]]]),mI=Cy(Wk,[1,"pano-loading",{color:[1],size:[2]}]),yI=Cy(Qk,[0,"pano-mention-panel",{locale:[1],env:[1],host:[1],visible:[4],value:[1],maxHeight:[2,"max-height"],width:[2],extra:[1],searchWhenVisible:[4,"search-when-visible"],list:[32],selectIndex:[32],isSearching:[32],showCoCountTag:[32],coCountTipPos:[32]},[[4,"keydown","onKeydown"]]]),bI=Cy(Xk,[1,"pano-modal-panel",{blockId:[1,"block-id"],blockInfo:[1,"block-info"],locale:[1],env:[1],host:[1],visible:[1028],extra:[1],context:[32],searchText:[32],searchInputVal:[32],list:[32],tags:[32],hoverTagIndex:[32],dropDownVisible:[32],deleteVisible:[32],deleteTag:[32],showLoading:[32],isSearching:[32],searchTagErrMsg:[32],componentType:[32],teaParams:[32]},[[4,"click","handleClickOutside"],[4,"compositionstart","onCompostionStart"],[4,"compositionend","onCompostionEnd"]]]),_I=Cy(nI,[1,"pano-tag-input",{context:[1],blockId:[1,"block-id"],blockInfo:[1,"block-info"],maxHeight:[2,"max-height"],teaParams:[16],composing:[4],isSearching:[32],searchValue:[32],list:[32],showDropdown:[32],focused:[32],inputEle:[32]},[[4,"click","handleClickOutside"],[4,"compositionstart","onCompostionStart"],[4,"compositionend","onCompostionEnd"]]]),wI=Cy(iI,[0,"pano-tag-item",{tagInfo:[16],onClick:[16],create:[4],selected:[4],showNoAuthTip:[32],showCoCountId:[32],showPrivateTip:[32],noAuthTipPos:[32],coCountTipPos:[32],privateTipPos:[32]}]);function xI(t){if("number"==typeof t)return"http://localhost:".concat(t);if("string"==typeof t)return t.includes("://")?t:"http://".concat(t);throw new Error("Invalid debugPort")}function kI(t){return"".concat(xI(t),"/api/block")}function II(t){var e,n,r,o,i,a=document.createElement(t.tagName);return a.setAttribute("blockId",t.blockTypeId),t.type&&a.setAttribute("type",t.type),t.env&&(a.setAttribute("host",t.env.host),a.setAttribute("env",t.env.env),a.setAttribute("region",t.env.region),a.setAttribute("locale",t.env.locale)),t.cache&&a.setAttribute("cacheApp",""),t.debug&&null!==(e=t.env)&&void 0!==e&&e.debugPort&&t.type&&a.setAttribute("debugUrl",JSON.stringify({pkgUrl:(n=t.env.debugPort,r=t.blockTypeId,o=t.type,i="string"==typeof n?"?withCredentials=1":"","".concat(xI(n),"/static/").concat(o,"/").concat(r,".ttpkg.js").concat(i)),version:Date.now().toString()})),a}function TI(t){return II(ci({tagName:"op-block"},t))}function EI(o,t){return Object.entries(t).forEach(function(t){var e=bi(t,2),n=e[0],r=e[1];o.addEventListener(n,r,{once:!0})}),function(){Object.entries(t).forEach(function(t){var e=bi(t,2),n=e[0],r=e[1];o.removeEventListener(n,r)})}}var MI,SI=function(){ui(e,ap);var t=yi(e);function e(){return ri(this,e),t.apply(this,arguments)}return ii(e,[{key:"appendTag",value:function(){this.tag=this.createTag(),this.root.appendChild(this.tag)}},{key:"createTag",value:function(){var t=II({tagName:"pano-modal-panel",blockTypeId:this.entity.blockTypeID,env:this.env});if(t.setAttribute("block-id",this.entity.blockID),t.setAttribute("block-info",JSON.stringify(this.entity)),void 0!==this.extra)try{t.setAttribute("extra",JSON.stringify(this.extra))}catch(t){}return this.submitHandler=this.submitHandler.bind(this),t.addEventListener("action-panel-complete",this.submitHandler),t}},{key:"removeTag",value:function(){this.tag.removeEventListener("action-panel-complete",this.submitHandler),this.root.removeChild(this.tag)}},{key:"dataHandler",value:function(t){var e,n=t.detail||{};return"success"===n.status?{code:0,data:n.data}:"cancel"===n.status?{code:1,data:null}:{code:-1,data:null===(e=n.data)||void 0===e?void 0:e.message}}},{key:"reload",value:function(){return Promise.resolve()}}]),e}(),AI=function(){ui(e,sp);var t=yi(e);function e(){return ri(this,e),t.apply(this,arguments)}return ii(e,[{key:"dataChangeHandler",value:function(t){t.detail&&Array.isArray(t.detail.data)&&this.eventBus.emit("onDataChange",t.detail.data)}},{key:"appendTag",value:function(){this.tag=this.createTag(),this.root.appendChild(this.tag)}},{key:"createTag",value:function(){var t=II({tagName:"pano-action-props",blockTypeId:this.entity.blockTypeID,env:this.env});if(t.setAttribute("block-id",this.entity.blockID),t.setAttribute("block-info",JSON.stringify(this.entity)),this.extra)try{t.setAttribute("extra",JSON.stringify(this.extra))}catch(t){}return this.dataChangeHandler=this.dataChangeHandler.bind(this),t.addEventListener("props-data-change",this.dataChangeHandler),t}},{key:"removeTag",value:function(){this.tag.removeEventListener("props-data-change",this.dataChangeHandler);try{this.root.removeChild(this.tag)}catch(t){this.tag.parentElement&&this.tag.parentElement.removeChild(this.tag)}}},{key:"changeProp",value:function(){}},{key:"reload",value:function(){return Promise.resolve()}}]),e}();"undefined"!=typeof customElements&&[aI,sI,cI,uI,lI,fI,pI,hI,dI,gI,vI,mI,yI,bI,_I,wI].forEach(function(t){customElements.get(t.is)||customElements.define(t.is,t,MI)});var CI=function(){ui(i,cp);var o=yi(i);function i(){var t;ri(this,i);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return ai(vi(t=o.call.apply(o,[this].concat(n))),"_hasInit",!0),ai(vi(t),"name","pano"),t}return ii(i,[{key:"load",value:function(){return Promise.resolve()}},{key:"registerUI",value:function(t){t("props","pano",this),t("panel","pano",this)}},{key:"mountUI",value:function(t){for(var e=arguments.length,n=new Array(1<e?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];if("panel"===t){var o=_i(n).slice(1);return hi(SI,wi(o))}var i=_i(n).slice(1);return hi(AI,wi(i))}},{key:"removeUI",value:function(t,e){e.unMount()}},{key:"onDataChange",value:function(){}}]),i}(),zI=function(){ui(e,ap);var t=yi(e);function e(){return ri(this,e),t.apply(this,arguments)}return ii(e,[{key:"createTag",value:function(){}},{key:"reload",value:function(){return Promise.resolve()}},{key:"appendTag",value:function(){if(this.onCancel=this.onCancel.bind(this),this.onConfirm=this.onConfirm.bind(this),!e.APIS)throw new Error("Should init todo engine first!");e.APIS.open({entity:this.entity,env:this.env,config:this.config,extra:this.extra,onClose:this.onCancel,onCancel:this.onCancel,onConfirm:this.onConfirm})}},{key:"removeTag",value:function(){e.APIS.close(),this.onCancel()}},{key:"dataHandler",value:function(t,e){return{code:e?1:0,data:null}}},{key:"onCancel",value:function(){this.submitHandler(null,!0)}},{key:"onConfirm",value:function(){this.submitHandler(null)}}]),e}();ai(zI,"APIS",void 0);var NI,jI,OI,DI=function(){ui(i,cp);var o=yi(i);function i(){var t;ri(this,i);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return ai(vi(t=o.call.apply(o,[this].concat(n))),"name","todo"),t}return ii(i,[{key:"load",value:function(t){return zI.APIS=t.config.apis,Promise.resolve()}},{key:"registerUI",value:function(t){t("panel","todo",this)}},{key:"mountUI",value:function(t){if("panel"===t){for(var e=arguments.length,n=new Array(1<e?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var o=_i(n).slice(1);return hi(zI,wi(o))}}},{key:"removeUI",value:function(t,e){e.unMount()}},{key:"onDataChange",value:function(){}}]),i}(),LI=function(){ui(i,rp);var o=yi(i);function i(){var t;ri(this,i);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return ai(vi(t=o.call.apply(o,[this].concat(n))),"removeEventListener",void 0),t.addEventListener(),t}return ii(i,[{key:"loadSuccessHandler",value:function(){this.eventBus.emit("onLoad",!0),this.changeProp("display","block")}},{key:"loadFailHandler",value:function(t){this.eventBus.emit("onError",t)}},{key:"loadConfigHandler",value:function(t){var e=t.detail.pages,n=t.detail[e[0]].window,r={};["blockTypeID"].forEach(function(t){r[t]=n[t]}),Object.assign(r,n[this.env.host]),this.eventBus.emit("onConfig",r)}},{key:"createTag",value:function(){var t=TI({type:"block",blockTypeId:this.entity.blockTypeID,env:this.env,debug:this.config.debug,cache:this.config.cache});return t.setAttribute("instanceId",this.entity.blockID),t.setAttribute("blockInfo",JSON.stringify({blockID:this.entity.blockID,sourceMeta:this.entity.sourceMeta,sourceData:this.entity.sourceData})),t}},{key:"appendTag",value:function(){this.tag=this.createTag(),this.changeProp("display","none"),this.root.appendChild(this.tag)}},{key:"removeTag",value:function(){this.removeEventListener(),this.tag.destroy()}},{key:"addEventListener",value:function(){this.removeEventListener=EI(this.tag,{appConfigSuccess:this.loadConfigHandler.bind(this),blockLoadSuccess:this.loadSuccessHandler.bind(this),blockLoadFail:this.loadFailHandler.bind(this)})}},{key:"reload",value:function(t){return this.config.debug=t,this.removeTag(),this.appendTag(),this.addEventListener(),Promise.resolve()}},{key:"changeProp",value:function(t,e){"display"===t&&(this.tag.style.display=e)}}]),i}(),PI=function(){ui(i,ip);var o=yi(i);function i(){var t;ri(this,i);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return ai(vi(t=o.call.apply(o,[this].concat(n))),"removeEventListener",void 0),t.addEventListener(),t}return ii(i,[{key:"loadSuccessHandler",value:function(){var t=void 0===this.config.needInterface||this.config.needInterface;this.eventBus.emit("onLoad",t),t&&this.changeProp("display","block")}},{key:"loadConfigHandler",value:function(t){var e=t.detail.pages,n=t.detail[e[0]].window;this.config.needInterface=n.needInterface}},{key:"loadFailHandler",value:function(t){this.eventBus.emit("onError",t)}},{key:"appendTag",value:function(){this.tag=this.createTag(),this.changeProp("display","none"),this.root&&this.root.appendChild(this.tag)}},{key:"createTag",value:function(){var t=TI({type:"creator",blockTypeId:this.blockTypeID,env:this.env,debug:this.config.debug,cache:this.config.cache});return this.config.isClone&&this.config.preEntity&&(t.setAttribute("mode","clone"),t.setAttribute("blockInfo",JSON.stringify(this.config.preEntity))),t}},{key:"removeTag",value:function(){this.removeEventListener(),this.tag.destroy()}},{key:"addEventListener",value:function(){this.removeEventListener=EI(this.tag,{creatorSubmit:this.submitHandler.bind(this),creatorCancel:this.cancelHandler.bind(this),appConfigSuccess:this.loadConfigHandler.bind(this),blockLoadSuccess:this.loadSuccessHandler.bind(this),blockLoadFail:this.loadFailHandler.bind(this)})}},{key:"dataHandler",value:function(t,e){return e?{code:1,data:null}:t.detail&&t.detail.blockInfo?{code:0,data:t.detail.blockInfo}:{code:-1,data:"fail"}}},{key:"reload",value:function(t){return this.config.debug=t,this.removeTag(),this.appendTag(),this.addEventListener(),Promise.resolve()}},{key:"changeProp",value:function(t,e){"display"===t&&(this.tag.style.display=e)}}]),i}();function RI(t,e){return e.hasOwnProperty(t)?e[t]:e.en_us||e.zh_cn||""}function $I(t){return t?{"zh-CN":RI("zh_cn",t),"en-US":RI("en_us",t),"ja-JP":RI("ja_jp",t)}:{"zh-CN":"","en-US":"","ja-JP":""}}NI=ua.generateBlock,jI=ua.getBlockList,OI=ua.getBlockEntity;var UI,HI,BI,FI,VI=(ii(qI,[{key:NI,value:(FI=ni(regeneratorRuntime.mark(function t(e){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.request(pa[ua.generateBlock],{data:{Entity:ci(ci({},e),{},{sourceMeta:JSON.stringify(e.sourceMeta),sourceData:JSON.stringify(e.sourceData)})}});case 2:return n=t.sent,t.abrupt("return",n.BlockId);case 4:case"end":return t.stop()}},t,this)})),function(t){return FI.apply(this,arguments)})},{key:jI,value:(BI=ni(regeneratorRuntime.mark(function t(e){var n,r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.request(pa[ua.getBlockList],{data:{larkVersion:"",hostType:this.env.host,cursorInfo:e?{cursor:"",count:e}:void 0}});case 2:if(n=t.sent,r=n.availableItemList,Array.isArray(r))return t.abrupt("return",r.map(function(t){return{name:$I(t.name),appName:$I(t.appName),icon:t.pcIcon||t.iconUrl,outlinedIcon:t.pcIcon,filledIcon:t.mobileIcon,blockTypeID:t.blockTypeId,isOnline:!0,hasLocalPack:!1}}));t.next=6;break;case 6:return t.abrupt("return",[]);case 7:case"end":return t.stop()}},t,this)})),function(t){return BI.apply(this,arguments)})},{key:OI,value:(HI=ni(regeneratorRuntime.mark(function t(e){var n,r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.request(pa[ua.getBlockEntity],{data:{blockIDs:[e]}});case 2:if(n=t.sent,(r=n.blocks[e].entity)&&r.blockID){t.next=6;break}throw new Error("BlockID is invalid");case 6:return r.sourceMeta=JSON.parse(r.sourceMeta||'""'),r.sourceData=JSON.parse(r.sourceData||'""'),t.abrupt("return",r);case 9:case"end":return t.stop()}},t,this)})),function(t){return HI.apply(this,arguments)})},{key:"getDebugBlockList",value:(UI=ni(regeneratorRuntime.mark(function t(e){var n,r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,bf.fetch(kI(e),{method:"GET"});case 2:if(n=t.sent,r=n.data.blocks,Array.isArray(r))return t.abrupt("return",r.map(function(t){return{name:t.name,appName:t.appName,icon:t.icon,blockTypeID:t.blockTypeID,isOnline:!1,hasLocalPack:!0}}));t.next=6;break;case 6:return t.abrupt("return",[]);case 7:case"end":return t.stop()}},t)})),function(t){return UI.apply(this,arguments)})}]),qI),WI={feishu:{staging:["blk_5f8f7ccba955000192cfca3e","blk_5f8f7ccba955c00192cf0cf3","blk_5f8f7ccba955c00192cf0e10"],online:["blk_5f9911cb7bd60001404cca03"]}};function qI(t){ri(this,qI),ai(this,"request",void 0),ai(this,"env",void 0),this.env=t,this.request=zl(t)}function YI(t){var e=bi(t,2),n=e[0],r=e[1];if(0===r.length)return n;var o=new Set(r.map(function(t){return t.blockTypeID})),i=new Set,a=n.map(function(t){var e=o.has(t.blockTypeID);return e&&i.add(t.blockTypeID),ci(ci({},t),{},{hasLocalPack:e})}),s=r.filter(function(t){return!i.has(t.blockTypeID)});return a.concat(s)}var JI=function(){ui(i,cp);var e,n,o=yi(i);function i(){var t;ri(this,i);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return ai(vi(t=o.call.apply(o,[this].concat(n))),"name","block"),ai(vi(t),"blockListInfo",{cache:[],time:Date.now()}),ai(vi(t),"engine",void 0),ai(vi(t),"service",new VI(sa)),ai(vi(t),"ignoreBlockIds",null),t}return ii(i,[{key:"getBlockList",value:(n=ni(regeneratorRuntime.mark(function t(e){var n,r,o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=this.service.getBlockList(),r=e?this.service.getDebugBlockList(e):Promise.resolve([]),t.next=4,Promise.all([n,r]).then(YI);case 4:return o=t.sent,this.blockListInfo.cache=o,t.abrupt("return",this.blockListInfo.cache);case 7:case"end":return t.stop()}},t,this)})),function(t){return n.apply(this,arguments)})},{key:"hasBlock",value:function(e){return this.blockListInfo.cache.some(function(t){return t.blockTypeID===e})}},{key:"generateBlock",value:(e=ni(regeneratorRuntime.mark(function t(e){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.service.generateBlock(ci(ci({},e),{},{sourceData:e.sourceData||{}}));case 2:return n=t.sent,t.abrupt("return",ci(ci({},e),{},{blockID:n,sourceLink:"",i18nSummary:{"zh-CN":"","en-US":"","ja-JP":""},mentionList:[]}));case 4:case"end":return t.stop()}},t,this)})),function(t){return e.apply(this,arguments)})},{key:"registerUI",value:function(t){t("block",fa,this),t("creator",fa,this)}},{key:"load",value:function(e){var r,n=this;return e?e.config&&e.config.userId?(r=i.ENGINE_URL,new Promise(function(t,e){var n=document.createElement("script");n.src=r,n.onload=function(){return t()},n.onerror=e,document.body.appendChild(n)}).then(function(){n.engine=window.BlockEngine,n.engine.initEngine({userId:e.config.userId,host:sa.host,locale:sa.locale.replace("-","_"),env:sa.env,region:sa.region,platform:sa.platform}),"object"===Ic(e.api)&&Object.keys(e.api).forEach(function(t){n.engine.registerApi(ci({name:t},e.api[t]))})})):Promise.reject(new Error("options.config.userId å¿å¡«ï¼è¿ééè¦ä¸ä¸ªç¨æ·çå¯ä¸æ è¯")):Promise.reject(new Error("load blockEngine fail"))}},{key:"mountUI",value:function(t){for(var e=arguments.length,n=new Array(1<e?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return hi("block"===t?LI:PI,wi(n))}},{key:"removeUI",value:function(t,e){e.unMount()}},{key:"onDataChange",value:function(t){this.engine&&this.engine.updateData(t.blockID,t.sourceData||{})}},{key:"shouldCollaboration",value:function(t,e){var n;return this.ignoreBlockIds||(this.ignoreBlockIds=(n=WI[sa.region])&&n[sa.env]||[]),!this.ignoreBlockIds.includes(e)}},{key:"prefetchBlocks",value:function(t){if(!this.engine)throw new Error("Blockit.init needs to be called before prefetchBlocks");this.engine.preInstallApps(t.map(function(t){return{blockId:t,type:"block"}}))}}]),i}();function QI(t,e){if(t)switch(e){case"zh-CN":return t.zh_cn;case"en-US":return t.en_us;case"ja-JP":return t.ja_jp}return""}function GI(t,e){var n=e.locale,r=e.host,o=e.env,i=e.region,a=e.domain,s=e.platform;return n||r||o||i||a||s?{locale:n||t.locale,env:o||t.env,host:r||t.host,region:i||t.region,domain:a||t.domain,platform:s||t.platform}:t}function ZI(o,i){var a,s=null,c={},u=o.debug||!1,t=bf.ui.showLoading(o.blockRoot,c);return{start:function(t){Object.assign(c,t),a=performance.now(),bl({name:"op_blockit_".concat(t.type,"_load_start"),tags:{blockTypeID:t.blockTypeID,blockID:t.blockID,debug:u.toString()}})},bindBlock:function(n){var r=this;n.onLoaded(function(t){var e=performance.now();t&&r.removeLoading(),a&&(bl({name:"op_blockit_".concat(c.type,"_load_success"),tags:{blockTypeID:c.blockTypeID,blockID:c.blockID,debug:u.toString()}}),_l({name:"op_blockit_".concat(c.type,"_load"),value:e-a,tags:{blockTypeID:c.blockTypeID,blockID:c.blockID,debug:u.toString()}}))}),n.onLoadFail(function(t){var e=function(t,n,e){var r=t.errCode,o=t.extraErrInfo;if(r!==Vl.APP_CHECK_FAIL)return{status:r,tips:{content:"å è½½å¤±è´¥ï¼è¯·{retry}",params:{retry:{name:"éè¯",handler:e}},buttons:[]}};var i=o.block_extension_tip,a={status:o.block_extension.status,tips:{content:QI(i.content,n),params:{},buttons:(i.buttons||[]).map(function(t){return{name:QI(t.content,n),handler:function(){window.open(t.schema)}}})}};return Object.keys(i.params||{}).forEach(function(t){var e;"user"===t&&(e=JSON.parse(i.params[t]),a.tips.params[t]={name:"@"+QI(e.user_name,n),handler:function(){location.assign("lark://client/chat?userId="+e.user_id)}})}),a}(t.detail,i.locale,function(){r.removeError(),n.reload(u)});r.removeLoading(),s=bf.ui.showError(e,o.blockRoot,c),wl({value:t.detail.errMsg,level:"error",tags:{event:"blockLoadFail",code:t.detail.errCode}})})},remove:function(){this.removeLoading(),this.removeError()},removeLoading:function(){t&&t(),t=null},removeError:function(){s&&s(),s=null}}}ai(JI,"ENGINE_URL","https://sf6-scmcdn-tos.pstatp.com/goofy/pc/engine/block/browser/index-".concat("1.3.3",".js"));var KI=XI;function XI(t){return!!t&&("object"==typeof t||"function"==typeof t)&&"function"==typeof t.then}function tT(t){return bl({name:"op_blockit_api_"+t+"_start"}),performance.now()}function eT(t,e){var n;e&&(n=performance.now(),_l({name:"op_blockit_api_"+t,value:n-e})),bl({name:"op_blockit_api_"+t+"_success"})}function nT(i,a){return function(){try{for(var e=tT(a),t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var o=i.apply(this,n);return KI(o)?o.then(function(t){return eT(a,e),t}).catch(xl):eT(a,e),o}catch(t){throw xl(t),t}}}KI.default=XI;var rT,oT,iT,aT=(ii(uT,[{key:"setDebugPort",value:function(t){var e;this.env.debugPort!==t&&(e="".concat(xI(t),"/events"),"number"==typeof(this.env.debugPort=t)&&(this.eventSource=new EventSource(e)),bl({name:"op_blockit_debug",tags:{platform:"number"==typeof t?"pc":"mobile",port:t.toString()}}))}},{key:"setEnv",value:function(t){ca(t),Object.assign(this.env,t),yl(t)}},{key:"generateBlockID",value:function(t){return Promise.resolve("".concat(t.domain,"-").concat(t.uuid))}},{key:"doAction",value:function(n){var r=this;return new Promise(function(t,e){lp.mountUISync("panel",n.actionName,n.blockEntity,n.actionPanelRoot,GI(r.env,n),{retry:"number"==typeof n.retry?n.retry:0,delay:"number"==typeof n.delay?n.delay:0},n.extra).onSubmit(t,e)})}},{key:"register",value:function(n){var t,r=this,o=++this.id,e="propsViewRoots"in n?"propsViewRoots":"propsView",i=n.blockEntity,a=n[e],s=Object.keys(a),c="propsView"===e?a:s.reduce(function(t,e){return t[e]={root:a[e]},t},{}),u={};return s.forEach(function(t){r.removeProp(i.blockID,c[t].root);var e=lp.mountUISync("props",t,i,c[t].root,GI(r.env,n),c[t].extra);e&&(u[t]=[e,c[t].root],r.rootIDMap.set(c[t].root,[o,t]),"function"==typeof c[t].dataChange&&e.onDataChange(c[t].dataChange))}),Object.keys(u).length&&(this.propsIDMap.set(o,[i.blockID,u]),(t=this.blockIDMap.get(i.blockID))?t.push(o):this.blockIDMap.set(i.blockID,[o])),o}},{key:"removeItem",value:function(t,e,n){var r=bi(n,2),o=r[0],i=r[1];lp.unmountUI(t,"props",o,e),this.rootIDMap.delete(i)}},{key:"removeProp",value:function(t,e){var n,r,o,i,a,s,c=this.rootIDMap.get(e);c&&(r=(n=bi(c,2))[0],o=n[1],(i=this.propsIDMap.get(r))?(a=i[1])[o]&&(a[o],s=gi(a,[o].map(Si)),0===Object.keys(s).length?this.unregister(r):(i[1]=s,this.removeItem(t,o,a[o]))):this.rootIDMap.delete(e))}},{key:"unregister",value:function(t){var e=this;if("object"===Ic(t)){var n=this.blockIDMap.get(t.blockID);return!!n&&(n.forEach(function(t){return e.unregister(t)}),!0)}var r=this.propsIDMap.get(t);if(r){var o=bi(r,2),i=o[0],a=o[1];Object.keys(a).forEach(function(t){e.removeItem(i,t,a[t])});var s=this.blockIDMap.get(i);return s&&(Qi(s,t),s.length||this.blockIDMap.delete(i)),this.propsIDMap.delete(t)}return!1}},{key:"init",value:function(t,e){var n=t.config.userId;yl({userId:n});var r=[lp.loadEngine(t,e||"block")];return n&&"anything"!==n&&r.push(Promise.resolve(bf.storage.init(n))),Promise.all(r).then(function(){})}},{key:"getAvailableBlockList",value:function(){return this.blockEngine.getBlockList(this.env.debugPort)}},{key:"creatorHandler",value:function(t,e){return t.hasOwnProperty("blockID")?this.getBlockEntity(t.blockID):this.blockEngine.generateBlock(ci({blockTypeID:e},t))}},{key:"mountCreator",value:function(n){var e=this;if(!lp.engineLoaded("block"))return Promise.reject(new Error("please exec init"));var t=ZI(n,this.env);t.start({type:"creator",blockTypeID:n.blockTypeID});var r=lp.mountUISync("creator",n.blockTypeID,n.blockRoot,GI(this.env,n),{retry:0,delay:0,debug:n.debug||!1,cache:n.cache||!1});t.bindBlock(r);var o,i=r.unMount;return r.unMount=function(){t&&t.remove(),i.call(r)},this.eventSource&&(o=function(t){var e=JSON.parse(t.data);"reload"===e.type&&e.data.blockTypeId===n.blockTypeID&&r.reload(!0)},this.eventSource.addEventListener("message",o)),new Promise(function(t,e){r.onSubmit(t,e)}).then(function(t){return e.creatorHandler(t,n.blockTypeID)}).then(function(t){return r.destroy(),t}).finally(function(){e.eventSource&&o&&e.eventSource.removeEventListener("message",o)})}},{key:"mountBlock",value:function(n,t){var e=this;(t=t||ZI(n,this.env)).start({type:"block",blockID:n.blockEntity.blockID,blockTypeID:n.blockEntity.blockTypeID});var r,o=lp.mountUISync("block",n.blockEntity,n.blockRoot,GI(this.env,n),{debug:n.debug||!1,active:"boolean"!=typeof n.active||n.active,cache:n.cache||!1});t.bindBlock(o),this.eventSource&&(r=function(t){var e=JSON.parse(t.data);"reload"===e.type&&e.data.blockTypeId===n.blockEntity.blockTypeID&&o.reload(!0)},this.eventSource.addEventListener("message",r));var i=this.blockMap.get(n.blockEntity.blockID)||[];0===i.length&&this.blockMap.set(n.blockEntity.blockID,i),i.push(o);var a=o.unMount;return o.unMount=function(){i.includes(o)?(t&&t.remove(),Qi(i,o),lp.unmountUI(n.blockEntity.blockID,"block",o),e.eventSource&&r&&(e.eventSource.removeEventListener("message",r),e.eventSource=null)):a.call(o)},o}},{key:"getBlockEntity",value:function(t){return new VI(this.env).getBlockEntity(t)}},{key:"mountBlockByID",value:(iT=ni(regeneratorRuntime.mark(function t(e){var n,r,o,i,a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.blockID,r=gi(e,["blockID"]),o=ZI({blockRoot:e.blockRoot,debug:e.debug},this.env),t.prev=2,t.next=5,bf.storage.get(n);case 5:i=t.sent,t.next=10;break;case 8:t.prev=8,t.t0=t.catch(2);case 10:if(i){t.next=23;break}return t.next=13,bf.cacheFallback(n);case 13:return i=t.sent,t.prev=14,t.next=17,bf.storage.add(i);case 17:t.next=21;break;case 19:t.prev=19,t.t1=t.catch(14);case 21:t.next=24;break;case 23:bf.cacheFallback(n).then(function(t){bf.storage.update(t)},function(){a.unMount(),bf.storage.delete(n)});case 24:return a=this.mountBlock(ci({blockEntity:i},r),o),t.abrupt("return",a);case 26:case"end":return t.stop()}},t,this,[[2,8],[14,19]])})),function(t){return iT.apply(this,arguments)})},{key:"unmountBlock",value:function(e){var t;"string"==typeof e?(t=this.blockMap.get(e))&&(t.forEach(function(t){lp.unmountUI(e,"block",t)}),this.blockMap.delete(e)):e.unMount()}},{key:"registerEngine",value:function(t){return lp.registerEngine(t,!0)}},{key:"replaceKernelLibrary",value:function(t){var e;"function"==typeof(e=t)?Object.assign(bf,e(ci({},bf))):Object.assign(bf,e)}},{key:"prefetchBlocks",value:function(t){this.blockEngine.prefetchBlocks(t)}},{key:"cloneBlock",value:(oT=ni(regeneratorRuntime.mark(function t(e){var n,r=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.preEntity.blockTypeID,Promise.resolve(!0);case 2:if(!t.sent){t.next=10;break}if(lp.engineLoaded("block")){t.next=6;break}return t.abrupt("return",Promise.reject(new Error("please exec init")));case 6:return n=lp.mountUISync("creator",e.preEntity.blockTypeID,e.root||document.querySelector("body"),this.env,{retry:0,delay:0,debug:Boolean(e.debug),isClone:!0,preEntity:e.preEntity,cache:!1}),t.abrupt("return",new Promise(function(t,e){n.onSubmit(t,e)}).then(function(t){return r.creatorHandler(t,e.preEntity.blockTypeID)}));case 10:return t.abrupt("return",e.preEntity);case 11:case"end":return t.stop()}},t,this)})),function(t){return oT.apply(this,arguments)})},{key:"cloneBlockByID",value:(rT=ni(regeneratorRuntime.mark(function t(e){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getBlockEntity(e.preBlockID);case 2:return n=t.sent,t.abrupt("return",this.cloneBlock({preEntity:n,root:e.root,debug:e.debug}));case 4:case"end":return t.stop()}},t,this)})),function(t){return rT.apply(this,arguments)})}]),uT),sT=function(){ui(i,rp);var o=yi(i);function i(){var t;ri(this,i);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return ai(vi(t=o.call.apply(o,[this].concat(n))),"handlers",null),t}return ii(i,[{key:"createTag",value:function(){}},{key:"appendTag",value:function(){var e=this;this.handlers&&this.handlers.destroy(),this.handlers=this.render(this.entity,{root:this.root,env:this.env,onLoaded:function(){e.eventBus.emit("onLoad",!0)},onLoadError:function(t){e.eventBus.emit("onError",t)}})}},{key:"removeTag",value:function(){this.handlers&&this.handlers.destroy()}},{key:"reload",value:function(t){return t&&console.log("not support debug"),this.handlers&&this.handlers.update(this.entity),Promise.resolve()}},{key:"changeProp",value:function(t,e){}}]),i}(),cT=function(){ui(a,cp);var o=yi(a);function a(){var t;ri(this,a);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return ai(vi(t=o.call.apply(o,[this].concat(n))),"_hasInit",!0),ai(vi(t),"name","message"),t}return ii(a,[{key:"load",value:function(){return Promise.resolve()}},{key:"registerUI",value:function(t){var e,n=Mi(a.BlockMap.keys());try{for(n.s();!(e=n.n()).done;)t("block",e.value,this)}catch(t){n.e(t)}finally{n.f()}}},{key:"mountUI",value:function(t){for(var e=arguments.length,n=new Array(1<e?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var o=n[0].blockTypeID,i=a.BlockMap.get(o);if(i)return hi(i,n);throw new Error("")}},{key:"removeUI",value:function(t,e){e.unMount()}},{key:"onDataChange",value:function(){}}],[{key:"init",value:function(r){for(var t=function(t,e){var o=r[t],n=function(){ui(e,sT);var t=yi(e);function e(){return ri(this,e),t.apply(this,arguments)}return ii(e,[{key:"render",value:function(){for(var t,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(t=o.render).call.apply(t,[this].concat(n))}}]),e}();(Array.isArray(o.blockTypeID)?o.blockTypeID:[o.blockTypeID]).forEach(function(t){a.BlockMap.set(t,n)})},e=0,n=r.length;e<n;e++)t(e)}}]),a}();function uT(t){ri(this,uT),ai(this,"env",void 0),ai(this,"id",0),ai(this,"eventSource",null),ai(this,"propsIDMap",new Map),ai(this,"rootIDMap",new WeakMap),ai(this,"blockIDMap",new Map),ai(this,"blockMap",new Map),ai(this,"blockEngine",void 0),ai(this,"version",void 0);var e=ca(t),n=e.locale,r=e.host,o=e.env,i=e.region,a=e.domain,s=e.platform;this.env={locale:n,host:r,env:o,region:i,domain:a,platform:s},lp.registerEngine(CI),lp.registerEngine(DI),this.blockEngine=lp.registerEngine(JI),this.version="0.0.43-beta.49";for(var c=0,u=["init","getAvailableBlockList","mountCreator","mountBlock","mountBlockByID","prefetchBlocks","unmountBlock"];c<u.length;c++){var l=u[c];this[l]=nT(this[l],l).bind(this)}}ai(cT,"BlockMap",new Map);var lT=new aT({});fT.default=lT}.call(this,pT("yLpj"))}}]);
//# sourceMappingURL=commons--doc_blockit--hash-tags--publish-to-pano.afbd71e32d1bd0025f78.js.map