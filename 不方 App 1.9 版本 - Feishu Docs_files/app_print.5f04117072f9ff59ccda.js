(this.webpackJsonp=this.webpackJsonp||[]).push([["app_print"],{4:function(e,t){},"4D8z":function(e,t,n){"use strict";n.d(t,"j",function(){return o}),n.d(t,"q",function(){return a}),n.d(t,"r",function(){return c}),n.d(t,"t",function(){return u}),n.d(t,"l",function(){return l}),n.d(t,"m",function(){return s}),n.d(t,"h",function(){return d}),n.d(t,"i",function(){return f}),n.d(t,"g",function(){return p}),n.d(t,"w",function(){return h}),n.d(t,"y",function(){return m}),n.d(t,"x",function(){return v}),n.d(t,"z",function(){return b}),n.d(t,"F",function(){return y}),n.d(t,"C",function(){return g}),n.d(t,"v",function(){return k}),n.d(t,"A",function(){return _}),n.d(t,"k",function(){return E}),n.d(t,"u",function(){return O}),n.d(t,"p",function(){return C}),n.d(t,"n",function(){return L}),n.d(t,"f",function(){return w}),n.d(t,"o",function(){return T}),n.d(t,"a",function(){return S}),n.d(t,"E",function(){return I}),n.d(t,"e",function(){return R}),n.d(t,"b",function(){return P}),n.d(t,"D",function(){return D}),n.d(t,"B",function(){return j}),n.d(t,"s",function(){return B}),n.d(t,"c",function(){return x}),n.d(t,"d",function(){return N});var r=n("YNKm"),i=n("rLED"),o=730,a="pc",c=100,u=50,l=20,s=40,d=Object(i.j)()?270:320,f=270,p=20,h=60,m=40,v=24,b=20+(m-12),y=16,g=20,k={paddingLeft:0,paddingRight:0},_=(k.paddingLeft,k.paddingRight,0),E=45,O={ADD_COL_OR_ROW:"click_add_table_range",INSERT_TABLE:"click_add_table",REMOVE_TABLE:"client_delete_table",DRAG_COL_OR_ROW:"client_drag_table_range",REMOVE_COL_OR_ROW:"click_delete_table_range",TABLE_SRCOLL:"client_performance_doc_table_scroll",ADD_COL:"client_performance_doc_table_add_col",ADD_ROW:"client_performance_doc_table_add_row",DELETE_COL_OR_ROW:"client_performance_doc_table_delete_col_or_row",CLICK_COL_HEADER:"client_performance_doc_table_click_col_header",CLICK_ROW_HEADER:"client_performance_doc_table_click_row_header",MOUSE_ENTER:"client_performance_doc_table_horz_mouse_enter",HORZ_RESIZE:"client_performance_doc_table_horz_resize",HORZ_RESIZE_END:"client_performance_doc_table_horz_resize_end",MOUNT_TABLE:"mount_table"},C="insertTable",L="doInsertTable",w={DO_INSERT_TABLE:"DO_INSERT_TABLE",INSERT_TABLE_PICKER:"INSERT_TABLE_PICKER",DO_MERGE_CELL:"DO_MERGE_CELL",DO_UN_MERGE_CELL:"DO_UN_MERGE_CELL"},T=(r.s,r.t,r.u,r.i,r.M,r.db,r.B,r.l,r.h,r.H,r.J,r.c,r.a,r.d,r.G,{OVERLAY_CHANGE:"OVERLAY_CHANGE",CONTEXT_CHANGE:"CONTEXT_CHANGE",CUT:"TABLE_CUT",COPY:"TABLE_COPY",UPDATE_CELL_SELECT:"UPDATE_CELL_SELECT"}),S={COL_WIDTH:"colWidth",MERGE_CELL_ID:"mergeCellID",COL_SPAN:"colspan",ROW_SPAN:"rowspan",COL_MIN_WIDTH:"colMinWidth"},I={MOVE:"move",CLICK:"click",OTHER:""},R={TABLE_FULL_WIDTH:"tableFullWidth",PASTE_CELLS_ONTO_TABLE:"paste-cells-onto-table",TABLE_COL_WIDTH:"tableColWidth",TABLE_CELL_FOCUS:"tableCellFocus",TABLE_DRAG:"tableDrag",ADD_ROW:"addRow",DELETE_ROW:"deleteRow",ADD_COL:"addCol",DELETE_COL:"deleteCol",CHECK_IS_FOCUSED:"checkIsFocused",ADD_LINE_BETWEEN_TABLES:"addLineBetweenTables",TABLE_MERGE_CELL:"tableMergeCell",TABLE_UNMERGE_CELL:"tableUnMergeCell",DELETE_TABLE:"deleteTable",ZONE_FOCUS:"zoneFocus"},P={IFRAME:".block-type-IFRAME_BLOCK",FILE_CARD:".block-type-FILE_CARD_BLOCK.block-viewtype-card",FILE_CARD_PRVIEW:".block-type-FILE_CARD_BLOCK.block-viewtype-preview",LINK_BOOKMARK:".block-type-LINK_BLOCK.block-viewtype-card",POLL:".block-type-POLL_BLOCK",GROUP_CARD:".mention-type_5",JIRA_ISSUE:".jira-issue--card"},D="ace-table-row-select-hover",j="Table:handleHorzResize",B="table-cell-disable-selected-cell",x=["FILE_CARD_BLOCK","CHAT_CARD_BLOCK","DIAGRAM_BLOCK","EQUATION_BLOCK","MINDNOTE_BLOCK","LINK_BLOCK"],N=["POLL_BLOCK"]},"8wh8":function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"b",function(){return a});var r={},i={},o=function(){return r},a=function(){return i}},"96li":function(e,t,n){"use strict";var r,i;n.d(t,"a",function(){return r}),(i=r=r||{})[i.LOADING=0]="LOADING",i[i.UPLOADING=1]="UPLOADING",i[i.READY=2]="READY",i[i.FAILED=3]="FAILED"},ApcK:function(e,t,n){},"B+y1":function(e,t,n){},EGiY:function(e,t,n){e.exports={watermark:"_3K2NEN-3OMd-r0cfD5r0Ov","pdf-watermark":"_2nP8VwRwyc52IIX_quzx5x"}},HiAM:function(e,t,n){"use strict";n.d(t,"a",function(){return P}),n.d(t,"b",function(){return D}),n.d(t,"c",function(){return o});var r=n("J4zp"),O=n.n(r),C=n("UXvI"),L=n("q1tI"),w=n.n(L),T=n("toa8"),S=n("96li"),i=n("8wh8"),I=n("1dfU"),R=n("2ACu"),P="comment-image-cover",D="comment-image-placeholder",j=Object(i.b)(),B=function(e){var t=e.token&&j[e.token]?j[e.token]:e.coverSrc||e.src;return t},o=function(e){var u=e.imageItem,n=e.canEdit,t=e.onClick,r=e.onMouseDown,i=e.onLoad,l=e.onError,o=e.imageStatus,a=e.canLoadCover,c=B(u),s=Object(L.useState)(0===c.indexOf("blob:")),d=O()(s,2),f=d[0],p=d[1],h=Object(L.useState)(!1),m=O()(h,2),v=m[0],b=m[1],y=Object(L.useState)(c),g=O()(y,2),k=g[0],_=g[1],E=Object(L.useCallback)(function(){var i=!1,o=0,e=setTimeout(function(){i=!0},1e4),a=function(){c.cancel(),clearTimeout(e)},t=function(){T.d.get(k,{responseType:"blob"}).then(function(e){var t,n,r;e&&e.data&&e.data instanceof Blob?"application/json"===(t=e.data).type?((n=new FileReader).readAsText(t,"utf-8"),n.onload=function(){var e;"string"==typeof n.result?(90002004===(e=JSON.parse(n.result)).code?i?(_(u.src),b(!0),a()):c():90002006===e.code?(_(u.src),b(!0),a()):l(),Object(R.default)("dev_comment_image",{status:"downloadCoverFailed",image_token:u.token?Object(I.a)(u.token):"",reason:n.result})):l()},n.onerror=function(){l()}):(r=URL.createObjectURL(e.data),_(r),a(),u.token&&(j[u.token]=r,Object(R.default)("dev_comment_image",{status:"downloadCoverSuccess",image_token:Object(I.a)(u.token),duration:(new Date).getTime()-o})),p(!0)):l()}).catch(function(e){console.error(e),l()})},c=Object(C.default)(t,1e3,{leading:!0});return-1!==k.indexOf("blob:")||n||(o=(new Date).getTime(),c()),function(){c.cancel(),clearTimeout(e)}},[k,u]);return Object(L.useEffect)(function(){var e=null;return a&&(e=E()),function(){e&&e()}},[]),Object(L.useEffect)(function(){var e=null;return a&&(e=E()),function(){e&&e()}},[a]),Object(L.useEffect)(function(){var e;u.coverSrc&&(e=B(u),_(e))},[u.token]),o===S.a.READY||o===S.a.UPLOADING||o===S.a.LOADING&&(f||v)?w.a.createElement("img",{className:P,src:k,onMouseDown:r,onClick:t,onLoad:i,onError:l}):w.a.createElement("span",{className:D,"data-src":k})}},HmyT:function(e,t,n){"use strict";n.r(t),n.d(t,"jQuery",function(){return r}),n.d(t,"$",function(){return r});var r=n("EVdn");(window.jQuery=window.$=r).expr.cacheLength=1},NTnn:function(e,d,f){"use strict";(function(P){var e=f("RIqP"),D=f.n(e),t=f("o0o1"),j=f.n(t),n=f("yXPU"),B=f.n(n),r=f("lwsE"),x=f.n(r),i=f("W8MJ"),N=f.n(i),o=f("cDf5"),u=f.n(o),W=f("ifKl"),a=f("i8i4"),M=f.n(a),c=f("usyV"),F=f("HmyT"),K=f("H6oK"),$=f("n/R6"),U=f("2spZ"),H=f("2ACu"),z=f("FnDM"),V=(f("zpK4"),f("Thla")),q=f("vAXZ"),Z=f("zTCG"),Y=f("j1lG"),Q=f("rLED"),J=f("OX8E"),X=f("HiAM"),l=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":u()(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;0<=c;c--)(i=e[c])&&(a=(o<3?i(a):3<o?i(t,n,a):i(t,n))||a);return 3<o&&a&&Object.defineProperty(t,n,a),a},ee=4e4,te="printing",s=function(){function i(e){var t=this;x()(this,i),this.innerdocbody=null,this.activeSheetError=!1,this.timeoutId=0,this.timeoutFlagMap={},this.handleAllBlockContentRendered=W.default,this.handleAfterPrint=function(){clearTimeout(t.timeoutId),t.props.editor.off(K.ALL_BLOCK_CONTENT_RENDERED,t.handleAllBlockContentRendered),t.handleSuspendSheet(),t.enterVirtualScrollMode(),q.b.reset(),t.props.setShouldPrint(!1)};var n=e.doctypeString,r=e.iframe;this.props=e,this.iframe=r,n&&this.setDocType(n)}function e(e){return t.apply(this,arguments)}var t,n,r,o,a,c,u,l,s,d,f,p,h,m,v;function b(e,t){return n.apply(this,arguments)}function y(){return r.apply(this,arguments)}function g(){return o.apply(this,arguments)}function k(){return a.apply(this,arguments)}function _(){return c.apply(this,arguments)}function E(e,t){return u.apply(this,arguments)}function O(e){return l.apply(this,arguments)}function C(e,t){return s.apply(this,arguments)}function L(e){return d.apply(this,arguments)}function w(){return f.apply(this,arguments)}function T(){return p.apply(this,arguments)}function S(){return h.apply(this,arguments)}function I(){return m.apply(this,arguments)}function R(){return v.apply(this,arguments)}return N()(i,[{key:"isTimeout",value:function(e){return!(!e||!this.timeoutFlagMap[e])}},{key:"setIsTimeout",value:function(e){this.timeoutFlagMap[e]=!0}},{key:"showToast",value:function(){$.a.show({key:te,type:"loading",content:P("export.start_print"),duration:0,closable:!1})}},{key:"hideToast",value:function(){$.a.remove(te)}},{key:"checkIsCodeBlockExist",value:function(){return!!document.querySelector(".".concat(Z.a.SPAN,", .list-code"))}},{key:"handlePrint",value:function(){this.isNewGalleryEnable=Object(Q.Q)(),this.handleBeforePrint().then(this.handlePrintContent).catch(this.handlePrintFail).finally(this.handleAfterPrint)}},{key:"handleBeforePrint",value:(v=B()(j.a.mark(function e(){var t,n=this;return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.props.editor){e.next=3;break}throw new Error("editor no ready");case 3:return this.showToast(),this.innerdocbody=document.getElementById("innerdocbody"),t=this.timeoutId=window.setTimeout(function(){n.handlePrintFail(new Error("print timeout"),t),n.handleAfterPrint(),n.setIsTimeout(t)},ee),e.next=8,this.waitAllRender();case 8:if(this.props.printComment)return e.next=11,this.waitCommentReady();e.next=11;break;case 11:return e.abrupt("return",t);case 12:case"end":return e.stop()}},e,this)})),R)},{key:"handlePrintFail",value:function(e,t){this.isTimeout(t)||(console.error(e),this.hideToast(),$.a.error({content:P("export.print_timeout")}),Object(H.default)("docs_print_timeout",{token:Object(z.d)(),is_timeout:"true"}))}},{key:"waitAllRender",value:(m=B()(j.a.mark(function e(){return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([this.waitBlockReady(),this.waitTableReady()]);case 2:case"end":return e.stop()}},e,this)})),I)},{key:"waitCommentReady",value:(h=B()(j.a.mark(function e(){return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e){Object(F.$)(".doc-comment").length?J.a.trigger("AnimateContainer.beforePrint",[e]):e(void 0)}));case 1:case"end":return e.stop()}},e)})),S)},{key:"waitBlockReady",value:(p=B()(j.a.mark(function e(){var t,n=this;return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((t=this.props.editor).blockRender.toggleVirtualScrollMode(!1),t.plugins.blockPlugin.isAllBlockContentRendered()){e.next=5;break}return e.next=5,new Promise(function(e){n.handleAllBlockContentRendered=e,t.on(K.ALL_BLOCK_CONTENT_RENDERED,e)});case 5:return e.abrupt("return",Promise.all([this.waitIframeReady(),this.waitCanvasReady()]));case 6:case"end":return e.stop()}},e,this)})),T)},{key:"waitTableReady",value:function(){Object(F.$)(".tb-scrollable-content").scrollLeft(0)}},{key:"waitIframeReady",value:function(){this.props.editor.call("printEntered")}},{key:"waitCanvasReady",value:(f=B()(j.a.mark(function e(){var t,n,r;return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.innerdocbody){e.next=2;break}return e.abrupt("return");case 2:if(t=this.props.canvas,n=Object(F.$)(this.innerdocbody).find("canvas"),t&&(r=0,n.addBack("canvas").each(function(){Object(F.$)(this).attr("data-print",r++)})),this.activeSheetError=!1,0<n.length)return e.prev=8,e.next=11,this.handleActiveSheet();e.next=20;break;case 11:e.next=20;break;case 13:return e.prev=13,e.t0=e.catch(8),this.hideToast(),this.activeSheetError=!0,e.next=19,this.handleSuspendSheet();case 19:console.error(e.t0);case 20:case"end":return e.stop()}},e,this,[[8,13]])})),w)},{key:"handlePrintContent",value:(d=B()(j.a.mark(function e(t){var n,r,i,o=this;return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(F.$)(this.iframe).contents(),r=n.find("head"),i=n.find("body"),e.next=5,this.initHeader(r,i);case 5:return e.next=7,this.initBody(r,i);case 7:return e.abrupt("return",Promise.all([this.handleAsyncLoadIframe(i),this.handleAsyncLoadCoverImg(i),this.handleAsyncLoadLoadingImg(i),this.handleAsyncLoadAllImg(i),this.handleAsyncLoadCommentImg(i),this.handleAsyncLoadFonts()]).then(function(){o.print(t,r)}));case 8:case"end":return e.stop()}},e,this)})),L)},{key:"initHeader",value:(s=B()(j.a.mark(function e(r,t){var n,i,o,a,c,u;return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.props,i=n.importStyle,o=n.pageTitle,a=n.header,r.html(""),r.append('<meta charset="UTF-8">'),r.append("<style>body{-webkit-print-color-adjust: exact; print-color-adjust: exact;}</style>"),i&&D()(document.querySelectorAll("style")).forEach(function(e){var t=e.cloneNode(!0);if(r[0].appendChild(t),"styled"in e.dataset&&"styledVersion"in e.dataset||"styledComponents"in e.dataset)for(var n=0;n<e.sheet.rules.length;n++)t.sheet.insertRule(e.sheet.rules[n].cssText)}),o?r.append("<title>".concat(o,"</title>")):(c=document.createElement("title"),u=Object(F.$)("title").get(0).text,c.innerText=u,r.append(c)),a&&this.appendContent(t.get(0),a),e.next=9,this.handleAsyncImportCSS(r);case 9:case"end":return e.stop()}},e,this)})),C)},{key:"handleAsyncImportCSS",value:(l=B()(j.a.mark(function e(t){var n,r=this;return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.props.importCSS)return n=Array.from(document.querySelectorAll("link[rel=stylesheet]")),e.next=5,Promise.all(n.map(function(e){return r.generateCSSLoadPromise(t,e)}));e.next=5;break;case 5:case"end":return e.stop()}},e,this)})),O)},{key:"generateCSSLoadPromise",value:(u=B()(j.a.mark(function e(r,i){var t;return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=i.href)return e.next=4,new Promise(function(n){F.$.ajax({url:t,success:function(e){var t=document.createElement("style");t.media=i.media||"all",t.innerText=e,r.append(t),n(void 0)}})});e.next=4;break;case 4:case"end":return e.stop()}},e)})),E)},{key:"handleCoverTableStyle",value:function(n){Object(F.$)(".ace-table-mount-point").each(function(e,t){q.b.do(q.a.PRINT_TABLE,{table:t,getStyleSheetContainer:function(){return n.get(0)}})})}},{key:"handleCoverEmptyLineStyle",value:function(e){var t=this.props.editor;t&&q.b.do(q.a.EMPTY_LINE,{editor:t,getStyleSheetContainer:function(){return e.get(0)}})}},{key:"handleAsyncLoadIframe",value:function(e){var t=Array.from(Object(F.$)(".iframe-container iframe",e)).filter(function(e){return e.getAttribute("src")});return Promise.all(t.map(this.generateIframeLoadPromise))}},{key:"generateIframeLoadPromise",value:function(r){return new Promise(function(e){var t=function(){clearTimeout(n),e(void 0)},n=setTimeout(t,1e4);r.onload=t,r.onerror=t})}},{key:"handleAsyncLoadCoverImg",value:function(e){var t=Array.from(Object(F.$)(".preview-cover-img",e)).filter(function(e){return e.getAttribute("src")});return Promise.all(t.map(this.generateCoverImgLoadPromise))}},{key:"generateCoverImgLoadPromise",value:function(r){return new Promise(function(n){r.onload=function(){var e=Object(F.$)(r).parents(".block-v-text"),t=Object(F.$)(".drive-cover-preview",e);Object(F.$)(".preview-content",e).html("").append(t),n()},r.onerror=function(){var e=Object(F.$)(r).parents(".block-v-text");Object(F.$)(".drive-uploader",e).css("display","flex"),e.html(Object(F.$)(".drive-uploader",e)[0].outerHTML),Object(F.$)(e).parents(".block-viewtype-preview").removeClass("block-viewtype-preview"),n()}})}},{key:"handleAsyncLoadLoadingImg",value:function(e){var t=this.isNewGalleryEnable?'img[data-selector="'.concat(Y.x,'"]'):"i.image-loading:not(.image-loaded)+img",n=Array.from(Object(F.$)(t,e.get(0)));return Promise.all(n.map(this.generateLoadingImgPromise))}},{key:"generateLoadingImgPromise",value:function(c){var u=this;return new Promise(function(e){var t,n,r,i,o=Object(F.$)(c),a=o.attr("data-src");a?(t=u.isNewGalleryEnable?'[data-selector="'.concat(Y.y,'"]'):"i.image-loading:not(.image-loaded)",n=o.siblings(t),r=function(){n&&n.remove(),e(void 0),o.off()},o.on("error",r),o.on("load",r),i=a.replace(/"/g,"").replace(/'/g,""),o.attr("src",i)):e(void 0)})}},{key:"handleAsyncLoadAllImg",value:function(e){var t=Array.from(Object(F.$)("img:not(:hidden)",e.get(0)));return Promise.all(t.map(this.generateLoadedImgPromise))}},{key:"generateLoadedImgPromise",value:function(t){return new Promise(function(e){t.complete?e(void 0):(t.addEventListener("load",e),t.addEventListener("error",e))})}},{key:"handleAsyncLoadCommentImg",value:function(e){var t=Array.from(Object(F.$)("."+X.b,e.get(0)));return Promise.all(t.map(this.generateCommentImgPromise))}},{key:"generateCommentImgPromise",value:function(a){return new Promise(function(e){var t,n,r,i=Object(F.$)(a),o=i.attr("data-src");o?(t=i.parent(),(n=Object(F.$)(document.createElement("img"))).addClass(X.a),r=function(){n.off(),e(void 0)},n.on("error",r),n.on("load",r),n.attr("src",o),t.html(""),t.append(n)):e(void 0)})}},{key:"handleAsyncLoadFonts",value:(c=B()(j.a.mark(function e(){var n=this;return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.checkIsCodeBlockExist())return e.next=3,new Promise(function(e){var t=n.iframe.contentDocument;t&&t.fonts?t.fonts.load('100px "'.concat(Z.b,'"'),"BESbswy").then(e):setTimeout(e,1e3)});e.next=3;break;case 3:case"end":return e.stop()}},e,this)})),_)},{key:"handleActiveSheet",value:(a=B()(j.a.mark(function e(){var t;return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.editor,e.next=3,t.plugins.blockPlugin.notify({eventType:"screenshot",status:0,detail:{isBlob:!1}});case 3:case"end":return e.stop()}},e,this)})),k)},{key:"handleSuspendSheet",value:(o=B()(j.a.mark(function e(){var t;return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.editor,e.next=3,t.plugins.blockPlugin.notify({eventType:"screenshot",status:1});case 3:case"end":return e.stop()}},e,this)})),g)},{key:"handleOldActiveSheet",value:(r=B()(j.a.mark(function e(){var t,n;return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.editor,n=Array.from(Object(F.$)(this.innerdocbody).children()),t.plugins.sheet.handlePrintSheetDom(n,!0),e.next=5,Object(U.c)(0);case 5:return t.plugins.sheet.handlePrintSheetDom(n,!0),e.next=8,Object(U.c)(0);case 8:case"end":return e.stop()}},e,this)})),y)},{key:"handleOldSuspendSheet",value:function(){var e=this.props.editor,t=Array.from(Object(F.$)(this.innerdocbody).children());e.plugins.sheet.handlePrintSheetDom(t,!1)}},{key:"print",value:function(e,t){var n=this;setTimeout(function(){n.isTimeout(e)||(clearTimeout(e),n.execPrint(t.get(0)))},1e3)}},{key:"execPrint",value:function(e){this.hideToast(),Object(F.$)(this.iframe).hasClass("MSIE")?(window.frames.printIframe.focus(),Object(F.$)(e).append("<script>window.print();<\/script>")):document.queryCommandSupported("print")?this.iframe.contentWindow.document.execCommand("print",!1,null):(this.iframe.contentWindow.focus(),this.iframe.contentWindow.print())}},{key:"enterVirtualScrollMode",value:function(){this.props.editor.blockRender.toggleVirtualScrollMode(!0)}},{key:"appendContent",value:function(e,t){t&&Object(F.$)(e).append(t)}},{key:"initBody",value:(n=B()(j.a.mark(function e(t,n){var r,i,o,a,c,u,l,s,d,f,p,h,m,v;return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=document.getElementById("innerdocbody")){e.next=3;break}return e.abrupt("return");case 3:return i=this.props,o=i.removeScripts,a=i.printContainer,c=i.printComment,u=i.removeClasses,l=i.footer,n.html(""),s=Object(F.$)("body").attr("id")||"",n.attr("id",s),d=Object(F.$)(r).clone(),f=Object(F.$)("div[class*='".concat(V.a,"']")).eq(0).clone().css({position:"fixed"}),(p=Object(F.$)(document.createElement("div"))).addClass("print").append(f).append(d),Object(F.$)(".preview-content iframe",d).each(function(e,t){var n=Object(F.$)(t).parents(".box-preview-wrap");Object(F.$)(t).parent().remove();var r=Object(F.$)(".drive-cover-preview",n);r.css("display","block");var i=Object(F.$)("img",r),o=i.attr("data-src");o&&i.attr("src",o)}),o&&d.find("script").remove(),this.isNewGalleryEnable?(d.find(".align-full").find(".image-container-wrap").css({height:"auto"}).find("img").css({maxWidth:"100vw",height:"auto",transform:"translate(0)"}),d.find(".image-resizer-container").remove()):d.find(".align-full").removeClass("align-full").find("img").css({width:"100%"}),d.find(".diagram-block").css({maxWidth:"100%",height:"auto",transform:"translate(0)"}),d.find(".diagram-block_svg").css({maxWidth:"100%"}),this.handleISVBlock(p),e.next=19,this.handleSheetBackup(n);case 19:c&&(d.addClass("has-comment"),(h=Object(F.$)(".doc-comment").clone()).css("transform","translateX(0px)"),h&&(h.appendTo(p),h.find(".doc-comment__first-comment-btn").remove(),h.find(".comment-panel--out-viewport").removeClass("comment-panel--out-viewport")),(m=Object(F.$)("#globalComment").clone())&&(Object(F.$)(".comment-list-item__wrapper",m).each(function(e,t){Object(F.$)(t).removeClass("highlight-comment")}),m.find(".global-comment__textarea").remove(),m.appendTo(d))),l&&this.appendContent(n.get(0),l),u&&0<u.length&&u.forEach(function(e){n.find(".".concat(e)).each(function(){Object(F.$)(this).removeClass(e)})}),this.handleCoverTableStyle(t),this.handleCoverEmptyLineStyle(t),v=n.get(0),a?p.appendTo(v):p.each(function(){Object(F.$)(this).children().appendTo(v)});case 26:case"end":return e.stop()}},e,this)})),b)},{key:"handleISVBlock",value:function(e){var o=this.props.editor;o&&e.find(".block-type-ISV_BLOCK").each(function(e,t){var n=Object(F.$)(t),r=n.data().metaBlockProps,i=o.plugins.blockPlugin.getBlockById(r.blockId);M.a.render(i.placeHolderView(),n.find(".block-container").empty().get(0))})}},{key:"handleSheetBackup",value:(t=B()(j.a.mark(function e(t){return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.props.canvas&&this.activeSheetError)return e.next=4,this.handleOldActiveSheet();e.next=7;break;case 4:t.find("canvas").each(function(){var e=Object(F.$)(this).data("print"),t=Object(F.$)('[data-print="'+e+'"]'),n=t[0];Object(F.$)(this).attr("width",n.width),Object(F.$)(this).attr("height",n.height);var r=t.attr("style");r&&Object(F.$)(this).attr("style",r),this.getContext("2d").drawImage(n,0,0),t.removeData("print")}),this.handleOldSuspendSheet();case 7:case"end":return e.stop()}},e,this)})),e)},{key:"setDocType",value:function(e){var t=this.iframe,n=(t=t.contentWindow||t.contentDocument||t).document||t.contentDocument||t;n.open(),n.write(e),n.close()}}]),i}(),s=l([c.default],s);d.a=s}).call(this,f("2vAP"))},SskX:function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,(e.exports=n).id="SskX"},Thla:function(e,t,n){"use strict";var r=n("lSNA"),i=n.n(r),o=n("lwsE"),a=n.n(o),c=n("W8MJ"),u=n.n(c),l=n("a1gu"),s=n.n(l),d=n("Nsbk"),f=n.n(d),p=n("7W2i"),h=n.n(p),m=n("Muja"),v=n("fp5s"),b=n("hMnB"),y=n.n(b),g=n("q1tI"),k=n.n(g),_=(n("17x9"),n("TSYQ")),E=n.n(_),O=n("BLac"),C=n("Zfr0"),L=function(){function r(e,t,n){a()(this,r),this.selector="."+e,this.options=Object.assign({},r.defaultOptions,{},n),this.wm=Object(O.d)(t,Object.assign({},this.options,{type:Object(C.getWatermarkType)(),selector:this.selector}))}return u()(r,[{key:"update",value:function(e,t){this.options=Object.assign({},this.options,{},t),this.wm.update(e,Object.assign({},this.options,{type:Object(C.getWatermarkType)(),selector:this.selector}))}},{key:"destroy",value:function(){this.wm.destroy()}}]),r}();L.defaultOptions=Object(C.getDefaultWatermarkOptions)();var w=n("EGiY"),T=n.n(w),S=n("VI6H"),I=n("QM+C");n.d(t,"a",function(){return R});var R="TIAWBFTROSIDWYKTTIAW";function P(e){var t=Object(S.o)(e.id,e.name);return Object(C.getMark)({name:t,mobile:e.mobile,email:e.email})}function D(){var e=new URLSearchParams(y.a.search),t=e.get("name")||"",n=e.get("mobile")||"",r=e.get("email")||"";return Object(C.getMark)({name:t,mobile:n,email:r})}var j=function(e){function n(e){var t;return a()(this,n),(t=s()(this,f()(n).call(this,e))).wm=null,t.destroyWatermark=function(){t.wm&&(t.removeSSRHandler&&cancelAnimationFrame(t.removeSSRHandler),t.wm.destroy())},t.removeSSRWatermark=function(){var e=document.querySelector(".ssrWaterMark"),t=document.querySelector("#watermarkSSRStyle");e&&e.remove(),t&&t.remove()},t.token=R+Object(v.a)(),t}return h()(n,e),u()(n,[{key:"componentDidMount",value:function(){this.isVisible()&&this.renderWatermark(this.watermarkText,this.props.watermarkOptions)}},{key:"shouldComponentUpdate",value:function(e){return this.props.user.id!==e.user.id||!Object(m.default)(this.props.style,e.style)||this.props.settings.enable_watermark!==e.settings.enable_watermark||!Object(m.default)(this.props.watermarkOptions,e.watermarkOptions)}},{key:"componentDidUpdate",value:function(e){this.isVisible()?this.renderWatermark(this.watermarkText,this.props.watermarkOptions):this.destroyWatermark()}},{key:"componentWillUnmount",value:function(){this.destroyWatermark()}},{key:"componentDidCatch",value:function(e){console.error(e)}},{key:"isVisible",value:function(){return Object(C.isRenderWatermark)(this.props.settings.enable_watermark)}},{key:"renderWatermark",value:function(e,t){this.wm?this.wm.update(e,t):(this.wm=new L(this.token,e,t),this.removeSSRHandler=requestAnimationFrame(this.removeSSRWatermark))}},{key:"render",value:function(){if(this.isVisible()){var e,t=this.props.style,n=E()(this.token,(e={},i()(e,T.a.watermark,!I.isPDFAccess),i()(e,T.a["pdf-watermark"],I.isPDFAccess),e));return k.a.createElement("div",{className:n,style:t})}return null}},{key:"watermarkText",get:function(){var e=this.props.user;return I.isPDFAccess?D():P(e)}}]),n}(k.a.Component);j.defaultProps={style:{},watermarkOptions:{}};t.b=j},X1CV:function(e,t,n){"use strict";n.r(t);var r=n("m/+l"),i=n("eBmR"),o=n("ZSG8"),a=n("vc5i"),c=n("qKwb"),u={setShouldPrint:o.r},l=function(e){return{shouldPrint:Object(a.I)(e),editor:Object(c.c)(e)}};t.default=Object(r.connect)(l,u)(i.a)},Zfr0:function(e,t,n){"use strict";n.r(t),n.d(t,"getWatermarkType",function(){return f}),n.d(t,"getMark",function(){return p}),n.d(t,"getAnonymousMark",function(){return h}),n.d(t,"getActualLength",function(){return m}),n.d(t,"isLark",function(){return v}),n.d(t,"isRenderWatermark",function(){return b}),n.d(t,"getWatermarkColor",function(){return y}),n.d(t,"getDefaultWatermarkOptions",function(){return g});var r=n("puQj"),i=n.n(r),o=n("qxQb"),a=n.n(o),c=n("MjSh"),u=n("iP/4"),l=n("BLac"),s=n("7cb0"),d=n("QM+C");function f(){return u.a.isQQ||u.a.is360||u.a.windows?l.c.CanvasWM:l.c.SVG}var p=function(e){var t,n="",r=e.name,i=e.mobile,o=e.email,a="",c="";switch(i&&4<=i.length&&(a=i.substring(i.length-4,i.length)),o&&(c=(t=o.match(/.+(?=@)/))?t[0]:""),!0){case a&&m(r+a)<25:n="".concat(r," ").concat(a);break;case a&&25<=m(r+a):n="".concat(r.substring(0,17),"... ").concat(a);break;case m(r+c)<25:n="".concat(r," ").concat(c);break;case 25<m(r)&&25<m(c):n="".concat(c.substring(0,22),"...");break;case m(r)<=25&&25<m(c):n=r;break;case 25<m(r)&&m(c)<=0:n="".concat(r.substring(0,22),"...");break;default:n=c}return n},h=function(e){var t="",n=e.name,r=e.tenant_name;switch(!0){case m(n+r)<=25:t="".concat(r," ").concat(n);break;case 25<m(n+r):t="".concat(r.substring(0,m(n)),"... ").concat(n);break;default:t="".concat(r," ").concat(n)}return t},m=function(e){for(var t=0,n=0;n<e.length;n++)256<=e[n].codePointAt(0)?t+=2:t+=1;return t};function v(){return/Lark/g.test(navigator.userAgent)}function b(e){return!(void 0===e||!d.isAnonymousAccess&&!d.isPDFAccess)||(v()?!Object(s.b)(s.a.isEnabledNativeWatermark):!(!/\blark=\d/.test(location.search)||v())||void 0!==e&&0!==e)}function y(){return i.a.windows?a()(c.N500,.12):(i.a.mac,a()(c.N500,.1))}function g(){return{fontSize:14,color:y(),gap:148,rotate:-15}}},eBmR:function(e,L,w){"use strict";(function(r){var e=w("qPIi"),i=w.n(e),t=w("lwsE"),o=w.n(t),n=w("W8MJ"),a=w.n(n),c=w("a1gu"),u=w.n(c),l=w("Nsbk"),s=w.n(l),d=w("7W2i"),f=w.n(d),p=w("hMnB"),h=w.n(p),m=w("q1tI"),v=w("i8i4"),b=w.n(v),y=w("NTnn"),g=w("iP/4"),k=w("2ACu"),_=w("ybRk"),E=w("KrGf"),O={position:"absolute",width:1200,height:840,top:64,left:-1300,zIndex:3,background:"#fff"},C=function(e){function t(){var n;return o()(this,t),(n=u()(this,s()(t).apply(this,arguments))).state={display:"none",visible:!1,printComment:!1},n.getPrintIframe=function(e){n.iframe=Object(v.findDOMNode)(e)},n.renderIEIframe=function(){var e='javascript:document.write("<head><script>document.domain=\\"'.concat(document.domain,'\\";\n                       <\/script></head><body></body>")'),t="MSIE";return m.createElement("iframe",{id:n.iframeName,className:t,src:e,ref:n.getPrintIframe,name:"printIframe",style:n.printIframeStyle})},n.setShouldPrint=function(e){var t;e?n.setState({display:"block"}):(t=n.props.setShouldPrint,n.setState({display:"none"}),t(e))},n.collectSecurityAuditPrint=function(){Promise.all([w.e("commons--PCDocSheetBridge--bear-bitable-external--bear-external--bear-sheet-external--btn_groups--d--dba25785"),w.e("vendors--doc_collector_security_audit"),w.e("doc_collector_security_audit")]).then(w.bind(null,"x6vj")).then(function(e){(0,e.collectSecurityAudit)(e.ISecurityAudit.OperationType.OperationPrint)})},n}return f()(t,e),a()(t,[{key:"componentDidMount",value:function(){var e=this.props.shouldPrint;Object(E.b)()&&e?this.handlePrint():this.setState({visible:e})}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=e.shouldPrint;Object(E.b)()&&t?this.handlePrint():this.setState({visible:t})}},{key:"componentDidUpdate",value:function(){var e,t;"block"===this.state.display&&(e=this.props.editor,t={debug:!1,importCSS:!0,importStyle:!0,pageTitle:"",printDelay:333,header:null,footer:null,formValues:!0,canvas:!0,base:!1,doctypeString:"<!DOCTYPE html>",removeScripts:!1,copyTagClasses:!1,printContainer:!0,printComment:this.state.printComment,removeClasses:["image-gif-container"],editor:e,iframe:this.iframe,setShouldPrint:this.setShouldPrint},new y.a(t).handlePrint())}},{key:"handlePrint",value:function(){this.setShouldPrint(!0),Object(k.default)("click_file_print_option",{is_print_comment:this.state.printComment}),this.collectSecurityAuditPrint()}},{key:"renderIframe",value:function(){return this.isUnderIE?this.renderIEIframe():m.createElement("iframe",{id:this.iframeName,ref:this.getPrintIframe,name:"printIframe",style:this.printIframeStyle})}},{key:"renderPanel",value:function(){var n=this;return m.createElement(_.a,{visible:this.state.visible,title:r("common.doc_print.print_alert_title"),onClose:function(){n.props.setShouldPrint(!1),n.setState({visible:!1})},onCancelClick:function(){return n.props.setShouldPrint(!1),!0},onOkClick:function(){return n.handlePrint(),!0},okText:r("common.confirm"),cancelText:r("common.cancel"),width:500,destroyAfterClose:!0},m.createElement("div",{className:"print-panel",style:{display:"flex"}},m.createElement(i.a.Group,{prefixCls:"cp-radio",onChange:function(e){var t=e.target.value;n.setState({printComment:t})},value:this.state.printComment},m.createElement(i.a,{prefixCls:"cp-radio",value:!1},r("common.doc_print.print_option.body_only")),m.createElement(i.a,{prefixCls:"cp-radio",value:!0},r("common.doc_print.print_option.include_comment")))))}},{key:"render",value:function(){return b.a.createPortal(m.createElement("div",null,this.renderPanel(),this.renderIframe()),document.body)}},{key:"iframeName",get:function(){return"print-".concat((new Date).getTime())}},{key:"isUnderIE",get:function(){return h.a.hostname!==document.domain&&g.a.msie}},{key:"printIframeStyle",get:function(){var e=this.state.display;return Object.assign({},O,{display:e})}}]),t}(m.Component);L.a=C}).call(this,w("2vAP"))},j1lG:function(e,t,n){"use strict";n.d(t,"J",function(){return o}),n.d(t,"l",function(){return a}),n.d(t,"M",function(){return c}),n.d(t,"K",function(){return u}),n.d(t,"c",function(){return l}),n.d(t,"d",function(){return s}),n.d(t,"r",function(){return d}),n.d(t,"s",function(){return f}),n.d(t,"x",function(){return p}),n.d(t,"t",function(){return h}),n.d(t,"u",function(){return m}),n.d(t,"v",function(){return v}),n.d(t,"y",function(){return b}),n.d(t,"B",function(){return y}),n.d(t,"n",function(){return g}),n.d(t,"o",function(){return k}),n.d(t,"m",function(){return _}),n.d(t,"w",function(){return E}),n.d(t,"D",function(){return r}),n.d(t,"j",function(){return T}),n.d(t,"g",function(){return S}),n.d(t,"I",function(){return I}),n.d(t,"A",function(){return R}),n.d(t,"C",function(){return P}),n.d(t,"L",function(){return D}),n.d(t,"z",function(){return j}),n.d(t,"P",function(){return B}),n.d(t,"p",function(){return x}),n.d(t,"e",function(){return N}),n.d(t,"f",function(){return W}),n.d(t,"H",function(){return M}),n.d(t,"N",function(){return F}),n.d(t,"O",function(){return K}),n.d(t,"k",function(){return $}),n.d(t,"q",function(){return O}),n.d(t,"E",function(){return L}),n.d(t,"h",function(){return q}),n.d(t,"i",function(){return Z}),n.d(t,"b",function(){return Y}),n.d(t,"a",function(){return Q}),n.d(t,"F",function(){return U}),n.d(t,"G",function(){return z});var r,i,o="new-gallery",a="gallery-line",c="image-uploaded",u="gallery",l="clientside-gallery",s="clientside-image-uploaded",d="image-container-wrap",f="image-draggable",p="image-loading",h="data-image-guide",m="true",v="[".concat(h,'="').concat(m,'"]'),b="image-loading-view",y=" ",g=("".concat(y,"\n"),"drop-animate-left"),k="drop-animate-right",_=220,E=6;(i=r=r||{}).Drive="Drive",i.Doc="Doc",i.External="External";var O,C,L,w,T=/\/api\/box\/stream\/download\/(?:v\d+\/)?(all|cover)\/(\w*)/,S=/\/api\/file\/f\/(\w*)/,I=20,R=2,P=0,D="",j=20971520,B="TOGGLE_IMAGE_BORDER",x=[c,u,l,s],N=120,W=120,M=16/9,F=200,K=200,$="text/gallery";(C=O=O||{}).IMAGE_SET_HIGHLIGHT="IMAGE_SET_HIGHLIGHT",C.IMAGE_UPDATE_MARK="IMAGE_UPDATE_MARK",(w=L=L||{}).Initial="Initial",w.Loading="Loading",w.Finished="Finished",w.GifPreLoading="GifPreLoading",w.GifLoading="GifLoading",w.LoadingWithPreview="LoadingWithPreview";var U,H,z,V,q=20,Z=40,Y=8,Q={left:"flex-start",center:"center",right:"flex-end"};(H=U=U||{}).APanel="APanel",H.Drag="Drag",H.Paste="Paste",(V=z=z||{}).Success="Success",V.Fail="Fail"},kESg:function(e,t,n){"use strict";n.d(t,"h",function(){return p}),n.d(t,"j",function(){return h}),n.d(t,"k",function(){return a}),n.d(t,"a",function(){return b}),n.d(t,"l",function(){return m}),n.d(t,"e",function(){return y}),n.d(t,"b",function(){return g}),n.d(t,"m",function(){return k}),n.d(t,"f",function(){return _}),n.d(t,"c",function(){return E}),n.d(t,"d",function(){return O}),n.d(t,"g",function(){return C}),n.d(t,"i",function(){return L});var r,i,o,a,c,u=n("lSNA"),l=n.n(u),s=n("H6oK"),d=n("AiBH"),f=n("YNKm"),p=10,h=8;(c=a=a||{}).ZoneId="zoneId",c.ZoneType="zoneType";var m,v,b="aceTable";(v=m=m||{}).Table="table",v.CodeBlock="codeBlock",v.CalloutBlock="calloutBlock",v.Default="default";var y={SPAN:"zone-plugin-region",ACE_LINE:"zone-plugin-ace-line",SELECTED:"zone-selected",SCROLL_CONTAINER:"zone-scroll-container"},g=[m.CodeBlock,m.CalloutBlock],k='<div class="ace-zone-loading-container"><div class="ace-zone-loading"><div class="ace-zone-loader"><svg class="circular" viewBox="25 25 50 50"><circle class="path" cx="50" cy="50" r="20" fill="none" stroke-width="4" stroke-miterlimit="10"></circle></svg></div></div></div>',_={ALL_ZONE_DID_RENDER:"ALL_ZONE_DID_RENDER"},E=(r={},l()(r,m.CodeBlock,[s.BlockType.AT_USER_BLOCK,s.BlockType.REMINDER_BLOCK,s.BlockType.EQUATION_BLOCK]),l()(r,m.CalloutBlock,[s.BlockType.AT_USER_BLOCK,s.BlockType.REMINDER_BLOCK,s.BlockType.EQUATION_BLOCK]),r),O=(i={},l()(i,m.CodeBlock,{blocks:Object.values(s.BlockType).filter(function(e){return!E[m.CodeBlock].includes(e)}),attribs:["list","heading","blockquote","image-uploaded","gallery","clientside-gallery","image-previewer","horizontal-line",d.h,a.ZoneType]}),l()(i,m.CalloutBlock,{blocks:Object.values(s.BlockType).filter(function(e){return!E[m.CalloutBlock].includes(e)}),attribs:["image-uploaded","gallery","clientside-gallery","image-previewer","horizontal-line",d.h,a.ZoneType]}),i),C=(o={},l()(o,m.CodeBlock,[f.Q,f.c,f.a,f.d,f.b,f.F,f.h,f.I,f.K,f.L,f.V,f.g,f.f,f.e,f.C,f.o,f.N]),l()(o,m.CalloutBlock,[f.Q,f.F,f.K,f.L,f.V,f.g,f.f,f.e,f.C,f.o,f.N]),o),L={ZONE_DID_MOUNT:"zone_did_mount"}},vAXZ:function(e,t,n){"use strict";var r,i=n("lwsE"),o=n.n(i),a=n("W8MJ"),c=n.n(a),u=n("cDf5"),l=n.n(u),s=n("usyV"),d=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":l()(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;0<=c;c--)(i=e[c])&&(a=(o<3?i(a):3<o?i(t,n,a):i(t,n))||a);return 3<o&&a&&Object.defineProperty(t,n,a),a},f="cover-style",p=function(){function t(e){o()(this,t),this.props=e}return c()(t,[{key:"coverStyle",value:function(){var e;this.isFilter()||(e=this.getStyleSheet())&&this.getStyleSheetContainer().append(e)}},{key:"isFilter",value:function(){return!1}},{key:"getStyleSheet",value:function(){var e=this.getStyleSheetText();if(e){var t=document.createElement("style");return t.innerText=e,t.setAttribute("data-name",f),t}}},{key:"getStyleSheetContainer",value:function(){return document.querySelector("head")}}],[{key:"destory",value:function(){var e=document.querySelectorAll("[data-name=".concat(f,"]"));[].forEach.call(e,function(e){return e.remove()})}}]),t}(),h=p=d([s.default],p),m=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":l()(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;0<=c;c--)(i=e[c])&&(a=(o<3?i(a):3<o?i(t,n,a):i(t,n))||a);return 3<o&&a&&Object.defineProperty(t,n,a),a},v=function(){function t(e){o()(this,t),this.props=e,this.isCoveredList=[]}return c()(t,[{key:"getCreator",value:function(e){return this.props.plugins[e]}},{key:"do",value:function(e,t){var n=new(this.getCreator(e))(t),r=n.getId();this.isCoveredList.includes(r)||(n.coverStyle(),this.isCoveredList.push(r))}},{key:"reset",value:function(){h.destory(),this.isCoveredList=[]}}]),t}(),b=v=m([s.default],v),y=n("lSNA"),g=n.n(y),k=n("a1gu"),_=n.n(k),E=n("Nsbk"),O=n.n(E),C=n("7W2i"),L=n.n(C),w=n("4D8z"),T=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":l()(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;0<=c;c--)(i=e[c])&&(a=(o<3?i(a):3<o?i(t,n,a):i(t,n))||a);return 3<o&&a&&Object.defineProperty(t,n,a),a},S=function(e){function t(){var e;return o()(this,t),(e=_()(this,O()(t).apply(this,arguments))).filterable=!1,e}return L()(t,e),c()(t,[{key:"isFilter",value:function(){return this.filterable&&this.isTableLTWrapWidth()}},{key:"isTableLTWrapWidth",value:function(){var e=this.getWrapWidth();return this.getTableWidth()<e}},{key:"getWrap",value:function(){return document.getElementById("innerdocbody")}},{key:"getWrapWidth",value:function(){var e=this.getWrap(),t=parseInt(window.getComputedStyle(e).paddingLeft||"0",10);return e.clientWidth-t}},{key:"getSortColWidth",value:function(){return this.getColWidth().map(function(e,t){return{width:e,index:t}}).sort(function(e,t){return e.width-t.width})}}]),t}(h),I=S=T([s.default],S),R=(n("ApcK"),function(e){function t(){var e;return o()(this,t),(e=_()(this,O()(t).apply(this,arguments))).filterable=!0,e}return L()(t,e),c()(t,[{key:"getId",value:function(){return this.props.table.getTableId().split(" ")[0]}},{key:"getTableWidth",value:function(){return this.props.table.getTableScrollWidth()}},{key:"getColWidth",value:function(){return this.props.table.state.colAttribs.map(function(e){return parseInt(e.colWidth,10)||w.r})}},{key:"getStyleSheetText",value:function(){var i=this.getId(),o=this.getTableWidth(),a=this.getWrapWidth(),c=function(e){return Math.max(Math.round(e/o*a),50)};return this.getSortColWidth().map(function(e){var t=e.width,n=e.index,r=c(t);return a-=r,o-=t,"\n        .".concat(i," colgroup col:nth-child(").concat(n+1,") {\n          width: ").concat(r,"px !important;\n          min-width: ").concat(r,"px !important;\n        }\n      ")}).join(" ")}}]),t}(I)),P=n("RIqP"),D=n.n(P),j=n("EVdn"),B=n.n(j),x=(n("B+y1"),function(e){function t(){return o()(this,t),_()(this,O()(t).apply(this,arguments))}return L()(t,e),c()(t,[{key:"getId",value:function(){var e=this.props.table.className,t=/(table-id-[^\s]+)/.exec(e);return t?t[0]:""}},{key:"getTableWidth",value:function(){return B()(".tb-scrollable-children",this.props.table).width()||0}},{key:"getColWidth",value:function(){return D()(B()("col",this.props.table)).map(function(e){return parseInt(e.width||"0",10)})}},{key:"getStyleSheetContainer",value:function(){return this.props.getStyleSheetContainer()}},{key:"getStyleSheetText",value:function(){var i=this.getId();if(!i)return"";var t=this.getTableWidth(),o=function(e){return Math.max(Math.round(100*e/t),10)},e=this.getSortColWidth().map(function(e){var t=e.width,n=e.index,r=o(t);return"\n        .".concat(i," colgroup col:nth-child(").concat(n+1,") {\n          width: ").concat(r,"% !important;\n          min-width: 50px !important;\n        }\n      ")});return e.push("\n      .".concat(i," .tb-scrollable-content,\n      .").concat(i," .tb-scrollable-children,\n      .").concat(i," .ace-table,\n      .").concat(i," .ace-table-wrapper-inner {\n        width: 100% !important;\n        padding: 0 !important;\n        margin: 0 !important;\n        transform: none !important;\n      }\n    ")),e.join(" ")}}]),t}(I)),N=n("J4zp"),W=n.n(N),M=n("FJEn"),F=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":l()(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;0<=c;c--)(i=e[c])&&(a=(o<3?i(a):3<o?i(t,n,a):i(t,n))||a);return 3<o&&a&&Object.defineProperty(t,n,a),a},K=function(e){function t(){return o()(this,t),_()(this,O()(t).apply(this,arguments))}return L()(t,e),c()(t,[{key:"getId",value:function(){return"HideEmptyLine"}},{key:"isBlank",value:function(e){if(e&&e.isEmpty()){var n=["author","lmkr","lineguid","heading","insertorder","align"];return e.getAttributes().every(function(e){var t=W()(e,1)[0];return n.includes(t)})}return!1}},{key:"getBlankLines",value:function(){var e=this.props.editor;if(!e)return[];for(var t=e.getContentState().getZoneState(M.DEFAULT_REP_ZONE),n=[],r=t.length()-1;1<r;r--){var i=t.getLine(r);if(!i||!this.isBlank(i))break;n.push(i)}return n}},{key:"getStyleSheetContainer",value:function(){return this.props.getStyleSheetContainer()}},{key:"getStyleSheetText",value:function(){var e,t=this.getBlankLines().map(function(e){return".maindocbody > #".concat(e._node.id)});return t.length&&(e="".concat(t.join(",")," {\n        display: none;\n      }")),e}}]),t}(h),$=K=F([s.default],K),U={PDF_TABLE:"PDF_TABLE",PRINT_TABLE:"PRINT_TABLE",EMPTY_LINE:"EMPTY_LINE"},H=(r={},g()(r,U.PDF_TABLE,R),g()(r,U.PRINT_TABLE,x),g()(r,U.EMPTY_LINE,$),r);n.d(t,"b",function(){return z}),n.d(t,"a",function(){return U});var z=new b({plugins:H})},zTCG:function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return o}),n.d(t,"c",function(){return a});var r=n("kESg"),i={CODE_BLOCK:"code-block",ACE_LINE:"code-block-ace-line",LINE:"code-block-line",CONTAINER:"code-block-container",HEADER:"code-block-header",HEADER_BTN:"code-block-header-btn",HEADER_BTN_CON:"code-block-header-btn-con",LANG_PICKER:"code-block__lang-picker",LANG_PICKER_HEADER_CON:"code-block__lang-picker-header-con",SPAN:"".concat(r.k.ZoneType,"-").concat(r.l.CodeBlock),COPY_CODE:"copy-code",CODE_LINE_NUM:"code-block-line-num",CODE_BLOCK_UPGRADE:"code-block-upgrade",WORD_WRAP_PREFIX:"word-wrap"},o="SourceCodePro",a=12},zpK4:function(e,t,n){}}]);
//# sourceMappingURL=app_print.3fd64403a232bf1b4997.js.map