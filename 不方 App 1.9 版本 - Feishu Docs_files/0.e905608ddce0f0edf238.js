(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{"+4eN":function(e,t,n){"use strict";n.d(t,"c",function(){return c}),n.d(t,"l",function(){return u}),n.d(t,"n",function(){return l}),n.d(t,"h",function(){return p}),n.d(t,"g",function(){return _}),n.d(t,"i",function(){return h}),n.d(t,"b",function(){return g}),n.d(t,"m",function(){return m}),n.d(t,"j",function(){return b}),n.d(t,"d",function(){return v}),n.d(t,"a",function(){return k}),n.d(t,"f",function(){return y}),n.d(t,"k",function(){return E}),n.d(t,"o",function(){return C}),n.d(t,"e",function(){return O}),n.d(t,"p",function(){return T});var r=n("J4zp"),s=n.n(r),d=n("vPIQ"),a=n("H6oK"),o=n("FJEn"),i=n("nN3d"),f=n("kESg"),c=function(e,t){var n=e.managers.zoneToLineEntry[t];if(!n)return[];var r=e.getRep(n.zone).lines.indexOfEntry(n);return e.getAllAttributesOnLine(n.zone,r)};function u(e,t,n,r){var o=e.getContentState().getZoneState(t).getLine(n);if(o){var i=o.getAttributes(0,o.length()-1).toMap();if(!r||i[f.k.ZoneType]===r)return{zoneId:i[f.k.ZoneId],zoneType:i[f.k.ZoneType]}}return null}var l=function(e,t){if(t===o.DEFAULT_REP_ZONE)return f.l.Default;if(p(t))return f.l.Table;var n=c(e,t),r=Object(d.a)(n,function(e){return s()(e,1)[0]===f.k.ZoneType});return r?r[1]:f.l.Default},p=function(e){return e!==o.DEFAULT_REP_ZONE&&e.length!==f.h},_=function(e){return!(!e||e.length!==f.h)},h=function(e){var t=e.find(function(e){return s()(e,1)[0]===f.a});if(t)return[t,null];var n=e.find(function(e){return s()(e,1)[0]===f.k.ZoneId});return n?[null,n]:[null,null]},g=function(){return Object(i.c)(f.h).toLowerCase()};function m(e){var t=(e?e.attributeManager:window).editor,n=e||t&&t.getRep();if(n&&t){var r=n.zoneId;return l(t,r)}return f.l.Default}function b(e,t){var n="",r=Object(d.a)(t,function(e){return s()(e,1)[0]===f.k.ZoneId}),o=r&&r[1];if(!o)return n;for(var i=e.getContentState().getZoneState(o),a=i.length(),c=0;c<a;c++){var u=i.getLine(c),l=u&&u.getLineAttributes().toMap();if(!l||!l.align||n&&l.align!==n)return"";n=l.align}return n}function v(e,t){var n=e.selection.getZone(),r=l(e,n),o={};return t.includes(r)?c(e,n).reduce(function(e,t){var n=s()(t,2),r=n[0],o=n[1];return e["".concat(r,"-").concat(o)]=!0,e},o):o}var k=function(e){return(1<arguments.length&&void 0!==arguments[1]?arguments[1]:"").split(" ").includes(e)},y=function(e){var t=e.selection.getSelection(),n=t.start,r=t.end;return n.line===r.line&&n.zoneId===r.zoneId&&!!e.getAttributeOnLine(n.zoneId,n.line,f.k.ZoneType)},E=function(e){return e.getAttributes().toMap()[f.k.ZoneId]};function C(e){var t=e.ops.pop();t&&t.insert&&("string"==typeof t.insert&&t.insert.endsWith("\n")&&(t.insert=t.insert.slice(0,-1)),t.insert&&e.ops.push(t))}function O(e,t){var n=f.d[e];if(!n||!t||!t.attributes)return!1;var r=n.blocks;if(n.attribs.find(function(e){return!!t.attributes[e]}))return!0;var o=t.attributes[a.BLOCK_DATA_META_BLOCK_PROPS];if(!o)return!1;try{var i=JSON.parse(o);return r.includes(i.blockType)}catch(e){return!1}}var T=function(r,o,i){var n=function(){var e,t,n;i||(t=(e=r.getContentState().getZoneState(o)).length()-1,n=e.getLine(t).length()-1,i=[t,n]),r.selection.setWithSelection(o,i,i,!1,!0),r.selection.internalUpdateSelectionFromRep(!0)},e=function e(t){t.zoneId===o&&(r.off("paint",e),n())};r.on("paint",e)}},"/mER":function(e,t,n){"use strict";n.d(t,"c",function(){return a}),n.d(t,"b",function(){return c}),n.d(t,"a",function(){return u});var r=n("OJOY"),o=n("ciJ8"),i=n("dDhe");function a(e){r.a.setItem(o.f,e)}function c(){return r.a.getItem(o.f)}function u(){return Object(i.c)()}},"0CpM":function(e,t,n){"use strict";var r,o,i,a;n.d(t,"a",function(){return r}),n.d(t,"b",function(){return i}),(o=r=r||{}).Record="record",o.Card="card",o.Embed="embed",o.Database="database",o.Bookmark="bookmark",(a=i=i||{}).Pano="pano",a.SmartLink="smartLink"},"0y4H":function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"a",function(){return o});var r={},o={}},"1qho":function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n("lwsE"),o=n.n(r),i=n("W8MJ"),a=n.n(i),c=n("hbEN"),u=n("MjSh"),l=u.B100,s=function(){function n(e){var r=this,t=e.duration;o()(this,n),this.duration=2e3,this.timer=null,this.blingblingWithId=Object(c.default)(function(e){r.blingblingWithIdImmediately(e)},0),this.blingblingWithIdImmediately=function(e){e&&(r.clearTimeout(),r.addHLWithId(e),r.clearBling(e))},this.addHLWithId=function(e){var t,n;e&&(r.deleteHL(),t="",t=(-1<e.indexOf("lineguid")?".":"#").concat(e),n=".maindocbody ".concat(t," {\n      border-radius: 4px;\n      padding-left: 5px !important;\n      margin-left: -5px !important;\n      background-color: ").concat(l," !important;\n    }\n    .maindocbody ").concat(t,".reminder-line-hl ul {\n      background: none !important;\n    }\n    "),r.createBlingStyleDom(),r.blingStyleDom.innerText=n)},this.clearBling=function(e){r.timer=setTimeout(function(){r.deleteHL()},r.duration)},this.deleteHL=function(){r.clearTimeout(),r.blingStyleDom&&(r.blingStyleDom.innerText="")},this.duration=t}function e(){return t.apply(this,arguments)}var t;return a()(n,[{key:"destroy",value:function(){this.clearTimeout(),this.blingStyleDom&&document.querySelector("head").removeChild(this.blingStyleDom),this.blingStyleDom=null}},{key:"createBlingStyleDom",value:function(){this.blingStyleDom||(this.blingStyleDom=document.createElement("style"),document.querySelector("head").appendChild(this.blingStyleDom))}},{key:"clearTimeout",value:(t=function(){this.timer&&clearTimeout(this.timer),this.timer=null},e.toString=function(){return t.toString()},e)}]),n}()},"2RY6":function(e,t,n){"use strict";n.d(t,"j",function(){return o}),n.d(t,"i",function(){return i}),n.d(t,"a",function(){return a}),n.d(t,"b",function(){return c}),n.d(t,"h",function(){return u}),n.d(t,"f",function(){return l}),n.d(t,"c",function(){return s}),n.d(t,"d",function(){return d}),n.d(t,"e",function(){return f});var r=n("3406");n.d(t,"g",function(){return r.d});var o="body",i="fs-loading",a=".doc-comment__panel-item--active",c=".doc-comment-new__panel-item--active",u=".global-comment__textarea",l="".concat(o,":not(.").concat(r.c,"):not(.").concat(r.b.CLOSED,")"),s=64,d="FSMODE:ENTER",f="FSMODE:EXIT"},3406:function(e,t,n){"use strict";var r={};n.r(r),n.d(r,"LEFT",function(){return o}),n.d(r,"UP",function(){return i}),n.d(r,"RIGHT",function(){return a}),n.d(r,"DOWN",function(){return c}),n.d(r,"SPACE",function(){return u}),n.d(r,"ENTER",function(){return l}),n.d(r,"N",function(){return s}),n.d(r,"P",function(){return d}),n.d(r,"PAGE_UP",function(){return f}),n.d(r,"PAGE_DOWN",function(){return p});var o=37,i=38,a=39,c=40,u=32,l=13,s=78,d=80,f=33,p=34;n.d(t,"c",function(){return g}),n.d(t,"a",function(){return m}),n.d(t,"b",function(){return _}),n.d(t,"e",function(){return b}),n.d(t,"d",function(){return v}),n.d(t,"f",function(){return r});var _,h,g="fs-mode",m="fs-mode-non-paged";(h=_=_||{}).OPENING="fs-mode-non-paged__comment-opening",h.OPENED="fs-mode-non-paged__comment-opened",h.CLOSED="fs-mode-non-paged__comment-closed";var b=1e4,v=1.8},"3lR/":function(e,_,h){"use strict";(function(e){h.d(_,"a",function(){return p});var l=h("fujP"),t=h("rLED"),s=h("H6oK"),n=h("n/R6"),r=h("kaax"),o=h("GIL9"),i=h("2ACu"),d=h("0CpM"),a=function(e){var t=e.mentionEntities;if(Object(l.default)(t))throw new Error("BatchGetMentionEntitiesByUrlResponse is empty");var n,r=new Map;for(n in t){var o=t[n],i=o.id,a=o.name.defaultContent,c=o.actionMap,u={displayMode:s.BlockDisplayMode.INLINE,viewType:s.ViewTypes.INLINE,data:{entityId:i,linkType:d.a.Record,linkProvider:d.b.Pano,title:a,url:c[1]&&c[1].redirectUrl||n}};r.set(n,u)}return r},c=function(){n.a.error({content:e("CreationDoc_Docs_PastePanoURL_Error_Toast")})},u="pano_ccm",f={logPasteInsert:function(e){return Object(i.collectSuiteEvent)(u,{module:"doc",action:"paste_pano_doc_url",tag_id:e||""})},logClickLink:function(e){return Object(i.collectSuiteEvent)(u,{module:"doc",action:"click_pano_doc_url",tag_id:e||""})}},p={name:d.b.Pano,isEnable:function(){return Object(t.T)()||Object(o.a)()},matcher:r.b,request:r.c,formatToBlockProps:a,handleError:c,logger:f}}).call(this,h("2vAP"))},"4HEM":function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return l});var c=n("sFgt"),I=n("Z/PY"),D=n("xWuZ"),R=n("rLED"),u=n("kbOD"),w=["image-uploaded","mention-type_5","drive-fileId",n("kESg").k.ZoneType];function y(e){var t=e.rep,n=e.selStart,r=e.selEnd,o=t.lines.atIndex(n[0]);if(!o)return null;var i=o.getCharRect(n[1]),a=i.top,c=i.height,u=i.left,l=o.getCharRect(r[1],!0),s=l.top,d=l.left;if(a+.9*c<s){var f=o.lineNode;return f?{left:0,width:f.offsetWidth}:null}return{left:u,width:d-u}}function x(e){var t=e.rep,n=e.selStart,r=e.selEnd,o=t.lines.atIndex(n[0]),i=t.lines.atIndex(r[0]);if(!o||!i)return null;var a=n[0];if(a===r[0])return y({rep:t,selStart:n,selEnd:r});var c=y({rep:t,selStart:n,selEnd:[a,o.width]});if(c){var u=c.left,l=c.width,s=y({rep:t,selStart:[r[0],0],selEnd:r});if(s){for(var d=s.left,f=s.width,p=u<d?u:d,_=f<l?l:f,h=r[0]-a,g=0;g<h;g++){var m,b,v=a+g,k=t.lines.atIndex(v);k&&0<k.width-k.lineMarker&&((b=0)<p&&(p=b),(m=k.lineNode)&&m.offsetWidth>_&&(_=m.offsetWidth))}return{left:p,width:_}}}}function r(e){var t=e.editor,n=t.getRep(),r=Object(c.f)(t,n,n.zoneId);if(!r)return null;var o=Object(u.a)(t,!0);if(!o||!o.replace(/\n/g,""))return null;var i=r.selStart,a=r.selEnd;return l(t,n.zoneId,i,a)}function l(e,t,n,r){var o=e.getReps()[t];if(r[0]>=o.lines.length())return null;var i=n[0],a=o.lines.atIndex(i),c=r[0],u=o.lines.atIndex(c);if(!a||!u)return null;"0"!==o.zoneId&&w.some(function(e){return""!==o.attributeManager.findAttributeOnLine(i,e)})&&a.deleteRect();var l=a.getLineRect(),s=a.getCharRect(n[1]),d=u.getLineRect(),f=u.getCharRect(r[1]),p=x({rep:o,selStart:n,selEnd:r});if(!p)return null;var _=p.left,h=p.width,g={left:l.left+_,top:s.top+l.top,bottom:(f.bottom||0)+(d.bottom||0),right:l.left+_+h,width:h,height:0};if(g.height=g.bottom-g.top,i===c&&f.top===s.top){g.width=f.left-s.left;var m=o.lines.atIndex(n[0]);if(!m)return g;var b=e.getMatchedAttributePositionOnSelection({selStart:n,selEnd:[n[0],m.text.length],selZone:t},function(e){return/(gallery|image-uploaded)/.test(e)}),v=Object(D.a)(b.map(function(e){return Object(I.A)(e.attrKey,e.attrValue)}));if(v.length<=0)return g;var k,y,E,C,O,T,S,j,L=null,P=null;P=Object(R.Q)()?(1<v.length?E=(y=(k=e.getPlugin("gallery"))&&k.imageStateInstance&&k.imageStateInstance.getImageState())&&y.hoveredImageUuid:1===v.length&&(E=v[0]&&v[0].uuid),L=E?document.querySelector('[data-uuid="'.concat(E,'"]')):document.querySelector("[data-image-on-selection=true]"),E||L&&$(L).find("img").data("uuid")):(1<v.length?O=(C=e&&e.plugins&&e.plugins.imageUpload).selectedGalleryItemId||C.hoveredGalleryItemId:1===v.length&&(T=v[0]&&v[0].uuid,O="image-upload-image-".concat(T)),(L=(m.lineNode||document).querySelector("#".concat(O)))&&$(L).find("img").data("uuid")),L&&P&&(S=L.getBoundingClientRect(),j=Math.max(0,e.getBound().left),g.left=S.left-j,g.width=S.width,g.choosenImageUUid=P)}return g}},"5TP0":function(e,t,n){"use strict";n.r(t);var r=n("lSNA"),l=n.n(r),o=n("J4zp"),h=n.n(o),i=n("RIqP"),b=n.n(i),a=n("lwsE"),c=n.n(a),u=n("W8MJ"),s=n.n(u),f=n("hbEN"),d=n("o0o1"),m=n.n(d),p=n("yXPU"),_=n.n(p),g=n("ZBlo"),v=function(t){return new Promise(function(e){return window.setTimeout(e,t)})};function k(e,t,n){return y.apply(this,arguments)}function y(){return(y=_()(m.a.mark(function e(t,n,r){var o,i,a,c,u,l,s,d,f,p,_,h;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:o=r.pagingSize,i=r.interval,a=void 0===i?0:i,c=r.isParallel,u=void 0===c||c,s=!(l=!0),d=void 0,e.prev=4,f=Object(g.a)(n,o)[Symbol.iterator]();case 6:if(l=(p=f.next()).done){e.next=14;break}return _=p.value,h=t(_),e.next=11,Promise.all([u?null:h,v(a)]);case 11:l=!0,e.next=6;break;case 14:e.next=20;break;case 16:e.prev=16,e.t0=e.catch(4),s=!0,d=e.t0;case 20:e.prev=20,e.prev=21,l||null==f.return||f.return();case 23:if(e.prev=23,s)throw d;e.next=26;break;case 26:return e.finish(23);case 27:return e.finish(20);case 28:case"end":return e.stop()}},e,null,[[4,16,20,28],[21,,23,27]])}))).apply(this,arguments)}var E=n("H6oK"),C=n("HIeq"),O=n("D28M"),T=n("FJEn"),S="link-holder_",j="".concat(T.config.LOCAL,"-"),L=("".concat(j).concat(S),"dev_link_to_block_exception"),P=200,I={acceptNode:function(e){return e.nodeValue&&/^\s*$/.test(e.nodeValue)?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT}};function D(){for(var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:document.body,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:I,n=document.createNodeIterator(e,NodeFilter.SHOW_TEXT,t),r=n.nextNode(),o=[];r;)o.push(r),r=n.nextNode();return o}var R=n("xYHj"),w=n("y2sV"),x=n("2ACu"),N=n("M8cP"),B=function(){function t(e){var d=this;c()(this,t),this.params=e,this.transformContextQueue=[],this.transformContextCache=null,this.debouncePagingFetch=Object(f.default)(function(e,t){k(e,t,{pagingSize:20,interval:100}),d.transformContextCache=null},P,{leading:!0}),this.collectContentPre=function(e,t){var n,r,o=t.cc,i=t.state,a=t.cls;!a||-1<(n=a.indexOf(S))&&(r=a.slice(n).split(" ")[0],o.doAttrib(i,j+r))},this.aceAttribsToClasses=function(e,t){var n=t.key;return n.includes(S)?n:""},this.UNSAFE_editorNormalizePasteNode=function(e){var t,n,r,o,i,a,c,u,l,s;d.editor&&!Object(R.o)(d.editor)&&(n=(t=e.data).node,r=t.text,(o=d.linkBlockAdaptor.findUrlsAndConfig(r))&&(i=o.matchedUrls,a=o.matchedConfig,c=[],!n.innerHTML?(u=d.genUuidForUrl(i),l=d.createElementForText(u,r),c.push.apply(c,b()(u)),n.appendChild(l)):(s=d.processPasteElement(n,o),c.push.apply(c,b()(s))),d.transformContextQueue.push({matchedConfig:a,uuidTupleList:c}),i.forEach(function(e){Object(x.default)("client_paste_url",{url_host:Object(N.b)(e),url_parse_type:"first_party"})})))},this.handleDidPaste=function(e){d.editor&&d.replaceToBlock(d.editor)},this.linkBlockAdaptor=e.linkToBlockAdaptor,this.editor=e.editor,this.editor.on(w.k.DID_PASTE,this.handleDidPaste)}return s()(t,[{key:"acePaste",value:function(e,t){var n,r,o,i,a,c,u,l=this.linkBlockAdaptor,s=t.pasteDataWrapper,d=t.text,f=[];this.editor&&!Object(R.o)(this.editor)&&(n=!s.innerHTML,(r=l.findUrlsAndConfig(d))&&(o=r.matchedUrls,i=r.matchedConfig,n?(a=this.genUuidForUrl(o),c=this.createElementForText(a,d),f.push.apply(f,b()(a)),s.appendChild(c)):(u=this.processPasteElement(s,r),f.push.apply(f,b()(u))),this.transformContextQueue.push({matchedConfig:i,uuidTupleList:f})))}},{key:"processPasteElement",value:function(e,t){var n=this.filterTextNodeExceptBlockAndSpace(e),r=t.matchedUrls,o=t.matchedConfig.matcher,i=[],a=r.reduce(function(e,t){var n=e[t];return e[t]=n?n+1:1,e},{}),c=!0,u=!1,l=void 0;try{for(var s,d=n[Symbol.iterator]();!(c=(s=d.next()).done);c=!0){var f=s.value;if(!Reflect.ownKeys(a).length)break;var p,_,h,g,m=f.nodeValue;m&&o&&((p=o(m))&&(_=this.genUuidForUrl(p),h=this.createElementForText(_,m),i.push.apply(i,b()(_)),(g=f.parentNode)&&g.replaceChild(h,f),p.forEach(function(e){var t=a[e];1===t?Reflect.deleteProperty(a,e):a[e]=t-1})))}}catch(e){u=!0,l=e}finally{try{c||null==d.return||d.return()}finally{if(u)throw l}}return i}},{key:"genUuidForUrl",value:function(e){var t=this.getHolderUuid(),n=0;return e.map(function(e){return[e,t+"_"+n]})}},{key:"filterTextNodeExceptBlockAndSpace",value:function(e){var t=function(e){return/^\s*$/.test(e.nodeValue)},n=function(e){return Object(O.l)(e,E.BLOCK_PLACEHOLDER)};return D(e,{acceptNode:function(e){return!e.nodeValue||t(e)||n(e)?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT}})}},{key:"createElementForText",value:function(e,t){var n=document.createElement("span"),r=0,o=!0,i=!1,a=void 0;try{for(var c,u=e[Symbol.iterator]();!(o=(c=u.next()).done);o=!0){var l,s=h()(c.value,2),d=s[0],f=s[1],p=t.indexOf(d,r);r<p&&(l=t.slice(r,p),n.append(l));var _=this.createAnchorNode(d,f);n.append(_),r=p+d.length}}catch(e){i=!0,a=e}finally{try{o||null==u.return||u.return()}finally{if(i)throw a}}return r<t.length&&n.append(t.slice(r)),n}},{key:"getHolderUuid",value:function(){return S+Object(C.a)()}},{key:"createAnchorNode",value:function(e,t){var n=document.createElement("a");return n.text=e,n.href=e,n.classList.add(t),n}},{key:"afterPasteInsert",value:function(){this.editor&&this.replaceToBlock(this.editor)}},{key:"replaceToBlock",value:function(n){var r,e,o=this.transformContextQueue.shift();o&&(this.transformContextCache=this.refreshContextCache(o),r=this.linkBlockAdaptor.requestAndInsertBlock,e=function(e){var t=Object.assign({},o,{editor:n,uuidTupleList:e});return r(t)},this.debouncePagingFetch(e,this.transformContextCache.uuidTupleList),this.replaceToBlock(n))}},{key:"refreshContextCache",value:function(e){if(!this.transformContextCache)return e;var t=e.uuidTupleList;return Object.assign({},e,{uuidTupleList:this.transformContextCache.uuidTupleList.concat(t)})}},{key:"destroy",value:function(){this.transformContextQueue.length=0,this.transformContextCache=null,this.editor&&this.editor.off(w.k.DID_PASTE,this.handleDidPaste),this.editor=null}},{key:"deserialize",value:function(e){var t=e.node,n=e.deltaSet,r=e.zoneId;if(t instanceof HTMLElement&&"A"===t.tagName){var o=t.className,i=o.indexOf(S);if(-1<i){var a=o.slice(i).split(" ")[0];return Object(w.H)(n,r,l()({},j+a,"true"))}}return n}},{key:"editorWillPaste",value:function(e){var c=this,t=e.isInternalPaste,n=e.deltaSet;if(!t||!this.editor)return n;var u=this.linkBlockAdaptor.findUrlsAndConfig;return n.reduce(function(e,t){if(!(t instanceof w.E))return e.concat(t);var n=t.reduce(function(e,t){var n=t.insert;if(n){var r=u(n);if(r){var o=r.matchedUrls,i=r.matchedConfig;if(1===r.matchedUrls.length&&o[0]===n){var a=c.getHolderUuid();return c.transformContextQueue.push({matchedConfig:i,uuidTupleList:[[n,a]],editor:c.editor}),e.insert(n,Object.assign({},t.attributes,l()({},j+a,"true")))}}}return e.push(t)},new w.E({zoneId:t.zoneId}));return e.concat(n)},new w.e)}}]),t}(),M={pano:n("3lR/").a},U=n("cDf5"),H=n.n(U),F=n("4PSP"),z=n("pfvL"),W=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":H()(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;0<=c;c--)(o=e[c])&&(a=(i<3?o(a):3<i?o(t,n,a):o(t,n))||a);return 3<i&&a&&Object.defineProperty(t,n,a),a},q=function(){function t(e){c()(this,t),this.config=e}function e(e){return n.apply(this,arguments)}var n;return s()(t,[{key:"setUuidToMap",value:function(e,t,n){var r=e.get(t);r?e.set(t,[].concat(b()(r),[n])):e.set(t,[n])}},{key:"remakeContext",value:function(e){var o=this,i=new Map,a=[];return e.forEach(function(e){var t=h()(e,2),n=t[0],r=t[1];o.setUuidToMap(i,n,r),a.push(n)}),{uuidMap:i,matchedUrls:a}}},{key:"requestAndInsertBlock",value:(n=_()(m.a.mark(function e(t){var n,r,o,i,a,c,u,l,s,d,f,p,_,h,g;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.matchedConfig,r=t.editor,o=t.uuidTupleList,i=this.remakeContext(o),a=i.matchedUrls,c=i.uuidMap,r){e.next=4;break}return e.abrupt("return");case 4:if(u=n.name,l=n.request,s=n.formatToBlockProps,d=n.handleError,f=n.logger,l&&s){e.next=7;break}return e.abrupt("return");case 7:return e.prev=7,e.next=10,l(a);case 10:if(p=e.sent,_=p.data){e.next=14;break}return e.abrupt("return");case 14:if(h=s(_),this.processInsertion(r,h,c),f&&Object.values(_.mentionEntities).forEach(function(e){var t=e.id;f.logPasteInsert(t)}),(g=a.filter(function(e){return!h.has(e)})).length)throw new Error("remain some unconverted urls: ".concat(g.join(" | ")));e.next=20;break;case 20:e.next=27;break;case 22:e.prev=22,e.t0=e.catch(7),console.error("error occurs when request Link Block data",e.t0),this.logException(u,e.t0),d&&d(e.t0);case 27:case"end":return e.stop()}},e,this,[[7,22]])})),e)},{key:"processInsertion",value:function(a,c,u){var l=this;a.inCallStackIfNecessary("insertLinkBlock",function(){var e=!0,t=!1,n=void 0;try{for(var o,r=function(){var e=h()(o.value,2),t=e[0],n=e[1],r=u.get(t);if(!r)return"continue";r.forEach(function(e){var t=l.getHolderSelection(a,e);t&&l.doInsertBlock(a,t,n)}),u.delete(t)},i=c[Symbol.iterator]();!(e=(o=i.next()).done);e=!0)r()}catch(e){t=!0,n=e}finally{try{e||null==i.return||i.return()}finally{if(t)throw n}}})}},{key:"doInsertBlock",value:function(e,t,n){var r=t.zoneId,o=t.selStart,i=t.selEnd;e.performDocumentReplaceRange(r,o,i,"");var a=Object(E.generateBlockDataSet)({blockType:E.BlockType.LINK_BLOCK,props:n}),c=Object.assign({},t,{selEnd:t.selStart});e.plugins.blockPlugin.insertBlock(a,c)}},{key:"getHolderSelection",value:function(e,t){var n,r,o,i=".".concat(t),a=$(i),c=null,u=e.domToRep(a[0]);return u?c={selStart:n=u.selStart,selEnd:u.selEnd,zoneId:n[2]||T.DEFAULT_REP_ZONE}:(r=e.getMatchedAttributePositionOnSelection(null,function(e){return e.includes(t)})[0])&&(c={selStart:(o=r.docPosition).selStart,selEnd:o.selEnd,zoneId:o.selZone||T.DEFAULT_REP_ZONE}),c}},{key:"findUrlsAndConfig",value:function(n){var e=this.config.linkConfigMap,r=null,t=Object.values(e).find(function(e){if(e){var t=e.matcher;return(0,e.isEnable)()&&t?!!(r=t(n)):!1}});return r&&t?{matchedUrls:r,matchedConfig:t}:null}},{key:"logException",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;Object(x.collectSuiteEvent)(L,{type:e,message:this.getMessageFromErr(t)})}},{key:"getMessageFromErr",value:function(e){if(e){if(e.code)return JSON.stringify({code:e.code});if(e.stack)return e.stack}return Object(z.a)(e)}}]),t}();W([Object(F.Bind)()],q.prototype,"requestAndInsertBlock",null),W([Object(F.Bind)()],q.prototype,"findUrlsAndConfig",null),n.d(t,"linkConfigMap",function(){return M}),n.d(t,"LinkToBlockAdaptor",function(){return q});t.default=B},"5u9u":function(e,t,n){"use strict";var r=n("toa8");function o(e){var t="/api/mention/notify/";return r.d.post(t,e,{headers:{"Content-Type":"application/json","Cache-Control":"no-cache,no-store"}})}var s=n("D7h9"),d=n("QM+C"),i={LARK:0},f=n("MUo5"),p=n("2ACu");function a(e,t){var n=t.fileType,r=t.fileToken,o=t.userId,i=t.source,a=t.noToast,c=void 0!==a&&a;Object(p.default)("show_permission_reminder",{collaborate_type:"user",reminder_type:"toast",source:i});var u=d.PERMISSION[e],l=[{owner_id:o,owner_type:d.OWNER_TYPE.LARK,permission:u}];return s.default.dispatch(Object(f.bulkSetUserPermission)({token:r,type:n,owners:l,shouldNotifyLark:!1,source:i,noToast:c}))}function c(e,t){var n=t.fileToken;return o({to_user:[t.userId],source:0,target:i.LARK,note_token:n,from_user:e})}n.d(t,"b",function(){return a}),n.d(t,"a",function(){return c})},"8H9L":function(e,t,n){"use strict";n.d(t,"d",function(){return c}),n.d(t,"a",function(){return u}),n.d(t,"b",function(){return l}),n.d(t,"c",function(){return s}),n.d(t,"e",function(){return d}),n.d(t,"f",function(){return f});var r=n("QM+C"),o=n("elsr"),i=n("y2sV"),a=n("eXiC");function c(e){var t=e.split(a.g);return{uuid:t[0],url:t[1]||t[0]}}function u(e,r,o){var t=e.zoneId;return e.reduce(function(e,t){if(t.insert&&r===t.insert){var n=t.attributes||{};return n[a.d]=o,e.push(Object.assign({},t,{attributes:n}))}return e.push(t)},new i.E({zoneId:t}))}function l(){var e=getSelection();if(!e||!e.anchorNode)return!1;var t=e.anchorNode,n=t.closest?t:t.parentNode;if(!n.closest)return!1;var r=n.closest(".comment-textarea");return!(!r||!r.length)}function s(e){var t=e.selection.getSelection().start,n=t.zoneId,r=t.line;return n===o.a&&0===r}function d(e){var t=e.clipboardData&&e.clipboardData.getData("text/plain");return t?r.HYPERTEXT_URL_REG.exec(t):null}function f(t){if(!t)return null;var e=new Image;return e.src=t,e.decode().then(function(){return t}).catch(function(e){return console.error(e," src: ".concat(t)),null})}},AsG6:function(e,D,R){"use strict";(function(r){var e=R("o0o1"),_=R.n(e),t=R("J4zp"),h=R.n(t),n=R("yXPU"),o=R.n(n),i=R("lwsE"),a=R.n(i),c=R("W8MJ"),u=R.n(c),l=R("cDf5"),s=R.n(l),d=R("q1tI"),f=R.n(d),p=R("i8i4"),g=R.n(p),m=R("OX8E"),b=R("Hj9z"),v=R("4PSP"),k=R("m/+l"),y=R("D7h9"),E=R("n/R6"),C=R("2ACu"),O=R("ZGZ5"),T=R("mszz"),S=R("iP/4"),j=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===("undefined"==typeof Reflect?"undefined":s()(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;0<=c;c--)(o=e[c])&&(a=(i<3?o(a):3<i?o(t,n,a):o(t,n))||a);return 3<i&&a&&Object.defineProperty(t,n,a),a},L=1e4,P=function(){function e(){var p=this;a()(this,e),this.editor=null,this.graphEditorWrap=null,this.graphEditor=null,this.isWaitingRecordManager=!1,this.recordManagerConfig=null,this.imageExporting=!1,this.setGraphEditorRef=function(e){p.graphEditor=e},this.exportImage=function(e){var u=p.editor.plugins.blockPlugin.getBlockById(e);if(u&&!p.imageExporting){p.imageExporting=!0,u.updateSvg&&u.updateSvg();var t=u.getSvg(2);try{var l=document.createElement("a"),s=document.createElement("canvas"),d=s.getContext("2d"),f=new Image;f.crossOrigin="Anonymous";var n=(n=(new XMLSerializer).serializeToString(t)).replace(/\x08/g,"");f.onload=o()(_.a.mark(function e(){var n,t,r,o,i,a,c;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(Math.max(f.width,f.height)>L)return p.handleImageTooLarge(),p.imageExporting=!1,e.abrupt("return");e.next=4;break;case 4:if(s.width=f.width,s.height=f.height,d.fillStyle="#fff",d.fillRect(0,0,s.width,s.height),d.drawImage(f,0,0),n=function(){l.href=s.toDataURL("image/jpg"),l.download=p.getFileNameByBlock(u),l.click(),p.imageExporting=!1,p.collectExportImageTea(!0)},Object(T.b)(y.default.getState()).enable_watermark){e.next=13;break}return n(),e.abrupt("return");case 13:return e.next=15,Promise.all([R.e("diagram-utils").then(R.bind(null,"qHgb")),R.e("diagram-utils").then(R.bind(null,"Zfr0"))]);case 15:t=e.sent,r=h()(t,2),o=r[0].getWatermarkImage,i=r[1].getMark,a=o(i(Object(O.a)(y.default.getState()).toJSON()),28),(c=new Image).crossOrigin="Anonymous",c.onload=function(){if(S.a.isSafari)for(var e=0;e<=s.width;e+=c.width)for(var t=0;t<=s.height;t+=c.height)d.drawImage(c,e,t);else d.fillStyle=d.createPattern(c,"repeat"),d.fillRect(0,0,s.width,s.height);n(),c.onload=null},c.setAttribute("src",a),f.onload=null;case 25:case"end":return e.stop()}},e)})),f.setAttribute("src","data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(n))))}catch(e){p.collectExportImageTea(!1),console.log("fail to export image for diagram",e)}}}}function t(e){return n.apply(this,arguments)}var n;return u()(e,[{key:"bindEvent",value:function(e){m.a[e](b.DiagramEvents.EXIT_GRAPH_EDITOR,this.exit)}},{key:"init",value:function(e){this.editor=e}},{key:"enter",value:(n=o()(_.a.mark(function e(t){var n,r;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.graphEditorWrap){e.next=8;break}return this.graphEditorWrap=document.createElement("div"),e.next=4,Promise.all([R.e("doc_index_css"),R.e("chunk_adit"),R.e("commons--doc_index_delay--voteEmoji--votePicker"),R.e(16),R.e("commons--doc_index_delay--jira"),R.e("doc_index_delay")]).then(R.bind(null,"ZUnk"));case 4:n=e.sent,r=n.default,document.body.appendChild(this.graphEditorWrap),g.a.render(f.a.createElement(k.Provider,{store:y.default},f.a.createElement(r,{ref:this.setGraphEditorRef,diagramType:t.diagramType,handleExportImage:this.exportImage})),this.graphEditorWrap);case 8:this.bindEvent("on"),t.manager||(this.recordManagerConfig&&this.recordManagerConfig.blockId===t.blockId?Object.assign(t,{manager:this.recordManagerConfig.manager}):this.startWaitRecordManager()),this.graphEditor.handleEnterGraphEditor(t);case 12:case"end":return e.stop()}},e,this)})),t)},{key:"exit",value:function(){this.graphEditor&&(this.isWaitingRecordManager&&this.overWaitRecordManager(),this.graphEditor.handleEditGraphEditor(),this.bindEvent("off"),this.graphEditorWrap&&(g.a.unmountComponentAtNode(this.graphEditorWrap),document.body.removeChild(this.graphEditorWrap),this.graphEditorWrap=null))}},{key:"startWaitRecordManager",value:function(){this.isWaitingRecordManager=!0}},{key:"overWaitRecordManager",value:function(){this.isWaitingRecordManager=!1}},{key:"setRecordManager",value:function(e){this.isWaitingRecordManager?(this.graphEditor.handleManagerReady(e),this.overWaitRecordManager()):this.recordManagerConfig={manager:e.manager,blockId:e.blockId}}},{key:"exitWithBlockId",value:function(e){this.graphEditor&&this.graphEditor.handleBlockDelete(e)}},{key:"handleImageTooLarge",value:function(){E.a.show({duration:3e3,type:"info",content:r("CreationDoc_Docs_DiagramBlock_ExportPic_TooLarge_Tips"),zIndex:1102}),this.collectExportImageTea(!1)}},{key:"getFileNameByBlock",value:function(e){return(e.props.diagramType===b.DiagramType.FLOWCHART?r("CreationDoc_Docs_FlowDiagram_Title"):r("CreationDoc_Docs_UMLDiagram_Title"))+".jpg"}},{key:"collectExportImageTea",value:function(e){Object(C.default)("client_export_diagram",{export_file_type:"jpg",source:this.graphEditor?"fullscreen":"toolbar",status:e?"success":"fail"})}},{key:"destroy",value:function(){this.graphEditorWrap&&(g.a.unmountComponentAtNode(this.graphEditorWrap),document.body.removeChild(this.graphEditorWrap),this.graphEditorWrap=null,this.editor=null)}}]),e}();j([Object(v.Bind)()],P.prototype,"exit",null);var I=new P;D.a=I}).call(this,R("2vAP"))},BvmV:function(e,t,n){"use strict";n.d(t,"b",function(){return f}),n.d(t,"a",function(){return p}),n.d(t,"c",function(){return h});var r=n("lwsE"),o=n.n(r),i=n("W8MJ"),a=n.n(i),c=n("UqNb"),u=n("kDlF"),l=n("Q6nf"),s=n("VIFs"),d=n("B0hj");function f(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"{}",n=c.Root.fromJSON(e);return function(){function t(e){o()(this,t),this.lookupType=n.lookupType(e)}return a()(t,[{key:"decode",value:function(e){return this.lookupType.decode(e)}},{key:"encode",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=this.lookupType.encode(e).finish();return new Uint8Array(t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength))}}]),t}()}var p=f(u),_=new p("profile.Packet");function h(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{headers:{},data:{}};return Object(d.c)(Object.assign({},e,{method:"post",baseURL:Object(s.prependAPI)("",s.API_TYPE.LARK_API),headers:Object.assign({},e.headers,{"Content-Type":"application/x-protobuf","X-Source":"web","X-Request-Id":e.headers["X-Request-Id"]}),data:_.encode(e.data),responseType:"arraybuffer",withCredentials:!0,timeout:e.timeout||l.d,ignoreInterceptors:!0})).then(function(e){return _.decode(new Uint8Array(e.data))})}},EDbJ:function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"c",function(){return c}),n.d(t,"b",function(){return u});var r=n("Zss7"),i=n.n(r),a=n("Ngi8");function o(e,t){var n=i()(e);return"number"==typeof t&&n.setAlpha(t),n.toRgbString().replace(/\s+/g,"")}function c(e){return i()(e).isValid()}function u(e,t){var n=i()(t);if("background"===e){var r=n.toName();return"white"===r||"transparent"===r}if("text"!==e)return!1;var o=n.toHexString();return o===a.N900||o===a.N1000}},EGd1:function(e,t,n){"use strict";var r,o,i,a,c,u,l,s;n.d(t,"c",function(){return r}),n.d(t,"a",function(){return i}),n.d(t,"b",function(){return c}),n.d(t,"d",function(){return l}),(o=r=r||{})[o.Invoke=0]="Invoke",o[o.Event=1]="Event",(a=i=i||{}).GET_DOC_INFO="getDocInfo",a.ON_CONTAINER_RESIZE="onContainerResize",a.GET_CONTAINER_RECT="getContainerRect",a.SHOW_TOAST="showToast",a.SHOW_CHOOSE_CONTACT="showChooseContact",a.SHOW_CHOOSE_CHAT="showChooseChat",a.SHOW_PROFILE="showProfile",a.HIDE_PROFILE="hideProfile",(u=c=c||{}).Success="ok",u.Fail="fail",u.Cancel="cancel",(s=l=l||{}).ALL_CHATS="all_chats",s.GROUP_CHATS="group_chats",s.P2P_CHATS="p2p_chats",s.WITHOUT_CROSS_TENANT_CHATS="without_cross_tenant_chats"},GGin:function(e,t,n){"use strict";n.d(t,"f",function(){return o}),n.d(t,"e",function(){return i}),n.d(t,"b",function(){return a}),n.d(t,"a",function(){return c}),n.d(t,"c",function(){return u}),n.d(t,"d",function(){return l});var r=n("Ngi8"),o="#ffeea8",i=r.Y100,a="HALF_FULL_ALL_CHANGED",c="HALF_FLL_CHANGED",u="HALF_FULL_CHANGED",l="HALF_FULL_START_CHANGE"},GOr8:function(e,v,k){"use strict";(function(c){k.d(v,"a",function(){return b});var e=k("lwsE"),n=k.n(e),t=k("W8MJ"),r=k.n(t),o=k("a1gu"),i=k.n(o),a=k("Nsbk"),u=k.n(a),l=k("7W2i"),s=k.n(l),d=k("q1tI"),f=k.n(d),p=k("UlbS"),_=k("GACP"),h=k("IEVZ"),g=(k("I5WC"),k("n/R6")),m=k("gOz9"),b=function(e){function t(){var e;return n()(this,t),(e=i()(this,u()(t).apply(this,arguments))).containerRef=null,e}return s()(t,e),r()(t,[{key:"renderToast",value:function(){var e,t=this.props,n=t.userInfo,r=t.onTodoConfirm,o=t.todoToastVisible,i=n.name,a=3e3;return o!==this.lastTodoToastVisible&&(e=new Promise(function(e){return g.a.show({key:Date.now(),content:f.a.createElement("div",{className:"toast-confirm"},f.a.createElement("p",{className:"toast-text"},c("CreationDoc_Docs_TaskCenter_SendTask_Toast",i,"")),f.a.createElement("button",{className:"toast-button",onClick:function(){return e(m.f.CANCLE)}},c("common.undo"))),duration:a,className:"permissionToast",cancelText:c("common.undo")})}),this.lastTodoToastVisible=o,r&&r(e)),f.a.createElement(f.a.Fragment,null,this.props.children)}},{key:"renderPopover",value:function(){var e=this.props,t=e.children,n=e.visible,r=e.style,o=void 0===r?{}:r,i=e.getContainer,a=e.onPopoverMouseEnter,c=e.onPopoverMouseLeave,u=e.className,l=t||f.a.createElement("span",null);return f.a.createElement(p.Popover,{className:u,content:this.renderContent(),visible:n,destroyAfterClose:!0,getContainer:i,adjustPlacements:["bottom","top","bottomLeft","bottomRight","topLeft","topRight"],onPopoverMouseEnter:a,onPopoverMouseLeave:c,style:Object.assign({width:250,padding:12},o)},l)}},{key:"renderContent",value:function(){var t=this,e=this.props,n=e.onConfirm,r=e.onCancel,o=e.userInfo,i=o.id,a=o.name;return f.a.createElement("div",{ref:function(e){t.containerRef=e},className:"atuser-share-prompt__container"},f.a.createElement("div",{className:"atuser-share-prompt__message"},f.a.createElement(h.a,{className:"atuser-share-prompt__icon"}),f.a.createElement("span",null,f.a.createElement(_.I18n,{name:c("permission.atuser_sharing_message")},f.a.createElement("span",{className:"atuser-share-prompt__username"},a)))),f.a.createElement("div",{className:"atuser-share-prompt__btn-group"},f.a.createElement(p.Button,{onClick:function(){return r()},size:"small"},c("permission.atuser_sharing_cancel")),f.a.createElement(p.Button,{onClick:function(){return n(i)},size:"small",type:"primary"},c("permission.atuser_sharing_confirm"))))}},{key:"render",value:function(){return this.props.todoToastVisible?this.renderToast():this.renderPopover()}}]),t}(d.PureComponent)}).call(this,k("2vAP"))},Hydg:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r={HIDE_SHARE_POPUP:"HIDE_SHARE_POPUP",GRANT_SHARE_PERMISSION:"GRANT_SHARE_PERMISSION",ADD_MENTION_NOTIFY:"ADD_MENTION_NOTIFY"}},I5WC:function(e,t,n){},IEVZ:function(e,t,n){"use strict";var r=n("pVnL"),o=n.n(r),i=n("QILm"),a=n.n(i),c=n("q1tI"),u=n.n(c);t.a=function(e){e.styles;var t=a()(e,["styles"]);return u.a.createElement("svg",o()({width:"16",height:"16",viewBox:"0 0 16 16"},t),u.a.createElement("g",{fill:"none",fillRule:"evenodd"},u.a.createElement("circle",{cx:"8",cy:"8",r:"8",fill:"#37F"}),u.a.createElement("path",{fill:"#FFF",d:"M6 8.27v-.52C7.16 6.48 8.05 5.9 8.67 6.02c.94.18.83 1 .78 1.3-.06.31-1.9 4.87-1.52 4.93.25.05.76-.36 1.52-1.22v.66c-.68 1.1-1.59 1.64-2.72 1.64-.71 0-.87-.62-.6-1.33.6-1.54 1.62-4.19 1.62-4.68 0-.5-.58-.18-1.73.95z"}),u.a.createElement("ellipse",{cx:"9.33",cy:"4",fill:"#FFF",rx:"1.33",ry:"1.33"})))}},Kwn9:function(e,t,n){"use strict";var r=n("lwsE"),i=n.n(r),o=n("W8MJ"),a=n.n(o),c=n("m/+l"),u=n("o0o1"),d=n.n(u),l=n("yXPU"),f=n.n(l),s=n("a1gu"),p=n.n(s),_=n("Nsbk"),h=n.n(_),g=n("7W2i"),m=n.n(g),b=n("3Hq1"),v=n("q1tI"),k=n.n(v),y=n("EVj1"),E=n("kUgE");function C(e){return"en"===(Object(y.i)("lang")?Object(y.i)("lang"):Object(E.getLanguage)())?e.en_name||e.name||e.cn_name:e.name||e.cn_name||e.en_name}function O(){var e=window.User;return e&&e.id||""}var T=n("delU"),S=n("OX8E"),j=n("Hydg"),L=n("5u9u"),P=n("0y4H"),I=n("KNY2"),D=n("xetH"),R=n("Hj9z"),w=n("XsFf"),x=n("AiBH"),N=n("rLED"),B=n("KrGf"),M=n("gOz9"),U=n("HjLD"),H=function(e){function o(e){var s;i()(this,o),(s=p()(this,h()(o).call(this,e))).isSelf=!1,s.currentUserId="",s.bindEventState=!1,s.hidePopupTimeoutId=0,s.isHoverPopup=!1,s.blockId="",s.isSharePopup=!1,s.isMentionNotify=!1,s.onHideSharePopup=function(){!(0<arguments.length&&void 0!==arguments[0]&&arguments[0])&&s.isHoverPopup||(s.setState({visible:!1}),s.unbindEvents())},s.onConfirmGrantSharePermission=f()(d.a.mark(function e(){var t,n,r,o,i,a,c,u,l;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.props.user,n=s.props,r=n.suiteType,o=n.suiteToken,i=n.source,e.next=4,Object(L.b)("READABLE",{fileType:r,fileToken:o,userId:t.id,source:i,noToast:s.isMentionNotify&&"doc"===i});case 4:if(a=e.sent,s.onHideSharePopup(!0),c=a.payload||{},(u=c.block_user_map)&&Object.keys(u).length)return l=Object.keys(u)[0],Object(I.d)({product:i,errCode:l}),e.abrupt("return");e.next=11;break;case 11:s.addUserMentionNotify(),Object(I.b)({product:i,send_notification:s.isMentionNotify});case 13:case"end":return e.stop()}},e)})),s.handleTodoNotification=function(){var t=f()(d.a.mark(function e(t){var n,r,o,i,a,c;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.props,r=n.user,o=n.suiteType,i=n.suiteToken,a=n.source,e.next=3,Promise.race([t,new Promise(function(e){return setTimeout(function(){return e(M.f.CONFIRM)},3e3)})]);case 3:if(e.sent===M.f.CANCLE)return e.abrupt("return");e.next=6;break;case 6:c={fileType:o,fileToken:i,userId:r.id,source:a},Object(L.b)("EDITABLE",c),Object(L.a)(r.id,c);case 9:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}(),s.onCancelSharePermission=function(){var e=s.props.source;s.onHideSharePopup(!0),Object(I.a)({product:e,send_notification:s.isMentionNotify})},s.onMouseEnter=function(){s.isHoverPopup=!0,window.clearTimeout(s.hidePopupTimeoutId),s.hidePopupTimeoutId=0},s.onMouseLeave=function(){s.isHoverPopup=!1,window.clearTimeout(s.hidePopupTimeoutId),s.hidePopupTimeoutId=window.setTimeout(function(){s.onHideSharePopup()},1e3)},s.currentUserId=O();var t=e.user,n=e.block,r=t?t.id:"";return s.isSelf=s.currentUserId===r,s.blockId=n.blockId,s.isSharePopup=s.sharePopup(),s.isMentionNotify=s.mentionNotify(),r&&D.a.addUser(r),s.state={visible:!1,todoToastVisible:!1,user:t},s}return m()(o,e),a()(o,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=this,n=this.props.userPermission,r=e.userPermission,o=e.suiteShareable,i=n&&n[U.a.Readable],a=r&&r[U.a.Readable];Object(b.default)(i)&&!Object(b.default)(a)&&!this.isSelf&&o&&this.isSharePopup&&setTimeout(function(){t.checkShowPermissionPopup(e)},0)}},{key:"showPermissionPopup",value:function(){this.isSharePopup&&(this.isSharePopup=!1,this.bindEvents(),this.setState({visible:!0}))}},{key:"showTodoPermissionToast",value:function(){this.setState({todoToastVisible:!0})}},{key:"checkShowPermissionPopup",value:function(e){var t=e.suiteShareable,n=e.userPermission,r=e.block.editor,o=r.selection.getLine(),i=r.selection.getZone(),a=Object(N.mb)()&&r.getAttributeOnLine(i,o,M.e),c=n&&n[U.a.Readable],u=n&&n[U.a.Editable];this.isSelf||(t?this.isSharePopup&&(!0===c?!u&&a&&this.isMentionNotify?this.showTodoPermissionToast():this.addUserMentionNotify():!1===c&&(a&&this.isMentionNotify?this.showTodoPermissionToast():this.showPermissionPopup())):this.addUserMentionNotify())}},{key:"sharePopup",value:function(){var e=P.a[this.blockId];return delete P.a[this.blockId],e}},{key:"mentionNotify",value:function(){var e=P.b[this.blockId];return delete P.b[this.blockId],e}},{key:"addUserMentionNotify",value:function(){var e,t,n;this.isMentionNotify&&(this.updateUserMentionNotifyProps(),this.isMentionNotify=!1,t=(e=this.props).block,n=e.user,t&&t.editor&&t.editor.call(j.a.ADD_MENTION_NOTIFY,{user:n,blockId:t.blockId}))}},{key:"componentWillUnmount",value:function(){this.unbindEvents(),this.hidePopupTimeoutId&&window.clearTimeout(this.hidePopupTimeoutId);var e=this.props.user,t=e?e.id:"";t&&D.a.removeUser(t)}},{key:"componentDidMount",value:function(){this.checkShowPermissionPopup(this.props),this.getUserProfile()}},{key:"getUserProfile",value:function(){var e,t,n,r=this;Object(N.G)()&&(e=this.props,t=e.user,n=e.suiteToken,Object(w.b)(t.id,x.z.DOC,n).then(function(e){r.setState({user:Object.assign({},t,{},e)})}))}},{key:"bindEvents",value:function(){var e=this;S.a.on(j.a.HIDE_SHARE_POPUP,this.onHideSharePopup),this.bindEventState=!0,this.hidePopupTimeoutId=window.setTimeout(function(){e.onHideSharePopup()},3e3)}},{key:"unbindEvents",value:function(){this.bindEventState&&(this.bindEventState=!1,S.a.off(j.a.HIDE_SHARE_POPUP,this.onHideSharePopup))}},{key:"updateUserMentionNotifyProps",value:function(){this.props.block.setProps({data:{mentionNotify:!0}})}},{key:"render",value:function(){var e=this.props,t=e.mentionId,n=void 0===t?"":t,r=e.userPermission,o=e.suiteShareable,i=e.getLanguage,a=e.emitter,c=r&&r[U.a.Readable],u=Object(B.b)(),l=this.state,s=l.visible,d=l.todoToastVisible,f=l.user,p=f?C(f):"",_=f?f.id:"";return k.a.createElement(T.a,{className:"mention-sheet atuser-share-popover",userInfo:{id:String(_),name:p},visible:s,todoToastVisible:d,onConfirm:this.onConfirmGrantSharePermission,onTodoConfirm:this.handleTodoNotification,onCancel:this.onCancelSharePermission,onPopoverMouseEnter:this.onMouseEnter,onPopoverMouseLeave:this.onMouseLeave},k.a.createElement(R.AtUser,{getLanguage:i,user:f,mentionId:n,disabled:u,unreadable:!1===c&&o,emitter:a,isPlaceholder:!0,isMentionNewUi:Object(N.G)()}))}}]),o}(k.a.PureComponent),F=n("5cZX"),z=n("vc5i"),W=n("Jdee"),q={},K=function(e,t){var n=t.user,r=n?n.id:"";return{suiteShareable:Object(F.x)(e),suiteType:Object(z.o)(e),suiteToken:Object(z.n)(e),userPermission:Object(W.a)(e,r)}},J=Object(c.connect)(K,q)(H),Z=n("D7h9"),V=n("iR+8"),X=n("dDhe"),Y=n("iP/4"),Q=n("IyQe"),$=n("VI6H"),ee=n("wd/R"),te=n.n(ee),ne=n("vE74"),re=n("HIeq"),oe=n("1dfU"),ie=n("rFy5"),ae=n("xKvl"),ce=n("2ACu"),ue=n("aXiW"),le=n("UruL"),se=n("kVAj"),de=n("4D8z"),fe=n("D28M"),pe=n("EzSe"),_e=n("CnBM"),he=n.n(_e),ge=n("5gS9"),me=n("n/R6"),be=n("8mZy"),ve=n("rWdK"),ke=n("ZGZ5"),ye=n("aZ4v"),Ee=n("SuKk"),Ce=n("GIL9"),Oe=n("QM+C"),Te=n("AsG6"),Se=n("VNOu"),je=n("uXHE"),Le="set-zone-block-min-width",Ae="remove-zone-block-min-width",Pe=n("MOd6"),Ie=n("jU1f"),De=n("5TP0"),Re=n("Mvmg"),we=n("rhi5"),xe=n("kS6I"),Ne=n("RHU8");n.d(t,"a",function(){return We}),n.d(t,"g",function(){return Ke}),n.d(t,"e",function(){return Je}),n.d(t,"f",function(){return Ze}),n.d(t,"d",function(){return Ve}),n.d(t,"c",function(){return Xe}),n.d(t,"b",function(){return Ye});var Be=54,Me=16,Ue=function(){return Object(xe.f)(xe.b.FILE_DOWNLOAD)},He={browser:Y.a,getLanguage:E.getLanguage,getLocale:E.getLocale,getUserPermissions:Q.getUserPermissions,moment:te.a,getDocSecureLink:pe.a,sendSecLinkClickEvent:pe.d,getCurrentUser:$.c},Fe={createCustomEvent:ne.b,getPageToken:re.e,encryptTea:oe.a,htmlEncode:ie.b,htmlDecode:ie.a,queryParents:fe.o,getIsCurrentUserToCUser:$.g,isShortCut:Ce.a,getSelectionByBlockId:Ie.a,getIFrameBlockSettings:le.a,getIFrameConfig:le.b,isAnonymousAccess:function(){return Object(B.b)()},isPDFAccess:Oe.isPDFAccess},Ge={teaLogger:ae.b,LogFlow:ue.a,collectEvent:ce.default,collectSuiteEvent:ce.collectSuiteEvent},ze={selectCurrentUser:ke.a,selectCurrentSuiteOtherPermissions:F.u,selectCanEditInvolvingEditMode:F.e,selectFromMinaConfig:F.A,selectAnonymousAccess:function(e){return Object(B.b)()}},We={AtUserCreator:{getLanguage:E.getLanguage,RenderComponent:J,Redux:{store:Z.default},fromSSR:Object(X.c)(),isMentionNewUi:Object(N.G)()},ReminderCreator:function(e){return{t:V.b,Helpers:He,EventEmitter:e}},BitableCreator:function(e){return{LogService:Ge,t:V.b,Utils:Fe,Helpers:He,EventEmitter:e,type:"text/bitable"}},MindnoteCreator:function(e){return{LogService:Ge,t:V.b,Helpers:He,EventEmitter:e,Utils:Fe}},JiraCreator:function(e){return{LogService:Ge,t:V.b,Helpers:He,Utils:Fe,EventEmitter:e,io:ge.b.getInstance(),Redux:{store:Z.default,actions:{syncJira:be.i,fakeSyncJiraStart:be.d,fakeSyncJiraSuccess:be.e,fakeSyncJiraEnd:be.b,fakeSyncJiraFail:be.c},selectors:{selectJiraSyncStatus:ve.c,selectJiraAuthStatus:ve.a,selectJiraInitData:ve.b}},Toast:me.a}},DiagramCreator:function(e){var t=ye.en,n=Object(E.getLanguage)();return ye[n]&&(t=ye[n]),{t:V.b,Helpers:He,io:ge.b.getInstance(),EventEmitter:e,getLangResourse:t,getDiagramEditor:Ee.a,getDiagramViewer:Ee.b,getAuthorityDownloadable:Ue,graphEditorManager:Te.a,LogService:{teaLogger:ae.b,collectEvent:ce.default,collectSuiteEvent:ce.collectSuiteEvent},Utils:Fe}},EquationCreator:{Utils:Fe,Popover:Se.a,Toast:me.a,t:V.b,LogService:{teaLogger:ae.b,collectEvent:ce.default,collectSuiteEvent:ce.collectSuiteEvent},getKatex:Se.b,isDocSSR:Object(X.c)(),isShortCut:Object(Ce.a)()},ISVCreator:function(e){return{initBlockit:je.a.initBlockit,getBlockInfo:je.a.getBlockInfo,getShortcutBlockList:je.a.getShortcutBlockList,setLocale:je.a.setLocale,EventEmitter:e,Helpers:He,Utils:Fe}},IframeCreator:{LogService:{teaLogger:ae.b,collectEvent:ce.default,collectSuiteEvent:ce.collectSuiteEvent},t:V.b,Helpers:He,Redux:{store:Z.default,selectors:ze},Utils:Fe},LinkBlockCreator:{Utils:Fe,Helpers:He,t:V.b,LogService:Ge,getConfigMap:function(){return De.linkConfigMap},smartLinkService:new Ne.SmartLinkService},FileCardCreator:{components:{FileCard:we.a},Redux:{store:Z.default},t:V.b,utils:{collectEvent:ce.default},getAuthorityDownloadable:Ue,previewSize:Re.c}},qe=new(function(){function e(){i()(this,e)}return a()(e,[{key:"resizeEnd",value:function(){Object(ce.default)("resize_embed_block",{resize_width:!0,block_type:"mindmap"})}}]),e}());function Ke(){return[[R.ResizeModule,{}]]}function Je(e){var t=e.regionSelector,n=e.ignoreComment,r=e.regionPadding,o=Object(le.a)(),i=o.enableResize,a=o.enableResizeOutEditor;return i?[[R.ResizeModule,{resizable:!0,log:qe,context:{region:{enableResizeOutEditor:!0,selector:a?t:"#innerdocbody",padding:void 0===r?Be:r},table:{zoneSelector:".inner-zone-ace-editor-wrapper",cellSelector:".ace-table-cell",horzResizeEventName:de.B,zoneAttrKey:"data-ace-inner-zone-content-wrapper-zone-id",padding:Me,cellDisableSelectedClass:de.s},comment:n?null:{selector:".doc-comment",halfFullController:se.a}}}]]:[]}function Ze(e){var t=e.regionSelector,n=e.ignoreComment,r=e.regionPadding;return!0?[[R.ResizeModule,{resizable:!0,log:qe,context:{minHeight:130,region:{enableResizeOutEditor:!1,selector:t||"#innerdocbody",padding:void 0===r?Be:r},comment:n?null:{selector:".doc-comment",halfFullController:se.a}}}]]:[]}function Ve(){return[[R.blockWidthNotifyModule,{setTableCellMinWidthKey:Le,clearTableCellMinWidthKey:Ae,dropBeforeApplyFinishEventName:Pe.f,dropAfterApplyFinishEventName:Pe.e}]]}var Xe=he()({loader:function(){return Promise.all([n.e("commons--doc_index_delay--voteEmoji--votePicker"),n.e("votePicker")]).then(n.bind(null,"Vjtp"))},loading:function(){return null}}),Ye=he()({loader:function(){return n.e("commons--doc_index_delay--voteEmoji--votePicker").then(n.bind(null,"kKxQ"))},loading:function(){return null}})},MOd6:function(e,t,n){"use strict";n.d(t,"g",function(){return r}),n.d(t,"h",function(){return o}),n.d(t,"i",function(){return i}),n.d(t,"d",function(){return a}),n.d(t,"j",function(){return c}),n.d(t,"a",function(){return u}),n.d(t,"b",function(){return l}),n.d(t,"c",function(){return s}),n.d(t,"f",function(){return d}),n.d(t,"e",function(){return f});var r=".ace-line",o=".ace-line-pocket-custom-droppable-hint",i=".ace-line-pocket",a=".ace-line-droppable-hint",c=".ace-table-cell",u="adit-draggable-dragged",l="adit-draggable-list-code-end",s="adit-draggable-list-code-start",d="dropBeforeApplyFinish",f="dropAfterApplyFinish"},Mvmg:function(e,t,n){"use strict";n.d(t,"h",function(){return a}),n.d(t,"e",function(){return c}),n.d(t,"d",function(){return u}),n.d(t,"f",function(){return l}),n.d(t,"g",function(){return s}),n.d(t,"a",function(){return d}),n.d(t,"i",function(){return f}),n.d(t,"b",function(){return p}),n.d(t,"c",function(){return _});var r=n("Ngi8"),o=n("qxQb"),i=n.n(o),a=i()(r.R400,.8),c=i()(r.Y400,.96),u=250,l=4294967296,s=2,d="doc_file",f={TOOL_BAR:"toolbar",MENTION:"mention",DRAG:"drag"},p="DOC_UPLOAD_PROGRESS_EVENT",_={width:730,height:460}},PmjA:function(e,t,n){"use strict";n.d(t,"f",function(){return a}),n.d(t,"h",function(){return c}),n.d(t,"g",function(){return u}),n.d(t,"e",function(){return l}),n.d(t,"d",function(){return s}),n.d(t,"n",function(){return d}),n.d(t,"o",function(){return f}),n.d(t,"a",function(){return p}),n.d(t,"i",function(){return _}),n.d(t,"l",function(){return h}),n.d(t,"k",function(){return g}),n.d(t,"j",function(){return m}),n.d(t,"m",function(){return b}),n.d(t,"c",function(){return v}),n.d(t,"b",function(){return k});var r=n("kESg"),o=n("H6oK"),i=n("zTCG"),a="lang",c="word_wrap",u="langSpecified",l=[o.IGNORE_HYPERLINK_CLASS,o.IGNORE_INLINE_CODE_CLASS,o.IGNORE_BACKGROUND_COLOR_CLASS,o.IGNORE_LINE_BACKGROUND_CLASS].join(" "),s={EDIT_STATUS_CHANGE:"CODE_BLOCK_EDIT_STATUS_CHANGE"},d=(r.k.ZoneType,r.k.ZoneId,i.a.HEADER_BTN,1),f=2,p="code",_="code_language",h="wrap_code",g="code_block_toast_key",m="__code_block_lang__",b="__code_word_wrap_lang__",v=(r.c[r.l.CodeBlock],r.d[r.l.CodeBlock].blocks),k=r.d[r.l.CodeBlock].attribs},Poi8:function(e,t,n){"use strict";n.d(t,"h",function(){return m}),n.d(t,"a",function(){return b}),n.d(t,"m",function(){return k}),n.d(t,"l",function(){return y}),n.d(t,"n",function(){return E}),n.d(t,"j",function(){return C}),n.d(t,"i",function(){return O}),n.d(t,"e",function(){return T}),n.d(t,"g",function(){return S}),n.d(t,"k",function(){return j}),n.d(t,"o",function(){return L}),n.d(t,"c",function(){return P}),n.d(t,"b",function(){return I}),n.d(t,"d",function(){return D});var r=n("J4zp"),o=n.n(r),i=n("vPIQ"),a=n("FJEn"),c=(n("H6oK"),n("kESg")),u=n("+4eN"),l=n("PmjA"),s=n("zTCG"),d=n("WC6B"),f=n("Zda9"),p=n("xYHj"),_=n("YWBl"),h=n("rFy5"),g=n("Uy54");n.d(t,"f",function(){return g.a});var m=function(e){for(var t,n,r=[],o=[],i=/(?:<span class="([^"]*)">)|(?:<\/span>)/g,a=0,c=0,u=e.replace(/&[^;]+;/g,"_"),l=i.exec(u);l;)l.index>c&&((n={classes:[],startIndex:a,endIndex:a+(t=l.index-c)}).classes.push(o.join(" ")),r.push(n),a+=t),"</span>"===l[0]?o.pop():o.push(l[1]),c=l.index+l[0].length,l=i.exec(u);return(i.lastIndex=0)<=u.replace(i,"").indexOf(">")&&console.log("codeBlockV2 some thing wrong"),r},b=function(e){var t=e.source,n=e.lang,r=e.rows;Object(_.a)({action:l.i,extraParams:{code_language_source:t,code_language_type:n,code_rows:r}})},v=function(e,t,n){var r=Object(u.c)(e,t).find(function(e){return o()(e,1)[0]===n});return r?r[1]:""},k=function(e,t){return v(e,t,l.f)},y=function(e,t){return v(e,t,l.g)},E=function(e,t){var n=Object(u.c)(e,t),r=Object(i.a)(n,function(e){return o()(e,1)[0]===l.h});return!!r&&r[1]===String(!0)},C=function(e,t){var n=Object(u.c)(e,t),r=Object(i.a)(n,function(e){return o()(e,1)[0]===l.g});return!!r&&r[1]===String(!0)},O=function(e,t){var n=Object(u.c)(e,t);return!!Object(i.a)(n,function(e){var t=o()(e,2),n=t[0],r=t[1];return n===c.k.ZoneType&&r===c.l.CodeBlock})};function T(e,t){var n=e.managers.zoneToLineEntry[t];if(!n||!O(e,t))return null;var r=n.zone,o=e.getRep(r).lines.indexOfEntry(n);return{selStart:[o,0,r],selEnd:[o,1+n.lineMarker,r]}}function S(e){var t=e.lineNode;if(t){var n=t.querySelector(".".concat(s.a.SPAN));if(!n)return null;var r=n.querySelector(".ace-editor");return r instanceof HTMLElement?r.dataset.zoneId:null}return null}var j=function(e){var t=Object(f.d)();if(!e)return t;var n=d.c.indexOf(e.toLowerCase());return-1!==n?d.d[d.a[n]]:t};function L(e,t){return Object(p.a)(e,t,l.c)||Object(p.c)(e,t)||Object(p.k)(e,t)||Object(p.m)(e,t)}var P=function(e){return e.replace(/\t/g,a.config.THE_TAB)},I=function(e){var t=Object(h.b)(e).split("\n").map(function(e){return"<div>".concat(P(e)||"<br />","</div>")});return{html:t.join(""),length:t.length}},D=function(e){if(!e)return{specified:!1,lang:Object(f.d)()};var t=(e.querySelector('[class*="language-"]')||e.querySelector('[class*="lang-"]')||e).className.match(/lang(uage)?-(.+)/),n=t?t[2]:"";return{specified:!!n,lang:encodeURI(j(n))}}},RHU8:function(e,t,n){"use strict";n.r(t);var r=n("o0o1"),c=n.n(r),o=n("yXPU"),u=n.n(o),i=n("lwsE"),l=n.n(i),a=n("W8MJ"),s=n.n(a),d=n("lQZd"),f=n("rLED"),p=n("SebV"),_=n("GIL9"),h=n("toa8"),g=function(){function e(){l()(this,e),this.request=h.d}return s()(e,[{key:"getSmartLinkEnable",value:function(){return Object(f.ib)()||Object(_.a)()}},{key:"captureException",value:function(e){return Object(p.a)(e)}}]),e}(),m=n("0CpM"),b=n("M8cP"),v=n("8H9L");n.d(t,"SmartLinkService",function(){return E});var k="/api/urlextract/check/",y="/api/urlextract/extract/",E=function(){function e(){var t=this;l()(this,e),this.adaptor=new g,this.captureException=function(e){t.adaptor.captureException(e)}}function t(e){return n.apply(this,arguments)}var n,r,o;function i(e,t){return r.apply(this,arguments)}function a(e){return o.apply(this,arguments)}return s()(e,[{key:"getSmartLinkEnable",value:function(){return this.adaptor.getSmartLinkEnable()}},{key:"getBasicParams",value:function(){return{obj_type:Object(d.l)(),obj_token:Object(d.g)()}}},{key:"checkCanUrlExtract",value:(o=u()(c.a.mark(function e(t){var n,r=this;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.adaptor.request){e.next=2;break}return e.abrupt("return",!1);case 2:return n=Object.assign({},this.getBasicParams(),{url:t}),e.abrupt("return",this.adaptor.request.get(k,{params:n}).then(function(e){return e.data&&e.data.can_extract}).catch(function(e){return r.captureException(e),!1}));case 4:case"end":return e.stop()}},e,this)})),a)},{key:"fetchUrlExtractInfoByScene",value:(r=u()(c.a.mark(function e(t,n){var r,o,i;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.adaptor.request){e.next=2;break}return e.abrupt("return",null);case 2:return r=Object.assign({},this.getBasicParams(),{url:t,scene:n}),e.prev=3,e.next=6,this.adaptor.request.get(y,{params:r});case 6:return o=e.sent,i=o.data,e.abrupt("return",i);case 11:return e.prev=11,e.t0=e.catch(3),this.adaptor.captureException(e.t0),e.abrupt("return",null);case 15:case"end":return e.stop()}},e,this,[[3,11]])})),i)},{key:"parseToBlockData",value:function(e,t){var n=Object(b.c)(e),r={linkType:m.a.Bookmark,linkProvider:m.b.SmartLink,entityId:"",title:n,url:e};if(!t)return r;var o=t.title,i=t.icon_url,a=t.cover_url,c=t.cover_height,u=t.cover_width,l=t.summary;return Object.assign({},r,{title:o||n,icon:i,cover_url:a,cover_height:c,cover_width:u,summary:l})}},{key:"filterDecodeImage",value:(n=u()(c.a.mark(function e(t){var n,r;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(v.f)(t.cover_url);case 2:return n=e.sent,t.cover_url=n||"",e.next=6,Object(v.f)(t.icon);case 6:return r=e.sent,t.icon=r||"",e.abrupt("return",t);case 9:case"end":return e.stop()}},e)})),t)}]),e}()},SuKk:function(e,t,n){"use strict";n.d(t,"a",function(){return c}),n.d(t,"b",function(){return l});var r=n("o0o1"),o=n.n(r),i=n("yXPU"),a=n.n(i);function c(){return u.apply(this,arguments)}function u(){return(u=a()(o.a.mark(function e(){var t;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([n.e("diagram-editor_css").then(n.t.bind(null,"vO/h",7)),Promise.all([n.e("commons--PCDocSheetBridge--bear-bitable-external--bear-sheet-external--btn_groups--create-by-templa--5eb3c3ae"),n.e("commons--diagram-editor--diagram-viewer"),n.e("vendors--diagram-editor")]).then(n.t.bind(null,"KZsQ",7))]);case 2:return t=e.sent,e.abrupt("return",t[1]);case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function l(){return s.apply(this,arguments)}function s(){return(s=a()(o.a.mark(function e(){var t;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([n.e("diagram-viewer_css").then(n.t.bind(null,"mG6N",7)),Promise.all([n.e("commons--PCDocSheetBridge--bear-bitable-external--bear-sheet-external--btn_groups--create-by-templa--5eb3c3ae"),n.e("commons--diagram-editor--diagram-viewer"),n.e("vendors--diagram--diagram-viewer")]).then(n.t.bind(null,"jqNq",7))]);case 2:return t=e.sent,e.abrupt("return",t[1]);case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}},UruL:function(e,t,n){"use strict";n.d(t,"a",function(){return c}),n.d(t,"b",function(){return l});var r=n("Hj9z"),o=n("rLED"),i={enableNewConfigs:!0,enableResize:!0,enableResizeOutEditor:!0,initialSize:{trello:{width:316,height:138,resizeType:r.ResizeType.Fixed},vimeo:{width:718,height:409,resizeType:r.ResizeType.Fixed},instagram:{width:350,height:650,resizeType:r.ResizeType.Fixed},facebook:{width:550,height:310,resizeType:r.ResizeType.Fixed},pastebin:{width:748,height:55,resizeType:r.ResizeType.Flexible},upscribe:{width:550,height:296,resizeType:r.ResizeType.Fixed},trelloCode:{width:316,height:138,resizeType:r.ResizeType.Fixed},vimeoCode:{width:718,height:409,resizeType:r.ResizeType.Fixed},instagramCode:{width:350,height:650,resizeType:r.ResizeType.Fixed},facebookCode:{width:550,height:310,resizeType:r.ResizeType.Fixed},pastebinCode:{width:748,height:55,resizeType:r.ResizeType.Flexible}},defaultSize:{width:730,height:410,resizeType:r.ResizeType.Fixed}},a=Object(o.L)("iframe_block_settings")||i,c=function(){return a},u=Object(o.L)("iframe_config"),l=function(){if("string"==typeof u)try{u=JSON.parse(u)}catch(e){u=void 0}return u}},VNOu:function(e,t,o){"use strict";o.d(t,"a",function(){return p}),o.d(t,"b",function(){return h});var n,r=o("o0o1"),i=o.n(r),a=o("J4zp"),c=o.n(a),u=o("yXPU"),l=o.n(u),s=o("q1tI"),d=o.n(s),f=o("CnBM"),p=o.n(f)()({loader:(n=l()(i.a.mark(function e(){var t,n,r;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([o.e("vendors--doc_katex").then(o.t.bind(null,"aOJk",7)),o.e("vendors--doc_katex").then(o.t.bind(null,"/1Vk",7))]);case 2:return t=e.sent,n=c()(t,1),r=n[0],e.abrupt("return",r);case 6:case"end":return e.stop()}},e)})),_),loading:function(){return d.a.createElement("span",{className:"equation-view equation-view-loading"},d.a.createElement("span",{className:"equation-view-loading-box"}))}});function _(){return n.apply(this,arguments)}function h(){return o.e("vendors--doc_katex").then(o.t.bind(null,"fNIL",7)),o.e("vendors--doc_katex").then(o.t.bind(null,"Oy/b",7))}},WC6B:function(e,t,n){"use strict";var r,o;n.d(t,"d",function(){return r}),n.d(t,"b",function(){return i}),n.d(t,"a",function(){return a}),n.d(t,"c",function(){return c}),(o=r=r||{}).PlainText="Plain Text",o.Plain="Plain Text",o.Text="Plain Text",o.Txt="Plain Text",o.ABAP="ABAP",o.Ada="Ada",o.Apache="Apache",o.ApacheConf="Apache",o.Apex="Apex",o.ASM="Assembly language",o.ASH="Bash",o.BASH="Bash",o.CSH="Bash",o.SH="Bash",o.TCSH="Bash",o.ZSH="Bash",o.C="C",o.H="C",o.COBOL="COBOL",o.CoffeeScript="CoffeeScript",o.Coffee="CoffeeScript",o.Cson="CoffeeScript",o.Iced="CoffeeScript",o["C++"]="C++",o.CC="C++",o.HH="C++",o.CPP="C++",o.CS="C#",o.CSharp="C#",o.CSS="CSS",o.D="D",o.Dart="Dart",o.Delphi="Delphi",o.DFM="Delphi",o.DPR="Delphi",o.PAS="Delphi",o.Pascal="Delphi",o.Docker="Dockerfile",o.Dockerfile="Dockerfile",o.Django="Django",o.JinJa="Django",o.Erl="Erlang",o.Erlang="Erlang",o.F90="Fortran",o.F95="Fortran",o.Fortran="Fortran",o.FoxPro="FoxPro",o.Go="Go",o.GoLang="Go",o.Groovy="Groovy",o.Haskell="Haskell",o.HS="Haskell",o.HTML="HTML",o.HTMLBars="HTMLBars",o.HTTP="HTTP",o.HTTPS="HTTP",o.Java="Java",o.JSP="Java",o.JavaScript="JavaScript",o.JS="JavaScript",o.JSX="JavaScript",o.JSON="JSON",o.Julia="Julia",o.Kotlin="Kotlin",o.KT="Kotlin",o.Math="LaTeX",o.LaTeX="LaTeX",o.TeX="LaTeX",o.Lisp="Lisp",o.Logo="Logo",o.Lua="Lua",o.MAK="Makefile",o.Makefile="Makefile",o.MK="Makefile",o.Markdown="Markdown",o.MD="Markdown",o.MATLAB="MATLAB",o.Nginx="Nginx",o.OC="Objective-C",o.OBJC="Objective-C",o.ObjectiveC="Objective-C",o.MM="Objective-C",o.OpenEdgeABL="OpenEdge ABL",o.Perl="Perl",o.PL="Perl",o.PM="Perl",o.PHP="PHP",o.PostScript="PostScript",o.PowerShell="PowerShell",o.PS="PowerShell",o.Prolog="Prolog",o.Proto="ProtoBuf",o.ProtoBuf="ProtoBuf",o.Py="Python",o.Python="Python",o.R="R",o.RPG="RPG",o.RB="Ruby",o.Ruby="Ruby",o.RS="Rust",o.Rust="Rust",o.SAS="SAS",o.Scala="Scala",o.Scheme="Scheme",o.Scratch="Scratch",o.SCSS="SCSS",o.Shell="Shell",o.SQL="SQL",o.Swift="Swift",o.Thrift="Thrift",o.TS="TypeScript",o.TypeScript="TypeScript",o.VBS="VBScript",o.VBScript="VBScript",o.VisualBasic="Visual Basic",o.XML="XML",o.SVG="XML",o.YAML="YAML",o.YML="YAML";var i=[r.ABAP,r.Ada,r.Apache,r.Apex,r.ASM,r.BASH,r.C,r.COBOL,r.CoffeeScript,r.CPP,r.CSharp,r.CSS,r.D,r.Dart,r.Delphi,r.Dockerfile,r.Django,r.Erlang,r.Fortran,r.FoxPro,r.Go,r.Groovy,r.Haskell,r.HTML,r.HTMLBars,r.HTTP,r.Java,r.JavaScript,r.JSON,r.Julia,r.Kotlin,r.LaTeX,r.Lisp,r.Logo,r.Lua,r.Makefile,r.Markdown,r.MATLAB,r.Nginx,r.ObjectiveC,r.OpenEdgeABL,r.Perl,r.PHP,r.PostScript,r.PowerShell,r.Prolog,r.ProtoBuf,r.Python,r.R,r.RPG,r.Ruby,r.Rust,r.SAS,r.Scala,r.Scheme,r.Scratch,r.SCSS,r.Shell,r.SQL,r.Swift,r.Thrift,r.TypeScript,r.VBScript,r.VisualBasic,r.XML,r.YAML].sort();i.unshift(r.PlainText);var a=Object.keys(r),c=a.map(function(e){return e.toLowerCase()})},YWBl:function(e,t,n){"use strict";var f=n("2ACu"),p=n("snzu"),_=n("+4eN");function r(e){var t=e.action,n=e.op,r=e.source,o=e.eventType,i=e.target,a=e.objectType,c=e.opItem,u=e.extraParams,l=void 0===u?{}:u,s="Caret"===getSelection().type,d=window.getSelection().anchorNode||i;Object(f.collectSuiteEvent)("toggle_attribute",Object.assign({action:t,source:r||"shortKey",eventType:o||"keydown",attr_op_status:n||"",targetId:d&&d.id||"",targetClass:d&&d.className||"",is_cursor:s.toString(),zone:Object(_.m)(),module:p.a.module(),file_type:p.a.file_type(),file_tenant_id:p.a.file_tenant_id(),file_is_cross_tenant:p.a.file_is_cross_tenant(),object_type:a,op_item:c||""},l))}t.a=r},Zda9:function(e,b,v){"use strict";(function(n){v.d(b,"f",function(){return d}),v.d(b,"k",function(){return f}),v.d(b,"i",function(){return p}),v.d(b,"d",function(){return _}),v.d(b,"j",function(){return h}),v.d(b,"e",function(){return g}),v.d(b,"g",function(){return m});var e=v("cDf5"),t=v.n(e),r=v("dDhe"),o=v("n/R6"),i=v("OJOY"),a=v("PmjA"),c=v("WC6B"),u=v("TWwi"),l=v("iP/4"),s=v("tRMT");function d(){return Object(r.c)()}function f(){var e,t;Object(u.b)()&&(e=i.a.getItem(a.k),t=Number(e),(isNaN(t)||t<3)&&(o.a.info({key:a.k,content:n("CreationDoc_Docs_Codeblock.toast")}),i.a.setItem(a.k,isNaN(t)?1:t+1)))}function p(e){i.a.setItem(a.j,e)}function _(){var e=i.a.getItem(a.j);return Object.values(c.d).includes(e)?e:c.d.PlainText}function h(e){i.a.setItem(a.m,e)}function g(){var e=i.a.getItem(a.m);return"object"!==t()(e)&&e}function m(){return l.a.isInVC}v.d(b,"a",function(){return s.FOLLOW_REPLAY}),v.d(b,"b",function(){return s.FOLLOW_STATE_CHANGE}),v.d(b,"c",function(){return s.eventEmitter}),v.d(b,"h",function(){return s.registerVCModule}),v.d(b,"l",function(){return s.unregisterVCModule})}).call(this,v("2vAP"))},aZ4v:function(e,t,n){"use strict";n.r(t),n.d(t,"de",function(){return r}),n.d(t,"en",function(){return o}),n.d(t,"es",function(){return i}),n.d(t,"fr",function(){return a}),n.d(t,"hi",function(){return c}),n.d(t,"id",function(){return u}),n.d(t,"it",function(){return l}),n.d(t,"ja",function(){return s}),n.d(t,"ko",function(){return d}),n.d(t,"pt",function(){return f}),n.d(t,"ru",function(){return p}),n.d(t,"th",function(){return _}),n.d(t,"vi",function(){return h}),n.d(t,"zh",function(){return g});var r=function(){return n.e("dia_de").then(n.t.bind(null,"ilkU",7))},o=function(){return n.e("dia_en").then(n.t.bind(null,"TxnR",7))},i=function(){return n.e("dia_es").then(n.t.bind(null,"SDe3",7))},a=function(){return n.e("dia_fr").then(n.t.bind(null,"OcHX",7))},c=function(){return n.e("dia_hi").then(n.t.bind(null,"Bafo",7))},u=function(){return n.e("dia_id").then(n.t.bind(null,"B/5x",7))},l=function(){return n.e("dia_it").then(n.t.bind(null,"Id+6",7))},s=function(){return n.e("dia_ja").then(n.t.bind(null,"SYcc",7))},d=function(){return n.e("dia_ko").then(n.t.bind(null,"ZCmb",7))},f=function(){return n.e("dia_pt").then(n.t.bind(null,"mV3g",7))},p=function(){return n.e("dia_ru").then(n.t.bind(null,"Cwr8",7))},_=function(){return n.e("dia_th").then(n.t.bind(null,"AhpK",7))},h=function(){return n.e("dia_vi").then(n.t.bind(null,"iJSV",7))},g=function(){return n.e("dia_zh").then(n.t.bind(null,"BH4l",7))}},aiXr:function(e,t,n){"use strict";var r=n("lwsE"),o=n.n(r),i=n("W8MJ"),a=n.n(i),c=n("AiBH"),u=function(){function r(e){o()(this,r);var t=e.rect,n=e.userId;this.rect=t,this.userId=n}return a()(r,[{key:"getRect",value:function(){return this.rect}},{key:"getLineHeight",value:function(){return 0}},{key:"canShowPopover",value:function(){return!0}},{key:"hasNoPermission",value:function(){return!1}},{key:"isGrantViewAccessDisabled",value:function(){return!1}},{key:"getType",value:function(){return c.E.USER}},{key:"getToken",value:function(){return this.userId}},{key:"getTitle",value:function(){return""}},{key:"getLink",value:function(){return""}},{key:"getUserName",value:function(){return""}},{key:"isInComment",value:function(){return!1}},{key:"getSourceData",value:function(){return{source:c.z.DOC,isWhole:!1}}},{key:"getFallbackBoxContainer",value:function(){return null}},{key:"isSameAs",value:function(){return!1}}]),r}();t.a=u},b6Rs:function(e){e.exports=JSON.parse('{"nested":{"chats":{"nested":{"Chat":{"fields":{"id":{"type":"string","id":1},"type":{"type":"int32","id":2,"options":{"default":1}},"lastMessageId":{"type":"string","id":3},"name":{"type":"string","id":4},"ownerId":{"type":"string","id":6}}},"FeedCard":{"fields":{"id":{"type":"string","id":1},"type":{"type":"int32","id":2,"options":{"default":1}},"updateTime":{"type":"int64","id":3},"isDelayed":{"type":"bool","id":4},"parentCardId":{"type":"int64","id":5},"rankTime":{"type":"int64","id":6},"feedType":{"type":"int32","id":7},"imprId":{"type":"string","id":8},"updateTimeMs":{"type":"int64","id":9}}},"PutChatRequest":{"fields":{"type":{"rule":"required","type":"int32","id":1},"userIds":{"rule":"repeated","type":"string","id":2}}},"PutChatResponse":{"fields":{"chat":{"type":"Chat","id":1},"feedCard":{"type":"FeedCard","id":2}}}}}}}')},ciJ8:function(e,Q,$){"use strict";(function(e){$.d(Q,"i",function(){return s}),$.d(Q,"d",function(){return L}),$.d(Q,"h",function(){return P}),$.d(Q,"e",function(){return I}),$.d(Q,"f",function(){return D}),$.d(Q,"u",function(){return R}),$.d(Q,"s",function(){return w}),$.d(Q,"m",function(){return x}),$.d(Q,"w",function(){return N}),$.d(Q,"n",function(){return B}),$.d(Q,"j",function(){return M}),$.d(Q,"a",function(){return U}),$.d(Q,"o",function(){return H}),$.d(Q,"k",function(){return F}),$.d(Q,"q",function(){return z}),$.d(Q,"p",function(){return W}),$.d(Q,"l",function(){return q}),$.d(Q,"r",function(){return K}),$.d(Q,"v",function(){return J}),$.d(Q,"t",function(){return Z}),$.d(Q,"g",function(){return V}),$.d(Q,"b",function(){return X}),$.d(Q,"c",function(){return Y});var t,n,r,o,i,a,c,u,l,s,d,f=$("lSNA"),p=$.n(f),_=$("RIqP"),h=$.n(_),g=$("J4zp"),m=$.n(g),b=$("kESg"),v=$("H6oK"),k=$("/GXw"),y=$("EDbJ");(d=s=s||{}).BackgroundColor="calloutBackgroundColor",d.BorderColor="calloutBorderColor",d.TextColor="calloutTextColor",d.EmojiId="calloutEmojiId";var E,C,O,T,S,j,L={EDIT_STATUS_CHANGE:"CALLOUT_EDIT_STATUS_CHANGE"},P={CALLOUT:"callout-block",ACE_LINE:"callout-ace-line",LINE:"callout-line",CONTAINER:"callout-container",SPAN:"".concat(b.k.ZoneType,"-").concat(b.l.CalloutBlock),ICON:"callout-emoji-icon",EMOJI_PICKER:"callout-emoji-picker",HIGHLIGHT_BTN:"callout-highlight-btn"},I=[v.IGNORE_LIST_CLASS,v.IGNORE_HYPERLINK_CLASS,v.IGNORE_INLINE_CODE_CLASS,v.IGNORE_BACKGROUND_COLOR_CLASS,v.IGNORE_LINE_BACKGROUND_CLASS].join(" "),D="__callout_block_default_attrs__",R=["bulb","pushpin","white_check_mark","negative_squared_cross_mark","heart","+1","tada","no_entry_sign","exclamation"],w=["bulb","+1","star2","tada","pushpin","books","pencil2","writing_hand","heart","round_pushpin","baguette_bread","soccer","musical_keyboard","musical_score","umbrella_on_ground","art","first_place_medal","trophy","gift","sunrise","camping","beach_with_umbrella","desert_island","bullettrain_front","glass_of_milk","chestnut","cake","bread","unicorn_face","monkey_face"],x={categories:{recent:e("block.poll_emoji_recent"),people:e("block.poll_emoji_people"),nature:e("block.poll_emoji_nature"),foods:e("block.poll_emoji_foods"),activity:e("block.poll_emoji_activity"),places:e("block.poll_emoji_places"),objects:e("block.poll_emoji_objects"),symbols:e("block.poll_emoji_symbols"),flags:e("block.poll_emoji_flags"),custom:e("block.poll_emoji_custom")}};(C=E=E||{}).Red="CALLOUT_RED_TEXT",C.Orange="CALLOUT_ORANGE_TEXT",C.Yellow="CALLOUT_YELLOW_TEXT",C.Green="CALLOUT_GREEN_TEXT",C.Blue="CALLOUT_BLUE_TEXT",C.Purple="CALLOUT_PURPLE_TEXT",C.Neutral="CALLOUT_NEUTRAL_TEXT",(T=O=O||{}).Red="CALLOUT_RED_BORDER",T.Orange="CALLOUT_ORANGE_BORDER",T.Yellow="CALLOUT_YELLOW_BORDER",T.Green="CALLOUT_GREEN_BORDER",T.Blue="CALLOUT_BLUE_BORDER",T.Purple="CALLOUT_PURPLE_BORDER",T.Neutral="CALLOUT_NEUTRAL_BORDER",(j=S=S||{}).LightRed="CALLOUT_LIGHT_RED_BACKGROUND",j.LightOrange="CALLOUT_LIGHT_ORANGE_BACKGROUND",j.LightYellow="CALLOUT_LIGHT_YELLOW_BACKGROUND",j.LightGreen="CALLOUT_LIGHT_GREEN_BACKGROUND",j.LightBlue="CALLOUT_LIGHT_BLUE_BACKGROUND",j.LightPurple="CALLOUT_LIGHT_PURPLE_BACKGROUND",j.LightNeutral="CALLOUT_LIGHT_NEUTRAL_BACKGROUND",j.DarkRed="CALLOUT_DARK_RED_BACKGROUND",j.DarkOrange="CALLOUT_DARK_ORANGE_BACKGROUND",j.DarkYellow="CALLOUT_DARK_YELLOW_BACKGROUND",j.DarkGreen="CALLOUT_DARK_GREEN_BACKGROUND",j.DarkBlue="CALLOUT_DARK_BLUE_BACKGROUND",j.DarkPurple="CALLOUT_DARK_PURPLE_BACKGROUND",j.DarkNeutral="CALLOUT_DARK_NEUTRAL_BACKGROUND";var N=new Map([[E.Red,k.S],[E.Orange,k.E],[E.Yellow,k.cb],[E.Green,k.n],[E.Blue,k.g],[E.Purple,k.L],[E.Neutral,k.v]].map(function(e){var t=m()(e,2),n=t[0],r=t[1];return[n,Object(y.a)(r)]})),B=new Map([[S.LightRed,k.Q],[S.LightOrange,k.C],[S.LightYellow,k.X],[S.LightGreen,k.l],[S.LightBlue,k.e],[S.LightPurple,k.J],[S.LightNeutral,k.u]].map(function(e){var t=m()(e,2),n=t[0],r=t[1];return[n,Object(y.a)(r)]})),M=new Map([[S.DarkRed,k.M],[S.DarkOrange,k.y],[S.DarkYellow,k.T],[S.DarkGreen,k.h],[S.DarkBlue,k.a],[S.DarkPurple,k.F],[S.DarkNeutral,k.p]].map(function(e){var t=m()(e,2),n=t[0],r=t[1];return[n,Object(y.a)(r)]})),U=new Map([].concat(h()(B),h()(M))),H=new Map([[O.Red,k.N],[O.Orange,k.z],[O.Yellow,k.V],[O.Green,k.i],[O.Blue,k.b],[O.Purple,k.G],[O.Neutral,k.r]].map(function(e){var t=m()(e,2),n=t[0],r=t[1];return[n,Object(y.a)(r)]})),F=new Map([[O.Red,k.O],[O.Orange,k.A],[O.Yellow,k.W],[O.Green,k.j],[O.Blue,k.c],[O.Purple,k.H],[O.Neutral,k.s]].map(function(e){var t=m()(e,2),n=t[0],r=t[1];return[n,Object(y.a)(r)]})),z=new Map([[O.Red,k.O],[O.Orange,k.A],[O.Yellow,k.V],[O.Green,k.j],[O.Blue,k.c],[O.Purple,k.H],[O.Neutral,k.s]].map(function(e){var t=m()(e,2),n=t[0],r=t[1];return[n,Object(y.a)(r)]})),W=new Map([[S.LightRed,k.M],[S.LightOrange,k.y],[S.LightYellow,k.T],[S.LightGreen,k.h],[S.LightBlue,k.a],[S.LightPurple,k.F],[S.LightNeutral,k.p],[S.DarkRed,k.N],[S.DarkOrange,k.z],[S.DarkYellow,k.U],[S.DarkGreen,k.i],[S.DarkBlue,k.b],[S.DarkPurple,k.G],[S.DarkNeutral,k.r]].map(function(e){var t=m()(e,2),n=t[0],r=t[1];return[n,Object(y.a)(r)]})),q=(t={},p()(t,s.BackgroundColor,Object(y.a)(k.C)),p()(t,s.BorderColor,Object(y.a)(k.z)),p()(t,s.TextColor,""),t),K=[(n={},p()(n,s.BackgroundColor,B.get(S.LightRed)),p()(n,s.BorderColor,H.get(O.Red)),n),(r={},p()(r,s.BackgroundColor,B.get(S.LightOrange)),p()(r,s.BorderColor,H.get(O.Orange)),r),(o={},p()(o,s.BackgroundColor,B.get(S.LightYellow)),p()(o,s.BorderColor,H.get(O.Yellow)),o),(i={},p()(i,s.BackgroundColor,B.get(S.LightGreen)),p()(i,s.BorderColor,H.get(O.Green)),i),(a={},p()(a,s.BackgroundColor,B.get(S.LightBlue)),p()(a,s.BorderColor,H.get(O.Blue)),a),(c={},p()(c,s.BackgroundColor,B.get(S.LightPurple)),p()(c,s.BorderColor,H.get(O.Purple)),c),(u={},p()(u,s.BackgroundColor,B.get(S.LightNeutral)),p()(u,s.BorderColor,H.get(O.Neutral)),u)],J="CALLOUT_COLOR_RESET",Z="CALLOUT_COLOR_RANDOM",V="callout",X=(l={},p()(l,s.TextColor,"color_callout_text"),p()(l,s.BorderColor,"color_callout_border"),p()(l,s.BackgroundColor,"color_callout_background"),p()(l,s.EmojiId,"callout_emoji"),l),Y=(b.c[b.l.CalloutBlock],b.d[b.l.CalloutBlock].blocks);b.d[b.l.CalloutBlock].attribs}).call(this,$("2vAP"))},delU:function(e,t,n){"use strict";var r=n("GOr8");t.a=r.a},eXiC:function(e,t,n){"use strict";n.d(t,"d",function(){return i}),n.d(t,"b",function(){return a}),n.d(t,"c",function(){return c}),n.d(t,"a",function(){return u}),n.d(t,"f",function(){return l}),n.d(t,"e",function(){return r}),n.d(t,"g",function(){return s}),n.d(t,"h",function(){return d});var r,o,i="clientside-smart-link-mark",a="clientside-loading_bookmark",c="clientside-loading_link-title",u="loading_bookmark",l="loading_link-title";(o=r=r||{}).InsertTitle="insertTitle",o.InsertBookmark="insertBookmark";var s="|",d=["link-mention","link-holder_"]},fMYX:function(e,t,n){"use strict";n.d(t,"d",function(){return d}),n.d(t,"b",function(){return p}),n.d(t,"a",function(){return _}),n.d(t,"c",function(){return g}),n.d(t,"e",function(){return m});var r=n("J4zp"),o=n.n(r),i=n("FJEn"),a=n("nN3d"),c=n("2ACu"),u=n("toa8"),l=n("AESI"),s=new Set,d=function e(t){var n=Object(a.a)();return s.has(n)?(Object(c.collectSuiteEvent)("genUuidRepeated",{source:t}),e(t)):(h(n),n)},f=0,p=function(e){var t=e.getRep(i.DEFAULT_REP_ZONE).apool,n=Object.values(t.numToAttrib),r=n.slice(f);f=n.length-1,r.forEach(function(e){var t=o()(e,2),n=t[0],r=t[1];n===_&&h(r)})},_="todo_uuid",h=function(e){s.add(e)},g=function(){s.clear(),f=0};function m(e,t){Object(u.d)({url:l.TODO_TRIGGER_UPDATE,method:l.METHOD.POST,headers:{"Content-Type":"application/json"},data:{objToken:e,objType:t}})}},fyN5:function(e,g,m){"use strict";(function(y){m.d(g,"b",function(){return _}),m.d(g,"a",function(){return h});var e,t=m("lSNA"),n=m.n(t),r=m("o0o1"),E=m.n(r),o=m("yXPU"),C=m.n(o),i=m("ZDp4"),c=m.n(i),a=m("ifKl"),u=m("7EGn"),O=m("EGd1"),T=m("jryj"),l=m("lQZd"),S=m("zLIr"),s=m("OX8E"),d=m("n/R6"),f=m("aiXr"),j=m("D7h9"),L=m("XMIC"),p=m("qKwb"),_=a.default,h=(e={},n()(e,O.a.GET_DOC_INFO,function(){return{data:{token:Object(l.g)()},extra:{token:Object(l.g)()}}}),n()(e,O.a.GET_CONTAINER_RECT,function(e,t){c()(e);var n=t.node,r=Object(u.default)(n,"parentElement.parentElement");if(!r)throw Error("has`t container element");var o=r.getBoundingClientRect(),i=o.height,a=o.width;return{data:{width:a,height:i},extra:{width:a,height:i}}}),n()(e,O.a.SHOW_TOAST,function(e){var t=e.title,n=e.icon,r=e.duration;d.a.show({type:n,content:t,message:t,duration:"number"==typeof r?r:1500})}),n()(e,O.a.ON_CONTAINER_RESIZE,function(e,t){var n=t.node,r=function(e,t,n){n.node.querySelector("op-block")===t&&e({width:n.node.scrollWidth,height:n.node.scrollHeight})}.bind(null,e,n);return s.a.on("ISVBlock:containerResize",r),function(){s.a.off("ISVBlock:containerResize",r)}}),n()(e,O.a.SHOW_CHOOSE_CONTACT,function(e){var r=e.title,o=e.description,t=e.multiSelect,i=void 0===t||t,n=e.maxSelectedNum,a=void 0===n?10:n,c=e.withExternal,u=void 0===c||c,l=e.disableList,s=void 0===l?[]:l,d=e.ignoreSelf,f=void 0!==d&&d,p=e.limitTips,_=void 0===p?y("CreationDoc_Docs_MaxSelectContacts_desc",a):p,h=e.confirmText,g=e.cancelText,m=e.organizationEnable,b=void 0===m||m;return new Promise(function(t){var e=function(e){var r={1:1};t({data:e.map(function(e){var t=e.id,n=e.owner_type;return{id:t,type:r[n]||0}})})},n=function(){return t({status:O.b.Cancel})};j.default.dispatch(Object(L.c)(T.MODAL_TYPES.ORGANIZATION_PICK,Object.assign({},P,{handleOnConfirm:e,handleOnCancel:n,title:r,description:o,confirmText:h,cancelText:g,maxSelectedCount:a,limitTips:_,isSupportMultiSelect:i,isSupportOrganization:b,isExternalDisabled:!u,isFeishuGroupDisabled:!0,isIgnoreSelf:f,getItemIsDisable:function(e){var t=e.id;return 18===e.owner_type||!!Array.isArray(s)&&s.includes(t)}})))})}),n()(e,O.a.SHOW_CHOOSE_CHAT,function(e){var o=e.title,a=e.description,t=e.selectType,c=void 0===t?O.d.ALL_CHATS:t,n=e.multiSelect,u=void 0===n||n,r=e.maxSelectedNum,l=void 0===r?10:r,i=e.withExternal,s=void 0===i||i,d=e.disableList,f=void 0===d?[]:d,p=e.showAddMessage,_=void 0!==p&&p,h=e.ignoreSelf,g=void 0!==h&&h,m=e.limitTips,b=void 0===m?y("CreationDoc_Docs_MaxSelectChats_desc",l):m,v=e.confirmText,k=e.cancelText;return new Promise(function(i){var e=function(){var n=C()(E.a.mark(function e(t,n){var c,r,o;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return c={0:0,1:0,2:1},r=t.map(function(){var t=C()(E.a.mark(function e(t){var n,r,o,i,a;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.id,r=t.owner_type,o=c[r],i={id:n,type:o},0===o)return e.next=6,Object(S.a)(n);e.next=8;break;case 6:a=e.sent,i.id=a.chat.id;case 8:return e.abrupt("return",i);case 9:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}()),e.next=4,Promise.all(r);case 4:o=e.sent,i({data:o,extra:{addMessage:n}});case 6:case"end":return e.stop()}},e)}));return function(e,t){return n.apply(this,arguments)}}(),t=function(){return i({status:O.b.Cancel})},n=[O.d.GROUP_CHATS].includes(c),r=[O.d.P2P_CHATS].includes(c);j.default.dispatch(Object(L.c)(T.MODAL_TYPES.ORGANIZATION_PICK,Object.assign({},P,{handleOnConfirm:e,handleOnCancel:t,title:o,description:a,confirmText:v,cancelText:k,maxSelectedCount:l,limitTips:b,isCustomizeMsgEnable:_,isSupportMultiSelect:u,isSupportOrganization:!n,isExternalDisabled:!s||c===O.d.WITHOUT_CROSS_TENANT_CHATS,isUserDisabled:n,isFeishuGroupDisabled:r,isIgnoreSelf:g,getItemIsDisable:function(e){var t=e.id;return 18===e.owner_type||!!Array.isArray(f)&&f.includes(t)}})))})}),n()(e,O.a.SHOW_PROFILE,function(e,t){var n=t.node,r=e.userId,o=e.left,i=e.top,a=e.unCoverArea,c=Object(p.c)(j.default.getState()),u=new f.a({e:{target:n},userId:r,rect:Object.assign({left:o,top:i},a)});return c.plugins.mention.hover.delayShowPopOverTarget(function(){return u},!0),{}}),n()(e,O.a.HIDE_PROFILE,function(){return Object(p.c)(j.default.getState()).plugins.mention.hover.hidePopoverFromAsyncCall(),{}}),e),P={searchCount:30,searchPlaceholder:y("wiki.search"),customizeMsgPlaceholder:y("application.workflow_notify_msg_content_placeholder"),getIsConfirmDisable:function(e){return 0===e.length},getItemIsChecked:function(e){return e},getOrganizationNextDisable:function(){return!1}}}).call(this,m("2vAP"))},gOz9:function(e,t,n){"use strict";var r,o,i,a;n.d(t,"b",function(){return r}),n.d(t,"c",function(){return i}),n.d(t,"e",function(){return l}),n.d(t,"f",function(){return c}),n.d(t,"a",function(){return f}),n.d(t,"d",function(){return s}),(o=r=r||{}).DONE="done",o.UNDO="undo",(a=i=i||{}).done="1",a.undo="2";var c,u,l="todo_uuid";(u=c=c||{}).CONFIRM="CONFIRM",u.CANCLE="CANCLE";var s,d,f={ALREADY_DELETED:3e3,NO_PERMISSON:3001};(d=s=s||{})[d.UPDATE=0]="UPDATE",d[d.DELETED=1]="DELETED"},hLtC:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var o=n("2ACu"),r=function(t,n){var r=Date.now();return function(){var e=Date.now()-r;Object(o.default)("doc_dev_perf_scroll_to_selection",{name:n,costTime:e,isPartRender:t.blockRender.isSkipAboveRender()?1:0}),console.log("editor.scrollToSelection costTime",n,e)}}},hjKP:function(e,t,n){"use strict";n.r(t);var r=n("CnBM"),o=n.n(r);t.default=o()({loader:function(){return Promise.all([n.e("doc_index_css"),n.e("commons--FilePicker--attachment_preview_modal--box-utils-upload-v2--box_index--doc_uploader_delay----afa6617f"),n.e("commons--box_right_bar--download-progress-viewer--file-card--lark-upload-progress-viewer--native-up--f665f12a"),n.e("commons--bitable_utils_async--box_index--file-card--layout_delay--ui-control_modules"),n.e("commons--attachment_preview_modal--box_index--file-card"),n.e("file-card")]).then(n.bind(null,"HGRm"))},loading:function(){return null}})},"iR+8":function(e,r,o){"use strict";(function(e){o.d(r,"b",function(){return n});var t={"block.jira_issue":e("block.jira_issue"),"doc.jira.sync_jira_issue":e("doc.jira.sync_jira_issue"),"doc.jira.is_deleted":e("doc.jira.is_deleted"),"doc.jira.open_in_jira_platform":e("doc.jira.open_in_jira_platform"),"doc.jira.edit_fail_check_internet":e("doc.jira.edit_fail_check_internet"),"doc.jira.edit_fail_no_field":e("doc.jira.edit_fail_no_field"),"doc.jira.edit_fail_wrong_format":e("doc.jira.edit_fail_wrong_format"),"doc.jira.jira_issue":e("doc.jira.jira_issue"),"doc.jira.jira_filter":e("doc.jira.jira_filter"),"doc.jira.filter_is_deleted":e("doc.jira.filter_is_deleted"),"doc.jira.jira":e("doc.jira.jira"),"doc.jira.default_filter_name":e("doc.jira.default_filter_name"),"doc.jira.tip_can_not_edit":e("doc.jira.tip_can_not_edit"),"doc.jira.key":e("doc.jira.key"),"doc.jira.field_project":e("doc.jira.field_project"),"doc.jira.field_issue_type":e("doc.jira.field_issue_type"),"doc.jira.field_summary":e("doc.jira.field_summary"),"doc.jira.field_description":e("doc.jira.field_description"),"doc.jira.field_status":e("doc.jira.field_status"),"doc.jira.field_label":e("doc.jira.field_label"),"doc.jira.field_assignee":e("doc.jira.field_assignee"),"doc.jira.field_update_time":e("doc.jira.field_update_time"),"doc.jira.field_priority":e("doc.jira.field_priority"),"doc.jira.field_created":e("doc.jira.field_created"),"doc.jira.field_reporter":e("doc.jira.field_reporter"),"doc.jira.field_affects_versions":e("doc.jira.field_affects_versions"),"doc.jira.field_components":e("doc.jira.field_components"),"doc.jira.field_creator":e("doc.jira.field_creator"),"doc.jira.field_due_date":e("doc.jira.field_due_date"),"doc.jira.field_environment":e("doc.jira.field_environment"),"doc.jira.field_fix_versions":e("doc.jira.field_fix_versions"),"doc.jira.field_resolved":e("doc.jira.field_resolved"),"doc.jira.field_resolution":e("doc.jira.field_resolution"),"doc.jira.field_original_estimate":e("doc.jira.field_original_estimate"),"doc.jira.field_remaining_estimate":e("doc.jira.field_remaining_estimate"),"doc.jira.field_time_spent":e("doc.jira.field_time_spent"),"doc.jira.field_votes":e("doc.jira.field_votes"),"doc.jira.field_watchers":e("doc.jira.field_watchers"),"doc.jira.field_work_ratio":e("doc.jira.field_work_ratio"),"doc.jira.filter_name_1":e("doc.jira.filter_name_1"),"doc.jira.filter_name_2":e("doc.jira.filter_name_2"),"doc.jira.filter_name_3":e("doc.jira.filter_name_3"),"doc.jira.filter_name_4":e("doc.jira.filter_name_4"),"doc.jira.filter_name_5":e("doc.jira.filter_name_5"),"doc.jira.filter_name_6":e("doc.jira.filter_name_6"),"doc.jira.filter_name_7":e("doc.jira.filter_name_7"),"doc.jira.filter_name_8":e("doc.jira.filter_name_8"),"doc.jira.filter_name_9":e("doc.jira.filter_name_9")},i=Object.assign({},t,{"CreationDoc_Docs_Diagram.Title":e("CreationDoc_Docs_Diagram.Title"),"CreationDoc_Docs_Diagram.Edit.Button":e("CreationDoc_Docs_Diagram.Edit.Button"),"CreationDoc_Docs_Diagram.Fullscreen.Hover":e("CreationDoc_Docs_Diagram.Fullscreen.Hover"),"CreationDoc_Docs_Diagram.NoContent.Desc":e("CreationDoc_Docs_Diagram.NoContent.Desc"),CreationDoc_Docs_FlowDiagram_Title:e("CreationDoc_Docs_FlowDiagram_Title"),CreationDoc_Docs_UMLDiagram_Title:e("CreationDoc_Docs_UMLDiagram_Title"),CreationDoc_Docs_DiagramBlock_DownloadPic_Button:e("CreationDoc_Docs_DiagramBlock_DownloadPic_Button"),"block.loading_error":e("block.loading_error"),"block.common_paste_unsupported":e("block.common_paste_unsupported"),"block.no_offline_edit_support":e("block.no_offline_edit_support"),"block.failed_to_copy_loading_block":e("block.failed_to_copy_loading_block"),"block.failed_to_copy_block":e("block.failed_to_copy_block"),"block.failed_to_paste_block":e("block.failed_to_paste_block"),"common.cut":e("common.cut"),"common.copy":e("common.copy"),"common.delete":e("common.delete"),"block.editbar_comment":e("block.editbar_comment"),"history.deleted":e("history.deleted"),"common.form":e("common.form"),"common.cancel":e("common.cancel"),"common.confirm":e("common.confirm"),"feed.load_failed":e("feed.load_failed"),CreationDoc_ECM_AdminDisableToast:e("CreationDoc_ECM_AdminDisableToast"),"block.poll_type_multiple":e("block.poll_type_multiple"),"block.poll_title_exceeded":e("block.poll_title_exceeded"),"block.poll_type_single":e("block.poll_type_single"),"block.poll_title_placeholder":e("block.poll_title_placeholder"),"block.poll_warning":e("block.poll_warning"),"block.poll_confirm_ok":e("block.poll_confirm_ok"),"block.poll_confirm_cancel":e("block.poll_confirm_cancel"),"block.poll_add_option":e("block.poll_add_option"),"block.poll_emoji_recent":e("block.poll_emoji_recent"),"block.poll_emoji_people":e("block.poll_emoji_people"),"block.poll_emoji_nature":e("block.poll_emoji_nature"),"block.poll_emoji_foods":e("block.poll_emoji_foods"),"block.poll_emoji_activity":e("block.poll_emoji_activity"),"block.poll_emoji_places":e("block.poll_emoji_places"),"block.poll_emoji_objects":e("block.poll_emoji_objects"),"block.poll_emoji_symbols":e("block.poll_emoji_symbols"),"block.poll_emoji_flags":e("block.poll_emoji_flags"),"block.poll_emoji_custom":e("block.poll_emoji_custom"),"block.poll_option_placeholder":e("block.poll_option_placeholder"),"block.poll":e("block.poll"),"block.poll_option_exceeded":e("block.poll_option_exceeded"),"block.poll_confirm_delete":e("block.poll_confirm_delete"),"block.poll_confirm_delete_single":e("block.poll_confirm_delete_single"),"block.poll_one_vote":e("block.poll_one_vote"),"block.poll_x_votes":e("block.poll_x_votes"),"doc.toggle.collapse":e("doc.toggle.collapse"),"doc.toggle.expand":e("doc.toggle.expand"),"anonymous.hover_login_tip":e("anonymous.hover_login_tip"),"block.editbar_iframe_refresh":e("block.editbar_iframe_refresh"),"block.editbar_iframe_redirect":e("block.editbar_iframe_redirect"),"block.iframe":e("block.iframe"),"iframe.error_message":e("iframe.error_message"),"block.placeholder.new_app":e("block.placeholder.new_app"),"common.sheet":e("common.sheet"),"mention.saving":e("mention.saving"),"mention.preview":e("mention.preview"),"mention.saved_failure":e("mention.saved_failure"),"mention.download":e("mention.download"),"mention.download_failure":e("mention.download_failure"),"etherpad.Drive":e("etherpad.Drive"),"common.external":e("common.external"),"block.chat.join_no_permission":e("block.chat.join_no_permission"),"mention.chat_notallowed_join":e("mention.chat_notallowed_join"),"etherpad.initiate_conversation":e("etherpad.initiate_conversation"),"etherpad.join_group_chat":e("etherpad.join_group_chat"),"etherpad.join_group_failed":e("etherpad.join_group_failed"),"etherpad.join_group_failed_need_verification":e("etherpad.join_group_failed_need_verification"),"etherpad.join_group_failed_invitation":e("etherpad.join_group_failed_invitation"),"etherpad.join_group_failed_invalid":e("etherpad.join_group_failed_invalid"),"etherpad.join_group_failed_already_in":e("etherpad.join_group_failed_already_in"),"etherpad.join_group_failed_limited":e("etherpad.join_group_failed_limited"),"etherpad.join_group_failed_forbidden":e("etherpad.join_group_failed_forbidden"),"etherpad.join_group_failed_organization":e("etherpad.join_group_failed_organization"),"etherpad.join_group_failed_dissolved":e("etherpad.join_group_failed_dissolved"),"etherpad.join_group_failed_no_found":e("etherpad.join_group_failed_no_found"),"etherpad.chatcard":e("etherpad.chatcard"),"etherpad.chatcard_invalidation":e("etherpad.chatcard_invalidation"),"block.editbar.inline_view":e("block.editbar.inline_view"),"block.editbar.card_view":e("block.editbar.card_view"),"block.editbar.preview_view":e("block.editbar.preview_view"),"common.view":e("viewer.toolbar.fullscreen"),"common.comment":e("common.comment"),"common.bitable":e("doc.a-panel.bitable"),"common.mindnote":e("common.mindnote"),"doc.block.bitable":e("doc.block.bitable"),doc_app_button_default_label:e("doc_app_button_default_label"),doc_app_button_editor_action_option_add_row:e("doc_app_button_editor_action_option_add_row"),doc_app_button_editor_common_title:e("doc_app_button_editor_common_title"),doc_app_button_editor_set_value_add_more:e("doc_app_button_editor_set_value_add_more"),doc_app_mvp_button_editor_meeting_selector_default:e("doc_app_mvp_button_editor_meeting_selector_default"),doc_app_button_editor_label_common:e("doc_app_button_editor_label_common"),doc_app_mvp_button_editor_meeting_selector:e("doc_app_mvp_button_editor_meeting_selector"),doc_app_mvp_button_editor_meeting_option_checkin:e("doc_app_mvp_button_editor_meeting_option_checkin"),doc_app_mvp_button_editor_meeting_option_sectionfinished:e("doc_app_mvp_button_editor_meeting_option_sectionfinished"),doc_app_mvp_button_editor_meeting_option_allfinished:e("doc_app_mvp_button_editor_meeting_option_allfinished"),doc_app_button_editor_action:e("doc_app_button_editor_action"),doc_app_button_editor_block_selector_default:e("doc_app_button_editor_block_selector_default"),doc_app_mvp_button_editor_table_name:e("doc_app_mvp_button_editor_table_name"),doc_app_button_editor_set_value:e("doc_app_button_editor_set_value"),doc_app_mvp_button_editor_set_attendee:e("doc_app_mvp_button_editor_set_attendee"),doc_app_mvp_button_editor_set_attendee_value:e("doc_app_mvp_button_editor_set_attendee_value"),doc_app_mvp_button_editor_set_status:e("doc_app_mvp_button_editor_set_status"),doc_app_mvp_button_editor_set_status_value_checkin:e("doc_app_mvp_button_editor_set_status_value_checkin"),doc_app_button_editor_disable_title:e("doc_app_button_editor_disable_title"),doc_app_button_editor_mvp_disable_value_checkin:e("doc_app_button_editor_mvp_disable_value_checkin"),doc_app_mvp_button_editor_section_textbox:e("doc_app_mvp_button_editor_section_textbox"),doc_app_button_editor_action_option_modify_row:e("doc_app_button_editor_action_option_modify_row"),doc_app_button_editor_mvp_set_status_value_section:e("doc_app_button_editor_mvp_set_status_value_section"),doc_app_button_editor_mvp_disable_value_section:e("doc_app_button_editor_mvp_disable_value_section"),doc_app_button_editor_mvp_set_status_value_done:e("doc_app_button_editor_mvp_set_status_value_done"),doc_app_button_editor_mvp_disable_value_done:e("doc_app_button_editor_mvp_disable_value_done"),"CreationDoc_Docs_Equation.title":e("CreationDoc_Docs_Equation.title"),"CreationDoc_Docs_Equation.placeholder.edit":e("CreationDoc_Docs_Equation.placeholder.edit"),"CreationDoc_Docs_Equation.placeholder.view":e("CreationDoc_Docs_Equation.placeholder.view"),"CreationDoc_Docs_Equation.placeholder.error":e("CreationDoc_Docs_Equation.placeholder.error"),"CreationDoc_Docs_Equation.help.button":e("CreationDoc_Docs_Equation.help.button"),"CreationDoc_Docs_Equation.delete.toast":e("CreationDoc_Docs_Equation.delete.toast"),"CreationDoc_Docs_Equation.placeholder.input":e("CreationDoc_Docs_Equation.placeholder.input"),"CreationDoc_Docs_Equation.complete.button":e("CreationDoc_Docs_Equation.complete.button"),"CreationDoc_Docs_Equation.help.link.feishu":e("CreationDoc_Docs_Equation.help.link.feishu"),"CreationDoc_Docs_Equation.help.link.lark":e("CreationDoc_Docs_Equation.help.link.lark"),CreationDoc_Docs_GroupCard_Anonymous_Title:e("CreationDoc_Docs_GroupCard_Anonymous_Title"),"mindnote.block_title":e("mindnote.block_title"),"mindnote.block_menu_item_name":e("mindnote.block_menu_item_name"),CreationDoc_Docs_WebBookmark_Refresh_Tooltip:e("CreationDoc_Docs_WebBookmark_Refresh_Tooltip"),CreationDoc_Docs_WebBookmark_Open_Tooltip:e("CreationDoc_Docs_WebBookmark_Open_Tooltip"),CreationDoc_Docs_WebBookmark_Button:e("CreationDoc_Docs_WebBookmark_Button")});function n(e){for(var t=arguments.length,o=new Array(1<t?t-1:0),n=1;n<t;n++)o[n-1]=arguments[n];var r=i[e]||"";return r||console.error("Translation '".concat(e," missing.'")),0===o.length?r:r.replace(/\$\{([0-9])\}/g,function(e,t){var n=parseInt(t,10),r=null!=o[n-1]?o[n-1]:"";return String(r)})}r.a=i}).call(this,o("2vAP"))},jU1f:function(e,t,n){"use strict";n.d(t,"h",function(){return l}),n.d(t,"a",function(){return P}),n.d(t,"b",function(){return I}),n.d(t,"e",function(){return d}),n.d(t,"c",function(){return D}),n.d(t,"d",function(){return R}),n.d(t,"f",function(){return p}),n.d(t,"i",function(){return _}),n.d(t,"g",function(){return g});var r=n("o0o1"),E=n.n(r),o=n("yXPU"),C=n.n(o),i=n("3Hq1"),O=n("FJEn"),a=n("OX8E"),c=n("1qho"),u=n("fMYX"),T=n("4HEM"),S=n("hLtC"),j={SUCCESS:"REQUEST_RENDER_SUCCESS",FAIL:"REQUEST_RENDER_FAIL"};function L(e,t){if(Object(i.default)(t)){var n=window.innerHeight;switch(e){case"top":t=n/6;break;case"center":t=n/3;break;default:t=0}}return t}var l=function(){var t=C()(E.a.mark(function e(t){var l,n,r,o,i,a,c,u,s,d,f,p,_,h,g,m,b,v,k,y;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(l=t.editor,n=t.guid,r=void 0===n?"":n,o=t.blockId,i=void 0===o?"":o,a=t.tableId,c=void 0===a?"":a,u=t.placement,s=void 0===u?"":u,d=t.lineNum,f=void 0===d?"":d,p=t.animate,_=void 0===p||p,h=t.targetSelection,g=void 0===h?null:h,m=t.offset,b=t.complete,v=t.source,g?k=g:r?k=I(l,r):f?k=D(l,+f):i?k=P(l,i):c&&(k=R(l,c)),k)return y=Object(S.a)(l,v),e.next=6,l.scrollToSelection(k,{scrollFn:function(){var t=C()(E.a.mark(function e(t){var n,r,o,i,a,c,u;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(y(),n=l.getScrollContainer())return r=L(s,m),o=_?80:0,g&&g.selZone&&g.selZone!==O.DEFAULT_REP_ZONE&&(i=g.selZone,a=g.selStart,c=g.selEnd,u=Object(T.b)(l,i,a,c),t=u&&u.top?u.top:t),t-=r,e.abrupt("return",new Promise(function(e){$(n).animate({scrollTop:t},o,function(){e(),b()})}));e.next=8;break;case 8:return e.abrupt("return");case 9:case"end":return e.stop()}},e)}));function e(e){return t.apply(this,arguments)}return e}(),forceRender:!0});e.next=7;break;case 6:return e.abrupt("return",j.SUCCESS);case 7:return e.abrupt("return",j.FAIL);case 8:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}(),P=function(e,n){var r="dataMetaBlockProps",t=function(e,t){return Boolean(e===r&&JSON.parse(t).blockId===n)},o=e.getMatchedAttributePositionOnSelection(null,t)[0];return o?o.docPosition:null},s=function(e,n,r){var t=function(e,t){return Boolean(e===n&&t===r)},o=e.getMatchedAttributePositionOnSelection(null,t)[0];return o?o.docPosition:null},I=function(e,t){return s(e,"lineguid",t)},d=function(e,t){return s(e,u.a,t)},D=function(e,t){var n=e.getRep(O.DEFAULT_REP_ZONE);return-1<t&&t<=n.lines.length()-1?{selStart:[t,0],selEnd:[t,n.alinesWidth[t]-1],selZone:O.DEFAULT_REP_ZONE}:null},R=function(e,n){var r="aceTable",t=function(e,t){return Boolean(e===r&&t===n)},o=e.getMatchedAttributePositionOnSelection(null,t)[0];return o?o.docPosition:null};function f(e,t,n){var r;e.selZone!==O.DEFAULT_REP_ZONE||(r=t.lineTracker.collapseLines&&t.lineTracker.collapseLines.getCollapsedStatusOfLine(O.DEFAULT_REP_ZONE,e.selStart[0]))&&r.renderCollapsed&&a.a.emit("invokeCollapse",{range:e,zoneId:O.DEFAULT_REP_ZONE,source:n})}function p(e,t){var n,r=/line-(\S+)/.exec(t);return r?(n=r[1],D(e,+n)):I(e,t)}function _(e){return h.apply(this,arguments)}function h(){return(h=C()(E.a.mark(function e(t){var n,r,o,i,a,c,u;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.editor,r=t.selection,o=t.offsetTop,i=t.animate,a=void 0===i||i,c=t.complete,u=t.source,f(r,n,u),e.next=4,l({editor:n,animate:a,placement:"top",targetSelection:r,complete:function(){c&&c()},offset:o,source:u});case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function g(e,t){var n=2<arguments.length&&void 0!==arguments[2]&&arguments[2],r=e.getRep(t.selZone||O.DEFAULT_REP_ZONE),o=r&&r.lines.atIndex(t.selStart[0]),i=o&&o.lineNode&&o.lineNode.id,a=new c.a({duration:1e3});i&&(n?a.blingblingWithId(i):a.blingblingWithIdImmediately(i)),a.destroy()}},kDlF:function(e){e.exports=JSON.parse('{"nested":{"profile":{"nested":{"ProfileBrief":{"fields":{"id":{"type":"string","id":1},"name":{"type":"string","id":2},"enName":{"type":"string","id":3},"internationalName":{"keyType":"string","type":"string","id":4}}},"AdminInfo":{"fields":{"isAdmin":{"rule":"required","type":"bool","id":1},"adminUrl":{"type":"string","id":2}}},"UserConfig":{"fields":{"phoneCallAccessible":{"type":"bool","id":1,"options":{"default":true}},"voiceCallAccessible":{"type":"bool","id":2,"options":{"default":true}},"videoCallAccessible":{"type":"bool","id":3,"options":{"default":true}}}},"PullUserProfileRequest":{"fields":{"targetUserId":{"type":"int64","id":1},"contactToken":{"type":"string","id":2}}},"PullUserProfileResponse":{"fields":{"departmentName":{"type":"string","id":1},"tenantName":{"type":"string","id":2},"description":{"type":"string","id":3},"descriptionFlag":{"type":"int32","id":4},"email":{"type":"string","id":5},"leaderProfile":{"type":"ProfileBrief","id":6},"name":{"type":"string","id":7},"malaitaUrl":{"type":"string","id":8},"city":{"type":"string","id":9},"employeeId":{"type":"string","id":10},"enName":{"type":"string","id":11},"isFriend":{"type":"bool","id":12},"requestUserApply":{"type":"bool","id":13},"targetUserApply":{"type":"bool","id":14},"contactToken":{"type":"string","id":15},"contactApplicationId":{"type":"int64","id":16},"applicationReason":{"type":"string","id":17},"targetUserId":{"type":"int64","id":18},"avatarTosKey":{"type":"string","id":19},"isResigned":{"type":"bool","id":20},"enableAddContact":{"type":"bool","id":21},"tenantId":{"type":"string","id":22},"adminInfo":{"type":"AdminInfo","id":23},"alias":{"type":"string","id":24},"userConfig":{"type":"UserConfig","id":25},"i18nInfo":{"type":"I18nInf","id":26},"microappProfileUrl":{"type":"string","id":27}},"nested":{"I18nInf":{"fields":{"internationalName":{"keyType":"string","type":"string","id":1},"i18nDescriptions":{"keyType":"string","type":"string","id":2}}}}},"WorkStatus":{"fields":{"status":{"type":"Status","id":7},"startTime":{"type":"int64","id":8},"endTime":{"type":"int64","id":9},"descriptionTemplates":{"keyType":"string","type":"string","id":10}},"nested":{"Status":{"values":{"UNKNOWN":0,"ON_LEAVE":1,"ON_MEETING":2}}}},"PullWorkStatusRequest":{"fields":{"userIds":{"rule":"repeated","type":"int64","id":1,"options":{"packed":false}}}},"PullWorkStatusResponse":{"fields":{"workStatus":{"keyType":"int64","type":"WorkStatus","id":1}}},"PutContactApplicationRequest":{"fields":{"token":{"type":"string","id":1},"extraMessage":{"type":"string","id":2},"chatId":{"type":"string","id":3},"sender":{"type":"string","id":4},"source":{"type":"ContactSource","id":5},"sourceName":{"type":"string","id":6}},"nested":{"ContactSource":{"values":{"UNKNOWN_SOURCE":0,"LINK":1,"CHAT":2,"CALENDAR":3,"DOCS":4,"VC":5,"EMAIL":6,"NAME_CARD":7}}}},"PutContactApplicationResponse":{"fields":{}},"Command":{"options":{"allow_alias":true},"values":{"PULL_USER_PROFILE":5017,"PULL_WORK_STATUS":5050}},"PayloadType":{"values":{"TYPE_UNKNOWN":0,"PB2":1,"JSON":2}},"Packet":{"fields":{"sid":{"type":"string","id":1},"payloadType":{"rule":"required","type":"PayloadType","id":2,"options":{"default":"PB2"}},"cmd":{"rule":"required","type":"Command","id":3},"status":{"type":"uint32","id":4,"options":{"default":200}},"payload":{"type":"bytes","id":5},"cid":{"type":"string","id":6}}}}}}}')},kVAj:function(e,t,n){"use strict";var r=n("lwsE"),o=n.n(r),i=n("W8MJ"),a=n.n(i),c=n("4O8T"),u=n.n(c),l=n("GGin"),s=n("OX8E"),d=function(){function e(){o()(this,e),this.emit=new u.a,this.halfFullManager=new Map,this.data=[]}return a()(e,[{key:"register",value:function(e){return this.halfFullManager.set(e,!1),this.data}},{key:"unRegister",value:function(e){this.halfFullManager.delete(e)}},{key:"getCommentPositionData",value:function(){return this.data}},{key:"halfFullStartToChange",value:function(e,t){var n=t.map(function(e){var t=e.transformY,n=e.top;return Object.assign({},e,{top:n+t})});if(this.data=n,this.uuid=e,0!==this.halfFullManager.size){s.a.trigger(l.d),this.emit.trigger(l.d,[e,n]);var r=!0,o=!1,i=void 0;try{for(var a,c=this.halfFullManager.keys()[Symbol.iterator]();!(r=(a=c.next()).done);r=!0){var u=a.value;this.halfFullManager.set(u,!1)}}catch(e){o=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}}else this.halfFullAllChanged(e)}},{key:"halfFullAllChanged",value:function(e){this.emit.trigger(l.b,[e])}},{key:"halfFullIsChanged",value:function(e,t){if(this.halfFullManager.has(e)){this.halfFullManager.set(e,t),this.emit.trigger(l.a,[e,t]);var n=!0,r=!0,o=!1,i=void 0;try{for(var a,c=this.halfFullManager.values()[Symbol.iterator]();!(r=(a=c.next()).done);r=!0){var u=a.value;if(!u||u&&u!==this.uuid){n=!1;break}}}catch(e){o=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}n&&this.emit.trigger(l.b,[this.uuid])}}},{key:"onhalfFullIsChanged",value:function(e){this.emit.on(l.c,e)}},{key:"onhalfFullIsAllChanged",value:function(e){this.emit.on(l.b,e)}},{key:"onhalfFullStartToChange",value:function(e){this.emit.on(l.d,e)}},{key:"offhalfFullIsChanged",value:function(e){this.emit.off(l.c,e)}},{key:"offhalfFullIsAllChanged",value:function(e){this.emit.off(l.b,e)}},{key:"offhalfFullStartToChange",value:function(e){this.emit.off(l.d,e)}},{key:"destory",value:function(){this.emit.removeAllListeners(l.c),this.emit.removeAllListeners(l.b),this.emit.removeAllListeners(l.d),this.halfFullManager.clear()}}]),e}();t.a=new d},kbOD:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var d=n("7EGn");function r(e,t){if(!e)return"";var n=e.getRep(),r=n.selStart,o=n.selEnd,i=n.zoneId,a=n.lines.atIndex(r[0]),c=[r[0],r[1]-a.lineMarker],u=n.lines.atIndex(o[0]),l=[o[0],o[1]-u.lineMarker],s=e.getTextAndAttrsOnSelection({selStart:c,selEnd:l,selZone:i});return t&&(s=s.filter(function(e){return!Object(d.default)(e,"attributes.dataMetaBlockProps")})),s.reduce(function(e,t){return e+t.text},"")}},pfvL:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n("Nwst"),o=n("IzLi"),i=n("SebV");function a(t){try{var n=new WeakSet;return JSON.stringify(t,function(e,t){return Object(o.a)(t)?n.has(t)?"[Circular]":(n.add(t),Object(r.a)(t)?t.message:t):t})}catch(e){return Object(i.a)(e),String(t)}}},rhi5:function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"c",function(){return a}),n.d(t,"d",function(){return c}),n.d(t,"b",function(){return u});var r=n("CnBM"),o=n.n(r),i=o()({loader:function(){return Promise.resolve().then(n.bind(null,"hjKP"))},loading:function(){return null}}),a=o()({loader:function(){return Promise.all([n.e("doc_index_css"),n.e("chunk_adit"),n.e("commons--doc_index_delay--jira"),n.e(18),n.e("vendors--jira"),n.e("jira")]).then(n.bind(null,"iX0f"))},loading:function(){return null}}),c=o()({loader:function(){return Promise.all([n.e("doc_index_css"),n.e("chunk_adit"),n.e("commons--doc_index_delay--jira"),n.e(18),n.e("vendors--jira"),n.e("jira")]).then(n.bind(null,"n5Qk"))},loading:function(){return null}}),u=o()({loader:function(){return Promise.all([n.e("doc_index_css"),n.e("chunk_adit"),n.e("commons--doc_index_delay--jira"),n.e(18),n.e("vendors--jira"),n.e("jira")]).then(n.bind(null,"2kJ3"))},loading:function(){return null}})},sFgt:function(e,t,n){"use strict";n("RIqP");var r=n("J4zp"),T=n.n(r),S=(n("vJtL"),n("owWc"),n("Bw5p")),o=n("oTSI"),_=n("7EGn"),i=n("RKCD"),a=(n("Muja"),n("YsUP"),n("OZf9")),h=n("HmyT"),j=n("Mpt7"),L=(n("GGin"),n("iP/4")),c=n("XiKa"),u=n.n(c),P=n("uQON"),I=n("dP4c"),D=n("H6oK"),l=n("U5G9"),R=(n("2RY6"),n("t9fZ"),n("VI6H")),s=n("HIeq"),d=n("i8i4"),f=n.n(d),p=n("lZ5r");n.d(t,"m",function(){return g}),n.d(t,"k",function(){return m}),n.d(t,"c",function(){return b}),n.d(t,"h",function(){return v}),n.d(t,"i",function(){return k}),n.d(t,"f",function(){return y}),n.d(t,"j",function(){return E}),n.d(t,"n",function(){return C}),n.d(t,"a",function(){return O}),n.d(t,"b",function(){return w}),n.d(t,"l",function(){return x}),n.d(t,"d",function(){return N}),n.d(t,"e",function(){return B}),n.d(t,"g",function(){return M});Object(l.b)({module:l.a.COMMENT});function g(e,t,n,r,o){e.undelegate(t,n,o||r),e.delegate(t,n,r,o)}function m(e){return Object(i.a)(e,{evaluate:/\{\{([\s\S]+?)\}\}/g,interpolate:/\{\{=([\s\S]+?)\}\}/g,escape:/\{\{\{([\s\S]+?)\}\}\}/g})}function b(e){return e&&parseInt(e.replace("px",""))}var v=function(e){return/^comment-(id|resolved|deleted)-[0-9]+$/.test(e)},k=function(e){return"".concat(e?e+"-":"","comment")},y=(window.setTimeout,function(e,t,n){var r=t.selStart,o=t.selEnd,i=e.getReps()[n].lines,a=e.selection.getRealFirstLine(n,{selStart:r,selEnd:o}),c=e.selection.getRealEndLine(n,{selStart:r,selEnd:o});if(c<a)return!1;var u=i.atIndex(c),l=a===r[0]?[r[0],r[1]]:[a,0],s=c===o[0]?[o[0],o[1]]:[c,u.text.length],d=Object(_.default)(u,"domInfo.node"),f=d&&d.querySelector(".image-uploaded"),p=Object(h.$)(d).hasClass("single-line");return(f||p)&&(l[1]=i.atIndex(l[0]).lineMarker,s[1]=u.text.length),{selStart:l,selEnd:s,selZone:n}});var E=Object(o.a)(function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",p=[],_=["href","type","token","icon"],t=u()(e.trim(),{allowedTags:["at"],allowedAttributes:{at:_}}),n=document.createElement("div");return n.innerHTML=t,Array.from(n.childNodes).forEach(function(t){if(t){var e,n,r,o,i,a,c,u;if(t.nodeType===Node.TEXT_NODE){var l=t.textContent,s=Object(P.e)(l);if(s.length<=0)return void p.push({type:"text",content:l});var d,f=0;return s.forEach(function(e){var t=e.startIndex,n=e.endIndex,r=e.url,o=l.slice(f,t);o&&p.push({type:"text",content:o}),p.push({type:"link_".concat(r),content:r}),f=n}),void(f<l.length&&(d=l.slice(f),p.push({type:"text",content:d})))}"AT"===t.tagName&&(e=_.map(function(e){return t.getAttribute(e)}),r=(n=T()(e,4))[0],o=n[1],i=n[2],a=n[3],c=t.innerText,u=encodeURIComponent(JSON.stringify({href:r,type:o,token:i,icon:a})),p.push({type:(r?"mentionLink_":"mentionUser_").concat(u),content:c}))}}),p}),C=Object(o.a)(function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},k=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,y=["href","type","token"],n=u()(e.trim(),{allowedTags:["at"],allowedAttributes:{at:y}}),E=t.users||new j.Map,C=document.createElement("div");C.innerHTML=n;var O=Object(s.d)();return Object(a.a)(C.childNodes,function(t){if(t){var e,n,r,o,i,a,c,u,l,s,d,f,p;if(t.nodeType===Node.TEXT_NODE){var _=t.textContent,h=Object(P.e)(_);if(h.length<=0)return;var g,m,b=document.createElement("span"),v=0;return h.forEach(function(e){var t,n=e.startIndex,r=e.endIndex,o=e.url,i=_.slice(v,n);i&&(t=document.createTextNode(i),b.appendChild(t));var a=document.createElement("a");a.setAttribute("href",Object(I.a)(o)),a.setAttribute("target",L.a.mobile?"":"_blank"),a.className="link",a.innerText=o,b.appendChild(a),v=r}),v<_.length&&(g=_.slice(v),m=document.createTextNode(g),b.appendChild(m)),void C.replaceChild(b,t)}"AT"===t.tagName&&(e=y.map(function(e){return t.getAttribute(e)}),r=(n=T()(e,3))[0],o=n[1],i=n[2],a=document.createElement("span"),c=E?Object(j.isImmutable)(E)?E.get(i):E[i]:null,s="",s=k&&c?(u=D.BlockType.AT_USER_BLOCK,l=Object(D.generateBlockDataSet)({blockType:u,creator:Object(D.getBlockCreator)(u,k),props:{data:{mentionNotify:!1,user:Object(S.a)(c,["avatar_url","cn_name","en_name","id","name","type"])}}}),Object(D.generateBlockHTML)(l,"")):(d=t.innerText,c&&(d="@".concat(Object(R.q)(c))),f="mention mention-type_".concat(o," mention-token_").concat(i),r&&(f+=" mention-link_".concat(encodeURIComponent(r))),i===O&&(f+=" at-self-highlight"),a.setAttribute("class",f),a.setAttribute("token",i),(p=document.createElement("a")).setAttribute("href",r&&/[^<>]+bytedance[^<>]+/.test(r)?r:"javascript:void(0)"),p.setAttribute("target",L.a.mobile?"":"_blank"),p.innerText=d,p.outerHTML),a.innerHTML=s,C.replaceChild(a,t))}}),C.innerHTML});function O(e){var t,n=e.getRep(),r=n.selStart,o=n.selEnd;"0"===n.zoneId&&0===r[0]&&0!==o[0]&&(t=n.lines.atIndex(0),e.selection.setWithSelection(n.zoneId,n.selStart,[0,t.width-1],!1))}function w(e,t){return t&&3===t.nodeType&&L.a.modernIE&&11===parseInt(L.a.version)?e.contains(t.parentNode):e.contains(t)}var x=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"#",n=function(e){return e.replace(/[^\r\n\s*]/g,function(){return t})};return Array.isArray(e)?e.map(n):n(e)},N=function(e){if(e){var t=e.cacheNodeResult;return t||(e.cacheNodeResult=f.a.findDOMNode(e),t=e.cacheNodeResult),t}},B=function(e){if(!e)return!1;var t=document.querySelector(".navigation-bar-wrapper"),n=t?t.getBoundingClientRect().height:0;return!(.8*(window.innerHeight-n)<N(e).offsetHeight)},M=function(e){var t=Object.values(e);Object(p.c)(t)}},uGsk:function(e,t,n){"use strict";n.d(t,"b",function(){return D});var r=n("7EGn"),o=n("H6oK"),i=(n("Csto"),n("5gS9")),a=n("xKvl"),c=n("2ACu"),u=n("D7h9"),l=n("wd/R"),s=n.n(l),d=n("qYkn"),f=n("CVSs"),p=n("ZGZ5"),_=n("5cZX"),h=n("JaxG"),g=n("n/R6"),m=n("iP/4"),b=n("kUgE"),v=n("IyQe"),k=n("HIeq"),y=n("OX8E"),E=n("vE74"),C=n("iR+8"),O=n("1dfU"),T=n("hjKP"),S=n("kVAj"),j=n("jzcD"),L=n("rLED"),P={copyTextWithoutPermission:d.a,clearFailedServices:f.clearFailedServices},I={selectCurrentUser:p.a,selectCurrentSuiteOtherPermissions:_.u,selectCanEditInvolvingEditMode:function(e){return!Object(r.default)(Object(j.b)(e),"status.translated",!1)&&Object(_.e)(e)},selectFromMinaConfig:_.A,selectCurrentSuitePermissionInfo:_.w};function D(e){Object(o.setupBlockServices)(Object.assign({},e))}t.a=function(){Object(o.setupBlockServices)({IO:i.b,LogService:{teaLogger:a.b,collectEvent:c.default,collectSuiteEvent:c.collectSuiteEvent},Redux:{store:u.default,actions:P,selectors:I},Events:{getHeartbeatsOption:h.d,halfFullController:S.a},Toast:g.a,Helpers:{browser:m.a,getLanguage:b.getLanguage,getLocale:b.getLocale,getUserPermissions:v.getUserPermissions,moment:s.a},Utils:{createCustomEvent:E.b,getPageToken:k.e,encryptTea:O.a,getMinaBooleanConfig:L.I,getMinaStringConfig:L.N,getMinaNumberConfig:L.M,getMinaConfig:L.J,getBooleanConfigAlwaysTrueInDev:L.d},EventEmitter:y.a,translations:C.a,components:{FileCard:T.default}})}},uXHE:function(e,t,o){"use strict";var n,r=o("RIqP"),a=o.n(r),i=o("lwsE"),u=o.n(i),c=o("W8MJ"),l=o.n(c),s=o("o0o1"),p=o.n(s),d=o("yXPU"),_=o.n(d),f=o("oTSI"),h=o("7EGn"),g=o("lSNA"),m=o.n(g),b=o("EGd1"),v={apiType:b.c.Invoke,params:{},needWrap:!1},k=(n={},m()(n,b.a.GET_DOC_INFO,{apiType:b.c.Invoke}),m()(n,b.a.GET_CONTAINER_RECT,{apiType:b.c.Invoke}),m()(n,b.a.SHOW_TOAST,{apiType:b.c.Invoke,params:{title:{type:"string",required:!0},icon:{type:"string",required:!0},duration:{type:"string",required:!1}}}),m()(n,b.a.ON_CONTAINER_RESIZE,{apiType:b.c.Event}),m()(n,b.a.SHOW_CHOOSE_CONTACT,{apiType:b.c.Invoke,params:{title:{type:"string"},description:{type:"string"},multiSelect:{type:"boolean"},maxSelectedNum:{type:"number"},withExternal:{type:"boolean"},disableList:{type:"array"},ignoreSelf:{type:"boolean"},limitTips:{type:"string"},confirmText:{type:"string"},cancelText:{type:"string"},organizationEnable:{type:"boolean"}}}),m()(n,b.a.SHOW_CHOOSE_CHAT,{apiType:b.c.Invoke,params:{title:{type:"string"},description:{type:"string"},selectType:{type:"string"},multiSelect:{type:"boolean"},maxSelectedNum:{type:"number"},withExternal:{type:"boolean"},disableList:{type:"array"},showAddMessage:{type:"boolean"},ignoreSelf:{type:"boolean"},limitTips:{type:"string"},confirmText:{type:"string"},cancelText:{type:"string"}}}),m()(n,b.a.SHOW_PROFILE,{apiType:b.c.Invoke,params:{userId:{type:"string",required:!0},pageLeft:{type:"number",required:!0},pageTop:{type:"number",required:!0},left:{type:"number",required:!0},top:{type:"number",required:!0},sideOfUnCoverArea:{type:"string",required:!1},unCoverArea:{type:"object",required:!0}}}),m()(n,b.a.HIDE_PROFILE,{apiType:b.c.Invoke,params:{}}),n),y=o("fyN5"),E=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"",r=3<arguments.length?arguments[3]:void 0,o=4<arguments.length&&void 0!==arguments[4]?arguments[4]:{};return Object.assign({errMsg:"".concat(e,":").concat(t).concat(n&&" "+n),data:r},o)};function C(d){var e,t=Object.assign({},v,{},k[d]),f=y.a[d]||y.b;switch(t.apiType){case b.c.Invoke:e=function(){var e=_()(p.a.mark(function e(){var t,n,r,o,i,a,c,u,l,s=arguments;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(e.prev=0,t=s.length,n=new Array(t),r=0;r<t;r++)n[r]=s[r];return e.next=4,f.apply(f,n);case 4:if("function"==typeof(o=e.sent))return e.abrupt("return",o);e.next=9;break;case 9:return i=o.status,a=void 0===i?b.b.Success:i,c=o.info,u=o.data,l=o.extra,e.abrupt("return",E(d,a,c,u,l));case 11:e.next=16;break;case 13:return e.prev=13,e.t0=e.catch(0),e.abrupt("return",E(d,b.b.Fail,e.t0));case 16:case"end":return e.stop()}},e,null,[[0,13]])}));return function(){return e.apply(this,arguments)}}();break;case b.c.Event:e=function(){try{for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return f.apply(f,t)}catch(e){return E(d,b.b.Fail,e)}}}return Object.assign({},t,{handler:e})}function O(){return Object.values(b.a).reduce(function(e,t){return Object.assign({},e,m()({},t,C(t)))},Object.create(null))}var T=o("H6oK"),S=o("kfiP");function j(e,t){return t.hasOwnProperty(e)?t[e]:t.en_us||t.zh_cn||""}var L=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,r=[];return e.getMatchedAttributePositionOnSelection(t,function(e,t){return"dataMetaBlockProps"===e&&/["|']blockType["|']:["|']ISV_BLOCK["|']/.test(t)}).forEach(function(e){var t=e.attrValue,n=Object(T.parseJsonSafely)(t);n&&r.push(n)}),r},P=function(e,t){var n=t.lineNum,r=t.zoneId,o=e.plugins.blockPlugin,i=e.getAttributeOnLine(r,n,T.BLOCK_DATA_META_BLOCK_PROPS),a=i&&Object(T.parseJsonSafely)(i);return a&&o&&a.blockType===T.BlockType.ISV_BLOCK?a:null},I=function(){var e=Object(S.a)(),t=e.blockitdebug,n=e.debugport;return t&&n?{debugMode:t,debugPort:n}:null},D=function(){return!!I()};function R(e){var t={};return e.forEach(function(e){t[e.lang]=e.title}),e?{"zh-CN":j("zh_cn",t),"en-US":j("en_us",t),"ja-JP":j("ja_jp",t)}:{"zh-CN":"","en-US":"","ja-JP":""}}var w=o("jp/M"),x=o("toa8"),N=o("7/sA"),B=o("VI6H"),M=o("f8Ac"),U=o("D7h9"),H=o("jzcD"),F=o("skFV"),z=Object(f.a)(_()(p.a.mark(function e(){var t,n,r;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=3,n=null,r=0;case 3:if(r<t)return e.next=6,Promise.all([o.e("commons--PCDocSheetBridge--bear-bitable-external--bear-external--bear-sheet-external--btn_groups--d--dba25785"),o.e("commons--doc_blockit--hash-tags--publish-to-pano")]).then(o.bind(null,"+0oo"));e.next=12;break;case 6:if(n=e.sent)return e.abrupt("break",12);e.next=9;break;case 9:r+=1,e.next=3;break;case 12:return e.abrupt("return",n?n.default:null);case 13:case"end":return e.stop()}},e)}))),W=new(function(){function e(){var c=this;u()(this,e),this.Blockit=null,this.blockitEnvReady=!1,this.blockList=[],this.ready=!1,this.getShortcutBlockList=Object(f.a)(function(){var t=_()(p.a.mark(function e(t){var n,r,o,i;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],r=L(t),o=new Set,r.forEach(function(e){var t=Object(h.default)(e,"props.data.blockTypeId");t&&o.add(t)}),e.prev=4,e.next=7,Object(x.d)({baseURL:"/",url:w.apiUrls.GET_ISV_BLOCK_INFO,method:"post",data:{block_type_ids:a()(o)},headers:{"Content-Type":"application/json"}});case 7:i=e.sent,n=i.data.menus.map(function(e){return{name:R(e.titles),appName:R(e.titles),icon:e.pc_icon,outlinedIcon:e.block_type_id,filledIcon:e.mobile_icon,blockTypeID:e.block_type_id}}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(4),console.error("fetch list fail");case 14:return e.abrupt("return",n);case 15:case"end":return e.stop()}},e,null,[[4,11]])}));return function(e){return t.apply(this,arguments)}}()),this.getAvailableBlockList=Object(f.a)(_()(p.a.mark(function e(){var t;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.getBlockit();case 2:return t=e.sent,e.next=5,t.getAvailableBlockList();case 5:return c.blockList=e.sent,e.abrupt("return",c.blockList);case 7:case"end":return e.stop()}},e)}))),this.initBlockit=Object(f.a)(_()(p.a.mark(function e(){var t,n,r,o;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(B.c)(),e.next=3,c.getBlockit();case 3:return n=e.sent,r=t.get("id")||Object(h.default)(window,"User.id"),o=O(),N.a&&(window._blockit_api_list_=o),e.next=9,n.init({api:o,config:{userId:r}});case 9:return c.ready=!0,e.abrupt("return",n);case 11:case"end":return e.stop()}},e)}))),this.getBlockInfo=function(t){return c.blockList.find(function(e){return e.blockTypeID===t})},this.setLocale=_()(p.a.mark(function e(){var t,n,r,o,i,a;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(H.b)(U.default.getState()),n=t.config,r=t.status,o=r.translated,e.next=4,c.getBlockit();case 4:i=e.sent,o?(a=Object(M.e)(n.target_lang),i.setEnv({locale:a})):i.setEnv({locale:Object(M.c)()});case 6:case"end":return e.stop()}},e)}))}function t(){return n.apply(this,arguments)}var n;return l()(e,[{key:"setBlockitEnv",value:function(){var e=I();this.Blockit&&!this.blockitEnvReady&&(this.Blockit.setEnv({host:"docs_block",env:Object(F.g)().env,locale:Object(M.c)()}),e&&this.Blockit.setDebugPort(parseInt(e.debugPort,10)),this.blockitEnvReady=!0)}},{key:"getBlockit",value:(n=_()(p.a.mark(function e(){return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.Blockit)return e.abrupt("return",this.Blockit);e.next=2;break;case 2:return e.next=4,z();case 4:if(this.Blockit=e.sent,this.blockitEnvReady)return e.abrupt("return",this.Blockit);e.next=7;break;case 7:return this.setBlockitEnv(),e.abrupt("return",this.Blockit);case 9:case"end":return e.stop()}},e,this)})),t)}]),e}());o.d(t,"b",function(){return L}),o.d(t,"c",function(){return P}),o.d(t,"d",function(){return D});t.a=W},xYHj:function(e,t,n){"use strict";n.d(t,"b",function(){return a}),n.d(t,"a",function(){return c}),n.d(t,"i",function(){return u}),n.d(t,"l",function(){return l}),n.d(t,"m",function(){return s}),n.d(t,"n",function(){return d}),n.d(t,"d",function(){return f}),n.d(t,"q",function(){return p}),n.d(t,"k",function(){return _}),n.d(t,"j",function(){return h}),n.d(t,"p",function(){return g}),n.d(t,"f",function(){return m}),n.d(t,"g",function(){return b}),n.d(t,"h",function(){return v}),n.d(t,"o",function(){return k}),n.d(t,"e",function(){return y}),n.d(t,"c",function(){return E});var i=n("H6oK"),r=n("Poi8"),o=n("zAQS");function a(e,t,n){if(t<0||t>e.lines.length()-1)return!1;var r=e.attributeManager.getAllAttributesOnLine(t);return n.some(function(t){return r.some(function(e){return e[0]===t})})}function c(e,t,n){if(t<0||t>e.lines.length()-1)return!1;var r=e.attributeManager.findAttributeOnLine(t,i.BLOCK_DATA_META_BLOCK_PROPS);if(r){var o=JSON.parse(r);return Array.isArray(n)?n.includes(o.blockType):o.blockType===n}return!1}function u(e,t){return c(e,t,i.BlockType.FILE_CARD_BLOCK)}function l(e,t){return a(e,t,["image-uploaded","gallery"])}function s(e,t){return a(e,t,["image-uploaded","gallery","image-previewer"])}function d(e,t){return a(e,t,["image-previewer"])}function f(e,t){return a(e,t,[i.BLOCK_DATA_META_BLOCK_PROPS])}function p(e,t){return a(e,t,["sheet-id"])||c(e,t,i.BlockType.SHEET_BLOCK)}function _(e,t){return a(e,t,["horizontal-line"])}function h(e,t){return a(e,t,["heading"])}function g(e,t){return a(e,t,["list"])}function m(e,t){var n=e.attributeManager.findAttributeOnLine(t,"list");return n&&["check","done"].some(function(e){return n.startsWith(e)})}function b(e,t){var n=e.attributeManager.findAttributeOnLine(t,"list");return n&&n.startsWith("code")}function v(e,t){return!!Object(r.f)(e.repManager.editor,e.zoneId,t)}function k(e){var t=e.getRep(),n=t.selStart;return n&&!(!v(t,n[0])&&!b(t,n[0]))}function y(e,t){return!!Object(o.h)(e.repManager.editor,e.zoneId,t)}function E(e,t){return a(e,t,["aceTable"])}},zAQS:function(e,t,n){"use strict";n.d(t,"h",function(){return h}),n.d(t,"j",function(){return g}),n.d(t,"f",function(){return m}),n.d(t,"c",function(){return v}),n.d(t,"l",function(){return k}),n.d(t,"m",function(){return y}),n.d(t,"i",function(){return E}),n.d(t,"b",function(){return C}),n.d(t,"g",function(){return O}),n.d(t,"n",function(){return S}),n.d(t,"e",function(){return j}),n.d(t,"k",function(){return L}),n.d(t,"a",function(){return P}),n.d(t,"d",function(){return I});var r=n("lSNA"),a=n.n(r),o=n("J4zp"),c=n.n(o),i=n("vPIQ"),u=n("+4eN"),l=n("kESg"),s=n("ciJ8"),d=n("/mER"),f=n("YWBl"),p=n("EDbJ"),_=n("D28M");function h(e,t,n){var r=Object(u.l)(e,t,n,l.l.CalloutBlock);return r?r.zoneId:""}var g=function(e,t){var n=Object(u.c)(e,t);return!!Object(i.a)(n,function(e){var t=c()(e,2),n=t[0],r=t[1];return n===l.k.ZoneType&&r===l.l.CalloutBlock})};function m(e,t){var n=e.managers.zoneToLineEntry[t];if(!g(e,t)||!n)return null;var r=n.zone,o=e.getRep(r).lines.indexOfEntry(n),i=n.lineMarker;return{start:{line:o,offset:i,zoneId:r},end:{line:o,offset:1+i,zoneId:r}}}function b(){return s.s[Math.floor(Math.random()*s.s.length)]}function v(e,t){var n=10,r=m(e,t);if(!r)return{};for(var o=e.getContentState().getAttributes(r.start,r.end).toMap(),i=0;i<n;i++){var a=s.r[Math.floor(Math.random()*s.r.length)];if(Object.entries(a).some(function(e){var t=c()(e,2),n=t[0],r=t[1];return o[n]!==r}))return a}return{}}function k(i){var a={};return Object.values(s.i).forEach(function(e){var t=i[e];if("string"==typeof t&&0<=t.length&&t.length<50)if(0!==t.length)switch(e){case s.i.TextColor:!C(s.w,t)&&t!==s.l[s.i.TextColor]||(a[e]=t);break;case s.i.BackgroundColor:C(s.a,t)&&(a[e]=t);break;case s.i.BorderColor:var n=O(i[s.i.BackgroundColor]),r=T(s.i.BorderColor,t),o=r&&n.get(r);o&&(a[e]=o);break;default:a[e]=t}else a[e]=t}),a}function y(e){var t;Object(d.c)(k(Object.assign((t={},a()(t,s.i.TextColor,""),a()(t,s.i.BorderColor,""),a()(t,s.i.BackgroundColor,""),t),e)))}function E(){var e=Object.assign({},s.l,a()({},s.i.EmojiId,b()));return Object.assign({},e,{},k(Object(d.b)()))}function C(e,n){var t=Array.from(e).find(function(e){var t=c()(e,2);t[0];return t[1]===n});return t?t[0]:null}function O(e){return e&&C(s.n,e)?s.o:e&&C(s.j,e)?s.k:s.q}function T(e,t){switch(e){case s.i.TextColor:return C(s.w,t);case s.i.BorderColor:return C(s.q,t)||C(s.k,t)||C(s.o,t);case s.i.BackgroundColor:return C(s.a,t)}return null}function S(e){if(1<arguments.length&&void 0!==arguments[1]&&arguments[1]){var t=C(s.a,e);return t?s.p.get(t):void 0}var n=C(s.p,e);return n?s.a.get(n):void 0}function j(e,t){var n=m(e,t);if(!n)return null;var r=e.getContentState().getZoneState(n.start.zoneId).getLine(n.start.line);if(!r)return null;var o=r.getAttributes(0,r.length()-1).toMap(),i={};return a()(i,s.i.BackgroundColor,o[s.i.BackgroundColor]),a()(i,s.i.BorderColor,o[s.i.BorderColor]),a()(i,s.i.TextColor,o[s.i.TextColor]),a()(i,s.i.EmojiId,o[s.i.EmojiId]),i}function L(e){return!(!e.insert||!e.attributes||e.attributes[l.k.ZoneType]!==l.l.CalloutBlock)}function P(a,e){1===Object.keys(e).length&&Object.entries(e).forEach(function(e){var t=c()(e,2),n=t[0],r=t[1];if(r)switch(n){case s.i.TextColor:case s.i.BorderColor:case s.i.BackgroundColor:var o=T(n,r),i=T(n,a[n]);o&&o===i?Object(f.a)({action:"".concat(s.b[n],"_reset"),extraParams:{color_callout:i}}):o&&Object(f.a)({action:s.b[n],extraParams:{color_callout:o}});break;case s.i.EmojiId:Object(f.a)({action:s.b[n],extraParams:{emoji_callout:r}})}})}function I(e){if(!Object(_.f)(e,s.h.CONTAINER))return null;var t={},n=e.dataset.emojiId;n&&(t[s.i.EmojiId]=n);var r,o,i,a,c,u=e.querySelector(".".concat(s.h.CALLOUT));return u instanceof HTMLDivElement&&(r=u.style,i=(o=[Object(p.a)(r.color),Object(p.a)(r.borderColor),Object(p.a)(r.backgroundColor)])[0],a=o[1],c=o[2],i&&(t[s.i.TextColor]=i),a&&(t[s.i.BorderColor]=a),c&&(t[s.i.BackgroundColor]=c)),k(t)}},zLIr:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n("TJya"),a=n("BvmV"),c=n("b6Rs");function u(e){var t="/im/gateway/",n=Object(r.a)();return Object(a.c)({url:t,headers:{"X-Request-Id":n["X-Request-Id"],"x-command":e.data.cmd,locale:e.data.locale},data:e.data})}function o(i){return new Promise(function(t,n){try{var e=Object(a.b)(c),r=new e("chats.PutChatRequest"),o=new e("chats.PutChatResponse");u({data:{payloadType:1,cmd:13,payload:r.encode({type:1,userIds:[i]})}}).then(function(e){e.payload.length?t(o.decode(e.payload)):n(new Error("Lark IM gateway return no content"))}).catch(function(e){n("get chat id fail ".concat(e))})}catch(e){n("get chat id fail ".concat(e))}})}}}]);
//# sourceMappingURL=0.dba03ac62a712ca597d8.js.map